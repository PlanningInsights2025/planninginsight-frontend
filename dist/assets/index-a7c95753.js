var oK=Object.defineProperty;var lK=(n,e,t)=>e in n?oK(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var wt=(n,e,t)=>(lK(n,typeof e!="symbol"?e+"":e,t),t),EC=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)};var S=(n,e,t)=>(EC(n,e,"read from private field"),t?t.call(n):e.get(n)),ne=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)},se=(n,e,t,i)=>(EC(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t);var is=(n,e,t,i)=>({set _(r){se(n,e,r,t)},get _(){return S(n,e,i)}}),ye=(n,e,t)=>(EC(n,e,"access private method"),t);function cK(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var nr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var uz={exports:{}},jE={},hz={exports:{}},En={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uS=Symbol.for("react.element"),dK=Symbol.for("react.portal"),uK=Symbol.for("react.fragment"),hK=Symbol.for("react.strict_mode"),fK=Symbol.for("react.profiler"),pK=Symbol.for("react.provider"),mK=Symbol.for("react.context"),gK=Symbol.for("react.forward_ref"),yK=Symbol.for("react.suspense"),vK=Symbol.for("react.memo"),bK=Symbol.for("react.lazy"),r7=Symbol.iterator;function wK(n){return n===null||typeof n!="object"?null:(n=r7&&n[r7]||n["@@iterator"],typeof n=="function"?n:null)}var fz={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pz=Object.assign,mz={};function Bb(n,e,t){this.props=n,this.context=e,this.refs=mz,this.updater=t||fz}Bb.prototype.isReactComponent={};Bb.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Bb.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function gz(){}gz.prototype=Bb.prototype;function qI(n,e,t){this.props=n,this.context=e,this.refs=mz,this.updater=t||fz}var HI=qI.prototype=new gz;HI.constructor=qI;pz(HI,Bb.prototype);HI.isPureReactComponent=!0;var s7=Array.isArray,yz=Object.prototype.hasOwnProperty,VI={current:null},vz={key:!0,ref:!0,__self:!0,__source:!0};function bz(n,e,t){var i,r={},s=null,a=null;if(e!=null)for(i in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)yz.call(e,i)&&!vz.hasOwnProperty(i)&&(r[i]=e[i]);var o=arguments.length-2;if(o===1)r.children=t;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];r.children=c}if(n&&n.defaultProps)for(i in o=n.defaultProps,o)r[i]===void 0&&(r[i]=o[i]);return{$$typeof:uS,type:n,key:s,ref:a,props:r,_owner:VI.current}}function xK(n,e){return{$$typeof:uS,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function GI(n){return typeof n=="object"&&n!==null&&n.$$typeof===uS}function _K(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var a7=/\/+/g;function TC(n,e){return typeof n=="object"&&n!==null&&n.key!=null?_K(""+n.key):e.toString(36)}function aA(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case uS:case dK:a=!0}}if(a)return a=n,r=r(a),n=i===""?"."+TC(a,0):i,s7(r)?(t="",n!=null&&(t=n.replace(a7,"$&/")+"/"),aA(r,e,t,"",function(d){return d})):r!=null&&(GI(r)&&(r=xK(r,t+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(a7,"$&/")+"/")+n)),e.push(r)),1;if(a=0,i=i===""?".":i+":",s7(n))for(var o=0;o<n.length;o++){s=n[o];var c=i+TC(s,o);a+=aA(s,e,t,c,r)}else if(c=wK(n),typeof c=="function")for(n=c.call(n),o=0;!(s=n.next()).done;)s=s.value,c=i+TC(s,o++),a+=aA(s,e,t,c,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function cN(n,e,t){if(n==null)return n;var i=[],r=0;return aA(n,i,"","",function(s){return e.call(t,s,r++)}),i}function SK(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Va={current:null},oA={transition:null},NK={ReactCurrentDispatcher:Va,ReactCurrentBatchConfig:oA,ReactCurrentOwner:VI};function wz(){throw Error("act(...) is not supported in production builds of React.")}En.Children={map:cN,forEach:function(n,e,t){cN(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return cN(n,function(){e++}),e},toArray:function(n){return cN(n,function(e){return e})||[]},only:function(n){if(!GI(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};En.Component=Bb;En.Fragment=uK;En.Profiler=fK;En.PureComponent=qI;En.StrictMode=hK;En.Suspense=yK;En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NK;En.act=wz;En.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=pz({},n.props),r=n.key,s=n.ref,a=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=VI.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var o=n.type.defaultProps;for(c in e)yz.call(e,c)&&!vz.hasOwnProperty(c)&&(i[c]=e[c]===void 0&&o!==void 0?o[c]:e[c])}var c=arguments.length-2;if(c===1)i.children=t;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];i.children=o}return{$$typeof:uS,type:n.type,key:r,ref:s,props:i,_owner:a}};En.createContext=function(n){return n={$$typeof:mK,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:pK,_context:n},n.Consumer=n};En.createElement=bz;En.createFactory=function(n){var e=bz.bind(null,n);return e.type=n,e};En.createRef=function(){return{current:null}};En.forwardRef=function(n){return{$$typeof:gK,render:n}};En.isValidElement=GI;En.lazy=function(n){return{$$typeof:bK,_payload:{_status:-1,_result:n},_init:SK}};En.memo=function(n,e){return{$$typeof:vK,type:n,compare:e===void 0?null:e}};En.startTransition=function(n){var e=oA.transition;oA.transition={};try{n()}finally{oA.transition=e}};En.unstable_act=wz;En.useCallback=function(n,e){return Va.current.useCallback(n,e)};En.useContext=function(n){return Va.current.useContext(n)};En.useDebugValue=function(){};En.useDeferredValue=function(n){return Va.current.useDeferredValue(n)};En.useEffect=function(n,e){return Va.current.useEffect(n,e)};En.useId=function(){return Va.current.useId()};En.useImperativeHandle=function(n,e,t){return Va.current.useImperativeHandle(n,e,t)};En.useInsertionEffect=function(n,e){return Va.current.useInsertionEffect(n,e)};En.useLayoutEffect=function(n,e){return Va.current.useLayoutEffect(n,e)};En.useMemo=function(n,e){return Va.current.useMemo(n,e)};En.useReducer=function(n,e,t){return Va.current.useReducer(n,e,t)};En.useRef=function(n){return Va.current.useRef(n)};En.useState=function(n){return Va.current.useState(n)};En.useSyncExternalStore=function(n,e,t){return Va.current.useSyncExternalStore(n,e,t)};En.useTransition=function(){return Va.current.useTransition()};En.version="18.3.1";hz.exports=En;var ie=hz.exports;const XI=zE(ie),fD=cK({__proto__:null,default:XI},[ie]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AK=ie,kK=Symbol.for("react.element"),EK=Symbol.for("react.fragment"),TK=Object.prototype.hasOwnProperty,CK=AK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,DK={key:!0,ref:!0,__self:!0,__source:!0};function xz(n,e,t){var i,r={},s=null,a=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(i in e)TK.call(e,i)&&!DK.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:kK,type:n,key:s,ref:a,props:r,_owner:CK.current}}jE.Fragment=EK;jE.jsx=xz;jE.jsxs=xz;uz.exports=jE;var YI=uz.exports;const Ft=YI.Fragment,l=YI.jsx,g=YI.jsxs;var pD={},_z={exports:{}},wl={},Sz={exports:{}},Nz={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(G,B){var J=G.length;G.push(B);e:for(;0<J;){var W=J-1>>>1,L=G[W];if(0<r(L,B))G[W]=B,G[J]=L,J=W;else break e}}function t(G){return G.length===0?null:G[0]}function i(G){if(G.length===0)return null;var B=G[0],J=G.pop();if(J!==B){G[0]=J;e:for(var W=0,L=G.length,z=L>>>1;W<z;){var X=2*(W+1)-1,Q=G[X],V=X+1,Z=G[V];if(0>r(Q,J))V<L&&0>r(Z,Q)?(G[W]=Z,G[V]=J,W=V):(G[W]=Q,G[X]=J,W=X);else if(V<L&&0>r(Z,J))G[W]=Z,G[V]=J,W=V;else break e}}return B}function r(G,B){var J=G.sortIndex-B.sortIndex;return J!==0?J:G.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var c=[],d=[],u=1,f=null,h=3,p=!1,v=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(G){for(var B=t(d);B!==null;){if(B.callback===null)i(d);else if(B.startTime<=G)i(d),B.sortIndex=B.expirationTime,e(c,B);else break;B=t(d)}}function x(G){if(w=!1,_(G),!v)if(t(c)!==null)v=!0,Y(N);else{var B=t(d);B!==null&&q(x,B.startTime-G)}}function N(G,B){v=!1,w&&(w=!1,m(C),C=-1),p=!0;var J=h;try{for(_(B),f=t(c);f!==null&&(!(f.expirationTime>B)||G&&!E());){var W=f.callback;if(typeof W=="function"){f.callback=null,h=f.priorityLevel;var L=W(f.expirationTime<=B);B=n.unstable_now(),typeof L=="function"?f.callback=L:f===t(c)&&i(c),_(B)}else i(c);f=t(c)}if(f!==null)var z=!0;else{var X=t(d);X!==null&&q(x,X.startTime-B),z=!1}return z}finally{f=null,h=J,p=!1}}var k=!1,T=null,C=-1,P=5,D=-1;function E(){return!(n.unstable_now()-D<P)}function A(){if(T!==null){var G=n.unstable_now();D=G;var B=!0;try{B=T(!0,G)}finally{B?I():(k=!1,T=null)}}else k=!1}var I;if(typeof y=="function")I=function(){y(A)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,M=R.port2;R.port1.onmessage=A,I=function(){M.postMessage(null)}}else I=function(){b(A,0)};function Y(G){T=G,k||(k=!0,I())}function q(G,B){C=b(function(){G(n.unstable_now())},B)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(G){G.callback=null},n.unstable_continueExecution=function(){v||p||(v=!0,Y(N))},n.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<G?Math.floor(1e3/G):5},n.unstable_getCurrentPriorityLevel=function(){return h},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(G){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var J=h;h=B;try{return G()}finally{h=J}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(G,B){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var J=h;h=G;try{return B()}finally{h=J}},n.unstable_scheduleCallback=function(G,B,J){var W=n.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?W+J:W):J=W,G){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=J+L,G={id:u++,callback:B,priorityLevel:G,startTime:J,expirationTime:L,sortIndex:-1},J>W?(G.sortIndex=J,e(d,G),t(c)===null&&G===t(d)&&(w?(m(C),C=-1):w=!0,q(x,J-W))):(G.sortIndex=L,e(c,G),v||p||(v=!0,Y(N))),G},n.unstable_shouldYield=E,n.unstable_wrapCallback=function(G){var B=h;return function(){var J=h;h=B;try{return G.apply(this,arguments)}finally{h=J}}}})(Nz);Sz.exports=Nz;var PK=Sz.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IK=ie,vl=PK;function Ot(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Az=new Set,jw={};function t0(n,e){xb(n,e),xb(n+"Capture",e)}function xb(n,e){for(jw[n]=e,n=0;n<e.length;n++)Az.add(e[n])}var Gh=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mD=Object.prototype.hasOwnProperty,RK=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,o7={},l7={};function LK(n){return mD.call(l7,n)?!0:mD.call(o7,n)?!1:RK.test(n)?l7[n]=!0:(o7[n]=!0,!1)}function OK(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function FK(n,e,t,i){if(e===null||typeof e>"u"||OK(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ga(n,e,t,i,r,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var ra={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){ra[n]=new Ga(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];ra[e]=new Ga(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){ra[n]=new Ga(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){ra[n]=new Ga(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){ra[n]=new Ga(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){ra[n]=new Ga(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){ra[n]=new Ga(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){ra[n]=new Ga(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){ra[n]=new Ga(n,5,!1,n.toLowerCase(),null,!1,!1)});var KI=/[\-:]([a-z])/g;function JI(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(KI,JI);ra[e]=new Ga(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(KI,JI);ra[e]=new Ga(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(KI,JI);ra[e]=new Ga(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){ra[n]=new Ga(n,1,!1,n.toLowerCase(),null,!1,!1)});ra.xlinkHref=new Ga("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){ra[n]=new Ga(n,1,!1,n.toLowerCase(),null,!0,!0)});function ZI(n,e,t,i){var r=ra.hasOwnProperty(e)?ra[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(FK(e,t,r,i)&&(t=null),i||r===null?LK(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var rf=IK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dN=Symbol.for("react.element"),R0=Symbol.for("react.portal"),L0=Symbol.for("react.fragment"),QI=Symbol.for("react.strict_mode"),gD=Symbol.for("react.profiler"),kz=Symbol.for("react.provider"),Ez=Symbol.for("react.context"),eR=Symbol.for("react.forward_ref"),yD=Symbol.for("react.suspense"),vD=Symbol.for("react.suspense_list"),tR=Symbol.for("react.memo"),Cf=Symbol.for("react.lazy"),Tz=Symbol.for("react.offscreen"),c7=Symbol.iterator;function y2(n){return n===null||typeof n!="object"?null:(n=c7&&n[c7]||n["@@iterator"],typeof n=="function"?n:null)}var ar=Object.assign,CC;function $2(n){if(CC===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);CC=e&&e[1]||""}return`
`+CC+n}var DC=!1;function PC(n,e){if(!n||DC)return"";DC=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var i=d}Reflect.construct(n,[],e)}else{try{e.call()}catch(d){i=d}n.call(e.prototype)}else{try{throw Error()}catch(d){i=d}n()}}catch(d){if(d&&i&&typeof d.stack=="string"){for(var r=d.stack.split(`
`),s=i.stack.split(`
`),a=r.length-1,o=s.length-1;1<=a&&0<=o&&r[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(r[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||r[a]!==s[o]){var c=`
`+r[a].replace(" at new "," at ");return n.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",n.displayName)),c}while(1<=a&&0<=o);break}}}finally{DC=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?$2(n):""}function UK(n){switch(n.tag){case 5:return $2(n.type);case 16:return $2("Lazy");case 13:return $2("Suspense");case 19:return $2("SuspenseList");case 0:case 2:case 15:return n=PC(n.type,!1),n;case 11:return n=PC(n.type.render,!1),n;case 1:return n=PC(n.type,!0),n;default:return""}}function bD(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case L0:return"Fragment";case R0:return"Portal";case gD:return"Profiler";case QI:return"StrictMode";case yD:return"Suspense";case vD:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Ez:return(n.displayName||"Context")+".Consumer";case kz:return(n._context.displayName||"Context")+".Provider";case eR:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case tR:return e=n.displayName||null,e!==null?e:bD(n.type)||"Memo";case Cf:e=n._payload,n=n._init;try{return bD(n(e))}catch{}}return null}function MK(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return bD(e);case 8:return e===QI?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function tm(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Cz(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function BK(n){var e=Cz(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,s.call(this,a)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function uN(n){n._valueTracker||(n._valueTracker=BK(n))}function Dz(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=Cz(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function Ek(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function wD(n,e){var t=e.checked;return ar({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function d7(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=tm(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Pz(n,e){e=e.checked,e!=null&&ZI(n,"checked",e,!1)}function xD(n,e){Pz(n,e);var t=tm(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?_D(n,e.type,t):e.hasOwnProperty("defaultValue")&&_D(n,e.type,tm(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function u7(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function _D(n,e,t){(e!=="number"||Ek(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var q2=Array.isArray;function Z0(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+tm(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function SD(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ot(91));return ar({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function h7(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Ot(92));if(q2(t)){if(1<t.length)throw Error(Ot(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:tm(t)}}function Iz(n,e){var t=tm(e.value),i=tm(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function f7(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function Rz(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ND(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?Rz(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var hN,Lz=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(hN=hN||document.createElement("div"),hN.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=hN.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Ww(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var xw={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zK=["Webkit","ms","Moz","O"];Object.keys(xw).forEach(function(n){zK.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),xw[e]=xw[n]})});function Oz(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||xw.hasOwnProperty(n)&&xw[n]?(""+e).trim():e+"px"}function Fz(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=Oz(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var jK=ar({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function AD(n,e){if(e){if(jK[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ot(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ot(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ot(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ot(62))}}function kD(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ED=null;function nR(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var TD=null,Q0=null,ey=null;function p7(n){if(n=pS(n)){if(typeof TD!="function")throw Error(Ot(280));var e=n.stateNode;e&&(e=VE(e),TD(n.stateNode,n.type,e))}}function Uz(n){Q0?ey?ey.push(n):ey=[n]:Q0=n}function Mz(){if(Q0){var n=Q0,e=ey;if(ey=Q0=null,p7(n),e)for(n=0;n<e.length;n++)p7(e[n])}}function Bz(n,e){return n(e)}function zz(){}var IC=!1;function jz(n,e,t){if(IC)return n(e,t);IC=!0;try{return Bz(n,e,t)}finally{IC=!1,(Q0!==null||ey!==null)&&(zz(),Mz())}}function $w(n,e){var t=n.stateNode;if(t===null)return null;var i=VE(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Ot(231,e,typeof t));return t}var CD=!1;if(Gh)try{var v2={};Object.defineProperty(v2,"passive",{get:function(){CD=!0}}),window.addEventListener("test",v2,v2),window.removeEventListener("test",v2,v2)}catch{CD=!1}function WK(n,e,t,i,r,s,a,o,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(t,d)}catch(u){this.onError(u)}}var _w=!1,Tk=null,Ck=!1,DD=null,$K={onError:function(n){_w=!0,Tk=n}};function qK(n,e,t,i,r,s,a,o,c){_w=!1,Tk=null,WK.apply($K,arguments)}function HK(n,e,t,i,r,s,a,o,c){if(qK.apply(this,arguments),_w){if(_w){var d=Tk;_w=!1,Tk=null}else throw Error(Ot(198));Ck||(Ck=!0,DD=d)}}function n0(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function Wz(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function m7(n){if(n0(n)!==n)throw Error(Ot(188))}function VK(n){var e=n.alternate;if(!e){if(e=n0(n),e===null)throw Error(Ot(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return m7(r),n;if(s===i)return m7(r),e;s=s.sibling}throw Error(Ot(188))}if(t.return!==i.return)t=r,i=s;else{for(var a=!1,o=r.child;o;){if(o===t){a=!0,t=r,i=s;break}if(o===i){a=!0,i=r,t=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===t){a=!0,t=s,i=r;break}if(o===i){a=!0,i=s,t=r;break}o=o.sibling}if(!a)throw Error(Ot(189))}}if(t.alternate!==i)throw Error(Ot(190))}if(t.tag!==3)throw Error(Ot(188));return t.stateNode.current===t?n:e}function $z(n){return n=VK(n),n!==null?qz(n):null}function qz(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=qz(n);if(e!==null)return e;n=n.sibling}return null}var Hz=vl.unstable_scheduleCallback,g7=vl.unstable_cancelCallback,GK=vl.unstable_shouldYield,XK=vl.unstable_requestPaint,Pr=vl.unstable_now,YK=vl.unstable_getCurrentPriorityLevel,iR=vl.unstable_ImmediatePriority,Vz=vl.unstable_UserBlockingPriority,Dk=vl.unstable_NormalPriority,KK=vl.unstable_LowPriority,Gz=vl.unstable_IdlePriority,WE=null,fu=null;function JK(n){if(fu&&typeof fu.onCommitFiberRoot=="function")try{fu.onCommitFiberRoot(WE,n,void 0,(n.current.flags&128)===128)}catch{}}var Kc=Math.clz32?Math.clz32:eJ,ZK=Math.log,QK=Math.LN2;function eJ(n){return n>>>=0,n===0?32:31-(ZK(n)/QK|0)|0}var fN=64,pN=4194304;function H2(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Pk(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,a=t&268435455;if(a!==0){var o=a&~r;o!==0?i=H2(o):(s&=a,s!==0&&(i=H2(s)))}else a=t&~r,a!==0?i=H2(a):s!==0&&(i=H2(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-Kc(e),r=1<<t,i|=n[t],e&=~r;return i}function tJ(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nJ(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var a=31-Kc(s),o=1<<a,c=r[a];c===-1?(!(o&t)||o&i)&&(r[a]=tJ(o,e)):c<=e&&(n.expiredLanes|=o),s&=~o}}function PD(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Xz(){var n=fN;return fN<<=1,!(fN&4194240)&&(fN=64),n}function RC(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function hS(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Kc(e),n[e]=t}function iJ(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-Kc(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function rR(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-Kc(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var ui=0;function Yz(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Kz,sR,Jz,Zz,Qz,ID=!1,mN=[],zp=null,jp=null,Wp=null,qw=new Map,Hw=new Map,Pf=[],rJ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function y7(n,e){switch(n){case"focusin":case"focusout":zp=null;break;case"dragenter":case"dragleave":jp=null;break;case"mouseover":case"mouseout":Wp=null;break;case"pointerover":case"pointerout":qw.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hw.delete(e.pointerId)}}function b2(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=pS(e),e!==null&&sR(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function sJ(n,e,t,i,r){switch(e){case"focusin":return zp=b2(zp,n,e,t,i,r),!0;case"dragenter":return jp=b2(jp,n,e,t,i,r),!0;case"mouseover":return Wp=b2(Wp,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return qw.set(s,b2(qw.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Hw.set(s,b2(Hw.get(s)||null,n,e,t,i,r)),!0}return!1}function ej(n){var e=Bm(n.target);if(e!==null){var t=n0(e);if(t!==null){if(e=t.tag,e===13){if(e=Wz(t),e!==null){n.blockedOn=e,Qz(n.priority,function(){Jz(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function lA(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=RD(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);ED=i,t.target.dispatchEvent(i),ED=null}else return e=pS(t),e!==null&&sR(e),n.blockedOn=t,!1;e.shift()}return!0}function v7(n,e,t){lA(n)&&t.delete(e)}function aJ(){ID=!1,zp!==null&&lA(zp)&&(zp=null),jp!==null&&lA(jp)&&(jp=null),Wp!==null&&lA(Wp)&&(Wp=null),qw.forEach(v7),Hw.forEach(v7)}function w2(n,e){n.blockedOn===e&&(n.blockedOn=null,ID||(ID=!0,vl.unstable_scheduleCallback(vl.unstable_NormalPriority,aJ)))}function Vw(n){function e(r){return w2(r,n)}if(0<mN.length){w2(mN[0],n);for(var t=1;t<mN.length;t++){var i=mN[t];i.blockedOn===n&&(i.blockedOn=null)}}for(zp!==null&&w2(zp,n),jp!==null&&w2(jp,n),Wp!==null&&w2(Wp,n),qw.forEach(e),Hw.forEach(e),t=0;t<Pf.length;t++)i=Pf[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<Pf.length&&(t=Pf[0],t.blockedOn===null);)ej(t),t.blockedOn===null&&Pf.shift()}var ty=rf.ReactCurrentBatchConfig,Ik=!0;function oJ(n,e,t,i){var r=ui,s=ty.transition;ty.transition=null;try{ui=1,aR(n,e,t,i)}finally{ui=r,ty.transition=s}}function lJ(n,e,t,i){var r=ui,s=ty.transition;ty.transition=null;try{ui=4,aR(n,e,t,i)}finally{ui=r,ty.transition=s}}function aR(n,e,t,i){if(Ik){var r=RD(n,e,t,i);if(r===null)$C(n,e,i,Rk,t),y7(n,i);else if(sJ(r,n,e,t,i))i.stopPropagation();else if(y7(n,i),e&4&&-1<rJ.indexOf(n)){for(;r!==null;){var s=pS(r);if(s!==null&&Kz(s),s=RD(n,e,t,i),s===null&&$C(n,e,i,Rk,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else $C(n,e,i,null,t)}}var Rk=null;function RD(n,e,t,i){if(Rk=null,n=nR(i),n=Bm(n),n!==null)if(e=n0(n),e===null)n=null;else if(t=e.tag,t===13){if(n=Wz(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Rk=n,null}function tj(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(YK()){case iR:return 1;case Vz:return 4;case Dk:case KK:return 16;case Gz:return 536870912;default:return 16}default:return 16}}var Op=null,oR=null,cA=null;function nj(){if(cA)return cA;var n,e=oR,t=e.length,i,r="value"in Op?Op.value:Op.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var a=t-n;for(i=1;i<=a&&e[t-i]===r[s-i];i++);return cA=r.slice(n,1<i?1-i:void 0)}function dA(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function gN(){return!0}function b7(){return!1}function xl(n){function e(t,i,r,s,a){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in n)n.hasOwnProperty(o)&&(t=n[o],this[o]=t?t(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?gN:b7,this.isPropagationStopped=b7,this}return ar(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=gN)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=gN)},persist:function(){},isPersistent:gN}),e}var zb={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lR=xl(zb),fS=ar({},zb,{view:0,detail:0}),cJ=xl(fS),LC,OC,x2,$E=ar({},fS,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cR,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==x2&&(x2&&n.type==="mousemove"?(LC=n.screenX-x2.screenX,OC=n.screenY-x2.screenY):OC=LC=0,x2=n),LC)},movementY:function(n){return"movementY"in n?n.movementY:OC}}),w7=xl($E),dJ=ar({},$E,{dataTransfer:0}),uJ=xl(dJ),hJ=ar({},fS,{relatedTarget:0}),FC=xl(hJ),fJ=ar({},zb,{animationName:0,elapsedTime:0,pseudoElement:0}),pJ=xl(fJ),mJ=ar({},zb,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),gJ=xl(mJ),yJ=ar({},zb,{data:0}),x7=xl(yJ),vJ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bJ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wJ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xJ(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=wJ[n])?!!e[n]:!1}function cR(){return xJ}var _J=ar({},fS,{key:function(n){if(n.key){var e=vJ[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=dA(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?bJ[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cR,charCode:function(n){return n.type==="keypress"?dA(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?dA(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),SJ=xl(_J),NJ=ar({},$E,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_7=xl(NJ),AJ=ar({},fS,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cR}),kJ=xl(AJ),EJ=ar({},zb,{propertyName:0,elapsedTime:0,pseudoElement:0}),TJ=xl(EJ),CJ=ar({},$E,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),DJ=xl(CJ),PJ=[9,13,27,32],dR=Gh&&"CompositionEvent"in window,Sw=null;Gh&&"documentMode"in document&&(Sw=document.documentMode);var IJ=Gh&&"TextEvent"in window&&!Sw,ij=Gh&&(!dR||Sw&&8<Sw&&11>=Sw),S7=String.fromCharCode(32),N7=!1;function rj(n,e){switch(n){case"keyup":return PJ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sj(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var O0=!1;function RJ(n,e){switch(n){case"compositionend":return sj(e);case"keypress":return e.which!==32?null:(N7=!0,S7);case"textInput":return n=e.data,n===S7&&N7?null:n;default:return null}}function LJ(n,e){if(O0)return n==="compositionend"||!dR&&rj(n,e)?(n=nj(),cA=oR=Op=null,O0=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ij&&e.locale!=="ko"?null:e.data;default:return null}}var OJ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function A7(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!OJ[n.type]:e==="textarea"}function aj(n,e,t,i){Uz(i),e=Lk(e,"onChange"),0<e.length&&(t=new lR("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var Nw=null,Gw=null;function FJ(n){yj(n,0)}function qE(n){var e=M0(n);if(Dz(e))return n}function UJ(n,e){if(n==="change")return e}var oj=!1;if(Gh){var UC;if(Gh){var MC="oninput"in document;if(!MC){var k7=document.createElement("div");k7.setAttribute("oninput","return;"),MC=typeof k7.oninput=="function"}UC=MC}else UC=!1;oj=UC&&(!document.documentMode||9<document.documentMode)}function E7(){Nw&&(Nw.detachEvent("onpropertychange",lj),Gw=Nw=null)}function lj(n){if(n.propertyName==="value"&&qE(Gw)){var e=[];aj(e,Gw,n,nR(n)),jz(FJ,e)}}function MJ(n,e,t){n==="focusin"?(E7(),Nw=e,Gw=t,Nw.attachEvent("onpropertychange",lj)):n==="focusout"&&E7()}function BJ(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return qE(Gw)}function zJ(n,e){if(n==="click")return qE(e)}function jJ(n,e){if(n==="input"||n==="change")return qE(e)}function WJ(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var ed=typeof Object.is=="function"?Object.is:WJ;function Xw(n,e){if(ed(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!mD.call(e,r)||!ed(n[r],e[r]))return!1}return!0}function T7(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function C7(n,e){var t=T7(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=T7(t)}}function cj(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?cj(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function dj(){for(var n=window,e=Ek();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Ek(n.document)}return e}function uR(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function $J(n){var e=dj(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&cj(t.ownerDocument.documentElement,t)){if(i!==null&&uR(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=C7(t,s);var a=C7(t,i);r&&a&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var qJ=Gh&&"documentMode"in document&&11>=document.documentMode,F0=null,LD=null,Aw=null,OD=!1;function D7(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;OD||F0==null||F0!==Ek(i)||(i=F0,"selectionStart"in i&&uR(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Aw&&Xw(Aw,i)||(Aw=i,i=Lk(LD,"onSelect"),0<i.length&&(e=new lR("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=F0)))}function yN(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var U0={animationend:yN("Animation","AnimationEnd"),animationiteration:yN("Animation","AnimationIteration"),animationstart:yN("Animation","AnimationStart"),transitionend:yN("Transition","TransitionEnd")},BC={},uj={};Gh&&(uj=document.createElement("div").style,"AnimationEvent"in window||(delete U0.animationend.animation,delete U0.animationiteration.animation,delete U0.animationstart.animation),"TransitionEvent"in window||delete U0.transitionend.transition);function HE(n){if(BC[n])return BC[n];if(!U0[n])return n;var e=U0[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in uj)return BC[n]=e[t];return n}var hj=HE("animationend"),fj=HE("animationiteration"),pj=HE("animationstart"),mj=HE("transitionend"),gj=new Map,P7="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dm(n,e){gj.set(n,e),t0(e,[n])}for(var zC=0;zC<P7.length;zC++){var jC=P7[zC],HJ=jC.toLowerCase(),VJ=jC[0].toUpperCase()+jC.slice(1);dm(HJ,"on"+VJ)}dm(hj,"onAnimationEnd");dm(fj,"onAnimationIteration");dm(pj,"onAnimationStart");dm("dblclick","onDoubleClick");dm("focusin","onFocus");dm("focusout","onBlur");dm(mj,"onTransitionEnd");xb("onMouseEnter",["mouseout","mouseover"]);xb("onMouseLeave",["mouseout","mouseover"]);xb("onPointerEnter",["pointerout","pointerover"]);xb("onPointerLeave",["pointerout","pointerover"]);t0("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));t0("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));t0("onBeforeInput",["compositionend","keypress","textInput","paste"]);t0("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));t0("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));t0("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var V2="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GJ=new Set("cancel close invalid load scroll toggle".split(" ").concat(V2));function I7(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,HK(i,e,void 0,n),n.currentTarget=null}function yj(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var a=i.length-1;0<=a;a--){var o=i[a],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==s&&r.isPropagationStopped())break e;I7(r,o,d),s=c}else for(a=0;a<i.length;a++){if(o=i[a],c=o.instance,d=o.currentTarget,o=o.listener,c!==s&&r.isPropagationStopped())break e;I7(r,o,d),s=c}}}if(Ck)throw n=DD,Ck=!1,DD=null,n}function Wi(n,e){var t=e[zD];t===void 0&&(t=e[zD]=new Set);var i=n+"__bubble";t.has(i)||(vj(e,n,2,!1),t.add(i))}function WC(n,e,t){var i=0;e&&(i|=4),vj(t,n,i,e)}var vN="_reactListening"+Math.random().toString(36).slice(2);function Yw(n){if(!n[vN]){n[vN]=!0,Az.forEach(function(t){t!=="selectionchange"&&(GJ.has(t)||WC(t,!1,n),WC(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[vN]||(e[vN]=!0,WC("selectionchange",!1,e))}}function vj(n,e,t,i){switch(tj(e)){case 1:var r=oJ;break;case 4:r=lJ;break;default:r=aR}t=r.bind(null,e,t,n),r=void 0,!CD||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function $C(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var o=i.stateNode.containerInfo;if(o===r||o.nodeType===8&&o.parentNode===r)break;if(a===4)for(a=i.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;a=a.return}for(;o!==null;){if(a=Bm(o),a===null)return;if(c=a.tag,c===5||c===6){i=s=a;continue e}o=o.parentNode}}i=i.return}jz(function(){var d=s,u=nR(t),f=[];e:{var h=gj.get(n);if(h!==void 0){var p=lR,v=n;switch(n){case"keypress":if(dA(t)===0)break e;case"keydown":case"keyup":p=SJ;break;case"focusin":v="focus",p=FC;break;case"focusout":v="blur",p=FC;break;case"beforeblur":case"afterblur":p=FC;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=w7;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=uJ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=kJ;break;case hj:case fj:case pj:p=pJ;break;case mj:p=TJ;break;case"scroll":p=cJ;break;case"wheel":p=DJ;break;case"copy":case"cut":case"paste":p=gJ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=_7}var w=(e&4)!==0,b=!w&&n==="scroll",m=w?h!==null?h+"Capture":null:h;w=[];for(var y=d,_;y!==null;){_=y;var x=_.stateNode;if(_.tag===5&&x!==null&&(_=x,m!==null&&(x=$w(y,m),x!=null&&w.push(Kw(y,x,_)))),b)break;y=y.return}0<w.length&&(h=new p(h,v,null,t,u),f.push({event:h,listeners:w}))}}if(!(e&7)){e:{if(h=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",h&&t!==ED&&(v=t.relatedTarget||t.fromElement)&&(Bm(v)||v[Xh]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(v=t.relatedTarget||t.toElement,p=d,v=v?Bm(v):null,v!==null&&(b=n0(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=d),p!==v)){if(w=w7,x="onMouseLeave",m="onMouseEnter",y="mouse",(n==="pointerout"||n==="pointerover")&&(w=_7,x="onPointerLeave",m="onPointerEnter",y="pointer"),b=p==null?h:M0(p),_=v==null?h:M0(v),h=new w(x,y+"leave",p,t,u),h.target=b,h.relatedTarget=_,x=null,Bm(u)===d&&(w=new w(m,y+"enter",v,t,u),w.target=_,w.relatedTarget=b,x=w),b=x,p&&v)t:{for(w=p,m=v,y=0,_=w;_;_=h0(_))y++;for(_=0,x=m;x;x=h0(x))_++;for(;0<y-_;)w=h0(w),y--;for(;0<_-y;)m=h0(m),_--;for(;y--;){if(w===m||m!==null&&w===m.alternate)break t;w=h0(w),m=h0(m)}w=null}else w=null;p!==null&&R7(f,h,p,w,!1),v!==null&&b!==null&&R7(f,b,v,w,!0)}}e:{if(h=d?M0(d):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var N=UJ;else if(A7(h))if(oj)N=jJ;else{N=BJ;var k=MJ}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=zJ);if(N&&(N=N(n,d))){aj(f,N,t,u);break e}k&&k(n,h,d),n==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&_D(h,"number",h.value)}switch(k=d?M0(d):window,n){case"focusin":(A7(k)||k.contentEditable==="true")&&(F0=k,LD=d,Aw=null);break;case"focusout":Aw=LD=F0=null;break;case"mousedown":OD=!0;break;case"contextmenu":case"mouseup":case"dragend":OD=!1,D7(f,t,u);break;case"selectionchange":if(qJ)break;case"keydown":case"keyup":D7(f,t,u)}var T;if(dR)e:{switch(n){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else O0?rj(n,t)&&(C="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(C="onCompositionStart");C&&(ij&&t.locale!=="ko"&&(O0||C!=="onCompositionStart"?C==="onCompositionEnd"&&O0&&(T=nj()):(Op=u,oR="value"in Op?Op.value:Op.textContent,O0=!0)),k=Lk(d,C),0<k.length&&(C=new x7(C,n,null,t,u),f.push({event:C,listeners:k}),T?C.data=T:(T=sj(t),T!==null&&(C.data=T)))),(T=IJ?RJ(n,t):LJ(n,t))&&(d=Lk(d,"onBeforeInput"),0<d.length&&(u=new x7("onBeforeInput","beforeinput",null,t,u),f.push({event:u,listeners:d}),u.data=T))}yj(f,e)})}function Kw(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Lk(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=$w(n,t),s!=null&&i.unshift(Kw(n,s,r)),s=$w(n,e),s!=null&&i.push(Kw(n,s,r))),n=n.return}return i}function h0(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function R7(n,e,t,i,r){for(var s=e._reactName,a=[];t!==null&&t!==i;){var o=t,c=o.alternate,d=o.stateNode;if(c!==null&&c===i)break;o.tag===5&&d!==null&&(o=d,r?(c=$w(t,s),c!=null&&a.unshift(Kw(t,c,o))):r||(c=$w(t,s),c!=null&&a.push(Kw(t,c,o)))),t=t.return}a.length!==0&&n.push({event:e,listeners:a})}var XJ=/\r\n?/g,YJ=/\u0000|\uFFFD/g;function L7(n){return(typeof n=="string"?n:""+n).replace(XJ,`
`).replace(YJ,"")}function bN(n,e,t){if(e=L7(e),L7(n)!==e&&t)throw Error(Ot(425))}function Ok(){}var FD=null,UD=null;function MD(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var BD=typeof setTimeout=="function"?setTimeout:void 0,KJ=typeof clearTimeout=="function"?clearTimeout:void 0,O7=typeof Promise=="function"?Promise:void 0,JJ=typeof queueMicrotask=="function"?queueMicrotask:typeof O7<"u"?function(n){return O7.resolve(null).then(n).catch(ZJ)}:BD;function ZJ(n){setTimeout(function(){throw n})}function qC(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),Vw(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);Vw(e)}function $p(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function F7(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var jb=Math.random().toString(36).slice(2),ou="__reactFiber$"+jb,Jw="__reactProps$"+jb,Xh="__reactContainer$"+jb,zD="__reactEvents$"+jb,QJ="__reactListeners$"+jb,eZ="__reactHandles$"+jb;function Bm(n){var e=n[ou];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Xh]||t[ou]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=F7(n);n!==null;){if(t=n[ou])return t;n=F7(n)}return e}n=t,t=n.parentNode}return null}function pS(n){return n=n[ou]||n[Xh],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function M0(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Ot(33))}function VE(n){return n[Jw]||null}var jD=[],B0=-1;function um(n){return{current:n}}function Hi(n){0>B0||(n.current=jD[B0],jD[B0]=null,B0--)}function Fi(n,e){B0++,jD[B0]=n.current,n.current=e}var nm={},Na=um(nm),bo=um(!1),O1=nm;function _b(n,e){var t=n.type.contextTypes;if(!t)return nm;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function wo(n){return n=n.childContextTypes,n!=null}function Fk(){Hi(bo),Hi(Na)}function U7(n,e,t){if(Na.current!==nm)throw Error(Ot(168));Fi(Na,e),Fi(bo,t)}function bj(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(Ot(108,MK(n)||"Unknown",r));return ar({},t,i)}function Uk(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||nm,O1=Na.current,Fi(Na,n),Fi(bo,bo.current),!0}function M7(n,e,t){var i=n.stateNode;if(!i)throw Error(Ot(169));t?(n=bj(n,e,O1),i.__reactInternalMemoizedMergedChildContext=n,Hi(bo),Hi(Na),Fi(Na,n)):Hi(bo),Fi(bo,t)}var Xu=null,GE=!1,HC=!1;function wj(n){Xu===null?Xu=[n]:Xu.push(n)}function tZ(n){GE=!0,wj(n)}function hm(){if(!HC&&Xu!==null){HC=!0;var n=0,e=ui;try{var t=Xu;for(ui=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}Xu=null,GE=!1}catch(r){throw Xu!==null&&(Xu=Xu.slice(n+1)),Hz(iR,hm),r}finally{ui=e,HC=!1}}return null}var z0=[],j0=0,Mk=null,Bk=0,Hl=[],Vl=0,F1=null,zh=1,jh="";function Am(n,e){z0[j0++]=Bk,z0[j0++]=Mk,Mk=n,Bk=e}function xj(n,e,t){Hl[Vl++]=zh,Hl[Vl++]=jh,Hl[Vl++]=F1,F1=n;var i=zh;n=jh;var r=32-Kc(i)-1;i&=~(1<<r),t+=1;var s=32-Kc(e)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,zh=1<<32-Kc(e)+r|t<<r|i,jh=s+n}else zh=1<<s|t<<r|i,jh=n}function hR(n){n.return!==null&&(Am(n,1),xj(n,1,0))}function fR(n){for(;n===Mk;)Mk=z0[--j0],z0[j0]=null,Bk=z0[--j0],z0[j0]=null;for(;n===F1;)F1=Hl[--Vl],Hl[Vl]=null,jh=Hl[--Vl],Hl[Vl]=null,zh=Hl[--Vl],Hl[Vl]=null}var pl=null,ul=null,Ji=!1,Hc=null;function _j(n,e){var t=Kl(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function B7(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,pl=n,ul=$p(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,pl=n,ul=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=F1!==null?{id:zh,overflow:jh}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Kl(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,pl=n,ul=null,!0):!1;default:return!1}}function WD(n){return(n.mode&1)!==0&&(n.flags&128)===0}function $D(n){if(Ji){var e=ul;if(e){var t=e;if(!B7(n,e)){if(WD(n))throw Error(Ot(418));e=$p(t.nextSibling);var i=pl;e&&B7(n,e)?_j(i,t):(n.flags=n.flags&-4097|2,Ji=!1,pl=n)}}else{if(WD(n))throw Error(Ot(418));n.flags=n.flags&-4097|2,Ji=!1,pl=n}}}function z7(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;pl=n}function wN(n){if(n!==pl)return!1;if(!Ji)return z7(n),Ji=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!MD(n.type,n.memoizedProps)),e&&(e=ul)){if(WD(n))throw Sj(),Error(Ot(418));for(;e;)_j(n,e),e=$p(e.nextSibling)}if(z7(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Ot(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){ul=$p(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}ul=null}}else ul=pl?$p(n.stateNode.nextSibling):null;return!0}function Sj(){for(var n=ul;n;)n=$p(n.nextSibling)}function Sb(){ul=pl=null,Ji=!1}function pR(n){Hc===null?Hc=[n]:Hc.push(n)}var nZ=rf.ReactCurrentBatchConfig;function _2(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Ot(309));var i=t.stateNode}if(!i)throw Error(Ot(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=r.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof n!="string")throw Error(Ot(284));if(!t._owner)throw Error(Ot(290,n))}return n}function xN(n,e){throw n=Object.prototype.toString.call(e),Error(Ot(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function j7(n){var e=n._init;return e(n._payload)}function Nj(n){function e(m,y){if(n){var _=m.deletions;_===null?(m.deletions=[y],m.flags|=16):_.push(y)}}function t(m,y){if(!n)return null;for(;y!==null;)e(m,y),y=y.sibling;return null}function i(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function r(m,y){return m=Gp(m,y),m.index=0,m.sibling=null,m}function s(m,y,_){return m.index=_,n?(_=m.alternate,_!==null?(_=_.index,_<y?(m.flags|=2,y):_):(m.flags|=2,y)):(m.flags|=1048576,y)}function a(m){return n&&m.alternate===null&&(m.flags|=2),m}function o(m,y,_,x){return y===null||y.tag!==6?(y=ZC(_,m.mode,x),y.return=m,y):(y=r(y,_),y.return=m,y)}function c(m,y,_,x){var N=_.type;return N===L0?u(m,y,_.props.children,x,_.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Cf&&j7(N)===y.type)?(x=r(y,_.props),x.ref=_2(m,y,_),x.return=m,x):(x=yA(_.type,_.key,_.props,null,m.mode,x),x.ref=_2(m,y,_),x.return=m,x)}function d(m,y,_,x){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=QC(_,m.mode,x),y.return=m,y):(y=r(y,_.children||[]),y.return=m,y)}function u(m,y,_,x,N){return y===null||y.tag!==7?(y=T1(_,m.mode,x,N),y.return=m,y):(y=r(y,_),y.return=m,y)}function f(m,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=ZC(""+y,m.mode,_),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case dN:return _=yA(y.type,y.key,y.props,null,m.mode,_),_.ref=_2(m,null,y),_.return=m,_;case R0:return y=QC(y,m.mode,_),y.return=m,y;case Cf:var x=y._init;return f(m,x(y._payload),_)}if(q2(y)||y2(y))return y=T1(y,m.mode,_,null),y.return=m,y;xN(m,y)}return null}function h(m,y,_,x){var N=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return N!==null?null:o(m,y,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case dN:return _.key===N?c(m,y,_,x):null;case R0:return _.key===N?d(m,y,_,x):null;case Cf:return N=_._init,h(m,y,N(_._payload),x)}if(q2(_)||y2(_))return N!==null?null:u(m,y,_,x,null);xN(m,_)}return null}function p(m,y,_,x,N){if(typeof x=="string"&&x!==""||typeof x=="number")return m=m.get(_)||null,o(y,m,""+x,N);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case dN:return m=m.get(x.key===null?_:x.key)||null,c(y,m,x,N);case R0:return m=m.get(x.key===null?_:x.key)||null,d(y,m,x,N);case Cf:var k=x._init;return p(m,y,_,k(x._payload),N)}if(q2(x)||y2(x))return m=m.get(_)||null,u(y,m,x,N,null);xN(y,x)}return null}function v(m,y,_,x){for(var N=null,k=null,T=y,C=y=0,P=null;T!==null&&C<_.length;C++){T.index>C?(P=T,T=null):P=T.sibling;var D=h(m,T,_[C],x);if(D===null){T===null&&(T=P);break}n&&T&&D.alternate===null&&e(m,T),y=s(D,y,C),k===null?N=D:k.sibling=D,k=D,T=P}if(C===_.length)return t(m,T),Ji&&Am(m,C),N;if(T===null){for(;C<_.length;C++)T=f(m,_[C],x),T!==null&&(y=s(T,y,C),k===null?N=T:k.sibling=T,k=T);return Ji&&Am(m,C),N}for(T=i(m,T);C<_.length;C++)P=p(T,m,C,_[C],x),P!==null&&(n&&P.alternate!==null&&T.delete(P.key===null?C:P.key),y=s(P,y,C),k===null?N=P:k.sibling=P,k=P);return n&&T.forEach(function(E){return e(m,E)}),Ji&&Am(m,C),N}function w(m,y,_,x){var N=y2(_);if(typeof N!="function")throw Error(Ot(150));if(_=N.call(_),_==null)throw Error(Ot(151));for(var k=N=null,T=y,C=y=0,P=null,D=_.next();T!==null&&!D.done;C++,D=_.next()){T.index>C?(P=T,T=null):P=T.sibling;var E=h(m,T,D.value,x);if(E===null){T===null&&(T=P);break}n&&T&&E.alternate===null&&e(m,T),y=s(E,y,C),k===null?N=E:k.sibling=E,k=E,T=P}if(D.done)return t(m,T),Ji&&Am(m,C),N;if(T===null){for(;!D.done;C++,D=_.next())D=f(m,D.value,x),D!==null&&(y=s(D,y,C),k===null?N=D:k.sibling=D,k=D);return Ji&&Am(m,C),N}for(T=i(m,T);!D.done;C++,D=_.next())D=p(T,m,C,D.value,x),D!==null&&(n&&D.alternate!==null&&T.delete(D.key===null?C:D.key),y=s(D,y,C),k===null?N=D:k.sibling=D,k=D);return n&&T.forEach(function(A){return e(m,A)}),Ji&&Am(m,C),N}function b(m,y,_,x){if(typeof _=="object"&&_!==null&&_.type===L0&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case dN:e:{for(var N=_.key,k=y;k!==null;){if(k.key===N){if(N=_.type,N===L0){if(k.tag===7){t(m,k.sibling),y=r(k,_.props.children),y.return=m,m=y;break e}}else if(k.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Cf&&j7(N)===k.type){t(m,k.sibling),y=r(k,_.props),y.ref=_2(m,k,_),y.return=m,m=y;break e}t(m,k);break}else e(m,k);k=k.sibling}_.type===L0?(y=T1(_.props.children,m.mode,x,_.key),y.return=m,m=y):(x=yA(_.type,_.key,_.props,null,m.mode,x),x.ref=_2(m,y,_),x.return=m,m=x)}return a(m);case R0:e:{for(k=_.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){t(m,y.sibling),y=r(y,_.children||[]),y.return=m,m=y;break e}else{t(m,y);break}else e(m,y);y=y.sibling}y=QC(_,m.mode,x),y.return=m,m=y}return a(m);case Cf:return k=_._init,b(m,y,k(_._payload),x)}if(q2(_))return v(m,y,_,x);if(y2(_))return w(m,y,_,x);xN(m,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(t(m,y.sibling),y=r(y,_),y.return=m,m=y):(t(m,y),y=ZC(_,m.mode,x),y.return=m,m=y),a(m)):t(m,y)}return b}var Nb=Nj(!0),Aj=Nj(!1),zk=um(null),jk=null,W0=null,mR=null;function gR(){mR=W0=jk=null}function yR(n){var e=zk.current;Hi(zk),n._currentValue=e}function qD(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function ny(n,e){jk=n,mR=W0=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(mo=!0),n.firstContext=null)}function Ql(n){var e=n._currentValue;if(mR!==n)if(n={context:n,memoizedValue:e,next:null},W0===null){if(jk===null)throw Error(Ot(308));W0=n,jk.dependencies={lanes:0,firstContext:n}}else W0=W0.next=n;return e}var zm=null;function vR(n){zm===null?zm=[n]:zm.push(n)}function kj(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,vR(e)):(t.next=r.next,r.next=t),e.interleaved=t,Yh(n,i)}function Yh(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Df=!1;function bR(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ej(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Hh(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function qp(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,$n&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Yh(n,t)}return r=i.interleaved,r===null?(e.next=e,vR(i)):(e.next=r.next,r.next=e),i.interleaved=e,Yh(n,t)}function uA(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,rR(n,t)}}function W7(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=a:s=s.next=a,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Wk(n,e,t,i){var r=n.updateQueue;Df=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var c=o,d=c.next;c.next=null,a===null?s=d:a.next=d,a=c;var u=n.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=c))}if(s!==null){var f=r.baseState;a=0,u=d=c=null,o=s;do{var h=o.lane,p=o.eventTime;if((i&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=n,w=o;switch(h=e,p=t,w.tag){case 1:if(v=w.payload,typeof v=="function"){f=v.call(p,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,h=typeof v=="function"?v.call(p,f,h):v,h==null)break e;f=ar({},f,h);break e;case 2:Df=!0}}o.callback!==null&&o.lane!==0&&(n.flags|=64,h=r.effects,h===null?r.effects=[o]:h.push(o))}else p={eventTime:p,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(d=u=p,c=f):u=u.next=p,a|=h;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;h=o,o=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(1);if(u===null&&(c=f),r.baseState=c,r.firstBaseUpdate=d,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do a|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);M1|=a,n.lanes=a,n.memoizedState=f}}function $7(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(Ot(191,r));r.call(i)}}}var mS={},pu=um(mS),Zw=um(mS),Qw=um(mS);function jm(n){if(n===mS)throw Error(Ot(174));return n}function wR(n,e){switch(Fi(Qw,e),Fi(Zw,n),Fi(pu,mS),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ND(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=ND(e,n)}Hi(pu),Fi(pu,e)}function Ab(){Hi(pu),Hi(Zw),Hi(Qw)}function Tj(n){jm(Qw.current);var e=jm(pu.current),t=ND(e,n.type);e!==t&&(Fi(Zw,n),Fi(pu,t))}function xR(n){Zw.current===n&&(Hi(pu),Hi(Zw))}var ir=um(0);function $k(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var VC=[];function _R(){for(var n=0;n<VC.length;n++)VC[n]._workInProgressVersionPrimary=null;VC.length=0}var hA=rf.ReactCurrentDispatcher,GC=rf.ReactCurrentBatchConfig,U1=0,rr=null,cs=null,Cs=null,qk=!1,kw=!1,ex=0,iZ=0;function oa(){throw Error(Ot(321))}function SR(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!ed(n[t],e[t]))return!1;return!0}function NR(n,e,t,i,r,s){if(U1=s,rr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hA.current=n===null||n.memoizedState===null?oZ:lZ,n=t(i,r),kw){s=0;do{if(kw=!1,ex=0,25<=s)throw Error(Ot(301));s+=1,Cs=cs=null,e.updateQueue=null,hA.current=cZ,n=t(i,r)}while(kw)}if(hA.current=Hk,e=cs!==null&&cs.next!==null,U1=0,Cs=cs=rr=null,qk=!1,e)throw Error(Ot(300));return n}function AR(){var n=ex!==0;return ex=0,n}function Rd(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cs===null?rr.memoizedState=Cs=n:Cs=Cs.next=n,Cs}function ec(){if(cs===null){var n=rr.alternate;n=n!==null?n.memoizedState:null}else n=cs.next;var e=Cs===null?rr.memoizedState:Cs.next;if(e!==null)Cs=e,cs=n;else{if(n===null)throw Error(Ot(310));cs=n,n={memoizedState:cs.memoizedState,baseState:cs.baseState,baseQueue:cs.baseQueue,queue:cs.queue,next:null},Cs===null?rr.memoizedState=Cs=n:Cs=Cs.next=n}return Cs}function tx(n,e){return typeof e=="function"?e(n):e}function XC(n){var e=ec(),t=e.queue;if(t===null)throw Error(Ot(311));t.lastRenderedReducer=n;var i=cs,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var o=a=null,c=null,d=s;do{var u=d.lane;if((U1&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),i=d.hasEagerState?d.eagerState:n(i,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=f,a=i):c=c.next=f,rr.lanes|=u,M1|=u}d=d.next}while(d!==null&&d!==s);c===null?a=i:c.next=o,ed(i,e.memoizedState)||(mo=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=c,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,rr.lanes|=s,M1|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function YC(n){var e=ec(),t=e.queue;if(t===null)throw Error(Ot(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var a=r=r.next;do s=n(s,a.action),a=a.next;while(a!==r);ed(s,e.memoizedState)||(mo=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function Cj(){}function Dj(n,e){var t=rr,i=ec(),r=e(),s=!ed(i.memoizedState,r);if(s&&(i.memoizedState=r,mo=!0),i=i.queue,kR(Rj.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||Cs!==null&&Cs.memoizedState.tag&1){if(t.flags|=2048,nx(9,Ij.bind(null,t,i,r,e),void 0,null),Ls===null)throw Error(Ot(349));U1&30||Pj(t,e,r)}return r}function Pj(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=rr.updateQueue,e===null?(e={lastEffect:null,stores:null},rr.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function Ij(n,e,t,i){e.value=t,e.getSnapshot=i,Lj(e)&&Oj(n)}function Rj(n,e,t){return t(function(){Lj(e)&&Oj(n)})}function Lj(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!ed(n,t)}catch{return!0}}function Oj(n){var e=Yh(n,1);e!==null&&Jc(e,n,1,-1)}function q7(n){var e=Rd();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tx,lastRenderedState:n},e.queue=n,n=n.dispatch=aZ.bind(null,rr,n),[e.memoizedState,n]}function nx(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=rr.updateQueue,e===null?(e={lastEffect:null,stores:null},rr.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function Fj(){return ec().memoizedState}function fA(n,e,t,i){var r=Rd();rr.flags|=n,r.memoizedState=nx(1|e,t,void 0,i===void 0?null:i)}function XE(n,e,t,i){var r=ec();i=i===void 0?null:i;var s=void 0;if(cs!==null){var a=cs.memoizedState;if(s=a.destroy,i!==null&&SR(i,a.deps)){r.memoizedState=nx(e,t,s,i);return}}rr.flags|=n,r.memoizedState=nx(1|e,t,s,i)}function H7(n,e){return fA(8390656,8,n,e)}function kR(n,e){return XE(2048,8,n,e)}function Uj(n,e){return XE(4,2,n,e)}function Mj(n,e){return XE(4,4,n,e)}function Bj(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function zj(n,e,t){return t=t!=null?t.concat([n]):null,XE(4,4,Bj.bind(null,e,n),t)}function ER(){}function jj(n,e){var t=ec();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&SR(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function Wj(n,e){var t=ec();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&SR(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function $j(n,e,t){return U1&21?(ed(t,e)||(t=Xz(),rr.lanes|=t,M1|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,mo=!0),n.memoizedState=t)}function rZ(n,e){var t=ui;ui=t!==0&&4>t?t:4,n(!0);var i=GC.transition;GC.transition={};try{n(!1),e()}finally{ui=t,GC.transition=i}}function qj(){return ec().memoizedState}function sZ(n,e,t){var i=Vp(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},Hj(n))Vj(e,t);else if(t=kj(n,e,t,i),t!==null){var r=$a();Jc(t,n,i,r),Gj(t,e,i)}}function aZ(n,e,t){var i=Vp(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(Hj(n))Vj(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,t);if(r.hasEagerState=!0,r.eagerState=o,ed(o,a)){var c=e.interleaved;c===null?(r.next=r,vR(e)):(r.next=c.next,c.next=r),e.interleaved=r;return}}catch{}finally{}t=kj(n,e,r,i),t!==null&&(r=$a(),Jc(t,n,i,r),Gj(t,e,i))}}function Hj(n){var e=n.alternate;return n===rr||e!==null&&e===rr}function Vj(n,e){kw=qk=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function Gj(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,rR(n,t)}}var Hk={readContext:Ql,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useInsertionEffect:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useSyncExternalStore:oa,useId:oa,unstable_isNewReconciler:!1},oZ={readContext:Ql,useCallback:function(n,e){return Rd().memoizedState=[n,e===void 0?null:e],n},useContext:Ql,useEffect:H7,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,fA(4194308,4,Bj.bind(null,e,n),t)},useLayoutEffect:function(n,e){return fA(4194308,4,n,e)},useInsertionEffect:function(n,e){return fA(4,2,n,e)},useMemo:function(n,e){var t=Rd();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=Rd();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=sZ.bind(null,rr,n),[i.memoizedState,n]},useRef:function(n){var e=Rd();return n={current:n},e.memoizedState=n},useState:q7,useDebugValue:ER,useDeferredValue:function(n){return Rd().memoizedState=n},useTransition:function(){var n=q7(!1),e=n[0];return n=rZ.bind(null,n[1]),Rd().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=rr,r=Rd();if(Ji){if(t===void 0)throw Error(Ot(407));t=t()}else{if(t=e(),Ls===null)throw Error(Ot(349));U1&30||Pj(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,H7(Rj.bind(null,i,s,n),[n]),i.flags|=2048,nx(9,Ij.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=Rd(),e=Ls.identifierPrefix;if(Ji){var t=jh,i=zh;t=(i&~(1<<32-Kc(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=ex++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=iZ++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},lZ={readContext:Ql,useCallback:jj,useContext:Ql,useEffect:kR,useImperativeHandle:zj,useInsertionEffect:Uj,useLayoutEffect:Mj,useMemo:Wj,useReducer:XC,useRef:Fj,useState:function(){return XC(tx)},useDebugValue:ER,useDeferredValue:function(n){var e=ec();return $j(e,cs.memoizedState,n)},useTransition:function(){var n=XC(tx)[0],e=ec().memoizedState;return[n,e]},useMutableSource:Cj,useSyncExternalStore:Dj,useId:qj,unstable_isNewReconciler:!1},cZ={readContext:Ql,useCallback:jj,useContext:Ql,useEffect:kR,useImperativeHandle:zj,useInsertionEffect:Uj,useLayoutEffect:Mj,useMemo:Wj,useReducer:YC,useRef:Fj,useState:function(){return YC(tx)},useDebugValue:ER,useDeferredValue:function(n){var e=ec();return cs===null?e.memoizedState=n:$j(e,cs.memoizedState,n)},useTransition:function(){var n=YC(tx)[0],e=ec().memoizedState;return[n,e]},useMutableSource:Cj,useSyncExternalStore:Dj,useId:qj,unstable_isNewReconciler:!1};function Tc(n,e){if(n&&n.defaultProps){e=ar({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function HD(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:ar({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var YE={isMounted:function(n){return(n=n._reactInternals)?n0(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=$a(),r=Vp(n),s=Hh(i,r);s.payload=e,t!=null&&(s.callback=t),e=qp(n,s,r),e!==null&&(Jc(e,n,r,i),uA(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=$a(),r=Vp(n),s=Hh(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=qp(n,s,r),e!==null&&(Jc(e,n,r,i),uA(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=$a(),i=Vp(n),r=Hh(t,i);r.tag=2,e!=null&&(r.callback=e),e=qp(n,r,i),e!==null&&(Jc(e,n,i,t),uA(e,n,i))}};function V7(n,e,t,i,r,s,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,a):e.prototype&&e.prototype.isPureReactComponent?!Xw(t,i)||!Xw(r,s):!0}function Xj(n,e,t){var i=!1,r=nm,s=e.contextType;return typeof s=="object"&&s!==null?s=Ql(s):(r=wo(e)?O1:Na.current,i=e.contextTypes,s=(i=i!=null)?_b(n,r):nm),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=YE,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function G7(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&YE.enqueueReplaceState(e,e.state,null)}function VD(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},bR(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Ql(s):(s=wo(e)?O1:Na.current,r.context=_b(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(HD(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&YE.enqueueReplaceState(r,r.state,null),Wk(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function kb(n,e){try{var t="",i=e;do t+=UK(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function KC(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function GD(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var dZ=typeof WeakMap=="function"?WeakMap:Map;function Yj(n,e,t){t=Hh(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){Gk||(Gk=!0,i8=i),GD(n,e)},t}function Kj(n,e,t){t=Hh(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){GD(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){GD(n,e),typeof i!="function"&&(Hp===null?Hp=new Set([this]):Hp.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function X7(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new dZ;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=NZ.bind(null,n,e,t),e.then(n,n))}function Y7(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function K7(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Hh(-1,1),e.tag=2,qp(t,e,1))),t.lanes|=1),n)}var uZ=rf.ReactCurrentOwner,mo=!1;function za(n,e,t,i){e.child=n===null?Aj(e,null,t,i):Nb(e,n.child,t,i)}function J7(n,e,t,i,r){t=t.render;var s=e.ref;return ny(e,r),i=NR(n,e,t,i,s,r),t=AR(),n!==null&&!mo?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Kh(n,e,r)):(Ji&&t&&hR(e),e.flags|=1,za(n,e,i,r),e.child)}function Z7(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!OR(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,Jj(n,e,s,i,r)):(n=yA(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var a=s.memoizedProps;if(t=t.compare,t=t!==null?t:Xw,t(a,i)&&n.ref===e.ref)return Kh(n,e,r)}return e.flags|=1,n=Gp(s,i),n.ref=e.ref,n.return=e,e.child=n}function Jj(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(Xw(s,i)&&n.ref===e.ref)if(mo=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(mo=!0);else return e.lanes=n.lanes,Kh(n,e,r)}return XD(n,e,t,i,r)}function Zj(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fi(q0,ll),ll|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Fi(q0,ll),ll|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,Fi(q0,ll),ll|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,Fi(q0,ll),ll|=i;return za(n,e,r,t),e.child}function Qj(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function XD(n,e,t,i,r){var s=wo(t)?O1:Na.current;return s=_b(e,s),ny(e,r),t=NR(n,e,t,i,s,r),i=AR(),n!==null&&!mo?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,Kh(n,e,r)):(Ji&&i&&hR(e),e.flags|=1,za(n,e,t,r),e.child)}function Q7(n,e,t,i,r){if(wo(t)){var s=!0;Uk(e)}else s=!1;if(ny(e,r),e.stateNode===null)pA(n,e),Xj(e,t,i),VD(e,t,i,r),i=!0;else if(n===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var c=a.context,d=t.contextType;typeof d=="object"&&d!==null?d=Ql(d):(d=wo(t)?O1:Na.current,d=_b(e,d));var u=t.getDerivedStateFromProps,f=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==i||c!==d)&&G7(e,a,i,d),Df=!1;var h=e.memoizedState;a.state=h,Wk(e,i,a,r),c=e.memoizedState,o!==i||h!==c||bo.current||Df?(typeof u=="function"&&(HD(e,t,u,i),c=e.memoizedState),(o=Df||V7(e,t,o,i,h,c,d))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),a.props=i,a.state=c,a.context=d,i=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,Ej(n,e),o=e.memoizedProps,d=e.type===e.elementType?o:Tc(e.type,o),a.props=d,f=e.pendingProps,h=a.context,c=t.contextType,typeof c=="object"&&c!==null?c=Ql(c):(c=wo(t)?O1:Na.current,c=_b(e,c));var p=t.getDerivedStateFromProps;(u=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||h!==c)&&G7(e,a,i,c),Df=!1,h=e.memoizedState,a.state=h,Wk(e,i,a,r);var v=e.memoizedState;o!==f||h!==v||bo.current||Df?(typeof p=="function"&&(HD(e,t,p,i),v=e.memoizedState),(d=Df||V7(e,t,d,i,h,v,c)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,v,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,v,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=v),a.props=i,a.state=v,a.context=c,i=d):(typeof a.componentDidUpdate!="function"||o===n.memoizedProps&&h===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===n.memoizedProps&&h===n.memoizedState||(e.flags|=1024),i=!1)}return YD(n,e,t,i,s,r)}function YD(n,e,t,i,r,s){Qj(n,e);var a=(e.flags&128)!==0;if(!i&&!a)return r&&M7(e,t,!1),Kh(n,e,s);i=e.stateNode,uZ.current=e;var o=a&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&a?(e.child=Nb(e,n.child,null,s),e.child=Nb(e,null,o,s)):za(n,e,o,s),e.memoizedState=i.state,r&&M7(e,t,!0),e.child}function eW(n){var e=n.stateNode;e.pendingContext?U7(n,e.pendingContext,e.pendingContext!==e.context):e.context&&U7(n,e.context,!1),wR(n,e.containerInfo)}function eF(n,e,t,i,r){return Sb(),pR(r),e.flags|=256,za(n,e,t,i),e.child}var KD={dehydrated:null,treeContext:null,retryLane:0};function JD(n){return{baseLanes:n,cachePool:null,transitions:null}}function tW(n,e,t){var i=e.pendingProps,r=ir.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=n!==null&&n.memoizedState===null?!1:(r&2)!==0),o?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),Fi(ir,r&1),n===null)return $D(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=i.children,n=i.fallback,s?(i=e.mode,s=e.child,a={mode:"hidden",children:a},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=ZE(a,i,0,null),n=T1(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=JD(t),e.memoizedState=KD,n):TR(e,a));if(r=n.memoizedState,r!==null&&(o=r.dehydrated,o!==null))return hZ(n,e,a,i,o,r,t);if(s){s=i.fallback,a=e.mode,r=n.child,o=r.sibling;var c={mode:"hidden",children:i.children};return!(a&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=c,e.deletions=null):(i=Gp(r,c),i.subtreeFlags=r.subtreeFlags&14680064),o!==null?s=Gp(o,s):(s=T1(s,a,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,a=n.child.memoizedState,a=a===null?JD(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=n.childLanes&~t,e.memoizedState=KD,i}return s=n.child,n=s.sibling,i=Gp(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function TR(n,e){return e=ZE({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function _N(n,e,t,i){return i!==null&&pR(i),Nb(e,n.child,null,t),n=TR(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function hZ(n,e,t,i,r,s,a){if(t)return e.flags&256?(e.flags&=-257,i=KC(Error(Ot(422))),_N(n,e,a,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=ZE({mode:"visible",children:i.children},r,0,null),s=T1(s,r,a,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Nb(e,n.child,null,a),e.child.memoizedState=JD(a),e.memoizedState=KD,s);if(!(e.mode&1))return _N(n,e,a,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var o=i.dgst;return i=o,s=Error(Ot(419)),i=KC(s,i,void 0),_N(n,e,a,i)}if(o=(a&n.childLanes)!==0,mo||o){if(i=Ls,i!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|a)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Yh(n,r),Jc(i,n,r,-1))}return LR(),i=KC(Error(Ot(421))),_N(n,e,a,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=AZ.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,ul=$p(r.nextSibling),pl=e,Ji=!0,Hc=null,n!==null&&(Hl[Vl++]=zh,Hl[Vl++]=jh,Hl[Vl++]=F1,zh=n.id,jh=n.overflow,F1=e),e=TR(e,i.children),e.flags|=4096,e)}function tF(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),qD(n.return,e,t)}function JC(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function nW(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(za(n,e,i.children,t),i=ir.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&tF(n,t,e);else if(n.tag===19)tF(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Fi(ir,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&$k(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),JC(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&$k(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}JC(e,!0,t,null,s);break;case"together":JC(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pA(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Kh(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),M1|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Ot(153));if(e.child!==null){for(n=e.child,t=Gp(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Gp(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function fZ(n,e,t){switch(e.tag){case 3:eW(e),Sb();break;case 5:Tj(e);break;case 1:wo(e.type)&&Uk(e);break;case 4:wR(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Fi(zk,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Fi(ir,ir.current&1),e.flags|=128,null):t&e.child.childLanes?tW(n,e,t):(Fi(ir,ir.current&1),n=Kh(n,e,t),n!==null?n.sibling:null);Fi(ir,ir.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return nW(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Fi(ir,ir.current),i)break;return null;case 22:case 23:return e.lanes=0,Zj(n,e,t)}return Kh(n,e,t)}var iW,ZD,rW,sW;iW=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};ZD=function(){};rW=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,jm(pu.current);var s=null;switch(t){case"input":r=wD(n,r),i=wD(n,i),s=[];break;case"select":r=ar({},r,{value:void 0}),i=ar({},i,{value:void 0}),s=[];break;case"textarea":r=SD(n,r),i=SD(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=Ok)}AD(t,i);var a;t=null;for(d in r)if(!i.hasOwnProperty(d)&&r.hasOwnProperty(d)&&r[d]!=null)if(d==="style"){var o=r[d];for(a in o)o.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(jw.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in i){var c=i[d];if(o=r!=null?r[d]:void 0,i.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(t||(t={}),t[a]=c[a])}else t||(s||(s=[]),s.push(d,t)),t=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(s=s||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(jw.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Wi("scroll",n),s||o===c||(s=[])):(s=s||[]).push(d,c))}t&&(s=s||[]).push("style",t);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};sW=function(n,e,t,i){t!==i&&(e.flags|=4)};function S2(n,e){if(!Ji)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function la(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function pZ(n,e,t){var i=e.pendingProps;switch(fR(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return la(e),null;case 1:return wo(e.type)&&Fk(),la(e),null;case 3:return i=e.stateNode,Ab(),Hi(bo),Hi(Na),_R(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(wN(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Hc!==null&&(a8(Hc),Hc=null))),ZD(n,e),la(e),null;case 5:xR(e);var r=jm(Qw.current);if(t=e.type,n!==null&&e.stateNode!=null)rW(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Ot(166));return la(e),null}if(n=jm(pu.current),wN(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[ou]=e,i[Jw]=s,n=(e.mode&1)!==0,t){case"dialog":Wi("cancel",i),Wi("close",i);break;case"iframe":case"object":case"embed":Wi("load",i);break;case"video":case"audio":for(r=0;r<V2.length;r++)Wi(V2[r],i);break;case"source":Wi("error",i);break;case"img":case"image":case"link":Wi("error",i),Wi("load",i);break;case"details":Wi("toggle",i);break;case"input":d7(i,s),Wi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Wi("invalid",i);break;case"textarea":h7(i,s),Wi("invalid",i)}AD(t,s),r=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?i.textContent!==o&&(s.suppressHydrationWarning!==!0&&bN(i.textContent,o,n),r=["children",o]):typeof o=="number"&&i.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&bN(i.textContent,o,n),r=["children",""+o]):jw.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Wi("scroll",i)}switch(t){case"input":uN(i),u7(i,s,!0);break;case"textarea":uN(i),f7(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Ok)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Rz(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=a.createElement(t,{is:i.is}):(n=a.createElement(t),t==="select"&&(a=n,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):n=a.createElementNS(n,t),n[ou]=e,n[Jw]=i,iW(n,e,!1,!1),e.stateNode=n;e:{switch(a=kD(t,i),t){case"dialog":Wi("cancel",n),Wi("close",n),r=i;break;case"iframe":case"object":case"embed":Wi("load",n),r=i;break;case"video":case"audio":for(r=0;r<V2.length;r++)Wi(V2[r],n);r=i;break;case"source":Wi("error",n),r=i;break;case"img":case"image":case"link":Wi("error",n),Wi("load",n),r=i;break;case"details":Wi("toggle",n),r=i;break;case"input":d7(n,i),r=wD(n,i),Wi("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=ar({},i,{value:void 0}),Wi("invalid",n);break;case"textarea":h7(n,i),r=SD(n,i),Wi("invalid",n);break;default:r=i}AD(t,r),o=r;for(s in o)if(o.hasOwnProperty(s)){var c=o[s];s==="style"?Fz(n,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Lz(n,c)):s==="children"?typeof c=="string"?(t!=="textarea"||c!=="")&&Ww(n,c):typeof c=="number"&&Ww(n,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(jw.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Wi("scroll",n):c!=null&&ZI(n,s,c,a))}switch(t){case"input":uN(n),u7(n,i,!1);break;case"textarea":uN(n),f7(n);break;case"option":i.value!=null&&n.setAttribute("value",""+tm(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?Z0(n,!!i.multiple,s,!1):i.defaultValue!=null&&Z0(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=Ok)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return la(e),null;case 6:if(n&&e.stateNode!=null)sW(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Ot(166));if(t=jm(Qw.current),jm(pu.current),wN(e)){if(i=e.stateNode,t=e.memoizedProps,i[ou]=e,(s=i.nodeValue!==t)&&(n=pl,n!==null))switch(n.tag){case 3:bN(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&bN(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[ou]=e,e.stateNode=i}return la(e),null;case 13:if(Hi(ir),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ji&&ul!==null&&e.mode&1&&!(e.flags&128))Sj(),Sb(),e.flags|=98560,s=!1;else if(s=wN(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(Ot(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ot(317));s[ou]=e}else Sb(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;la(e),s=!1}else Hc!==null&&(a8(Hc),Hc=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||ir.current&1?ds===0&&(ds=3):LR())),e.updateQueue!==null&&(e.flags|=4),la(e),null);case 4:return Ab(),ZD(n,e),n===null&&Yw(e.stateNode.containerInfo),la(e),null;case 10:return yR(e.type._context),la(e),null;case 17:return wo(e.type)&&Fk(),la(e),null;case 19:if(Hi(ir),s=e.memoizedState,s===null)return la(e),null;if(i=(e.flags&128)!==0,a=s.rendering,a===null)if(i)S2(s,!1);else{if(ds!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(a=$k(n),a!==null){for(e.flags|=128,S2(s,!1),i=a.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,n=a.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Fi(ir,ir.current&1|2),e.child}n=n.sibling}s.tail!==null&&Pr()>Eb&&(e.flags|=128,i=!0,S2(s,!1),e.lanes=4194304)}else{if(!i)if(n=$k(a),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),S2(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Ji)return la(e),null}else 2*Pr()-s.renderingStartTime>Eb&&t!==1073741824&&(e.flags|=128,i=!0,S2(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(t=s.last,t!==null?t.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Pr(),e.sibling=null,t=ir.current,Fi(ir,i?t&1|2:t&1),e):(la(e),null);case 22:case 23:return RR(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?ll&1073741824&&(la(e),e.subtreeFlags&6&&(e.flags|=8192)):la(e),null;case 24:return null;case 25:return null}throw Error(Ot(156,e.tag))}function mZ(n,e){switch(fR(e),e.tag){case 1:return wo(e.type)&&Fk(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Ab(),Hi(bo),Hi(Na),_R(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return xR(e),null;case 13:if(Hi(ir),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Ot(340));Sb()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return Hi(ir),null;case 4:return Ab(),null;case 10:return yR(e.type._context),null;case 22:case 23:return RR(),null;case 24:return null;default:return null}}var SN=!1,_a=!1,gZ=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function $0(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){br(n,e,i)}else t.current=null}function QD(n,e,t){try{t()}catch(i){br(n,e,i)}}var nF=!1;function yZ(n,e){if(FD=Ik,n=dj(),uR(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var a=0,o=-1,c=-1,d=0,u=0,f=n,h=null;t:for(;;){for(var p;f!==t||r!==0&&f.nodeType!==3||(o=a+r),f!==s||i!==0&&f.nodeType!==3||(c=a+i),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===n)break t;if(h===t&&++d===r&&(o=a),h===s&&++u===i&&(c=a),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}t=o===-1||c===-1?null:{start:o,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(UD={focusedElem:n,selectionRange:t},Ik=!1,Ht=e;Ht!==null;)if(e=Ht,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Ht=n;else for(;Ht!==null;){e=Ht;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,b=v.memoizedState,m=e.stateNode,y=m.getSnapshotBeforeUpdate(e.elementType===e.type?w:Tc(e.type,w),b);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ot(163))}}catch(x){br(e,e.return,x)}if(n=e.sibling,n!==null){n.return=e.return,Ht=n;break}Ht=e.return}return v=nF,nF=!1,v}function Ew(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&QD(e,t,s)}r=r.next}while(r!==i)}}function KE(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function e8(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function aW(n){var e=n.alternate;e!==null&&(n.alternate=null,aW(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[ou],delete e[Jw],delete e[zD],delete e[QJ],delete e[eZ])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function oW(n){return n.tag===5||n.tag===3||n.tag===4}function iF(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||oW(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function t8(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Ok));else if(i!==4&&(n=n.child,n!==null))for(t8(n,e,t),n=n.sibling;n!==null;)t8(n,e,t),n=n.sibling}function n8(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(n8(n,e,t),n=n.sibling;n!==null;)n8(n,e,t),n=n.sibling}var Js=null,$c=!1;function Sf(n,e,t){for(t=t.child;t!==null;)lW(n,e,t),t=t.sibling}function lW(n,e,t){if(fu&&typeof fu.onCommitFiberUnmount=="function")try{fu.onCommitFiberUnmount(WE,t)}catch{}switch(t.tag){case 5:_a||$0(t,e);case 6:var i=Js,r=$c;Js=null,Sf(n,e,t),Js=i,$c=r,Js!==null&&($c?(n=Js,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Js.removeChild(t.stateNode));break;case 18:Js!==null&&($c?(n=Js,t=t.stateNode,n.nodeType===8?qC(n.parentNode,t):n.nodeType===1&&qC(n,t),Vw(n)):qC(Js,t.stateNode));break;case 4:i=Js,r=$c,Js=t.stateNode.containerInfo,$c=!0,Sf(n,e,t),Js=i,$c=r;break;case 0:case 11:case 14:case 15:if(!_a&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&QD(t,e,a),r=r.next}while(r!==i)}Sf(n,e,t);break;case 1:if(!_a&&($0(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(o){br(t,e,o)}Sf(n,e,t);break;case 21:Sf(n,e,t);break;case 22:t.mode&1?(_a=(i=_a)||t.memoizedState!==null,Sf(n,e,t),_a=i):Sf(n,e,t);break;default:Sf(n,e,t)}}function rF(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new gZ),e.forEach(function(i){var r=kZ.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function Sc(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Js=o.stateNode,$c=!1;break e;case 3:Js=o.stateNode.containerInfo,$c=!0;break e;case 4:Js=o.stateNode.containerInfo,$c=!0;break e}o=o.return}if(Js===null)throw Error(Ot(160));lW(s,a,r),Js=null,$c=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(d){br(r,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)cW(e,n),e=e.sibling}function cW(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Sc(e,n),Nd(n),i&4){try{Ew(3,n,n.return),KE(3,n)}catch(w){br(n,n.return,w)}try{Ew(5,n,n.return)}catch(w){br(n,n.return,w)}}break;case 1:Sc(e,n),Nd(n),i&512&&t!==null&&$0(t,t.return);break;case 5:if(Sc(e,n),Nd(n),i&512&&t!==null&&$0(t,t.return),n.flags&32){var r=n.stateNode;try{Ww(r,"")}catch(w){br(n,n.return,w)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,a=t!==null?t.memoizedProps:s,o=n.type,c=n.updateQueue;if(n.updateQueue=null,c!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&Pz(r,s),kD(o,a);var d=kD(o,s);for(a=0;a<c.length;a+=2){var u=c[a],f=c[a+1];u==="style"?Fz(r,f):u==="dangerouslySetInnerHTML"?Lz(r,f):u==="children"?Ww(r,f):ZI(r,u,f,d)}switch(o){case"input":xD(r,s);break;case"textarea":Iz(r,s);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Z0(r,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?Z0(r,!!s.multiple,s.defaultValue,!0):Z0(r,!!s.multiple,s.multiple?[]:"",!1))}r[Jw]=s}catch(w){br(n,n.return,w)}}break;case 6:if(Sc(e,n),Nd(n),i&4){if(n.stateNode===null)throw Error(Ot(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(w){br(n,n.return,w)}}break;case 3:if(Sc(e,n),Nd(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{Vw(e.containerInfo)}catch(w){br(n,n.return,w)}break;case 4:Sc(e,n),Nd(n);break;case 13:Sc(e,n),Nd(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(PR=Pr())),i&4&&rF(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(_a=(d=_a)||u,Sc(e,n),_a=d):Sc(e,n),Nd(n),i&8192){if(d=n.memoizedState!==null,(n.stateNode.isHidden=d)&&!u&&n.mode&1)for(Ht=n,u=n.child;u!==null;){for(f=Ht=u;Ht!==null;){switch(h=Ht,p=h.child,h.tag){case 0:case 11:case 14:case 15:Ew(4,h,h.return);break;case 1:$0(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){i=h,t=h.return;try{e=i,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){br(i,t,w)}}break;case 5:$0(h,h.return);break;case 22:if(h.memoizedState!==null){aF(f);continue}}p!==null?(p.return=h,Ht=p):aF(f)}u=u.sibling}e:for(u=null,f=n;;){if(f.tag===5){if(u===null){u=f;try{r=f.stateNode,d?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Oz("display",a))}catch(w){br(n,n.return,w)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(w){br(n,n.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===n)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Sc(e,n),Nd(n),i&4&&rF(n);break;case 21:break;default:Sc(e,n),Nd(n)}}function Nd(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(oW(t)){var i=t;break e}t=t.return}throw Error(Ot(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Ww(r,""),i.flags&=-33);var s=iF(n);n8(n,s,r);break;case 3:case 4:var a=i.stateNode.containerInfo,o=iF(n);t8(n,o,a);break;default:throw Error(Ot(161))}}catch(c){br(n,n.return,c)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function vZ(n,e,t){Ht=n,dW(n)}function dW(n,e,t){for(var i=(n.mode&1)!==0;Ht!==null;){var r=Ht,s=r.child;if(r.tag===22&&i){var a=r.memoizedState!==null||SN;if(!a){var o=r.alternate,c=o!==null&&o.memoizedState!==null||_a;o=SN;var d=_a;if(SN=a,(_a=c)&&!d)for(Ht=r;Ht!==null;)a=Ht,c=a.child,a.tag===22&&a.memoizedState!==null?oF(r):c!==null?(c.return=a,Ht=c):oF(r);for(;s!==null;)Ht=s,dW(s),s=s.sibling;Ht=r,SN=o,_a=d}sF(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,Ht=s):sF(n)}}function sF(n){for(;Ht!==null;){var e=Ht;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:_a||KE(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!_a)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:Tc(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&$7(e,s,i);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}$7(e,a,t)}break;case 5:var o=e.stateNode;if(t===null&&e.flags&4){t=o;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&t.focus();break;case"img":c.src&&(t.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Vw(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ot(163))}_a||e.flags&512&&e8(e)}catch(h){br(e,e.return,h)}}if(e===n){Ht=null;break}if(t=e.sibling,t!==null){t.return=e.return,Ht=t;break}Ht=e.return}}function aF(n){for(;Ht!==null;){var e=Ht;if(e===n){Ht=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Ht=t;break}Ht=e.return}}function oF(n){for(;Ht!==null;){var e=Ht;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{KE(4,e)}catch(c){br(e,t,c)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(c){br(e,r,c)}}var s=e.return;try{e8(e)}catch(c){br(e,s,c)}break;case 5:var a=e.return;try{e8(e)}catch(c){br(e,a,c)}}}catch(c){br(e,e.return,c)}if(e===n){Ht=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Ht=o;break}Ht=e.return}}var bZ=Math.ceil,Vk=rf.ReactCurrentDispatcher,CR=rf.ReactCurrentOwner,Jl=rf.ReactCurrentBatchConfig,$n=0,Ls=null,qr=null,ta=0,ll=0,q0=um(0),ds=0,ix=null,M1=0,JE=0,DR=0,Tw=null,ho=null,PR=0,Eb=1/0,Hu=null,Gk=!1,i8=null,Hp=null,NN=!1,Fp=null,Xk=0,Cw=0,r8=null,mA=-1,gA=0;function $a(){return $n&6?Pr():mA!==-1?mA:mA=Pr()}function Vp(n){return n.mode&1?$n&2&&ta!==0?ta&-ta:nZ.transition!==null?(gA===0&&(gA=Xz()),gA):(n=ui,n!==0||(n=window.event,n=n===void 0?16:tj(n.type)),n):1}function Jc(n,e,t,i){if(50<Cw)throw Cw=0,r8=null,Error(Ot(185));hS(n,t,i),(!($n&2)||n!==Ls)&&(n===Ls&&(!($n&2)&&(JE|=t),ds===4&&If(n,ta)),xo(n,i),t===1&&$n===0&&!(e.mode&1)&&(Eb=Pr()+500,GE&&hm()))}function xo(n,e){var t=n.callbackNode;nJ(n,e);var i=Pk(n,n===Ls?ta:0);if(i===0)t!==null&&g7(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&g7(t),e===1)n.tag===0?tZ(lF.bind(null,n)):wj(lF.bind(null,n)),JJ(function(){!($n&6)&&hm()}),t=null;else{switch(Yz(i)){case 1:t=iR;break;case 4:t=Vz;break;case 16:t=Dk;break;case 536870912:t=Gz;break;default:t=Dk}t=vW(t,uW.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function uW(n,e){if(mA=-1,gA=0,$n&6)throw Error(Ot(327));var t=n.callbackNode;if(iy()&&n.callbackNode!==t)return null;var i=Pk(n,n===Ls?ta:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=Yk(n,i);else{e=i;var r=$n;$n|=2;var s=fW();(Ls!==n||ta!==e)&&(Hu=null,Eb=Pr()+500,E1(n,e));do try{_Z();break}catch(o){hW(n,o)}while(1);gR(),Vk.current=s,$n=r,qr!==null?e=0:(Ls=null,ta=0,e=ds)}if(e!==0){if(e===2&&(r=PD(n),r!==0&&(i=r,e=s8(n,r))),e===1)throw t=ix,E1(n,0),If(n,i),xo(n,Pr()),t;if(e===6)If(n,i);else{if(r=n.current.alternate,!(i&30)&&!wZ(r)&&(e=Yk(n,i),e===2&&(s=PD(n),s!==0&&(i=s,e=s8(n,s))),e===1))throw t=ix,E1(n,0),If(n,i),xo(n,Pr()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(Ot(345));case 2:km(n,ho,Hu);break;case 3:if(If(n,i),(i&130023424)===i&&(e=PR+500-Pr(),10<e)){if(Pk(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){$a(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=BD(km.bind(null,n,ho,Hu),e);break}km(n,ho,Hu);break;case 4:if(If(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var a=31-Kc(i);s=1<<a,a=e[a],a>r&&(r=a),i&=~s}if(i=r,i=Pr()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*bZ(i/1960))-i,10<i){n.timeoutHandle=BD(km.bind(null,n,ho,Hu),i);break}km(n,ho,Hu);break;case 5:km(n,ho,Hu);break;default:throw Error(Ot(329))}}}return xo(n,Pr()),n.callbackNode===t?uW.bind(null,n):null}function s8(n,e){var t=Tw;return n.current.memoizedState.isDehydrated&&(E1(n,e).flags|=256),n=Yk(n,e),n!==2&&(e=ho,ho=t,e!==null&&a8(e)),n}function a8(n){ho===null?ho=n:ho.push.apply(ho,n)}function wZ(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!ed(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function If(n,e){for(e&=~DR,e&=~JE,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Kc(e),i=1<<t;n[t]=-1,e&=~i}}function lF(n){if($n&6)throw Error(Ot(327));iy();var e=Pk(n,0);if(!(e&1))return xo(n,Pr()),null;var t=Yk(n,e);if(n.tag!==0&&t===2){var i=PD(n);i!==0&&(e=i,t=s8(n,i))}if(t===1)throw t=ix,E1(n,0),If(n,e),xo(n,Pr()),t;if(t===6)throw Error(Ot(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,km(n,ho,Hu),xo(n,Pr()),null}function IR(n,e){var t=$n;$n|=1;try{return n(e)}finally{$n=t,$n===0&&(Eb=Pr()+500,GE&&hm())}}function B1(n){Fp!==null&&Fp.tag===0&&!($n&6)&&iy();var e=$n;$n|=1;var t=Jl.transition,i=ui;try{if(Jl.transition=null,ui=1,n)return n()}finally{ui=i,Jl.transition=t,$n=e,!($n&6)&&hm()}}function RR(){ll=q0.current,Hi(q0)}function E1(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,KJ(t)),qr!==null)for(t=qr.return;t!==null;){var i=t;switch(fR(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Fk();break;case 3:Ab(),Hi(bo),Hi(Na),_R();break;case 5:xR(i);break;case 4:Ab();break;case 13:Hi(ir);break;case 19:Hi(ir);break;case 10:yR(i.type._context);break;case 22:case 23:RR()}t=t.return}if(Ls=n,qr=n=Gp(n.current,null),ta=ll=e,ds=0,ix=null,DR=JE=M1=0,ho=Tw=null,zm!==null){for(e=0;e<zm.length;e++)if(t=zm[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var a=s.next;s.next=r,i.next=a}t.pending=i}zm=null}return n}function hW(n,e){do{var t=qr;try{if(gR(),hA.current=Hk,qk){for(var i=rr.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}qk=!1}if(U1=0,Cs=cs=rr=null,kw=!1,ex=0,CR.current=null,t===null||t.return===null){ds=1,ix=e,qr=null;break}e:{var s=n,a=t.return,o=t,c=e;if(e=ta,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Y7(a);if(p!==null){p.flags&=-257,K7(p,a,o,s,e),p.mode&1&&X7(s,d,e),e=p,c=d;var v=e.updateQueue;if(v===null){var w=new Set;w.add(c),e.updateQueue=w}else v.add(c);break e}else{if(!(e&1)){X7(s,d,e),LR();break e}c=Error(Ot(426))}}else if(Ji&&o.mode&1){var b=Y7(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),K7(b,a,o,s,e),pR(kb(c,o));break e}}s=c=kb(c,o),ds!==4&&(ds=2),Tw===null?Tw=[s]:Tw.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=Yj(s,c,e);W7(s,m);break e;case 1:o=c;var y=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Hp===null||!Hp.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=Kj(s,o,e);W7(s,x);break e}}s=s.return}while(s!==null)}mW(t)}catch(N){e=N,qr===t&&t!==null&&(qr=t=t.return);continue}break}while(1)}function fW(){var n=Vk.current;return Vk.current=Hk,n===null?Hk:n}function LR(){(ds===0||ds===3||ds===2)&&(ds=4),Ls===null||!(M1&268435455)&&!(JE&268435455)||If(Ls,ta)}function Yk(n,e){var t=$n;$n|=2;var i=fW();(Ls!==n||ta!==e)&&(Hu=null,E1(n,e));do try{xZ();break}catch(r){hW(n,r)}while(1);if(gR(),$n=t,Vk.current=i,qr!==null)throw Error(Ot(261));return Ls=null,ta=0,ds}function xZ(){for(;qr!==null;)pW(qr)}function _Z(){for(;qr!==null&&!GK();)pW(qr)}function pW(n){var e=yW(n.alternate,n,ll);n.memoizedProps=n.pendingProps,e===null?mW(n):qr=e,CR.current=null}function mW(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=mZ(t,e),t!==null){t.flags&=32767,qr=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{ds=6,qr=null;return}}else if(t=pZ(t,e,ll),t!==null){qr=t;return}if(e=e.sibling,e!==null){qr=e;return}qr=e=n}while(e!==null);ds===0&&(ds=5)}function km(n,e,t){var i=ui,r=Jl.transition;try{Jl.transition=null,ui=1,SZ(n,e,t,i)}finally{Jl.transition=r,ui=i}return null}function SZ(n,e,t,i){do iy();while(Fp!==null);if($n&6)throw Error(Ot(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Ot(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(iJ(n,s),n===Ls&&(qr=Ls=null,ta=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||NN||(NN=!0,vW(Dk,function(){return iy(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Jl.transition,Jl.transition=null;var a=ui;ui=1;var o=$n;$n|=4,CR.current=null,yZ(n,t),cW(t,n),$J(UD),Ik=!!FD,UD=FD=null,n.current=t,vZ(t),XK(),$n=o,ui=a,Jl.transition=s}else n.current=t;if(NN&&(NN=!1,Fp=n,Xk=r),s=n.pendingLanes,s===0&&(Hp=null),JK(t.stateNode),xo(n,Pr()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(Gk)throw Gk=!1,n=i8,i8=null,n;return Xk&1&&n.tag!==0&&iy(),s=n.pendingLanes,s&1?n===r8?Cw++:(Cw=0,r8=n):Cw=0,hm(),null}function iy(){if(Fp!==null){var n=Yz(Xk),e=Jl.transition,t=ui;try{if(Jl.transition=null,ui=16>n?16:n,Fp===null)var i=!1;else{if(n=Fp,Fp=null,Xk=0,$n&6)throw Error(Ot(331));var r=$n;for($n|=4,Ht=n.current;Ht!==null;){var s=Ht,a=s.child;if(Ht.flags&16){var o=s.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(Ht=d;Ht!==null;){var u=Ht;switch(u.tag){case 0:case 11:case 15:Ew(8,u,s)}var f=u.child;if(f!==null)f.return=u,Ht=f;else for(;Ht!==null;){u=Ht;var h=u.sibling,p=u.return;if(aW(u),u===d){Ht=null;break}if(h!==null){h.return=p,Ht=h;break}Ht=p}}}var v=s.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}Ht=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Ht=a;else e:for(;Ht!==null;){if(s=Ht,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ew(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,Ht=m;break e}Ht=s.return}}var y=n.current;for(Ht=y;Ht!==null;){a=Ht;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,Ht=_;else e:for(a=y;Ht!==null;){if(o=Ht,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:KE(9,o)}}catch(N){br(o,o.return,N)}if(o===a){Ht=null;break e}var x=o.sibling;if(x!==null){x.return=o.return,Ht=x;break e}Ht=o.return}}if($n=r,hm(),fu&&typeof fu.onPostCommitFiberRoot=="function")try{fu.onPostCommitFiberRoot(WE,n)}catch{}i=!0}return i}finally{ui=t,Jl.transition=e}}return!1}function cF(n,e,t){e=kb(t,e),e=Yj(n,e,1),n=qp(n,e,1),e=$a(),n!==null&&(hS(n,1,e),xo(n,e))}function br(n,e,t){if(n.tag===3)cF(n,n,t);else for(;e!==null;){if(e.tag===3){cF(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Hp===null||!Hp.has(i))){n=kb(t,n),n=Kj(e,n,1),e=qp(e,n,1),n=$a(),e!==null&&(hS(e,1,n),xo(e,n));break}}e=e.return}}function NZ(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=$a(),n.pingedLanes|=n.suspendedLanes&t,Ls===n&&(ta&t)===t&&(ds===4||ds===3&&(ta&130023424)===ta&&500>Pr()-PR?E1(n,0):DR|=t),xo(n,e)}function gW(n,e){e===0&&(n.mode&1?(e=pN,pN<<=1,!(pN&130023424)&&(pN=4194304)):e=1);var t=$a();n=Yh(n,e),n!==null&&(hS(n,e,t),xo(n,t))}function AZ(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),gW(n,t)}function kZ(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(Ot(314))}i!==null&&i.delete(e),gW(n,t)}var yW;yW=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||bo.current)mo=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return mo=!1,fZ(n,e,t);mo=!!(n.flags&131072)}else mo=!1,Ji&&e.flags&1048576&&xj(e,Bk,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;pA(n,e),n=e.pendingProps;var r=_b(e,Na.current);ny(e,t),r=NR(null,e,i,n,r,t);var s=AR();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wo(i)?(s=!0,Uk(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,bR(e),r.updater=YE,e.stateNode=r,r._reactInternals=e,VD(e,i,n,t),e=YD(null,e,i,!0,s,t)):(e.tag=0,Ji&&s&&hR(e),za(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(pA(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=TZ(i),n=Tc(i,n),r){case 0:e=XD(null,e,i,n,t);break e;case 1:e=Q7(null,e,i,n,t);break e;case 11:e=J7(null,e,i,n,t);break e;case 14:e=Z7(null,e,i,Tc(i.type,n),t);break e}throw Error(Ot(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Tc(i,r),XD(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Tc(i,r),Q7(n,e,i,r,t);case 3:e:{if(eW(e),n===null)throw Error(Ot(387));i=e.pendingProps,s=e.memoizedState,r=s.element,Ej(n,e),Wk(e,i,null,t);var a=e.memoizedState;if(i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=kb(Error(Ot(423)),e),e=eF(n,e,i,t,r);break e}else if(i!==r){r=kb(Error(Ot(424)),e),e=eF(n,e,i,t,r);break e}else for(ul=$p(e.stateNode.containerInfo.firstChild),pl=e,Ji=!0,Hc=null,t=Aj(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Sb(),i===r){e=Kh(n,e,t);break e}za(n,e,i,t)}e=e.child}return e;case 5:return Tj(e),n===null&&$D(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,a=r.children,MD(i,r)?a=null:s!==null&&MD(i,s)&&(e.flags|=32),Qj(n,e),za(n,e,a,t),e.child;case 6:return n===null&&$D(e),null;case 13:return tW(n,e,t);case 4:return wR(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=Nb(e,null,i,t):za(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Tc(i,r),J7(n,e,i,r,t);case 7:return za(n,e,e.pendingProps,t),e.child;case 8:return za(n,e,e.pendingProps.children,t),e.child;case 12:return za(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,a=r.value,Fi(zk,i._currentValue),i._currentValue=a,s!==null)if(ed(s.value,a)){if(s.children===r.children&&!bo.current){e=Kh(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var c=o.firstContext;c!==null;){if(c.context===i){if(s.tag===1){c=Hh(-1,t&-t),c.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}s.lanes|=t,c=s.alternate,c!==null&&(c.lanes|=t),qD(s.return,t,e),o.lanes|=t;break}c=c.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Ot(341));a.lanes|=t,o=a.alternate,o!==null&&(o.lanes|=t),qD(a,t,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}za(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,ny(e,t),r=Ql(r),i=i(r),e.flags|=1,za(n,e,i,t),e.child;case 14:return i=e.type,r=Tc(i,e.pendingProps),r=Tc(i.type,r),Z7(n,e,i,r,t);case 15:return Jj(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Tc(i,r),pA(n,e),e.tag=1,wo(i)?(n=!0,Uk(e)):n=!1,ny(e,t),Xj(e,i,r),VD(e,i,r,t),YD(null,e,i,!0,n,t);case 19:return nW(n,e,t);case 22:return Zj(n,e,t)}throw Error(Ot(156,e.tag))};function vW(n,e){return Hz(n,e)}function EZ(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kl(n,e,t,i){return new EZ(n,e,t,i)}function OR(n){return n=n.prototype,!(!n||!n.isReactComponent)}function TZ(n){if(typeof n=="function")return OR(n)?1:0;if(n!=null){if(n=n.$$typeof,n===eR)return 11;if(n===tR)return 14}return 2}function Gp(n,e){var t=n.alternate;return t===null?(t=Kl(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function yA(n,e,t,i,r,s){var a=2;if(i=n,typeof n=="function")OR(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case L0:return T1(t.children,r,s,e);case QI:a=8,r|=8;break;case gD:return n=Kl(12,t,e,r|2),n.elementType=gD,n.lanes=s,n;case yD:return n=Kl(13,t,e,r),n.elementType=yD,n.lanes=s,n;case vD:return n=Kl(19,t,e,r),n.elementType=vD,n.lanes=s,n;case Tz:return ZE(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case kz:a=10;break e;case Ez:a=9;break e;case eR:a=11;break e;case tR:a=14;break e;case Cf:a=16,i=null;break e}throw Error(Ot(130,n==null?n:typeof n,""))}return e=Kl(a,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function T1(n,e,t,i){return n=Kl(7,n,i,e),n.lanes=t,n}function ZE(n,e,t,i){return n=Kl(22,n,i,e),n.elementType=Tz,n.lanes=t,n.stateNode={isHidden:!1},n}function ZC(n,e,t){return n=Kl(6,n,null,e),n.lanes=t,n}function QC(n,e,t){return e=Kl(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function CZ(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=RC(0),this.expirationTimes=RC(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=RC(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function FR(n,e,t,i,r,s,a,o,c){return n=new CZ(n,e,t,o,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Kl(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},bR(s),n}function DZ(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R0,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function bW(n){if(!n)return nm;n=n._reactInternals;e:{if(n0(n)!==n||n.tag!==1)throw Error(Ot(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wo(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ot(171))}if(n.tag===1){var t=n.type;if(wo(t))return bj(n,t,e)}return e}function wW(n,e,t,i,r,s,a,o,c){return n=FR(t,i,!0,n,r,s,a,o,c),n.context=bW(null),t=n.current,i=$a(),r=Vp(t),s=Hh(i,r),s.callback=e??null,qp(t,s,r),n.current.lanes=r,hS(n,r,i),xo(n,i),n}function QE(n,e,t,i){var r=e.current,s=$a(),a=Vp(r);return t=bW(t),e.context===null?e.context=t:e.pendingContext=t,e=Hh(s,a),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=qp(r,e,a),n!==null&&(Jc(n,r,a,s),uA(n,r,a)),a}function Kk(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function dF(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function UR(n,e){dF(n,e),(n=n.alternate)&&dF(n,e)}function PZ(){return null}var xW=typeof reportError=="function"?reportError:function(n){console.error(n)};function MR(n){this._internalRoot=n}eT.prototype.render=MR.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Ot(409));QE(n,e,null,null)};eT.prototype.unmount=MR.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;B1(function(){QE(null,n,null,null)}),e[Xh]=null}};function eT(n){this._internalRoot=n}eT.prototype.unstable_scheduleHydration=function(n){if(n){var e=Zz();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Pf.length&&e!==0&&e<Pf[t].priority;t++);Pf.splice(t,0,n),t===0&&ej(n)}};function BR(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function tT(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function uF(){}function IZ(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var d=Kk(a);s.call(d)}}var a=wW(e,i,n,0,null,!1,!1,"",uF);return n._reactRootContainer=a,n[Xh]=a.current,Yw(n.nodeType===8?n.parentNode:n),B1(),a}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var o=i;i=function(){var d=Kk(c);o.call(d)}}var c=FR(n,0,!1,null,null,!1,!1,"",uF);return n._reactRootContainer=c,n[Xh]=c.current,Yw(n.nodeType===8?n.parentNode:n),B1(function(){QE(e,c,t,i)}),c}function nT(n,e,t,i,r){var s=t._reactRootContainer;if(s){var a=s;if(typeof r=="function"){var o=r;r=function(){var c=Kk(a);o.call(c)}}QE(e,a,n,r)}else a=IZ(t,e,n,r,i);return Kk(a)}Kz=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=H2(e.pendingLanes);t!==0&&(rR(e,t|1),xo(e,Pr()),!($n&6)&&(Eb=Pr()+500,hm()))}break;case 13:B1(function(){var i=Yh(n,1);if(i!==null){var r=$a();Jc(i,n,1,r)}}),UR(n,1)}};sR=function(n){if(n.tag===13){var e=Yh(n,134217728);if(e!==null){var t=$a();Jc(e,n,134217728,t)}UR(n,134217728)}};Jz=function(n){if(n.tag===13){var e=Vp(n),t=Yh(n,e);if(t!==null){var i=$a();Jc(t,n,e,i)}UR(n,e)}};Zz=function(){return ui};Qz=function(n,e){var t=ui;try{return ui=n,e()}finally{ui=t}};TD=function(n,e,t){switch(e){case"input":if(xD(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=VE(i);if(!r)throw Error(Ot(90));Dz(i),xD(i,r)}}}break;case"textarea":Iz(n,t);break;case"select":e=t.value,e!=null&&Z0(n,!!t.multiple,e,!1)}};Bz=IR;zz=B1;var RZ={usingClientEntryPoint:!1,Events:[pS,M0,VE,Uz,Mz,IR]},N2={findFiberByHostInstance:Bm,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LZ={bundleType:N2.bundleType,version:N2.version,rendererPackageName:N2.rendererPackageName,rendererConfig:N2.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rf.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=$z(n),n===null?null:n.stateNode},findFiberByHostInstance:N2.findFiberByHostInstance||PZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var AN=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!AN.isDisabled&&AN.supportsFiber)try{WE=AN.inject(LZ),fu=AN}catch{}}wl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RZ;wl.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!BR(e))throw Error(Ot(200));return DZ(n,e,null,t)};wl.createRoot=function(n,e){if(!BR(n))throw Error(Ot(299));var t=!1,i="",r=xW;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=FR(n,1,!1,null,null,t,!1,i,r),n[Xh]=e.current,Yw(n.nodeType===8?n.parentNode:n),new MR(e)};wl.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Ot(188)):(n=Object.keys(n).join(","),Error(Ot(268,n)));return n=$z(e),n=n===null?null:n.stateNode,n};wl.flushSync=function(n){return B1(n)};wl.hydrate=function(n,e,t){if(!tT(e))throw Error(Ot(200));return nT(null,n,e,!0,t)};wl.hydrateRoot=function(n,e,t){if(!BR(n))throw Error(Ot(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",a=xW;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=wW(e,null,n,1,t??null,r,!1,s,a),n[Xh]=e.current,Yw(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new eT(e)};wl.render=function(n,e,t){if(!tT(e))throw Error(Ot(200));return nT(null,n,e,!1,t)};wl.unmountComponentAtNode=function(n){if(!tT(n))throw Error(Ot(40));return n._reactRootContainer?(B1(function(){nT(null,null,n,!1,function(){n._reactRootContainer=null,n[Xh]=null})}),!0):!1};wl.unstable_batchedUpdates=IR;wl.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!tT(t))throw Error(Ot(200));if(n==null||n._reactInternals===void 0)throw Error(Ot(38));return nT(n,e,t,!1,i)};wl.version="18.3.1-next-f1338f8080-20240426";function _W(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_W)}catch(n){console.error(n)}}_W(),_z.exports=wl;var zR=_z.exports;const OZ=zE(zR);var hF=zR;pD.createRoot=hF.createRoot,pD.hydrateRoot=hF.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rx(){return rx=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},rx.apply(this,arguments)}var Up;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Up||(Up={}));const fF="popstate";function FZ(n){n===void 0&&(n={});function e(i,r){let{pathname:s,search:a,hash:o}=i.location;return o8("",{pathname:s,search:a,hash:o},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:Jk(r)}return MZ(e,t,null,n)}function Or(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function jR(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function UZ(){return Math.random().toString(36).substr(2,8)}function pF(n,e){return{usr:n.state,key:n.key,idx:e}}function o8(n,e,t,i){return t===void 0&&(t=null),rx({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Wb(e):e,{state:t,key:e&&e.key||i||UZ()})}function Jk(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Wb(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function MZ(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,o=Up.Pop,c=null,d=u();d==null&&(d=0,a.replaceState(rx({},a.state,{idx:d}),""));function u(){return(a.state||{idx:null}).idx}function f(){o=Up.Pop;let b=u(),m=b==null?null:b-d;d=b,c&&c({action:o,location:w.location,delta:m})}function h(b,m){o=Up.Push;let y=o8(w.location,b,m);t&&t(y,b),d=u()+1;let _=pF(y,d),x=w.createHref(y);try{a.pushState(_,"",x)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;r.location.assign(x)}s&&c&&c({action:o,location:w.location,delta:1})}function p(b,m){o=Up.Replace;let y=o8(w.location,b,m);t&&t(y,b),d=u();let _=pF(y,d),x=w.createHref(y);a.replaceState(_,"",x),s&&c&&c({action:o,location:w.location,delta:0})}function v(b){let m=r.location.origin!=="null"?r.location.origin:r.location.href,y=typeof b=="string"?b:Jk(b);return y=y.replace(/ $/,"%20"),Or(m,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,m)}let w={get action(){return o},get location(){return n(r,a)},listen(b){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(fF,f),c=b,()=>{r.removeEventListener(fF,f),c=null}},createHref(b){return e(r,b)},createURL:v,encodeLocation(b){let m=v(b);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:p,go(b){return a.go(b)}};return w}var mF;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(mF||(mF={}));function BZ(n,e,t){return t===void 0&&(t="/"),zZ(n,e,t,!1)}function zZ(n,e,t,i){let r=typeof e=="string"?Wb(e):e,s=WR(r.pathname||"/",t);if(s==null)return null;let a=SW(n);jZ(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let d=ZZ(s);o=KZ(a[c],d,i)}return o}function SW(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let r=(s,a,o)=>{let c={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(Or(c.relativePath.startsWith(i),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(i.length));let d=Xp([i,c.relativePath]),u=t.concat(c);s.children&&s.children.length>0&&(Or(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),SW(s.children,e,u,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:XZ(d,s.index),routesMeta:u})};return n.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))r(s,a);else for(let c of NW(s.path))r(s,a,c)}),e}function NW(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=NW(i.join("/")),o=[];return o.push(...a.map(c=>c===""?s:[s,c].join("/"))),r&&o.push(...a),o.map(c=>n.startsWith("/")&&c===""?"/":c)}function jZ(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:YZ(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const WZ=/^:[\w-]+$/,$Z=3,qZ=2,HZ=1,VZ=10,GZ=-2,gF=n=>n==="*";function XZ(n,e){let t=n.split("/"),i=t.length;return t.some(gF)&&(i+=GZ),e&&(i+=qZ),t.filter(r=>!gF(r)).reduce((r,s)=>r+(WZ.test(s)?$Z:s===""?HZ:VZ),i)}function YZ(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function KZ(n,e,t){t===void 0&&(t=!1);let{routesMeta:i}=n,r={},s="/",a=[];for(let o=0;o<i.length;++o){let c=i[o],d=o===i.length-1,u=s==="/"?e:e.slice(s.length)||"/",f=yF({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),h=c.route;if(!f&&d&&t&&!i[i.length-1].route.index&&(f=yF({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!f)return null;Object.assign(r,f.params),a.push({params:r,pathname:Xp([s,f.pathname]),pathnameBase:iQ(Xp([s,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(s=Xp([s,f.pathnameBase]))}return a}function yF(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=JZ(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:i.reduce((d,u,f)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let w=o[f]||"";a=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const v=o[f];return p&&!v?d[h]=void 0:d[h]=(v||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:a,pattern:n}}function JZ(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),jR(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(i.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function ZZ(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jR(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function WR(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}const QZ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eQ=n=>QZ.test(n);function tQ(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Wb(n):n,s;if(t)if(eQ(t))s=t;else{if(t.includes("//")){let a=t;t=t.replace(/\/\/+/g,"/"),jR(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+t))}t.startsWith("/")?s=vF(t.substring(1),"/"):s=vF(t,e)}else s=e;return{pathname:s,search:rQ(i),hash:sQ(r)}}function vF(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function e6(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nQ(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function $R(n,e){let t=nQ(n);return e?t.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function qR(n,e,t,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=Wb(n):(r=rx({},n),Or(!r.pathname||!r.pathname.includes("?"),e6("?","pathname","search",r)),Or(!r.pathname||!r.pathname.includes("#"),e6("#","pathname","hash",r)),Or(!r.search||!r.search.includes("#"),e6("#","search","hash",r)));let s=n===""||r.pathname==="",a=s?"/":r.pathname,o;if(a==null)o=t;else{let f=e.length-1;if(!i&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;r.pathname=h.join("/")}o=f>=0?e[f]:"/"}let c=tQ(r,o),d=a&&a!=="/"&&a.endsWith("/"),u=(s||a===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const Xp=n=>n.join("/").replace(/\/\/+/g,"/"),iQ=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),rQ=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,sQ=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function aQ(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const AW=["post","put","patch","delete"];new Set(AW);const oQ=["get",...AW];new Set(oQ);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sx(){return sx=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},sx.apply(this,arguments)}const HR=ie.createContext(null),lQ=ie.createContext(null),fm=ie.createContext(null),iT=ie.createContext(null),sf=ie.createContext({outlet:null,matches:[],isDataRoute:!1}),kW=ie.createContext(null);function cQ(n,e){let{relative:t}=e===void 0?{}:e;$b()||Or(!1);let{basename:i,navigator:r}=ie.useContext(fm),{hash:s,pathname:a,search:o}=TW(n,{relative:t}),c=a;return i!=="/"&&(c=a==="/"?i:Xp([i,a])),r.createHref({pathname:c,search:o,hash:s})}function $b(){return ie.useContext(iT)!=null}function pm(){return $b()||Or(!1),ie.useContext(iT).location}function EW(n){ie.useContext(fm).static||ie.useLayoutEffect(n)}function or(){let{isDataRoute:n}=ie.useContext(sf);return n?_Q():dQ()}function dQ(){$b()||Or(!1);let n=ie.useContext(HR),{basename:e,future:t,navigator:i}=ie.useContext(fm),{matches:r}=ie.useContext(sf),{pathname:s}=pm(),a=JSON.stringify($R(r,t.v7_relativeSplatPath)),o=ie.useRef(!1);return EW(()=>{o.current=!0}),ie.useCallback(function(d,u){if(u===void 0&&(u={}),!o.current)return;if(typeof d=="number"){i.go(d);return}let f=qR(d,JSON.parse(a),s,u.relative==="path");n==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Xp([e,f.pathname])),(u.replace?i.replace:i.push)(f,u.state,u)},[e,i,a,s,n])}function gS(){let{matches:n}=ie.useContext(sf),e=n[n.length-1];return e?e.params:{}}function TW(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=ie.useContext(fm),{matches:r}=ie.useContext(sf),{pathname:s}=pm(),a=JSON.stringify($R(r,i.v7_relativeSplatPath));return ie.useMemo(()=>qR(n,JSON.parse(a),s,t==="path"),[n,a,s,t])}function uQ(n,e){return hQ(n,e)}function hQ(n,e,t,i){$b()||Or(!1);let{navigator:r}=ie.useContext(fm),{matches:s}=ie.useContext(sf),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=pm(),u;if(e){var f;let b=typeof e=="string"?Wb(e):e;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||Or(!1),u=b}else u=d;let h=u.pathname||"/",p=h;if(c!=="/"){let b=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=BZ(n,{pathname:p}),w=yQ(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:Xp([c,r.encodeLocation?r.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Xp([c,r.encodeLocation?r.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,t,i);return e&&w?ie.createElement(iT.Provider,{value:{location:sx({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Up.Pop}},w):w}function fQ(){let n=xQ(),e=aQ(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return ie.createElement(ie.Fragment,null,ie.createElement("h2",null,"Unexpected Application Error!"),ie.createElement("h3",{style:{fontStyle:"italic"}},e),t?ie.createElement("pre",{style:r},t):null,s)}const pQ=ie.createElement(fQ,null);class mQ extends ie.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?ie.createElement(sf.Provider,{value:this.props.routeContext},ie.createElement(kW.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gQ(n){let{routeContext:e,match:t,children:i}=n,r=ie.useContext(HR);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),ie.createElement(sf.Provider,{value:e},i)}function yQ(n,e,t,i){var r;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var s;if(!t)return null;if(t.errors)n=t.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=(r=t)==null?void 0:r.errors;if(o!=null){let u=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);u>=0||Or(!1),a=a.slice(0,Math.min(a.length,u+1))}let c=!1,d=-1;if(t&&i&&i.v7_partialHydration)for(let u=0;u<a.length;u++){let f=a[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=u),f.route.id){let{loaderData:h,errors:p}=t,v=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||v){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((u,f,h)=>{let p,v=!1,w=null,b=null;t&&(p=o&&f.route.id?o[f.route.id]:void 0,w=f.route.errorElement||pQ,c&&(d<0&&h===0?(SQ("route-fallback",!1),v=!0,b=null):d===h&&(v=!0,b=f.route.hydrateFallbackElement||null)));let m=e.concat(a.slice(0,h+1)),y=()=>{let _;return p?_=w:v?_=b:f.route.Component?_=ie.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=u,ie.createElement(gQ,{match:f,routeContext:{outlet:u,matches:m,isDataRoute:t!=null},children:_})};return t&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?ie.createElement(mQ,{location:t.location,revalidation:t.revalidation,component:w,error:p,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()},null)}var CW=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(CW||{}),Zk=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(Zk||{});function vQ(n){let e=ie.useContext(HR);return e||Or(!1),e}function bQ(n){let e=ie.useContext(lQ);return e||Or(!1),e}function wQ(n){let e=ie.useContext(sf);return e||Or(!1),e}function DW(n){let e=wQ(),t=e.matches[e.matches.length-1];return t.route.id||Or(!1),t.route.id}function xQ(){var n;let e=ie.useContext(kW),t=bQ(Zk.UseRouteError),i=DW(Zk.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function _Q(){let{router:n}=vQ(CW.UseNavigateStable),e=DW(Zk.UseNavigateStable),t=ie.useRef(!1);return EW(()=>{t.current=!0}),ie.useCallback(function(r,s){s===void 0&&(s={}),t.current&&(typeof r=="number"?n.navigate(r):n.navigate(r,sx({fromRouteId:e},s)))},[n,e])}const bF={};function SQ(n,e,t){!e&&!bF[n]&&(bF[n]=!0)}function NQ(n,e){n==null||n.v7_startTransition,(n==null?void 0:n.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function l8(n){let{to:e,replace:t,state:i,relative:r}=n;$b()||Or(!1);let{future:s,static:a}=ie.useContext(fm),{matches:o}=ie.useContext(sf),{pathname:c}=pm(),d=or(),u=qR(e,$R(o,s.v7_relativeSplatPath),c,r==="path"),f=JSON.stringify(u);return ie.useEffect(()=>d(JSON.parse(f),{replace:t,state:i,relative:r}),[d,f,r,t,i]),null}function Vn(n){Or(!1)}function AQ(n){let{basename:e="/",children:t=null,location:i,navigationType:r=Up.Pop,navigator:s,static:a=!1,future:o}=n;$b()&&Or(!1);let c=e.replace(/^\/*/,"/"),d=ie.useMemo(()=>({basename:c,navigator:s,static:a,future:sx({v7_relativeSplatPath:!1},o)}),[c,o,s,a]);typeof i=="string"&&(i=Wb(i));let{pathname:u="/",search:f="",hash:h="",state:p=null,key:v="default"}=i,w=ie.useMemo(()=>{let b=WR(u,c);return b==null?null:{location:{pathname:b,search:f,hash:h,state:p,key:v},navigationType:r}},[c,u,f,h,p,v,r]);return w==null?null:ie.createElement(fm.Provider,{value:d},ie.createElement(iT.Provider,{children:t,value:w}))}function kQ(n){let{children:e,location:t}=n;return uQ(c8(e),t)}new Promise(()=>{});function c8(n,e){e===void 0&&(e=[]);let t=[];return ie.Children.forEach(n,(i,r)=>{if(!ie.isValidElement(i))return;let s=[...e,r];if(i.type===ie.Fragment){t.push.apply(t,c8(i.props.children,s));return}i.type!==Vn&&Or(!1),!i.props.index||!i.props.children||Or(!1);let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=c8(i.props.children,s)),t.push(a)}),t}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function d8(){return d8=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},d8.apply(this,arguments)}function EQ(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function TQ(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function CQ(n,e){return n.button===0&&(!e||e==="_self")&&!TQ(n)}const DQ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],PQ="6";try{window.__reactRouterVersion=PQ}catch{}const IQ="startTransition",wF=fD[IQ];function RQ(n){let{basename:e,children:t,future:i,window:r}=n,s=ie.useRef();s.current==null&&(s.current=FZ({window:r,v5Compat:!0}));let a=s.current,[o,c]=ie.useState({action:a.action,location:a.location}),{v7_startTransition:d}=i||{},u=ie.useCallback(f=>{d&&wF?wF(()=>c(f)):c(f)},[c,d]);return ie.useLayoutEffect(()=>a.listen(u),[a,u]),ie.useEffect(()=>NQ(i),[i]),ie.createElement(AQ,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,future:i})}const LQ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OQ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cn=ie.forwardRef(function(e,t){let{onClick:i,relative:r,reloadDocument:s,replace:a,state:o,target:c,to:d,preventScrollReset:u,viewTransition:f}=e,h=EQ(e,DQ),{basename:p}=ie.useContext(fm),v,w=!1;if(typeof d=="string"&&OQ.test(d)&&(v=d,LQ))try{let _=new URL(window.location.href),x=d.startsWith("//")?new URL(_.protocol+d):new URL(d),N=WR(x.pathname,p);x.origin===_.origin&&N!=null?d=N+x.search+x.hash:w=!0}catch{}let b=cQ(d,{relative:r}),m=FQ(d,{replace:a,state:o,target:c,preventScrollReset:u,relative:r,viewTransition:f});function y(_){i&&i(_),_.defaultPrevented||m(_)}return ie.createElement("a",d8({},h,{href:v||b,onClick:w||s?i:y,ref:t,target:c}))});var xF;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(xF||(xF={}));var _F;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(_F||(_F={}));function FQ(n,e){let{target:t,replace:i,state:r,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,c=or(),d=pm(),u=TW(n,{relative:a});return ie.useCallback(f=>{if(CQ(f,t)){f.preventDefault();let h=i!==void 0?i:Jk(d)===Jk(u);c(n,{replace:h,state:r,preventScrollReset:s,relative:a,viewTransition:o})}},[d,c,u,i,r,t,n,s,a,o])}let UQ={data:""},MQ=n=>{if(typeof window=="object"){let e=(n?n.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(n||document.head).appendChild(e),e.firstChild}return n||UQ},BQ=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,zQ=/\/\*[^]*?\*\/|  +/g,SF=/\n+/g,Rf=(n,e)=>{let t="",i="",r="";for(let s in n){let a=n[s];s[0]=="@"?s[1]=="i"?t=s+" "+a+";":i+=s[1]=="f"?Rf(a,s):s+"{"+Rf(a,s[1]=="k"?"":e)+"}":typeof a=="object"?i+=Rf(a,e?e.replace(/([^,])+/g,o=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,o):o?o+" "+c:c)):s):a!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=Rf.p?Rf.p(s,a):s+":"+a+";")}return t+(e&&r?e+"{"+r+"}":r)+i},Uu={},PW=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+PW(n[t]);return e}return n},jQ=(n,e,t,i,r)=>{let s=PW(n),a=Uu[s]||(Uu[s]=(c=>{let d=0,u=11;for(;d<c.length;)u=101*u+c.charCodeAt(d++)>>>0;return"go"+u})(s));if(!Uu[a]){let c=s!==n?n:(d=>{let u,f,h=[{}];for(;u=BQ.exec(d.replace(zQ,""));)u[4]?h.shift():u[3]?(f=u[3].replace(SF," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][u[1]]=u[2].replace(SF," ").trim();return h[0]})(n);Uu[a]=Rf(r?{["@keyframes "+a]:c}:c,t?"":"."+a)}let o=t&&Uu.g?Uu.g:null;return t&&(Uu.g=Uu[a]),((c,d,u,f)=>{f?d.data=d.data.replace(f,c):d.data.indexOf(c)===-1&&(d.data=u?c+d.data:d.data+c)})(Uu[a],e,i,o),a},WQ=(n,e,t)=>n.reduce((i,r,s)=>{let a=e[s];if(a&&a.call){let o=a(t),c=o&&o.props&&o.props.className||/^go/.test(o)&&o;a=c?"."+c:o&&typeof o=="object"?o.props?"":Rf(o,""):o===!1?"":o}return i+r+(a??"")},"");function rT(n){let e=this||{},t=n.call?n(e.p):n;return jQ(t.unshift?t.raw?WQ(t,[].slice.call(arguments,1),e.p):t.reduce((i,r)=>Object.assign(i,r&&r.call?r(e.p):r),{}):t,MQ(e.target),e.g,e.o,e.k)}let IW,u8,h8;rT.bind({g:1});let Jh=rT.bind({k:1});function $Q(n,e,t,i){Rf.p=e,IW=n,u8=t,h8=i}function mm(n,e){let t=this||{};return function(){let i=arguments;function r(s,a){let o=Object.assign({},s),c=o.className||r.className;t.p=Object.assign({theme:u8&&u8()},o),t.o=/ *go\d+/.test(c),o.className=rT.apply(t,i)+(c?" "+c:""),e&&(o.ref=a);let d=n;return n[0]&&(d=o.as||n,delete o.as),h8&&d[0]&&h8(o),IW(d,o)}return e?e(r):r}}var qQ=n=>typeof n=="function",Qk=(n,e)=>qQ(n)?n(e):n,HQ=(()=>{let n=0;return()=>(++n).toString()})(),RW=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),VQ=20,VR="default",LW=(n,e)=>{let{toastLimit:t}=n.settings;switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,t)};case 1:return{...n,toasts:n.toasts.map(a=>a.id===e.toast.id?{...a,...e.toast}:a)};case 2:let{toast:i}=e;return LW(n,{type:n.toasts.find(a=>a.id===i.id)?1:0,toast:i});case 3:let{toastId:r}=e;return{...n,toasts:n.toasts.map(a=>a.id===r||r===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(a=>a.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let s=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+s}))}}},vA=[],OW={toasts:[],pausedAt:void 0,settings:{toastLimit:VQ}},du={},FW=(n,e=VR)=>{du[e]=LW(du[e]||OW,n),vA.forEach(([t,i])=>{t===e&&i(du[e])})},UW=n=>Object.keys(du).forEach(e=>FW(n,e)),GQ=n=>Object.keys(du).find(e=>du[e].toasts.some(t=>t.id===n)),sT=(n=VR)=>e=>{FW(e,n)},XQ={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},YQ=(n={},e=VR)=>{let[t,i]=ie.useState(du[e]||OW),r=ie.useRef(du[e]);ie.useEffect(()=>(r.current!==du[e]&&i(du[e]),vA.push([e,i]),()=>{let a=vA.findIndex(([o])=>o===e);a>-1&&vA.splice(a,1)}),[e]);let s=t.toasts.map(a=>{var o,c,d;return{...n,...n[a.type],...a,removeDelay:a.removeDelay||((o=n[a.type])==null?void 0:o.removeDelay)||(n==null?void 0:n.removeDelay),duration:a.duration||((c=n[a.type])==null?void 0:c.duration)||(n==null?void 0:n.duration)||XQ[a.type],style:{...n.style,...(d=n[a.type])==null?void 0:d.style,...a.style}}});return{...t,toasts:s}},KQ=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:(t==null?void 0:t.id)||HQ()}),yS=n=>(e,t)=>{let i=KQ(e,n,t);return sT(i.toasterId||GQ(i.id))({type:2,toast:i}),i.id},lt=(n,e)=>yS("blank")(n,e);lt.error=yS("error");lt.success=yS("success");lt.loading=yS("loading");lt.custom=yS("custom");lt.dismiss=(n,e)=>{let t={type:3,toastId:n};e?sT(e)(t):UW(t)};lt.dismissAll=n=>lt.dismiss(void 0,n);lt.remove=(n,e)=>{let t={type:4,toastId:n};e?sT(e)(t):UW(t)};lt.removeAll=n=>lt.remove(void 0,n);lt.promise=(n,e,t)=>{let i=lt.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof n=="function"&&(n=n()),n.then(r=>{let s=e.success?Qk(e.success,r):void 0;return s?lt.success(s,{id:i,...t,...t==null?void 0:t.success}):lt.dismiss(i),r}).catch(r=>{let s=e.error?Qk(e.error,r):void 0;s?lt.error(s,{id:i,...t,...t==null?void 0:t.error}):lt.dismiss(i)}),n};var JQ=1e3,ZQ=(n,e="default")=>{let{toasts:t,pausedAt:i}=YQ(n,e),r=ie.useRef(new Map).current,s=ie.useCallback((f,h=JQ)=>{if(r.has(f))return;let p=setTimeout(()=>{r.delete(f),a({type:4,toastId:f})},h);r.set(f,p)},[]);ie.useEffect(()=>{if(i)return;let f=Date.now(),h=t.map(p=>{if(p.duration===1/0)return;let v=(p.duration||0)+p.pauseDuration-(f-p.createdAt);if(v<0){p.visible&&lt.dismiss(p.id);return}return setTimeout(()=>lt.dismiss(p.id,e),v)});return()=>{h.forEach(p=>p&&clearTimeout(p))}},[t,i,e]);let a=ie.useCallback(sT(e),[e]),o=ie.useCallback(()=>{a({type:5,time:Date.now()})},[a]),c=ie.useCallback((f,h)=>{a({type:1,toast:{id:f,height:h}})},[a]),d=ie.useCallback(()=>{i&&a({type:6,time:Date.now()})},[i,a]),u=ie.useCallback((f,h)=>{let{reverseOrder:p=!1,gutter:v=8,defaultPosition:w}=h||{},b=t.filter(_=>(_.position||w)===(f.position||w)&&_.height),m=b.findIndex(_=>_.id===f.id),y=b.filter((_,x)=>x<m&&_.visible).length;return b.filter(_=>_.visible).slice(...p?[y+1]:[0,y]).reduce((_,x)=>_+(x.height||0)+v,0)},[t]);return ie.useEffect(()=>{t.forEach(f=>{if(f.dismissed)s(f.id,f.removeDelay);else{let h=r.get(f.id);h&&(clearTimeout(h),r.delete(f.id))}})},[t,s]),{toasts:t,handlers:{updateHeight:c,startPause:o,endPause:d,calculateOffset:u}}},QQ=Jh`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,eee=Jh`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,tee=Jh`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,nee=mm("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${QQ} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${eee} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${tee} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,iee=Jh`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,ree=mm("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${iee} 1s linear infinite;
`,see=Jh`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,aee=Jh`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,oee=mm("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${see} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${aee} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,lee=mm("div")`
  position: absolute;
`,cee=mm("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,dee=Jh`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,uee=mm("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${dee} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,hee=({toast:n})=>{let{icon:e,type:t,iconTheme:i}=n;return e!==void 0?typeof e=="string"?ie.createElement(uee,null,e):e:t==="blank"?null:ie.createElement(cee,null,ie.createElement(ree,{...i}),t!=="loading"&&ie.createElement(lee,null,t==="error"?ie.createElement(nee,{...i}):ie.createElement(oee,{...i})))},fee=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,pee=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,mee="0%{opacity:0;} 100%{opacity:1;}",gee="0%{opacity:1;} 100%{opacity:0;}",yee=mm("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,vee=mm("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,bee=(n,e)=>{let t=n.includes("top")?1:-1,[i,r]=RW()?[mee,gee]:[fee(t),pee(t)];return{animation:e?`${Jh(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Jh(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},wee=ie.memo(({toast:n,position:e,style:t,children:i})=>{let r=n.height?bee(n.position||e||"top-center",n.visible):{opacity:0},s=ie.createElement(hee,{toast:n}),a=ie.createElement(vee,{...n.ariaProps},Qk(n.message,n));return ie.createElement(yee,{className:n.className,style:{...r,...t,...n.style}},typeof i=="function"?i({icon:s,message:a}):ie.createElement(ie.Fragment,null,s,a))});$Q(ie.createElement);var xee=({id:n,className:e,style:t,onHeightUpdate:i,children:r})=>{let s=ie.useCallback(a=>{if(a){let o=()=>{let c=a.getBoundingClientRect().height;i(n,c)};o(),new MutationObserver(o).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[n,i]);return ie.createElement("div",{ref:s,className:e,style:t},r)},_ee=(n,e)=>{let t=n.includes("top"),i=t?{top:0}:{bottom:0},r=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:RW()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...i,...r}},See=rT`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,kN=16,Nee=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:i,children:r,toasterId:s,containerStyle:a,containerClassName:o})=>{let{toasts:c,handlers:d}=ZQ(t,s);return ie.createElement("div",{"data-rht-toaster":s||"",style:{position:"fixed",zIndex:9999,top:kN,left:kN,right:kN,bottom:kN,pointerEvents:"none",...a},className:o,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map(u=>{let f=u.position||e,h=d.calculateOffset(u,{reverseOrder:n,gutter:i,defaultPosition:e}),p=_ee(f,h);return ie.createElement(xee,{id:u.id,key:u.id,onHeightUpdate:d.updateHeight,className:u.visible?See:"",style:p},u.type==="custom"?Qk(u.message,u):r?r(u):ie.createElement(wee,{toast:u,position:f}))}))},_n=lt;function MW(n,e){return function(){return n.apply(e,arguments)}}const{toString:Aee}=Object.prototype,{getPrototypeOf:GR}=Object,{iterator:aT,toStringTag:BW}=Symbol,oT=(n=>e=>{const t=Aee.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),rd=n=>(n=n.toLowerCase(),e=>oT(e)===n),lT=n=>e=>typeof e===n,{isArray:qb}=Array,Tb=lT("undefined");function vS(n){return n!==null&&!Tb(n)&&n.constructor!==null&&!Tb(n.constructor)&&_o(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const zW=rd("ArrayBuffer");function kee(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&zW(n.buffer),e}const Eee=lT("string"),_o=lT("function"),jW=lT("number"),bS=n=>n!==null&&typeof n=="object",Tee=n=>n===!0||n===!1,bA=n=>{if(oT(n)!=="object")return!1;const e=GR(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(BW in n)&&!(aT in n)},Cee=n=>{if(!bS(n)||vS(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},Dee=rd("Date"),Pee=rd("File"),Iee=rd("Blob"),Ree=rd("FileList"),Lee=n=>bS(n)&&_o(n.pipe),Oee=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||_o(n.append)&&((e=oT(n))==="formdata"||e==="object"&&_o(n.toString)&&n.toString()==="[object FormData]"))},Fee=rd("URLSearchParams"),[Uee,Mee,Bee,zee]=["ReadableStream","Request","Response","Headers"].map(rd),jee=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wS(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,r;if(typeof n!="object"&&(n=[n]),qb(n))for(i=0,r=n.length;i<r;i++)e.call(null,n[i],i,n);else{if(vS(n))return;const s=t?Object.getOwnPropertyNames(n):Object.keys(n),a=s.length;let o;for(i=0;i<a;i++)o=s[i],e.call(null,n[o],o,n)}}function WW(n,e){if(vS(n))return null;e=e.toLowerCase();const t=Object.keys(n);let i=t.length,r;for(;i-- >0;)if(r=t[i],e===r.toLowerCase())return r;return null}const Wm=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),$W=n=>!Tb(n)&&n!==Wm;function f8(){const{caseless:n,skipUndefined:e}=$W(this)&&this||{},t={},i=(r,s)=>{const a=n&&WW(t,s)||s;bA(t[a])&&bA(r)?t[a]=f8(t[a],r):bA(r)?t[a]=f8({},r):qb(r)?t[a]=r.slice():(!e||!Tb(r))&&(t[a]=r)};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&wS(arguments[r],i);return t}const Wee=(n,e,t,{allOwnKeys:i}={})=>(wS(e,(r,s)=>{t&&_o(r)?n[s]=MW(r,t):n[s]=r},{allOwnKeys:i}),n),$ee=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),qee=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},Hee=(n,e,t,i)=>{let r,s,a;const o={};if(e=e||{},n==null)return e;do{for(r=Object.getOwnPropertyNames(n),s=r.length;s-- >0;)a=r[s],(!i||i(a,n,e))&&!o[a]&&(e[a]=n[a],o[a]=!0);n=t!==!1&&GR(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},Vee=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},Gee=n=>{if(!n)return null;if(qb(n))return n;let e=n.length;if(!jW(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},Xee=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&GR(Uint8Array)),Yee=(n,e)=>{const i=(n&&n[aT]).call(n);let r;for(;(r=i.next())&&!r.done;){const s=r.value;e.call(n,s[0],s[1])}},Kee=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},Jee=rd("HTMLFormElement"),Zee=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,r){return i.toUpperCase()+r}),NF=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),Qee=rd("RegExp"),qW=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};wS(t,(r,s)=>{let a;(a=e(r,s,n))!==!1&&(i[s]=a||r)}),Object.defineProperties(n,i)},ete=n=>{qW(n,(e,t)=>{if(_o(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(_o(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},tte=(n,e)=>{const t={},i=r=>{r.forEach(s=>{t[s]=!0})};return qb(n)?i(n):i(String(n).split(e)),t},nte=()=>{},ite=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function rte(n){return!!(n&&_o(n.append)&&n[BW]==="FormData"&&n[aT])}const ste=n=>{const e=new Array(10),t=(i,r)=>{if(bS(i)){if(e.indexOf(i)>=0)return;if(vS(i))return i;if(!("toJSON"in i)){e[r]=i;const s=qb(i)?[]:{};return wS(i,(a,o)=>{const c=t(a,r+1);!Tb(c)&&(s[o]=c)}),e[r]=void 0,s}}return i};return t(n,0)},ate=rd("AsyncFunction"),ote=n=>n&&(bS(n)||_o(n))&&_o(n.then)&&_o(n.catch),HW=((n,e)=>n?setImmediate:e?((t,i)=>(Wm.addEventListener("message",({source:r,data:s})=>{r===Wm&&s===t&&i.length&&i.shift()()},!1),r=>{i.push(r),Wm.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",_o(Wm.postMessage)),lte=typeof queueMicrotask<"u"?queueMicrotask.bind(Wm):typeof process<"u"&&process.nextTick||HW,cte=n=>n!=null&&_o(n[aT]),gt={isArray:qb,isArrayBuffer:zW,isBuffer:vS,isFormData:Oee,isArrayBufferView:kee,isString:Eee,isNumber:jW,isBoolean:Tee,isObject:bS,isPlainObject:bA,isEmptyObject:Cee,isReadableStream:Uee,isRequest:Mee,isResponse:Bee,isHeaders:zee,isUndefined:Tb,isDate:Dee,isFile:Pee,isBlob:Iee,isRegExp:Qee,isFunction:_o,isStream:Lee,isURLSearchParams:Fee,isTypedArray:Xee,isFileList:Ree,forEach:wS,merge:f8,extend:Wee,trim:jee,stripBOM:$ee,inherits:qee,toFlatObject:Hee,kindOf:oT,kindOfTest:rd,endsWith:Vee,toArray:Gee,forEachEntry:Yee,matchAll:Kee,isHTMLForm:Jee,hasOwnProperty:NF,hasOwnProp:NF,reduceDescriptors:qW,freezeMethods:ete,toObjectSet:tte,toCamelCase:Zee,noop:nte,toFiniteNumber:ite,findKey:WW,global:Wm,isContextDefined:$W,isSpecCompliantForm:rte,toJSONObject:ste,isAsyncFn:ate,isThenable:ote,setImmediate:HW,asap:lte,isIterable:cte};function yn(n,e,t,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}gt.inherits(yn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:gt.toJSONObject(this.config),code:this.code,status:this.status}}});const VW=yn.prototype,GW={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{GW[n]={value:n}});Object.defineProperties(yn,GW);Object.defineProperty(VW,"isAxiosError",{value:!0});yn.from=(n,e,t,i,r,s)=>{const a=Object.create(VW);gt.toFlatObject(n,a,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const o=n&&n.message?n.message:"Error",c=e==null&&n?n.code:e;return yn.call(a,o,c,t,i,r),n&&a.cause==null&&Object.defineProperty(a,"cause",{value:n,configurable:!0}),a.name=n&&n.name||"Error",s&&Object.assign(a,s),a};const dte=null;function p8(n){return gt.isPlainObject(n)||gt.isArray(n)}function XW(n){return gt.endsWith(n,"[]")?n.slice(0,-2):n}function AF(n,e,t){return n?n.concat(e).map(function(r,s){return r=XW(r),!t&&s?"["+r+"]":r}).join(t?".":""):e}function ute(n){return gt.isArray(n)&&!n.some(p8)}const hte=gt.toFlatObject(gt,{},null,function(e){return/^is[A-Z]/.test(e)});function cT(n,e,t){if(!gt.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=gt.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,b){return!gt.isUndefined(b[w])});const i=t.metaTokens,r=t.visitor||u,s=t.dots,a=t.indexes,c=(t.Blob||typeof Blob<"u"&&Blob)&&gt.isSpecCompliantForm(e);if(!gt.isFunction(r))throw new TypeError("visitor must be a function");function d(v){if(v===null)return"";if(gt.isDate(v))return v.toISOString();if(gt.isBoolean(v))return v.toString();if(!c&&gt.isBlob(v))throw new yn("Blob is not supported. Use a Buffer instead.");return gt.isArrayBuffer(v)||gt.isTypedArray(v)?c&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function u(v,w,b){let m=v;if(v&&!b&&typeof v=="object"){if(gt.endsWith(w,"{}"))w=i?w:w.slice(0,-2),v=JSON.stringify(v);else if(gt.isArray(v)&&ute(v)||(gt.isFileList(v)||gt.endsWith(w,"[]"))&&(m=gt.toArray(v)))return w=XW(w),m.forEach(function(_,x){!(gt.isUndefined(_)||_===null)&&e.append(a===!0?AF([w],x,s):a===null?w:w+"[]",d(_))}),!1}return p8(v)?!0:(e.append(AF(b,w,s),d(v)),!1)}const f=[],h=Object.assign(hte,{defaultVisitor:u,convertValue:d,isVisitable:p8});function p(v,w){if(!gt.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+w.join("."));f.push(v),gt.forEach(v,function(m,y){(!(gt.isUndefined(m)||m===null)&&r.call(e,m,gt.isString(y)?y.trim():y,w,h))===!0&&p(m,w?w.concat(y):[y])}),f.pop()}}if(!gt.isObject(n))throw new TypeError("data must be an object");return p(n),e}function kF(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function XR(n,e){this._pairs=[],n&&cT(n,this,e)}const YW=XR.prototype;YW.append=function(e,t){this._pairs.push([e,t])};YW.toString=function(e){const t=e?function(i){return e.call(this,i,kF)}:kF;return this._pairs.map(function(r){return t(r[0])+"="+t(r[1])},"").join("&")};function fte(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function KW(n,e,t){if(!e)return n;const i=t&&t.encode||fte;gt.isFunction(t)&&(t={serialize:t});const r=t&&t.serialize;let s;if(r?s=r(e,t):s=gt.isURLSearchParams(e)?e.toString():new XR(e,t).toString(i),s){const a=n.indexOf("#");a!==-1&&(n=n.slice(0,a)),n+=(n.indexOf("?")===-1?"?":"&")+s}return n}class pte{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){gt.forEach(this.handlers,function(i){i!==null&&e(i)})}}const EF=pte,JW={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},mte=typeof URLSearchParams<"u"?URLSearchParams:XR,gte=typeof FormData<"u"?FormData:null,yte=typeof Blob<"u"?Blob:null,vte={isBrowser:!0,classes:{URLSearchParams:mte,FormData:gte,Blob:yte},protocols:["http","https","file","blob","url","data"]},YR=typeof window<"u"&&typeof document<"u",m8=typeof navigator=="object"&&navigator||void 0,bte=YR&&(!m8||["ReactNative","NativeScript","NS"].indexOf(m8.product)<0),wte=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),xte=YR&&window.location.href||"http://localhost",_te=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:YR,hasStandardBrowserEnv:bte,hasStandardBrowserWebWorkerEnv:wte,navigator:m8,origin:xte},Symbol.toStringTag,{value:"Module"})),Sa={..._te,...vte};function Ste(n,e){return cT(n,new Sa.classes.URLSearchParams,{visitor:function(t,i,r,s){return Sa.isNode&&gt.isBuffer(t)?(this.append(i,t.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function Nte(n){return gt.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Ate(n){const e={},t=Object.keys(n);let i;const r=t.length;let s;for(i=0;i<r;i++)s=t[i],e[s]=n[s];return e}function ZW(n){function e(t,i,r,s){let a=t[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),c=s>=t.length;return a=!a&&gt.isArray(r)?r.length:a,c?(gt.hasOwnProp(r,a)?r[a]=[r[a],i]:r[a]=i,!o):((!r[a]||!gt.isObject(r[a]))&&(r[a]=[]),e(t,i,r[a],s)&&gt.isArray(r[a])&&(r[a]=Ate(r[a])),!o)}if(gt.isFormData(n)&&gt.isFunction(n.entries)){const t={};return gt.forEachEntry(n,(i,r)=>{e(Nte(i),r,t,0)}),t}return null}function kte(n,e,t){if(gt.isString(n))try{return(e||JSON.parse)(n),gt.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(t||JSON.stringify)(n)}const KR={transitional:JW,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",r=i.indexOf("application/json")>-1,s=gt.isObject(e);if(s&&gt.isHTMLForm(e)&&(e=new FormData(e)),gt.isFormData(e))return r?JSON.stringify(ZW(e)):e;if(gt.isArrayBuffer(e)||gt.isBuffer(e)||gt.isStream(e)||gt.isFile(e)||gt.isBlob(e)||gt.isReadableStream(e))return e;if(gt.isArrayBufferView(e))return e.buffer;if(gt.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Ste(e,this.formSerializer).toString();if((o=gt.isFileList(e))||i.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return cT(o?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),kte(e)):e}],transformResponse:[function(e){const t=this.transitional||KR.transitional,i=t&&t.forcedJSONParsing,r=this.responseType==="json";if(gt.isResponse(e)||gt.isReadableStream(e))return e;if(e&&gt.isString(e)&&(i&&!this.responseType||r)){const a=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(o){if(a)throw o.name==="SyntaxError"?yn.from(o,yn.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Sa.classes.FormData,Blob:Sa.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};gt.forEach(["delete","get","head","post","put","patch"],n=>{KR.headers[n]={}});const JR=KR,Ete=gt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Tte=n=>{const e={};let t,i,r;return n&&n.split(`
`).forEach(function(a){r=a.indexOf(":"),t=a.substring(0,r).trim().toLowerCase(),i=a.substring(r+1).trim(),!(!t||e[t]&&Ete[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},TF=Symbol("internals");function A2(n){return n&&String(n).trim().toLowerCase()}function wA(n){return n===!1||n==null?n:gt.isArray(n)?n.map(wA):String(n)}function Cte(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const Dte=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function t6(n,e,t,i,r){if(gt.isFunction(i))return i.call(this,e,t);if(r&&(e=t),!!gt.isString(e)){if(gt.isString(i))return e.indexOf(i)!==-1;if(gt.isRegExp(i))return i.test(e)}}function Pte(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function Ite(n,e){const t=gt.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(r,s,a){return this[i].call(this,e,r,s,a)},configurable:!0})})}class dT{constructor(e){e&&this.set(e)}set(e,t,i){const r=this;function s(o,c,d){const u=A2(c);if(!u)throw new Error("header name must be a non-empty string");const f=gt.findKey(r,u);(!f||r[f]===void 0||d===!0||d===void 0&&r[f]!==!1)&&(r[f||c]=wA(o))}const a=(o,c)=>gt.forEach(o,(d,u)=>s(d,u,c));if(gt.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(gt.isString(e)&&(e=e.trim())&&!Dte(e))a(Tte(e),t);else if(gt.isObject(e)&&gt.isIterable(e)){let o={},c,d;for(const u of e){if(!gt.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[d=u[0]]=(c=o[d])?gt.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}a(o,t)}else e!=null&&s(t,e,i);return this}get(e,t){if(e=A2(e),e){const i=gt.findKey(this,e);if(i){const r=this[i];if(!t)return r;if(t===!0)return Cte(r);if(gt.isFunction(t))return t.call(this,r,i);if(gt.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=A2(e),e){const i=gt.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||t6(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let r=!1;function s(a){if(a=A2(a),a){const o=gt.findKey(i,a);o&&(!t||t6(i,i[o],o,t))&&(delete i[o],r=!0)}}return gt.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let i=t.length,r=!1;for(;i--;){const s=t[i];(!e||t6(this,this[s],s,e,!0))&&(delete this[s],r=!0)}return r}normalize(e){const t=this,i={};return gt.forEach(this,(r,s)=>{const a=gt.findKey(i,s);if(a){t[a]=wA(r),delete t[s];return}const o=e?Pte(s):String(s).trim();o!==s&&delete t[s],t[o]=wA(r),i[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return gt.forEach(this,(i,r)=>{i!=null&&i!==!1&&(t[r]=e&&gt.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[TF]=this[TF]={accessors:{}}).accessors,r=this.prototype;function s(a){const o=A2(a);i[o]||(Ite(r,a),i[o]=!0)}return gt.isArray(e)?e.forEach(s):s(e),this}}dT.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);gt.reduceDescriptors(dT.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});gt.freezeMethods(dT);const Zc=dT;function n6(n,e){const t=this||JR,i=e||t,r=Zc.from(i.headers);let s=i.data;return gt.forEach(n,function(o){s=o.call(t,s,r.normalize(),e?e.status:void 0)}),r.normalize(),s}function QW(n){return!!(n&&n.__CANCEL__)}function Hb(n,e,t){yn.call(this,n??"canceled",yn.ERR_CANCELED,e,t),this.name="CanceledError"}gt.inherits(Hb,yn,{__CANCEL__:!0});function e$(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new yn("Request failed with status code "+t.status,[yn.ERR_BAD_REQUEST,yn.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Rte(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function Lte(n,e){n=n||10;const t=new Array(n),i=new Array(n);let r=0,s=0,a;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),u=i[s];a||(a=d),t[r]=c,i[r]=d;let f=s,h=0;for(;f!==r;)h+=t[f++],f=f%n;if(r=(r+1)%n,r===s&&(s=(s+1)%n),d-a<e)return;const p=u&&d-u;return p?Math.round(h*1e3/p):void 0}}function Ote(n,e){let t=0,i=1e3/e,r,s;const a=(d,u=Date.now())=>{t=u,r=null,s&&(clearTimeout(s),s=null),n(...d)};return[(...d)=>{const u=Date.now(),f=u-t;f>=i?a(d,u):(r=d,s||(s=setTimeout(()=>{s=null,a(r)},i-f)))},()=>r&&a(r)]}const e3=(n,e,t=3)=>{let i=0;const r=Lte(50,250);return Ote(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,c=a-i,d=r(c),u=a<=o;i=a;const f={loaded:a,total:o,progress:o?a/o:void 0,bytes:c,rate:d||void 0,estimated:d&&o&&u?(o-a)/d:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};n(f)},t)},CF=(n,e)=>{const t=n!=null;return[i=>e[0]({lengthComputable:t,total:n,loaded:i}),e[1]]},DF=n=>(...e)=>gt.asap(()=>n(...e)),Fte=Sa.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,Sa.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(Sa.origin),Sa.navigator&&/(msie|trident)/i.test(Sa.navigator.userAgent)):()=>!0,Ute=Sa.hasStandardBrowserEnv?{write(n,e,t,i,r,s,a){if(typeof document>"u")return;const o=[`${n}=${encodeURIComponent(e)}`];gt.isNumber(t)&&o.push(`expires=${new Date(t).toUTCString()}`),gt.isString(i)&&o.push(`path=${i}`),gt.isString(r)&&o.push(`domain=${r}`),s===!0&&o.push("secure"),gt.isString(a)&&o.push(`SameSite=${a}`),document.cookie=o.join("; ")},read(n){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Mte(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function Bte(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function t$(n,e,t){let i=!Mte(e);return n&&(i||t==!1)?Bte(n,e):e}const PF=n=>n instanceof Zc?{...n}:n;function z1(n,e){e=e||{};const t={};function i(d,u,f,h){return gt.isPlainObject(d)&&gt.isPlainObject(u)?gt.merge.call({caseless:h},d,u):gt.isPlainObject(u)?gt.merge({},u):gt.isArray(u)?u.slice():u}function r(d,u,f,h){if(gt.isUndefined(u)){if(!gt.isUndefined(d))return i(void 0,d,f,h)}else return i(d,u,f,h)}function s(d,u){if(!gt.isUndefined(u))return i(void 0,u)}function a(d,u){if(gt.isUndefined(u)){if(!gt.isUndefined(d))return i(void 0,d)}else return i(void 0,u)}function o(d,u,f){if(f in e)return i(d,u);if(f in n)return i(void 0,d)}const c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(d,u,f)=>r(PF(d),PF(u),f,!0)};return gt.forEach(Object.keys({...n,...e}),function(u){const f=c[u]||r,h=f(n[u],e[u],u);gt.isUndefined(h)&&f!==o||(t[u]=h)}),t}const n$=n=>{const e=z1({},n);let{data:t,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:s,headers:a,auth:o}=e;if(e.headers=a=Zc.from(a),e.url=KW(t$(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),gt.isFormData(t)){if(Sa.hasStandardBrowserEnv||Sa.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(gt.isFunction(t.getHeaders)){const c=t.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,f])=>{d.includes(u.toLowerCase())&&a.set(u,f)})}}if(Sa.hasStandardBrowserEnv&&(i&&gt.isFunction(i)&&(i=i(e)),i||i!==!1&&Fte(e.url))){const c=r&&s&&Ute.read(s);c&&a.set(r,c)}return e},zte=typeof XMLHttpRequest<"u",jte=zte&&function(n){return new Promise(function(t,i){const r=n$(n);let s=r.data;const a=Zc.from(r.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:d}=r,u,f,h,p,v;function w(){p&&p(),v&&v(),r.cancelToken&&r.cancelToken.unsubscribe(u),r.signal&&r.signal.removeEventListener("abort",u)}let b=new XMLHttpRequest;b.open(r.method.toUpperCase(),r.url,!0),b.timeout=r.timeout;function m(){if(!b)return;const _=Zc.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),N={data:!o||o==="text"||o==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:_,config:n,request:b};e$(function(T){t(T),w()},function(T){i(T),w()},N),b=null}"onloadend"in b?b.onloadend=m:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(m)},b.onabort=function(){b&&(i(new yn("Request aborted",yn.ECONNABORTED,n,b)),b=null)},b.onerror=function(x){const N=x&&x.message?x.message:"Network Error",k=new yn(N,yn.ERR_NETWORK,n,b);k.event=x||null,i(k),b=null},b.ontimeout=function(){let x=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const N=r.transitional||JW;r.timeoutErrorMessage&&(x=r.timeoutErrorMessage),i(new yn(x,N.clarifyTimeoutError?yn.ETIMEDOUT:yn.ECONNABORTED,n,b)),b=null},s===void 0&&a.setContentType(null),"setRequestHeader"in b&&gt.forEach(a.toJSON(),function(x,N){b.setRequestHeader(N,x)}),gt.isUndefined(r.withCredentials)||(b.withCredentials=!!r.withCredentials),o&&o!=="json"&&(b.responseType=r.responseType),d&&([h,v]=e3(d,!0),b.addEventListener("progress",h)),c&&b.upload&&([f,p]=e3(c),b.upload.addEventListener("progress",f),b.upload.addEventListener("loadend",p)),(r.cancelToken||r.signal)&&(u=_=>{b&&(i(!_||_.type?new Hb(null,n,b):_),b.abort(),b=null)},r.cancelToken&&r.cancelToken.subscribe(u),r.signal&&(r.signal.aborted?u():r.signal.addEventListener("abort",u)));const y=Rte(r.url);if(y&&Sa.protocols.indexOf(y)===-1){i(new yn("Unsupported protocol "+y+":",yn.ERR_BAD_REQUEST,n));return}b.send(s||null)})},Wte=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let i=new AbortController,r;const s=function(d){if(!r){r=!0,o();const u=d instanceof Error?d:this.reason;i.abort(u instanceof yn?u:new Hb(u instanceof Error?u.message:u))}};let a=e&&setTimeout(()=>{a=null,s(new yn(`timeout ${e} of ms exceeded`,yn.ETIMEDOUT))},e);const o=()=>{n&&(a&&clearTimeout(a),a=null,n.forEach(d=>{d.unsubscribe?d.unsubscribe(s):d.removeEventListener("abort",s)}),n=null)};n.forEach(d=>d.addEventListener("abort",s));const{signal:c}=i;return c.unsubscribe=()=>gt.asap(o),c}},$te=Wte,qte=function*(n,e){let t=n.byteLength;if(!e||t<e){yield n;return}let i=0,r;for(;i<t;)r=i+e,yield n.slice(i,r),i=r},Hte=async function*(n,e){for await(const t of Vte(n))yield*qte(t,e)},Vte=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},IF=(n,e,t,i)=>{const r=Hte(n,e);let s=0,a,o=c=>{a||(a=!0,i&&i(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await r.next();if(d){o(),c.close();return}let f=u.byteLength;if(t){let h=s+=f;t(h)}c.enqueue(new Uint8Array(u))}catch(d){throw o(d),d}},cancel(c){return o(c),r.return()}},{highWaterMark:2})},RF=64*1024,{isFunction:EN}=gt,Gte=(({Request:n,Response:e})=>({Request:n,Response:e}))(gt.global),{ReadableStream:LF,TextEncoder:OF}=gt.global,FF=(n,...e)=>{try{return!!n(...e)}catch{return!1}},Xte=n=>{n=gt.merge.call({skipUndefined:!0},Gte,n);const{fetch:e,Request:t,Response:i}=n,r=e?EN(e):typeof fetch=="function",s=EN(t),a=EN(i);if(!r)return!1;const o=r&&EN(LF),c=r&&(typeof OF=="function"?(v=>w=>v.encode(w))(new OF):async v=>new Uint8Array(await new t(v).arrayBuffer())),d=s&&o&&FF(()=>{let v=!1;const w=new t(Sa.origin,{body:new LF,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!w}),u=a&&o&&FF(()=>gt.isReadableStream(new i("").body)),f={stream:u&&(v=>v.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!f[v]&&(f[v]=(w,b)=>{let m=w&&w[v];if(m)return m.call(w);throw new yn(`Response type '${v}' is not supported`,yn.ERR_NOT_SUPPORT,b)})});const h=async v=>{if(v==null)return 0;if(gt.isBlob(v))return v.size;if(gt.isSpecCompliantForm(v))return(await new t(Sa.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(gt.isArrayBufferView(v)||gt.isArrayBuffer(v))return v.byteLength;if(gt.isURLSearchParams(v)&&(v=v+""),gt.isString(v))return(await c(v)).byteLength},p=async(v,w)=>{const b=gt.toFiniteNumber(v.getContentLength());return b??h(w)};return async v=>{let{url:w,method:b,data:m,signal:y,cancelToken:_,timeout:x,onDownloadProgress:N,onUploadProgress:k,responseType:T,headers:C,withCredentials:P="same-origin",fetchOptions:D}=n$(v),E=e||fetch;T=T?(T+"").toLowerCase():"text";let A=$te([y,_&&_.toAbortSignal()],x),I=null;const R=A&&A.unsubscribe&&(()=>{A.unsubscribe()});let M;try{if(k&&d&&b!=="get"&&b!=="head"&&(M=await p(C,m))!==0){let W=new t(w,{method:"POST",body:m,duplex:"half"}),L;if(gt.isFormData(m)&&(L=W.headers.get("content-type"))&&C.setContentType(L),W.body){const[z,X]=CF(M,e3(DF(k)));m=IF(W.body,RF,z,X)}}gt.isString(P)||(P=P?"include":"omit");const Y=s&&"credentials"in t.prototype,q={...D,signal:A,method:b.toUpperCase(),headers:C.normalize().toJSON(),body:m,duplex:"half",credentials:Y?P:void 0};I=s&&new t(w,q);let G=await(s?E(I,D):E(w,q));const B=u&&(T==="stream"||T==="response");if(u&&(N||B&&R)){const W={};["status","statusText","headers"].forEach(Q=>{W[Q]=G[Q]});const L=gt.toFiniteNumber(G.headers.get("content-length")),[z,X]=N&&CF(L,e3(DF(N),!0))||[];G=new i(IF(G.body,RF,z,()=>{X&&X(),R&&R()}),W)}T=T||"text";let J=await f[gt.findKey(f,T)||"text"](G,v);return!B&&R&&R(),await new Promise((W,L)=>{e$(W,L,{data:J,headers:Zc.from(G.headers),status:G.status,statusText:G.statusText,config:v,request:I})})}catch(Y){throw R&&R(),Y&&Y.name==="TypeError"&&/Load failed|fetch/i.test(Y.message)?Object.assign(new yn("Network Error",yn.ERR_NETWORK,v,I),{cause:Y.cause||Y}):yn.from(Y,Y&&Y.code,v,I)}}},Yte=new Map,i$=n=>{let e=n&&n.env||{};const{fetch:t,Request:i,Response:r}=e,s=[i,r,t];let a=s.length,o=a,c,d,u=Yte;for(;o--;)c=s[o],d=u.get(c),d===void 0&&u.set(c,d=o?new Map:Xte(e)),u=d;return d};i$();const ZR={http:dte,xhr:jte,fetch:{get:i$}};gt.forEach(ZR,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const UF=n=>`- ${n}`,Kte=n=>gt.isFunction(n)||n===null||n===!1;function Jte(n,e){n=gt.isArray(n)?n:[n];const{length:t}=n;let i,r;const s={};for(let a=0;a<t;a++){i=n[a];let o;if(r=i,!Kte(i)&&(r=ZR[(o=String(i)).toLowerCase()],r===void 0))throw new yn(`Unknown adapter '${o}'`);if(r&&(gt.isFunction(r)||(r=r.get(e))))break;s[o||"#"+a]=r}if(!r){const a=Object.entries(s).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=t?a.length>1?`since :
`+a.map(UF).join(`
`):" "+UF(a[0]):"as no adapter specified";throw new yn("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r}const r$={getAdapter:Jte,adapters:ZR};function i6(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Hb(null,n)}function MF(n){return i6(n),n.headers=Zc.from(n.headers),n.data=n6.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),r$.getAdapter(n.adapter||JR.adapter,n)(n).then(function(i){return i6(n),i.data=n6.call(n,n.transformResponse,i),i.headers=Zc.from(i.headers),i},function(i){return QW(i)||(i6(n),i&&i.response&&(i.response.data=n6.call(n,n.transformResponse,i.response),i.response.headers=Zc.from(i.response.headers))),Promise.reject(i)})}const s$="1.13.2",uT={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{uT[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const BF={};uT.transitional=function(e,t,i){function r(s,a){return"[Axios v"+s$+"] Transitional option '"+s+"'"+a+(i?". "+i:"")}return(s,a,o)=>{if(e===!1)throw new yn(r(a," has been removed"+(t?" in "+t:"")),yn.ERR_DEPRECATED);return t&&!BF[a]&&(BF[a]=!0,console.warn(r(a," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,a,o):!0}};uT.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function Zte(n,e,t){if(typeof n!="object")throw new yn("options must be an object",yn.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let r=i.length;for(;r-- >0;){const s=i[r],a=e[s];if(a){const o=n[s],c=o===void 0||a(o,s,n);if(c!==!0)throw new yn("option "+s+" must be "+c,yn.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new yn("Unknown option "+s,yn.ERR_BAD_OPTION)}}const xA={assertOptions:Zte,validators:uT},Ad=xA.validators;class t3{constructor(e){this.defaults=e||{},this.interceptors={request:new EF,response:new EF}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const s=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?s&&!String(i.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+s):i.stack=s}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=z1(this.defaults,t);const{transitional:i,paramsSerializer:r,headers:s}=t;i!==void 0&&xA.assertOptions(i,{silentJSONParsing:Ad.transitional(Ad.boolean),forcedJSONParsing:Ad.transitional(Ad.boolean),clarifyTimeoutError:Ad.transitional(Ad.boolean)},!1),r!=null&&(gt.isFunction(r)?t.paramsSerializer={serialize:r}:xA.assertOptions(r,{encode:Ad.function,serialize:Ad.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),xA.assertOptions(t,{baseUrl:Ad.spelling("baseURL"),withXsrfToken:Ad.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=s&&gt.merge(s.common,s[t.method]);s&&gt.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),t.headers=Zc.concat(a,s);const o=[];let c=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(t)===!1||(c=c&&w.synchronous,o.unshift(w.fulfilled,w.rejected))});const d=[];this.interceptors.response.forEach(function(w){d.push(w.fulfilled,w.rejected)});let u,f=0,h;if(!c){const v=[MF.bind(this),void 0];for(v.unshift(...o),v.push(...d),h=v.length,u=Promise.resolve(t);f<h;)u=u.then(v[f++],v[f++]);return u}h=o.length;let p=t;for(;f<h;){const v=o[f++],w=o[f++];try{p=v(p)}catch(b){w.call(this,b);break}}try{u=MF.call(this,p)}catch(v){return Promise.reject(v)}for(f=0,h=d.length;f<h;)u=u.then(d[f++],d[f++]);return u}getUri(e){e=z1(this.defaults,e);const t=t$(e.baseURL,e.url,e.allowAbsoluteUrls);return KW(t,e.params,e.paramsSerializer)}}gt.forEach(["delete","get","head","options"],function(e){t3.prototype[e]=function(t,i){return this.request(z1(i||{},{method:e,url:t,data:(i||{}).data}))}});gt.forEach(["post","put","patch"],function(e){function t(i){return function(s,a,o){return this.request(z1(o||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}t3.prototype[e]=t(),t3.prototype[e+"Form"]=t(!0)});const _A=t3;class QR{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(s){t=s});const i=this;this.promise.then(r=>{if(!i._listeners)return;let s=i._listeners.length;for(;s-- >0;)i._listeners[s](r);i._listeners=null}),this.promise.then=r=>{let s;const a=new Promise(o=>{i.subscribe(o),s=o}).then(r);return a.cancel=function(){i.unsubscribe(s)},a},e(function(s,a,o){i.reason||(i.reason=new Hb(s,a,o),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new QR(function(r){e=r}),cancel:e}}}const Qte=QR;function ene(n){return function(t){return n.apply(null,t)}}function tne(n){return gt.isObject(n)&&n.isAxiosError===!0}const g8={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(g8).forEach(([n,e])=>{g8[e]=n});const nne=g8;function a$(n){const e=new _A(n),t=MW(_A.prototype.request,e);return gt.extend(t,_A.prototype,e,{allOwnKeys:!0}),gt.extend(t,e,null,{allOwnKeys:!0}),t.create=function(r){return a$(z1(n,r))},t}const Gr=a$(JR);Gr.Axios=_A;Gr.CanceledError=Hb;Gr.CancelToken=Qte;Gr.isCancel=QW;Gr.VERSION=s$;Gr.toFormData=cT;Gr.AxiosError=yn;Gr.Cancel=Gr.CanceledError;Gr.all=function(e){return Promise.all(e)};Gr.spread=ene;Gr.isAxiosError=tne;Gr.mergeConfig=z1;Gr.AxiosHeaders=Zc;Gr.formToJSON=n=>ZW(gt.isHTMLForm(n)?new FormData(n):n);Gr.getAdapter=r$.getAdapter;Gr.HttpStatusCode=nne;Gr.default=Gr;const o$=Gr,ine={}.VITE_API_BASE_URL||"http://localhost:3000/api",ma=o$.create({baseURL:ine,headers:{"Content-Type":"application/json"}});ma.interceptors.request.use(n=>{const e=localStorage.getItem("authToken");return e&&(n.headers.Authorization=`Bearer ${e}`),n},n=>Promise.reject(n));ma.interceptors.response.use(n=>n,n=>{var e;return((e=n.response)==null?void 0:e.status)===401&&(localStorage.removeItem("authToken"),window.location.href="/login"),Promise.reject(n)});const k2={login:async n=>(await ma.post("/auth/login",n)).data,signup:async n=>(await ma.post("/auth/signup",n)).data,requestSignupOTP:async n=>(await ma.post("/auth/request-signup-otp",n)).data,verifySignupOTP:async(n,e)=>(await ma.post("/auth/verify-signup",{email:n,otp:e})).data,requestLoginOTP:async n=>(await ma.post("/auth/request-login-otp",{email:n})).data,verifyLoginOTP:async(n,e)=>(await ma.post("/auth/verify-login-otp",{email:n,otp:e})).data,requestOTP:async n=>(await ma.post("/auth/request-otp",{email:n})).data,verifyOTP:async(n,e)=>(await ma.post("/auth/verify-otp",{email:n,otp:e})).data,socialLogin:async(n,e)=>(await ma.post("/auth/social-login",{provider:n,token:e})).data,forgotPassword:async n=>(await ma.post("/auth/forgot-password",{email:n})).data,resetPassword:async(n,e)=>(await ma.post("/auth/reset-password",{token:n,newPassword:e})).data,getCurrentUser:async()=>(await ma.get("/auth/me")).data,updateProfile:async n=>(await ma.put("/auth/profile",n)).data,logout:async()=>(await ma.post("/auth/logout")).data},rne=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l$=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},sne=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=n[t++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=n[t++],a=n[t++],o=n[t++],c=((r&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{const s=n[t++],a=n[t++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|a&63)}}return e.join("")},c$={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const s=n[r],a=r+1<n.length,o=a?n[r+1]:0,c=r+2<n.length,d=c?n[r+2]:0,u=s>>2,f=(s&3)<<4|o>>4;let h=(o&15)<<2|d>>6,p=d&63;c||(p=64,a||(h=64)),i.push(t[u],t[f],t[h],t[p])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(l$(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):sne(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const s=t[n.charAt(r++)],o=r<n.length?t[n.charAt(r)]:0;++r;const d=r<n.length?t[n.charAt(r)]:64;++r;const f=r<n.length?t[n.charAt(r)]:64;if(++r,s==null||o==null||d==null||f==null)throw new ane;const h=s<<2|o>>4;if(i.push(h),d!==64){const p=o<<4&240|d>>2;if(i.push(p),f!==64){const v=d<<6&192|f;i.push(v)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ane extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const one=function(n){const e=l$(n);return c$.encodeByteArray(e,!0)},n3=function(n){return one(n).replace(/\./g,"")},d$=function(n){try{return c$.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cne=()=>lne().__FIREBASE_DEFAULTS__,dne=()=>{if(typeof process>"u"||typeof process.env>"u")return;const n={}.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},une=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&d$(n[1]);return e&&JSON.parse(e)},eL=()=>{try{return rne()||cne()||dne()||une()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},u$=n=>{var e,t;return(t=(e=eL())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},h$=n=>{const e=u$(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},f$=()=>{var n;return(n=eL())==null?void 0:n.config},p$=n=>{var e;return(e=eL())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hne{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tL(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m$(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",r=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...n},o="";return[n3(JSON.stringify(t)),n3(JSON.stringify(a)),o].join(".")}const Dw={};function fne(){const n={prod:[],emulator:[]};for(const e of Object.keys(Dw))Dw[e]?n.emulator.push(e):n.prod.push(e);return n}function pne(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let zF=!1;function nL(n,e){if(typeof window>"u"||typeof document>"u"||!Vb(window.location.host)||Dw[n]===e||Dw[n]||zF)return;Dw[n]=e;function t(h){return`__firebase__banner__${h}`}const i="__firebase__banner",s=fne().prod.length>0;function a(){const h=document.getElementById(i);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function c(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function d(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{zF=!0,a()},h}function u(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=pne(i),p=t("text"),v=document.getElementById(p)||document.createElement("span"),w=t("learnmore"),b=document.getElementById(w)||document.createElement("a"),m=t("preprendIcon"),y=document.getElementById(m)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const _=h.element;o(_),u(b,w);const x=d();c(y,m),_.append(y,v,b,x),document.body.appendChild(_)}s?(v.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,v.innerText="Preview backend running in this workspace."),v.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ha(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mne(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ha())}function gne(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function g$(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function yne(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vne(){const n=Ha();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function y$(){try{return typeof indexedDB=="object"}catch{return!1}}function v$(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var s;e(((s=r.error)==null?void 0:s.message)||"")}}catch(t){e(t)}})}function bne(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wne="FirebaseError";class sc extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=wne,Object.setPrototypeOf(this,sc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,i0.prototype.create)}}class i0{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,s=this.errors[e],a=s?xne(s,i):"Error",o=`${this.serviceName}: ${a} (${r}).`;return new sc(r,o,i)}}function xne(n,e){return n.replace(_ne,(t,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const _ne=/\{\$([^}]+)}/g;function Sne(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function im(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const s=n[r],a=e[r];if(jF(s)&&jF(a)){if(!im(s,a))return!1}else if(s!==a)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function jF(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function G2(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function X2(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Nne(n,e){const t=new Ane(n,e);return t.subscribe.bind(t)}class Ane{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");kne(e,["next","error","complete"])?r=e:r={next:e,error:t,complete:i},r.next===void 0&&(r.next=r6),r.error===void 0&&(r.error=r6),r.complete===void 0&&(r.complete=r6);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kne(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function r6(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ene=1e3,Tne=2,Cne=4*60*60*1e3,Dne=.5;function WF(n,e=Ene,t=Tne){const i=e*Math.pow(t,n),r=Math.round(Dne*i*(Math.random()-.5)*2);return Math.min(Cne,i+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xa(n){return n&&n._delegate?n._delegate:n}class tc{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pne{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new hne;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Rne(e))try{this.getOrInitializeService({instanceIdentifier:Em})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=Em){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Em){return this.instances.has(e)}getOptions(e=Em){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);i===o&&a.resolve(r)}return r}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);const s=this.instances.get(i);return s&&e(s,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Ine(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Em){return this.component?this.component.multipleInstances?e:Em:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ine(n){return n===Em?void 0:n}function Rne(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lne{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Pne(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Qn||(Qn={}));const One={debug:Qn.DEBUG,verbose:Qn.VERBOSE,info:Qn.INFO,warn:Qn.WARN,error:Qn.ERROR,silent:Qn.SILENT},Fne=Qn.INFO,Une={[Qn.DEBUG]:"log",[Qn.VERBOSE]:"log",[Qn.INFO]:"info",[Qn.WARN]:"warn",[Qn.ERROR]:"error"},Mne=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),r=Une[e];if(r)console[r](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hT{constructor(e){this.name=e,this._logLevel=Fne,this._logHandler=Mne,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?One[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qn.DEBUG,...e),this._logHandler(this,Qn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qn.VERBOSE,...e),this._logHandler(this,Qn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qn.INFO,...e),this._logHandler(this,Qn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qn.WARN,...e),this._logHandler(this,Qn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qn.ERROR,...e),this._logHandler(this,Qn.ERROR,...e)}}const Bne=(n,e)=>e.some(t=>n instanceof t);let $F,qF;function zne(){return $F||($F=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jne(){return qF||(qF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const b$=new WeakMap,y8=new WeakMap,w$=new WeakMap,s6=new WeakMap,iL=new WeakMap;function Wne(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",s),n.removeEventListener("error",a)},s=()=>{t(Yp(n.result)),r()},a=()=>{i(n.error),r()};n.addEventListener("success",s),n.addEventListener("error",a)});return e.then(t=>{t instanceof IDBCursor&&b$.set(t,n)}).catch(()=>{}),iL.set(e,n),e}function $ne(n){if(y8.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",a),n.removeEventListener("abort",a)},s=()=>{t(),r()},a=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",s),n.addEventListener("error",a),n.addEventListener("abort",a)});y8.set(n,e)}let v8={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return y8.get(n);if(e==="objectStoreNames")return n.objectStoreNames||w$.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Yp(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function qne(n){v8=n(v8)}function Hne(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(a6(this),e,...t);return w$.set(i,e.sort?e.sort():[e]),Yp(i)}:jne().includes(n)?function(...e){return n.apply(a6(this),e),Yp(b$.get(this))}:function(...e){return Yp(n.apply(a6(this),e))}}function Vne(n){return typeof n=="function"?Hne(n):(n instanceof IDBTransaction&&$ne(n),Bne(n,zne())?new Proxy(n,v8):n)}function Yp(n){if(n instanceof IDBRequest)return Wne(n);if(s6.has(n))return s6.get(n);const e=Vne(n);return e!==n&&(s6.set(n,e),iL.set(e,n)),e}const a6=n=>iL.get(n);function x$(n,e,{blocked:t,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(n,e),o=Yp(a);return i&&a.addEventListener("upgradeneeded",c=>{i(Yp(a.result),c.oldVersion,c.newVersion,Yp(a.transaction),c)}),t&&a.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),o.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",d=>r(d.oldVersion,d.newVersion,d))}).catch(()=>{}),o}const Gne=["get","getKey","getAll","getAllKeys","count"],Xne=["put","add","delete","clear"],o6=new Map;function HF(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(o6.get(e))return o6.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=Xne.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(r||Gne.includes(t)))return;const s=async function(a,...o){const c=this.transaction(a,r?"readwrite":"readonly");let d=c.store;return i&&(d=d.index(o.shift())),(await Promise.all([d[t](...o),r&&c.done]))[0]};return o6.set(e,s),s}qne(n=>({...n,get:(e,t,i)=>HF(e,t)||n.get(e,t,i),has:(e,t)=>!!HF(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yne{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Kne(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function Kne(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const b8="@firebase/app",VF="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh=new hT("@firebase/app"),Jne="@firebase/app-compat",Zne="@firebase/analytics-compat",Qne="@firebase/analytics",eie="@firebase/app-check-compat",tie="@firebase/app-check",nie="@firebase/auth",iie="@firebase/auth-compat",rie="@firebase/database",sie="@firebase/data-connect",aie="@firebase/database-compat",oie="@firebase/functions",lie="@firebase/functions-compat",cie="@firebase/installations",die="@firebase/installations-compat",uie="@firebase/messaging",hie="@firebase/messaging-compat",fie="@firebase/performance",pie="@firebase/performance-compat",mie="@firebase/remote-config",gie="@firebase/remote-config-compat",yie="@firebase/storage",vie="@firebase/storage-compat",bie="@firebase/firestore",wie="@firebase/ai",xie="@firebase/firestore-compat",_ie="firebase",Sie="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w8="[DEFAULT]",Nie={[b8]:"fire-core",[Jne]:"fire-core-compat",[Qne]:"fire-analytics",[Zne]:"fire-analytics-compat",[tie]:"fire-app-check",[eie]:"fire-app-check-compat",[nie]:"fire-auth",[iie]:"fire-auth-compat",[rie]:"fire-rtdb",[sie]:"fire-data-connect",[aie]:"fire-rtdb-compat",[oie]:"fire-fn",[lie]:"fire-fn-compat",[cie]:"fire-iid",[die]:"fire-iid-compat",[uie]:"fire-fcm",[hie]:"fire-fcm-compat",[fie]:"fire-perf",[pie]:"fire-perf-compat",[mie]:"fire-rc",[gie]:"fire-rc-compat",[yie]:"fire-gcs",[vie]:"fire-gcs-compat",[bie]:"fire-fst",[xie]:"fire-fst-compat",[wie]:"fire-vertex","fire-js":"fire-js",[_ie]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3=new Map,Aie=new Map,x8=new Map;function GF(n,e){try{n.container.addComponent(e)}catch(t){Zh.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function td(n){const e=n.name;if(x8.has(e))return Zh.debug(`There were multiple attempts to register component ${e}.`),!1;x8.set(e,n);for(const t of i3.values())GF(t,n);for(const t of Aie.values())GF(t,n);return!0}function gm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function fo(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kie={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kp=new i0("app","Firebase",kie);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eie{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new tc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kp.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0=Sie;function _$(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:w8,automaticDataCollectionEnabled:!0,...e},r=i.name;if(typeof r!="string"||!r)throw Kp.create("bad-app-name",{appName:String(r)});if(t||(t=f$()),!t)throw Kp.create("no-options");const s=i3.get(r);if(s){if(im(t,s.options)&&im(i,s.config))return s;throw Kp.create("duplicate-app",{appName:r})}const a=new Lne(r);for(const c of x8.values())a.addComponent(c);const o=new Eie(t,i,a);return i3.set(r,o),o}function fT(n=w8){const e=i3.get(n);if(!e&&n===w8&&f$())return _$();if(!e)throw Kp.create("no-app",{appName:n});return e}function So(n,e,t){let i=Nie[n]??n;t&&(i+=`-${t}`);const r=i.match(/\s|\//),s=e.match(/\s|\//);if(r||s){const a=[`Unable to register library "${i}" with version "${e}":`];r&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zh.warn(a.join(" "));return}td(new tc(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tie="firebase-heartbeat-database",Cie=1,ax="firebase-heartbeat-store";let l6=null;function S$(){return l6||(l6=x$(Tie,Cie,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ax)}catch(t){console.warn(t)}}}}).catch(n=>{throw Kp.create("idb-open",{originalErrorMessage:n.message})})),l6}async function Die(n){try{const t=(await S$()).transaction(ax),i=await t.objectStore(ax).get(N$(n));return await t.done,i}catch(e){if(e instanceof sc)Zh.warn(e.message);else{const t=Kp.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zh.warn(t.message)}}}async function XF(n,e){try{const i=(await S$()).transaction(ax,"readwrite");await i.objectStore(ax).put(e,N$(n)),await i.done}catch(t){if(t instanceof sc)Zh.warn(t.message);else{const i=Kp.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Zh.warn(i.message)}}}function N$(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pie=1024,Iie=30;class Rie{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Oie(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=YF();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats.length>Iie){const a=Fie(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Zh.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=YF(),{heartbeatsToSend:i,unsentEntries:r}=Lie(this._heartbeatsCache.heartbeats),s=n3(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Zh.warn(t),""}}}function YF(){return new Date().toISOString().substring(0,10)}function Lie(n,e=Pie){const t=[];let i=n.slice();for(const r of n){const s=t.find(a=>a.agent===r.agent);if(s){if(s.dates.push(r.date),KF(t)>e){s.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),KF(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class Oie{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return y$()?v$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Die(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return XF(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return XF(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function KF(n){return n3(JSON.stringify({version:2,heartbeats:n})).length}function Fie(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uie(n){td(new tc("platform-logger",e=>new Yne(e),"PRIVATE")),td(new tc("heartbeat",e=>new Rie(e),"PRIVATE")),So(b8,VF,n),So(b8,VF,"esm2020"),So("fire-js","")}Uie("");var Mie="firebase",Bie="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */So(Mie,Bie,"app");const A$="@firebase/installations",rL="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$=1e4,E$=`w:${rL}`,T$="FIS_v2",zie="https://firebaseinstallations.googleapis.com/v1",jie=60*60*1e3,Wie="installations",$ie="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qie={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},j1=new i0(Wie,$ie,qie);function C$(n){return n instanceof sc&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D$({projectId:n}){return`${zie}/projects/${n}/installations`}function P$(n){return{token:n.token,requestStatus:2,expiresIn:Vie(n.expiresIn),creationTime:Date.now()}}async function I$(n,e){const i=(await e.json()).error;return j1.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function R$({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Hie(n,{refreshToken:e}){const t=R$(n);return t.append("Authorization",Gie(e)),t}async function L$(n){const e=await n();return e.status>=500&&e.status<600?n():e}function Vie(n){return Number(n.replace("s","000"))}function Gie(n){return`${T$} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xie({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=D$(n),r=R$(n),s=e.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&r.append("x-firebase-client",d)}const a={fid:t,authVersion:T$,appId:n.appId,sdkVersion:E$},o={method:"POST",headers:r,body:JSON.stringify(a)},c=await L$(()=>fetch(i,o));if(c.ok){const d=await c.json();return{fid:d.fid||t,registrationStatus:2,refreshToken:d.refreshToken,authToken:P$(d.authToken)}}else throw await I$("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O$(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yie(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kie=/^[cdef][\w-]{21}$/,_8="";function Jie(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=Zie(n);return Kie.test(t)?t:_8}catch{return _8}}function Zie(n){return Yie(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F$=new Map;function U$(n,e){const t=pT(n);M$(t,e),Qie(t,e)}function M$(n,e){const t=F$.get(n);if(t)for(const i of t)i(e)}function Qie(n,e){const t=ere();t&&t.postMessage({key:n,fid:e}),tre()}let $m=null;function ere(){return!$m&&"BroadcastChannel"in self&&($m=new BroadcastChannel("[Firebase] FID Change"),$m.onmessage=n=>{M$(n.data.key,n.data.fid)}),$m}function tre(){F$.size===0&&$m&&($m.close(),$m=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nre="firebase-installations-database",ire=1,W1="firebase-installations-store";let c6=null;function sL(){return c6||(c6=x$(nre,ire,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(W1)}}})),c6}async function r3(n,e){const t=pT(n),r=(await sL()).transaction(W1,"readwrite"),s=r.objectStore(W1),a=await s.get(t);return await s.put(e,t),await r.done,(!a||a.fid!==e.fid)&&U$(n,e.fid),e}async function B$(n){const e=pT(n),i=(await sL()).transaction(W1,"readwrite");await i.objectStore(W1).delete(e),await i.done}async function mT(n,e){const t=pT(n),r=(await sL()).transaction(W1,"readwrite"),s=r.objectStore(W1),a=await s.get(t),o=e(a);return o===void 0?await s.delete(t):await s.put(o,t),await r.done,o&&(!a||a.fid!==o.fid)&&U$(n,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aL(n){let e;const t=await mT(n.appConfig,i=>{const r=rre(i),s=sre(n,r);return e=s.registrationPromise,s.installationEntry});return t.fid===_8?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function rre(n){const e=n||{fid:Jie(),registrationStatus:0};return z$(e)}function sre(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(j1.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=are(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:ore(n)}:{installationEntry:e}}async function are(n,e){try{const t=await Xie(n,e);return r3(n.appConfig,t)}catch(t){throw C$(t)&&t.customData.serverCode===409?await B$(n.appConfig):await r3(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function ore(n){let e=await JF(n.appConfig);for(;e.registrationStatus===1;)await O$(100),e=await JF(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await aL(n);return i||t}return e}function JF(n){return mT(n,e=>{if(!e)throw j1.create("installation-not-found");return z$(e)})}function z$(n){return lre(n)?{fid:n.fid,registrationStatus:0}:n}function lre(n){return n.registrationStatus===1&&n.registrationTime+k$<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cre({appConfig:n,heartbeatServiceProvider:e},t){const i=dre(n,t),r=Hie(n,t),s=e.getImmediate({optional:!0});if(s){const d=await s.getHeartbeatsHeader();d&&r.append("x-firebase-client",d)}const a={installation:{sdkVersion:E$,appId:n.appId}},o={method:"POST",headers:r,body:JSON.stringify(a)},c=await L$(()=>fetch(i,o));if(c.ok){const d=await c.json();return P$(d)}else throw await I$("Generate Auth Token",c)}function dre(n,{fid:e}){return`${D$(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oL(n,e=!1){let t;const i=await mT(n.appConfig,s=>{if(!j$(s))throw j1.create("not-registered");const a=s.authToken;if(!e&&fre(a))return s;if(a.requestStatus===1)return t=ure(n,e),s;{if(!navigator.onLine)throw j1.create("app-offline");const o=mre(s);return t=hre(n,o),o}});return t?await t:i.authToken}async function ure(n,e){let t=await ZF(n.appConfig);for(;t.authToken.requestStatus===1;)await O$(100),t=await ZF(n.appConfig);const i=t.authToken;return i.requestStatus===0?oL(n,e):i}function ZF(n){return mT(n,e=>{if(!j$(e))throw j1.create("not-registered");const t=e.authToken;return gre(t)?{...e,authToken:{requestStatus:0}}:e})}async function hre(n,e){try{const t=await cre(n,e),i={...e,authToken:t};return await r3(n.appConfig,i),t}catch(t){if(C$(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await B$(n.appConfig);else{const i={...e,authToken:{requestStatus:0}};await r3(n.appConfig,i)}throw t}}function j$(n){return n!==void 0&&n.registrationStatus===2}function fre(n){return n.requestStatus===2&&!pre(n)}function pre(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+jie}function mre(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function gre(n){return n.requestStatus===1&&n.requestTime+k$<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yre(n){const e=n,{installationEntry:t,registrationPromise:i}=await aL(e);return i?i.catch(console.error):oL(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vre(n,e=!1){const t=n;return await bre(t),(await oL(t,e)).token}async function bre(n){const{registrationPromise:e}=await aL(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wre(n){if(!n||!n.options)throw d6("App Configuration");if(!n.name)throw d6("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw d6(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function d6(n){return j1.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W$="installations",xre="installations-internal",_re=n=>{const e=n.getProvider("app").getImmediate(),t=wre(e),i=gm(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},Sre=n=>{const e=n.getProvider("app").getImmediate(),t=gm(e,W$).getImmediate();return{getId:()=>yre(t),getToken:r=>vre(t,r)}};function Nre(){td(new tc(W$,_re,"PUBLIC")),td(new tc(xre,Sre,"PRIVATE"))}Nre();So(A$,rL);So(A$,rL,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s3="analytics",Are="firebase_id",kre="origin",Ere=60*1e3,Tre="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",lL="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa=new hT("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cre={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ml=new i0("analytics","Analytics",Cre);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dre(n){if(!n.startsWith(lL)){const e=ml.create("invalid-gtag-resource",{gtagURL:n});return qa.warn(e.message),""}return n}function $$(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function Pre(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function Ire(n,e){const t=Pre("firebase-js-sdk-policy",{createScriptURL:Dre}),i=document.createElement("script"),r=`${lL}?l=${n}&id=${e}`;i.src=t?t==null?void 0:t.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function Rre(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function Lre(n,e,t,i,r,s){const a=i[r];try{if(a)await e[a];else{const c=(await $$(t)).find(d=>d.measurementId===r);c&&await e[c.appId]}}catch(o){qa.error(o)}n("config",r,s)}async function Ore(n,e,t,i,r){try{let s=[];if(r&&r.send_to){let a=r.send_to;Array.isArray(a)||(a=[a]);const o=await $$(t);for(const c of a){const d=o.find(f=>f.measurementId===c),u=d&&e[d.appId];if(u)s.push(u);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),n("event",i,r||{})}catch(s){qa.error(s)}}function Fre(n,e,t,i){async function r(s,...a){try{if(s==="event"){const[o,c]=a;await Ore(n,e,t,o,c)}else if(s==="config"){const[o,c]=a;await Lre(n,e,t,i,o,c)}else if(s==="consent"){const[o,c]=a;n("consent",o,c)}else if(s==="get"){const[o,c,d]=a;n("get",o,c,d)}else if(s==="set"){const[o]=a;n("set",o)}else n(s,...a)}catch(o){qa.error(o)}}return r}function Ure(n,e,t,i,r){let s=function(...a){window[i].push(arguments)};return window[r]&&typeof window[r]=="function"&&(s=window[r]),window[r]=Fre(s,n,e,t),{gtagCore:s,wrappedGtag:window[r]}}function Mre(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(lL)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bre=30,zre=1e3;class jre{constructor(e={},t=zre){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const q$=new jre;function Wre(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function $re(n){var a;const{appId:e,apiKey:t}=n,i={method:"GET",headers:Wre(t)},r=Tre.replace("{app-id}",e),s=await fetch(r,i);if(s.status!==200&&s.status!==304){let o="";try{const c=await s.json();(a=c.error)!=null&&a.message&&(o=c.error.message)}catch{}throw ml.create("config-fetch-failed",{httpStatus:s.status,responseMessage:o})}return s.json()}async function qre(n,e=q$,t){const{appId:i,apiKey:r,measurementId:s}=n.options;if(!i)throw ml.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw ml.create("no-api-key")}const a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new Gre;return setTimeout(async()=>{o.abort()},t!==void 0?t:Ere),H$({appId:i,apiKey:r,measurementId:s},a,o,e)}async function H$(n,{throttleEndTimeMillis:e,backoffCount:t},i,r=q$){var o;const{appId:s,measurementId:a}=n;try{await Hre(i,e)}catch(c){if(a)return qa.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:s,measurementId:a};throw c}try{const c=await $re(n);return r.deleteThrottleMetadata(s),c}catch(c){const d=c;if(!Vre(d)){if(r.deleteThrottleMetadata(s),a)return qa.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:s,measurementId:a};throw c}const u=Number((o=d==null?void 0:d.customData)==null?void 0:o.httpStatus)===503?WF(t,r.intervalMillis,Bre):WF(t,r.intervalMillis),f={throttleEndTimeMillis:Date.now()+u,backoffCount:t+1};return r.setThrottleMetadata(s,f),qa.debug(`Calling attemptFetch again in ${u} millis`),H$(n,f,i,r)}}function Hre(n,e){return new Promise((t,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(t,r);n.addEventListener(()=>{clearTimeout(s),i(ml.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Vre(n){if(!(n instanceof sc)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class Gre{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Xre(n,e,t,i,r){if(r&&r.global){n("event",t,i);return}else{const s=await e,a={...i,send_to:s};n("event",t,a)}}async function Yre(n,e,t,i){if(i&&i.global){const r={};for(const s of Object.keys(t))r[`user_properties.${s}`]=t[s];return n("set",r),Promise.resolve()}else{const r=await e;n("config",r,{update:!0,user_properties:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kre(){if(y$())try{await v$()}catch(n){return qa.warn(ml.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return qa.warn(ml.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Jre(n,e,t,i,r,s,a){const o=qre(n);o.then(h=>{t[h.measurementId]=h.appId,n.options.measurementId&&h.measurementId!==n.options.measurementId&&qa.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>qa.error(h)),e.push(o);const c=Kre().then(h=>{if(h)return i.getId()}),[d,u]=await Promise.all([o,c]);Mre(s)||Ire(s,d.measurementId),r("js",new Date);const f=(a==null?void 0:a.config)??{};return f[kre]="firebase",f.update=!0,u!=null&&(f[Are]=u),r("config",d.measurementId,f),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zre{constructor(e){this.app=e}_delete(){return delete ry[this.app.options.appId],Promise.resolve()}}let ry={},QF=[];const eU={};let u6="dataLayer",Qre="gtag",tU,cL,nU=!1;function ese(){const n=[];if(g$()&&n.push("This is a browser extension environment."),bne()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,r)=>`(${r+1}) ${i}`).join(" "),t=ml.create("invalid-analytics-context",{errorInfo:e});qa.warn(t.message)}}function tse(n,e,t){ese();const i=n.options.appId;if(!i)throw ml.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)qa.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ml.create("no-api-key");if(ry[i]!=null)throw ml.create("already-exists",{id:i});if(!nU){Rre(u6);const{wrappedGtag:s,gtagCore:a}=Ure(ry,QF,eU,u6,Qre);cL=s,tU=a,nU=!0}return ry[i]=Jre(n,QF,eU,e,tU,u6,t),new Zre(n)}function nse(n=fT()){n=Xa(n);const e=gm(n,s3);return e.isInitialized()?e.getImmediate():ise(n)}function ise(n,e={}){const t=gm(n,s3);if(t.isInitialized()){const r=t.getImmediate();if(im(e,t.getOptions()))return r;throw ml.create("already-initialized")}return t.initialize({options:e})}function rse(n,e,t){n=Xa(n),Yre(cL,ry[n.app.options.appId],e,t).catch(i=>qa.error(i))}function sse(n,e,t,i){n=Xa(n),Xre(cL,ry[n.app.options.appId],e,t,i).catch(r=>qa.error(r))}const iU="@firebase/analytics",rU="0.10.19";function ase(){td(new tc(s3,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return tse(i,r,t)},"PUBLIC")),td(new tc("analytics-internal",n,"PRIVATE")),So(iU,rU),So(iU,rU,"esm2020");function n(e){try{const t=e.getProvider(s3).getImmediate();return{logEvent:(i,r,s)=>sse(t,i,r,s),setUserProperties:(i,r)=>rse(t,i,r)}}catch(t){throw ml.create("interop-component-reg-failed",{reason:t})}}}ase();function V$(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ose=V$,G$=new i0("auth","Firebase",V$());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3=new hT("@firebase/auth");function lse(n,...e){a3.logLevel<=Qn.WARN&&a3.warn(`Auth (${r0}): ${n}`,...e)}function SA(n,...e){a3.logLevel<=Qn.ERROR&&a3.error(`Auth (${r0}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(n,...e){throw uL(n,...e)}function Qc(n,...e){return uL(n,...e)}function dL(n,e,t){const i={...ose(),[e]:t};return new i0("auth","Firebase",i).create(e,{appName:n.name})}function Vh(n){return dL(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function cse(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&nc(n,"argument-error"),dL(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function uL(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return G$.create(n,...e)}function an(n,e,...t){if(!n)throw uL(e,...t)}function Wh(n){const e="INTERNAL ASSERTION FAILED: "+n;throw SA(e),new Error(e)}function Qh(n,e){n||Wh(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S8(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function dse(){return sU()==="http:"||sU()==="https:"}function sU(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function use(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dse()||g$()||"connection"in navigator)?navigator.onLine:!0}function hse(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,t){this.shortDelay=e,this.longDelay=t,Qh(t>e,"Short delay should be less than long delay!"),this.isMobile=mne()||yne()}get(){return use()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(n,e){Qh(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wh("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wh("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wh("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fse={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pse=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mse=new _S(3e4,6e4);function ym(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function af(n,e,t,i,r={}){return Y$(n,r,async()=>{let s={},a={};i&&(e==="GET"?a=i:s={body:JSON.stringify(i)});const o=xS({key:n.config.apiKey,...a}).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const d={method:e,headers:c,...s};return gne()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&Vb(n.emulatorConfig.host)&&(d.credentials="include"),X$.fetch()(await K$(n,n.config.apiHost,t,o),d)})}async function Y$(n,e,t){n._canInitEmulator=!1;const i={...fse,...e};try{const r=new yse(n),s=await Promise.race([t(),r.promise]);r.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw TN(n,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[c,d]=o.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw TN(n,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw TN(n,"email-already-in-use",a);if(c==="USER_DISABLED")throw TN(n,"user-disabled",a);const u=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw dL(n,u,d);nc(n,u)}}catch(r){if(r instanceof sc)throw r;nc(n,"network-request-failed",{message:String(r)})}}async function SS(n,e,t,i,r={}){const s=await af(n,e,t,i,r);return"mfaPendingCredential"in s&&nc(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function K$(n,e,t,i){const r=`${e}${t}?${i}`,s=n,a=s.config.emulator?hL(n.config,r):`${n.config.apiScheme}://${r}`;return pse.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function gse(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class yse{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Qc(this.auth,"network-request-failed")),mse.get())})}}function TN(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=Qc(n,e,i);return r.customData._tokenResponse=t,r}function aU(n){return n!==void 0&&n.enterprise!==void 0}class vse{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return gse(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function bse(n,e){return af(n,"GET","/v2/recaptchaConfig",ym(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wse(n,e){return af(n,"POST","/v1/accounts:delete",e)}async function o3(n,e){return af(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function xse(n,e=!1){const t=Xa(n),i=await t.getIdToken(e),r=fL(i);an(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Pw(h6(r.auth_time)),issuedAtTime:Pw(h6(r.iat)),expirationTime:Pw(h6(r.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function h6(n){return Number(n)*1e3}function fL(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return SA("JWT malformed, contained fewer than 3 sections"),null;try{const r=d$(t);return r?JSON.parse(r):(SA("Failed to decode base64 JWT payload"),null)}catch(r){return SA("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function oU(n){const e=fL(n);return an(e,"internal-error"),an(typeof e.exp<"u","internal-error"),an(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cb(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof sc&&_se(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function _se({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sse{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N8{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pw(this.lastLoginAt),this.creationTime=Pw(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l3(n){var f;const e=n.auth,t=await n.getIdToken(),i=await Cb(n,o3(e,{idToken:t}));an(i==null?void 0:i.users.length,e,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const s=(f=r.providerUserInfo)!=null&&f.length?J$(r.providerUserInfo):[],a=Ase(n.providerData,s),o=n.isAnonymous,c=!(n.email&&r.passwordHash)&&!(a!=null&&a.length),d=o?c:!1,u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new N8(r.createdAt,r.lastLoginAt),isAnonymous:d};Object.assign(n,u)}async function Nse(n){const e=Xa(n);await l3(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ase(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function J$(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kse(n,e){const t=await Y$(n,{},async()=>{const i=xS({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=n.config,a=await K$(n,r,"/v1/token",`key=${s}`),o=await n._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:o,body:i};return n.emulatorConfig&&Vb(n.emulatorConfig.host)&&(c.credentials="include"),X$.fetch()(a,c)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Ese(n,e){return af(n,"POST","/v2/accounts:revokeToken",ym(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){an(e.idToken,"internal-error"),an(typeof e.idToken<"u","internal-error"),an(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):oU(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){an(e.length!==0,"internal-error");const t=oU(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(an(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:r,expiresIn:s}=await kse(e,t);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:s}=t,a=new sy;return i&&(an(typeof i=="string","internal-error",{appName:e}),a.refreshToken=i),r&&(an(typeof r=="string","internal-error",{appName:e}),a.accessToken=r),s&&(an(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sy,this.toJSON())}_performRefresh(){return Wh("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nf(n,e){an(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Gc{constructor({uid:e,auth:t,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new Sse(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new N8(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const t=await Cb(this,this.stsTokenManager.getToken(this.auth,e));return an(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return xse(this,e)}reload(){return Nse(this)}_assign(e){this!==e&&(an(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Gc({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){an(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await l3(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(fo(this.auth.app))return Promise.reject(Vh(this.auth));const e=await this.getIdToken();return await Cb(this,wse(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,r=t.email??void 0,s=t.phoneNumber??void 0,a=t.photoURL??void 0,o=t.tenantId??void 0,c=t._redirectEventId??void 0,d=t.createdAt??void 0,u=t.lastLoginAt??void 0,{uid:f,emailVerified:h,isAnonymous:p,providerData:v,stsTokenManager:w}=t;an(f&&w,e,"internal-error");const b=sy.fromJSON(this.name,w);an(typeof f=="string",e,"internal-error"),Nf(i,e.name),Nf(r,e.name),an(typeof h=="boolean",e,"internal-error"),an(typeof p=="boolean",e,"internal-error"),Nf(s,e.name),Nf(a,e.name),Nf(o,e.name),Nf(c,e.name),Nf(d,e.name),Nf(u,e.name);const m=new Gc({uid:f,auth:e,email:r,emailVerified:h,displayName:i,isAnonymous:p,photoURL:a,phoneNumber:s,tenantId:o,stsTokenManager:b,createdAt:d,lastLoginAt:u});return v&&Array.isArray(v)&&(m.providerData=v.map(y=>({...y}))),c&&(m._redirectEventId=c),m}static async _fromIdTokenResponse(e,t,i=!1){const r=new sy;r.updateFromServerResponse(t);const s=new Gc({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await l3(s),s}static async _fromGetAccountInfoResponse(e,t,i){const r=t.users[0];an(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?J$(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),o=new sy;o.updateFromIdToken(i);const c=new Gc({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:a}),d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new N8(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lU=new Map;function $h(n){Qh(n instanceof Function,"Expected a class definition");let e=lU.get(n);return e?(Qh(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,lU.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z${constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Z$.type="NONE";const cU=Z$;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(n,e,t){return`firebase:${n}:${e}:${t}`}class ay{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=NA(this.userKey,r.apiKey,s),this.fullPersistenceKey=NA("persistence",r.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await o3(this.auth,{idToken:e}).catch(()=>{});return t?Gc._fromGetAccountInfoResponse(this.auth,t,e):null}return Gc._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new ay($h(cU),e,i);const r=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let s=r[0]||$h(cU);const a=NA(i,e.config.apiKey,e.name);let o=null;for(const d of t)try{const u=await d._get(a);if(u){let f;if(typeof u=="string"){const h=await o3(e,{idToken:u}).catch(()=>{});if(!h)break;f=await Gc._fromGetAccountInfoResponse(e,h,u)}else f=Gc._fromJSON(e,u);d!==s&&(o=f),s=d;break}}catch{}const c=r.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new ay(s,e,i):(s=c[0],o&&await s._set(a,o.toJSON()),await Promise.all(t.map(async d=>{if(d!==s)try{await d._remove(a)}catch{}})),new ay(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dU(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nq(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Q$(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rq(e))return"Blackberry";if(sq(e))return"Webos";if(eq(e))return"Safari";if((e.includes("chrome/")||tq(e))&&!e.includes("edge/"))return"Chrome";if(iq(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Q$(n=Ha()){return/firefox\//i.test(n)}function eq(n=Ha()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tq(n=Ha()){return/crios\//i.test(n)}function nq(n=Ha()){return/iemobile/i.test(n)}function iq(n=Ha()){return/android/i.test(n)}function rq(n=Ha()){return/blackberry/i.test(n)}function sq(n=Ha()){return/webos/i.test(n)}function pL(n=Ha()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Tse(n=Ha()){var e;return pL(n)&&!!((e=window.navigator)!=null&&e.standalone)}function Cse(){return vne()&&document.documentMode===10}function aq(n=Ha()){return pL(n)||iq(n)||sq(n)||rq(n)||/windows phone/i.test(n)||nq(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oq(n,e=[]){let t;switch(n){case"Browser":t=dU(Ha());break;case"Worker":t=`${dU(Ha())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${r0}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dse{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=s=>new Promise((a,o)=>{try{const c=e(s);a(c)}catch(c){o(c)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const r of t)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pse(n,e={}){return af(n,"GET","/v2/passwordPolicy",ym(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ise=6;class Rse{constructor(e){var i;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??Ise,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lse{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uU(this),this.idTokenSubscription=new uU(this),this.beforeStateQueue=new Dse(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=G$,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=$h(t)),this._initializationPromise=this.queue(async()=>{var i,r,s;if(!this._deleted&&(this.persistenceManager=await ay.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await o3(this,{idToken:e}),i=await Gc._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(fo(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,o=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===o)&&(c!=null&&c.user)&&(i=c.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return an(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await l3(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hse()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(fo(this.app))return Promise.reject(Vh(this));const t=e?Xa(e):null;return t&&an(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&an(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return fo(this.app)?Promise.reject(Vh(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return fo(this.app)?Promise.reject(Vh(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($h(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Pse(this),t=new Rse(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new i0("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await Ese(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&$h(e)||this._popupRedirectResolver;an(t,this,"argument-error"),this.redirectPersistenceManager=await ay.create(this,[$h(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(an(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof t=="function"){const c=e.addObserver(t,i,r);return()=>{a=!0,c()}}else{const c=e.addObserver(t);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return an(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oq(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var t;if(fo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&lse(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function vm(n){return Xa(n)}class uU{constructor(e){this.auth=e,this.observer=null,this.addObserver=Nne(t=>this.observer=t)}get next(){return an(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gT={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ose(n){gT=n}function lq(n){return gT.loadJS(n)}function Fse(){return gT.recaptchaEnterpriseScript}function Use(){return gT.gapiScript}function Mse(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Bse{constructor(){this.enterprise=new zse}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class zse{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const jse="recaptcha-enterprise",cq="NO_RECAPTCHA";class Wse{constructor(e){this.type=jse,this.auth=vm(e)}async verify(e="verify",t=!1){async function i(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{bse(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const d=new vse(c);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,a(d.siteKey)}}).catch(c=>{o(c)})})}function r(s,a,o){const c=window.grecaptcha;aU(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(d=>{a(d)}).catch(()=>{a(cq)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Bse().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{i(this.auth).then(o=>{if(!t&&aU(window.grecaptcha))r(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Fse();c.length!==0&&(c+=o),lq(c).then(()=>{r(o,s,a)}).catch(d=>{a(d)})}}).catch(o=>{a(o)})})}}async function E2(n,e,t,i=!1,r=!1){const s=new Wse(n);let a;if(r)a=cq;else try{a=await s.verify(t)}catch{a=await s.verify(t,!0)}const o={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const c=o.phoneEnrollmentInfo.phoneNumber,d=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const c=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return i?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function A8(n,e,t,i,r){var s,a;if(r==="EMAIL_PASSWORD_PROVIDER")if((s=n._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await E2(n,e,t,t==="getOobCode");return i(n,o)}else return i(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await E2(n,e,t,t==="getOobCode");return i(n,c)}else return Promise.reject(o)});else if(r==="PHONE_PROVIDER")if((a=n._getRecaptchaConfig())!=null&&a.isProviderEnabled("PHONE_PROVIDER")){const o=await E2(n,e,t);return i(n,o).catch(async c=>{var d;if(((d=n._getRecaptchaConfig())==null?void 0:d.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);const u=await E2(n,e,t,!1,!0);return i(n,u)}return Promise.reject(c)})}else{const o=await E2(n,e,t,!1,!0);return i(n,o)}else return Promise.reject(r+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $se(n,e){const t=gm(n,"auth");if(t.isInitialized()){const r=t.getImmediate(),s=t.getOptions();if(im(s,e??{}))return r;nc(r,"already-initialized")}return t.initialize({options:e})}function qse(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map($h);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function Hse(n,e,t){const i=vm(n);an(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!(t!=null&&t.disableWarnings),s=dq(e),{host:a,port:o}=Vse(e),c=o===null?"":`:${o}`,d={url:`${s}//${a}${c}/`},u=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){an(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),an(im(d,i.config.emulator)&&im(u,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=d,i.emulatorConfig=u,i.settings.appVerificationDisabledForTesting=!0,Vb(a)?(tL(`${s}//${a}${c}`),nL("Auth",!0)):r||Gse()}function dq(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Vse(n){const e=dq(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:hU(i.substr(s.length+1))}}else{const[s,a]=i.split(":");return{host:s,port:hU(a)}}}function hU(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Gse(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Wh("not implemented")}_getIdTokenResponse(e){return Wh("not implemented")}_linkToIdToken(e,t){return Wh("not implemented")}_getReauthenticationResolver(e){return Wh("not implemented")}}async function Xse(n,e){return af(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yse(n,e){return SS(n,"POST","/v1/accounts:signInWithPassword",ym(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kse(n,e){return SS(n,"POST","/v1/accounts:signInWithEmailLink",ym(n,e))}async function Jse(n,e){return SS(n,"POST","/v1/accounts:signInWithEmailLink",ym(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox extends mL{constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ox(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new ox(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return A8(e,t,"signInWithPassword",Yse,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Kse(e,{email:this._email,oobCode:this._password});default:nc(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return A8(e,i,"signUpPassword",Xse,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Jse(e,{idToken:t,email:this._email,oobCode:this._password});default:nc(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oy(n,e){return SS(n,"POST","/v1/accounts:signInWithIdp",ym(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zse="http://localhost";class $1 extends mL{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new $1(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):nc("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,...s}=t;if(!i||!r)return null;const a=new $1(i,r);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const t=this.buildRequest();return oy(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,oy(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,oy(e,t)}buildRequest(){const e={requestUri:Zse,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=xS(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qse(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eae(n){const e=G2(X2(n)).link,t=e?G2(X2(e)).deep_link_id:null,i=G2(X2(n)).deep_link_id;return(i?G2(X2(i)).link:null)||i||t||e||n}class gL{constructor(e){const t=G2(X2(e)),i=t.apiKey??null,r=t.oobCode??null,s=Qse(t.mode??null);an(i&&r&&s,"argument-error"),this.apiKey=i,this.operation=s,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=eae(e);try{return new gL(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(){this.providerId=Gb.PROVIDER_ID}static credential(e,t){return ox._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=gL.parseLink(t);return an(i,"argument-error"),ox._fromEmailAndCode(e,i.code,i.tenantId)}}Gb.PROVIDER_ID="password";Gb.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Gb.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS extends yL{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf extends NS{constructor(){super("facebook.com")}static credential(e){return $1._fromParams({providerId:Lf.PROVIDER_ID,signInMethod:Lf.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lf.credentialFromTaggedObject(e)}static credentialFromError(e){return Lf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lf.credential(e.oauthAccessToken)}catch{return null}}}Lf.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lf.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh extends NS{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return $1._fromParams({providerId:Lh.PROVIDER_ID,signInMethod:Lh.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Lh.credentialFromTaggedObject(e)}static credentialFromError(e){return Lh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Lh.credential(t,i)}catch{return null}}}Lh.GOOGLE_SIGN_IN_METHOD="google.com";Lh.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of extends NS{constructor(){super("github.com")}static credential(e){return $1._fromParams({providerId:Of.PROVIDER_ID,signInMethod:Of.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Of.credentialFromTaggedObject(e)}static credentialFromError(e){return Of.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Of.credential(e.oauthAccessToken)}catch{return null}}}Of.GITHUB_SIGN_IN_METHOD="github.com";Of.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff extends NS{constructor(){super("twitter.com")}static credential(e,t){return $1._fromParams({providerId:Ff.PROVIDER_ID,signInMethod:Ff.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ff.credentialFromTaggedObject(e)}static credentialFromError(e){return Ff.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ff.credential(t,i)}catch{return null}}}Ff.TWITTER_SIGN_IN_METHOD="twitter.com";Ff.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tae(n,e){return SS(n,"POST","/v1/accounts:signUp",ym(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,r=!1){const s=await Gc._fromIdTokenResponse(e,i,r),a=fU(i);return new q1({user:s,providerId:a,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const r=fU(i);return new q1({user:e,providerId:r,_tokenResponse:i,operationType:t})}}function fU(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3 extends sc{constructor(e,t,i,r){super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,c3.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new c3(e,t,i,r)}}function uq(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?c3._fromErrorAndOperation(n,s,e,i):s})}async function nae(n,e,t=!1){const i=await Cb(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return q1._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iae(n,e,t=!1){const{auth:i}=n;if(fo(i.app))return Promise.reject(Vh(i));const r="reauthenticate";try{const s=await Cb(n,uq(i,r,e,n),t);an(s.idToken,i,"internal-error");const a=fL(s.idToken);an(a,i,"internal-error");const{sub:o}=a;return an(n.uid===o,i,"user-mismatch"),q1._forOperation(n,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&nc(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hq(n,e,t=!1){if(fo(n.app))return Promise.reject(Vh(n));const i="signIn",r=await uq(n,i,e),s=await q1._fromIdTokenResponse(n,i,r);return t||await n._updateCurrentUser(s.user),s}async function rae(n,e){return hq(vm(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fq(n){const e=vm(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function sae(n,e,t){if(fo(n.app))return Promise.reject(Vh(n));const i=vm(n),a=await A8(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",tae,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&fq(n),c}),o=await q1._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function aae(n,e,t){return fo(n.app)?Promise.reject(Vh(n)):rae(Xa(n),Gb.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&fq(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oae(n,e){return af(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lae(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=Xa(n),s={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},a=await Cb(i,oae(i.auth,s));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const o=i.providerData.find(({providerId:c})=>c==="password");o&&(o.displayName=i.displayName,o.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}function cae(n,e,t,i){return Xa(n).onIdTokenChanged(e,t,i)}function dae(n,e,t){return Xa(n).beforeAuthStateChanged(e,t)}function uae(n,e,t,i){return Xa(n).onAuthStateChanged(e,t,i)}function hae(n){return Xa(n).signOut()}const d3="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pq{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(d3,"1"),this.storage.removeItem(d3),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fae=1e3,pae=10;class mq extends pq{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aq(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),r=this.localCache[t];i!==r&&e(t,r,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((a,o,c)=>{this.notifyListeners(a,c)});return}const i=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const a=this.storage.getItem(i);!t&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);Cse()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,pae):r()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},fae)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}mq.type="LOCAL";const mae=mq;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gq extends pq{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}gq.type="SESSION";const yq=gq;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gae(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(r=>r.isListeningto(e));if(t)return t;const i=new yT(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:r,data:s}=t.data,a=this.handlersMap[r];if(!(a!=null&&a.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const o=Array.from(a).map(async d=>d(t.origin,s)),c=await gae(o);t.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:c})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yT.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yae{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,a;return new Promise((o,c)=>{const d=vL("",20);r.port1.start();const u=setTimeout(()=>{c(new Error("unsupported_event"))},i);a={messageChannel:r,onMessage(f){const h=f;if(h.data.eventId===d)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(h.data.response);break;default:clearTimeout(u),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(){return window}function vae(n){mu().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vq(){return typeof mu().WorkerGlobalScope<"u"&&typeof mu().importScripts=="function"}async function bae(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wae(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function xae(){return vq()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bq="firebaseLocalStorageDb",_ae=1,u3="firebaseLocalStorage",wq="fbase_key";class AS{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function vT(n,e){return n.transaction([u3],e?"readwrite":"readonly").objectStore(u3)}function Sae(){const n=indexedDB.deleteDatabase(bq);return new AS(n).toPromise()}function k8(){const n=indexedDB.open(bq,_ae);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(u3,{keyPath:wq})}catch(r){t(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(u3)?e(i):(i.close(),await Sae(),e(await k8()))})})}async function pU(n,e,t){const i=vT(n,!0).put({[wq]:e,value:t});return new AS(i).toPromise()}async function Nae(n,e){const t=vT(n,!1).get(e),i=await new AS(t).toPromise();return i===void 0?null:i.value}function mU(n,e){const t=vT(n,!0).delete(e);return new AS(t).toPromise()}const Aae=800,kae=3;class xq{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await k8(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>kae)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vq()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yT._getInstance(xae()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await bae(),!this.activeServiceWorker)return;this.sender=new yae(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wae()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await k8();return await pU(e,d3,"1"),await mU(e,d3),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>pU(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>Nae(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>mU(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=vT(r,!1).getAll();return new AS(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Aae)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xq.type="LOCAL";const Eae=xq;new _S(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _q(n,e){return e?$h(e):(an(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL extends mL{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oy(e,this._buildIdpRequest())}_linkToIdToken(e,t){return oy(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return oy(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Tae(n){return hq(n.auth,new bL(n),n.bypassAuthState)}function Cae(n){const{auth:e,user:t}=n;return an(t,e,"internal-error"),iae(t,new bL(n),n.bypassAuthState)}async function Dae(n){const{auth:e,user:t}=n;return an(t,e,"internal-error"),nae(t,new bL(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sq{constructor(e,t,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:r,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:t,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Tae;case"linkViaPopup":case"linkViaRedirect":return Dae;case"reauthViaPopup":case"reauthViaRedirect":return Cae;default:nc(this.auth,"internal-error")}}resolve(e){Qh(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Qh(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pae=new _S(2e3,1e4);async function Iae(n,e,t){if(fo(n.app))return Promise.reject(Qc(n,"operation-not-supported-in-this-environment"));const i=vm(n);cse(n,e,yL);const r=_q(i,t);return new qm(i,"signInViaPopup",e,r).executeNotNull()}class qm extends Sq{constructor(e,t,i,r,s){super(e,t,r,s),this.provider=i,this.authWindow=null,this.pollId=null,qm.currentPopupAction&&qm.currentPopupAction.cancel(),qm.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return an(e,this.auth,"internal-error"),e}async onExecution(){Qh(this.filter.length===1,"Popup operations only handle one event");const e=vL();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Qc(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Qc(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qm.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if((i=(t=this.authWindow)==null?void 0:t.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qc(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Pae.get())};e()}}qm.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rae="pendingRedirect",AA=new Map;class Lae extends Sq{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=AA.get(this.auth._key());if(!e){try{const i=await Oae(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}AA.set(this.auth._key(),e)}return this.bypassAuthState||AA.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Oae(n,e){const t=Mae(e),i=Uae(n);if(!await i._isAvailable())return!1;const r=await i._get(t)==="true";return await i._remove(t),r}function Fae(n,e){AA.set(n._key(),e)}function Uae(n){return $h(n._redirectPersistence)}function Mae(n){return NA(Rae,n.config.apiKey,n.name)}async function Bae(n,e,t=!1){if(fo(n.app))return Promise.reject(Vh(n));const i=vm(n),r=_q(i,e),a=await new Lae(i,r,t).execute();return a&&!t&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zae=10*60*1e3;class jae{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Wae(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Nq(e)){const r=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";t.onError(Qc(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zae&&this.cachedEventUids.clear(),this.cachedEventUids.has(gU(e))}saveEventToCache(e){this.cachedEventUids.add(gU(e)),this.lastProcessedEventTime=Date.now()}}function gU(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Nq({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Wae(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Nq(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $ae(n,e={}){return af(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qae=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hae=/^https?/;async function Vae(n){if(n.config.emulator)return;const{authorizedDomains:e}=await $ae(n);for(const t of e)try{if(Gae(t))return}catch{}nc(n,"unauthorized-domain")}function Gae(n){const e=S8(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const a=new URL(n);return a.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&a.hostname===i}if(!Hae.test(t))return!1;if(qae.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xae=new _S(3e4,6e4);function yU(){const n=mu().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Yae(n){return new Promise((e,t)=>{var r,s,a;function i(){yU(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yU(),t(Qc(n,"network-request-failed"))},timeout:Xae.get()})}if((s=(r=mu().gapi)==null?void 0:r.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((a=mu().gapi)!=null&&a.load)i();else{const o=Mse("iframefcb");return mu()[o]=()=>{gapi.load?i():t(Qc(n,"network-request-failed"))},lq(`${Use()}?onload=${o}`).catch(c=>t(c))}}).catch(e=>{throw kA=null,e})}let kA=null;function Kae(n){return kA=kA||Yae(n),kA}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jae=new _S(5e3,15e3),Zae="__/auth/iframe",Qae="emulator/auth/iframe",eoe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},toe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function noe(n){const e=n.config;an(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?hL(e,Qae):`https://${n.config.authDomain}/${Zae}`,i={apiKey:e.apiKey,appName:n.name,v:r0},r=toe.get(n.config.apiHost);r&&(i.eid=r);const s=n._getFrameworks();return s.length&&(i.fw=s.join(",")),`${t}?${xS(i).slice(1)}`}async function ioe(n){const e=await Kae(n),t=mu().gapi;return an(t,n,"internal-error"),e.open({where:document.body,url:noe(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eoe,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const a=Qc(n,"network-request-failed"),o=mu().setTimeout(()=>{s(a)},Jae.get());function c(){mu().clearTimeout(o),r(i)}i.ping(c).then(c,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const roe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},soe=500,aoe=600,ooe="_blank",loe="http://localhost";class vU{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function coe(n,e,t,i=soe,r=aoe){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let o="";const c={...roe,width:i.toString(),height:r.toString(),top:s,left:a},d=Ha().toLowerCase();t&&(o=tq(d)?ooe:t),Q$(d)&&(e=e||loe,c.scrollbars="yes");const u=Object.entries(c).reduce((h,[p,v])=>`${h}${p}=${v},`,"");if(Tse(d)&&o!=="_self")return doe(e||"",o),new vU(null);const f=window.open(e||"",o,u);an(f,n,"popup-blocked");try{f.focus()}catch{}return new vU(f)}function doe(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uoe="__/auth/handler",hoe="emulator/auth/handler",foe=encodeURIComponent("fac");async function bU(n,e,t,i,r,s){an(n.config.authDomain,n,"auth-domain-config-required"),an(n.config.apiKey,n,"invalid-api-key");const a={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:r0,eventId:r};if(e instanceof yL){e.setDefaultLanguage(n.languageCode),a.providerId=e.providerId||"",Sne(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries(s||{}))a[u]=f}if(e instanceof NS){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(a.scopes=u.join(","))}n.tenantId&&(a.tid=n.tenantId);const o=a;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const c=await n._getAppCheckToken(),d=c?`#${foe}=${encodeURIComponent(c)}`:"";return`${poe(n)}?${xS(o).slice(1)}${d}`}function poe({config:n}){return n.emulator?hL(n,hoe):`https://${n.authDomain}/${uoe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6="webStorageSupport";class moe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yq,this._completeRedirectFn=Bae,this._overrideRedirectResult=Fae}async _openPopup(e,t,i,r){var a;Qh((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await bU(e,t,i,S8(),r);return coe(e,s,vL())}async _openRedirect(e,t,i,r){await this._originValidation(e);const s=await bU(e,t,i,S8(),r);return vae(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:s}=this.eventManagers[t];return r?Promise.resolve(r):(Qh(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await ioe(e),i=new jae(e);return t.register("authEvent",r=>(an(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(f6,{type:f6},r=>{var a;const s=(a=r==null?void 0:r[0])==null?void 0:a[f6];s!==void 0&&t(!!s),nc(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Vae(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return aq()||eq()||pL()}}const goe=moe;var wU="@firebase/auth",xU="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yoe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){an(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function voe(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function boe(n){td(new tc("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=i.options;an(a&&!a.includes(":"),"invalid-api-key",{appName:i.name});const c={apiKey:a,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oq(n)},d=new Lse(i,r,s,c);return qse(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),td(new tc("auth-internal",e=>{const t=vm(e.getProvider("auth").getImmediate());return(i=>new yoe(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),So(wU,xU,voe(n)),So(wU,xU,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const woe=5*60,xoe=p$("authIdTokenMaxAge")||woe;let _U=null;const _oe=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>xoe)return;const r=t==null?void 0:t.token;_U!==r&&(_U=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function Soe(n=fT()){const e=gm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=$se(n,{popupRedirectResolver:goe,persistence:[Eae,mae,yq]}),i=p$("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const a=_oe(s.toString());dae(t,a,()=>a(t.currentUser)),cae(t,o=>a(o))}}const r=u$("auth");return r&&Hse(t,`http://${r}`),t}function Noe(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}Ose({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const s=Qc("internal-error");s.customData=r,t(s)},i.type="text/javascript",i.charset="UTF-8",Noe().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});boe("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aq="firebasestorage.googleapis.com",Aoe="storageBucket",koe=2*60*1e3,Eoe=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u extends sc{constructor(e,t,i=0){super(p6(e),`Firebase Storage: ${t} (${p6(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,_u.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return p6(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var bu;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(bu||(bu={}));function p6(n){return"storage/"+n}function Toe(){const n="An unknown error occurred, please check the error payload for server response.";return new _u(bu.UNKNOWN,n)}function Coe(){return new _u(bu.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Doe(){return new _u(bu.CANCELED,"User canceled the upload/download.")}function Poe(n){return new _u(bu.INVALID_URL,"Invalid URL '"+n+"'.")}function Ioe(n){return new _u(bu.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function SU(n){return new _u(bu.INVALID_ARGUMENT,n)}function kq(){return new _u(bu.APP_DELETED,"The Firebase app was deleted.")}function Roe(n){return new _u(bu.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=Xc.makeFromUrl(e,t)}catch{return new Xc(e,"")}if(i.path==="")return i;throw Ioe(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)";function s(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}const a="(/(.*))?$",o=new RegExp("^gs://"+r+a,"i"),c={bucket:1,path:3};function d(x){x.path_=decodeURIComponent(x.path)}const u="v[A-Za-z0-9_]+",f=t.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${u}/b/${r}/o${h}`,"i"),v={bucket:1,path:3},w=t===Aq?"(?:storage.googleapis.com|storage.cloud.google.com)":t,b="([^?#]*)",m=new RegExp(`^https?://${w}/${r}/${b}`,"i"),_=[{regex:o,indices:c,postModify:s},{regex:p,indices:v,postModify:d},{regex:m,indices:{bucket:1,path:2},postModify:d}];for(let x=0;x<_.length;x++){const N=_[x],k=N.regex.exec(e);if(k){const T=k[N.indices.bucket];let C=k[N.indices.path];C||(C=""),i=new Xc(T,C),N.postModify(i);break}}if(i==null)throw Poe(e);return i}}class Loe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ooe(n,e,t){let i=1,r=null,s=null,a=!1,o=0;function c(){return o===2}let d=!1;function u(...b){d||(d=!0,e.apply(null,b))}function f(b){r=setTimeout(()=>{r=null,n(p,c())},b)}function h(){s&&clearTimeout(s)}function p(b,...m){if(d){h();return}if(b){h(),u.call(null,b,...m);return}if(c()||a){h(),u.call(null,b,...m);return}i<64&&(i*=2);let _;o===1?(o=2,_=0):_=(i+Math.random())*1e3,f(_)}let v=!1;function w(b){v||(v=!0,h(),!d&&(r!==null?(b||(o=2),clearTimeout(r),f(0)):b||(o=1)))}return f(0),s=setTimeout(()=>{a=!0,w(!0)},t),w}function Foe(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uoe(n){return n!==void 0}function NU(n,e,t,i){if(i<e)throw SU(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw SU(`Invalid value for '${n}'. Expected ${t} or less.`)}function Moe(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const r=e(i)+"="+e(n[i]);t=t+r+"&"}return t=t.slice(0,-1),t}var h3;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(h3||(h3={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Boe(n,e){const t=n>=500&&n<600,r=[408,429].indexOf(n)!==-1,s=e.indexOf(n)!==-1;return t||r||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zoe{constructor(e,t,i,r,s,a,o,c,d,u,f,h=!0,p=!1){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=u,this.connectionFactory_=f,this.retry=h,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,w)=>{this.resolve_=v,this.reject_=w,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new CN(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=o=>{const c=o.loaded,d=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const o=s.getErrorCode()===h3.NO_ERROR,c=s.getStatus();if(!o||Boe(c,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===h3.ABORT;i(!1,new CN(!1,null,u));return}const d=this.successCodes_.indexOf(c)!==-1;i(!0,new CN(d,s))})},t=(i,r)=>{const s=this.resolve_,a=this.reject_,o=r.connection;if(r.wasSuccessCode)try{const c=this.callback_(o,o.getResponse());Uoe(c)?s(c):s()}catch(c){a(c)}else if(o!==null){const c=Toe();c.serverResponse=o.getErrorText(),this.errorCallback_?a(this.errorCallback_(o,c)):a(c)}else if(r.canceled){const c=this.appDelete_?kq():Doe();a(c)}else{const c=Coe();a(c)}};this.canceled_?t(!1,new CN(!1,null,!0)):this.backoffId_=Ooe(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Foe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class CN{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function joe(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function Woe(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function $oe(n,e){e&&(n["X-Firebase-GMPID"]=e)}function qoe(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function Hoe(n,e,t,i,r,s,a=!0,o=!1){const c=Moe(n.urlParams),d=n.url+c,u=Object.assign({},n.headers);return $oe(u,e),joe(u,t),Woe(u,s),qoe(u,i),new zoe(d,n.method,u,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Voe(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function Goe(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e,t){this._service=e,t instanceof Xc?this._location=t:this._location=Xc.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new f3(e,t)}get root(){const e=new Xc(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Goe(this._location.path)}get storage(){return this._service}get parent(){const e=Voe(this._location.path);if(e===null)return null;const t=new Xc(this._location.bucket,e);return new f3(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw Roe(e)}}function AU(n,e){const t=e==null?void 0:e[Aoe];return t==null?null:Xc.makeFromBucketSpec(t,n)}function Xoe(n,e,t,i={}){n.host=`${e}:${t}`;const r=Vb(e);r&&(tL(`https://${n.host}/b`),nL("Storage",!0)),n._isUsingEmulator=!0,n._protocol=r?"https":"http";const{mockUserToken:s}=i;s&&(n._overrideAuthToken=typeof s=="string"?s:m$(s,n.app.options.projectId))}class Yoe{constructor(e,t,i,r,s,a=!1){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._isUsingEmulator=a,this._bucket=null,this._host=Aq,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=koe,this._maxUploadRetryTime=Eoe,this._requests=new Set,r!=null?this._bucket=Xc.makeFromBucketSpec(r,this._host):this._bucket=AU(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Xc.makeFromBucketSpec(this._url,e):this._bucket=AU(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){NU("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){NU("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(fo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new f3(this,e)}_makeRequest(e,t,i,r,s=!0){if(this._deleted)return new Loe(kq());{const a=Hoe(e,this._appId,i,r,t,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,t){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,r).getPromise()}}const kU="@firebase/storage",EU="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eq="storage";function Koe(n=fT(),e){n=Xa(n);const i=gm(n,Eq).getImmediate({identifier:e}),r=h$("storage");return r&&Joe(i,...r),i}function Joe(n,e,t,i={}){Xoe(n,e,t,i)}function Zoe(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new Yoe(t,i,r,e,r0)}function Qoe(){td(new tc(Eq,Zoe,"PUBLIC").setMultipleInstances(!0)),So(kU,EU,""),So(kU,EU,"esm2020")}Qoe();var TU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wL;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,C){function P(){}P.prototype=C.prototype,T.F=C.prototype,T.prototype=new P,T.prototype.constructor=T,T.D=function(D,E,A){for(var I=Array(arguments.length-2),R=2;R<arguments.length;R++)I[R-2]=arguments[R];return C.prototype[E].apply(D,I)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(T,C,P){P||(P=0);const D=Array(16);if(typeof C=="string")for(var E=0;E<16;++E)D[E]=C.charCodeAt(P++)|C.charCodeAt(P++)<<8|C.charCodeAt(P++)<<16|C.charCodeAt(P++)<<24;else for(E=0;E<16;++E)D[E]=C[P++]|C[P++]<<8|C[P++]<<16|C[P++]<<24;C=T.g[0],P=T.g[1],E=T.g[2];let A=T.g[3],I;I=C+(A^P&(E^A))+D[0]+3614090360&4294967295,C=P+(I<<7&4294967295|I>>>25),I=A+(E^C&(P^E))+D[1]+3905402710&4294967295,A=C+(I<<12&4294967295|I>>>20),I=E+(P^A&(C^P))+D[2]+606105819&4294967295,E=A+(I<<17&4294967295|I>>>15),I=P+(C^E&(A^C))+D[3]+3250441966&4294967295,P=E+(I<<22&4294967295|I>>>10),I=C+(A^P&(E^A))+D[4]+4118548399&4294967295,C=P+(I<<7&4294967295|I>>>25),I=A+(E^C&(P^E))+D[5]+1200080426&4294967295,A=C+(I<<12&4294967295|I>>>20),I=E+(P^A&(C^P))+D[6]+2821735955&4294967295,E=A+(I<<17&4294967295|I>>>15),I=P+(C^E&(A^C))+D[7]+4249261313&4294967295,P=E+(I<<22&4294967295|I>>>10),I=C+(A^P&(E^A))+D[8]+1770035416&4294967295,C=P+(I<<7&4294967295|I>>>25),I=A+(E^C&(P^E))+D[9]+2336552879&4294967295,A=C+(I<<12&4294967295|I>>>20),I=E+(P^A&(C^P))+D[10]+4294925233&4294967295,E=A+(I<<17&4294967295|I>>>15),I=P+(C^E&(A^C))+D[11]+2304563134&4294967295,P=E+(I<<22&4294967295|I>>>10),I=C+(A^P&(E^A))+D[12]+1804603682&4294967295,C=P+(I<<7&4294967295|I>>>25),I=A+(E^C&(P^E))+D[13]+4254626195&4294967295,A=C+(I<<12&4294967295|I>>>20),I=E+(P^A&(C^P))+D[14]+2792965006&4294967295,E=A+(I<<17&4294967295|I>>>15),I=P+(C^E&(A^C))+D[15]+1236535329&4294967295,P=E+(I<<22&4294967295|I>>>10),I=C+(E^A&(P^E))+D[1]+4129170786&4294967295,C=P+(I<<5&4294967295|I>>>27),I=A+(P^E&(C^P))+D[6]+3225465664&4294967295,A=C+(I<<9&4294967295|I>>>23),I=E+(C^P&(A^C))+D[11]+643717713&4294967295,E=A+(I<<14&4294967295|I>>>18),I=P+(A^C&(E^A))+D[0]+3921069994&4294967295,P=E+(I<<20&4294967295|I>>>12),I=C+(E^A&(P^E))+D[5]+3593408605&4294967295,C=P+(I<<5&4294967295|I>>>27),I=A+(P^E&(C^P))+D[10]+38016083&4294967295,A=C+(I<<9&4294967295|I>>>23),I=E+(C^P&(A^C))+D[15]+3634488961&4294967295,E=A+(I<<14&4294967295|I>>>18),I=P+(A^C&(E^A))+D[4]+3889429448&4294967295,P=E+(I<<20&4294967295|I>>>12),I=C+(E^A&(P^E))+D[9]+568446438&4294967295,C=P+(I<<5&4294967295|I>>>27),I=A+(P^E&(C^P))+D[14]+3275163606&4294967295,A=C+(I<<9&4294967295|I>>>23),I=E+(C^P&(A^C))+D[3]+4107603335&4294967295,E=A+(I<<14&4294967295|I>>>18),I=P+(A^C&(E^A))+D[8]+1163531501&4294967295,P=E+(I<<20&4294967295|I>>>12),I=C+(E^A&(P^E))+D[13]+2850285829&4294967295,C=P+(I<<5&4294967295|I>>>27),I=A+(P^E&(C^P))+D[2]+4243563512&4294967295,A=C+(I<<9&4294967295|I>>>23),I=E+(C^P&(A^C))+D[7]+1735328473&4294967295,E=A+(I<<14&4294967295|I>>>18),I=P+(A^C&(E^A))+D[12]+2368359562&4294967295,P=E+(I<<20&4294967295|I>>>12),I=C+(P^E^A)+D[5]+4294588738&4294967295,C=P+(I<<4&4294967295|I>>>28),I=A+(C^P^E)+D[8]+2272392833&4294967295,A=C+(I<<11&4294967295|I>>>21),I=E+(A^C^P)+D[11]+1839030562&4294967295,E=A+(I<<16&4294967295|I>>>16),I=P+(E^A^C)+D[14]+4259657740&4294967295,P=E+(I<<23&4294967295|I>>>9),I=C+(P^E^A)+D[1]+2763975236&4294967295,C=P+(I<<4&4294967295|I>>>28),I=A+(C^P^E)+D[4]+1272893353&4294967295,A=C+(I<<11&4294967295|I>>>21),I=E+(A^C^P)+D[7]+4139469664&4294967295,E=A+(I<<16&4294967295|I>>>16),I=P+(E^A^C)+D[10]+3200236656&4294967295,P=E+(I<<23&4294967295|I>>>9),I=C+(P^E^A)+D[13]+681279174&4294967295,C=P+(I<<4&4294967295|I>>>28),I=A+(C^P^E)+D[0]+3936430074&4294967295,A=C+(I<<11&4294967295|I>>>21),I=E+(A^C^P)+D[3]+3572445317&4294967295,E=A+(I<<16&4294967295|I>>>16),I=P+(E^A^C)+D[6]+76029189&4294967295,P=E+(I<<23&4294967295|I>>>9),I=C+(P^E^A)+D[9]+3654602809&4294967295,C=P+(I<<4&4294967295|I>>>28),I=A+(C^P^E)+D[12]+3873151461&4294967295,A=C+(I<<11&4294967295|I>>>21),I=E+(A^C^P)+D[15]+530742520&4294967295,E=A+(I<<16&4294967295|I>>>16),I=P+(E^A^C)+D[2]+3299628645&4294967295,P=E+(I<<23&4294967295|I>>>9),I=C+(E^(P|~A))+D[0]+4096336452&4294967295,C=P+(I<<6&4294967295|I>>>26),I=A+(P^(C|~E))+D[7]+1126891415&4294967295,A=C+(I<<10&4294967295|I>>>22),I=E+(C^(A|~P))+D[14]+2878612391&4294967295,E=A+(I<<15&4294967295|I>>>17),I=P+(A^(E|~C))+D[5]+4237533241&4294967295,P=E+(I<<21&4294967295|I>>>11),I=C+(E^(P|~A))+D[12]+1700485571&4294967295,C=P+(I<<6&4294967295|I>>>26),I=A+(P^(C|~E))+D[3]+2399980690&4294967295,A=C+(I<<10&4294967295|I>>>22),I=E+(C^(A|~P))+D[10]+4293915773&4294967295,E=A+(I<<15&4294967295|I>>>17),I=P+(A^(E|~C))+D[1]+2240044497&4294967295,P=E+(I<<21&4294967295|I>>>11),I=C+(E^(P|~A))+D[8]+1873313359&4294967295,C=P+(I<<6&4294967295|I>>>26),I=A+(P^(C|~E))+D[15]+4264355552&4294967295,A=C+(I<<10&4294967295|I>>>22),I=E+(C^(A|~P))+D[6]+2734768916&4294967295,E=A+(I<<15&4294967295|I>>>17),I=P+(A^(E|~C))+D[13]+1309151649&4294967295,P=E+(I<<21&4294967295|I>>>11),I=C+(E^(P|~A))+D[4]+4149444226&4294967295,C=P+(I<<6&4294967295|I>>>26),I=A+(P^(C|~E))+D[11]+3174756917&4294967295,A=C+(I<<10&4294967295|I>>>22),I=E+(C^(A|~P))+D[2]+718787259&4294967295,E=A+(I<<15&4294967295|I>>>17),I=P+(A^(E|~C))+D[9]+3951481745&4294967295,T.g[0]=T.g[0]+C&4294967295,T.g[1]=T.g[1]+(E+(I<<21&4294967295|I>>>11))&4294967295,T.g[2]=T.g[2]+E&4294967295,T.g[3]=T.g[3]+A&4294967295}i.prototype.v=function(T,C){C===void 0&&(C=T.length);const P=C-this.blockSize,D=this.C;let E=this.h,A=0;for(;A<C;){if(E==0)for(;A<=P;)r(this,T,A),A+=this.blockSize;if(typeof T=="string"){for(;A<C;)if(D[E++]=T.charCodeAt(A++),E==this.blockSize){r(this,D),E=0;break}}else for(;A<C;)if(D[E++]=T[A++],E==this.blockSize){r(this,D),E=0;break}}this.h=E,this.o+=C},i.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var C=1;C<T.length-8;++C)T[C]=0;C=this.o*8;for(var P=T.length-8;P<T.length;++P)T[P]=C&255,C/=256;for(this.v(T),T=Array(16),C=0,P=0;P<4;++P)for(let D=0;D<32;D+=8)T[C++]=this.g[P]>>>D&255;return T};function s(T,C){var P=o;return Object.prototype.hasOwnProperty.call(P,T)?P[T]:P[T]=C(T)}function a(T,C){this.h=C;const P=[];let D=!0;for(let E=T.length-1;E>=0;E--){const A=T[E]|0;D&&A==C||(P[E]=A,D=!1)}this.g=P}var o={};function c(T){return-128<=T&&T<128?s(T,function(C){return new a([C|0],C<0?-1:0)}):new a([T|0],T<0?-1:0)}function d(T){if(isNaN(T)||!isFinite(T))return f;if(T<0)return b(d(-T));const C=[];let P=1;for(let D=0;T>=P;D++)C[D]=T/P|0,P*=4294967296;return new a(C,0)}function u(T,C){if(T.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(T.charAt(0)=="-")return b(u(T.substring(1),C));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=d(Math.pow(C,8));let D=f;for(let A=0;A<T.length;A+=8){var E=Math.min(8,T.length-A);const I=parseInt(T.substring(A,A+E),C);E<8?(E=d(Math.pow(C,E)),D=D.j(E).add(d(I))):(D=D.j(P),D=D.add(d(I)))}return D}var f=c(0),h=c(1),p=c(16777216);n=a.prototype,n.m=function(){if(w(this))return-b(this).m();let T=0,C=1;for(let P=0;P<this.g.length;P++){const D=this.i(P);T+=(D>=0?D:4294967296+D)*C,C*=4294967296}return T},n.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(v(this))return"0";if(w(this))return"-"+b(this).toString(T);const C=d(Math.pow(T,6));var P=this;let D="";for(;;){const E=x(P,C).g;P=m(P,E.j(C));let A=((P.g.length>0?P.g[0]:P.h)>>>0).toString(T);if(P=E,v(P))return A+D;for(;A.length<6;)A="0"+A;D=A+D}},n.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function v(T){if(T.h!=0)return!1;for(let C=0;C<T.g.length;C++)if(T.g[C]!=0)return!1;return!0}function w(T){return T.h==-1}n.l=function(T){return T=m(this,T),w(T)?-1:v(T)?0:1};function b(T){const C=T.g.length,P=[];for(let D=0;D<C;D++)P[D]=~T.g[D];return new a(P,~T.h).add(h)}n.abs=function(){return w(this)?b(this):this},n.add=function(T){const C=Math.max(this.g.length,T.g.length),P=[];let D=0;for(let E=0;E<=C;E++){let A=D+(this.i(E)&65535)+(T.i(E)&65535),I=(A>>>16)+(this.i(E)>>>16)+(T.i(E)>>>16);D=I>>>16,A&=65535,I&=65535,P[E]=I<<16|A}return new a(P,P[P.length-1]&-2147483648?-1:0)};function m(T,C){return T.add(b(C))}n.j=function(T){if(v(this)||v(T))return f;if(w(this))return w(T)?b(this).j(b(T)):b(b(this).j(T));if(w(T))return b(this.j(b(T)));if(this.l(p)<0&&T.l(p)<0)return d(this.m()*T.m());const C=this.g.length+T.g.length,P=[];for(var D=0;D<2*C;D++)P[D]=0;for(D=0;D<this.g.length;D++)for(let E=0;E<T.g.length;E++){const A=this.i(D)>>>16,I=this.i(D)&65535,R=T.i(E)>>>16,M=T.i(E)&65535;P[2*D+2*E]+=I*M,y(P,2*D+2*E),P[2*D+2*E+1]+=A*M,y(P,2*D+2*E+1),P[2*D+2*E+1]+=I*R,y(P,2*D+2*E+1),P[2*D+2*E+2]+=A*R,y(P,2*D+2*E+2)}for(T=0;T<C;T++)P[T]=P[2*T+1]<<16|P[2*T];for(T=C;T<2*C;T++)P[T]=0;return new a(P,0)};function y(T,C){for(;(T[C]&65535)!=T[C];)T[C+1]+=T[C]>>>16,T[C]&=65535,C++}function _(T,C){this.g=T,this.h=C}function x(T,C){if(v(C))throw Error("division by zero");if(v(T))return new _(f,f);if(w(T))return C=x(b(T),C),new _(b(C.g),b(C.h));if(w(C))return C=x(T,b(C)),new _(b(C.g),C.h);if(T.g.length>30){if(w(T)||w(C))throw Error("slowDivide_ only works with positive integers.");for(var P=h,D=C;D.l(T)<=0;)P=N(P),D=N(D);var E=k(P,1),A=k(D,1);for(D=k(D,2),P=k(P,2);!v(D);){var I=A.add(D);I.l(T)<=0&&(E=E.add(P),A=I),D=k(D,1),P=k(P,1)}return C=m(T,E.j(C)),new _(E,C)}for(E=f;T.l(C)>=0;){for(P=Math.max(1,Math.floor(T.m()/C.m())),D=Math.ceil(Math.log(P)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),A=d(P),I=A.j(C);w(I)||I.l(T)>0;)P-=D,A=d(P),I=A.j(C);v(A)&&(A=h),E=E.add(A),T=m(T,I)}return new _(E,T)}n.B=function(T){return x(this,T).h},n.and=function(T){const C=Math.max(this.g.length,T.g.length),P=[];for(let D=0;D<C;D++)P[D]=this.i(D)&T.i(D);return new a(P,this.h&T.h)},n.or=function(T){const C=Math.max(this.g.length,T.g.length),P=[];for(let D=0;D<C;D++)P[D]=this.i(D)|T.i(D);return new a(P,this.h|T.h)},n.xor=function(T){const C=Math.max(this.g.length,T.g.length),P=[];for(let D=0;D<C;D++)P[D]=this.i(D)^T.i(D);return new a(P,this.h^T.h)};function N(T){const C=T.g.length+1,P=[];for(let D=0;D<C;D++)P[D]=T.i(D)<<1|T.i(D-1)>>>31;return new a(P,T.h)}function k(T,C){const P=C>>5;C%=32;const D=T.g.length-P,E=[];for(let A=0;A<D;A++)E[A]=C>0?T.i(A+P)>>>C|T.i(A+P+1)<<32-C:T.i(A+P);return new a(E,T.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=u,wL=a}).apply(typeof TU<"u"?TU:typeof self<"u"?self:typeof window<"u"?window:{});var DN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var n,e=Object.defineProperty;function t(F){F=[typeof globalThis=="object"&&globalThis,F,typeof window=="object"&&window,typeof self=="object"&&self,typeof DN=="object"&&DN];for(var re=0;re<F.length;++re){var ue=F[re];if(ue&&ue.Math==Math)return ue}throw Error("Cannot find global object")}var i=t(this);function r(F,re){if(re)e:{var ue=i;F=F.split(".");for(var De=0;De<F.length-1;De++){var st=F[De];if(!(st in ue))break e;ue=ue[st]}F=F[F.length-1],De=ue[F],re=re(De),re!=De&&re!=null&&e(ue,F,{configurable:!0,writable:!0,value:re})}}r("Symbol.dispose",function(F){return F||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(F){return F||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(F){return F||function(re){var ue=[],De;for(De in re)Object.prototype.hasOwnProperty.call(re,De)&&ue.push([De,re[De]]);return ue}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function o(F){var re=typeof F;return re=="object"&&F!=null||re=="function"}function c(F,re,ue){return F.call.apply(F.bind,arguments)}function d(F,re,ue){return d=c,d.apply(null,arguments)}function u(F,re){var ue=Array.prototype.slice.call(arguments,1);return function(){var De=ue.slice();return De.push.apply(De,arguments),F.apply(this,De)}}function f(F,re){function ue(){}ue.prototype=re.prototype,F.Z=re.prototype,F.prototype=new ue,F.prototype.constructor=F,F.Ob=function(De,st,ct){for(var Lt=Array(arguments.length-2),on=2;on<arguments.length;on++)Lt[on-2]=arguments[on];return re.prototype[st].apply(De,Lt)}}var h=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?F=>F&&AsyncContext.Snapshot.wrap(F):F=>F;function p(F){const re=F.length;if(re>0){const ue=Array(re);for(let De=0;De<re;De++)ue[De]=F[De];return ue}return[]}function v(F,re){for(let De=1;De<arguments.length;De++){const st=arguments[De];var ue=typeof st;if(ue=ue!="object"?ue:st?Array.isArray(st)?"array":ue:"null",ue=="array"||ue=="object"&&typeof st.length=="number"){ue=F.length||0;const ct=st.length||0;F.length=ue+ct;for(let Lt=0;Lt<ct;Lt++)F[ue+Lt]=st[Lt]}else F.push(st)}}class w{constructor(re,ue){this.i=re,this.j=ue,this.h=0,this.g=null}get(){let re;return this.h>0?(this.h--,re=this.g,this.g=re.next,re.next=null):re=this.i(),re}}function b(F){a.setTimeout(()=>{throw F},0)}function m(){var F=T;let re=null;return F.g&&(re=F.g,F.g=F.g.next,F.g||(F.h=null),re.next=null),re}class y{constructor(){this.h=this.g=null}add(re,ue){const De=_.get();De.set(re,ue),this.h?this.h.next=De:this.g=De,this.h=De}}var _=new w(()=>new x,F=>F.reset());class x{constructor(){this.next=this.g=this.h=null}set(re,ue){this.h=re,this.g=ue,this.next=null}reset(){this.next=this.g=this.h=null}}let N,k=!1,T=new y,C=()=>{const F=Promise.resolve(void 0);N=()=>{F.then(P)}};function P(){for(var F;F=m();){try{F.h.call(F.g)}catch(ue){b(ue)}var re=_;re.j(F),re.h<100&&(re.h++,F.next=re.g,re.g=F)}k=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function E(F,re){this.type=F,this.g=this.target=re,this.defaultPrevented=!1}E.prototype.h=function(){this.defaultPrevented=!0};var A=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var F=!1,re=Object.defineProperty({},"passive",{get:function(){F=!0}});try{const ue=()=>{};a.addEventListener("test",ue,re),a.removeEventListener("test",ue,re)}catch{}return F}();function I(F){return/^[\s\xa0]*$/.test(F)}function R(F,re){E.call(this,F?F.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,F&&this.init(F,re)}f(R,E),R.prototype.init=function(F,re){const ue=this.type=F.type,De=F.changedTouches&&F.changedTouches.length?F.changedTouches[0]:null;this.target=F.target||F.srcElement,this.g=re,re=F.relatedTarget,re||(ue=="mouseover"?re=F.fromElement:ue=="mouseout"&&(re=F.toElement)),this.relatedTarget=re,De?(this.clientX=De.clientX!==void 0?De.clientX:De.pageX,this.clientY=De.clientY!==void 0?De.clientY:De.pageY,this.screenX=De.screenX||0,this.screenY=De.screenY||0):(this.clientX=F.clientX!==void 0?F.clientX:F.pageX,this.clientY=F.clientY!==void 0?F.clientY:F.pageY,this.screenX=F.screenX||0,this.screenY=F.screenY||0),this.button=F.button,this.key=F.key||"",this.ctrlKey=F.ctrlKey,this.altKey=F.altKey,this.shiftKey=F.shiftKey,this.metaKey=F.metaKey,this.pointerId=F.pointerId||0,this.pointerType=F.pointerType,this.state=F.state,this.i=F,F.defaultPrevented&&R.Z.h.call(this)},R.prototype.h=function(){R.Z.h.call(this);const F=this.i;F.preventDefault?F.preventDefault():F.returnValue=!1};var M="closure_listenable_"+(Math.random()*1e6|0),Y=0;function q(F,re,ue,De,st){this.listener=F,this.proxy=null,this.src=re,this.type=ue,this.capture=!!De,this.ha=st,this.key=++Y,this.da=this.fa=!1}function G(F){F.da=!0,F.listener=null,F.proxy=null,F.src=null,F.ha=null}function B(F,re,ue){for(const De in F)re.call(ue,F[De],De,F)}function J(F,re){for(const ue in F)re.call(void 0,F[ue],ue,F)}function W(F){const re={};for(const ue in F)re[ue]=F[ue];return re}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(F,re){let ue,De;for(let st=1;st<arguments.length;st++){De=arguments[st];for(ue in De)F[ue]=De[ue];for(let ct=0;ct<L.length;ct++)ue=L[ct],Object.prototype.hasOwnProperty.call(De,ue)&&(F[ue]=De[ue])}}function X(F){this.src=F,this.g={},this.h=0}X.prototype.add=function(F,re,ue,De,st){const ct=F.toString();F=this.g[ct],F||(F=this.g[ct]=[],this.h++);const Lt=V(F,re,De,st);return Lt>-1?(re=F[Lt],ue||(re.fa=!1)):(re=new q(re,this.src,ct,!!De,st),re.fa=ue,F.push(re)),re};function Q(F,re){const ue=re.type;if(ue in F.g){var De=F.g[ue],st=Array.prototype.indexOf.call(De,re,void 0),ct;(ct=st>=0)&&Array.prototype.splice.call(De,st,1),ct&&(G(re),F.g[ue].length==0&&(delete F.g[ue],F.h--))}}function V(F,re,ue,De){for(let st=0;st<F.length;++st){const ct=F[st];if(!ct.da&&ct.listener==re&&ct.capture==!!ue&&ct.ha==De)return st}return-1}var Z="closure_lm_"+(Math.random()*1e6|0),_e={};function le(F,re,ue,De,st){if(De&&De.once)return Ae(F,re,ue,De,st);if(Array.isArray(re)){for(let ct=0;ct<re.length;ct++)le(F,re[ct],ue,De,st);return null}return ue=$(ue),F&&F[M]?F.J(re,ue,o(De)?!!De.capture:!!De,st):ce(F,re,ue,!1,De,st)}function ce(F,re,ue,De,st,ct){if(!re)throw Error("Invalid event type");const Lt=o(st)?!!st.capture:!!st;let on=je(F);if(on||(F[Z]=on=new X(F)),ue=on.add(re,ue,De,Lt,ct),ue.proxy)return ue;if(De=Fe(),ue.proxy=De,De.src=F,De.listener=ue,F.addEventListener)A||(st=Lt),st===void 0&&(st=!1),F.addEventListener(re.toString(),De,st);else if(F.attachEvent)F.attachEvent(fe(re.toString()),De);else if(F.addListener&&F.removeListener)F.addListener(De);else throw Error("addEventListener and attachEvent are unavailable.");return ue}function Fe(){function F(ue){return re.call(F.src,F.listener,ue)}const re=Je;return F}function Ae(F,re,ue,De,st){if(Array.isArray(re)){for(let ct=0;ct<re.length;ct++)Ae(F,re[ct],ue,De,st);return null}return ue=$(ue),F&&F[M]?F.K(re,ue,o(De)?!!De.capture:!!De,st):ce(F,re,ue,!0,De,st)}function Re(F,re,ue,De,st){if(Array.isArray(re))for(var ct=0;ct<re.length;ct++)Re(F,re[ct],ue,De,st);else De=o(De)?!!De.capture:!!De,ue=$(ue),F&&F[M]?(F=F.i,ct=String(re).toString(),ct in F.g&&(re=F.g[ct],ue=V(re,ue,De,st),ue>-1&&(G(re[ue]),Array.prototype.splice.call(re,ue,1),re.length==0&&(delete F.g[ct],F.h--)))):F&&(F=je(F))&&(re=F.g[re.toString()],F=-1,re&&(F=V(re,ue,De,st)),(ue=F>-1?re[F]:null)&&Ve(ue))}function Ve(F){if(typeof F!="number"&&F&&!F.da){var re=F.src;if(re&&re[M])Q(re.i,F);else{var ue=F.type,De=F.proxy;re.removeEventListener?re.removeEventListener(ue,De,F.capture):re.detachEvent?re.detachEvent(fe(ue),De):re.addListener&&re.removeListener&&re.removeListener(De),(ue=je(re))?(Q(ue,F),ue.h==0&&(ue.src=null,re[Z]=null)):G(F)}}}function fe(F){return F in _e?_e[F]:_e[F]="on"+F}function Je(F,re){if(F.da)F=!0;else{re=new R(re,this);const ue=F.listener,De=F.ha||F.src;F.fa&&Ve(F),F=ue.call(De,re)}return F}function je(F){return F=F[Z],F instanceof X?F:null}var Ce="__closure_events_fn_"+(Math.random()*1e9>>>0);function $(F){return typeof F=="function"?F:(F[Ce]||(F[Ce]=function(re){return F.handleEvent(re)}),F[Ce])}function ke(){D.call(this),this.i=new X(this),this.M=this,this.G=null}f(ke,D),ke.prototype[M]=!0,ke.prototype.removeEventListener=function(F,re,ue,De){Re(this,F,re,ue,De)};function Se(F,re){var ue,De=F.G;if(De)for(ue=[];De;De=De.G)ue.push(De);if(F=F.M,De=re.type||re,typeof re=="string")re=new E(re,F);else if(re instanceof E)re.target=re.target||F;else{var st=re;re=new E(De,F),z(re,st)}st=!0;let ct,Lt;if(ue)for(Lt=ue.length-1;Lt>=0;Lt--)ct=re.g=ue[Lt],st=pe(ct,De,!0,re)&&st;if(ct=re.g=F,st=pe(ct,De,!0,re)&&st,st=pe(ct,De,!1,re)&&st,ue)for(Lt=0;Lt<ue.length;Lt++)ct=re.g=ue[Lt],st=pe(ct,De,!1,re)&&st}ke.prototype.N=function(){if(ke.Z.N.call(this),this.i){var F=this.i;for(const re in F.g){const ue=F.g[re];for(let De=0;De<ue.length;De++)G(ue[De]);delete F.g[re],F.h--}}this.G=null},ke.prototype.J=function(F,re,ue,De){return this.i.add(String(F),re,!1,ue,De)},ke.prototype.K=function(F,re,ue,De){return this.i.add(String(F),re,!0,ue,De)};function pe(F,re,ue,De){if(re=F.i.g[String(re)],!re)return!0;re=re.concat();let st=!0;for(let ct=0;ct<re.length;++ct){const Lt=re[ct];if(Lt&&!Lt.da&&Lt.capture==ue){const on=Lt.listener,mi=Lt.ha||Lt.src;Lt.fa&&Q(F.i,Lt),st=on.call(mi,De)!==!1&&st}}return st&&!De.defaultPrevented}function U(F,re){if(typeof F!="function")if(F&&typeof F.handleEvent=="function")F=d(F.handleEvent,F);else throw Error("Invalid listener argument");return Number(re)>2147483647?-1:a.setTimeout(F,re||0)}function H(F){F.g=U(()=>{F.g=null,F.i&&(F.i=!1,H(F))},F.l);const re=F.h;F.h=null,F.m.apply(null,re)}class te extends D{constructor(re,ue){super(),this.m=re,this.l=ue,this.h=null,this.i=!1,this.g=null}j(re){this.h=arguments,this.g?this.i=!0:H(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function he(F){D.call(this),this.h=F,this.g={}}f(he,D);var ve=[];function ae(F){B(F.g,function(re,ue){this.g.hasOwnProperty(ue)&&Ve(re)},F),F.g={}}he.prototype.N=function(){he.Z.N.call(this),ae(this)},he.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var me=a.JSON.stringify,ge=a.JSON.parse,Oe=class{stringify(F){return a.JSON.stringify(F,void 0)}parse(F){return a.JSON.parse(F,void 0)}};function Ye(){}function Ke(){}var mt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qe(){E.call(this,"d")}f(qe,E);function it(){E.call(this,"c")}f(it,E);var ft={},We=null;function tt(){return We=We||new ke}ft.Ia="serverreachability";function pt(F){E.call(this,ft.Ia,F)}f(pt,E);function Ct(F){const re=tt();Se(re,new pt(re))}ft.STAT_EVENT="statevent";function Et(F,re){E.call(this,ft.STAT_EVENT,F),this.stat=re}f(Et,E);function St(F){const re=tt();Se(re,new Et(re,F))}ft.Ja="timingevent";function Bt(F,re){E.call(this,ft.Ja,F),this.size=re}f(Bt,E);function kn(F,re){if(typeof F!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){F()},re)}function sn(){this.g=!0}sn.prototype.ua=function(){this.g=!1};function we(F,re,ue,De,st,ct){F.info(function(){if(F.g)if(ct){var Lt="",on=ct.split("&");for(let Nn=0;Nn<on.length;Nn++){var mi=on[Nn].split("=");if(mi.length>1){const gi=mi[0];mi=mi[1];const Mr=gi.split("_");Lt=Mr.length>=2&&Mr[1]=="type"?Lt+(gi+"="+mi+"&"):Lt+(gi+"=redacted&")}}}else Lt=null;else Lt=ct;return"XMLHTTP REQ ("+De+") [attempt "+st+"]: "+re+`
`+ue+`
`+Lt})}function Pe(F,re,ue,De,st,ct,Lt){F.info(function(){return"XMLHTTP RESP ("+De+") [ attempt "+st+"]: "+re+`
`+ue+`
`+ct+" "+Lt})}function Me(F,re,ue,De){F.info(function(){return"XMLHTTP TEXT ("+re+"): "+Pt(F,ue)+(De?" "+De:"")})}function ht(F,re){F.info(function(){return"TIMEOUT: "+re})}sn.prototype.info=function(){};function Pt(F,re){if(!F.g)return re;if(!re)return null;try{const ct=JSON.parse(re);if(ct){for(F=0;F<ct.length;F++)if(Array.isArray(ct[F])){var ue=ct[F];if(!(ue.length<2)){var De=ue[1];if(Array.isArray(De)&&!(De.length<1)){var st=De[0];if(st!="noop"&&st!="stop"&&st!="close")for(let Lt=1;Lt<De.length;Lt++)De[Lt]=""}}}}return me(ct)}catch{return re}}var ot={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Nt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ut;function Jt(){}f(Jt,Ye),Jt.prototype.g=function(){return new XMLHttpRequest},Ut=new Jt;function hn(F){return encodeURIComponent(String(F))}function _i(F){var re=1;F=F.split(":");const ue=[];for(;re>0&&F.length;)ue.push(F.shift()),re--;return F.length&&ue.push(F.join(":")),ue}function hi(F,re,ue,De){this.j=F,this.i=re,this.l=ue,this.S=De||1,this.V=new he(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bi}function Bi(){this.i=null,this.g="",this.h=!1}var Pi={},fi={};function pi(F,re,ue){F.M=1,F.A=Kr(Bn(re)),F.u=ue,F.R=!0,zi(F,null)}function zi(F,re){F.F=Date.now(),Yr(F),F.B=Bn(F.A);var ue=F.B,De=F.S;Array.isArray(De)||(De=[String(De)]),hd(ue.i,"t",De),F.C=0,ue=F.j.L,F.h=new Bi,F.g=Wt(F.j,ue?re:null,!F.u),F.P>0&&(F.O=new te(d(F.Y,F,F.g),F.P)),re=F.V,ue=F.g,De=F.ba;var st="readystatechange";Array.isArray(st)||(st&&(ve[0]=st.toString()),st=ve);for(let ct=0;ct<st.length;ct++){const Lt=le(ue,st[ct],De||re.handleEvent,!1,re.h||re);if(!Lt)break;re.g[Lt.key]=Lt}re=F.J?W(F.J):{},F.u?(F.v||(F.v="POST"),re["Content-Type"]="application/x-www-form-urlencoded",F.g.ea(F.B,F.v,F.u,re)):(F.v="GET",F.g.ea(F.B,F.v,null,re)),Ct(),we(F.i,F.v,F.B,F.l,F.S,F.u)}hi.prototype.ba=function(F){F=F.target;const re=this.O;re&&ms(F)==3?re.j():this.Y(F)},hi.prototype.Y=function(F){try{if(F==this.g)e:{const on=ms(this.g),mi=this.g.ya(),Nn=this.g.ca();if(!(on<3)&&(on!=3||this.g&&(this.h.h||this.g.la()||yd(this.g)))){this.K||on!=4||mi==7||(mi==8||Nn<=0?Ct(3):Ct(2)),_l(this);var re=this.g.ca();this.X=re;var ue=Os(this);if(this.o=re==200,Pe(this.i,this.v,this.B,this.l,this.S,on,re),this.o){if(this.U&&!this.L){t:{if(this.g){var De,st=this.g;if((De=st.g?st.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(De)){var ct=De;break t}}ct=null}if(F=ct)Me(this.i,this.l,F,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,od(this,F);else{this.o=!1,this.m=3,St(12),Fs(this),dc(this);break e}}if(this.R){F=!0;let gi;for(;!this.K&&this.C<ue.length;)if(gi=Ur(this,ue),gi==fi){on==4&&(this.m=4,St(14),F=!1),Me(this.i,this.l,null,"[Incomplete Response]");break}else if(gi==Pi){this.m=4,St(15),Me(this.i,this.l,ue,"[Invalid Chunk]"),F=!1;break}else Me(this.i,this.l,gi,null),od(this,gi);if(Xr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),on!=4||ue.length!=0||this.h.h||(this.m=1,St(16),F=!1),this.o=this.o&&F,!F)Me(this.i,this.l,ue,"[Invalid Chunked Response]"),Fs(this),dc(this);else if(ue.length>0&&!this.W){this.W=!0;var Lt=this.j;Lt.g==this&&Lt.aa&&!Lt.P&&(Lt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),K(Lt),Lt.P=!0,St(11))}}else Me(this.i,this.l,ue,null),od(this,ue);on==4&&Fs(this),this.o&&!this.K&&(on==4?Ge(this.j,this):(this.o=!1,Yr(this)))}else Co(this.g),re==400&&ue.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),Fs(this),dc(this)}}}catch{}finally{}};function Os(F){if(!Xr(F))return F.g.la();const re=yd(F.g);if(re==="")return"";let ue="";const De=re.length,st=ms(F.g)==4;if(!F.h.i){if(typeof TextDecoder>"u")return Fs(F),dc(F),"";F.h.i=new a.TextDecoder}for(let ct=0;ct<De;ct++)F.h.h=!0,ue+=F.h.i.decode(re[ct],{stream:!(st&&ct==De-1)});return re.length=0,F.h.g+=ue,F.C=0,F.h.g}function Xr(F){return F.g?F.v=="GET"&&F.M!=2&&F.j.Aa:!1}function Ur(F,re){var ue=F.C,De=re.indexOf(`
`,ue);return De==-1?fi:(ue=Number(re.substring(ue,De)),isNaN(ue)?Pi:(De+=1,De+ue>re.length?fi:(re=re.slice(De,De+ue),F.C=De+ue,re)))}hi.prototype.cancel=function(){this.K=!0,Fs(this)};function Yr(F){F.T=Date.now()+F.H,cc(F,F.H)}function cc(F,re){if(F.D!=null)throw Error("WatchDog timer not null");F.D=kn(d(F.aa,F),re)}function _l(F){F.D&&(a.clearTimeout(F.D),F.D=null)}hi.prototype.aa=function(){this.D=null;const F=Date.now();F-this.T>=0?(ht(this.i,this.B),this.M!=2&&(Ct(),St(17)),Fs(this),this.m=2,dc(this)):cc(this,this.T-F)};function dc(F){F.j.I==0||F.K||Ge(F.j,F)}function Fs(F){_l(F);var re=F.O;re&&typeof re.dispose=="function"&&re.dispose(),F.O=null,ae(F.V),F.g&&(re=F.g,F.g=null,re.abort(),re.dispose())}function od(F,re){try{var ue=F.j;if(ue.I!=0&&(ue.g==F||Eo(ue.h,F))){if(!F.L&&Eo(ue.h,F)&&ue.I==3){try{var De=ue.Ba.g.parse(re)}catch{De=null}if(Array.isArray(De)&&De.length==3){var st=De;if(st[0]==0){e:if(!ue.v){if(ue.g)if(ue.g.F+3e3<F.F)Ue(ue),Za(ue);else break e;bd(ue),St(18)}}else ue.xa=st[1],0<ue.xa-ue.K&&st[2]<37500&&ue.F&&ue.A==0&&!ue.C&&(ue.C=kn(d(ue.Va,ue),6e3));Nu(ue.h)<=1&&ue.ta&&(ue.ta=void 0)}else yt(ue,11)}else if((F.L||ue.g==F)&&Ue(ue),!I(re))for(st=ue.Ba.g.parse(re),re=0;re<st.length;re++){let Nn=st[re];const gi=Nn[0];if(!(gi<=ue.K))if(ue.K=gi,Nn=Nn[1],ue.I==2)if(Nn[0]=="c"){ue.M=Nn[1],ue.ba=Nn[2];const Mr=Nn[3];Mr!=null&&(ue.ka=Mr,ue.j.info("VER="+ue.ka));const ys=Nn[4];ys!=null&&(ue.za=ys,ue.j.info("SVER="+ue.za));const ni=Nn[5];ni!=null&&typeof ni=="number"&&ni>0&&(De=1.5*ni,ue.O=De,ue.j.info("backChannelRequestTimeoutMs_="+De)),De=ue;const vs=F.g;if(vs){const Ca=vs.g?vs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ca){var ct=De.h;ct.g||Ca.indexOf("spdy")==-1&&Ca.indexOf("quic")==-1&&Ca.indexOf("h2")==-1||(ct.j=ct.l,ct.g=new Set,ct.h&&(uc(ct,ct.h),ct.h=null))}if(De.G){const vc=vs.g?vs.g.getResponseHeader("X-HTTP-Session-Id"):null;vc&&(De.wa=vc,zn(De.J,De.G,vc))}}ue.I=3,ue.l&&ue.l.ra(),ue.aa&&(ue.T=Date.now()-F.F,ue.j.info("Handshake RTT: "+ue.T+"ms")),De=ue;var Lt=F;if(De.na=$t(De,De.L?De.ba:null,De.W),Lt.L){dd(De.h,Lt);var on=Lt,mi=De.O;mi&&(on.H=mi),on.D&&(_l(on),Yr(on)),De.g=Lt}else Po(De);ue.i.length>0&&yc(ue)}else Nn[0]!="stop"&&Nn[0]!="close"||yt(ue,7);else ue.I==3&&(Nn[0]=="stop"||Nn[0]=="close"?Nn[0]=="stop"?yt(ue,7):gc(ue):Nn[0]!="noop"&&ue.l&&ue.l.qa(Nn),ue.A=0)}}Ct(4)}catch{}}var ld=class{constructor(F,re){this.g=F,this.map=re}};function Us(F){this.l=F||10,a.PerformanceNavigationTiming?(F=a.performance.getEntriesByType("navigation"),F=F.length>0&&(F[0].nextHopProtocol=="hq"||F[0].nextHopProtocol=="h2")):F=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=F?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function cd(F){return F.h?!0:F.g?F.g.size>=F.j:!1}function Nu(F){return F.h?1:F.g?F.g.size:0}function Eo(F,re){return F.h?F.h==re:F.g?F.g.has(re):!1}function uc(F,re){F.g?F.g.add(re):F.h=re}function dd(F,re){F.h&&F.h==re?F.h=null:F.g&&F.g.has(re)&&F.g.delete(re)}Us.prototype.cancel=function(){if(this.i=ud(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const F of this.g.values())F.cancel();this.g.clear()}};function ud(F){if(F.h!=null)return F.i.concat(F.h.G);if(F.g!=null&&F.g.size!==0){let re=F.i;for(const ue of F.g.values())re=re.concat(ue.G);return re}return p(F.i)}var fs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sl(F,re){if(F){F=F.split("&");for(let ue=0;ue<F.length;ue++){const De=F[ue].indexOf("=");let st,ct=null;De>=0?(st=F[ue].substring(0,De),ct=F[ue].substring(De+1)):st=F[ue],re(st,ct?decodeURIComponent(ct.replace(/\+/g," ")):"")}}}function ka(F){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let re;F instanceof ka?(this.l=F.l,sa(this,F.j),this.o=F.o,this.g=F.g,lr(this,F.u),this.h=F.h,Nl(this,fd(F.i)),this.m=F.m):F&&(re=String(F).match(fs))?(this.l=!1,sa(this,re[1]||"",!0),this.o=Si(re[2]||""),this.g=Si(re[3]||"",!0),lr(this,re[4]),this.h=Si(re[5]||"",!0),Nl(this,re[6]||"",!0),this.m=Si(re[7]||"")):(this.l=!1,this.i=new Ka(null,this.l))}ka.prototype.toString=function(){const F=[];var re=this.j;re&&F.push(ps(re,ku,!0),":");var ue=this.g;return(ue||re=="file")&&(F.push("//"),(re=this.o)&&F.push(ps(re,ku,!0),"@"),F.push(hn(ue).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),ue=this.u,ue!=null&&F.push(":",String(ue))),(ue=this.h)&&(this.g&&ue.charAt(0)!="/"&&F.push("/"),F.push(ps(ue,ue.charAt(0)=="/"?Ya:bm,!0))),(ue=this.i.toString())&&F.push("?",ue),(ue=this.m)&&F.push("#",ps(ue,Tu)),F.join("")},ka.prototype.resolve=function(F){const re=Bn(this);let ue=!!F.j;ue?sa(re,F.j):ue=!!F.o,ue?re.o=F.o:ue=!!F.g,ue?re.g=F.g:ue=F.u!=null;var De=F.h;if(ue)lr(re,F.u);else if(ue=!!F.h){if(De.charAt(0)!="/")if(this.g&&!this.h)De="/"+De;else{var st=re.h.lastIndexOf("/");st!=-1&&(De=re.h.slice(0,st+1)+De)}if(st=De,st==".."||st==".")De="";else if(st.indexOf("./")!=-1||st.indexOf("/.")!=-1){De=st.lastIndexOf("/",0)==0,st=st.split("/");const ct=[];for(let Lt=0;Lt<st.length;){const on=st[Lt++];on=="."?De&&Lt==st.length&&ct.push(""):on==".."?((ct.length>1||ct.length==1&&ct[0]!="")&&ct.pop(),De&&Lt==st.length&&ct.push("")):(ct.push(on),De=!0)}De=ct.join("/")}else De=st}return ue?re.h=De:ue=F.i.toString()!=="",ue?Nl(re,fd(F.i)):ue=!!F.m,ue&&(re.m=F.m),re};function Bn(F){return new ka(F)}function sa(F,re,ue){F.j=ue?Si(re,!0):re,F.j&&(F.j=F.j.replace(/:$/,""))}function lr(F,re){if(re){if(re=Number(re),isNaN(re)||re<0)throw Error("Bad port number "+re);F.u=re}else F.u=null}function Nl(F,re,ue){re instanceof Ka?(F.i=re,uf(F.i,F.l)):(ue||(re=ps(re,Eu)),F.i=new Ka(re,F.l))}function zn(F,re,ue){F.i.set(re,ue)}function Kr(F){return zn(F,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),F}function Si(F,re){return F?re?decodeURI(F.replace(/%25/g,"%2525")):decodeURIComponent(F):""}function ps(F,re,ue){return typeof F=="string"?(F=encodeURI(F).replace(re,Au),ue&&(F=F.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),F):null}function Au(F){return F=F.charCodeAt(0),"%"+(F>>4&15).toString(16)+(F&15).toString(16)}var ku=/[#\/\?@]/g,bm=/[#\?:]/g,Ya=/[#\?]/g,Eu=/[#\?@]/g,Tu=/#/g;function Ka(F,re){this.h=this.g=null,this.i=F||null,this.j=!!re}function Jr(F){F.g||(F.g=new Map,F.h=0,F.i&&Sl(F.i,function(re,ue){F.add(decodeURIComponent(re.replace(/\+/g," ")),ue)}))}n=Ka.prototype,n.add=function(F,re){Jr(this),this.i=null,F=Sr(this,F);let ue=this.g.get(F);return ue||this.g.set(F,ue=[]),ue.push(re),this.h+=1,this};function Cu(F,re){Jr(F),re=Sr(F,re),F.g.has(re)&&(F.i=null,F.h-=F.g.get(re).length,F.g.delete(re))}function cf(F,re){return Jr(F),re=Sr(F,re),F.g.has(re)}n.forEach=function(F,re){Jr(this),this.g.forEach(function(ue,De){ue.forEach(function(st){F.call(re,st,De,this)},this)},this)};function df(F,re){Jr(F);let ue=[];if(typeof re=="string")cf(F,re)&&(ue=ue.concat(F.g.get(Sr(F,re))));else for(F=Array.from(F.g.values()),re=0;re<F.length;re++)ue=ue.concat(F[re]);return ue}n.set=function(F,re){return Jr(this),this.i=null,F=Sr(this,F),cf(this,F)&&(this.h-=this.g.get(F).length),this.g.set(F,[re]),this.h+=1,this},n.get=function(F,re){return F?(F=df(this,F),F.length>0?String(F[0]):re):re};function hd(F,re,ue){Cu(F,re),ue.length>0&&(F.i=null,F.g.set(Sr(F,re),p(ue)),F.h+=ue.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const F=[],re=Array.from(this.g.keys());for(let De=0;De<re.length;De++){var ue=re[De];const st=hn(ue);ue=df(this,ue);for(let ct=0;ct<ue.length;ct++){let Lt=st;ue[ct]!==""&&(Lt+="="+hn(ue[ct])),F.push(Lt)}}return this.i=F.join("&")};function fd(F){const re=new Ka;return re.i=F.i,F.g&&(re.g=new Map(F.g),re.h=F.h),re}function Sr(F,re){return re=String(re),F.j&&(re=re.toLowerCase()),re}function uf(F,re){re&&!F.j&&(Jr(F),F.i=null,F.g.forEach(function(ue,De){const st=De.toLowerCase();De!=st&&(Cu(this,De),hd(this,st,ue))},F)),F.j=re}function hc(F,re){const ue=new sn;if(a.Image){const De=new Image;De.onload=u(Ea,ue,"TestLoadImage: loaded",!0,re,De),De.onerror=u(Ea,ue,"TestLoadImage: error",!1,re,De),De.onabort=u(Ea,ue,"TestLoadImage: abort",!1,re,De),De.ontimeout=u(Ea,ue,"TestLoadImage: timeout",!1,re,De),a.setTimeout(function(){De.ontimeout&&De.ontimeout()},1e4),De.src=F}else re(!1)}function Zi(F,re){const ue=new sn,De=new AbortController,st=setTimeout(()=>{De.abort(),Ea(ue,"TestPingServer: timeout",!1,re)},1e4);fetch(F,{signal:De.signal}).then(ct=>{clearTimeout(st),ct.ok?Ea(ue,"TestPingServer: ok",!0,re):Ea(ue,"TestPingServer: server error",!1,re)}).catch(()=>{clearTimeout(st),Ea(ue,"TestPingServer: error",!1,re)})}function Ea(F,re,ue,De,st){try{st&&(st.onload=null,st.onerror=null,st.onabort=null,st.ontimeout=null),De(ue)}catch{}}function rn(){this.g=new Oe}function fc(F){this.i=F.Sb||null,this.h=F.ab||!1}f(fc,Ye),fc.prototype.g=function(){return new pd(this.i,this.h)};function pd(F,re){ke.call(this),this.H=F,this.o=re,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(pd,ke),n=pd.prototype,n.open=function(F,re){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=F,this.D=re,this.readyState=1,Zr(this)},n.send=function(F){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const re={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};F&&(re.body=F),(this.H||a).fetch(new Request(this.D,re)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Qi(this)),this.readyState=0},n.Pa=function(F){if(this.g&&(this.l=F,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=F.headers,this.readyState=2,Zr(this)),this.g&&(this.readyState=3,Zr(this),this.g)))if(this.responseType==="arraybuffer")F.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in F){if(this.j=F.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;pc(this)}else F.text().then(this.Oa.bind(this),this.ga.bind(this))};function pc(F){F.j.read().then(F.Ma.bind(F)).catch(F.ga.bind(F))}n.Ma=function(F){if(this.g){if(this.o&&F.value)this.response.push(F.value);else if(!this.o){var re=F.value?F.value:new Uint8Array(0);(re=this.B.decode(re,{stream:!F.done}))&&(this.response=this.responseText+=re)}F.done?Qi(this):Zr(this),this.readyState==3&&pc(this)}},n.Oa=function(F){this.g&&(this.response=this.responseText=F,Qi(this))},n.Na=function(F){this.g&&(this.response=F,Qi(this))},n.ga=function(){this.g&&Qi(this)};function Qi(F){F.readyState=4,F.l=null,F.j=null,F.B=null,Zr(F)}n.setRequestHeader=function(F,re){this.A.append(F,re)},n.getResponseHeader=function(F){return this.h&&this.h.get(F.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const F=[],re=this.h.entries();for(var ue=re.next();!ue.done;)ue=ue.value,F.push(ue[0]+": "+ue[1]),ue=re.next();return F.join(`\r
`)};function Zr(F){F.onreadystatechange&&F.onreadystatechange.call(F)}Object.defineProperty(pd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(F){this.m=F?"include":"same-origin"}});function md(F){let re="";return B(F,function(ue,De){re+=De,re+=":",re+=ue,re+=`\r
`}),re}function Al(F,re,ue){e:{for(De in ue){var De=!1;break e}De=!0}De||(ue=md(ue),typeof F=="string"?ue!=null&&hn(ue):zn(F,re,ue))}function Kn(F){ke.call(this),this.headers=new Map,this.L=F||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Kn,ke);var Du=/^https?$/i,kl=["POST","PUT"];n=Kn.prototype,n.Fa=function(F){this.H=F},n.ea=function(F,re,ue,De){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+F);re=re?re.toUpperCase():"GET",this.D=F,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ut.g(),this.g.onreadystatechange=h(d(this.Ca,this));try{this.B=!0,this.g.open(re,String(F),!0),this.B=!1}catch(ct){Nr(this,ct);return}if(F=ue||"",ue=new Map(this.headers),De)if(Object.getPrototypeOf(De)===Object.prototype)for(var st in De)ue.set(st,De[st]);else if(typeof De.keys=="function"&&typeof De.get=="function")for(const ct of De.keys())ue.set(ct,De.get(ct));else throw Error("Unknown input type for opt_headers: "+String(De));De=Array.from(ue.keys()).find(ct=>ct.toLowerCase()=="content-type"),st=a.FormData&&F instanceof a.FormData,!(Array.prototype.indexOf.call(kl,re,void 0)>=0)||De||st||ue.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ct,Lt]of ue)this.g.setRequestHeader(ct,Lt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(F),this.v=!1}catch(ct){Nr(this,ct)}};function Nr(F,re){F.h=!1,F.g&&(F.j=!0,F.g.abort(),F.j=!1),F.l=re,F.o=5,Ta(F),To(F)}function Ta(F){F.A||(F.A=!0,Se(F,"complete"),Se(F,"error"))}n.abort=function(F){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=F||7,Se(this,"complete"),Se(this,"abort"),To(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),To(this,!0)),Kn.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?gd(this):this.Xa())},n.Xa=function(){gd(this)};function gd(F){if(F.h&&typeof s<"u"){if(F.v&&ms(F)==4)setTimeout(F.Ca.bind(F),0);else if(Se(F,"readystatechange"),ms(F)==4){F.h=!1;try{const ct=F.ca();e:switch(ct){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var re=!0;break e;default:re=!1}var ue;if(!(ue=re)){var De;if(De=ct===0){let Lt=String(F.D).match(fs)[1]||null;!Lt&&a.self&&a.self.location&&(Lt=a.self.location.protocol.slice(0,-1)),De=!Du.test(Lt?Lt.toLowerCase():"")}ue=De}if(ue)Se(F,"complete"),Se(F,"success");else{F.o=6;try{var st=ms(F)>2?F.g.statusText:""}catch{st=""}F.l=st+" ["+F.ca()+"]",Ta(F)}}finally{To(F)}}}}function To(F,re){if(F.g){F.m&&(clearTimeout(F.m),F.m=null);const ue=F.g;F.g=null,re||Se(F,"ready");try{ue.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function ms(F){return F.g?F.g.readyState:0}n.ca=function(){try{return ms(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(F){if(this.g){var re=this.g.responseText;return F&&re.indexOf(F)==0&&(re=re.substring(F.length)),ge(re)}};function yd(F){try{if(!F.g)return null;if("response"in F.g)return F.g.response;switch(F.F){case"":case"text":return F.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in F.g)return F.g.mozResponseArrayBuffer}return null}catch{return null}}function Co(F){const re={};F=(F.g&&ms(F)>=2&&F.g.getAllResponseHeaders()||"").split(`\r
`);for(let De=0;De<F.length;De++){if(I(F[De]))continue;var ue=_i(F[De]);const st=ue[0];if(ue=ue[1],typeof ue!="string")continue;ue=ue.trim();const ct=re[st]||[];re[st]=ct,ct.push(ue)}J(re,function(De){return De.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ja(F,re,ue){return ue&&ue.internalChannelParams&&ue.internalChannelParams[F]||re}function mc(F){this.za=0,this.i=[],this.j=new sn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ja("failFast",!1,F),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ja("baseRetryDelayMs",5e3,F),this.Za=Ja("retryDelaySeedMs",1e4,F),this.Ta=Ja("forwardChannelMaxRetries",2,F),this.va=Ja("forwardChannelRequestTimeoutMs",2e4,F),this.ma=F&&F.xmlHttpFactory||void 0,this.Ua=F&&F.Rb||void 0,this.Aa=F&&F.useFetchStreams||!1,this.O=void 0,this.L=F&&F.supportsCrossDomainXhr||!1,this.M="",this.h=new Us(F&&F.concurrentRequestLimit),this.Ba=new rn,this.S=F&&F.fastHandshake||!1,this.R=F&&F.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=F&&F.Pb||!1,F&&F.ua&&this.j.ua(),F&&F.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&F&&F.detectBufferingProxy||!1,this.ia=void 0,F&&F.longPollingTimeout&&F.longPollingTimeout>0&&(this.ia=F.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=mc.prototype,n.ka=8,n.I=1,n.connect=function(F,re,ue,De){St(0),this.W=F,this.H=re||{},ue&&De!==void 0&&(this.H.OSID=ue,this.H.OAID=De),this.F=this.X,this.J=$t(this,null,this.W),yc(this)};function gc(F){if(vd(F),F.I==3){var re=F.V++,ue=Bn(F.J);if(zn(ue,"SID",F.M),zn(ue,"RID",re),zn(ue,"TYPE","terminate"),gs(F,ue),re=new hi(F,F.j,re),re.M=2,re.A=Kr(Bn(ue)),ue=!1,a.navigator&&a.navigator.sendBeacon)try{ue=a.navigator.sendBeacon(re.A.toString(),"")}catch{}!ue&&a.Image&&(new Image().src=re.A,ue=!0),ue||(re.g=Wt(re.j,null),re.g.ea(re.A)),re.F=Date.now(),Yr(re)}kt(F)}function Za(F){F.g&&(K(F),F.g.cancel(),F.g=null)}function vd(F){Za(F),F.v&&(a.clearTimeout(F.v),F.v=null),Ue(F),F.h.cancel(),F.m&&(typeof F.m=="number"&&a.clearTimeout(F.m),F.m=null)}function yc(F){if(!cd(F.h)&&!F.m){F.m=!0;var re=F.Ea;N||C(),k||(N(),k=!0),T.add(re,F),F.D=0}}function Pu(F,re){return Nu(F.h)>=F.h.j-(F.m?1:0)?!1:F.m?(F.i=re.G.concat(F.i),!0):F.I==1||F.I==2||F.D>=(F.Sa?0:F.Ta)?!1:(F.m=kn(d(F.Ea,F,re),rt(F,F.D)),F.D++,!0)}n.Ea=function(F){if(this.m)if(this.m=null,this.I==1){if(!F){this.V=Math.floor(Math.random()*1e5),F=this.V++;const st=new hi(this,this.j,F);let ct=this.o;if(this.U&&(ct?(ct=W(ct),z(ct,this.U)):ct=this.U),this.u!==null||this.R||(st.J=ct,ct=null),this.S)e:{for(var re=0,ue=0;ue<this.i.length;ue++){t:{var De=this.i[ue];if("__data__"in De.map&&(De=De.map.__data__,typeof De=="string")){De=De.length;break t}De=void 0}if(De===void 0)break;if(re+=De,re>4096){re=ue;break e}if(re===4096||ue===this.i.length-1){re=ue+1;break e}}re=1e3}else re=1e3;re=Do(this,st,re),ue=Bn(this.J),zn(ue,"RID",F),zn(ue,"CVER",22),this.G&&zn(ue,"X-HTTP-Session-Id",this.G),gs(this,ue),ct&&(this.R?re="headers="+hn(md(ct))+"&"+re:this.u&&Al(ue,this.u,ct)),uc(this.h,st),this.Ra&&zn(ue,"TYPE","init"),this.S?(zn(ue,"$req",re),zn(ue,"SID","null"),st.U=!0,pi(st,ue,null)):pi(st,ue,re),this.I=2}}else this.I==3&&(F?Ms(this,F):this.i.length==0||cd(this.h)||Ms(this))};function Ms(F,re){var ue;re?ue=re.l:ue=F.V++;const De=Bn(F.J);zn(De,"SID",F.M),zn(De,"RID",ue),zn(De,"AID",F.K),gs(F,De),F.u&&F.o&&Al(De,F.u,F.o),ue=new hi(F,F.j,ue,F.D+1),F.u===null&&(ue.J=F.o),re&&(F.i=re.G.concat(F.i)),re=Do(F,ue,1e3),ue.H=Math.round(F.va*.5)+Math.round(F.va*.5*Math.random()),uc(F.h,ue),pi(ue,De,re)}function gs(F,re){F.H&&B(F.H,function(ue,De){zn(re,De,ue)}),F.l&&B({},function(ue,De){zn(re,De,ue)})}function Do(F,re,ue){ue=Math.min(F.i.length,ue);const De=F.l?d(F.l.Ka,F.l,F):null;e:{var st=F.i;let on=-1;for(;;){const mi=["count="+ue];on==-1?ue>0?(on=st[0].g,mi.push("ofs="+on)):on=0:mi.push("ofs="+on);let Nn=!0;for(let gi=0;gi<ue;gi++){var ct=st[gi].g;const Mr=st[gi].map;if(ct-=on,ct<0)on=Math.max(0,st[gi].g-100),Nn=!1;else try{ct="req"+ct+"_"||"";try{var Lt=Mr instanceof Map?Mr:Object.entries(Mr);for(const[ys,ni]of Lt){let vs=ni;o(ni)&&(vs=me(ni)),mi.push(ct+ys+"="+encodeURIComponent(vs))}}catch(ys){throw mi.push(ct+"type="+encodeURIComponent("_badmap")),ys}}catch{De&&De(Mr)}}if(Nn){Lt=mi.join("&");break e}}Lt=void 0}return F=F.i.splice(0,ue),re.G=F,Lt}function Po(F){if(!F.g&&!F.v){F.Y=1;var re=F.Da;N||C(),k||(N(),k=!0),T.add(re,F),F.A=0}}function bd(F){return F.g||F.v||F.A>=3?!1:(F.Y++,F.v=kn(d(F.Da,F),rt(F,F.A)),F.A++,!0)}n.Da=function(){if(this.v=null,be(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var F=4*this.T;this.j.info("BP detection timer enabled: "+F),this.B=kn(d(this.Wa,this),F)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),Za(this),be(this))};function K(F){F.B!=null&&(a.clearTimeout(F.B),F.B=null)}function be(F){F.g=new hi(F,F.j,"rpc",F.Y),F.u===null&&(F.g.J=F.o),F.g.P=0;var re=Bn(F.na);zn(re,"RID","rpc"),zn(re,"SID",F.M),zn(re,"AID",F.K),zn(re,"CI",F.F?"0":"1"),!F.F&&F.ia&&zn(re,"TO",F.ia),zn(re,"TYPE","xmlhttp"),gs(F,re),F.u&&F.o&&Al(re,F.u,F.o),F.O&&(F.g.H=F.O);var ue=F.g;F=F.ba,ue.M=1,ue.A=Kr(Bn(re)),ue.u=null,ue.R=!0,zi(ue,F)}n.Va=function(){this.C!=null&&(this.C=null,Za(this),bd(this),St(19))};function Ue(F){F.C!=null&&(a.clearTimeout(F.C),F.C=null)}function Ge(F,re){var ue=null;if(F.g==re){Ue(F),K(F),F.g=null;var De=2}else if(Eo(F.h,re))ue=re.G,dd(F.h,re),De=1;else return;if(F.I!=0){if(re.o)if(De==1){ue=re.u?re.u.length:0,re=Date.now()-re.F;var st=F.D;De=tt(),Se(De,new Bt(De,ue)),yc(F)}else Po(F);else if(st=re.m,st==3||st==0&&re.X>0||!(De==1&&Pu(F,re)||De==2&&bd(F)))switch(ue&&ue.length>0&&(re=F.h,re.i=re.i.concat(ue)),st){case 1:yt(F,5);break;case 4:yt(F,10);break;case 3:yt(F,6);break;default:yt(F,2)}}}function rt(F,re){let ue=F.Qa+Math.floor(Math.random()*F.Za);return F.isActive()||(ue*=2),ue*re}function yt(F,re){if(F.j.info("Error code "+re),re==2){var ue=d(F.bb,F),De=F.Ua;const st=!De;De=new ka(De||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||sa(De,"https"),Kr(De),st?hc(De.toString(),ue):Zi(De.toString(),ue)}else St(2);F.I=0,F.l&&F.l.pa(re),kt(F),vd(F)}n.bb=function(F){F?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function kt(F){if(F.I=0,F.ja=[],F.l){const re=ud(F.h);(re.length!=0||F.i.length!=0)&&(v(F.ja,re),v(F.ja,F.i),F.h.i.length=0,p(F.i),F.i.length=0),F.l.oa()}}function $t(F,re,ue){var De=ue instanceof ka?Bn(ue):new ka(ue);if(De.g!="")re&&(De.g=re+"."+De.g),lr(De,De.u);else{var st=a.location;De=st.protocol,re=re?re+"."+st.hostname:st.hostname,st=+st.port;const ct=new ka(null);De&&sa(ct,De),re&&(ct.g=re),st&&lr(ct,st),ue&&(ct.h=ue),De=ct}return ue=F.G,re=F.wa,ue&&re&&zn(De,ue,re),zn(De,"VER",F.ka),gs(F,De),De}function Wt(F,re,ue){if(re&&!F.L)throw Error("Can't create secondary domain capable XhrIo object.");return re=F.Aa&&!F.ma?new Kn(new fc({ab:ue})):new Kn(F.ma),re.Fa(F.L),re}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function nn(){}n=nn.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function jt(F,re){ke.call(this),this.g=new mc(re),this.l=F,this.h=re&&re.messageUrlParams||null,F=re&&re.messageHeaders||null,re&&re.clientProtocolHeaderRequired&&(F?F["X-Client-Protocol"]="webchannel":F={"X-Client-Protocol":"webchannel"}),this.g.o=F,F=re&&re.initMessageHeaders||null,re&&re.messageContentType&&(F?F["X-WebChannel-Content-Type"]=re.messageContentType:F={"X-WebChannel-Content-Type":re.messageContentType}),re&&re.sa&&(F?F["X-WebChannel-Client-Profile"]=re.sa:F={"X-WebChannel-Client-Profile":re.sa}),this.g.U=F,(F=re&&re.Qb)&&!I(F)&&(this.g.u=F),this.A=re&&re.supportsCrossDomainXhr||!1,this.v=re&&re.sendRawJson||!1,(re=re&&re.httpSessionIdParam)&&!I(re)&&(this.g.G=re,F=this.h,F!==null&&re in F&&(F=this.h,re in F&&delete F[re])),this.j=new ti(this)}f(jt,ke),jt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},jt.prototype.close=function(){gc(this.g)},jt.prototype.o=function(F){var re=this.g;if(typeof F=="string"){var ue={};ue.__data__=F,F=ue}else this.v&&(ue={},ue.__data__=me(F),F=ue);re.i.push(new ld(re.Ya++,F)),re.I==3&&yc(re)},jt.prototype.N=function(){this.g.l=null,delete this.j,gc(this.g),delete this.g,jt.Z.N.call(this)};function Sn(F){qe.call(this),F.__headers__&&(this.headers=F.__headers__,this.statusCode=F.__status__,delete F.__headers__,delete F.__status__);var re=F.__sm__;if(re){e:{for(const ue in re){F=ue;break e}F=void 0}(this.i=F)&&(F=this.i,re=re!==null&&F in re?re[F]:void 0),this.data=re}else this.data=F}f(Sn,qe);function ei(){it.call(this),this.status=1}f(ei,it);function ti(F){this.g=F}f(ti,nn),ti.prototype.ra=function(){Se(this.g,"a")},ti.prototype.qa=function(F){Se(this.g,new Sn(F))},ti.prototype.pa=function(F){Se(this.g,new ei)},ti.prototype.oa=function(){Se(this.g,"b")},jt.prototype.send=jt.prototype.o,jt.prototype.open=jt.prototype.m,jt.prototype.close=jt.prototype.close,ot.NO_ERROR=0,ot.TIMEOUT=8,ot.HTTP_ERROR=6,Nt.COMPLETE="complete",Ke.EventType=mt,mt.OPEN="a",mt.CLOSE="b",mt.ERROR="c",mt.MESSAGE="d",ke.prototype.listen=ke.prototype.J,Kn.prototype.listenOnce=Kn.prototype.K,Kn.prototype.getLastError=Kn.prototype.Ha,Kn.prototype.getLastErrorCode=Kn.prototype.ya,Kn.prototype.getStatus=Kn.prototype.ca,Kn.prototype.getResponseJson=Kn.prototype.La,Kn.prototype.getResponseText=Kn.prototype.la,Kn.prototype.send=Kn.prototype.ea,Kn.prototype.setWithCredentials=Kn.prototype.Fa}).apply(typeof DN<"u"?DN:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ja=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ja.UNAUTHENTICATED=new ja(null),ja.GOOGLE_CREDENTIALS=new ja("google-credentials-uid"),ja.FIRST_PARTY=new ja("first-party-uid"),ja.MOCK_USER=new ja("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kS="12.8.0";function ele(n){kS=n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=new hT("@firebase/firestore");function Yc(n,...e){if(Db.logLevel<=Qn.DEBUG){const t=e.map(xL);Db.debug(`Firestore (${kS}): ${n}`,...t)}}function Tq(n,...e){if(Db.logLevel<=Qn.ERROR){const t=e.map(xL);Db.error(`Firestore (${kS}): ${n}`,...t)}}function tle(n,...e){if(Db.logLevel<=Qn.WARN){const t=e.map(xL);Db.warn(`Firestore (${kS}): ${n}`,...t)}}function xL(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,Cq(n,i,t)}function Cq(n,e,t){let i=`FIRESTORE (${kS}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Tq(i),new Error(i)}function Iw(n,e,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,n||Cq(e,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Un extends sc{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dq{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nle{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ja.UNAUTHENTICATED))}shutdown(){}}class ile{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class rle{constructor(e){this.t=e,this.currentUser=ja.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Iw(this.o===void 0,42304);let i=this.i;const r=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let s=new Rw;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Rw,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await r(this.currentUser)})},o=c=>{Yc("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>o(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?o(c):(Yc("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Rw)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Yc("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Iw(typeof i.accessToken=="string",31837,{l:i}),new Dq(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Iw(e===null||typeof e=="string",2055,{h:e}),new ja(e)}}class sle{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=ja.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class ale{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new sle(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(ja.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ole{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,fo(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Iw(this.o===void 0,3512);const i=s=>{s.error!=null&&Yc("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,Yc("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{Yc("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?r(s):Yc("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new CU(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Iw(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new CU(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lle(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cle{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=lle(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<t&&(i+=e.charAt(r[s]%62))}return i}}function rm(n,e){return n<e?-1:n>e?1:0}function dle(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const r=n.charAt(i),s=e.charAt(i);if(r!==s)return m6(r)===m6(s)?rm(r,s):m6(r)?1:-1}return rm(n.length,e.length)}const ule=55296,hle=57343;function m6(n){const e=n.charCodeAt(0);return e>=ule&&e<=hle}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DU="__name__";class Ld{constructor(e,t,i){t===void 0?t=0:t>e.length&&lx(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&lx(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Ld.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ld?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const s=Ld.compareSegments(e.get(r),t.get(r));if(s!==0)return s}return rm(e.length,t.length)}static compareSegments(e,t){const i=Ld.isNumericId(e),r=Ld.isNumericId(t);return i&&!r?-1:!i&&r?1:i&&r?Ld.extractNumericId(e).compare(Ld.extractNumericId(t)):dle(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return wL.fromString(e.substring(4,e.length-2))}}class Vc extends Ld{construct(e,t,i){return new Vc(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Un(Fn.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Vc(t)}static emptyPath(){return new Vc([])}}const fle=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lm extends Ld{construct(e,t,i){return new Lm(e,t,i)}static isValidIdentifier(e){return fle.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lm.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===DU}static keyField(){return new Lm([DU])}static fromServerFormat(e){const t=[];let i="",r=0;const s=()=>{if(i.length===0)throw new Un(Fn.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let a=!1;for(;r<e.length;){const o=e[r];if(o==="\\"){if(r+1===e.length)throw new Un(Fn.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Un(Fn.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else o==="`"?(a=!a,r++):o!=="."||a?(i+=o,r++):(s(),r++)}if(s(),a)throw new Un(Fn.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lm(t)}static emptyPath(){return new Lm([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e){this.path=e}static fromPath(e){return new Hm(Vc.fromString(e))}static fromName(e){return new Hm(Vc.fromString(e).popFirst(5))}static empty(){return new Hm(Vc.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Vc.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Vc.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Hm(new Vc(e.slice()))}}function ple(n,e,t,i){if(e===!0&&i===!0)throw new Un(Fn.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function mle(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function gle(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":lx(12329,{type:typeof n})}function yle(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Un(Fn.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=gle(n);throw new Un(Fn.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(n,e){const t={typeString:n};return e&&(t.value=e),t}function ES(n,e){if(!mle(n))throw new Un(Fn.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const r=e[i].typeString,s="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const a=n[i];if(r&&typeof a!==r){t=`JSON field '${i}' must be a ${r}.`;break}if(s!==void 0&&a!==s.value){t=`Expected '${i}' field to equal '${s.value}'`;break}}if(t)throw new Un(Fn.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU=-62135596800,IU=1e6;class ru{static now(){return ru.fromMillis(Date.now())}static fromDate(e){return ru.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*IU);return new ru(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Un(Fn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Un(Fn.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<PU)throw new Un(Fn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Un(Fn.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/IU}_compareTo(e){return this.seconds===e.seconds?rm(this.nanoseconds,e.nanoseconds):rm(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ru._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ES(e,ru._jsonSchema))return new ru(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-PU;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ru._jsonSchemaVersion="firestore/timestamp/1.0",ru._jsonSchema={type:Hr("string",ru._jsonSchemaVersion),seconds:Hr("number"),nanoseconds:Hr("number")};function vle(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ble extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ble("Invalid base64 string: "+s):s}}(e);return new H1(t)}static fromUint8Array(e){const t=function(r){let s="";for(let a=0;a<r.length;++a)s+=String.fromCharCode(r[a]);return s}(e);return new H1(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return rm(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}H1.EMPTY_BYTE_STRING=new H1("");const E8="(default)";class p3{constructor(e,t){this.projectId=e,this.database=t||E8}static empty(){return new p3("","")}get isDefaultDatabase(){return this.database===E8}isEqual(e){return e instanceof p3&&e.projectId===this.projectId&&e.database===this.database}}function wle(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new Un(Fn.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new p3(n.options.projectId,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xle{constructor(e,t=null,i=[],r=[],s=null,a="F",o=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=c,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function _le(n){return new xle(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RU,On;(On=RU||(RU={}))[On.OK=0]="OK",On[On.CANCELLED=1]="CANCELLED",On[On.UNKNOWN=2]="UNKNOWN",On[On.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",On[On.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",On[On.NOT_FOUND=5]="NOT_FOUND",On[On.ALREADY_EXISTS=6]="ALREADY_EXISTS",On[On.PERMISSION_DENIED=7]="PERMISSION_DENIED",On[On.UNAUTHENTICATED=16]="UNAUTHENTICATED",On[On.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",On[On.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",On[On.ABORTED=10]="ABORTED",On[On.OUT_OF_RANGE=11]="OUT_OF_RANGE",On[On.UNIMPLEMENTED=12]="UNIMPLEMENTED",On[On.INTERNAL=13]="INTERNAL",On[On.UNAVAILABLE=14]="UNAVAILABLE",On[On.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new wL([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sle=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nle=1048576;function g6(){return typeof document<"u"?document:null}class Ale{constructor(e,t,i=1e3,r=1.5,s=6e4){this.Ci=e,this.timerId=t,this.R_=i,this.A_=r,this.V_=s,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-i);r>0&&Yc("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e,t,i,r,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Rw,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,s){const a=Date.now()+i,o=new _L(e,t,a,r,s);return o.start(i),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Un(Fn.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var LU,OU;(OU=LU||(LU={})).Ma="default",OU.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kle(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ele="ComponentProvider",FU=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pq="firestore.googleapis.com",UU=!0;class MU{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Un(Fn.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Pq,this.ssl=UU}else this.host=e.host,this.ssl=e.ssl??UU;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Sle;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Nle)throw new Un(Fn.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ple("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kle(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Un(Fn.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Un(Fn.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Un(Fn.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Iq{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new MU({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Un(Fn.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Un(Fn.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new MU(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new nle;switch(i.type){case"firstParty":return new ale(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Un(Fn.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=FU.get(t);i&&(Yc(Ele,"Removing Datastore"),FU.delete(t),i.terminate())}(this),Promise.resolve()}}function Tle(n,e,t,i={}){var d;n=yle(n,Iq);const r=Vb(e),s=n._getSettings(),a={...s,emulatorOptions:n._getEmulatorOptions()},o=`${e}:${t}`;r&&(tL(`https://${o}`),nL("Firestore",!0)),s.host!==Pq&&s.host!==o&&tle("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...s,host:o,ssl:r,emulatorOptions:i};if(!im(c,a)&&(n._setSettings(c),i.mockUserToken)){let u,f;if(typeof i.mockUserToken=="string")u=i.mockUserToken,f=ja.MOCK_USER;else{u=m$(i.mockUserToken,(d=n._app)==null?void 0:d.options.projectId);const h=i.mockUserToken.sub||i.mockUserToken.user_id;if(!h)throw new Un(Fn.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new ja(h)}n._authCredentials=new ile(new Dq(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new SL(this.firestore,e,this._query)}}class uu{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new NL(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new uu(this.firestore,e,this._key)}toJSON(){return{type:uu._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(ES(t,uu._jsonSchema))return new uu(e,i||null,new Hm(Vc.fromString(t.referencePath)))}}uu._jsonSchemaVersion="firestore/documentReference/1.0",uu._jsonSchema={type:Hr("string",uu._jsonSchemaVersion),referencePath:Hr("string")};class NL extends SL{constructor(e,t,i){super(e,t,_le(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new uu(this.firestore,null,new Hm(e))}withConverter(e){return new NL(this.firestore,e,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU="AsyncQueue";class zU{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Ale(this,"async_queue_retry"),this._c=()=>{const i=g6();i&&Yc(BU,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=g6();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=g6();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Rw;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!vle(e))throw e;Yc(BU,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,Tq("INTERNAL UNHANDLED ERROR: ",jU(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=_L.createAndSchedule(this,e,t,i,s=>this.hc(s));return this.tc.push(r),r}uc(){this.nc&&lx(47125,{Pc:jU(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function jU(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Cle extends Iq{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new zU,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zU(e),this._firestoreClient=void 0,await e}}}function Dle(n,e){const t=typeof n=="object"?n:fT(),i=typeof n=="string"?n:e||E8,r=gm(t,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=h$("firestore");s&&Tle(r,...s)}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oh(H1.fromBase64String(e))}catch(t){throw new Un(Fn.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Oh(H1.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Oh._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ES(e,Oh._jsonSchema))return Oh.fromBase64String(e.bytes)}}Oh._jsonSchemaVersion="firestore/bytes/1.0",Oh._jsonSchema={type:Hr("string",Oh._jsonSchemaVersion),bytes:Hr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rq{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Un(Fn.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lm(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Un(Fn.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Un(Fn.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return rm(this._lat,e._lat)||rm(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:C1._jsonSchemaVersion}}static fromJSON(e){if(ES(e,C1._jsonSchema))return new C1(e.latitude,e.longitude)}}C1._jsonSchemaVersion="firestore/geoPoint/1.0",C1._jsonSchema={type:Hr("string",C1._jsonSchemaVersion),latitude:Hr("number"),longitude:Hr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:D1._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ES(e,D1._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new D1(e.vectorValues);throw new Un(Fn.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}D1._jsonSchemaVersion="firestore/vectorValue/1.0",D1._jsonSchema={type:Hr("string",D1._jsonSchemaVersion),vectorValues:Hr("object")};function Lq(n,e,t){if((e=Xa(e))instanceof Rq)return e._internalPath;if(typeof e=="string")return Ile(n,e);throw T8("Field path arguments must be of type string or ",n,!1,void 0,t)}const Ple=new RegExp("[~\\*/\\[\\]]");function Ile(n,e,t){if(e.search(Ple)>=0)throw T8(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Rq(...e.split("."))._internalPath}catch{throw T8(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function T8(n,e,t,i,r){const s=i&&!i.isEmpty(),a=r!==void 0;let o=`Function ${e}() called with invalid data`;t&&(o+=" (via `toFirestore()`)"),o+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${i}`),a&&(c+=` in document ${r}`),c+=")"),new Un(Fn.INVALID_ARGUMENT,o+n+c)}const WU="@firebase/firestore",$U="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oq{constructor(e,t,i,r,s){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new uu(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Rle(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const t=this._document.data.field(Lq("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Rle extends Oq{data(){return super.data()}}class PN{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ly extends Oq{constructor(e,t,i,r,s,a){super(e,t,i,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new EA(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Lq("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Un(Fn.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ly._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ly._jsonSchemaVersion="firestore/documentSnapshot/1.0",ly._jsonSchema={type:Hr("string",ly._jsonSchemaVersion),bundleSource:Hr("string","DocumentSnapshot"),bundleName:Hr("string"),bundle:Hr("string")};class EA extends ly{data(e={}){return super.data(e)}}class Lw{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new PN(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new EA(this._firestore,this._userDataWriter,i.key,i,new PN(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Un(Fn.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(o=>{const c=new EA(r._firestore,r._userDataWriter,o.doc.key,o.doc,new PN(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const c=new EA(r._firestore,r._userDataWriter,o.doc.key,o.doc,new PN(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let d=-1,u=-1;return o.type!==0&&(d=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),u=a.indexOf(o.doc.key)),{type:Lle(o.type),doc:c,oldIndex:d,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Un(Fn.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Lw._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=cle.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],r=[];return this.docs.forEach(s=>{s._document!==null&&(t.push(s._document),i.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),r.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Lle(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lx(61501,{type:n})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lw._jsonSchemaVersion="firestore/querySnapshot/1.0",Lw._jsonSchema={type:Hr("string",Lw._jsonSchemaVersion),bundleSource:Hr("string","QuerySnapshot"),bundleName:Hr("string"),bundle:Hr("string")};(function(e,t=!0){ele(r0),td(new tc("firestore",(i,{instanceIdentifier:r,options:s})=>{const a=i.getProvider("app").getImmediate(),o=new Cle(new rle(i.getProvider("auth-internal")),new ole(a,i.getProvider("app-check-internal")),wle(a,r),a);return s={useFetchStreams:t,...s},o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),So(WU,$U,e),So(WU,$U,"esm2020")})();const Ole={apiKey:"AIzaSyA-T2kCehqBiWDClMzyx6hUwDx7o2uf8lw",authDomain:"planninginsight-4d5c2.firebaseapp.com",projectId:"planninginsight-4d5c2",storageBucket:"planninginsight-4d5c2.firebasestorage.app",messagingSenderId:"763015079836",appId:"1:763015079836:web:5a5d0c9b1cf89c3f184a59",measurementId:"G-E2MKPKTK90"},bT=_$(Ole);let qU;try{qU=nse(bT)}catch{qU=null}const TS=Soe(bT),Fle=new Lh;let HU=null,VU=null;try{HU=Koe(bT)}catch{HU=null}try{VU=Dle(bT)}catch{VU=null}const Ule=async(n,e,t={})=>{const i=await sae(TS,n,e);return t&&(t.displayName||t.photoURL)&&await lae(i.user,t),i.user},Mle=async(n,e)=>(await aae(TS,n,e)).user,Fq=async()=>(await Iae(TS,Fle)).user,Ble=async()=>{await hae(TS)},zle=n=>uae(TS,n),Uq=ie.createContext(),hs=()=>{const n=ie.useContext(Uq);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},jle=({children:n})=>{const[e,t]=ie.useState(null),[i,r]=ie.useState(!0),[s,a]=ie.useState(!1);ie.useEffect(()=>{const m=zle(async y=>{if(y){const _=y.displayName||"",[x,...N]=_.split(" "),k=N.join(" "),T={id:y.uid,email:y.email,firstName:x||y.email,lastName:k||"",displayName:y.displayName||`${x} ${k}`,photoURL:y.photoURL||null};t(T),a(!0)}else await o();r(!1)});return()=>m()},[]);const o=async()=>{try{if(localStorage.getItem("isAdminSession")==="true"){console.log(" Admin session detected, skipping user auth check");return}if(localStorage.getItem("authToken")){const _=await k2.getCurrentUser();if(_.role==="admin"){console.log(" Admin user detected in user context, clearing session"),localStorage.removeItem("authToken"),localStorage.removeItem("isAdminSession");return}t(_),a(!0);return}}catch(m){console.error("Auth check failed:",m),localStorage.removeItem("authToken")}finally{}},b={user:e,loading:i,isAuthenticated:s,login:async(m,y)=>{try{const _=await Mle(m,y),x=_.displayName||"",[N,...k]=x.split(" "),T=k.join(" "),C={id:_.uid,email:_.email,firstName:N||_.email,lastName:T||"",displayName:_.displayName||`${N} ${T}`,photoURL:_.photoURL||null};return t(C),a(!0),{success:!0,user:C}}catch(_){return console.error("Firebase login error",_),{success:!1,error:_.message||"Login failed"}}},signup:async m=>{try{const y={displayName:`${m.firstName||""} ${m.lastName||""}`.trim()},_=await Ule(m.email,m.password,y),x=_.displayName||"",[N,...k]=x.split(" "),T=k.join(" "),C={id:_.uid,email:_.email,firstName:N||_.email,lastName:T||"",displayName:_.displayName||`${N} ${T}`,photoURL:_.photoURL||null};return t(C),a(!0),{success:!0,user:C}}catch(y){console.error("Firebase signup error",y);const _=(y==null?void 0:y.code)||"";let x=(y==null?void 0:y.message)||"Signup failed";return _==="auth/operation-not-allowed"?x="Email/password sign-in is not enabled in Firebase. Enable it in the Firebase Console -> Authentication -> Sign-in method.":_==="auth/email-already-in-use"?x="This email is already in use. Try logging in or use a different email.":_==="auth/invalid-email"?x="The email address is invalid. Please enter a valid email.":_==="auth/weak-password"&&(x="The password is too weak. Please use at least 6 characters."),{success:!1,error:x,raw:y}}},logout:async()=>{try{await Ble()}catch(m){console.warn("Firebase signOut failed",m)}localStorage.removeItem("authToken"),t(null),a(!1)},requestOTP:async m=>{var y,_;try{return await k2.requestOTP(m),{success:!0}}catch(x){return{success:!1,error:((_=(y=x.response)==null?void 0:y.data)==null?void 0:_.message)||"OTP request failed"}}},verifyOTP:async(m,y)=>{var _,x;try{return{success:!0,data:await k2.verifyOTP(m,y)}}catch(N){return{success:!1,error:((x=(_=N.response)==null?void 0:_.data)==null?void 0:x.message)||"OTP verification failed"}}},requestSignupOTP:async m=>{var y,_;try{return{success:!0,data:await k2.requestSignupOTP(m)}}catch(x){return{success:!1,error:((_=(y=x.response)==null?void 0:y.data)==null?void 0:_.message)||"Failed to send verification code"}}},verifySignupOTP:async(m,y)=>{var _,x,N,k,T,C,P,D,E,A;console.log(" AuthContext: verifySignupOTP called",{email:m,otp:y});try{console.log(" AuthContext: Calling API...");const I=await k2.verifySignupOTP(m,y);if(console.log(" AuthContext: API Response:",I),I.success&&((_=I.data)!=null&&_.token)){console.log(" AuthContext: Token found, saving...");const R=I.data.token,M=I.data.user;localStorage.setItem("authToken",R);const Y={id:M.id||M._id,email:M.email,firstName:((x=M.profile)==null?void 0:x.firstName)||M.firstName||"",lastName:((N=M.profile)==null?void 0:N.lastName)||M.lastName||"",displayName:`${((k=M.profile)==null?void 0:k.firstName)||""} ${((T=M.profile)==null?void 0:T.lastName)||""}`.trim()||M.email,role:M.role||"user",emailVerified:M.emailVerified||!0,status:M.status||"active",photoURL:((C=M.profile)==null?void 0:C.avatar)||null,profile:M.profile||{}};return console.log(" AuthContext: Setting user:",Y),t(Y),a(!0),console.log(" AuthContext: User authenticated!"),{success:!0,data:I.data}}return console.log(" AuthContext: Invalid response structure"),{success:!1,error:"Invalid response from server"}}catch(I){return console.error(" AuthContext: Error caught:",I),{success:!1,error:((D=(P=I.response)==null?void 0:P.data)==null?void 0:D.message)||"Verification failed",remainingAttempts:(A=(E=I.response)==null?void 0:E.data)==null?void 0:A.remainingAttempts}}},checkAuthStatus:o,setAuthState:m=>{console.log(" AuthContext: Setting auth state manually",m),t(m),a(!0)}};return l(Uq.Provider,{value:b,children:n})},Mq=ie.createContext(),Ao=()=>{const n=ie.useContext(Mq);if(!n)throw new Error("useNotification must be used within a NotificationProvider");return n},Wle=({children:n})=>{const[e,t]=ie.useState([]),a={notifications:e,showNotification:(o,c="info")=>{switch(c){case"success":_n.success(o);break;case"error":_n.error(o);break;case"warning":_n(o,{icon:"",style:{background:"#fef3c7",color:"#92400e"}});break;default:_n(o)}const d={id:Date.now(),message:o,type:c,timestamp:new Date};t(u=>[d,...u.slice(0,4)])},clearNotification:o=>{t(c=>c.filter(d=>d.id!==o))},clearAllNotifications:()=>{t([])}};return l(Mq.Provider,{value:a,children:n})},$le=ie.createContext(),qle=({children:n})=>{const[e,t]=ie.useState("light"),[i,r]=ie.useState("light");ie.useEffect(()=>{const p=localStorage.getItem("planning-insights-theme"),v=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";r(v);const w=p||v;t(w),s(w)},[]),ie.useEffect(()=>{const p=window.matchMedia("(prefers-color-scheme: dark)"),v=w=>{const b=w.matches?"dark":"light";r(b),localStorage.getItem("planning-insights-theme")||(t(b),s(b))};return p.addEventListener("change",v),()=>p.removeEventListener("change",v)},[]);const s=p=>{const v=document.documentElement;v.classList.remove("theme-light","theme-dark"),v.classList.add(`theme-${p}`),a(p)},a=p=>{const v=document.documentElement,w={light:{"--background-color":"#ffffff","--surface-color":"#f8fafc","--text-primary":"#1e293b","--text-secondary":"#64748b","--border-color":"#e2e8f0","--shadow":"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)","--shadow-md":"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)","--shadow-lg":"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)"},dark:{"--background-color":"#0f172a","--surface-color":"#1e293b","--text-primary":"#f1f5f9","--text-secondary":"#94a3b8","--border-color":"#334155","--shadow":"0 1px 3px 0 rgba(0, 0, 0, 0.3), 0 1px 2px 0 rgba(0, 0, 0, 0.2)","--shadow-md":"0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2)","--shadow-lg":"0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2)"}},b=w[p]||w.light;Object.entries(b).forEach(([m,y])=>{v.style.setProperty(m,y)})},o=()=>{const p=e==="light"?"dark":"light";t(p),localStorage.setItem("planning-insights-theme",p),s(p)},c=p=>{["light","dark"].includes(p)||(console.warn(`Invalid theme: ${p}. Using 'light' instead.`),p="light"),t(p),localStorage.setItem("planning-insights-theme",p),s(p)},d=()=>{localStorage.removeItem("planning-insights-theme"),t(i),s(i)},u=e==="dark",f=!localStorage.getItem("planning-insights-theme"),h={theme:e,systemPreference:i,isDark:u,isSystemTheme:f,toggleTheme:o,setTheme:c,resetToSystem:d};return l($le.Provider,{value:h,children:n})},Hle=ie.createContext(),Vle=({children:n})=>{const{user:e,isAuthenticated:t}=hs(),[i,r]=ie.useState(null),[s,a]=ie.useState({notifications:!0,emailDigest:!0,theme:"light"}),[o,c]=ie.useState({jobs:[],courses:[],articles:[]});ie.useEffect(()=>{t&&e&&d()},[t,e]);const d=async()=>{try{const m=localStorage.getItem("userPreferences");m&&a(JSON.parse(m));const y=localStorage.getItem("savedJobs"),_=localStorage.getItem("savedCourses"),x=localStorage.getItem("savedArticles");c({jobs:y?JSON.parse(y):[],courses:_?JSON.parse(_):[],articles:x?JSON.parse(x):[]})}catch(m){console.error("Error loading user data:",m)}},b={profile:i,setProfile:r,preferences:s,updatePreferences:m=>{const y={...s,...m};a(y),localStorage.setItem("userPreferences",JSON.stringify(y))},savedItems:o,toggleSaveJob:m=>{c(y=>{const _=y.jobs.includes(m)?y.jobs.filter(x=>x!==m):[...y.jobs,m];return localStorage.setItem("savedJobs",JSON.stringify(_)),{...y,jobs:_}})},toggleSaveCourse:m=>{c(y=>{const _=y.courses.includes(m)?y.courses.filter(x=>x!==m):[...y.courses,m];return localStorage.setItem("savedCourses",JSON.stringify(_)),{...y,courses:_}})},toggleSaveArticle:m=>{c(y=>{const _=y.articles.includes(m)?y.articles.filter(x=>x!==m):[...y.articles,m];return localStorage.setItem("savedArticles",JSON.stringify(_)),{...y,articles:_}})},isItemSaved:(m,y)=>{var _;return((_=o[y])==null?void 0:_.includes(m))||!1},clearSavedItems:()=>{c({jobs:[],courses:[],articles:[]}),localStorage.removeItem("savedJobs"),localStorage.removeItem("savedCourses"),localStorage.removeItem("savedArticles")}};return l(Hle.Provider,{value:b,children:n})},Gle=new URL("/assets/PlanningInsights_logo-dbaf745d.png",self.location).href,Xle=new URL("/assets/favicon-1ad85887.jpeg",self.location).href,Yle={logo:Gle,favicon:Xle},GU=n=>n,Kle=()=>{let n=GU;return{configure(e){n=e},generate(e){return n(e)},reset(){n=GU}}},Jle=Kle(),Zle=Jle;function V1(n,...e){const t=new URL(`https://mui.com/production-error/?code=${n}`);return e.forEach(i=>t.searchParams.append("args[]",i)),`Minified MUI error #${n}; visit ${t} for the full message.`}function Pb(n){if(typeof n!="string")throw new Error(V1(7));return n.charAt(0).toUpperCase()+n.slice(1)}function Bq(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=Bq(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function zq(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=Bq(n))&&(i&&(i+=" "),i+=e);return i}function Qle(n,e,t=void 0){const i={};for(const r in n){const s=n[r];let a="",o=!0;for(let c=0;c<s.length;c+=1){const d=s[c];d&&(a+=(o===!0?"":" ")+e(d),o=!1,t&&t[d]&&(a+=" "+t[d]))}i[r]=a}return i}var jq={exports:{}},Di={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AL=Symbol.for("react.transitional.element"),kL=Symbol.for("react.portal"),wT=Symbol.for("react.fragment"),xT=Symbol.for("react.strict_mode"),_T=Symbol.for("react.profiler"),ST=Symbol.for("react.consumer"),NT=Symbol.for("react.context"),AT=Symbol.for("react.forward_ref"),kT=Symbol.for("react.suspense"),ET=Symbol.for("react.suspense_list"),TT=Symbol.for("react.memo"),CT=Symbol.for("react.lazy"),ece=Symbol.for("react.view_transition"),tce=Symbol.for("react.client.reference");function ac(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case AL:switch(n=n.type,n){case wT:case _T:case xT:case kT:case ET:case ece:return n;default:switch(n=n&&n.$$typeof,n){case NT:case AT:case CT:case TT:return n;case ST:return n;default:return e}}case kL:return e}}}Di.ContextConsumer=ST;Di.ContextProvider=NT;Di.Element=AL;Di.ForwardRef=AT;Di.Fragment=wT;Di.Lazy=CT;Di.Memo=TT;Di.Portal=kL;Di.Profiler=_T;Di.StrictMode=xT;Di.Suspense=kT;Di.SuspenseList=ET;Di.isContextConsumer=function(n){return ac(n)===ST};Di.isContextProvider=function(n){return ac(n)===NT};Di.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===AL};Di.isForwardRef=function(n){return ac(n)===AT};Di.isFragment=function(n){return ac(n)===wT};Di.isLazy=function(n){return ac(n)===CT};Di.isMemo=function(n){return ac(n)===TT};Di.isPortal=function(n){return ac(n)===kL};Di.isProfiler=function(n){return ac(n)===_T};Di.isStrictMode=function(n){return ac(n)===xT};Di.isSuspense=function(n){return ac(n)===kT};Di.isSuspenseList=function(n){return ac(n)===ET};Di.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===wT||n===_T||n===xT||n===kT||n===ET||typeof n=="object"&&n!==null&&(n.$$typeof===CT||n.$$typeof===TT||n.$$typeof===NT||n.$$typeof===ST||n.$$typeof===AT||n.$$typeof===tce||n.getModuleId!==void 0)};Di.typeOf=ac;jq.exports=Di;var Wq=jq.exports;function Fh(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function $q(n){if(ie.isValidElement(n)||Wq.isValidElementType(n)||!Fh(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=$q(n[t])}),e}function gl(n,e,t={clone:!0}){const i=t.clone?{...n}:n;return Fh(n)&&Fh(e)&&Object.keys(e).forEach(r=>{ie.isValidElement(e[r])||Wq.isValidElementType(e[r])?i[r]=e[r]:Fh(e[r])&&Object.prototype.hasOwnProperty.call(n,r)&&Fh(n[r])?i[r]=gl(n[r],e[r],t):t.clone?i[r]=Fh(e[r])?$q(e[r]):e[r]:i[r]=e[r]}),i}function Ow(n,e){return e?gl(n,e,{clone:!1}):n}function XU(n,e){if(!n.containerQueries)return e;const t=Object.keys(e).filter(i=>i.startsWith("@container")).sort((i,r)=>{var a,o;const s=/min-width:\s*([0-9.]+)/;return+(((a=i.match(s))==null?void 0:a[1])||0)-+(((o=r.match(s))==null?void 0:o[1])||0)});return t.length?t.reduce((i,r)=>{const s=e[r];return delete i[r],i[r]=s,i},{...e}):e}function nce(n,e){return e==="@"||e.startsWith("@")&&(n.some(t=>e.startsWith(`@${t}`))||!!e.match(/^@\d/))}function ice(n,e){const t=e.match(/^@([^/]+)?\/?(.+)?$/);if(!t)return null;const[,i,r]=t,s=Number.isNaN(+i)?i||0:+i;return n.containerQueries(r).up(s)}function rce(n){const e=(s,a)=>s.replace("@media",a?`@container ${a}`:"@container");function t(s,a){s.up=(...o)=>e(n.breakpoints.up(...o),a),s.down=(...o)=>e(n.breakpoints.down(...o),a),s.between=(...o)=>e(n.breakpoints.between(...o),a),s.only=(...o)=>e(n.breakpoints.only(...o),a),s.not=(...o)=>{const c=e(n.breakpoints.not(...o),a);return c.includes("not all and")?c.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):c}}const i={},r=s=>(t(i,s),i);return t(r),{...n,containerQueries:r}}const DT={xs:0,sm:600,md:900,lg:1200,xl:1536},YU={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${DT[n]}px)`},sce={containerQueries:n=>({up:e=>{let t=typeof e=="number"?e:DT[e]||e;return typeof t=="number"&&(t=`${t}px`),n?`@container ${n} (min-width:${t})`:`@container (min-width:${t})`}})};function ef(n,e,t){const i=n.theme||{};if(Array.isArray(e)){const s=i.breakpoints||YU;return e.reduce((a,o,c)=>(a[s.up(s.keys[c])]=t(e[c]),a),{})}if(typeof e=="object"){const s=i.breakpoints||YU;return Object.keys(e).reduce((a,o)=>{if(nce(s.keys,o)){const c=ice(i.containerQueries?i:sce,o);c&&(a[c]=t(e[o],o))}else if(Object.keys(s.values||DT).includes(o)){const c=s.up(o);a[c]=t(e[o],o)}else{const c=o;a[c]=e[c]}return a},{})}return t(e)}function ace(n={}){var t;return((t=n.keys)==null?void 0:t.reduce((i,r)=>{const s=n.up(r);return i[s]={},i},{}))||{}}function KU(n,e){return n.reduce((t,i)=>{const r=t[i];return(!r||Object.keys(r).length===0)&&delete t[i],t},e)}function PT(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const i=`vars.${e}`.split(".").reduce((r,s)=>r&&r[s]?r[s]:null,n);if(i!=null)return i}return e.split(".").reduce((i,r)=>i&&i[r]!=null?i[r]:null,n)}function m3(n,e,t,i=t){let r;return typeof n=="function"?r=n(t):Array.isArray(n)?r=n[t]||i:r=PT(n,t)||i,e&&(r=e(r,i,n)),r}function Fr(n){const{prop:e,cssProperty:t=n.prop,themeKey:i,transform:r}=n,s=a=>{if(a[e]==null)return null;const o=a[e],c=a.theme,d=PT(c,i)||{};return ef(a,o,f=>{let h=m3(d,r,f);return f===h&&typeof f=="string"&&(h=m3(d,r,`${e}${f==="default"?"":Pb(f)}`,f)),t===!1?h:{[t]:h}})};return s.propTypes={},s.filterProps=[e],s}function oce(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const lce={m:"margin",p:"padding"},cce={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},JU={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},dce=oce(n=>{if(n.length>2)if(JU[n])n=JU[n];else return[n];const[e,t]=n.split(""),i=lce[e],r=cce[t]||"";return Array.isArray(r)?r.map(s=>i+s):[i+r]}),EL=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],TL=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...EL,...TL];function CS(n,e,t,i){const r=PT(n,e,!0)??t;return typeof r=="number"||typeof r=="string"?s=>typeof s=="string"?s:typeof r=="string"?r.startsWith("var(")&&s===0?0:r.startsWith("var(")&&s===1?r:`calc(${s} * ${r})`:r*s:Array.isArray(r)?s=>{if(typeof s=="string")return s;const a=Math.abs(s),o=r[a];return s>=0?o:typeof o=="number"?-o:typeof o=="string"&&o.startsWith("var(")?`calc(-1 * ${o})`:`-${o}`}:typeof r=="function"?r:()=>{}}function CL(n){return CS(n,"spacing",8)}function DS(n,e){return typeof e=="string"||e==null?e:n(e)}function uce(n,e){return t=>n.reduce((i,r)=>(i[r]=DS(e,t),i),{})}function hce(n,e,t,i){if(!e.includes(t))return null;const r=dce(t),s=uce(r,i),a=n[t];return ef(n,a,s)}function qq(n,e){const t=CL(n.theme);return Object.keys(n).map(i=>hce(n,e,i,t)).reduce(Ow,{})}function hr(n){return qq(n,EL)}hr.propTypes={};hr.filterProps=EL;function fr(n){return qq(n,TL)}fr.propTypes={};fr.filterProps=TL;function IT(...n){const e=n.reduce((i,r)=>(r.filterProps.forEach(s=>{i[s]=r}),i),{}),t=i=>Object.keys(i).reduce((r,s)=>e[s]?Ow(r,e[s](i)):r,{});return t.propTypes={},t.filterProps=n.reduce((i,r)=>i.concat(r.filterProps),[]),t}function Gl(n){return typeof n!="number"?n:`${n}px solid`}function oc(n,e){return Fr({prop:n,themeKey:"borders",transform:e})}const fce=oc("border",Gl),pce=oc("borderTop",Gl),mce=oc("borderRight",Gl),gce=oc("borderBottom",Gl),yce=oc("borderLeft",Gl),vce=oc("borderColor"),bce=oc("borderTopColor"),wce=oc("borderRightColor"),xce=oc("borderBottomColor"),_ce=oc("borderLeftColor"),Sce=oc("outline",Gl),Nce=oc("outlineColor"),RT=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=CS(n.theme,"shape.borderRadius",4),t=i=>({borderRadius:DS(e,i)});return ef(n,n.borderRadius,t)}return null};RT.propTypes={};RT.filterProps=["borderRadius"];IT(fce,pce,mce,gce,yce,vce,bce,wce,xce,_ce,RT,Sce,Nce);const LT=n=>{if(n.gap!==void 0&&n.gap!==null){const e=CS(n.theme,"spacing",8),t=i=>({gap:DS(e,i)});return ef(n,n.gap,t)}return null};LT.propTypes={};LT.filterProps=["gap"];const OT=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=CS(n.theme,"spacing",8),t=i=>({columnGap:DS(e,i)});return ef(n,n.columnGap,t)}return null};OT.propTypes={};OT.filterProps=["columnGap"];const FT=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=CS(n.theme,"spacing",8),t=i=>({rowGap:DS(e,i)});return ef(n,n.rowGap,t)}return null};FT.propTypes={};FT.filterProps=["rowGap"];const Ace=Fr({prop:"gridColumn"}),kce=Fr({prop:"gridRow"}),Ece=Fr({prop:"gridAutoFlow"}),Tce=Fr({prop:"gridAutoColumns"}),Cce=Fr({prop:"gridAutoRows"}),Dce=Fr({prop:"gridTemplateColumns"}),Pce=Fr({prop:"gridTemplateRows"}),Ice=Fr({prop:"gridTemplateAreas"}),Rce=Fr({prop:"gridArea"});IT(LT,OT,FT,Ace,kce,Ece,Tce,Cce,Dce,Pce,Ice,Rce);function cy(n,e){return e==="grey"?e:n}const Lce=Fr({prop:"color",themeKey:"palette",transform:cy}),Oce=Fr({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:cy}),Fce=Fr({prop:"backgroundColor",themeKey:"palette",transform:cy});IT(Lce,Oce,Fce);function dl(n){return n<=1&&n!==0?`${n*100}%`:n}const Uce=Fr({prop:"width",transform:dl}),DL=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var r,s,a,o,c;const i=((a=(s=(r=n.theme)==null?void 0:r.breakpoints)==null?void 0:s.values)==null?void 0:a[t])||DT[t];return i?((c=(o=n.theme)==null?void 0:o.breakpoints)==null?void 0:c.unit)!=="px"?{maxWidth:`${i}${n.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:dl(t)}};return ef(n,n.maxWidth,e)}return null};DL.filterProps=["maxWidth"];const Mce=Fr({prop:"minWidth",transform:dl}),Bce=Fr({prop:"height",transform:dl}),zce=Fr({prop:"maxHeight",transform:dl}),jce=Fr({prop:"minHeight",transform:dl});Fr({prop:"size",cssProperty:"width",transform:dl});Fr({prop:"size",cssProperty:"height",transform:dl});const Wce=Fr({prop:"boxSizing"});IT(Uce,DL,Mce,Bce,zce,jce,Wce);const $ce={border:{themeKey:"borders",transform:Gl},borderTop:{themeKey:"borders",transform:Gl},borderRight:{themeKey:"borders",transform:Gl},borderBottom:{themeKey:"borders",transform:Gl},borderLeft:{themeKey:"borders",transform:Gl},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Gl},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:RT},color:{themeKey:"palette",transform:cy},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:cy},backgroundColor:{themeKey:"palette",transform:cy},p:{style:fr},pt:{style:fr},pr:{style:fr},pb:{style:fr},pl:{style:fr},px:{style:fr},py:{style:fr},padding:{style:fr},paddingTop:{style:fr},paddingRight:{style:fr},paddingBottom:{style:fr},paddingLeft:{style:fr},paddingX:{style:fr},paddingY:{style:fr},paddingInline:{style:fr},paddingInlineStart:{style:fr},paddingInlineEnd:{style:fr},paddingBlock:{style:fr},paddingBlockStart:{style:fr},paddingBlockEnd:{style:fr},m:{style:hr},mt:{style:hr},mr:{style:hr},mb:{style:hr},ml:{style:hr},mx:{style:hr},my:{style:hr},margin:{style:hr},marginTop:{style:hr},marginRight:{style:hr},marginBottom:{style:hr},marginLeft:{style:hr},marginX:{style:hr},marginY:{style:hr},marginInline:{style:hr},marginInlineStart:{style:hr},marginInlineEnd:{style:hr},marginBlock:{style:hr},marginBlockStart:{style:hr},marginBlockEnd:{style:hr},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:LT},rowGap:{style:FT},columnGap:{style:OT},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:dl},maxWidth:{style:DL},minWidth:{transform:dl},height:{transform:dl},maxHeight:{transform:dl},minHeight:{transform:dl},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},UT=$ce;function qce(...n){const e=n.reduce((i,r)=>i.concat(Object.keys(r)),[]),t=new Set(e);return n.every(i=>t.size===Object.keys(i).length)}function Hce(n,e){return typeof n=="function"?n(e):n}function Vce(){function n(t,i,r,s){const a={[t]:i,theme:r},o=s[t];if(!o)return{[t]:i};const{cssProperty:c=t,themeKey:d,transform:u,style:f}=o;if(i==null)return null;if(d==="typography"&&i==="inherit")return{[t]:i};const h=PT(r,d)||{};return f?f(a):ef(a,i,v=>{let w=m3(h,u,v);return v===w&&typeof v=="string"&&(w=m3(h,u,`${t}${v==="default"?"":Pb(v)}`,v)),c===!1?w:{[c]:w}})}function e(t){const{sx:i,theme:r={},nested:s}=t||{};if(!i)return null;const a=r.unstable_sxConfig??UT;function o(c){let d=c;if(typeof c=="function")d=c(r);else if(typeof c!="object")return c;if(!d)return null;const u=ace(r.breakpoints),f=Object.keys(u);let h=u;return Object.keys(d).forEach(p=>{const v=Hce(d[p],r);if(v!=null)if(typeof v=="object")if(a[p])h=Ow(h,n(p,v,r,a));else{const w=ef({theme:r},v,b=>({[p]:b}));qce(w,v)?h[p]=e({sx:v,theme:r,nested:!0}):h=Ow(h,w)}else h=Ow(h,n(p,v,r,a))}),!s&&r.modularCssLayers?{"@layer sx":XU(r,KU(f,h))}:XU(r,KU(f,h))}return Array.isArray(i)?i.map(o):o(i)}return e}const Hq=Vce();Hq.filterProps=["sx"];const cx=Hq;function C8(){return C8=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},C8.apply(null,arguments)}var Gce=!1;function Xce(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function Yce(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Kce=function(){function n(t){var i=this;this._insertTag=function(r){var s;i.tags.length===0?i.insertionPoint?s=i.insertionPoint.nextSibling:i.prepend?s=i.container.firstChild:s=i.before:s=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(r,s),i.tags.push(r)},this.isSpeedy=t.speedy===void 0?!Gce:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Yce(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Xce(r);try{s.insertRule(i,s.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){var r;return(r=i.parentNode)==null?void 0:r.removeChild(i)}),this.tags=[],this.ctr=0},n}(),fa="-ms-",g3="-moz-",Gn="-webkit-",Vq="comm",PL="rule",IL="decl",Jce="@import",Gq="@keyframes",Zce="@layer",Qce=Math.abs,MT=String.fromCharCode,ede=Object.assign;function tde(n,e){return ea(n,0)^45?(((e<<2^ea(n,0))<<2^ea(n,1))<<2^ea(n,2))<<2^ea(n,3):0}function Xq(n){return n.trim()}function nde(n,e){return(n=e.exec(n))?n[0]:n}function Xn(n,e,t){return n.replace(e,t)}function D8(n,e){return n.indexOf(e)}function ea(n,e){return n.charCodeAt(e)|0}function dx(n,e,t){return n.slice(e,t)}function su(n){return n.length}function RL(n){return n.length}function IN(n,e){return e.push(n),n}function ide(n,e){return n.map(e).join("")}var BT=1,Ib=1,Yq=0,No=0,$r=0,Xb="";function zT(n,e,t,i,r,s,a){return{value:n,root:e,parent:t,type:i,props:r,children:s,line:BT,column:Ib,length:a,return:""}}function T2(n,e){return ede(zT("",null,null,"",null,null,0),n,{length:-n.length},e)}function rde(){return $r}function sde(){return $r=No>0?ea(Xb,--No):0,Ib--,$r===10&&(Ib=1,BT--),$r}function yl(){return $r=No<Yq?ea(Xb,No++):0,Ib++,$r===10&&(Ib=1,BT++),$r}function gu(){return ea(Xb,No)}function TA(){return No}function PS(n,e){return dx(Xb,n,e)}function ux(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Kq(n){return BT=Ib=1,Yq=su(Xb=n),No=0,[]}function Jq(n){return Xb="",n}function CA(n){return Xq(PS(No-1,P8(n===91?n+2:n===40?n+1:n)))}function ade(n){for(;($r=gu())&&$r<33;)yl();return ux(n)>2||ux($r)>3?"":" "}function ode(n,e){for(;--e&&yl()&&!($r<48||$r>102||$r>57&&$r<65||$r>70&&$r<97););return PS(n,TA()+(e<6&&gu()==32&&yl()==32))}function P8(n){for(;yl();)switch($r){case n:return No;case 34:case 39:n!==34&&n!==39&&P8($r);break;case 40:n===41&&P8(n);break;case 92:yl();break}return No}function lde(n,e){for(;yl()&&n+$r!==47+10;)if(n+$r===42+42&&gu()===47)break;return"/*"+PS(e,No-1)+"*"+MT(n===47?n:yl())}function cde(n){for(;!ux(gu());)yl();return PS(n,No)}function dde(n){return Jq(DA("",null,null,null,[""],n=Kq(n),0,[0],n))}function DA(n,e,t,i,r,s,a,o,c){for(var d=0,u=0,f=a,h=0,p=0,v=0,w=1,b=1,m=1,y=0,_="",x=r,N=s,k=i,T=_;b;)switch(v=y,y=yl()){case 40:if(v!=108&&ea(T,f-1)==58){D8(T+=Xn(CA(y),"&","&\f"),"&\f")!=-1&&(m=-1);break}case 34:case 39:case 91:T+=CA(y);break;case 9:case 10:case 13:case 32:T+=ade(v);break;case 92:T+=ode(TA()-1,7);continue;case 47:switch(gu()){case 42:case 47:IN(ude(lde(yl(),TA()),e,t),c);break;default:T+="/"}break;case 123*w:o[d++]=su(T)*m;case 125*w:case 59:case 0:switch(y){case 0:case 125:b=0;case 59+u:m==-1&&(T=Xn(T,/\f/g,"")),p>0&&su(T)-f&&IN(p>32?QU(T+";",i,t,f-1):QU(Xn(T," ","")+";",i,t,f-2),c);break;case 59:T+=";";default:if(IN(k=ZU(T,e,t,d,u,r,o,_,x=[],N=[],f),s),y===123)if(u===0)DA(T,e,k,k,x,s,f,o,N);else switch(h===99&&ea(T,3)===110?100:h){case 100:case 108:case 109:case 115:DA(n,k,k,i&&IN(ZU(n,k,k,0,0,r,o,_,r,x=[],f),N),r,N,f,o,i?x:N);break;default:DA(T,k,k,k,[""],N,0,o,N)}}d=u=p=0,w=m=1,_=T="",f=a;break;case 58:f=1+su(T),p=v;default:if(w<1){if(y==123)--w;else if(y==125&&w++==0&&sde()==125)continue}switch(T+=MT(y),y*w){case 38:m=u>0?1:(T+="\f",-1);break;case 44:o[d++]=(su(T)-1)*m,m=1;break;case 64:gu()===45&&(T+=CA(yl())),h=gu(),u=f=su(_=T+=cde(TA())),y++;break;case 45:v===45&&su(T)==2&&(w=0)}}return s}function ZU(n,e,t,i,r,s,a,o,c,d,u){for(var f=r-1,h=r===0?s:[""],p=RL(h),v=0,w=0,b=0;v<i;++v)for(var m=0,y=dx(n,f+1,f=Qce(w=a[v])),_=n;m<p;++m)(_=Xq(w>0?h[m]+" "+y:Xn(y,/&\f/g,h[m])))&&(c[b++]=_);return zT(n,e,t,r===0?PL:o,c,d,u)}function ude(n,e,t){return zT(n,e,t,Vq,MT(rde()),dx(n,2,-2),0)}function QU(n,e,t,i){return zT(n,e,t,IL,dx(n,0,i),dx(n,i+1,-1),i)}function dy(n,e){for(var t="",i=RL(n),r=0;r<i;r++)t+=e(n[r],r,n,e)||"";return t}function hde(n,e,t,i){switch(n.type){case Zce:if(n.children.length)break;case Jce:case IL:return n.return=n.return||n.value;case Vq:return"";case Gq:return n.return=n.value+"{"+dy(n.children,i)+"}";case PL:n.value=n.props.join(",")}return su(t=dy(n.children,i))?n.return=n.value+"{"+t+"}":""}function fde(n){var e=RL(n);return function(t,i,r,s){for(var a="",o=0;o<e;o++)a+=n[o](t,i,r,s)||"";return a}}function pde(n){return function(e){e.root||(e=e.return)&&n(e)}}function Zq(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var mde=function(e,t,i){for(var r=0,s=0;r=s,s=gu(),r===38&&s===12&&(t[i]=1),!ux(s);)yl();return PS(e,No)},gde=function(e,t){var i=-1,r=44;do switch(ux(r)){case 0:r===38&&gu()===12&&(t[i]=1),e[i]+=mde(No-1,t,i);break;case 2:e[i]+=CA(r);break;case 4:if(r===44){e[++i]=gu()===58?"&\f":"",t[i]=e[i].length;break}default:e[i]+=MT(r)}while(r=yl());return e},yde=function(e,t){return Jq(gde(Kq(e),t))},e9=new WeakMap,vde=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,i=e.parent,r=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!e9.get(i))&&!r){e9.set(e,!0);for(var s=[],a=yde(t,s),o=i.props,c=0,d=0;c<a.length;c++)for(var u=0;u<o.length;u++,d++)e.props[d]=s[c]?a[c].replace(/&\f/g,o[u]):o[u]+" "+a[c]}}},bde=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function Qq(n,e){switch(tde(n,e)){case 5103:return Gn+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Gn+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Gn+n+g3+n+fa+n+n;case 6828:case 4268:return Gn+n+fa+n+n;case 6165:return Gn+n+fa+"flex-"+n+n;case 5187:return Gn+n+Xn(n,/(\w+).+(:[^]+)/,Gn+"box-$1$2"+fa+"flex-$1$2")+n;case 5443:return Gn+n+fa+"flex-item-"+Xn(n,/flex-|-self/,"")+n;case 4675:return Gn+n+fa+"flex-line-pack"+Xn(n,/align-content|flex-|-self/,"")+n;case 5548:return Gn+n+fa+Xn(n,"shrink","negative")+n;case 5292:return Gn+n+fa+Xn(n,"basis","preferred-size")+n;case 6060:return Gn+"box-"+Xn(n,"-grow","")+Gn+n+fa+Xn(n,"grow","positive")+n;case 4554:return Gn+Xn(n,/([^-])(transform)/g,"$1"+Gn+"$2")+n;case 6187:return Xn(Xn(Xn(n,/(zoom-|grab)/,Gn+"$1"),/(image-set)/,Gn+"$1"),n,"")+n;case 5495:case 3959:return Xn(n,/(image-set\([^]*)/,Gn+"$1$`$1");case 4968:return Xn(Xn(n,/(.+:)(flex-)?(.*)/,Gn+"box-pack:$3"+fa+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Gn+n+n;case 4095:case 3583:case 4068:case 2532:return Xn(n,/(.+)-inline(.+)/,Gn+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(su(n)-1-e>6)switch(ea(n,e+1)){case 109:if(ea(n,e+4)!==45)break;case 102:return Xn(n,/(.+:)(.+)-([^]+)/,"$1"+Gn+"$2-$3$1"+g3+(ea(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~D8(n,"stretch")?Qq(Xn(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(ea(n,e+1)!==115)break;case 6444:switch(ea(n,su(n)-3-(~D8(n,"!important")&&10))){case 107:return Xn(n,":",":"+Gn)+n;case 101:return Xn(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Gn+(ea(n,14)===45?"inline-":"")+"box$3$1"+Gn+"$2$3$1"+fa+"$2box$3")+n}break;case 5936:switch(ea(n,e+11)){case 114:return Gn+n+fa+Xn(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Gn+n+fa+Xn(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Gn+n+fa+Xn(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Gn+n+fa+n+n}return n}var wde=function(e,t,i,r){if(e.length>-1&&!e.return)switch(e.type){case IL:e.return=Qq(e.value,e.length);break;case Gq:return dy([T2(e,{value:Xn(e.value,"@","@"+Gn)})],r);case PL:if(e.length)return ide(e.props,function(s){switch(nde(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return dy([T2(e,{props:[Xn(s,/:(read-\w+)/,":"+g3+"$1")]})],r);case"::placeholder":return dy([T2(e,{props:[Xn(s,/:(plac\w+)/,":"+Gn+"input-$1")]}),T2(e,{props:[Xn(s,/:(plac\w+)/,":"+g3+"$1")]}),T2(e,{props:[Xn(s,/:(plac\w+)/,fa+"input-$1")]})],r)}return""})}},xde=[wde],_de=function(e){var t=e.key;if(t==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(w){var b=w.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var r=e.stylisPlugins||xde,s={},a,o=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(w){for(var b=w.getAttribute("data-emotion").split(" "),m=1;m<b.length;m++)s[b[m]]=!0;o.push(w)});var c,d=[vde,bde];{var u,f=[hde,pde(function(w){u.insert(w)})],h=fde(d.concat(r,f)),p=function(b){return dy(dde(b),h)};c=function(b,m,y,_){u=y,p(b?b+"{"+m.styles+"}":m.styles),_&&(v.inserted[m.name]=!0)}}var v={key:t,sheet:new Kce({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:c};return v.sheet.hydrate(o),v},Sde=!0;function Nde(n,e,t){var i="";return t.split(" ").forEach(function(r){n[r]!==void 0?e.push(n[r]+";"):r&&(i+=r+" ")}),i}var eH=function(e,t,i){var r=e.key+"-"+t.name;(i===!1||Sde===!1)&&e.registered[r]===void 0&&(e.registered[r]=t.styles)},Ade=function(e,t,i){eH(e,t,i);var r=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+r:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function kde(n){for(var e=0,t,i=0,r=n.length;r>=4;++i,r-=4)t=n.charCodeAt(i)&255|(n.charCodeAt(++i)&255)<<8|(n.charCodeAt(++i)&255)<<16|(n.charCodeAt(++i)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(n.charCodeAt(i+2)&255)<<16;case 2:e^=(n.charCodeAt(i+1)&255)<<8;case 1:e^=n.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Ede={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Tde=!1,Cde=/[A-Z]|^ms/g,Dde=/_EMO_([^_]+?)_([^]*?)_EMO_/g,tH=function(e){return e.charCodeAt(1)===45},t9=function(e){return e!=null&&typeof e!="boolean"},y6=Zq(function(n){return tH(n)?n:n.replace(Cde,"-$&").toLowerCase()}),n9=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(Dde,function(i,r,s){return au={name:r,styles:s,next:au},r})}return Ede[e]!==1&&!tH(e)&&typeof t=="number"&&t!==0?t+"px":t},Pde="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function hx(n,e,t){if(t==null)return"";var i=t;if(i.__emotion_styles!==void 0)return i;switch(typeof t){case"boolean":return"";case"object":{var r=t;if(r.anim===1)return au={name:r.name,styles:r.styles,next:au},r.name;var s=t;if(s.styles!==void 0){var a=s.next;if(a!==void 0)for(;a!==void 0;)au={name:a.name,styles:a.styles,next:au},a=a.next;var o=s.styles+";";return o}return Ide(n,e,t)}case"function":{if(n!==void 0){var c=au,d=t(n);return au=c,hx(n,e,d)}break}}var u=t;if(e==null)return u;var f=e[u];return f!==void 0?f:u}function Ide(n,e,t){var i="";if(Array.isArray(t))for(var r=0;r<t.length;r++)i+=hx(n,e,t[r])+";";else for(var s in t){var a=t[s];if(typeof a!="object"){var o=a;e!=null&&e[o]!==void 0?i+=s+"{"+e[o]+"}":t9(o)&&(i+=y6(s)+":"+n9(s,o)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&Tde)throw new Error(Pde);if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var c=0;c<a.length;c++)t9(a[c])&&(i+=y6(s)+":"+n9(s,a[c])+";");else{var d=hx(n,e,a);switch(s){case"animation":case"animationName":{i+=y6(s)+":"+d+";";break}default:i+=s+"{"+d+"}"}}}}return i}var i9=/label:\s*([^\s;{]+)\s*(;|$)/g,au;function nH(n,e,t){if(n.length===1&&typeof n[0]=="object"&&n[0]!==null&&n[0].styles!==void 0)return n[0];var i=!0,r="";au=void 0;var s=n[0];if(s==null||s.raw===void 0)i=!1,r+=hx(t,e,s);else{var a=s;r+=a[0]}for(var o=1;o<n.length;o++)if(r+=hx(t,e,n[o]),i){var c=s;r+=c[o]}i9.lastIndex=0;for(var d="",u;(u=i9.exec(r))!==null;)d+="-"+u[1];var f=kde(r)+d;return{name:f,styles:r,next:au}}var Rde=function(e){return e()},Lde=fD["useInsertionEffect"]?fD["useInsertionEffect"]:!1,Ode=Lde||Rde,iH=ie.createContext(typeof HTMLElement<"u"?_de({key:"css"}):null);iH.Provider;var Fde=function(e){return ie.forwardRef(function(t,i){var r=ie.useContext(iH);return e(t,r,i)})},Ude=ie.createContext({}),Mde=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Bde=Zq(function(n){return Mde.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91}),zde=!1,jde=Bde,Wde=function(e){return e!=="theme"},r9=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?jde:Wde},s9=function(e,t,i){var r;if(t){var s=t.shouldForwardProp;r=e.__emotion_forwardProp&&s?function(a){return e.__emotion_forwardProp(a)&&s(a)}:s}return typeof r!="function"&&i&&(r=e.__emotion_forwardProp),r},$de=function(e){var t=e.cache,i=e.serialized,r=e.isStringTag;return eH(t,i,r),Ode(function(){return Ade(t,i,r)}),null},qde=function n(e,t){var i=e.__emotion_real===e,r=i&&e.__emotion_base||e,s,a;t!==void 0&&(s=t.label,a=t.target);var o=s9(e,t,i),c=o||r9(r),d=!c("as");return function(){var u=arguments,f=i&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&f.push("label:"+s+";"),u[0]==null||u[0].raw===void 0)f.push.apply(f,u);else{var h=u[0];f.push(h[0]);for(var p=u.length,v=1;v<p;v++)f.push(u[v],h[v])}var w=Fde(function(b,m,y){var _=d&&b.as||r,x="",N=[],k=b;if(b.theme==null){k={};for(var T in b)k[T]=b[T];k.theme=ie.useContext(Ude)}typeof b.className=="string"?x=Nde(m.registered,N,b.className):b.className!=null&&(x=b.className+" ");var C=nH(f.concat(N),m.registered,k);x+=m.key+"-"+C.name,a!==void 0&&(x+=" "+a);var P=d&&o===void 0?r9(_):c,D={};for(var E in b)d&&E==="as"||P(E)&&(D[E]=b[E]);return D.className=x,y&&(D.ref=y),ie.createElement(ie.Fragment,null,ie.createElement($de,{cache:m,serialized:C,isStringTag:typeof _=="string"}),ie.createElement(_,D))});return w.displayName=s!==void 0?s:"Styled("+(typeof r=="string"?r:r.displayName||r.name||"Component")+")",w.defaultProps=e.defaultProps,w.__emotion_real=w,w.__emotion_base=r,w.__emotion_styles=f,w.__emotion_forwardProp=o,Object.defineProperty(w,"toString",{value:function(){return a===void 0&&zde?"NO_COMPONENT_SELECTOR":"."+a}}),w.withComponent=function(b,m){var y=n(b,C8({},t,m,{shouldForwardProp:s9(w,m,!0)}));return y.apply(void 0,f)},w}},Hde=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],I8=qde.bind(null);Hde.forEach(function(n){I8[n]=I8(n)});/**
 * @mui/styled-engine v7.3.7
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Vde(n,e){return I8(n,e)}function Gde(n,e){Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))}const a9=[];function P1(n){return a9[0]=n,nH(a9)}const Xde=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,i)=>t.val-i.val),e.reduce((t,i)=>({...t,[i.key]:i.val}),{})};function Yde(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:i=5,...r}=n,s=Xde(e),a=Object.keys(s);function o(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${t})`}function c(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-i/100}${t})`}function d(h,p){const v=a.indexOf(p);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${t}) and (max-width:${(v!==-1&&typeof e[a[v]]=="number"?e[a[v]]:p)-i/100}${t})`}function u(h){return a.indexOf(h)+1<a.length?d(h,a[a.indexOf(h)+1]):o(h)}function f(h){const p=a.indexOf(h);return p===0?o(a[1]):p===a.length-1?c(a[p]):d(h,a[a.indexOf(h)+1]).replace("@media","@media not all and")}return{keys:a,values:s,up:o,down:c,between:d,only:u,not:f,unit:t,...r}}const Kde={borderRadius:4},Jde=Kde;function rH(n=8,e=CL({spacing:n})){if(n.mui)return n;const t=(...i)=>(i.length===0?[1]:i).map(s=>{const a=e(s);return typeof a=="number"?`${a}px`:a}).join(" ");return t.mui=!0,t}function Zde(n,e){var i;const t=this;if(t.vars){if(!((i=t.colorSchemes)!=null&&i[n])||typeof t.getColorSchemeSelector!="function")return{};let r=t.getColorSchemeSelector(n);return r==="&"?e:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:e})}return t.palette.mode===n?e:{}}function sH(n={},...e){const{breakpoints:t={},palette:i={},spacing:r,shape:s={},...a}=n,o=Yde(t),c=rH(r);let d=gl({breakpoints:o,direction:"ltr",components:{},palette:{mode:"light",...i},spacing:c,shape:{...Jde,...s}},a);return d=rce(d),d.applyStyles=Zde,d=e.reduce((u,f)=>gl(u,f),d),d.unstable_sxConfig={...UT,...a==null?void 0:a.unstable_sxConfig},d.unstable_sx=function(f){return cx({sx:f,theme:this})},d}const Qde={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function aH(n,e,t="Mui"){const i=Qde[e];return i?`${t}-${i}`:`${Zle.generate(n)}-${e}`}function eue(n,e,t="Mui"){const i={};return e.forEach(r=>{i[r]=aH(n,r,t)}),i}function oH(n){const{variants:e,...t}=n,i={variants:e,style:P1(t),isProcessed:!0};return i.style===t||e&&e.forEach(r=>{typeof r.style!="function"&&(r.style=P1(r.style))}),i}const tue=sH();function v6(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}function Vm(n,e){return e&&n&&typeof n=="object"&&n.styles&&!n.styles.startsWith("@layer")&&(n.styles=`@layer ${e}{${String(n.styles)}}`),n}function nue(n){return n?(e,t)=>t[n]:null}function iue(n,e,t){n.theme=aue(n.theme)?t:n.theme[e]||n.theme}function PA(n,e,t){const i=typeof e=="function"?e(n):e;if(Array.isArray(i))return i.flatMap(r=>PA(n,r,t));if(Array.isArray(i==null?void 0:i.variants)){let r;if(i.isProcessed)r=t?Vm(i.style,t):i.style;else{const{variants:s,...a}=i;r=t?Vm(P1(a),t):a}return lH(n,i.variants,[r],t)}return i!=null&&i.isProcessed?t?Vm(P1(i.style),t):i.style:t?Vm(P1(i),t):i}function lH(n,e,t=[],i=void 0){var s;let r;e:for(let a=0;a<e.length;a+=1){const o=e[a];if(typeof o.props=="function"){if(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),!o.props(r))continue}else for(const c in o.props)if(n[c]!==o.props[c]&&((s=n.ownerState)==null?void 0:s[c])!==o.props[c])continue e;typeof o.style=="function"?(r??(r={...n,...n.ownerState,ownerState:n.ownerState}),t.push(i?Vm(P1(o.style(r)),i):o.style(r))):t.push(i?Vm(P1(o.style),i):o.style)}return t}function rue(n={}){const{themeId:e,defaultTheme:t=tue,rootShouldForwardProp:i=v6,slotShouldForwardProp:r=v6}=n;function s(o){iue(o,e,t)}return(o,c={})=>{Gde(o,k=>k.filter(T=>T!==cx));const{name:d,slot:u,skipVariantsResolver:f,skipSx:h,overridesResolver:p=nue(lue(u)),...v}=c,w=d&&d.startsWith("Mui")||u?"components":"custom",b=f!==void 0?f:u&&u!=="Root"&&u!=="root"||!1,m=h||!1;let y=v6;u==="Root"||u==="root"?y=i:u?y=r:oue(o)&&(y=void 0);const _=Vde(o,{shouldForwardProp:y,label:sue(),...v}),x=k=>{if(k.__emotion_real===k)return k;if(typeof k=="function")return function(C){return PA(C,k,C.theme.modularCssLayers?w:void 0)};if(Fh(k)){const T=oH(k);return function(P){return T.variants?PA(P,T,P.theme.modularCssLayers?w:void 0):P.theme.modularCssLayers?Vm(T.style,w):T.style}}return k},N=(...k)=>{const T=[],C=k.map(x),P=[];if(T.push(s),d&&p&&P.push(function(I){var q,G;const M=(G=(q=I.theme.components)==null?void 0:q[d])==null?void 0:G.styleOverrides;if(!M)return null;const Y={};for(const B in M)Y[B]=PA(I,M[B],I.theme.modularCssLayers?"theme":void 0);return p(I,Y)}),d&&!b&&P.push(function(I){var Y,q;const R=I.theme,M=(q=(Y=R==null?void 0:R.components)==null?void 0:Y[d])==null?void 0:q.variants;return M?lH(I,M,[],I.theme.modularCssLayers?"theme":void 0):null}),m||P.push(cx),Array.isArray(C[0])){const A=C.shift(),I=new Array(T.length).fill(""),R=new Array(P.length).fill("");let M;M=[...I,...A,...R],M.raw=[...I,...A.raw,...R],T.unshift(M)}const D=[...T,...C,...P],E=_(...D);return o.muiName&&(E.muiName=o.muiName),E};return _.withConfig&&(N.withConfig=_.withConfig),N}}function sue(n,e){let t;return t}function aue(n){for(const e in n)return!1;return!0}function oue(n){return typeof n=="string"&&n.charCodeAt(0)>96}function lue(n){return n&&n.charAt(0).toLowerCase()+n.slice(1)}function R8(n,e,t=!1){const i={...e};for(const r in n)if(Object.prototype.hasOwnProperty.call(n,r)){const s=r;if(s==="components"||s==="slots")i[s]={...n[s],...i[s]};else if(s==="componentsProps"||s==="slotProps"){const a=n[s],o=e[s];if(!o)i[s]=a||{};else if(!a)i[s]=o;else{i[s]={...o};for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c)){const d=c;i[s][d]=R8(a[d],o[d],t)}}}else s==="className"&&t&&e.className?i.className=zq(n==null?void 0:n.className,e==null?void 0:e.className):s==="style"&&t&&e.style?i.style={...n==null?void 0:n.style,...e==null?void 0:e.style}:i[s]===void 0&&(i[s]=n[s])}return i}function cue(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function LL(n,e=0,t=1){return cue(n,e,t)}function due(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(i=>i+i)),t?`rgb${t.length===4?"a":""}(${t.map((i,r)=>r<3?parseInt(i,16):Math.round(parseInt(i,16)/255*1e3)/1e3).join(", ")})`:""}function sm(n){if(n.type)return n;if(n.charAt(0)==="#")return sm(due(n));const e=n.indexOf("("),t=n.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(t))throw new Error(V1(9,n));let i=n.substring(e+1,n.length-1),r;if(t==="color"){if(i=i.split(" "),r=i.shift(),i.length===4&&i[3].charAt(0)==="/"&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(r))throw new Error(V1(10,r))}else i=i.split(",");return i=i.map(s=>parseFloat(s)),{type:t,values:i,colorSpace:r}}const uue=n=>{const e=sm(n);return e.values.slice(0,3).map((t,i)=>e.type.includes("hsl")&&i!==0?`${t}%`:t).join(" ")},Y2=(n,e)=>{try{return uue(n)}catch{return n}};function jT(n){const{type:e,colorSpace:t}=n;let{values:i}=n;return e.includes("rgb")?i=i.map((r,s)=>s<3?parseInt(r,10):r):e.includes("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),e.includes("color")?i=`${t} ${i.join(" ")}`:i=`${i.join(", ")}`,`${e}(${i})`}function cH(n){n=sm(n);const{values:e}=n,t=e[0],i=e[1]/100,r=e[2]/100,s=i*Math.min(r,1-r),a=(d,u=(d+t/30)%12)=>r-s*Math.max(Math.min(u-3,9-u,1),-1);let o="rgb";const c=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return n.type==="hsla"&&(o+="a",c.push(e[3])),jT({type:o,values:c})}function L8(n){n=sm(n);let e=n.type==="hsl"||n.type==="hsla"?sm(cH(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function hue(n,e){const t=L8(n),i=L8(e);return(Math.max(t,i)+.05)/(Math.min(t,i)+.05)}function dH(n,e){return n=sm(n),e=LL(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,jT(n)}function Nm(n,e,t){try{return dH(n,e)}catch{return n}}function WT(n,e){if(n=sm(n),e=LL(e),n.type.includes("hsl"))n.values[2]*=1-e;else if(n.type.includes("rgb")||n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]*=1-e;return jT(n)}function si(n,e,t){try{return WT(n,e)}catch{return n}}function $T(n,e){if(n=sm(n),e=LL(e),n.type.includes("hsl"))n.values[2]+=(100-n.values[2])*e;else if(n.type.includes("rgb"))for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.includes("color"))for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return jT(n)}function ai(n,e,t){try{return $T(n,e)}catch{return n}}function fue(n,e=.15){return L8(n)>.5?WT(n,e):$T(n,e)}function RN(n,e,t){try{return fue(n,e)}catch{return n}}const pue=ie.createContext(void 0);function mue(n){const{theme:e,name:t,props:i}=n;if(!e||!e.components||!e.components[t])return i;const r=e.components[t];return r.defaultProps?R8(r.defaultProps,i,e.components.mergeClassNameAndStyle):!r.styleOverrides&&!r.variants?R8(r,i,e.components.mergeClassNameAndStyle):i}function gue({props:n,name:e}){const t=ie.useContext(pue);return mue({props:n,name:e,theme:{components:t}})}const o9={theme:void 0};function yue(n){let e,t;return function(r){let s=e;return(s===void 0||r.theme!==t)&&(o9.theme=r.theme,s=oH(n(o9)),e=s,t=r.theme),s}}function vue(n=""){function e(...i){if(!i.length)return"";const r=i[0];return typeof r=="string"&&!r.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${n?`${n}-`:""}${r}${e(...i.slice(1))})`:`, ${r}`}return(i,...r)=>`var(--${n?`${n}-`:""}${i}${e(...r)})`}const l9=(n,e,t,i=[])=>{let r=n;e.forEach((s,a)=>{a===e.length-1?Array.isArray(r)?r[Number(s)]=t:r&&typeof r=="object"&&(r[s]=t):r&&typeof r=="object"&&(r[s]||(r[s]=i.includes(s)?[]:{}),r=r[s])})},bue=(n,e,t)=>{function i(r,s=[],a=[]){Object.entries(r).forEach(([o,c])=>{(!t||t&&!t([...s,o]))&&c!=null&&(typeof c=="object"&&Object.keys(c).length>0?i(c,[...s,o],Array.isArray(c)?[...a,o]:a):e([...s,o],c,a))})}i(n)},wue=(n,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(i=>n.includes(i))||n[n.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function b6(n,e){const{prefix:t,shouldSkipGeneratingVar:i}=e||{},r={},s={},a={};return bue(n,(o,c,d)=>{if((typeof c=="string"||typeof c=="number")&&(!i||!i(o,c))){const u=`--${t?`${t}-`:""}${o.join("-")}`,f=wue(o,c);Object.assign(r,{[u]:f}),l9(s,o,`var(${u})`,d),l9(a,o,`var(${u}, ${f})`,d)}},o=>o[0]==="vars"),{css:r,vars:s,varsWithDefaults:a}}function xue(n,e={}){const{getSelector:t=m,disableCssColorScheme:i,colorSchemeSelector:r,enableContrastVars:s}=e,{colorSchemes:a={},components:o,defaultColorScheme:c="light",...d}=n,{vars:u,css:f,varsWithDefaults:h}=b6(d,e);let p=h;const v={},{[c]:w,...b}=a;if(Object.entries(b||{}).forEach(([x,N])=>{const{vars:k,css:T,varsWithDefaults:C}=b6(N,e);p=gl(p,C),v[x]={css:T,vars:k}}),w){const{css:x,vars:N,varsWithDefaults:k}=b6(w,e);p=gl(p,k),v[c]={css:x,vars:N}}function m(x,N){var T,C;let k=r;if(r==="class"&&(k=".%s"),r==="data"&&(k="[data-%s]"),r!=null&&r.startsWith("data-")&&!r.includes("%s")&&(k=`[${r}="%s"]`),x){if(k==="media")return n.defaultColorScheme===x?":root":{[`@media (prefers-color-scheme: ${((C=(T=a[x])==null?void 0:T.palette)==null?void 0:C.mode)||x})`]:{":root":N}};if(k)return n.defaultColorScheme===x?`:root, ${k.replace("%s",String(x))}`:k.replace("%s",String(x))}return":root"}return{vars:p,generateThemeVars:()=>{let x={...u};return Object.entries(v).forEach(([,{vars:N}])=>{x=gl(x,N)}),x},generateStyleSheets:()=>{var P,D;const x=[],N=n.defaultColorScheme||"light";function k(E,A){Object.keys(A).length&&x.push(typeof E=="string"?{[E]:{...A}}:E)}k(t(void 0,{...f}),f);const{[N]:T,...C}=v;if(T){const{css:E}=T,A=(D=(P=a[N])==null?void 0:P.palette)==null?void 0:D.mode,I=!i&&A?{colorScheme:A,...E}:{...E};k(t(N,{...I}),I)}return Object.entries(C).forEach(([E,{css:A}])=>{var M,Y;const I=(Y=(M=a[E])==null?void 0:M.palette)==null?void 0:Y.mode,R=!i&&I?{colorScheme:I,...A}:{...A};k(t(E,{...R}),R)}),s&&x.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),x}}}function _ue(n){return function(t){return n==="media"?`@media (prefers-color-scheme: ${t})`:n?n.startsWith("data-")&&!n.includes("%s")?`[${n}="${t}"] &`:n==="class"?`.${t} &`:n==="data"?`[data-${t}] &`:`${n.replace("%s",t)} &`:"&"}}const Sue={black:"#000",white:"#fff"},fx=Sue,Nue={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Aue=Nue,kue={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},f0=kue,Eue={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},p0=Eue,Tue={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},C2=Tue,Cue={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},m0=Cue,Due={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},g0=Due,Pue={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},y0=Pue;function uH(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:fx.white,default:fx.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const hH=uH();function fH(){return{text:{primary:fx.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:fx.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const O8=fH();function c9(n,e,t,i){const r=i.light||i,s=i.dark||i*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=$T(n.main,r):e==="dark"&&(n.dark=WT(n.main,s)))}function d9(n,e,t,i,r){const s=r.light||r,a=r.dark||r*1.5;e[t]||(e.hasOwnProperty(i)?e[t]=e[i]:t==="light"?e.light=`color-mix(in ${n}, ${e.main}, #fff ${(s*100).toFixed(0)}%)`:t==="dark"&&(e.dark=`color-mix(in ${n}, ${e.main}, #000 ${(a*100).toFixed(0)}%)`))}function Iue(n="light"){return n==="dark"?{main:m0[200],light:m0[50],dark:m0[400]}:{main:m0[700],light:m0[400],dark:m0[800]}}function Rue(n="light"){return n==="dark"?{main:f0[200],light:f0[50],dark:f0[400]}:{main:f0[500],light:f0[300],dark:f0[700]}}function Lue(n="light"){return n==="dark"?{main:p0[500],light:p0[300],dark:p0[700]}:{main:p0[700],light:p0[400],dark:p0[800]}}function Oue(n="light"){return n==="dark"?{main:g0[400],light:g0[300],dark:g0[700]}:{main:g0[700],light:g0[500],dark:g0[900]}}function Fue(n="light"){return n==="dark"?{main:y0[400],light:y0[300],dark:y0[700]}:{main:y0[800],light:y0[500],dark:y0[900]}}function Uue(n="light"){return n==="dark"?{main:C2[400],light:C2[300],dark:C2[700]}:{main:"#ed6c02",light:C2[500],dark:C2[900]}}function Mue(n){return`oklch(from ${n} var(--__l) 0 h / var(--__a))`}function OL(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:i=.2,colorSpace:r,...s}=n,a=n.primary||Iue(e),o=n.secondary||Rue(e),c=n.error||Lue(e),d=n.info||Oue(e),u=n.success||Fue(e),f=n.warning||Uue(e);function h(b){return r?Mue(b):hue(b,O8.text.primary)>=t?O8.text.primary:hH.text.primary}const p=({color:b,name:m,mainShade:y=500,lightShade:_=300,darkShade:x=700})=>{if(b={...b},!b.main&&b[y]&&(b.main=b[y]),!b.hasOwnProperty("main"))throw new Error(V1(11,m?` (${m})`:"",y));if(typeof b.main!="string")throw new Error(V1(12,m?` (${m})`:"",JSON.stringify(b.main)));return r?(d9(r,b,"light",_,i),d9(r,b,"dark",x,i)):(c9(b,"light",_,i),c9(b,"dark",x,i)),b.contrastText||(b.contrastText=h(b.main)),b};let v;return e==="light"?v=uH():e==="dark"&&(v=fH()),gl({common:{...fx},mode:e,primary:p({color:a,name:"primary"}),secondary:p({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:c,name:"error"}),warning:p({color:f,name:"warning"}),info:p({color:d,name:"info"}),success:p({color:u,name:"success"}),grey:Aue,contrastThreshold:t,getContrastText:h,augmentColor:p,tonalOffset:i,...v},s)}function Bue(n){const e={};return Object.entries(n).forEach(i=>{const[r,s]=i;typeof s=="object"&&(e[r]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),e}function zue(n,e){return{toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}},...e}}function jue(n){return Math.round(n*1e5)/1e5}const u9={textTransform:"uppercase"},h9='"Roboto", "Helvetica", "Arial", sans-serif';function Wue(n,e){const{fontFamily:t=h9,fontSize:i=14,fontWeightLight:r=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:o=700,htmlFontSize:c=16,allVariants:d,pxToRem:u,...f}=typeof e=="function"?e(n):e,h=i/14,p=u||(b=>`${b/c*h}rem`),v=(b,m,y,_,x)=>({fontFamily:t,fontWeight:b,fontSize:p(m),lineHeight:y,...t===h9?{letterSpacing:`${jue(_/m)}em`}:{},...x,...d}),w={h1:v(r,96,1.167,-1.5),h2:v(r,60,1.2,-.5),h3:v(s,48,1.167,0),h4:v(s,34,1.235,.25),h5:v(s,24,1.334,0),h6:v(a,20,1.6,.15),subtitle1:v(s,16,1.75,.15),subtitle2:v(a,14,1.57,.1),body1:v(s,16,1.5,.15),body2:v(s,14,1.43,.15),button:v(a,14,1.75,.4,u9),caption:v(s,12,1.66,.4),overline:v(s,12,2.66,1,u9),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return gl({htmlFontSize:c,pxToRem:p,fontFamily:t,fontSize:i,fontWeightLight:r,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:o,...w},f,{clone:!1})}const $ue=.2,que=.14,Hue=.12;function Vi(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${$ue})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${que})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${Hue})`].join(",")}const Vue=["none",Vi(0,2,1,-1,0,1,1,0,0,1,3,0),Vi(0,3,1,-2,0,2,2,0,0,1,5,0),Vi(0,3,3,-2,0,3,4,0,0,1,8,0),Vi(0,2,4,-1,0,4,5,0,0,1,10,0),Vi(0,3,5,-1,0,5,8,0,0,1,14,0),Vi(0,3,5,-1,0,6,10,0,0,1,18,0),Vi(0,4,5,-2,0,7,10,1,0,2,16,1),Vi(0,5,5,-3,0,8,10,1,0,3,14,2),Vi(0,5,6,-3,0,9,12,1,0,3,16,2),Vi(0,6,6,-3,0,10,14,1,0,4,18,3),Vi(0,6,7,-4,0,11,15,1,0,4,20,3),Vi(0,7,8,-4,0,12,17,2,0,5,22,4),Vi(0,7,8,-4,0,13,19,2,0,5,24,4),Vi(0,7,9,-4,0,14,21,2,0,5,26,4),Vi(0,8,9,-5,0,15,22,2,0,6,28,5),Vi(0,8,10,-5,0,16,24,2,0,6,30,5),Vi(0,8,11,-5,0,17,26,2,0,6,32,5),Vi(0,9,11,-5,0,18,28,2,0,7,34,6),Vi(0,9,12,-6,0,19,29,2,0,7,36,6),Vi(0,10,13,-6,0,20,31,3,0,8,38,7),Vi(0,10,13,-6,0,21,33,3,0,8,40,7),Vi(0,10,14,-6,0,22,35,3,0,8,42,7),Vi(0,11,14,-7,0,23,36,3,0,9,44,8),Vi(0,11,15,-7,0,24,38,3,0,9,46,8)],Gue=Vue,Xue={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Yue={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function f9(n){return`${Math.round(n)}ms`}function Kue(n){if(!n)return 0;const e=n/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function Jue(n){const e={...Xue,...n.easing},t={...Yue,...n.duration};return{getAutoHeightDuration:Kue,create:(r=["all"],s={})=>{const{duration:a=t.standard,easing:o=e.easeInOut,delay:c=0,...d}=s;return(Array.isArray(r)?r:[r]).map(u=>`${u} ${typeof a=="string"?a:f9(a)} ${o} ${typeof c=="string"?c:f9(c)}`).join(",")},...n,easing:e,duration:t}}const Zue={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Que=Zue;function ehe(n){return Fh(n)||typeof n>"u"||typeof n=="string"||typeof n=="boolean"||typeof n=="number"||Array.isArray(n)}function pH(n={}){const e={...n};function t(i){const r=Object.entries(i);for(let s=0;s<r.length;s++){const[a,o]=r[s];!ehe(o)||a.startsWith("unstable_")?delete i[a]:Fh(o)&&(i[a]={...o},t(i[a]))}}return t(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function p9(n){return typeof n=="number"?`${(n*100).toFixed(0)}%`:`calc((${n}) * 100%)`}const the=n=>{if(!Number.isNaN(+n))return+n;const e=n.match(/\d*\.?\d+/g);if(!e)return 0;let t=0;for(let i=0;i<e.length;i+=1)t+=+e[i];return t};function nhe(n){Object.assign(n,{alpha(e,t){const i=this||n;return i.colorSpace?`oklch(from ${e} l c h / ${typeof t=="string"?`calc(${t})`:t})`:i.vars?`rgba(${e.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof t=="string"?`calc(${t})`:t})`:dH(e,the(t))},lighten(e,t){const i=this||n;return i.colorSpace?`color-mix(in ${i.colorSpace}, ${e}, #fff ${p9(t)})`:$T(e,t)},darken(e,t){const i=this||n;return i.colorSpace?`color-mix(in ${i.colorSpace}, ${e}, #000 ${p9(t)})`:WT(e,t)}})}function F8(n={},...e){const{breakpoints:t,mixins:i={},spacing:r,palette:s={},transitions:a={},typography:o={},shape:c,colorSpace:d,...u}=n;if(n.vars&&n.generateThemeVars===void 0)throw new Error(V1(20));const f=OL({...s,colorSpace:d}),h=sH(n);let p=gl(h,{mixins:zue(h.breakpoints,i),palette:f,shadows:Gue.slice(),typography:Wue(f,o),transitions:Jue(a),zIndex:{...Que}});return p=gl(p,u),p=e.reduce((v,w)=>gl(v,w),p),p.unstable_sxConfig={...UT,...u==null?void 0:u.unstable_sxConfig},p.unstable_sx=function(w){return cx({sx:w,theme:this})},p.toRuntimeSource=pH,nhe(p),p}function ihe(n){let e;return n<1?e=5.11916*n**2:e=4.5*Math.log(n+1)+2,Math.round(e*10)/1e3}const rhe=[...Array(25)].map((n,e)=>{if(e===0)return"none";const t=ihe(e);return`linear-gradient(rgba(255 255 255 / ${t}), rgba(255 255 255 / ${t}))`});function mH(n){return{inputPlaceholder:n==="dark"?.5:.42,inputUnderline:n==="dark"?.7:.42,switchTrackDisabled:n==="dark"?.2:.12,switchTrack:n==="dark"?.3:.38}}function gH(n){return n==="dark"?rhe:[]}function she(n){const{palette:e={mode:"light"},opacity:t,overlays:i,colorSpace:r,...s}=n,a=OL({...e,colorSpace:r});return{palette:a,opacity:{...mH(a.mode),...t},overlays:i||gH(a.mode),...s}}function ahe(n){var e;return!!n[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!n[0].match(/sxConfig$/)||n[0]==="palette"&&!!((e=n[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const ohe=n=>[...[...Array(25)].map((e,t)=>`--${n?`${n}-`:""}overlays-${t}`),`--${n?`${n}-`:""}palette-AppBar-darkBg`,`--${n?`${n}-`:""}palette-AppBar-darkColor`],lhe=ohe,che=n=>(e,t)=>{const i=n.rootSelector||":root",r=n.colorSchemeSelector;let s=r;if(r==="class"&&(s=".%s"),r==="data"&&(s="[data-%s]"),r!=null&&r.startsWith("data-")&&!r.includes("%s")&&(s=`[${r}="%s"]`),n.defaultColorScheme===e){if(e==="dark"){const a={};return lhe(n.cssVarPrefix).forEach(o=>{a[o]=t[o],delete t[o]}),s==="media"?{[i]:t,"@media (prefers-color-scheme: dark)":{[i]:a}}:s?{[s.replace("%s",e)]:a,[`${i}, ${s.replace("%s",e)}`]:t}:{[i]:{...t,...a}}}if(s&&s!=="media")return`${i}, ${s.replace("%s",String(e))}`}else if(e){if(s==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[i]:t}};if(s)return s.replace("%s",String(e))}return i};function dhe(n,e){e.forEach(t=>{n[t]||(n[t]={})})}function bt(n,e,t){!n[e]&&t&&(n[e]=t)}function K2(n){return typeof n!="string"||!n.startsWith("hsl")?n:cH(n)}function Mu(n,e){`${e}Channel`in n||(n[`${e}Channel`]=Y2(K2(n[e]),`MUI: Can't create \`palette.${e}Channel\` because \`palette.${e}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${e}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function uhe(n){return typeof n=="number"?`${n}px`:typeof n=="string"||typeof n=="function"||Array.isArray(n)?n:"8px"}const kd=n=>{try{return n()}catch{}},hhe=(n="mui")=>vue(n);function w6(n,e,t,i,r){if(!t)return;t=t===!0?{}:t;const s=r==="dark"?"dark":"light";if(!i){e[r]=she({...t,palette:{mode:s,...t==null?void 0:t.palette},colorSpace:n});return}const{palette:a,...o}=F8({...i,palette:{mode:s,...t==null?void 0:t.palette},colorSpace:n});return e[r]={...t,palette:a,opacity:{...mH(s),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||gH(s)},o}function fhe(n={},...e){const{colorSchemes:t={light:!0},defaultColorScheme:i,disableCssColorScheme:r=!1,cssVarPrefix:s="mui",nativeColor:a=!1,shouldSkipGeneratingVar:o=ahe,colorSchemeSelector:c=t.light&&t.dark?"media":void 0,rootSelector:d=":root",...u}=n,f=Object.keys(t)[0],h=i||(t.light&&f!=="light"?"light":f),p=hhe(s),{[h]:v,light:w,dark:b,...m}=t,y={...m};let _=v;if((h==="dark"&&!("dark"in t)||h==="light"&&!("light"in t))&&(_=!0),!_)throw new Error(V1(21,h));let x;a&&(x="oklch");const N=w6(x,y,_,u,h);w&&!y.light&&w6(x,y,w,void 0,"light"),b&&!y.dark&&w6(x,y,b,void 0,"dark");let k={defaultColorScheme:h,...N,cssVarPrefix:s,colorSchemeSelector:c,rootSelector:d,getCssVar:p,colorSchemes:y,font:{...Bue(N.typography),...N.font},spacing:uhe(u.spacing)};Object.keys(k.colorSchemes).forEach(E=>{const A=k.colorSchemes[E].palette,I=M=>{const Y=M.split("-"),q=Y[1],G=Y[2];return p(M,A[q][G])};A.mode==="light"&&(bt(A.common,"background","#fff"),bt(A.common,"onBackground","#000")),A.mode==="dark"&&(bt(A.common,"background","#000"),bt(A.common,"onBackground","#fff"));function R(M,Y,q){if(x){let G;return M===Nm&&(G=`transparent ${((1-q)*100).toFixed(0)}%`),M===si&&(G=`#000 ${(q*100).toFixed(0)}%`),M===ai&&(G=`#fff ${(q*100).toFixed(0)}%`),`color-mix(in ${x}, ${Y}, ${G})`}return M(Y,q)}if(dhe(A,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),A.mode==="light"){bt(A.Alert,"errorColor",R(si,A.error.light,.6)),bt(A.Alert,"infoColor",R(si,A.info.light,.6)),bt(A.Alert,"successColor",R(si,A.success.light,.6)),bt(A.Alert,"warningColor",R(si,A.warning.light,.6)),bt(A.Alert,"errorFilledBg",I("palette-error-main")),bt(A.Alert,"infoFilledBg",I("palette-info-main")),bt(A.Alert,"successFilledBg",I("palette-success-main")),bt(A.Alert,"warningFilledBg",I("palette-warning-main")),bt(A.Alert,"errorFilledColor",kd(()=>A.getContrastText(A.error.main))),bt(A.Alert,"infoFilledColor",kd(()=>A.getContrastText(A.info.main))),bt(A.Alert,"successFilledColor",kd(()=>A.getContrastText(A.success.main))),bt(A.Alert,"warningFilledColor",kd(()=>A.getContrastText(A.warning.main))),bt(A.Alert,"errorStandardBg",R(ai,A.error.light,.9)),bt(A.Alert,"infoStandardBg",R(ai,A.info.light,.9)),bt(A.Alert,"successStandardBg",R(ai,A.success.light,.9)),bt(A.Alert,"warningStandardBg",R(ai,A.warning.light,.9)),bt(A.Alert,"errorIconColor",I("palette-error-main")),bt(A.Alert,"infoIconColor",I("palette-info-main")),bt(A.Alert,"successIconColor",I("palette-success-main")),bt(A.Alert,"warningIconColor",I("palette-warning-main")),bt(A.AppBar,"defaultBg",I("palette-grey-100")),bt(A.Avatar,"defaultBg",I("palette-grey-400")),bt(A.Button,"inheritContainedBg",I("palette-grey-300")),bt(A.Button,"inheritContainedHoverBg",I("palette-grey-A100")),bt(A.Chip,"defaultBorder",I("palette-grey-400")),bt(A.Chip,"defaultAvatarColor",I("palette-grey-700")),bt(A.Chip,"defaultIconColor",I("palette-grey-700")),bt(A.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),bt(A.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),bt(A.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),bt(A.LinearProgress,"primaryBg",R(ai,A.primary.main,.62)),bt(A.LinearProgress,"secondaryBg",R(ai,A.secondary.main,.62)),bt(A.LinearProgress,"errorBg",R(ai,A.error.main,.62)),bt(A.LinearProgress,"infoBg",R(ai,A.info.main,.62)),bt(A.LinearProgress,"successBg",R(ai,A.success.main,.62)),bt(A.LinearProgress,"warningBg",R(ai,A.warning.main,.62)),bt(A.Skeleton,"bg",x?R(Nm,A.text.primary,.11):`rgba(${I("palette-text-primaryChannel")} / 0.11)`),bt(A.Slider,"primaryTrack",R(ai,A.primary.main,.62)),bt(A.Slider,"secondaryTrack",R(ai,A.secondary.main,.62)),bt(A.Slider,"errorTrack",R(ai,A.error.main,.62)),bt(A.Slider,"infoTrack",R(ai,A.info.main,.62)),bt(A.Slider,"successTrack",R(ai,A.success.main,.62)),bt(A.Slider,"warningTrack",R(ai,A.warning.main,.62));const M=x?R(si,A.background.default,.6825):RN(A.background.default,.8);bt(A.SnackbarContent,"bg",M),bt(A.SnackbarContent,"color",kd(()=>x?O8.text.primary:A.getContrastText(M))),bt(A.SpeedDialAction,"fabHoverBg",RN(A.background.paper,.15)),bt(A.StepConnector,"border",I("palette-grey-400")),bt(A.StepContent,"border",I("palette-grey-400")),bt(A.Switch,"defaultColor",I("palette-common-white")),bt(A.Switch,"defaultDisabledColor",I("palette-grey-100")),bt(A.Switch,"primaryDisabledColor",R(ai,A.primary.main,.62)),bt(A.Switch,"secondaryDisabledColor",R(ai,A.secondary.main,.62)),bt(A.Switch,"errorDisabledColor",R(ai,A.error.main,.62)),bt(A.Switch,"infoDisabledColor",R(ai,A.info.main,.62)),bt(A.Switch,"successDisabledColor",R(ai,A.success.main,.62)),bt(A.Switch,"warningDisabledColor",R(ai,A.warning.main,.62)),bt(A.TableCell,"border",R(ai,R(Nm,A.divider,1),.88)),bt(A.Tooltip,"bg",R(Nm,A.grey[700],.92))}if(A.mode==="dark"){bt(A.Alert,"errorColor",R(ai,A.error.light,.6)),bt(A.Alert,"infoColor",R(ai,A.info.light,.6)),bt(A.Alert,"successColor",R(ai,A.success.light,.6)),bt(A.Alert,"warningColor",R(ai,A.warning.light,.6)),bt(A.Alert,"errorFilledBg",I("palette-error-dark")),bt(A.Alert,"infoFilledBg",I("palette-info-dark")),bt(A.Alert,"successFilledBg",I("palette-success-dark")),bt(A.Alert,"warningFilledBg",I("palette-warning-dark")),bt(A.Alert,"errorFilledColor",kd(()=>A.getContrastText(A.error.dark))),bt(A.Alert,"infoFilledColor",kd(()=>A.getContrastText(A.info.dark))),bt(A.Alert,"successFilledColor",kd(()=>A.getContrastText(A.success.dark))),bt(A.Alert,"warningFilledColor",kd(()=>A.getContrastText(A.warning.dark))),bt(A.Alert,"errorStandardBg",R(si,A.error.light,.9)),bt(A.Alert,"infoStandardBg",R(si,A.info.light,.9)),bt(A.Alert,"successStandardBg",R(si,A.success.light,.9)),bt(A.Alert,"warningStandardBg",R(si,A.warning.light,.9)),bt(A.Alert,"errorIconColor",I("palette-error-main")),bt(A.Alert,"infoIconColor",I("palette-info-main")),bt(A.Alert,"successIconColor",I("palette-success-main")),bt(A.Alert,"warningIconColor",I("palette-warning-main")),bt(A.AppBar,"defaultBg",I("palette-grey-900")),bt(A.AppBar,"darkBg",I("palette-background-paper")),bt(A.AppBar,"darkColor",I("palette-text-primary")),bt(A.Avatar,"defaultBg",I("palette-grey-600")),bt(A.Button,"inheritContainedBg",I("palette-grey-800")),bt(A.Button,"inheritContainedHoverBg",I("palette-grey-700")),bt(A.Chip,"defaultBorder",I("palette-grey-700")),bt(A.Chip,"defaultAvatarColor",I("palette-grey-300")),bt(A.Chip,"defaultIconColor",I("palette-grey-300")),bt(A.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),bt(A.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),bt(A.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),bt(A.LinearProgress,"primaryBg",R(si,A.primary.main,.5)),bt(A.LinearProgress,"secondaryBg",R(si,A.secondary.main,.5)),bt(A.LinearProgress,"errorBg",R(si,A.error.main,.5)),bt(A.LinearProgress,"infoBg",R(si,A.info.main,.5)),bt(A.LinearProgress,"successBg",R(si,A.success.main,.5)),bt(A.LinearProgress,"warningBg",R(si,A.warning.main,.5)),bt(A.Skeleton,"bg",x?R(Nm,A.text.primary,.13):`rgba(${I("palette-text-primaryChannel")} / 0.13)`),bt(A.Slider,"primaryTrack",R(si,A.primary.main,.5)),bt(A.Slider,"secondaryTrack",R(si,A.secondary.main,.5)),bt(A.Slider,"errorTrack",R(si,A.error.main,.5)),bt(A.Slider,"infoTrack",R(si,A.info.main,.5)),bt(A.Slider,"successTrack",R(si,A.success.main,.5)),bt(A.Slider,"warningTrack",R(si,A.warning.main,.5));const M=x?R(ai,A.background.default,.985):RN(A.background.default,.98);bt(A.SnackbarContent,"bg",M),bt(A.SnackbarContent,"color",kd(()=>x?hH.text.primary:A.getContrastText(M))),bt(A.SpeedDialAction,"fabHoverBg",RN(A.background.paper,.15)),bt(A.StepConnector,"border",I("palette-grey-600")),bt(A.StepContent,"border",I("palette-grey-600")),bt(A.Switch,"defaultColor",I("palette-grey-300")),bt(A.Switch,"defaultDisabledColor",I("palette-grey-600")),bt(A.Switch,"primaryDisabledColor",R(si,A.primary.main,.55)),bt(A.Switch,"secondaryDisabledColor",R(si,A.secondary.main,.55)),bt(A.Switch,"errorDisabledColor",R(si,A.error.main,.55)),bt(A.Switch,"infoDisabledColor",R(si,A.info.main,.55)),bt(A.Switch,"successDisabledColor",R(si,A.success.main,.55)),bt(A.Switch,"warningDisabledColor",R(si,A.warning.main,.55)),bt(A.TableCell,"border",R(si,R(Nm,A.divider,1),.68)),bt(A.Tooltip,"bg",R(Nm,A.grey[700],.92))}Mu(A.background,"default"),Mu(A.background,"paper"),Mu(A.common,"background"),Mu(A.common,"onBackground"),Mu(A,"divider"),Object.keys(A).forEach(M=>{const Y=A[M];M!=="tonalOffset"&&Y&&typeof Y=="object"&&(Y.main&&bt(A[M],"mainChannel",Y2(K2(Y.main))),Y.light&&bt(A[M],"lightChannel",Y2(K2(Y.light))),Y.dark&&bt(A[M],"darkChannel",Y2(K2(Y.dark))),Y.contrastText&&bt(A[M],"contrastTextChannel",Y2(K2(Y.contrastText))),M==="text"&&(Mu(A[M],"primary"),Mu(A[M],"secondary")),M==="action"&&(Y.active&&Mu(A[M],"active"),Y.selected&&Mu(A[M],"selected")))})}),k=e.reduce((E,A)=>gl(E,A),k);const T={prefix:s,disableCssColorScheme:r,shouldSkipGeneratingVar:o,getSelector:che(k),enableContrastVars:a},{vars:C,generateThemeVars:P,generateStyleSheets:D}=xue(k,T);return k.vars=C,Object.entries(k.colorSchemes[k.defaultColorScheme]).forEach(([E,A])=>{k[E]=A}),k.generateThemeVars=P,k.generateStyleSheets=D,k.generateSpacing=function(){return rH(u.spacing,CL(this))},k.getColorSchemeSelector=_ue(c),k.spacing=k.generateSpacing(),k.shouldSkipGeneratingVar=o,k.unstable_sxConfig={...UT,...u==null?void 0:u.unstable_sxConfig},k.unstable_sx=function(A){return cx({sx:A,theme:this})},k.toRuntimeSource=pH,k}function m9(n,e,t){n.colorSchemes&&t&&(n.colorSchemes[e]={...t!==!0&&t,palette:OL({...t===!0?{}:t.palette,mode:e})})}function phe(n={},...e){const{palette:t,cssVariables:i=!1,colorSchemes:r=t?void 0:{light:!0},defaultColorScheme:s=t==null?void 0:t.mode,...a}=n,o=s||"light",c=r==null?void 0:r[o],d={...r,...t?{[o]:{...typeof c!="boolean"&&c,palette:t}}:void 0};if(i===!1){if(!("colorSchemes"in n))return F8(n,...e);let u=t;"palette"in n||d[o]&&(d[o]!==!0?u=d[o].palette:o==="dark"&&(u={mode:"dark"}));const f=F8({...n,palette:u},...e);return f.defaultColorScheme=o,f.colorSchemes=d,f.palette.mode==="light"&&(f.colorSchemes.light={...d.light!==!0&&d.light,palette:f.palette},m9(f,"dark",d.dark)),f.palette.mode==="dark"&&(f.colorSchemes.dark={...d.dark!==!0&&d.dark,palette:f.palette},m9(f,"light",d.light)),f}return!t&&!("light"in d)&&o==="light"&&(d.light=!0),fhe({...a,colorSchemes:d,defaultColorScheme:o,...typeof i!="boolean"&&i},...e)}const mhe=phe(),ghe=mhe,yhe="$$material";function vhe(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const bhe=n=>vhe(n)&&n!=="classes",whe=bhe,xhe=rue({themeId:yhe,defaultTheme:ghe,rootShouldForwardProp:whe}),_he=xhe,She=yue,Nhe=She;function Ahe(n){return gue(n)}function khe(n){return aH("MuiSvgIcon",n)}eue("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Ehe=n=>{const{color:e,fontSize:t,classes:i}=n,r={root:["root",e!=="inherit"&&`color${Pb(e)}`,`fontSize${Pb(t)}`]};return Qle(r,khe,i)},The=_he("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${Pb(t.color)}`],e[`fontSize${Pb(t.fontSize)}`]]}})(Nhe(({theme:n})=>{var e,t,i,r,s,a,o,c,d,u,f,h,p,v;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(r=(e=n.transitions)==null?void 0:e.create)==null?void 0:r.call(e,"fill",{duration:(i=(t=(n.vars??n).transitions)==null?void 0:t.duration)==null?void 0:i.shorter}),variants:[{props:w=>!w.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((a=(s=n.typography)==null?void 0:s.pxToRem)==null?void 0:a.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((c=(o=n.typography)==null?void 0:o.pxToRem)==null?void 0:c.call(o,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((u=(d=n.typography)==null?void 0:d.pxToRem)==null?void 0:u.call(d,35))||"2.1875rem"}},...Object.entries((n.vars??n).palette).filter(([,w])=>w&&w.main).map(([w])=>{var b,m;return{props:{color:w},style:{color:(m=(b=(n.vars??n).palette)==null?void 0:b[w])==null?void 0:m.main}}}),{props:{color:"action"},style:{color:(h=(f=(n.vars??n).palette)==null?void 0:f.action)==null?void 0:h.active}},{props:{color:"disabled"},style:{color:(v=(p=(n.vars??n).palette)==null?void 0:p.action)==null?void 0:v.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),yH=ie.forwardRef(function(e,t){const i=Ahe({props:e,name:"MuiSvgIcon"}),{children:r,className:s,color:a="inherit",component:o="svg",fontSize:c="medium",htmlColor:d,inheritViewBox:u=!1,titleAccess:f,viewBox:h="0 0 24 24",...p}=i,v=ie.isValidElement(r)&&r.type==="svg",w={...i,color:a,component:o,fontSize:c,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:v},b={};u||(b.viewBox=h);const m=Ehe(w);return g(The,{as:o,className:zq(m.root,s),focusable:"false",color:d,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:t,...b,...p,...v&&r.props,ownerState:w,children:[v?r.props.children:r,f?l("title",{children:f}):null]})});yH.muiName="SvgIcon";const g9=yH;function of(n,e){function t(i,r){return l(g9,{"data-testid":void 0,ref:r,...i,children:n})}return t.muiName=g9.muiName,ie.memo(ie.forwardRef(t))}const Che=of(l("path",{d:"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 9c-2.67 0-8 1.34-8 4v2c0 .55.45 1 1 1h14c.55 0 1-.45 1-1v-2c0-2.66-5.33-4-8-4"})),Dhe=of(l("path",{d:"M3 18c0 .55.45 1 1 1h5v-2H4c-.55 0-1 .45-1 1M3 6c0 .55.45 1 1 1h9V5H4c-.55 0-1 .45-1 1m10 14v-1h7c.55 0 1-.45 1-1s-.45-1-1-1h-7v-1c0-.55-.45-1-1-1s-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1M7 10v1H4c-.55 0-1 .45-1 1s.45 1 1 1h3v1c0 .55.45 1 1 1s1-.45 1-1v-4c0-.55-.45-1-1-1s-1 .45-1 1m14 2c0-.55-.45-1-1-1h-9v2h9c.55 0 1-.45 1-1m-5-3c.55 0 1-.45 1-1V7h3c.55 0 1-.45 1-1s-.45-1-1-1h-3V4c0-.55-.45-1-1-1s-1 .45-1 1v4c0 .55.45 1 1 1"})),Phe=of(l("path",{d:"M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10c1.38 0 2.5-1.12 2.5-2.5 0-.61-.23-1.2-.64-1.67-.08-.1-.13-.21-.13-.33 0-.28.22-.5.5-.5H16c3.31 0 6-2.69 6-6 0-4.96-4.49-9-10-9m5.5 11c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m-3-4c-.83 0-1.5-.67-1.5-1.5S13.67 6 14.5 6s1.5.67 1.5 1.5S15.33 9 14.5 9M5 11.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5S7.33 13 6.5 13 5 12.33 5 11.5m6-4c0 .83-.67 1.5-1.5 1.5S8 8.33 8 7.5 8.67 6 9.5 6s1.5.67 1.5 1.5"})),Ihe=of(l("path",{d:"M19.5 12c0-.23-.01-.45-.03-.68l1.86-1.41c.4-.3.51-.86.26-1.3l-1.87-3.23c-.25-.44-.79-.62-1.25-.42l-2.15.91c-.37-.26-.76-.49-1.17-.68l-.29-2.31c-.06-.5-.49-.88-.99-.88h-3.73c-.51 0-.94.38-1 .88l-.29 2.31c-.41.19-.8.42-1.17.68l-2.15-.91c-.46-.2-1-.02-1.25.42L2.41 8.62c-.25.44-.14.99.26 1.3l1.86 1.41c-.02.22-.03.44-.03.67s.01.45.03.68l-1.86 1.41c-.4.3-.51.86-.26 1.3l1.87 3.23c.25.44.79.62 1.25.42l2.15-.91c.37.26.76.49 1.17.68l.29 2.31c.06.5.49.88.99.88h3.73c.5 0 .93-.38.99-.88l.29-2.31c.41-.19.8-.42 1.17-.68l2.15.91c.46.2 1 .02 1.25-.42l1.87-3.23c.25-.44.14-.99-.26-1.3l-1.86-1.41c.03-.23.04-.45.04-.68m-7.46 3.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5"})),Rhe=of(l("path",{d:"M19.29 17.29 18 16v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-1.29 1.29c-.63.63-.19 1.71.7 1.71h13.17c.9 0 1.34-1.08.71-1.71M16 17H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5zm-4 5c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2"})),y9=of(l("path",{d:"M14.07 5.32C16.26 6 18 7.74 18.68 9.93c.19.63.76 1.07 1.41 1.07h.04c1 0 1.72-.96 1.43-1.91-.97-3.18-3.48-5.69-6.66-6.66-.94-.29-1.9.43-1.9 1.43v.04c0 .66.44 1.23 1.07 1.42m4.61 8.75c-.68 2.2-2.42 3.93-4.61 4.61-.63.19-1.07.76-1.07 1.41v.04c0 1 .96 1.72 1.91 1.43 3.18-.97 5.69-3.48 6.66-6.66.29-.95-.43-1.91-1.42-1.91h-.05c-.66.01-1.23.45-1.42 1.08M11 20.11c0-.67-.45-1.24-1.09-1.44C7.07 17.78 5 15.13 5 12s2.07-5.78 4.91-6.67c.64-.2 1.09-.77 1.09-1.44v-.01c0-1-.97-1.74-1.93-1.44C4.98 3.69 2 7.5 2 12s2.98 8.31 7.07 9.56c.96.3 1.93-.44 1.93-1.45"})),Lhe=of(l("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m-1-4h2v2h-2zm1.61-9.96c-2.06-.3-3.88.97-4.43 2.79-.18.58.26 1.17.87 1.17h.2c.41 0 .74-.29.88-.67.32-.89 1.27-1.5 2.3-1.28.95.2 1.65 1.13 1.57 2.1-.1 1.34-1.62 1.63-2.45 2.88 0 .01-.01.01-.01.02-.01.02-.02.03-.03.05-.09.15-.18.32-.25.5-.01.03-.03.05-.04.08-.01.02-.01.04-.02.07-.12.34-.2.75-.2 1.25h2c0-.42.11-.77.28-1.07.02-.03.03-.06.05-.09.08-.14.18-.27.28-.39.01-.01.02-.03.03-.04.1-.12.21-.23.33-.34.96-.91 2.26-1.65 1.99-3.56-.24-1.74-1.61-3.21-3.35-3.47"})),Ohe=of([l("path",{d:"M5 5h6c.55 0 1-.45 1-1s-.45-1-1-1H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h6c.55 0 1-.45 1-1s-.45-1-1-1H5z"},"0"),l("path",{d:"m20.65 11.65-2.79-2.79c-.32-.32-.86-.1-.86.35V11h-7c-.55 0-1 .45-1 1s.45 1 1 1h7v1.79c0 .45.54.67.85.35l2.79-2.79c.2-.19.2-.51.01-.7"},"1")]),Fhe=of(l("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"})),Uhe=[{key:"dashboard",label:"Dashboard",Icon:y9},{key:"profile",label:"My Profile",Icon:Che},{key:"preferences",label:"Preferences",Icon:Dhe},{key:"theme",label:"Theme",Icon:Phe},{key:"settings",label:"Settings",Icon:Ihe,accent:!0},{key:"notifications",label:"Notifications",Icon:Rhe},{key:"status",label:"Status",Icon:y9},{key:"help",label:"Help",Icon:Lhe},{key:"logout",label:"Logout",Icon:Ohe,danger:!0}],v9=({user:n,onLogout:e,onMyProfile:t,onSettings:i,onNotifications:r,onEditProfile:s,onDashboard:a})=>{const[o,c]=ie.useState(!1),[d,u]=ie.useState("settings"),[f,h]=ie.useState((n==null?void 0:n.status)||"Online"),[p,v]=ie.useState(!1),w=ie.useRef(null),b=ie.useRef(null),m=(n==null?void 0:n.name)||`${(n==null?void 0:n.firstName)??""} ${(n==null?void 0:n.lastName)??""}`.trim()||"User",y=(n==null?void 0:n.email)||"",_=(n==null?void 0:n.avatarUrl)||"",x=XI.useMemo(()=>{if(!m)return"U";const C=m.trim().split(" ");return C.length===1?C[0][0].toUpperCase():(C[0][0]+C[1][0]).toUpperCase()},[m]);ie.useEffect(()=>{const C=()=>{v(window.innerWidth<768)};return C(),window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]),ie.useEffect(()=>{if(!o)return;const C=P=>{b.current&&!b.current.contains(P.target)&&w.current&&!w.current.contains(P.target)&&c(!1)};return document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[o]),ie.useEffect(()=>{const C=P=>{var D;P.target.tagName==="INPUT"||P.target.tagName==="TEXTAREA"||(P.key==="Escape"&&o&&(c(!1),(D=w.current)==null||D.focus()),P.key.toLowerCase()==="p"&&(P.preventDefault(),c(E=>!E)))};return document.addEventListener("keydown",C),()=>{document.removeEventListener("keydown",C)}},[o]);const k={root:{position:"relative",fontFamily:'"Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif'},trigger:{display:"inline-flex",alignItems:"center",gap:p?6:8,padding:p?"4px 8px 4px 4px":"4px 10px 4px 4px",borderRadius:999,border:"1px solid rgba(148,163,184,0.55)",background:"#ffffff",cursor:"pointer",minWidth:0,boxShadow:o?"0 10px 30px rgba(15,23,42,0.18)":"0 4px 16px rgba(15,23,42,0.10)",transition:"border-color 120ms ease, box-shadow 120ms ease, transform 80ms ease"},triggerHover:{borderColor:"rgba(74,222,128,0.8)",transform:"translateY(-1px)"},avatarWrap:{position:"relative",width:p?28:32,height:p?28:32,borderRadius:999,overflow:"hidden",background:"radial-gradient(circle at 0 0, #22c55e, #16a34a 40%, #166534 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#ecfdf3",fontWeight:600,fontSize:p?11:13,flexShrink:0},avatarImg:{width:"100%",height:"100%",objectFit:"cover"},statusDot:{position:"absolute",right:-1,bottom:-1,width:p?8:10,height:p?8:10,borderRadius:999,border:"2px solid #f9fafb",backgroundColor:f==="Online"?"#22c55e":"#9ca3af"},triggerText:{display:p?"none":"flex",flexDirection:"column",alignItems:"flex-start",maxWidth:170,lineHeight:1.1},triggerName:{fontSize:13,fontWeight:600,color:"#020617",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},triggerEmail:{marginTop:1,fontSize:11,color:"#6b7280",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},caret:{marginLeft:p?2:4,fontSize:12,color:"#9ca3af",transform:o?"rotate(-180deg)":"rotate(0deg)",transition:"transform 150ms ease",display:p?"none":"block"},menu:{position:p?"fixed":"absolute",right:p?"50%":0,top:p?"50%":"auto",transform:p?`translate(50%, -50%) scale(${o?1:.97})`:`scale(${o?1:.97})`,marginTop:p?0:10,minWidth:p?"90vw":320,maxWidth:p?"400px":"auto",background:"#ffffff",borderRadius:p?20:28,boxShadow:"0 32px 80px rgba(15,23,42,0.35), 0 0 0 1px rgba(209,213,219,0.5)",padding:p?14:18,zIndex:60,transformOrigin:p?"center":"top right",opacity:o?1:0,pointerEvents:o?"auto":"none",transition:"opacity 120ms ease, transform 120ms cubic-bezier(0.16, 1, 0.3, 1)",maxHeight:p?"85vh":"auto",overflowY:p?"auto":"visible"},header:{display:"flex",alignItems:"center",gap:12,marginBottom:16},headerAvatar:{position:"relative",width:p?36:40,height:p?36:40,borderRadius:999,overflow:"hidden",background:"radial-gradient(circle at 0 0, #22c55e, #16a34a 40%, #166534 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#ecfdf3",fontWeight:600,fontSize:p?14:16,flexShrink:0},headerText:{flex:1,minWidth:0},headerName:{fontSize:p?13:14,fontWeight:600,color:"#020617"},headerEmail:{marginTop:2,fontSize:p?11:12,color:"#6b7280",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},headerRightIcon:{fontSize:18,color:"#cbd5e1"},subtleDivider:{height:1,width:"100%",margin:"6px 0 10px",background:"linear-gradient(90deg, transparent, rgba(226,232,240,1), transparent)"},list:{display:"flex",flexDirection:"column",gap:4},row:(C,P,D)=>({display:"flex",alignItems:"center",gap:10,borderRadius:14,padding:p?"10px":"8px 10px",cursor:"pointer",background:P?"rgba(187,247,208,0.9)":"transparent",color:D?"#b91c1c":"#111827",transition:"background 120ms ease, transform 80ms ease",minHeight:p?44:"auto"}),rowHoverBg:"rgba(240,253,244,0.9)",iconWrap:(C,P)=>({width:p?32:26,height:p?32:26,borderRadius:999,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,background:P?"#16a34a":C?"rgba(22,163,74,0.08)":"transparent",color:P?"#f0fdf4":"#111827"}),labelCol:{flex:1,minWidth:0,display:"flex",flexDirection:"column"},label:{fontSize:p?14:13,fontWeight:500},subLabel:{fontSize:p?12:11,color:"#9ca3af",marginTop:1},rightHint:{fontSize:10,color:"#9ca3af"},footerNote:{marginTop:12,fontSize:10,color:"#9ca3af",textAlign:"left"}},T=C=>{if(u(C),C==="dashboard")a&&a();else if(C==="profile")t&&t();else if(C==="preferences")s&&s();else if(C==="settings")i&&i();else if(C==="notifications")r&&r();else if(C==="logout")e&&e();else if(C==="status"){h(P=>P==="Online"?"Away":"Online");return}C!=="status"&&c(!1)};return g("div",{style:k.root,children:[g("button",{ref:w,style:k.trigger,onClick:()=>c(!o),onMouseEnter:C=>Object.assign(C.currentTarget.style,k.triggerHover),onMouseLeave:C=>{C.currentTarget.style.borderColor="rgba(148,163,184,0.55)",C.currentTarget.style.transform="translateY(0)"},"aria-label":"User menu","aria-expanded":o,children:[g("div",{style:k.avatarWrap,children:[_?l("img",{src:_,alt:m,style:k.avatarImg}):l("span",{children:x}),l("div",{style:k.statusDot})]}),g("div",{style:k.triggerText,children:[l("div",{style:k.triggerName,children:m}),l("div",{style:k.triggerEmail,children:y})]}),l("span",{style:k.caret,children:""})]}),g("div",{ref:b,style:k.menu,children:[g("div",{style:k.header,children:[g("div",{style:k.headerAvatar,children:[_?l("img",{src:_,alt:m,style:k.avatarImg}):l("span",{children:x}),l("div",{style:k.statusDot})]}),g("div",{style:k.headerText,children:[l("div",{style:k.headerName,children:m}),l("div",{style:k.headerEmail,children:y})]}),l(Fhe,{style:k.headerRightIcon})]}),l("div",{style:k.subtleDivider}),l("div",{style:k.list,children:Uhe.map(({key:C,label:P,Icon:D,accent:E,danger:A})=>{const I=C===d;return g("div",{style:k.row(E,I,A),onClick:()=>T(C),onMouseEnter:R=>{!I&&!A&&(R.currentTarget.style.background=k.rowHoverBg)},onMouseLeave:R=>{I||(R.currentTarget.style.background="transparent")},role:"button",tabIndex:0,onKeyDown:R=>{(R.key==="Enter"||R.key===" ")&&(R.preventDefault(),T(C))},children:[l("div",{style:k.iconWrap(E,I),children:l(D,{style:{fontSize:p?20:18}})}),g("div",{style:k.labelCol,children:[l("div",{style:k.label,children:P}),C==="status"&&l("div",{style:k.subLabel,children:f})]}),C==="profile"&&l("span",{style:k.rightHint,children:"P"})]},C)})}),g("div",{style:k.footerNote,children:["Press ",l("strong",{children:"ESC"})," to close  ",l("strong",{children:"P"})," to toggle"]})]})]})},Mhe=()=>{const[n,e]=ie.useState(!1),[t,i]=ie.useState(!1),[r,s]=ie.useState(!0),[a,o]=ie.useState(0),c=pm(),d=or(),{isAuthenticated:u,user:f,logout:h}=hs(),p=[{path:"/",label:"Home"},{path:"/news",label:"Newsroom"},{path:"/networking-arena",label:"Networking Arena"},{path:"/jobs",label:"Job Portal"},{path:"/forum",label:"Discussion Forum"},{path:"/learning",label:"Learning Centre"},{path:"/publishing",label:"Publishing House"}],v=()=>f?f.firstName&&f.lastName?`${f.firstName[0]}${f.lastName[0]}`.toUpperCase():f.displayName?f.displayName.trim().split(" ").slice(0,2).map(N=>N[0].toUpperCase()).join(""):f.email?f.email[0].toUpperCase():"U":"U",w=()=>f?f.firstName&&f.lastName?`${f.firstName} ${f.lastName}`:f.displayName?f.displayName:f.email?f.email.split("@")[0]:"User":"";v(),w();const b=x=>x==="/"?c.pathname==="/":c.pathname.startsWith(x);ie.useEffect(()=>{const x=()=>{const N=window.scrollY;i(N>10),N>a&&N>120?s(!1):s(!0),o(N)};return window.addEventListener("scroll",x,{passive:!0}),()=>window.removeEventListener("scroll",x)},[a]),ie.useEffect(()=>(document.body.style.overflow=n?"hidden":"",()=>{document.body.style.overflow=""}),[n]);const m=async()=>{await h(),e(!1),d("/login")},y={navbar:{position:"fixed",top:0,left:0,right:0,zIndex:50,transform:`translateY(${r?"0":"-100%"})`,transition:"transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), background 0.25s ease, box-shadow 0.25s ease"},navbarInner:{background:t?"rgba(248,250,252,0.98)":"rgba(248,250,252,0.95)",backdropFilter:"blur(18px)",WebkitBackdropFilter:"blur(18px)",borderBottom:"1px solid rgba(148,163,184,0.28)",boxShadow:t?"0 16px 35px rgba(15,23,42,0.18)":"0 6px 18px rgba(15,23,42,0.1)"},navContainer:{maxWidth:"1280px",margin:"0 auto",padding:"0 clamp(0.75rem, 3vw, 1.5rem)"},navRow:{display:"flex",alignItems:"center",justifyContent:"flex-start",gap:"1.5rem",height:"70px",width:"100%"},logoLink:{display:"flex",alignItems:"center",gap:"0.75rem",textDecoration:"none",cursor:"pointer",flexShrink:0},logoBadge:{width:"50px",height:"50px",borderRadius:"8px",background:"transparent",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",flexShrink:0},logoImg:{width:"100%",height:"100%",objectFit:"contain"},logoTextGroup:{display:"flex",flexDirection:"column",gap:"2px"},logoTitle:{fontSize:"1rem",fontWeight:700,letterSpacing:"0.01em",background:"linear-gradient(120deg, #4b5563, #111827)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",whiteSpace:"nowrap"},logoSubtitle:{fontSize:"0.625rem",fontWeight:600,letterSpacing:"0.15em",textTransform:"uppercase",color:"#6b7280",whiteSpace:"nowrap"},navLinksDesktop:{display:"flex",flex:1,justifyContent:"center",marginLeft:"2rem",marginRight:"2rem"},navList:{display:"flex",alignItems:"center",gap:"0.25rem",padding:"0.35rem",borderRadius:"999px",background:"rgba(255,255,255,0.95)",border:"1px solid rgba(148,163,184,0.3)",listStyle:"none",margin:0,boxShadow:"0 2px 8px rgba(15,23,42,0.08)"},navLink:x=>({position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"center",padding:"0.5rem 1rem",borderRadius:"999px",fontSize:"0.8125rem",fontWeight:600,letterSpacing:"0.01em",color:x?"#0f172a":"#4b5563",textDecoration:"none",overflow:"hidden",background:x?"#ffffff":"transparent",boxShadow:x?"0 4px 12px rgba(15,23,42,0.15)":"none",transition:"all 0.2s ease",whiteSpace:"nowrap",pointerEvents:"auto",cursor:"pointer"}),navRight:{display:"flex",alignItems:"center",gap:"0.75rem",flexShrink:0,marginLeft:"auto"},authBtn:{borderRadius:"999px",padding:"0.5rem 1.25rem",fontSize:"0.8125rem",fontWeight:600,border:"1px solid transparent",cursor:"pointer",textDecoration:"none",display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",transition:"all 0.2s ease",whiteSpace:"nowrap"},authGhost:{background:"transparent",color:"#4b5563",borderColor:"rgba(148,163,184,0.7)"},authPrimary:{background:"linear-gradient(135deg, #0f172a, #4b5563)",color:"#ffffff",boxShadow:"0 8px 20px rgba(15,23,42,0.55)"},avatar:{width:"clamp(28px, 6vw, 32px)",height:"clamp(28px, 6vw, 32px)",borderRadius:"999px",background:"linear-gradient(135deg, #4b5563, #020617)",display:"flex",alignItems:"center",justifyContent:"center",color:"#ffffff",fontSize:"clamp(0.7rem, 1.4vw, 0.8rem)",fontWeight:700},hamburger:{display:"none",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"40px",height:"40px",background:"rgba(255,255,255,0.95)",border:"1px solid rgba(148,163,184,0.4)",borderRadius:"10px",cursor:"pointer",gap:"5px",padding:0,transition:"all 0.2s ease",flexShrink:0},hamburgerLine:{width:"22px",height:"2.5px",background:"#4b5563",borderRadius:"2px",transition:"all 0.3s ease"},overlay:{position:"fixed",inset:0,background:"rgba(15,23,42,0.45)",backdropFilter:"blur(3px)",zIndex:30},mobileSheet:{position:"fixed",top:"clamp(56px, 12vw, 72px)",left:0,right:0,bottom:0,background:"linear-gradient(135deg, #f8fafc, #e5e7eb)",transform:`translateX(${n?"0":"100%"})`,transition:"transform 0.28s cubic-bezier(0.4, 0, 0.2, 1)",zIndex:40,overflowY:"auto"},mobileInner:{maxWidth:"100%",width:"100%",height:"100%",background:"rgba(255,255,255,0.97)",padding:"clamp(1rem, 3vw, 1.25rem)"},mobileNavList:{listStyle:"none",display:"flex",flexDirection:"column",gap:"clamp(0.5rem, 1.5vw, 0.6rem)",marginTop:"0.75rem"},mobileNavLink:x=>({display:"flex",alignItems:"center",gap:"0.65rem",padding:"clamp(0.5rem, 2vw, 0.65rem) clamp(0.7rem, 2.5vw, 0.9rem)",borderRadius:"0.85rem",textDecoration:"none",fontSize:"clamp(0.8rem, 2vw, 0.86rem)",fontWeight:600,color:x?"#0f172a":"#4b5563",background:"rgba(248,250,252,0.97)",border:x?"1px solid rgba(15,23,42,0.4)":"1px solid transparent",boxShadow:x?"0 6px 18px rgba(15,23,42,0.45)":"none",transition:"all 0.18s ease",pointerEvents:"auto",cursor:"pointer"}),mobileFooter:{marginTop:"1.4rem",borderTop:"1px solid rgba(226,232,240,0.9)",paddingTop:"1rem",display:"flex",flexDirection:"column",gap:"0.6rem"},mobileAuthBtn:{width:"100%",borderRadius:"0.9rem",padding:"clamp(0.5rem, 2vw, 0.65rem) 0.9rem",fontSize:"clamp(0.8rem, 2vw, 0.86rem)",fontWeight:600,border:"1px solid transparent",textAlign:"center",textDecoration:"none",transition:"all 0.2s ease"}};return g(Ft,{children:[l("style",{children:`
    @media (min-width: 1200px) {
      .nav-links-desktop {
        display: flex !important;
      }
      .hamburger-btn {
        display: none !important;
      }
      .mobile-only-auth {
        display: none !important;
      }
    }
    
    @media (max-width: 1199px) {
      .nav-links-desktop {
        display: none !important;
      }
      .hamburger-btn {
        display: flex !important;
      }
      .desktop-only-auth {
        display: none !important;
      }
    }
    
    @media (max-width: 768px) {
      .logo-subtitle {
        display: none !important;
      }
    }
    
    @media (max-width: 640px) {
      .logo-text-group {
        display: none !important;
      }
    }
  `}),n&&l("div",{style:y.overlay,onClick:()=>e(!1)}),l("nav",{style:y.navbar,children:l("div",{style:y.navbarInner,children:l("div",{style:y.navContainer,children:g("div",{style:y.navRow,children:[g(Cn,{to:"/",style:y.logoLink,children:[l("div",{style:y.logoBadge,children:l("img",{src:Yle.logo,alt:"Logo",style:y.logoImg,onError:x=>{x.target.style.display="none"}})}),g("div",{style:y.logoTextGroup,className:"logo-text-group",children:[l("div",{style:y.logoTitle,children:"Planning Insights"}),l("div",{style:y.logoSubtitle,children:"Professional Network"})]})]}),l("div",{className:"nav-links-desktop",children:l("ul",{style:y.navList,children:p.map(x=>l("li",{children:l(Cn,{to:x.path,style:y.navLink(b(x.path)),onClick:()=>e(!1),children:x.label})},x.path))})}),g("div",{style:y.navRight,children:[u?l(Ft,{children:l("div",{className:"desktop-only-auth",children:l(v9,{user:f,onLogout:m,onDashboard:()=>d("/dashboard"),onMyProfile:()=>d("/profile"),onSettings:()=>d("/settings"),onNotifications:()=>d("/notifications"),onEditProfile:()=>d("/profile/edit")})})}):g("div",{style:{display:"flex",gap:"0.5rem"},className:"desktop-only-auth",children:[l(Cn,{to:"/login",style:{...y.authBtn,...y.authGhost},children:"Login"}),l(Cn,{to:"/signup",style:{...y.authBtn,...y.authPrimary},children:"Sign Up"})]}),g("button",{style:y.hamburger,className:"hamburger-btn",onClick:()=>e(!n),"aria-label":"Toggle menu",children:[l("span",{style:{...y.hamburgerLine,transform:n?"rotate(45deg) translateY(6px)":"none"}}),l("span",{style:{...y.hamburgerLine,opacity:n?0:1}}),l("span",{style:{...y.hamburgerLine,transform:n?"rotate(-45deg) translateY(-6px)":"none"}})]})]})]})})})}),l("div",{style:y.mobileSheet,children:g("div",{style:y.mobileInner,children:[l("ul",{style:y.mobileNavList,children:p.map(x=>l("li",{children:l(Cn,{to:x.path,style:y.mobileNavLink(b(x.path)),onClick:()=>e(!1),children:x.label})},x.path))}),u?l("div",{style:y.mobileFooter,className:"mobile-only-auth",children:l("div",{style:{padding:"0.5rem 0"},children:l(v9,{user:f,onLogout:m,onDashboard:()=>{d("/dashboard"),e(!1)},onMyProfile:()=>{d("/profile"),e(!1)},onSettings:()=>{d("/settings"),e(!1)},onNotifications:()=>{d("/notifications"),e(!1)},onEditProfile:()=>{d("/profile/edit"),e(!1)}})})}):g("div",{style:y.mobileFooter,className:"mobile-only-auth",children:[l(Cn,{to:"/login",style:{...y.mobileAuthBtn,...y.authGhost},onClick:()=>e(!1),children:"Login"}),l(Cn,{to:"/signup",style:{...y.mobileAuthBtn,...y.authPrimary},onClick:()=>e(!1),children:"Sign Up"})]})]})})]})};var Bhe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const zhe=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),jhe=(n,e)=>{const t=ie.forwardRef(({color:i="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:a,children:o,...c},d)=>ie.createElement("svg",{ref:d,...Bhe,width:r,height:r,stroke:i,strokeWidth:a?Number(s)*24/Number(r):s,className:`lucide lucide-${zhe(n)}`,...c},[...e.map(([u,f])=>ie.createElement(u,f)),...(Array.isArray(o)?o:[o])||[]]));return t.displayName=`${n}`,t};var Dt=jhe;const b9=Dt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),G1=Dt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),IA=Dt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),tf=Dt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),kc=Dt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),w9=Dt("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]),am=Dt("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),x6=Dt("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),Whe=Dt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),$he=Dt("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),IS=Dt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),px=Dt("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),Uh=Dt("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]),y3=Dt("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]),Mi=Dt("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),qhe=Dt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),Fw=Dt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),Rs=Dt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Hhe=Dt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Vhe=Dt("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]),di=Dt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),v3=Dt("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),Ghe=Dt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),FL=Dt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Xhe=Dt("ChevronsUp",[["path",{d:"m17 11-5-5-5 5",key:"e8nh98"}],["path",{d:"m17 18-5-5-5 5",key:"2avn1x"}]]),xr=Dt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Yhe=Dt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),UL=Dt("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),vH=Dt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),x9=Dt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),RA=Dt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),_9=Dt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),na=Dt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Khe=Dt("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),Mn=Dt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),S9=Dt("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]),lc=Dt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),bH=Dt("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]),X1=Dt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),nf=Dt("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]),wH=Dt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),_6=Dt("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),ML=Dt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),qh=Dt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Jhe=Dt("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),Zhe=Dt("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]),Qhe=Dt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),efe=Dt("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]),tfe=Dt("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),xH=Dt("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),nfe=Dt("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),Rb=Dt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),ife=Dt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Lb=Dt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),_r=Dt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),U8=Dt("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),N9=Dt("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]),Zl=Dt("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),bl=Dt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),rfe=Dt("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),sfe=Dt("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),M8=Dt("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]),A9=Dt("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]),_H=Dt("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]),Mh=Dt("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),mx=Dt("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),b3=Dt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),S6=Dt("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),nd=Dt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),w3=Dt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),k9=Dt("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]),B8=Dt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),SH=Dt("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]),ia=Dt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),qT=Dt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),x3=Dt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Yb=Dt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),gx=Dt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),N6=Dt("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),afe=Dt("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]),NH=Dt("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),AH=Dt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Is=Dt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),ofe=Dt("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),_3=Dt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),lfe=Dt("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]),Ob=Dt("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]),s0=Dt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),cfe=Dt("Trees",[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16v0H5v0h0a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"yh07w9"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]]),Aa=Dt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),LA=Dt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),dfe=Dt("Truck",[["path",{d:"M10 17h4V5H2v12h3",key:"1jq12e"}],["path",{d:"M20 17h2v-3.34a4 4 0 0 0-1.17-2.83L19 9h-5",key:"1xb3ft"}],["path",{d:"M14 17h1",key:"nufu4t"}],["circle",{cx:"7.5",cy:"17.5",r:"2.5",key:"a7aife"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),Bh=Dt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),S3=Dt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),uy=Dt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),ufe=Dt("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),go=Dt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),wn=Dt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),yo=Dt("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),po=Dt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Yn=Dt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),hfe=Dt("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),HT=Dt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);const ffe=()=>{const n=new Date().getFullYear(),[e,t]=ie.useState(""),[i,r]=ie.useState(!1);return l("footer",{className:"footer-horizontal",children:g("div",{className:"footer-container-horizontal",children:[g("div",{className:"footer-grid-horizontal",children:[g("div",{className:"footer-column-horizontal",children:[l("h3",{className:"footer-heading-horizontal",children:"About us"}),l("p",{className:"footer-tagline-horizontal",children:"Plan. Learn. Collaborate."}),g("p",{className:"footer-description-horizontal",children:[l("strong",{children:"Planning Insights"})," is a digital knowledge ecosystem for the built environment, designed to connect education, research, and professional practice on a single, integrated platform. We enable collaboration among students, educators, researchers, urban planners, architects, "," ",l(Cn,{to:"/about",className:"footer-read-more-horizontal",children:"Read more"})]})]}),g("div",{className:"footer-column-horizontal",children:[l("h3",{className:"footer-heading-horizontal",children:"Important"}),g("ul",{className:"footer-links-horizontal",children:[l("li",{children:l(Cn,{to:"/privacy-policy",children:"Privacy Policy"})}),l("li",{children:l(Cn,{to:"/terms-of-use",children:"Terms of Use"})}),l("li",{children:l(Cn,{to:"/disclaimer",children:"Disclaimer"})})]})]}),g("div",{className:"footer-column-horizontal",children:[l("h3",{className:"footer-heading-horizontal",children:"Contact us"}),g("ul",{className:"footer-contact-list-horizontal",children:[g("li",{className:"footer-contact-item-horizontal",children:[l(_r,{size:16}),l("span",{children:"Nashik"})]}),g("li",{className:"footer-contact-item-horizontal",children:[l(_r,{size:16}),l("span",{children:"Maharashtra(India)"})]}),g("li",{className:"footer-contact-item-horizontal",children:[l(Lb,{size:16}),l("a",{href:"mailto:contact@planninginsights.in",children:"contact@planninginsights.in"})]}),g("li",{className:"footer-contact-item-horizontal",children:[l(b3,{size:16}),l("a",{href:"tel:+919022311897",children:"+91 8600050170"})]})]}),g("div",{className:"footer-social-links-horizontal",children:[l("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"C:\\Users\\Lenovo\\Desktop\\planning insight data\\Planning-Insights 2\\frontend\\public\\assets\\images\\icons\\Facebook.png","aria-label":"Facebook",children:l(Khe,{size:18})}),l("a",{href:"https://www.instagram.com/planninginsights?igsh=MjVsaTlsa29qc2d5",target:"_blank",rel:"noopener noreferrer",className:"C:\\Users\\Lenovo\\Desktop\\planning insight data\\Planning-Insights 2\\frontend\\public\\assets\\images\\icons\\Instagram.png","aria-label":"Instagram",children:l(Jhe,{size:18})}),l("a",{href:"https://youtube.com/@planninginsights1969?si=ef2dA70yTeP1cdgW",target:"_blank",rel:"noopener noreferrer",className:"C:\\Users\\Lenovo\\Desktop\\planning insight data\\Planning-Insights 2\\frontend\\public\\assets\\images\\icons\\Youtube.png","aria-label":"YouTube",children:l(hfe,{size:18})}),l("a",{href:"https://www.linkedin.com/in/planning-insights/?lipi=urn%3Ali%3Apage%3Ad_flagship3_profile_view_base_contact_details%3BZAAfeJV4SyuFw9eJknYnvg%3D%3Dm",target:"_blank",rel:"noopener noreferrer",className:"C:\\Users\\Lenovo\\Desktop\\planning insight data\\Planning-Insights 2\\frontend\\public\\assets\\images\\icons\\Linkedin.png","aria-label":"LinkedIn",children:l(nfe,{size:18})}),l("a",{href:"x.com",target:"_blank",rel:"noopener noreferrer",className:"C:\\Users\\Lenovo\\Desktop\\planning insight data\\Planning-Insights 2\\frontend\\public\\assets\\images\\icons\\X.png","aria-label":"X",children:l(Zl,{size:18})})]})]}),g("div",{className:"footer-column-horizontal footer-newsletter-horizontal",children:[l("h3",{className:"footer-heading-horizontal",children:"Subscribe to Our Newsletter"}),i?l("div",{className:"subscribe-success-horizontal",children:" Successfully subscribed!"}):g("form",{onSubmit:a=>{a.preventDefault(),e&&(console.log("Subscribing email:",e),r(!0),t(""),setTimeout(()=>r(!1),3e3))},className:"newsletter-form-horizontal",children:[l("input",{type:"email",placeholder:"email address",value:e,onChange:a=>t(a.target.value),className:"newsletter-input-horizontal",required:!0}),l("button",{type:"submit",className:"newsletter-btn-horizontal",children:"Subscribe"})]})]})]}),l("div",{className:"footer-divider-horizontal"}),l("div",{className:"footer-bottom-horizontal",children:g("div",{className:"footer-bottom-content-horizontal",children:[l("div",{className:"footer-bottom-left",children:g("p",{className:"copyright-text-horizontal",children:["Copyright  ",n," | ",l(Cn,{to:"/",className:"copyright-link-horizontal",children:"Planning Insights"})," | All Rights Reserved"]})}),l("div",{className:"footer-bottom-center",children:l("img",{src:"https://i.creativecommons.org/l/by-nc-nd/4.0/88x31.png",alt:"Creative Commons License",className:"license-badge-horizontal"})}),l("div",{className:"footer-bottom-right",children:g("p",{className:"license-text-horizontal",children:["The content on this site is licensed under a"," ",l("a",{href:"https://creativecommons.org/licenses/by-nc-nd/4.0/",target:"_blank",rel:"noopener noreferrer",className:"license-link-horizontal",children:"Creative Commons Attribution Non-Commercial-No-Derivatives 4.0 International License"})," ","except where otherwise noted"]})})]})})]})})},pfe=({children:n})=>{const[e,t]=ie.useState(!0),[i,r]=ie.useState(!1);ie.useEffect(()=>{s()},[]);const s=async()=>{const a=localStorage.getItem("authToken");if(console.log(" ProtectedAdminRoute - Checking auth..."),console.log(" Token exists:",!!a),!a){console.log(" No token found - BLOCKING ACCESS"),t(!1),r(!1);return}console.log(" Token found, verifying with backend...");try{const o=await fetch(`${{}.VITE_API_BASE_URL||"http://localhost:3000/api"}/auth/me`,{headers:{Authorization:`Bearer ${a}`}});if(console.log(" Backend response status:",o.status),!o.ok){console.log(" Token invalid - BLOCKING ACCESS"),localStorage.removeItem("authToken"),r(!1),t(!1);return}const c=await o.json();console.log(" User role:",c.role),c.role==="admin"?(console.log(" Admin verified - GRANTING ACCESS"),r(!0)):(console.log(" Not admin - BLOCKING ACCESS"),localStorage.removeItem("authToken"),r(!1))}catch(o){console.error(" Auth check failed:",o),localStorage.removeItem("authToken"),r(!1)}finally{t(!1)}};return e?g("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"#EEF3CE"},children:[g("div",{style:{textAlign:"center"},children:[l("div",{style:{width:"50px",height:"50px",border:"4px solid #524393",borderTopColor:"transparent",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 1rem"}}),l("p",{style:{color:"#524393",fontWeight:600},children:"Verifying access..."})]}),l("style",{children:`
          @keyframes spin {
            to { transform: rotate(360deg); }
          }
        `})]}):i?n:l(l8,{to:"/admin/login",replace:!0})};const mfe=()=>{var U;const{isAuthenticated:n,user:e}=hs(),{showNotification:t}=Ao(),i=or(),[r,s]=ie.useState(""),[a,o]=ie.useState(0),[c,d]=ie.useState(0),[u,f]=ie.useState({x:0,y:0}),[h,p]=ie.useState(!1),[v,w]=ie.useState(!1),[b,m]=ie.useState(null),[y,_]=ie.useState(!1),[x,N]=ie.useState(0),[k,T]=ie.useState(!1),[C,P]=ie.useState(0),[D,E]=ie.useState(0),[A,I]=ie.useState(!1),[R,M]=ie.useState(!1),[Y,q]=ie.useState({jobs:0,courses:0,professionals:0,publications:0}),[G,B]=ie.useState([{id:1,name:"Rahul Sharma",points:0,avatar:"",badge:"Expert"},{id:2,name:"Priya Patel",points:10230,avatar:"",badge:"Pro"},{id:3,name:"Amit Kumar",points:9876,avatar:"",badge:"Advanced"},{id:4,name:"Sneha Singh",points:8945,avatar:"",badge:"Expert"},{id:5,name:"Vikas Gupta",points:7654,avatar:"",badge:"Pro"}]),J=ie.useRef(null),W=ie.useRef(null);ie.useEffect(()=>()=>{document.body.style.overflow="auto"},[]),ie.useEffect(()=>{let H=!1;const te=()=>{H||(window.requestAnimationFrame(()=>{const he=document.documentElement.scrollHeight-window.innerHeight,ve=window.scrollY/he*100;d(ve),p(window.scrollY>400),H=!1}),H=!0)};return window.addEventListener("scroll",te,{passive:!0}),()=>window.removeEventListener("scroll",te)},[]),ie.useEffect(()=>{const H=te=>{f({x:te.clientX/window.innerWidth*100,y:te.clientY/window.innerHeight*100})};return window.addEventListener("mousemove",H),()=>window.removeEventListener("mousemove",H)},[]),ie.useEffect(()=>{const H={threshold:.15,rootMargin:"0px 0px -100px 0px"},te=ae=>{ae.forEach((me,ge)=>{me.isIntersecting&&setTimeout(()=>{me.target.classList.add("animate-in")},ge*100)})},he=new IntersectionObserver(te,H),ve=document.querySelectorAll(".animate-on-scroll");return ve.forEach(ae=>he.observe(ae)),()=>{ve.forEach(ae=>he.unobserve(ae))}},[]),ie.useEffect(()=>{const H=setInterval(()=>{o(te=>(te+1)%Ce.length)},4500);return()=>clearInterval(H)},[]),ie.useEffect(()=>{if(!A){const H=setInterval(()=>{N(te=>(te+1)%Se.length)},5e3);return()=>clearInterval(H)}},[A]);const L=H=>{H.preventDefault(),r.trim()&&t(`Searching for "${r}"`,"info")},z=()=>{window.scrollTo({top:0,behavior:"smooth"})},X=H=>{m(H),w(!0),document.body.style.overflow="hidden"},Q=()=>{w(!1),m(null),document.body.style.overflow="auto"},V=H=>{Q(),i(H)},Z=()=>{M(!0),document.body.style.overflow="hidden"},_e=()=>{M(!1),document.body.style.overflow="auto"},le=H=>{T(!0),P(H.touches[0].clientX),I(!0)},ce=H=>{k&&E(H.touches[0].clientX)},Fe=()=>{if(!k)return;T(!1);const H=C-D,te=50;Math.abs(H)>te&&(H>0?N(he=>he===Se.length-1?0:he+1):N(he=>he===0?Se.length-1:he-1)),P(0),E(0),setTimeout(()=>{I(!1)},3e3)},Ae=H=>{T(!0),P(H.clientX),I(!0)},Re=H=>{k&&E(H.clientX)},Ve=()=>{if(!k)return;T(!1);const H=C-D,te=50;Math.abs(H)>te&&(H>0?N(he=>he===Se.length-1?0:he+1):N(he=>he===0?Se.length-1:he-1)),P(0),E(0),setTimeout(()=>{I(!1)},3e3)},fe=()=>{I(!0)},Je=()=>{k||I(!1)},je=H=>{N(H),I(!0),setTimeout(()=>{I(!1)},3e3)},Ce=[{icon:Mi,title:"Job Portal",description:"Connect with top opportunities in urban planning and built environment sectors",path:"/jobs",color:"#2563eb",stats:"2,500+ Jobs",gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",details:"Access verified job listings from leading companies across urban planning, architecture, and infrastructure sectors.",features:["AI-Powered Job Matching","Resume Builder","Interview Preparation","Salary Insights","Career Path Recommendations"]},{icon:Uh,title:"Learning Centre",description:"Master new skills with expert-led courses and professional certifications",path:"/learning",color:"#059669",stats:"450+ Courses",gradient:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",details:"Upskill with industry-recognized courses taught by leading experts.",features:["Expert Instructors","Hands-On Projects","Industry Certifications","Flexible Learning","Lifetime Access"]},{icon:Mn,title:"Publishing House",description:"Access peer-reviewed research and contribute to the knowledge base",path:"/publishing",color:"#dc2626",stats:"890+ Publications",gradient:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",details:"Explore cutting-edge research papers, case studies, and whitepapers.",features:["Peer-Reviewed Content","Research Database","Publish Your Work","Citation Tools","Academic Networking"]},{icon:bl,title:"Newsroom",description:"Stay informed with industry insights and trending discussions",path:"/news",color:"#7c3aed",stats:"Daily Updates",gradient:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)",details:"Get the latest news, trends, and insights from the urban planning industry.",features:["Daily News Updates","Expert Analysis","Industry Reports","Trend Forecasts","Newsletter Subscriptions"]},{icon:wn,title:"Discussion Forum",description:"Network with professionals and solve real-world challenges together",path:"/forum",color:"#ea580c",stats:"15K+ Members",gradient:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",details:"Join a vibrant community of professionals, students, and experts.",features:["Active Community","Q&A Forums","Expert Mentorship","Networking Events","Private Messaging"]}],$=[{id:1,title:"Senior Urban Planner",company:"City Development Authority",location:"New Delhi, India",type:"Full-time",salary:"12-18 LPA",deadline:"2025-12-15",logo:"",urgent:!0},{id:2,title:"Sustainability Consultant",company:"GreenBuild Solutions",location:"Bangalore, India",type:"Contract",salary:"10-15 LPA",deadline:"2025-12-20",logo:"",urgent:!1},{id:3,title:"Transportation Engineer",company:"Metro Infrastructure Ltd",location:"Mumbai, India",type:"Full-time",salary:"15-22 LPA",deadline:"2025-12-25",logo:"",urgent:!1}],ke=[{id:1,title:"Smart City Planning & IoT Integration",instructor:"Dr. Priya Sharma",duration:"6 weeks",students:1247,rating:4.8,level:"Intermediate",image:""},{id:2,title:"Sustainable Architecture Practices",instructor:"Prof. Rajesh Kumar",duration:"8 weeks",students:893,rating:4.6,level:"Advanced",image:""},{id:3,title:"Urban Data Analytics with Python",instructor:"Dr. Anjali Patel",duration:"4 weeks",students:567,rating:4.9,level:"Beginner",image:""}],Se=[{id:1,name:"Rahul Mehta",role:"Urban Planner",company:"Smart Cities Mission",content:"Planning Insights helped me secure my dream role within weeks. The platform's AI-powered matching is incredibly precise.",rating:5,avatar:""},{id:2,name:"Sneha Patel",role:"Architecture Student",company:"IIT Delhi",content:"The courses are comprehensive and taught by industry leaders. I gained practical skills that I apply daily in my projects.",rating:5,avatar:""},{id:3,name:"Amit Singh",role:"Sustainability Consultant",company:"GreenTech India",content:"The publishing house feature allowed me to share my research with a global audience. The peer-review process is exceptional.",rating:5,avatar:""}],pe=[{icon:di,title:"Verified Opportunities",description:"Authentic opportunities you can trust"},{icon:am,title:"Certified Courses",description:"Courses recognized by industry leaders"},{icon:X1,title:"Global Network",description:"Collaborate with professionals around the world"},{icon:$he,title:"Career Growth",description:"Unlock your full professional potential"}];return g("div",{className:"homepage",children:[l("div",{className:"scroll-progress-bar",style:{width:`${c}%`},"aria-hidden":"true"}),g("section",{className:"hero-section-enhanced",ref:J,children:[l("div",{className:"hero-background-animated",children:l("div",{className:"hero-parallax-layer",style:{transform:`translate(${u.x*.02}px, ${u.y*.02}px)`}})}),l("div",{className:"container",children:g("div",{className:"hero-content-enhanced",children:[g("div",{className:"hero-text-enhanced",children:[g("div",{className:"hero-badge-enhanced",children:[l(AH,{size:16}),l("span",{children:"The Next-Gen Urban Planning Starts Here."})]}),l("h1",{className:"hero-title-enhanced",children:"Welcome to a digital workspace built for urban planners, architects, and city innovators"}),l("p",{className:"hero-description-enhanced",children:"Sign in to access powerful planning tools, collaborative design environments, and datadriven insights that shape sustainable and future-ready urban spaces"}),g("div",{className:"hero-search-enhanced",children:[g("form",{onSubmit:L,className:"search-wrapper-enhanced",children:[l(ia,{className:"search-icon-enhanced",size:22}),l("input",{type:"text",className:"search-input-enhanced",placeholder:"Search jobs, courses, publications...",value:r,onChange:H=>s(H.target.value),"aria-label":"Search platform"}),g("button",{type:"submit",className:"search-btn-enhanced",children:[l("span",{children:"Search"}),l(kc,{size:18})]})]}),g("div",{className:"search-tags-enhanced",children:[l("span",{className:"tags-label",children:"Popular:"}),l("button",{className:"tag-btn",onClick:()=>s("Urban Planner"),children:"Urban Planner"}),l("button",{className:"tag-btn",onClick:()=>s("Smart Cities"),children:"Smart Cities"}),l("button",{className:"tag-btn",onClick:()=>s("Sustainability"),children:"Sustainability"})]})]}),l("div",{className:"hero-actions-enhanced",children:n?g(Cn,{to:"/dashboard",className:"btn-enhanced btn-primary-enhanced",children:[l("span",{className:"btn-shine",children:l("span",{children:"Go to Dashboard"})}),l(_3,{size:20})]}):g(Ft,{children:[g(Cn,{to:"/Signup",className:"btn-enhanced btn-primary-enhanced",children:[l("span",{className:"btn-shine",children:l("span",{children:"Get Started Free"})}),l(k9,{size:20})]}),g(Cn,{to:"/login",className:"btn-enhanced btn-outline-enhanced",children:[l("span",{className:"btn-shine",children:l("span",{children:"Sign In"})}),l(kc,{size:20})]})]})}),g("div",{className:"hero-stats-enhanced",children:[g("div",{className:"stat-item-enhanced",children:[l("div",{className:"stat-number-enhanced",children:Y.jobs.toLocaleString()}),l("div",{className:"stat-label-enhanced",children:"Active Jobs"})]}),g("div",{className:"stat-item-enhanced",children:[l("div",{className:"stat-number-enhanced",children:Y.courses.toLocaleString()}),l("div",{className:"stat-label-enhanced",children:"Courses"})]}),g("div",{className:"stat-item-enhanced",children:[g("div",{className:"stat-number-enhanced",children:[(Y.professionals/1e3).toFixed(0),"K"]}),l("div",{className:"stat-label-enhanced",children:"Professionals"})]}),g("div",{className:"stat-item-enhanced",children:[l("div",{className:"stat-number-enhanced",children:Y.publications.toLocaleString()}),l("div",{className:"stat-label-enhanced",children:"Publications"})]})]})]}),l("div",{className:"hero-visual-enhanced",children:g("div",{className:"urban-image-container",children:[g("div",{className:"urban-image-wrapper",children:[l("img",{src:"https://images.unsplash.com/photo-1480714378408-67cf0d13bc1b?q=80&w=1200&auto=format&fit=crop",alt:"Modern Urban Planning",className:"urban-planning-image"}),l("div",{className:"image-overlay-gradient"})]}),g("div",{className:"floating-stats-container",children:[g("div",{className:"floating-stat-card-enhanced card-position-1",children:[l("div",{className:"card-icon-enhanced",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:l(Mi,{size:28,color:"white"})}),g("div",{className:"card-content-enhanced",children:[l("div",{className:"card-number-enhanced",children:Y.jobs.toLocaleString()}),l("div",{className:"card-label-enhanced",children:"Jobs Available"})]})]}),g("div",{className:"floating-stat-card-enhanced card-position-2",children:[l("div",{className:"card-icon-enhanced",style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"},children:l(Uh,{size:28,color:"white"})}),g("div",{className:"card-content-enhanced",children:[l("div",{className:"card-number-enhanced",children:Y.courses.toLocaleString()}),l("div",{className:"card-label-enhanced",children:"Courses"})]})]}),g("div",{className:"floating-stat-card-enhanced card-position-3 leaderboard-card-clickable",onClick:Z,role:"button",tabIndex:0,"aria-label":"View user points leaderboard",children:[l("div",{className:"card-icon-enhanced",style:{background:"linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)"},children:l(LA,{size:28,color:"white"})}),g("div",{className:"card-content-enhanced",children:[l("div",{className:"card-number-enhanced",children:(U=G[0])==null?void 0:U.points.toLocaleString()}),l("div",{className:"card-label-enhanced",children:"Top User Points"})]})]})]}),l("div",{className:"decorative-circle circle-1"}),l("div",{className:"decorative-circle circle-2"}),l("div",{className:"decorative-dots"})]})})]})}),g("div",{className:"scroll-indicator",children:[l("div",{className:"scroll-mouse",children:l("div",{className:"scroll-wheel"})}),l("span",{children:"Scroll to explore"})]})]}),R&&l("div",{className:"leaderboard-modal-overlay",onClick:_e,children:g("div",{className:"leaderboard-modal-container",onClick:H=>H.stopPropagation(),children:[l("button",{className:"leaderboard-modal-close",onClick:_e,"aria-label":"Close leaderboard",children:l(Yn,{size:24})}),g("div",{className:"leaderboard-modal-header",children:[l("div",{className:"leaderboard-modal-icon",children:l(LA,{size:48,color:"white"})}),l("h2",{children:"Top Users Leaderboard"}),l("p",{children:"Highest Point Earners"})]}),g("div",{className:"leaderboard-modal-body",children:[l("div",{className:"leaderboard-list",children:G.map((H,te)=>g("div",{className:`leaderboard-item rank-${te+1}`,children:[g("div",{className:"leaderboard-rank",children:[te===0&&l(UL,{size:24,color:"#fbbf24"}),te===1&&l(N9,{size:24,color:"#c0c0c0"}),te===2&&l(N9,{size:24,color:"#cd7f32"}),te>2&&g("span",{className:"rank-number",children:["#",te+1]})]}),l("div",{className:"leaderboard-avatar",children:H.avatar}),g("div",{className:"leaderboard-info",children:[l("h4",{children:H.name}),l("span",{className:"user-badge",children:H.badge})]}),g("div",{className:"leaderboard-points",children:[l(LA,{size:18,color:"#fbbf24"}),l("span",{children:H.points.toLocaleString()})]})]},H.id))}),e&&g("div",{className:"your-rank-section",children:[l("h3",{children:"Your Rank"}),g("div",{className:"your-rank-card",children:[l("div",{className:"your-rank-avatar",children:""}),g("div",{className:"your-rank-info",children:[l("h4",{children:e.name||"Your Name"}),l("p",{children:"Rank: #47  2,340 points"})]})]})]})]}),l("div",{className:"leaderboard-modal-footer",children:l("button",{className:"btn-professional btn-primary-professional",onClick:_e,children:"Close"})})]})}),l("section",{className:"benefits-section animate-on-scroll",children:l("div",{className:"container",children:l("div",{className:"benefits-grid",children:pe.map((H,te)=>g("div",{className:"benefit-card",children:[l("div",{className:"benefit-icon",children:l(H.icon,{size:32})}),l("h3",{children:H.title}),l("p",{children:H.description})]},te))})})}),l("section",{className:"features-section-autoscroll animate-on-scroll",children:g("div",{className:"container-full",children:[g("div",{className:"section-header-professional",children:[l("p",{className:"section-subtitle",children:"EXPLORE OUR PLATFORM"}),g("h2",{children:["Tools That Power Your ",l("span",{className:"text-gradient-professional",children:"Progress"})]}),l("p",{children:"Access powerful tools, curated resources, and opportunities designed for urban planning and the built environment."})]}),l("div",{className:"autoscroll-wrapper",onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1),children:l("div",{className:`autoscroll-track ${y?"paused":""}`,children:[...Ce,...Ce].map((H,te)=>{const he=H.icon;return g("div",{className:"feature-card-autoscroll",onClick:()=>X(H),role:"button",tabIndex:0,"aria-label":`View details for ${H.title}`,children:[l("div",{className:"feature-card-bg-autoscroll",style:{background:H.gradient}}),g("div",{className:"feature-card-content-autoscroll",children:[l("div",{className:"feature-icon-autoscroll",style:{background:H.gradient},children:l(he,{size:40,color:"white"})}),l("div",{className:"feature-badge-autoscroll",children:H.stats}),l("h3",{children:H.title}),l("p",{children:H.description}),g("div",{className:"feature-link-autoscroll",children:[l("span",{children:"Explore More"}),l(kc,{size:20})]})]})]},`feature-${te}`)})})})]})}),v&&b&&l("div",{className:"platform-modal-overlay",onClick:Q,children:g("div",{className:"platform-modal-container",onClick:H=>H.stopPropagation(),children:[l("button",{className:"platform-modal-close",onClick:Q,"aria-label":"Close modal",children:l(Yn,{size:24})}),g("div",{className:"platform-modal-header",style:{background:b.gradient},children:[l("div",{className:"platform-modal-icon",children:l(b.icon,{size:48,color:"white"})}),l("h2",{children:b.title}),l("div",{className:"platform-modal-badge",children:b.stats})]}),g("div",{className:"platform-modal-body",children:[g("div",{className:"platform-modal-description",children:[l("h3",{children:"Overview"}),l("p",{children:b.details})]}),g("div",{className:"platform-modal-features",children:[l("h3",{children:"Key Features"}),l("ul",{children:b.features.map((H,te)=>g("li",{children:[l(di,{size:20,style:{color:b.color}}),l("span",{children:H})]},te))})]}),l("div",{className:"platform-modal-actions",children:g("button",{onClick:()=>V(b.path),className:"btn-professional btn-primary-professional btn-large-professional btn-block-professional",style:{background:b.color},children:[l("span",{className:"btn-shine",children:g("span",{children:["Explore ",b.title]})}),l(kc,{size:20})]})})]})]})}),l("section",{className:"jobs-section-professional animate-on-scroll",children:g("div",{className:"container-full",children:[g("div",{className:"section-header-professional",children:[l("p",{className:"section-subtitle",children:"OPPORTUNITIES"}),g("h2",{children:["Your Next Career ",l("span",{className:"text-gradient-professional",children:"Step"})]}),l("p",{children:"Connect with organizations offering roles across planning, design, and development sectors"})]}),l("div",{className:"jobs-autoscroll-wrapper",onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1),children:l("div",{className:`jobs-autoscroll-track ${y?"paused":""}`,children:[...Array(2)].map((H,te)=>$.map(he=>g("div",{className:"job-card-professional",children:[he.urgent&&g("div",{className:"urgent-badge-professional",children:[l(HT,{size:14}),l("span",{children:"Urgent"})]}),g("div",{className:"job-header",children:[l("div",{className:"job-logo",children:he.logo}),l("div",{className:"job-type-badge",children:he.type})]}),l("h3",{children:he.title}),l("p",{className:"company-name",children:he.company}),g("div",{className:"job-details",children:[g("div",{className:"job-detail-item",children:[l(_r,{size:16}),l("span",{children:he.location})]}),g("div",{className:"job-detail-item",children:[l(Rs,{size:16}),g("span",{children:["Deadline: ",he.deadline]})]})]}),l("div",{className:"job-salary",children:he.salary}),g(Cn,{to:`/jobs/${he.id}`,className:"btn-professional btn-primary-professional btn-block-professional",children:[l("span",{className:"btn-shine",children:l("span",{children:"Apply Now"})}),l(kc,{size:18})]})]},`${te}-${he.id}`)))})}),l("div",{className:"section-footer-professional",children:g(Cn,{to:"/jobs",className:"btn-professional btn-secondary-professional btn-large-professional",children:[l("span",{className:"btn-shine",children:l("span",{children:"View All Jobs"})}),l(kc,{size:20})]})})]})}),l("section",{className:"courses-section-professional animate-on-scroll",children:g("div",{className:"container-full",children:[g("div",{className:"section-header-professional",children:[l("p",{className:"section-subtitle",children:"LEARNING"}),g("h2",{children:["Advance Your ",l("span",{className:"text-gradient-professional",children:"Skills"})]}),l("p",{children:"Advance your knowledge through practical, industry-aligned learning."})]}),l("div",{className:"courses-autoscroll-wrapper",onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1),children:l("div",{className:`courses-autoscroll-track ${y?"paused":""}`,children:[...Array(2)].map((H,te)=>ke.map(he=>g("div",{className:"course-card-professional",children:[l("div",{className:"course-image",children:he.image}),l("div",{className:"course-level-badge",children:he.level}),l("h3",{children:he.title}),g("p",{className:"course-instructor",children:["By ",he.instructor]}),g("div",{className:"course-meta",children:[g("div",{className:"course-meta-item",children:[l(xr,{size:16}),l("span",{children:he.duration})]}),g("div",{className:"course-meta-item",children:[l(wn,{size:16}),g("span",{children:[he.students.toLocaleString()," students"]})]}),g("div",{className:"course-meta-item",children:[l(Is,{size:16,fill:"currentColor"}),l("span",{children:he.rating})]})]}),g(Cn,{to:`/courses/${he.id}`,className:"btn-professional btn-primary-professional btn-block-professional",children:[l("span",{className:"btn-shine",children:l("span",{children:"Enroll Now"})}),l(kc,{size:18})]})]},`${te}-${he.id}`)))})}),l("div",{className:"section-footer-professional",children:g(Cn,{to:"/learning",className:"btn-professional btn-secondary-professional btn-large-professional",children:[l("span",{className:"btn-shine",children:l("span",{children:"Browse All Courses"})}),l(kc,{size:20})]})})]})}),l("section",{className:"testimonials-section-professional animate-on-scroll",children:g("div",{className:"container",children:[g("div",{className:"section-header-professional",children:[l("p",{className:"section-subtitle",children:"SUCCESS STORIES"}),g("h2",{children:["Join Thousands ",l("span",{className:"text-gradient-professional",children:"Shaping Urban Change"})]}),l("p",{children:"Highlighting real achievements shaping better urban environments."})]}),g("div",{className:"testimonials-coverflow-wrapper",ref:W,onTouchStart:le,onTouchMove:ce,onTouchEnd:Fe,onMouseDown:Ae,onMouseMove:Re,onMouseUp:Ve,onMouseLeave:Ve,onMouseEnter:fe,onMouseOut:Je,children:[l("div",{className:"testimonials-coverflow-container",children:l("div",{className:"testimonials-coverflow-track",children:Se.map((H,te)=>{const he=te-x,ve=te===x;return g("div",{className:`testimonial-card-coverflow ${ve?"active":""} ${he<0?"prev":""} ${he>0?"next":""}`,style:{transform:`translateX(${he*120}%) rotateY(${he*45}deg) scale(${ve?1:.8}) translateZ(${ve?0:-200}px)`,opacity:Math.abs(he)>1?0:1,zIndex:ve?10:5-Math.abs(he)},children:[l("div",{className:"testimonial-rating",children:[...Array(H.rating)].map((ae,me)=>l(Is,{size:20,fill:"currentColor",style:{color:"#fbbf24"}},me))}),l("p",{className:"testimonial-content",children:H.content}),g("div",{className:"testimonial-author",children:[l("div",{className:"author-avatar",children:H.avatar}),g("div",{className:"author-info",children:[l("h4",{children:H.name}),g("p",{children:[H.role," at ",H.company]})]})]})]},H.id)})})}),l("div",{className:"testimonial-dots",children:Se.map((H,te)=>l("button",{className:`testimonial-dot ${te===x?"active":""}`,onClick:()=>je(te),"aria-label":`Go to testimonial ${te+1}`},te))})]})]})}),l("section",{className:"cta-section-professional animate-on-scroll",children:l("div",{className:"container",children:g("div",{className:"cta-content-professional",children:[l("h2",{children:"Ready to Shape Your Future in Urban Planning?"}),l("p",{children:"Be part of a growing global community turning ideas into impact. Planning Insights helps you unlock new opportunities, sharpen your skills, and connect with professionals shaping cities of tomorrow."}),l("div",{className:"cta-actions-professional",children:n?g(Cn,{to:"/dashboard",className:"btn-professional btn-primary-professional btn-large-professional",children:[l("span",{className:"btn-shine",children:l("span",{children:"Go to Dashboard"})}),l(_3,{size:22})]}):g(Ft,{children:[g(Cn,{to:"/Signup",className:"btn-professional btn-primary-professional btn-large-professional",children:[l("span",{className:"btn-shine",children:l("span",{children:"Get Started Free"})}),l(k9,{size:22})]}),g(Cn,{to:"/about",className:"btn-professional btn-outline-professional btn-large-professional",children:[l("span",{className:"btn-shine",children:l("span",{children:"Learn More"})}),l(kc,{size:22})]})]})}),l("p",{className:"cta-note",children:"Sign in to access verified job opportunities, expert forums, join meaningful discussions, and collaborate with 15,000+ professionals across the built environment."})]})})}),g("button",{className:`scroll-to-top-btn ${h?"show":""}`,onClick:z,"aria-label":"Scroll to top",children:[l(Xhe,{size:24}),l("span",{className:"scroll-top-text",children:"TOP"})]})]})};const gfe=()=>{const n=[{icon:l(Uh,{size:28}),title:"Digital Publishing",description:"Access research papers, case studies, and urban development publications"},{icon:l(nf,{size:28}),title:"Learning Platform",description:"Interactive courses and resources for students and professionals"},{icon:l(M8,{size:28}),title:"Professional Networking",description:"Connect with urban planners, architects, and industry experts"},{icon:l(Mi,{size:28}),title:"Career Opportunities",description:"Job portal and internships for emerging urban professionals"},{icon:l(vH,{size:28}),title:"Data Sharing",description:"Centralized repository for urban datasets and research"},{icon:l(U8,{size:28}),title:"Geospatial Tools",description:"Interactive mapping and analysis tools for urban planning"}],e=[{icon:l(nf,{}),name:"Students",desc:"Urban planning & architecture students"},{icon:l(wn,{}),name:"Educators",desc:"University faculty & researchers"},{icon:l(Fw,{}),name:"Urban Planners",desc:"Government & private sector planners"},{icon:l(_3,{}),name:"Architects",desc:"Design professionals & firms"},{icon:l(U8,{}),name:"Geospatial Pros",desc:"GIS specialists & analysts"},{icon:l(Mi,{}),name:"Government",desc:"Municipal & planning agencies"},{icon:l(Aa,{}),name:"Industry",desc:"Development & construction firms"},{icon:l(M8,{}),name:"Researchers",desc:"Academic & policy researchers"}],t=[{icon:l(tfe,{size:24}),title:"Integrated Knowledge Hub",description:"Seamlessly connects education, research, and professional practice in one platform"},{icon:l(gx,{size:24}),title:"Structured Collaboration",description:"Provides reliable tools for knowledge exchange and professional networking"},{icon:l(HT,{size:24}),title:"Informed Decision-Making",description:"Supports data-driven planning and sustainable urban development"}];return g("div",{className:"about-page",children:[l("section",{className:"hero",children:l("div",{className:"container",children:g("div",{className:"hero-content",children:[g("div",{className:"badge",children:[l(X1,{size:16}),"Digital Knowledge Ecosystem"]}),g("h1",{children:["Connecting the Built Environment: ",l("span",{children:"Education, Research & Practice"})]}),l("p",{className:"hero-description",children:"Planning Insights is a digital knowledge ecosystem for the built environment, designed to connect education, research, and professional practice on a single, integrated platform."}),g("div",{className:"hero-stats",children:[g("div",{className:"stat",children:[l("span",{className:"stat-number",children:"1000+"}),l("span",{className:"stat-label",children:"Active Professionals"})]}),g("div",{className:"stat",children:[l("span",{className:"stat-number",children:"500+"}),l("span",{className:"stat-label",children:"Research Papers"})]}),g("div",{className:"stat",children:[l("span",{className:"stat-number",children:"50+"}),l("span",{className:"stat-label",children:"Universities"})]}),g("div",{className:"stat",children:[l("span",{className:"stat-number",children:"100+"}),l("span",{className:"stat-label",children:"Cities"})]})]})]})})}),l("section",{className:"section",children:g("div",{className:"container",children:[g("div",{className:"section-header",children:[l("div",{className:"section-tag",children:"Our Purpose"}),l("h2",{className:"section-title",children:"Bridging Academia & Practice"}),l("p",{className:"section-subtitle",children:"We enable collaboration across the urban development ecosystem"})]}),g("div",{className:"mission-content",children:[g("div",{className:"mission-text",children:[l("p",{children:"Planning Insights bridges the gap between academia and real-world urban practice, empowering emerging professionals while providing institutions and agencies with a structured, reliable hub for knowledge exchange and collaboration."}),l("p",{children:"Our platform brings together publishing, learning, networking, employment opportunities, and data sharing, supporting informed decision-making and continuous capacity building across the urban development sector."}),l("p",{children:"We enable collaboration among students, educators, researchers, urban planners, architects, geospatial professionals, government bodies, and industry stakeholders."})]}),g("div",{className:"mission-visual",children:[l("h3",{children:"Our Vision"}),l("p",{children:"To build a smart, accessible, and collaborative knowledge platform that supports the creation of sustainable, inclusive, and future-ready cities."})]})]})]})}),l("section",{className:"section light",children:g("div",{className:"container",children:[g("div",{className:"section-header",children:[l("div",{className:"section-tag",children:"Integrated Platform"}),l("h2",{className:"section-title",children:"Complete Knowledge Ecosystem"}),l("p",{className:"section-subtitle",children:"Everything you need for urban development learning and collaboration"})]}),l("div",{className:"ecosystem-grid",children:n.map((i,r)=>g("div",{className:"ecosystem-card",children:[l("div",{className:"card-icon",children:i.icon}),l("h4",{children:i.title}),l("p",{children:i.description})]},r))})]})}),l("section",{className:"section",children:g("div",{className:"container",children:[g("div",{className:"section-header",children:[l("div",{className:"section-tag",children:"Our Community"}),l("h2",{className:"section-title",children:"Connecting Urban Development Stakeholders"}),l("p",{className:"section-subtitle",children:"A diverse community working together for better cities"})]}),l("div",{className:"users-grid",children:e.map((i,r)=>g("div",{className:"user-card",children:[l("div",{className:"user-icon",children:i.icon}),g("div",{className:"user-info",children:[l("h4",{children:i.name}),l("p",{children:i.desc})]})]},r))})]})}),l("section",{className:"section light",children:g("div",{className:"container",children:[g("div",{className:"section-header",children:[l("div",{className:"section-tag",children:"Why Choose Us"}),l("h2",{className:"section-title",children:"Platform Advantages"}),l("p",{className:"section-subtitle",children:"Designed specifically for the built environment sector"})]}),l("div",{className:"features-list",children:t.map((i,r)=>g("div",{className:"feature-item",children:[l("div",{className:"feature-icon",children:i.icon}),g("div",{className:"feature-content",children:[l("h4",{children:i.title}),l("p",{children:i.description})]})]},r))})]})}),l("section",{className:"cta-section",children:l("div",{className:"container",children:g("div",{className:"cta-content",children:[l("h2",{className:"cta-title",children:"Join Our Urban Knowledge Community"}),l("p",{className:"cta-description",children:"Be part of the platform that's transforming how we learn, collaborate, and build sustainable cities together."}),g("div",{className:"cta-buttons",children:[g("a",{href:"/signup",className:"btn btn-primary",children:[l("span",{children:"Get Started Free"}),l(kc,{size:18})]}),g("a",{href:"/demo",className:"btn btn-secondary",children:[l(Rs,{size:18}),l("span",{children:"Book a Demo"})]})]})]})})})]})};function yfe(){const[n,e]=ie.useState(!1),[t,i]=ie.useState({email:"",password:"",rememberMe:!1}),[r,s]=ie.useState(""),a=or(),{login:o}=hs(),{showNotification:c}=Ao(),[d,u]=ie.useState(!1),f=w=>{const{name:b,value:m,type:y,checked:_}=w.target;i({...t,[b]:y==="checkbox"?_:m})},h=async w=>{var b,m,y,_,x,N,k;w.preventDefault(),s(""),u(!0);try{const T=`${{}.VITE_API_BASE_URL||"http://localhost:3000/api"}/auth/login`,C={email:t.email,password:t.password,rememberMe:t.rememberMe},P=await fetch(T,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(C)}),D=await P.json();if(!P.ok){s(D.message||"Invalid credentials"),c(D.message||"Login failed","error"),u(!1);return}if(D.token||(b=D.data)!=null&&b.token){const E=D.token||D.data.token;localStorage.removeItem("isAdminSession"),localStorage.removeItem("adminToken"),localStorage.setItem("authToken",E)}if((m=D.data)!=null&&m.user){const E={id:D.data.user.id,email:D.data.user.email,role:D.data.user.role,firstName:((y=D.data.user.profile)==null?void 0:y.firstName)||"",lastName:((_=D.data.user.profile)==null?void 0:_.lastName)||"",displayName:`${((x=D.data.user.profile)==null?void 0:x.firstName)||""} ${((N=D.data.user.profile)==null?void 0:N.lastName)||""}`.trim(),photoURL:((k=D.data.user.profile)==null?void 0:k.photoURL)||null};await o(E)}c("Signed in successfully","success"),setTimeout(()=>{a("/dashboard")},100)}catch(T){console.error("Login error:",T),s("Something went wrong. Please try again."),c((T==null?void 0:T.message)||"Login failed","error")}finally{u(!1)}},p=async()=>{try{u(!0);const w=await Fq();console.log(" Google sign-in successful:",w);try{console.log(" Calling backend for JWT token...");const b=`${{}.VITE_API_BASE_URL||"http://localhost:3000/api"}/auth/google-login`;console.log("Backend URL:",b);const m=await fetch(b,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:w.uid,email:w.email,displayName:w.displayName,photoURL:w.photoURL})}),y=await m.json();console.log("Backend response:",y),m.ok&&y.token?(localStorage.setItem("authToken",y.token),console.log(" JWT token stored successfully")):console.error(" Backend did not return token:",y)}catch(b){console.error(" Backend token fetch failed:",b),c("Warning: Backend authentication failed. Some features may be limited.","warning")}c("Signed in with Google","success"),a("/dashboard")}catch(w){console.error("Google sign-in error",w),c((w==null?void 0:w.message)||"Google sign-in failed","error")}finally{u(!1)}},v={container:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",fontFamily:"'Poppins', sans-serif",padding:"20px",position:"relative",overflow:"hidden"},backgroundShapes:{position:"absolute",width:"100%",height:"100%",overflow:"hidden",zIndex:0},shape:{position:"absolute",borderRadius:"50%",opacity:.1},shape1:{width:"500px",height:"500px",background:"#fff",top:"-250px",left:"-250px",animation:"float 8s ease-in-out infinite"},shape2:{width:"400px",height:"400px",background:"#fff",bottom:"-200px",right:"-200px",animation:"float 10s ease-in-out infinite reverse"},shape3:{width:"300px",height:"300px",background:"#fff",top:"50%",right:"10%",animation:"float 12s ease-in-out infinite"},card:{background:"#fff",borderRadius:"20px",boxShadow:"0 30px 80px rgba(0, 0, 0, 0.3)",position:"relative",overflow:"hidden",width:"1000px",maxWidth:"100%",minHeight:"650px",display:"flex",zIndex:1},formContainer:{width:"60%",padding:"60px 50px",display:"flex",alignItems:"center",justifyContent:"center",background:"#fff",zIndex:2},form:{width:"100%",maxWidth:"550px"},title:{fontSize:"36px",fontWeight:"700",color:"#333",marginBottom:"8px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textAlign:"center"},subtitle:{fontSize:"15px",color:"#666",marginBottom:"35px",textAlign:"center",fontWeight:"400"},socialContainer:{display:"flex",gap:"15px",marginBottom:"25px",justifyContent:"center"},socialBase:{border:"2px solid",borderRadius:"12px",display:"inline-flex",justifyContent:"center",alignItems:"center",height:"50px",width:"50px",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",fontSize:"20px",fontWeight:"700"},google:{borderColor:"#ea4335",color:"#ea4335",background:"#fff"},facebook:{borderColor:"#1877f2",color:"#1877f2",background:"#fff"},github:{borderColor:"#333",color:"#333",background:"#fff"},linkedin:{borderColor:"#0a66c2",color:"#0a66c2",background:"#fff"},divider:{display:"flex",alignItems:"center",margin:"30px 0",color:"#999",fontSize:"14px"},dividerLine:{flex:1,height:"1px",background:"#e8e8e8"},dividerText:{padding:"0 20px",fontWeight:"500",color:"#888"},label:{fontSize:"14px",fontWeight:"600",color:"#555",marginBottom:"8px",display:"block"},inputGroup:{marginBottom:"20px"},input:{background:"#f7f8fa",border:"2px solid #e8e8e8",padding:"14px 18px",width:"100%",borderRadius:"12px",fontSize:"15px",outline:"none",transition:"all 0.3s ease",fontFamily:"inherit",color:"#333"},passwordContainer:{position:"relative"},eyeButton:{position:"absolute",right:"18px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",fontSize:"20px",padding:"5px",color:"#999",transition:"color 0.3s ease"},rememberRow:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"25px",fontSize:"14px"},checkbox:{display:"flex",alignItems:"center",gap:"8px",color:"#666",cursor:"pointer"},link:{color:"#667eea",textDecoration:"none",fontWeight:"600",transition:"color 0.3s ease"},button:{borderRadius:"12px",border:"none",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"#fff",fontSize:"15px",fontWeight:"700",padding:"16px 40px",width:"100%",letterSpacing:"0.5px",textTransform:"uppercase",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",cursor:"pointer",boxShadow:"0 10px 25px rgba(102, 126, 234, 0.3)"},overlayContainer:{position:"absolute",top:0,left:"60%",width:"40%",height:"100%",overflow:"hidden",zIndex:100},overlay:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"#fff",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",padding:"0 60px",textAlign:"center"},overlayContent:{maxWidth:"400px"},overlayTitle:{fontSize:"42px",fontWeight:"800",marginBottom:"20px",textShadow:"0 2px 10px rgba(0, 0, 0, 0.2)",lineHeight:"1.2"},overlayText:{fontSize:"16px",lineHeight:"28px",marginBottom:"40px",opacity:.95,fontWeight:"400"},ghostButton:{borderRadius:"30px",border:"2px solid #fff",background:"transparent",color:"#fff",fontSize:"14px",fontWeight:"700",padding:"16px 50px",letterSpacing:"0.5px",textTransform:"uppercase",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",cursor:"pointer"},features:{marginTop:"40px",display:"flex",flexDirection:"column",gap:"15px",textAlign:"left"},feature:{display:"flex",alignItems:"center",gap:"12px",fontSize:"15px"},checkIcon:{width:"24px",height:"24px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.25)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",flexShrink:0}};return g("div",{style:v.container,children:[l("style",{children:`
          @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap');
          
          * { box-sizing: border-box; }
          
          @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-30px) rotate(5deg); }
          }

          /* Button spinner */
          .btn-spinner {
            width: 16px;
            height: 16px;
            border: 2px solid rgba(254, 248, 248, 0.45);
            border-top-color: #ffffff;
            border-radius: 50%;
            display: inline-block;
            vertical-align: middle;
            margin-right: 10px;
            animation: spin 1s linear infinite;
          }

          @keyframes spin {
            to { transform: rotate(360deg); }
          }

          input:focus {
            border-color: #667eea !important;
            background: #fff !important;
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1) !important;
          }
          
          .social-google:hover {
            background: #ea4335 !important;
            color: #fff !important;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(234, 67, 53, 0.3);
          }
          
          .social-linkedin:hover {
            background: #0a66c2 !important;
            color: #fff !important;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(10, 102, 194, 0.3);
          }
          
          .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 35px rgba(102, 126, 234, 0.4);
          }
          
          .submit-btn:active {
            transform: translateY(0);
          }
          
          .ghost-btn:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: scale(1.05);
          }
          
          .eye-btn:hover {
            color: #667eea;
          }
          
          @media (max-width: 900px) {
            .form-container {
              width: 100% !important;
              padding: 40px 30px !important;
            }
            .overlay-container {
              display: none !important;
            }
          }
        `}),g("div",{style:v.backgroundShapes,children:[l("div",{style:{...v.shape,...v.shape1}}),l("div",{style:{...v.shape,...v.shape2}}),l("div",{style:{...v.shape,...v.shape3}})]}),g("div",{style:v.card,children:[l("div",{className:"form-container",style:v.formContainer,children:g("form",{style:v.form,onSubmit:h,children:[l("h1",{style:v.title,children:"Welcome Back"}),l("p",{style:v.subtitle,children:"Sign in to continue your journey"}),g("div",{style:v.socialContainer,children:[l("button",{type:"button",className:"social-google",style:{...v.socialBase,...v.google},"aria-label":"Sign in with Google",onClick:async()=>{try{const w=await p();c("Signed in with Google","success"),a("/dashboard")}catch(w){c((w==null?void 0:w.message)||"Google sign-in failed","error")}},children:"G"}),l("button",{type:"button",className:"social-linkedin",style:{...v.socialBase,...v.linkedin},"aria-label":"Sign in with LinkedIn",children:"in"})]}),g("div",{style:v.divider,children:[l("div",{style:v.dividerLine}),l("span",{style:v.dividerText,children:"or use your email"}),l("div",{style:v.dividerLine})]}),r&&l("div",{style:{padding:"12px 16px",background:"rgba(220, 38, 38, 0.1)",borderRadius:"10px",marginBottom:"20px",fontSize:"14px",color:"#dc2626",fontWeight:"500",border:"1px solid rgba(220, 38, 38, 0.25)"},children:r}),g("div",{style:v.inputGroup,children:[l("label",{style:v.label,children:"Email Address"}),l("input",{style:v.input,type:"email",placeholder:"name@example.com",name:"email",value:t.email,onChange:f,required:!0})]}),g("div",{style:v.inputGroup,children:[l("label",{style:v.label,children:"Password"}),g("div",{style:v.passwordContainer,children:[l("input",{style:v.input,type:n?"text":"password",placeholder:"Enter your password",name:"password",value:t.password,onChange:f,required:!0}),l("button",{type:"button",className:"eye-btn",style:v.eyeButton,onClick:()=>e(!n),children:n?"":""})]})]}),g("div",{style:v.rememberRow,children:[g("label",{style:v.checkbox,children:[l("input",{type:"checkbox",name:"rememberMe",checked:t.rememberMe,onChange:f}),l("span",{children:"Remember me"})]}),l("a",{style:v.link,href:"#",onClick:w=>{w.preventDefault(),a("/auth/forgot-password")},children:"Forgot Password?"})]}),l("button",{type:"submit",className:"submit-btn",style:v.button,disabled:d,children:d?g(Ft,{children:[l("span",{className:"btn-spinner","aria-hidden":!0}),"Signing in..."]}):"Sign In"}),l("p",{style:{marginTop:"12px",textAlign:"center",fontSize:"12px",color:"#999"},children:"Session: up to 30 days"})]})}),l("div",{className:"overlay-container",style:v.overlayContainer,children:l("div",{style:v.overlay,children:g("div",{style:v.overlayContent,children:[l("h1",{style:v.overlayTitle,children:"Hello, Friend!"}),l("p",{style:v.overlayText,children:"Enter your personal details and start your journey with us"}),l("button",{className:"ghost-btn",style:v.ghostButton,onClick:()=>a("/signup"),children:"Sign Up"}),g("div",{style:v.features,children:[g("div",{style:v.feature,children:[l("span",{style:v.checkIcon,children:""}),l("span",{children:"Access 2,500+ Job Opportunities"})]}),g("div",{style:v.feature,children:[l("span",{style:v.checkIcon,children:""}),l("span",{children:"Join 15,000+ Professionals"})]}),g("div",{style:v.feature,children:[l("span",{style:v.checkIcon,children:""}),l("span",{children:"Premium Learning Resources"})]})]})]})})})]})]})}const vfe=()=>l("div",{className:"login-page",children:l(yfe,{})});const bfe=()=>{const n=or(),[e,t]=ie.useState({email:"",password:""}),[i,r]=ie.useState(!1),[s,a]=ie.useState(""),[o,c]=ie.useState(!1),d=h=>{const{name:p,value:v,type:w,checked:b}=h.target;t(m=>({...m,[p]:w==="checkbox"?b:v})),a("")},u=()=>!e.email||!e.password?(a("Email and password are required"),!1):!0;return g("div",{className:"admin-login-page",children:[l("div",{className:"admin-login-background"}),g("div",{className:"admin-login-container",children:[g("div",{className:"admin-login-card",children:[g("div",{className:"admin-login-header",children:[l("div",{className:"admin-icon",children:g("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",fill:"#524393",fillOpacity:"0.2",stroke:"#524393",strokeWidth:"2",strokeLinejoin:"round"}),l("path",{d:"M2 17L12 22L22 17",stroke:"#524393",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M2 12L12 17L22 12",stroke:"#524393",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),l("h1",{children:"Admin Access"}),l("p",{children:"Secure administrator authentication"})]}),s&&g("div",{className:"admin-error-alert",children:[l("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l("path",{d:"M12 8V12M12 16H12.01M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),s]}),g("form",{onSubmit:async h=>{var p;if(h.preventDefault(),console.log("Form submitted"),a(""),console.log("Form data:",e),!u()){console.log("Validation failed");return}console.log("Validation passed, making API call"),r(!0);try{const v="http://localhost:3000/api/admin/login";console.log("Calling API:",v);const w=await fetch(v,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:e.email,password:e.password})});console.log("Response status:",w.status);const b=await w.json();if(console.log("Response data:",b),!w.ok){a(b.message||"Invalid admin credentials"),r(!1);return}const m=(p=b.data)==null?void 0:p.token;m?(console.log(" Storing admin token"),localStorage.setItem("authToken",m),localStorage.setItem("isAdminSession","true"),localStorage.setItem("userRole","admin"),b.data.user&&localStorage.setItem("user",JSON.stringify(b.data.user)),console.log(" Login successful, navigating to admin dashboard"),window.location.href="/admin/dashboard"):(console.error(" No token found in response"),a("Login failed. No authentication token received."),r(!1))}catch(v){console.error(" Admin login error:",v),a("Connection error. Please check if the server is running."),r(!1)}},className:"admin-login-form",children:[g("div",{className:"form-field",children:[l("label",{htmlFor:"email",children:"Email Address"}),l("div",{className:"input-wrapper",children:l("input",{id:"email",name:"email",type:"email",placeholder:"admin@example.com",value:e.email,onChange:d,required:!0,autoComplete:"email"})})]}),g("div",{className:"form-field",children:[l("label",{htmlFor:"password",children:"Password"}),g("div",{className:"input-wrapper password-wrapper",children:[l("input",{id:"password",name:"password",type:o?"text":"password",placeholder:"Enter your password",value:e.password,onChange:d,required:!0,autoComplete:"current-password"}),l("button",{type:"button",className:"toggle-password",onClick:()=>c(!o),"aria-label":o?"Hide password":"Show password",children:o?l("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l("path",{d:"M3 3L21 21M10.5 10.5C10.0353 10.9646 9.75 11.6022 9.75 12.3C9.75 13.6912 10.8588 14.8 12.25 14.8C12.9478 14.8 13.5854 14.5147 14.05 14.05M7.36364 7.36364C5.40091 8.88182 4 11.0909 4 13.5C4 18 9 21 12 21C14.0909 21 15.9091 20.4 17.3636 19.3636M20 16C20.8182 14.9091 21.2727 13.7273 21.2727 12.5C21.2727 8 16.2727 5 13.2727 5C12.5455 5 11.8182 5.09091 11.1818 5.27273",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}):g("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("path",{d:"M12 5C8 5 4.5 7.5 2 12C4.5 16.5 8 19 12 19C16 19 19.5 16.5 22 12C19.5 7.5 16 5 12 5Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})]})]}),l("button",{type:"submit",className:"admin-submit-btn",disabled:i,children:i?g(Ft,{children:[l("span",{className:"spinner"}),"Authenticating..."]}):g(Ft,{children:[g("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("path",{d:"M15 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M10 17L15 12L10 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M15 12H3",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Sign In as Admin"]})})]}),l("div",{className:"admin-login-footer",children:l("button",{type:"button",className:"footer-link",onClick:()=>n("/login"),children:" Back to User Login"})})]}),g("div",{className:"security-notice",children:[l("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l("path",{d:"M12 2L3 7V11C3 16.55 6.84 21.74 12 23C17.16 21.74 21 16.55 21 11V7L12 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),l("span",{children:"This is a secure admin area. All access attempts are logged."})]})]})]})};function wfe({email:n,onVerify:e,onResend:t,onBack:i,loading:r=!1,error:s="",remainingAttempts:a=null}){const[o,c]=ie.useState(["","","","","",""]),[d,u]=ie.useState(600),[f,h]=ie.useState(!1),[p,v]=ie.useState(60),w=ie.useRef([]);ie.useEffect(()=>{const C=setInterval(()=>{u(P=>P<=1?(clearInterval(C),0):P-1)},1e3);return()=>clearInterval(C)},[]),ie.useEffect(()=>{if(p>0){const C=setTimeout(()=>{v(P=>P-1)},1e3);return()=>clearTimeout(C)}else h(!0)},[p]);const b=(C,P)=>{var A;if(!/^\d*$/.test(P))return;const D=[...o];D[C]=P,c(D);const E=D.every(I=>I!=="");console.log(" OTP changed:",{otp:D.join(""),complete:E,array:D}),P&&C<5&&((A=w.current[C+1])==null||A.focus())},m=(C,P)=>{var D;P.key==="Backspace"&&!o[C]&&C>0&&((D=w.current[C-1])==null||D.focus())},y=C=>{var A;C.preventDefault();const P=C.clipboardData.getData("text").slice(0,6);if(!/^\d+$/.test(P))return;const D=P.split("");c([...D,...Array(6-D.length).fill("")]);const E=Math.min(D.length,5);(A=w.current[E])==null||A.focus()},_=C=>{C.preventDefault();const P=o.join("");console.log(" OTPVerification: handleSubmit called",{otpString:P,length:P.length}),P.length===6?(console.log(" OTPVerification: Valid OTP, calling onVerify..."),e(P)):console.log(" OTPVerification: Invalid OTP length",P.length)},x=()=>{f&&(h(!1),v(60),u(600),c(["","","","","",""]),t())},N=C=>{const P=Math.floor(C/60),D=C%60;return`${P}:${D.toString().padStart(2,"0")}`},k={container:{background:"#fff",borderRadius:"20px",padding:"50px",maxWidth:"500px",width:"100%",boxShadow:"0 30px 80px rgba(0, 0, 0, 0.3)",textAlign:"center"},title:{fontSize:"32px",fontWeight:"700",color:"#333",marginBottom:"12px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},subtitle:{fontSize:"15px",color:"#666",marginBottom:"10px"},email:{fontSize:"16px",fontWeight:"600",color:"#667eea",marginBottom:"30px"},otpContainer:{display:"flex",gap:"12px",justifyContent:"center",marginBottom:"25px"},otpInput:{width:"50px",height:"60px",fontSize:"24px",fontWeight:"700",textAlign:"center",border:"2px solid #e8e8e8",borderRadius:"12px",background:"#f7f8fa",outline:"none",transition:"all 0.3s ease",fontFamily:"'Poppins', monospace"},timer:{fontSize:"14px",color:"#999",marginBottom:"20px"},timerActive:{color:"#667eea",fontWeight:"600"},timerExpired:{color:"#e74c3c",fontWeight:"600"},error:{background:"#fee",border:"1px solid #fcc",borderRadius:"8px",padding:"12px",color:"#c00",fontSize:"14px",marginBottom:"20px"},attemptsWarning:{background:"#fff3cd",border:"1px solid #ffeaa7",borderRadius:"8px",padding:"12px",color:"#856404",fontSize:"14px",marginBottom:"20px"},button:{borderRadius:"12px",border:"none",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"#fff",fontSize:"15px",fontWeight:"700",padding:"16px 40px",width:"100%",letterSpacing:"0.5px",textTransform:"uppercase",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",cursor:"pointer",boxShadow:"0 10px 25px rgba(102, 126, 234, 0.3)",marginBottom:"15px",position:"relative",zIndex:10,pointerEvents:"auto"},buttonDisabled:{opacity:.6,cursor:"not-allowed",pointerEvents:"none"},resendButton:{background:"transparent",border:"2px solid #667eea",color:"#667eea",boxShadow:"none"},backButton:{background:"transparent",border:"2px solid #ddd",color:"#666",boxShadow:"none",marginTop:"10px"},link:{color:"#667eea",textDecoration:"none",fontWeight:"600",cursor:"pointer"}},T=o.every(C=>C!=="");return console.log(" OTPVerification Render State:",{otp:o,otpString:o.join(""),otpComplete:T,loading:r,buttonDisabled:!T||r}),g("div",{style:k.container,children:[l("style",{children:`
          .otp-input:focus {
            border-color: #667eea !important;
            background: #fff !important;
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1) !important;
          }
          
          .verify-btn {
            position: relative !important;
            z-index: 10 !important;
            pointer-events: auto !important;
          }
          
          .verify-btn:disabled {
            pointer-events: none !important;
            cursor: not-allowed !important;
          }
          
          .verify-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 15px 35px rgba(102, 126, 234, 0.4) !important;
          }
          
          .resend-btn:hover:not(:disabled) {
            background: #667eea !important;
            color: #fff !important;
          }
          
          .back-btn:hover {
            background: #f5f5f5 !important;
            border-color: #999 !important;
          }

          .btn-spinner {
            width: 16px;
            height: 16px;
            border: 2px solid rgba(255,255,255,0.3);
            border-top-color: #fff;
            border-radius: 50%;
            display: inline-block;
            vertical-align: middle;
            margin-right: 10px;
            animation: spin 1s linear infinite;
          }

          @keyframes spin {
            to { transform: rotate(360deg); }
          }
        `}),l("h1",{style:k.title,children:"Verify Your Email"}),l("p",{style:k.subtitle,children:"We've sent a 6-digit code to"}),l("p",{style:k.email,children:n}),g("form",{onSubmit:_,children:[l("div",{style:k.otpContainer,children:o.map((C,P)=>l("input",{ref:D=>w.current[P]=D,className:"otp-input",style:k.otpInput,type:"text",inputMode:"numeric",maxLength:1,value:C,onChange:D=>b(P,D.target.value),onKeyDown:D=>m(P,D),onPaste:P===0?y:void 0,autoFocus:P===0},P))}),l("div",{style:k.timer,children:d>0?g("span",{style:k.timerActive,children:["Code expires in ",N(d)]}):l("span",{style:k.timerExpired,children:" Code expired. Please request a new one."})}),s&&l("div",{style:k.error,children:s}),a!==null&&a<=2&&g("div",{style:k.attemptsWarning,children:[" Warning: ",a," attempt",a!==1?"s":""," remaining"]}),l("button",{type:"submit",className:"verify-btn",style:{...k.button,...(!T||r)&&k.buttonDisabled},disabled:!T||r,onClick:C=>{console.log(" BUTTON CLICKED!",{otpComplete:T,loading:r,disabled:!T||r})},children:r?g(Ft,{children:[l("span",{className:"btn-spinner","aria-hidden":!0}),"Verifying..."]}):"Verify Email"}),l("button",{type:"button",className:"resend-btn",style:{...k.button,...k.resendButton,...!f&&k.buttonDisabled},onClick:x,disabled:!f,children:f?"Resend Code":`Resend in ${p}s`}),l("button",{type:"button",className:"back-btn",style:{...k.button,...k.backButton},onClick:i,children:"Back to Signup"})]}),g("p",{style:{marginTop:"20px",fontSize:"13px",color:"#999"},children:["Didn't receive the code? Check your spam folder or"," ",l("span",{style:k.link,onClick:f?x:void 0,children:"resend it"})]})]})}function xfe(){const[n,e]=ie.useState(!1),[t,i]=ie.useState(!1),[r,s]=ie.useState(!1),[a,o]=ie.useState(""),[c,d]=ie.useState(!1),[u,f]=ie.useState(""),[h,p]=ie.useState(!1),[v,w]=ie.useState(null),[b,m]=ie.useState({firstName:"",lastName:"",email:"",phone:"",country:"",password:"",confirmPassword:"",agreeTerms:!1}),y=or(),{requestSignupOTP:_,verifySignupOTP:x,checkAuthStatus:N}=hs(),{showNotification:k}=Ao(),T=M=>{const{name:Y,value:q,type:G,checked:B}=M.target;m({...b,[Y]:G==="checkbox"?B:q})},C=M=>{if(M.preventDefault(),b.password!==b.confirmPassword){o("Passwords don't match!"),k("Passwords don't match!","error");return}if(!b.agreeTerms){o("Please accept the Terms of Service and Privacy Policy"),k("Please accept the Terms of Service and Privacy Policy","error");return}(async()=>{var Y,q;o(""),s(!0);try{const G={firstName:b.firstName,lastName:b.lastName,email:b.email,phone:b.phone,country:b.country,password:b.password},B=await _(G);if(B.success===!1){o(B.error||"Failed to send verification code"),k(B.error||"Failed to send verification code","error"),s(!1);return}k("Verification code sent to your email!","success"),d(!0),s(!1)}catch(G){console.error("Signup OTP request error",G);const B=((q=(Y=G==null?void 0:G.response)==null?void 0:Y.data)==null?void 0:q.message)||(G==null?void 0:G.message)||"Failed to send verification code";o(B),k(B,"error"),s(!1)}})()},P=async M=>{var Y,q,G,B;console.log(" Starting OTP verification...",{email:b.email,otp:M}),f(""),p(!0),w(null);try{console.log(" Calling verifySignupOTP...");const J=await x(b.email,M);if(console.log(" Response received:",J),J.success===!1){console.log(" Verification failed:",J.error),f(J.error||"Invalid verification code"),w(J.remainingAttempts),k(J.error||"Invalid verification code","error"),p(!1);return}console.log(" Verification successful!"),k("Email verified! Welcome to Planning Insights!","success"),p(!1),setTimeout(()=>{y("/dashboard")},500)}catch(J){console.error(" OTP verification error:",J),console.error("Error details:",{message:J==null?void 0:J.message,response:(Y=J==null?void 0:J.response)==null?void 0:Y.data,status:(q=J==null?void 0:J.response)==null?void 0:q.status});const W=((B=(G=J==null?void 0:J.response)==null?void 0:G.data)==null?void 0:B.message)||(J==null?void 0:J.message)||"Verification failed";f(W),k(W,"error"),p(!1)}},D=async()=>{var M,Y;f("");try{const q={firstName:b.firstName,lastName:b.lastName,email:b.email,phone:b.phone,country:b.country,password:b.password},G=await _(q);G.success?(k("New verification code sent!","success"),w(null)):(f(G.error||"Failed to resend code"),k(G.error||"Failed to resend code","error"))}catch(q){console.error("Resend OTP error",q);const G=((Y=(M=q==null?void 0:q.response)==null?void 0:M.data)==null?void 0:Y.message)||(q==null?void 0:q.message)||"Failed to resend code";f(G),k(G,"error")}},E=()=>{d(!1),f(""),w(null)},A=async()=>{try{const M=await Fq();console.log("Google sign-in user:",M),k("Signed in with Google","success"),y("/dashboard")}catch(M){console.error("Google sign-in error",M),k((M==null?void 0:M.message)||"Google sign-in failed","error")}};ie.useEffect(()=>{const M=new URLSearchParams(window.location.search),Y=M.get("token"),q=M.get("social_error"),G=M.get("social_error_description");if(q){k(G||q,"error");const B=new URL(window.location.href);B.searchParams.delete("social_error"),B.searchParams.delete("social_error_description"),window.history.replaceState({},document.title,B.pathname+B.search);return}if(Y)try{localStorage.setItem("authToken",Y);const B=new URL(window.location.href);B.searchParams.delete("token"),window.history.replaceState({},document.title,B.pathname+B.search),N==null||N(),k("Signed in with LinkedIn","success"),y("/dashboard")}catch(B){console.error("LinkedIn token handling failed",B),k("LinkedIn sign-in failed","error")}},[]);const I=["United States","United Kingdom","Canada","Australia","Germany","France","Spain","Italy","Netherlands","Sweden","Norway","Denmark","India","China","Japan","South Korea","Singapore","UAE","Brazil","Mexico","Argentina","South Africa","Nigeria","Kenya","Egypt"],R={container:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",fontFamily:"'Poppins', sans-serif",padding:"20px",position:"relative",overflow:"hidden"},backgroundShapes:{position:"absolute",width:"100%",height:"100%",overflow:"hidden",zIndex:0},shape:{position:"absolute",borderRadius:"50%",opacity:.1},shape1:{width:"500px",height:"500px",background:"#fff",top:"-250px",right:"-250px",animation:"float 8s ease-in-out infinite"},shape2:{width:"400px",height:"400px",background:"#fff",bottom:"-200px",left:"-200px",animation:"float 10s ease-in-out infinite reverse"},shape3:{width:"350px",height:"350px",background:"#fff",top:"40%",left:"15%",animation:"float 12s ease-in-out infinite"},card:{background:"#fff",borderRadius:"20px",boxShadow:"0 30px 80px rgba(0, 0, 0, 0.3)",position:"relative",overflow:"hidden",width:"1000px",maxWidth:"100%",minHeight:"650px",display:"flex",zIndex:1},overlayContainer:{width:"40%",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"60px 50px",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",zIndex:100},overlayContent:{maxWidth:"350px",textAlign:"center"},overlayTitle:{fontSize:"42px",fontWeight:"800",marginBottom:"20px",textShadow:"0 2px 10px rgba(0, 0, 0, 0.2)",lineHeight:"1.2"},overlayText:{fontSize:"16px",lineHeight:"28px",marginBottom:"40px",opacity:.95,fontWeight:"400"},ghostButton:{borderRadius:"30px",border:"2px solid #fff",background:"transparent",color:"#fff",fontSize:"14px",fontWeight:"700",padding:"16px 50px",letterSpacing:"0.5px",textTransform:"uppercase",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",cursor:"pointer"},features:{marginTop:"40px",display:"flex",flexDirection:"column",gap:"15px",textAlign:"left"},feature:{display:"flex",alignItems:"center",gap:"12px",fontSize:"15px"},checkIcon:{width:"24px",height:"24px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.25)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",flexShrink:0},formContainer:{width:"60%",padding:"50px 60px",display:"flex",alignItems:"center",justifyContent:"center",overflowY:"auto",background:"#fff"},form:{width:"100%",maxWidth:"550px"},title:{fontSize:"36px",fontWeight:"700",color:"#333",marginBottom:"8px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textAlign:"center"},subtitle:{fontSize:"15px",color:"#666",marginBottom:"30px",textAlign:"center",fontWeight:"400"},socialContainer:{display:"flex",gap:"20px",marginBottom:"25px",justifyContent:"center"},socialBase:{border:"2px solid",borderRadius:"12px",display:"inline-flex",justifyContent:"center",alignItems:"center",height:"50px",width:"120px",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",fontSize:"14px",fontWeight:"600",fontFamily:"'Poppins', sans-serif"},google:{borderColor:"#ea4335",color:"#ea4335",background:"#fff"},linkedin:{borderColor:"#0a66c2",color:"#0a66c2",background:"#fff"},divider:{display:"flex",alignItems:"center",margin:"25px 0",color:"#999",fontSize:"14px"},dividerLine:{flex:1,height:"1px",background:"#e8e8e8"},dividerText:{padding:"0 20px",fontWeight:"500",color:"#888"},row:{display:"flex",gap:"20px",marginBottom:"20px"},inputGroup:{flex:1},inputGroupFull:{marginBottom:"20px"},label:{fontSize:"14px",fontWeight:"600",color:"#555",marginBottom:"8px",display:"block"},required:{color:"#e74c3c",marginLeft:"3px"},input:{background:"#f7f8fa",border:"2px solid #e8e8e8",padding:"14px 18px",width:"100%",borderRadius:"12px",fontSize:"15px",outline:"none",transition:"all 0.3s ease",fontFamily:"inherit",color:"#333"},select:{background:"#f7f8fa",border:"2px solid #e8e8e8",padding:"14px 18px",width:"100%",borderRadius:"12px",fontSize:"15px",outline:"none",transition:"all 0.3s ease",fontFamily:"inherit",color:"#333",cursor:"pointer"},passwordContainer:{position:"relative"},eyeButton:{position:"absolute",right:"18px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",fontSize:"20px",padding:"5px",color:"#999",transition:"color 0.3s ease"},checkbox:{display:"flex",alignItems:"flex-start",gap:"10px",color:"#666",fontSize:"14px",marginBottom:"25px",lineHeight:"1.6"},checkboxInput:{marginTop:"3px",cursor:"pointer"},link:{color:"#667eea",textDecoration:"none",fontWeight:"600"},button:{borderRadius:"12px",border:"none",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"#fff",fontSize:"15px",fontWeight:"700",padding:"16px 40px",width:"100%",letterSpacing:"0.5px",textTransform:"uppercase",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",cursor:"pointer",boxShadow:"0 10px 25px rgba(102, 126, 234, 0.3)"}};return g("div",{style:R.container,children:[l("style",{children:`
          @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap');
          
          * { box-sizing: border-box; }
          
          @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-30px) rotate(5deg); }
          }

          /* Button spinner */
          .btn-spinner {
            width: 16px;
            height: 16px;
            border: 2px solid rgba(240, 226, 226, 0.08);
            border-top-color: rgba(102,126,234,1);
            border-radius: 50%;
            display: inline-block;
            vertical-align: middle;
            margin-right: 10px;
            animation: spin 1s linear infinite;
          }

          @keyframes spin {
            to { transform: rotate(360deg); }
          }
          
          input:focus, select:focus {
            border-color: #667eea !important;
            background: #fff !important;
            box-shadow: 0 0 0 4px rgba(206, 209, 223, 0.1) !important;
          }
          
          .social-google:hover {
            background: #ea4335 !important;
            color: #fff !important;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(234, 67, 53, 0.3);
          }
          
          .social-linkedin:hover {
            background: #0a66c2 !important;
            color: #fff !important;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(10, 102, 194, 0.3);
          }
          
          .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 35px rgba(102, 126, 234, 0.4);
          }
          
          .ghost-btn:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: scale(1.05);
          }
          
          .eye-btn:hover {
            color: #667eea;
          }
          
          ::-webkit-scrollbar {
            width: 8px;
          }
          
          ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
          }
          
          ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 10px;
          }
          
          @media (max-width: 1000px) {
            .overlay-container {
              display: none !important;
            }
            .form-container {
              width: 100% !important;
              padding: 40px 30px !important;
            }
          }
          
          @media (max-width: 600px) {
            .input-row {
              flex-direction: column !important;
            }
            .social-container {
              flex-direction: column !important;
              align-items: center !important;
            }
            .social-button {
              width: 100% !important;
              max-width: 280px !important;
            }
          }
        `}),g("div",{style:R.backgroundShapes,children:[l("div",{style:{...R.shape,...R.shape1}}),l("div",{style:{...R.shape,...R.shape2}}),l("div",{style:{...R.shape,...R.shape3}})]}),c?l(wfe,{email:b.email,onVerify:P,onResend:D,onBack:E,loading:h,error:u,remainingAttempts:v}):g("div",{style:R.card,children:[l("div",{className:"overlay-container",style:R.overlayContainer,children:g("div",{style:R.overlayContent,children:[l("h1",{style:R.overlayTitle,children:"Have an existing account?"}),l("p",{style:R.overlayText,children:"Signin Here"}),l("button",{className:"ghost-btn",style:R.ghostButton,onClick:()=>y("/login"),children:"Sign In"})]})}),l("div",{className:"form-container",style:R.formContainer,children:g("form",{style:R.form,onSubmit:C,children:[l("h1",{style:R.title,children:"Create Account"}),l("p",{style:R.subtitle,children:"Fill in your details to get started"}),g("div",{style:R.socialContainer,children:[g("button",{type:"button",className:"social-google social-button",style:{...R.socialBase,...R.google},"aria-label":"Sign up with Google",onClick:A,children:[g("svg",{width:"18",height:"18",viewBox:"0 0 24 24",style:{marginRight:"8px"},children:[l("path",{fill:"#ea4335",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),l("path",{fill:"#34a853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),l("path",{fill:"#fbbc05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),l("path",{fill:"#ea4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),g("button",{type:"button",className:"social-linkedin social-button",style:{...R.socialBase,...R.linkedin},"aria-label":"Sign up with LinkedIn",onClick:()=>{try{localStorage.removeItem("authToken")}catch{}const Y=({}.VITE_API_BASE_URL||"http://localhost:3000/api").replace(/\/?api\/?$/i,"");window.location.assign(`${Y}/api/auth/linkedin`)},children:[l("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"#0a66c2",style:{marginRight:"8px"},children:l("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),"LinkedIn"]})]}),g("div",{style:{textAlign:"center",marginBottom:20,fontSize:13,color:"#666"},children:["Trouble switching LinkedIn accounts?",l("button",{type:"button",style:{marginLeft:8,color:"#0a66c2",textDecoration:"underline",background:"transparent",border:"none",cursor:"pointer"},onClick:()=>{try{localStorage.removeItem("authToken")}catch{}k('You will be taken to LinkedIn to sign out. Then return here and click "Sign up with LinkedIn" again.',"info"),window.open("https://www.linkedin.com/m/logout/","_blank","noopener,noreferrer")},children:"Sign out of LinkedIn first"})]}),g("div",{style:R.divider,children:[l("div",{style:R.dividerLine}),l("span",{style:R.dividerText,children:"or register with email"}),l("div",{style:R.dividerLine})]}),g("div",{className:"input-row",style:R.row,children:[g("div",{style:R.inputGroup,children:[g("label",{style:R.label,children:["First Name",l("span",{style:R.required,children:"*"})]}),l("input",{style:R.input,type:"text",placeholder:"First Name",name:"firstName",value:b.firstName,onChange:T,required:!0})]}),g("div",{style:R.inputGroup,children:[g("label",{style:R.label,children:["Last Name",l("span",{style:R.required,children:"*"})]}),l("input",{style:R.input,type:"text",placeholder:"Last Name",name:"lastName",value:b.lastName,onChange:T,required:!0})]})]}),g("div",{style:R.inputGroupFull,children:[g("label",{style:R.label,children:["Email Address",l("span",{style:R.required,children:"*"})]}),l("input",{style:R.input,type:"email",placeholder:"Email@Gmail.com",name:"email",value:b.email,onChange:T,required:!0})]}),g("div",{className:"input-row",style:R.row,children:[g("div",{style:R.inputGroup,children:[l("label",{style:R.label,children:"Phone Number"}),l("input",{style:R.input,type:"tel",placeholder:"+91 1234567890",name:"phone",value:b.phone,onChange:T})]}),g("div",{style:R.inputGroup,children:[g("label",{style:R.label,children:["Country",l("span",{style:R.required,children:"*"})]}),g("select",{style:R.select,name:"country",value:b.country,onChange:T,required:!0,children:[l("option",{value:"",children:"Select your country"}),I.map(M=>l("option",{value:M,children:M},M))]})]})]}),g("div",{className:"input-row",style:R.row,children:[g("div",{style:R.inputGroup,children:[g("label",{style:R.label,children:["Password",l("span",{style:R.required,children:"*"})]}),g("div",{style:R.passwordContainer,children:[l("input",{style:R.input,type:n?"text":"password",placeholder:"Min. 8 characters",name:"password",value:b.password,onChange:T,required:!0}),l("button",{type:"button",className:"eye-btn",style:R.eyeButton,onClick:()=>e(!n),children:n?"":""})]})]}),g("div",{style:R.inputGroup,children:[g("label",{style:R.label,children:["Confirm Password",l("span",{style:R.required,children:"*"})]}),g("div",{style:R.passwordContainer,children:[l("input",{style:R.input,type:t?"text":"password",placeholder:"Re-enter password",name:"confirmPassword",value:b.confirmPassword,onChange:T,required:!0}),l("button",{type:"button",className:"eye-btn",style:R.eyeButton,onClick:()=>i(!t),children:t?"":""})]})]})]}),g("label",{style:R.checkbox,children:[l("input",{style:R.checkboxInput,type:"checkbox",name:"agreeTerms",checked:b.agreeTerms,onChange:T,required:!0}),g("span",{children:["I agree to the ",l("a",{style:R.link,href:"#",children:"Terms of Service"})," and"," ",l("a",{style:R.link,href:"#",children:"Privacy Policy"})]})]}),a&&l("div",{style:{color:"#b00020",marginBottom:"12px",textAlign:"center"},children:a}),l("button",{type:"submit",className:"submit-btn",style:R.button,disabled:r,children:r?g(Ft,{children:[l("span",{className:"btn-spinner","aria-hidden":!0}),"Sending verification code..."]}):"Create Account"})]})})]})]})}const _fe=()=>l("div",{className:"signup-page",children:l(xfe,{})}),Sfe=n=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n);const I1=({size:n="md",color:e="primary",text:t="Loading...",overlay:i=!1})=>{const r={sm:"loader-sm",md:"loader-md",lg:"loader-lg"},s={primary:"loader-primary",white:"loader-white",secondary:"loader-secondary"},a=()=>g("div",{className:"loader-container",children:[l("div",{className:`loader-spinner ${r[n]} ${s[e]}`}),t&&l("p",{className:"loader-text",children:t})]});return i?l("div",{className:"loader-overlay",children:a()}):a()},Nfe=()=>{const{forgotPassword:n,resetPassword:e,verifyOTP:t}=hs(),{showNotification:i}=Ao(),[r,s]=ie.useState("email"),[a,o]=ie.useState(!1),[c,d]=ie.useState({email:"",otp:["","","","","",""],newPassword:"",confirmPassword:""}),[u,f]=ie.useState({}),[h,p]=ie.useState(!1),[v,w]=ie.useState(!1),b=async E=>{if(E.preventDefault(),!c.email.trim()){f({email:"Email is required"});return}if(!Sfe(c.email)){f({email:"Please enter a valid email address"});return}o(!0);try{const A=await n(c.email);A.success?(i("Reset code sent to your email","success"),s("otp"),f({})):i(A.error||"Failed to send reset code","error")}catch{i("Failed to send reset code","error")}finally{o(!1)}},m=(E,A)=>{var R;if(A.length>1&&(A=A[0]),!/^\d*$/.test(A))return;const I=[...c.otp];I[E]=A,d(M=>({...M,otp:I})),A&&E<5&&((R=document.getElementById(`reset-otp-${E+1}`))==null||R.focus())},y=(E,A)=>{var I;A.key==="Backspace"&&!c.otp[E]&&E>0&&((I=document.getElementById(`reset-otp-${E-1}`))==null||I.focus())},_=E=>{var M,Y;E.preventDefault();const A=E.clipboardData.getData("text").slice(0,6);if(!/^\d+$/.test(A))return;const I=A.split("").concat(Array(6-A.length).fill(""));d(q=>({...q,otp:I}));const R=I.findIndex(q=>!q);R!==-1?(M=document.getElementById(`reset-otp-${R}`))==null||M.focus():(Y=document.getElementById("reset-otp-5"))==null||Y.focus()},x=async E=>{E.preventDefault();const A=c.otp.join("");if(A.length!==6){i("Please enter complete 6-digit code","error");return}o(!0);try{const I=await t(c.email,A);I.success?(i("Code verified successfully","success"),s("reset")):i(I.error||"Invalid verification code","error")}catch{i("Verification failed","error")}finally{o(!1)}},N=async E=>{E.preventDefault();const A={};if(c.newPassword?c.newPassword.length<8&&(A.newPassword="Password must be at least 8 characters"):A.newPassword="New password is required",c.confirmPassword?c.newPassword!==c.confirmPassword&&(A.confirmPassword="Passwords do not match"):A.confirmPassword="Please confirm your password",Object.keys(A).length>0){f(A);return}o(!0);try{const I=await e("reset-token",c.newPassword);I.success?(i("Password reset successfully!","success"),s("success")):i(I.error||"Password reset failed","error")}catch{i("Password reset failed","error")}finally{o(!1)}},k=async()=>{var E;try{const A=await n(c.email);A.success?(i("New code sent to your email","success"),d(I=>({...I,otp:["","","","","",""]})),(E=document.getElementById("reset-otp-0"))==null||E.focus()):i(A.error||"Failed to resend code","error")}catch{i("Failed to resend code","error")}},T=()=>g("form",{onSubmit:b,className:"auth-form",children:[g("div",{className:`form-group ${u.email?"error":""}`,children:[g("label",{htmlFor:"email",children:[l(Lb,{size:18}),"Email Address"]}),l("input",{id:"email",type:"email",value:c.email,onChange:E=>{d(A=>({...A,email:E.target.value})),f({})},placeholder:"you@example.com",autoComplete:"email",autoFocus:!0}),u.email&&l("span",{className:"error-message slide-in",children:u.email})]}),l("button",{type:"submit",className:"btn btn-primary btn-large",disabled:a,children:a?l(I1,{size:"small"}):g(Ft,{children:["Send Reset Code",l(Lb,{size:20})]})}),g(Cn,{to:"/login",className:"back-link",children:[l(tf,{size:18}),"Back to Sign In"]})]}),C=()=>g("form",{onSubmit:x,className:"auth-form",children:[l("div",{className:"otp-input-group",children:c.otp.map((E,A)=>l("input",{id:`reset-otp-${A}`,type:"text",inputMode:"numeric",maxLength:"1",value:E,onChange:I=>m(A,I.target.value),onKeyDown:I=>y(A,I),onPaste:A===0?_:void 0,className:`otp-input ${E?"filled":""}`,autoFocus:A===0},A))}),l("button",{type:"submit",className:"btn btn-primary btn-large",disabled:a||c.otp.join("").length!==6,children:a?l(I1,{size:"small"}):g(Ft,{children:["Verify Code",l(di,{size:20})]})}),l("div",{className:"form-footer",children:g("p",{children:["Didn't receive the code?"," ",l("button",{type:"button",onClick:k,className:"link-button",disabled:a,children:"Resend Code"})]})})]}),P=()=>g("form",{onSubmit:N,className:"auth-form",children:[g("div",{className:`form-group ${u.newPassword?"error":""}`,children:[g("label",{htmlFor:"newPassword",children:[l(Rb,{size:18}),"New Password"]}),g("div",{className:"input-with-icon",children:[l("input",{id:"newPassword",type:h?"text":"password",value:c.newPassword,onChange:E=>{d(A=>({...A,newPassword:E.target.value})),f(A=>({...A,newPassword:""}))},placeholder:"Enter new password",autoComplete:"new-password"}),l("button",{type:"button",className:"icon-button",onClick:()=>p(!h),children:h?l(_9,{size:18}):l(na,{size:18})})]}),u.newPassword&&l("span",{className:"error-message slide-in",children:u.newPassword})]}),g("div",{className:`form-group ${u.confirmPassword?"error":""}`,children:[g("label",{htmlFor:"confirmPassword",children:[l(Rb,{size:18}),"Confirm Password"]}),g("div",{className:"input-with-icon",children:[l("input",{id:"confirmPassword",type:v?"text":"password",value:c.confirmPassword,onChange:E=>{d(A=>({...A,confirmPassword:E.target.value})),f(A=>({...A,confirmPassword:""}))},placeholder:"Confirm new password",autoComplete:"new-password"}),l("button",{type:"button",className:"icon-button",onClick:()=>w(!v),children:v?l(_9,{size:18}):l(na,{size:18})})]}),u.confirmPassword&&l("span",{className:"error-message slide-in",children:u.confirmPassword})]}),l("button",{type:"submit",className:"btn btn-primary btn-large",disabled:a,children:a?l(I1,{size:"small"}):g(Ft,{children:["Reset Password",l(di,{size:20})]})})]}),D=()=>g("div",{className:"success-container",children:[l("div",{className:"success-icon",children:l(di,{size:64})}),l("h2",{children:"Password Reset Successfully!"}),l("p",{children:"Your password has been reset. You can now sign in with your new password."}),g(Cn,{to:"/login",className:"btn btn-primary btn-large",children:["Go to Sign In",l(tf,{size:20})]})]});return g("div",{className:"auth-container",children:[g("div",{className:"auth-background",children:[l("div",{className:"gradient-orb orb-1"}),l("div",{className:"gradient-orb orb-2"}),l("div",{className:"gradient-orb orb-3"})]}),l("div",{className:"auth-content",children:g("div",{className:"auth-card",children:[g("div",{className:"auth-header",children:[l("div",{className:"auth-icon",children:r==="success"?l(di,{size:32}):l(gx,{size:32})}),g("h1",{children:[r==="email"&&"Reset Password",r==="otp"&&"Verify Your Identity",r==="reset"&&"Create New Password",r==="success"&&"All Set!"]}),g("p",{children:[r==="email"&&"Enter your email to receive a password reset code",r==="otp"&&`Enter the 6-digit code sent to ${c.email}`,r==="reset"&&"Choose a strong password for your account",r==="success"&&"Your password has been successfully reset"]})]}),r==="email"&&T(),r==="otp"&&C(),r==="reset"&&P(),r==="success"&&D()]})})]})},Afe=()=>l("div",{className:"forgot-password-page",children:l(Nfe,{})}),kfe={}.VITE_API_BASE_URL||"http://localhost:3000/api",Xe=o$.create({baseURL:kfe,headers:{"Content-Type":"application/json"}});Xe.interceptors.request.use(n=>{const e=localStorage.getItem("authToken");return e&&(n.headers.Authorization=`Bearer ${e}`),n.data instanceof FormData&&delete n.headers["Content-Type"],n},n=>Promise.reject(n));Xe.interceptors.response.use(n=>n,n=>{var e;return((e=n.response)==null?void 0:e.status)===401&&(window.location.pathname.includes("/login")||(localStorage.removeItem("authToken"),window.location.href="/login")),Promise.reject(n)});const Ps={getArticles:async(n={})=>(await Xe.get("/newsroom/articles",{params:n})).data,getArticle:async n=>(await Xe.get(`/newsroom/articles/${n}`)).data,getPublishedArticles:async(n={})=>(await Xe.get("/newsroom/articles/published",{params:n})).data,getPublicArticles:async(n={})=>(await Xe.get("/newsroom/articles",{params:{...n,status:"published",approvalStatus:"approved"}})).data,searchUsers:async n=>(await Xe.get("/user/search",{params:{q:n,limit:10}})).data,likeArticle:async n=>(await Xe.post(`/newsroom/articles/${n}/like`)).data,dislikeArticle:async n=>(await Xe.post(`/newsroom/articles/${n}/dislike`)).data,flagArticle:async(n,e,t)=>(await Xe.post(`/newsroom/articles/${n}/flag`,{reason:e,description:t})).data,shareArticle:async n=>(await Xe.post(`/newsroom/articles/${n}/share`)).data,getArticleStats:async n=>(await Xe.get(`/newsroom/articles/${n}/stats`)).data,createArticle:async n=>{let e;return n instanceof FormData?e=n:(e=new FormData,Object.keys(n).forEach(i=>{i==="tags"||i==="coAuthors"||i==="plagiarismReport"?e.append(i,JSON.stringify(n[i])):i==="featuredImage"&&n[i]?e.append("featuredImage",n[i]):n[i]!==null&&n[i]!==void 0&&e.append(i,n[i])})),(await Xe.post("/newsroom/articles",e,{headers:{"Content-Type":"multipart/form-data"}})).data},updateArticle:async(n,e)=>{const t=new FormData;return Object.keys(e).forEach(r=>{r==="tags"||r==="coAuthors"||r==="plagiarismReport"?t.append(r,JSON.stringify(e[r])):r==="featuredImage"&&e[r]?t.append("featuredImage",e[r]):e[r]!==null&&e[r]!==void 0&&t.append(r,e[r])}),(await Xe.put(`/newsroom/articles/${n}`,t,{headers:{"Content-Type":"multipart/form-data"}})).data},deleteArticle:async n=>(await Xe.delete(`/newsroom/articles/${n}`)).data,getUserArticles:async(n={})=>(await Xe.get("/newsroom/articles/user/my-articles",{params:n})).data,getMyArticles:async(n={})=>(await Xe.get("/newsroom/articles/user/my-articles",{params:n})).data,bookmarkArticle:async n=>(await Xe.post(`/newsroom/articles/${n}/bookmark`)).data,getBookmarks:async(n={})=>(await Xe.get("/newsroom/bookmarks",{params:n})).data,getComments:async(n,e={})=>(await Xe.get(`/newsroom/articles/${n}/comments`,{params:e})).data,addComment:async(n,e)=>(await Xe.post(`/newsroom/articles/${n}/comments`,e)).data,updateComment:async(n,e)=>(await Xe.put(`/newsroom/comments/${n}`,e)).data,deleteComment:async n=>(await Xe.delete(`/newsroom/comments/${n}`)).data,likeComment:async n=>(await Xe.post(`/newsroom/comments/${n}/like`)).data,reportContent:async n=>(await Xe.post("/newsroom/reports",n)).data,getCategories:async()=>(await Xe.get("/newsroom/categories")).data,getTrendingArticles:async(n={})=>(await Xe.get("/newsroom/articles/trending",{params:n})).data,searchArticles:async(n,e={})=>(await Xe.get("/newsroom/articles/search",{params:{q:n,...e}})).data,getAuthorProfile:async n=>(await Xe.get(`/newsroom/authors/${n}`)).data,followAuthor:async n=>(await Xe.post(`/newsroom/authors/${n}/follow`)).data,unfollowAuthor:async n=>(await Xe.delete(`/newsroom/authors/${n}/follow`)).data,getNewsletterSubscriptions:async()=>(await Xe.get("/newsroom/newsletter/subscriptions")).data,subscribeToNewsletter:async n=>(await Xe.post("/newsroom/newsletter/subscribe",{email:n})).data,unsubscribeFromNewsletter:async n=>(await Xe.delete(`/newsroom/newsletter/subscribe/${n}`)).data,getContentStats:async(n={})=>(await Xe.get("/newsroom/analytics/content-stats",{params:n})).data,getReadingHistory:async(n={})=>(await Xe.get("/newsroom/history",{params:n})).data,clearReadingHistory:async()=>(await Xe.delete("/newsroom/history")).data,checkPlagiarism:async(n,e="")=>(await Xe.post("/newsroom/plagiarism/check",{content:n,title:e})).data,getPlagiarismHistory:async()=>(await Xe.get("/newsroom/plagiarism/history")).data,getPlagiarismStats:async()=>(await Xe.get("/newsroom/plagiarism/stats")).data};const Efe=()=>{hs();const{showNotification:n}=Ao(),e=or(),[t,i]=ie.useState([]),[r,s]=ie.useState(!0),[a,o]=ie.useState("all");ie.useEffect(()=>{c()},[]);const c=async()=>{var y;s(!0);try{console.log("=== LOADING USER ARTICLES ===");const _=await Ps.getUserArticles();console.log("Response:",_);const x=((y=_.data)==null?void 0:y.articles)||_.articles||[];i(x),console.log(`Loaded ${x.length} articles`)}catch(_){console.error("Error loading articles:",_),n("Failed to load articles","error"),i([])}finally{s(!1)}},d=()=>({all:t.length,pending:t.filter(y=>y.approvalStatus==="pending").length,needsModification:t.filter(y=>y.approvalStatus==="needsModification").length,approved:t.filter(y=>y.approvalStatus==="approved").length,rejected:t.filter(y=>y.approvalStatus==="rejected").length}),u=()=>a==="all"?t:t.filter(y=>y.approvalStatus===a),f=d(),h=u(),p=y=>{e(`/news/edit/${y}`)},v=async y=>{if(window.confirm("Are you sure you want to delete this article?"))try{await Ps.deleteArticle(y),n("Article deleted successfully","success"),c()}catch{n("Failed to delete article","error")}},w=y=>{const{approvalStatus:_,status:x}=y;return _==="approved"?g("span",{className:"status-badge approved",children:[l(di,{size:16}),"Approved & Published"]}):_==="rejected"?g("span",{className:"status-badge rejected",children:[l(po,{size:16}),"Rejected"]}):_==="needsModification"?g("span",{className:"status-badge needs-modification",children:[l(IA,{size:16}),"Needs Modification"]}):_==="pending"?g("span",{className:"status-badge pending",children:[l(xr,{size:16}),"Pending Review"]}):g("span",{className:"status-badge draft",children:[l(Mn,{size:16}),"Draft"]})},b=y=>{const{approvalStatus:_}=y;return _==="needsModification"?g("div",{className:"article-alert",children:[l(IA,{size:20}),g("div",{children:[l("strong",{children:"Modification Required"}),l("p",{children:y.modificationNotes||"The admin has requested modifications to this article. Please review and update."}),g("button",{className:"btn-primary",onClick:()=>p(y._id),children:[l(mx,{size:16}),"Edit & Resubmit"]})]})]}):_==="rejected"?g("div",{className:"article-alert rejected-alert",children:[l(po,{size:20}),g("div",{children:[l("strong",{children:"Article Rejected"}),l("p",{children:y.rejectionReason||"Your article was rejected by the admin."})]})]}):null},m=y=>new Date(y).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return r?l("div",{className:"my-articles-page",children:g("div",{className:"loading-container",children:[l(w3,{className:"spinner",size:32}),l("p",{children:"Loading your articles..."})]})}):g("div",{className:"my-articles-page",children:[g("div",{className:"my-articles-header",children:[g("div",{children:[l("h1",{children:"My Articles"}),l("p",{children:"Manage and track your article submissions"})]}),g("div",{className:"header-actions",children:[g("button",{className:"btn-secondary",onClick:c,disabled:r,title:"Refresh articles",children:[l(w3,{size:20,className:r?"spinner":""}),"Refresh"]}),g("button",{className:"btn-primary",onClick:()=>e("/news/submit"),children:[l(nd,{size:20}),"New Article"]})]})]}),g("div",{className:"articles-filters",children:[g("button",{className:`filter-btn ${a==="all"?"active":""}`,onClick:()=>o("all"),children:["All Articles (",f.all,")"]}),g("button",{className:`filter-btn ${a==="pending"?"active":""}`,onClick:()=>o("pending"),children:[l(xr,{size:16}),"Pending Review",f.pending>0&&l("span",{className:"count-badge",children:f.pending})]}),g("button",{className:`filter-btn ${a==="needsModification"?"active":""}`,onClick:()=>o("needsModification"),children:[l(IA,{size:16}),"Needs Modification",f.needsModification>0&&l("span",{className:"count-badge warning",children:f.needsModification})]}),g("button",{className:`filter-btn ${a==="approved"?"active":""}`,onClick:()=>o("approved"),children:[l(di,{size:16}),"Approved",f.approved>0&&l("span",{className:"count-badge success",children:f.approved})]}),g("button",{className:`filter-btn ${a==="rejected"?"active":""}`,onClick:()=>o("rejected"),children:[l(po,{size:16}),"Rejected",f.rejected>0&&l("span",{className:"count-badge error",children:f.rejected})]})]}),h.length===0?g("div",{className:"empty-state",children:[l(Mn,{size:64}),g("h3",{children:[a==="all"&&"No articles found",a==="pending"&&"No pending articles",a==="needsModification"&&"No articles need modification",a==="approved"&&"No approved articles",a==="rejected"&&"No rejected articles"]}),g("p",{children:[a==="all"&&"You haven't submitted any articles yet.",a==="pending"&&"You don't have any articles awaiting review.",a==="needsModification"&&"None of your articles need modifications.",a==="approved"&&"You don't have any approved articles yet.",a==="rejected"&&"None of your articles have been rejected."]}),a==="all"&&g("button",{className:"btn-primary",onClick:()=>e("/news/submit"),children:[l(nd,{size:20}),"Create Your First Article"]})]}):l("div",{className:"articles-list",children:h.map(y=>g("div",{className:"article-card",children:[g("div",{className:"article-header",children:[g("div",{children:[l("h3",{children:y.title}),g("div",{className:"article-meta",children:[g("span",{children:["Category: ",y.category]}),l("span",{children:""}),g("span",{children:["Submitted: ",m(y.createdAt)]}),y.plagiarismScore!==void 0&&g(Ft,{children:[l("span",{children:""}),g("span",{className:y.plagiarismScore>30?"plagiarism-high":"plagiarism-ok",children:["Plagiarism: ",y.plagiarismScore,"%"]})]})]})]}),w(y)]}),b(y),l("p",{className:"article-excerpt",children:y.excerpt}),g("div",{className:"article-actions",children:[y.approvalStatus==="approved"&&g("button",{className:"btn-secondary",onClick:()=>e(`/news/${y._id}`),children:[l(na,{size:16}),"View Published"]}),(y.approvalStatus==="needsModification"||y.approvalStatus==="pending")&&g("button",{className:"btn-secondary",onClick:()=>p(y._id),children:[l(mx,{size:16}),"Edit"]}),y.approvalStatus!=="approved"&&g("button",{className:"btn-danger",onClick:()=>v(y._id),children:[l(s0,{size:16}),"Delete"]})]})]},y._id))})]})},wu=Object.create(null);wu.open="0";wu.close="1";wu.ping="2";wu.pong="3";wu.message="4";wu.upgrade="5";wu.noop="6";const OA=Object.create(null);Object.keys(wu).forEach(n=>{OA[wu[n]]=n});const z8={type:"error",data:"parser error"},kH=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",EH=typeof ArrayBuffer=="function",TH=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n&&n.buffer instanceof ArrayBuffer,BL=({type:n,data:e},t,i)=>kH&&e instanceof Blob?t?i(e):E9(e,i):EH&&(e instanceof ArrayBuffer||TH(e))?t?i(e):E9(new Blob([e]),i):i(wu[n]+(e||"")),E9=(n,e)=>{const t=new FileReader;return t.onload=function(){const i=t.result.split(",")[1];e("b"+(i||""))},t.readAsDataURL(n)};function T9(n){return n instanceof Uint8Array?n:n instanceof ArrayBuffer?new Uint8Array(n):new Uint8Array(n.buffer,n.byteOffset,n.byteLength)}let A6;function Tfe(n,e){if(kH&&n.data instanceof Blob)return n.data.arrayBuffer().then(T9).then(e);if(EH&&(n.data instanceof ArrayBuffer||TH(n.data)))return e(T9(n.data));BL(n,!1,t=>{A6||(A6=new TextEncoder),e(A6.encode(t))})}const C9="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",J2=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let n=0;n<C9.length;n++)J2[C9.charCodeAt(n)]=n;const Cfe=n=>{let e=n.length*.75,t=n.length,i,r=0,s,a,o,c;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);const d=new ArrayBuffer(e),u=new Uint8Array(d);for(i=0;i<t;i+=4)s=J2[n.charCodeAt(i)],a=J2[n.charCodeAt(i+1)],o=J2[n.charCodeAt(i+2)],c=J2[n.charCodeAt(i+3)],u[r++]=s<<2|a>>4,u[r++]=(a&15)<<4|o>>2,u[r++]=(o&3)<<6|c&63;return d},Dfe=typeof ArrayBuffer=="function",zL=(n,e)=>{if(typeof n!="string")return{type:"message",data:CH(n,e)};const t=n.charAt(0);return t==="b"?{type:"message",data:Pfe(n.substring(1),e)}:OA[t]?n.length>1?{type:OA[t],data:n.substring(1)}:{type:OA[t]}:z8},Pfe=(n,e)=>{if(Dfe){const t=Cfe(n);return CH(t,e)}else return{base64:!0,data:n}},CH=(n,e)=>{switch(e){case"blob":return n instanceof Blob?n:new Blob([n]);case"arraybuffer":default:return n instanceof ArrayBuffer?n:n.buffer}},DH=String.fromCharCode(30),Ife=(n,e)=>{const t=n.length,i=new Array(t);let r=0;n.forEach((s,a)=>{BL(s,!1,o=>{i[a]=o,++r===t&&e(i.join(DH))})})},Rfe=(n,e)=>{const t=n.split(DH),i=[];for(let r=0;r<t.length;r++){const s=zL(t[r],e);if(i.push(s),s.type==="error")break}return i};function Lfe(){return new TransformStream({transform(n,e){Tfe(n,t=>{const i=t.length;let r;if(i<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,i);else if(i<65536){r=new Uint8Array(3);const s=new DataView(r.buffer);s.setUint8(0,126),s.setUint16(1,i)}else{r=new Uint8Array(9);const s=new DataView(r.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(i))}n.data&&typeof n.data!="string"&&(r[0]|=128),e.enqueue(r),e.enqueue(t)})}})}let k6;function LN(n){return n.reduce((e,t)=>e+t.length,0)}function ON(n,e){if(n[0].length===e)return n.shift();const t=new Uint8Array(e);let i=0;for(let r=0;r<e;r++)t[r]=n[0][i++],i===n[0].length&&(n.shift(),i=0);return n.length&&i<n[0].length&&(n[0]=n[0].slice(i)),t}function Ofe(n,e){k6||(k6=new TextDecoder);const t=[];let i=0,r=-1,s=!1;return new TransformStream({transform(a,o){for(t.push(a);;){if(i===0){if(LN(t)<1)break;const c=ON(t,1);s=(c[0]&128)===128,r=c[0]&127,r<126?i=3:r===126?i=1:i=2}else if(i===1){if(LN(t)<2)break;const c=ON(t,2);r=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),i=3}else if(i===2){if(LN(t)<8)break;const c=ON(t,8),d=new DataView(c.buffer,c.byteOffset,c.length),u=d.getUint32(0);if(u>Math.pow(2,53-32)-1){o.enqueue(z8);break}r=u*Math.pow(2,32)+d.getUint32(4),i=3}else{if(LN(t)<r)break;const c=ON(t,r);o.enqueue(zL(s?c:k6.decode(c),e)),i=0}if(r===0||r>n){o.enqueue(z8);break}}}})}const PH=4;function Vr(n){if(n)return Ffe(n)}function Ffe(n){for(var e in Vr.prototype)n[e]=Vr.prototype[e];return n}Vr.prototype.on=Vr.prototype.addEventListener=function(n,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(e),this};Vr.prototype.once=function(n,e){function t(){this.off(n,t),e.apply(this,arguments)}return t.fn=e,this.on(n,t),this};Vr.prototype.off=Vr.prototype.removeListener=Vr.prototype.removeAllListeners=Vr.prototype.removeEventListener=function(n,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var t=this._callbacks["$"+n];if(!t)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var i,r=0;r<t.length;r++)if(i=t[r],i===e||i.fn===e){t.splice(r,1);break}return t.length===0&&delete this._callbacks["$"+n],this};Vr.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),t=this._callbacks["$"+n],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(t){t=t.slice(0);for(var i=0,r=t.length;i<r;++i)t[i].apply(this,e)}return this};Vr.prototype.emitReserved=Vr.prototype.emit;Vr.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]};Vr.prototype.hasListeners=function(n){return!!this.listeners(n).length};const VT=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,t)=>t(e,0))(),Xl=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())(),Ufe="arraybuffer";function IH(n,...e){return e.reduce((t,i)=>(n.hasOwnProperty(i)&&(t[i]=n[i]),t),{})}const Mfe=Xl.setTimeout,Bfe=Xl.clearTimeout;function GT(n,e){e.useNativeTimers?(n.setTimeoutFn=Mfe.bind(Xl),n.clearTimeoutFn=Bfe.bind(Xl)):(n.setTimeoutFn=Xl.setTimeout.bind(Xl),n.clearTimeoutFn=Xl.clearTimeout.bind(Xl))}const zfe=1.33;function jfe(n){return typeof n=="string"?Wfe(n):Math.ceil((n.byteLength||n.size)*zfe)}function Wfe(n){let e=0,t=0;for(let i=0,r=n.length;i<r;i++)e=n.charCodeAt(i),e<128?t+=1:e<2048?t+=2:e<55296||e>=57344?t+=3:(i++,t+=4);return t}function RH(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function $fe(n){let e="";for(let t in n)n.hasOwnProperty(t)&&(e.length&&(e+="&"),e+=encodeURIComponent(t)+"="+encodeURIComponent(n[t]));return e}function qfe(n){let e={},t=n.split("&");for(let i=0,r=t.length;i<r;i++){let s=t[i].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}class Hfe extends Error{constructor(e,t,i){super(e),this.description=t,this.context=i,this.type="TransportError"}}class jL extends Vr{constructor(e){super(),this.writable=!1,GT(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,i){return super.emitReserved("error",new Hfe(e,t,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=zL(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const t=$fe(e);return t.length?"?"+t:""}}class Vfe extends jL{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let i=0;this._polling&&(i++,this.once("pollComplete",function(){--i||t()})),this.writable||(i++,this.once("drain",function(){--i||t()}))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const t=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};Rfe(e,this.socket.binaryType).forEach(t),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Ife(e,t=>{this.doWrite(t,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return this.opts.timestampRequests!==!1&&(t[this.opts.timestampParam]=RH()),!this.supportsBinary&&!t.sid&&(t.b64=1),this.createUri(e,t)}}let LH=!1;try{LH=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Gfe=LH;function Xfe(){}class Yfe extends Vfe{constructor(e){if(super(e),typeof location<"u"){const t=location.protocol==="https:";let i=location.port;i||(i=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||i!==e.port}}doWrite(e,t){const i=this.request({method:"POST",data:e});i.on("success",t),i.on("error",(r,s)=>{this.onError("xhr post error",r,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(t,i)=>{this.onError("xhr poll error",t,i)}),this.pollXhr=e}}let hy=class FA extends Vr{constructor(e,t,i){super(),this.createRequest=e,GT(this,i),this._opts=i,this._method=i.method||"GET",this._uri=t,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var e;const t=IH(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const i=this._xhr=this.createRequest(t);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let r in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(r)&&i.setRequestHeader(r,this._opts.extraHeaders[r])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var r;i.readyState===3&&((r=this._opts.cookieJar)===null||r===void 0||r.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(r){this.setTimeoutFn(()=>{this._onError(r)},0);return}typeof document<"u"&&(this._index=FA.requestsCount++,FA.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Xfe,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete FA.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};hy.requestsCount=0;hy.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",D9);else if(typeof addEventListener=="function"){const n="onpagehide"in Xl?"pagehide":"unload";addEventListener(n,D9,!1)}}function D9(){for(let n in hy.requests)hy.requests.hasOwnProperty(n)&&hy.requests[n].abort()}const Kfe=function(){const n=OH({xdomain:!1});return n&&n.responseType!==null}();class Jfe extends Yfe{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=Kfe&&!t}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new hy(OH,this.uri(),e)}}function OH(n){const e=n.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||Gfe))return new XMLHttpRequest}catch{}if(!e)try{return new Xl[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const FH=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Zfe extends jL{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,i=FH?{}:IH(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,i)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const i=e[t],r=t===e.length-1;BL(i,this.supportsBinary,s=>{try{this.doWrite(i,s)}catch{}r&&VT(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=RH()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const E6=Xl.WebSocket||Xl.MozWebSocket;class Qfe extends Zfe{createSocket(e,t,i){return FH?new E6(e,t,i):t?new E6(e,t):new E6(e)}doWrite(e,t){this.ws.send(t)}}class epe extends jL{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const t=Ofe(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=e.readable.pipeThrough(t).getReader(),r=Lfe();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const s=()=>{i.read().then(({done:o,value:c})=>{o||(this.onPacket(c),s())}).catch(o=>{})};s();const a={type:"open"};this.query.sid&&(a.data=`{"sid":"${this.query.sid}"}`),this._writer.write(a).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const i=e[t],r=t===e.length-1;this._writer.write(i).then(()=>{r&&VT(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const tpe={websocket:Qfe,webtransport:epe,polling:Jfe},npe=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ipe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function j8(n){if(n.length>8e3)throw"URI too long";const e=n,t=n.indexOf("["),i=n.indexOf("]");t!=-1&&i!=-1&&(n=n.substring(0,t)+n.substring(t,i).replace(/:/g,";")+n.substring(i,n.length));let r=npe.exec(n||""),s={},a=14;for(;a--;)s[ipe[a]]=r[a]||"";return t!=-1&&i!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=rpe(s,s.path),s.queryKey=spe(s,s.query),s}function rpe(n,e){const t=/\/{2,9}/g,i=e.replace(t,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&i.splice(0,1),e.slice(-1)=="/"&&i.splice(i.length-1,1),i}function spe(n,e){const t={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,r,s){r&&(t[r]=s)}),t}const W8=typeof addEventListener=="function"&&typeof removeEventListener=="function",UA=[];W8&&addEventListener("offline",()=>{UA.forEach(n=>n())},!1);class Jp extends Vr{constructor(e,t){if(super(),this.binaryType=Ufe,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(t=e,e=null),e){const i=j8(e);t.hostname=i.host,t.secure=i.protocol==="https"||i.protocol==="wss",t.port=i.port,i.query&&(t.query=i.query)}else t.host&&(t.hostname=j8(t.host).host);GT(this,t),this.secure=t.secure!=null?t.secure:typeof location<"u"&&location.protocol==="https:",t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach(i=>{const r=i.prototype.name;this.transports.push(r),this._transportsByName[r]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=qfe(this.opts.query)),W8&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},UA.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=PH,t.transport=e,this.id&&(t.sid=this.id);const i=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Jp.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",t=>this._onClose("transport close",t))}onOpen(){this.readyState="open",Jp.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let t=1;for(let i=0;i<this.writeBuffer.length;i++){const r=this.writeBuffer[i].data;if(r&&(t+=jfe(r)),i>0&&t>this._maxPayload)return this.writeBuffer.slice(0,i);t+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,VT(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,t,i){return this._sendPacket("message",e,t,i),this}send(e,t,i){return this._sendPacket("message",e,t,i),this}_sendPacket(e,t,i,r){if(typeof t=="function"&&(r=t,t=void 0),typeof i=="function"&&(r=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const s={type:e,data:t,options:i};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},i=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():e()}):this.upgrading?i():e()),this}_onError(e){if(Jp.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),W8&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const i=UA.indexOf(this._offlineEventListener);i!==-1&&UA.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}Jp.protocol=PH;class ape extends Jp{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),i=!1;Jp.priorWebsocketSuccess=!1;const r=()=>{i||(t.send([{type:"ping",data:"probe"}]),t.once("packet",f=>{if(!i)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Jp.priorWebsocketSuccess=t.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(u(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=t.name,this.emitReserved("upgradeError",h)}}))};function s(){i||(i=!0,u(),t.close(),t=null)}const a=f=>{const h=new Error("probe error: "+f);h.transport=t.name,s(),this.emitReserved("upgradeError",h)};function o(){a("transport closed")}function c(){a("socket closed")}function d(f){t&&f.name!==t.name&&s()}const u=()=>{t.removeListener("open",r),t.removeListener("error",a),t.removeListener("close",o),this.off("close",c),this.off("upgrading",d)};t.once("open",r),t.once("error",a),t.once("close",o),this.once("close",c),this.once("upgrading",d),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{i||t.open()},200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let i=0;i<e.length;i++)~this.transports.indexOf(e[i])&&t.push(e[i]);return t}}let ope=class extends ape{constructor(e,t={}){const i=typeof e=="object"?e:t;(!i.transports||i.transports&&typeof i.transports[0]=="string")&&(i.transports=(i.transports||["polling","websocket","webtransport"]).map(r=>tpe[r]).filter(r=>!!r)),super(e,i)}};function lpe(n,e="",t){let i=n;t=t||typeof location<"u"&&location,n==null&&(n=t.protocol+"//"+t.host),typeof n=="string"&&(n.charAt(0)==="/"&&(n.charAt(1)==="/"?n=t.protocol+n:n=t.host+n),/^(https?|wss?):\/\//.test(n)||(typeof t<"u"?n=t.protocol+"//"+n:n="https://"+n),i=j8(n)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const s=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+s+":"+i.port+e,i.href=i.protocol+"://"+s+(t&&t.port===i.port?"":":"+i.port),i}const cpe=typeof ArrayBuffer=="function",dpe=n=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer,UH=Object.prototype.toString,upe=typeof Blob=="function"||typeof Blob<"u"&&UH.call(Blob)==="[object BlobConstructor]",hpe=typeof File=="function"||typeof File<"u"&&UH.call(File)==="[object FileConstructor]";function WL(n){return cpe&&(n instanceof ArrayBuffer||dpe(n))||upe&&n instanceof Blob||hpe&&n instanceof File}function MA(n,e){if(!n||typeof n!="object")return!1;if(Array.isArray(n)){for(let t=0,i=n.length;t<i;t++)if(MA(n[t]))return!0;return!1}if(WL(n))return!0;if(n.toJSON&&typeof n.toJSON=="function"&&arguments.length===1)return MA(n.toJSON(),!0);for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&MA(n[t]))return!0;return!1}function fpe(n){const e=[],t=n.data,i=n;return i.data=$8(t,e),i.attachments=e.length,{packet:i,buffers:e}}function $8(n,e){if(!n)return n;if(WL(n)){const t={_placeholder:!0,num:e.length};return e.push(n),t}else if(Array.isArray(n)){const t=new Array(n.length);for(let i=0;i<n.length;i++)t[i]=$8(n[i],e);return t}else if(typeof n=="object"&&!(n instanceof Date)){const t={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=$8(n[i],e));return t}return n}function ppe(n,e){return n.data=q8(n.data,e),delete n.attachments,n}function q8(n,e){if(!n)return n;if(n&&n._placeholder===!0){if(typeof n.num=="number"&&n.num>=0&&n.num<e.length)return e[n.num];throw new Error("illegal attachments")}else if(Array.isArray(n))for(let t=0;t<n.length;t++)n[t]=q8(n[t],e);else if(typeof n=="object")for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(n[t]=q8(n[t],e));return n}const MH=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],mpe=5;var xn;(function(n){n[n.CONNECT=0]="CONNECT",n[n.DISCONNECT=1]="DISCONNECT",n[n.EVENT=2]="EVENT",n[n.ACK=3]="ACK",n[n.CONNECT_ERROR=4]="CONNECT_ERROR",n[n.BINARY_EVENT=5]="BINARY_EVENT",n[n.BINARY_ACK=6]="BINARY_ACK"})(xn||(xn={}));class gpe{constructor(e){this.replacer=e}encode(e){return(e.type===xn.EVENT||e.type===xn.ACK)&&MA(e)?this.encodeAsBinary({type:e.type===xn.EVENT?xn.BINARY_EVENT:xn.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let t=""+e.type;return(e.type===xn.BINARY_EVENT||e.type===xn.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(t+=e.nsp+","),e.id!=null&&(t+=e.id),e.data!=null&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=fpe(e),i=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(i),r}}class $L extends Vr{constructor(e){super(),this.reviver=e}add(e){let t;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const i=t.type===xn.BINARY_EVENT;i||t.type===xn.BINARY_ACK?(t.type=i?xn.EVENT:xn.ACK,this.reconstructor=new ype(t),t.attachments===0&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else if(WL(e)||e.base64)if(this.reconstructor)t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let t=0;const i={type:Number(e.charAt(0))};if(xn[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===xn.BINARY_EVENT||i.type===xn.BINARY_ACK){const s=t+1;for(;e.charAt(++t)!=="-"&&t!=e.length;);const a=e.substring(s,t);if(a!=Number(a)||e.charAt(t)!=="-")throw new Error("Illegal attachments");i.attachments=Number(a)}if(e.charAt(t+1)==="/"){const s=t+1;for(;++t&&!(e.charAt(t)===","||t===e.length););i.nsp=e.substring(s,t)}else i.nsp="/";const r=e.charAt(t+1);if(r!==""&&Number(r)==r){const s=t+1;for(;++t;){const a=e.charAt(t);if(a==null||Number(a)!=a){--t;break}if(t===e.length)break}i.id=Number(e.substring(s,t+1))}if(e.charAt(++t)){const s=this.tryParse(e.substr(t));if($L.isPayloadValid(i.type,s))i.data=s;else throw new Error("invalid payload")}return i}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case xn.CONNECT:return N3(t);case xn.DISCONNECT:return t===void 0;case xn.CONNECT_ERROR:return typeof t=="string"||N3(t);case xn.EVENT:case xn.BINARY_EVENT:return Array.isArray(t)&&(typeof t[0]=="number"||typeof t[0]=="string"&&MH.indexOf(t[0])===-1);case xn.ACK:case xn.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class ype{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const t=ppe(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function vpe(n){return typeof n=="string"}const bpe=Number.isInteger||function(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n};function wpe(n){return n===void 0||bpe(n)}function N3(n){return Object.prototype.toString.call(n)==="[object Object]"}function xpe(n,e){switch(n){case xn.CONNECT:return e===void 0||N3(e);case xn.DISCONNECT:return e===void 0;case xn.EVENT:return Array.isArray(e)&&(typeof e[0]=="number"||typeof e[0]=="string"&&MH.indexOf(e[0])===-1);case xn.ACK:return Array.isArray(e);case xn.CONNECT_ERROR:return typeof e=="string"||N3(e);default:return!1}}function _pe(n){return vpe(n.nsp)&&wpe(n.id)&&xpe(n.type,n.data)}const Spe=Object.freeze(Object.defineProperty({__proto__:null,Decoder:$L,Encoder:gpe,get PacketType(){return xn},isPacketValid:_pe,protocol:mpe},Symbol.toStringTag,{value:"Module"}));function qc(n,e,t){return n.on(e,t),function(){n.off(e,t)}}const Npe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class BH extends Vr{constructor(e,t,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[qc(e,"open",this.onopen.bind(this)),qc(e,"packet",this.onpacket.bind(this)),qc(e,"error",this.onerror.bind(this)),qc(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){var i,r,s;if(Npe.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const a={type:xn.EVENT,data:t};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof t[t.length-1]=="function"){const u=this.ids++,f=t.pop();this._registerAckCallback(u,f),a.id=u}const o=(r=(i=this.io.engine)===null||i===void 0?void 0:i.transport)===null||r===void 0?void 0:r.writable,c=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!o||(c?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,t){var i;const r=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(r===void 0){this.acks[e]=t;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);t.call(this,new Error("operation has timed out"))},r),a=(...o)=>{this.io.clearTimeoutFn(s),t.apply(this,o)};a.withError=!0,this.acks[e]=a}emitWithAck(e,...t){return new Promise((i,r)=>{const s=(a,o)=>a?r(a):i(o);s.withError=!0,t.push(s),this.emit(e,...t)})}_addToQueue(e){let t;typeof e[e.length-1]=="function"&&(t=e.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((r,...s)=>(this._queue[0],r!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(r)):(this._queue.shift(),t&&t(null,...s)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:xn.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(i=>String(i.id)===e)){const i=this.acks[e];delete this.acks[e],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case xn.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case xn.EVENT:case xn.BINARY_EVENT:this.onevent(e);break;case xn.ACK:case xn.BINARY_ACK:this.onack(e);break;case xn.DISCONNECT:this.ondisconnect();break;case xn.CONNECT_ERROR:this.destroy();const i=new Error(e.data.message);i.data=e.data.data,this.emitReserved("connect_error",i);break}}onevent(e){const t=e.data||[];e.id!=null&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const i of t)i.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let i=!1;return function(...r){i||(i=!0,t.packet({type:xn.ACK,id:e,data:r}))}}onack(e){const t=this.acks[e.id];typeof t=="function"&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:xn.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let i=0;i<t.length;i++)if(e===t[i])return t.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let i=0;i<t.length;i++)if(e===t[i])return t.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const i of t)i.apply(this,e.data)}}}function Kb(n){n=n||{},this.ms=n.min||100,this.max=n.max||1e4,this.factor=n.factor||2,this.jitter=n.jitter>0&&n.jitter<=1?n.jitter:0,this.attempts=0}Kb.prototype.duration=function(){var n=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),t=Math.floor(e*this.jitter*n);n=Math.floor(e*10)&1?n+t:n-t}return Math.min(n,this.max)|0};Kb.prototype.reset=function(){this.attempts=0};Kb.prototype.setMin=function(n){this.ms=n};Kb.prototype.setMax=function(n){this.max=n};Kb.prototype.setJitter=function(n){this.jitter=n};class H8 extends Vr{constructor(e,t){var i;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(t=e,e=void 0),t=t||{},t.path=t.path||"/socket.io",this.opts=t,GT(this,t),this.reconnection(t.reconnection!==!1),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor((i=t.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new Kb({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(t.timeout==null?2e4:t.timeout),this._readyState="closed",this.uri=e;const r=t.parser||Spe;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=t.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(t=this.backoff)===null||t===void 0||t.setMin(e),this)}randomizationFactor(e){var t;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(t=this.backoff)===null||t===void 0||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(t=this.backoff)===null||t===void 0||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new ope(this.uri,this.opts);const t=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const r=qc(t,"open",function(){i.onopen(),e&&e()}),s=o=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",o),e?e(o):this.maybeReconnectOnOpen()},a=qc(t,"error",s);if(this._timeout!==!1){const o=this._timeout,c=this.setTimeoutFn(()=>{r(),s(new Error("timeout")),t.close()},o);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(r),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(qc(e,"ping",this.onping.bind(this)),qc(e,"data",this.ondata.bind(this)),qc(e,"error",this.onerror.bind(this)),qc(e,"close",this.onclose.bind(this)),qc(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){VT(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let i=this.nsps[e];return i?this._autoConnect&&!i.active&&i.connect():(i=new BH(this,e,t),this.nsps[e]=i),i}_destroy(e){const t=Object.keys(this.nsps);for(const i of t)if(this.nsps[i].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let i=0;i<t.length;i++)this.engine.write(t[i],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var i;this.cleanup(),(i=this.engine)===null||i===void 0||i.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(r=>{r?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",r)):e.onreconnect()}))},t);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const D2={};function fy(n,e){typeof n=="object"&&(e=n,n=void 0),e=e||{};const t=lpe(n,e.path||"/socket.io"),i=t.source,r=t.id,s=t.path,a=D2[r]&&s in D2[r].nsps,o=e.forceNew||e["force new connection"]||e.multiplex===!1||a;let c;return o?c=new H8(i,e):(D2[r]||(D2[r]=new H8(i,e)),c=D2[r]),t.query&&!e.query&&(e.query=t.queryKey),c.socket(t.path,e)}Object.assign(fy,{Manager:H8,Socket:BH,io:fy,connect:fy});const Ape=()=>{var L,z;const{user:n,logout:e}=hs(),{showNotification:t}=Ao(),i=or(),[r,s]=ie.useState("overview"),[a,o]=ie.useState({articles:0,applications:0,courses:0,forumPosts:0,connections:0,points:0}),[c,d]=ie.useState([]),[u,f]=ie.useState(!0),[h,p]=ie.useState(null),[v,w]=ie.useState(!1),[b,m]=ie.useState(!1),[y,_]=ie.useState(!1),[x,N]=ie.useState(null),k=ie.useRef(null),T=ie.useRef(null);ie.useEffect(()=>(n&&(A(),C(),D()),()=>{P(),E()}),[n]);const C=()=>{try{const X=localStorage.getItem("authToken");if(!X)return;const V=({}.VITE_API_BASE_URL||"http://localhost:3000").replace("/api","");k.current=fy(V,{auth:{token:X},transports:["websocket","polling"]}),k.current.on("connect",()=>{console.log(" Real-time connection established"),_(!0),t("Real-time updates enabled","success")}),k.current.on("disconnect",()=>{console.log(" Real-time connection lost"),_(!1)}),k.current.on("stats:updated",Z=>{console.log(" Stats updated:",Z),o(_e=>({..._e,...Z})),N(new Date)}),k.current.on("activity:new",Z=>{console.log(" New activity:",Z),d(_e=>[Z,..._e.slice(0,9)]),N(new Date)}),k.current.on("notification",Z=>{console.log(" Notification received:",Z),t(Z.message,Z.type||"info")}),n!=null&&n.id&&k.current.emit("user:join",n.id)}catch(X){console.error(" Socket connection error:",X)}},P=()=>{k.current&&(k.current.disconnect(),k.current=null,_(!1))},D=()=>{T.current=setInterval(()=>{console.log(" Auto-refreshing dashboard data..."),A()},5*60*1e3)},E=()=>{T.current&&(clearInterval(T.current),T.current=null)},A=async()=>{var X,Q,V,Z,_e,le,ce,Fe,Ae,Re,Ve,fe;if(!n){f(!1);return}f(!0);try{const Je=localStorage.getItem("authToken"),je={}.VITE_API_BASE_URL||"http://localhost:3000";try{const Ce=await fetch(`${je}/api/user/stats`,{headers:{Authorization:`Bearer ${Je}`}});if(Ce.ok){const $=await Ce.json();o($.stats||{articles:0,applications:0,courses:0,forumPosts:0,connections:0,points:0}),d($.recentActivity||[{type:"info",title:"Welcome to Planning Insights!",date:"Just now",status:"info"}])}else o({articles:((X=n==null?void 0:n.stats)==null?void 0:X.articles)||0,applications:((Q=n==null?void 0:n.stats)==null?void 0:Q.applications)||0,courses:((V=n==null?void 0:n.stats)==null?void 0:V.courses)||0,forumPosts:((Z=n==null?void 0:n.stats)==null?void 0:Z.forumPosts)||0,connections:((_e=n==null?void 0:n.stats)==null?void 0:_e.connections)||0,points:((le=n==null?void 0:n.stats)==null?void 0:le.points)||(n==null?void 0:n.points)||0}),d((n==null?void 0:n.recentActivity)||[{type:"info",title:"Welcome to Planning Insights!",date:"Just now",status:"info"}])}catch(Ce){console.log("Using fallback data:",Ce.message),o({articles:((ce=n==null?void 0:n.stats)==null?void 0:ce.articles)||0,applications:((Fe=n==null?void 0:n.stats)==null?void 0:Fe.applications)||0,courses:((Ae=n==null?void 0:n.stats)==null?void 0:Ae.courses)||0,forumPosts:((Re=n==null?void 0:n.stats)==null?void 0:Re.forumPosts)||0,connections:((Ve=n==null?void 0:n.stats)==null?void 0:Ve.connections)||0,points:((fe=n==null?void 0:n.stats)==null?void 0:fe.points)||(n==null?void 0:n.points)||0}),d((n==null?void 0:n.recentActivity)||[{type:"info",title:"Welcome to Planning Insights!",date:"Just now",status:"info"}])}N(new Date),console.log(" Dashboard data loaded for user:",n==null?void 0:n.email)}catch(Je){console.error(" Error loading dashboard data:",Je),t("Failed to load dashboard data","error")}finally{f(!1)}},I=()=>{t("Refreshing dashboard...","info"),A()},R=[{id:"recruiter",name:"Recruiter",icon:Mi,description:"Post jobs and manage candidate applications.",color:"blue"},{id:"instructor",name:"Instructor",icon:nf,description:"Create and publish educational courses.",color:"green"},{id:"editor",name:"Editor",icon:Mh,description:"Review and edit submitted articles.",color:"purple"}],M=X=>{p(X)},Y=async()=>{if(!h){t("Please select a role to request","error");return}w(!0);try{const X=localStorage.getItem("authToken"),_e=await(await fetch("http://localhost:3000/api/user/role-requests",{method:"POST",headers:{Authorization:`Bearer ${X}`,"Content-Type":"application/json"},body:JSON.stringify({requestedRole:h})})).json();if(_e.success){const le=R.find(ce=>ce.id===h);t(`Role upgrade request submitted for ${le.name}!`,"success"),p(null)}else t(_e.message||"Failed to submit role request","error")}catch(X){console.error("Error submitting role request:",X),t("Failed to submit role request","error")}finally{w(!1)}},q=X=>{const V={home:"/",profile:"/profile",articles:"/my-articles",applications:"/jobs",courses:"/learning",forum:"/forum","editor-dashboard":"/editor/dashboard",settings:"/dashboard","role-upgrade":null}[X];V&&V!=="/dashboard"?i(V):(s(X),m(!1))},G=[{id:"home",label:"Back to Home",icon:ML},{id:"overview",label:"Overview",icon:b9},{id:"profile",label:"My Profile",icon:go},{id:"articles",label:"My Articles",icon:Mn},{id:"applications",label:"Job Applications",icon:Mi},{id:"courses",label:"My Courses",icon:px},{id:"forum",label:"Forum Activity",icon:bl},{id:"role-upgrade",label:"Role Upgrade",icon:w9},{id:"settings",label:"Settings",icon:x3}],B=[{label:"Published Articles",value:a.articles,icon:Mn,color:"blue",change:"+12%"},{label:"Job Applications",value:a.applications,icon:Mi,color:"green",change:"+5%"},{label:"Active Courses",value:a.courses,icon:px,color:"purple",change:"+2"},{label:"Forum Posts",value:a.forumPosts,icon:bl,color:"orange",change:"+8%"},{label:"Network Connections",value:a.connections,icon:wn,color:"pink",change:"+15%"},{label:"Points Earned",value:a.points,icon:Is,color:"yellow",change:"+120"}],J=()=>g("div",{className:"role-upgrade-section",children:[g("div",{className:"role-upgrade-header",children:[l("div",{className:"role-upgrade-icon",children:l(w9,{size:36})}),g("div",{children:[l("h2",{className:"role-upgrade-title",children:"Request Role Upgrade"}),l("p",{className:"role-upgrade-subtitle",children:"Choose one role to request. Our team will review and notify you upon approval."})]})]}),l("div",{className:"roles-grid",children:R.map(X=>{const Q=X.icon,V=h===X.id;return g("div",{className:`role-card role-card-${X.color} ${V?"selected":""}`,onClick:()=>M(X.id),children:[V&&g("div",{className:"role-selected-badge",children:[l(di,{size:16}),l("span",{children:"Selected"})]}),l("div",{className:`role-card-icon role-icon-${X.color}`,children:l(Q,{size:42})}),l("h3",{className:"role-card-title",children:X.name}),l("p",{className:"role-card-description",children:X.description})]},X.id)})}),g("div",{className:"role-upgrade-footer",children:[l("p",{className:"role-upgrade-note",children:"Select a role to enable the request."}),l("button",{className:"role-upgrade-submit-btn",onClick:Y,disabled:!h||v,children:v?g(Ft,{children:[l("span",{className:"spinner-small"}),l("span",{children:"Submitting..."})]}):g(Ft,{children:[l(qT,{size:20}),l("span",{children:"Submit Request"})]})})]})]}),W=()=>g(Ft,{children:[g("div",{className:"welcome-section",children:[g("div",{className:"welcome-content",children:[g("h1",{className:"welcome-title",children:["Welcome back, ",(n==null?void 0:n.firstName)||"User","!"]}),g("p",{className:"welcome-subtitle",children:["Here's what's happening with your account today",y&&g("span",{className:"real-time-badge",children:[l("span",{className:"pulse-dot"}),"Live"]}),x&&g("span",{className:"last-update",children:["Updated: ",new Date(x).toLocaleTimeString()]})]})]}),g("div",{className:"quick-actions",children:[g("button",{className:"quick-action-btn refresh",onClick:I,title:"Refresh Data",children:[l(b9,{size:18}),l("span",{children:"Refresh"})]}),g("button",{className:"quick-action-btn primary",onClick:()=>i("/articles/create"),children:[l(Mh,{size:18}),l("span",{children:"Write Article"})]}),g("button",{className:"quick-action-btn secondary",onClick:()=>i("/jobs"),children:[l(Mi,{size:18}),l("span",{children:"Find Jobs"})]}),g("button",{className:"quick-action-btn tertiary",onClick:()=>i("/courses"),children:[l(nf,{size:18}),l("span",{children:"Browse Courses"})]})]})]}),l("div",{className:"stats-grid",children:B.map((X,Q)=>{const V=X.icon;return g("div",{className:`stat-card stat-card-${X.color}`,children:[g("div",{className:"stat-card-header",children:[l("div",{className:`stat-icon stat-icon-${X.color}`,children:l(V,{size:28})}),l("div",{className:"stat-change stat-change-positive",children:X.change})]}),l("div",{className:"stat-value",children:X.value}),l("div",{className:"stat-label",children:X.label})]},Q)})}),g("div",{className:"dashboard-content-grid",children:[g("div",{className:"activity-feed",children:[g("div",{className:"section-header",children:[l("h3",{className:"section-title",children:"Recent Activity"}),l("button",{className:"view-all-btn",children:"View All"})]}),l("div",{className:"activity-list",children:c.length>0?c.map((X,Q)=>g("div",{className:"activity-item",children:[l("div",{className:`activity-icon activity-icon-${X.status||"info"}`,children:X.status==="success"?l(di,{size:20}):l(xr,{size:20})}),g("div",{className:"activity-content",children:[l("p",{className:"activity-title",children:X.title}),l("span",{className:"activity-date",children:X.date})]})]},Q)):g("div",{className:"activity-item",children:[l("div",{className:"activity-icon activity-icon-info",children:l(IS,{size:20})}),g("div",{className:"activity-content",children:[l("p",{className:"activity-title",children:"No recent activity"}),l("span",{className:"activity-date",children:"Start exploring to see updates here"})]})]})})]}),g("div",{className:"progress-section",children:[l("div",{className:"section-header",children:l("h3",{className:"section-title",children:"Your Progress"})}),g("div",{className:"progress-cards",children:[g("div",{className:"progress-card",children:[g("div",{className:"progress-header",children:[l(_3,{size:20}),l("span",{children:"Profile Completion"})]}),l("div",{className:"progress-bar",children:l("div",{className:"progress-fill",style:{width:"75%"}})}),l("p",{className:"progress-text",children:"75% Complete"})]}),g("div",{className:"progress-card",children:[g("div",{className:"progress-header",children:[l(am,{size:20}),l("span",{children:"Achievements"})]}),l("div",{className:"progress-bar",children:l("div",{className:"progress-fill",style:{width:"60%"}})}),l("p",{className:"progress-text",children:"12 of 20 Unlocked"})]}),g("div",{className:"progress-card",children:[g("div",{className:"progress-header",children:[l(HT,{size:20}),l("span",{children:"Activity Streak"})]}),l("div",{className:"progress-bar",children:l("div",{className:"progress-fill",style:{width:"85%"}})}),l("p",{className:"progress-text",children:"17 Days Active"})]})]})]})]})]});return u?l("div",{className:"user-dashboard",children:l("div",{className:"dashboard-main",children:g("div",{className:"loading-container",children:[l("div",{className:"loading-spinner"}),l("p",{className:"loading-text",children:"Loading your dashboard..."})]})})}):g("div",{className:"user-dashboard",children:[g("button",{className:"mobile-menu-toggle",onClick:()=>m(!b),"aria-label":"Toggle Menu",children:[l("span",{}),l("span",{}),l("span",{})]}),b&&l("div",{className:"sidebar-overlay",onClick:()=>m(!1)}),g("aside",{className:`dashboard-sidebar ${b?"open":""}`,children:[l("div",{className:"sidebar-header",children:g("div",{className:"user-avatar-section",children:[n!=null&&n.photoURL?l("img",{src:n.photoURL,alt:n.firstName,className:"user-avatar"}):g("div",{className:"user-avatar-placeholder",children:[(L=n==null?void 0:n.firstName)==null?void 0:L.charAt(0),(z=n==null?void 0:n.lastName)==null?void 0:z.charAt(0)]}),g("div",{className:"user-info",children:[g("h3",{className:"user-name",children:[n==null?void 0:n.firstName," ",n==null?void 0:n.lastName]}),l("p",{className:"user-role",children:(n==null?void 0:n.role)||"Member"})]})]})}),l("nav",{className:"sidebar-nav",children:G.map(X=>{const Q=X.icon;return g("button",{className:`nav-item ${r===X.id?"active":""}`,onClick:()=>q(X.id),children:[l(Q,{size:20}),l("span",{children:X.label}),X.badge&&l("span",{className:"nav-badge",children:X.badge})]},X.id)})}),l("div",{className:"sidebar-footer",children:g("button",{className:"logout-btn",onClick:e,children:[l(ife,{size:20}),l("span",{children:"Logout"})]})})]}),l("main",{className:"dashboard-main",children:g("div",{className:"dashboard-content",children:[r==="overview"&&W(),r==="role-upgrade"&&J(),r==="settings"&&g("div",{className:"coming-soon-section",children:[l(x3,{size:64,className:"coming-soon-icon"}),l("h2",{children:"Settings Coming Soon"}),l("p",{children:"Customize your account preferences"})]})]})})]})};const kpe=()=>{var ht,Pt;const n=or(),{user:e}=hs(),{showNotification:t}=Ao(),[i,r]=ie.useState("profile"),[s,a]=ie.useState(!1),[o,c]=ie.useState(!1),[d,u]=ie.useState(!1),[f,h]=ie.useState({firstName:"",lastName:"",email:"",phone:"",whatsapp:"",dob:"",sex:"",country:"",state:"",city:"",points:0,consent:!1}),[p,v]=ie.useState({name:"",contactNo:"",sex:"",country:"",state:"",city:"",email:"",whatsappNo:"",dob:""}),[w,b]=ie.useState(null),[m,y]=ie.useState(null),[_,x]=ie.useState(!1),[N,k]=ie.useState(null),[T,C]=ie.useState({highestEducation:"",educationStatus:"pursuing",collegeName:"",collegeContact:"",fieldOfStudy:"",yearOfStudy:"",yearOfPassout:"",percentage:"",internshipExperience:"",jobExperience:"",domain:"",educationConsent:!1}),[P,D]=ie.useState(!1),[E,A]=ie.useState({title:"",description:"",file:null}),[I,R]=ie.useState(""),[M,Y]=ie.useState(!1),[q,G]=ie.useState(!1),[B,J]=ie.useState({title:"",description:"",imageFile:null,pdfFile:null}),[W,L]=ie.useState(""),[z,X]=ie.useState(!1),[Q,V]=ie.useState(!1),[Z,_e]=ie.useState(""),[le,ce]=ie.useState({title:"",description:"",file:null}),[Fe,Ae]=ie.useState(""),[Re,Ve]=ie.useState(!1),fe=ie.useRef(null),[Je,je]=ie.useState(!1),Ce=[{id:"opensource",title:"Open Source Data",count:0,color:"linear-gradient(135deg, #667eea, #764ba2)",icon:vH},{id:"studymaterial",title:"Study Material/Literature",count:0,color:"linear-gradient(135deg, #f093fb, #f5576c)",icon:px},{id:"legislation",title:"Legislation",count:0,color:"linear-gradient(135deg, #4facfe, #00f2fe)",icon:SH},{id:"ebook",title:"E-Book",count:10,color:"linear-gradient(135deg, #43e97b, #38f9d7)",icon:Uh}],[$]=ie.useState([{id:2,paymentId:"pay_I8QesYJ0prrHqGR",type:"journal",name:"Payment for Journal Paper",amount:"1",date:"2021-10-12 20:13:31"},{id:3,paymentId:"pay_iFVLwDQL5uCa0r",type:"journal",name:"Payment for Journal Paper",amount:"1600",date:"2021-10-30 17:21:39"},{id:4,paymentId:"pay_iFVP1KxgW5xMKS",type:"journal",name:"Payment for Journal Paper",amount:"1600",date:"2021-10-30 17:24:40"},{id:5,paymentId:"pay_iFdyRnjdLces3M",type:"journal",name:"Payment for Journal Paper",amount:"1600",date:"2021-10-31 01:47:28"},{id:6,paymentId:"pay_IN0DXjzTbbxvwq",type:"journal",name:"Payment for Journal Paper",amount:"1600",date:"2021-11-18 16:06:27"}]),ke=[{id:"article",title:"Article",count:0,action:"WRITE ARTICLE"},{id:"thesis",title:"Thesis/Dissertation",count:0,action:"WRITE THESIS/DISSERTATION"},{id:"research",title:"Research Paper",count:0,action:"WRITE RESEARCH PAPER"},{id:"journal",title:"International Journal Paper",count:2,action:"WRITE JOURNAL PAPER"},{id:"project",title:"Project",count:0,action:"WRITE PROJECT"},{id:"scheme",title:"Scheme",count:0,action:"WRITE SCHEME"}];ie.useEffect(()=>(e&&(Se(),pe()),()=>{U()}),[e]);const Se=()=>{e&&(h({firstName:(e==null?void 0:e.firstName)||"",lastName:(e==null?void 0:e.lastName)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||(e==null?void 0:e.contactNo)||"",whatsapp:(e==null?void 0:e.whatsapp)||(e==null?void 0:e.whatsappNo)||(e==null?void 0:e.phone)||"",dob:(e==null?void 0:e.dob)||"",sex:(e==null?void 0:e.sex)||(e==null?void 0:e.gender)||"",country:(e==null?void 0:e.country)||"",state:(e==null?void 0:e.state)||"",city:(e==null?void 0:e.city)||"",points:(e==null?void 0:e.points)||0,consent:(e==null?void 0:e.consent)||!1,organization:(e==null?void 0:e.organization)||"",position:(e==null?void 0:e.position)||"",bio:(e==null?void 0:e.bio)||"",photoURL:(e==null?void 0:e.photoURL)||(e==null?void 0:e.avatar)||""}),(e!=null&&e.photoURL||e!=null&&e.avatar)&&k(e.photoURL||e.avatar),v({name:`${(e==null?void 0:e.firstName)||""} ${(e==null?void 0:e.lastName)||""}`.trim()||(e==null?void 0:e.displayName)||"",contactNo:(e==null?void 0:e.phone)||(e==null?void 0:e.contactNo)||"",sex:(e==null?void 0:e.sex)||(e==null?void 0:e.gender)||"",country:(e==null?void 0:e.country)||"",state:(e==null?void 0:e.state)||"",city:(e==null?void 0:e.city)||"",email:(e==null?void 0:e.email)||"",whatsappNo:(e==null?void 0:e.whatsapp)||(e==null?void 0:e.whatsappNo)||(e==null?void 0:e.phone)||"",dob:(e==null?void 0:e.dob)||""}),e!=null&&e.education&&C(ot=>({...ot,highestEducation:e.education.highestEducation||"",educationStatus:e.education.status||"pursuing",collegeName:e.education.collegeName||"",collegeContact:e.education.collegeContact||"",fieldOfStudy:e.education.fieldOfStudy||"",yearOfStudy:e.education.yearOfStudy||"",yearOfPassout:e.education.yearOfPassout||"",percentage:e.education.percentage||"",internshipExperience:e.education.internshipExperience||"",jobExperience:e.education.jobExperience||"",domain:e.education.domain||""})),console.log(" Profile data auto-filled from user:",e))},pe=()=>{try{const ot=localStorage.getItem("authToken");if(!ot)return;const Ut=({}.VITE_API_BASE_URL||"http://localhost:3000").replace("/api","");fe.current=fy(Ut,{auth:{token:ot},transports:["websocket","polling"]}),fe.current.on("connect",()=>{console.log(" Profile real-time connection established"),je(!0)}),fe.current.on("disconnect",()=>{console.log(" Profile real-time connection lost"),je(!1)}),fe.current.on("profile:updated",Jt=>{console.log("Profile updated in real-time:",Jt),Se(),Jt.message&&t(Jt.message,"success")})}catch(ot){console.error("Socket connection error:",ot)}},U=()=>{fe.current&&(fe.current.disconnect(),fe.current=null,je(!1))},H=ot=>{const{name:Nt,value:Ut,type:Jt,checked:hn}=ot.target;h(_i=>({..._i,[Nt]:Jt==="checkbox"?hn:Ut}))},te=ot=>{const{name:Nt,value:Ut}=ot.target;v(Jt=>({...Jt,[Nt]:Ut}))},he=ot=>{ot.preventDefault(),ot.stopPropagation(),x(!0)},ve=ot=>{ot.preventDefault(),ot.stopPropagation(),x(!1)},ae=ot=>{ot.preventDefault(),ot.stopPropagation()},me=ot=>{ot.preventDefault(),ot.stopPropagation(),x(!1);const Nt=ot.dataTransfer.files;Nt&&Nt[0]&&ge({target:{files:Nt}},Nt[0])},ge=ot=>{const Nt=ot.target.files[0];if(!Nt)return;if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(Nt.type)){t("Please upload PDF or Word documents only","error");return}if(Nt.size>5*1024*1024){t("File size should be less than 5MB","error");return}b(Nt),y({name:Nt.name,size:(Nt.size/(1024*1024)).toFixed(1)+" MB",type:Nt.type.includes("pdf")?"PDF":"Word Document"}),t("CV uploaded successfully!","success")},Oe=()=>{b(null),y(null),t("CV removed","info")},Ye=()=>{m&&t("Opening CV preview...","info")},Ke=async()=>{c(!0);try{await new Promise(ot=>setTimeout(ot,1500)),t("Information saved successfully!","success")}catch(ot){console.error("Error saving information:",ot),t("Failed to save information","error")}finally{c(!1)}},mt=async ot=>{const Nt=ot.target.files[0];if(!Nt)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(Nt.type)){t("Please upload a valid image file (JPEG, PNG, GIF, WebP)","error");return}if(Nt.size>5*1024*1024){t("Image size should be less than 5MB","error");return}const Jt=URL.createObjectURL(Nt);k(Jt);try{const hn=localStorage.getItem("authToken"),_i={}.VITE_API_BASE_URL||"http://localhost:3000",hi=new FormData;hi.append("avatar",Nt);const Pi=await(await fetch(`${_i}/api/user/profile/avatar`,{method:"POST",headers:{Authorization:`Bearer ${hn}`},body:hi})).json();Pi.success?(t("Profile picture updated!","success"),await Se()):(t(Pi.message||"Failed to upload avatar","error"),k(f.photoURL))}catch(hn){console.error("Error uploading avatar:",hn),t("Failed to upload avatar","error"),k(f.photoURL)}},qe=ot=>{const{name:Nt,value:Ut,type:Jt,checked:hn}=ot.target;C(_i=>({..._i,[Nt]:Jt==="checkbox"?hn:Ut}))},it=async ot=>{ot.preventDefault(),c(!0);try{await new Promise(Nt=>setTimeout(Nt,1e3)),t("Education details updated successfully!","success")}catch{t("Failed to update education details","error")}finally{c(!1)}},ft=ot=>{const{name:Nt,value:Ut}=ot.target;A(Jt=>({...Jt,[Nt]:Ut}))},We=ot=>{const Nt=ot.target.files[0];if(!Nt)return;if(!["video/mp4","video/x-msvideo","video/x-flv","video/x-ms-wmv","video/x-matroska","video/mpeg"].includes(Nt.type)){R("Please upload only MP4, AVI, WMV, FLV, MKV videos.");return}if(Nt.size>40*1024*1024){R("File size should be less than 40 MB.");return}R(""),A(Jt=>({...Jt,file:Nt}))},tt=async ot=>{if(ot.preventDefault(),!E.title.trim()){R("Title is required.");return}if(!E.file){R("Please select a video file.");return}try{Y(!0),R(""),await new Promise(Nt=>setTimeout(Nt,1500)),D(!1),A({title:"",description:"",file:null}),t("Video uploaded successfully!","success")}catch{R("Failed to upload video. Try again."),t("Failed to upload video.","error")}finally{Y(!1)}},pt=ot=>{const{name:Nt,value:Ut}=ot.target;J(Jt=>({...Jt,[Nt]:Ut}))},Ct=ot=>{const Nt=ot.target.files[0];if(!Nt)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(Nt.type)){L("Please upload only image files (JPEG, PNG, GIF, WebP).");return}if(Nt.size>20*1024*1024){L("Image size should be less than 20 MB.");return}L(""),J(Jt=>({...Jt,imageFile:Nt}))},Et=ot=>{const Nt=ot.target.files[0];if(Nt){if(Nt.type!=="application/pdf"){L("Please upload only PDF files.");return}if(Nt.size>40*1024*1024){L("PDF size should be less than 40 MB.");return}L(""),J(Ut=>({...Ut,pdfFile:Nt}))}},St=async ot=>{if(ot.preventDefault(),!B.title.trim()){L("Title is required.");return}if(!B.imageFile){L("Please select an image file.");return}try{X(!0),L(""),await new Promise(Nt=>setTimeout(Nt,1500)),G(!1),J({title:"",description:"",imageFile:null,pdfFile:null}),t("Portfolio uploaded successfully!","success")}catch{L("Failed to upload portfolio. Try again."),t("Failed to upload portfolio.","error")}finally{X(!1)}},Bt=ot=>{_e(ot),V(!0),ce({title:"",description:"",file:null}),Ae("")},kn=ot=>{const{name:Nt,value:Ut}=ot.target;ce(Jt=>({...Jt,[Nt]:Ut}))},sn=ot=>{const Nt=ot.target.files[0];if(!Nt)return;if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/csv"].includes(Nt.type)){Ae("Please upload PDF, Word, or Excel files only.");return}if(Nt.size>50*1024*1024){Ae("File size should be less than 50 MB.");return}Ae(""),ce(Jt=>({...Jt,file:Nt}))},we=async ot=>{if(ot.preventDefault(),!le.title.trim()){Ae("Title is required.");return}if(!le.file){Ae("Please select a file.");return}try{Ve(!0),Ae(""),await new Promise(Nt=>setTimeout(Nt,1500)),V(!1),ce({title:"",description:"",file:null}),t("Data uploaded successfully!","success")}catch{Ae("Failed to upload data. Try again."),t("Failed to upload data.","error")}finally{Ve(!1)}},Pe=()=>{const ot=Ce.find(Nt=>Nt.id===Z);return ot?ot.title:"Data Hub"},Me=[{id:"write",label:"Write for Us",icon:Mn,size:20,badge:"New"},{id:"video",label:"Video",icon:yo,size:20},{id:"portfolio",label:"Portfolio",icon:qh,size:20,badge:"12"},{id:"datahub",label:"Data Hub",icon:x6,size:20},{id:"question",label:"Question",icon:_6,size:20},{id:"purchases",label:"My Purchase",icon:N6,size:20,badge:"3"}];return g("div",{className:"user-profile",children:[g("div",{className:"bg-particles",children:[l("div",{className:"particle"}),l("div",{className:"particle"}),l("div",{className:"particle"}),l("div",{className:"particle"}),l("div",{className:"particle"})]}),g("div",{className:"profile-container",children:[g("div",{className:"profile-header animate-slide-up",children:[g("div",{className:"profile-cover",children:[l("div",{className:"cover-gradient"}),l("div",{className:"cover-pattern"})]}),l("div",{className:"profile-header-content",children:g("div",{className:"avatar-section-wrapper",children:[g("div",{className:"avatar-and-info",children:[l("div",{className:"avatar-left-section",children:g("div",{className:"avatar-wrapper",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[g("div",{className:`profile-avatar-placeholder ${d?"avatar-hover":""}`,children:[N||f.photoURL?l("img",{src:N||f.photoURL,alt:"Profile",className:"profile-avatar-image",onError:ot=>{ot.target.style.display="none",ot.target.nextSibling.style.display="flex"}}):null,g("div",{className:"profile-avatar-initials",style:{display:N||f.photoURL?"none":"flex"},children:[(ht=f.firstName)==null?void 0:ht.charAt(0),(Pt=f.lastName)==null?void 0:Pt.charAt(0)]})]}),l("div",{className:"avatar-ring"}),g("label",{className:"avatar-upload-btn",htmlFor:"avatar-upload",children:[l(Hhe,{size:20}),l("input",{id:"avatar-upload",type:"file",accept:"image/*",onChange:mt,style:{display:"none"}})]}),d&&l("div",{className:"avatar-tooltip",children:"Change Photo"})]})}),l("div",{className:"profile-header-info",children:g("div",{className:"profile-info-content",children:[g("h1",{className:"profile-name",children:[f.firstName," ",f.lastName,l(Is,{className:"profile-badge",size:20})]}),g("div",{className:"profile-subtitle",children:[l(Mi,{size:16}),l("span",{children:"Professional"})]}),g("div",{className:"profile-meta",children:[g("div",{className:"meta-item",children:[l(_r,{size:14}),l("span",{children:f.city?`${f.city}, ${f.state||"Location"}`:f.country||"Country"})]}),g("div",{className:"meta-item",children:[l(Lb,{size:14}),l("span",{children:f.email})]})]})]})})]}),l("div",{className:"profile-edit-action",children:g("button",{className:`edit-profile-btn ${s?"btn-editing":""}`,onClick:()=>a(!s),children:[s?g(Ft,{children:[l(Yn,{size:18}),l("span",{children:"Cancel Edit"})]}):g(Ft,{children:[l(mx,{size:18}),l("span",{children:"Edit Profile"})]}),l("div",{className:"btn-shine"})]})}),g("div",{className:"profile-nav-actions",children:[g("button",{className:"nav-back-btn home-btn",onClick:()=>n("/"),title:"Back to Home",children:[l("span",{className:"btn-icon-wrapper",children:l(ML,{size:20})}),l("span",{className:"btn-text",children:"Home"}),l("span",{className:"btn-ripple"})]}),g("button",{className:"nav-back-btn dashboard-btn",onClick:()=>n("/dashboard"),title:"Back to Dashboard",children:[l("span",{className:"btn-icon-wrapper",children:l(Qhe,{size:20})}),l("span",{className:"btn-text",children:"Dashboard"}),l("span",{className:"btn-ripple"})]})]})]})})]}),l("div",{className:"profile-nav animate-slide-up",style:{animationDelay:"0.2s"},children:g("div",{className:"nav-tabs",children:[g("button",{className:`nav-tab ${i==="profile"?"active":""}`,onClick:()=>r("profile"),children:[l("div",{className:"tab-icon",children:l(go,{size:20})}),l("span",{className:"tab-label",children:"PROFILE"}),i==="profile"&&l("div",{className:"tab-indicator"})]}),g("button",{className:`nav-tab ${i==="education"?"active":""}`,onClick:()=>r("education"),children:[l("div",{className:"tab-icon",children:l(nf,{size:20})}),l("span",{className:"tab-label",children:"EDUCATION"}),i==="education"&&l("div",{className:"tab-indicator"})]}),g("button",{className:`nav-tab ${i==="occupation"?"active":""}`,onClick:()=>r("occupation"),children:[l("div",{className:"tab-icon",children:l(Mi,{size:20})}),l("span",{className:"tab-label",children:"OCCUPATION"}),i==="occupation"&&l("div",{className:"tab-indicator"})]})]})}),g("div",{className:"profile-content-wrapper",children:[g("div",{className:"profile-sidebar animate-slide-left",style:{animationDelay:"0.3s"},children:[g("h3",{className:"sidebar-title",children:[l("span",{children:"Navigation"}),l("div",{className:"title-underline"})]}),l("div",{className:"sidebar-menu",children:Me.map((ot,Nt)=>g("a",{href:`#${ot.id}`,className:`sidebar-item ${i===ot.id?"active":""}`,onClick:Ut=>{Ut.preventDefault(),r(ot.id)},style:{animationDelay:`${.4+Nt*.1}s`},children:[l("div",{className:"sidebar-icon",children:l(ot.icon,{size:ot.size})}),l("span",{className:"sidebar-label",children:ot.label}),ot.badge&&l("span",{className:"sidebar-badge",children:ot.badge}),l("div",{className:"sidebar-item-bg"})]},ot.id))})]}),g("div",{className:"tab-content",children:[i==="profile"&&g("div",{className:"profile-form-section animate-fade-in",children:[g("div",{className:"profile-form-header",children:[g("h2",{className:"profile-form-title",children:[l("div",{className:"title-icon",children:l(go,{size:24})}),l("span",{children:"Profile Information"})]}),g("div",{className:"points-display",children:[l(LA,{size:20}),g("span",{children:["Points: ",f.points]}),l("div",{className:"points-pulse"})]})]}),g("form",{className:"profile-form",children:[g("div",{className:"form-group",children:[g("label",{className:"form-label required",children:[l(go,{size:14}),"NAME"]}),g("div",{className:"input-wrapper",children:[l("input",{type:"text",name:"name",className:"form-control",value:p.name,onChange:te,disabled:!s,placeholder:"Enter your name"}),l("div",{className:"input-line"})]})]}),g("div",{className:"form-group",children:[g("label",{className:"form-label required",children:[l(Lb,{size:14}),"EMAIL"]}),g("div",{className:"input-wrapper",children:[l("input",{type:"email",name:"email",className:"form-control",value:p.email,onChange:te,disabled:!s,placeholder:"Enter your email"}),l("div",{className:"input-line"})]})]}),g("div",{className:"form-group",children:[g("label",{className:"form-label required",children:[l(b3,{size:14}),"CONTACT NO"]}),g("div",{className:"input-wrapper",children:[l("input",{type:"tel",name:"contactNo",className:"form-control",value:p.contactNo,onChange:te,disabled:!s,placeholder:"Enter contact number"}),l("div",{className:"input-line"})]})]}),g("div",{className:"form-group",children:[g("label",{className:"form-label required",children:[l(b3,{size:14}),"WHATSAPP NO"]}),g("div",{className:"input-wrapper",children:[l("input",{type:"tel",name:"whatsappNo",className:"form-control",value:p.whatsappNo,onChange:te,disabled:!s,placeholder:"Enter WhatsApp number"}),l("div",{className:"input-line"})]})]}),g("div",{className:"form-group",children:[g("label",{className:"form-label required",children:[l(go,{size:14}),"SEX"]}),g("div",{className:"radio-group",children:[g("label",{className:"radio-label radio-card",children:[l("input",{type:"radio",name:"sex",value:"male",className:"radio-input",checked:p.sex==="male",onChange:te,disabled:!s}),l("span",{className:"radio-custom"}),l("span",{children:"MALE"})]}),g("label",{className:"radio-label radio-card",children:[l("input",{type:"radio",name:"sex",value:"female",className:"radio-input",checked:p.sex==="female",onChange:te,disabled:!s}),l("span",{className:"radio-custom"}),l("span",{children:"FEMALE"})]})]})]}),g("div",{className:"form-group",children:[g("label",{className:"form-label required",children:[l(Rs,{size:14}),"D.O.B"]}),g("div",{className:"input-wrapper",children:[l("input",{type:"date",name:"dob",className:"form-control",value:p.dob,onChange:te,disabled:!s}),l("div",{className:"input-line"})]})]}),g("div",{className:"form-group",children:[g("label",{className:"form-label required",children:[l(X1,{size:14}),"COUNTRY"]}),g("div",{className:"select-wrapper",children:[g("select",{name:"country",className:"select-control",value:p.country,onChange:te,disabled:!s,children:[l("option",{value:"",children:"Select Country"}),l("option",{value:"India",children:"India"}),l("option",{value:"USA",children:"USA"}),l("option",{value:"UK",children:"UK"})]}),l("div",{className:"select-arrow"})]})]}),g("div",{className:"form-group",children:[g("label",{className:"form-label required",children:[l(_r,{size:14}),"STATE"]}),g("div",{className:"select-wrapper",children:[g("select",{name:"state",className:"select-control",value:p.state,onChange:te,disabled:!s,children:[l("option",{value:"",children:"Select State"}),l("option",{value:"Jammu and Kashmir",children:"Jammu and Kashmir"}),l("option",{value:"Maharashtra",children:"Maharashtra"}),l("option",{value:"Delhi",children:"Delhi"})]}),l("div",{className:"select-arrow"})]})]}),g("div",{className:"form-group",children:[g("label",{className:"form-label required",children:[l(_r,{size:14}),"CITY"]}),g("div",{className:"select-wrapper",children:[g("select",{name:"city",className:"select-control",value:p.city,onChange:te,disabled:!s,children:[l("option",{value:"",children:"Select City"}),l("option",{value:"Srinagar",children:"Srinagar"}),l("option",{value:"Jammu",children:"Jammu"}),l("option",{value:"Mumbai",children:"Mumbai"})]}),l("div",{className:"select-arrow"})]})]}),g("div",{className:"cv-upload-section",children:[g("label",{className:"form-label",children:[l(S9,{size:14}),"UPLOAD YOUR CV"]}),m?g("div",{className:"cv-preview animate-scale-in",children:[g("div",{className:"cv-preview-header",children:[l(di,{size:20,className:"success-icon"}),l("h4",{children:"CV Uploaded Successfully!"})]}),g("div",{className:"cv-preview-details",children:[l(S9,{size:20,className:"file-icon"}),g("div",{className:"cv-info",children:[l("span",{className:"cv-name",children:m.name}),l("span",{className:"cv-size",children:m.size})]}),g("div",{className:"cv-actions",children:[l("button",{type:"button",className:"btn-icon btn-view",onClick:Ye,title:"View CV",children:l(na,{size:18})}),l("button",{type:"button",className:"btn-icon btn-remove",onClick:Oe,title:"Remove CV",children:l(Yn,{size:18})})]})]})]}):g("div",{className:`cv-upload-box ${_?"dragging":""}`,onClick:()=>document.getElementById("cv-upload").click(),onDragEnter:he,onDragOver:ae,onDragLeave:ve,onDrop:me,children:[g("div",{className:"cv-upload-content",children:[g("div",{className:"upload-icon-wrapper",children:[l(Bh,{size:48,className:"cv-upload-icon"}),l("div",{className:"upload-icon-circle"})]}),l("div",{className:"cv-upload-text",children:_?"Drop your file here":"Click or drag file to upload"}),l("div",{className:"cv-upload-subtext",children:"PDF or Word document (Max 5MB)"})]}),l("input",{id:"cv-upload",type:"file",accept:".pdf,.doc,.docx",onChange:ge,style:{display:"none"}})]})]}),l("div",{className:"consent-section",children:g("div",{className:"consent-checkbox",children:[l("input",{type:"checkbox",name:"consent",id:"consent",checked:f.consent,onChange:H,disabled:!s}),g("label",{htmlFor:"consent",className:"consent-text",children:[l("div",{className:"consent-icon",children:l(gx,{size:20})}),g("div",{className:"consent-content",children:[l("span",{className:"consent-highlight",children:"I GIVE MY CONSENT FOR MY DETAILS TO BE VISIBLE IN THE NETWORKING FORUM"}),l("span",{className:"consent-subtext",children:"Please update your education and occupation section to receive further updates."})]})]})]})}),s&&g("div",{className:"form-actions animate-slide-up",children:[g("button",{type:"button",className:"btn-secondary",onClick:()=>a(!1),children:[l(Yn,{size:20}),l("span",{children:"Cancel"})]}),g("button",{type:"button",className:"btn-primary",onClick:Ke,disabled:o,children:[o?g(Ft,{children:[l("span",{className:"spinner"}),l("span",{children:"Updating..."})]}):g(Ft,{children:[l(B8,{size:20}),l("span",{children:"UPDATE"})]}),l("div",{className:"btn-ripple"})]})]})]})]}),i==="education"&&g("div",{className:"profile-form-section animate-fade-in",children:[l("div",{className:"profile-form-header",children:g("h2",{className:"profile-form-title",children:[l("div",{className:"title-icon",children:l(nf,{size:24})}),l("span",{children:"Education Details"})]})}),g("form",{className:"profile-form education-form",onSubmit:it,children:[g("div",{className:"form-row",children:[g("div",{className:"form-group",children:[l("label",{className:"form-label required",children:"Highest Education"}),g("div",{className:"select-wrapper",children:[g("select",{name:"highestEducation",value:T.highestEducation,onChange:qe,className:"form-control select-control",required:!0,children:[l("option",{value:"",children:"Select..."}),l("option",{value:"highschool",children:"High School"}),l("option",{value:"bachelors",children:"Bachelor's Degree"}),l("option",{value:"masters",children:"Master's Degree"}),l("option",{value:"phd",children:"PhD"}),l("option",{value:"diploma",children:"Diploma"}),l("option",{value:"certification",children:"Professional Certification"})]}),l("div",{className:"select-arrow",children:l("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"currentColor",children:l("path",{d:"M1 1L6 6L11 1",stroke:"currentColor",strokeWidth:"2",fill:"none"})})})]})]}),g("div",{className:"form-group",children:[l("label",{className:"form-label required",children:"Education Status"}),g("div",{className:"radio-group",children:[g("label",{className:"radio-card",children:[l("input",{type:"radio",name:"educationStatus",value:"pursuing",checked:T.educationStatus==="pursuing",onChange:qe,className:"radio-input"}),l("span",{className:"radio-custom"}),l("span",{children:"Pursuing"})]}),g("label",{className:"radio-card",children:[l("input",{type:"radio",name:"educationStatus",value:"completed",checked:T.educationStatus==="completed",onChange:qe,className:"radio-input"}),l("span",{className:"radio-custom"}),l("span",{children:"Completed"})]})]})]})]}),g("div",{className:"form-row",children:[g("div",{className:"form-group",children:[l("label",{className:"form-label required",children:"College Name"}),l("input",{type:"text",name:"collegeName",value:T.collegeName,onChange:qe,className:"form-control",placeholder:"Enter your college name",required:!0}),l("div",{className:"input-line"})]}),g("div",{className:"form-group",children:[l("label",{className:"form-label",children:"College Contact"}),l("input",{type:"text",name:"collegeContact",value:T.collegeContact,onChange:qe,className:"form-control",placeholder:"College email or phone"}),l("div",{className:"input-line"})]})]}),g("div",{className:"form-row",children:[g("div",{className:"form-group",children:[l("label",{className:"form-label required",children:"Field of Study"}),l("input",{type:"text",name:"fieldOfStudy",value:T.fieldOfStudy,onChange:qe,className:"form-control",placeholder:"e.g., Computer Science, Architecture",required:!0}),l("div",{className:"input-line"})]}),g("div",{className:"form-group",children:[l("label",{className:"form-label",children:"Year of Study"}),g("div",{className:"select-wrapper",children:[g("select",{name:"yearOfStudy",value:T.yearOfStudy,onChange:qe,className:"form-control select-control",children:[l("option",{value:"",children:"Select..."}),l("option",{value:"1",children:"1st Year"}),l("option",{value:"2",children:"2nd Year"}),l("option",{value:"3",children:"3rd Year"}),l("option",{value:"4",children:"4th Year"}),l("option",{value:"5",children:"5th Year"})]}),l("div",{className:"select-arrow",children:l("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"currentColor",children:l("path",{d:"M1 1L6 6L11 1",stroke:"currentColor",strokeWidth:"2",fill:"none"})})})]})]})]}),g("div",{className:"form-row",children:[g("div",{className:"form-group",children:[l("label",{className:"form-label",children:"Year of Passout"}),l("input",{type:"text",name:"yearOfPassout",value:T.yearOfPassout,onChange:qe,className:"form-control",placeholder:"e.g., 1992",maxLength:"4"}),l("div",{className:"input-line"})]}),g("div",{className:"form-group",children:[l("label",{className:"form-label",children:"Percentage"}),l("input",{type:"text",name:"percentage",value:T.percentage,onChange:qe,className:"form-control",placeholder:"e.g., 89.50",maxLength:"5"}),l("div",{className:"input-line"})]})]}),g("div",{className:"form-row",children:[g("div",{className:"form-group",children:[l("label",{className:"form-label",children:"Internship Experience"}),g("div",{className:"select-wrapper",children:[g("select",{name:"internshipExperience",value:T.internshipExperience,onChange:qe,className:"form-control select-control",children:[l("option",{value:"",children:"Select..."}),l("option",{value:"none",children:"No Experience"}),l("option",{value:"0-6months",children:"0-6 Months"}),l("option",{value:"6-12months",children:"6-12 Months"}),l("option",{value:"1-2years",children:"1-2 Years"}),l("option",{value:"2plus",children:"2+ Years"})]}),l("div",{className:"select-arrow",children:l("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"currentColor",children:l("path",{d:"M1 1L6 6L11 1",stroke:"currentColor",strokeWidth:"2",fill:"none"})})})]})]}),g("div",{className:"form-group",children:[l("label",{className:"form-label",children:"Job Experience"}),g("div",{className:"select-wrapper",children:[g("select",{name:"jobExperience",value:T.jobExperience,onChange:qe,className:"form-control select-control",children:[l("option",{value:"",children:"Select..."}),l("option",{value:"none",children:"No Experience"}),l("option",{value:"0-1year",children:"0-1 Year"}),l("option",{value:"1-3years",children:"1-3 Years"}),l("option",{value:"3-5years",children:"3-5 Years"}),l("option",{value:"5plus",children:"5+ Years"})]}),l("div",{className:"select-arrow",children:l("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"currentColor",children:l("path",{d:"M1 1L6 6L11 1",stroke:"currentColor",strokeWidth:"2",fill:"none"})})})]})]})]}),g("div",{className:"form-group",children:[l("label",{className:"form-label",children:"Domain"}),l("textarea",{name:"domain",value:T.domain,onChange:qe,className:"form-control textarea-control",placeholder:"Describe your domain of expertise or specialization",rows:"3"}),l("div",{className:"input-line"})]}),g("div",{className:"consent-section",children:[g("div",{className:"consent-notice",children:[l("div",{className:"notice-icon",children:l(gx,{size:20})}),l("p",{children:"Please update your occupation section to receive further updates"})]}),g("label",{className:"consent-checkbox",children:[l("input",{type:"checkbox",name:"educationConsent",checked:T.educationConsent,onChange:qe}),l("div",{className:"consent-icon",children:l(di,{size:20})}),g("div",{className:"consent-content",children:[l("span",{className:"consent-highlight",children:"I give my consent"}),l("span",{className:"consent-subtext",children:"for my details to be visible in the networking forum"})]})]})]}),l("div",{className:"form-actions",children:g("button",{type:"submit",className:"btn-primary",disabled:o,children:[o?g(Ft,{children:[l("div",{className:"spinner"}),l("span",{children:"Updating..."})]}):g(Ft,{children:[l(B8,{size:20}),l("span",{children:"Update"})]}),l("div",{className:"btn-ripple"})]})})]})]}),i==="write"&&g("div",{className:"profile-form-section animate-fade-in",children:[l("div",{className:"profile-form-header",children:g("h2",{className:"profile-form-title",children:[l("div",{className:"title-icon",children:l(Mn,{size:24})}),l("span",{children:"Write for Us"})]})}),l("div",{className:"write-for-us-grid",children:ke.map((ot,Nt)=>g("div",{className:"write-card animate-scale-in",style:{animationDelay:`${Nt*.1}s`},children:[g("div",{className:"write-card-header",children:[l("h3",{className:"write-card-count",children:ot.count}),l("p",{className:"write-card-title",children:ot.title})]}),l("button",{className:"write-card-button",onClick:()=>t(`${ot.action} - Coming Soon!`,"info"),children:ot.action})]},ot.id))})]}),i==="video"&&g("div",{className:"profile-form-section animate-fade-in",children:[g("div",{className:"profile-form-header",children:[g("h2",{className:"profile-form-title",children:[l("div",{className:"title-icon",children:l(yo,{size:24})}),l("span",{children:"Video Uploads"})]}),g("button",{type:"button",className:"btn-primary video-upload-open-btn",onClick:()=>D(!0),children:[l(Bh,{size:18}),l("span",{children:"Upload Video"}),l("div",{className:"btn-ripple"})]})]}),g("div",{className:"coming-soon",children:[g("div",{className:"coming-soon-icon-wrapper",children:[l(yo,{size:64,className:"coming-soon-icon"}),l("div",{className:"icon-ring ring-1"}),l("div",{className:"icon-ring ring-2"})]}),l("h3",{children:"Manage Your Videos"}),g("p",{children:["Use the ",l("b",{children:"Upload Video"})," button above to add new tutorial or project videos."]})]})]}),i==="portfolio"&&g("div",{className:"profile-form-section animate-fade-in",children:[g("div",{className:"profile-form-header",children:[g("h2",{className:"profile-form-title",children:[l("div",{className:"title-icon",children:l(qh,{size:24})}),l("span",{children:"Portfolio"})]}),g("button",{type:"button",className:"btn-primary portfolio-upload-open-btn",onClick:()=>G(!0),children:[l(Bh,{size:18}),l("span",{children:"Upload Portfolio"}),l("div",{className:"btn-ripple"})]})]}),g("div",{className:"coming-soon",children:[g("div",{className:"coming-soon-icon-wrapper",children:[l(qh,{size:64,className:"coming-soon-icon"}),l("div",{className:"icon-ring ring-1"}),l("div",{className:"icon-ring ring-2"})]}),l("h3",{children:"Showcase Your Work"}),g("p",{children:["Use the ",l("b",{children:"Upload Portfolio"})," button above to add your projects and work samples."]})]})]}),i==="datahub"&&g("div",{className:"profile-form-section animate-fade-in",children:[l("div",{className:"profile-form-header",children:g("h2",{className:"profile-form-title",children:[l("div",{className:"title-icon",children:l(x6,{size:24})}),l("span",{children:"Data Hub"})]})}),l("div",{className:"datahub-grid",children:Ce.map((ot,Nt)=>g("div",{className:"datahub-card animate-scale-in",style:{animationDelay:`${Nt*.1}s`},children:[g("div",{className:"datahub-card-header",style:{background:ot.color},children:[l("div",{className:"datahub-icon-wrapper",children:l(ot.icon,{size:48,className:"datahub-icon"})}),l("h3",{className:"datahub-count",children:ot.count}),l("p",{className:"datahub-title",children:ot.title})]}),l("button",{className:"datahub-button",onClick:()=>Bt(ot.id),children:"UPLOAD"})]},ot.id))})]}),i==="purchases"&&g("div",{className:"profile-form-section animate-fade-in",children:[l("div",{className:"profile-form-header",children:g("h2",{className:"profile-form-title",children:[l("div",{className:"title-icon",children:l(N6,{size:24})}),l("span",{children:"My Purchase Details"})]})}),g("div",{className:"purchase-table-wrapper",children:[l("div",{className:"purchase-table-container",children:g("table",{className:"purchase-table",children:[l("thead",{children:g("tr",{children:[l("th",{children:"ID"}),l("th",{children:"Payment ID"}),l("th",{children:"Type"}),l("th",{children:"Name"}),l("th",{children:"Amount"}),l("th",{children:"Date"})]})}),l("tbody",{children:$.map(ot=>g("tr",{children:[l("td",{children:ot.id}),l("td",{className:"payment-id",children:ot.paymentId}),l("td",{children:l("span",{className:"purchase-type-badge",children:ot.type})}),l("td",{children:ot.name}),l("td",{className:"amount-cell",children:ot.amount}),l("td",{className:"date-cell",children:ot.date})]},ot.id))})]})}),$.length===0&&g("div",{className:"no-purchases",children:[l(N6,{size:64,className:"no-purchases-icon"}),l("h3",{children:"No Purchases Yet"}),l("p",{children:"Your purchase history will appear here"})]})]})]}),i==="occupation"&&g("div",{className:"profile-form-section animate-fade-in",children:[l("div",{className:"profile-form-header",children:g("h2",{className:"profile-form-title",children:[l("div",{className:"title-icon",children:l(Mi,{size:24})}),l("span",{children:"Occupation Details"})]})}),g("div",{className:"coming-soon",children:[g("div",{className:"coming-soon-icon-wrapper",children:[l(Mi,{size:64,className:"coming-soon-icon"}),l("div",{className:"icon-ring ring-1"}),l("div",{className:"icon-ring ring-2"})]}),l("h3",{children:"Coming Soon"}),l("p",{children:"Occupation section is under development"})]})]}),i==="question"&&g("div",{className:"profile-form-section animate-fade-in",children:[l("div",{className:"profile-form-header",children:g("h2",{className:"profile-form-title",children:[l("div",{className:"title-icon",children:l(_6,{size:24})}),l("span",{children:"Questions"})]})}),g("div",{className:"coming-soon",children:[g("div",{className:"coming-soon-icon-wrapper",children:[l(_6,{size:64,className:"coming-soon-icon"}),l("div",{className:"icon-ring ring-1"}),l("div",{className:"icon-ring ring-2"})]}),l("h3",{children:"Coming Soon"}),l("p",{children:"Question section is under development"})]})]})]})]})]}),P&&l("div",{className:"video-modal-overlay",onClick:()=>D(!1),children:g("div",{className:"video-modal",onClick:ot=>ot.stopPropagation(),children:[g("div",{className:"video-modal-header",children:[g("h3",{children:[l(yo,{size:22}),l("span",{children:"Upload Video"})]}),l("button",{type:"button",className:"video-modal-close",onClick:()=>D(!1),children:l(Yn,{size:20})})]}),g("form",{className:"video-modal-form",onSubmit:tt,children:[g("div",{className:"form-group",children:[l("label",{className:"form-label required",children:"TITLE"}),g("div",{className:"input-wrapper",children:[l("input",{type:"text",name:"title",className:"form-control",placeholder:"Enter video title",value:E.title,onChange:ft}),l("div",{className:"input-line"})]})]}),g("div",{className:"form-group",children:[l("label",{className:"form-label required",children:"UPLOAD VIDEO (40 MB)"}),g("div",{className:"video-file-row",children:[l("input",{type:"file",accept:".mp4,.avi,.wmv,.flv,.mkv,.mpeg",onChange:We,className:"video-file-input"}),E.file&&l("span",{className:"video-file-name",children:E.file.name})]}),l("p",{className:"video-file-help",children:"MP4, MPEG-4, WMV, FLV, MKV only. Max size: 40 MB."})]}),g("div",{className:"form-group",children:[l("label",{className:"form-label",children:"DESCRIPTION"}),g("div",{className:"input-wrapper",children:[l("textarea",{name:"description",rows:"6",className:"form-control textarea-control video-description-textarea",placeholder:"Write a brief description of your video, tutorials, project details, etc.",value:E.description,onChange:ft}),l("div",{className:"input-line"})]})]}),I&&l("div",{className:"video-error-text",children:I}),g("div",{className:"form-actions video-modal-actions",children:[g("button",{type:"button",className:"btn-secondary",onClick:()=>D(!1),disabled:M,children:[l(Yn,{size:18}),l("span",{children:"Cancel"})]}),g("button",{type:"submit",className:"btn-primary",disabled:M,children:[M?g(Ft,{children:[l("span",{className:"spinner"}),l("span",{children:"Uploading..."})]}):g(Ft,{children:[l(Bh,{size:18}),l("span",{children:"Upload"})]}),l("div",{className:"btn-ripple"})]})]})]})]})}),q&&l("div",{className:"portfolio-modal-overlay",onClick:()=>G(!1),children:g("div",{className:"portfolio-modal",onClick:ot=>ot.stopPropagation(),children:[g("div",{className:"portfolio-modal-header",children:[g("h3",{children:[l(qh,{size:22}),l("span",{children:"Portfolio"})]}),l("button",{type:"button",className:"portfolio-modal-close",onClick:()=>G(!1),children:l(Yn,{size:20})})]}),g("form",{className:"portfolio-modal-form",onSubmit:St,children:[g("div",{className:"form-group",children:[l("label",{className:"form-label required",children:"TITLE"}),g("div",{className:"input-wrapper",children:[l("input",{type:"text",name:"title",className:"form-control",placeholder:"Enter title",value:B.title,onChange:pt}),l("div",{className:"input-line"})]})]}),g("div",{className:"portfolio-file-grid",children:[g("div",{className:"form-group",children:[l("label",{className:"form-label required",children:"UPLOAD IMAGE (20MB)"}),g("div",{className:"portfolio-file-row",children:[l("input",{type:"file",accept:"image/*",onChange:Ct,className:"portfolio-file-input"}),B.imageFile&&l("span",{className:"portfolio-file-name",children:B.imageFile.name})]}),l("p",{className:"portfolio-file-help",children:"Size: 20MB (800x450)"})]}),g("div",{className:"form-group",children:[l("label",{className:"form-label",children:"UPLOAD PDF (40MB)"}),g("div",{className:"portfolio-file-row",children:[l("input",{type:"file",accept:".pdf",onChange:Et,className:"portfolio-file-input"}),B.pdfFile&&l("span",{className:"portfolio-file-name",children:B.pdfFile.name})]}),l("p",{className:"portfolio-file-help",children:"Max: 40MB"})]})]}),g("div",{className:"form-group",children:[l("label",{className:"form-label",children:"DESCRIPTION"}),g("div",{className:"input-wrapper",children:[l("textarea",{name:"description",rows:"6",className:"form-control textarea-control portfolio-description-textarea",placeholder:"Enter description",value:B.description,onChange:pt}),l("div",{className:"input-line"})]})]}),W&&l("div",{className:"portfolio-error-text",children:W}),l("div",{className:"form-actions portfolio-modal-actions",children:g("button",{type:"submit",className:"btn-primary btn-submit-portfolio",disabled:z,children:[z?g(Ft,{children:[l("span",{className:"spinner"}),l("span",{children:"Uploading..."})]}):l("span",{children:"SUBMIT"}),l("div",{className:"btn-ripple"})]})})]})]})}),Q&&l("div",{className:"datahub-modal-overlay",onClick:()=>V(!1),children:g("div",{className:"datahub-modal",onClick:ot=>ot.stopPropagation(),children:[g("div",{className:"datahub-modal-header",children:[g("h3",{children:[l(x6,{size:22}),l("span",{children:Pe()})]}),l("button",{type:"button",className:"datahub-modal-close",onClick:()=>V(!1),children:l(Yn,{size:20})})]}),g("form",{className:"datahub-modal-form",onSubmit:we,children:[g("div",{className:"form-group",children:[l("label",{className:"form-label required",children:"TITLE"}),g("div",{className:"input-wrapper",children:[l("input",{type:"text",name:"title",className:"form-control",placeholder:"Enter title",value:le.title,onChange:kn}),l("div",{className:"input-line"})]})]}),g("div",{className:"form-group",children:[l("label",{className:"form-label required",children:"UPLOAD FILE (50 MB)"}),g("div",{className:"datahub-file-row",children:[l("input",{type:"file",accept:".pdf,.doc,.docx,.xls,.xlsx,.csv",onChange:sn,className:"datahub-file-input"}),le.file&&l("span",{className:"datahub-file-name",children:le.file.name})]}),l("p",{className:"datahub-file-help",children:"PDF, Word, or Excel files only. Max size: 50 MB."})]}),g("div",{className:"form-group",children:[l("label",{className:"form-label",children:"DESCRIPTION"}),g("div",{className:"input-wrapper",children:[l("textarea",{name:"description",rows:"6",className:"form-control textarea-control datahub-description-textarea",placeholder:"Provide additional details about this data",value:le.description,onChange:kn}),l("div",{className:"input-line"})]})]}),Fe&&l("div",{className:"datahub-error-text",children:Fe}),g("div",{className:"form-actions datahub-modal-actions",children:[g("button",{type:"button",className:"btn-secondary",onClick:()=>V(!1),disabled:Re,children:[l(Yn,{size:18}),l("span",{children:"Cancel"})]}),g("button",{type:"submit",className:"btn-primary",disabled:Re,children:[Re?g(Ft,{children:[l("span",{className:"spinner"}),l("span",{children:"Uploading..."})]}):g(Ft,{children:[l(Bh,{size:18}),l("span",{children:"Upload"})]}),l("div",{className:"btn-ripple"})]})]})]})]})})]})};const Epe=()=>{var R;hs();const{showNotification:n}=Ao(),[e,t]=ie.useState("manuscripts"),[i,r]=ie.useState([]),[s,a]=ie.useState([]),[o,c]=ie.useState({manuscripts:{total:0,pending:0,"under-review":0,accepted:0,rejected:0},researchPapers:{total:0,pending:0,"under-review":0,accepted:0,rejected:0}}),[d,u]=ie.useState(!0),[f,h]=ie.useState(null),[p,v]=ie.useState(!1),[w,b]=ie.useState(""),[m,y]=ie.useState(""),[_,x]=ie.useState("all"),[N,k]=ie.useState("");ie.useEffect(()=>{T()},[e,_]);const T=async()=>{u(!0);try{const M=localStorage.getItem("authToken"),q=await(await fetch("http://localhost:3000/api/editor/dashboard-stats",{headers:{Authorization:`Bearer ${M}`}})).json();q.success&&c(q.data);const G=e==="manuscripts"?"manuscripts":"research-papers",B=_!=="all"?`?status=${_}`:"",W=await(await fetch(`http://localhost:3000/api/editor/${G}${B}`,{headers:{Authorization:`Bearer ${M}`}})).json();W.success&&(e==="manuscripts"?r(W.data.manuscripts||[]):a(W.data.papers||[]))}catch(M){console.error("Error fetching dashboard data:",M),n("Failed to load dashboard data","error")}finally{u(!1)}},C=async M=>{h(M),b(M.status||"under-review"),y(M.adminRemarks||""),v(!0)},P=async()=>{if(!w){n("Please select a status","error");return}try{const M=localStorage.getItem("authToken"),G=await(await fetch(`http://localhost:3000/api/editor/${e==="manuscripts"?"manuscripts":"research-papers"}/${f._id}/review`,{method:"PATCH",headers:{Authorization:`Bearer ${M}`,"Content-Type":"application/json"},body:JSON.stringify({status:w,reviewComments:m})})).json();G.success?(n("Review submitted successfully","success"),v(!1),T()):n(G.message||"Failed to submit review","error")}catch(M){console.error("Error submitting review:",M),n("Failed to submit review","error")}},D=M=>{const Y={pending:{color:"#f59e0b",icon:xr,label:"Pending"},"under-review":{color:"#3b82f6",icon:G1,label:"Under Review"},accepted:{color:"#10b981",icon:di,label:"Accepted"},rejected:{color:"#ef4444",icon:po,label:"Rejected"}},q=Y[M]||Y.pending,G=q.icon;return g("span",{style:{display:"inline-flex",alignItems:"center",gap:"4px",padding:"4px 12px",borderRadius:"12px",background:`${q.color}20`,color:q.color,fontSize:"13px",fontWeight:"500"},children:[l(G,{size:14}),q.label]})},E=e==="manuscripts"?i:s,A=e==="manuscripts"?o.manuscripts:o.researchPapers,I=E.filter(M=>{var Y,q,G;return N?((Y=M.title)==null?void 0:Y.toLowerCase().includes(N.toLowerCase()))||((G=(q=M.author)==null?void 0:q.name)==null?void 0:G.toLowerCase().includes(N.toLowerCase())):!0});return g("div",{className:"editor-dashboard",children:[l("div",{className:"editor-header",children:g("div",{children:[l("h1",{children:"Editor Dashboard"}),l("p",{children:"Review and manage manuscript and research paper submissions"})]})}),g("div",{className:"stats-grid",children:[g("div",{className:"stat-card",style:{borderLeft:"4px solid #3b82f6"},children:[l("div",{className:"stat-icon",style:{background:"#3b82f620"},children:l(Mn,{size:24,color:"#3b82f6"})}),g("div",{children:[l("div",{className:"stat-value",children:A.total}),l("div",{className:"stat-label",children:"Total Submissions"})]})]}),g("div",{className:"stat-card",style:{borderLeft:"4px solid #f59e0b"},children:[l("div",{className:"stat-icon",style:{background:"#f59e0b20"},children:l(xr,{size:24,color:"#f59e0b"})}),g("div",{children:[l("div",{className:"stat-value",children:A.pending}),l("div",{className:"stat-label",children:"Pending Review"})]})]}),g("div",{className:"stat-card",style:{borderLeft:"4px solid #3b82f6"},children:[l("div",{className:"stat-icon",style:{background:"#3b82f620"},children:l(G1,{size:24,color:"#3b82f6"})}),g("div",{children:[l("div",{className:"stat-value",children:A["under-review"]}),l("div",{className:"stat-label",children:"Under Review"})]})]}),g("div",{className:"stat-card",style:{borderLeft:"4px solid #10b981"},children:[l("div",{className:"stat-icon",style:{background:"#10b98120"},children:l(di,{size:24,color:"#10b981"})}),g("div",{children:[l("div",{className:"stat-value",children:A.accepted}),l("div",{className:"stat-label",children:"Accepted"})]})]})]}),g("div",{className:"editor-tabs",children:[g("button",{className:`tab-button ${e==="manuscripts"?"active":""}`,onClick:()=>t("manuscripts"),children:[l(Mn,{size:18}),"Manuscripts"]}),g("button",{className:`tab-button ${e==="research-papers"?"active":""}`,onClick:()=>t("research-papers"),children:[l(px,{size:18}),"Research Papers"]})]}),g("div",{className:"filters-bar",children:[g("div",{className:"search-box",children:[l(ia,{size:18}),l("input",{type:"text",placeholder:"Search by title or author...",value:N,onChange:M=>k(M.target.value)})]}),g("select",{className:"filter-select",value:_,onChange:M=>x(M.target.value),children:[l("option",{value:"all",children:"All Status"}),l("option",{value:"pending",children:"Pending"}),l("option",{value:"under-review",children:"Under Review"}),l("option",{value:"accepted",children:"Accepted"}),l("option",{value:"rejected",children:"Rejected"})]})]}),l("div",{className:"submissions-list",children:d?l("div",{className:"loading-state",children:"Loading..."}):I.length===0?g("div",{className:"empty-state",children:[l(Mn,{size:48,color:"#cbd5e1"}),l("p",{children:"No submissions found"})]}):I.map(M=>{var Y,q;return g("div",{className:"submission-card",children:[g("div",{className:"submission-header",children:[g("div",{children:[l("h3",{children:M.title}),g("div",{className:"submission-meta",children:[g("span",{children:[l(go,{size:14}),((Y=M.author)==null?void 0:Y.name)||"Unknown"]}),g("span",{children:[l(Rs,{size:14}),new Date(M.createdAt).toLocaleDateString()]}),M.requirementId&&g("span",{children:[l(Mn,{size:14}),M.requirementId.title]})]})]}),D(M.status)]}),M.abstract&&g("p",{className:"submission-abstract",children:[M.abstract.substring(0,200),"..."]}),M.adminRemarks&&g("div",{className:"review-comments",children:[l(bl,{size:16}),l("span",{children:M.adminRemarks})]}),g("div",{className:"submission-actions",children:[((q=M.document)==null?void 0:q.url)&&g("a",{href:M.document.url,target:"_blank",rel:"noopener noreferrer",className:"action-button secondary",children:[l(RA,{size:16}),"Download"]}),g("button",{className:"action-button primary",onClick:()=>C(M),children:[l(na,{size:16}),"Review"]})]})]},M._id)})}),p&&f&&l("div",{className:"modal-overlay",onClick:()=>v(!1),children:g("div",{className:"modal-content",onClick:M=>M.stopPropagation(),children:[g("div",{className:"modal-header",children:[l("h2",{children:"Review Submission"}),l("button",{onClick:()=>v(!1),children:""})]}),g("div",{className:"modal-body",children:[g("div",{className:"review-info",children:[l("h3",{children:f.title}),g("p",{children:[l("strong",{children:"Author:"})," ",(R=f.author)==null?void 0:R.name]}),g("p",{children:[l("strong",{children:"Type:"})," ",f.type==="research-paper"?"Research Paper":"Manuscript"]}),f.requirementId&&g("p",{children:[l("strong",{children:"Requirement:"})," ",f.requirementId.title]})]}),g("div",{className:"form-group",children:[l("label",{children:"Status *"}),g("select",{value:w,onChange:M=>b(M.target.value),required:!0,children:[l("option",{value:"",children:"Select Status"}),l("option",{value:"under-review",children:"Under Review"}),l("option",{value:"accepted",children:"Accept"}),l("option",{value:"rejected",children:"Reject"})]})]}),g("div",{className:"form-group",children:[l("label",{children:"Review Comments"}),l("textarea",{value:m,onChange:M=>y(M.target.value),placeholder:"Enter your review comments...",rows:5})]})]}),g("div",{className:"modal-footer",children:[l("button",{className:"button secondary",onClick:()=>v(!1),children:"Cancel"}),l("button",{className:"button primary",onClick:P,children:"Submit Review"})]})]})})]})},R1=n=>{const[e,t]=ie.useState(!1),[i,r]=ie.useState(null),[s,a]=ie.useState(null),{showNotification:o}=Ao(),c=ie.useCallback(async(u=null,f={})=>{var b,m;const{showSuccess:h=!0,showError:p=!0,successMessage:v="Operation completed successfully",errorMessage:w="Something went wrong"}=f;t(!0),r(null);try{const y=await n(u);return a(y),h&&v&&o(v,"success"),y}catch(y){const _=((m=(b=y.response)==null?void 0:b.data)==null?void 0:m.message)||w;throw r(_),p&&o(_,"error"),y}finally{t(!1)}},[n,o]),d=ie.useCallback(()=>{t(!1),r(null),a(null)},[]);return[c,e,i,s,d]};[...Array.from({length:10}).map((n,e)=>({id:`demo-${e+3}`,title:["Project Manager","Environmental Consultant","Urban Designer","Site Engineer","Sustainability Consultant"][e%5]+` ${e+1}`,company:["BuildRight","EcoSolutions","CityScape","GreenBuild","UrbanWorks"][e%5],location:["Singapore","Vancouver, Canada","New York, USA","Barcelona, Spain","London, UK"][e%5],jobType:["Full-time","Contract","Part-time"][e%3],experienceRequired:`${2+e%6}`,salaryRange:5e4+e*5e3,description:"Sample description for demo job. This is a truncated preview of the real job description used to test card layout and spacing.",applicationDeadline:"2026-12-31",applicants:Math.floor(10+Math.random()*120),featured:e%4===0,isPremium:e%6===0}))];const Tpe=()=>{const[n,e]=ie.useState([]),[t,i]=ie.useState([]),[r,s]=ie.useState(""),[a,o]=ie.useState(null),[c,d]=ie.useState(!1),[u,f]=ie.useState(!1),[h,p]=ie.useState(!1),[v,w]=ie.useState(!1);ie.useState(!1);const[b,m]=ie.useState(!1);ie.useEffect(()=>(c||u||h?document.body.classList.add("modal-open"):document.body.classList.remove("modal-open"),()=>{document.body.classList.remove("modal-open")}),[c,u,h]);const[y,_]=ie.useState({location:"",jobType:"",experience:"",salaryRange:""}),[x,N]=ie.useState(!0),[k,T]=ie.useState(!1),C=()=>{window.scrollTo({top:0,behavior:"smooth"})};ie.useEffect(()=>{const Y=()=>{T(window.scrollY>300)};return window.addEventListener("scroll",Y),()=>window.removeEventListener("scroll",Y)},[]),ie.useEffect(()=>{const Y=setTimeout(()=>{const q=[{id:1,title:"Senior Urban Planner",company:"CityScape Architects",location:"New York, USA",type:"Full-time",experience:"5+ years",salary:"$80,000 - $120,000",deadline:"2026-12-15",description:"We are seeking an experienced Urban Planner to lead our sustainable city development projects. The ideal candidate will have expertise in transit-oriented development and community engagement.",requirements:["Master's degree in Urban Planning","5+ years of professional experience"],recruiter:{name:"Alex Johnson",company:"CityScape Architects",id:"RID-001"},applicants:42,acceptanceProbability:78,isPremium:!0,featured:!0,postedDate:"2025-11-10",customFields:{noticePeriod:"30 days",currentCTC:"$90,000",expectedCTC:"$110,000"}},{id:2,title:"Landscape Architect",company:"GreenSpace Design",location:"Barcelona, Spain",type:"Full-time",experience:"3+ years",salary:"45,000 - 65,000",deadline:"2026-12-20",description:"Join our innovative team to create sustainable and accessible public spaces. We're looking for creative minds with a passion for environmental design.",requirements:["Bachelor's degree in Landscape Architecture","3+ years of professional experience"],recruiter:{name:"Maria Rodriguez",company:"GreenSpace Design",id:"RID-002"},applicants:28,acceptanceProbability:65,isPremium:!1,featured:!1,postedDate:"2025-11-15",customFields:{noticePeriod:"15 days",currentCTC:"50,000",expectedCTC:"60,000"}}],G=Array.from({length:14}).map((J,W)=>{const L=["Project Manager","Environmental Consultant","Urban Designer","Site Engineer","Sustainability Consultant","Transportation Planner","Building Services Engineer"],z=["BuildRight","EcoSolutions Inc.","CityScape Architects","GreenSpace Design","UrbanWorks Ltd"],X=["Singapore","Vancouver, Canada","New York, USA","Barcelona, Spain","London, UK"],Q=["Full-time","Contract","Part-time","Remote"],V=["1+ years","2+ years","3+ years","5+ years","7+ years"],Z=W%L.length;return{id:100+W,title:`${L[Z]} ${W+1}`,company:z[W%z.length],location:X[W%X.length],type:Q[W%Q.length],experience:V[W%V.length],salary:`$${50+W*5}k - $${60+W*6}k`,deadline:`2026-12-${10+W%20}`,description:"This is a demo job description used to preview the card layout and spacing. Replace with live data from the API.",requirements:["Relevant degree","Experience in role"],recruiter:{name:z[W%z.length]+" HR",company:z[W%z.length],id:`RID-${W+100}`},applicants:Math.floor(5+Math.random()*80),acceptanceProbability:Math.floor(40+Math.random()*40),isPremium:W%6===0,featured:W%5===0,postedDate:"2025-11-01",customFields:{noticePeriod:`${10+W%30} days`,currentCTC:`$${40+W}k`,expectedCTC:`$${45+W}k`}}}),B=[...q,...G];e(B),i(B),N(!1)},400);return()=>clearTimeout(Y)},[]),ie.useEffect(()=>{let Y=[...n];if(r){const q=r.toLowerCase();Y=Y.filter(G=>G.title.toLowerCase().includes(q)||G.company.toLowerCase().includes(q)||G.location.toLowerCase().includes(q)||G.description.toLowerCase().includes(q))}if(y.location&&(Y=Y.filter(q=>q.location.includes(y.location))),y.jobType&&(Y=Y.filter(q=>q.type===y.jobType)),y.experience){const q=y.experience,G=B=>{if(!B)return!1;const J=parseInt(B.replace(/[^0-9]/g,""),10);return isNaN(J)?!1:q==="Entry"?J<=1:q==="1-3 years"?J>=1&&J<=3:q==="3-5 years"?J>=3&&J<=5:q==="5+ years"?J>=5:B.toLowerCase().includes(q.toLowerCase())};Y=Y.filter(B=>G(B.experience))}if(y.salaryRange){const G=(B=>{const W=B.replace(/\s/g,"").replace(/\$/g,"").split(/-|/),L=z=>{if(!z)return NaN;if(z.toLowerCase().includes("k"))return parseFloat(z.toLowerCase().replace("k",""));const X=parseInt(z.replace(/[^0-9]/g,""),10);return isNaN(X)?NaN:Math.round(X/1e3)};return{min:L(W[0]),max:L(W[1])}})(y.salaryRange);Y=Y.filter(B=>{if(!B.salary)return!1;const J=B.salary.match(/\$?\s*([0-9,]+)k?|\$?\s*([0-9,]+)/i);let W=NaN;if(J){const L=J[1]||J[2];L?L.toLowerCase().includes("k")?W=parseFloat(L.toLowerCase().replace("k","")):W=Math.round(parseInt(L.replace(/[^0-9]/g,""),10)/1e3):W=NaN}return isNaN(W)?!1:!isNaN(G.min)&&!isNaN(G.max)?W>=G.min&&W<=G.max:!1})}Y.sort((q,G)=>new Date(q.deadline)-new Date(G.deadline)),i(Y)},[r,y,n]);const P=()=>{m(!0)},D=Y=>{o(Y),d(!0)},E=Y=>{o(Y),f(!0)},A=["All Locations","New York, USA","Barcelona, Spain","Vancouver, Canada","London, UK","Singapore","Chicago, USA"],I=["All Types","Full-time","Part-time","Contract","Remote"],R=["All Levels","Entry","1-3 years","3-5 years","5+ years"],M=["All Ranges","$50k-$70k","$70k-$90k","$90k-$120k","$120k+"];return g("div",{className:"jp-page",children:[l("header",{className:"jp-header",children:g("div",{className:"jp-container jp-header-inner",children:[g("div",{children:[l("h1",{className:"jp-title",children:"Job Portal"}),l("p",{className:"jp-sub",children:"Find your next career opportunity in the built environment"})]}),l("div",{className:"jp-actions"})]})}),!b&&v&&l("div",{className:"jp-premium-banner",children:g("div",{className:"jp-container jp-premium-inner",children:[g("div",{children:[l("h2",{children:"Unlock Premium Job Features"}),l("p",{children:"Get your applications featured, access AI compatibility scores, and more"})]}),l("button",{className:"btn white",onClick:P,children:"Upgrade Now"})]})}),g("main",{className:"jp-container jp-main",children:[g("section",{className:"jp-search",children:[l("div",{className:"search-box",children:l("input",{type:"text",placeholder:"Search jobs by title, company, or keywords...",value:r,onChange:Y=>s(Y.target.value)})}),g("div",{className:"filters",children:[l("select",{value:y.location,onChange:Y=>_({...y,location:Y.target.value}),children:A.map(Y=>l("option",{value:Y==="All Locations"?"":Y,children:Y},Y))}),l("select",{value:y.jobType,onChange:Y=>_({...y,jobType:Y.target.value}),children:I.map(Y=>l("option",{value:Y==="All Types"?"":Y,children:Y},Y))}),l("select",{value:y.experience,onChange:Y=>_({...y,experience:Y.target.value}),children:R.map(Y=>l("option",{value:Y==="All Levels"?"":Y,children:Y},Y))}),l("select",{value:y.salaryRange,onChange:Y=>_({...y,salaryRange:Y.target.value}),children:M.map(Y=>l("option",{value:Y==="All Ranges"?"":Y,children:Y},Y))})]})]}),x?l("div",{className:"jp-loading",children:"Loading jobs..."}):g("div",{className:"jp-grid",children:[t.map(Y=>l(Cpe,{job:Y,isLoggedIn:!0,isPremium:b,onViewJob:D,onApply:E},Y.id)),t.length===0&&l("div",{className:"jp-no-jobs",children:"No jobs found"})]})]}),c&&l(Dpe,{job:a,isPremium:b,onClose:()=>{d(!1),o(null)},onApply:()=>{d(!1),f(!0)}}),u&&l(Ppe,{job:a,onClose:()=>{f(!1),o(null)},onSubmit:()=>{f(!1),o(null),alert("Application submitted successfully!")}}),h&&l(Rpe,{onClose:()=>p(!1)}),k&&g("button",{className:"scroll-to-top",onClick:C,"aria-label":"Scroll to top",children:[l("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:l("path",{d:"M12 19V5M5 12l7-7 7 7"})}),l("span",{children:"TOP"})]})]})},Cpe=({job:n,isLoggedIn:e,isPremium:t,onViewJob:i,onApply:r})=>{const s=Math.ceil((new Date(n.deadline)-new Date)/864e5);return l("div",{className:`jp-card ${n.featured?"featured":""}`,children:g("div",{className:"jp-card-inner",children:[g("div",{className:"jp-card-top",children:[g("div",{children:[l("h3",{className:"jp-card-title",children:n.title}),g("div",{className:"jp-card-sub",children:[n.company,"  ",n.location]})]}),g("div",{className:"jp-badges",children:[n.isPremium&&l("span",{className:"badge premium",children:"PREMIUM"}),n.featured&&l("span",{className:"badge featured",children:"FEATURED"})]})]}),g("div",{className:"jp-tags",children:[l("span",{className:"tag",children:n.type}),l("span",{className:"tag",children:n.experience}),l("span",{className:"tag",children:n.salary})]}),l("p",{className:"jp-desc",children:n.description}),g("div",{className:"jp-card-bottom",children:[g("div",{className:"jp-deadline",children:["Apply by: ",new Date(n.deadline).toLocaleDateString()," ",l("span",{className:`jp-days ${s<3?"urgent":s<7?"soon":"normal"}`,children:s>0?`${s} days left`:"Last day"})]}),g("div",{className:"jp-actions",children:[l("button",{className:"btn secondary",onClick:()=>i(n),children:"View Details"}),l("button",{className:"btn primary",onClick:()=>r(n),children:"Apply Now"})]})]})]})})},Dpe=({job:n,isPremium:e,onClose:t,onApply:i})=>{var d,u,f,h,p,v,w;const[r,s]=ie.useState(!1);if(!n)return null;const a=n.education||((d=n.customFields)==null?void 0:d.education)||null,o=n.experience||n.experienceRequired||null,c=Array.isArray(n.skills)?n.skills:n.keySkills||[];return l("div",{className:"jp-modal-overlay",role:"presentation",onClick:b=>{b.target===b.currentTarget&&t()},children:g("section",{className:"jp-modal vertical",role:"dialog","aria-modal":"true","aria-labelledby":"job-title","aria-describedby":"job-desc",children:[g("header",{className:"jp-modal-header",children:[g("div",{children:[l("h2",{id:"job-title",style:{margin:0},children:n.title}),g("div",{className:"jp-company muted",children:[n.company,"  ",n.location]})]}),l("button",{className:"modal-close",onClick:t,"aria-label":"Close job details",children:""})]}),g("main",{className:"jp-modal-body",id:"job-desc",children:[g("article",{className:"jp-main-col",tabIndex:-1,children:[g("section",{className:"detail-section","aria-labelledby":"desc-heading",children:[l("h3",{id:"desc-heading",children:"Job Description"}),l("p",{className:"text",children:n.description}),n.company&&g("p",{className:"text",style:{marginTop:12},children:[g("strong",{children:["About ",n.company,":"]})," ",n.companyOverview||"We are committed to high-quality projects, sustainability, and professional growth for our team."]})]}),g("section",{className:"detail-section","aria-labelledby":"req-heading",children:[l("h3",{id:"req-heading",children:"Requirements"}),g("ul",{className:"text",children:[a&&g("li",{children:[l("strong",{children:"Education:"})," ",a]}),o&&g("li",{children:[l("strong",{children:"Experience:"})," ",o]}),c&&c.length>0&&g("li",{children:[l("strong",{children:"Key skills:"})," ",c.join(", ")]}),!a&&!o&&(!c||c.length===0)&&n.requirements&&n.requirements.map((b,m)=>l("li",{children:b},m))]})]}),g("section",{className:"detail-section additional-info","aria-labelledby":"info-heading",children:[l("h3",{id:"info-heading",children:"Additional Information"}),g("div",{className:"two-col",children:[g("div",{className:"info-pair","aria-label":"Current CTC",children:[l("div",{className:"name",children:"Current CTC"}),l("div",{className:"val",children:((u=n.customFields)==null?void 0:u.currentCTC)||""})]}),g("div",{className:"info-pair","aria-label":"Expected CTC",children:[l("div",{className:"name",children:"Expected CTC"}),l("div",{className:"val",children:((f=n.customFields)==null?void 0:f.expectedCTC)||""})]}),g("div",{className:"info-pair","aria-label":"Notice Period",children:[l("div",{className:"name",children:"Notice Period"}),l("div",{className:"val",children:((h=n.customFields)==null?void 0:h.noticePeriod)||""})]}),g("div",{className:"info-pair","aria-label":"Application Deadline",children:[l("div",{className:"name",children:"Application Deadline"}),l("div",{className:"val",children:n.deadline?new Date(n.deadline).toLocaleDateString():""})]})]})]})]}),g("aside",{className:"jp-side-col","aria-labelledby":"recruiter-heading",children:[g("div",{className:"recruiter-card card",role:"group","aria-label":"Recruiter information",children:[g("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[l("div",{className:"recruiter-avatar","aria-hidden":!0,children:(p=n.recruiter)!=null&&p.name?n.recruiter.name.split(" ").map(b=>b[0]).join(""):"R"}),g("div",{className:"recruiter-info",children:[l("div",{className:"org",children:((v=n.recruiter)==null?void 0:v.company)||"Recruiter"}),l("div",{className:"role",children:((w=n.recruiter)==null?void 0:w.name)||""})]})]}),g("div",{className:"recruiter-actions",children:[l("button",{type:"button",className:"btn outline",onClick:()=>s(!0),children:"View Profile"}),l("button",{type:"button",className:"btn primary",onClick:i,children:"Apply Now"})]})]}),g("div",{className:"stats-card","aria-hidden":!0,children:[l("div",{className:"label",children:"Application Stats"}),g("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10},children:[l("div",{className:"muted",children:"Total Applicants"}),l("div",{className:"value",children:n.applicants??0})]}),e&&g("div",{style:{display:"flex",justifyContent:"space-between",marginTop:8},children:[l("div",{className:"muted",children:"Your Match Score"}),g("div",{className:"value",children:[n.acceptanceProbability??0,"%"]})]}),g("div",{style:{display:"flex",justifyContent:"space-between",marginTop:8},children:[l("div",{className:"muted",children:"Posted"}),l("div",{className:"value",children:n.postedDate?new Date(n.postedDate).toLocaleDateString():""})]})]}),!e&&l("div",{className:"card premium-note",role:"note",children:"Upgrade to see your AI compatibility score and get featured."})]})]}),g("footer",{className:"jp-apply-sticky",role:"region","aria-label":"Job actions",children:[l("button",{type:"button",className:"btn outline",onClick:t,children:"Close"}),l("button",{type:"button",className:"btn primary",onClick:i,children:"Apply for this Job"})]}),r&&l(Ipe,{recruiter:n.recruiter,onClose:()=>s(!1)})]})})},Ppe=({job:n,onClose:e,onSubmit:t})=>{const[i,r]=ie.useState(""),[s,a]=ie.useState(""),[o,c]=ie.useState(""),[d,u]=ie.useState(""),[f,h]=ie.useState(""),[p,v]=ie.useState(""),[w,b]=ie.useState(""),[m,y]=ie.useState(null),[_,x]=ie.useState(""),[N,k]=ie.useState(""),[T,C]=ie.useState(""),[P,D]=ie.useState(""),[E,A]=ie.useState("email"),[I,R]=ie.useState(!0),[M,Y]=ie.useState({});ie.useEffect(()=>{n&&n.customFields&&(k(n.customFields.currentCTC||""),C(n.customFields.expectedCTC||""),D(n.customFields.noticePeriod||""))},[n]);const q=z=>{const X=z.replace(/[^a-zA-Z\s]/g,"");r(X);let Q={...M};z!==X&&z.length>0?Q.fullName="Only letters and spaces are allowed":X.length>0&&X.length<3?Q.fullName="Full name must be at least 3 characters":X.length>=3&&delete Q.fullName,Y(Q)},G=z=>{a(z);let X={...M};z.length>0&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(z)?X.email="Please enter a valid email address":z.length>0&&delete X.email,Y(X)},B=z=>{const X=z.replace(/\D/g,""),Q=X.substring(0,10);c(Q);let V={...M};z!==X&&z.length>0?V.phone="Only numbers are allowed (10 digits required)":Q.length>0&&Q.length<10?V.phone="Phone number must be exactly 10 digits":Q.length===10&&(/^[6-9]/.test(Q)?delete V.phone:V.phone="Phone number must start with 6, 7, 8, or 9"),Y(V)},J=()=>{const z={};if(i.trim()?i.trim().length<3?z.fullName="Full name must be at least 3 characters":/^[a-zA-Z\s]+$/.test(i)||(z.fullName="Full name can only contain letters and spaces"):z.fullName="Full name is required",s.trim()?s.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)||(z.email="Please enter a valid email address"):z.email="Email is required",o.trim()?o.length!==10?z.phone="Phone number must be exactly 10 digits":/^[6-9]\d{9}$/.test(o)||(z.phone="Please enter a valid Indian mobile number"):z.phone="Phone number is required",d.trim()||(z.country="Country/Location is required"),!f)z.dateOfBirth="Date of birth is required";else{const X=new Date,Q=new Date(f),V=X.getFullYear()-Q.getFullYear();V<18?z.dateOfBirth="You must be at least 18 years old":V>100&&(z.dateOfBirth="Please enter a valid date of birth")}return p?parseFloat(p)<0?z.yearsOfExperience="Years of experience cannot be negative":parseFloat(p)>50&&(z.yearsOfExperience="Please enter a valid years of experience"):z.yearsOfExperience="Years of experience is required",T.trim()||(z.expectedCTC="Expected CTC is required"),P.trim()||(z.noticePeriod="Notice period is required"),w.trim()?w.trim().length<100&&(z.coverLetter="Cover letter must be at least 100 characters"):z.coverLetter="Cover letter is required",m||(z.resume="Resume is required"),I||(z.agree="You must agree to terms to apply"),Y(z),Object.keys(z).length===0},W=z=>{const X=z.target.files[0];X&&y(X)},L=z=>{if(z.preventDefault(),!J())return;const X={jobId:n==null?void 0:n.id,fullName:i,email:s,phone:o,country:d,dateOfBirth:f,yearsOfExperience:p,coverLetter:w,portfolio:_,currentCTC:N,expectedCTC:T,noticePeriod:P,contactMethod:E};console.log("Submitting application",X,m),t&&t(X),alert("Application submitted. We will contact you soon."),r(""),a(""),c(""),b(""),y(null),x(""),e()};return l("div",{className:"jp-modal-overlay",children:g("div",{className:"jp-modal small vertical",children:[g("div",{className:"jp-modal-header",children:[g("div",{children:[g("h3",{style:{margin:0},children:["Apply for ",n==null?void 0:n.title]}),g("div",{className:"muted",children:[n==null?void 0:n.company,"  ",n==null?void 0:n.location]})]}),l("button",{className:"modal-close",onClick:e,"aria-label":"Close",children:""})]}),g("form",{className:"jp-modal-body application-form",onSubmit:L,children:[g("div",{className:"application-summary",children:[l("h3",{children:"Application Summary"}),g("div",{className:"summary-grid",children:[g("div",{className:"summary-item",children:[l("div",{className:"label",children:"Position"}),l("div",{className:"value",children:n==null?void 0:n.title})]}),g("div",{className:"summary-item",children:[l("div",{className:"label",children:"Company"}),l("div",{className:"value",children:n==null?void 0:n.company})]}),g("div",{className:"summary-item",children:[l("div",{className:"label",children:"Location"}),l("div",{className:"value",children:n==null?void 0:n.location})]}),g("div",{className:"summary-item",children:[l("div",{className:"label",children:"Deadline"}),l("div",{className:"value",children:n?new Date(n.deadline).toLocaleDateString():""})]})]})]}),g("div",{className:"form-section",children:[l("h3",{children:"Personal Details"}),g("div",{className:"form-grid",children:[g("div",{className:"form-group",children:[l("label",{className:"form-label",children:"Full Name *"}),l("input",{type:"text",name:"fullName",className:`form-input ${M.fullName?"error":""}`,value:i,onChange:z=>q(z.target.value),placeholder:"Enter your full name (letters only)",required:!0}),M.fullName&&l("span",{className:"error-message",children:M.fullName})]}),g("div",{className:"form-group",children:[l("label",{className:"form-label",children:"Email *"}),l("input",{type:"email",name:"email",className:`form-input ${M.email?"error":""}`,value:s,onChange:z=>G(z.target.value),placeholder:"you@example.com",required:!0}),M.email&&l("span",{className:"error-message",children:M.email})]}),g("div",{className:"form-group",children:[l("label",{className:"form-label",children:"Phone *"}),l("input",{type:"tel",name:"phone",className:`form-input ${M.phone?"error":""}`,value:o,onChange:z=>B(z.target.value),placeholder:"10-digit mobile number",maxLength:"10",inputMode:"numeric",required:!0}),M.phone&&l("span",{className:"error-message",children:M.phone})]}),g("div",{className:"form-group",children:[l("label",{className:"form-label",children:"Country / Current Location *"}),l("input",{type:"text",name:"country",className:`form-input ${M.country?"error":""}`,value:d,onChange:z=>u(z.target.value),placeholder:"e.g., United States, Singapore, India",required:!0}),M.country&&l("span",{className:"error-message",children:M.country})]}),g("div",{className:"form-group",children:[l("label",{className:"form-label",children:"Date of Birth *"}),l("input",{type:"date",name:"dateOfBirth",className:`form-input ${M.dateOfBirth?"error":""}`,value:f,onChange:z=>h(z.target.value),max:new Date().toISOString().split("T")[0],required:!0}),M.dateOfBirth&&l("span",{className:"error-message",children:M.dateOfBirth})]}),g("div",{className:"form-group",children:[l("label",{className:"form-label",children:"Total Years of Experience *"}),l("input",{type:"number",name:"yearsOfExperience",className:`form-input ${M.yearsOfExperience?"error":""}`,value:p,onChange:z=>v(z.target.value),placeholder:"e.g., 5",min:"0",max:"50",step:"0.5",required:!0}),M.yearsOfExperience&&l("span",{className:"error-message",children:M.yearsOfExperience})]}),g("div",{className:"form-group",children:[l("label",{className:"form-label",children:"Preferred Contact Method"}),g("select",{className:"form-input",value:E,onChange:z=>A(z.target.value),children:[l("option",{value:"email",children:"Email"}),l("option",{value:"phone",children:"Phone"})]})]})]})]}),g("div",{className:"form-section",children:[l("h3",{children:"Application Details"}),g("div",{className:"form-grid",children:[g("div",{className:"form-group",children:[l("label",{className:"form-label",children:"Current CTC"}),l("input",{type:"text",className:"form-input",value:N,onChange:z=>k(z.target.value),placeholder:"e.g., $50,000 or 5,00,000"})]}),g("div",{className:"form-group",children:[l("label",{className:"form-label",children:"Expected CTC *"}),l("input",{type:"text",name:"expectedCTC",className:`form-input ${M.expectedCTC?"error":""}`,value:T,onChange:z=>C(z.target.value),placeholder:"e.g., $60,000 or 6,00,000",required:!0}),M.expectedCTC&&l("span",{className:"error-message",children:M.expectedCTC})]}),g("div",{className:"form-group",children:[l("label",{className:"form-label",children:"Notice Period *"}),l("input",{type:"text",name:"noticePeriod",className:`form-input ${M.noticePeriod?"error":""}`,value:P,onChange:z=>D(z.target.value),placeholder:"e.g., 30 days, Immediate",required:!0}),M.noticePeriod&&l("span",{className:"error-message",children:M.noticePeriod})]}),g("div",{className:"form-group",children:[l("label",{className:"form-label",children:"Portfolio / LinkedIn (optional)"}),l("input",{type:"text",className:"form-input",value:_,onChange:z=>x(z.target.value),placeholder:"https://linkedin.com/in/yourprofile"})]})]}),g("div",{className:"form-group",children:[g("label",{className:"form-label",children:["Cover Letter / Personal Pitch *",g("span",{style:{fontSize:"12px",color:"#6b7280",marginLeft:"8px"},children:["(",w.length,"/1000 characters, min 100)"]})]}),l("textarea",{name:"coverLetter",className:`form-input ${M.coverLetter?"error":""}`,rows:6,value:w,onChange:z=>b(z.target.value),placeholder:"Write a compelling cover letter that highlights your qualifications and enthusiasm for this role (minimum 100 characters)...",minLength:"100",maxLength:"1000",required:!0}),M.coverLetter&&l("span",{className:"error-message",children:M.coverLetter})]})]}),g("div",{className:"form-section",children:[l("h3",{children:"Documents"}),l("div",{className:"documents-grid",children:g("div",{className:"document-upload",children:[l("label",{className:"document-label",children:"Resume / CV *"}),l("input",{className:"file-input",id:"resume-file",type:"file",accept:".pdf,.doc,.docx",onChange:W,required:!0}),l("label",{htmlFor:"resume-file",className:`btn ${M.resume?"error":""}`,children:m?"Change file":"Choose file"}),m&&g("div",{className:"file-info",children:[l("div",{className:"file-name",children:m.name}),g("div",{className:"file-size",children:[(m.size/1024).toFixed(1)," KB"]})]}),M.resume&&l("div",{className:"error-message",children:M.resume}),l("div",{className:"field-note",children:"Accepted: PDF, DOC, DOCX. Max 5MB. Required."})]})})]}),g("div",{className:"form-section",children:[g("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[l("input",{id:"agree",type:"checkbox",checked:I,onChange:z=>R(z.target.checked)}),l("label",{htmlFor:"agree",children:"I confirm that the information provided is accurate and I agree to the processing of my personal data for recruitment purposes."})]}),M.agree&&l("div",{className:"error-message",children:M.agree})]}),g("div",{className:"form-actions",children:[l("button",{type:"button",className:"btn",onClick:e,children:"Cancel"}),l("button",{type:"submit",className:"btn primary",children:"Submit Application"})]})]})]})})},Ipe=({recruiter:n,onClose:e})=>l("div",{className:"jp-modal-overlay",children:g("div",{className:"jp-modal small vertical",children:[g("div",{className:"jp-modal-header",children:[l("h3",{children:"Recruiter Profile"}),l("button",{className:"modal-close",onClick:e,"aria-label":"Close",children:""})]}),g("div",{className:"jp-modal-body",children:[g("div",{className:"recruiter-large",children:[l("div",{className:"avatar-lg",children:n.name.split(" ").map(t=>t[0]).join("")}),l("h4",{children:n.name}),l("p",{className:"muted",children:n.company}),g("p",{className:"muted",children:["ID: ",n.id]})]}),g("div",{children:[l("h4",{children:"Hiring History"}),g("p",{children:["Successfully hired ",l("strong",{children:n.hiringHistory})," professionals through this platform"]})]})]})]})}),Rpe=({onClose:n})=>{const[e,t]=ie.useState("dashboard");return l("div",{className:"jp-modal-overlay",children:g("div",{className:"jp-modal large vertical",children:[g("div",{className:"jp-modal-header",children:[l("h3",{children:"Recruiter Portal"}),l("button",{className:"modal-close",onClick:n,"aria-label":"Close",children:""})]}),g("div",{className:"jp-modal-body",children:[g("div",{className:"tabs",children:[l("button",{className:e==="dashboard"?"active":"",onClick:()=>t("dashboard"),children:"Dashboard"}),l("button",{className:e==="post-job"?"active":"",onClick:()=>t("post-job"),children:"Post Job"}),l("button",{className:e==="applicants"?"active":"",onClick:()=>t("applicants"),children:"Applicants"}),l("button",{className:e==="cv-search"?"active":"",onClick:()=>t("cv-search"),children:"CV Search"})]}),l("div",{className:"tab-body",children:e==="dashboard"?l("p",{children:"Dashboard content"}):g("p",{children:[e," content"]})})]})]})})},Lpe=()=>g("div",{className:"job-detail-unavailable",style:{padding:24},children:[l("h2",{children:"Job Detail (Unavailable)"}),l("p",{children:"The detailed Job page is temporarily unavailable. Please return to the Jobs list."})]}),Ope=()=>g("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("circle",{cx:"24",cy:"24",r:"24",fill:"rgba(0, 0, 0, 0.6)"}),l("path",{d:"M19 16L31 24L19 32V16Z",fill:"white"})]}),Fpe=({filled:n=!0})=>l("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:n?"#fbbf24":"#e5e7eb",xmlns:"http://www.w3.org/2000/svg",children:l("path",{d:"M12 2L14.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L9.91 8.26L12 2Z"})}),Upe=({filled:n=!1})=>l("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:n?"#2563eb":"none",stroke:n?"#2563eb":"#6b7280",strokeWidth:"2",xmlns:"http://www.w3.org/2000/svg",children:l("path",{d:"M19 21L12 16L5 21V5C5 3.89543 5.89543 3 7 3H17C18.1046 3 19 3.89543 19 5V21Z"})});function Mpe({course:n,onEnroll:e,onDetails:t,onToggleSave:i,isSaved:r}){const s=n.rating||4.5,[a,o]=ie.useState(!1),c=async d=>{try{await navigator.clipboard.writeText(d),o(!0),setTimeout(()=>o(!1),2e3)}catch{}};return g("div",{className:"course-card",children:[g("div",{className:"card-thumbnail",children:[n.thumbnail?l("img",{src:n.thumbnail,alt:n.title,className:"card-image"}):l("div",{className:"placeholder-image",children:l("span",{children:n.title})}),l("div",{className:"play-overlay",children:l(Ope,{})})]}),g("div",{className:"card-content",children:[l("h3",{className:"course-title",children:n.title}),l("p",{className:"course-instructor",children:n.instructor}),g("div",{className:"course-meta",children:[g("span",{className:"course-id",children:["ID: ",n.id]}),l("button",{className:"btn-copy",onClick:()=>c(n.id),title:"Copy course ID",children:a?"Copied":"Copy ID"})]}),g("div",{className:"course-rating",children:[l("div",{className:"stars",children:[1,2,3,4,5].map(d=>l(Fpe,{filled:d<=Math.floor(s)},d))}),l("span",{className:"rating-value",children:s})]}),l("div",{className:"course-price",children:n.fees===0?l("span",{className:"price-free",children:"Free"}):g("span",{className:"price-amount",children:["",n.fees.toLocaleString()]})}),g("div",{className:"card-actions",children:[l("button",{className:"btn-enroll",onClick:()=>e(n),children:"Enroll"}),g("div",{className:"action-buttons",children:[l("button",{className:`btn-save ${r?"saved":""}`,onClick:()=>i(n),title:r?"Remove from saved":"Save course",children:l(Upe,{filled:r})}),l("button",{className:"btn-details",onClick:()=>t(n),children:"Details"})]})]})]})]})}function Tm(n="Image",e=600,t=360,i="#f3f4f6",r="#0f172a"){const s=`<svg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${t}' viewBox='0 0 ${e} ${t}'><rect width='100%' height='100%' fill='${i}'/><text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' font-family='Arial, Helvetica, sans-serif' font-size='18' fill='${r}'>${n}</text></svg>`;return`data:image/svg+xml;utf8,${encodeURIComponent(s)}`}const Bpe=[{id:"react-101",title:"React for Built Environment",instructor:"Dr. A. Kumar",company:"PI Learning",location:"Mumbai, IN",duration:6,mode:"Live",fees:2999,rating:4.5,excerpt:"Intro to React and component-driven UI for planning tools.",type:"live",tags:["React","Frontend","UI"],posted:"2d",thumbnail:Tm("React Course")},{id:"pm-basics",title:"Project Management Essentials",instructor:"M. Sharma",company:"BuildOps",location:"Remote",duration:3,mode:"Pre-recorded",fees:0,rating:4.5,excerpt:"Agile and waterfall techniques for built environment projects.",type:"recorded",tags:["PM","Agile"],posted:"1w",thumbnail:Tm("PM Essentials")},{id:"data-vis",title:"Data Visualization for Urban Analytics",instructor:"L. Rao",company:"Urbanlytics",location:"Bengaluru, IN",duration:4.5,mode:"Live",fees:1999,rating:4.5,excerpt:"Charts, maps and dashboards to communicate insights.",type:"live",tags:["Data","Maps"],posted:"4d",thumbnail:Tm("Data Visualization")},{id:"cert-workflow",title:"Certification & Assessment Workflow",instructor:"S. Verma",company:"Credify",location:"Delhi, IN",duration:2,mode:"On-site",fees:1499,rating:4.5,excerpt:"Assessment design, digital signatures and verifiable credentials.",type:"offline",tags:["Assessments","Credentials"],posted:"3w",thumbnail:Tm("Certification")},{id:"razorpay-demo",title:"Payments & Enrollment (Razorpay)",instructor:"F. Iqbal",company:"PI Learning",location:"Hyderabad, IN",duration:1.5,mode:"Pre-recorded",fees:999,rating:4.2,excerpt:"Integrate Razorpay for course enrollment and invoicing.",type:"recorded",tags:["Payments","Razorpay"],posted:"6d",thumbnail:Tm("Payments")},{id:"instr-dashboard",title:"Instructor Dashboard & Revenue",instructor:"R. Singh",company:"TeachDesk",location:"Chennai, IN",duration:3,mode:"Live",fees:2499,rating:4.7,excerpt:"Manage classes, materials, chats and payouts.",type:"live",tags:["Instructor","Revenue"],posted:"2d",thumbnail:Tm("Instructor Dashboard")}],zpe=["PI Learning","BuildOps","Urbanlytics"];function jpe(n,e=300){const[t,i]=ie.useState(n);return ie.useEffect(()=>{const r=setTimeout(()=>i(n),e);return()=>clearTimeout(r)},[n,e]),t}const Wpe=()=>g("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("path",{d:"M21 21l-4.35-4.35",stroke:"#9AA4BF",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),l("circle",{cx:"11",cy:"11",r:"6",stroke:"#9AA4BF",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]}),$pe=({value:n,onChange:e,onClear:t,sortBy:i,setSortBy:r})=>g("section",{className:"hero",children:[l("h1",{children:"Learning Centre"}),l("p",{className:"sub",children:"Browse courses like job postings  filter, save and apply."}),g("div",{className:"hero-controls",children:[g("div",{className:"search-wrap",children:[g("label",{className:"search-field",children:[l(Wpe,{}),l("input",{"aria-label":"Search courses",value:n,onChange:s=>e(s.target.value),placeholder:"Search courses, instructors, topics..."})]}),l("button",{className:"btn-ghost",onClick:t,children:"Clear"})]}),l("div",{className:"hero-options",children:g("select",{value:i,onChange:s=>r(s.target.value),children:[l("option",{value:"popular",children:"Most Popular"}),l("option",{value:"newest",children:"Newest"}),l("option",{value:"duration",children:"Duration"}),l("option",{value:"price-low",children:"Price: Low  High"})]})})]})]}),qpe=({filters:n,setFilters:e,clearFilters:t,savedCourses:i=[],savedList:r=[],removeSaved:s})=>l("aside",{className:"job-filters",children:g("div",{className:"filters-panel",children:[g("div",{className:"filters-header",children:[l("h3",{children:"Filter Courses"}),l("button",{className:"clear-filters",onClick:t,children:"Clear"})]}),g("div",{className:"filter-group",children:[l("label",{children:"Location"}),g("select",{value:n.location||"",onChange:a=>e(o=>({...o,location:a.target.value})),children:[l("option",{value:"",children:"Any"}),l("option",{children:"Remote"}),l("option",{children:"Mumbai, IN"}),l("option",{children:"Bengaluru, IN"}),l("option",{children:"Delhi, IN"})]})]}),g("div",{className:"filter-group",children:[l("label",{children:"Mode"}),g("select",{value:n.mode||"",onChange:a=>e(o=>({...o,mode:a.target.value})),children:[l("option",{value:"",children:"Any"}),l("option",{children:"Live"}),l("option",{children:"Pre-recorded"}),l("option",{children:"On-site"})]})]}),g("div",{className:"filter-group",children:[l("label",{children:"Company"}),g("select",{value:n.company||"",onChange:a=>e(o=>({...o,company:a.target.value})),children:[l("option",{value:"",children:"Any"}),l("option",{children:"PI Learning"}),l("option",{children:"BuildOps"}),l("option",{children:"Urbanlytics"})]})]}),g("div",{style:{marginTop:12},children:[l("h4",{style:{margin:"8px 0"},children:"Featured Companies"}),l("div",{className:"company-list",children:zpe.map(a=>l("div",{role:"button",tabIndex:0,className:"company"+(n.company===a?" active":""),onClick:()=>e(o=>({...o,company:a})),onKeyDown:o=>{(o.key==="Enter"||o.key===" "||o.key==="Spacebar")&&(o.preventDefault(),e(c=>({...c,company:a})))},children:a},a))})]}),r&&r.length>0&&g("div",{style:{marginTop:16},children:[l("h4",{style:{margin:"8px 0"},children:"Saved Courses"}),l("div",{className:"saved-list",children:r.map(a=>g("div",{className:"saved-item",children:[l("div",{className:"saved-title",children:a.title}),g("div",{className:"saved-actions",children:[l(Cn,{to:`/learning/courses/${a.id}`,state:{course:a},className:"btn-link",children:"View"}),l("button",{className:"btn-ghost",onClick:()=>s(a.id),children:"Remove"})]})]},a.id))})]})]})}),FN=({open:n,onClose:e,title:t,children:i})=>n?l("div",{className:"modal-backdrop",role:"dialog","aria-modal":!0,children:g("div",{className:"modal",children:[g("div",{className:"modal-head",children:[l("h3",{children:t}),l("button",{className:"close",onClick:e,children:""})]}),l("div",{className:"modal-body",children:i})]})}):null;function Hpe(){const[n]=ie.useState(Bpe),[e,t]=ie.useState(""),i=jpe(e,250),[r,s]=ie.useState("popular"),[a,o]=ie.useState(null),[c,d]=ie.useState(null),[u,f]=ie.useState(null),[h,p]=ie.useState(!1),[v,w]=ie.useState({}),[b,m]=ie.useState([]),[y,_]=ie.useState(null);ie.useState(null);const[x,N]=ie.useState([]);ie.useEffect(()=>{try{const A=localStorage.getItem("pi.savedCourses"),I=localStorage.getItem("pi.enrolledCourses");A&&m(JSON.parse(A)),I&&N(JSON.parse(I))}catch(A){console.warn("Failed to read persisted learning state",A)}},[]),ie.useEffect(()=>{try{localStorage.setItem("pi.savedCourses",JSON.stringify(b))}catch(A){console.warn("Failed to persist saved courses",A)}},[b]),ie.useEffect(()=>{try{localStorage.setItem("pi.enrolledCourses",JSON.stringify(x))}catch(A){console.warn("Failed to persist enrolled courses",A)}},[x]);const k=ie.useMemo(()=>{const A=i.trim().toLowerCase();let I=n.filter(R=>A?R.title.toLowerCase().includes(A)||R.instructor.toLowerCase().includes(A)||R.excerpt.toLowerCase().includes(A)||R.company.toLowerCase().includes(A):!0);return v.location&&(I=I.filter(R=>R.location===v.location)),v.mode&&(I=I.filter(R=>R.mode===v.mode)),v.company&&(I=I.filter(R=>R.company===v.company)),r==="popular"&&(I=I),r==="newest"&&(I=I),r==="duration"&&(I=I.slice().sort((R,M)=>R.duration-M.duration)),r==="price-low"&&(I=I.slice().sort((R,M)=>R.fees-M.fees)),I},[n,i,r,v]),T=or();function C(A){T("/learning/enroll",{state:{course:A}})}function P(){w({})}function D(A){m(I=>I.includes(A.id)?I.filter(R=>R!==A.id):[...I,A.id])}function E(A){T(`/learning/courses/${A.id}`,{state:{course:A}})}return g("div",{className:"learning-page-root",children:[g("main",{className:"learning-main container",children:[g("div",{className:"left",children:[l($pe,{value:e,onChange:t,onClear:()=>t(""),sortBy:r,setSortBy:s}),g("section",{className:"courses-section",children:[g("div",{className:"section-head",children:[l("h2",{children:"Courses"}),g("p",{className:"muted",children:[k.length," results"]})]}),l("div",{className:"courses-grid",children:k.map(A=>l(Mpe,{course:A,onEnroll:I=>{C(I)},onDetails:E,onToggleSave:D,isSaved:b.includes(A.id)},A.id))})]})]}),l("div",{className:"right",children:l(qpe,{filters:v,setFilters:w,clearFilters:P,savedCourses:b,savedList:n.filter(A=>b.includes(A.id)),removeSaved:A=>m(I=>I.filter(R=>R!==A))})})]}),g(FN,{open:h,onClose:()=>p(!1),title:a?`Enroll - ${a.title}`:"Sign In",children:[l("p",{children:"To enroll you must sign in. This demo shows a placeholder flow."}),g("div",{style:{display:"flex",gap:8,marginTop:12},children:[l("button",{className:"btn-primary",onClick:()=>{alert("Simulate redirect to Razorpay (demo)"),p(!1)},children:"Proceed to Payment"}),l("button",{className:"btn-outline",onClick:()=>p(!1),children:"Cancel"})]})]}),l(FN,{open:!!c,onClose:()=>d(null),title:c?`Enquire - ${c.title}`:"Enquire",children:g("form",{onSubmit:A=>{A.preventDefault(),alert("Enquiry sent to admin (demo)"),d(null)},children:[g("label",{children:["Name ",l("input",{required:!0,placeholder:"Your name"})]}),g("label",{children:["Email ",l("input",{required:!0,type:"email",placeholder:"you@example.com"})]}),g("label",{children:["Message ",l("textarea",{placeholder:"Your question"})]}),g("div",{style:{display:"flex",gap:8,marginTop:8},children:[l("button",{className:"btn-primary",children:"Send Enquiry"}),l("button",{type:"button",className:"btn-outline",onClick:()=>d(null),children:"Cancel"})]})]})}),g(FN,{open:!!u,onClose:()=>f(null),title:u?`Group Booking - ${u.title}`:"Group Booking",children:[l("p",{children:"Enter participant details. On submit you will be redirected to Razorpay (demo)."}),g("form",{onSubmit:A=>{A.preventDefault(),alert("Group booking: simulate Razorpay redirect"),f(null)},children:[g("label",{children:["Primary contact name ",l("input",{required:!0})]}),g("label",{children:["Primary contact phone ",l("input",{required:!0})]}),g("label",{children:["Participants count ",l("input",{type:"number",min:1,defaultValue:2})]}),g("div",{style:{display:"flex",gap:8,marginTop:8},children:[l("button",{className:"btn-primary",children:"Pay Now"}),l("button",{type:"button",className:"btn-outline",onClick:()=>f(null),children:"Cancel"})]})]})]}),l(FN,{open:!!y,onClose:()=>_(null),title:y?y.title:"Course Details",children:y&&g("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:12},children:[g("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[l("div",{style:{width:120,height:72,background:"#f3f4f6",borderRadius:8,overflow:"hidden"},children:y.thumbnail?l("img",{src:y.thumbnail,alt:y.title,style:{width:"100%",height:"100%",objectFit:"cover"},onError:A=>{A.currentTarget.src=Tm(y.title||"Course")}}):l("div",{style:{padding:12}})}),g("div",{children:[g("div",{style:{fontSize:13,color:"#6b7280"},children:[y.company,"  ",y.location]}),l("div",{style:{fontSize:15,fontWeight:600},children:y.instructor}),l("div",{style:{marginTop:6,color:"#374151"},children:y.excerpt})]})]}),g("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[g("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[l("div",{style:{fontSize:14,color:"#10b981",fontWeight:700},children:y.fees===0?"Free":`${y.fees.toLocaleString()}`}),g("div",{style:{fontSize:13,color:"#6b7280"},children:[y.duration," weeks  ",y.mode]})]}),g("div",{style:{display:"flex",gap:8},children:[l("button",{className:"btn-primary",onClick:()=>{_(null),C(y)},children:"Enroll"}),l("button",{className:"btn-outline",onClick:()=>D(y),children:b.includes(y.id)?"Unsave":"Save"}),l(Cn,{to:`/learning/courses/${y.id}`,className:"btn-ghost",onClick:()=>_(null),children:"Open Page"})]})]}),y.tags&&l("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:y.tags.map(A=>l("span",{className:"skill-tag",children:A},A))})]})})]})}const UN={getCourses:async(n={})=>new Promise(e=>{setTimeout(()=>{let i=[{id:1,title:"Smart City Planning Fundamentals",instructor:"Dr. Priya Sharma",description:"Learn the core principles of smart city planning, including IoT integration, data analytics, and sustainable urban development strategies.",courseType:"recorded",category:"Urban Planning",level:"Beginner",duration:6,fees:0,originalFees:12e3,rating:4.8,reviewCount:1247,enrollments:2847,tags:["Smart Cities","IoT","Sustainability","Urban Analytics"],image:null,nextSession:null,location:null,earlyBird:!1,createdAt:"2024-01-15"},{id:2,title:"Advanced GIS for Urban Planning",instructor:"Prof. Rajesh Kumar",description:"Master Geographic Information Systems for urban analysis, spatial planning, and decision-making in city development projects.",courseType:"live",category:"GIS & Mapping",level:"Intermediate",duration:8,fees:15e3,originalFees:2e4,rating:4.6,reviewCount:893,enrollments:1567,tags:["GIS","Spatial Analysis","Mapping","Urban Data"],image:null,nextSession:"2024-03-20",location:null,earlyBird:!0,createdAt:"2024-02-01"},{id:3,title:"Sustainable Architecture Workshop",instructor:"Ar. Anjali Patel",description:"Hands-on workshop focusing on sustainable building design, green materials, and energy-efficient architectural practices.",courseType:"offline",category:"Sustainable Design",level:"Advanced",duration:4,fees:25e3,originalFees:3e4,rating:4.9,reviewCount:567,enrollments:423,tags:["Sustainability","Architecture","Green Building","Design"],image:null,nextSession:"2024-04-15",location:"Mumbai, India",earlyBird:!0,createdAt:"2024-01-20"},{id:4,title:"Urban Transportation Systems",instructor:"Dr. Sameer Joshi",description:"Comprehensive course covering urban transportation planning, traffic management, and public transit system design.",courseType:"recorded",category:"Transportation",level:"Intermediate",duration:5,fees:8e3,originalFees:12e3,rating:4.5,reviewCount:734,enrollments:1892,tags:["Transportation","Traffic","Public Transit","Mobility"],image:null,nextSession:null,location:null,earlyBird:!1,createdAt:"2024-02-10"},{id:5,title:"Heritage Conservation Techniques",instructor:"Dr. Meera Krishnan",description:"Learn traditional and modern techniques for preserving and restoring historical buildings and urban heritage sites.",courseType:"live",category:"Heritage Conservation",level:"Intermediate",duration:6,fees:12e3,originalFees:15e3,rating:4.7,reviewCount:456,enrollments:892,tags:["Heritage","Conservation","Restoration","History"],image:null,nextSession:"2024-03-25",location:null,earlyBird:!1,createdAt:"2024-02-05"},{id:6,title:"Data Analytics for Urban Planners",instructor:"Prof. Vikram Singh",description:"Practical data analysis techniques specifically tailored for urban planning applications and decision support.",courseType:"recorded",category:"Data Analytics",level:"Beginner",duration:4,fees:0,originalFees:8e3,rating:4.4,reviewCount:623,enrollments:2145,tags:["Data Analytics","Python","Statistics","Urban Data"],image:null,nextSession:null,location:null,earlyBird:!1,createdAt:"2024-01-30"}];n.courseType&&(i=i.filter(r=>r.courseType===n.courseType)),n.category&&(i=i.filter(r=>r.category===n.category)),e(i)},1e3)}),getCourseById:async n=>(await Xe.get(`/courses/${n}`)).data,enrollInCourse:async(n,e={})=>(await Xe.post(`/courses/${n}/enroll`,e)).data,getUserEnrollments:async()=>(await Xe.get("/enrollments")).data,getCourseProgress:async n=>(await Xe.get(`/enrollments/${n}/progress`)).data,updateCourseProgress:async(n,e)=>(await Xe.put(`/enrollments/${n}/progress`,e)).data,toggleSaveCourse:async n=>(await Xe.post(`/courses/${n}/save`)).data,getSavedCourses:async()=>(await Xe.get("/courses/saved")).data,searchCourses:async(n,e={})=>(await Xe.get("/courses/search",{params:{query:n,...e}})).data,createCourse:async n=>(await Xe.post("/instructor/courses",n)).data,updateCourse:async(n,e)=>(await Xe.put(`/instructor/courses/${n}`,e)).data,deleteCourse:async n=>(await Xe.delete(`/instructor/courses/${n}`)).data,getCourseEnrollments:async n=>(await Xe.get(`/instructor/courses/${n}/enrollments`)).data,getCourseReviews:async n=>(await Xe.get(`/courses/${n}/reviews`)).data,submitCourseReview:async(n,e)=>(await Xe.post(`/courses/${n}/reviews`,e)).data,downloadCertificate:async n=>(await Xe.get(`/enrollments/${n}/certificate`,{responseType:"blob"})).data,getSimilarCourses:async n=>(await Xe.get(`/courses/${n}/similar`)).data,getLearningAnalytics:async()=>(await Xe.get("/learning/analytics")).data},Vpe=()=>{const{id:n}=gS(),e=or(),t=pm(),{isAuthenticated:i,user:r}=hs(),{showNotification:s}=Ao(),[a,o]=ie.useState(null),[c,d]=ie.useState(!0),[u,f]=ie.useState([]),[h,p]=ie.useState(null),[v,w]=ie.useState("overview"),[b,m]=ie.useState([]),[y]=R1(UN.getCourseById),[_]=R1(UN.getSimilarCourses),[x]=R1(UN.getCourseReviews);ie.useEffect(()=>{n&&N()},[n]);const N=async()=>{var L;try{d(!0);const z=(L=t.state)==null?void 0:L.course;if(z){const Q={...z,description:"This comprehensive course covers the fundamentals of smart city planning, sustainable development, and innovative urban technologies. You'll learn from industry experts and work on real-world case studies.",enrollments:2500,reviewCount:245,originalFees:z.fees>0?z.fees+1e3:0,nextSession:"2024-01-15",courseType:z.type==="live"?"live":z.type==="recorded"?"recorded":"offline",location:z.location,category:"Urban Planning",earlyBird:!0};o(Q);const Z=[{title:"Advanced GIS for Urban Planning",instructor:"Prof. Sarah Chen",rating:4.6,fees:3499},{title:"Sustainable Urban Development",instructor:"Dr. Michael Rodriguez",rating:4.4,fees:2799},{title:"IoT Applications in Smart Cities",instructor:"Dr. Raj Patel",rating:4.7,fees:3999}].map((_e,le)=>({id:`${z.id}-sim-${le+1}`,..._e,image:null})).filter(_e=>_e.id!==z.id);f(Z);try{window.scrollTo({top:0,behavior:"smooth"})}catch{window.scrollTo(0,0)}m([{id:1,reviewerName:"Alex Johnson",rating:5,comment:"Excellent course! Very comprehensive and practical.",date:"2024-01-10"},{id:2,reviewerName:"Priya Sharma",rating:4,comment:"Good content, but could use more hands-on exercises.",date:"2024-01-08"},{id:3,reviewerName:"David Chen",rating:5,comment:"Outstanding instructor and well-structured curriculum.",date:"2024-01-05"}]),k(Q.instructorId||"instructor-1"),d(!1);return}const X=await y(n,{showError:!0,errorMessage:"Failed to load course details"});if(X){o(X);const Q=await _(n);f((Q||[]).filter(Z=>Z.id!==n));const V=await x(n);m(V||[]),k(X.instructorId)}try{window.scrollTo({top:0,behavior:"smooth"})}catch{window.scrollTo(0,0)}}catch{}finally{d(!1)}},k=L=>{p({id:L,name:"Dr. Priya Sharma",title:"Professor of Urban Planning",bio:"Dr. Sharma has over 15 years of experience in urban planning and smart city development. She has worked with multiple government agencies and international organizations on sustainable urban development projects.",rating:4.8,totalStudents:12500,totalCourses:8,experience:"15+ years",specialization:["Smart Cities","Sustainable Development","Urban Analytics"],achievements:["UN Habitat Advisory Board Member",'Author of "Smart Cities in Developing Economies"',"TEDx Speaker on Urban Innovation"],profilePicture:null})},T=()=>{if(!i){s("Please sign in to enroll in this course","info"),e("/login",{state:{from:"/learning/enroll",course:a}});return}e("/learning/enroll",{state:{course:a}})},C=async()=>{if(!i){s("Please sign in to save courses","info");return}try{await UN.toggleSaveCourse(n),s("Course saved successfully","success")}catch{s("Failed to save course","error")}},P=()=>{const L=window.location.href;navigator.clipboard.writeText(L),s("Course link copied to clipboard","success")},D=L=>L===0?"Free":`${L.toLocaleString()}`,E=L=>L<4?`${L} weeks`:`${L} weeks`,A=(L,z)=>L<=z?0:Math.round((L-z)/L*100),I=()=>g("div",{className:"course-header",children:[l("div",{className:"back-navigation",children:g("button",{className:"back-button",onClick:()=>e(-1),children:[l(tf,{size:20}),"Back to Courses"]})}),g("div",{className:"course-title-section",children:[g("div",{className:"title-content",children:[l("div",{className:"course-category",children:a.category}),l("h1",{children:a.title}),g("div",{className:"instructor-info",children:[g("span",{children:["By ",a.instructor]}),h&&g("span",{className:"instructor-rating",children:[l(Is,{size:14,fill:"currentColor"}),h.rating]})]})]}),g("div",{className:"course-actions",children:[l("button",{className:"icon-button",onClick:C,title:"Save course",children:l(wH,{size:20})}),l("button",{className:"icon-button",onClick:P,title:"Share course",children:l(Yb,{size:20})})]})]}),g("div",{className:"course-meta-overview",children:[g("div",{className:"meta-item",children:[l(xr,{size:18}),l("span",{children:E(a.duration)})]}),g("div",{className:"meta-item",children:[l(wn,{size:18}),g("span",{children:[a.enrollments.toLocaleString()," students"]})]}),g("div",{className:"meta-item",children:[l(Is,{size:18,fill:"currentColor"}),g("span",{children:[a.rating," (",a.reviewCount," reviews)"]})]}),a.courseType==="offline"&&a.location&&g("div",{className:"meta-item",children:[l(_r,{size:18}),l("span",{children:a.location})]}),a.nextSession&&a.courseType==="live"&&g("div",{className:"meta-item",children:[l(Rs,{size:18}),g("span",{children:["Starts ",new Date(a.nextSession).toLocaleDateString()]})]})]}),l("div",{className:"enrollment-section",children:i?g("div",{className:"enrollment-actions",children:[g("div",{className:"pricing-info",children:[g("div",{className:"price-display",children:[l("span",{className:"current-price",children:D(a.fees)}),a.originalFees>a.fees&&g(Ft,{children:[g("span",{className:"original-price",children:["",a.originalFees.toLocaleString()]}),g("span",{className:"discount-badge",children:[A(a.originalFees,a.fees),"% OFF"]})]})]}),a.earlyBird&&g("div",{className:"early-bird-notice",children:[l(G1,{size:16}),l("span",{children:"Early bird pricing ends soon!"})]})]}),g("button",{className:"btn btn-primary btn-large",onClick:T,children:[l(Uh,{size:20}),"Enroll Now"]})]}):l("div",{className:"login-prompt",children:g("div",{className:"prompt-content",children:[l(na,{size:24}),l("p",{children:"Sign in to enroll in this course and access all features"}),l(Cn,{to:"/login",className:"btn btn-primary",children:"Sign In to Enroll"})]})})})]}),R=()=>l("nav",{className:"course-tabs",children:l("div",{className:"tabs-container",children:[{id:"overview",label:"Overview"},{id:"curriculum",label:"Curriculum"},{id:"instructor",label:"Instructor"},{id:"reviews",label:`Reviews (${b.length})`}].map(L=>l("button",{className:`tab ${v===L.id?"active":""}`,onClick:()=>w(L.id),children:L.label},L.id))})}),M=()=>g("div",{className:"tab-content",children:[g("div",{className:"course-description",children:[l("h2",{children:"About This Course"}),l("p",{children:a.description})]}),g("div",{className:"learning-objectives",children:[l("h3",{children:"What You'll Learn"}),g("div",{className:"objectives-grid",children:[g("div",{className:"objective-item",children:[l(di,{size:16}),l("span",{children:"Understand smart city planning principles"})]}),g("div",{className:"objective-item",children:[l(di,{size:16}),l("span",{children:"Implement IoT solutions for urban development"})]}),g("div",{className:"objective-item",children:[l(di,{size:16}),l("span",{children:"Analyze urban data for decision making"})]}),g("div",{className:"objective-item",children:[l(di,{size:16}),l("span",{children:"Develop sustainable urban development strategies"})]})]})]}),g("div",{className:"course-features",children:[l("h3",{children:"Course Features"}),g("div",{className:"features-grid",children:[g("div",{className:"feature-item",children:[l(S6,{size:24}),g("div",{children:[l("h4",{children:"Video Content"}),g("p",{children:[a.duration*4," hours of on-demand video"]})]})]}),g("div",{className:"feature-item",children:[l(RA,{size:24}),g("div",{children:[l("h4",{children:"Resources"}),l("p",{children:"Downloadable resources and exercises"})]})]}),g("div",{className:"feature-item",children:[l(Mn,{size:24}),g("div",{children:[l("h4",{children:"Certificate"}),l("p",{children:"Certificate of completion"})]})]}),g("div",{className:"feature-item",children:[l(xr,{size:24}),g("div",{children:[l("h4",{children:"Lifetime Access"}),l("p",{children:"Full lifetime access to course materials"})]})]})]})]}),a.tags&&a.tags.length>0&&g("div",{className:"course-tags",children:[l("h3",{children:"Skills You'll Gain"}),l("div",{className:"tags-list",children:a.tags.map((L,z)=>l("span",{className:"skill-tag",children:L},z))})]})]}),Y=()=>g("div",{className:"tab-content",children:[g("div",{className:"curriculum-header",children:[l("h2",{children:"Course Curriculum"}),g("div",{className:"curriculum-stats",children:[g("span",{children:[a.duration*4," hours of content"]}),g("span",{children:[a.duration," weeks"]}),g("span",{children:[a.duration*2," lessons"]})]})]}),l("div",{className:"curriculum-sections",children:[1,2,3,4,5,6].map(L=>g("div",{className:"curriculum-section",children:[g("div",{className:"section-header",children:[g("h3",{children:["Week ",L,": ",q(L)]}),g("span",{children:[L*4-3,"-",L*4," hours"]})]}),g("div",{className:"section-lessons",children:[[1,2,3,4].map(z=>g("div",{className:"lesson-item",children:[g("div",{className:"lesson-info",children:[l(S6,{size:16}),g("span",{children:["Lesson ",z,": ",G(L,z)]})]}),l("div",{className:"lesson-duration",children:"45 min"})]},z)),g("div",{className:"lesson-item assignment",children:[g("div",{className:"lesson-info",children:[l(Mn,{size:16}),l("span",{children:"Weekly Assignment"})]}),l("div",{className:"lesson-duration",children:"1 hour"})]})]})]},L))})]}),q=L=>["Introduction to Smart Cities","IoT and Urban Infrastructure","Data Analytics for Urban Planning","Sustainable Development Strategies","Case Studies and Implementation","Future Trends and Capstone Project"][L-1]||"Advanced Topics",G=(L,z)=>{var Q;return((Q=[["Understanding Smart City Concepts","IoT Applications in Urban Development","Data Collection Methods","Sustainability Principles"],["Sensor Networks and Data Acquisition","Smart Transportation Systems","Energy Management","Waste Management Solutions"],["Urban Data Analysis Techniques","Predictive Modeling","Visualization Tools","Decision Support Systems"],["Green Building Standards","Renewable Energy Integration","Community Engagement","Policy Framework"],["Singapore Smart Nation Case Study","Barcelona Superblocks","Mumbai Urban Development","Dubai Smart City"],["AI in Urban Planning","Blockchain for Governance","5G and Connectivity","Capstone Project Workshop"]][L-1])==null?void 0:Q[z-1])||"Advanced Topic Discussion"},B=()=>l("div",{className:"tab-content",children:h&&g("div",{className:"instructor-profile",children:[g("div",{className:"instructor-header",children:[l("div",{className:"instructor-avatar",children:h.profilePicture?l("img",{src:h.profilePicture,alt:h.name}):l("div",{className:"avatar-placeholder",children:l(Uh,{size:24})})}),g("div",{className:"instructor-details",children:[l("h2",{children:h.name}),l("p",{className:"instructor-title",children:h.title}),g("div",{className:"instructor-stats",children:[g("div",{className:"stat",children:[l(Is,{size:16,fill:"currentColor"}),g("span",{children:[h.rating," Instructor Rating"]})]}),g("div",{className:"stat",children:[l(wn,{size:16}),g("span",{children:[h.totalStudents.toLocaleString()," Students"]})]}),g("div",{className:"stat",children:[l(Uh,{size:16}),g("span",{children:[h.totalCourses," Courses"]})]})]})]})]}),g("div",{className:"instructor-bio",children:[l("h3",{children:"About the Instructor"}),l("p",{children:h.bio})]}),g("div",{className:"instructor-specialization",children:[l("h3",{children:"Specialization"}),l("div",{className:"specialization-tags",children:h.specialization.map((L,z)=>l("span",{className:"specialization-tag",children:L},z))})]}),h.achievements&&h.achievements.length>0&&g("div",{className:"instructor-achievements",children:[l("h3",{children:"Achievements & Recognition"}),l("ul",{children:h.achievements.map((L,z)=>l("li",{children:L},z))})]})]})}),J=()=>g("div",{className:"tab-content",children:[l("div",{className:"reviews-header",children:l("div",{className:"reviews-summary",children:g("div",{className:"average-rating",children:[l("span",{className:"rating-number",children:a.rating}),l("div",{className:"rating-stars",children:[1,2,3,4,5].map(L=>l(Is,{size:20,fill:L<=Math.floor(a.rating)?"currentColor":"none"},L))}),g("span",{className:"rating-count",children:["Course Rating  ",a.reviewCount," reviews"]})]})})}),l("div",{className:"reviews-list",children:b.length>0?b.slice(0,5).map(L=>g("div",{className:"review-item",children:[g("div",{className:"review-header",children:[g("div",{className:"reviewer-info",children:[l("div",{className:"reviewer-avatar",children:L.reviewerName.charAt(0)}),g("div",{children:[l("h4",{children:L.reviewerName}),l("div",{className:"review-rating",children:[1,2,3,4,5].map(z=>l(Is,{size:14,fill:z<=L.rating?"currentColor":"none"},z))})]})]}),l("span",{className:"review-date",children:new Date(L.date).toLocaleDateString()})]}),l("p",{className:"review-content",children:L.comment})]},L.id)):l("div",{className:"no-reviews",children:l("p",{children:"No reviews yet. Be the first to review this course!"})})}),b.length>5&&l("div",{className:"reviews-footer",children:l("button",{className:"btn btn-outline",children:"Load More Reviews"})})]}),W=()=>g("div",{className:"similar-courses-section",children:[l("h2",{children:"Similar Courses You Might Like"}),l("div",{className:"similar-courses-grid",children:u.slice(0,3).map(L=>g("div",{className:"similar-course-card",role:"link",tabIndex:0,onClick:()=>e(`/learning/courses/${L.id}`,{state:{course:L}}),onKeyDown:z=>{(z.key==="Enter"||z.key===" "||z.key==="Spacebar")&&(z.preventDefault(),e(`/learning/courses/${L.id}`,{state:{course:L}}))},children:[l("div",{className:"similar-course-image",children:L.image?l("img",{src:L.image,alt:L.title}):l("div",{className:"image-placeholder",children:l(Uh,{size:24})})}),g("div",{className:"similar-course-content",children:[l("h4",{children:L.title}),g("div",{className:"similar-course-meta",children:[l("span",{className:"instructor",children:L.instructor}),g("span",{className:"rating",children:[l(Is,{size:14,fill:"currentColor"}),L.rating]})]}),l("div",{className:"similar-course-price",children:D(L.fees)})]}),l("div",{className:"similar-course-actions",children:l("button",{type:"button",className:"btn btn-outline btn-small",onClick:z=>{z.stopPropagation(),e(`/learning/courses/${L.id}`,{state:{course:L}})},children:"View Details"})})]},L.id))}),u.length===0&&g("div",{className:"no-similar-courses",children:[l("p",{children:"No similar courses found at the moment."}),l(Cn,{to:"/learning",className:"btn btn-outline",children:"Browse All Courses"})]})]});return c?l("div",{className:"course-detail-loading",children:l("div",{className:"loading-content",children:l(I1,{size:"lg",text:"Loading course details..."})})}):a?l("div",{className:"course-detail-page",children:l("div",{className:"container",children:g("div",{className:"course-detail-content",children:[g("div",{className:"main-content",children:[I(),R(),v==="overview"&&M(),v==="curriculum"&&Y(),v==="instructor"&&B(),v==="reviews"&&J(),W()]}),g("div",{className:"sidebar-content",children:[i&&l("div",{className:"quick-enroll-card",children:g("div",{className:"card-content",children:[l("h3",{children:"Ready to Start Learning?"}),g("button",{className:"btn btn-primary w-full",onClick:T,children:[l(Uh,{size:18}),"Enroll Now"]}),g("div",{className:"enrollment-info",children:[g("div",{className:"info-item",children:[l(di,{size:14}),l("span",{children:"Lifetime access"})]}),g("div",{className:"info-item",children:[l(RA,{size:14}),l("span",{children:"Certificate included"})]}),g("div",{className:"info-item",children:[l(xr,{size:14}),l("span",{children:"Self-paced learning"})]})]})]})}),g("div",{className:"features-card",children:[l("h3",{children:"This Course Includes"}),g("ul",{className:"features-list",children:[g("li",{children:[l(S6,{size:16}),g("span",{children:[a.duration*4," hours on-demand video"]})]}),g("li",{children:[l(RA,{size:16}),l("span",{children:"Downloadable resources"})]}),g("li",{children:[l(Mn,{size:16}),l("span",{children:"Certificate of completion"})]}),g("li",{children:[l(xr,{size:16}),l("span",{children:"Full lifetime access"})]}),g("li",{children:[l(wn,{size:16}),l("span",{children:"Access on mobile and TV"})]})]})]})]})]})})}):l("div",{className:"course-not-found",children:g("div",{className:"not-found-content",children:[l(G1,{size:48}),l("h2",{children:"Course Not Found"}),l("p",{children:"The course you're looking for doesn't exist or has been removed."}),l(Cn,{to:"/learning",className:"btn btn-primary",children:"Browse All Courses"})]})})};function Gpe(){const n=or(),[e,t]=ie.useState({courseId:"",courseTitle:"",firstName:"",lastName:"",email:"",phone:"",address:"",city:"",state:"",zipCode:"",enrollmentDate:"",studentId:"",emergencyContactName:"",emergencyContactPhone:"",agreeTerms:!1}),[i,r]=ie.useState("card"),[s,a]=ie.useState({cardNumber:"",expiry:"",cvv:"",cardholderName:"",upiId:"",bank:""}),o=f=>{const{name:h,value:p}=f.target;t(v=>({...v,[h]:p}))},c=f=>{const{name:h,value:p}=f.target;a(v=>({...v,[h]:p}))},d=f=>{f.preventDefault();const h={...e,paymentMethod:i,paymentData:s};console.log("Complete Enrollment Data:",h),alert(`Course Enrollment Submitted Successfully!
Check console for full data.`)},u=new Date().toISOString().split("T")[0];return l("div",{className:"enrollment-wrapper",children:g("div",{className:"enrollment-container",children:[l("div",{className:"form-header",children:g("div",{style:{display:"flex",alignItems:"center",gap:12},children:[l("button",{type:"button",className:"btn btn-outline",onClick:()=>n(-1),"aria-label":"Go back",children:" Back"}),g("div",{children:[l("h1",{children:"Course Enrollment Form"}),l("p",{children:"Complete all fields to secure your spot in the course"})]})]})}),g("form",{className:"enrollment-form",onSubmit:d,children:[g("section",{className:"form-section",children:[l("h2",{children:"Course Details"}),g("div",{className:"form-grid",children:[g("div",{className:"input-group",children:[g("label",{htmlFor:"courseId",children:["Course ID * ",l("span",{className:"course-id-hint",children:"(From course card)"})]}),l("input",{id:"courseId",type:"text",name:"courseId",value:e.courseId,onChange:o,required:!0,placeholder:"CS-101-2025",maxLength:"20"}),l("small",{className:"field-hint",children:"Enter the exact Course ID shown on the course card"})]}),g("div",{className:"input-group",children:[l("label",{htmlFor:"courseTitle",children:"Course Title *"}),l("input",{id:"courseTitle",type:"text",name:"courseTitle",value:e.courseTitle,onChange:o,required:!0,placeholder:"e.g., React Developer Bootcamp"})]}),g("div",{className:"input-group",children:[l("label",{htmlFor:"enrollmentDate",children:"Enrollment Date *"}),l("input",{id:"enrollmentDate",type:"date",name:"enrollmentDate",value:e.enrollmentDate,onChange:o,required:!0,min:u})]}),g("div",{className:"input-group",children:[l("label",{htmlFor:"studentId",children:"Student ID (Optional)"}),l("input",{id:"studentId",type:"text",name:"studentId",value:e.studentId,onChange:o,placeholder:"STD-2025-001"})]})]})]}),g("section",{className:"form-section",children:[l("h2",{children:"Personal Information"}),g("div",{className:"form-grid",children:[g("div",{className:"input-group",children:[l("label",{htmlFor:"firstName",children:"First Name *"}),l("input",{id:"firstName",type:"text",name:"firstName",value:e.firstName,onChange:o,required:!0,placeholder:"Enter your first name"})]}),g("div",{className:"input-group",children:[l("label",{htmlFor:"lastName",children:"Last Name *"}),l("input",{id:"lastName",type:"text",name:"lastName",value:e.lastName,onChange:o,required:!0,placeholder:"Enter your last name"})]}),g("div",{className:"input-group",children:[l("label",{htmlFor:"email",children:"Email Address *"}),l("input",{id:"email",type:"email",name:"email",value:e.email,onChange:o,required:!0,placeholder:"your@email.com"})]}),g("div",{className:"input-group",children:[l("label",{htmlFor:"phone",children:"Phone Number *"}),l("input",{id:"phone",type:"tel",name:"phone",value:e.phone,onChange:o,required:!0,placeholder:"+1 (555) 123-4567"})]})]}),g("div",{className:"input-group full-width",children:[l("label",{htmlFor:"address",children:"Street Address *"}),l("input",{id:"address",type:"text",name:"address",value:e.address,onChange:o,required:!0,placeholder:"123 Main St, Apt 4B"})]}),g("div",{className:"form-grid",children:[g("div",{className:"input-group",children:[l("label",{htmlFor:"city",children:"City *"}),l("input",{id:"city",type:"text",name:"city",value:e.city,onChange:o,required:!0,placeholder:"New York"})]}),g("div",{className:"input-group",children:[l("label",{htmlFor:"state",children:"State/Province *"}),l("input",{id:"state",type:"text",name:"state",value:e.state,onChange:o,required:!0,placeholder:"NY"})]}),g("div",{className:"input-group",children:[l("label",{htmlFor:"zipCode",children:"ZIP/Postal Code *"}),l("input",{id:"zipCode",type:"text",name:"zipCode",value:e.zipCode,onChange:o,required:!0,placeholder:"10001",maxLength:"10"})]})]})]}),g("section",{className:"form-section",children:[l("h2",{children:"Emergency Contact"}),g("div",{className:"form-grid",children:[g("div",{className:"input-group",children:[l("label",{htmlFor:"emergencyContactName",children:"Contact Name *"}),l("input",{id:"emergencyContactName",type:"text",name:"emergencyContactName",value:e.emergencyContactName,onChange:o,required:!0,placeholder:"Emergency contact name"})]}),g("div",{className:"input-group",children:[l("label",{htmlFor:"emergencyContactPhone",children:"Phone Number *"}),l("input",{id:"emergencyContactPhone",type:"tel",name:"emergencyContactPhone",value:e.emergencyContactPhone,onChange:o,required:!0,placeholder:"+1 (555) 987-6543"})]})]})]}),g("section",{className:"form-section",children:[l("h2",{children:"Payment Information"}),g("div",{className:"payment-methods",children:[g("div",{className:"method-option",children:[l("input",{id:"card",type:"radio",name:"payment",value:"card",checked:i==="card",onChange:()=>r("card")}),g("label",{htmlFor:"card",className:"method-label",children:[l("div",{className:"method-icon card-icon",children:""}),l("span",{children:"Credit / Debit Card"})]})]}),g("div",{className:"method-option",children:[l("input",{id:"upi",type:"radio",name:"payment",value:"upi",checked:i==="upi",onChange:()=>r("upi")}),g("label",{htmlFor:"upi",className:"method-label",children:[l("div",{className:"method-icon upi-icon",children:""}),l("span",{children:"UPI"})]})]}),g("div",{className:"method-option",children:[l("input",{id:"netbanking",type:"radio",name:"payment",value:"netbanking",checked:i==="netbanking",onChange:()=>r("netbanking")}),g("label",{htmlFor:"netbanking",className:"method-label",children:[l("div",{className:"method-icon bank-icon",children:""}),l("span",{children:"Net Banking"})]})]})]}),i==="card"&&g("div",{className:"payment-fields",children:[g("div",{className:"input-group full-width",children:[l("label",{htmlFor:"cardNumber",children:"Card Number *"}),l("input",{id:"cardNumber",type:"text",name:"cardNumber",value:s.cardNumber,onChange:c,placeholder:"1234 5678 9012 3456",required:!0,maxLength:"19"})]}),g("div",{className:"form-grid",children:[g("div",{className:"input-group",children:[l("label",{htmlFor:"expiry",children:"Expiry Date *"}),l("input",{id:"expiry",type:"text",name:"expiry",value:s.expiry,onChange:c,placeholder:"MM/YY",required:!0,maxLength:"5"})]}),g("div",{className:"input-group",children:[l("label",{htmlFor:"cvv",children:"CVV *"}),l("input",{id:"cvv",type:"text",name:"cvv",value:s.cvv,onChange:c,placeholder:"123",required:!0,maxLength:"4"})]})]}),g("div",{className:"input-group full-width",children:[l("label",{htmlFor:"cardholderName",children:"Cardholder Name *"}),l("input",{id:"cardholderName",type:"text",name:"cardholderName",value:s.cardholderName,onChange:c,placeholder:"John Doe",required:!0})]})]}),i==="upi"&&l("div",{className:"payment-fields",children:g("div",{className:"input-group full-width",children:[l("label",{htmlFor:"upiId",children:"UPI ID *"}),l("input",{id:"upiId",type:"text",name:"upiId",value:s.upiId,onChange:c,placeholder:"yourname@paytm",required:!0})]})}),i==="netbanking"&&l("div",{className:"payment-fields",children:g("div",{className:"input-group full-width",children:[l("label",{htmlFor:"bank",children:"Select Bank *"}),g("select",{id:"bank",name:"bank",value:s.bank,onChange:c,required:!0,children:[l("option",{value:"",children:"Choose your bank"}),l("option",{value:"sbi",children:"State Bank of India"}),l("option",{value:"hdfc",children:"HDFC Bank"}),l("option",{value:"icici",children:"ICICI Bank"}),l("option",{value:"axis",children:"Axis Bank"}),l("option",{value:"pnb",children:"Punjab National Bank"}),l("option",{value:"bob",children:"Bank of Baroda"})]})]})})]}),l("section",{className:"form-section",children:l("div",{className:"checkbox-group",children:g("label",{className:"checkbox-label",children:[l("input",{type:"checkbox",name:"agreeTerms",checked:e.agreeTerms,onChange:f=>t(h=>({...h,agreeTerms:f.target.checked})),required:!0}),l("span",{className:"checkmark"}),g("div",{className:"terms-text",children:["I agree to the ",l("a",{href:"#",className:"terms-link",children:"Terms & Conditions"}),",",l("a",{href:"#",className:"terms-link",children:" Privacy Policy"}),", and confirm all information provided is accurate *"]})]})})}),g("div",{className:"form-actions",children:[l("button",{type:"button",className:"btn-secondary",onClick:()=>n(-1),children:"Cancel"}),l("button",{type:"submit",className:"btn-primary",children:"Complete Enrollment"})]})]})]})})}const Xpe=()=>l("div",{children:l(Gpe,{})});function Ype(){this.__data__=[],this.size=0}var Kpe=Ype;function Jpe(n,e){return n===e||n!==n&&e!==e}var zH=Jpe,Zpe=zH;function Qpe(n,e){for(var t=n.length;t--;)if(Zpe(n[t][0],e))return t;return-1}var XT=Qpe,eme=XT,tme=Array.prototype,nme=tme.splice;function ime(n){var e=this.__data__,t=eme(e,n);if(t<0)return!1;var i=e.length-1;return t==i?e.pop():nme.call(e,t,1),--this.size,!0}var rme=ime,sme=XT;function ame(n){var e=this.__data__,t=sme(e,n);return t<0?void 0:e[t][1]}var ome=ame,lme=XT;function cme(n){return lme(this.__data__,n)>-1}var dme=cme,ume=XT;function hme(n,e){var t=this.__data__,i=ume(t,n);return i<0?(++this.size,t.push([n,e])):t[i][1]=e,this}var fme=hme,pme=Kpe,mme=rme,gme=ome,yme=dme,vme=fme;function Jb(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}Jb.prototype.clear=pme;Jb.prototype.delete=mme;Jb.prototype.get=gme;Jb.prototype.has=yme;Jb.prototype.set=vme;var YT=Jb,bme=YT;function wme(){this.__data__=new bme,this.size=0}var xme=wme;function _me(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}var Sme=_me;function Nme(n){return this.__data__.get(n)}var Ame=Nme;function kme(n){return this.__data__.has(n)}var Eme=kme,Tme=typeof nr=="object"&&nr&&nr.Object===Object&&nr,jH=Tme,Cme=jH,Dme=typeof self=="object"&&self&&self.Object===Object&&self,Pme=Cme||Dme||Function("return this")(),lf=Pme,Ime=lf,Rme=Ime.Symbol,qL=Rme,P9=qL,WH=Object.prototype,Lme=WH.hasOwnProperty,Ome=WH.toString,P2=P9?P9.toStringTag:void 0;function Fme(n){var e=Lme.call(n,P2),t=n[P2];try{n[P2]=void 0;var i=!0}catch{}var r=Ome.call(n);return i&&(e?n[P2]=t:delete n[P2]),r}var Ume=Fme,Mme=Object.prototype,Bme=Mme.toString;function zme(n){return Bme.call(n)}var jme=zme,I9=qL,Wme=Ume,$me=jme,qme="[object Null]",Hme="[object Undefined]",R9=I9?I9.toStringTag:void 0;function Vme(n){return n==null?n===void 0?Hme:qme:R9&&R9 in Object(n)?Wme(n):$me(n)}var KT=Vme;function Gme(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var $H=Gme,Xme=KT,Yme=$H,Kme="[object AsyncFunction]",Jme="[object Function]",Zme="[object GeneratorFunction]",Qme="[object Proxy]";function ege(n){if(!Yme(n))return!1;var e=Xme(n);return e==Jme||e==Zme||e==Kme||e==Qme}var qH=ege,tge=lf,nge=tge["__core-js_shared__"],ige=nge,T6=ige,L9=function(){var n=/[^.]+$/.exec(T6&&T6.keys&&T6.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function rge(n){return!!L9&&L9 in n}var sge=rge,age=Function.prototype,oge=age.toString;function lge(n){if(n!=null){try{return oge.call(n)}catch{}try{return n+""}catch{}}return""}var HH=lge,cge=qH,dge=sge,uge=$H,hge=HH,fge=/[\\^$.*+?()[\]{}|]/g,pge=/^\[object .+?Constructor\]$/,mge=Function.prototype,gge=Object.prototype,yge=mge.toString,vge=gge.hasOwnProperty,bge=RegExp("^"+yge.call(vge).replace(fge,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function wge(n){if(!uge(n)||dge(n))return!1;var e=cge(n)?bge:pge;return e.test(hge(n))}var xge=wge;function _ge(n,e){return n==null?void 0:n[e]}var Sge=_ge,Nge=xge,Age=Sge;function kge(n,e){var t=Age(n,e);return Nge(t)?t:void 0}var Zb=kge,Ege=Zb,Tge=lf,Cge=Ege(Tge,"Map"),HL=Cge,Dge=Zb,Pge=Dge(Object,"create"),JT=Pge,O9=JT;function Ige(){this.__data__=O9?O9(null):{},this.size=0}var Rge=Ige;function Lge(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var Oge=Lge,Fge=JT,Uge="__lodash_hash_undefined__",Mge=Object.prototype,Bge=Mge.hasOwnProperty;function zge(n){var e=this.__data__;if(Fge){var t=e[n];return t===Uge?void 0:t}return Bge.call(e,n)?e[n]:void 0}var jge=zge,Wge=JT,$ge=Object.prototype,qge=$ge.hasOwnProperty;function Hge(n){var e=this.__data__;return Wge?e[n]!==void 0:qge.call(e,n)}var Vge=Hge,Gge=JT,Xge="__lodash_hash_undefined__";function Yge(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Gge&&e===void 0?Xge:e,this}var Kge=Yge,Jge=Rge,Zge=Oge,Qge=jge,e1e=Vge,t1e=Kge;function Qb(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}Qb.prototype.clear=Jge;Qb.prototype.delete=Zge;Qb.prototype.get=Qge;Qb.prototype.has=e1e;Qb.prototype.set=t1e;var n1e=Qb,F9=n1e,i1e=YT,r1e=HL;function s1e(){this.size=0,this.__data__={hash:new F9,map:new(r1e||i1e),string:new F9}}var a1e=s1e;function o1e(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}var l1e=o1e,c1e=l1e;function d1e(n,e){var t=n.__data__;return c1e(e)?t[typeof e=="string"?"string":"hash"]:t.map}var ZT=d1e,u1e=ZT;function h1e(n){var e=u1e(this,n).delete(n);return this.size-=e?1:0,e}var f1e=h1e,p1e=ZT;function m1e(n){return p1e(this,n).get(n)}var g1e=m1e,y1e=ZT;function v1e(n){return y1e(this,n).has(n)}var b1e=v1e,w1e=ZT;function x1e(n,e){var t=w1e(this,n),i=t.size;return t.set(n,e),this.size+=t.size==i?0:1,this}var _1e=x1e,S1e=a1e,N1e=f1e,A1e=g1e,k1e=b1e,E1e=_1e;function e2(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var i=n[e];this.set(i[0],i[1])}}e2.prototype.clear=S1e;e2.prototype.delete=N1e;e2.prototype.get=A1e;e2.prototype.has=k1e;e2.prototype.set=E1e;var VH=e2,T1e=YT,C1e=HL,D1e=VH,P1e=200;function I1e(n,e){var t=this.__data__;if(t instanceof T1e){var i=t.__data__;if(!C1e||i.length<P1e-1)return i.push([n,e]),this.size=++t.size,this;t=this.__data__=new D1e(i)}return t.set(n,e),this.size=t.size,this}var R1e=I1e,L1e=YT,O1e=xme,F1e=Sme,U1e=Ame,M1e=Eme,B1e=R1e;function t2(n){var e=this.__data__=new L1e(n);this.size=e.size}t2.prototype.clear=O1e;t2.prototype.delete=F1e;t2.prototype.get=U1e;t2.prototype.has=M1e;t2.prototype.set=B1e;var z1e=t2,j1e="__lodash_hash_undefined__";function W1e(n){return this.__data__.set(n,j1e),this}var $1e=W1e;function q1e(n){return this.__data__.has(n)}var H1e=q1e,V1e=VH,G1e=$1e,X1e=H1e;function A3(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new V1e;++e<t;)this.add(n[e])}A3.prototype.add=A3.prototype.push=G1e;A3.prototype.has=X1e;var Y1e=A3;function K1e(n,e){for(var t=-1,i=n==null?0:n.length;++t<i;)if(e(n[t],t,n))return!0;return!1}var J1e=K1e;function Z1e(n,e){return n.has(e)}var Q1e=Z1e,e0e=Y1e,t0e=J1e,n0e=Q1e,i0e=1,r0e=2;function s0e(n,e,t,i,r,s){var a=t&i0e,o=n.length,c=e.length;if(o!=c&&!(a&&c>o))return!1;var d=s.get(n),u=s.get(e);if(d&&u)return d==e&&u==n;var f=-1,h=!0,p=t&r0e?new e0e:void 0;for(s.set(n,e),s.set(e,n);++f<o;){var v=n[f],w=e[f];if(i)var b=a?i(w,v,f,e,n,s):i(v,w,f,n,e,s);if(b!==void 0){if(b)continue;h=!1;break}if(p){if(!t0e(e,function(m,y){if(!n0e(p,y)&&(v===m||r(v,m,t,i,s)))return p.push(y)})){h=!1;break}}else if(!(v===w||r(v,w,t,i,s))){h=!1;break}}return s.delete(n),s.delete(e),h}var GH=s0e,a0e=lf,o0e=a0e.Uint8Array,l0e=o0e;function c0e(n){var e=-1,t=Array(n.size);return n.forEach(function(i,r){t[++e]=[r,i]}),t}var d0e=c0e;function u0e(n){var e=-1,t=Array(n.size);return n.forEach(function(i){t[++e]=i}),t}var h0e=u0e,U9=qL,M9=l0e,f0e=zH,p0e=GH,m0e=d0e,g0e=h0e,y0e=1,v0e=2,b0e="[object Boolean]",w0e="[object Date]",x0e="[object Error]",_0e="[object Map]",S0e="[object Number]",N0e="[object RegExp]",A0e="[object Set]",k0e="[object String]",E0e="[object Symbol]",T0e="[object ArrayBuffer]",C0e="[object DataView]",B9=U9?U9.prototype:void 0,C6=B9?B9.valueOf:void 0;function D0e(n,e,t,i,r,s,a){switch(t){case C0e:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case T0e:return!(n.byteLength!=e.byteLength||!s(new M9(n),new M9(e)));case b0e:case w0e:case S0e:return f0e(+n,+e);case x0e:return n.name==e.name&&n.message==e.message;case N0e:case k0e:return n==e+"";case _0e:var o=m0e;case A0e:var c=i&y0e;if(o||(o=g0e),n.size!=e.size&&!c)return!1;var d=a.get(n);if(d)return d==e;i|=v0e,a.set(n,e);var u=p0e(o(n),o(e),i,r,s,a);return a.delete(n),u;case E0e:if(C6)return C6.call(n)==C6.call(e)}return!1}var P0e=D0e;function I0e(n,e){for(var t=-1,i=e.length,r=n.length;++t<i;)n[r+t]=e[t];return n}var R0e=I0e,L0e=Array.isArray,VL=L0e,O0e=R0e,F0e=VL;function U0e(n,e,t){var i=e(n);return F0e(n)?i:O0e(i,t(n))}var M0e=U0e;function B0e(n,e){for(var t=-1,i=n==null?0:n.length,r=0,s=[];++t<i;){var a=n[t];e(a,t,n)&&(s[r++]=a)}return s}var z0e=B0e;function j0e(){return[]}var W0e=j0e,$0e=z0e,q0e=W0e,H0e=Object.prototype,V0e=H0e.propertyIsEnumerable,z9=Object.getOwnPropertySymbols,G0e=z9?function(n){return n==null?[]:(n=Object(n),$0e(z9(n),function(e){return V0e.call(n,e)}))}:q0e,X0e=G0e;function Y0e(n,e){for(var t=-1,i=Array(n);++t<n;)i[t]=e(t);return i}var K0e=Y0e;function J0e(n){return n!=null&&typeof n=="object"}var QT=J0e,Z0e=KT,Q0e=QT,eye="[object Arguments]";function tye(n){return Q0e(n)&&Z0e(n)==eye}var nye=tye,j9=nye,iye=QT,XH=Object.prototype,rye=XH.hasOwnProperty,sye=XH.propertyIsEnumerable,aye=j9(function(){return arguments}())?j9:function(n){return iye(n)&&rye.call(n,"callee")&&!sye.call(n,"callee")},oye=aye,k3={exports:{}};function lye(){return!1}var cye=lye;k3.exports;(function(n,e){var t=lf,i=cye,r=e&&!e.nodeType&&e,s=r&&!0&&n&&!n.nodeType&&n,a=s&&s.exports===r,o=a?t.Buffer:void 0,c=o?o.isBuffer:void 0,d=c||i;n.exports=d})(k3,k3.exports);var YH=k3.exports,dye=9007199254740991,uye=/^(?:0|[1-9]\d*)$/;function hye(n,e){var t=typeof n;return e=e??dye,!!e&&(t=="number"||t!="symbol"&&uye.test(n))&&n>-1&&n%1==0&&n<e}var fye=hye,pye=9007199254740991;function mye(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=pye}var KH=mye,gye=KT,yye=KH,vye=QT,bye="[object Arguments]",wye="[object Array]",xye="[object Boolean]",_ye="[object Date]",Sye="[object Error]",Nye="[object Function]",Aye="[object Map]",kye="[object Number]",Eye="[object Object]",Tye="[object RegExp]",Cye="[object Set]",Dye="[object String]",Pye="[object WeakMap]",Iye="[object ArrayBuffer]",Rye="[object DataView]",Lye="[object Float32Array]",Oye="[object Float64Array]",Fye="[object Int8Array]",Uye="[object Int16Array]",Mye="[object Int32Array]",Bye="[object Uint8Array]",zye="[object Uint8ClampedArray]",jye="[object Uint16Array]",Wye="[object Uint32Array]",$i={};$i[Lye]=$i[Oye]=$i[Fye]=$i[Uye]=$i[Mye]=$i[Bye]=$i[zye]=$i[jye]=$i[Wye]=!0;$i[bye]=$i[wye]=$i[Iye]=$i[xye]=$i[Rye]=$i[_ye]=$i[Sye]=$i[Nye]=$i[Aye]=$i[kye]=$i[Eye]=$i[Tye]=$i[Cye]=$i[Dye]=$i[Pye]=!1;function $ye(n){return vye(n)&&yye(n.length)&&!!$i[gye(n)]}var qye=$ye;function Hye(n){return function(e){return n(e)}}var Vye=Hye,E3={exports:{}};E3.exports;(function(n,e){var t=jH,i=e&&!e.nodeType&&e,r=i&&!0&&n&&!n.nodeType&&n,s=r&&r.exports===i,a=s&&t.process,o=function(){try{var c=r&&r.require&&r.require("util").types;return c||a&&a.binding&&a.binding("util")}catch{}}();n.exports=o})(E3,E3.exports);var Gye=E3.exports,Xye=qye,Yye=Vye,W9=Gye,$9=W9&&W9.isTypedArray,Kye=$9?Yye($9):Xye,JH=Kye,Jye=K0e,Zye=oye,Qye=VL,eve=YH,tve=fye,nve=JH,ive=Object.prototype,rve=ive.hasOwnProperty;function sve(n,e){var t=Qye(n),i=!t&&Zye(n),r=!t&&!i&&eve(n),s=!t&&!i&&!r&&nve(n),a=t||i||r||s,o=a?Jye(n.length,String):[],c=o.length;for(var d in n)(e||rve.call(n,d))&&!(a&&(d=="length"||r&&(d=="offset"||d=="parent")||s&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||tve(d,c)))&&o.push(d);return o}var ave=sve,ove=Object.prototype;function lve(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||ove;return n===t}var cve=lve;function dve(n,e){return function(t){return n(e(t))}}var uve=dve,hve=uve,fve=hve(Object.keys,Object),pve=fve,mve=cve,gve=pve,yve=Object.prototype,vve=yve.hasOwnProperty;function bve(n){if(!mve(n))return gve(n);var e=[];for(var t in Object(n))vve.call(n,t)&&t!="constructor"&&e.push(t);return e}var wve=bve,xve=qH,_ve=KH;function Sve(n){return n!=null&&_ve(n.length)&&!xve(n)}var Nve=Sve,Ave=ave,kve=wve,Eve=Nve;function Tve(n){return Eve(n)?Ave(n):kve(n)}var Cve=Tve,Dve=M0e,Pve=X0e,Ive=Cve;function Rve(n){return Dve(n,Ive,Pve)}var Lve=Rve,q9=Lve,Ove=1,Fve=Object.prototype,Uve=Fve.hasOwnProperty;function Mve(n,e,t,i,r,s){var a=t&Ove,o=q9(n),c=o.length,d=q9(e),u=d.length;if(c!=u&&!a)return!1;for(var f=c;f--;){var h=o[f];if(!(a?h in e:Uve.call(e,h)))return!1}var p=s.get(n),v=s.get(e);if(p&&v)return p==e&&v==n;var w=!0;s.set(n,e),s.set(e,n);for(var b=a;++f<c;){h=o[f];var m=n[h],y=e[h];if(i)var _=a?i(y,m,h,e,n,s):i(m,y,h,n,e,s);if(!(_===void 0?m===y||r(m,y,t,i,s):_)){w=!1;break}b||(b=h=="constructor")}if(w&&!b){var x=n.constructor,N=e.constructor;x!=N&&"constructor"in n&&"constructor"in e&&!(typeof x=="function"&&x instanceof x&&typeof N=="function"&&N instanceof N)&&(w=!1)}return s.delete(n),s.delete(e),w}var Bve=Mve,zve=Zb,jve=lf,Wve=zve(jve,"DataView"),$ve=Wve,qve=Zb,Hve=lf,Vve=qve(Hve,"Promise"),Gve=Vve,Xve=Zb,Yve=lf,Kve=Xve(Yve,"Set"),Jve=Kve,Zve=Zb,Qve=lf,ebe=Zve(Qve,"WeakMap"),tbe=ebe,V8=$ve,G8=HL,X8=Gve,Y8=Jve,K8=tbe,ZH=KT,n2=HH,H9="[object Map]",nbe="[object Object]",V9="[object Promise]",G9="[object Set]",X9="[object WeakMap]",Y9="[object DataView]",ibe=n2(V8),rbe=n2(G8),sbe=n2(X8),abe=n2(Y8),obe=n2(K8),Cm=ZH;(V8&&Cm(new V8(new ArrayBuffer(1)))!=Y9||G8&&Cm(new G8)!=H9||X8&&Cm(X8.resolve())!=V9||Y8&&Cm(new Y8)!=G9||K8&&Cm(new K8)!=X9)&&(Cm=function(n){var e=ZH(n),t=e==nbe?n.constructor:void 0,i=t?n2(t):"";if(i)switch(i){case ibe:return Y9;case rbe:return H9;case sbe:return V9;case abe:return G9;case obe:return X9}return e});var lbe=Cm,D6=z1e,cbe=GH,dbe=P0e,ube=Bve,K9=lbe,J9=VL,Z9=YH,hbe=JH,fbe=1,Q9="[object Arguments]",eM="[object Array]",MN="[object Object]",pbe=Object.prototype,tM=pbe.hasOwnProperty;function mbe(n,e,t,i,r,s){var a=J9(n),o=J9(e),c=a?eM:K9(n),d=o?eM:K9(e);c=c==Q9?MN:c,d=d==Q9?MN:d;var u=c==MN,f=d==MN,h=c==d;if(h&&Z9(n)){if(!Z9(e))return!1;a=!0,u=!1}if(h&&!u)return s||(s=new D6),a||hbe(n)?cbe(n,e,t,i,r,s):dbe(n,e,c,t,i,r,s);if(!(t&fbe)){var p=u&&tM.call(n,"__wrapped__"),v=f&&tM.call(e,"__wrapped__");if(p||v){var w=p?n.value():n,b=v?e.value():e;return s||(s=new D6),r(w,b,t,i,s)}}return h?(s||(s=new D6),ube(n,e,t,i,r,s)):!1}var gbe=mbe,ybe=gbe,nM=QT;function QH(n,e,t,i,r){return n===e?!0:n==null||e==null||!nM(n)&&!nM(e)?n!==n&&e!==e:ybe(n,e,t,i,QH,r)}var vbe=QH,bbe=vbe;function wbe(n,e){return bbe(n,e)}var xbe=wbe,eV={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(n,e){(function(i,r){n.exports=r()})(typeof self<"u"?self:nr,function(){return function(t){var i={};function r(s){if(i[s])return i[s].exports;var a=i[s]={i:s,l:!1,exports:{}};return t[s].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=t,r.c=i,r.d=function(s,a,o){r.o(s,a)||Object.defineProperty(s,a,{configurable:!1,enumerable:!0,get:o})},r.n=function(s){var a=s&&s.__esModule?function(){return s.default}:function(){return s};return r.d(a,"a",a),a},r.o=function(s,a){return Object.prototype.hasOwnProperty.call(s,a)},r.p="",r(r.s=109)}([function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(17),a=r(18),o=r(19),c=r(45),d=r(46),u=r(47),f=r(48),h=r(49),p=r(12),v=r(32),w=r(33),b=r(31),m=r(1),y={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:s.default,Format:a.default,Leaf:o.default,Embed:f.default,Scroll:c.default,Block:u.default,Inline:d.default,Text:h.default,Attributor:{Attribute:p.default,Class:v.default,Style:w.default,Store:b.default}};i.default=y},function(t,i,r){var s=this&&this.__extends||function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var _ in y)y.hasOwnProperty(_)&&(m[_]=y[_])};return function(m,y){b(m,y);function _(){this.constructor=m}m.prototype=y===null?Object.create(y):(_.prototype=y.prototype,new _)}}();Object.defineProperty(i,"__esModule",{value:!0});var a=function(b){s(m,b);function m(y){var _=this;return y="[Parchment] "+y,_=b.call(this,y)||this,_.message=y,_.name=_.constructor.name,_}return m}(Error);i.ParchmentError=a;var o={},c={},d={},u={};i.DATA_KEY="__blot";var f;(function(b){b[b.TYPE=3]="TYPE",b[b.LEVEL=12]="LEVEL",b[b.ATTRIBUTE=13]="ATTRIBUTE",b[b.BLOT=14]="BLOT",b[b.INLINE=7]="INLINE",b[b.BLOCK=11]="BLOCK",b[b.BLOCK_BLOT=10]="BLOCK_BLOT",b[b.INLINE_BLOT=6]="INLINE_BLOT",b[b.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",b[b.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",b[b.ANY=15]="ANY"})(f=i.Scope||(i.Scope={}));function h(b,m){var y=v(b);if(y==null)throw new a("Unable to create "+b+" blot");var _=y,x=b instanceof Node||b.nodeType===Node.TEXT_NODE?b:_.create(m);return new _(x,m)}i.create=h;function p(b,m){return m===void 0&&(m=!1),b==null?null:b[i.DATA_KEY]!=null?b[i.DATA_KEY].blot:m?p(b.parentNode,m):null}i.find=p;function v(b,m){m===void 0&&(m=f.ANY);var y;if(typeof b=="string")y=u[b]||o[b];else if(b instanceof Text||b.nodeType===Node.TEXT_NODE)y=u.text;else if(typeof b=="number")b&f.LEVEL&f.BLOCK?y=u.block:b&f.LEVEL&f.INLINE&&(y=u.inline);else if(b instanceof HTMLElement){var _=(b.getAttribute("class")||"").split(/\s+/);for(var x in _)if(y=c[_[x]],y)break;y=y||d[b.tagName]}return y==null?null:m&f.LEVEL&y.scope&&m&f.TYPE&y.scope?y:null}i.query=v;function w(){for(var b=[],m=0;m<arguments.length;m++)b[m]=arguments[m];if(b.length>1)return b.map(function(x){return w(x)});var y=b[0];if(typeof y.blotName!="string"&&typeof y.attrName!="string")throw new a("Invalid definition");if(y.blotName==="abstract")throw new a("Cannot register abstract class");if(u[y.blotName||y.attrName]=y,typeof y.keyName=="string")o[y.keyName]=y;else if(y.className!=null&&(c[y.className]=y),y.tagName!=null){Array.isArray(y.tagName)?y.tagName=y.tagName.map(function(x){return x.toUpperCase()}):y.tagName=y.tagName.toUpperCase();var _=Array.isArray(y.tagName)?y.tagName:[y.tagName];_.forEach(function(x){(d[x]==null||y.className==null)&&(d[x]=y)})}return y}i.register=w},function(t,i,r){var s=r(51),a=r(11),o=r(3),c=r(20),d=String.fromCharCode(0),u=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};u.prototype.insert=function(f,h){var p={};return f.length===0?this:(p.insert=f,h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(p.attributes=h),this.push(p))},u.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},u.prototype.retain=function(f,h){if(f<=0)return this;var p={retain:f};return h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(p.attributes=h),this.push(p)},u.prototype.push=function(f){var h=this.ops.length,p=this.ops[h-1];if(f=o(!0,{},f),typeof p=="object"){if(typeof f.delete=="number"&&typeof p.delete=="number")return this.ops[h-1]={delete:p.delete+f.delete},this;if(typeof p.delete=="number"&&f.insert!=null&&(h-=1,p=this.ops[h-1],typeof p!="object"))return this.ops.unshift(f),this;if(a(f.attributes,p.attributes)){if(typeof f.insert=="string"&&typeof p.insert=="string")return this.ops[h-1]={insert:p.insert+f.insert},typeof f.attributes=="object"&&(this.ops[h-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof p.retain=="number")return this.ops[h-1]={retain:p.retain+f.retain},typeof f.attributes=="object"&&(this.ops[h-1].attributes=f.attributes),this}}return h===this.ops.length?this.ops.push(f):this.ops.splice(h,0,f),this},u.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},u.prototype.filter=function(f){return this.ops.filter(f)},u.prototype.forEach=function(f){this.ops.forEach(f)},u.prototype.map=function(f){return this.ops.map(f)},u.prototype.partition=function(f){var h=[],p=[];return this.forEach(function(v){var w=f(v)?h:p;w.push(v)}),[h,p]},u.prototype.reduce=function(f,h){return this.ops.reduce(f,h)},u.prototype.changeLength=function(){return this.reduce(function(f,h){return h.insert?f+c.length(h):h.delete?f-h.delete:f},0)},u.prototype.length=function(){return this.reduce(function(f,h){return f+c.length(h)},0)},u.prototype.slice=function(f,h){f=f||0,typeof h!="number"&&(h=1/0);for(var p=[],v=c.iterator(this.ops),w=0;w<h&&v.hasNext();){var b;w<f?b=v.next(f-w):(b=v.next(h-w),p.push(b)),w+=c.length(b)}return new u(p)},u.prototype.compose=function(f){var h=c.iterator(this.ops),p=c.iterator(f.ops),v=[],w=p.peek();if(w!=null&&typeof w.retain=="number"&&w.attributes==null){for(var b=w.retain;h.peekType()==="insert"&&h.peekLength()<=b;)b-=h.peekLength(),v.push(h.next());w.retain-b>0&&p.next(w.retain-b)}for(var m=new u(v);h.hasNext()||p.hasNext();)if(p.peekType()==="insert")m.push(p.next());else if(h.peekType()==="delete")m.push(h.next());else{var y=Math.min(h.peekLength(),p.peekLength()),_=h.next(y),x=p.next(y);if(typeof x.retain=="number"){var N={};typeof _.retain=="number"?N.retain=y:N.insert=_.insert;var k=c.attributes.compose(_.attributes,x.attributes,typeof _.retain=="number");if(k&&(N.attributes=k),m.push(N),!p.hasNext()&&a(m.ops[m.ops.length-1],N)){var T=new u(h.rest());return m.concat(T).chop()}}else typeof x.delete=="number"&&typeof _.retain=="number"&&m.push(x)}return m.chop()},u.prototype.concat=function(f){var h=new u(this.ops.slice());return f.ops.length>0&&(h.push(f.ops[0]),h.ops=h.ops.concat(f.ops.slice(1))),h},u.prototype.diff=function(f,h){if(this.ops===f.ops)return new u;var p=[this,f].map(function(y){return y.map(function(_){if(_.insert!=null)return typeof _.insert=="string"?_.insert:d;var x=y===f?"on":"with";throw new Error("diff() called "+x+" non-document")}).join("")}),v=new u,w=s(p[0],p[1],h),b=c.iterator(this.ops),m=c.iterator(f.ops);return w.forEach(function(y){for(var _=y[1].length;_>0;){var x=0;switch(y[0]){case s.INSERT:x=Math.min(m.peekLength(),_),v.push(m.next(x));break;case s.DELETE:x=Math.min(_,b.peekLength()),b.next(x),v.delete(x);break;case s.EQUAL:x=Math.min(b.peekLength(),m.peekLength(),_);var N=b.next(x),k=m.next(x);a(N.insert,k.insert)?v.retain(x,c.attributes.diff(N.attributes,k.attributes)):v.push(k).delete(x);break}_-=x}}),v.chop()},u.prototype.eachLine=function(f,h){h=h||`
`;for(var p=c.iterator(this.ops),v=new u,w=0;p.hasNext();){if(p.peekType()!=="insert")return;var b=p.peek(),m=c.length(b)-p.peekLength(),y=typeof b.insert=="string"?b.insert.indexOf(h,m)-m:-1;if(y<0)v.push(p.next());else if(y>0)v.push(p.next(y));else{if(f(v,p.next(1).attributes||{},w)===!1)return;w+=1,v=new u}}v.length()>0&&f(v,{},w)},u.prototype.transform=function(f,h){if(h=!!h,typeof f=="number")return this.transformPosition(f,h);for(var p=c.iterator(this.ops),v=c.iterator(f.ops),w=new u;p.hasNext()||v.hasNext();)if(p.peekType()==="insert"&&(h||v.peekType()!=="insert"))w.retain(c.length(p.next()));else if(v.peekType()==="insert")w.push(v.next());else{var b=Math.min(p.peekLength(),v.peekLength()),m=p.next(b),y=v.next(b);if(m.delete)continue;y.delete?w.push(y):w.retain(b,c.attributes.transform(m.attributes,y.attributes,h))}return w.chop()},u.prototype.transformPosition=function(f,h){h=!!h;for(var p=c.iterator(this.ops),v=0;p.hasNext()&&v<=f;){var w=p.peekLength(),b=p.peekType();if(p.next(),b==="delete"){f-=Math.min(w,f-v);continue}else b==="insert"&&(v<f||!h)&&(f+=w);v+=w}return f},t.exports=u},function(t,i){var r=Object.prototype.hasOwnProperty,s=Object.prototype.toString,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,c=function(p){return typeof Array.isArray=="function"?Array.isArray(p):s.call(p)==="[object Array]"},d=function(p){if(!p||s.call(p)!=="[object Object]")return!1;var v=r.call(p,"constructor"),w=p.constructor&&p.constructor.prototype&&r.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!v&&!w)return!1;var b;for(b in p);return typeof b>"u"||r.call(p,b)},u=function(p,v){a&&v.name==="__proto__"?a(p,v.name,{enumerable:!0,configurable:!0,value:v.newValue,writable:!0}):p[v.name]=v.newValue},f=function(p,v){if(v==="__proto__")if(r.call(p,v)){if(o)return o(p,v).value}else return;return p[v]};t.exports=function h(){var p,v,w,b,m,y,_=arguments[0],x=1,N=arguments.length,k=!1;for(typeof _=="boolean"&&(k=_,_=arguments[1]||{},x=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});x<N;++x)if(p=arguments[x],p!=null)for(v in p)w=f(_,v),b=f(p,v),_!==b&&(k&&b&&(d(b)||(m=c(b)))?(m?(m=!1,y=w&&c(w)?w:[]):y=w&&d(w)?w:{},u(_,{name:v,newValue:h(k,y,b)})):typeof b<"u"&&u(_,{name:v,newValue:b}));return _}},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.BlockEmbed=i.bubbleFormats=void 0;var s=function(){function E(A,I){for(var R=0;R<I.length;R++){var M=I[R];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(A,M.key,M)}}return function(A,I,R){return I&&E(A.prototype,I),R&&E(A,R),A}}(),a=function E(A,I,R){A===null&&(A=Function.prototype);var M=Object.getOwnPropertyDescriptor(A,I);if(M===void 0){var Y=Object.getPrototypeOf(A);return Y===null?void 0:E(Y,I,R)}else{if("value"in M)return M.value;var q=M.get;return q===void 0?void 0:q.call(R)}},o=r(3),c=_(o),d=r(2),u=_(d),f=r(0),h=_(f),p=r(16),v=_(p),w=r(6),b=_(w),m=r(7),y=_(m);function _(E){return E&&E.__esModule?E:{default:E}}function x(E,A){if(!(E instanceof A))throw new TypeError("Cannot call a class as a function")}function N(E,A){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:E}function k(E,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);E.prototype=Object.create(A&&A.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(E,A):E.__proto__=A)}var T=1,C=function(E){k(A,E);function A(){return x(this,A),N(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return s(A,[{key:"attach",value:function(){a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"attach",this).call(this),this.attributes=new h.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new u.default().insert(this.value(),(0,c.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(R,M){var Y=h.default.query(R,h.default.Scope.BLOCK_ATTRIBUTE);Y!=null&&this.attributes.attribute(Y,M)}},{key:"formatAt",value:function(R,M,Y,q){this.format(Y,q)}},{key:"insertAt",value:function(R,M,Y){if(typeof M=="string"&&M.endsWith(`
`)){var q=h.default.create(P.blotName);this.parent.insertBefore(q,R===0?this:this.next),q.insertAt(0,M.slice(0,-1))}else a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,R,M,Y)}}]),A}(h.default.Embed);C.scope=h.default.Scope.BLOCK_BLOT;var P=function(E){k(A,E);function A(I){x(this,A);var R=N(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,I));return R.cache={},R}return s(A,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(h.default.Leaf).reduce(function(R,M){return M.length()===0?R:R.insert(M.value(),D(M))},new u.default).insert(`
`,D(this))),this.cache.delta}},{key:"deleteAt",value:function(R,M){a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"deleteAt",this).call(this,R,M),this.cache={}}},{key:"formatAt",value:function(R,M,Y,q){M<=0||(h.default.query(Y,h.default.Scope.BLOCK)?R+M===this.length()&&this.format(Y,q):a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"formatAt",this).call(this,R,Math.min(M,this.length()-R-1),Y,q),this.cache={})}},{key:"insertAt",value:function(R,M,Y){if(Y!=null)return a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,R,M,Y);if(M.length!==0){var q=M.split(`
`),G=q.shift();G.length>0&&(R<this.length()-1||this.children.tail==null?a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,Math.min(R,this.length()-1),G):this.children.tail.insertAt(this.children.tail.length(),G),this.cache={});var B=this;q.reduce(function(J,W){return B=B.split(J,!0),B.insertAt(0,W),W.length},R+G.length)}}},{key:"insertBefore",value:function(R,M){var Y=this.children.head;a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertBefore",this).call(this,R,M),Y instanceof v.default&&Y.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"length",this).call(this)+T),this.cache.length}},{key:"moveChildren",value:function(R,M){a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"moveChildren",this).call(this,R,M),this.cache={}}},{key:"optimize",value:function(R){a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,R),this.cache={}}},{key:"path",value:function(R){return a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"path",this).call(this,R,!0)}},{key:"removeChild",value:function(R){a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"removeChild",this).call(this,R),this.cache={}}},{key:"split",value:function(R){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(M&&(R===0||R>=this.length()-T)){var Y=this.clone();return R===0?(this.parent.insertBefore(Y,this),this):(this.parent.insertBefore(Y,this.next),Y)}else{var q=a(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"split",this).call(this,R,M);return this.cache={},q}}}]),A}(h.default.Block);P.blotName="block",P.tagName="P",P.defaultChild="break",P.allowedChildren=[b.default,h.default.Embed,y.default];function D(E){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return E==null||(typeof E.formats=="function"&&(A=(0,c.default)(A,E.formats())),E.parent==null||E.parent.blotName=="scroll"||E.parent.statics.scope!==E.statics.scope)?A:D(E.parent,A)}i.bubbleFormats=D,i.BlockEmbed=C,i.default=P},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.overload=i.expandConfig=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},a=function(){function B(J,W){var L=[],z=!0,X=!1,Q=void 0;try{for(var V=J[Symbol.iterator](),Z;!(z=(Z=V.next()).done)&&(L.push(Z.value),!(W&&L.length===W));z=!0);}catch(_e){X=!0,Q=_e}finally{try{!z&&V.return&&V.return()}finally{if(X)throw Q}}return L}return function(J,W){if(Array.isArray(J))return J;if(Symbol.iterator in Object(J))return B(J,W);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function B(J,W){for(var L=0;L<W.length;L++){var z=W[L];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(J,z.key,z)}}return function(J,W,L){return W&&B(J.prototype,W),L&&B(J,L),J}}();r(50);var c=r(2),d=D(c),u=r(14),f=D(u),h=r(8),p=D(h),v=r(9),w=D(v),b=r(0),m=D(b),y=r(15),_=D(y),x=r(3),N=D(x),k=r(10),T=D(k),C=r(34),P=D(C);function D(B){return B&&B.__esModule?B:{default:B}}function E(B,J,W){return J in B?Object.defineProperty(B,J,{value:W,enumerable:!0,configurable:!0,writable:!0}):B[J]=W,B}function A(B,J){if(!(B instanceof J))throw new TypeError("Cannot call a class as a function")}var I=(0,T.default)("quill"),R=function(){o(B,null,[{key:"debug",value:function(W){W===!0&&(W="log"),T.default.level(W)}},{key:"find",value:function(W){return W.__quill||m.default.find(W)}},{key:"import",value:function(W){return this.imports[W]==null&&I.error("Cannot import "+W+". Are you sure it was registered?"),this.imports[W]}},{key:"register",value:function(W,L){var z=this,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof W!="string"){var Q=W.attrName||W.blotName;typeof Q=="string"?this.register("formats/"+Q,W,L):Object.keys(W).forEach(function(V){z.register(V,W[V],L)})}else this.imports[W]!=null&&!X&&I.warn("Overwriting "+W+" with",L),this.imports[W]=L,(W.startsWith("blots/")||W.startsWith("formats/"))&&L.blotName!=="abstract"?m.default.register(L):W.startsWith("modules")&&typeof L.register=="function"&&L.register()}}]);function B(J){var W=this,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(A(this,B),this.options=M(J,L),this.container=this.options.container,this.container==null)return I.error("Invalid Quill container",J);this.options.debug&&B.debug(this.options.debug);var z=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=m.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new _.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(Q){Q===p.default.events.TEXT_CHANGE&&W.root.classList.toggle("ql-blank",W.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(Q,V){var Z=W.selection.lastRange,_e=Z&&Z.length===0?Z.index:void 0;Y.call(W,function(){return W.editor.update(null,V,_e)},Q)});var X=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+z+"<p><br></p></div>");this.setContents(X),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return o(B,[{key:"addContainer",value:function(W){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof W=="string"){var z=W;W=document.createElement("div"),W.classList.add(z)}return this.container.insertBefore(W,L),W}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(W,L,z){var X=this,Q=q(W,L,z),V=a(Q,4);return W=V[0],L=V[1],z=V[3],Y.call(this,function(){return X.editor.deleteText(W,L)},z,W,-1*L)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(W),this.container.classList.toggle("ql-disabled",!W)}},{key:"focus",value:function(){var W=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=W,this.scrollIntoView()}},{key:"format",value:function(W,L){var z=this,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return Y.call(this,function(){var Q=z.getSelection(!0),V=new d.default;if(Q==null)return V;if(m.default.query(W,m.default.Scope.BLOCK))V=z.editor.formatLine(Q.index,Q.length,E({},W,L));else{if(Q.length===0)return z.selection.format(W,L),V;V=z.editor.formatText(Q.index,Q.length,E({},W,L))}return z.setSelection(Q,p.default.sources.SILENT),V},X)}},{key:"formatLine",value:function(W,L,z,X,Q){var V=this,Z=void 0,_e=q(W,L,z,X,Q),le=a(_e,4);return W=le[0],L=le[1],Z=le[2],Q=le[3],Y.call(this,function(){return V.editor.formatLine(W,L,Z)},Q,W,0)}},{key:"formatText",value:function(W,L,z,X,Q){var V=this,Z=void 0,_e=q(W,L,z,X,Q),le=a(_e,4);return W=le[0],L=le[1],Z=le[2],Q=le[3],Y.call(this,function(){return V.editor.formatText(W,L,Z)},Q,W,0)}},{key:"getBounds",value:function(W){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,z=void 0;typeof W=="number"?z=this.selection.getBounds(W,L):z=this.selection.getBounds(W.index,W.length);var X=this.container.getBoundingClientRect();return{bottom:z.bottom-X.top,height:z.height,left:z.left-X.left,right:z.right-X.left,top:z.top-X.top,width:z.width}}},{key:"getContents",value:function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-W,z=q(W,L),X=a(z,2);return W=X[0],L=X[1],this.editor.getContents(W,L)}},{key:"getFormat",value:function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof W=="number"?this.editor.getFormat(W,L):this.editor.getFormat(W.index,W.length)}},{key:"getIndex",value:function(W){return W.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(W){return this.scroll.leaf(W)}},{key:"getLine",value:function(W){return this.scroll.line(W)}},{key:"getLines",value:function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof W!="number"?this.scroll.lines(W.index,W.length):this.scroll.lines(W,L)}},{key:"getModule",value:function(W){return this.theme.modules[W]}},{key:"getSelection",value:function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return W&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-W,z=q(W,L),X=a(z,2);return W=X[0],L=X[1],this.editor.getText(W,L)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(W,L,z){var X=this,Q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:B.sources.API;return Y.call(this,function(){return X.editor.insertEmbed(W,L,z)},Q,W)}},{key:"insertText",value:function(W,L,z,X,Q){var V=this,Z=void 0,_e=q(W,0,z,X,Q),le=a(_e,4);return W=le[0],Z=le[2],Q=le[3],Y.call(this,function(){return V.editor.insertText(W,L,Z)},Q,W,L.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(W,L,z){this.clipboard.dangerouslyPasteHTML(W,L,z)}},{key:"removeFormat",value:function(W,L,z){var X=this,Q=q(W,L,z),V=a(Q,4);return W=V[0],L=V[1],z=V[3],Y.call(this,function(){return X.editor.removeFormat(W,L)},z,W)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(W){var L=this,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return Y.call(this,function(){W=new d.default(W);var X=L.getLength(),Q=L.editor.deleteText(0,X),V=L.editor.applyDelta(W),Z=V.ops[V.ops.length-1];Z!=null&&typeof Z.insert=="string"&&Z.insert[Z.insert.length-1]===`
`&&(L.editor.deleteText(L.getLength()-1,1),V.delete(1));var _e=Q.compose(V);return _e},z)}},{key:"setSelection",value:function(W,L,z){if(W==null)this.selection.setRange(null,L||B.sources.API);else{var X=q(W,L,z),Q=a(X,4);W=Q[0],L=Q[1],z=Q[3],this.selection.setRange(new y.Range(W,L),z),z!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(W){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,z=new d.default().insert(W);return this.setContents(z,L)}},{key:"update",value:function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,L=this.scroll.update(W);return this.selection.update(W),L}},{key:"updateContents",value:function(W){var L=this,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return Y.call(this,function(){return W=new d.default(W),L.editor.applyDelta(W,z)},z,!0)}}]),B}();R.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},R.events=p.default.events,R.sources=p.default.sources,R.version="1.3.7",R.imports={delta:d.default,parchment:m.default,"core/module":w.default,"core/theme":P.default};function M(B,J){if(J=(0,N.default)(!0,{container:B,modules:{clipboard:!0,keyboard:!0,history:!0}},J),!J.theme||J.theme===R.DEFAULTS.theme)J.theme=P.default;else if(J.theme=R.import("themes/"+J.theme),J.theme==null)throw new Error("Invalid theme "+J.theme+". Did you register it?");var W=(0,N.default)(!0,{},J.theme.DEFAULTS);[W,J].forEach(function(X){X.modules=X.modules||{},Object.keys(X.modules).forEach(function(Q){X.modules[Q]===!0&&(X.modules[Q]={})})});var L=Object.keys(W.modules).concat(Object.keys(J.modules)),z=L.reduce(function(X,Q){var V=R.import("modules/"+Q);return V==null?I.error("Cannot load "+Q+" module. Are you sure you registered it?"):X[Q]=V.DEFAULTS||{},X},{});return J.modules!=null&&J.modules.toolbar&&J.modules.toolbar.constructor!==Object&&(J.modules.toolbar={container:J.modules.toolbar}),J=(0,N.default)(!0,{},R.DEFAULTS,{modules:z},W,J),["bounds","container","scrollingContainer"].forEach(function(X){typeof J[X]=="string"&&(J[X]=document.querySelector(J[X]))}),J.modules=Object.keys(J.modules).reduce(function(X,Q){return J.modules[Q]&&(X[Q]=J.modules[Q]),X},{}),J}function Y(B,J,W,L){if(this.options.strict&&!this.isEnabled()&&J===p.default.sources.USER)return new d.default;var z=W==null?null:this.getSelection(),X=this.editor.delta,Q=B();if(z!=null&&(W===!0&&(W=z.index),L==null?z=G(z,Q,J):L!==0&&(z=G(z,W,L,J)),this.setSelection(z,p.default.sources.SILENT)),Q.length()>0){var V,Z=[p.default.events.TEXT_CHANGE,Q,X,J];if((V=this.emitter).emit.apply(V,[p.default.events.EDITOR_CHANGE].concat(Z)),J!==p.default.sources.SILENT){var _e;(_e=this.emitter).emit.apply(_e,Z)}}return Q}function q(B,J,W,L,z){var X={};return typeof B.index=="number"&&typeof B.length=="number"?typeof J!="number"?(z=L,L=W,W=J,J=B.length,B=B.index):(J=B.length,B=B.index):typeof J!="number"&&(z=L,L=W,W=J,J=0),(typeof W>"u"?"undefined":s(W))==="object"?(X=W,z=L):typeof W=="string"&&(L!=null?X[W]=L:z=W),z=z||p.default.sources.API,[B,J,X,z]}function G(B,J,W,L){if(B==null)return null;var z=void 0,X=void 0;if(J instanceof d.default){var Q=[B.index,B.index+B.length].map(function(le){return J.transformPosition(le,L!==p.default.sources.USER)}),V=a(Q,2);z=V[0],X=V[1]}else{var Z=[B.index,B.index+B.length].map(function(le){return le<J||le===J&&L===p.default.sources.USER?le:W>=0?le+W:Math.max(J,le+W)}),_e=a(Z,2);z=_e[0],X=_e[1]}return new y.Range(z,X-z)}i.expandConfig=M,i.overload=q,i.default=R},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function b(m,y){for(var _=0;_<y.length;_++){var x=y[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,x.key,x)}}return function(m,y,_){return y&&b(m.prototype,y),_&&b(m,_),m}}(),a=function b(m,y,_){m===null&&(m=Function.prototype);var x=Object.getOwnPropertyDescriptor(m,y);if(x===void 0){var N=Object.getPrototypeOf(m);return N===null?void 0:b(N,y,_)}else{if("value"in x)return x.value;var k=x.get;return k===void 0?void 0:k.call(_)}},o=r(7),c=f(o),d=r(0),u=f(d);function f(b){return b&&b.__esModule?b:{default:b}}function h(b,m){if(!(b instanceof m))throw new TypeError("Cannot call a class as a function")}function p(b,m){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:b}function v(b,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);b.prototype=Object.create(m&&m.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(b,m):b.__proto__=m)}var w=function(b){v(m,b);function m(){return h(this,m),p(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return s(m,[{key:"formatAt",value:function(_,x,N,k){if(m.compare(this.statics.blotName,N)<0&&u.default.query(N,u.default.Scope.BLOT)){var T=this.isolate(_,x);k&&T.wrap(N,k)}else a(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"formatAt",this).call(this,_,x,N,k)}},{key:"optimize",value:function(_){if(a(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"optimize",this).call(this,_),this.parent instanceof m&&m.compare(this.statics.blotName,this.parent.statics.blotName)>0){var x=this.parent.isolate(this.offset(),this.length());this.moveChildren(x),x.wrap(this)}}}],[{key:"compare",value:function(_,x){var N=m.order.indexOf(_),k=m.order.indexOf(x);return N>=0||k>=0?N-k:_===x?0:_<x?-1:1}}]),m}(u.default.Inline);w.allowedChildren=[w,u.default.Embed,c.default],w.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],i.default=w},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(0),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}function c(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function d(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=function(h){u(p,h);function p(){return c(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(a.default.Text);i.default=f},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function y(_,x){for(var N=0;N<x.length;N++){var k=x[N];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(_,k.key,k)}}return function(_,x,N){return x&&y(_.prototype,x),N&&y(_,N),_}}(),a=function y(_,x,N){_===null&&(_=Function.prototype);var k=Object.getOwnPropertyDescriptor(_,x);if(k===void 0){var T=Object.getPrototypeOf(_);return T===null?void 0:y(T,x,N)}else{if("value"in k)return k.value;var C=k.get;return C===void 0?void 0:C.call(N)}},o=r(54),c=f(o),d=r(10),u=f(d);function f(y){return y&&y.__esModule?y:{default:y}}function h(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}function p(y,_){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:y}function v(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);y.prototype=Object.create(_&&_.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(y,_):y.__proto__=_)}var w=(0,u.default)("quill:events"),b=["selectionchange","mousedown","mouseup","click"];b.forEach(function(y){document.addEventListener(y,function(){for(var _=arguments.length,x=Array(_),N=0;N<_;N++)x[N]=arguments[N];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(k){if(k.__quill&&k.__quill.emitter){var T;(T=k.__quill.emitter).handleDOM.apply(T,x)}})})});var m=function(y){v(_,y);function _(){h(this,_);var x=p(this,(_.__proto__||Object.getPrototypeOf(_)).call(this));return x.listeners={},x.on("error",w.error),x}return s(_,[{key:"emit",value:function(){w.log.apply(w,arguments),a(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(N){for(var k=arguments.length,T=Array(k>1?k-1:0),C=1;C<k;C++)T[C-1]=arguments[C];(this.listeners[N.type]||[]).forEach(function(P){var D=P.node,E=P.handler;(N.target===D||D.contains(N.target))&&E.apply(void 0,[N].concat(T))})}},{key:"listenDOM",value:function(N,k,T){this.listeners[N]||(this.listeners[N]=[]),this.listeners[N].push({node:k,handler:T})}}]),_}(c.default);m.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},m.sources={API:"api",SILENT:"silent",USER:"user"},i.default=m},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});function s(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")}var a=function o(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s(this,o),this.quill=c,this.options=d};a.DEFAULTS={},i.default=a},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=["error","warn","log","info"],a="warn";function o(d){if(s.indexOf(d)<=s.indexOf(a)){for(var u,f=arguments.length,h=Array(f>1?f-1:0),p=1;p<f;p++)h[p-1]=arguments[p];(u=console)[d].apply(u,h)}}function c(d){return s.reduce(function(u,f){return u[f]=o.bind(console,f,d),u},{})}o.level=c.level=function(d){a=d},i.default=c},function(t,i,r){var s=Array.prototype.slice,a=r(52),o=r(53),c=t.exports=function(h,p,v){return v||(v={}),h===p?!0:h instanceof Date&&p instanceof Date?h.getTime()===p.getTime():!h||!p||typeof h!="object"&&typeof p!="object"?v.strict?h===p:h==p:f(h,p,v)};function d(h){return h==null}function u(h){return!(!h||typeof h!="object"||typeof h.length!="number"||typeof h.copy!="function"||typeof h.slice!="function"||h.length>0&&typeof h[0]!="number")}function f(h,p,v){var w,b;if(d(h)||d(p)||h.prototype!==p.prototype)return!1;if(o(h))return o(p)?(h=s.call(h),p=s.call(p),c(h,p,v)):!1;if(u(h)){if(!u(p)||h.length!==p.length)return!1;for(w=0;w<h.length;w++)if(h[w]!==p[w])return!1;return!0}try{var m=a(h),y=a(p)}catch{return!1}if(m.length!=y.length)return!1;for(m.sort(),y.sort(),w=m.length-1;w>=0;w--)if(m[w]!=y[w])return!1;for(w=m.length-1;w>=0;w--)if(b=m[w],!c(h[b],p[b],v))return!1;return typeof h==typeof p}},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(1),a=function(){function o(c,d,u){u===void 0&&(u={}),this.attrName=c,this.keyName=d;var f=s.Scope.TYPE&s.Scope.ATTRIBUTE;u.scope!=null?this.scope=u.scope&s.Scope.LEVEL|f:this.scope=s.Scope.ATTRIBUTE,u.whitelist!=null&&(this.whitelist=u.whitelist)}return o.keys=function(c){return[].map.call(c.attributes,function(d){return d.name})},o.prototype.add=function(c,d){return this.canAdd(c,d)?(c.setAttribute(this.keyName,d),!0):!1},o.prototype.canAdd=function(c,d){var u=s.query(c,s.Scope.BLOT&(this.scope|s.Scope.TYPE));return u==null?!1:this.whitelist==null?!0:typeof d=="string"?this.whitelist.indexOf(d.replace(/["']/g,""))>-1:this.whitelist.indexOf(d)>-1},o.prototype.remove=function(c){c.removeAttribute(this.keyName)},o.prototype.value=function(c){var d=c.getAttribute(this.keyName);return this.canAdd(c,d)&&d?d:""},o}();i.default=a},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.Code=void 0;var s=function(){function C(P,D){var E=[],A=!0,I=!1,R=void 0;try{for(var M=P[Symbol.iterator](),Y;!(A=(Y=M.next()).done)&&(E.push(Y.value),!(D&&E.length===D));A=!0);}catch(q){I=!0,R=q}finally{try{!A&&M.return&&M.return()}finally{if(I)throw R}}return E}return function(P,D){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return C(P,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function C(P,D){for(var E=0;E<D.length;E++){var A=D[E];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(P,A.key,A)}}return function(P,D,E){return D&&C(P.prototype,D),E&&C(P,E),P}}(),o=function C(P,D,E){P===null&&(P=Function.prototype);var A=Object.getOwnPropertyDescriptor(P,D);if(A===void 0){var I=Object.getPrototypeOf(P);return I===null?void 0:C(I,D,E)}else{if("value"in A)return A.value;var R=A.get;return R===void 0?void 0:R.call(E)}},c=r(2),d=y(c),u=r(0),f=y(u),h=r(4),p=y(h),v=r(6),w=y(v),b=r(7),m=y(b);function y(C){return C&&C.__esModule?C:{default:C}}function _(C,P){if(!(C instanceof P))throw new TypeError("Cannot call a class as a function")}function x(C,P){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P&&(typeof P=="object"||typeof P=="function")?P:C}function N(C,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);C.prototype=Object.create(P&&P.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(C,P):C.__proto__=P)}var k=function(C){N(P,C);function P(){return _(this,P),x(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return P}(w.default);k.blotName="code",k.tagName="CODE";var T=function(C){N(P,C);function P(){return _(this,P),x(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return a(P,[{key:"delta",value:function(){var E=this,A=this.domNode.textContent;return A.endsWith(`
`)&&(A=A.slice(0,-1)),A.split(`
`).reduce(function(I,R){return I.insert(R).insert(`
`,E.formats())},new d.default)}},{key:"format",value:function(E,A){if(!(E===this.statics.blotName&&A)){var I=this.descendant(m.default,this.length()-1),R=s(I,1),M=R[0];M!=null&&M.deleteAt(M.length()-1,1),o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"format",this).call(this,E,A)}}},{key:"formatAt",value:function(E,A,I,R){if(A!==0&&!(f.default.query(I,f.default.Scope.BLOCK)==null||I===this.statics.blotName&&R===this.statics.formats(this.domNode))){var M=this.newlineIndex(E);if(!(M<0||M>=E+A)){var Y=this.newlineIndex(E,!0)+1,q=M-Y+1,G=this.isolate(Y,q),B=G.next;G.format(I,R),B instanceof P&&B.formatAt(0,E-Y+A-q,I,R)}}}},{key:"insertAt",value:function(E,A,I){if(I==null){var R=this.descendant(m.default,E),M=s(R,2),Y=M[0],q=M[1];Y.insertAt(q,A)}}},{key:"length",value:function(){var E=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?E:E+1}},{key:"newlineIndex",value:function(E){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(A)return this.domNode.textContent.slice(0,E).lastIndexOf(`
`);var I=this.domNode.textContent.slice(E).indexOf(`
`);return I>-1?E+I:-1}},{key:"optimize",value:function(E){this.domNode.textContent.endsWith(`
`)||this.appendChild(f.default.create("text",`
`)),o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,E);var A=this.next;A!=null&&A.prev===this&&A.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===A.statics.formats(A.domNode)&&(A.optimize(E),A.moveChildren(this),A.remove())}},{key:"replace",value:function(E){o(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"replace",this).call(this,E),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(A){var I=f.default.find(A);I==null?A.parentNode.removeChild(A):I instanceof f.default.Embed?I.remove():I.unwrap()})}}],[{key:"create",value:function(E){var A=o(P.__proto__||Object.getPrototypeOf(P),"create",this).call(this,E);return A.setAttribute("spellcheck",!1),A}},{key:"formats",value:function(){return!0}}]),P}(p.default);T.blotName="code-block",T.tagName="PRE",T.TAB="  ",i.Code=k,i.default=T},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},a=function(){function B(J,W){var L=[],z=!0,X=!1,Q=void 0;try{for(var V=J[Symbol.iterator](),Z;!(z=(Z=V.next()).done)&&(L.push(Z.value),!(W&&L.length===W));z=!0);}catch(_e){X=!0,Q=_e}finally{try{!z&&V.return&&V.return()}finally{if(X)throw Q}}return L}return function(J,W){if(Array.isArray(J))return J;if(Symbol.iterator in Object(J))return B(J,W);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function B(J,W){for(var L=0;L<W.length;L++){var z=W[L];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(J,z.key,z)}}return function(J,W,L){return W&&B(J.prototype,W),L&&B(J,L),J}}(),c=r(2),d=A(c),u=r(20),f=A(u),h=r(0),p=A(h),v=r(13),w=A(v),b=r(24),m=A(b),y=r(4),_=A(y),x=r(16),N=A(x),k=r(21),T=A(k),C=r(11),P=A(C),D=r(3),E=A(D);function A(B){return B&&B.__esModule?B:{default:B}}function I(B,J,W){return J in B?Object.defineProperty(B,J,{value:W,enumerable:!0,configurable:!0,writable:!0}):B[J]=W,B}function R(B,J){if(!(B instanceof J))throw new TypeError("Cannot call a class as a function")}var M=/^[ -~]*$/,Y=function(){function B(J){R(this,B),this.scroll=J,this.delta=this.getDelta()}return o(B,[{key:"applyDelta",value:function(W){var L=this,z=!1;this.scroll.update();var X=this.scroll.length();return this.scroll.batchStart(),W=G(W),W.reduce(function(Q,V){var Z=V.retain||V.delete||V.insert.length||1,_e=V.attributes||{};if(V.insert!=null){if(typeof V.insert=="string"){var le=V.insert;le.endsWith(`
`)&&z&&(z=!1,le=le.slice(0,-1)),Q>=X&&!le.endsWith(`
`)&&(z=!0),L.scroll.insertAt(Q,le);var ce=L.scroll.line(Q),Fe=a(ce,2),Ae=Fe[0],Re=Fe[1],Ve=(0,E.default)({},(0,y.bubbleFormats)(Ae));if(Ae instanceof _.default){var fe=Ae.descendant(p.default.Leaf,Re),Je=a(fe,1),je=Je[0];Ve=(0,E.default)(Ve,(0,y.bubbleFormats)(je))}_e=f.default.attributes.diff(Ve,_e)||{}}else if(s(V.insert)==="object"){var Ce=Object.keys(V.insert)[0];if(Ce==null)return Q;L.scroll.insertAt(Q,Ce,V.insert[Ce])}X+=Z}return Object.keys(_e).forEach(function($){L.scroll.formatAt(Q,Z,$,_e[$])}),Q+Z},0),W.reduce(function(Q,V){return typeof V.delete=="number"?(L.scroll.deleteAt(Q,V.delete),Q):Q+(V.retain||V.insert.length||1)},0),this.scroll.batchEnd(),this.update(W)}},{key:"deleteText",value:function(W,L){return this.scroll.deleteAt(W,L),this.update(new d.default().retain(W).delete(L))}},{key:"formatLine",value:function(W,L){var z=this,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(X).forEach(function(Q){if(!(z.scroll.whitelist!=null&&!z.scroll.whitelist[Q])){var V=z.scroll.lines(W,Math.max(L,1)),Z=L;V.forEach(function(_e){var le=_e.length();if(!(_e instanceof w.default))_e.format(Q,X[Q]);else{var ce=W-_e.offset(z.scroll),Fe=_e.newlineIndex(ce+Z)-ce+1;_e.formatAt(ce,Fe,Q,X[Q])}Z-=le})}}),this.scroll.optimize(),this.update(new d.default().retain(W).retain(L,(0,T.default)(X)))}},{key:"formatText",value:function(W,L){var z=this,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(X).forEach(function(Q){z.scroll.formatAt(W,L,Q,X[Q])}),this.update(new d.default().retain(W).retain(L,(0,T.default)(X)))}},{key:"getContents",value:function(W,L){return this.delta.slice(W,W+L)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(W,L){return W.concat(L.delta())},new d.default)}},{key:"getFormat",value:function(W){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,z=[],X=[];L===0?this.scroll.path(W).forEach(function(V){var Z=a(V,1),_e=Z[0];_e instanceof _.default?z.push(_e):_e instanceof p.default.Leaf&&X.push(_e)}):(z=this.scroll.lines(W,L),X=this.scroll.descendants(p.default.Leaf,W,L));var Q=[z,X].map(function(V){if(V.length===0)return{};for(var Z=(0,y.bubbleFormats)(V.shift());Object.keys(Z).length>0;){var _e=V.shift();if(_e==null)return Z;Z=q((0,y.bubbleFormats)(_e),Z)}return Z});return E.default.apply(E.default,Q)}},{key:"getText",value:function(W,L){return this.getContents(W,L).filter(function(z){return typeof z.insert=="string"}).map(function(z){return z.insert}).join("")}},{key:"insertEmbed",value:function(W,L,z){return this.scroll.insertAt(W,L,z),this.update(new d.default().retain(W).insert(I({},L,z)))}},{key:"insertText",value:function(W,L){var z=this,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return L=L.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(W,L),Object.keys(X).forEach(function(Q){z.scroll.formatAt(W,L.length,Q,X[Q])}),this.update(new d.default().retain(W).insert(L,(0,T.default)(X)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var W=this.scroll.children.head;return W.statics.blotName!==_.default.blotName||W.children.length>1?!1:W.children.head instanceof N.default}},{key:"removeFormat",value:function(W,L){var z=this.getText(W,L),X=this.scroll.line(W+L),Q=a(X,2),V=Q[0],Z=Q[1],_e=0,le=new d.default;V!=null&&(V instanceof w.default?_e=V.newlineIndex(Z)-Z+1:_e=V.length()-Z,le=V.delta().slice(Z,Z+_e-1).insert(`
`));var ce=this.getContents(W,L+_e),Fe=ce.diff(new d.default().insert(z).concat(le)),Ae=new d.default().retain(W).concat(Fe);return this.applyDelta(Ae)}},{key:"update",value:function(W){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,X=this.delta;if(L.length===1&&L[0].type==="characterData"&&L[0].target.data.match(M)&&p.default.find(L[0].target)){var Q=p.default.find(L[0].target),V=(0,y.bubbleFormats)(Q),Z=Q.offset(this.scroll),_e=L[0].oldValue.replace(m.default.CONTENTS,""),le=new d.default().insert(_e),ce=new d.default().insert(Q.value()),Fe=new d.default().retain(Z).concat(le.diff(ce,z));W=Fe.reduce(function(Ae,Re){return Re.insert?Ae.insert(Re.insert,V):Ae.push(Re)},new d.default),this.delta=X.compose(W)}else this.delta=this.getDelta(),(!W||!(0,P.default)(X.compose(W),this.delta))&&(W=X.diff(this.delta,z));return W}}]),B}();function q(B,J){return Object.keys(J).reduce(function(W,L){return B[L]==null||(J[L]===B[L]?W[L]=J[L]:Array.isArray(J[L])?J[L].indexOf(B[L])<0&&(W[L]=J[L].concat([B[L]])):W[L]=[J[L],B[L]]),W},{})}function G(B){return B.reduce(function(J,W){if(W.insert===1){var L=(0,T.default)(W.attributes);return delete L.image,J.insert({image:W.attributes.image},L)}if(W.attributes!=null&&(W.attributes.list===!0||W.attributes.bullet===!0)&&(W=(0,T.default)(W),W.attributes.list?W.attributes.list="ordered":(W.attributes.list="bullet",delete W.attributes.bullet)),typeof W.insert=="string"){var z=W.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return J.insert(z,W.attributes)}return J.push(W)},new d.default)}i.default=Y},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.Range=void 0;var s=function(){function C(P,D){var E=[],A=!0,I=!1,R=void 0;try{for(var M=P[Symbol.iterator](),Y;!(A=(Y=M.next()).done)&&(E.push(Y.value),!(D&&E.length===D));A=!0);}catch(q){I=!0,R=q}finally{try{!A&&M.return&&M.return()}finally{if(I)throw R}}return E}return function(P,D){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return C(P,D);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function C(P,D){for(var E=0;E<D.length;E++){var A=D[E];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(P,A.key,A)}}return function(P,D,E){return D&&C(P.prototype,D),E&&C(P,E),P}}(),o=r(0),c=m(o),d=r(21),u=m(d),f=r(11),h=m(f),p=r(8),v=m(p),w=r(10),b=m(w);function m(C){return C&&C.__esModule?C:{default:C}}function y(C){if(Array.isArray(C)){for(var P=0,D=Array(C.length);P<C.length;P++)D[P]=C[P];return D}else return Array.from(C)}function _(C,P){if(!(C instanceof P))throw new TypeError("Cannot call a class as a function")}var x=(0,b.default)("quill:selection"),N=function C(P){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;_(this,C),this.index=P,this.length=D},k=function(){function C(P,D){var E=this;_(this,C),this.emitter=D,this.scroll=P,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=c.default.create("cursor",this),this.lastRange=this.savedRange=new N(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){E.mouseDown||setTimeout(E.update.bind(E,v.default.sources.USER),1)}),this.emitter.on(v.default.events.EDITOR_CHANGE,function(A,I){A===v.default.events.TEXT_CHANGE&&I.length()>0&&E.update(v.default.sources.SILENT)}),this.emitter.on(v.default.events.SCROLL_BEFORE_UPDATE,function(){if(E.hasFocus()){var A=E.getNativeRange();A!=null&&A.start.node!==E.cursor.textNode&&E.emitter.once(v.default.events.SCROLL_UPDATE,function(){try{E.setNativeRange(A.start.node,A.start.offset,A.end.node,A.end.offset)}catch{}})}}),this.emitter.on(v.default.events.SCROLL_OPTIMIZE,function(A,I){if(I.range){var R=I.range,M=R.startNode,Y=R.startOffset,q=R.endNode,G=R.endOffset;E.setNativeRange(M,Y,q,G)}}),this.update(v.default.sources.SILENT)}return a(C,[{key:"handleComposition",value:function(){var D=this;this.root.addEventListener("compositionstart",function(){D.composing=!0}),this.root.addEventListener("compositionend",function(){if(D.composing=!1,D.cursor.parent){var E=D.cursor.restore();if(!E)return;setTimeout(function(){D.setNativeRange(E.startNode,E.startOffset,E.endNode,E.endOffset)},1)}})}},{key:"handleDragging",value:function(){var D=this;this.emitter.listenDOM("mousedown",document.body,function(){D.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){D.mouseDown=!1,D.update(v.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(D,E){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[D])){this.scroll.update();var A=this.getNativeRange();if(!(A==null||!A.native.collapsed||c.default.query(D,c.default.Scope.BLOCK))){if(A.start.node!==this.cursor.textNode){var I=c.default.find(A.start.node,!1);if(I==null)return;if(I instanceof c.default.Leaf){var R=I.split(A.start.offset);I.parent.insertBefore(this.cursor,R)}else I.insertBefore(this.cursor,A.start.node);this.cursor.attach()}this.cursor.format(D,E),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(D){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,A=this.scroll.length();D=Math.min(D,A-1),E=Math.min(D+E,A-1)-D;var I=void 0,R=this.scroll.leaf(D),M=s(R,2),Y=M[0],q=M[1];if(Y==null)return null;var G=Y.position(q,!0),B=s(G,2);I=B[0],q=B[1];var J=document.createRange();if(E>0){J.setStart(I,q);var W=this.scroll.leaf(D+E),L=s(W,2);if(Y=L[0],q=L[1],Y==null)return null;var z=Y.position(q,!0),X=s(z,2);return I=X[0],q=X[1],J.setEnd(I,q),J.getBoundingClientRect()}else{var Q="left",V=void 0;return I instanceof Text?(q<I.data.length?(J.setStart(I,q),J.setEnd(I,q+1)):(J.setStart(I,q-1),J.setEnd(I,q),Q="right"),V=J.getBoundingClientRect()):(V=Y.domNode.getBoundingClientRect(),q>0&&(Q="right")),{bottom:V.top+V.height,height:V.height,left:V[Q],right:V[Q],top:V.top,width:0}}}},{key:"getNativeRange",value:function(){var D=document.getSelection();if(D==null||D.rangeCount<=0)return null;var E=D.getRangeAt(0);if(E==null)return null;var A=this.normalizeNative(E);return x.info("getNativeRange",A),A}},{key:"getRange",value:function(){var D=this.getNativeRange();if(D==null)return[null,null];var E=this.normalizedToRange(D);return[E,D]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(D){var E=this,A=[[D.start.node,D.start.offset]];D.native.collapsed||A.push([D.end.node,D.end.offset]);var I=A.map(function(Y){var q=s(Y,2),G=q[0],B=q[1],J=c.default.find(G,!0),W=J.offset(E.scroll);return B===0?W:J instanceof c.default.Container?W+J.length():W+J.index(G,B)}),R=Math.min(Math.max.apply(Math,y(I)),this.scroll.length()-1),M=Math.min.apply(Math,[R].concat(y(I)));return new N(M,R-M)}},{key:"normalizeNative",value:function(D){if(!T(this.root,D.startContainer)||!D.collapsed&&!T(this.root,D.endContainer))return null;var E={start:{node:D.startContainer,offset:D.startOffset},end:{node:D.endContainer,offset:D.endOffset},native:D};return[E.start,E.end].forEach(function(A){for(var I=A.node,R=A.offset;!(I instanceof Text)&&I.childNodes.length>0;)if(I.childNodes.length>R)I=I.childNodes[R],R=0;else if(I.childNodes.length===R)I=I.lastChild,R=I instanceof Text?I.data.length:I.childNodes.length+1;else break;A.node=I,A.offset=R}),E}},{key:"rangeToNative",value:function(D){var E=this,A=D.collapsed?[D.index]:[D.index,D.index+D.length],I=[],R=this.scroll.length();return A.forEach(function(M,Y){M=Math.min(R-1,M);var q=void 0,G=E.scroll.leaf(M),B=s(G,2),J=B[0],W=B[1],L=J.position(W,Y!==0),z=s(L,2);q=z[0],W=z[1],I.push(q,W)}),I.length<2&&(I=I.concat(I)),I}},{key:"scrollIntoView",value:function(D){var E=this.lastRange;if(E!=null){var A=this.getBounds(E.index,E.length);if(A!=null){var I=this.scroll.length()-1,R=this.scroll.line(Math.min(E.index,I)),M=s(R,1),Y=M[0],q=Y;if(E.length>0){var G=this.scroll.line(Math.min(E.index+E.length,I)),B=s(G,1);q=B[0]}if(!(Y==null||q==null)){var J=D.getBoundingClientRect();A.top<J.top?D.scrollTop-=J.top-A.top:A.bottom>J.bottom&&(D.scrollTop+=A.bottom-J.bottom)}}}}},{key:"setNativeRange",value:function(D,E){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:D,I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:E,R=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(x.info("setNativeRange",D,E,A,I),!(D!=null&&(this.root.parentNode==null||D.parentNode==null||A.parentNode==null))){var M=document.getSelection();if(M!=null)if(D!=null){this.hasFocus()||this.root.focus();var Y=(this.getNativeRange()||{}).native;if(Y==null||R||D!==Y.startContainer||E!==Y.startOffset||A!==Y.endContainer||I!==Y.endOffset){D.tagName=="BR"&&(E=[].indexOf.call(D.parentNode.childNodes,D),D=D.parentNode),A.tagName=="BR"&&(I=[].indexOf.call(A.parentNode.childNodes,A),A=A.parentNode);var q=document.createRange();q.setStart(D,E),q.setEnd(A,I),M.removeAllRanges(),M.addRange(q)}}else M.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(D){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof E=="string"&&(A=E,E=!1),x.info("setRange",D),D!=null){var I=this.rangeToNative(D);this.setNativeRange.apply(this,y(I).concat([E]))}else this.setNativeRange(null);this.update(A)}},{key:"update",value:function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v.default.sources.USER,E=this.lastRange,A=this.getRange(),I=s(A,2),R=I[0],M=I[1];if(this.lastRange=R,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,h.default)(E,this.lastRange)){var Y;!this.composing&&M!=null&&M.native.collapsed&&M.start.node!==this.cursor.textNode&&this.cursor.restore();var q=[v.default.events.SELECTION_CHANGE,(0,u.default)(this.lastRange),(0,u.default)(E),D];if((Y=this.emitter).emit.apply(Y,[v.default.events.EDITOR_CHANGE].concat(q)),D!==v.default.sources.SILENT){var G;(G=this.emitter).emit.apply(G,q)}}}}]),C}();function T(C,P){try{P.parentNode}catch{return!1}return P instanceof Text&&(P=P.parentNode),C.contains(P)}i.Range=N,i.default=k},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function v(w,b){for(var m=0;m<b.length;m++){var y=b[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(w,y.key,y)}}return function(w,b,m){return b&&v(w.prototype,b),m&&v(w,m),w}}(),a=function v(w,b,m){w===null&&(w=Function.prototype);var y=Object.getOwnPropertyDescriptor(w,b);if(y===void 0){var _=Object.getPrototypeOf(w);return _===null?void 0:v(_,b,m)}else{if("value"in y)return y.value;var x=y.get;return x===void 0?void 0:x.call(m)}},o=r(0),c=d(o);function d(v){return v&&v.__esModule?v:{default:v}}function u(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}function f(v,w){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:v}function h(v,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(v,w):v.__proto__=w)}var p=function(v){h(w,v);function w(){return u(this,w),f(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return s(w,[{key:"insertInto",value:function(m,y){m.children.length===0?a(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertInto",this).call(this,m,y):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),w}(c.default.Embed);p.blotName="break",p.tagName="BR",i.default=p},function(t,i,r){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])};return function(h,p){f(h,p);function v(){this.constructor=h}h.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}();Object.defineProperty(i,"__esModule",{value:!0});var a=r(44),o=r(30),c=r(1),d=function(f){s(h,f);function h(p){var v=f.call(this,p)||this;return v.build(),v}return h.prototype.appendChild=function(p){this.insertBefore(p)},h.prototype.attach=function(){f.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},h.prototype.build=function(){var p=this;this.children=new a.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(v){try{var w=u(v);p.insertBefore(w,p.children.head||void 0)}catch(b){if(b instanceof c.ParchmentError)return;throw b}})},h.prototype.deleteAt=function(p,v){if(p===0&&v===this.length())return this.remove();this.children.forEachAt(p,v,function(w,b,m){w.deleteAt(b,m)})},h.prototype.descendant=function(p,v){var w=this.children.find(v),b=w[0],m=w[1];return p.blotName==null&&p(b)||p.blotName!=null&&b instanceof p?[b,m]:b instanceof h?b.descendant(p,m):[null,-1]},h.prototype.descendants=function(p,v,w){v===void 0&&(v=0),w===void 0&&(w=Number.MAX_VALUE);var b=[],m=w;return this.children.forEachAt(v,w,function(y,_,x){(p.blotName==null&&p(y)||p.blotName!=null&&y instanceof p)&&b.push(y),y instanceof h&&(b=b.concat(y.descendants(p,_,m))),m-=x}),b},h.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),f.prototype.detach.call(this)},h.prototype.formatAt=function(p,v,w,b){this.children.forEachAt(p,v,function(m,y,_){m.formatAt(y,_,w,b)})},h.prototype.insertAt=function(p,v,w){var b=this.children.find(p),m=b[0],y=b[1];if(m)m.insertAt(y,v,w);else{var _=w==null?c.create("text",v):c.create(v,w);this.appendChild(_)}},h.prototype.insertBefore=function(p,v){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(w){return p instanceof w}))throw new c.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,v)},h.prototype.length=function(){return this.children.reduce(function(p,v){return p+v.length()},0)},h.prototype.moveChildren=function(p,v){this.children.forEach(function(w){p.insertBefore(w,v)})},h.prototype.optimize=function(p){if(f.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var v=c.create(this.statics.defaultChild);this.appendChild(v),v.optimize(p)}else this.remove()},h.prototype.path=function(p,v){v===void 0&&(v=!1);var w=this.children.find(p,v),b=w[0],m=w[1],y=[[this,p]];return b instanceof h?y.concat(b.path(m,v)):(b!=null&&y.push([b,m]),y)},h.prototype.removeChild=function(p){this.children.remove(p)},h.prototype.replace=function(p){p instanceof h&&p.moveChildren(this),f.prototype.replace.call(this,p)},h.prototype.split=function(p,v){if(v===void 0&&(v=!1),!v){if(p===0)return this;if(p===this.length())return this.next}var w=this.clone();return this.parent.insertBefore(w,this.next),this.children.forEachAt(p,this.length(),function(b,m,y){b=b.split(m,v),w.appendChild(b)}),w},h.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},h.prototype.update=function(p,v){var w=this,b=[],m=[];p.forEach(function(y){y.target===w.domNode&&y.type==="childList"&&(b.push.apply(b,y.addedNodes),m.push.apply(m,y.removedNodes))}),m.forEach(function(y){if(!(y.parentNode!=null&&y.tagName!=="IFRAME"&&document.body.compareDocumentPosition(y)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var _=c.find(y);_!=null&&(_.domNode.parentNode==null||_.domNode.parentNode===w.domNode)&&_.detach()}}),b.filter(function(y){return y.parentNode==w.domNode}).sort(function(y,_){return y===_?0:y.compareDocumentPosition(_)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(y){var _=null;y.nextSibling!=null&&(_=c.find(y.nextSibling));var x=u(y);(x.next!=_||x.next==null)&&(x.parent!=null&&x.parent.removeChild(w),w.insertBefore(x,_||void 0))})},h}(o.default);function u(f){var h=c.find(f);if(h==null)try{h=c.create(f)}catch{h=c.create(c.Scope.INLINE),[].slice.call(f.childNodes).forEach(function(v){h.domNode.appendChild(v)}),f.parentNode&&f.parentNode.replaceChild(h.domNode,f),h.attach()}return h}i.default=d},function(t,i,r){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])};return function(h,p){f(h,p);function v(){this.constructor=h}h.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}();Object.defineProperty(i,"__esModule",{value:!0});var a=r(12),o=r(31),c=r(17),d=r(1),u=function(f){s(h,f);function h(p){var v=f.call(this,p)||this;return v.attributes=new o.default(v.domNode),v}return h.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},h.prototype.format=function(p,v){var w=d.query(p);w instanceof a.default?this.attributes.attribute(w,v):v&&w!=null&&(p!==this.statics.blotName||this.formats()[p]!==v)&&this.replaceWith(p,v)},h.prototype.formats=function(){var p=this.attributes.values(),v=this.statics.formats(this.domNode);return v!=null&&(p[this.statics.blotName]=v),p},h.prototype.replaceWith=function(p,v){var w=f.prototype.replaceWith.call(this,p,v);return this.attributes.copy(w),w},h.prototype.update=function(p,v){var w=this;f.prototype.update.call(this,p,v),p.some(function(b){return b.target===w.domNode&&b.type==="attributes"})&&this.attributes.build()},h.prototype.wrap=function(p,v){var w=f.prototype.wrap.call(this,p,v);return w instanceof h&&w.statics.scope===this.statics.scope&&this.attributes.move(w),w},h}(c.default);i.default=u},function(t,i,r){var s=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){d(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(i,"__esModule",{value:!0});var a=r(30),o=r(1),c=function(d){s(u,d);function u(){return d!==null&&d.apply(this,arguments)||this}return u.value=function(f){return!0},u.prototype.index=function(f,h){return this.domNode===f||this.domNode.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(h,1):-1},u.prototype.position=function(f,h){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return f>0&&(p+=1),[this.parent.domNode,p]},u.prototype.value=function(){var f;return f={},f[this.statics.blotName]=this.statics.value(this.domNode)||!0,f},u.scope=o.Scope.INLINE_BLOT,u}(a.default);i.default=c},function(t,i,r){var s=r(11),a=r(3),o={attributes:{compose:function(d,u,f){typeof d!="object"&&(d={}),typeof u!="object"&&(u={});var h=a(!0,{},u);f||(h=Object.keys(h).reduce(function(v,w){return h[w]!=null&&(v[w]=h[w]),v},{}));for(var p in d)d[p]!==void 0&&u[p]===void 0&&(h[p]=d[p]);return Object.keys(h).length>0?h:void 0},diff:function(d,u){typeof d!="object"&&(d={}),typeof u!="object"&&(u={});var f=Object.keys(d).concat(Object.keys(u)).reduce(function(h,p){return s(d[p],u[p])||(h[p]=u[p]===void 0?null:u[p]),h},{});return Object.keys(f).length>0?f:void 0},transform:function(d,u,f){if(typeof d!="object")return u;if(typeof u=="object"){if(!f)return u;var h=Object.keys(u).reduce(function(p,v){return d[v]===void 0&&(p[v]=u[v]),p},{});return Object.keys(h).length>0?h:void 0}}},iterator:function(d){return new c(d)},length:function(d){return typeof d.delete=="number"?d.delete:typeof d.retain=="number"?d.retain:typeof d.insert=="string"?d.insert.length:1}};function c(d){this.ops=d,this.index=0,this.offset=0}c.prototype.hasNext=function(){return this.peekLength()<1/0},c.prototype.next=function(d){d||(d=1/0);var u=this.ops[this.index];if(u){var f=this.offset,h=o.length(u);if(d>=h-f?(d=h-f,this.index+=1,this.offset=0):this.offset+=d,typeof u.delete=="number")return{delete:d};var p={};return u.attributes&&(p.attributes=u.attributes),typeof u.retain=="number"?p.retain=d:typeof u.insert=="string"?p.insert=u.insert.substr(f,d):p.insert=u.insert,p}else return{retain:1/0}},c.prototype.peek=function(){return this.ops[this.index]},c.prototype.peekLength=function(){return this.ops[this.index]?o.length(this.ops[this.index])-this.offset:1/0},c.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},c.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var d=this.offset,u=this.index,f=this.next(),h=this.ops.slice(this.index);return this.offset=d,this.index=u,[f].concat(h)}else return[]},t.exports=o},function(t,i){var r=function(){function s(w,b){return b!=null&&w instanceof b}var a;try{a=Map}catch{a=function(){}}var o;try{o=Set}catch{o=function(){}}var c;try{c=Promise}catch{c=function(){}}function d(w,b,m,y,_){typeof b=="object"&&(m=b.depth,y=b.prototype,_=b.includeNonEnumerable,b=b.circular);var x=[],N=[],k=typeof Buffer<"u";typeof b>"u"&&(b=!0),typeof m>"u"&&(m=1/0);function T(C,P){if(C===null)return null;if(P===0)return C;var D,E;if(typeof C!="object")return C;if(s(C,a))D=new a;else if(s(C,o))D=new o;else if(s(C,c))D=new c(function(J,W){C.then(function(L){J(T(L,P-1))},function(L){W(T(L,P-1))})});else if(d.__isArray(C))D=[];else if(d.__isRegExp(C))D=new RegExp(C.source,v(C)),C.lastIndex&&(D.lastIndex=C.lastIndex);else if(d.__isDate(C))D=new Date(C.getTime());else{if(k&&Buffer.isBuffer(C))return Buffer.allocUnsafe?D=Buffer.allocUnsafe(C.length):D=new Buffer(C.length),C.copy(D),D;s(C,Error)?D=Object.create(C):typeof y>"u"?(E=Object.getPrototypeOf(C),D=Object.create(E)):(D=Object.create(y),E=y)}if(b){var A=x.indexOf(C);if(A!=-1)return N[A];x.push(C),N.push(D)}s(C,a)&&C.forEach(function(J,W){var L=T(W,P-1),z=T(J,P-1);D.set(L,z)}),s(C,o)&&C.forEach(function(J){var W=T(J,P-1);D.add(W)});for(var I in C){var R;E&&(R=Object.getOwnPropertyDescriptor(E,I)),!(R&&R.set==null)&&(D[I]=T(C[I],P-1))}if(Object.getOwnPropertySymbols)for(var M=Object.getOwnPropertySymbols(C),I=0;I<M.length;I++){var Y=M[I],q=Object.getOwnPropertyDescriptor(C,Y);q&&!q.enumerable&&!_||(D[Y]=T(C[Y],P-1),q.enumerable||Object.defineProperty(D,Y,{enumerable:!1}))}if(_)for(var G=Object.getOwnPropertyNames(C),I=0;I<G.length;I++){var B=G[I],q=Object.getOwnPropertyDescriptor(C,B);q&&q.enumerable||(D[B]=T(C[B],P-1),Object.defineProperty(D,B,{enumerable:!1}))}return D}return T(w,m)}d.clonePrototype=function(b){if(b===null)return null;var m=function(){};return m.prototype=b,new m};function u(w){return Object.prototype.toString.call(w)}d.__objToStr=u;function f(w){return typeof w=="object"&&u(w)==="[object Date]"}d.__isDate=f;function h(w){return typeof w=="object"&&u(w)==="[object Array]"}d.__isArray=h;function p(w){return typeof w=="object"&&u(w)==="[object RegExp]"}d.__isRegExp=p;function v(w){var b="";return w.global&&(b+="g"),w.ignoreCase&&(b+="i"),w.multiline&&(b+="m"),b}return d.__getRegExpFlags=v,d}();typeof t=="object"&&t.exports&&(t.exports=r)},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function D(E,A){var I=[],R=!0,M=!1,Y=void 0;try{for(var q=E[Symbol.iterator](),G;!(R=(G=q.next()).done)&&(I.push(G.value),!(A&&I.length===A));R=!0);}catch(B){M=!0,Y=B}finally{try{!R&&q.return&&q.return()}finally{if(M)throw Y}}return I}return function(E,A){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return D(E,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function D(E,A){for(var I=0;I<A.length;I++){var R=A[I];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(E,R.key,R)}}return function(E,A,I){return A&&D(E.prototype,A),I&&D(E,I),E}}(),o=function D(E,A,I){E===null&&(E=Function.prototype);var R=Object.getOwnPropertyDescriptor(E,A);if(R===void 0){var M=Object.getPrototypeOf(E);return M===null?void 0:D(M,A,I)}else{if("value"in R)return R.value;var Y=R.get;return Y===void 0?void 0:Y.call(I)}},c=r(0),d=x(c),u=r(8),f=x(u),h=r(4),p=x(h),v=r(16),w=x(v),b=r(13),m=x(b),y=r(25),_=x(y);function x(D){return D&&D.__esModule?D:{default:D}}function N(D,E){if(!(D instanceof E))throw new TypeError("Cannot call a class as a function")}function k(D,E){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:D}function T(D,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);D.prototype=Object.create(E&&E.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(D,E):D.__proto__=E)}function C(D){return D instanceof p.default||D instanceof h.BlockEmbed}var P=function(D){T(E,D);function E(A,I){N(this,E);var R=k(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,A));return R.emitter=I.emitter,Array.isArray(I.whitelist)&&(R.whitelist=I.whitelist.reduce(function(M,Y){return M[Y]=!0,M},{})),R.domNode.addEventListener("DOMNodeInserted",function(){}),R.optimize(),R.enable(),R}return a(E,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(I,R){var M=this.line(I),Y=s(M,2),q=Y[0],G=Y[1],B=this.line(I+R),J=s(B,1),W=J[0];if(o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"deleteAt",this).call(this,I,R),W!=null&&q!==W&&G>0){if(q instanceof h.BlockEmbed||W instanceof h.BlockEmbed){this.optimize();return}if(q instanceof m.default){var L=q.newlineIndex(q.length(),!0);if(L>-1&&(q=q.split(L+1),q===W)){this.optimize();return}}else if(W instanceof m.default){var z=W.newlineIndex(0);z>-1&&W.split(z+1)}var X=W.children.head instanceof w.default?null:W.children.head;q.moveChildren(W,X),q.remove()}this.optimize()}},{key:"enable",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",I)}},{key:"formatAt",value:function(I,R,M,Y){this.whitelist!=null&&!this.whitelist[M]||(o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"formatAt",this).call(this,I,R,M,Y),this.optimize())}},{key:"insertAt",value:function(I,R,M){if(!(M!=null&&this.whitelist!=null&&!this.whitelist[R])){if(I>=this.length())if(M==null||d.default.query(R,d.default.Scope.BLOCK)==null){var Y=d.default.create(this.statics.defaultChild);this.appendChild(Y),M==null&&R.endsWith(`
`)&&(R=R.slice(0,-1)),Y.insertAt(0,R,M)}else{var q=d.default.create(R,M);this.appendChild(q)}else o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertAt",this).call(this,I,R,M);this.optimize()}}},{key:"insertBefore",value:function(I,R){if(I.statics.scope===d.default.Scope.INLINE_BLOT){var M=d.default.create(this.statics.defaultChild);M.appendChild(I),I=M}o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertBefore",this).call(this,I,R)}},{key:"leaf",value:function(I){return this.path(I).pop()||[null,-1]}},{key:"line",value:function(I){return I===this.length()?this.line(I-1):this.descendant(C,I)}},{key:"lines",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,M=function Y(q,G,B){var J=[],W=B;return q.children.forEachAt(G,B,function(L,z,X){C(L)?J.push(L):L instanceof d.default.Container&&(J=J.concat(Y(L,z,W))),W-=X}),J};return M(this,I,R)}},{key:"optimize",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,I,R),I.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,I,R))}},{key:"path",value:function(I){return o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"path",this).call(this,I).slice(1)}},{key:"update",value:function(I){if(this.batch!==!0){var R=f.default.sources.USER;typeof I=="string"&&(R=I),Array.isArray(I)||(I=this.observer.takeRecords()),I.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,R,I),o(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"update",this).call(this,I.concat([])),I.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,R,I)}}}]),E}(d.default.Scroll);P.blotName="scroll",P.className="ql-editor",P.tagName="DIV",P.defaultChild="block",P.allowedChildren=[p.default,h.BlockEmbed,_.default],i.default=P},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.SHORTKEY=i.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},a=function(){function V(Z,_e){var le=[],ce=!0,Fe=!1,Ae=void 0;try{for(var Re=Z[Symbol.iterator](),Ve;!(ce=(Ve=Re.next()).done)&&(le.push(Ve.value),!(_e&&le.length===_e));ce=!0);}catch(fe){Fe=!0,Ae=fe}finally{try{!ce&&Re.return&&Re.return()}finally{if(Fe)throw Ae}}return le}return function(Z,_e){if(Array.isArray(Z))return Z;if(Symbol.iterator in Object(Z))return V(Z,_e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function V(Z,_e){for(var le=0;le<_e.length;le++){var ce=_e[le];ce.enumerable=ce.enumerable||!1,ce.configurable=!0,"value"in ce&&(ce.writable=!0),Object.defineProperty(Z,ce.key,ce)}}return function(Z,_e,le){return _e&&V(Z.prototype,_e),le&&V(Z,le),Z}}(),c=r(21),d=D(c),u=r(11),f=D(u),h=r(3),p=D(h),v=r(2),w=D(v),b=r(20),m=D(b),y=r(0),_=D(y),x=r(5),N=D(x),k=r(10),T=D(k),C=r(9),P=D(C);function D(V){return V&&V.__esModule?V:{default:V}}function E(V,Z,_e){return Z in V?Object.defineProperty(V,Z,{value:_e,enumerable:!0,configurable:!0,writable:!0}):V[Z]=_e,V}function A(V,Z){if(!(V instanceof Z))throw new TypeError("Cannot call a class as a function")}function I(V,Z){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z&&(typeof Z=="object"||typeof Z=="function")?Z:V}function R(V,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Z);V.prototype=Object.create(Z&&Z.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),Z&&(Object.setPrototypeOf?Object.setPrototypeOf(V,Z):V.__proto__=Z)}var M=(0,T.default)("quill:keyboard"),Y=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",q=function(V){R(Z,V),o(Z,null,[{key:"match",value:function(le,ce){return ce=Q(ce),["altKey","ctrlKey","metaKey","shiftKey"].some(function(Fe){return!!ce[Fe]!==le[Fe]&&ce[Fe]!==null})?!1:ce.key===(le.which||le.keyCode)}}]);function Z(_e,le){A(this,Z);var ce=I(this,(Z.__proto__||Object.getPrototypeOf(Z)).call(this,_e,le));return ce.bindings={},Object.keys(ce.options.bindings).forEach(function(Fe){Fe==="list autofill"&&_e.scroll.whitelist!=null&&!_e.scroll.whitelist.list||ce.options.bindings[Fe]&&ce.addBinding(ce.options.bindings[Fe])}),ce.addBinding({key:Z.keys.ENTER,shiftKey:null},L),ce.addBinding({key:Z.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(ce.addBinding({key:Z.keys.BACKSPACE},{collapsed:!0},B),ce.addBinding({key:Z.keys.DELETE},{collapsed:!0},J)):(ce.addBinding({key:Z.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},B),ce.addBinding({key:Z.keys.DELETE},{collapsed:!0,suffix:/^.?$/},J)),ce.addBinding({key:Z.keys.BACKSPACE},{collapsed:!1},W),ce.addBinding({key:Z.keys.DELETE},{collapsed:!1},W),ce.addBinding({key:Z.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},B),ce.listen(),ce}return o(Z,[{key:"addBinding",value:function(le){var ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Ae=Q(le);if(Ae==null||Ae.key==null)return M.warn("Attempted to add invalid keyboard binding",Ae);typeof ce=="function"&&(ce={handler:ce}),typeof Fe=="function"&&(Fe={handler:Fe}),Ae=(0,p.default)(Ae,ce,Fe),this.bindings[Ae.key]=this.bindings[Ae.key]||[],this.bindings[Ae.key].push(Ae)}},{key:"listen",value:function(){var le=this;this.quill.root.addEventListener("keydown",function(ce){if(!ce.defaultPrevented){var Fe=ce.which||ce.keyCode,Ae=(le.bindings[Fe]||[]).filter(function(ge){return Z.match(ce,ge)});if(Ae.length!==0){var Re=le.quill.getSelection();if(!(Re==null||!le.quill.hasFocus())){var Ve=le.quill.getLine(Re.index),fe=a(Ve,2),Je=fe[0],je=fe[1],Ce=le.quill.getLeaf(Re.index),$=a(Ce,2),ke=$[0],Se=$[1],pe=Re.length===0?[ke,Se]:le.quill.getLeaf(Re.index+Re.length),U=a(pe,2),H=U[0],te=U[1],he=ke instanceof _.default.Text?ke.value().slice(0,Se):"",ve=H instanceof _.default.Text?H.value().slice(te):"",ae={collapsed:Re.length===0,empty:Re.length===0&&Je.length()<=1,format:le.quill.getFormat(Re),offset:je,prefix:he,suffix:ve},me=Ae.some(function(ge){if(ge.collapsed!=null&&ge.collapsed!==ae.collapsed||ge.empty!=null&&ge.empty!==ae.empty||ge.offset!=null&&ge.offset!==ae.offset)return!1;if(Array.isArray(ge.format)){if(ge.format.every(function(Oe){return ae.format[Oe]==null}))return!1}else if(s(ge.format)==="object"&&!Object.keys(ge.format).every(function(Oe){return ge.format[Oe]===!0?ae.format[Oe]!=null:ge.format[Oe]===!1?ae.format[Oe]==null:(0,f.default)(ge.format[Oe],ae.format[Oe])}))return!1;return ge.prefix!=null&&!ge.prefix.test(ae.prefix)||ge.suffix!=null&&!ge.suffix.test(ae.suffix)?!1:ge.handler.call(le,Re,ae)!==!0});me&&ce.preventDefault()}}}})}}]),Z}(P.default);q.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},q.DEFAULTS={bindings:{bold:X("bold"),italic:X("italic"),underline:X("underline"),indent:{key:q.keys.TAB,format:["blockquote","indent","list"],handler:function(Z,_e){if(_e.collapsed&&_e.offset!==0)return!0;this.quill.format("indent","+1",N.default.sources.USER)}},outdent:{key:q.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(Z,_e){if(_e.collapsed&&_e.offset!==0)return!0;this.quill.format("indent","-1",N.default.sources.USER)}},"outdent backspace":{key:q.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(Z,_e){_e.format.indent!=null?this.quill.format("indent","-1",N.default.sources.USER):_e.format.list!=null&&this.quill.format("list",!1,N.default.sources.USER)}},"indent code-block":z(!0),"outdent code-block":z(!1),"remove tab":{key:q.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(Z){this.quill.deleteText(Z.index-1,1,N.default.sources.USER)}},tab:{key:q.keys.TAB,handler:function(Z){this.quill.history.cutoff();var _e=new w.default().retain(Z.index).delete(Z.length).insert("	");this.quill.updateContents(_e,N.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Z.index+1,N.default.sources.SILENT)}},"list empty enter":{key:q.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(Z,_e){this.quill.format("list",!1,N.default.sources.USER),_e.format.indent&&this.quill.format("indent",!1,N.default.sources.USER)}},"checklist enter":{key:q.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(Z){var _e=this.quill.getLine(Z.index),le=a(_e,2),ce=le[0],Fe=le[1],Ae=(0,p.default)({},ce.formats(),{list:"checked"}),Re=new w.default().retain(Z.index).insert(`
`,Ae).retain(ce.length()-Fe-1).retain(1,{list:"unchecked"});this.quill.updateContents(Re,N.default.sources.USER),this.quill.setSelection(Z.index+1,N.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:q.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(Z,_e){var le=this.quill.getLine(Z.index),ce=a(le,2),Fe=ce[0],Ae=ce[1],Re=new w.default().retain(Z.index).insert(`
`,_e.format).retain(Fe.length()-Ae-1).retain(1,{header:null});this.quill.updateContents(Re,N.default.sources.USER),this.quill.setSelection(Z.index+1,N.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(Z,_e){var le=_e.prefix.length,ce=this.quill.getLine(Z.index),Fe=a(ce,2),Ae=Fe[0],Re=Fe[1];if(Re>le)return!0;var Ve=void 0;switch(_e.prefix.trim()){case"[]":case"[ ]":Ve="unchecked";break;case"[x]":Ve="checked";break;case"-":case"*":Ve="bullet";break;default:Ve="ordered"}this.quill.insertText(Z.index," ",N.default.sources.USER),this.quill.history.cutoff();var fe=new w.default().retain(Z.index-Re).delete(le+1).retain(Ae.length()-2-Re).retain(1,{list:Ve});this.quill.updateContents(fe,N.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Z.index-le,N.default.sources.SILENT)}},"code exit":{key:q.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(Z){var _e=this.quill.getLine(Z.index),le=a(_e,2),ce=le[0],Fe=le[1],Ae=new w.default().retain(Z.index+ce.length()-Fe-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(Ae,N.default.sources.USER)}},"embed left":G(q.keys.LEFT,!1),"embed left shift":G(q.keys.LEFT,!0),"embed right":G(q.keys.RIGHT,!1),"embed right shift":G(q.keys.RIGHT,!0)}};function G(V,Z){var _e,le=V===q.keys.LEFT?"prefix":"suffix";return _e={key:V,shiftKey:Z,altKey:null},E(_e,le,/^$/),E(_e,"handler",function(Fe){var Ae=Fe.index;V===q.keys.RIGHT&&(Ae+=Fe.length+1);var Re=this.quill.getLeaf(Ae),Ve=a(Re,1),fe=Ve[0];return fe instanceof _.default.Embed?(V===q.keys.LEFT?Z?this.quill.setSelection(Fe.index-1,Fe.length+1,N.default.sources.USER):this.quill.setSelection(Fe.index-1,N.default.sources.USER):Z?this.quill.setSelection(Fe.index,Fe.length+1,N.default.sources.USER):this.quill.setSelection(Fe.index+Fe.length+1,N.default.sources.USER),!1):!0}),_e}function B(V,Z){if(!(V.index===0||this.quill.getLength()<=1)){var _e=this.quill.getLine(V.index),le=a(_e,1),ce=le[0],Fe={};if(Z.offset===0){var Ae=this.quill.getLine(V.index-1),Re=a(Ae,1),Ve=Re[0];if(Ve!=null&&Ve.length()>1){var fe=ce.formats(),Je=this.quill.getFormat(V.index-1,1);Fe=m.default.attributes.diff(fe,Je)||{}}}var je=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(Z.prefix)?2:1;this.quill.deleteText(V.index-je,je,N.default.sources.USER),Object.keys(Fe).length>0&&this.quill.formatLine(V.index-je,je,Fe,N.default.sources.USER),this.quill.focus()}}function J(V,Z){var _e=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(Z.suffix)?2:1;if(!(V.index>=this.quill.getLength()-_e)){var le={},ce=0,Fe=this.quill.getLine(V.index),Ae=a(Fe,1),Re=Ae[0];if(Z.offset>=Re.length()-1){var Ve=this.quill.getLine(V.index+1),fe=a(Ve,1),Je=fe[0];if(Je){var je=Re.formats(),Ce=this.quill.getFormat(V.index,1);le=m.default.attributes.diff(je,Ce)||{},ce=Je.length()}}this.quill.deleteText(V.index,_e,N.default.sources.USER),Object.keys(le).length>0&&this.quill.formatLine(V.index+ce-1,_e,le,N.default.sources.USER)}}function W(V){var Z=this.quill.getLines(V),_e={};if(Z.length>1){var le=Z[0].formats(),ce=Z[Z.length-1].formats();_e=m.default.attributes.diff(ce,le)||{}}this.quill.deleteText(V,N.default.sources.USER),Object.keys(_e).length>0&&this.quill.formatLine(V.index,1,_e,N.default.sources.USER),this.quill.setSelection(V.index,N.default.sources.SILENT),this.quill.focus()}function L(V,Z){var _e=this;V.length>0&&this.quill.scroll.deleteAt(V.index,V.length);var le=Object.keys(Z.format).reduce(function(ce,Fe){return _.default.query(Fe,_.default.Scope.BLOCK)&&!Array.isArray(Z.format[Fe])&&(ce[Fe]=Z.format[Fe]),ce},{});this.quill.insertText(V.index,`
`,le,N.default.sources.USER),this.quill.setSelection(V.index+1,N.default.sources.SILENT),this.quill.focus(),Object.keys(Z.format).forEach(function(ce){le[ce]==null&&(Array.isArray(Z.format[ce])||ce!=="link"&&_e.quill.format(ce,Z.format[ce],N.default.sources.USER))})}function z(V){return{key:q.keys.TAB,shiftKey:!V,format:{"code-block":!0},handler:function(_e){var le=_.default.query("code-block"),ce=_e.index,Fe=_e.length,Ae=this.quill.scroll.descendant(le,ce),Re=a(Ae,2),Ve=Re[0],fe=Re[1];if(Ve!=null){var Je=this.quill.getIndex(Ve),je=Ve.newlineIndex(fe,!0)+1,Ce=Ve.newlineIndex(Je+fe+Fe),$=Ve.domNode.textContent.slice(je,Ce).split(`
`);fe=0,$.forEach(function(ke,Se){V?(Ve.insertAt(je+fe,le.TAB),fe+=le.TAB.length,Se===0?ce+=le.TAB.length:Fe+=le.TAB.length):ke.startsWith(le.TAB)&&(Ve.deleteAt(je+fe,le.TAB.length),fe-=le.TAB.length,Se===0?ce-=le.TAB.length:Fe-=le.TAB.length),fe+=ke.length+1}),this.quill.update(N.default.sources.USER),this.quill.setSelection(ce,Fe,N.default.sources.SILENT)}}}}function X(V){return{key:V[0].toUpperCase(),shortKey:!0,handler:function(_e,le){this.quill.format(V,!le.format[V],N.default.sources.USER)}}}function Q(V){if(typeof V=="string"||typeof V=="number")return Q({key:V});if((typeof V>"u"?"undefined":s(V))==="object"&&(V=(0,d.default)(V,!1)),typeof V.key=="string")if(q.keys[V.key.toUpperCase()]!=null)V.key=q.keys[V.key.toUpperCase()];else if(V.key.length===1)V.key=V.key.toUpperCase().charCodeAt(0);else return null;return V.shortKey&&(V[Y]=V.shortKey,delete V.shortKey),V}i.default=q,i.SHORTKEY=Y},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function m(y,_){var x=[],N=!0,k=!1,T=void 0;try{for(var C=y[Symbol.iterator](),P;!(N=(P=C.next()).done)&&(x.push(P.value),!(_&&x.length===_));N=!0);}catch(D){k=!0,T=D}finally{try{!N&&C.return&&C.return()}finally{if(k)throw T}}return x}return function(y,_){if(Array.isArray(y))return y;if(Symbol.iterator in Object(y))return m(y,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function m(y,_,x){y===null&&(y=Function.prototype);var N=Object.getOwnPropertyDescriptor(y,_);if(N===void 0){var k=Object.getPrototypeOf(y);return k===null?void 0:m(k,_,x)}else{if("value"in N)return N.value;var T=N.get;return T===void 0?void 0:T.call(x)}},o=function(){function m(y,_){for(var x=0;x<_.length;x++){var N=_[x];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(y,N.key,N)}}return function(y,_,x){return _&&m(y.prototype,_),x&&m(y,x),y}}(),c=r(0),d=h(c),u=r(7),f=h(u);function h(m){return m&&m.__esModule?m:{default:m}}function p(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function v(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function w(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var b=function(m){w(y,m),o(y,null,[{key:"value",value:function(){}}]);function y(_,x){p(this,y);var N=v(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,_));return N.selection=x,N.textNode=document.createTextNode(y.CONTENTS),N.domNode.appendChild(N.textNode),N._length=0,N}return o(y,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(x,N){if(this._length!==0)return a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,x,N);for(var k=this,T=0;k!=null&&k.statics.scope!==d.default.Scope.BLOCK_BLOT;)T+=k.offset(k.parent),k=k.parent;k!=null&&(this._length=y.CONTENTS.length,k.optimize(),k.formatAt(T,y.CONTENTS.length,x,N),this._length=0)}},{key:"index",value:function(x,N){return x===this.textNode?0:a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"index",this).call(this,x,N)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var x=this.textNode,N=this.selection.getNativeRange(),k=void 0,T=void 0,C=void 0;if(N!=null&&N.start.node===x&&N.end.node===x){var P=[x,N.start.offset,N.end.offset];k=P[0],T=P[1],C=P[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==y.CONTENTS){var D=this.textNode.data.split(y.CONTENTS).join("");this.next instanceof f.default?(k=this.next.domNode,this.next.insertAt(0,D),this.textNode.data=y.CONTENTS):(this.textNode.data=D,this.parent.insertBefore(d.default.create(this.textNode),this),this.textNode=document.createTextNode(y.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),T!=null){var E=[T,C].map(function(I){return Math.max(0,Math.min(k.data.length,I-1))}),A=s(E,2);return T=A[0],C=A[1],{startNode:k,startOffset:T,endNode:k,endOffset:C}}}}},{key:"update",value:function(x,N){var k=this;if(x.some(function(C){return C.type==="characterData"&&C.target===k.textNode})){var T=this.restore();T&&(N.range=T)}}},{key:"value",value:function(){return""}}]),y}(d.default.Embed);b.blotName="cursor",b.className="ql-cursor",b.tagName="span",b.CONTENTS="\uFEFF",i.default=b},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(0),a=d(s),o=r(4),c=d(o);function d(v){return v&&v.__esModule?v:{default:v}}function u(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}function f(v,w){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:v}function h(v,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(v,w):v.__proto__=w)}var p=function(v){h(w,v);function w(){return u(this,w),f(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return w}(a.default.Container);p.allowedChildren=[c.default,o.BlockEmbed,p],i.default=p},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.ColorStyle=i.ColorClass=i.ColorAttributor=void 0;var s=function(){function b(m,y){for(var _=0;_<y.length;_++){var x=y[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,x.key,x)}}return function(m,y,_){return y&&b(m.prototype,y),_&&b(m,_),m}}(),a=function b(m,y,_){m===null&&(m=Function.prototype);var x=Object.getOwnPropertyDescriptor(m,y);if(x===void 0){var N=Object.getPrototypeOf(m);return N===null?void 0:b(N,y,_)}else{if("value"in x)return x.value;var k=x.get;return k===void 0?void 0:k.call(_)}},o=r(0),c=d(o);function d(b){return b&&b.__esModule?b:{default:b}}function u(b,m){if(!(b instanceof m))throw new TypeError("Cannot call a class as a function")}function f(b,m){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:b}function h(b,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);b.prototype=Object.create(m&&m.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(b,m):b.__proto__=m)}var p=function(b){h(m,b);function m(){return u(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return s(m,[{key:"value",value:function(_){var x=a(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"value",this).call(this,_);return x.startsWith("rgb(")?(x=x.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+x.split(",").map(function(N){return("00"+parseInt(N).toString(16)).slice(-2)}).join("")):x}}]),m}(c.default.Attributor.Style),v=new c.default.Attributor.Class("color","ql-color",{scope:c.default.Scope.INLINE}),w=new p("color","color",{scope:c.default.Scope.INLINE});i.ColorAttributor=p,i.ColorClass=v,i.ColorStyle=w},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.sanitize=i.default=void 0;var s=function(){function w(b,m){for(var y=0;y<m.length;y++){var _=m[y];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(b,_.key,_)}}return function(b,m,y){return m&&w(b.prototype,m),y&&w(b,y),b}}(),a=function w(b,m,y){b===null&&(b=Function.prototype);var _=Object.getOwnPropertyDescriptor(b,m);if(_===void 0){var x=Object.getPrototypeOf(b);return x===null?void 0:w(x,m,y)}else{if("value"in _)return _.value;var N=_.get;return N===void 0?void 0:N.call(y)}},o=r(6),c=d(o);function d(w){return w&&w.__esModule?w:{default:w}}function u(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function f(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function h(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var p=function(w){h(b,w);function b(){return u(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"format",value:function(y,_){if(y!==this.statics.blotName||!_)return a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,y,_);_=this.constructor.sanitize(_),this.domNode.setAttribute("href",_)}}],[{key:"create",value:function(y){var _=a(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,y);return y=this.sanitize(y),_.setAttribute("href",y),_.setAttribute("rel","noopener noreferrer"),_.setAttribute("target","_blank"),_}},{key:"formats",value:function(y){return y.getAttribute("href")}},{key:"sanitize",value:function(y){return v(y,this.PROTOCOL_WHITELIST)?y:this.SANITIZED_URL}}]),b}(c.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function v(w,b){var m=document.createElement("a");m.href=w;var y=m.href.slice(0,m.href.indexOf(":"));return b.indexOf(y)>-1}i.default=p,i.sanitize=v},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},a=function(){function b(m,y){for(var _=0;_<y.length;_++){var x=y[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,x.key,x)}}return function(m,y,_){return y&&b(m.prototype,y),_&&b(m,_),m}}(),o=r(23),c=f(o),d=r(107),u=f(d);function f(b){return b&&b.__esModule?b:{default:b}}function h(b,m){if(!(b instanceof m))throw new TypeError("Cannot call a class as a function")}var p=0;function v(b,m){b.setAttribute(m,b.getAttribute(m)!=="true")}var w=function(){function b(m){var y=this;h(this,b),this.select=m,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){y.togglePicker()}),this.label.addEventListener("keydown",function(_){switch(_.keyCode){case c.default.keys.ENTER:y.togglePicker();break;case c.default.keys.ESCAPE:y.escape(),_.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return a(b,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),v(this.label,"aria-expanded"),v(this.options,"aria-hidden")}},{key:"buildItem",value:function(y){var _=this,x=document.createElement("span");return x.tabIndex="0",x.setAttribute("role","button"),x.classList.add("ql-picker-item"),y.hasAttribute("value")&&x.setAttribute("data-value",y.getAttribute("value")),y.textContent&&x.setAttribute("data-label",y.textContent),x.addEventListener("click",function(){_.selectItem(x,!0)}),x.addEventListener("keydown",function(N){switch(N.keyCode){case c.default.keys.ENTER:_.selectItem(x,!0),N.preventDefault();break;case c.default.keys.ESCAPE:_.escape(),N.preventDefault();break}}),x}},{key:"buildLabel",value:function(){var y=document.createElement("span");return y.classList.add("ql-picker-label"),y.innerHTML=u.default,y.tabIndex="0",y.setAttribute("role","button"),y.setAttribute("aria-expanded","false"),this.container.appendChild(y),y}},{key:"buildOptions",value:function(){var y=this,_=document.createElement("span");_.classList.add("ql-picker-options"),_.setAttribute("aria-hidden","true"),_.tabIndex="-1",_.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",_.id),this.options=_,[].slice.call(this.select.options).forEach(function(x){var N=y.buildItem(x);_.appendChild(N),x.selected===!0&&y.selectItem(N)}),this.container.appendChild(_)}},{key:"buildPicker",value:function(){var y=this;[].slice.call(this.select.attributes).forEach(function(_){y.container.setAttribute(_.name,_.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var y=this;this.close(),setTimeout(function(){return y.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(y){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,x=this.container.querySelector(".ql-selected");if(y!==x&&(x!=null&&x.classList.remove("ql-selected"),y!=null&&(y.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(y.parentNode.children,y),y.hasAttribute("data-value")?this.label.setAttribute("data-value",y.getAttribute("data-value")):this.label.removeAttribute("data-value"),y.hasAttribute("data-label")?this.label.setAttribute("data-label",y.getAttribute("data-label")):this.label.removeAttribute("data-label"),_))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":s(Event))==="object"){var N=document.createEvent("Event");N.initEvent("change",!0,!0),this.select.dispatchEvent(N)}this.close()}}},{key:"update",value:function(){var y=void 0;if(this.select.selectedIndex>-1){var _=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];y=this.select.options[this.select.selectedIndex],this.selectItem(_)}else this.selectItem(null);var x=y!=null&&y!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",x)}}]),b}();i.default=w},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(0),a=M(s),o=r(5),c=M(o),d=r(4),u=M(d),f=r(16),h=M(f),p=r(25),v=M(p),w=r(24),b=M(w),m=r(35),y=M(m),_=r(6),x=M(_),N=r(22),k=M(N),T=r(7),C=M(T),P=r(55),D=M(P),E=r(42),A=M(E),I=r(23),R=M(I);function M(Y){return Y&&Y.__esModule?Y:{default:Y}}c.default.register({"blots/block":u.default,"blots/block/embed":d.BlockEmbed,"blots/break":h.default,"blots/container":v.default,"blots/cursor":b.default,"blots/embed":y.default,"blots/inline":x.default,"blots/scroll":k.default,"blots/text":C.default,"modules/clipboard":D.default,"modules/history":A.default,"modules/keyboard":R.default}),a.default.register(u.default,h.default,b.default,x.default,k.default,C.default),i.default=c.default},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(1),a=function(){function o(c){this.domNode=c,this.domNode[s.DATA_KEY]={blot:this}}return Object.defineProperty(o.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),o.create=function(c){if(this.tagName==null)throw new s.ParchmentError("Blot definition missing tagName");var d;return Array.isArray(this.tagName)?(typeof c=="string"&&(c=c.toUpperCase(),parseInt(c).toString()===c&&(c=parseInt(c))),typeof c=="number"?d=document.createElement(this.tagName[c-1]):this.tagName.indexOf(c)>-1?d=document.createElement(c):d=document.createElement(this.tagName[0])):d=document.createElement(this.tagName),this.className&&d.classList.add(this.className),d},o.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},o.prototype.clone=function(){var c=this.domNode.cloneNode(!1);return s.create(c)},o.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[s.DATA_KEY]},o.prototype.deleteAt=function(c,d){var u=this.isolate(c,d);u.remove()},o.prototype.formatAt=function(c,d,u,f){var h=this.isolate(c,d);if(s.query(u,s.Scope.BLOT)!=null&&f)h.wrap(u,f);else if(s.query(u,s.Scope.ATTRIBUTE)!=null){var p=s.create(this.statics.scope);h.wrap(p),p.format(u,f)}},o.prototype.insertAt=function(c,d,u){var f=u==null?s.create("text",d):s.create(d,u),h=this.split(c);this.parent.insertBefore(f,h)},o.prototype.insertInto=function(c,d){d===void 0&&(d=null),this.parent!=null&&this.parent.children.remove(this);var u=null;c.children.insertBefore(this,d),d!=null&&(u=d.domNode),(this.domNode.parentNode!=c.domNode||this.domNode.nextSibling!=u)&&c.domNode.insertBefore(this.domNode,u),this.parent=c,this.attach()},o.prototype.isolate=function(c,d){var u=this.split(c);return u.split(d),u},o.prototype.length=function(){return 1},o.prototype.offset=function(c){return c===void 0&&(c=this.parent),this.parent==null||this==c?0:this.parent.children.offset(this)+this.parent.offset(c)},o.prototype.optimize=function(c){this.domNode[s.DATA_KEY]!=null&&delete this.domNode[s.DATA_KEY].mutations},o.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},o.prototype.replace=function(c){c.parent!=null&&(c.parent.insertBefore(this,c.next),c.remove())},o.prototype.replaceWith=function(c,d){var u=typeof c=="string"?s.create(c,d):c;return u.replace(this),u},o.prototype.split=function(c,d){return c===0?this:this.next},o.prototype.update=function(c,d){},o.prototype.wrap=function(c,d){var u=typeof c=="string"?s.create(c,d):c;return this.parent!=null&&this.parent.insertBefore(u,this.next),u.appendChild(this),u},o.blotName="abstract",o}();i.default=a},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(12),a=r(32),o=r(33),c=r(1),d=function(){function u(f){this.attributes={},this.domNode=f,this.build()}return u.prototype.attribute=function(f,h){h?f.add(this.domNode,h)&&(f.value(this.domNode)!=null?this.attributes[f.attrName]=f:delete this.attributes[f.attrName]):(f.remove(this.domNode),delete this.attributes[f.attrName])},u.prototype.build=function(){var f=this;this.attributes={};var h=s.default.keys(this.domNode),p=a.default.keys(this.domNode),v=o.default.keys(this.domNode);h.concat(p).concat(v).forEach(function(w){var b=c.query(w,c.Scope.ATTRIBUTE);b instanceof s.default&&(f.attributes[b.attrName]=b)})},u.prototype.copy=function(f){var h=this;Object.keys(this.attributes).forEach(function(p){var v=h.attributes[p].value(h.domNode);f.format(p,v)})},u.prototype.move=function(f){var h=this;this.copy(f),Object.keys(this.attributes).forEach(function(p){h.attributes[p].remove(h.domNode)}),this.attributes={}},u.prototype.values=function(){var f=this;return Object.keys(this.attributes).reduce(function(h,p){return h[p]=f.attributes[p].value(f.domNode),h},{})},u}();i.default=d},function(t,i,r){var s=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){d(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(i,"__esModule",{value:!0});var a=r(12);function o(d,u){var f=d.getAttribute("class")||"";return f.split(/\s+/).filter(function(h){return h.indexOf(u+"-")===0})}var c=function(d){s(u,d);function u(){return d!==null&&d.apply(this,arguments)||this}return u.keys=function(f){return(f.getAttribute("class")||"").split(/\s+/).map(function(h){return h.split("-").slice(0,-1).join("-")})},u.prototype.add=function(f,h){return this.canAdd(f,h)?(this.remove(f),f.classList.add(this.keyName+"-"+h),!0):!1},u.prototype.remove=function(f){var h=o(f,this.keyName);h.forEach(function(p){f.classList.remove(p)}),f.classList.length===0&&f.removeAttribute("class")},u.prototype.value=function(f){var h=o(f,this.keyName)[0]||"",p=h.slice(this.keyName.length+1);return this.canAdd(f,p)?p:""},u}(a.default);i.default=c},function(t,i,r){var s=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){d(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(i,"__esModule",{value:!0});var a=r(12);function o(d){var u=d.split("-"),f=u.slice(1).map(function(h){return h[0].toUpperCase()+h.slice(1)}).join("");return u[0]+f}var c=function(d){s(u,d);function u(){return d!==null&&d.apply(this,arguments)||this}return u.keys=function(f){return(f.getAttribute("style")||"").split(";").map(function(h){var p=h.split(":");return p[0].trim()})},u.prototype.add=function(f,h){return this.canAdd(f,h)?(f.style[o(this.keyName)]=h,!0):!1},u.prototype.remove=function(f){f.style[o(this.keyName)]="",f.getAttribute("style")||f.removeAttribute("style")},u.prototype.value=function(f){var h=f.style[o(this.keyName)];return this.canAdd(f,h)?h:""},u}(a.default);i.default=c},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function c(d,u){for(var f=0;f<u.length;f++){var h=u[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,h.key,h)}}return function(d,u,f){return u&&c(d.prototype,u),f&&c(d,f),d}}();function a(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}var o=function(){function c(d,u){a(this,c),this.quill=d,this.options=u,this.modules={}}return s(c,[{key:"init",value:function(){var u=this;Object.keys(this.options.modules).forEach(function(f){u.modules[f]==null&&u.addModule(f)})}},{key:"addModule",value:function(u){var f=this.quill.constructor.import("modules/"+u);return this.modules[u]=new f(this.quill,this.options.modules[u]||{}),this.modules[u]}}]),c}();o.DEFAULTS={modules:{}},o.themes={default:o},i.default=o},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function m(y,_){for(var x=0;x<_.length;x++){var N=_[x];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(y,N.key,N)}}return function(y,_,x){return _&&m(y.prototype,_),x&&m(y,x),y}}(),a=function m(y,_,x){y===null&&(y=Function.prototype);var N=Object.getOwnPropertyDescriptor(y,_);if(N===void 0){var k=Object.getPrototypeOf(y);return k===null?void 0:m(k,_,x)}else{if("value"in N)return N.value;var T=N.get;return T===void 0?void 0:T.call(x)}},o=r(0),c=f(o),d=r(7),u=f(d);function f(m){return m&&m.__esModule?m:{default:m}}function h(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function p(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function v(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var w="\uFEFF",b=function(m){v(y,m);function y(_){h(this,y);var x=p(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,_));return x.contentNode=document.createElement("span"),x.contentNode.setAttribute("contenteditable",!1),[].slice.call(x.domNode.childNodes).forEach(function(N){x.contentNode.appendChild(N)}),x.leftGuard=document.createTextNode(w),x.rightGuard=document.createTextNode(w),x.domNode.appendChild(x.leftGuard),x.domNode.appendChild(x.contentNode),x.domNode.appendChild(x.rightGuard),x}return s(y,[{key:"index",value:function(x,N){return x===this.leftGuard?0:x===this.rightGuard?1:a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"index",this).call(this,x,N)}},{key:"restore",value:function(x){var N=void 0,k=void 0,T=x.data.split(w).join("");if(x===this.leftGuard)if(this.prev instanceof u.default){var C=this.prev.length();this.prev.insertAt(C,T),N={startNode:this.prev.domNode,startOffset:C+T.length}}else k=document.createTextNode(T),this.parent.insertBefore(c.default.create(k),this),N={startNode:k,startOffset:T.length};else x===this.rightGuard&&(this.next instanceof u.default?(this.next.insertAt(0,T),N={startNode:this.next.domNode,startOffset:T.length}):(k=document.createTextNode(T),this.parent.insertBefore(c.default.create(k),this.next),N={startNode:k,startOffset:T.length}));return x.data=w,N}},{key:"update",value:function(x,N){var k=this;x.forEach(function(T){if(T.type==="characterData"&&(T.target===k.leftGuard||T.target===k.rightGuard)){var C=k.restore(T.target);C&&(N.range=C)}})}}]),y}(c.default.Embed);i.default=b},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.AlignStyle=i.AlignClass=i.AlignAttribute=void 0;var s=r(0),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}var c={scope:a.default.Scope.BLOCK,whitelist:["right","center","justify"]},d=new a.default.Attributor.Attribute("align","align",c),u=new a.default.Attributor.Class("align","ql-align",c),f=new a.default.Attributor.Style("align","text-align",c);i.AlignAttribute=d,i.AlignClass=u,i.AlignStyle=f},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.BackgroundStyle=i.BackgroundClass=void 0;var s=r(0),a=c(s),o=r(26);function c(f){return f&&f.__esModule?f:{default:f}}var d=new a.default.Attributor.Class("background","ql-bg",{scope:a.default.Scope.INLINE}),u=new o.ColorAttributor("background","background-color",{scope:a.default.Scope.INLINE});i.BackgroundClass=d,i.BackgroundStyle=u},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.DirectionStyle=i.DirectionClass=i.DirectionAttribute=void 0;var s=r(0),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}var c={scope:a.default.Scope.BLOCK,whitelist:["rtl"]},d=new a.default.Attributor.Attribute("direction","dir",c),u=new a.default.Attributor.Class("direction","ql-direction",c),f=new a.default.Attributor.Style("direction","direction",c);i.DirectionAttribute=d,i.DirectionClass=u,i.DirectionStyle=f},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.FontClass=i.FontStyle=void 0;var s=function(){function m(y,_){for(var x=0;x<_.length;x++){var N=_[x];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(y,N.key,N)}}return function(y,_,x){return _&&m(y.prototype,_),x&&m(y,x),y}}(),a=function m(y,_,x){y===null&&(y=Function.prototype);var N=Object.getOwnPropertyDescriptor(y,_);if(N===void 0){var k=Object.getPrototypeOf(y);return k===null?void 0:m(k,_,x)}else{if("value"in N)return N.value;var T=N.get;return T===void 0?void 0:T.call(x)}},o=r(0),c=d(o);function d(m){return m&&m.__esModule?m:{default:m}}function u(m,y){if(!(m instanceof y))throw new TypeError("Cannot call a class as a function")}function f(m,y){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:m}function h(m,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);m.prototype=Object.create(y&&y.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(m,y):m.__proto__=y)}var p={scope:c.default.Scope.INLINE,whitelist:["serif","monospace"]},v=new c.default.Attributor.Class("font","ql-font",p),w=function(m){h(y,m);function y(){return u(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return s(y,[{key:"value",value:function(x){return a(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,x).replace(/["']/g,"")}}]),y}(c.default.Attributor.Style),b=new w("font","font-family",p);i.FontStyle=b,i.FontClass=v},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.SizeStyle=i.SizeClass=void 0;var s=r(0),a=o(s);function o(u){return u&&u.__esModule?u:{default:u}}var c=new a.default.Attributor.Class("size","ql-size",{scope:a.default.Scope.INLINE,whitelist:["small","large","huge"]}),d=new a.default.Attributor.Style("size","font-size",{scope:a.default.Scope.INLINE,whitelist:["10px","18px","32px"]});i.SizeClass=c,i.SizeStyle=d},function(t,i,r){t.exports={align:{"":r(76),center:r(77),right:r(78),justify:r(79)},background:r(80),blockquote:r(81),bold:r(82),clean:r(83),code:r(58),"code-block":r(58),color:r(84),direction:{"":r(85),rtl:r(86)},float:{center:r(87),full:r(88),left:r(89),right:r(90)},formula:r(91),header:{1:r(92),2:r(93)},italic:r(94),image:r(95),indent:{"+1":r(96),"-1":r(97)},link:r(98),list:{ordered:r(99),bullet:r(100),check:r(101)},script:{sub:r(102),super:r(103)},strike:r(104),underline:r(105),video:r(106)}},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.getLastChangeIndex=i.default=void 0;var s=function(){function _(x,N){for(var k=0;k<N.length;k++){var T=N[k];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(x,T.key,T)}}return function(x,N,k){return N&&_(x.prototype,N),k&&_(x,k),x}}(),a=r(0),o=h(a),c=r(5),d=h(c),u=r(9),f=h(u);function h(_){return _&&_.__esModule?_:{default:_}}function p(_,x){if(!(_ instanceof x))throw new TypeError("Cannot call a class as a function")}function v(_,x){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:_}function w(_,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);_.prototype=Object.create(x&&x.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(_,x):_.__proto__=x)}var b=function(_){w(x,_);function x(N,k){p(this,x);var T=v(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,N,k));return T.lastRecorded=0,T.ignoreChange=!1,T.clear(),T.quill.on(d.default.events.EDITOR_CHANGE,function(C,P,D,E){C!==d.default.events.TEXT_CHANGE||T.ignoreChange||(!T.options.userOnly||E===d.default.sources.USER?T.record(P,D):T.transform(P))}),T.quill.keyboard.addBinding({key:"Z",shortKey:!0},T.undo.bind(T)),T.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},T.redo.bind(T)),/Win/i.test(navigator.platform)&&T.quill.keyboard.addBinding({key:"Y",shortKey:!0},T.redo.bind(T)),T}return s(x,[{key:"change",value:function(k,T){if(this.stack[k].length!==0){var C=this.stack[k].pop();this.stack[T].push(C),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(C[k],d.default.sources.USER),this.ignoreChange=!1;var P=y(C[k]);this.quill.setSelection(P)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(k,T){if(k.ops.length!==0){this.stack.redo=[];var C=this.quill.getContents().diff(T),P=Date.now();if(this.lastRecorded+this.options.delay>P&&this.stack.undo.length>0){var D=this.stack.undo.pop();C=C.compose(D.undo),k=D.redo.compose(k)}else this.lastRecorded=P;this.stack.undo.push({redo:k,undo:C}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(k){this.stack.undo.forEach(function(T){T.undo=k.transform(T.undo,!0),T.redo=k.transform(T.redo,!0)}),this.stack.redo.forEach(function(T){T.undo=k.transform(T.undo,!0),T.redo=k.transform(T.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),x}(f.default);b.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function m(_){var x=_.ops[_.ops.length-1];return x==null?!1:x.insert!=null?typeof x.insert=="string"&&x.insert.endsWith(`
`):x.attributes!=null?Object.keys(x.attributes).some(function(N){return o.default.query(N,o.default.Scope.BLOCK)!=null}):!1}function y(_){var x=_.reduce(function(k,T){return k+=T.delete||0,k},0),N=_.length()-x;return m(_)&&(N-=1),N}i.default=b,i.getLastChangeIndex=y},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.BaseTooltip=void 0;var s=function(){function L(z,X){for(var Q=0;Q<X.length;Q++){var V=X[Q];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(z,V.key,V)}}return function(z,X,Q){return X&&L(z.prototype,X),Q&&L(z,Q),z}}(),a=function L(z,X,Q){z===null&&(z=Function.prototype);var V=Object.getOwnPropertyDescriptor(z,X);if(V===void 0){var Z=Object.getPrototypeOf(z);return Z===null?void 0:L(Z,X,Q)}else{if("value"in V)return V.value;var _e=V.get;return _e===void 0?void 0:_e.call(Q)}},o=r(3),c=P(o),d=r(2),u=P(d),f=r(8),h=P(f),p=r(23),v=P(p),w=r(34),b=P(w),m=r(59),y=P(m),_=r(60),x=P(_),N=r(28),k=P(N),T=r(61),C=P(T);function P(L){return L&&L.__esModule?L:{default:L}}function D(L,z){if(!(L instanceof z))throw new TypeError("Cannot call a class as a function")}function E(L,z){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z&&(typeof z=="object"||typeof z=="function")?z:L}function A(L,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof z);L.prototype=Object.create(z&&z.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(L,z):L.__proto__=z)}var I=[!1,"center","right","justify"],R=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],M=[!1,"serif","monospace"],Y=["1","2","3",!1],q=["small",!1,"large","huge"],G=function(L){A(z,L);function z(X,Q){D(this,z);var V=E(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,X,Q)),Z=function _e(le){if(!document.body.contains(X.root))return document.body.removeEventListener("click",_e);V.tooltip!=null&&!V.tooltip.root.contains(le.target)&&document.activeElement!==V.tooltip.textbox&&!V.quill.hasFocus()&&V.tooltip.hide(),V.pickers!=null&&V.pickers.forEach(function(ce){ce.container.contains(le.target)||ce.close()})};return X.emitter.listenDOM("click",document.body,Z),V}return s(z,[{key:"addModule",value:function(Q){var V=a(z.prototype.__proto__||Object.getPrototypeOf(z.prototype),"addModule",this).call(this,Q);return Q==="toolbar"&&this.extendToolbar(V),V}},{key:"buildButtons",value:function(Q,V){Q.forEach(function(Z){var _e=Z.getAttribute("class")||"";_e.split(/\s+/).forEach(function(le){if(le.startsWith("ql-")&&(le=le.slice(3),V[le]!=null))if(le==="direction")Z.innerHTML=V[le][""]+V[le].rtl;else if(typeof V[le]=="string")Z.innerHTML=V[le];else{var ce=Z.value||"";ce!=null&&V[le][ce]&&(Z.innerHTML=V[le][ce])}})})}},{key:"buildPickers",value:function(Q,V){var Z=this;this.pickers=Q.map(function(le){if(le.classList.contains("ql-align"))return le.querySelector("option")==null&&W(le,I),new x.default(le,V.align);if(le.classList.contains("ql-background")||le.classList.contains("ql-color")){var ce=le.classList.contains("ql-background")?"background":"color";return le.querySelector("option")==null&&W(le,R,ce==="background"?"#ffffff":"#000000"),new y.default(le,V[ce])}else return le.querySelector("option")==null&&(le.classList.contains("ql-font")?W(le,M):le.classList.contains("ql-header")?W(le,Y):le.classList.contains("ql-size")&&W(le,q)),new k.default(le)});var _e=function(){Z.pickers.forEach(function(ce){ce.update()})};this.quill.on(h.default.events.EDITOR_CHANGE,_e)}}]),z}(b.default);G.DEFAULTS=(0,c.default)(!0,{},b.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var z=this,X=this.container.querySelector("input.ql-image[type=file]");X==null&&(X=document.createElement("input"),X.setAttribute("type","file"),X.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),X.classList.add("ql-image"),X.addEventListener("change",function(){if(X.files!=null&&X.files[0]!=null){var Q=new FileReader;Q.onload=function(V){var Z=z.quill.getSelection(!0);z.quill.updateContents(new u.default().retain(Z.index).delete(Z.length).insert({image:V.target.result}),h.default.sources.USER),z.quill.setSelection(Z.index+1,h.default.sources.SILENT),X.value=""},Q.readAsDataURL(X.files[0])}}),this.container.appendChild(X)),X.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var B=function(L){A(z,L);function z(X,Q){D(this,z);var V=E(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,X,Q));return V.textbox=V.root.querySelector('input[type="text"]'),V.listen(),V}return s(z,[{key:"listen",value:function(){var Q=this;this.textbox.addEventListener("keydown",function(V){v.default.match(V,"enter")?(Q.save(),V.preventDefault()):v.default.match(V,"escape")&&(Q.cancel(),V.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),V!=null?this.textbox.value=V:Q!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+Q)||""),this.root.setAttribute("data-mode",Q)}},{key:"restoreFocus",value:function(){var Q=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=Q}},{key:"save",value:function(){var Q=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var V=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",Q,h.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",Q,h.default.sources.USER)),this.quill.root.scrollTop=V;break}case"video":Q=J(Q);case"formula":{if(!Q)break;var Z=this.quill.getSelection(!0);if(Z!=null){var _e=Z.index+Z.length;this.quill.insertEmbed(_e,this.root.getAttribute("data-mode"),Q,h.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(_e+1," ",h.default.sources.USER),this.quill.setSelection(_e+2,h.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),z}(C.default);function J(L){var z=L.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||L.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return z?(z[1]||"https")+"://www.youtube.com/embed/"+z[2]+"?showinfo=0":(z=L.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(z[1]||"https")+"://player.vimeo.com/video/"+z[2]+"/":L}function W(L,z){var X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;z.forEach(function(Q){var V=document.createElement("option");Q===X?V.setAttribute("selected","selected"):V.setAttribute("value",Q),L.appendChild(V)})}i.BaseTooltip=B,i.default=G},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function a(){this.head=this.tail=null,this.length=0}return a.prototype.append=function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];this.insertBefore(o[0],null),o.length>1&&this.append.apply(this,o.slice(1))},a.prototype.contains=function(o){for(var c,d=this.iterator();c=d();)if(c===o)return!0;return!1},a.prototype.insertBefore=function(o,c){o&&(o.next=c,c!=null?(o.prev=c.prev,c.prev!=null&&(c.prev.next=o),c.prev=o,c===this.head&&(this.head=o)):this.tail!=null?(this.tail.next=o,o.prev=this.tail,this.tail=o):(o.prev=null,this.head=this.tail=o),this.length+=1)},a.prototype.offset=function(o){for(var c=0,d=this.head;d!=null;){if(d===o)return c;c+=d.length(),d=d.next}return-1},a.prototype.remove=function(o){this.contains(o)&&(o.prev!=null&&(o.prev.next=o.next),o.next!=null&&(o.next.prev=o.prev),o===this.head&&(this.head=o.next),o===this.tail&&(this.tail=o.prev),this.length-=1)},a.prototype.iterator=function(o){return o===void 0&&(o=this.head),function(){var c=o;return o!=null&&(o=o.next),c}},a.prototype.find=function(o,c){c===void 0&&(c=!1);for(var d,u=this.iterator();d=u();){var f=d.length();if(o<f||c&&o===f&&(d.next==null||d.next.length()!==0))return[d,o];o-=f}return[null,0]},a.prototype.forEach=function(o){for(var c,d=this.iterator();c=d();)o(c)},a.prototype.forEachAt=function(o,c,d){if(!(c<=0))for(var u=this.find(o),f=u[0],h=u[1],p,v=o-h,w=this.iterator(f);(p=w())&&v<o+c;){var b=p.length();o>v?d(p,o-v,Math.min(c,v+b-o)):d(p,0,Math.min(b,o+c-v)),v+=b}},a.prototype.map=function(o){return this.reduce(function(c,d){return c.push(o(d)),c},[])},a.prototype.reduce=function(o,c){for(var d,u=this.iterator();d=u();)c=o(c,d);return c},a}();i.default=s},function(t,i,r){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var v in p)p.hasOwnProperty(v)&&(h[v]=p[v])};return function(h,p){f(h,p);function v(){this.constructor=h}h.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}();Object.defineProperty(i,"__esModule",{value:!0});var a=r(17),o=r(1),c={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},d=100,u=function(f){s(h,f);function h(p){var v=f.call(this,p)||this;return v.scroll=v,v.observer=new MutationObserver(function(w){v.update(w)}),v.observer.observe(v.domNode,c),v.attach(),v}return h.prototype.detach=function(){f.prototype.detach.call(this),this.observer.disconnect()},h.prototype.deleteAt=function(p,v){this.update(),p===0&&v===this.length()?this.children.forEach(function(w){w.remove()}):f.prototype.deleteAt.call(this,p,v)},h.prototype.formatAt=function(p,v,w,b){this.update(),f.prototype.formatAt.call(this,p,v,w,b)},h.prototype.insertAt=function(p,v,w){this.update(),f.prototype.insertAt.call(this,p,v,w)},h.prototype.optimize=function(p,v){var w=this;p===void 0&&(p=[]),v===void 0&&(v={}),f.prototype.optimize.call(this,v);for(var b=[].slice.call(this.observer.takeRecords());b.length>0;)p.push(b.pop());for(var m=function(N,k){k===void 0&&(k=!0),!(N==null||N===w)&&N.domNode.parentNode!=null&&(N.domNode[o.DATA_KEY].mutations==null&&(N.domNode[o.DATA_KEY].mutations=[]),k&&m(N.parent))},y=function(N){N.domNode[o.DATA_KEY]==null||N.domNode[o.DATA_KEY].mutations==null||(N instanceof a.default&&N.children.forEach(y),N.optimize(v))},_=p,x=0;_.length>0;x+=1){if(x>=d)throw new Error("[Parchment] Maximum optimize iterations reached");for(_.forEach(function(N){var k=o.find(N.target,!0);k!=null&&(k.domNode===N.target&&(N.type==="childList"?(m(o.find(N.previousSibling,!1)),[].forEach.call(N.addedNodes,function(T){var C=o.find(T,!1);m(C,!1),C instanceof a.default&&C.children.forEach(function(P){m(P,!1)})})):N.type==="attributes"&&m(k.prev)),m(k))}),this.children.forEach(y),_=[].slice.call(this.observer.takeRecords()),b=_.slice();b.length>0;)p.push(b.pop())}},h.prototype.update=function(p,v){var w=this;v===void 0&&(v={}),p=p||this.observer.takeRecords(),p.map(function(b){var m=o.find(b.target,!0);return m==null?null:m.domNode[o.DATA_KEY].mutations==null?(m.domNode[o.DATA_KEY].mutations=[b],m):(m.domNode[o.DATA_KEY].mutations.push(b),null)}).forEach(function(b){b==null||b===w||b.domNode[o.DATA_KEY]==null||b.update(b.domNode[o.DATA_KEY].mutations||[],v)}),this.domNode[o.DATA_KEY].mutations!=null&&f.prototype.update.call(this,this.domNode[o.DATA_KEY].mutations,v),this.optimize(p,v)},h.blotName="scroll",h.defaultChild="block",h.scope=o.Scope.BLOCK_BLOT,h.tagName="DIV",h}(a.default);i.default=u},function(t,i,r){var s=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])};return function(f,h){u(f,h);function p(){this.constructor=f}f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}();Object.defineProperty(i,"__esModule",{value:!0});var a=r(18),o=r(1);function c(u,f){if(Object.keys(u).length!==Object.keys(f).length)return!1;for(var h in u)if(u[h]!==f[h])return!1;return!0}var d=function(u){s(f,u);function f(){return u!==null&&u.apply(this,arguments)||this}return f.formats=function(h){if(h.tagName!==f.tagName)return u.formats.call(this,h)},f.prototype.format=function(h,p){var v=this;h===this.statics.blotName&&!p?(this.children.forEach(function(w){w instanceof a.default||(w=w.wrap(f.blotName,!0)),v.attributes.copy(w)}),this.unwrap()):u.prototype.format.call(this,h,p)},f.prototype.formatAt=function(h,p,v,w){if(this.formats()[v]!=null||o.query(v,o.Scope.ATTRIBUTE)){var b=this.isolate(h,p);b.format(v,w)}else u.prototype.formatAt.call(this,h,p,v,w)},f.prototype.optimize=function(h){u.prototype.optimize.call(this,h);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var v=this.next;v instanceof f&&v.prev===this&&c(p,v.formats())&&(v.moveChildren(this),v.remove())},f.blotName="inline",f.scope=o.Scope.INLINE_BLOT,f.tagName="SPAN",f}(a.default);i.default=d},function(t,i,r){var s=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){d(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(i,"__esModule",{value:!0});var a=r(18),o=r(1),c=function(d){s(u,d);function u(){return d!==null&&d.apply(this,arguments)||this}return u.formats=function(f){var h=o.query(u.blotName).tagName;if(f.tagName!==h)return d.formats.call(this,f)},u.prototype.format=function(f,h){o.query(f,o.Scope.BLOCK)!=null&&(f===this.statics.blotName&&!h?this.replaceWith(u.blotName):d.prototype.format.call(this,f,h))},u.prototype.formatAt=function(f,h,p,v){o.query(p,o.Scope.BLOCK)!=null?this.format(p,v):d.prototype.formatAt.call(this,f,h,p,v)},u.prototype.insertAt=function(f,h,p){if(p==null||o.query(h,o.Scope.INLINE)!=null)d.prototype.insertAt.call(this,f,h,p);else{var v=this.split(f),w=o.create(h,p);v.parent.insertBefore(w,v)}},u.prototype.update=function(f,h){navigator.userAgent.match(/Trident/)?this.build():d.prototype.update.call(this,f,h)},u.blotName="block",u.scope=o.Scope.BLOCK_BLOT,u.tagName="P",u}(a.default);i.default=c},function(t,i,r){var s=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,u){d.__proto__=u}||function(d,u){for(var f in u)u.hasOwnProperty(f)&&(d[f]=u[f])};return function(d,u){c(d,u);function f(){this.constructor=d}d.prototype=u===null?Object.create(u):(f.prototype=u.prototype,new f)}}();Object.defineProperty(i,"__esModule",{value:!0});var a=r(19),o=function(c){s(d,c);function d(){return c!==null&&c.apply(this,arguments)||this}return d.formats=function(u){},d.prototype.format=function(u,f){c.prototype.formatAt.call(this,0,this.length(),u,f)},d.prototype.formatAt=function(u,f,h,p){u===0&&f===this.length()?this.format(h,p):c.prototype.formatAt.call(this,u,f,h,p)},d.prototype.formats=function(){return this.statics.formats(this.domNode)},d}(a.default);i.default=o},function(t,i,r){var s=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,f){u.__proto__=f}||function(u,f){for(var h in f)f.hasOwnProperty(h)&&(u[h]=f[h])};return function(u,f){d(u,f);function h(){this.constructor=u}u.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(i,"__esModule",{value:!0});var a=r(19),o=r(1),c=function(d){s(u,d);function u(f){var h=d.call(this,f)||this;return h.text=h.statics.value(h.domNode),h}return u.create=function(f){return document.createTextNode(f)},u.value=function(f){var h=f.data;return h.normalize&&(h=h.normalize()),h},u.prototype.deleteAt=function(f,h){this.domNode.data=this.text=this.text.slice(0,f)+this.text.slice(f+h)},u.prototype.index=function(f,h){return this.domNode===f?h:-1},u.prototype.insertAt=function(f,h,p){p==null?(this.text=this.text.slice(0,f)+h+this.text.slice(f),this.domNode.data=this.text):d.prototype.insertAt.call(this,f,h,p)},u.prototype.length=function(){return this.text.length},u.prototype.optimize=function(f){d.prototype.optimize.call(this,f),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof u&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},u.prototype.position=function(f,h){return[this.domNode,f]},u.prototype.split=function(f,h){if(h===void 0&&(h=!1),!h){if(f===0)return this;if(f===this.length())return this.next}var p=o.create(this.domNode.splitText(f));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},u.prototype.update=function(f,h){var p=this;f.some(function(v){return v.type==="characterData"&&v.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},u.prototype.value=function(){return this.text},u.blotName="text",u.scope=o.Scope.INLINE_BLOT,u}(a.default);i.default=c},function(t,i,r){var s=document.createElement("div");if(s.classList.toggle("test-class",!1),s.classList.contains("test-class")){var a=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(o,c){return arguments.length>1&&!this.contains(o)==!c?c:a.call(this,o)}}String.prototype.startsWith||(String.prototype.startsWith=function(o,c){return c=c||0,this.substr(c,o.length)===o}),String.prototype.endsWith||(String.prototype.endsWith=function(o,c){var d=this.toString();(typeof c!="number"||!isFinite(c)||Math.floor(c)!==c||c>d.length)&&(c=d.length),c-=o.length;var u=d.indexOf(o,c);return u!==-1&&u===c}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(c){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof c!="function")throw new TypeError("predicate must be a function");for(var d=Object(this),u=d.length>>>0,f=arguments[1],h,p=0;p<u;p++)if(h=d[p],c.call(f,h,p,d))return h}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(t,i){var r=-1,s=1,a=0;function o(x,N,k){if(x==N)return x?[[a,x]]:[];(k<0||x.length<k)&&(k=null);var T=f(x,N),C=x.substring(0,T);x=x.substring(T),N=N.substring(T),T=h(x,N);var P=x.substring(x.length-T);x=x.substring(0,x.length-T),N=N.substring(0,N.length-T);var D=c(x,N);return C&&D.unshift([a,C]),P&&D.push([a,P]),v(D),k!=null&&(D=m(D,k)),D=y(D),D}function c(x,N){var k;if(!x)return[[s,N]];if(!N)return[[r,x]];var T=x.length>N.length?x:N,C=x.length>N.length?N:x,P=T.indexOf(C);if(P!=-1)return k=[[s,T.substring(0,P)],[a,C],[s,T.substring(P+C.length)]],x.length>N.length&&(k[0][0]=k[2][0]=r),k;if(C.length==1)return[[r,x],[s,N]];var D=p(x,N);if(D){var E=D[0],A=D[1],I=D[2],R=D[3],M=D[4],Y=o(E,I),q=o(A,R);return Y.concat([[a,M]],q)}return d(x,N)}function d(x,N){for(var k=x.length,T=N.length,C=Math.ceil((k+T)/2),P=C,D=2*C,E=new Array(D),A=new Array(D),I=0;I<D;I++)E[I]=-1,A[I]=-1;E[P+1]=0,A[P+1]=0;for(var R=k-T,M=R%2!=0,Y=0,q=0,G=0,B=0,J=0;J<C;J++){for(var W=-J+Y;W<=J-q;W+=2){var L=P+W,z;W==-J||W!=J&&E[L-1]<E[L+1]?z=E[L+1]:z=E[L-1]+1;for(var X=z-W;z<k&&X<T&&x.charAt(z)==N.charAt(X);)z++,X++;if(E[L]=z,z>k)q+=2;else if(X>T)Y+=2;else if(M){var Q=P+R-W;if(Q>=0&&Q<D&&A[Q]!=-1){var V=k-A[Q];if(z>=V)return u(x,N,z,X)}}}for(var Z=-J+G;Z<=J-B;Z+=2){var Q=P+Z,V;Z==-J||Z!=J&&A[Q-1]<A[Q+1]?V=A[Q+1]:V=A[Q-1]+1;for(var _e=V-Z;V<k&&_e<T&&x.charAt(k-V-1)==N.charAt(T-_e-1);)V++,_e++;if(A[Q]=V,V>k)B+=2;else if(_e>T)G+=2;else if(!M){var L=P+R-Z;if(L>=0&&L<D&&E[L]!=-1){var z=E[L],X=P+z-L;if(V=k-V,z>=V)return u(x,N,z,X)}}}}return[[r,x],[s,N]]}function u(x,N,k,T){var C=x.substring(0,k),P=N.substring(0,T),D=x.substring(k),E=N.substring(T),A=o(C,P),I=o(D,E);return A.concat(I)}function f(x,N){if(!x||!N||x.charAt(0)!=N.charAt(0))return 0;for(var k=0,T=Math.min(x.length,N.length),C=T,P=0;k<C;)x.substring(P,C)==N.substring(P,C)?(k=C,P=k):T=C,C=Math.floor((T-k)/2+k);return C}function h(x,N){if(!x||!N||x.charAt(x.length-1)!=N.charAt(N.length-1))return 0;for(var k=0,T=Math.min(x.length,N.length),C=T,P=0;k<C;)x.substring(x.length-C,x.length-P)==N.substring(N.length-C,N.length-P)?(k=C,P=k):T=C,C=Math.floor((T-k)/2+k);return C}function p(x,N){var k=x.length>N.length?x:N,T=x.length>N.length?N:x;if(k.length<4||T.length*2<k.length)return null;function C(q,G,B){for(var J=q.substring(B,B+Math.floor(q.length/4)),W=-1,L="",z,X,Q,V;(W=G.indexOf(J,W+1))!=-1;){var Z=f(q.substring(B),G.substring(W)),_e=h(q.substring(0,B),G.substring(0,W));L.length<_e+Z&&(L=G.substring(W-_e,W)+G.substring(W,W+Z),z=q.substring(0,B-_e),X=q.substring(B+Z),Q=G.substring(0,W-_e),V=G.substring(W+Z))}return L.length*2>=q.length?[z,X,Q,V,L]:null}var P=C(k,T,Math.ceil(k.length/4)),D=C(k,T,Math.ceil(k.length/2)),E;if(!P&&!D)return null;D?P?E=P[4].length>D[4].length?P:D:E=D:E=P;var A,I,R,M;x.length>N.length?(A=E[0],I=E[1],R=E[2],M=E[3]):(R=E[0],M=E[1],A=E[2],I=E[3]);var Y=E[4];return[A,I,R,M,Y]}function v(x){x.push([a,""]);for(var N=0,k=0,T=0,C="",P="",D;N<x.length;)switch(x[N][0]){case s:T++,P+=x[N][1],N++;break;case r:k++,C+=x[N][1],N++;break;case a:k+T>1?(k!==0&&T!==0&&(D=f(P,C),D!==0&&(N-k-T>0&&x[N-k-T-1][0]==a?x[N-k-T-1][1]+=P.substring(0,D):(x.splice(0,0,[a,P.substring(0,D)]),N++),P=P.substring(D),C=C.substring(D)),D=h(P,C),D!==0&&(x[N][1]=P.substring(P.length-D)+x[N][1],P=P.substring(0,P.length-D),C=C.substring(0,C.length-D))),k===0?x.splice(N-T,k+T,[s,P]):T===0?x.splice(N-k,k+T,[r,C]):x.splice(N-k-T,k+T,[r,C],[s,P]),N=N-k-T+(k?1:0)+(T?1:0)+1):N!==0&&x[N-1][0]==a?(x[N-1][1]+=x[N][1],x.splice(N,1)):N++,T=0,k=0,C="",P="";break}x[x.length-1][1]===""&&x.pop();var E=!1;for(N=1;N<x.length-1;)x[N-1][0]==a&&x[N+1][0]==a&&(x[N][1].substring(x[N][1].length-x[N-1][1].length)==x[N-1][1]?(x[N][1]=x[N-1][1]+x[N][1].substring(0,x[N][1].length-x[N-1][1].length),x[N+1][1]=x[N-1][1]+x[N+1][1],x.splice(N-1,1),E=!0):x[N][1].substring(0,x[N+1][1].length)==x[N+1][1]&&(x[N-1][1]+=x[N+1][1],x[N][1]=x[N][1].substring(x[N+1][1].length)+x[N+1][1],x.splice(N+1,1),E=!0)),N++;E&&v(x)}var w=o;w.INSERT=s,w.DELETE=r,w.EQUAL=a,t.exports=w;function b(x,N){if(N===0)return[a,x];for(var k=0,T=0;T<x.length;T++){var C=x[T];if(C[0]===r||C[0]===a){var P=k+C[1].length;if(N===P)return[T+1,x];if(N<P){x=x.slice();var D=N-k,E=[C[0],C[1].slice(0,D)],A=[C[0],C[1].slice(D)];return x.splice(T,1,E,A),[T+1,x]}else k=P}}throw new Error("cursor_pos is out of bounds!")}function m(x,N){var k=b(x,N),T=k[1],C=k[0],P=T[C],D=T[C+1];if(P==null)return x;if(P[0]!==a)return x;if(D!=null&&P[1]+D[1]===D[1]+P[1])return T.splice(C,2,D,P),_(T,C,2);if(D!=null&&D[1].indexOf(P[1])===0){T.splice(C,2,[D[0],P[1]],[0,P[1]]);var E=D[1].slice(P[1].length);return E.length>0&&T.splice(C+2,0,[D[0],E]),_(T,C,3)}else return x}function y(x){for(var N=!1,k=function(D){return D.charCodeAt(0)>=56320&&D.charCodeAt(0)<=57343},T=function(D){return D.charCodeAt(D.length-1)>=55296&&D.charCodeAt(D.length-1)<=56319},C=2;C<x.length;C+=1)x[C-2][0]===a&&T(x[C-2][1])&&x[C-1][0]===r&&k(x[C-1][1])&&x[C][0]===s&&k(x[C][1])&&(N=!0,x[C-1][1]=x[C-2][1].slice(-1)+x[C-1][1],x[C][1]=x[C-2][1].slice(-1)+x[C][1],x[C-2][1]=x[C-2][1].slice(0,-1));if(!N)return x;for(var P=[],C=0;C<x.length;C+=1)x[C][1].length>0&&P.push(x[C]);return P}function _(x,N,k){for(var T=N+k-1;T>=0&&T>=N-1;T--)if(T+1<x.length){var C=x[T],P=x[T+1];C[0]===P[1]&&x.splice(T,2,[C[0],C[1]+P[1]])}return x}},function(t,i){i=t.exports=typeof Object.keys=="function"?Object.keys:r,i.shim=r;function r(s){var a=[];for(var o in s)a.push(o);return a}},function(t,i){var r=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";i=t.exports=r?s:a,i.supported=s;function s(o){return Object.prototype.toString.call(o)=="[object Arguments]"}i.unsupported=a;function a(o){return o&&typeof o=="object"&&typeof o.length=="number"&&Object.prototype.hasOwnProperty.call(o,"callee")&&!Object.prototype.propertyIsEnumerable.call(o,"callee")||!1}},function(t,i){var r=Object.prototype.hasOwnProperty,s="~";function a(){}Object.create&&(a.prototype=Object.create(null),new a().__proto__||(s=!1));function o(d,u,f){this.fn=d,this.context=u,this.once=f||!1}function c(){this._events=new a,this._eventsCount=0}c.prototype.eventNames=function(){var u=[],f,h;if(this._eventsCount===0)return u;for(h in f=this._events)r.call(f,h)&&u.push(s?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},c.prototype.listeners=function(u,f){var h=s?s+u:u,p=this._events[h];if(f)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var v=0,w=p.length,b=new Array(w);v<w;v++)b[v]=p[v].fn;return b},c.prototype.emit=function(u,f,h,p,v,w){var b=s?s+u:u;if(!this._events[b])return!1;var m=this._events[b],y=arguments.length,_,x;if(m.fn){switch(m.once&&this.removeListener(u,m.fn,void 0,!0),y){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,f),!0;case 3:return m.fn.call(m.context,f,h),!0;case 4:return m.fn.call(m.context,f,h,p),!0;case 5:return m.fn.call(m.context,f,h,p,v),!0;case 6:return m.fn.call(m.context,f,h,p,v,w),!0}for(x=1,_=new Array(y-1);x<y;x++)_[x-1]=arguments[x];m.fn.apply(m.context,_)}else{var N=m.length,k;for(x=0;x<N;x++)switch(m[x].once&&this.removeListener(u,m[x].fn,void 0,!0),y){case 1:m[x].fn.call(m[x].context);break;case 2:m[x].fn.call(m[x].context,f);break;case 3:m[x].fn.call(m[x].context,f,h);break;case 4:m[x].fn.call(m[x].context,f,h,p);break;default:if(!_)for(k=1,_=new Array(y-1);k<y;k++)_[k-1]=arguments[k];m[x].fn.apply(m[x].context,_)}}return!0},c.prototype.on=function(u,f,h){var p=new o(f,h||this),v=s?s+u:u;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],p]:this._events[v].push(p):(this._events[v]=p,this._eventsCount++),this},c.prototype.once=function(u,f,h){var p=new o(f,h||this,!0),v=s?s+u:u;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],p]:this._events[v].push(p):(this._events[v]=p,this._eventsCount++),this},c.prototype.removeListener=function(u,f,h,p){var v=s?s+u:u;if(!this._events[v])return this;if(!f)return--this._eventsCount===0?this._events=new a:delete this._events[v],this;var w=this._events[v];if(w.fn)w.fn===f&&(!p||w.once)&&(!h||w.context===h)&&(--this._eventsCount===0?this._events=new a:delete this._events[v]);else{for(var b=0,m=[],y=w.length;b<y;b++)(w[b].fn!==f||p&&!w[b].once||h&&w[b].context!==h)&&m.push(w[b]);m.length?this._events[v]=m.length===1?m[0]:m:--this._eventsCount===0?this._events=new a:delete this._events[v]}return this},c.prototype.removeAllListeners=function(u){var f;return u?(f=s?s+u:u,this._events[f]&&(--this._eventsCount===0?this._events=new a:delete this._events[f])):(this._events=new a,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prototype.setMaxListeners=function(){return this},c.prefixed=s,c.EventEmitter=c,typeof t<"u"&&(t.exports=c)},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.matchText=i.matchSpacing=i.matchNewline=i.matchBlot=i.matchAttributor=i.default=void 0;var s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ce){return typeof Ce}:function(Ce){return Ce&&typeof Symbol=="function"&&Ce.constructor===Symbol&&Ce!==Symbol.prototype?"symbol":typeof Ce},a=function(){function Ce($,ke){var Se=[],pe=!0,U=!1,H=void 0;try{for(var te=$[Symbol.iterator](),he;!(pe=(he=te.next()).done)&&(Se.push(he.value),!(ke&&Se.length===ke));pe=!0);}catch(ve){U=!0,H=ve}finally{try{!pe&&te.return&&te.return()}finally{if(U)throw H}}return Se}return function($,ke){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return Ce($,ke);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function Ce($,ke){for(var Se=0;Se<ke.length;Se++){var pe=ke[Se];pe.enumerable=pe.enumerable||!1,pe.configurable=!0,"value"in pe&&(pe.writable=!0),Object.defineProperty($,pe.key,pe)}}return function($,ke,Se){return ke&&Ce($.prototype,ke),Se&&Ce($,Se),$}}(),c=r(3),d=A(c),u=r(2),f=A(u),h=r(0),p=A(h),v=r(5),w=A(v),b=r(10),m=A(b),y=r(9),_=A(y),x=r(36),N=r(37),k=r(13),T=A(k),C=r(26),P=r(38),D=r(39),E=r(40);function A(Ce){return Ce&&Ce.__esModule?Ce:{default:Ce}}function I(Ce,$,ke){return $ in Ce?Object.defineProperty(Ce,$,{value:ke,enumerable:!0,configurable:!0,writable:!0}):Ce[$]=ke,Ce}function R(Ce,$){if(!(Ce instanceof $))throw new TypeError("Cannot call a class as a function")}function M(Ce,$){if(!Ce)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $&&(typeof $=="object"||typeof $=="function")?$:Ce}function Y(Ce,$){if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof $);Ce.prototype=Object.create($&&$.prototype,{constructor:{value:Ce,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(Ce,$):Ce.__proto__=$)}var q=(0,m.default)("quill:clipboard"),G="__ql-matcher",B=[[Node.TEXT_NODE,je],[Node.TEXT_NODE,Ve],["br",Fe],[Node.ELEMENT_NODE,Ve],[Node.ELEMENT_NODE,ce],[Node.ELEMENT_NODE,fe],[Node.ELEMENT_NODE,le],[Node.ELEMENT_NODE,Je],["li",Re],["b",_e.bind(_e,"bold")],["i",_e.bind(_e,"italic")],["style",Ae]],J=[x.AlignAttribute,P.DirectionAttribute].reduce(function(Ce,$){return Ce[$.keyName]=$,Ce},{}),W=[x.AlignStyle,N.BackgroundStyle,C.ColorStyle,P.DirectionStyle,D.FontStyle,E.SizeStyle].reduce(function(Ce,$){return Ce[$.keyName]=$,Ce},{}),L=function(Ce){Y($,Ce);function $(ke,Se){R(this,$);var pe=M(this,($.__proto__||Object.getPrototypeOf($)).call(this,ke,Se));return pe.quill.root.addEventListener("paste",pe.onPaste.bind(pe)),pe.container=pe.quill.addContainer("ql-clipboard"),pe.container.setAttribute("contenteditable",!0),pe.container.setAttribute("tabindex",-1),pe.matchers=[],B.concat(pe.options.matchers).forEach(function(U){var H=a(U,2),te=H[0],he=H[1];!Se.matchVisual&&he===fe||pe.addMatcher(te,he)}),pe}return o($,[{key:"addMatcher",value:function(Se,pe){this.matchers.push([Se,pe])}},{key:"convert",value:function(Se){if(typeof Se=="string")return this.container.innerHTML=Se.replace(/\>\r?\n +\</g,"><"),this.convert();var pe=this.quill.getFormat(this.quill.selection.savedRange.index);if(pe[T.default.blotName]){var U=this.container.innerText;return this.container.innerHTML="",new f.default().insert(U,I({},T.default.blotName,pe[T.default.blotName]))}var H=this.prepareMatching(),te=a(H,2),he=te[0],ve=te[1],ae=Z(this.container,he,ve);return Q(ae,`
`)&&ae.ops[ae.ops.length-1].attributes==null&&(ae=ae.compose(new f.default().retain(ae.length()-1).delete(1))),q.log("convert",this.container.innerHTML,ae),this.container.innerHTML="",ae}},{key:"dangerouslyPasteHTML",value:function(Se,pe){var U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:w.default.sources.API;if(typeof Se=="string")this.quill.setContents(this.convert(Se),pe),this.quill.setSelection(0,w.default.sources.SILENT);else{var H=this.convert(pe);this.quill.updateContents(new f.default().retain(Se).concat(H),U),this.quill.setSelection(Se+H.length(),w.default.sources.SILENT)}}},{key:"onPaste",value:function(Se){var pe=this;if(!(Se.defaultPrevented||!this.quill.isEnabled())){var U=this.quill.getSelection(),H=new f.default().retain(U.index),te=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(w.default.sources.SILENT),setTimeout(function(){H=H.concat(pe.convert()).delete(U.length),pe.quill.updateContents(H,w.default.sources.USER),pe.quill.setSelection(H.length()-U.length,w.default.sources.SILENT),pe.quill.scrollingContainer.scrollTop=te,pe.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Se=this,pe=[],U=[];return this.matchers.forEach(function(H){var te=a(H,2),he=te[0],ve=te[1];switch(he){case Node.TEXT_NODE:U.push(ve);break;case Node.ELEMENT_NODE:pe.push(ve);break;default:[].forEach.call(Se.container.querySelectorAll(he),function(ae){ae[G]=ae[G]||[],ae[G].push(ve)});break}}),[pe,U]}}]),$}(_.default);L.DEFAULTS={matchers:[],matchVisual:!0};function z(Ce,$,ke){return(typeof $>"u"?"undefined":s($))==="object"?Object.keys($).reduce(function(Se,pe){return z(Se,pe,$[pe])},Ce):Ce.reduce(function(Se,pe){return pe.attributes&&pe.attributes[$]?Se.push(pe):Se.insert(pe.insert,(0,d.default)({},I({},$,ke),pe.attributes))},new f.default)}function X(Ce){if(Ce.nodeType!==Node.ELEMENT_NODE)return{};var $="__ql-computed-style";return Ce[$]||(Ce[$]=window.getComputedStyle(Ce))}function Q(Ce,$){for(var ke="",Se=Ce.ops.length-1;Se>=0&&ke.length<$.length;--Se){var pe=Ce.ops[Se];if(typeof pe.insert!="string")break;ke=pe.insert+ke}return ke.slice(-1*$.length)===$}function V(Ce){if(Ce.childNodes.length===0)return!1;var $=X(Ce);return["block","list-item"].indexOf($.display)>-1}function Z(Ce,$,ke){return Ce.nodeType===Ce.TEXT_NODE?ke.reduce(function(Se,pe){return pe(Ce,Se)},new f.default):Ce.nodeType===Ce.ELEMENT_NODE?[].reduce.call(Ce.childNodes||[],function(Se,pe){var U=Z(pe,$,ke);return pe.nodeType===Ce.ELEMENT_NODE&&(U=$.reduce(function(H,te){return te(pe,H)},U),U=(pe[G]||[]).reduce(function(H,te){return te(pe,H)},U)),Se.concat(U)},new f.default):new f.default}function _e(Ce,$,ke){return z(ke,Ce,!0)}function le(Ce,$){var ke=p.default.Attributor.Attribute.keys(Ce),Se=p.default.Attributor.Class.keys(Ce),pe=p.default.Attributor.Style.keys(Ce),U={};return ke.concat(Se).concat(pe).forEach(function(H){var te=p.default.query(H,p.default.Scope.ATTRIBUTE);te!=null&&(U[te.attrName]=te.value(Ce),U[te.attrName])||(te=J[H],te!=null&&(te.attrName===H||te.keyName===H)&&(U[te.attrName]=te.value(Ce)||void 0),te=W[H],te!=null&&(te.attrName===H||te.keyName===H)&&(te=W[H],U[te.attrName]=te.value(Ce)||void 0))}),Object.keys(U).length>0&&($=z($,U)),$}function ce(Ce,$){var ke=p.default.query(Ce);if(ke==null)return $;if(ke.prototype instanceof p.default.Embed){var Se={},pe=ke.value(Ce);pe!=null&&(Se[ke.blotName]=pe,$=new f.default().insert(Se,ke.formats(Ce)))}else typeof ke.formats=="function"&&($=z($,ke.blotName,ke.formats(Ce)));return $}function Fe(Ce,$){return Q($,`
`)||$.insert(`
`),$}function Ae(){return new f.default}function Re(Ce,$){var ke=p.default.query(Ce);if(ke==null||ke.blotName!=="list-item"||!Q($,`
`))return $;for(var Se=-1,pe=Ce.parentNode;!pe.classList.contains("ql-clipboard");)(p.default.query(pe)||{}).blotName==="list"&&(Se+=1),pe=pe.parentNode;return Se<=0?$:$.compose(new f.default().retain($.length()-1).retain(1,{indent:Se}))}function Ve(Ce,$){return Q($,`
`)||(V(Ce)||$.length()>0&&Ce.nextSibling&&V(Ce.nextSibling))&&$.insert(`
`),$}function fe(Ce,$){if(V(Ce)&&Ce.nextElementSibling!=null&&!Q($,`

`)){var ke=Ce.offsetHeight+parseFloat(X(Ce).marginTop)+parseFloat(X(Ce).marginBottom);Ce.nextElementSibling.offsetTop>Ce.offsetTop+ke*1.5&&$.insert(`
`)}return $}function Je(Ce,$){var ke={},Se=Ce.style||{};return Se.fontStyle&&X(Ce).fontStyle==="italic"&&(ke.italic=!0),Se.fontWeight&&(X(Ce).fontWeight.startsWith("bold")||parseInt(X(Ce).fontWeight)>=700)&&(ke.bold=!0),Object.keys(ke).length>0&&($=z($,ke)),parseFloat(Se.textIndent||0)>0&&($=new f.default().insert("	").concat($)),$}function je(Ce,$){var ke=Ce.data;if(Ce.parentNode.tagName==="O:P")return $.insert(ke.trim());if(ke.trim().length===0&&Ce.parentNode.classList.contains("ql-clipboard"))return $;if(!X(Ce.parentNode).whiteSpace.startsWith("pre")){var Se=function(U,H){return H=H.replace(/[^\u00a0]/g,""),H.length<1&&U?" ":H};ke=ke.replace(/\r\n/g," ").replace(/\n/g," "),ke=ke.replace(/\s\s+/g,Se.bind(Se,!0)),(Ce.previousSibling==null&&V(Ce.parentNode)||Ce.previousSibling!=null&&V(Ce.previousSibling))&&(ke=ke.replace(/^\s+/,Se.bind(Se,!1))),(Ce.nextSibling==null&&V(Ce.parentNode)||Ce.nextSibling!=null&&V(Ce.nextSibling))&&(ke=ke.replace(/\s+$/,Se.bind(Se,!1)))}return $.insert(ke)}i.default=L,i.matchAttributor=le,i.matchBlot=ce,i.matchNewline=Ve,i.matchSpacing=fe,i.matchText=je},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function v(w,b){for(var m=0;m<b.length;m++){var y=b[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(w,y.key,y)}}return function(w,b,m){return b&&v(w.prototype,b),m&&v(w,m),w}}(),a=function v(w,b,m){w===null&&(w=Function.prototype);var y=Object.getOwnPropertyDescriptor(w,b);if(y===void 0){var _=Object.getPrototypeOf(w);return _===null?void 0:v(_,b,m)}else{if("value"in y)return y.value;var x=y.get;return x===void 0?void 0:x.call(m)}},o=r(6),c=d(o);function d(v){return v&&v.__esModule?v:{default:v}}function u(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}function f(v,w){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:v}function h(v,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(v,w):v.__proto__=w)}var p=function(v){h(w,v);function w(){return u(this,w),f(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return s(w,[{key:"optimize",value:function(m){a(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"optimize",this).call(this,m),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return a(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),w}(c.default);p.blotName="bold",p.tagName=["STRONG","B"],i.default=p},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.addControls=i.default=void 0;var s=function(){function E(A,I){var R=[],M=!0,Y=!1,q=void 0;try{for(var G=A[Symbol.iterator](),B;!(M=(B=G.next()).done)&&(R.push(B.value),!(I&&R.length===I));M=!0);}catch(J){Y=!0,q=J}finally{try{!M&&G.return&&G.return()}finally{if(Y)throw q}}return R}return function(A,I){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return E(A,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function E(A,I){for(var R=0;R<I.length;R++){var M=I[R];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(A,M.key,M)}}return function(A,I,R){return I&&E(A.prototype,I),R&&E(A,R),A}}(),o=r(2),c=m(o),d=r(0),u=m(d),f=r(5),h=m(f),p=r(10),v=m(p),w=r(9),b=m(w);function m(E){return E&&E.__esModule?E:{default:E}}function y(E,A,I){return A in E?Object.defineProperty(E,A,{value:I,enumerable:!0,configurable:!0,writable:!0}):E[A]=I,E}function _(E,A){if(!(E instanceof A))throw new TypeError("Cannot call a class as a function")}function x(E,A){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:E}function N(E,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);E.prototype=Object.create(A&&A.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(E,A):E.__proto__=A)}var k=(0,v.default)("quill:toolbar"),T=function(E){N(A,E);function A(I,R){_(this,A);var M=x(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,I,R));if(Array.isArray(M.options.container)){var Y=document.createElement("div");P(Y,M.options.container),I.container.parentNode.insertBefore(Y,I.container),M.container=Y}else typeof M.options.container=="string"?M.container=document.querySelector(M.options.container):M.container=M.options.container;if(!(M.container instanceof HTMLElement)){var q;return q=k.error("Container required for toolbar",M.options),x(M,q)}return M.container.classList.add("ql-toolbar"),M.controls=[],M.handlers={},Object.keys(M.options.handlers).forEach(function(G){M.addHandler(G,M.options.handlers[G])}),[].forEach.call(M.container.querySelectorAll("button, select"),function(G){M.attach(G)}),M.quill.on(h.default.events.EDITOR_CHANGE,function(G,B){G===h.default.events.SELECTION_CHANGE&&M.update(B)}),M.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){var G=M.quill.selection.getRange(),B=s(G,1),J=B[0];M.update(J)}),M}return a(A,[{key:"addHandler",value:function(R,M){this.handlers[R]=M}},{key:"attach",value:function(R){var M=this,Y=[].find.call(R.classList,function(G){return G.indexOf("ql-")===0});if(Y){if(Y=Y.slice(3),R.tagName==="BUTTON"&&R.setAttribute("type","button"),this.handlers[Y]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[Y]==null){k.warn("ignoring attaching to disabled format",Y,R);return}if(u.default.query(Y)==null){k.warn("ignoring attaching to nonexistent format",Y,R);return}}var q=R.tagName==="SELECT"?"change":"click";R.addEventListener(q,function(G){var B=void 0;if(R.tagName==="SELECT"){if(R.selectedIndex<0)return;var J=R.options[R.selectedIndex];J.hasAttribute("selected")?B=!1:B=J.value||!1}else R.classList.contains("ql-active")?B=!1:B=R.value||!R.hasAttribute("value"),G.preventDefault();M.quill.focus();var W=M.quill.selection.getRange(),L=s(W,1),z=L[0];if(M.handlers[Y]!=null)M.handlers[Y].call(M,B);else if(u.default.query(Y).prototype instanceof u.default.Embed){if(B=prompt("Enter "+Y),!B)return;M.quill.updateContents(new c.default().retain(z.index).delete(z.length).insert(y({},Y,B)),h.default.sources.USER)}else M.quill.format(Y,B,h.default.sources.USER);M.update(z)}),this.controls.push([Y,R])}}},{key:"update",value:function(R){var M=R==null?{}:this.quill.getFormat(R);this.controls.forEach(function(Y){var q=s(Y,2),G=q[0],B=q[1];if(B.tagName==="SELECT"){var J=void 0;if(R==null)J=null;else if(M[G]==null)J=B.querySelector("option[selected]");else if(!Array.isArray(M[G])){var W=M[G];typeof W=="string"&&(W=W.replace(/\"/g,'\\"')),J=B.querySelector('option[value="'+W+'"]')}J==null?(B.value="",B.selectedIndex=-1):J.selected=!0}else if(R==null)B.classList.remove("ql-active");else if(B.hasAttribute("value")){var L=M[G]===B.getAttribute("value")||M[G]!=null&&M[G].toString()===B.getAttribute("value")||M[G]==null&&!B.getAttribute("value");B.classList.toggle("ql-active",L)}else B.classList.toggle("ql-active",M[G]!=null)})}}]),A}(b.default);T.DEFAULTS={};function C(E,A,I){var R=document.createElement("button");R.setAttribute("type","button"),R.classList.add("ql-"+A),I!=null&&(R.value=I),E.appendChild(R)}function P(E,A){Array.isArray(A[0])||(A=[A]),A.forEach(function(I){var R=document.createElement("span");R.classList.add("ql-formats"),I.forEach(function(M){if(typeof M=="string")C(R,M);else{var Y=Object.keys(M)[0],q=M[Y];Array.isArray(q)?D(R,Y,q):C(R,Y,q)}}),E.appendChild(R)})}function D(E,A,I){var R=document.createElement("select");R.classList.add("ql-"+A),I.forEach(function(M){var Y=document.createElement("option");M!==!1?Y.setAttribute("value",M):Y.setAttribute("selected","selected"),R.appendChild(Y)}),E.appendChild(R)}T.DEFAULTS={container:null,handlers:{clean:function(){var A=this,I=this.quill.getSelection();if(I!=null)if(I.length==0){var R=this.quill.getFormat();Object.keys(R).forEach(function(M){u.default.query(M,u.default.Scope.INLINE)!=null&&A.quill.format(M,!1)})}else this.quill.removeFormat(I,h.default.sources.USER)},direction:function(A){var I=this.quill.getFormat().align;A==="rtl"&&I==null?this.quill.format("align","right",h.default.sources.USER):!A&&I==="right"&&this.quill.format("align",!1,h.default.sources.USER),this.quill.format("direction",A,h.default.sources.USER)},indent:function(A){var I=this.quill.getSelection(),R=this.quill.getFormat(I),M=parseInt(R.indent||0);if(A==="+1"||A==="-1"){var Y=A==="+1"?1:-1;R.direction==="rtl"&&(Y*=-1),this.quill.format("indent",M+Y,h.default.sources.USER)}},link:function(A){A===!0&&(A=prompt("Enter link URL:")),this.quill.format("link",A,h.default.sources.USER)},list:function(A){var I=this.quill.getSelection(),R=this.quill.getFormat(I);A==="check"?R.list==="checked"||R.list==="unchecked"?this.quill.format("list",!1,h.default.sources.USER):this.quill.format("list","unchecked",h.default.sources.USER):this.quill.format("list",A,h.default.sources.USER)}}},i.default=T,i.addControls=P},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function v(w,b){for(var m=0;m<b.length;m++){var y=b[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(w,y.key,y)}}return function(w,b,m){return b&&v(w.prototype,b),m&&v(w,m),w}}(),a=function v(w,b,m){w===null&&(w=Function.prototype);var y=Object.getOwnPropertyDescriptor(w,b);if(y===void 0){var _=Object.getPrototypeOf(w);return _===null?void 0:v(_,b,m)}else{if("value"in y)return y.value;var x=y.get;return x===void 0?void 0:x.call(m)}},o=r(28),c=d(o);function d(v){return v&&v.__esModule?v:{default:v}}function u(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}function f(v,w){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:v}function h(v,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(v,w):v.__proto__=w)}var p=function(v){h(w,v);function w(b,m){u(this,w);var y=f(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,b));return y.label.innerHTML=m,y.container.classList.add("ql-color-picker"),[].slice.call(y.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(_){_.classList.add("ql-primary")}),y}return s(w,[{key:"buildItem",value:function(m){var y=a(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"buildItem",this).call(this,m);return y.style.backgroundColor=m.getAttribute("value")||"",y}},{key:"selectItem",value:function(m,y){a(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"selectItem",this).call(this,m,y);var _=this.label.querySelector(".ql-color-label"),x=m&&m.getAttribute("data-value")||"";_&&(_.tagName==="line"?_.style.stroke=x:_.style.fill=x)}}]),w}(c.default);i.default=p},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function v(w,b){for(var m=0;m<b.length;m++){var y=b[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(w,y.key,y)}}return function(w,b,m){return b&&v(w.prototype,b),m&&v(w,m),w}}(),a=function v(w,b,m){w===null&&(w=Function.prototype);var y=Object.getOwnPropertyDescriptor(w,b);if(y===void 0){var _=Object.getPrototypeOf(w);return _===null?void 0:v(_,b,m)}else{if("value"in y)return y.value;var x=y.get;return x===void 0?void 0:x.call(m)}},o=r(28),c=d(o);function d(v){return v&&v.__esModule?v:{default:v}}function u(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}function f(v,w){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:v}function h(v,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(v,w):v.__proto__=w)}var p=function(v){h(w,v);function w(b,m){u(this,w);var y=f(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,b));return y.container.classList.add("ql-icon-picker"),[].forEach.call(y.container.querySelectorAll(".ql-picker-item"),function(_){_.innerHTML=m[_.getAttribute("data-value")||""]}),y.defaultItem=y.container.querySelector(".ql-selected"),y.selectItem(y.defaultItem),y}return s(w,[{key:"selectItem",value:function(m,y){a(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"selectItem",this).call(this,m,y),m=m||this.defaultItem,this.label.innerHTML=m.innerHTML}}]),w}(c.default);i.default=p},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function c(d,u){for(var f=0;f<u.length;f++){var h=u[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,h.key,h)}}return function(d,u,f){return u&&c(d.prototype,u),f&&c(d,f),d}}();function a(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}var o=function(){function c(d,u){var f=this;a(this,c),this.quill=d,this.boundsContainer=u||document.body,this.root=d.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){f.root.style.marginTop=-1*f.quill.root.scrollTop+"px"}),this.hide()}return s(c,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(u){var f=u.left+u.width/2-this.root.offsetWidth/2,h=u.bottom+this.quill.root.scrollTop;this.root.style.left=f+"px",this.root.style.top=h+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),v=this.root.getBoundingClientRect(),w=0;if(v.right>p.right&&(w=p.right-v.right,this.root.style.left=f+w+"px"),v.left<p.left&&(w=p.left-v.left,this.root.style.left=f+w+"px"),v.bottom>p.bottom){var b=v.bottom-v.top,m=u.bottom-u.top+b;this.root.style.top=h-m+"px",this.root.classList.add("ql-flip")}return w}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),c}();i.default=o},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function D(E,A){var I=[],R=!0,M=!1,Y=void 0;try{for(var q=E[Symbol.iterator](),G;!(R=(G=q.next()).done)&&(I.push(G.value),!(A&&I.length===A));R=!0);}catch(B){M=!0,Y=B}finally{try{!R&&q.return&&q.return()}finally{if(M)throw Y}}return I}return function(E,A){if(Array.isArray(E))return E;if(Symbol.iterator in Object(E))return D(E,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function D(E,A,I){E===null&&(E=Function.prototype);var R=Object.getOwnPropertyDescriptor(E,A);if(R===void 0){var M=Object.getPrototypeOf(E);return M===null?void 0:D(M,A,I)}else{if("value"in R)return R.value;var Y=R.get;return Y===void 0?void 0:Y.call(I)}},o=function(){function D(E,A){for(var I=0;I<A.length;I++){var R=A[I];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(E,R.key,R)}}return function(E,A,I){return A&&D(E.prototype,A),I&&D(E,I),E}}(),c=r(3),d=_(c),u=r(8),f=_(u),h=r(43),p=_(h),v=r(27),w=_(v),b=r(15),m=r(41),y=_(m);function _(D){return D&&D.__esModule?D:{default:D}}function x(D,E){if(!(D instanceof E))throw new TypeError("Cannot call a class as a function")}function N(D,E){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:D}function k(D,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);D.prototype=Object.create(E&&E.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(D,E):D.__proto__=E)}var T=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],C=function(D){k(E,D);function E(A,I){x(this,E),I.modules.toolbar!=null&&I.modules.toolbar.container==null&&(I.modules.toolbar.container=T);var R=N(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,A,I));return R.quill.container.classList.add("ql-snow"),R}return o(E,[{key:"extendToolbar",value:function(I){I.container.classList.add("ql-snow"),this.buildButtons([].slice.call(I.container.querySelectorAll("button")),y.default),this.buildPickers([].slice.call(I.container.querySelectorAll("select")),y.default),this.tooltip=new P(this.quill,this.options.bounds),I.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(R,M){I.handlers.link.call(I,!M.format.link)})}}]),E}(p.default);C.DEFAULTS=(0,d.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(E){if(E){var A=this.quill.getSelection();if(A==null||A.length==0)return;var I=this.quill.getText(A);/^\S+@\S+\.\S+$/.test(I)&&I.indexOf("mailto:")!==0&&(I="mailto:"+I);var R=this.quill.theme.tooltip;R.edit("link",I)}else this.quill.format("link",!1)}}}}});var P=function(D){k(E,D);function E(A,I){x(this,E);var R=N(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,A,I));return R.preview=R.root.querySelector("a.ql-preview"),R}return o(E,[{key:"listen",value:function(){var I=this;a(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(R){I.root.classList.contains("ql-editing")?I.save():I.edit("link",I.preview.textContent),R.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(R){if(I.linkRange!=null){var M=I.linkRange;I.restoreFocus(),I.quill.formatText(M,"link",!1,f.default.sources.USER),delete I.linkRange}R.preventDefault(),I.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function(R,M,Y){if(R!=null){if(R.length===0&&Y===f.default.sources.USER){var q=I.quill.scroll.descendant(w.default,R.index),G=s(q,2),B=G[0],J=G[1];if(B!=null){I.linkRange=new b.Range(R.index-J,B.length());var W=w.default.formats(B.domNode);I.preview.textContent=W,I.preview.setAttribute("href",W),I.show(),I.position(I.quill.getBounds(I.linkRange));return}}else delete I.linkRange;I.hide()}})}},{key:"show",value:function(){a(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),E}(h.BaseTooltip);P.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),i.default=C},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(29),a=pe(s),o=r(36),c=r(38),d=r(64),u=r(65),f=pe(u),h=r(66),p=pe(h),v=r(67),w=pe(v),b=r(37),m=r(26),y=r(39),_=r(40),x=r(56),N=pe(x),k=r(68),T=pe(k),C=r(27),P=pe(C),D=r(69),E=pe(D),A=r(70),I=pe(A),R=r(71),M=pe(R),Y=r(72),q=pe(Y),G=r(73),B=pe(G),J=r(13),W=pe(J),L=r(74),z=pe(L),X=r(75),Q=pe(X),V=r(57),Z=pe(V),_e=r(41),le=pe(_e),ce=r(28),Fe=pe(ce),Ae=r(59),Re=pe(Ae),Ve=r(60),fe=pe(Ve),Je=r(61),je=pe(Je),Ce=r(108),$=pe(Ce),ke=r(62),Se=pe(ke);function pe(U){return U&&U.__esModule?U:{default:U}}a.default.register({"attributors/attribute/direction":c.DirectionAttribute,"attributors/class/align":o.AlignClass,"attributors/class/background":b.BackgroundClass,"attributors/class/color":m.ColorClass,"attributors/class/direction":c.DirectionClass,"attributors/class/font":y.FontClass,"attributors/class/size":_.SizeClass,"attributors/style/align":o.AlignStyle,"attributors/style/background":b.BackgroundStyle,"attributors/style/color":m.ColorStyle,"attributors/style/direction":c.DirectionStyle,"attributors/style/font":y.FontStyle,"attributors/style/size":_.SizeStyle},!0),a.default.register({"formats/align":o.AlignClass,"formats/direction":c.DirectionClass,"formats/indent":d.IndentClass,"formats/background":b.BackgroundStyle,"formats/color":m.ColorStyle,"formats/font":y.FontClass,"formats/size":_.SizeClass,"formats/blockquote":f.default,"formats/code-block":W.default,"formats/header":p.default,"formats/list":w.default,"formats/bold":N.default,"formats/code":J.Code,"formats/italic":T.default,"formats/link":P.default,"formats/script":E.default,"formats/strike":I.default,"formats/underline":M.default,"formats/image":q.default,"formats/video":B.default,"formats/list/item":v.ListItem,"modules/formula":z.default,"modules/syntax":Q.default,"modules/toolbar":Z.default,"themes/bubble":$.default,"themes/snow":Se.default,"ui/icons":le.default,"ui/picker":Fe.default,"ui/icon-picker":fe.default,"ui/color-picker":Re.default,"ui/tooltip":je.default},!0),i.default=a.default},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.IndentClass=void 0;var s=function(){function w(b,m){for(var y=0;y<m.length;y++){var _=m[y];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(b,_.key,_)}}return function(b,m,y){return m&&w(b.prototype,m),y&&w(b,y),b}}(),a=function w(b,m,y){b===null&&(b=Function.prototype);var _=Object.getOwnPropertyDescriptor(b,m);if(_===void 0){var x=Object.getPrototypeOf(b);return x===null?void 0:w(x,m,y)}else{if("value"in _)return _.value;var N=_.get;return N===void 0?void 0:N.call(y)}},o=r(0),c=d(o);function d(w){return w&&w.__esModule?w:{default:w}}function u(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function f(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function h(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var p=function(w){h(b,w);function b(){return u(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return s(b,[{key:"add",value:function(y,_){if(_==="+1"||_==="-1"){var x=this.value(y)||0;_=_==="+1"?x+1:x-1}return _===0?(this.remove(y),!0):a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"add",this).call(this,y,_)}},{key:"canAdd",value:function(y,_){return a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"canAdd",this).call(this,y,_)||a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"canAdd",this).call(this,y,parseInt(_))}},{key:"value",value:function(y){return parseInt(a(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,y))||void 0}}]),b}(c.default.Attributor.Class),v=new p("indent","ql-indent",{scope:c.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});i.IndentClass=v},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(4),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}function c(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function d(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=function(h){u(p,h);function p(){return c(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(a.default);f.blotName="blockquote",f.tagName="blockquote",i.default=f},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function p(v,w){for(var b=0;b<w.length;b++){var m=w[b];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(v,m.key,m)}}return function(v,w,b){return w&&p(v.prototype,w),b&&p(v,b),v}}(),a=r(4),o=c(a);function c(p){return p&&p.__esModule?p:{default:p}}function d(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function u(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function f(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var h=function(p){f(v,p);function v(){return d(this,v),u(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return s(v,null,[{key:"formats",value:function(b){return this.tagName.indexOf(b.tagName)+1}}]),v}(o.default);h.blotName="header",h.tagName=["H1","H2","H3","H4","H5","H6"],i.default=h},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.ListItem=void 0;var s=function(){function x(N,k){for(var T=0;T<k.length;T++){var C=k[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(N,C.key,C)}}return function(N,k,T){return k&&x(N.prototype,k),T&&x(N,T),N}}(),a=function x(N,k,T){N===null&&(N=Function.prototype);var C=Object.getOwnPropertyDescriptor(N,k);if(C===void 0){var P=Object.getPrototypeOf(N);return P===null?void 0:x(P,k,T)}else{if("value"in C)return C.value;var D=C.get;return D===void 0?void 0:D.call(T)}},o=r(0),c=p(o),d=r(4),u=p(d),f=r(25),h=p(f);function p(x){return x&&x.__esModule?x:{default:x}}function v(x,N,k){return N in x?Object.defineProperty(x,N,{value:k,enumerable:!0,configurable:!0,writable:!0}):x[N]=k,x}function w(x,N){if(!(x instanceof N))throw new TypeError("Cannot call a class as a function")}function b(x,N){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:x}function m(x,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);x.prototype=Object.create(N&&N.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(x,N):x.__proto__=N)}var y=function(x){m(N,x);function N(){return w(this,N),b(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return s(N,[{key:"format",value:function(T,C){T===_.blotName&&!C?this.replaceWith(c.default.create(this.statics.scope)):a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"format",this).call(this,T,C)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(T,C){return this.parent.isolate(this.offset(this.parent),this.length()),T===this.parent.statics.blotName?(this.parent.replaceWith(T,C),this):(this.parent.unwrap(),a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"replaceWith",this).call(this,T,C))}}],[{key:"formats",value:function(T){return T.tagName===this.tagName?void 0:a(N.__proto__||Object.getPrototypeOf(N),"formats",this).call(this,T)}}]),N}(u.default);y.blotName="list-item",y.tagName="LI";var _=function(x){m(N,x),s(N,null,[{key:"create",value:function(T){var C=T==="ordered"?"OL":"UL",P=a(N.__proto__||Object.getPrototypeOf(N),"create",this).call(this,C);return(T==="checked"||T==="unchecked")&&P.setAttribute("data-checked",T==="checked"),P}},{key:"formats",value:function(T){if(T.tagName==="OL")return"ordered";if(T.tagName==="UL")return T.hasAttribute("data-checked")?T.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function N(k){w(this,N);var T=b(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,k)),C=function(D){if(D.target.parentNode===k){var E=T.statics.formats(k),A=c.default.find(D.target);E==="checked"?A.format("list","unchecked"):E==="unchecked"&&A.format("list","checked")}};return k.addEventListener("touchstart",C),k.addEventListener("mousedown",C),T}return s(N,[{key:"format",value:function(T,C){this.children.length>0&&this.children.tail.format(T,C)}},{key:"formats",value:function(){return v({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(T,C){if(T instanceof y)a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertBefore",this).call(this,T,C);else{var P=C==null?this.length():C.offset(this),D=this.split(P);D.parent.insertBefore(T,D)}}},{key:"optimize",value:function(T){a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"optimize",this).call(this,T);var C=this.next;C!=null&&C.prev===this&&C.statics.blotName===this.statics.blotName&&C.domNode.tagName===this.domNode.tagName&&C.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(C.moveChildren(this),C.remove())}},{key:"replace",value:function(T){if(T.statics.blotName!==this.statics.blotName){var C=c.default.create(this.statics.defaultChild);T.moveChildren(C),this.appendChild(C)}a(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"replace",this).call(this,T)}}]),N}(h.default);_.blotName="list",_.scope=c.default.Scope.BLOCK_BLOT,_.tagName=["OL","UL"],_.defaultChild="list-item",_.allowedChildren=[y],i.ListItem=y,i.default=_},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(56),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}function c(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function d(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=function(h){u(p,h);function p(){return c(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(a.default);f.blotName="italic",f.tagName=["EM","I"],i.default=f},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function v(w,b){for(var m=0;m<b.length;m++){var y=b[m];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(w,y.key,y)}}return function(w,b,m){return b&&v(w.prototype,b),m&&v(w,m),w}}(),a=function v(w,b,m){w===null&&(w=Function.prototype);var y=Object.getOwnPropertyDescriptor(w,b);if(y===void 0){var _=Object.getPrototypeOf(w);return _===null?void 0:v(_,b,m)}else{if("value"in y)return y.value;var x=y.get;return x===void 0?void 0:x.call(m)}},o=r(6),c=d(o);function d(v){return v&&v.__esModule?v:{default:v}}function u(v,w){if(!(v instanceof w))throw new TypeError("Cannot call a class as a function")}function f(v,w){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:v}function h(v,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);v.prototype=Object.create(w&&w.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(v,w):v.__proto__=w)}var p=function(v){h(w,v);function w(){return u(this,w),f(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return s(w,null,[{key:"create",value:function(m){return m==="super"?document.createElement("sup"):m==="sub"?document.createElement("sub"):a(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,m)}},{key:"formats",value:function(m){if(m.tagName==="SUB")return"sub";if(m.tagName==="SUP")return"super"}}]),w}(c.default);p.blotName="script",p.tagName=["SUB","SUP"],i.default=p},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(6),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}function c(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function d(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=function(h){u(p,h);function p(){return c(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(a.default);f.blotName="strike",f.tagName="S",i.default=f},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(6),a=o(s);function o(h){return h&&h.__esModule?h:{default:h}}function c(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function d(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function u(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=function(h){u(p,h);function p(){return c(this,p),d(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(a.default);f.blotName="underline",f.tagName="U",i.default=f},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function b(m,y){for(var _=0;_<y.length;_++){var x=y[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,x.key,x)}}return function(m,y,_){return y&&b(m.prototype,y),_&&b(m,_),m}}(),a=function b(m,y,_){m===null&&(m=Function.prototype);var x=Object.getOwnPropertyDescriptor(m,y);if(x===void 0){var N=Object.getPrototypeOf(m);return N===null?void 0:b(N,y,_)}else{if("value"in x)return x.value;var k=x.get;return k===void 0?void 0:k.call(_)}},o=r(0),c=u(o),d=r(27);function u(b){return b&&b.__esModule?b:{default:b}}function f(b,m){if(!(b instanceof m))throw new TypeError("Cannot call a class as a function")}function h(b,m){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:b}function p(b,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);b.prototype=Object.create(m&&m.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(b,m):b.__proto__=m)}var v=["alt","height","width"],w=function(b){p(m,b);function m(){return f(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return s(m,[{key:"format",value:function(_,x){v.indexOf(_)>-1?x?this.domNode.setAttribute(_,x):this.domNode.removeAttribute(_):a(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,_,x)}}],[{key:"create",value:function(_){var x=a(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,_);return typeof _=="string"&&x.setAttribute("src",this.sanitize(_)),x}},{key:"formats",value:function(_){return v.reduce(function(x,N){return _.hasAttribute(N)&&(x[N]=_.getAttribute(N)),x},{})}},{key:"match",value:function(_){return/\.(jpe?g|gif|png)$/.test(_)||/^data:image\/.+;base64/.test(_)}},{key:"sanitize",value:function(_){return(0,d.sanitize)(_,["http","https","data"])?_:"//:0"}},{key:"value",value:function(_){return _.getAttribute("src")}}]),m}(c.default.Embed);w.blotName="image",w.tagName="IMG",i.default=w},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function b(m,y){for(var _=0;_<y.length;_++){var x=y[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,x.key,x)}}return function(m,y,_){return y&&b(m.prototype,y),_&&b(m,_),m}}(),a=function b(m,y,_){m===null&&(m=Function.prototype);var x=Object.getOwnPropertyDescriptor(m,y);if(x===void 0){var N=Object.getPrototypeOf(m);return N===null?void 0:b(N,y,_)}else{if("value"in x)return x.value;var k=x.get;return k===void 0?void 0:k.call(_)}},o=r(4),c=r(27),d=u(c);function u(b){return b&&b.__esModule?b:{default:b}}function f(b,m){if(!(b instanceof m))throw new TypeError("Cannot call a class as a function")}function h(b,m){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:b}function p(b,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);b.prototype=Object.create(m&&m.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(b,m):b.__proto__=m)}var v=["height","width"],w=function(b){p(m,b);function m(){return f(this,m),h(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return s(m,[{key:"format",value:function(_,x){v.indexOf(_)>-1?x?this.domNode.setAttribute(_,x):this.domNode.removeAttribute(_):a(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,_,x)}}],[{key:"create",value:function(_){var x=a(m.__proto__||Object.getPrototypeOf(m),"create",this).call(this,_);return x.setAttribute("frameborder","0"),x.setAttribute("allowfullscreen",!0),x.setAttribute("src",this.sanitize(_)),x}},{key:"formats",value:function(_){return v.reduce(function(x,N){return _.hasAttribute(N)&&(x[N]=_.getAttribute(N)),x},{})}},{key:"sanitize",value:function(_){return d.default.sanitize(_)}},{key:"value",value:function(_){return _.getAttribute("src")}}]),m}(o.BlockEmbed);w.blotName="video",w.className="ql-video",w.tagName="IFRAME",i.default=w},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.FormulaBlot=void 0;var s=function(){function _(x,N){for(var k=0;k<N.length;k++){var T=N[k];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(x,T.key,T)}}return function(x,N,k){return N&&_(x.prototype,N),k&&_(x,k),x}}(),a=function _(x,N,k){x===null&&(x=Function.prototype);var T=Object.getOwnPropertyDescriptor(x,N);if(T===void 0){var C=Object.getPrototypeOf(x);return C===null?void 0:_(C,N,k)}else{if("value"in T)return T.value;var P=T.get;return P===void 0?void 0:P.call(k)}},o=r(35),c=p(o),d=r(5),u=p(d),f=r(9),h=p(f);function p(_){return _&&_.__esModule?_:{default:_}}function v(_,x){if(!(_ instanceof x))throw new TypeError("Cannot call a class as a function")}function w(_,x){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:_}function b(_,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);_.prototype=Object.create(x&&x.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(_,x):_.__proto__=x)}var m=function(_){b(x,_);function x(){return v(this,x),w(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return s(x,null,[{key:"create",value:function(k){var T=a(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this,k);return typeof k=="string"&&(window.katex.render(k,T,{throwOnError:!1,errorColor:"#f00"}),T.setAttribute("data-value",k)),T}},{key:"value",value:function(k){return k.getAttribute("data-value")}}]),x}(c.default);m.blotName="formula",m.className="ql-formula",m.tagName="SPAN";var y=function(_){b(x,_),s(x,null,[{key:"register",value:function(){u.default.register(m,!0)}}]);function x(){v(this,x);var N=w(this,(x.__proto__||Object.getPrototypeOf(x)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return N}return x}(h.default);i.FormulaBlot=m,i.default=y},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.CodeToken=i.CodeBlock=void 0;var s=function(){function k(T,C){for(var P=0;P<C.length;P++){var D=C[P];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(T,D.key,D)}}return function(T,C,P){return C&&k(T.prototype,C),P&&k(T,P),T}}(),a=function k(T,C,P){T===null&&(T=Function.prototype);var D=Object.getOwnPropertyDescriptor(T,C);if(D===void 0){var E=Object.getPrototypeOf(T);return E===null?void 0:k(E,C,P)}else{if("value"in D)return D.value;var A=D.get;return A===void 0?void 0:A.call(P)}},o=r(0),c=w(o),d=r(5),u=w(d),f=r(9),h=w(f),p=r(13),v=w(p);function w(k){return k&&k.__esModule?k:{default:k}}function b(k,T){if(!(k instanceof T))throw new TypeError("Cannot call a class as a function")}function m(k,T){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T&&(typeof T=="object"||typeof T=="function")?T:k}function y(k,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);k.prototype=Object.create(T&&T.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(k,T):k.__proto__=T)}var _=function(k){y(T,k);function T(){return b(this,T),m(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return s(T,[{key:"replaceWith",value:function(P){this.domNode.textContent=this.domNode.textContent,this.attach(),a(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"replaceWith",this).call(this,P)}},{key:"highlight",value:function(P){var D=this.domNode.textContent;this.cachedText!==D&&((D.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=P(D),this.domNode.normalize(),this.attach()),this.cachedText=D)}}]),T}(v.default);_.className="ql-syntax";var x=new c.default.Attributor.Class("token","hljs",{scope:c.default.Scope.INLINE}),N=function(k){y(T,k),s(T,null,[{key:"register",value:function(){u.default.register(x,!0),u.default.register(_,!0)}}]);function T(C,P){b(this,T);var D=m(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,C,P));if(typeof D.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var E=null;return D.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(E),E=setTimeout(function(){D.highlight(),E=null},D.options.interval)}),D.highlight(),D}return s(T,[{key:"highlight",value:function(){var P=this;if(!this.quill.selection.composing){this.quill.update(u.default.sources.USER);var D=this.quill.getSelection();this.quill.scroll.descendants(_).forEach(function(E){E.highlight(P.options.highlight)}),this.quill.update(u.default.sources.SILENT),D!=null&&this.quill.setSelection(D,u.default.sources.SILENT)}}}]),T}(h.default);N.DEFAULTS={highlight:function(){return window.hljs==null?null:function(k){var T=window.hljs.highlightAuto(k);return T.value}}(),interval:1e3},i.CodeBlock=_,i.CodeToken=x,i.default=N},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t,i){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t,i){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(t,i){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t,i){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(t,i){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.BubbleTooltip=void 0;var s=function T(C,P,D){C===null&&(C=Function.prototype);var E=Object.getOwnPropertyDescriptor(C,P);if(E===void 0){var A=Object.getPrototypeOf(C);return A===null?void 0:T(A,P,D)}else{if("value"in E)return E.value;var I=E.get;return I===void 0?void 0:I.call(D)}},a=function(){function T(C,P){for(var D=0;D<P.length;D++){var E=P[D];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(C,E.key,E)}}return function(C,P,D){return P&&T(C.prototype,P),D&&T(C,D),C}}(),o=r(3),c=b(o),d=r(8),u=b(d),f=r(43),h=b(f),p=r(15),v=r(41),w=b(v);function b(T){return T&&T.__esModule?T:{default:T}}function m(T,C){if(!(T instanceof C))throw new TypeError("Cannot call a class as a function")}function y(T,C){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:T}function _(T,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);T.prototype=Object.create(C&&C.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(T,C):T.__proto__=C)}var x=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],N=function(T){_(C,T);function C(P,D){m(this,C),D.modules.toolbar!=null&&D.modules.toolbar.container==null&&(D.modules.toolbar.container=x);var E=y(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,P,D));return E.quill.container.classList.add("ql-bubble"),E}return a(C,[{key:"extendToolbar",value:function(D){this.tooltip=new k(this.quill,this.options.bounds),this.tooltip.root.appendChild(D.container),this.buildButtons([].slice.call(D.container.querySelectorAll("button")),w.default),this.buildPickers([].slice.call(D.container.querySelectorAll("select")),w.default)}}]),C}(h.default);N.DEFAULTS=(0,c.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(C){C?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var k=function(T){_(C,T);function C(P,D){m(this,C);var E=y(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,P,D));return E.quill.on(u.default.events.EDITOR_CHANGE,function(A,I,R,M){if(A===u.default.events.SELECTION_CHANGE)if(I!=null&&I.length>0&&M===u.default.sources.USER){E.show(),E.root.style.left="0px",E.root.style.width="",E.root.style.width=E.root.offsetWidth+"px";var Y=E.quill.getLines(I.index,I.length);if(Y.length===1)E.position(E.quill.getBounds(I));else{var q=Y[Y.length-1],G=E.quill.getIndex(q),B=Math.min(q.length()-1,I.index+I.length-G),J=E.quill.getBounds(new p.Range(G,B));E.position(J)}}else document.activeElement!==E.textbox&&E.quill.hasFocus()&&E.hide()}),E}return a(C,[{key:"listen",value:function(){var D=this;s(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){D.root.classList.remove("ql-editing")}),this.quill.on(u.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!D.root.classList.contains("ql-hidden")){var E=D.quill.getSelection();E!=null&&D.position(D.quill.getBounds(E))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(D){var E=s(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"position",this).call(this,D),A=this.root.querySelector(".ql-tooltip-arrow");if(A.style.marginLeft="",E===0)return E;A.style.marginLeft=-1*E-A.offsetWidth/2+"px"}}]),C}(f.BaseTooltip);k.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),i.BubbleTooltip=k,i.default=N},function(t,i,r){t.exports=r(63)}]).default})})(eV);var _be=eV.exports,Sbe=nr&&nr.__extends||function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s])},n(e,t)};return function(e,t){n(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),T3=nr&&nr.__assign||function(){return T3=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++){e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},T3.apply(this,arguments)},Nbe=nr&&nr.__spreadArrays||function(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var i=Array(n),r=0,e=0;e<t;e++)for(var s=arguments[e],a=0,o=s.length;a<o;a++,r++)i[r]=s[a];return i},eC=nr&&nr.__importDefault||function(n){return n&&n.__esModule?n:{default:n}},Ed=eC(ie),Abe=eC(zR),I2=eC(xbe),iM=eC(_be),kbe=function(n){Sbe(e,n);function e(t){var i=n.call(this,t)||this;i.dirtyProps=["modules","formats","bounds","theme","children"],i.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],i.state={generation:0},i.selection=null,i.onEditorChange=function(s,a,o,c){var d,u,f,h;s==="text-change"?(u=(d=i).onEditorChangeText)===null||u===void 0||u.call(d,i.editor.root.innerHTML,a,c,i.unprivilegedEditor):s==="selection-change"&&((h=(f=i).onEditorChangeSelection)===null||h===void 0||h.call(f,a,c,i.unprivilegedEditor))};var r=i.isControlled()?t.value:t.defaultValue;return i.value=r??"",i}return e.prototype.validateProps=function(t){var i;if(Ed.default.Children.count(t.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Ed.default.Children.count(t.children)){var r=Ed.default.Children.only(t.children);if(((i=r)===null||i===void 0?void 0:i.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&t.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(t,i){var r=this,s;if(this.validateProps(t),!this.editor||this.state.generation!==i.generation)return!0;if("value"in t){var a=this.getEditorContents(),o=(s=t.value,s??"");this.isEqualValue(o,a)||this.setEditorContents(this.editor,o)}return t.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,t.readOnly),Nbe(this.cleanProps,this.dirtyProps).some(function(c){return!I2.default(t[c],r.props[c])})},e.prototype.shouldComponentRegenerate=function(t){var i=this;return this.dirtyProps.some(function(r){return!I2.default(t[r],i.props[r])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(t,i){var r=this;if(this.editor&&this.shouldComponentRegenerate(t)){var s=this.editor.getContents(),a=this.editor.getSelection();this.regenerationSnapshot={delta:s,selection:a},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==i.generation){var o=this.regenerationSnapshot,s=o.delta,c=o.selection;delete this.regenerationSnapshot,this.instantiateEditor();var d=this.editor;d.setContents(s),rM(function(){return r.setEditorSelection(d,c)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(t,i){var r=new iM.default(t,i);return i.tabIndex!=null&&this.setEditorTabIndex(r,i.tabIndex),this.hookEditor(r),r},e.prototype.hookEditor=function(t){this.unprivilegedEditor=this.makeUnprivilegedEditor(t),t.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(t){t.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(t){return t&&t.ops},e.prototype.isEqualValue=function(t,i){return this.isDelta(t)&&this.isDelta(i)?I2.default(t.ops,i.ops):I2.default(t,i)},e.prototype.setEditorContents=function(t,i){var r=this;this.value=i;var s=this.getEditorSelection();typeof i=="string"?t.setContents(t.clipboard.convert(i)):t.setContents(i),rM(function(){return r.setEditorSelection(t,s)})},e.prototype.setEditorSelection=function(t,i){if(this.selection=i,i){var r=t.getLength();i.index=Math.max(0,Math.min(i.index,r-1)),i.length=Math.max(0,Math.min(i.length,r-1-i.index)),t.setSelection(i)}},e.prototype.setEditorTabIndex=function(t,i){var r,s;!((s=(r=t)===null||r===void 0?void 0:r.scroll)===null||s===void 0)&&s.domNode&&(t.scroll.domNode.tabIndex=i)},e.prototype.setEditorReadOnly=function(t,i){i?t.disable():t.enable()},e.prototype.makeUnprivilegedEditor=function(t){var i=t;return{getHTML:function(){return i.root.innerHTML},getLength:i.getLength.bind(i),getText:i.getText.bind(i),getContents:i.getContents.bind(i),getSelection:i.getSelection.bind(i),getBounds:i.getBounds.bind(i)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var t=Abe.default.findDOMNode(this.editingArea);if(!t)throw new Error("Cannot find element for editing area");if(t.nodeType===3)throw new Error("Editing area cannot be a text node");return t},e.prototype.renderEditingArea=function(){var t=this,i=this.props,r=i.children,s=i.preserveWhitespace,a=this.state.generation,o={key:a,ref:function(c){t.editingArea=c}};return Ed.default.Children.count(r)?Ed.default.cloneElement(Ed.default.Children.only(r),o):s?Ed.default.createElement("pre",T3({},o)):Ed.default.createElement("div",T3({},o))},e.prototype.render=function(){var t;return Ed.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(t=this.props.className,t??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(t,i,r,s){var a,o;if(this.editor){var c=this.isDelta(this.value)?s.getContents():s.getHTML();c!==this.getEditorContents()&&(this.lastDeltaChangeSet=i,this.value=c,(o=(a=this.props).onChange)===null||o===void 0||o.call(a,t,i,r,s))}},e.prototype.onEditorChangeSelection=function(t,i,r){var s,a,o,c,d,u;if(this.editor){var f=this.getEditorSelection(),h=!f&&t,p=f&&!t;I2.default(t,f)||(this.selection=t,(a=(s=this.props).onChangeSelection)===null||a===void 0||a.call(s,t,i,r),h?(c=(o=this.props).onFocus)===null||c===void 0||c.call(o,t,i,r):p&&((u=(d=this.props).onBlur)===null||u===void 0||u.call(d,f,i,r)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=iM.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(Ed.default.Component);function rM(n){Promise.resolve().then(n)}var Ebe=kbe;const bs=zE(Ebe);const Tbe="modulepreload",Cbe=function(n){return"/"+n},sM={},BA=function(e,t,i){if(!t||t.length===0)return e();const r=document.getElementsByTagName("link");return Promise.all(t.map(s=>{if(s=Cbe(s),s in sM)return;sM[s]=!0;const a=s.endsWith(".css"),o=a?'[rel="stylesheet"]':"";if(!!i)for(let u=r.length-1;u>=0;u--){const f=r[u];if(f.href===s&&(!a||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${o}`))return;const d=document.createElement("link");if(d.rel=a?"stylesheet":Tbe,a||(d.as="script",d.crossOrigin=""),d.href=s,document.head.appendChild(d),a)return new Promise((u,f)=>{d.addEventListener("load",u),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})},Ma=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),J8=[.001,0,0,.001,0,0],P6=1.35,ol={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Uf={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},yx="pdfjs_internal_editor_",mn={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},In={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},Dbe={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Z8={TRIANGLES:1,LATTICE:2,PATCH:3},rs={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},zA={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},zr={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},S0={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},tC={ERRORS:0,WARNINGS:1,INFOS:5},vx={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},R2={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},Pbe={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let nC=tC.WARNINGS;function Ibe(n){Number.isInteger(n)&&(nC=n)}function Rbe(){return nC}function iC(n){nC>=tC.INFOS&&console.info(`Info: ${n}`)}function dn(n){nC>=tC.WARNINGS&&console.warn(`Warning: ${n}`)}function Ci(n){throw new Error(n)}function Rn(n,e){n||Ci(e)}function Lbe(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function tV(n,e=null,t=null){if(!n)return null;if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const r=n.match(/\./g);(r==null?void 0:r.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=Bbe(n)}catch{}}const i=e?URL.parse(n,e):URL.parse(n);return Lbe(i)?i:null}function nV(n,e,t=!1){const i=URL.parse(n);return i?(i.hash=e,i.href):t&&tV(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function un(n,e,t,i=!1){return Object.defineProperty(n,e,{value:t,enumerable:!i,configurable:!0,writable:!1}),t}const a0=function(){function e(t,i){this.message=t,this.name=i}return e.prototype=new Error,e.constructor=e,e}();class aM extends a0{constructor(e,t){super(e,"PasswordException"),this.code=t}}class I6 extends a0{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Q8 extends a0{constructor(e){super(e,"InvalidPDFException")}}class C3 extends a0{constructor(e,t,i){super(e,"ResponseException"),this.status=t,this.missing=i}}class Obe extends a0{constructor(e){super(e,"FormatError")}}class om extends a0{constructor(e){super(e,"AbortException")}}function iV(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&Ci("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const i=[];for(let r=0;r<e;r+=t){const s=Math.min(r+t,e),a=n.subarray(r,s);i.push(String.fromCharCode.apply(null,a))}return i.join("")}function RS(n){typeof n!="string"&&Ci("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let i=0;i<e;++i)t[i]=n.charCodeAt(i)&255;return t}function Fbe(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function Ube(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function Mbe(){try{return new Function(""),!0}catch{return!1}}class us{static get isLittleEndian(){return un(this,"isLittleEndian",Ube())}static get isEvalSupported(){return un(this,"isEvalSupported",Mbe())}static get isOffscreenCanvasSupported(){return un(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return un(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return un(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return un(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return un(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return un(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const R6=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var wy,jA,Dx,eP;class zt{static makeHexColor(e,t,i){return`#${R6[e]}${R6[t]}${R6[i]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let i;e[0]?(e[0]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[3],t[3]*=e[3]):(i=t[0],t[0]=t[1],t[1]=i,i=t[2],t[2]=t[3],t[3]=i,e[1]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,i=0){const r=e[i],s=e[i+1];e[i]=r*t[0]+s*t[2]+t[4],e[i+1]=r*t[1]+s*t[3]+t[5]}static applyTransformToBezier(e,t,i=0){const r=t[0],s=t[1],a=t[2],o=t[3],c=t[4],d=t[5];for(let u=0;u<6;u+=2){const f=e[i+u],h=e[i+u+1];e[i+u]=f*r+h*a+c,e[i+u+1]=f*s+h*o+d}}static applyInverseTransform(e,t){const i=e[0],r=e[1],s=t[0]*t[3]-t[1]*t[2];e[0]=(i*t[3]-r*t[2]+t[2]*t[5]-t[4]*t[3])/s,e[1]=(-i*t[1]+r*t[0]+t[4]*t[1]-t[5]*t[0])/s}static axialAlignedBoundingBox(e,t,i){const r=t[0],s=t[1],a=t[2],o=t[3],c=t[4],d=t[5],u=e[0],f=e[1],h=e[2],p=e[3];let v=r*u+c,w=v,b=r*h+c,m=b,y=o*f+d,_=y,x=o*p+d,N=x;if(s!==0||a!==0){const k=s*u,T=s*h,C=a*f,P=a*p;v+=C,m+=C,b+=P,w+=P,y+=k,N+=k,x+=T,_+=T}i[0]=Math.min(i[0],v,b,w,m),i[1]=Math.min(i[1],y,x,_,N),i[2]=Math.max(i[2],v,b,w,m),i[3]=Math.max(i[3],y,x,_,N)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const i=e[0],r=e[1],s=e[2],a=e[3],o=i**2+r**2,c=i*s+r*a,d=s**2+a**2,u=(o+d)/2,f=Math.sqrt(u**2-(o*d-c**2));t[0]=Math.sqrt(u+f||1),t[1]=Math.sqrt(u-f||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const i=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(i>r)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>a?null:[i,s,r,a]}static pointBoundingBox(e,t,i){i[0]=Math.min(i[0],e),i[1]=Math.min(i[1],t),i[2]=Math.max(i[2],e),i[3]=Math.max(i[3],t)}static rectBoundingBox(e,t,i,r,s){s[0]=Math.min(s[0],e,i),s[1]=Math.min(s[1],t,r),s[2]=Math.max(s[2],e,i),s[3]=Math.max(s[3],t,r)}static bezierBoundingBox(e,t,i,r,s,a,o,c,d){d[0]=Math.min(d[0],e,o),d[1]=Math.min(d[1],t,c),d[2]=Math.max(d[2],e,o),d[3]=Math.max(d[3],t,c),ye(this,Dx,eP).call(this,e,i,s,o,t,r,a,c,3*(-e+3*(i-s)+o),6*(e-2*i+s),3*(i-e),d),ye(this,Dx,eP).call(this,e,i,s,o,t,r,a,c,3*(-t+3*(r-a)+c),6*(t-2*r+a),3*(r-t),d)}}wy=new WeakSet,jA=function(e,t,i,r,s,a,o,c,d,u){if(d<=0||d>=1)return;const f=1-d,h=d*d,p=h*d,v=f*(f*(f*e+3*d*t)+3*h*i)+p*r,w=f*(f*(f*s+3*d*a)+3*h*o)+p*c;u[0]=Math.min(u[0],v),u[1]=Math.min(u[1],w),u[2]=Math.max(u[2],v),u[3]=Math.max(u[3],w)},Dx=new WeakSet,eP=function(e,t,i,r,s,a,o,c,d,u,f,h){if(Math.abs(d)<1e-12){Math.abs(u)>=1e-12&&ye(this,wy,jA).call(this,e,t,i,r,s,a,o,c,-f/u,h);return}const p=u**2-4*f*d;if(p<0)return;const v=Math.sqrt(p),w=2*d;ye(this,wy,jA).call(this,e,t,i,r,s,a,o,c,(-u+v)/w,h),ye(this,wy,jA).call(this,e,t,i,r,s,a,o,c,(-u-v)/w,h)},ne(zt,wy),ne(zt,Dx);function Bbe(n){return decodeURIComponent(escape(n))}let L6=null,oM=null;function zbe(n){return L6||(L6=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,oM=new Map([["","t"]])),n.replaceAll(L6,(e,t,i)=>t?t.normalize("NFKC"):oM.get(i))}function rV(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),iV(n)}const H0="pdfjs_internal_id_";function jbe(n,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[i,r,...s]=t;if(!n(i)&&!Number.isInteger(i)||!e(r))return!1;const a=s.length;let o=!0;switch(r.name){case"XYZ":if(a<2||a>3)return!1;break;case"Fit":case"FitB":return a===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(a>1)return!1;break;case"FitR":if(a!==4)return!1;o=!1;break;default:return!1}for(const c of s)if(!(typeof c=="number"||o&&c===null))return!1;return!0}function Ba(n,e,t){return Math.min(Math.max(n,e),t)}function sV(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(iV(n))}function Wbe(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):RS(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,t)=>e+t,0)});class bx{static textContent(e){const t=[],i={items:t,styles:Object.create(null)};function r(s){var c;if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if(bx.shouldBuildText(o))(c=s==null?void 0:s.attributes)!=null&&c.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&t.push({str:a}),!!s.children)for(const d of s.children)r(d)}return r(e),i}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class aV{static setupStorage(e,t,i,r,s){const a=r.getValue(t,{value:null});switch(i.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",o=>{r.setValue(t,{value:o.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(a.value===i.attributes.xfaOn?e.setAttribute("checked",!0):a.value===i.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",o=>{r.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",o=>{r.setValue(t,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of i.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const c=o.target.options,d=c.selectedIndex===-1?"":c[c.selectedIndex].value;r.setValue(t,{value:d})});break}}static setAttributes({html:e,element:t,storage:i=null,intent:r,linkService:s}){const{attributes:a}=t,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${r}`);for(const[c,d]of Object.entries(a))if(d!=null)switch(c){case"class":d.length&&e.setAttribute(c,d.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",d);break;case"style":Object.assign(e.style,d);break;case"textContent":e.textContent=d;break;default:(!o||c!=="href"&&c!=="newWindow")&&e.setAttribute(c,d)}o&&s.addLinkAttributes(e,a.href,a.newWindow),i&&a.dataId&&this.setupStorage(e,a.dataId,t,i)}static render(e){var f,h;const t=e.annotationStorage,i=e.linkService,r=e.xfaHtml,s=e.intent||"display",a=document.createElement(r.name);r.attributes&&this.setAttributes({html:a,element:r,intent:s,linkService:i});const o=s!=="richText",c=e.div;if(c.append(a),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;c.style.transform=p}o&&c.setAttribute("class","xfaLayer xfaFont");const d=[];if(r.children.length===0){if(r.value){const p=document.createTextNode(r.value);a.append(p),o&&bx.shouldBuildText(r.name)&&d.push(p)}return{textDivs:d}}const u=[[r,-1,a]];for(;u.length>0;){const[p,v,w]=u.at(-1);if(v+1===p.children.length){u.pop();continue}const b=p.children[++u.at(-1)[1]];if(b===null)continue;const{name:m}=b;if(m==="#text"){const _=document.createTextNode(b.value);d.push(_),w.append(_);continue}const y=(f=b==null?void 0:b.attributes)!=null&&f.xmlns?document.createElementNS(b.attributes.xmlns,m):document.createElement(m);if(w.append(y),b.attributes&&this.setAttributes({html:y,element:b,storage:t,intent:s,linkService:i}),((h=b.children)==null?void 0:h.length)>0)u.push([b,-1,y]);else if(b.value){const _=document.createTextNode(b.value);o&&bx.shouldBuildText(m)&&d.push(_),y.append(_)}}for(const p of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:d}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Wu="http://www.w3.org/2000/svg",Fm=class Fm{};wt(Fm,"CSS",96),wt(Fm,"PDF",72),wt(Fm,"PDF_TO_CSS_UNITS",Fm.CSS/Fm.PDF);let lm=Fm;async function LS(n,e="text"){if(Z2(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,i)=>{const r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})}class OS{constructor({viewBox:e,userUnit:t,scale:i,rotation:r,offsetX:s=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=t,this.scale=i,this.rotation=r,this.offsetX=s,this.offsetY=a,i*=t;const c=(e[2]+e[0])/2,d=(e[3]+e[1])/2;let u,f,h,p;switch(r%=360,r<0&&(r+=360),r){case 180:u=-1,f=0,h=0,p=1;break;case 90:u=0,f=1,h=1,p=0;break;case 270:u=0,f=-1,h=-1,p=0;break;case 0:u=1,f=0,h=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(h=-h,p=-p);let v,w,b,m;u===0?(v=Math.abs(d-e[1])*i+s,w=Math.abs(c-e[0])*i+a,b=(e[3]-e[1])*i,m=(e[2]-e[0])*i):(v=Math.abs(c-e[0])*i+s,w=Math.abs(d-e[1])*i+a,b=(e[2]-e[0])*i,m=(e[3]-e[1])*i),this.transform=[u*i,f*i,h*i,p*i,v-u*i*c-h*i*d,w-f*i*c-p*i*d],this.width=b,this.height=m}get rawDims(){const e=this.viewBox;return un(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new OS({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}convertToViewportPoint(e,t){const i=[e,t];return zt.applyTransform(i,this.transform),i}convertToViewportRectangle(e){const t=[e[0],e[1]];zt.applyTransform(t,this.transform);const i=[e[2],e[3]];return zt.applyTransform(i,this.transform),[t[0],t[1],i[0],i[1]]}convertToPdfPoint(e,t){const i=[e,t];return zt.applyInverseTransform(i,this.transform),i}}class GL extends a0{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function rC(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function XL(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function $be(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function qbe(n,e="document.pdf"){if(typeof n!="string")return e;if(rC(n))return dn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const i=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(n);if(!i)return e;const r=o=>{try{let c=decodeURIComponent(o);return c.includes("/")?(c=c.split("/").at(-1),c.test(/^\.pdf$/i)?c:o):c}catch{return o}},s=/\.pdf$/i,a=i.pathname.split("/").at(-1);if(s.test(a))return r(a);if(i.searchParams.size>0){const o=Array.from(i.searchParams.values()).reverse();for(const d of o)if(s.test(d))return r(d);const c=Array.from(i.searchParams.keys()).reverse();for(const d of c)if(s.test(d))return r(d)}if(i.hash){const c=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(i.hash);if(c)return r(c[0])}return e}class lM{constructor(){wt(this,"started",Object.create(null));wt(this,"times",[])}time(e){e in this.started&&dn(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||dn(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:i}of this.times)t=Math.max(i.length,t);for(const{name:i,start:r,end:s}of this.times)e.push(`${i.padEnd(t)} ${s-r}ms
`);return e.join("")}}function Z2(n,e){const t=e?URL.parse(n,e):URL.parse(n);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function ic(n){n.preventDefault()}function wr(n){n.preventDefault(),n.stopPropagation()}function Hbe(n){console.log("Deprecated API usage: "+n)}var Px;class D3{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;S(this,Px)||se(this,Px,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=S(this,Px).exec(e);if(!t)return null;const i=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let c=parseInt(t[6],10);c=c>=0&&c<=59?c:0;const d=t[7]||"Z";let u=parseInt(t[8],10);u=u>=0&&u<=23?u:0;let f=parseInt(t[9],10)||0;return f=f>=0&&f<=59?f:0,d==="-"?(a+=u,o+=f):d==="+"&&(a-=u,o-=f),new Date(Date.UTC(i,r,s,a,o,c))}}Px=new WeakMap,ne(D3,Px,void 0);function Vbe(n,{scale:e=1,rotation:t=0}){const{width:i,height:r}=n.attributes.style,s=[0,0,parseInt(i),parseInt(r)];return new OS({viewBox:s,userUnit:1,scale:e,rotation:t})}function FS(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(dn(`Not a valid color format: "${n}"`),[0,0,0])}function Gbe(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of n.keys()){e.style.color=t;const i=window.getComputedStyle(e).color;n.set(t,FS(i))}e.remove()}function tr(n){const{a:e,b:t,c:i,d:r,e:s,f:a}=n.getTransform();return[e,t,i,r,s,a]}function Td(n){const{a:e,b:t,c:i,d:r,e:s,f:a}=n.getTransform().invertSelf();return[e,t,i,r,s,a]}function Y1(n,e,t=!1,i=!0){if(e instanceof OS){const{pageWidth:r,pageHeight:s}=e.rawDims,{style:a}=n,o=us.isCSSRoundSupported,c=`var(--total-scale-factor) * ${r}px`,d=`var(--total-scale-factor) * ${s}px`,u=o?`round(down, ${c}, var(--scale-round-x))`:`calc(${c})`,f=o?`round(down, ${d}, var(--scale-round-y))`:`calc(${d})`;!t||e.rotation%180===0?(a.width=u,a.height=f):(a.width=f,a.height=u)}i&&n.setAttribute("data-main-rotation",e.rotation)}class xu{constructor(){const{pixelRatio:e}=xu;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,i,r,s=-1){let a=1/0,o=1/0,c=1/0;i=xu.capPixels(i,s),i>0&&(a=Math.sqrt(i/(e*t))),r!==-1&&(o=r/e,c=r/t);const d=Math.min(a,o,c);return this.sx>d||this.sy>d?(this.sx=d,this.sy=d,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,i):i}return e}}const tP=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class Xbe{static get isDarkMode(){var e;return un(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}class Ybe{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:i}=window.getComputedStyle(e);return e.remove(),un(this,"commentForegroundColor",FS(i))}}function Kbe(n,e,t,i){i=Math.min(Math.max(i??1,0),1);const r=255*(1-i);return n=Math.round(n*i+r),e=Math.round(e*i+r),t=Math.round(t*i+r),[n,e,t]}function cM(n,e){const t=n[0]/255,i=n[1]/255,r=n[2]/255,s=Math.max(t,i,r),a=Math.min(t,i,r),o=(s+a)/2;if(s===a)e[0]=e[1]=0;else{const c=s-a;switch(e[1]=o<.5?c/(s+a):c/(2-s-a),s){case t:e[0]=((i-r)/c+(i<r?6:0))*60;break;case i:e[0]=((r-t)/c+2)*60;break;case r:e[0]=((t-i)/c+4)*60;break}}e[2]=o}function nP(n,e){const t=n[0],i=n[1],r=n[2],s=(1-Math.abs(2*r-1))*i,a=s*(1-Math.abs(t/60%2-1)),o=r-s/2;switch(Math.floor(t/60)){case 0:e[0]=s+o,e[1]=a+o,e[2]=o;break;case 1:e[0]=a+o,e[1]=s+o,e[2]=o;break;case 2:e[0]=o,e[1]=s+o,e[2]=a+o;break;case 3:e[0]=o,e[1]=a+o,e[2]=s+o;break;case 4:e[0]=a+o,e[1]=o,e[2]=s+o;break;case 5:case 6:e[0]=s+o,e[1]=o,e[2]=a+o;break}}function dM(n){return n<=.03928?n/12.92:((n+.055)/1.055)**2.4}function uM(n,e,t){nP(n,t),t.map(dM);const i=.2126*t[0]+.7152*t[1]+.0722*t[2];nP(e,t),t.map(dM);const r=.2126*t[0]+.7152*t[1]+.0722*t[2];return i>r?(i+.05)/(r+.05):(r+.05)/(i+.05)}const hM=new Map;function Jbe(n,e){const t=n[0]+n[1]*256+n[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let i=hM.get(t);if(i)return i;const r=new Float32Array(9),s=r.subarray(0,3),a=r.subarray(3,6);cM(n,a);const o=r.subarray(6,9);cM(e,o);const c=o[2]<.5,d=c?12:4.5;if(a[2]=c?Math.sqrt(a[2]):1-Math.sqrt(1-a[2]),uM(a,o,s)<d){let u,f;c?(u=a[2],f=1):(u=0,f=a[2]);const h=.005;for(;f-u>h;){const p=a[2]=(u+f)/2;c===uM(a,o,s)<d?u=p:f=p}a[2]=c?f:u}return nP(a,s),i=zt.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),hM.set(t,i),i}function oV({html:n,dir:e,className:t},i){const r=document.createDocumentFragment();if(typeof n=="string"){const s=document.createElement("p");s.dir=e||"auto";const a=n.split(/(?:\r\n?|\n)/);for(let o=0,c=a.length;o<c;++o){const d=a[o];s.append(document.createTextNode(d)),o<c-1&&s.append(document.createElement("br"))}r.append(s)}else aV.render({xfaHtml:n,div:r,intent:"richText"});r.firstElementChild.classList.add("richText",t),i.append(r)}function lV(n){const e=new Path2D;if(!n)return e;for(let t=0,i=n.length;t<i;)switch(n[t++]){case R2.moveTo:e.moveTo(n[t++],n[t++]);break;case R2.lineTo:e.lineTo(n[t++],n[t++]);break;case R2.curveTo:e.bezierCurveTo(n[t++],n[t++],n[t++],n[t++],n[t++],n[t++]);break;case R2.quadraticCurveTo:e.quadraticCurveTo(n[t++],n[t++],n[t++],n[t++]);break;case R2.closePath:e.closePath();break;default:dn(`Unrecognized drawing path operator: ${n[t-1]}`);break}return e}var Bf,zf,Il,Rl,Ix,jf,xy,_y,Rx,X3,cV,Y3,dV,K3,uV,Wf,N0,Km,Q2;const Vu=class Vu{constructor(e){ne(this,Y3);ne(this,K3);ne(this,Wf);ne(this,Km);ne(this,Bf,null);ne(this,zf,null);ne(this,Il,void 0);ne(this,Rl,null);ne(this,Ix,null);ne(this,jf,null);ne(this,xy,null);ne(this,_y,null);se(this,Il,e),S(Vu,Rx)||se(Vu,Rx,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=se(this,Bf,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=S(this,Il)._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",ic,{signal:t}),e.addEventListener("pointerdown",ye(Vu,X3,cV),{signal:t}));const i=se(this,Rl,document.createElement("div"));i.className="buttons",e.append(i);const r=S(this,Il).toolbarPosition;if(r){const{style:s}=e,a=S(this,Il)._uiManager.direction==="ltr"?1-r[0]:r[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return S(this,Bf)}hide(){var e;S(this,Bf).classList.add("hidden"),(e=S(this,zf))==null||e.hideDropdown()}show(){var e,t;S(this,Bf).classList.remove("hidden"),(e=S(this,Ix))==null||e.shown(),(t=S(this,jf))==null||t.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=S(this,Il),i=document.createElement("button");i.classList.add("basic","deleteButton"),i.tabIndex=0,i.setAttribute("data-l10n-id",S(Vu,Rx)[e]),ye(this,Wf,N0).call(this,i)&&i.addEventListener("click",r=>{t.delete()},{signal:t._signal}),S(this,Rl).append(i)}async addAltText(e){const t=await e.render();ye(this,Wf,N0).call(this,t),S(this,Rl).append(t,S(this,Km,Q2)),se(this,Ix,e)}addComment(e,t=null){if(S(this,jf))return;const i=e.renderForToolbar();if(!i)return;ye(this,Wf,N0).call(this,i);const r=se(this,xy,S(this,Km,Q2));t?(S(this,Rl).insertBefore(i,t),S(this,Rl).insertBefore(r,t)):S(this,Rl).append(i,r),se(this,jf,e),e.toolbar=this}addColorPicker(e){if(S(this,zf))return;se(this,zf,e);const t=e.renderButton();ye(this,Wf,N0).call(this,t),S(this,Rl).append(t,S(this,Km,Q2))}async addEditSignatureButton(e){const t=se(this,_y,await e.renderEditButton(S(this,Il)));ye(this,Wf,N0).call(this,t),S(this,Rl).append(t,S(this,Km,Q2))}removeButton(e){var t,i;switch(e){case"comment":(t=S(this,jf))==null||t.removeToolbarCommentButton(),se(this,jf,null),(i=S(this,xy))==null||i.remove(),se(this,xy,null);break}}async addButton(e,t){switch(e){case"colorPicker":t&&this.addColorPicker(t);break;case"altText":t&&await this.addAltText(t);break;case"editSignature":t&&await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":t&&this.addComment(t);break}}async addButtonBefore(e,t,i){if(!t&&e==="comment")return;const r=S(this,Rl).querySelector(i);r&&e==="comment"&&this.addComment(t,r)}updateEditSignatureButton(e){S(this,_y)&&(S(this,_y).title=e)}remove(){var e;S(this,Bf).remove(),(e=S(this,zf))==null||e.destroy(),se(this,zf,null)}};Bf=new WeakMap,zf=new WeakMap,Il=new WeakMap,Rl=new WeakMap,Ix=new WeakMap,jf=new WeakMap,xy=new WeakMap,_y=new WeakMap,Rx=new WeakMap,X3=new WeakSet,cV=function(e){e.stopPropagation()},Y3=new WeakSet,dV=function(e){S(this,Il)._focusEventsAllowed=!1,wr(e)},K3=new WeakSet,uV=function(e){S(this,Il)._focusEventsAllowed=!0,wr(e)},Wf=new WeakSet,N0=function(e){const t=S(this,Il)._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",ye(this,Y3,dV).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",ye(this,K3,uV).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",ic,{signal:t}),!0)},Km=new WeakSet,Q2=function(){const e=document.createElement("div");return e.className="divider",e},ne(Vu,X3),ne(Vu,Rx,null);let iP=Vu;var Lx,Jm,Ju,J3,hV,Z3,fV,Ox,rP;class Zbe{constructor(e){ne(this,J3);ne(this,Z3);ne(this,Ox);ne(this,Lx,null);ne(this,Jm,null);ne(this,Ju,void 0);se(this,Ju,e)}show(e,t,i){const[r,s]=ye(this,Z3,fV).call(this,t,i),{style:a}=S(this,Jm)||se(this,Jm,ye(this,J3,hV).call(this));e.append(S(this,Jm)),a.insetInlineEnd=`${100*r}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){S(this,Jm).remove()}}Lx=new WeakMap,Jm=new WeakMap,Ju=new WeakMap,J3=new WeakSet,hV=function(){const e=se(this,Jm,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=S(this,Ju)._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",ic,{signal:t});const i=se(this,Lx,document.createElement("div"));return i.className="buttons",e.append(i),S(this,Ju).hasCommentManager()&&ye(this,Ox,rP).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{S(this,Ju).commentSelection("floating_button")}),ye(this,Ox,rP).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{S(this,Ju).highlightSelection("floating_button")}),e},Z3=new WeakSet,fV=function(e,t){let i=0,r=0;for(const s of e){const a=s.y+s.height;if(a<i)continue;const o=s.x+(t?s.width:0);if(a>i){r=o,i=a;continue}t?o>r&&(r=o):o<r&&(r=o)}return[t?1-r:r,i]},Ox=new WeakSet,rP=function(e,t,i,r){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",t);const a=document.createElement("span");s.append(a),a.className="visuallyHidden",a.setAttribute("data-l10n-id",i);const o=S(this,Ju)._signal;o instanceof AbortSignal&&!o.aborted&&(s.addEventListener("contextmenu",ic,{signal:o}),s.addEventListener("click",r,{signal:o})),S(this,Lx).append(s)};function pV(n,e,t){for(const i of t)e.addEventListener(i,n[i].bind(n))}var Zm,Qm,Sy,eg;const yi=class yi{static initializeAndAddPointerId(e){(S(yi,Qm)||se(yi,Qm,new Set)).add(e)}static setPointer(e,t){S(yi,Zm)||se(yi,Zm,t),S(yi,eg)??se(yi,eg,e)}static setTimeStamp(e){se(yi,Sy,e)}static isSamePointerId(e){return S(yi,Zm)===e}static isSamePointerIdOrRemove(e){var t;return S(yi,Zm)===e?!0:((t=S(yi,Qm))==null||t.delete(e),!1)}static isSamePointerType(e){return S(yi,eg)===e}static isInitializedAndDifferentPointerType(e){return S(yi,eg)!==null&&!yi.isSamePointerType(e)}static isSameTimeStamp(e){return S(yi,Sy)===e}static isUsingMultiplePointers(){var e;return((e=S(yi,Qm))==null?void 0:e.size)>=1}static clearPointerType(){se(yi,eg,null)}static clearPointerIds(){se(yi,Zm,NaN),se(yi,Qm,null)}static clearTimeStamp(){se(yi,Sy,NaN)}};Zm=new WeakMap,Qm=new WeakMap,Sy=new WeakMap,eg=new WeakMap,ne(yi,Zm,NaN),ne(yi,Qm,null),ne(yi,Sy,NaN),ne(yi,eg,null);let ga=yi;var Q3;class Qbe{constructor(){ne(this,Q3,0)}get id(){return`${yx}${is(this,Q3)._++}`}}Q3=new WeakMap;var Ny,Fx,ya,Ay,WA;const pO=class pO{constructor(){ne(this,Ay);ne(this,Ny,rV());ne(this,Fx,0);ne(this,ya,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const s=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return un(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:i,size:r,type:s}=e;return ye(this,Ay,WA).call(this,`${t}_${i}_${r}_${s}`,e)}async getFromUrl(e){return ye(this,Ay,WA).call(this,e,e)}async getFromBlob(e,t){const i=await t;return ye(this,Ay,WA).call(this,e,i)}async getFromId(e){S(this,ya)||se(this,ya,new Map);const t=S(this,ya).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:i}=t;return delete t.blobPromise,this.getFromBlob(t.id,i)}return this.getFromUrl(t.url)}getFromCanvas(e,t){S(this,ya)||se(this,ya,new Map);let i=S(this,ya).get(e);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const r=new OffscreenCanvas(t.width,t.height);return r.getContext("2d").drawImage(t,0,0),i={bitmap:r.transferToImageBitmap(),id:`image_${S(this,Ny)}_${is(this,Fx)._++}`,refCounter:1,isSvg:!1},S(this,ya).set(e,i),S(this,ya).set(i.id,i),i}getSvgUrl(e){const t=S(this,ya).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var r;S(this,ya)||se(this,ya,new Map);const t=S(this,ya).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:i}=t;if(!t.url&&!t.file){const s=new OffscreenCanvas(i.width,i.height);s.getContext("bitmaprenderer").transferFromImageBitmap(i),t.blobPromise=s.convertToBlob()}(r=i.close)==null||r.call(i),t.bitmap=null}isValidId(e){return e.startsWith(`image_${S(this,Ny)}_`)}};Ny=new WeakMap,Fx=new WeakMap,ya=new WeakMap,Ay=new WeakSet,WA=async function(e,t){S(this,ya)||se(this,ya,new Map);let i=S(this,ya).get(e);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${S(this,Ny)}_${is(this,Fx)._++}`,refCounter:0,isSvg:!1});let r;if(typeof t=="string"?(i.url=t,r=await LS(t,"blob")):t instanceof File?r=i.file=t:t instanceof Blob&&(r=t),r.type==="image/svg+xml"){const s=pO._isSVGFittingCanvas,a=new FileReader,o=new Image,c=new Promise((d,u)=>{o.onload=()=>{i.bitmap=o,i.isSvg=!0,d()},a.onload=async()=>{const f=i.svgUrl=a.result;o.src=await s?`${f}#svgView(preserveAspectRatio(none))`:f},o.onerror=a.onerror=u});a.readAsDataURL(r),await c}else i.bitmap=await createImageBitmap(r);i.refCounter=1}catch(r){dn(r),i=null}return S(this,ya).set(e,i),i&&S(this,ya).set(i.id,i),i};let sP=pO;var Cr,$f,Ux,er;class e2e{constructor(e=128){ne(this,Cr,[]);ne(this,$f,!1);ne(this,Ux,void 0);ne(this,er,-1);se(this,Ux,e)}add({cmd:e,undo:t,post:i,mustExec:r,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(r&&e(),S(this,$f))return;const c={cmd:e,undo:t,post:i,type:s};if(S(this,er)===-1){S(this,Cr).length>0&&(S(this,Cr).length=0),se(this,er,0),S(this,Cr).push(c);return}if(a&&S(this,Cr)[S(this,er)].type===s){o&&(c.undo=S(this,Cr)[S(this,er)].undo),S(this,Cr)[S(this,er)]=c;return}const d=S(this,er)+1;d===S(this,Ux)?S(this,Cr).splice(0,1):(se(this,er,d),d<S(this,Cr).length&&S(this,Cr).splice(d)),S(this,Cr).push(c)}undo(){if(S(this,er)===-1)return;se(this,$f,!0);const{undo:e,post:t}=S(this,Cr)[S(this,er)];e(),t==null||t(),se(this,$f,!1),se(this,er,S(this,er)-1)}redo(){if(S(this,er)<S(this,Cr).length-1){se(this,er,S(this,er)+1),se(this,$f,!0);const{cmd:e,post:t}=S(this,Cr)[S(this,er)];e(),t==null||t(),se(this,$f,!1)}}hasSomethingToUndo(){return S(this,er)!==-1}hasSomethingToRedo(){return S(this,er)<S(this,Cr).length-1}cleanType(e){if(S(this,er)!==-1){for(let t=S(this,er);t>=0;t--)if(S(this,Cr)[t].type!==e){S(this,Cr).splice(t+1,S(this,er)-t),se(this,er,t);return}S(this,Cr).length=0,se(this,er,-1)}}destroy(){se(this,Cr,null)}}Cr=new WeakMap,$f=new WeakMap,Ux=new WeakMap,er=new WeakMap;var e4,mV;class US{constructor(e){ne(this,e4);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=us.platform;for(const[i,r,s={}]of e)for(const a of i){const o=a.startsWith("mac+");t&&o?(this.callbacks.set(a.slice(4),{callback:r,options:s}),this.allKeys.add(a.split("+").at(-1))):!t&&!o&&(this.callbacks.set(a,{callback:r,options:s}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const i=this.callbacks.get(ye(this,e4,mV).call(this,t));if(!i)return;const{callback:r,options:{bubbles:s=!1,args:a=[],checker:o=null}}=i;o&&!o(e,t)||(r.bind(e,...a,t)(),s||wr(t))}}e4=new WeakSet,mV=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const t4=class t4{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return Gbe(e),un(this,"_colors",e)}convert(e){const t=FS(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[i,r]of this._colors)if(r.every((s,a)=>s===t[a]))return t4._colorsMapping.get(i);return t}getHexCode(e){const t=this._colors.get(e);return t?zt.makeHexColor(...t):e}};wt(t4,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let aP=t4;var ky,jo,Ey,pr,as,Ty,Ll,Cy,Ol,va,qf,Hf,Dy,Vf,Od,Fl,tg,Mx,Bx,Py,zx,Fd,Gf,Iy,Xf,Ud,n4,Yf,Ry,jx,Kf,ng,Ly,Jf,Wx,Wr,oi,Zu,Zf,Qf,$x,Oy,qx,ep,Md,Qu,Hx,Vx,Ul,Fy,$A,Gx,oP,i4,gV,r4,yV,ig,ew,s4,vV,a4,bV,o4,wV,Xx,lP,l4,xV,c4,_V,d4,SV,u4,NV,Hs,Ra,Cc,$u,h4,AV,f4,kV,Yx,cP,p4,EV,rg,tw,Kx,dP;const X0=class X0{constructor(e,t,i,r,s,a,o,c,d,u,f,h,p,v,w,b){ne(this,Fy);ne(this,Gx);ne(this,i4);ne(this,r4);ne(this,ig);ne(this,s4);ne(this,a4);ne(this,o4);ne(this,Xx);ne(this,l4);ne(this,c4);ne(this,d4);ne(this,u4);ne(this,Hs);ne(this,Cc);ne(this,h4);ne(this,f4);ne(this,Yx);ne(this,p4);ne(this,rg);ne(this,Kx);ne(this,ky,new AbortController);ne(this,jo,null);ne(this,Ey,null);ne(this,pr,new Map);ne(this,as,new Map);ne(this,Ty,null);ne(this,Ll,null);ne(this,Cy,null);ne(this,Ol,new e2e);ne(this,va,null);ne(this,qf,null);ne(this,Hf,null);ne(this,Dy,0);ne(this,Vf,new Set);ne(this,Od,null);ne(this,Fl,null);ne(this,tg,new Set);wt(this,"_editorUndoBar",null);ne(this,Mx,!1);ne(this,Bx,!1);ne(this,Py,!1);ne(this,zx,null);ne(this,Fd,null);ne(this,Gf,null);ne(this,Iy,null);ne(this,Xf,!1);ne(this,Ud,null);ne(this,n4,new Qbe);ne(this,Yf,!1);ne(this,Ry,!1);ne(this,jx,!1);ne(this,Kf,null);ne(this,ng,null);ne(this,Ly,null);ne(this,Jf,null);ne(this,Wx,null);ne(this,Wr,mn.NONE);ne(this,oi,new Set);ne(this,Zu,null);ne(this,Zf,null);ne(this,Qf,null);ne(this,$x,null);ne(this,Oy,null);ne(this,qx,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});ne(this,ep,[0,0]);ne(this,Md,null);ne(this,Qu,null);ne(this,Hx,null);ne(this,Vx,null);ne(this,Ul,null);const m=this._signal=S(this,ky).signal;se(this,Qu,e),se(this,Hx,t),se(this,Vx,i),se(this,Ty,r),se(this,va,s),se(this,Zf,a),se(this,Oy,c),this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:m}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:m}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:m}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:m}),o._on("setpreference",this.onSetPreference.bind(this),{signal:m}),o._on("switchannotationeditorparams",y=>this.updateParams(y.type,y.value),{signal:m}),window.addEventListener("pointerdown",()=>{se(this,Ry,!0)},{capture:!0,signal:m}),window.addEventListener("pointerup",()=>{se(this,Ry,!1)},{capture:!0,signal:m}),ye(this,s4,vV).call(this),ye(this,u4,NV).call(this),ye(this,Xx,lP).call(this),se(this,Ll,c.annotationStorage),se(this,zx,c.filterFactory),se(this,Qf,d),se(this,Iy,u||null),se(this,Mx,f),se(this,Bx,h),se(this,Py,p),se(this,Wx,v||null),this.viewParameters={realScale:lm.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=w||null,this._supportsPinchToZoom=b!==!1,s==null||s.setSidebarUiManager(this)}static get _keyboardManager(){const e=X0.prototype,t=a=>S(a,Qu).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),i=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:c}=o;return c!=="text"&&c!=="number"}return!0},r=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return un(this,"_keyboardManager",new US([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],e.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:i}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&S(a,Qu).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&S(a,Qu).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,i,r,s,a,o,c,d;(e=S(this,Ul))==null||e.resolve(),se(this,Ul,null),(t=S(this,ky))==null||t.abort(),se(this,ky,null),this._signal=null;for(const u of S(this,as).values())u.destroy();S(this,as).clear(),S(this,pr).clear(),S(this,tg).clear(),(i=S(this,Jf))==null||i.clear(),se(this,jo,null),S(this,oi).clear(),S(this,Ol).destroy(),(r=S(this,Ty))==null||r.destroy(),(s=S(this,va))==null||s.destroy(),(a=S(this,Zf))==null||a.destroy(),(o=S(this,Ud))==null||o.hide(),se(this,Ud,null),(c=S(this,Ly))==null||c.destroy(),se(this,Ly,null),se(this,Ey,null),S(this,Fd)&&(clearTimeout(S(this,Fd)),se(this,Fd,null)),S(this,Md)&&(clearTimeout(S(this,Md)),se(this,Md,null)),(d=this._editorUndoBar)==null||d.destroy(),se(this,Oy,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return S(this,Wx)}get useNewAltTextFlow(){return S(this,Bx)}get useNewAltTextWhenAddingImage(){return S(this,Py)}get hcmFilter(){return un(this,"hcmFilter",S(this,Qf)?S(this,zx).addHCMFilter(S(this,Qf).foreground,S(this,Qf).background):"none")}get direction(){return un(this,"direction",getComputedStyle(S(this,Qu)).direction)}get _highlightColors(){return un(this,"_highlightColors",S(this,Iy)?new Map(S(this,Iy).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return un(this,"highlightColors",null);const t=new Map,i=!!S(this,Qf);for(const[r,s]of e){const a=r.endsWith("_HCM");if(i&&a){t.set(r.replace("_HCM",""),s);continue}!i&&!a&&t.set(r,s)}return un(this,"highlightColors",t)}get highlightColorNames(){return un(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),se(this,Hf,e)}setMainHighlightColorPicker(e){se(this,Ly,e)}editAltText(e,t=!1){var i;(i=S(this,Ty))==null||i.editAltText(this,e,t)}hasCommentManager(){return!!S(this,va)}editComment(e,t,i,r){var s;(s=S(this,va))==null||s.showDialog(this,e,t,i,r)}selectComment(e,t){const i=S(this,as).get(e),r=i==null?void 0:i.getEditorByUID(t);r==null||r.toggleComment(!0,!0)}updateComment(e){var t;(t=S(this,va))==null||t.updateComment(e.getData())}updatePopupColor(e){var t;(t=S(this,va))==null||t.updatePopupColor(e)}removeComment(e){var t;(t=S(this,va))==null||t.removeComments([e.uid])}toggleComment(e,t,i=void 0){var r;(r=S(this,va))==null||r.toggleCommentPopup(e,t,i)}makeCommentColor(e,t){var i;return e&&((i=S(this,va))==null?void 0:i.makeCommentColor(e,t))||null}getCommentDialogElement(){var e;return((e=S(this,va))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(S(this,as).has(e-1))return;const{resolve:t,promise:i}=Promise.withResolvers(),r=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",r),t())};this._eventBus.on("editorsrendered",r),await i}getSignature(e){var t;(t=S(this,Zf))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return S(this,Zf)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":se(this,Py,t);break}}onPageChanging({pageNumber:e}){se(this,Dy,e-1)}focusMainContainer(){S(this,Qu).focus()}findParent(e,t){for(const i of S(this,as).values()){const{x:r,y:s,width:a,height:o}=i.div.getBoundingClientRect();if(e>=r&&e<=r+a&&t>=s&&t<=s+o)return i}return null}disableUserSelect(e=!1){S(this,Hx).classList.toggle("noUserSelect",e)}addShouldRescale(e){S(this,tg).add(e)}removeShouldRescale(e){S(this,tg).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*lm.PDF_TO_CSS_UNITS;for(const i of S(this,tg))i.onScaleChanging();(t=S(this,Hf))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",t=!1){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:r,anchorOffset:s,focusNode:a,focusOffset:o}=i,c=i.toString(),u=ye(this,Fy,$A).call(this,i).closest(".textLayer"),f=this.getSelectionBoxes(u);if(!f)return;i.empty();const h=ye(this,Gx,oP).call(this,u),p=S(this,Wr)===mn.NONE,v=()=>{const w=h==null?void 0:h.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:f,anchorNode:r,anchorOffset:s,focusNode:a,focusOffset:o,text:c});p&&this.showAllEditors("highlight",!0,!0),t&&(w==null||w.editComment())};if(p){this.switchToMode(mn.HIGHLIGHT,v);return}v()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!S(this,Ll))return null;const t=`${yx}${e}`,i=S(this,Ll).getRawValue(t);return i&&S(this,Ll).remove(t),i}addToAnnotationStorage(e){!e.isEmpty()&&S(this,Ll)&&!S(this,Ll).has(e.id)&&S(this,Ll).setValue(e.id,e)}a11yAlert(e,t=null){const i=S(this,Vx);i&&(i.setAttribute("data-l10n-id",e),t?i.setAttribute("data-l10n-args",JSON.stringify(t)):i.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,S(this,Xf)&&(se(this,Xf,!1),ye(this,ig,ew).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of S(this,oi))if(t.div.contains(e)){se(this,ng,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!S(this,ng))return;const[e,t]=S(this,ng);se(this,ng,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){ye(this,Xx,lP).call(this),this.setEditingState(!0)}removeEditListeners(){ye(this,l4,xV).call(this),this.setEditingState(!1)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const i of S(this,Fl))if(i.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const i of S(this,Fl))if(i.isHandlingMimeForPasting(t.type)){i.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var i;if(e.preventDefault(),(i=S(this,jo))==null||i.commitOrRemove(),!this.hasSelection)return;const t=[];for(const r of S(this,oi)){const s=r.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const a of S(this,Fl))if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let i=t.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(s){dn(`paste: "${s.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const r=this.currentLayer;try{const s=[];for(const c of i){const d=await r.deserialize(c);if(!d)return;s.push(d)}const a=()=>{for(const c of s)ye(this,Yx,cP).call(this,c);ye(this,Kx,dP).call(this,s)},o=()=>{for(const c of s)c.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){dn(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),S(this,Wr)!==mn.NONE&&!this.isEditorHandlingKeyboard&&X0._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,S(this,Xf)&&(se(this,Xf,!1),ye(this,ig,ew).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(ye(this,a4,bV).call(this),ye(this,c4,_V).call(this),ye(this,Hs,Ra).call(this,{isEditing:S(this,Wr)!==mn.NONE,isEmpty:ye(this,rg,tw).call(this),hasSomethingToUndo:S(this,Ol).hasSomethingToUndo(),hasSomethingToRedo:S(this,Ol).hasSomethingToRedo(),hasSelectedEditor:!1})):(ye(this,o4,wV).call(this),ye(this,d4,SV).call(this),ye(this,Hs,Ra).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!S(this,Fl)){se(this,Fl,e);for(const t of S(this,Fl))ye(this,Cc,$u).call(this,t.defaultPropertiesToUpdate)}}getId(){return S(this,n4).id}get currentLayer(){return S(this,as).get(S(this,Dy))}getLayer(e){return S(this,as).get(e)}get currentPageIndex(){return S(this,Dy)}addLayer(e){S(this,as).set(e.pageIndex,e),S(this,Yf)?e.enable():e.disable()}removeLayer(e){S(this,as).delete(e.pageIndex)}async updateMode(e,t=null,i=!1,r=!1,s=!1,a=!1){var o,c,d,u,f,h;if(S(this,Wr)!==e&&!(S(this,Ul)&&(await S(this,Ul).promise,!S(this,Ul)))){if(se(this,Ul,Promise.withResolvers()),(o=S(this,Hf))==null||o.commitOrRemove(),S(this,Wr)===mn.POPUP&&((c=S(this,va))==null||c.hideSidebar()),(d=S(this,va))==null||d.destroyPopup(),se(this,Wr,e),e===mn.NONE){this.setEditingState(!1),ye(this,f4,kV).call(this);for(const p of S(this,pr).values())p.hideStandaloneCommentButton();(u=this._editorUndoBar)==null||u.hide(),this.toggleComment(null),S(this,Ul).resolve();return}for(const p of S(this,pr).values())p.addStandaloneCommentButton();e===mn.SIGNATURE&&await((f=S(this,Zf))==null?void 0:f.loadSignatures()),i&&ga.clearPointerType(),this.setEditingState(!0),await ye(this,h4,AV).call(this),this.unselectAll();for(const p of S(this,as).values())p.updateMode(e);if(e===mn.POPUP){S(this,Ey)||se(this,Ey,await S(this,Oy).getAnnotationsByType(new Set(S(this,Fl).map(w=>w._editorType))));const p=new Set,v=[];for(const w of S(this,pr).values()){const{annotationElementId:b,hasComment:m,deleted:y}=w;b&&p.add(b),m&&!y&&v.push(w.getData())}for(const w of S(this,Ey)){const{id:b,popupRef:m,contentsObj:y}=w;m&&(y!=null&&y.str)&&!p.has(b)&&!S(this,Vf).has(b)&&v.push(w)}(h=S(this,va))==null||h.showSidebar(v)}if(!t){r&&this.addNewEditorFromKeyboard(),S(this,Ul).resolve();return}for(const p of S(this,pr).values())p.uid===t?(this.setSelected(p),a?p.editComment():s?p.enterInEditMode():p.focus()):p.unselect();S(this,Ul).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==S(this,Wr)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(S(this,Fl)){switch(e){case In.CREATE:this.currentLayer.addNewEditor(t);return;case In.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(S(this,$x)||se(this,$x,new Map)).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const i of S(this,oi))i.updateParams(e,t);else for(const i of S(this,Fl))i.updateDefaultParams(e,t)}}showAllEditors(e,t,i=!1){var s;for(const a of S(this,pr).values())a.editorType===e&&a.show(t);(((s=S(this,$x))==null?void 0:s.get(In.HIGHLIGHT_SHOW_ALL))??!0)!==t&&ye(this,Cc,$u).call(this,[[In.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(S(this,jx)!==e){se(this,jx,e);for(const t of S(this,as).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}*getEditors(e){for(const t of S(this,pr).values())t.pageIndex===e&&(yield t)}getEditor(e){return S(this,pr).get(e)}addEditor(e){S(this,pr).set(e.id,e)}removeEditor(e){var t,i;e.div.contains(document.activeElement)&&(S(this,Fd)&&clearTimeout(S(this,Fd)),se(this,Fd,setTimeout(()=>{this.focusMainContainer(),se(this,Fd,null)},0))),S(this,pr).delete(e.id),e.annotationElementId&&((t=S(this,Jf))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!S(this,Vf).has(e.annotationElementId))&&((i=S(this,Ll))==null||i.remove(e.id))}addDeletedAnnotationElement(e){S(this,Vf).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return S(this,Vf).has(e)}removeDeletedAnnotationElement(e){S(this,Vf).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){S(this,jo)!==e&&(se(this,jo,e),e&&ye(this,Cc,$u).call(this,e.propertiesToUpdate))}updateUI(e){S(this,p4,EV)===e&&ye(this,Cc,$u).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){ye(this,Cc,$u).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(S(this,oi).has(e)){S(this,oi).delete(e),e.unselect(),ye(this,Hs,Ra).call(this,{hasSelectedEditor:this.hasSelection});return}S(this,oi).add(e),e.select(),ye(this,Cc,$u).call(this,e.propertiesToUpdate),ye(this,Hs,Ra).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.uid}),(t=S(this,Hf))==null||t.commitOrRemove();for(const i of S(this,oi))i!==e&&i.unselect();S(this,oi).clear(),S(this,oi).add(e),e.select(),ye(this,Cc,$u).call(this,e.propertiesToUpdate),ye(this,Hs,Ra).call(this,{hasSelectedEditor:!0})}isSelected(e){return S(this,oi).has(e)}get firstSelectedEditor(){return S(this,oi).values().next().value}unselect(e){e.unselect(),S(this,oi).delete(e),ye(this,Hs,Ra).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return S(this,oi).size!==0}get isEnterHandled(){return S(this,oi).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;S(this,Ol).undo(),ye(this,Hs,Ra).call(this,{hasSomethingToUndo:S(this,Ol).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:ye(this,rg,tw).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){S(this,Ol).redo(),ye(this,Hs,Ra).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:S(this,Ol).hasSomethingToRedo(),isEmpty:ye(this,rg,tw).call(this)})}addCommands(e){S(this,Ol).add(e),ye(this,Hs,Ra).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:ye(this,rg,tw).call(this)})}cleanUndoStack(e){S(this,Ol).cleanType(e)}delete(){var s;this.commitOrRemove();const e=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...S(this,oi)],i=()=>{var a;(a=this._editorUndoBar)==null||a.show(r,t.length===1?t[0].editorType:t.length);for(const o of t)o.remove()},r=()=>{for(const a of t)ye(this,Yx,cP).call(this,a)};this.addCommands({cmd:i,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=S(this,jo))==null||e.commitOrRemove()}hasSomethingToControl(){return S(this,jo)||this.hasSelection}selectAll(){for(const e of S(this,oi))e.commit();ye(this,Kx,dP).call(this,S(this,pr).values())}unselectAll(){var e;if(!(S(this,jo)&&(S(this,jo).commitOrRemove(),S(this,Wr)!==mn.NONE))&&!((e=S(this,Hf))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of S(this,oi))t.unselect();S(this,oi).clear(),ye(this,Hs,Ra).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;S(this,ep)[0]+=e,S(this,ep)[1]+=t;const[r,s]=S(this,ep),a=[...S(this,oi)],o=1e3;S(this,Md)&&clearTimeout(S(this,Md)),se(this,Md,setTimeout(()=>{se(this,Md,null),S(this,ep)[0]=S(this,ep)[1]=0,this.addCommands({cmd:()=>{for(const c of a)S(this,pr).has(c.id)&&(c.translateInPage(r,s),c.translationDone())},undo:()=>{for(const c of a)S(this,pr).has(c.id)&&(c.translateInPage(-r,-s),c.translationDone())},mustExec:!1})},o));for(const c of a)c.translateInPage(e,t),c.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),se(this,Od,new Map);for(const e of S(this,oi))S(this,Od).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!S(this,Od))return!1;this.disableUserSelect(!1);const e=S(this,Od);se(this,Od,null);let t=!1;for(const[{x:r,y:s,pageIndex:a},o]of e)o.newX=r,o.newY=s,o.newPageIndex=a,t||(t=r!==o.savedX||s!==o.savedY||a!==o.savedPageIndex);if(!t)return!1;const i=(r,s,a,o)=>{if(S(this,pr).has(r.id)){const c=S(this,as).get(o);c?r._setParentAndPosition(c,s,a):(r.pageIndex=o,r.x=s,r.y=a)}};return this.addCommands({cmd:()=>{for(const[r,{newX:s,newY:a,newPageIndex:o}]of e)i(r,s,a,o)},undo:()=>{for(const[r,{savedX:s,savedY:a,savedPageIndex:o}]of e)i(r,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(S(this,Od))for(const i of S(this,Od).keys())i.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||S(this,oi).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return S(this,jo)===e}getActive(){return S(this,jo)}getMode(){return S(this,Wr)}isEditingMode(){return S(this,Wr)!==mn.NONE}get imageManager(){return un(this,"imageManager",new sP)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let d=0,u=t.rangeCount;d<u;d++)if(!e.contains(t.getRangeAt(d).commonAncestorContainer))return null;const{x:i,y:r,width:s,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(d,u,f,h)=>({x:(u-r)/a,y:1-(d+f-i)/s,width:h/a,height:f/s});break;case"180":o=(d,u,f,h)=>({x:1-(d+f-i)/s,y:1-(u+h-r)/a,width:f/s,height:h/a});break;case"270":o=(d,u,f,h)=>({x:1-(u+h-r)/a,y:(d-i)/s,width:h/a,height:f/s});break;default:o=(d,u,f,h)=>({x:(d-i)/s,y:(u-r)/a,width:f/s,height:h/a});break}const c=[];for(let d=0,u=t.rangeCount;d<u;d++){const f=t.getRangeAt(d);if(!f.collapsed)for(const{x:h,y:p,width:v,height:w}of f.getClientRects())v===0||w===0||c.push(o(h,p,v,w))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:e,id:t}){(S(this,Cy)||se(this,Cy,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=S(this,Cy))==null||t.delete(e)}renderAnnotationElement(e){var r;const t=(r=S(this,Cy))==null?void 0:r.get(e.data.id);if(!t)return;const i=S(this,Ll).getRawValue(t);i&&(S(this,Wr)===mn.NONE&&!i.hasBeenModified||i.renderAnnotationElement(e))}setMissingCanvas(e,t,i){var s;const r=(s=S(this,Jf))==null?void 0:s.get(e);r&&(r.setCanvas(t,i),S(this,Jf).delete(e))}addMissingCanvas(e,t){(S(this,Jf)||se(this,Jf,new Map)).set(e,t)}};ky=new WeakMap,jo=new WeakMap,Ey=new WeakMap,pr=new WeakMap,as=new WeakMap,Ty=new WeakMap,Ll=new WeakMap,Cy=new WeakMap,Ol=new WeakMap,va=new WeakMap,qf=new WeakMap,Hf=new WeakMap,Dy=new WeakMap,Vf=new WeakMap,Od=new WeakMap,Fl=new WeakMap,tg=new WeakMap,Mx=new WeakMap,Bx=new WeakMap,Py=new WeakMap,zx=new WeakMap,Fd=new WeakMap,Gf=new WeakMap,Iy=new WeakMap,Xf=new WeakMap,Ud=new WeakMap,n4=new WeakMap,Yf=new WeakMap,Ry=new WeakMap,jx=new WeakMap,Kf=new WeakMap,ng=new WeakMap,Ly=new WeakMap,Jf=new WeakMap,Wx=new WeakMap,Wr=new WeakMap,oi=new WeakMap,Zu=new WeakMap,Zf=new WeakMap,Qf=new WeakMap,$x=new WeakMap,Oy=new WeakMap,qx=new WeakMap,ep=new WeakMap,Md=new WeakMap,Qu=new WeakMap,Hx=new WeakMap,Vx=new WeakMap,Ul=new WeakMap,Fy=new WeakSet,$A=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Gx=new WeakSet,oP=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const i of S(this,as).values())if(i.hasTextLayer(e))return i;return null},i4=new WeakSet,gV=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const i=ye(this,Fy,$A).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(i);r&&(S(this,Ud)||se(this,Ud,new Zbe(this)),S(this,Ud).show(i,r,this.direction==="ltr"))},r4=new WeakSet,yV=function(){var s,a,o;const e=document.getSelection();if(!e||e.isCollapsed){S(this,Zu)&&((s=S(this,Ud))==null||s.hide(),se(this,Zu,null),ye(this,Hs,Ra).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===S(this,Zu))return;const r=ye(this,Fy,$A).call(this,e).closest(".textLayer");if(!r){S(this,Zu)&&((a=S(this,Ud))==null||a.hide(),se(this,Zu,null),ye(this,Hs,Ra).call(this,{hasSelectedText:!1}));return}if((o=S(this,Ud))==null||o.hide(),se(this,Zu,t),ye(this,Hs,Ra).call(this,{hasSelectedText:!0}),!(S(this,Wr)!==mn.HIGHLIGHT&&S(this,Wr)!==mn.NONE)&&(S(this,Wr)===mn.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),se(this,Xf,this.isShiftKeyDown),!this.isShiftKeyDown)){const c=S(this,Wr)===mn.HIGHLIGHT?ye(this,Gx,oP).call(this,r):null;if(c==null||c.toggleDrawing(),S(this,Ry)){const d=new AbortController,u=this.combinedSignal(d),f=h=>{h.type==="pointerup"&&h.button!==0||(d.abort(),c==null||c.toggleDrawing(!0),h.type==="pointerup"&&ye(this,ig,ew).call(this,"main_toolbar"))};window.addEventListener("pointerup",f,{signal:u}),window.addEventListener("blur",f,{signal:u})}else c==null||c.toggleDrawing(!0),ye(this,ig,ew).call(this,"main_toolbar")}},ig=new WeakSet,ew=function(e=""){S(this,Wr)===mn.HIGHLIGHT?this.highlightSelection(e):S(this,Mx)&&ye(this,i4,gV).call(this)},s4=new WeakSet,vV=function(){document.addEventListener("selectionchange",ye(this,r4,yV).bind(this),{signal:this._signal})},a4=new WeakSet,bV=function(){if(S(this,Gf))return;se(this,Gf,new AbortController);const e=this.combinedSignal(S(this,Gf));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},o4=new WeakSet,wV=function(){var e;(e=S(this,Gf))==null||e.abort(),se(this,Gf,null)},Xx=new WeakSet,lP=function(){if(S(this,Kf))return;se(this,Kf,new AbortController);const e=this.combinedSignal(S(this,Kf));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},l4=new WeakSet,xV=function(){var e;(e=S(this,Kf))==null||e.abort(),se(this,Kf,null)},c4=new WeakSet,_V=function(){if(S(this,qf))return;se(this,qf,new AbortController);const e=this.combinedSignal(S(this,qf));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},d4=new WeakSet,SV=function(){var e;(e=S(this,qf))==null||e.abort(),se(this,qf,null)},u4=new WeakSet,NV=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Hs=new WeakSet,Ra=function(e){Object.entries(e).some(([i,r])=>S(this,qx)[i]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(S(this,qx),e)}),S(this,Wr)===mn.HIGHLIGHT&&e.hasSelectedEditor===!1&&ye(this,Cc,$u).call(this,[[In.HIGHLIGHT_FREE,!0]]))},Cc=new WeakSet,$u=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},h4=new WeakSet,AV=async function(){if(!S(this,Yf)){se(this,Yf,!0);const e=[];for(const t of S(this,as).values())e.push(t.enable());await Promise.all(e);for(const t of S(this,pr).values())t.enable()}},f4=new WeakSet,kV=function(){if(this.unselectAll(),S(this,Yf)){se(this,Yf,!1);for(const e of S(this,as).values())e.disable();for(const e of S(this,pr).values())e.disable()}},Yx=new WeakSet,cP=function(e){const t=S(this,as).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},p4=new WeakSet,EV=function(){let e=null;for(e of S(this,oi));return e},rg=new WeakSet,tw=function(){if(S(this,pr).size===0)return!0;if(S(this,pr).size===1)for(const e of S(this,pr).values())return e.isEmpty();return!1},Kx=new WeakSet,dP=function(e){for(const t of S(this,oi))t.unselect();S(this,oi).clear();for(const t of e)t.isEmpty()||(S(this,oi).add(t),t.select());ye(this,Hs,Ra).call(this,{hasSelectedEditor:this.hasSelection})},wt(X0,"TRANSLATE_SMALL",1),wt(X0,"TRANSLATE_BIG",10);let K1=X0;var ws,Bd,Dc,Uy,zd,Wo,My,jd,io,eh,sg,Wd,tp,ag,nw,By,qA;const La=class La{constructor(e){ne(this,ag);ne(this,By);ne(this,ws,null);ne(this,Bd,!1);ne(this,Dc,null);ne(this,Uy,null);ne(this,zd,null);ne(this,Wo,null);ne(this,My,!1);ne(this,jd,null);ne(this,io,null);ne(this,eh,null);ne(this,sg,null);ne(this,Wd,!1);se(this,io,e),se(this,Wd,e._uiManager.useNewAltTextFlow),S(La,tp)||se(La,tp,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){La._l10n??(La._l10n=e)}async render(){const e=se(this,Dc,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=se(this,Uy,document.createElement("span"));e.append(t),S(this,Wd)?(e.classList.add("new"),e.setAttribute("data-l10n-id",S(La,tp).missing),t.setAttribute("data-l10n-id",S(La,tp)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=S(this,io)._uiManager._signal;e.addEventListener("contextmenu",ic,{signal:i}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});const r=s=>{s.preventDefault(),S(this,io)._uiManager.editAltText(S(this,io)),S(this,Wd)&&S(this,io)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:S(this,ag,nw)}})};return e.addEventListener("click",r,{capture:!0,signal:i}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(se(this,My,!0),r(s))},{signal:i}),await ye(this,By,qA).call(this),e}finish(){S(this,Dc)&&(S(this,Dc).focus({focusVisible:S(this,My)}),se(this,My,!1))}isEmpty(){return S(this,Wd)?S(this,ws)===null:!S(this,ws)&&!S(this,Bd)}hasData(){return S(this,Wd)?S(this,ws)!==null||!!S(this,eh):this.isEmpty()}get guessedText(){return S(this,eh)}async setGuessedText(e){S(this,ws)===null&&(se(this,eh,e),se(this,sg,await La._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),ye(this,By,qA).call(this))}toggleAltTextBadge(e=!1){var t;if(!S(this,Wd)||S(this,ws)){(t=S(this,jd))==null||t.remove(),se(this,jd,null);return}if(!S(this,jd)){const i=se(this,jd,document.createElement("div"));i.className="noAltTextBadge",S(this,io).div.append(i)}S(this,jd).classList.toggle("hidden",!e)}serialize(e){let t=S(this,ws);return!e&&S(this,eh)===t&&(t=S(this,sg)),{altText:t,decorative:S(this,Bd),guessedText:S(this,eh),textWithDisclaimer:S(this,sg)}}get data(){return{altText:S(this,ws),decorative:S(this,Bd)}}set data({altText:e,decorative:t,guessedText:i,textWithDisclaimer:r,cancel:s=!1}){i&&(se(this,eh,i),se(this,sg,r)),!(S(this,ws)===e&&S(this,Bd)===t)&&(s||(se(this,ws,e),se(this,Bd,t)),ye(this,By,qA).call(this))}toggle(e=!1){S(this,Dc)&&(!e&&S(this,Wo)&&(clearTimeout(S(this,Wo)),se(this,Wo,null)),S(this,Dc).disabled=!e)}shown(){S(this,io)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:S(this,ag,nw)}})}destroy(){var e,t;(e=S(this,Dc))==null||e.remove(),se(this,Dc,null),se(this,Uy,null),se(this,zd,null),(t=S(this,jd))==null||t.remove(),se(this,jd,null)}};ws=new WeakMap,Bd=new WeakMap,Dc=new WeakMap,Uy=new WeakMap,zd=new WeakMap,Wo=new WeakMap,My=new WeakMap,jd=new WeakMap,io=new WeakMap,eh=new WeakMap,sg=new WeakMap,Wd=new WeakMap,tp=new WeakMap,ag=new WeakSet,nw=function(){return S(this,ws)&&"added"||S(this,ws)===null&&this.guessedText&&"review"||"missing"},By=new WeakSet,qA=async function(){var r,s,a;const e=S(this,Dc);if(!e)return;if(S(this,Wd)){if(e.classList.toggle("done",!!S(this,ws)),e.setAttribute("data-l10n-id",S(La,tp)[S(this,ag,nw)]),(r=S(this,Uy))==null||r.setAttribute("data-l10n-id",S(La,tp)[`${S(this,ag,nw)}-label`]),!S(this,ws)){(s=S(this,zd))==null||s.remove();return}}else{if(!S(this,ws)&&!S(this,Bd)){e.classList.remove("done"),(a=S(this,zd))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=S(this,zd);if(!t){se(this,zd,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${S(this,io).id}`;const o=100,c=S(this,io)._uiManager._signal;c.addEventListener("abort",()=>{clearTimeout(S(this,Wo)),se(this,Wo,null)},{once:!0}),e.addEventListener("mouseenter",()=>{se(this,Wo,setTimeout(()=>{se(this,Wo,null),S(this,zd).classList.add("show"),S(this,io)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:c}),e.addEventListener("mouseleave",()=>{var d;S(this,Wo)&&(clearTimeout(S(this,Wo)),se(this,Wo,null)),(d=S(this,zd))==null||d.classList.remove("show")},{signal:c})}S(this,Bd)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=S(this,ws)),t.parentNode||e.append(t);const i=S(this,io).getElementForAltText();i==null||i.setAttribute("aria-describedby",t.id)},ne(La,tp,null),wt(La,"_l10n",null);let P3=La;var Vs,Ml,og,Oi,Jx,lg,Pc,cg,dg,ug,Zx,uP;class BN{constructor(e){ne(this,Zx);ne(this,Vs,null);ne(this,Ml,null);ne(this,og,!1);ne(this,Oi,null);ne(this,Jx,null);ne(this,lg,null);ne(this,Pc,null);ne(this,cg,null);ne(this,dg,!1);ne(this,ug,null);se(this,Oi,e)}renderForToolbar(){const e=se(this,Ml,document.createElement("button"));return e.className="comment",ye(this,Zx,uP).call(this,e,!1)}renderForStandalone(){const e=se(this,Vs,document.createElement("button"));e.className="annotationCommentButton";const t=S(this,Oi).commentButtonPosition;if(t){const{style:i}=e;i.insetInlineEnd=`calc(${100*(S(this,Oi)._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,i.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const r=S(this,Oi).commentButtonColor;r&&(i.backgroundColor=r)}return ye(this,Zx,uP).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=S(this,Vs)??S(this,Ml))==null||e.focus()},0)}onUpdatedColor(){if(!S(this,Vs))return;const e=S(this,Oi).commentButtonColor;e&&(S(this,Vs).style.backgroundColor=e),S(this,Oi)._uiManager.updatePopupColor(S(this,Oi))}get commentButtonWidth(){var e;return(((e=S(this,Vs))==null?void 0:e.getBoundingClientRect().width)??0)/S(this,Oi).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(S(this,ug))return S(this,ug);if(!S(this,Vs))return null;const{x:e,y:t,height:i}=S(this,Vs).getBoundingClientRect(),{x:r,y:s,width:a,height:o}=S(this,Oi).parent.boundingClientRect;return[(e-r)/a,(t+i-s)/o]}set commentPopupPositionInLayer(e){se(this,ug,e)}hasDefaultPopupPosition(){return S(this,ug)===null}removeStandaloneCommentButton(){var e;(e=S(this,Vs))==null||e.remove(),se(this,Vs,null)}removeToolbarCommentButton(){var e;(e=S(this,Ml))==null||e.remove(),se(this,Ml,null)}setCommentButtonStates({selected:e,hasPopup:t}){S(this,Vs)&&(S(this,Vs).classList.toggle("selected",e),S(this,Vs).ariaExpanded=t)}edit(e){const t=this.commentPopupPositionInLayer;let i,r;if(t)[i,r]=t;else{[i,r]=S(this,Oi).commentButtonPosition;const{width:u,height:f,x:h,y:p}=S(this,Oi);i=h+i*u,r=p+r*f}const s=S(this,Oi).parent.boundingClientRect,{x:a,y:o,width:c,height:d}=s;S(this,Oi)._uiManager.editComment(S(this,Oi),a+i*c,o+r*d,{...e,parentDimensions:s})}finish(){S(this,Ml)&&(S(this,Ml).focus({focusVisible:S(this,og)}),se(this,og,!1))}isDeleted(){return S(this,dg)||S(this,Pc)===""}isEmpty(){return S(this,Pc)===null}hasBeenEdited(){return this.isDeleted()||S(this,Pc)!==S(this,Jx)}serialize(){return this.data}get data(){return{text:S(this,Pc),richText:S(this,lg),date:S(this,cg),deleted:this.isDeleted()}}set data(e){if(e!==S(this,Pc)&&se(this,lg,null),e===null){se(this,Pc,""),se(this,dg,!0);return}se(this,Pc,e),se(this,cg,new Date),se(this,dg,!1)}setInitialText(e,t=null){se(this,Jx,e),this.data=e,se(this,cg,null),se(this,lg,t)}shown(){}destroy(){var e,t;(e=S(this,Ml))==null||e.remove(),se(this,Ml,null),(t=S(this,Vs))==null||t.remove(),se(this,Vs,null),se(this,Pc,""),se(this,lg,null),se(this,cg,null),se(this,Oi,null),se(this,og,!1),se(this,dg,!1)}}Vs=new WeakMap,Ml=new WeakMap,og=new WeakMap,Oi=new WeakMap,Jx=new WeakMap,lg=new WeakMap,Pc=new WeakMap,cg=new WeakMap,dg=new WeakMap,ug=new WeakMap,Zx=new WeakSet,uP=function(e,t){if(!S(this,Oi)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[S(this,Oi)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const i=S(this,Oi)._uiManager._signal;if(!(i instanceof AbortSignal)||i.aborted)return e;e.addEventListener("contextmenu",ic,{signal:i}),t&&(e.addEventListener("focusin",s=>{S(this,Oi)._focusEventsAllowed=!1,wr(s)},{capture:!0,signal:i}),e.addEventListener("focusout",s=>{S(this,Oi)._focusEventsAllowed=!0,wr(s)},{capture:!0,signal:i})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});const r=s=>{s.preventDefault(),e===S(this,Ml)?this.edit():S(this,Oi).toggleComment(!0)};return e.addEventListener("click",r,{capture:!0,signal:i}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(se(this,og,!0),r(s))},{signal:i}),e.addEventListener("pointerenter",()=>{S(this,Oi).toggleComment(!1,!0)},{signal:i}),e.addEventListener("pointerleave",()=>{S(this,Oi).toggleComment(!1,!1)},{signal:i}),e};var zy,hg,Qx,e5,t5,n5,i5,th,fg,nh,pg,ih,m4,TV,g4,CV,y4,DV;const mO=class mO{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:i=null,onPinchStart:r=null,onPinching:s=null,onPinchEnd:a=null,signal:o}){ne(this,m4);ne(this,g4);ne(this,y4);ne(this,zy,void 0);ne(this,hg,!1);ne(this,Qx,null);ne(this,e5,void 0);ne(this,t5,void 0);ne(this,n5,void 0);ne(this,i5,void 0);ne(this,th,null);ne(this,fg,void 0);ne(this,nh,null);ne(this,pg,void 0);ne(this,ih,null);se(this,zy,e),se(this,Qx,i),se(this,e5,t),se(this,t5,r),se(this,n5,s),se(this,i5,a),se(this,pg,new AbortController),se(this,fg,AbortSignal.any([o,S(this,pg).signal])),e.addEventListener("touchstart",ye(this,m4,TV).bind(this),{passive:!1,signal:S(this,fg)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/xu.pixelRatio}destroy(){var e,t;(e=S(this,pg))==null||e.abort(),se(this,pg,null),(t=S(this,th))==null||t.abort(),se(this,th,null)}};zy=new WeakMap,hg=new WeakMap,Qx=new WeakMap,e5=new WeakMap,t5=new WeakMap,n5=new WeakMap,i5=new WeakMap,th=new WeakMap,fg=new WeakMap,nh=new WeakMap,pg=new WeakMap,ih=new WeakMap,m4=new WeakSet,TV=function(e){var r,s,a;if((r=S(this,e5))!=null&&r.call(this))return;if(e.touches.length===1){if(S(this,th))return;const o=se(this,th,new AbortController),c=AbortSignal.any([S(this,fg),o.signal]),d=S(this,zy),u={capture:!0,signal:c,passive:!1},f=h=>{var p;h.pointerType==="touch"&&((p=S(this,th))==null||p.abort(),se(this,th,null))};d.addEventListener("pointerdown",h=>{h.pointerType==="touch"&&(wr(h),f(h))},u),d.addEventListener("pointerup",f,u),d.addEventListener("pointercancel",f,u);return}if(!S(this,ih)){se(this,ih,new AbortController);const o=AbortSignal.any([S(this,fg),S(this,ih).signal]),c=S(this,zy),d={signal:o,capture:!1,passive:!1};c.addEventListener("touchmove",ye(this,g4,CV).bind(this),d);const u=ye(this,y4,DV).bind(this);c.addEventListener("touchend",u,d),c.addEventListener("touchcancel",u,d),d.capture=!0,c.addEventListener("pointerdown",wr,d),c.addEventListener("pointermove",wr,d),c.addEventListener("pointercancel",wr,d),c.addEventListener("pointerup",wr,d),(s=S(this,t5))==null||s.call(this)}if(wr(e),e.touches.length!==2||(a=S(this,Qx))!=null&&a.call(this)){se(this,nh,null);return}let[t,i]=e.touches;t.identifier>i.identifier&&([t,i]=[i,t]),se(this,nh,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:i.screenX,touch1Y:i.screenY})},g4=new WeakSet,CV=function(e){var x;if(!S(this,nh)||e.touches.length!==2)return;wr(e);let[t,i]=e.touches;t.identifier>i.identifier&&([t,i]=[i,t]);const{screenX:r,screenY:s}=t,{screenX:a,screenY:o}=i,c=S(this,nh),{touch0X:d,touch0Y:u,touch1X:f,touch1Y:h}=c,p=f-d,v=h-u,w=a-r,b=o-s,m=Math.hypot(w,b)||1,y=Math.hypot(p,v)||1;if(!S(this,hg)&&Math.abs(y-m)<=mO.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(c.touch0X=r,c.touch0Y=s,c.touch1X=a,c.touch1Y=o,!S(this,hg)){se(this,hg,!0);return}const _=[(r+a)/2,(s+o)/2];(x=S(this,n5))==null||x.call(this,_,y,m)},y4=new WeakSet,DV=function(e){var t;e.touches.length>=2||(S(this,ih)&&(S(this,ih).abort(),se(this,ih,null),(t=S(this,i5))==null||t.call(this)),S(this,nh)&&(wr(e),se(this,nh,null),se(this,hg,!1)))};let I3=mO;var mg,Ic,Yi,ki,rh,jy,np,r5,Gs,gg,sh,Bl,ip,s5,yg,$o,a5,vg,ah,$d,Wy,$y,zl,bg,o5,v4,l5,hP,c5,fP,qy,HA,b4,PV,w4,IV,d5,pP,Hy,VA,u5,mP,x4,RV,_4,LV,S4,OV,h5,gP,N4,FV,f5,yP,A4,UV,k4,MV,E4,BV,p5,vP,wg,iw;const pn=class pn{constructor(e){ne(this,l5);ne(this,qy);ne(this,b4);ne(this,w4);ne(this,d5);ne(this,Hy);ne(this,u5);ne(this,x4);ne(this,_4);ne(this,S4);ne(this,h5);ne(this,N4);ne(this,f5);ne(this,A4);ne(this,k4);ne(this,E4);ne(this,p5);ne(this,wg);ne(this,mg,null);ne(this,Ic,null);ne(this,Yi,null);ne(this,ki,null);ne(this,rh,null);ne(this,jy,!1);ne(this,np,null);ne(this,r5,"");ne(this,Gs,null);ne(this,gg,null);ne(this,sh,null);ne(this,Bl,null);ne(this,ip,null);ne(this,s5,"");ne(this,yg,!1);ne(this,$o,null);ne(this,a5,!1);ne(this,vg,!1);ne(this,ah,!1);ne(this,$d,null);ne(this,Wy,0);ne(this,$y,0);ne(this,zl,null);ne(this,bg,null);wt(this,"isSelected",!1);wt(this,"_isCopy",!1);wt(this,"_editToolbar",null);wt(this,"_initialOptions",Object.create(null));wt(this,"_initialData",null);wt(this,"_isVisible",!0);wt(this,"_uiManager",null);wt(this,"_focusEventsAllowed",!0);ne(this,o5,!1);ne(this,v4,pn._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:t,rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[s,a];const[o,c]=this.parentDimensions;this.x=e.x/o,this.y=e.y/c,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=pn.prototype._resizeWithKeyboard,t=K1.TRANSLATE_SMALL,i=K1.TRANSLATE_BIG;return un(this,"_resizerKeyboardManager",new US([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,i]}],[["Escape","mac+Escape"],pn.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return un(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new t2e({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(pn._l10n??(pn._l10n=e),pn._l10nResizer||(pn._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),pn._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);pn._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Ci("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return S(this,o5)}set _isDraggable(e){var t;se(this,o5,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=S(this,v4)}setParent(e){var t;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(ye(this,wg,iw).call(this),(t=S(this,Bl))==null||t.remove(),se(this,Bl,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(S(this,yg)?se(this,yg,!1):this.parent.setSelected(this))}focusout(e){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,i,r){const[s,a]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(e+i)/s,this.y=(t+r)/a,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[i,r]=this.parentDimensions;this.setAt(e*i,t*r,this.width*i,this.height*r),this._onTranslated()}translate(e,t){ye(this,l5,hP).call(this,this.parentDimensions,e,t)}translateInPage(e,t){S(this,$o)||se(this,$o,[this.x,this.y,this.width,this.height]),ye(this,l5,hP).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){S(this,$o)||se(this,$o,[this.x,this.y,this.width,this.height]);const{div:i,parentDimensions:[r,s]}=this;if(this.x+=e/r,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:f,y:h}=this.div.getBoundingClientRect();this.parent.findNewParent(this,f,h)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[c,d]=this.getBaseTranslation();a+=c,o+=d;const{style:u}=i;u.left=`${(100*a).toFixed(2)}%`,u.top=`${(100*o).toFixed(2)}%`,this._onTranslating(a,o),i.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!S(this,$o)&&(S(this,$o)[0]!==this.x||S(this,$o)[1]!==this.y)}get _hasBeenResized(){return!!S(this,$o)&&(S(this,$o)[2]!==this.width||S(this,$o)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:i}=pn,r=i/e,s=i/t;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[i,r]}=this;let{x:s,y:a,width:o,height:c}=this;if(o*=i,c*=r,s*=i,a*=r,this._mustFixPosition)switch(e){case 0:s=Ba(s,0,i-o),a=Ba(a,0,r-c);break;case 90:s=Ba(s,0,i-c),a=Ba(a,o,r);break;case 180:s=Ba(s,o,i),a=Ba(a,c,r);break;case 270:s=Ba(s,c,i),a=Ba(a,0,r-o);break}this.x=s/=i,this.y=a/=r;const[d,u]=this.getBaseTranslation();s+=d,a+=u,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var i;return ye(i=pn,c5,fP).call(i,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var i;return ye(i=pn,c5,fP).call(i,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,i]}=this;return[t*e,i*e]}setDims(){const{div:{style:e},width:t,height:i}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*i).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=S(this,Yi))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||S(this,vg))return this._editToolbar;this._editToolbar=new iP(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,i]of e)await this._editToolbar.addButton(t,i);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,t;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(t=S(this,Yi))==null||t.destroy()}addContainer(e){var i;const t=(i=this._editToolbar)==null?void 0:i.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return S(this,Yi)||(P3.initialize(pn._l10n),se(this,Yi,new P3(this)),S(this,mg)&&(S(this,Yi).data=S(this,mg),se(this,mg,null))),S(this,Yi)}get altTextData(){var e;return(e=S(this,Yi))==null?void 0:e.data}set altTextData(e){S(this,Yi)&&(S(this,Yi).data=e)}get guessedAltText(){var e;return(e=S(this,Yi))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=S(this,Yi))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=S(this,Yi))==null?void 0:t.serialize(e)}hasAltText(){return!!S(this,Yi)&&!S(this,Yi).isEmpty()}hasAltTextData(){var e;return((e=S(this,Yi))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=S(this,ki))==null||e.focusButton()}addCommentButton(){return this.canAddComment?S(this,ki)||se(this,ki,new BN(this)):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(S(this,rh)){this._uiManager.isEditingMode()&&S(this,rh).classList.remove("hidden");return}this.hasComment&&(se(this,rh,S(this,ki).renderForStandalone()),this.div.append(S(this,rh)))}}removeStandaloneCommentButton(){S(this,ki).removeStandaloneCommentButton(),se(this,rh,null)}hideStandaloneCommentButton(){var e;(e=S(this,rh))==null||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:i,deleted:r}}=S(this,ki);return{text:t,richText:e,date:i,deleted:r,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){S(this,ki)||se(this,ki,new BN(this)),S(this,ki).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:i}){if(!t||(S(this,ki)||se(this,ki,new BN(this)),S(this,ki).setInitialText(e,i),!this.annotationElementId))return;const r=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);r&&this.updateFromAnnotationLayer(r)}get hasEditedComment(){var e;return(e=S(this,ki))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=S(this,ki))==null?void 0:e.isDeleted()}get hasComment(){return!!S(this,ki)&&!S(this,ki).isEmpty()&&!S(this,ki).isDeleted()}async editComment(e){S(this,ki)||se(this,ki,new BN(this)),S(this,ki).edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){S(this,ki).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,r]=e.rect,[s]=this.pageDimensions,[a]=this.pageTranslation,o=a+s+1,c=r-100,d=o+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[o,c,d,r]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){S(this,ki).data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var a;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=S(this,jy)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),ye(this,f5,yP).call(this);const[t,i]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*i/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/i).toFixed(2)}%`);const[r,s]=this.getInitialTranslation();return this.translate(r,s),pV(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(S(this,bg)||se(this,bg,new I3({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:ye(this,x4,RV).bind(this),onPinching:ye(this,_4,LV).bind(this),onPinchEnd:ye(this,S4,OV).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(a=this._uiManager._editorUndoBar)==null||a.hide(),e}pointerdown(e){const{isMac:t}=us.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(se(this,yg,!0),this._isDraggable){ye(this,N4,FV).call(this,e);return}ye(this,h5,gP).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){S(this,$d)&&clearTimeout(S(this,$d)),se(this,$d,setTimeout(()=>{var e;se(this,$d,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,i){e.changeParent(this),this.x=t,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,i=this.rotation){const r=this.parentScale,[s,a]=this.pageDimensions,[o,c]=this.pageTranslation,d=e/r,u=t/r,f=this.x*s,h=this.y*a,p=this.width*s,v=this.height*a;switch(i){case 0:return[f+d+o,a-h-u-v+c,f+d+p+o,a-h-u+c];case 90:return[f+u+o,a-h+d+c,f+u+v+o,a-h+d+p+c];case 180:return[f-d-p+o,a-h+u+c,f-d+o,a-h+u+v+c];case 270:return[f-u-v+o,a-h-d-p+c,f-u+o,a-h-d+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[i,r,s,a]=e,o=s-i,c=a-r;switch(this.rotation){case 0:return[i,t-a,o,c];case 90:return[i,t-r,c,o];case 180:return[s,t-r,o,c];case 270:return[s,t-a,c,o];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&pn._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=S(this,ki))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:i,opacity:r,deleted:s,richText:a},uid:o,pageIndex:c,creationDate:d,modificationDate:u}=this;return{id:o,pageIndex:c,rect:this.getPDFRect(),richText:a,contentsObj:{str:e},creationDate:d,modificationDate:i||u,popupRef:!s,color:t,opacity:r}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),se(this,vg,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),se(this,vg,!1),!0):!1}isInEditMode(){return S(this,vg)}shouldGetKeyboardEvents(){return S(this,ah)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:i,right:r}=this.getClientDimensions(),{innerHeight:s,innerWidth:a}=window;return t<a&&r>0&&e<s&&i>0}rebuild(){ye(this,f5,yP).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){var i;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((i=this._initialData)==null?void 0:i.popupRef)||""}}static async deserialize(e,t,i){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:i,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});r.rotation=e.rotation,se(r,mg,e.accessibilityData),r._isCopy=e.isCopy||!1;const[s,a]=r.pageDimensions,[o,c,d,u]=r.getRectInCurrentCoords(e.rect,a);return r.x=o/s,r.y=c/a,r.width=d/s,r.height=u/a,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t,i;if((e=S(this,ip))==null||e.abort(),se(this,ip,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),S(this,$d)&&(clearTimeout(S(this,$d)),se(this,$d,null)),ye(this,wg,iw).call(this),this.removeEditToolbar(),S(this,zl)){for(const r of S(this,zl).values())clearTimeout(r);se(this,zl,null)}this.parent=null,(t=S(this,bg))==null||t.destroy(),se(this,bg,null),(i=S(this,Bl))==null||i.remove(),se(this,Bl,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(ye(this,b4,PV).call(this),S(this,Gs).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[i,r,s,a]=this.getPDFRect();return[pn._round(i+(s-i)*e),pn._round(r+(a-r)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return S(this,ki).commentPopupPositionInLayer}set commentPopupPosition(e){S(this,ki).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return S(this,ki).hasDefaultPopupPosition()}get commentButtonWidth(){return S(this,ki).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){var t;(t=S(this,ki))==null||t.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),se(this,sh,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=S(this,Gs).children;if(!S(this,Ic)){se(this,Ic,Array.from(t));const a=ye(this,A4,UV).bind(this),o=ye(this,k4,MV).bind(this),c=this._uiManager._signal;for(const d of S(this,Ic)){const u=d.getAttribute("data-resizer-name");d.setAttribute("role","spinbutton"),d.addEventListener("keydown",a,{signal:c}),d.addEventListener("blur",o,{signal:c}),d.addEventListener("focus",ye(this,E4,BV).bind(this,u),{signal:c}),d.setAttribute("data-l10n-id",pn._l10nResizer[u])}}const i=S(this,Ic)[0];let r=0;for(const a of t){if(a===i)break;r++}const s=(360-this.rotation+this.parentRotation)%360/90*(S(this,Ic).length/4);if(s!==r){if(s<r)for(let o=0;o<r-s;o++)S(this,Gs).append(S(this,Gs).firstElementChild);else if(s>r)for(let o=0;o<s-r;o++)S(this,Gs).firstElementChild.before(S(this,Gs).lastElementChild);let a=0;for(const o of t){const d=S(this,Ic)[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",pn._l10nResizer[d])}}ye(this,p5,vP).call(this,0),se(this,ah,!0),S(this,Gs).firstElementChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){S(this,ah)&&ye(this,u5,mP).call(this,S(this,s5),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){ye(this,wg,iw).call(this),this.div.focus()}select(){var e,t,i;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,s;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(t=this._editToolbar)==null||t.show(),(i=S(this,Yi))==null||i.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,t,i,r,s;this.isSelected&&(this.isSelected=!1,(e=S(this,Gs))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(s=S(this,Yi))==null||s.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return S(this,a5)}set isEditing(e){se(this,a5,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){S(this,zl)||se(this,zl,new Map);const{action:i}=e;let r=S(this,zl).get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),S(this,zl).delete(i),S(this,zl).size===0&&se(this,zl,null)},pn._telemetryTimeout),S(this,zl).set(i,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),se(this,jy,!1)}disable(){this.div&&(this.div.tabIndex=-1),se(this,jy,!0)}updateFakeAnnotationElement(e){if(!S(this,Bl)&&!this.deleted){se(this,Bl,e.addFakeAnnotation(this));return}if(this.deleted){S(this,Bl).remove(),se(this,Bl,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&S(this,Bl).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const i=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),i.before(t)}return t}resetAnnotationElement(e){const{firstElementChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};mg=new WeakMap,Ic=new WeakMap,Yi=new WeakMap,ki=new WeakMap,rh=new WeakMap,jy=new WeakMap,np=new WeakMap,r5=new WeakMap,Gs=new WeakMap,gg=new WeakMap,sh=new WeakMap,Bl=new WeakMap,ip=new WeakMap,s5=new WeakMap,yg=new WeakMap,$o=new WeakMap,a5=new WeakMap,vg=new WeakMap,ah=new WeakMap,$d=new WeakMap,Wy=new WeakMap,$y=new WeakMap,zl=new WeakMap,bg=new WeakMap,o5=new WeakMap,v4=new WeakMap,l5=new WeakSet,hP=function([e,t],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/e,this.y+=r/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},c5=new WeakSet,fP=function(e,t,i){switch(i){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},qy=new WeakSet,HA=function(e){switch(e){case 90:{const[t,i]=this.pageDimensions;return[0,-t/i,i/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,i]=this.pageDimensions;return[0,t/i,-i/t,0]}default:return[1,0,0,1]}},b4=new WeakSet,PV=function(){if(S(this,Gs))return;se(this,Gs,document.createElement("div")),S(this,Gs).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const i of e){const r=document.createElement("div");S(this,Gs).append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",ye(this,w4,IV).bind(this,i),{signal:t}),r.addEventListener("contextmenu",ic,{signal:t}),r.tabIndex=-1}this.div.prepend(S(this,Gs))},w4=new WeakSet,IV=function(e,t){var u;t.preventDefault();const{isMac:i}=us.platform;if(t.button!==0||t.ctrlKey&&i)return;(u=S(this,Yi))==null||u.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,se(this,gg,[t.screenX,t.screenY]);const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",ye(this,u5,mP).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",wr,{passive:!1,signal:a}),window.addEventListener("contextmenu",ic,{signal:a}),se(this,sh,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,c=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const d=()=>{var f;s.abort(),this.parent.togglePointerEvents(!0),(f=S(this,Yi))==null||f.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=o,this.div.style.cursor=c,ye(this,Hy,VA).call(this)};window.addEventListener("pointerup",d,{signal:a}),window.addEventListener("blur",d,{signal:a})},d5=new WeakSet,pP=function(e,t,i,r){this.width=i,this.height=r,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()},Hy=new WeakSet,VA=function(){if(!S(this,sh))return;const{savedX:e,savedY:t,savedWidth:i,savedHeight:r}=S(this,sh);se(this,sh,null);const s=this.x,a=this.y,o=this.width,c=this.height;s===e&&a===t&&o===i&&c===r||this.addCommands({cmd:ye(this,d5,pP).bind(this,s,a,o,c),undo:ye(this,d5,pP).bind(this,e,t,i,r),mustExec:!0})},u5=new WeakSet,mP=function(e,t){const[i,r]=this.parentDimensions,s=this.x,a=this.y,o=this.width,c=this.height,d=pn.MIN_SIZE/i,u=pn.MIN_SIZE/r,f=ye(this,qy,HA).call(this,this.rotation),h=(Y,q)=>[f[0]*Y+f[2]*q,f[1]*Y+f[3]*q],p=ye(this,qy,HA).call(this,360-this.rotation),v=(Y,q)=>[p[0]*Y+p[2]*q,p[1]*Y+p[3]*q];let w,b,m=!1,y=!1;switch(e){case"topLeft":m=!0,w=(Y,q)=>[0,0],b=(Y,q)=>[Y,q];break;case"topMiddle":w=(Y,q)=>[Y/2,0],b=(Y,q)=>[Y/2,q];break;case"topRight":m=!0,w=(Y,q)=>[Y,0],b=(Y,q)=>[0,q];break;case"middleRight":y=!0,w=(Y,q)=>[Y,q/2],b=(Y,q)=>[0,q/2];break;case"bottomRight":m=!0,w=(Y,q)=>[Y,q],b=(Y,q)=>[0,0];break;case"bottomMiddle":w=(Y,q)=>[Y/2,q],b=(Y,q)=>[Y/2,0];break;case"bottomLeft":m=!0,w=(Y,q)=>[0,q],b=(Y,q)=>[Y,0];break;case"middleLeft":y=!0,w=(Y,q)=>[0,q/2],b=(Y,q)=>[Y,q/2];break}const _=w(o,c),x=b(o,c);let N=h(...x);const k=pn._round(s+N[0]),T=pn._round(a+N[1]);let C=1,P=1,D,E;if(t.fromKeyboard)({deltaX:D,deltaY:E}=t);else{const{screenX:Y,screenY:q}=t,[G,B]=S(this,gg);[D,E]=this.screenToPageTranslation(Y-G,q-B),S(this,gg)[0]=Y,S(this,gg)[1]=q}if([D,E]=v(D/i,E/r),m){const Y=Math.hypot(o,c);C=P=Math.max(Math.min(Math.hypot(x[0]-_[0]-D,x[1]-_[1]-E)/Y,1/o,1/c),d/o,u/c)}else y?C=Ba(Math.abs(x[0]-_[0]-D),d,1)/o:P=Ba(Math.abs(x[1]-_[1]-E),u,1)/c;const A=pn._round(o*C),I=pn._round(c*P);N=h(...b(A,I));const R=k-N[0],M=T-N[1];S(this,$o)||se(this,$o,[this.x,this.y,this.width,this.height]),this.width=A,this.height=I,this.x=R,this.y=M,this.setDims(),this.fixAndSetPosition(),this._onResizing()},x4=new WeakSet,RV=function(){var e;se(this,sh,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=S(this,Yi))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},_4=new WeakSet,LV=function(e,t,i){let s=.7*(i/t)+1-.7;if(s===1)return;const a=ye(this,qy,HA).call(this,this.rotation),o=(k,T)=>[a[0]*k+a[2]*T,a[1]*k+a[3]*T],[c,d]=this.parentDimensions,u=this.x,f=this.y,h=this.width,p=this.height,v=pn.MIN_SIZE/c,w=pn.MIN_SIZE/d;s=Math.max(Math.min(s,1/h,1/p),v/h,w/p);const b=pn._round(h*s),m=pn._round(p*s);if(b===h&&m===p)return;S(this,$o)||se(this,$o,[u,f,h,p]);const y=o(h/2,p/2),_=pn._round(u+y[0]),x=pn._round(f+y[1]),N=o(b/2,m/2);this.x=_-N[0],this.y=x-N[1],this.width=b,this.height=m,this.setDims(),this.fixAndSetPosition(),this._onResizing()},S4=new WeakSet,OV=function(){var e;(e=S(this,Yi))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),ye(this,Hy,VA).call(this)},h5=new WeakSet,gP=function(e){const{isMac:t}=us.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},N4=new WeakSet,FV=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let i=!1;const r=new AbortController,s=this._uiManager.combinedSignal(r),a={capture:!0,passive:!1,signal:s},o=d=>{r.abort(),se(this,np,null),se(this,yg,!1),this._uiManager.endDragSession()||ye(this,h5,gP).call(this,d),i&&this._onStopDragging()};t&&(se(this,Wy,e.clientX),se(this,$y,e.clientY),se(this,np,e.pointerId),se(this,r5,e.pointerType),window.addEventListener("pointermove",d=>{i||(i=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:u,clientY:f,pointerId:h}=d;if(h!==S(this,np)){wr(d);return}const[p,v]=this.screenToPageTranslation(u-S(this,Wy),f-S(this,$y));se(this,Wy,u),se(this,$y,f),this._uiManager.dragSelectedEditors(p,v)},a),window.addEventListener("touchmove",wr,a),window.addEventListener("pointerdown",d=>{d.pointerType===S(this,r5)&&(S(this,bg)||d.isPrimary)&&o(d),wr(d)},a));const c=d=>{if(!S(this,np)||S(this,np)===d.pointerId){o(d);return}wr(d)};window.addEventListener("pointerup",c,{signal:s}),window.addEventListener("blur",c,{signal:s})},f5=new WeakSet,yP=function(){if(S(this,ip)||!this.div)return;se(this,ip,new AbortController);const e=this._uiManager.combinedSignal(S(this,ip));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},A4=new WeakSet,UV=function(e){pn._resizerKeyboardManager.exec(this,e)},k4=new WeakSet,MV=function(e){var t;S(this,ah)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==S(this,Gs)&&ye(this,wg,iw).call(this)},E4=new WeakSet,BV=function(e){se(this,s5,S(this,ah)?e:"")},p5=new WeakSet,vP=function(e){if(S(this,Ic))for(const t of S(this,Ic))t.tabIndex=e},wg=new WeakSet,iw=function(){se(this,ah,!1),ye(this,p5,vP).call(this,-1),ye(this,Hy,VA).call(this)},ne(pn,c5),wt(pn,"_l10n",null),wt(pn,"_l10nResizer",null),wt(pn,"_borderLineWidth",-1),wt(pn,"_colorManager",new aP),wt(pn,"_zIndex",1),wt(pn,"_telemetryTimeout",1e3);let Ui=pn;class t2e extends Ui{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const fM=3285377520,Dl=4294901760,Cd=65535;class zV{constructor(e){this.h1=e?e&4294967295:fM,this.h2=e?e&4294967295:fM}update(e){let t,i;if(typeof e=="string"){t=new Uint8Array(e.length*2),i=0;for(let w=0,b=e.length;w<b;w++){const m=e.charCodeAt(w);m<=255?t[i++]=m:(t[i++]=m>>>8,t[i++]=m&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),i=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=i>>2,s=i-r*4,a=new Uint32Array(t.buffer,0,r);let o=0,c=0,d=this.h1,u=this.h2;const f=3432918353,h=461845907,p=f&Cd,v=h&Cd;for(let w=0;w<r;w++)w&1?(o=a[w],o=o*f&Dl|o*p&Cd,o=o<<15|o>>>17,o=o*h&Dl|o*v&Cd,d^=o,d=d<<13|d>>>19,d=d*5+3864292196):(c=a[w],c=c*f&Dl|c*p&Cd,c=c<<15|c>>>17,c=c*h&Dl|c*v&Cd,u^=c,u=u<<13|u>>>19,u=u*5+3864292196);switch(o=0,s){case 3:o^=t[r*4+2]<<16;case 2:o^=t[r*4+1]<<8;case 1:o^=t[r*4],o=o*f&Dl|o*p&Cd,o=o<<15|o>>>17,o=o*h&Dl|o*v&Cd,r&1?d^=o:u^=o}this.h1=d,this.h2=u}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Dl|e*36045&Cd,t=t*4283543511&Dl|((t<<16|e>>>16)*2950163797&Dl)>>>16,e^=t>>>1,e=e*444984403&Dl|e*60499&Cd,t=t*3301882366&Dl|((t<<16|e>>>16)*3120437893&Dl)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const bP=Object.freeze({map:null,hash:"",transfer:void 0});var xg,_g,oh,Xs,T4,jV;class YL{constructor(){ne(this,T4);ne(this,xg,!1);ne(this,_g,null);ne(this,oh,null);ne(this,Xs,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const i=S(this,Xs).get(e);return i===void 0?t:Object.assign(t,i)}getRawValue(e){return S(this,Xs).get(e)}remove(e){const t=S(this,Xs).get(e);if(t!==void 0&&(t instanceof Ui&&S(this,oh).delete(t.annotationElementId),S(this,Xs).delete(e),S(this,Xs).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const i of S(this,Xs).values())if(i instanceof Ui)return;this.onAnnotationEditor(null)}}setValue(e,t){const i=S(this,Xs).get(e);let r=!1;if(i!==void 0)for(const[s,a]of Object.entries(t))i[s]!==a&&(r=!0,i[s]=a);else r=!0,S(this,Xs).set(e,t);r&&ye(this,T4,jV).call(this),t instanceof Ui&&((S(this,oh)||se(this,oh,new Map)).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return S(this,Xs).has(e)}get size(){return S(this,Xs).size}resetModified(){S(this,xg)&&(se(this,xg,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new WV(this)}get serializable(){if(S(this,Xs).size===0)return bP;const e=new Map,t=new zV,i=[],r=Object.create(null);let s=!1;for(const[a,o]of S(this,Xs)){const c=o instanceof Ui?o.serialize(!1,r):o;c&&(e.set(a,c),t.update(`${a}:${JSON.stringify(c)}`),s||(s=!!c.bitmap))}if(s)for(const a of e.values())a.bitmap&&i.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:i}:bP}get editorStats(){let e=null;const t=new Map;let i=0,r=0;for(const s of S(this,Xs).values()){if(!(s instanceof Ui)){s.popup&&(s.popup.deleted?r+=1:i+=1);continue}s.isCommentDeleted?r+=1:s.hasEditedComment&&(i+=1);const a=s.telemetryFinalData;if(!a)continue;const{type:o}=a;t.has(o)||t.set(o,Object.getPrototypeOf(s).constructor),e||(e=Object.create(null));const c=e[o]||(e[o]=new Map);for(const[d,u]of Object.entries(a)){if(d==="type")continue;let f=c.get(d);f||(f=new Map,c.set(d,f));const h=f.get(u)??0;f.set(u,h+1)}}if((r>0||i>0)&&(e||(e=Object.create(null)),e.comments={deleted:r,edited:i}),!e)return null;for(const[s,a]of t)e[s]=a.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){se(this,_g,null)}updateEditor(e,t){var r;const i=(r=S(this,oh))==null?void 0:r.get(e);return i?(i.updateFromAnnotationLayer(t),!0):!1}getEditor(e){var t;return((t=S(this,oh))==null?void 0:t.get(e))||null}get modifiedIds(){if(S(this,_g))return S(this,_g);const e=[];if(S(this,oh))for(const t of S(this,oh).values())t.serialize()&&e.push(t.annotationElementId);return se(this,_g,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return S(this,Xs).entries()}}xg=new WeakMap,_g=new WeakMap,oh=new WeakMap,Xs=new WeakMap,T4=new WeakSet,jV=function(){S(this,xg)||(se(this,xg,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var m5;class WV extends YL{constructor(t){super();ne(this,m5,void 0);const{map:i,hash:r,transfer:s}=t.serializable,a=structuredClone(i,s?{transfer:s}:null);se(this,m5,{map:a,hash:r,transfer:s})}get print(){Ci("Should not call PrintAnnotationStorage.print")}get serializable(){return S(this,m5)}get modifiedIds(){return un(this,"modifiedIds",{ids:new Set,hash:""})}}m5=new WeakMap;var Vy;class n2e{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){ne(this,Vy,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),S(this,Vy).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:i}){if(!(!e||S(this,Vy).has(e.loadedName))){if(Rn(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:s,style:a}=e,o=new FontFace(r,s,a);this.addNativeFontFace(o);try{await o.load(),S(this,Vy).add(r),i==null||i(e)}catch{dn(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}Ci("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const i=e.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(r){throw dn(`Failed to load font '${i.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return un(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return un(this,"isSyncFontLoadingSupported",Ma||us.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(Rn(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const s=i.shift();setTimeout(s.callback,0)}}const{loadingRequests:i}=this,r={done:!1,complete:t,callback:e};return i.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return un(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function i(x,N){return x.charCodeAt(N)<<24|x.charCodeAt(N+1)<<16|x.charCodeAt(N+2)<<8|x.charCodeAt(N+3)&255}function r(x,N,k,T){const C=x.substring(0,N),P=x.substring(N+k);return C+T+P}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const c=o.getContext("2d");let d=0;function u(x,N){if(++d>30){dn("Load test font never loaded."),N();return}if(c.font="30px "+x,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){N();return}setTimeout(u.bind(null,x,N))}const f=`lt${Date.now()}${this.loadTestFontId++}`;let h=this._loadTestFont;h=r(h,976,f.length,f);const v=16,w=1482184792;let b=i(h,v);for(s=0,a=f.length-3;s<a;s+=4)b=b-w+i(f,s)|0;s<f.length&&(b=b-w+i(f+"XXX",s)|0),h=r(h,v,4,Fbe(b));const m=`url(data:font/opentype;base64,${btoa(h)});`,y=`@font-face {font-family:"${f}";src:${m}}`;this.insertRule(y);const _=this._document.createElement("div");_.style.visibility="hidden",_.style.width=_.style.height="10px",_.style.position="absolute",_.style.top=_.style.left="0px";for(const x of[e.loadedName,f]){const N=this._document.createElement("span");N.textContent="Hi",N.style.fontFamily=x,_.append(N)}this._document.body.append(_),u(f,()=>{_.remove(),t.complete()})}}Vy=new WeakMap;var vi;class i2e{constructor(e,t=null,i,r){ne(this,vi,void 0);this.compiledGlyphs=Object.create(null),se(this,vi,e),this._inspectFont=t,i&&Object.assign(this,i),r&&(this.charProcOperatorList=r)}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${sV(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return(i=this._inspectFont)==null||i.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const i=this.loadedName+"_path_"+t;let r;try{r=e.get(i)}catch(a){dn(`getPathGenerator - ignoring character: "${a}".`)}const s=lV(r==null?void 0:r.path);return this.fontExtraProperties||e.delete(i),this.compiledGlyphs[t]=s}get black(){return S(this,vi).black}get bold(){return S(this,vi).bold}get disableFontFace(){return S(this,vi).disableFontFace??!1}set disableFontFace(e){un(this,"disableFontFace",!!e)}get fontExtraProperties(){return S(this,vi).fontExtraProperties??!1}get isInvalidPDFjsFont(){return S(this,vi).isInvalidPDFjsFont}get isType3Font(){return S(this,vi).isType3Font}get italic(){return S(this,vi).italic}get missingFile(){return S(this,vi).missingFile}get remeasure(){return S(this,vi).remeasure}get vertical(){return S(this,vi).vertical}get ascent(){return S(this,vi).ascent}get defaultWidth(){return S(this,vi).defaultWidth}get descent(){return S(this,vi).descent}get bbox(){return S(this,vi).bbox}set bbox(e){un(this,"bbox",e)}get fontMatrix(){return S(this,vi).fontMatrix}get fallbackName(){return S(this,vi).fallbackName}get loadedName(){return S(this,vi).loadedName}get mimetype(){return S(this,vi).mimetype}get name(){return S(this,vi).name}get data(){return S(this,vi).data}clearData(){S(this,vi).clearData()}get cssFontInfo(){return S(this,vi).cssFontInfo}get systemFontInfo(){return S(this,vi).systemFontInfo}get defaultVMetrics(){return S(this,vi).defaultVMetrics}}vi=new WeakMap;var Gy,Xy,g5,Yy,GA;const Y0=class Y0{constructor(e){ne(this,Yy);ne(this,Gy,void 0);ne(this,Xy,void 0);ne(this,g5,void 0);se(this,Gy,e),se(this,Xy,new DataView(S(this,Gy))),se(this,g5,new TextDecoder)}static write(e){const t=new TextEncoder,i={};let r=0;for(const d of Y0.strings){const u=t.encode(e[d]);i[d]=u,r+=4+u.length}const s=new ArrayBuffer(r),a=new Uint8Array(s),o=new DataView(s);let c=0;for(const d of Y0.strings){const u=i[d],f=u.length;o.setUint32(c,f),a.set(u,c+4),c+=4+f}return Rn(c===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}get fontFamily(){return ye(this,Yy,GA).call(this,0)}get fontWeight(){return ye(this,Yy,GA).call(this,1)}get italicAngle(){return ye(this,Yy,GA).call(this,2)}};Gy=new WeakMap,Xy=new WeakMap,g5=new WeakMap,Yy=new WeakSet,GA=function(e){Rn(e<Y0.strings.length,"Invalid string index");let t=0;for(let r=0;r<e;r++)t+=S(this,Xy).getUint32(t)+4;const i=S(this,Xy).getUint32(t);return S(this,g5).decode(new Uint8Array(S(this,Gy),t+4,i))},wt(Y0,"strings",["fontFamily","fontWeight","italicAngle"]);let R3=Y0;var rp,qd,Sg,Ng,rw;const K0=class K0{constructor(e){ne(this,Ng);ne(this,rp,void 0);ne(this,qd,void 0);ne(this,Sg,void 0);se(this,rp,e),se(this,qd,new DataView(S(this,rp))),se(this,Sg,new TextDecoder)}static write(e){const t=new TextEncoder,i={};let r=0;for(const h of K0.strings){const p=t.encode(e[h]);i[h]=p,r+=4+p.length}r+=4;let s,a,o=1+r;e.style&&(s=t.encode(e.style.style),a=t.encode(e.style.weight),o+=4+s.length+4+a.length);const c=new ArrayBuffer(o),d=new Uint8Array(c),u=new DataView(c);let f=0;u.setUint8(f++,e.guessFallback?1:0),u.setUint32(f,0),f+=4,r=0;for(const h of K0.strings){const p=i[h],v=p.length;r+=4+v,u.setUint32(f,v),d.set(p,f+4),f+=4+v}return u.setUint32(f-r-4,r),e.style&&(u.setUint32(f,s.length),d.set(s,f+4),f+=4+s.length,u.setUint32(f,a.length),d.set(a,f+4),f+=4+a.length),Rn(f<=c.byteLength,"SubstitionInfo.write: Buffer overflow"),c.transferToFixedLength(f)}get guessFallback(){return S(this,qd).getUint8(0)!==0}get css(){return ye(this,Ng,rw).call(this,0)}get loadedName(){return ye(this,Ng,rw).call(this,1)}get baseFontName(){return ye(this,Ng,rw).call(this,2)}get src(){return ye(this,Ng,rw).call(this,3)}get style(){let e=1;e+=4+S(this,qd).getUint32(e);const t=S(this,qd).getUint32(e),i=S(this,Sg).decode(new Uint8Array(S(this,rp),e+4,t));e+=4+t;const r=S(this,qd).getUint32(e),s=S(this,Sg).decode(new Uint8Array(S(this,rp),e+4,r));return{style:i,weight:s}}};rp=new WeakMap,qd=new WeakMap,Sg=new WeakMap,Ng=new WeakSet,rw=function(e){Rn(e<K0.strings.length,"Invalid string index");let t=5;for(let r=0;r<e;r++)t+=S(this,qd).getUint32(t)+4;const i=S(this,qd).getUint32(t);return S(this,Sg).decode(new Uint8Array(S(this,rp),t+4,i))},wt(K0,"strings",["css","loadedName","baseFontName","src"]);let L3=K0;var Ky,Jy,Zy,Qy,qo,Hd,y5,bi,Ho,Ac,ev,XA,Ag,sw;const gn=class gn{constructor({data:e,extra:t}){ne(this,Ho);ne(this,ev);ne(this,Ag);ne(this,Hd,void 0);ne(this,y5,void 0);ne(this,bi,void 0);se(this,Hd,e),se(this,y5,new TextDecoder),se(this,bi,new DataView(S(this,Hd))),t&&Object.assign(this,t)}get black(){return ye(this,Ho,Ac).call(this,0)}get bold(){return ye(this,Ho,Ac).call(this,1)}get disableFontFace(){return ye(this,Ho,Ac).call(this,2)}get fontExtraProperties(){return ye(this,Ho,Ac).call(this,3)}get isInvalidPDFjsFont(){return ye(this,Ho,Ac).call(this,4)}get isType3Font(){return ye(this,Ho,Ac).call(this,5)}get italic(){return ye(this,Ho,Ac).call(this,6)}get missingFile(){return ye(this,Ho,Ac).call(this,7)}get remeasure(){return ye(this,Ho,Ac).call(this,8)}get vertical(){return ye(this,Ho,Ac).call(this,9)}get ascent(){return ye(this,ev,XA).call(this,0)}get defaultWidth(){return ye(this,ev,XA).call(this,1)}get descent(){return ye(this,ev,XA).call(this,2)}get bbox(){let e=S(gn,Jy);if(S(this,bi).getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<4;r++)i.push(S(this,bi).getInt16(e,!0)),e+=2;return i}get fontMatrix(){let e=S(gn,Zy);if(S(this,bi).getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<6;r++)i.push(S(this,bi).getFloat64(e,!0)),e+=8;return i}get defaultVMetrics(){let e=S(gn,Qy);if(S(this,bi).getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<3;r++)i.push(S(this,bi).getInt16(e,!0)),e+=2;return i}get fallbackName(){return ye(this,Ag,sw).call(this,0)}get loadedName(){return ye(this,Ag,sw).call(this,1)}get mimetype(){return ye(this,Ag,sw).call(this,2)}get name(){return ye(this,Ag,sw).call(this,3)}get data(){let e=S(gn,qo);const t=S(this,bi).getUint32(e);e+=4+t;const i=S(this,bi).getUint32(e);e+=4+i;const r=S(this,bi).getUint32(e);e+=4+r;const s=S(this,bi).getUint32(e);if(s!==0)return new Uint8Array(S(this,Hd),e+4,s)}clearData(){let e=S(gn,qo);const t=S(this,bi).getUint32(e);e+=4+t;const i=S(this,bi).getUint32(e);e+=4+i;const r=S(this,bi).getUint32(e);e+=4+r;const s=S(this,bi).getUint32(e);new Uint8Array(S(this,Hd),e+4,s).fill(0),S(this,bi).setUint32(e,0)}get cssFontInfo(){let e=S(gn,qo);const t=S(this,bi).getUint32(e);e+=4+t;const i=S(this,bi).getUint32(e);e+=4+i;const r=S(this,bi).getUint32(e);if(r===0)return null;const s=new Uint8Array(r);return s.set(new Uint8Array(S(this,Hd),e+4,r)),new R3(s.buffer)}get systemFontInfo(){let e=S(gn,qo);const t=S(this,bi).getUint32(e);e+=4+t;const i=S(this,bi).getUint32(e);if(i===0)return null;const r=new Uint8Array(i);return r.set(new Uint8Array(S(this,Hd),e+4,i)),new L3(r.buffer)}static write(e){const t=e.systemFontInfo?L3.write(e.systemFontInfo):null,i=e.cssFontInfo?R3.write(e.cssFontInfo):null,r=new TextEncoder,s={};let a=0;for(const w of gn.strings)s[w]=r.encode(e[w]),a+=4+s[w].length;const o=S(gn,qo)+4+a+4+(t?t.byteLength:0)+4+(i?i.byteLength:0)+4+(e.data?e.data.length:0),c=new ArrayBuffer(o),d=new Uint8Array(c),u=new DataView(c);let f=0;const h=gn.bools.length;let p=0,v=0;for(let w=0;w<h;w++){const b=e[gn.bools[w]];p|=(b===void 0?0:b?2:1)<<v,v+=2,(v===8||w===h-1)&&(u.setUint8(f++,p),p=0,v=0)}Rn(f===S(gn,Ky),"FontInfo.write: Boolean properties offset mismatch");for(const w of gn.numbers)u.setFloat64(f,e[w]),f+=8;if(Rn(f===S(gn,Jy),"FontInfo.write: Number properties offset mismatch"),e.bbox){u.setUint8(f++,4);for(const w of e.bbox)u.setInt16(f,w,!0),f+=2}else u.setUint8(f++,0),f+=2*4;if(Rn(f===S(gn,Zy),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){u.setUint8(f++,6);for(const w of e.fontMatrix)u.setFloat64(f,w,!0),f+=8}else u.setUint8(f++,0),f+=8*6;if(Rn(f===S(gn,Qy),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){u.setUint8(f++,1);for(const w of e.defaultVMetrics)u.setInt16(f,w,!0),f+=2}else u.setUint8(f++,0),f+=3*2;Rn(f===S(gn,qo),"FontInfo.write: DefaultVMetrics properties offset mismatch"),u.setUint32(S(gn,qo),0),f+=4;for(const w of gn.strings){const b=s[w],m=b.length;u.setUint32(f,m),d.set(b,f+4),f+=4+m}if(u.setUint32(S(gn,qo),f-S(gn,qo)-4),!t)u.setUint32(f,0),f+=4;else{const w=t.byteLength;u.setUint32(f,w),Rn(f+4+w<=c.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),d.set(new Uint8Array(t),f+4),f+=4+w}if(!i)u.setUint32(f,0),f+=4;else{const w=i.byteLength;u.setUint32(f,w),Rn(f+4+w<=c.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),d.set(new Uint8Array(i),f+4),f+=4+w}return e.data===void 0?(u.setUint32(f,0),f+=4):(u.setUint32(f,e.data.length),d.set(e.data,f+4),f+=4+e.data.length),Rn(f<=c.byteLength,"FontInfo.write: Buffer overflow"),c.transferToFixedLength(f)}};Ky=new WeakMap,Jy=new WeakMap,Zy=new WeakMap,Qy=new WeakMap,qo=new WeakMap,Hd=new WeakMap,y5=new WeakMap,bi=new WeakMap,Ho=new WeakSet,Ac=function(e){Rn(e<gn.bools.length,"Invalid boolean index");const t=Math.floor(e/4),i=e*2%8,r=S(this,bi).getUint8(t)>>i&3;return r===0?void 0:r===2},ev=new WeakSet,XA=function(e){return Rn(e<gn.numbers.length,"Invalid number index"),S(this,bi).getFloat64(S(gn,Ky)+e*8)},Ag=new WeakSet,sw=function(e){Rn(e<gn.strings.length,"Invalid string index");let t=S(gn,qo)+4;for(let s=0;s<e;s++)t+=S(this,bi).getUint32(t)+4;const i=S(this,bi).getUint32(t),r=new Uint8Array(i);return r.set(new Uint8Array(S(this,Hd),t+4,i)),S(this,y5).decode(r)},wt(gn,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),wt(gn,"numbers",["ascent","defaultWidth","descent"]),wt(gn,"strings",["fallbackName","loadedName","mimetype","name"]),ne(gn,Ky,Math.ceil(gn.bools.length*2/8)),ne(gn,Jy,S(gn,Ky)+gn.numbers.length*8),ne(gn,Zy,S(gn,Jy)+1+2*4),ne(gn,Qy,S(gn,Zy)+1+8*6),ne(gn,qo,S(gn,Qy)+1+2*3);let wP=gn;var v5,b5,w5,x5,_5,S5,N5,A5;const Ri=class Ri{constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let t,i=null,r=[],s=[],a=[],o=[],c=null,d=null;switch(e[0]){case"RadialAxial":t=e[1]==="axial"?1:2,i=e[2],a=e[3],t===1?r.push(...e[4],...e[5]):r.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":t=3,c=e[1],r=e[2],s=e[3],o=e[4]||[],i=e[6],d=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const u=Math.floor(r.length/2),f=Math.floor(s.length/3),h=a.length,p=o.length;let v=0;for(const N of o)v+=1,v=Math.ceil(v/4)*4,v+=4+N.coords.length*4,v+=4+N.colors.length*4,N.verticesPerRow!==void 0&&(v+=4);const w=20+u*8+f*3+h*8+(i?16:0)+(d?3:0)+v,b=new ArrayBuffer(w),m=new DataView(b),y=new Uint8Array(b);m.setUint8(S(Ri,v5),t),m.setUint8(S(Ri,b5),i?1:0),m.setUint8(S(Ri,w5),d?1:0),m.setUint8(S(Ri,x5),c),m.setUint32(S(Ri,_5),u,!0),m.setUint32(S(Ri,S5),f,!0),m.setUint32(S(Ri,N5),h,!0),m.setUint32(S(Ri,A5),p,!0);let _=20;new Float32Array(b,_,u*2).set(r),_+=u*8,y.set(s,_),_+=f*3;for(const[N,k]of a)m.setFloat32(_,N,!0),_+=4,m.setUint32(_,parseInt(k.slice(1),16),!0),_+=4;if(i)for(const N of i)m.setFloat32(_,N,!0),_+=4;d&&(y.set(d,_),_+=3);for(let N=0;N<o.length;N++){const k=o[N];m.setUint8(_,k.type),_+=1,_=Math.ceil(_/4)*4,m.setUint32(_,k.coords.length,!0),_+=4,new Int32Array(b,_,k.coords.length).set(k.coords),_+=k.coords.length*4,m.setUint32(_,k.colors.length,!0),_+=4,new Int32Array(b,_,k.colors.length).set(k.colors),_+=k.colors.length*4,k.verticesPerRow!==void 0&&(m.setUint32(_,k.verticesPerRow,!0),_+=4)}return b}getIR(){const e=this.view,t=this.data[S(Ri,v5)],i=!!this.data[S(Ri,b5)],r=!!this.data[S(Ri,w5)],s=e.getUint32(S(Ri,_5),!0),a=e.getUint32(S(Ri,S5),!0),o=e.getUint32(S(Ri,N5),!0),c=e.getUint32(S(Ri,A5),!0);let d=20;const u=new Float32Array(this.buffer,d,s*2);d+=s*8;const f=new Uint8Array(this.buffer,d,a*3);d+=a*3;const h=[];for(let b=0;b<o;++b){const m=e.getFloat32(d,!0);d+=4;const y=e.getUint32(d,!0);d+=4,h.push([m,`#${y.toString(16).padStart(6,"0")}`])}let p=null;if(i){p=[];for(let b=0;b<4;++b)p.push(e.getFloat32(d,!0)),d+=4}let v=null;r&&(v=new Uint8Array(this.buffer,d,3),d+=3);const w=[];for(let b=0;b<c;++b){const m=e.getUint8(d);d+=1,d=Math.ceil(d/4)*4;const y=e.getUint32(d,!0);d+=4;const _=new Int32Array(this.buffer,d,y);d+=y*4;const x=e.getUint32(d,!0);d+=4;const N=new Int32Array(this.buffer,d,x);d+=x*4;const k={type:m,coords:_,colors:N};m===Z8.LATTICE&&(k.verticesPerRow=e.getUint32(d,!0),d+=4),w.push(k)}if(t===1)return["RadialAxial","axial",p,h,Array.from(u.slice(0,2)),Array.from(u.slice(2,4)),null,null];if(t===2)return["RadialAxial","radial",p,h,[u[0],u[1]],[u[3],u[4]],u[2],u[5]];if(t===3){const b=this.data[S(Ri,x5)];let m=null;if(u.length>0){let y=u[0],_=u[0],x=u[1],N=u[1];for(let k=0;k<u.length;k+=2){const T=u[k],C=u[k+1];y=y>T?T:y,x=x>C?C:x,_=_<T?T:_,N=N<C?C:N}m=[y,x,_,N]}return["Mesh",b,u,f,w,m,p,v]}throw new Error(`Unsupported pattern kind: ${t}`)}};v5=new WeakMap,b5=new WeakMap,w5=new WeakMap,x5=new WeakMap,_5=new WeakMap,S5=new WeakMap,N5=new WeakMap,A5=new WeakMap,ne(Ri,v5,0),ne(Ri,b5,1),ne(Ri,w5,2),ne(Ri,x5,3),ne(Ri,_5,4),ne(Ri,S5,8),ne(Ri,N5,12),ne(Ri,A5,16);let xP=Ri;var tv;class r2e{constructor(e){ne(this,tv,void 0);se(this,tv,e)}static write(e){let t,i;return us.isFloat16ArraySupported?(i=new ArrayBuffer(e.length*2),t=new Float16Array(i)):(i=new ArrayBuffer(e.length*4),t=new Float32Array(i)),t.set(e),i}get path(){return us.isFloat16ArraySupported?new Float16Array(S(this,tv)):new Float32Array(S(this,tv))}}tv=new WeakMap;function s2e(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(Ma)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function a2e(n){if(Ma&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return RS(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function zN(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const _P=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,o2e=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",l2e=jbe.bind(null,_P,o2e);var lh,C4;class c2e{constructor(){ne(this,lh,new Map);ne(this,C4,Promise.resolve())}postMessage(e,t){const i={data:structuredClone(e,t?{transfer:t}:null)};S(this,C4).then(()=>{for(const[r]of S(this,lh))r.call(this,i)})}addEventListener(e,t,i=null){let r=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:s}=i;if(s.aborted){dn("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,t);r=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}S(this,lh).set(t,r)}removeEventListener(e,t){const i=S(this,lh).get(t);i==null||i(),S(this,lh).delete(t)}terminate(){for(const[,e]of S(this,lh))e==null||e();S(this,lh).clear()}}lh=new WeakMap,C4=new WeakMap;const jN={DATA:1,ERROR:2},Br={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function pM(){}function to(n){if(n instanceof om||n instanceof Q8||n instanceof aM||n instanceof C3||n instanceof I6)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||Ci('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new om(n.message);case"InvalidPDFException":return new Q8(n.message);case"PasswordException":return new aM(n.message,n.code);case"ResponseException":return new C3(n.message,n.status,n.missing);case"UnknownErrorException":return new I6(n.message,n.details)}return new I6(n.message,n.toString())}var nv,D4,$V,P4,qV,I4,HV,iv,YA;class aw{constructor(e,t,i){ne(this,D4);ne(this,P4);ne(this,I4);ne(this,iv);ne(this,nv,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",ye(this,D4,$V).bind(this),{signal:S(this,nv).signal})}on(e,t){const i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=t}send(e,t,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},i)}sendWithPromise(e,t,i){const r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},i)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,t,i,r){const s=this.streamId++,a=this.sourceName,o=this.targetName,c=this.comObj;return new ReadableStream({start:d=>{const u=Promise.withResolvers();return this.streamControllers[s]={controller:d,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:a,targetName:o,action:e,streamId:s,data:t,desiredSize:d.desiredSize},r),u.promise},pull:d=>{const u=Promise.withResolvers();return this.streamControllers[s].pullCall=u,c.postMessage({sourceName:a,targetName:o,stream:Br.PULL,streamId:s,desiredSize:d.desiredSize}),u.promise},cancel:d=>{Rn(d instanceof Error,"cancel must have a valid reason");const u=Promise.withResolvers();return this.streamControllers[s].cancelCall=u,this.streamControllers[s].isClosed=!0,c.postMessage({sourceName:a,targetName:o,stream:Br.CANCEL,streamId:s,reason:to(d)}),u.promise}},i)}destroy(){var e;(e=S(this,nv))==null||e.abort(),se(this,nv,null)}}nv=new WeakMap,D4=new WeakSet,$V=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){ye(this,I4,HV).call(this,e);return}if(e.callback){const i=e.callbackId,r=this.callbackCapabilities[i];if(!r)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],e.callback===jN.DATA)r.resolve(e.data);else if(e.callback===jN.ERROR)r.reject(to(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const i=this.sourceName,r=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(a){s.postMessage({sourceName:i,targetName:r,callback:jN.DATA,callbackId:e.callbackId,data:a})},function(a){s.postMessage({sourceName:i,targetName:r,callback:jN.ERROR,callbackId:e.callbackId,reason:to(a)})});return}if(e.streamId){ye(this,P4,qV).call(this,e);return}t(e.data)},P4=new WeakSet,qV=function(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],c={enqueue(d,u=1,f){if(this.isCancelled)return;const h=this.desiredSize;this.desiredSize-=u,h>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:i,targetName:r,stream:Br.ENQUEUE,streamId:t,chunk:d},f)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:Br.CLOSE,streamId:t}),delete a.streamSinks[t])},error(d){Rn(d instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:Br.ERROR,streamId:t,reason:to(d)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[t]=c,Promise.try(o,e.data,c).then(function(){s.postMessage({sourceName:i,targetName:r,stream:Br.START_COMPLETE,streamId:t,success:!0})},function(d){s.postMessage({sourceName:i,targetName:r,stream:Br.START_COMPLETE,streamId:t,reason:to(d)})})},I4=new WeakSet,HV=function(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,a=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case Br.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(to(e.reason));break;case Br.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(to(e.reason));break;case Br.PULL:if(!o){s.postMessage({sourceName:i,targetName:r,stream:Br.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||pM).then(function(){s.postMessage({sourceName:i,targetName:r,stream:Br.PULL_COMPLETE,streamId:t,success:!0})},function(d){s.postMessage({sourceName:i,targetName:r,stream:Br.PULL_COMPLETE,streamId:t,reason:to(d)})});break;case Br.ENQUEUE:if(Rn(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case Br.CLOSE:if(Rn(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),ye(this,iv,YA).call(this,a,t);break;case Br.ERROR:Rn(a,"error should have stream controller"),a.controller.error(to(e.reason)),ye(this,iv,YA).call(this,a,t);break;case Br.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(to(e.reason)),ye(this,iv,YA).call(this,a,t);break;case Br.CANCEL:if(!o)break;const c=to(e.reason);Promise.try(o.onCancel||pM,c).then(function(){s.postMessage({sourceName:i,targetName:r,stream:Br.CANCEL_COMPLETE,streamId:t,success:!0})},function(d){s.postMessage({sourceName:i,targetName:r,stream:Br.CANCEL_COMPLETE,streamId:t,reason:to(d)})}),o.sinkCapability.reject(c),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},iv=new WeakSet,YA=async function(e,t){var i,r,s;await Promise.allSettled([(i=e.startCall)==null?void 0:i.promise,(r=e.pullCall)==null?void 0:r.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var k5;class VV{constructor({enableHWA:e=!1}){ne(this,k5,!1);se(this,k5,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(e,t);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!S(this,k5)})}}reset(e,t,i){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Ci("Abstract method `_createCanvas` called.")}}k5=new WeakMap;class d2e extends VV{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const i=this._document.createElement("canvas");return i.width=e,i.height=t,i}}class GV{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Ci("Abstract method `_fetch` called.")}}class mM extends GV{async _fetch(e){const t=await LS(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):RS(t)}}class XV{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,i,r,s){return"none"}destroy(e=!1){}}var kg,rv,ch,dh,ba,Eg,Tg,xs,pa,Cg,ow,sp,A0,sv,KA,ap,k0,R4,YV,E5,SP,op,E0,Dg,lw,Pg,cw,T5,NP,Ig,dw;class u2e extends XV{constructor({docId:t,ownerDocument:i=globalThis.document}){super();ne(this,xs);ne(this,Cg);ne(this,sp);ne(this,sv);ne(this,ap);ne(this,R4);ne(this,E5);ne(this,op);ne(this,Dg);ne(this,Pg);ne(this,T5);ne(this,Ig);ne(this,kg,void 0);ne(this,rv,void 0);ne(this,ch,void 0);ne(this,dh,void 0);ne(this,ba,void 0);ne(this,Eg,void 0);ne(this,Tg,0);se(this,dh,t),se(this,ba,i)}addFilter(t){if(!t)return"none";let i=S(this,xs,pa).get(t);if(i)return i;const[r,s,a]=ye(this,sv,KA).call(this,t),o=t.length===1?r:`${r}${s}${a}`;if(i=S(this,xs,pa).get(o),i)return S(this,xs,pa).set(t,i),i;const c=`g_${S(this,dh)}_transfer_map_${is(this,Tg)._++}`,d=ye(this,ap,k0).call(this,c);S(this,xs,pa).set(t,d),S(this,xs,pa).set(o,d);const u=ye(this,op,E0).call(this,c);return ye(this,Pg,cw).call(this,r,s,a,u),d}addHCMFilter(t,i){var v;const r=`${t}-${i}`,s="base";let a=S(this,Cg,ow).get(s);if((a==null?void 0:a.key)===r||(a?((v=a.filter)==null||v.remove(),a.key=r,a.url="none",a.filter=null):(a={key:r,url:"none",filter:null},S(this,Cg,ow).set(s,a)),!t||!i))return a.url;const o=ye(this,Ig,dw).call(this,t);t=zt.makeHexColor(...o);const c=ye(this,Ig,dw).call(this,i);if(i=zt.makeHexColor(...c),S(this,sp,A0).style.color="",t==="#000000"&&i==="#ffffff"||t===i)return a.url;const d=new Array(256);for(let w=0;w<=255;w++){const b=w/255;d[w]=b<=.03928?b/12.92:((b+.055)/1.055)**2.4}const u=d.join(","),f=`g_${S(this,dh)}_hcm_filter`,h=a.filter=ye(this,op,E0).call(this,f);ye(this,Pg,cw).call(this,u,u,u,h),ye(this,E5,SP).call(this,h);const p=(w,b)=>{const m=o[w]/255,y=c[w]/255,_=new Array(b+1);for(let x=0;x<=b;x++)_[x]=m+x/b*(y-m);return _.join(",")};return ye(this,Pg,cw).call(this,p(0,5),p(1,5),p(2,5),h),a.url=ye(this,ap,k0).call(this,f),a.url}addAlphaFilter(t){let i=S(this,xs,pa).get(t);if(i)return i;const[r]=ye(this,sv,KA).call(this,[t]),s=`alpha_${r}`;if(i=S(this,xs,pa).get(s),i)return S(this,xs,pa).set(t,i),i;const a=`g_${S(this,dh)}_alpha_map_${is(this,Tg)._++}`,o=ye(this,ap,k0).call(this,a);S(this,xs,pa).set(t,o),S(this,xs,pa).set(s,o);const c=ye(this,op,E0).call(this,a);return ye(this,T5,NP).call(this,r,c),o}addLuminosityFilter(t){let i=S(this,xs,pa).get(t||"luminosity");if(i)return i;let r,s;if(t?([r]=ye(this,sv,KA).call(this,[t]),s=`luminosity_${r}`):s="luminosity",i=S(this,xs,pa).get(s),i)return S(this,xs,pa).set(t,i),i;const a=`g_${S(this,dh)}_luminosity_map_${is(this,Tg)._++}`,o=ye(this,ap,k0).call(this,a);S(this,xs,pa).set(t,o),S(this,xs,pa).set(s,o);const c=ye(this,op,E0).call(this,a);return ye(this,R4,YV).call(this,c),t&&ye(this,T5,NP).call(this,r,c),o}addHighlightHCMFilter(t,i,r,s,a){var y;const o=`${i}-${r}-${s}-${a}`;let c=S(this,Cg,ow).get(t);if((c==null?void 0:c.key)===o||(c?((y=c.filter)==null||y.remove(),c.key=o,c.url="none",c.filter=null):(c={key:o,url:"none",filter:null},S(this,Cg,ow).set(t,c)),!i||!r))return c.url;const[d,u]=[i,r].map(ye(this,Ig,dw).bind(this));let f=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[p,v]=[s,a].map(ye(this,Ig,dw).bind(this));h<f&&([f,h,p,v]=[h,f,v,p]),S(this,sp,A0).style.color="";const w=(_,x,N)=>{const k=new Array(256),T=(h-f)/N,C=_/255,P=(x-_)/(255*N);let D=0;for(let E=0;E<=N;E++){const A=Math.round(f+E*T),I=C+E*P;for(let R=D;R<=A;R++)k[R]=I;D=A+1}for(let E=D;E<256;E++)k[E]=k[D-1];return k.join(",")},b=`g_${S(this,dh)}_hcm_${t}_filter`,m=c.filter=ye(this,op,E0).call(this,b);return ye(this,E5,SP).call(this,m),ye(this,Pg,cw).call(this,w(p[0],v[0],5),w(p[1],v[1],5),w(p[2],v[2],5),m),c.url=ye(this,ap,k0).call(this,b),c.url}destroy(t=!1){var i,r,s,a;t&&((i=S(this,Eg))!=null&&i.size)||((r=S(this,ch))==null||r.parentNode.parentNode.remove(),se(this,ch,null),(s=S(this,rv))==null||s.clear(),se(this,rv,null),(a=S(this,Eg))==null||a.clear(),se(this,Eg,null),se(this,Tg,0))}}kg=new WeakMap,rv=new WeakMap,ch=new WeakMap,dh=new WeakMap,ba=new WeakMap,Eg=new WeakMap,Tg=new WeakMap,xs=new WeakSet,pa=function(){return S(this,rv)||se(this,rv,new Map)},Cg=new WeakSet,ow=function(){return S(this,Eg)||se(this,Eg,new Map)},sp=new WeakSet,A0=function(){if(!S(this,ch)){const t=S(this,ba).createElement("div"),{style:i}=t;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const r=S(this,ba).createElementNS(Wu,"svg");r.setAttribute("width",0),r.setAttribute("height",0),se(this,ch,S(this,ba).createElementNS(Wu,"defs")),t.append(r),r.append(S(this,ch)),S(this,ba).body.append(t)}return S(this,ch)},sv=new WeakSet,KA=function(t){if(t.length===1){const d=t[0],u=new Array(256);for(let h=0;h<256;h++)u[h]=d[h]/255;const f=u.join(",");return[f,f,f]}const[i,r,s]=t,a=new Array(256),o=new Array(256),c=new Array(256);for(let d=0;d<256;d++)a[d]=i[d]/255,o[d]=r[d]/255,c[d]=s[d]/255;return[a.join(","),o.join(","),c.join(",")]},ap=new WeakSet,k0=function(t){if(S(this,kg)===void 0){se(this,kg,"");const i=S(this,ba).URL;i!==S(this,ba).baseURI&&(rC(i)?dn('#createUrl: ignore "data:"-URL for performance reasons.'):se(this,kg,nV(i,"")))}return`url(${S(this,kg)}#${t})`},R4=new WeakSet,YV=function(t){const i=S(this,ba).createElementNS(Wu,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(i)},E5=new WeakSet,SP=function(t){const i=S(this,ba).createElementNS(Wu,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(i)},op=new WeakSet,E0=function(t){const i=S(this,ba).createElementNS(Wu,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",t),S(this,sp,A0).append(i),i},Dg=new WeakSet,lw=function(t,i,r){const s=S(this,ba).createElementNS(Wu,i);s.setAttribute("type","discrete"),s.setAttribute("tableValues",r),t.append(s)},Pg=new WeakSet,cw=function(t,i,r,s){const a=S(this,ba).createElementNS(Wu,"feComponentTransfer");s.append(a),ye(this,Dg,lw).call(this,a,"feFuncR",t),ye(this,Dg,lw).call(this,a,"feFuncG",i),ye(this,Dg,lw).call(this,a,"feFuncB",r)},T5=new WeakSet,NP=function(t,i){const r=S(this,ba).createElementNS(Wu,"feComponentTransfer");i.append(r),ye(this,Dg,lw).call(this,r,"feFuncA",t)},Ig=new WeakSet,dw=function(t){return S(this,sp,A0).style.color=t,FS(getComputedStyle(S(this,sp,A0)).getPropertyValue("color"))};class KV{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(i=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Ci("Abstract method `_fetch` called.")}}class gM extends KV{async _fetch(e){const t=await LS(e,"arraybuffer");return new Uint8Array(t)}}class JV{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(i=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){Ci("Abstract method `_fetch` called.")}}class yM extends JV{async _fetch(e){const t=await LS(e,"arraybuffer");return new Uint8Array(t)}}Ma&&dn("Please use the `legacy` build in Node.js environments.");async function KL(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class h2e extends XV{}class f2e extends VV{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class p2e extends GV{async _fetch(e){return KL(e)}}class m2e extends KV{async _fetch(e){return KL(e)}}class g2e extends JV{async _fetch(e){return KL(e)}}const v0="__forcedDependency",{floor:vM,ceil:bM}=Math;function WN(n,e,t,i,r,s){n[e*4+0]=Math.min(n[e*4+0],t),n[e*4+1]=Math.min(n[e*4+1],i),n[e*4+2]=Math.max(n[e*4+2],r),n[e*4+3]=Math.max(n[e*4+3],s)}const AP=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var av,lp;class y2e{constructor(e,t){ne(this,av,void 0);ne(this,lp,void 0);se(this,av,e),se(this,lp,t)}get length(){return S(this,av).length}isEmpty(e){return S(this,av)[e]===AP}minX(e){return S(this,lp)[e*4+0]/256}minY(e){return S(this,lp)[e*4+1]/256}maxX(e){return(S(this,lp)[e*4+2]+1)/256}maxY(e){return(S(this,lp)[e*4+3]+1)/256}}av=new WeakMap,lp=new WeakMap;const $N=(n,e)=>{if(!n)return;let t=n.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},n.set(e,t)),t};var ro,so,Rg,Rc,Lg,uh,li,wi,hh,ao,C5,ov,Og,Fg,fh,wa,Vd,D5,kP;class v2e{constructor(e,t,i=!1){ne(this,D5);ne(this,ro,{__proto__:null});ne(this,so,{__proto__:null,transform:[],moveText:[],sameLineText:[],[v0]:[]});ne(this,Rg,new Map);ne(this,Rc,[]);ne(this,Lg,[]);ne(this,uh,[[1,0,0,1,0,0]]);ne(this,li,[-1/0,-1/0,1/0,1/0]);ne(this,wi,new Float64Array([1/0,1/0,-1/0,-1/0]));ne(this,hh,-1);ne(this,ao,new Set);ne(this,C5,new Map);ne(this,ov,new Map);ne(this,Og,void 0);ne(this,Fg,void 0);ne(this,fh,void 0);ne(this,wa,void 0);ne(this,Vd,void 0);se(this,Og,e.width),se(this,Fg,e.height),ye(this,D5,kP).call(this,t),i&&se(this,Vd,new Map)}growOperationsCount(e){e>=S(this,wa).length&&ye(this,D5,kP).call(this,e,S(this,wa))}save(e){return se(this,ro,{__proto__:S(this,ro)}),se(this,so,{__proto__:S(this,so),transform:{__proto__:S(this,so).transform},moveText:{__proto__:S(this,so).moveText},sameLineText:{__proto__:S(this,so).sameLineText},[v0]:{__proto__:S(this,so)[v0]}}),se(this,li,{__proto__:S(this,li)}),S(this,Rc).push(e),this}restore(e){var r;const t=Object.getPrototypeOf(S(this,ro));if(t===null)return this;se(this,ro,t),se(this,so,Object.getPrototypeOf(S(this,so))),se(this,li,Object.getPrototypeOf(S(this,li)));const i=S(this,Rc).pop();return i!==void 0&&((r=$N(S(this,Vd),e))==null||r.dependencies.add(i),S(this,wa)[e]=S(this,wa)[i]),this}recordOpenMarker(e){return S(this,Rc).push(e),this}getOpenMarker(){return S(this,Rc).length===0?null:S(this,Rc).at(-1)}recordCloseMarker(e){var i;const t=S(this,Rc).pop();return t!==void 0&&((i=$N(S(this,Vd),e))==null||i.dependencies.add(t),S(this,wa)[e]=S(this,wa)[t]),this}beginMarkedContent(e){return S(this,Lg).push(e),this}endMarkedContent(e){var i;const t=S(this,Lg).pop();return t!==void 0&&((i=$N(S(this,Vd),e))==null||i.dependencies.add(t),S(this,wa)[e]=S(this,wa)[t]),this}pushBaseTransform(e){return S(this,uh).push(zt.multiplyByDOMMatrix(S(this,uh).at(-1),e.getTransform())),this}popBaseTransform(){return S(this,uh).length>1&&S(this,uh).pop(),this}recordSimpleData(e,t){return S(this,ro)[e]=t,this}recordIncrementalData(e,t){return S(this,so)[e].push(t),this}resetIncrementalData(e,t){return S(this,so)[e].length=0,this}recordNamedData(e,t){return S(this,Rg).set(e,t),this}recordSimpleDataFromNamed(e,t,i){S(this,ro)[e]=S(this,Rg).get(t)??i}recordFutureForcedDependency(e,t){return this.recordIncrementalData(v0,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in S(this,ro)&&this.recordFutureForcedDependency(t,S(this,ro)[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of S(this,ao))this.recordFutureForcedDependency(v0,e);return this}resetBBox(e){return S(this,hh)!==e&&(se(this,hh,e),S(this,wi)[0]=1/0,S(this,wi)[1]=1/0,S(this,wi)[2]=-1/0,S(this,wi)[3]=-1/0),this}recordClipBox(e,t,i,r,s,a){const o=zt.multiplyByDOMMatrix(S(this,uh).at(-1),t.getTransform()),c=[1/0,1/0,-1/0,-1/0];zt.axialAlignedBoundingBox([i,s,r,a],o,c);const d=zt.intersect(S(this,li),c);return d?(S(this,li)[0]=d[0],S(this,li)[1]=d[1],S(this,li)[2]=d[2],S(this,li)[3]=d[3]):(S(this,li)[0]=S(this,li)[1]=1/0,S(this,li)[2]=S(this,li)[3]=-1/0),this}recordBBox(e,t,i,r,s,a){const o=S(this,li);if(o[0]===1/0)return this;const c=zt.multiplyByDOMMatrix(S(this,uh).at(-1),t.getTransform());if(o[0]===-1/0)return zt.axialAlignedBoundingBox([i,s,r,a],c,S(this,wi)),this;const d=[1/0,1/0,-1/0,-1/0];return zt.axialAlignedBoundingBox([i,s,r,a],c,d),S(this,wi)[0]=Math.min(S(this,wi)[0],Math.max(d[0],o[0])),S(this,wi)[1]=Math.min(S(this,wi)[1],Math.max(d[1],o[1])),S(this,wi)[2]=Math.max(S(this,wi)[2],Math.min(d[2],o[2])),S(this,wi)[3]=Math.max(S(this,wi)[3],Math.min(d[3],o[3])),this}recordCharacterBBox(e,t,i,r=1,s=0,a=0,o){const c=i.bbox;let d,u;if(c&&(d=c[2]!==c[0]&&c[3]!==c[1]&&S(this,ov).get(i),d!==!1&&(u=[0,0,0,0],zt.axialAlignedBoundingBox(c,i.fontMatrix,u),(r!==1||s!==0||a!==0)&&zt.scaleMinMax([r,0,0,-r,s,a],u),d)))return this.recordBBox(e,t,u[0],u[2],u[1],u[3]);if(!o)return this.recordFullPageBBox(e);const f=o();return c&&u&&d===void 0&&(d=u[0]<=s-f.actualBoundingBoxLeft&&u[2]>=s+f.actualBoundingBoxRight&&u[1]<=a-f.actualBoundingBoxAscent&&u[3]>=a+f.actualBoundingBoxDescent,S(this,ov).set(i,d),d)?this.recordBBox(e,t,u[0],u[2],u[1],u[3]):this.recordBBox(e,t,s-f.actualBoundingBoxLeft,s+f.actualBoundingBoxRight,a-f.actualBoundingBoxAscent,a+f.actualBoundingBoxDescent)}recordFullPageBBox(e){return S(this,wi)[0]=Math.max(0,S(this,li)[0]),S(this,wi)[1]=Math.max(0,S(this,li)[1]),S(this,wi)[2]=Math.min(S(this,Og),S(this,li)[2]),S(this,wi)[3]=Math.min(S(this,Fg),S(this,li)[3]),this}getSimpleIndex(e){return S(this,ro)[e]}recordDependencies(e,t){const i=S(this,ao),r=S(this,ro),s=S(this,so);for(const a of t)a in S(this,ro)?i.add(r[a]):a in s&&s[a].forEach(i.add,i);return this}recordNamedDependency(e,t){return S(this,Rg).has(t)&&S(this,ao).add(S(this,Rg).get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[v0]),S(this,Vd)){const i=$N(S(this,Vd),e),{dependencies:r}=i;S(this,ao).forEach(r.add,r),S(this,Rc).forEach(r.add,r),S(this,Lg).forEach(r.add,r),r.delete(e),i.isRenderingOperation=!0}if(S(this,hh)===e){const i=vM(S(this,wi)[0]*256/S(this,Og)),r=vM(S(this,wi)[1]*256/S(this,Fg)),s=bM(S(this,wi)[2]*256/S(this,Og)),a=bM(S(this,wi)[3]*256/S(this,Fg));WN(S(this,fh),e,i,r,s,a);for(const o of S(this,ao))o!==e&&WN(S(this,fh),o,i,r,s,a);for(const o of S(this,Rc))o!==e&&WN(S(this,fh),o,i,r,s,a);for(const o of S(this,Lg))o!==e&&WN(S(this,fh),o,i,r,s,a);t||(S(this,ao).clear(),se(this,hh,-1))}return this}recordShowTextOperation(e,t=!1){const i=Array.from(S(this,ao));this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const r of i)this.recordIncrementalData("sameLineText",r);return this}bboxToClipBoxDropOperation(e,t=!1){return S(this,hh)===e&&(se(this,hh,-1),S(this,li)[0]=Math.max(S(this,li)[0],S(this,wi)[0]),S(this,li)[1]=Math.max(S(this,li)[1],S(this,wi)[1]),S(this,li)[2]=Math.min(S(this,li)[2],S(this,wi)[2]),S(this,li)[3]=Math.min(S(this,li)[3],S(this,wi)[3]),t||S(this,ao).clear()),this}_takePendingDependencies(){const e=S(this,ao);return se(this,ao,new Set),e}_extractOperation(e){const t=S(this,C5).get(e);return S(this,C5).delete(e),t}_pushPendingDependencies(e){for(const t of e)S(this,ao).add(t)}take(){return S(this,ov).clear(),new y2e(S(this,wa),S(this,fh))}takeDebugMetadata(){return S(this,Vd)}}ro=new WeakMap,so=new WeakMap,Rg=new WeakMap,Rc=new WeakMap,Lg=new WeakMap,uh=new WeakMap,li=new WeakMap,wi=new WeakMap,hh=new WeakMap,ao=new WeakMap,C5=new WeakMap,ov=new WeakMap,Og=new WeakMap,Fg=new WeakMap,fh=new WeakMap,wa=new WeakMap,Vd=new WeakMap,D5=new WeakSet,kP=function(e,t){const i=new ArrayBuffer(e*4);se(this,fh,new Uint8ClampedArray(i)),se(this,wa,new Uint32Array(i)),t&&t.length>0?(S(this,wa).set(t),S(this,wa).fill(AP,t.length)):S(this,wa).fill(AP)};var Ei,mr,Lc,lv,cv;const gO=class gO{constructor(e,t,i){ne(this,Ei,void 0);ne(this,mr,void 0);ne(this,Lc,void 0);ne(this,lv,0);ne(this,cv,0);if(e instanceof gO&&S(e,Lc)===!!i)return e;se(this,Ei,e),se(this,mr,t),se(this,Lc,!!i)}growOperationsCount(){throw new Error("Unreachable")}save(e){return is(this,cv)._++,S(this,Ei).save(S(this,mr)),this}restore(e){return S(this,cv)>0&&(S(this,Ei).restore(S(this,mr)),is(this,cv)._--),this}recordOpenMarker(e){return is(this,lv)._++,this}getOpenMarker(){return S(this,lv)>0?S(this,mr):S(this,Ei).getOpenMarker()}recordCloseMarker(e){return is(this,lv)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return S(this,Ei).pushBaseTransform(e),this}popBaseTransform(){return S(this,Ei).popBaseTransform(),this}recordSimpleData(e,t){return S(this,Ei).recordSimpleData(e,S(this,mr)),this}recordIncrementalData(e,t){return S(this,Ei).recordIncrementalData(e,S(this,mr)),this}resetIncrementalData(e,t){return S(this,Ei).resetIncrementalData(e,S(this,mr)),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,i){return S(this,Ei).recordSimpleDataFromNamed(e,t,S(this,mr)),this}recordFutureForcedDependency(e,t){return S(this,Ei).recordFutureForcedDependency(e,S(this,mr)),this}inheritSimpleDataAsFutureForcedDependencies(e){return S(this,Ei).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return S(this,Ei).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return S(this,Lc)||S(this,Ei).resetBBox(S(this,mr)),this}recordClipBox(e,t,i,r,s,a){return S(this,Lc)||S(this,Ei).recordClipBox(S(this,mr),t,i,r,s,a),this}recordBBox(e,t,i,r,s,a){return S(this,Lc)||S(this,Ei).recordBBox(S(this,mr),t,i,r,s,a),this}recordCharacterBBox(e,t,i,r,s,a,o){return S(this,Lc)||S(this,Ei).recordCharacterBBox(S(this,mr),t,i,r,s,a,o),this}recordFullPageBBox(e){return S(this,Lc)||S(this,Ei).recordFullPageBBox(S(this,mr)),this}getSimpleIndex(e){return S(this,Ei).getSimpleIndex(e)}recordDependencies(e,t){return S(this,Ei).recordDependencies(S(this,mr),t),this}recordNamedDependency(e,t){return S(this,Ei).recordNamedDependency(S(this,mr),t),this}recordOperation(e){return S(this,Ei).recordOperation(S(this,mr),!0),this}recordShowTextOperation(e){return S(this,Ei).recordShowTextOperation(S(this,mr),!0),this}bboxToClipBoxDropOperation(e){return S(this,Lc)||S(this,Ei).bboxToClipBoxDropOperation(S(this,mr),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};Ei=new WeakMap,mr=new WeakMap,Lc=new WeakMap,lv=new WeakMap,cv=new WeakMap;let O3=gO;const Pl={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Qs={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function EP(n,e){if(!e)return;const t=e[2]-e[0],i=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,i),n.clip(r)}class JL{isModifyingCurrentTransform(){return!1}getPattern(){Ci("Abstract method `getPattern` called.")}}class b2e extends JL{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}isOriginBased(){return this._p0[0]===0&&this._p0[1]===0&&(!this.isRadial()||this._p1[0]===0&&this._p1[1]===0)}isRadial(){return this._type==="radial"}_createGradient(e,t=null){let i,r=this._p0,s=this._p1;if(t&&(r=r.slice(),s=s.slice(),zt.applyTransform(r,t),zt.applyTransform(s,t)),this._type==="axial")i=e.createLinearGradient(r[0],r[1],s[0],s[1]);else if(this._type==="radial"){let a=this._r0,o=this._r1;if(t){const c=new Float32Array(2);zt.singularValueDecompose2dScale(t,c),a*=c[0],o*=c[0]}i=e.createRadialGradient(r[0],r[1],a,s[0],s[1],o)}for(const a of this._colorStops)i.addColorStop(a[0],a[1]);return i}getPattern(e,t,i,r){let s;if(r===Qs.STROKE||r===Qs.FILL){if(this.isOriginBased()){let h=zt.transform(i,t.baseTransform);this.matrix&&(h=zt.transform(h,this.matrix));const p=.001,v=Math.hypot(h[0],h[1]),w=Math.hypot(h[2],h[3]),b=(h[0]*h[2]+h[1]*h[3])/(v*w);if(Math.abs(b)<p)if(this.isRadial()){if(Math.abs(v-w)<p)return this._createGradient(e,h)}else return this._createGradient(e,h)}const a=t.current.getClippedPathBoundingBox(r,tr(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,c=Math.ceil(a[3]-a[1])||1,d=t.cachedCanvases.getCanvas("pattern",o,c),u=d.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-a[0],-a[1]),i=zt.transform(i,[1,0,0,1,a[0],a[1]]),u.transform(...t.baseTransform),this.matrix&&u.transform(...this.matrix),EP(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),s=e.createPattern(d.canvas,"no-repeat");const f=new DOMMatrix(i);s.setTransform(f)}else EP(e,this._bbox),s=this._createGradient(e);return s}}function O6(n,e,t,i,r,s,a,o){const c=e.coords,d=e.colors,u=n.data,f=n.width*4;let h;c[t+1]>c[i+1]&&(h=t,t=i,i=h,h=s,s=a,a=h),c[i+1]>c[r+1]&&(h=i,i=r,r=h,h=a,a=o,o=h),c[t+1]>c[i+1]&&(h=t,t=i,i=h,h=s,s=a,a=h);const p=(c[t]+e.offsetX)*e.scaleX,v=(c[t+1]+e.offsetY)*e.scaleY,w=(c[i]+e.offsetX)*e.scaleX,b=(c[i+1]+e.offsetY)*e.scaleY,m=(c[r]+e.offsetX)*e.scaleX,y=(c[r+1]+e.offsetY)*e.scaleY;if(v>=y)return;const _=d[s],x=d[s+1],N=d[s+2],k=d[a],T=d[a+1],C=d[a+2],P=d[o],D=d[o+1],E=d[o+2],A=Math.round(v),I=Math.round(y);let R,M,Y,q,G,B,J,W;for(let L=A;L<=I;L++){if(L<b){const Z=L<v?0:(v-L)/(v-b);R=p-(p-w)*Z,M=_-(_-k)*Z,Y=x-(x-T)*Z,q=N-(N-C)*Z}else{let Z;L>y?Z=1:b===y?Z=0:Z=(b-L)/(b-y),R=w-(w-m)*Z,M=k-(k-P)*Z,Y=T-(T-D)*Z,q=C-(C-E)*Z}let z;L<v?z=0:L>y?z=1:z=(v-L)/(v-y),G=p-(p-m)*z,B=_-(_-P)*z,J=x-(x-D)*z,W=N-(N-E)*z;const X=Math.round(Math.min(R,G)),Q=Math.round(Math.max(R,G));let V=f*L+X*4;for(let Z=X;Z<=Q;Z++)z=(R-Z)/(R-G),z<0?z=0:z>1&&(z=1),u[V++]=M-(M-B)*z|0,u[V++]=Y-(Y-J)*z|0,u[V++]=q-(q-W)*z|0,u[V++]=255}}function w2e(n,e,t){const i=e.coords,r=e.colors;let s,a;switch(e.type){case Z8.LATTICE:const o=e.verticesPerRow,c=Math.floor(i.length/o)-1,d=o-1;for(s=0;s<c;s++){let u=s*o;for(let f=0;f<d;f++,u++)O6(n,t,i[u],i[u+1],i[u+o],r[u],r[u+1],r[u+o]),O6(n,t,i[u+o+1],i[u+1],i[u+o],r[u+o+1],r[u+1],r[u+o])}break;case Z8.TRIANGLES:for(s=0,a=i.length;s<a;s+=3)O6(n,t,i[s],i[s+1],i[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class x2e extends JL{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,i){const o=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),d=Math.ceil(this._bounds[2])-o,u=Math.ceil(this._bounds[3])-c,f=Math.min(Math.ceil(Math.abs(d*e[0]*1.1)),3e3),h=Math.min(Math.ceil(Math.abs(u*e[1]*1.1)),3e3),p=d/f,v=u/h,w={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-c,scaleX:1/p,scaleY:1/v},b=f+2*2,m=h+2*2,y=i.getCanvas("mesh",b,m),_=y.context,x=_.createImageData(f,h);if(t){const k=x.data;for(let T=0,C=k.length;T<C;T+=4)k[T]=t[0],k[T+1]=t[1],k[T+2]=t[2],k[T+3]=255}for(const k of this._figures)w2e(x,k,w);return _.putImageData(x,2,2),{canvas:y.canvas,offsetX:o-2*p,offsetY:c-2*v,scaleX:p,scaleY:v}}isModifyingCurrentTransform(){return!0}getPattern(e,t,i,r){EP(e,this._bbox);const s=new Float32Array(2);if(r===Qs.SHADING)zt.singularValueDecompose2dScale(tr(e),s);else if(this.matrix){zt.singularValueDecompose2dScale(this.matrix,s);const[o,c]=s;zt.singularValueDecompose2dScale(t.baseTransform,s),s[0]*=o,s[1]*=c}else zt.singularValueDecompose2dScale(t.baseTransform,s);const a=this._createMeshCanvas(s,r===Qs.SHADING?null:this._background,t.cachedCanvases);return r!==Qs.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class _2e extends JL{getPattern(){return"hotpink"}}function S2e(n){switch(n[0]){case"RadialAxial":return new b2e(n);case"Mesh":return new x2e(n);case"Dummy":return new _2e}throw new Error(`Unknown IR type: ${n[0]}`)}const wM={COLORED:1,UNCOLORED:2},L4=class L4{constructor(e,t,i,r){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=i,this.baseTransform=r}createPatternCanvas(e,t){var B,J;const{bbox:i,operatorList:r,paintType:s,tilingType:a,color:o,canvasGraphicsFactory:c}=this;let{xstep:d,ystep:u}=this;d=Math.abs(d),u=Math.abs(u),iC("TilingType: "+a);const f=i[0],h=i[1],p=i[2],v=i[3],w=p-f,b=v-h,m=new Float32Array(2);zt.singularValueDecompose2dScale(this.matrix,m);const[y,_]=m;zt.singularValueDecompose2dScale(this.baseTransform,m);const x=y*m[0],N=_*m[1];let k=w,T=b,C=!1,P=!1;const D=Math.ceil(d*x),E=Math.ceil(u*N),A=Math.ceil(w*x),I=Math.ceil(b*N);D>=A?k=d:C=!0,E>=I?T=u:P=!0;const R=this.getSizeAndScale(k,this.ctx.canvas.width,x),M=this.getSizeAndScale(T,this.ctx.canvas.height,N),Y=e.cachedCanvases.getCanvas("pattern",R.size,M.size),q=Y.context,G=c.createCanvasGraphics(q,t);if(G.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(G,s,o),q.translate(-R.scale*f,-M.scale*h),G.transform(0,R.scale,0,0,M.scale,0,0),q.save(),(B=G.dependencyTracker)==null||B.save(),this.clipBbox(G,f,h,p,v),G.baseTransform=tr(G.ctx),G.executeOperatorList(r),G.endDrawing(),(J=G.dependencyTracker)==null||J.restore(),q.restore(),C||P){const W=Y.canvas;C&&(k=d),P&&(T=u);const L=this.getSizeAndScale(k,this.ctx.canvas.width,x),z=this.getSizeAndScale(T,this.ctx.canvas.height,N),X=L.size,Q=z.size,V=e.cachedCanvases.getCanvas("pattern-workaround",X,Q),Z=V.context,_e=C?Math.floor(w/d):0,le=P?Math.floor(b/u):0;for(let ce=0;ce<=_e;ce++)for(let Fe=0;Fe<=le;Fe++)Z.drawImage(W,X*ce,Q*Fe,X,Q,0,0,X,Q);return{canvas:V.canvas,scaleX:L.scale,scaleY:z.scale,offsetX:f,offsetY:h}}return{canvas:Y.canvas,scaleX:R.scale,scaleY:M.scale,offsetX:f,offsetY:h}}getSizeAndScale(e,t,i){const r=Math.max(L4.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*i);return s>=r?s=r:i=s/e,{scale:i,size:s}}clipBbox(e,t,i,r,s){const a=r-t,o=s-i;e.ctx.rect(t,i,a,o),zt.axialAlignedBoundingBox([t,i,r,s],tr(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,i){const r=e.ctx,s=e.current;switch(t){case wM.COLORED:const{fillStyle:a,strokeStyle:o}=this.ctx;r.fillStyle=s.fillColor=a,r.strokeStyle=s.strokeColor=o;break;case wM.UNCOLORED:r.fillStyle=r.strokeStyle=i,s.fillColor=s.strokeColor=i;break;default:throw new Obe(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,i,r,s){let a=i;r!==Qs.SHADING&&(a=zt.transform(a,t.baseTransform),this.matrix&&(a=zt.transform(a,this.matrix)));const o=this.createPatternCanvas(t,s);let c=new DOMMatrix(a);c=c.translate(o.offsetX,o.offsetY),c=c.scale(1/o.scaleX,1/o.scaleY);const d=e.createPattern(o.canvas,"repeat");return d.setTransform(c),d}};wt(L4,"MAX_PATTERN_SIZE",3e3);let TP=L4;function N2e({src:n,srcPos:e=0,dest:t,width:i,height:r,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=us.isLittleEndian?4278190080:255,[c,d]=a?[s,o]:[o,s],u=i>>3,f=i&7,h=n.length;t=new Uint32Array(t.buffer);let p=0;for(let v=0;v<r;v++){for(const b=e+u;e<b;e++){const m=e<h?n[e]:255;t[p++]=m&128?d:c,t[p++]=m&64?d:c,t[p++]=m&32?d:c,t[p++]=m&16?d:c,t[p++]=m&8?d:c,t[p++]=m&4?d:c,t[p++]=m&2?d:c,t[p++]=m&1?d:c}if(f===0)continue;const w=e<h?n[e++]:255;for(let b=0;b<f;b++)t[p++]=w&1<<7-b?d:c}return{srcPos:e,destPos:p}}const xM=16,_M=100,A2e=15,SM=10,uo=16,F6=new DOMMatrix,cl=new Float32Array(2),V0=new Float32Array([1/0,1/0,-1/0,-1/0]);function k2e(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(t,i){e.translate(t,i),this.__originalTranslate(t,i)},n.scale=function(t,i){e.scale(t,i),this.__originalScale(t,i)},n.transform=function(t,i,r,s,a,o){e.transform(t,i,r,s,a,o),this.__originalTransform(t,i,r,s,a,o)},n.setTransform=function(t,i,r,s,a,o){e.setTransform(t,i,r,s,a,o),this.__originalSetTransform(t,i,r,s,a,o)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(t){e.rotate(t),this.__originalRotate(t)},n.clip=function(t){e.clip(t),this.__originalClip(t)},n.moveTo=function(t,i){e.moveTo(t,i),this.__originalMoveTo(t,i)},n.lineTo=function(t,i){e.lineTo(t,i),this.__originalLineTo(t,i)},n.bezierCurveTo=function(t,i,r,s,a,o){e.bezierCurveTo(t,i,r,s,a,o),this.__originalBezierCurveTo(t,i,r,s,a,o)},n.rect=function(t,i,r,s){e.rect(t,i,r,s),this.__originalRect(t,i,r,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class E2e{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,i){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,i)):(r=this.canvasFactory.create(t,i),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function qN(n,e,t,i,r,s,a,o,c,d){const[u,f,h,p,v,w]=tr(n);if(f===0&&h===0){const y=a*u+v,_=Math.round(y),x=o*p+w,N=Math.round(x),k=(a+c)*u+v,T=Math.abs(Math.round(k)-_)||1,C=(o+d)*p+w,P=Math.abs(Math.round(C)-N)||1;return n.setTransform(Math.sign(u),0,0,Math.sign(p),_,N),n.drawImage(e,t,i,r,s,0,0,T,P),n.setTransform(u,f,h,p,v,w),[T,P]}if(u===0&&p===0){const y=o*h+v,_=Math.round(y),x=a*f+w,N=Math.round(x),k=(o+d)*h+v,T=Math.abs(Math.round(k)-_)||1,C=(a+c)*f+w,P=Math.abs(Math.round(C)-N)||1;return n.setTransform(0,Math.sign(f),Math.sign(h),0,_,N),n.drawImage(e,t,i,r,s,0,0,P,T),n.setTransform(u,f,h,p,v,w),[P,T]}n.drawImage(e,t,i,r,s,a,o,c,d);const b=Math.hypot(u,f),m=Math.hypot(h,p);return[b*c,m*d]}class NM{constructor(e,t,i){wt(this,"alphaIsShape",!1);wt(this,"fontSize",0);wt(this,"fontSizeScale",1);wt(this,"textMatrix",null);wt(this,"textMatrixScale",1);wt(this,"fontMatrix",J8);wt(this,"leading",0);wt(this,"x",0);wt(this,"y",0);wt(this,"lineX",0);wt(this,"lineY",0);wt(this,"charSpacing",0);wt(this,"wordSpacing",0);wt(this,"textHScale",1);wt(this,"textRenderingMode",rs.FILL);wt(this,"textRise",0);wt(this,"fillColor","#000000");wt(this,"strokeColor","#000000");wt(this,"patternFill",!1);wt(this,"patternStroke",!1);wt(this,"fillAlpha",1);wt(this,"strokeAlpha",1);wt(this,"lineWidth",1);wt(this,"activeSMask",null);wt(this,"transferMaps","none");i==null||i(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=V0.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Qs.FILL,t=null){const i=this.minMax.slice();if(e===Qs.STROKE){t||Ci("Stroke bounding box must include transform."),zt.singularValueDecompose2dScale(t,cl);const r=cl[0]*this.lineWidth/2,s=cl[1]*this.lineWidth/2;i[0]-=r,i[1]-=s,i[2]+=r,i[3]+=s}return i}updateClipFromPath(){const e=zt.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(V0,0)}getClippedPathBoundingBox(e=Qs.FILL,t=null){return zt.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function AM(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,i=e.width,r=t%uo,s=(t-r)/uo,a=r===0?s:s+1,o=n.createImageData(i,uo);let c=0,d;const u=e.data,f=o.data;let h,p,v,w;if(e.kind===zA.GRAYSCALE_1BPP){const b=u.byteLength,m=new Uint32Array(f.buffer,0,f.byteLength>>2),y=m.length,_=i+7>>3,x=4294967295,N=us.isLittleEndian?4278190080:255;for(h=0;h<a;h++){for(v=h<s?uo:r,d=0,p=0;p<v;p++){const k=b-c;let T=0;const C=k>_?i:k*8-7,P=C&-8;let D=0,E=0;for(;T<P;T+=8)E=u[c++],m[d++]=E&128?x:N,m[d++]=E&64?x:N,m[d++]=E&32?x:N,m[d++]=E&16?x:N,m[d++]=E&8?x:N,m[d++]=E&4?x:N,m[d++]=E&2?x:N,m[d++]=E&1?x:N;for(;T<C;T++)D===0&&(E=u[c++],D=128),m[d++]=E&D?x:N,D>>=1}for(;d<y;)m[d++]=0;n.putImageData(o,0,h*uo)}}else if(e.kind===zA.RGBA_32BPP){for(p=0,w=i*uo*4,h=0;h<s;h++)f.set(u.subarray(c,c+w)),c+=w,n.putImageData(o,0,p),p+=uo;h<a&&(w=i*r*4,f.set(u.subarray(c,c+w)),n.putImageData(o,0,p))}else if(e.kind===zA.RGB_24BPP)for(v=uo,w=i*v,h=0;h<a;h++){for(h>=s&&(v=r,w=i*v),d=0,p=w;p--;)f[d++]=u[c++],f[d++]=u[c++],f[d++]=u[c++],f[d++]=255;n.putImageData(o,0,h*uo)}else throw new Error(`bad image kind: ${e.kind}`)}function kM(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,i=e.width,r=t%uo,s=(t-r)/uo,a=r===0?s:s+1,o=n.createImageData(i,uo);let c=0;const d=e.data,u=o.data;for(let f=0;f<a;f++){const h=f<s?uo:r;({srcPos:c}=N2e({src:d,srcPos:c,dest:u,width:i,height:h,nonBlackColor:0})),n.putImageData(o,0,f*uo)}}function L2(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of t)n[i]!==void 0&&(e[i]=n[i]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function HN(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function EM(n,e){if(e)return!0;zt.singularValueDecompose2dScale(n,cl);const t=Math.fround(xu.pixelRatio*lm.PDF_TO_CSS_UNITS);return cl[0]<=t&&cl[1]<=t}const T2e=["butt","round","square"],C2e=["miter","round","bevel"],D2e={},TM={};var P5,CP,I5,DP,R5,PP;const yO=class yO{constructor(e,t,i,r,s,{optionalContentConfig:a,markedContentStack:o=null},c,d,u){ne(this,P5);ne(this,I5);ne(this,R5);this.ctx=e,this.current=new NM(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=i,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new E2e(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=d,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=u??null}getObject(e,t,i=null){var r;return typeof t=="string"?((r=this.dependencyTracker)==null||r.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):i}beginDrawing({transform:e,viewport:t,transparency:i=!1,background:r=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,i){const c=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...tr(this.compositeCtx))}this.ctx.save(),HN(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=tr(this.ctx)}executeOperatorList(e,t,i,r,s){var m;const a=e.argsArray,o=e.fnArray;let c=t||0;const d=a.length;if(d===c)return c;const u=d-c>SM&&typeof i=="function",f=u?Date.now()+A2e:0;let h=0;const p=this.commonObjs,v=this.objs;let w,b;for(;;){if(r!==void 0&&c===r.nextBreakPoint)return r.breakIt(c,i),c;if(!s||s(c))if(w=o[c],b=a[c]??null,w!==vx.dependency)b===null?this[w](c):this[w](c,...b);else for(const y of b){(m=this.dependencyTracker)==null||m.recordNamedData(y,c);const _=y.startsWith("g_")?p:v;if(!_.has(y))return _.get(y,i),c}if(c++,c===d)return c;if(u&&++h>SM){if(Date.now()>f)return i(),c;h=0}}}endDrawing(){ye(this,P5,CP).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),ye(this,I5,DP).call(this)}_scaleImage(e,t){const i=e.width??e.displayWidth,r=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),o=i,c=r,d="prescale1",u,f;for(;s>2&&o>1||a>2&&c>1;){let h=o,p=c;s>2&&o>1&&(h=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/h),a>2&&c>1&&(p=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,a/=c/p),u=this.cachedCanvases.getCanvas(d,h,p),f=u.context,f.clearRect(0,0,h,p),f.drawImage(e,0,0,o,c,0,0,h,p),e=u.canvas,o=h,c=p,d=d==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:c}}_createMaskCanvas(e,t){var D,E;const i=this.ctx,{width:r,height:s}=t,a=this.current.fillColor,o=this.current.patternFill,c=tr(i);let d,u,f,h;if((t.bitmap||t.data)&&t.count>1){const A=t.bitmap||t.data.buffer;u=JSON.stringify(o?c:[c.slice(0,4),a]),d=this._cachedBitmapsMap.get(A),d||(d=new Map,this._cachedBitmapsMap.set(A,d));const I=d.get(u);if(I&&!o){const R=Math.round(Math.min(c[0],c[2])+c[4]),M=Math.round(Math.min(c[1],c[3])+c[5]);return(D=this.dependencyTracker)==null||D.recordDependencies(e,Pl.transformAndFill),{canvas:I,offsetX:R,offsetY:M}}f=I}f||(h=this.cachedCanvases.getCanvas("maskCanvas",r,s),kM(h.context,t));let p=zt.transform(c,[1/r,0,0,-1/s,0,0]);p=zt.transform(p,[1,0,0,1,0,-s]);const v=V0.slice();zt.axialAlignedBoundingBox([0,0,r,s],p,v);const[w,b,m,y]=v,_=Math.round(m-w)||1,x=Math.round(y-b)||1,N=this.cachedCanvases.getCanvas("fillCanvas",_,x),k=N.context,T=w,C=b;k.translate(-T,-C),k.transform(...p),f||(f=this._scaleImage(h.canvas,Td(k)),f=f.img,d&&o&&d.set(u,f)),k.imageSmoothingEnabled=EM(tr(k),t.interpolate),qN(k,f,0,0,f.width,f.height,0,0,r,s),k.globalCompositeOperation="source-in";const P=zt.transform(Td(k),[1,0,0,1,-T,-C]);return k.fillStyle=o?a.getPattern(i,this,P,Qs.FILL,e):a,k.fillRect(0,0,r,s),d&&!o&&(this.cachedCanvases.delete("fillCanvas"),d.set(u,N.canvas)),(E=this.dependencyTracker)==null||E.recordDependencies(e,Pl.transformAndFill),{canvas:N.canvas,offsetX:Math.round(T),offsetY:Math.round(C)}}setLineWidth(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineCap",e),this.ctx.lineCap=T2e[t]}setLineJoin(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineJoin",e),this.ctx.lineJoin=C2e[t]}setMiterLimit(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,i){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("dash",e);const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(t),r.lineDashOffset=i)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){var i,r,s,a,o;for(const[c,d]of t)switch(c){case"LW":this.setLineWidth(e,d);break;case"LC":this.setLineCap(e,d);break;case"LJ":this.setLineJoin(e,d);break;case"ML":this.setMiterLimit(e,d);break;case"D":this.setDash(e,d[0],d[1]);break;case"RI":this.setRenderingIntent(e,d);break;case"FL":this.setFlatness(e,d);break;case"Font":this.setFont(e,d[0],d[1]);break;case"CA":(i=this.dependencyTracker)==null||i.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=d;break;case"ca":(r=this.dependencyTracker)==null||r.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=d;break;case"BM":(s=this.dependencyTracker)==null||s.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=d;break;case"SMask":(a=this.dependencyTracker)==null||a.recordSimpleData("SMask",e),this.current.activeSMask=d?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(o=this.dependencyTracker)==null||o.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(d);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,i=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(r,t,i);this.suspendedCtx=this.ctx;const a=this.ctx=s.context;a.setTransform(this.suspendedCtx.getTransform()),L2(this.suspendedCtx,a),k2e(a,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),L2(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,i,r){const s=r[0],a=r[1],o=r[2]-s,c=r[3]-a;o===0||c===0||(this.genericComposeSMask(t.context,i,o,c,t.subtype,t.backdrop,t.transferMap,s,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}genericComposeSMask(e,t,i,r,s,a,o,c,d,u,f){let h=e.canvas,p=c-u,v=d-f;if(a)if(p<0||v<0||p+i>h.width||v+r>h.height){const b=this.cachedCanvases.getCanvas("maskExtension",i,r),m=b.context;m.drawImage(h,-p,-v),m.globalCompositeOperation="destination-atop",m.fillStyle=a,m.fillRect(0,0,i,r),m.globalCompositeOperation="source-over",h=b.canvas,p=v=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const b=new Path2D;b.rect(p,v,i,r),e.clip(b),e.globalCompositeOperation="destination-atop",e.fillStyle=a,e.fillRect(p,v,i,r),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const w=new Path2D;w.rect(c,d,i,r),t.clip(w),t.globalCompositeOperation="destination-in",t.drawImage(h,p,v,i,r,c,d,i,r),t.restore()}save(e){var i;this.inSMaskMode&&L2(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),(i=this.dependencyTracker)==null||i.save(e)}restore(e){var t;if((t=this.dependencyTracker)==null||t.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&L2(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,i,r,s,a,o){var c;(c=this.dependencyTracker)==null||c.recordIncrementalData("transform",e),this.ctx.transform(t,i,r,s,a,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,i,r){let[s]=i;if(!r){s||(s=i[0]=new Path2D),this[t](e,s);return}if(this.dependencyTracker!==null){const a=t===vx.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,r[0]-a,r[2]+a,r[1]-a,r[3]+a).recordDependencies(e,["transform"])}s instanceof Path2D||(s=i[0]=lV(s)),zt.axialAlignedBoundingBox(r,tr(this.ctx),this.current.minMax),this[t](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,i=!0){var a;const r=this.ctx,s=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&(s!=null&&s.getPattern)){const o=s.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=s.getPattern(r,this,Td(r),Qs.STROKE,e),o){const c=new Path2D;c.addPath(t,r.getTransform().invertSelf().multiplySelf(o)),t=c}this.rescaleAndStroke(t,!1),r.restore()}else this.rescaleAndStroke(t,!0);(a=this.dependencyTracker)==null||a.recordDependencies(e,Pl.stroke),i&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(Qs.STROKE,tr(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,i=!0){var d,u,f;const r=this.ctx,s=this.current.fillColor,a=this.current.patternFill;let o=!1;if(a){const h=s.isModifyingCurrentTransform()?r.getTransform():null;if((d=this.dependencyTracker)==null||d.save(e),r.save(),r.fillStyle=s.getPattern(r,this,Td(r),Qs.FILL,e),h){const p=new Path2D;p.addPath(t,r.getTransform().invertSelf().multiplySelf(h)),t=p}o=!0}const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(r.fill(t,"evenodd"),this.pendingEOFill=!1):r.fill(t)),(u=this.dependencyTracker)==null||u.recordDependencies(e,Pl.fill),o&&(r.restore(),(f=this.dependencyTracker)==null||f.restore(e)),i&&this.consumePath(e,t,c)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){var i;this.ctx.fill(t),(i=this.dependencyTracker)==null||i.recordDependencies(e,Pl.rawFillPath).recordOperation(e)}clip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=D2e}eoClip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=TM}beginText(e){var t;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(t=this.dependencyTracker)==null||t.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,i=this.ctx;if(this.dependencyTracker){const{dependencyTracker:r}=this;t!==void 0&&r.recordFutureForcedDependency("textClip",r.getOpenMarker()).recordFutureForcedDependency("textClip",e),r.recordCloseMarker(e)}if(t!==void 0){const r=new Path2D,s=i.getTransform().invertSelf();for(const{transform:a,x:o,y:c,fontSize:d,path:u}of t)u&&r.addPath(u,new DOMMatrix(a).preMultiplySelf(s).translate(o,c).scale(d,-d));i.clip(r)}delete this.pendingTextPaths}setCharSpacing(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,i){var f,h;(f=this.dependencyTracker)==null||f.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const r=this.commonObjs.get(t),s=this.current;if(!r)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=r.fontMatrix||J8,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&dn("Invalid font matrix for font "+t),i<0?(i=-i,s.fontDirection=-1):s.fontDirection=1,this.current.font=r,this.current.fontSize=i,r.isType3Font)return;const a=r.loadedName||"sans-serif",o=((h=r.systemFontInfo)==null?void 0:h.css)||`"${a}", ${r.fallbackName}`;let c="normal";r.black?c="900":r.bold&&(c="bold");const d=r.italic?"italic":"normal";let u=i;i<xM?u=xM:i>_M&&(u=_M),this.current.fontSizeScale=i/u,this.ctx.font=`${d} ${c} ${u}px ${o}`}setTextRenderingMode(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,i){var r;(r=this.dependencyTracker)==null||r.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=i}setLeadingMoveText(e,t,i){this.setLeading(e,-i),this.moveText(e,t,i)}setTextMatrix(e,t){var r;(r=this.dependencyTracker)==null||r.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:i}=this;i.textMatrix=t,i.textMatrixScale=Math.hypot(t[0],t[1]),i.x=i.lineX=0,i.y=i.lineY=0}nextLine(e){var t;this.moveText(e,0,this.current.leading),(t=this.dependencyTracker)==null||t.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,t,i,r,s,a){var m,y,_,x;const o=this.ctx,c=this.current,d=c.font,u=c.textRenderingMode,f=c.fontSize/c.fontSizeScale,h=u&rs.FILL_STROKE_MASK,p=!!(u&rs.ADD_TO_PATH_FLAG),v=c.patternFill&&!d.missingFile,w=c.patternStroke&&!d.missingFile;let b;if((d.disableFontFace||p||v||w)&&!d.missingFile&&(b=d.getPathGenerator(this.commonObjs,t)),b&&(d.disableFontFace||v||w)){o.save(),o.translate(i,r),o.scale(f,-f),(m=this.dependencyTracker)==null||m.recordCharacterBBox(e,o,d);let N;if(h===rs.FILL||h===rs.FILL_STROKE)if(s){N=o.getTransform(),o.setTransform(...s);const k=ye(this,R5,PP).call(this,b,N,s);o.fill(k)}else o.fill(b);if(h===rs.STROKE||h===rs.FILL_STROKE)if(a){N||(N=o.getTransform()),o.setTransform(...a);const{a:k,b:T,c:C,d:P}=N,D=zt.inverseTransform(a),E=zt.transform([k,T,C,P,0,0],D);zt.singularValueDecompose2dScale(E,cl),o.lineWidth*=Math.max(cl[0],cl[1])/f,o.stroke(ye(this,R5,PP).call(this,b,N,a))}else o.lineWidth/=f,o.stroke(b);o.restore()}else(h===rs.FILL||h===rs.FILL_STROKE)&&(o.fillText(t,i,r),(y=this.dependencyTracker)==null||y.recordCharacterBBox(e,o,d,f,i,r,()=>o.measureText(t))),(h===rs.STROKE||h===rs.FILL_STROKE)&&(this.dependencyTracker&&((_=this.dependencyTracker)==null||_.recordCharacterBBox(e,o,d,f,i,r,()=>o.measureText(t)).recordDependencies(e,Pl.stroke)),o.strokeText(t,i,r));p&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:tr(o),x:i,y:r,fontSize:f,path:b}),(x=this.dependencyTracker)==null||x.recordCharacterBBox(e,o,d,f,i,r))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){i=!0;break}return un(this,"isFontSubpixelAAEnabled",i)}showText(e,t){var E,A,I,R;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,Pl.showText).resetBBox(e),this.current.textRenderingMode&rs.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const i=this.current,r=i.font;if(r.isType3Font){this.showType3Text(e,t),(E=this.dependencyTracker)==null||E.recordShowTextOperation(e);return}const s=i.fontSize;if(s===0){(A=this.dependencyTracker)==null||A.recordOperation(e);return}const a=this.ctx,o=i.fontSizeScale,c=i.charSpacing,d=i.wordSpacing,u=i.fontDirection,f=i.textHScale*u,h=t.length,p=r.vertical,v=p?1:-1,w=r.defaultVMetrics,b=s*i.fontMatrix[0],m=i.textRenderingMode===rs.FILL&&!r.disableFontFace&&!i.patternFill;a.save(),i.textMatrix&&a.transform(...i.textMatrix),a.translate(i.x,i.y+i.textRise),u>0?a.scale(f,-1):a.scale(f,1);let y,_;const x=i.textRenderingMode&rs.FILL_STROKE_MASK,N=x===rs.FILL||x===rs.FILL_STROKE,k=x===rs.STROKE||x===rs.FILL_STROKE;if(N&&i.patternFill){a.save();const M=i.fillColor.getPattern(a,this,Td(a),Qs.FILL,e);y=tr(a),a.restore(),a.fillStyle=M}if(k&&i.patternStroke){a.save();const M=i.strokeColor.getPattern(a,this,Td(a),Qs.STROKE,e);_=tr(a),a.restore(),a.strokeStyle=M}let T=i.lineWidth;const C=i.textMatrixScale;if(C===0||T===0?k&&(T=this.getSinglePixelWidth()):T/=C,o!==1&&(a.scale(o,o),T/=o),a.lineWidth=T,r.isInvalidPDFjsFont){const M=[];let Y=0;for(const G of t)M.push(G.unicode),Y+=G.width;const q=M.join("");if(a.fillText(q,0,0),this.dependencyTracker!==null){const G=a.measureText(q);this.dependencyTracker.recordBBox(e,this.ctx,-G.actualBoundingBoxLeft,G.actualBoundingBoxRight,-G.actualBoundingBoxAscent,G.actualBoundingBoxDescent).recordShowTextOperation(e)}i.x+=Y*b*f,a.restore(),this.compose();return}let P=0,D;for(D=0;D<h;++D){const M=t[D];if(typeof M=="number"){P+=v*M*s/1e3;continue}let Y=!1;const q=(M.isSpace?d:0)+c,G=M.fontChar,B=M.accent;let J,W,L=M.width;if(p){const Q=M.vmetric||w,V=-(M.vmetric?Q[1]:L*.5)*b,Z=Q[2]*b;L=Q?-Q[0]:L,J=V/o,W=(P+Z)/o}else J=P/o,W=0;let z;if(r.remeasure&&L>0){z=a.measureText(G);const Q=z.width*1e3/s*o;if(L<Q&&this.isFontSubpixelAAEnabled){const V=L/Q;Y=!0,a.save(),a.scale(V,1),J/=V}else L!==Q&&(J+=(L-Q)/2e3*s/o)}if(this.contentVisible&&(M.isInFont||r.missingFile)){if(m&&!B)a.fillText(G,J,W),(I=this.dependencyTracker)==null||I.recordCharacterBBox(e,a,z?{bbox:null}:r,s/o,J,W,()=>z??a.measureText(G));else if(this.paintChar(e,G,J,W,y,_),B){const Q=J+s*B.offset.x/o,V=W-s*B.offset.y/o;this.paintChar(e,B.fontChar,Q,V,y,_)}}const X=p?L*b-q*u:L*b+q*u;P+=X,Y&&a.restore()}p?i.y-=P:i.x+=P*f,a.restore(),this.compose(),(R=this.dependencyTracker)==null||R.recordShowTextOperation(e)}showType3Text(e,t){const i=this.ctx,r=this.current,s=r.font,a=r.fontSize,o=r.fontDirection,c=s.vertical?1:-1,d=r.charSpacing,u=r.wordSpacing,f=r.textHScale*o,h=r.fontMatrix||J8,p=t.length,v=r.textRenderingMode===rs.INVISIBLE;let w,b,m,y;if(v||a===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),r.textMatrix&&i.transform(...r.textMatrix),i.translate(r.x,r.y+r.textRise),i.scale(f,o);const _=this.dependencyTracker;for(this.dependencyTracker=_?new O3(_,e):null,w=0;w<p;++w){if(b=t[w],typeof b=="number"){y=c*b*a/1e3,this.ctx.translate(y,0),r.x+=y*f;continue}const x=(b.isSpace?u:0)+d,N=s.charProcOperatorList[b.operatorListId];N?this.contentVisible&&(this.save(),i.scale(a,a),i.transform(...h),this.executeOperatorList(N),this.restore()):dn(`Type3 character "${b.operatorListId}" is not available.`);const k=[b.width,0];zt.applyTransform(k,h),m=k[0]*a+x,i.translate(m,0),r.x+=m*f}i.restore(),_&&(this.dependencyTracker=_)}setCharWidth(e,t,i){}setCharWidthAndBounds(e,t,i,r,s,a,o){var d;const c=new Path2D;c.rect(r,s,a-r,o-s),this.ctx.clip(c),(d=this.dependencyTracker)==null||d.recordBBox(e,this.ctx,r,a,s,o).recordClipBox(e,this.ctx,r,a,s,o),this.endPath(e)}getColorN_Pattern(e,t){let i;if(t[0]==="TilingPattern"){const r=this.baseTransform||tr(this.ctx),s={createCanvasGraphics:(a,o)=>new yO(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new O3(this.dependencyTracker,o,!0):null)};i=new TP(t,this.ctx,s,r)}else i=this._getPattern(e,t[1],t[2]);return i}setStrokeColorN(e,...t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,i=null){let r;return this.cachedPatterns.has(t)?r=this.cachedPatterns.get(t):(r=S2e(this.getObject(e,t)),this.cachedPatterns.set(t,r)),i&&(r.matrix=i),r}shadingFill(e,t){var a;if(!this.contentVisible)return;const i=this.ctx;this.save(e);const r=this._getPattern(e,t);i.fillStyle=r.getPattern(i,this,Td(i),Qs.SHADING,e);const s=Td(i);if(s){const{width:o,height:c}=i.canvas,d=V0.slice();zt.axialAlignedBoundingBox([0,0,o,c],s,d);const[u,f,h,p]=d;this.ctx.fillRect(u,f,h-u,p-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(a=this.dependencyTracker)==null||a.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,Pl.transform).recordDependencies(e,Pl.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){Ci("Should not call beginInlineImage")}beginImageData(){Ci("Should not call beginImageData")}paintFormXObjectBegin(e,t,i){var r;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=tr(this.ctx),i)){zt.axialAlignedBoundingBox(i,this.baseTransform,this.current.minMax);const[s,a,o,c]=i,d=new Path2D;d.rect(s,a,o-s,c-a),this.ctx.clip(d),(r=this.dependencyTracker)==null||r.recordClipBox(e,this.ctx,s,o,a,c),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){var _;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;t.isolated||iC("TODO: Support non-isolated groups."),t.knockout&&dn("Knockout groups not supported.");const r=tr(i);if(t.matrix&&i.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=V0.slice();zt.axialAlignedBoundingBox(t.bbox,tr(i),s);const a=[0,0,i.canvas.width,i.canvas.height];s=zt.intersect(s,a)||[0,0,0,0];const o=Math.floor(s[0]),c=Math.floor(s[1]),d=Math.max(Math.ceil(s[2])-o,1),u=Math.max(Math.ceil(s[3])-c,1);this.current.startNewPathAndClipBox([0,0,d,u]);let f="groupAt"+this.groupLevel;t.smask&&(f+="_smask_"+this.smaskCounter++%2);const h=this.cachedCanvases.getCanvas(f,d,u),p=h.context;p.translate(-o,-c),p.transform(...r);let v=new Path2D;const[w,b,m,y]=t.bbox;if(v.rect(w,b,m-w,y-b),t.matrix){const x=new Path2D;x.addPath(v,new DOMMatrix(t.matrix)),v=x}p.clip(v),t.smask&&this.smaskStack.push({canvas:h.canvas,context:p,offsetX:o,offsetY:c,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(i.setTransform(1,0,0,1,0,0),i.translate(o,c),i.save()),L2(i,p),this.ctx=p,(_=this.dependencyTracker)==null||_.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(i),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(e,t){var s;if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,(s=this.dependencyTracker)==null||s.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const a=tr(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...a);const o=V0.slice();zt.axialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],a,o),this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,t,i,r,s,a){if(ye(this,P5,CP).call(this),HN(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const o=i[2]-i[0],c=i[3]-i[1];if(a&&this.annotationCanvasMap){r=r.slice(),r[4]-=i[0],r[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=o,i[3]=c,zt.singularValueDecompose2dScale(tr(this.ctx),cl);const{viewportScale:d}=this,u=Math.ceil(o*this.outputScaleX*d),f=Math.ceil(c*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(u,f);const{canvas:h,context:p}=this.annotationCanvas;this.annotationCanvasMap.set(t,h),this.annotationCanvas.savedCtx=this.ctx,this.ctx=p,this.ctx.save(),this.ctx.setTransform(cl[0],0,0,-cl[1],0,c*cl[1]),HN(this.ctx)}else{HN(this.ctx),this.endPath(e);const d=new Path2D;d.rect(i[0],i[1],o,c),this.ctx.clip(d)}}this.current=new NM(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...r),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),ye(this,I5,DP).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){var o;if(!this.contentVisible)return;const i=t.count;t=this.getObject(e,t.data,t),t.count=i;const r=this.ctx,s=this._createMaskCanvas(e,t),a=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(a,s.offsetX,s.offsetY),(o=this.dependencyTracker)==null||o.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+a.width,s.offsetY,s.offsetY+a.height).recordOperation(e),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,i,r=0,s=0,a,o){var f,h,p;if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const c=this.ctx;c.save();const d=tr(c);c.transform(i,r,s,a,0,0);const u=this._createMaskCanvas(e,t);c.setTransform(1,0,0,1,u.offsetX-d[4],u.offsetY-d[5]),(f=this.dependencyTracker)==null||f.resetBBox(e);for(let v=0,w=o.length;v<w;v+=2){const b=zt.transform(d,[i,r,s,a,o[v],o[v+1]]);c.drawImage(u.canvas,b[4],b[5]),(h=this.dependencyTracker)==null||h.recordBBox(e,this.ctx,b[4],b[4]+u.canvas.width,b[5],b[5]+u.canvas.height)}c.restore(),this.compose(),(p=this.dependencyTracker)==null||p.recordOperation(e)}paintImageMaskXObjectGroup(e,t){var a,o,c;if(!this.contentVisible)return;const i=this.ctx,r=this.current.fillColor,s=this.current.patternFill;(a=this.dependencyTracker)==null||a.resetBBox(e).recordDependencies(e,Pl.transformAndFill);for(const d of t){const{data:u,width:f,height:h,transform:p}=d,v=this.cachedCanvases.getCanvas("maskCanvas",f,h),w=v.context;w.save();const b=this.getObject(e,u,d);kM(w,b),w.globalCompositeOperation="source-in",w.fillStyle=s?r.getPattern(w,this,Td(i),Qs.FILL,e):r,w.fillRect(0,0,f,h),w.restore(),i.save(),i.transform(...p),i.scale(1,-1),qN(i,v.canvas,0,0,f,h,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,i,0,f,0,h),i.restore()}this.compose(),(c=this.dependencyTracker)==null||c.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const i=this.getObject(e,t);if(!i){dn("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,i)}paintImageXObjectRepeat(e,t,i,r,s){if(!this.contentVisible)return;const a=this.getObject(e,t);if(!a){dn("Dependent image isn't ready yet");return}const o=a.width,c=a.height,d=[];for(let u=0,f=s.length;u<f;u+=2)d.push({transform:[i,0,0,r,s[u],s[u+1]],x:0,y:0,w:o,h:c});this.paintInlineImageXObjectGroup(e,a,d)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:i,height:r}=e,s=this.cachedCanvases.getCanvas("inlineImage",i,r),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e,t){var d;if(!this.contentVisible)return;const i=t.width,r=t.height,s=this.ctx;this.save(e);const{filter:a}=s;a!=="none"&&a!==""&&(s.filter="none"),s.scale(1/i,-1/r);let o;if(t.bitmap)o=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)o=t;else{const f=this.cachedCanvases.getCanvas("inlineImage",i,r).context;AM(f,t),o=this.applyTransferMapsToCanvas(f)}const c=this._scaleImage(o,Td(s));s.imageSmoothingEnabled=EM(tr(s),t.interpolate),(d=this.dependencyTracker)==null||d.resetBBox(e).recordBBox(e,s,0,i,-r,0).recordDependencies(e,Pl.imageXObject).recordOperation(e),qN(s,c.img,0,0,c.paintWidth,c.paintHeight,0,-r,i,r),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,i){var a,o,c;if(!this.contentVisible)return;const r=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const d=t.width,u=t.height,h=this.cachedCanvases.getCanvas("inlineImage",d,u).context;AM(h,t),s=this.applyTransferMapsToCanvas(h)}(a=this.dependencyTracker)==null||a.resetBBox(e);for(const d of i)r.save(),r.transform(...d.transform),r.scale(1,-1),qN(r,s,d.x,d.y,d.w,d.h,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,r,0,1,-1,0),r.restore();(c=this.dependencyTracker)==null||c.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var t;this.contentVisible&&((t=this.dependencyTracker)==null||t.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,Pl.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,i){}beginMarkedContent(e,t){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,i){var r;(r=this.dependencyTracker)==null||r.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var t;(t=this.dependencyTracker)==null||t.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,i){var a,o;const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(i);const s=this.ctx;this.pendingClip?(r||(this.pendingClip===TM?s.clip(t,"evenodd"):s.clip(t)),this.pendingClip=null,(a=this.dependencyTracker)==null||a.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(o=this.dependencyTracker)==null||o.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=tr(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:i,c:r,d:s}=this.ctx.getTransform();let a,o;if(i===0&&r===0){const c=Math.abs(t),d=Math.abs(s);if(c===d)if(e===0)a=o=1/c;else{const u=c*e;a=o=u<1?1/u:1}else if(e===0)a=1/c,o=1/d;else{const u=c*e,f=d*e;a=u<1?1/u:1,o=f<1?1/f:1}}else{const c=Math.abs(t*s-i*r),d=Math.hypot(t,i),u=Math.hypot(r,s);if(e===0)a=u/c,o=d/c;else{const f=e*c;a=u>f?u/f:1,o=d>f?d/f:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:i,current:{lineWidth:r}}=this,[s,a]=this.getScaleForStroking();if(s===a){i.lineWidth=(r||1)*s,i.stroke(e);return}const o=i.getLineDash();t&&i.save(),i.scale(s,a),F6.a=1/s,F6.d=1/a;const c=new Path2D;if(c.addPath(e,F6),o.length>0){const d=Math.max(s,a);i.setLineDash(o.map(u=>u/d)),i.lineDashOffset/=d}i.lineWidth=r||1,i.stroke(c),t&&i.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};P5=new WeakSet,CP=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},I5=new WeakSet,DP=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},R5=new WeakSet,PP=function(e,t,i){const r=new Path2D;return r.addPath(e,new DOMMatrix(i).invertSelf().multiplySelf(t)),r};let py=yO;for(const n in vx)py.prototype[n]!==void 0&&(py.prototype[vx[n]]=py.prototype[n]);var L5,O5;class lu{static get workerPort(){return S(this,L5)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");se(this,L5,e)}static get workerSrc(){return S(this,O5)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");se(this,O5,e)}}L5=new WeakMap,O5=new WeakMap,ne(lu,L5,null),ne(lu,O5,"");var dv,F5;class P2e{constructor({parsedData:e,rawData:t}){ne(this,dv,void 0);ne(this,F5,void 0);se(this,dv,e),se(this,F5,t)}getRaw(){return S(this,F5)}get(e){return S(this,dv).get(e)??null}[Symbol.iterator](){return S(this,dv).entries()}}dv=new WeakMap,F5=new WeakMap;const T0=Symbol("INTERNAL");var U5,M5,B5,uv;class I2e{constructor(e,{name:t,intent:i,usage:r,rbGroups:s}){ne(this,U5,!1);ne(this,M5,!1);ne(this,B5,!1);ne(this,uv,!0);se(this,U5,!!(e&ol.DISPLAY)),se(this,M5,!!(e&ol.PRINT)),this.name=t,this.intent=i,this.usage=r,this.rbGroups=s}get visible(){if(S(this,B5))return S(this,uv);if(!S(this,uv))return!1;const{print:e,view:t}=this.usage;return S(this,U5)?(t==null?void 0:t.viewState)!=="OFF":S(this,M5)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,i=!1){e!==T0&&Ci("Internal method `_setVisible` called."),se(this,B5,i),se(this,uv,t)}}U5=new WeakMap,M5=new WeakMap,B5=new WeakMap,uv=new WeakMap;var cp,xi,hv,fv,z5,IP;class R2e{constructor(e,t=ol.DISPLAY){ne(this,z5);ne(this,cp,null);ne(this,xi,new Map);ne(this,hv,null);ne(this,fv,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,se(this,fv,e.order);for(const i of e.groups)S(this,xi).set(i.id,new I2e(t,i));if(e.baseState==="OFF")for(const i of S(this,xi).values())i._setVisible(T0,!1);for(const i of e.on)S(this,xi).get(i)._setVisible(T0,!0);for(const i of e.off)S(this,xi).get(i)._setVisible(T0,!1);se(this,hv,this.getHash())}}isVisible(e){if(S(this,xi).size===0)return!0;if(!e)return iC("Optional content group not defined."),!0;if(e.type==="OCG")return S(this,xi).has(e.id)?S(this,xi).get(e.id).visible:(dn(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return ye(this,z5,IP).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!S(this,xi).has(t))return dn(`Optional content group not found: ${t}`),!0;if(S(this,xi).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!S(this,xi).has(t))return dn(`Optional content group not found: ${t}`),!0;if(!S(this,xi).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!S(this,xi).has(t))return dn(`Optional content group not found: ${t}`),!0;if(!S(this,xi).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!S(this,xi).has(t))return dn(`Optional content group not found: ${t}`),!0;if(S(this,xi).get(t).visible)return!1}return!0}return dn(`Unknown optional content policy ${e.policy}.`),!0}return dn(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,i=!0){var s;const r=S(this,xi).get(e);if(!r){dn(`Optional content group not found: ${e}`);return}if(i&&t&&r.rbGroups.length)for(const a of r.rbGroups)for(const o of a)o!==e&&((s=S(this,xi).get(o))==null||s._setVisible(T0,!1,!0));r._setVisible(T0,!!t,!0),se(this,cp,null)}setOCGState({state:e,preserveRB:t}){let i;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const s=S(this,xi).get(r);if(s)switch(i){case"ON":this.setVisibility(r,!0,t);break;case"OFF":this.setVisibility(r,!1,t);break;case"Toggle":this.setVisibility(r,!s.visible,t);break}}se(this,cp,null)}get hasInitialVisibility(){return S(this,hv)===null||this.getHash()===S(this,hv)}getOrder(){return S(this,xi).size?S(this,fv)?S(this,fv).slice():[...S(this,xi).keys()]:null}getGroup(e){return S(this,xi).get(e)||null}getHash(){if(S(this,cp)!==null)return S(this,cp);const e=new zV;for(const[t,i]of S(this,xi))e.update(`${t}:${i.visible}`);return se(this,cp,e.hexdigest())}[Symbol.iterator](){return S(this,xi).entries()}}cp=new WeakMap,xi=new WeakMap,hv=new WeakMap,fv=new WeakMap,z5=new WeakSet,IP=function(e){const t=e.length;if(t<2)return!0;const i=e[0];for(let r=1;r<t;r++){const s=e[r];let a;if(Array.isArray(s))a=ye(this,z5,IP).call(this,s);else if(S(this,xi).has(s))a=S(this,xi).get(s).visible;else return dn(`Optional content group not found: ${s}`),!0;switch(i){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return i==="And"};class L2e{constructor(e,{disableRange:t=!1,disableStream:i=!1}){Rn(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:s,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(s==null?void 0:s.length)>0){const c=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((c,d)=>{this._onReceiveData({begin:c,chunk:d})}),e.addProgressListener((c,d)=>{this._onProgress({loaded:c,total:d})}),e.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const i=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const r=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(i),!0)});Rn(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,i,r,s;e.total===void 0?(i=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||i.call(t,{loaded:e.loaded}):(s=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||s.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Rn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new O2e(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new F2e(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeReaders.slice(0))i.cancel(e);this._pdfDataRangeTransport.abort()}}class O2e{constructor(e,t,i=!1,r=null){this._stream=e,this._done=i||!1,this._filename=XL(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class F2e{constructor(e,t,i){this._stream=e,this._begin=t,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function U2e(n){let e=!0,t=i("filename\\*","i").exec(n);if(t){t=t[1];let u=o(t);return u=unescape(u),u=c(u),u=d(u),s(u)}if(t=a(n),t){const u=d(t);return s(u)}if(t=i("filename","i").exec(n),t){t=t[1];let u=o(t);return u=d(u),s(u)}function i(u,f){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',f)}function r(u,f){if(u){if(!/^[\x00-\xFF]+$/.test(f))return f;try{const h=new TextDecoder(u,{fatal:!0}),p=RS(f);f=h.decode(p),e=!1}catch{}}return f}function s(u){return e&&/[\x80-\xff]/.test(u)&&(u=r("utf-8",u),e&&(u=r("iso-8859-1",u))),u}function a(u){const f=[];let h;const p=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(h=p.exec(u))!==null;){let[,w,b,m]=h;if(w=parseInt(w,10),w in f){if(w===0)break;continue}f[w]=[b,m]}const v=[];for(let w=0;w<f.length&&w in f;++w){let[b,m]=f[w];m=o(m),b&&(m=unescape(m),w===0&&(m=c(m))),v.push(m)}return v.join("")}function o(u){if(u.startsWith('"')){const f=u.slice(1).split('\\"');for(let h=0;h<f.length;++h){const p=f[h].indexOf('"');p!==-1&&(f[h]=f[h].slice(0,p),f.length=h+1),f[h]=f[h].replaceAll(/\\(.)/g,"$1")}u=f.join('"')}return u}function c(u){const f=u.indexOf("'");if(f===-1)return u;const h=u.slice(0,f),v=u.slice(f+1).replace(/^[^']*'/,"");return r(h,v)}function d(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(f,h,p,v){if(p==="q"||p==="Q")return v=v.replaceAll("_"," "),v=v.replaceAll(/=([0-9a-fA-F]{2})/g,function(w,b){return String.fromCharCode(parseInt(b,16))}),r(h,v);try{v=atob(v)}catch{}return r(h,v)})}return""}function ZV(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const i in e){const r=e[i];r!==void 0&&t.append(i,r)}return t}function sC(n){var e;return((e=URL.parse(n))==null?void 0:e.origin)??null}function QV({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*t)||i||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function eG(n){const e=n.get("Content-Disposition");if(e){let t=U2e(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(XL(t))return t}return null}function MS(n,e){return new C3(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function tG(n){return n===200||n===206}function nG(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function iG(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(dn(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class M2e{constructor(e){wt(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=ZV(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Rn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new B2e(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new z2e(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class B2e{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const i=new Headers(e.headers),r=t.url;fetch(r,nG(i,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=sC(s.url),!tG(s.status))throw MS(s.status,r);this._reader=s.body.getReader(),this._headersCapability.resolve();const a=s.headers,{allowRangeRequests:o,suggestedLength:c}=QV({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=c||this._contentLength,this._filename=eG(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new om("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:iG(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class z2e{constructor(e,t,i){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${i-1}`);const a=r.url;fetch(a,nG(s,this._withCredentials,this._abortController)).then(o=>{const c=sC(o.url);if(c!==e._responseOrigin)throw new Error(`Expected range response-origin "${c}" to match "${e._responseOrigin}".`);if(!tG(o.status))throw MS(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:iG(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const U6=200,M6=206;function j2e(n){const e=n.response;return typeof e!="string"?e:RS(e).buffer}class W2e{constructor({url:e,httpHeaders:t,withCredentials:i}){wt(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=ZV(this.isHttp,t),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,a]of this.headers)t.setRequestHeader(s,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=M6):r.expectedStatus=U6,t.responseType="arraybuffer",Rn(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,i),t.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),i}onProgress(e,t){var r;const i=this.pendingRequests[e];i&&((r=i.onProgress)==null||r.call(i,t))}onStateChange(e,t){const i=this.pendingRequests[e];if(!i)return;const r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){i.onError(r.status);return}const s=r.status||U6;if(!(s===U6&&i.expectedStatus===M6)&&s!==i.expectedStatus){i.onError(r.status);return}const o=j2e(r);if(s===M6){const c=r.getResponseHeader("Content-Range"),d=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);d?i.onDone({begin:parseInt(d[1],10),chunk:o}):(dn('Missing or invalid "Content-Range" header.'),i.onError(0))}else o?i.onDone({begin:0,chunk:o}):i.onError(r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class $2e{constructor(e){this._source=e,this._manager=new W2e(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Rn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new q2e(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const i=new H2e(this._manager,e,t);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class q2e{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=sC(t.responseURL);const i=t.getAllResponseHeaders(),r=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[c,...d]=o.split(": ");return[c,d.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:a}=QV({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=eG(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=MS(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class H2e{constructor(e,t,i){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=sC((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=MS(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const V2e=/^[a-z][a-z0-9\-+.]+:/i;function G2e(n){if(V2e.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class X2e{constructor(e){this.source=e,this.url=G2e(e.url),Rn(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Rn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new Y2e(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new K2e(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class Y2e{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=MS(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new om("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class K2e{constructor(e,t,i){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=e.source;this._isStreamingSupported=!r.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const O2=Symbol("INITIAL_DATA");var Vo,j5,RP;class rG{constructor(){ne(this,j5);ne(this,Vo,Object.create(null))}get(e,t=null){if(t){const r=ye(this,j5,RP).call(this,e);return r.promise.then(()=>t(r.data)),null}const i=S(this,Vo)[e];if(!i||i.data===O2)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){const t=S(this,Vo)[e];return!!t&&t.data!==O2}delete(e){const t=S(this,Vo)[e];return!t||t.data===O2?!1:(delete S(this,Vo)[e],!0)}resolve(e,t=null){const i=ye(this,j5,RP).call(this,e);i.data=t,i.resolve()}clear(){var e;for(const t in S(this,Vo)){const{data:i}=S(this,Vo)[t];(e=i==null?void 0:i.bitmap)==null||e.close()}se(this,Vo,Object.create(null))}*[Symbol.iterator](){for(const e in S(this,Vo)){const{data:t}=S(this,Vo)[e];t!==O2&&(yield[e,t])}}}Vo=new WeakMap,j5=new WeakSet,RP=function(e){var t;return(t=S(this,Vo))[e]||(t[e]={...Promise.withResolvers(),data:O2})};const J2e=1e5,CM=30;var dz,dp,Go,W5,$5,Ug,ph,q5,H5,Mg,V5,pv,up,mv,G5,gv,Bg,X5,Y5,yv,zg,K5,vv,bv,O4,sG,F4,aG,J5,LP,wv,JA,Z5,OP,U4,oG,M4,lG;const jr=class jr{constructor({textContentSource:e,container:t,viewport:i}){ne(this,O4);ne(this,F4);ne(this,J5);ne(this,dp,Promise.withResolvers());ne(this,Go,null);ne(this,W5,!1);ne(this,$5,!!((dz=globalThis.FontInspector)!=null&&dz.enabled));ne(this,Ug,null);ne(this,ph,null);ne(this,q5,0);ne(this,H5,0);ne(this,Mg,null);ne(this,V5,null);ne(this,pv,0);ne(this,up,0);ne(this,mv,Object.create(null));ne(this,G5,[]);ne(this,gv,null);ne(this,Bg,[]);ne(this,X5,new WeakMap);ne(this,Y5,null);var c;if(e instanceof ReadableStream)se(this,gv,e);else if(typeof e=="object")se(this,gv,new ReadableStream({start(d){d.enqueue(e),d.close()}}));else throw new Error('No "textContentSource" parameter specified.');se(this,Go,se(this,V5,t)),se(this,up,i.scale*xu.pixelRatio),se(this,pv,i.rotation),se(this,ph,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:s,pageX:a,pageY:o}=i.rawDims;se(this,Y5,[1,0,0,-1,-a,o+s]),se(this,H5,r),se(this,q5,s),ye(c=jr,U4,oG).call(c),t.style.setProperty("--min-font-size",S(jr,vv)),Y1(t,i),S(this,dp).promise.finally(()=>{S(jr,bv).delete(this),se(this,ph,null),se(this,mv,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=us.platform;return un(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{S(this,Mg).read().then(({value:t,done:i})=>{if(i){S(this,dp).resolve();return}S(this,Ug)??se(this,Ug,t.lang),Object.assign(S(this,mv),t.styles),ye(this,O4,sG).call(this,t.items),e()},S(this,dp).reject)};return se(this,Mg,S(this,gv).getReader()),S(jr,bv).add(this),e(),S(this,dp).promise}update({viewport:e,onBefore:t=null}){var s;const i=e.scale*xu.pixelRatio,r=e.rotation;if(r!==S(this,pv)&&(t==null||t(),se(this,pv,r),Y1(S(this,V5),{rotation:r})),i!==S(this,up)){t==null||t(),se(this,up,i);const a={div:null,properties:null,ctx:ye(s=jr,wv,JA).call(s,S(this,Ug))};for(const o of S(this,Bg))a.properties=S(this,X5).get(o),a.div=o,ye(this,J5,LP).call(this,a)}}cancel(){var t;const e=new om("TextLayer task cancelled.");(t=S(this,Mg))==null||t.cancel(e).catch(()=>{}),se(this,Mg,null),S(this,dp).reject(e)}get textDivs(){return S(this,Bg)}get textContentItemsStr(){return S(this,G5)}static cleanup(){if(!(S(this,bv).size>0)){S(this,yv).clear();for(const{canvas:e}of S(this,zg).values())e.remove();S(this,zg).clear()}}};dp=new WeakMap,Go=new WeakMap,W5=new WeakMap,$5=new WeakMap,Ug=new WeakMap,ph=new WeakMap,q5=new WeakMap,H5=new WeakMap,Mg=new WeakMap,V5=new WeakMap,pv=new WeakMap,up=new WeakMap,mv=new WeakMap,G5=new WeakMap,gv=new WeakMap,Bg=new WeakMap,X5=new WeakMap,Y5=new WeakMap,yv=new WeakMap,zg=new WeakMap,K5=new WeakMap,vv=new WeakMap,bv=new WeakMap,O4=new WeakSet,sG=function(e){var r,s;if(S(this,W5))return;(s=S(this,ph)).ctx??(s.ctx=ye(r=jr,wv,JA).call(r,S(this,Ug)));const t=S(this,Bg),i=S(this,G5);for(const a of e){if(t.length>J2e){dn("Ignoring additional textDivs for performance reasons."),se(this,W5,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=S(this,Go);se(this,Go,document.createElement("span")),S(this,Go).classList.add("markedContent"),a.id&&S(this,Go).setAttribute("id",`${a.id}`),o.append(S(this,Go))}else a.type==="endMarkedContent"&&se(this,Go,S(this,Go).parentNode);continue}i.push(a.str),ye(this,F4,aG).call(this,a)}},F4=new WeakSet,aG=function(e){var v;const t=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};S(this,Bg).push(t);const r=zt.transform(S(this,Y5),e.transform);let s=Math.atan2(r[1],r[0]);const a=S(this,mv)[e.fontName];a.vertical&&(s+=Math.PI/2);let o=S(this,$5)&&a.fontSubstitution||a.fontFamily;o=jr.fontFamilyMap.get(o)||o;const c=Math.hypot(r[2],r[3]),d=c*ye(v=jr,M4,lG).call(v,o,a,S(this,Ug));let u,f;s===0?(u=r[4],f=r[5]-d):(u=r[4]+d*Math.sin(s),f=r[5]-d*Math.cos(s));const h=t.style;h.left=`${(100*u/S(this,H5)).toFixed(2)}%`,h.top=`${(100*f/S(this,q5)).toFixed(2)}%`,h.setProperty("--font-height",`${c.toFixed(2)}px`),h.fontFamily=o,i.fontSize=c,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,S(this,$5)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(i.angle=s*(180/Math.PI));let p=!1;if(e.str.length>1)p=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const w=Math.abs(e.transform[0]),b=Math.abs(e.transform[3]);w!==b&&Math.max(w,b)/Math.min(w,b)>1.5&&(p=!0)}if(p&&(i.canvasWidth=a.vertical?e.height:e.width),S(this,X5).set(t,i),S(this,ph).div=t,S(this,ph).properties=i,ye(this,J5,LP).call(this,S(this,ph)),i.hasText&&S(this,Go).append(t),i.hasEOL){const w=document.createElement("br");w.setAttribute("role","presentation"),S(this,Go).append(w)}},J5=new WeakSet,LP=function(e){var a;const{div:t,properties:i,ctx:r}=e,{style:s}=t;if(i.canvasWidth!==0&&i.hasText){const{fontFamily:o}=s,{canvasWidth:c,fontSize:d}=i;ye(a=jr,Z5,OP).call(a,r,d*S(this,up),o);const{width:u}=r.measureText(t.textContent);u>0&&s.setProperty("--scale-x",c*S(this,up)/u)}i.angle!==0&&s.setProperty("--rotate",`${i.angle}deg`)},wv=new WeakSet,JA=function(e=null){let t=S(this,zg).get(e||(e=""));if(!t){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=e,document.body.append(i),t=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),S(this,zg).set(e,t),S(this,K5).set(t,{size:0,family:""})}return t},Z5=new WeakSet,OP=function(e,t,i){const r=S(this,K5).get(e);t===r.size&&i===r.family||(e.font=`${t}px ${i}`,r.size=t,r.family=i)},U4=new WeakSet,oG=function(){if(S(this,vv)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),se(this,vv,e.getBoundingClientRect().height),e.remove()},M4=new WeakSet,lG=function(e,t,i){const r=S(this,yv).get(e);if(r)return r;const s=ye(this,wv,JA).call(this,i);s.canvas.width=s.canvas.height=CM,ye(this,Z5,OP).call(this,s,CM,e);const a=s.measureText(""),o=a.fontBoundingBoxAscent,c=Math.abs(a.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let d=.8;return o?d=o/(o+c):(us.platform.isFirefox&&dn("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?d=t.ascent:t.descent&&(d=1+t.descent)),S(this,yv).set(e,d),d},ne(jr,wv),ne(jr,Z5),ne(jr,U4),ne(jr,M4),ne(jr,yv,new Map),ne(jr,zg,new Map),ne(jr,K5,new WeakMap),ne(jr,vv,null),ne(jr,bv,new Set);let wx=jr;const Z2e=100;function cG(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new FP,{docId:t}=e,i=n.url?s2e(n.url):null,r=n.data?a2e(n.data):null,s=n.httpHeaders||null,a=n.withCredentials===!0,o=n.password??null,c=n.range instanceof dG?n.range:null,d=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let u=n.worker instanceof xx?n.worker:null;const f=n.verbosity,h=typeof n.docBaseUrl=="string"&&!rC(n.docBaseUrl)?n.docBaseUrl:null,p=zN(n.cMapUrl),v=n.cMapPacked!==!1,w=n.CMapReaderFactory||(Ma?p2e:mM),b=zN(n.iccUrl),m=zN(n.standardFontDataUrl),y=n.StandardFontDataFactory||(Ma?m2e:gM),_=zN(n.wasmUrl),x=n.WasmFactory||(Ma?g2e:yM),N=n.stopAtErrors!==!0,k=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,T=n.isEvalSupported!==!1,C=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Ma,P=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!Ma&&(us.platform.isFirefox||!globalThis.chrome),D=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,E=typeof n.disableFontFace=="boolean"?n.disableFontFace:Ma,A=n.fontExtraProperties===!0,I=n.enableXfa===!0,R=n.ownerDocument||globalThis.document,M=n.disableRange===!0,Y=n.disableStream===!0,q=n.disableAutoFetch===!0,G=n.pdfBug===!0,B=n.CanvasFactory||(Ma?f2e:d2e),J=n.FilterFactory||(Ma?h2e:u2e),W=n.enableHWA===!0,L=n.useWasm!==!1,z=c?c.length:n.length??NaN,X=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Ma&&!E,Q=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(w===mM&&y===gM&&x===yM&&p&&m&&_&&Z2(p,document.baseURI)&&Z2(m,document.baseURI)&&Z2(_,document.baseURI)),V=null;Ibe(f);const Z={canvasFactory:new B({ownerDocument:R,enableHWA:W}),filterFactory:new J({docId:t,ownerDocument:R}),cMapReaderFactory:Q?null:new w({baseUrl:p,isCompressed:v}),standardFontDataFactory:Q?null:new y({baseUrl:m}),wasmFactory:Q?null:new x({baseUrl:_})};u||(u=xx.create({verbosity:f,port:lu.workerPort}),e._worker=u);const _e={docId:t,apiVersion:"5.4.530",data:r,password:o,disableAutoFetch:q,rangeChunkSize:d,length:z,docBaseUrl:h,enableXfa:I,evaluatorOptions:{maxImageSize:k,disableFontFace:E,ignoreErrors:N,isEvalSupported:T,isOffscreenCanvasSupported:C,isImageDecoderSupported:P,canvasMaxAreaInBytes:D,fontExtraProperties:A,useSystemFonts:X,useWasm:L,useWorkerFetch:Q,cMapUrl:p,iccUrl:b,standardFontDataUrl:m,wasmUrl:_}},le={ownerDocument:R,pdfBug:G,styleElement:V,loadingParams:{disableAutoFetch:q,enableXfa:I}};return u.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const ce=u.messageHandler.sendWithPromise("GetDocRequest",_e,r?[r.buffer]:null);let Fe;if(c)Fe=new L2e(c,{disableRange:M,disableStream:Y});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");const Ae=Z2(i)?M2e:Ma?X2e:$2e;Fe=new Ae({url:i,length:z,httpHeaders:s,withCredentials:a,rangeChunkSize:d,disableRange:M,disableStream:Y})}return ce.then(Ae=>{if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");const Re=new aw(t,Ae,u.port),Ve=new twe(Re,e,Fe,le,Z,W);e._transport=Ve,Re.send("Ready",null)})}).catch(e._capability.reject),e}var B4;const z4=class z4{constructor(){wt(this,"_capability",Promise.withResolvers());wt(this,"_transport",null);wt(this,"_worker",null);wt(this,"docId",`d${is(z4,B4)._++}`);wt(this,"destroyed",!1);wt(this,"onPassword",null);wt(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,i,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,s}this._transport=null,(r=this._worker)==null||r.destroy(),this._worker=null}async getData(){return this._transport.getData()}};B4=new WeakMap,ne(z4,B4,0);let FP=z4;var jg,Q5,e_,t_,n_;class dG{constructor(e,t,i=!1,r=null){ne(this,jg,Promise.withResolvers());ne(this,Q5,[]);ne(this,e_,[]);ne(this,t_,[]);ne(this,n_,[]);this.length=e,this.initialData=t,this.progressiveDone=i,this.contentDispositionFilename=r}addRangeListener(e){S(this,n_).push(e)}addProgressListener(e){S(this,t_).push(e)}addProgressiveReadListener(e){S(this,e_).push(e)}addProgressiveDoneListener(e){S(this,Q5).push(e)}onDataRange(e,t){for(const i of S(this,n_))i(e,t)}onDataProgress(e,t){S(this,jg).promise.then(()=>{for(const i of S(this,t_))i(e,t)})}onDataProgressiveRead(e){S(this,jg).promise.then(()=>{for(const t of S(this,e_))t(e)})}onDataProgressiveDone(){S(this,jg).promise.then(()=>{for(const e of S(this,Q5))e()})}transportReady(){S(this,jg).resolve()}requestDataRange(e,t){Ci("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}jg=new WeakMap,Q5=new WeakMap,e_=new WeakMap,t_=new WeakMap,n_=new WeakMap;class Q2e{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return un(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(e){return this._transport.extractPages(e)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var mh,Wg,uw;class ewe{constructor(e,t,i,r=!1){ne(this,Wg);ne(this,mh,!1);this._pageIndex=e,this._pageInfo=t,this._transport=i,this._stats=r?new lM:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new rG,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:s=!1}={}){return new OS({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return un(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:t=e.canvas,viewport:i,intent:r="display",annotationMode:s=Uf.ENABLE,transform:a=null,background:o=null,optionalContentConfigPromise:c=null,annotationCanvasMap:d=null,pageColors:u=null,printAnnotationStorage:f=null,isEditing:h=!1,recordOperations:p=!1,operationsFilter:v=null}){var P,D,E;(P=this._stats)==null||P.time("Overall");const w=this._transport.getRenderingIntent(r,s,f,h),{renderingIntent:b,cacheKey:m}=w;se(this,mh,!1),c||(c=this._transport.getOptionalContentConfig(b));let y=this._intentStates.get(m);y||(y=Object.create(null),this._intentStates.set(m,y)),y.streamReaderCancelTimeout&&(clearTimeout(y.streamReaderCancelTimeout),y.streamReaderCancelTimeout=null);const _=!!(b&ol.PRINT);y.displayReadyCapability||(y.displayReadyCapability=Promise.withResolvers(),y.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(D=this._stats)==null||D.time("Page Request"),this._pumpOperatorList(w));const x=!!(this._pdfBug&&((E=globalThis.StepperManager)!=null&&E.enabled)),N=!this.recordedBBoxes&&(p||x),k=A=>{var I,R;if(y.renderTasks.delete(T),N){const M=(I=T.gfx)==null?void 0:I.dependencyTracker.take();M&&(T.stepper&&T.stepper.setOperatorBBoxes(M,T.gfx.dependencyTracker.takeDebugMetadata()),p&&(this.recordedBBoxes=M))}_&&se(this,mh,!0),ye(this,Wg,uw).call(this),A?(T.capability.reject(A),this._abortOperatorList({intentState:y,reason:A instanceof Error?A:new Error(A)})):T.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(R=globalThis.Stats)!=null&&R.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},T=new UP({callback:k,params:{canvas:t,canvasContext:e,dependencyTracker:N?new v2e(t,y.operatorList.length,x):null,viewport:i,transform:a,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:y.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!_,pdfBug:this._pdfBug,pageColors:u,enableHWA:this._transport.enableHWA,operationsFilter:v});(y.renderTasks||(y.renderTasks=new Set)).add(T);const C=T.task;return Promise.all([y.displayReadyCapability.promise,c]).then(([A,I])=>{var R;if(this.destroyed){k();return}if((R=this._stats)==null||R.time("Rendering"),!(I.renderingIntent&b))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");T.initializeGraphics({transparency:A,optionalContentConfig:I}),T.operatorListChanged()}).catch(k),C}getOperatorList({intent:e="display",annotationMode:t=Uf.ENABLE,printAnnotationStorage:i=null,isEditing:r=!1}={}){var d;function s(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(c))}const a=this._transport.getRenderingIntent(e,t,i,r,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let c;return o.opListReadCapability||(c=Object.create(null),c.operatorListChanged=s,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(c),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(d=this._stats)==null||d.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>bx.textContent(i));const t=this.streamTextContent(e);return new Promise(function(i,r){function s(){a.read().then(function({value:c,done:d}){if(d){i(o);return}o.lang??(o.lang=c.lang),Object.assign(o.styles,c.styles),o.items.push(...c.items),s()},r)}const a=t.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const i of t.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),se(this,mh,!1),Promise.all(e)}cleanup(e=!1){se(this,mh,!0);const t=ye(this,Wg,uw).call(this);return e&&t&&this._stats&&(this._stats=new lM),t}_startRenderPage(e,t){var r,s;const i=this._intentStates.get(t);i&&((r=this._stats)==null||r.timeEnd("Page Request"),(s=i.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let i=0,r=e.length;i<r;i++)t.operatorList.fnArray.push(e.fnArray[i]),t.operatorList.argsArray.push(e.argsArray[i]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const i of t.renderTasks)i.operatorListChanged();e.lastChunk&&ye(this,Wg,uw).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:i,modifiedIds:r}){const{map:s,transfer:a}=i,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:r},a).getReader(),d=this._intentStates.get(t);d.streamReader=c;const u=()=>{c.read().then(({value:f,done:h})=>{if(h){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(f,d),u())},f=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const h of d.renderTasks)h.operatorListChanged();ye(this,Wg,uw).call(this)}if(d.displayReadyCapability)d.displayReadyCapability.reject(f);else if(d.opListReadCapability)d.opListReadCapability.reject(f);else throw f}})};u()}_abortOperatorList({intentState:e,reason:t,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(t instanceof GL){let r=Z2e;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new om(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,s]of this._intentStates)if(s===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}mh=new WeakMap,Wg=new WeakSet,uw=function(){if(!S(this,mh)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),se(this,mh,!1),!0};var hp,Oc,gh,$g,j4,qg,Hg,xv,ZA,W4,uG,$4,hG,Vg,hw,_v,QA;const Xi=class Xi{constructor({name:e=null,port:t=null,verbosity:i=Rbe()}={}){ne(this,xv);ne(this,W4);ne(this,$4);ne(this,Vg);ne(this,hp,Promise.withResolvers());ne(this,Oc,null);ne(this,gh,null);ne(this,$g,null);if(this.name=e,this.destroyed=!1,this.verbosity=i,t){if(S(Xi,Hg).has(t))throw new Error("Cannot use more than one PDFWorker per port.");S(Xi,Hg).set(t,this),ye(this,W4,uG).call(this,t)}else ye(this,$4,hG).call(this)}get promise(){return S(this,hp).promise}get port(){return S(this,gh)}get messageHandler(){return S(this,Oc)}destroy(){var e,t;this.destroyed=!0,(e=S(this,$g))==null||e.terminate(),se(this,$g,null),S(Xi,Hg).delete(S(this,gh)),se(this,gh,null),(t=S(this,Oc))==null||t.destroy(),se(this,Oc,null)}static create(e){const t=S(this,Hg).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Xi(e)}static get workerSrc(){if(lu.workerSrc)return lu.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return un(this,"_setupFakeWorkerGlobal",(async()=>S(this,_v,QA)?S(this,_v,QA):(await BA(()=>import(this.workerSrc),[])).WorkerMessageHandler)())}};hp=new WeakMap,Oc=new WeakMap,gh=new WeakMap,$g=new WeakMap,j4=new WeakMap,qg=new WeakMap,Hg=new WeakMap,xv=new WeakSet,ZA=function(){S(this,hp).resolve(),S(this,Oc).send("configure",{verbosity:this.verbosity})},W4=new WeakSet,uG=function(e){se(this,gh,e),se(this,Oc,new aw("main","worker",e)),S(this,Oc).on("ready",()=>{}),ye(this,xv,ZA).call(this)},$4=new WeakSet,hG=function(){if(S(Xi,qg)||S(Xi,_v,QA)){ye(this,Vg,hw).call(this);return}let{workerSrc:e}=Xi;try{Xi._isSameOrigin(window.location,e)||(e=Xi._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),i=new aw("main","worker",t),r=()=>{s.abort(),i.destroy(),t.terminate(),this.destroyed?S(this,hp).reject(new Error("Worker was destroyed")):ye(this,Vg,hw).call(this)},s=new AbortController;t.addEventListener("error",()=>{S(this,$g)||r()},{signal:s.signal}),i.on("test",o=>{if(s.abort(),this.destroyed||!o){r();return}se(this,Oc,i),se(this,gh,t),se(this,$g,t),ye(this,xv,ZA).call(this)}),i.on("ready",o=>{if(s.abort(),this.destroyed){r();return}try{a()}catch{ye(this,Vg,hw).call(this)}});const a=()=>{const o=new Uint8Array;i.send("test",o,[o.buffer])};a();return}catch{iC("The worker has been disabled.")}ye(this,Vg,hw).call(this)},Vg=new WeakSet,hw=function(){S(Xi,qg)||(dn("Setting up fake worker."),se(Xi,qg,!0)),Xi._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){S(this,hp).reject(new Error("Worker was destroyed"));return}const t=new c2e;se(this,gh,t);const i=`fake${is(Xi,j4)._++}`,r=new aw(i+"_worker",i,t);e.setup(r,t),se(this,Oc,new aw(i,i+"_worker",t)),ye(this,xv,ZA).call(this)}).catch(e=>{S(this,hp).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},_v=new WeakSet,QA=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},ne(Xi,_v),ne(Xi,j4,0),ne(Xi,qg,!1),ne(Xi,Hg,new WeakMap),Ma&&(se(Xi,qg,!0),lu.workerSrc||(lu.workerSrc="./pdf.worker.mjs")),Xi._isSameOrigin=(e,t)=>{const i=URL.parse(e);if(!(i!=null&&i.origin)||i.origin==="null")return!1;const r=new URL(t,i);return i.origin===r.origin},Xi._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},Xi.fromPort=e=>{if(Hbe("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Xi.create(e)};let xx=Xi;var yh,Gd,Sv,Nv,vh,Gg,fw;class twe{constructor(e,t,i,r,s,a){ne(this,Gg);ne(this,yh,new Map);ne(this,Gd,new Map);ne(this,Sv,new Map);ne(this,Nv,new Map);ne(this,vh,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new rG,this.fontLoader=new n2e({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=a,this.setupMessageHandler()}get annotationStorage(){return un(this,"annotationStorage",new YL)}getRenderingIntent(e,t=Uf.ENABLE,i=null,r=!1,s=!1){let a=ol.DISPLAY,o=bP;switch(e){case"any":a=ol.ANY;break;case"display":break;case"print":a=ol.PRINT;break;default:dn(`getRenderingIntent - invalid intent: ${e}`)}const c=a&ol.PRINT&&i instanceof WV?i:this.annotationStorage;switch(t){case Uf.DISABLE:a+=ol.ANNOTATIONS_DISABLE;break;case Uf.ENABLE:break;case Uf.ENABLE_FORMS:a+=ol.ANNOTATIONS_FORMS;break;case Uf.ENABLE_STORAGE:a+=ol.ANNOTATIONS_STORAGE,o=c.serializable;break;default:dn(`getRenderingIntent - invalid annotationMode: ${t}`)}r&&(a+=ol.IS_EDITING),s&&(a+=ol.OPLIST);const{ids:d,hash:u}=c.modifiedIds,f=[a,o.hash,u];return{renderingIntent:a,cacheKey:f.join("_"),annotationStorageSerializable:o,modifiedIds:d}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=S(this,vh))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of S(this,Gd).values())e.push(r._destroy());S(this,Gd).clear(),S(this,Sv).clear(),S(this,Nv).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var r,s;this.commonObjs.clear(),this.fontLoader.clear(),S(this,yh).clear(),this.filterFactory.destroy(),wx.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new om("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(i,r)=>{Rn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){r.close();return}Rn(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async i=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:s,contentLength:a}=this._fullReader;return(!r||!s)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),this._fullReader.onProgress=c=>{var d;(d=t.onProgress)==null||d.call(t,{loaded:c.loaded,total:c.total})}),{isStreamingSupported:r,isRangeSupported:s,contentLength:a}}),e.on("GetRangeReader",(i,r)=>{Rn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(i.begin,i.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){r.close();return}Rn(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{r.error(a)})},r.onCancel=a=>{s.cancel(a),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,t._capability.resolve(new Q2e(i,this))}),e.on("DocException",i=>{t._capability.reject(to(i))}),e.on("PasswordRequest",i=>{se(this,vh,Promise.withResolvers());try{if(!t.onPassword)throw to(i);const r=s=>{s instanceof Error?S(this,vh).reject(s):S(this,vh).resolve({password:s})};t.onPassword(r,i.code)}catch(r){S(this,vh).reject(r)}return S(this,vh).promise}),e.on("DataLoaded",i=>{var r;(r=t.onProgress)==null||r.call(t,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{if(this.destroyed)return;S(this,Gd).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,r,s])=>{var a;if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":if("error"in s){const h=s.error;dn(`Error during font loading: ${h}`),this.commonObjs.resolve(i,h);break}const o=new wP(s),c=this._params.pdfBug&&((a=globalThis.FontInspector)!=null&&a.enabled)?(h,p)=>globalThis.FontInspector.fontAdded(h,p):null,d=new i2e(o,c,s.extra,s.charProcOperatorList);this.fontLoader.bind(d).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!d.fontExtraProperties&&d.data&&d.clearData(),this.commonObjs.resolve(i,d)});break;case"CopyLocalImage":const{imageRef:u}=s;Rn(u,"The imageRef must be defined.");for(const h of S(this,Gd).values())for(const[,p]of h.objs)if((p==null?void 0:p.ref)===u)return p.dataLen?(this.commonObjs.resolve(i,structuredClone(p)),p.dataLen):null;break;case"FontPath":this.commonObjs.resolve(i,new r2e(s));break;case"Image":this.commonObjs.resolve(i,s);break;case"Pattern":const f=new xP(s);this.commonObjs.resolve(i,f.getIR());break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([i,r,s,a])=>{var c;if(this.destroyed)return;const o=S(this,Gd).get(r);if(!o.objs.has(i)){if(o._intentStates.size===0){(c=a==null?void 0:a.bitmap)==null||c.close();return}switch(s){case"Image":case"Pattern":o.objs.resolve(i,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",i=>{var r;this.destroyed||(r=t.onProgress)==null||r.call(t,{loaded:i.loaded,total:i.total})}),e.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[i.type];if(!r)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&dn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((i=this._fullReader)==null?void 0:i.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}extractPages(e){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:e})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,i=S(this,Sv).get(t);if(i)return i;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&S(this,Nv).set(s.refStr,e);const a=new ewe(t,s,this,this._params.pdfBug);return S(this,Gd).set(t,a),a});return S(this,Sv).set(t,r),r}getPageIndex(e){return _P(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return ye(this,Gg,fw).call(this,"GetFieldObjects")}hasJSActions(){return ye(this,Gg,fw).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return ye(this,Gg,fw).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return ye(this,Gg,fw).call(this,"GetOptionalContentConfig").then(t=>new R2e(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=S(this,yh).get(e);if(t)return t;const i=this.messageHandler.sendWithPromise(e,null).then(r=>{var s,a;return{info:r[0],metadata:r[1]?new P2e(r[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null,hasStructTree:r[2]}});return S(this,yh).set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of S(this,Gd).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),S(this,yh).clear(),this.filterFactory.destroy(!0),wx.cleanup()}}cachedPageNumber(e){if(!_P(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return S(this,Nv).get(t)??null}}yh=new WeakMap,Gd=new WeakMap,Sv=new WeakMap,Nv=new WeakMap,vh=new WeakMap,Gg=new WeakSet,fw=function(e,t=null){const i=S(this,yh).get(e);if(i)return i;const r=this.messageHandler.sendWithPromise(e,t);return S(this,yh).set(e,r),r};var fp;class nwe{constructor(e){ne(this,fp,null);wt(this,"onContinue",null);wt(this,"onError",null);se(this,fp,e)}get promise(){return S(this,fp).capability.promise}cancel(e=0){S(this,fp).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=S(this,fp).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=S(this,fp);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}fp=new WeakMap;var pp,Xg;const Um=class Um{constructor({callback:e,params:t,objs:i,commonObjs:r,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:c,filterFactory:d,useRequestAnimationFrame:u=!1,pdfBug:f=!1,pageColors:h=null,enableHWA:p=!1,operationsFilter:v=null}){ne(this,pp,null);this.callback=e,this.params=t,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=c,this.filterFactory=d,this._pdfBug=f,this.pageColors=h,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new nwe(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=p,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=v}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var c,d;if(this.cancelled)return;if(this._canvas){if(S(Um,Xg).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");S(Um,Xg).add(this._canvas)}this._pdfBug&&((c=globalThis.StepperManager)!=null&&c.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:i,transform:r,background:s,dependencyTracker:a}=this.params,o=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new py(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,a),this.gfx.beginDrawing({transform:r,viewport:i,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(d=this.graphicsReadyCallback)==null||d.call(this)}cancel(e=null,t=0){var i,r,s;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),S(this,pp)&&(window.cancelAnimationFrame(S(this,pp)),se(this,pp,null)),S(Um,Xg).delete(this._canvas),e||(e=new GL(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(s=(r=this.task).onError)==null||s.call(r,e)}operatorListChanged(){var e,t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?se(this,pp,window.requestAnimationFrame(()=>{se(this,pp,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),S(Um,Xg).delete(this._canvas),this.callback())))}};pp=new WeakMap,Xg=new WeakMap,ne(Um,Xg,new WeakSet);let UP=Um;const fG="5.4.530",iwe="50cc4adac";var Xo,Yg,Av,os,i_,kv,bh,r_,mp,Fc,s_,a_,MP,o_,BP,l_,zP,wh,Dm,q4,pG,Xd,Tf;const no=class no{constructor({editor:e=null,uiManager:t=null}){ne(this,a_);ne(this,o_);ne(this,l_);ne(this,wh);ne(this,q4);ne(this,Xd);ne(this,Xo,null);ne(this,Yg,null);ne(this,Av,void 0);ne(this,os,null);ne(this,i_,!1);ne(this,kv,!1);ne(this,bh,null);ne(this,r_,void 0);ne(this,mp,null);ne(this,Fc,null);var i,r;e?(se(this,kv,!1),se(this,bh,e)):se(this,kv,!0),se(this,Fc,(e==null?void 0:e._uiManager)||t),se(this,r_,S(this,Fc)._eventBus),se(this,Av,((i=e==null?void 0:e.color)==null?void 0:i.toUpperCase())||((r=S(this,Fc))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),S(no,s_)||se(no,s_,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return un(this,"_keyboardManager",new US([[["Escape","mac+Escape"],no.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],no.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],no.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],no.prototype._moveToPrevious],[["Home","mac+Home"],no.prototype._moveToBeginning],[["End","mac+End"],no.prototype._moveToEnd]]))}renderButton(){const e=se(this,Xo,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",S(this,bh)&&(e.ariaControls=`${S(this,bh).id}_colorpicker_dropdown`);const t=S(this,Fc)._signal;e.addEventListener("click",ye(this,wh,Dm).bind(this),{signal:t}),e.addEventListener("keydown",ye(this,l_,zP).bind(this),{signal:t});const i=se(this,Yg,document.createElement("span"));return i.className="swatch",i.ariaHidden="true",i.style.backgroundColor=S(this,Av),e.append(i),e}renderMainDropdown(){const e=se(this,os,ye(this,a_,MP).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===S(this,Xo)){ye(this,wh,Dm).call(this,e);return}const t=e.target.getAttribute("data-color");t&&ye(this,o_,BP).call(this,t,e)}_moveToNext(e){var t,i;if(!S(this,Xd,Tf)){ye(this,wh,Dm).call(this,e);return}if(e.target===S(this,Xo)){(t=S(this,os).firstElementChild)==null||t.focus();return}(i=e.target.nextSibling)==null||i.focus()}_moveToPrevious(e){var t,i;if(e.target===((t=S(this,os))==null?void 0:t.firstElementChild)||e.target===S(this,Xo)){S(this,Xd,Tf)&&this._hideDropdownFromKeyboard();return}S(this,Xd,Tf)||ye(this,wh,Dm).call(this,e),(i=e.target.previousSibling)==null||i.focus()}_moveToBeginning(e){var t;if(!S(this,Xd,Tf)){ye(this,wh,Dm).call(this,e);return}(t=S(this,os).firstElementChild)==null||t.focus()}_moveToEnd(e){var t;if(!S(this,Xd,Tf)){ye(this,wh,Dm).call(this,e);return}(t=S(this,os).lastElementChild)==null||t.focus()}hideDropdown(){var e,t;(e=S(this,os))==null||e.classList.add("hidden"),S(this,Xo).ariaExpanded="false",(t=S(this,mp))==null||t.abort(),se(this,mp,null)}_hideDropdownFromKeyboard(){var e;if(!S(this,kv)){if(!S(this,Xd,Tf)){(e=S(this,bh))==null||e.unselect();return}this.hideDropdown(),S(this,Xo).focus({preventScroll:!0,focusVisible:S(this,i_)})}}updateColor(e){if(S(this,Yg)&&(S(this,Yg).style.backgroundColor=e),!S(this,os))return;const t=S(this,Fc).highlightColors.values();for(const i of S(this,os).children)i.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=S(this,Xo))==null||e.remove(),se(this,Xo,null),se(this,Yg,null),(t=S(this,os))==null||t.remove(),se(this,os,null)}};Xo=new WeakMap,Yg=new WeakMap,Av=new WeakMap,os=new WeakMap,i_=new WeakMap,kv=new WeakMap,bh=new WeakMap,r_=new WeakMap,mp=new WeakMap,Fc=new WeakMap,s_=new WeakMap,a_=new WeakSet,MP=function(){const e=document.createElement("div"),t=S(this,Fc)._signal;e.addEventListener("contextmenu",ic,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),S(this,bh)&&(e.id=`${S(this,bh).id}_colorpicker_dropdown`);for(const[i,r]of S(this,Fc).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",r),s.title=i,s.setAttribute("data-l10n-id",S(no,s_)[i]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=r,s.ariaSelected=r===S(this,Av),s.addEventListener("click",ye(this,o_,BP).bind(this,r),{signal:t}),e.append(s)}return e.addEventListener("keydown",ye(this,l_,zP).bind(this),{signal:t}),e},o_=new WeakSet,BP=function(e,t){t.stopPropagation(),S(this,r_).dispatch("switchannotationeditorparams",{source:this,type:In.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},l_=new WeakSet,zP=function(e){no._keyboardManager.exec(this,e)},wh=new WeakSet,Dm=function(e){if(S(this,Xd,Tf)){this.hideDropdown();return}if(se(this,i_,e.detail===0),S(this,mp)||(se(this,mp,new AbortController),window.addEventListener("pointerdown",ye(this,q4,pG).bind(this),{signal:S(this,Fc).combinedSignal(S(this,mp))})),S(this,Xo).ariaExpanded="true",S(this,os)){S(this,os).classList.remove("hidden");return}const t=se(this,os,ye(this,a_,MP).call(this));S(this,Xo).append(t)},q4=new WeakSet,pG=function(e){var t;(t=S(this,os))!=null&&t.contains(e.target)||this.hideDropdown()},Xd=new WeakSet,Tf=function(){return S(this,os)&&!S(this,os).classList.contains("hidden")},ne(no,s_,null);let F3=no;var Yd,c_,Ev,d_;const Mm=class Mm{constructor(e){ne(this,Yd,null);ne(this,c_,null);ne(this,Ev,null);se(this,c_,e),se(this,Ev,e._uiManager),S(Mm,d_)||se(Mm,d_,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(S(this,Yd))return S(this,Yd);const{editorType:e,colorType:t,color:i}=S(this,c_),r=se(this,Yd,document.createElement("input"));return r.type="color",r.value=i||"#000000",r.className="basicColorPicker",r.tabIndex=0,r.setAttribute("data-l10n-id",S(Mm,d_)[e]),r.addEventListener("input",()=>{S(this,Ev).updateParams(t,r.value)},{signal:S(this,Ev)._signal}),r}update(e){S(this,Yd)&&(S(this,Yd).value=e)}destroy(){var e;(e=S(this,Yd))==null||e.remove(),se(this,Yd,null)}hideDropdown(){}};Yd=new WeakMap,c_=new WeakMap,Ev=new WeakMap,d_=new WeakMap,ne(Mm,d_,null);let U3=Mm;function DM(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function F2(n){return Math.max(0,Math.min(255,255*n))}class PM{static CMYK_G([e,t,i,r]){return["G",1-Math.min(1,.3*e+.59*i+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=F2(e),[e,e,e]}static G_HTML([e]){const t=DM(e);return`#${t}${t}${t}`}static RGB_G([e,t,i]){return["G",.3*e+.59*t+.11*i]}static RGB_rgb(e){return e.map(F2)}static RGB_HTML(e){return`#${e.map(DM).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,i,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,i+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,i,r]){return[F2(1-Math.min(1,e+r)),F2(1-Math.min(1,i+r)),F2(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,i]){const r=1-e,s=1-t,a=1-i,o=Math.min(r,s,a);return["CMYK",r,s,a,o]}}class rwe{create(e,t,i=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Ci("Abstract method `_createSVG` called.")}}class M3 extends rwe{_createSVG(e){return document.createElementNS(Wu,e)}}const swe=9,J1=new WeakSet,awe=new Date().getTimezoneOffset()*60*1e3;class B6{static create(e){switch(e.data.annotationType){case zr.LINK:return new ZL(e);case zr.TEXT:return new lwe(e);case zr.WIDGET:switch(e.data.fieldType){case"Tx":return new cwe(e);case"Btn":return e.data.radioButton?new yG(e):e.data.checkBox?new uwe(e):new hwe(e);case"Ch":return new fwe(e);case"Sig":return new dwe(e)}return new o0(e);case zr.POPUP:return new WP(e);case zr.FREETEXT:return new _G(e);case zr.LINE:return new mwe(e);case zr.SQUARE:return new gwe(e);case zr.CIRCLE:return new ywe(e);case zr.POLYLINE:return new SG(e);case zr.CARET:return new bwe(e);case zr.INK:return new QL(e);case zr.POLYGON:return new vwe(e);case zr.HIGHLIGHT:return new NG(e);case zr.UNDERLINE:return new wwe(e);case zr.SQUIGGLY:return new xwe(e);case zr.STRIKEOUT:return new _we(e);case zr.STAMP:return new AG(e);case zr.FILEATTACHMENT:return new Swe(e);default:return new sr(e)}}}var Kg,Tv,jl,u_,jP;const vO=class vO{constructor(e,{isRenderable:t=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){ne(this,u_);ne(this,Kg,null);ne(this,Tv,!1);ne(this,jl,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,t&&(this.contentElement=this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return vO._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var i;const{data:e}=this,t=(i=this.annotationStorage)==null?void 0:i.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var o;const e=(o=this.annotationStorage)==null?void 0:o.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:i,rect:r}=this.data;let s=-1/0,a=-1/0;if((t==null?void 0:t.length)>=8){for(let c=0;c<t.length;c+=8)t[c+1]>a?(a=t[c+1],s=t[c+2]):t[c+1]===a&&(s=Math.max(s,t[c+2]));return[s,a]}if((i==null?void 0:i.length)>=1){for(const c of i)for(let d=0,u=c.length;d<u;d+=2)c[d+1]>a?(a=c[d+1],s=c[d]):c[d+1]===a&&(s=Math.max(s,c[d]));if(s!==1/0)return[s,a]}return r?[r[2],r[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:a}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-s)/i,e[1]=100*(e[1]-a)/r,e}get commentText(){var t,i,r;const{data:e}=this;return((i=(t=this.annotationStorage.getRawValue(`${yx}${e.id}`))==null?void 0:t.popup)==null?void 0:i.contents)||((r=e.contentsObj)==null?void 0:r.str)||""}set commentText(e){const{data:t}=this,i={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:i})||this.annotationStorage.setValue(`${yx}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:i,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,t;(t=((e=S(this,jl))==null?void 0:e.popup)||this.popup)==null||t.remove(),se(this,jl,this.popup=null)}updateEdited(e){var s;if(!this.container)return;e.rect&&(S(this,Kg)||se(this,Kg,{rect:this.data.rect.slice(0)}));const{rect:t,popup:i}=e;t&&ye(this,u_,jP).call(this,t);let r=((s=S(this,jl))==null?void 0:s.popup)||this.popup;!r&&(i!=null&&i.text)&&(this._createPopup(i),r=S(this,jl).popup),r&&(r.updateEdited(e),i!=null&&i.deleted&&(r.remove(),se(this,jl,null),this.popup=null))}resetEdited(){var e;S(this,Kg)&&(ye(this,u_,jP).call(this,S(this,Kg).rect),(e=S(this,jl))==null||e.popup.resetEdited(),se(this,Kg,null))}_createContainer(e){const{data:t,parent:{page:i,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),!(this instanceof o0)&&!(this instanceof ZL)&&(s.tabIndex=0);const{style:a}=s;if(a.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof WP){const{rotation:w}=t;return!t.hasOwnCanvas&&w!==0&&this.setRotation(w,s),s}const{width:o,height:c}=this;if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const w=t.borderStyle.horizontalCornerRadius,b=t.borderStyle.verticalCornerRadius;if(w>0||b>0){const y=`calc(${w}px * var(--total-scale-factor)) / calc(${b}px * var(--total-scale-factor))`;a.borderRadius=y}else if(this instanceof yG){const y=`calc(${o}px * var(--total-scale-factor)) / calc(${c}px * var(--total-scale-factor))`;a.borderRadius=y}switch(t.borderStyle.style){case S0.SOLID:a.borderStyle="solid";break;case S0.DASHED:a.borderStyle="dashed";break;case S0.BEVELED:dn("Unimplemented border style: beveled");break;case S0.INSET:dn("Unimplemented border style: inset");break;case S0.UNDERLINE:a.borderBottomStyle="solid";break}const m=t.borderColor||null;m?(se(this,Tv,!0),a.borderColor=zt.makeHexColor(m[0]|0,m[1]|0,m[2]|0)):a.borderWidth=0}const d=zt.normalizeRect([t.rect[0],i.view[3]-t.rect[1]+i.view[1],t.rect[2],i.view[3]-t.rect[3]+i.view[1]]),{pageWidth:u,pageHeight:f,pageX:h,pageY:p}=r.rawDims;a.left=`${100*(d[0]-h)/u}%`,a.top=`${100*(d[1]-p)/f}%`;const{rotation:v}=t;return t.hasOwnCanvas||v===0?(a.width=`${100*o/u}%`,a.height=`${100*c/f}%`):this.setRotation(v,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims;let{width:s,height:a}=this;e%180!==0&&([s,a]=[a,s]),t.style.width=`${100*s/i}%`,t.style.height=`${100*a/r}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,i,r)=>{const s=r.detail[t],a=s[0],o=s.slice(1);r.target.style[i]=PM[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[i]:PM[`${a}_rgb`](o)})};return un(this,"_commonActions",{display:t=>{const{display:i}=t.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:i}=t.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const i=t.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(e,t){const i=this._commonActions;for(const r of Object.keys(t.detail)){const s=e[r]||i[r];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const i=this._commonActions;for(const[r,s]of Object.entries(t)){const a=i[r];if(a){const o={detail:{[r]:s},target:e};a(o),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,i,r,s]=this.data.rect.map(w=>Math.fround(w));if(e.length===8){const[w,b,m,y]=e.subarray(2,6);if(r===w&&s===b&&t===m&&i===y)return}const{style:a}=this.container;let o;if(S(this,Tv)){const{borderColor:w,borderWidth:b}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${w}" stroke-width="${b}">`],this.container.classList.add("hasBorder")}const c=r-t,d=s-i,{svgFactory:u}=this,f=u.createElement("svg");f.classList.add("quadrilateralsContainer"),f.setAttribute("width",0),f.setAttribute("height",0),f.role="none";const h=u.createElement("defs");f.append(h);const p=u.createElement("clipPath"),v=`clippath_${this.data.id}`;p.setAttribute("id",v),p.setAttribute("clipPathUnits","objectBoundingBox"),h.append(p);for(let w=2,b=e.length;w<b;w+=8){const m=e[w],y=e[w+1],_=e[w+2],x=e[w+3],N=u.createElement("rect"),k=(_-t)/c,T=(s-y)/d,C=(m-_)/c,P=(y-x)/d;N.setAttribute("x",k),N.setAttribute("y",T),N.setAttribute("width",C),N.setAttribute("height",P),p.append(N),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${k}" y="${T}" width="${C}" height="${P}"/>`)}S(this,Tv)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(f),this.container.style.clipPath=`url(#${v})`}_createPopup(e=null){const{data:t}=this;let i,r;e?(i={str:e.text},r=e.date):(i=t.contentsObj,r=t.modificationDate),se(this,jl,new WP({data:{color:t.color,titleObj:t.titleObj,modificationDate:r,contentsObj:i,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}))}get hasPopupElement(){return!!(S(this,jl)||this.popup||this.data.popupRef)}get extraPopupElement(){return S(this,jl)}render(){Ci("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:s,id:a,exportValues:o}of r){if(s===-1||a===t)continue;const c=typeof o=="string"?o:null,d=document.querySelector(`[data-element-id="${a}"]`);if(d&&!J1.has(d)){dn(`_getElementsByName - element not allowed: ${a}`);continue}i.push({id:a,exportValue:c,domElement:d})}return i}for(const r of document.getElementsByName(e)){const{exportValue:s}=r,a=r.getAttribute("data-element-id");a!==t&&J1.has(r)&&i.push({id:a,exportValue:s,domElement:r})}return i}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Kg=new WeakMap,Tv=new WeakMap,jl=new WeakMap,u_=new WeakSet,jP=function(e){const{container:{style:t},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:c}}}}=this;i==null||i.splice(0,4,...e),t.left=`${100*(e[0]-o)/s}%`,t.top=`${100*(a-e[3]+c)/a}%`,r===0?(t.width=`${100*(e[2]-e[0])/s}%`,t.height=`${100*(e[3]-e[1])/a}%`):this.setRotation(r)};let sr=vO;class owe extends sr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}var xh,Pm,H4,mG,V4,gG;class ZL extends sr{constructor(t,i=null){super(t,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});ne(this,xh);ne(this,H4);ne(this,V4);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:i}=this,r=document.createElement("a");r.setAttribute("data-element-id",t.id);let s=!1;return t.url?(i.addLinkAttributes(r,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(r,t.action,t.overlaidText),s=!0):t.attachment?(ye(this,H4,mG).call(this,r,t.attachment,t.overlaidText,t.attachmentDest),s=!0):t.setOCGState?(ye(this,V4,gG).call(this,r,t.setOCGState,t.overlaidText),s=!0):t.dest?(this._bindLink(r,t.dest,t.overlaidText),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,t),s=!0),t.resetForm?(this._bindResetFormAction(r,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(r,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&(this.contentElement=r,this.container.append(r)),this.container}_bindLink(t,i,r=""){t.href=this.linkService.getDestinationHash(i),t.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&ye(this,xh,Pm).call(this),r&&(t.title=r)}_bindNamedAction(t,i,r=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(i),!1),r&&(t.title=r),ye(this,xh,Pm).call(this)}_bindJSAction(t,i){t.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(i.actions)){const a=r.get(s);a&&(t[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:s}}),!1})}i.overlaidText&&(t.title=i.overlaidText),t.onclick||(t.onclick=()=>!1),ye(this,xh,Pm).call(this)}_bindResetFormAction(t,i){const r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),ye(this,xh,Pm).call(this),!this._fieldObjects){dn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(t.onclick=()=>!1);return}t.onclick=()=>{var f;r==null||r();const{fields:s,refs:a,include:o}=i,c=[];if(s.length!==0||a.length!==0){const h=new Set(a);for(const p of s){const v=this._fieldObjects[p]||[];for(const{id:w}of v)h.add(w)}for(const p of Object.values(this._fieldObjects))for(const v of p)h.has(v.id)===o&&c.push(v)}else for(const h of Object.values(this._fieldObjects))c.push(...h);const d=this.annotationStorage,u=[];for(const h of c){const{id:p}=h;switch(u.push(p),h.type){case"text":{const w=h.defaultValue||"";d.setValue(p,{value:w});break}case"checkbox":case"radiobutton":{const w=h.defaultValue===h.exportValues;d.setValue(p,{value:w});break}case"combobox":case"listbox":{const w=h.defaultValue||"";d.setValue(p,{value:w});break}default:continue}const v=document.querySelector(`[data-element-id="${p}"]`);if(v){if(!J1.has(v)){dn(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;v.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((f=this.linkService.eventBus)==null||f.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:u,name:"ResetForm"}})),!1}}}xh=new WeakSet,Pm=function(){this.container.setAttribute("data-internal-link","")},H4=new WeakSet,mG=function(t,i,r="",s=null){t.href=this.linkService.getAnchorUrl(""),i.description?t.title=i.description:r&&(t.title=r),t.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(i.content,i.filename,s),!1},ye(this,xh,Pm).call(this)},V4=new WeakSet,gG=function(t,i,r=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(i),!1),r&&(t.title=r),ye(this,xh,Pm).call(this)};class lwe extends sr{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class o0 extends sr{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return us.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,i,r,s){i.includes("mouse")?e.addEventListener(i,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(i,a=>{var o;if(i==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(i==="focus"){if(t.focused)return;t.focused=!0}s&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(a)}}))})}_setEventListeners(e,t,i,r){var s,a,o;for(const[c,d]of i)(d==="Action"||(s=this.data.actions)!=null&&s[d])&&((d==="Focus"||d==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,c,d,r),d==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,t,"blur","Blur",null):d==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":zt.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||swe,s=e.style;let a;const o=2,c=d=>Math.round(10*d)/10;if(this.data.multiLine){const d=Math.abs(this.data.rect[3]-this.data.rect[1]-o),u=Math.round(d/(P6*r))||1,f=d/u;a=Math.min(r,c(f/P6))}else{const d=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(r,c(d/P6))}s.fontSize=`calc(${a}px * var(--total-scale-factor))`,s.color=zt.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class cwe extends o0{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,i,r){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=i),s.setValue(a.id,{[r]:i})}render(){var r,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let o=a.value||"";const c=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;c&&o.length>c&&(o=o.slice(0,c));let d=a.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;d&&this.data.comb&&(d=d.replaceAll(/\s+/g,""));const u={userValue:o,formattedValue:d,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=d??o,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",d??o),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),J1.add(i),this.contentElement=i,i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=0;const{datetimeFormat:f,datetimeType:h,timeStep:p}=this.data,v=!!h&&this.enableScripting;f&&(i.title=f),this._setRequired(i,this.data.required),c&&(i.maxLength=c),i.addEventListener("input",b=>{e.setValue(t,{value:b.target.value}),this.setPropertyOnSiblings(i,"value",b.target.value,"value"),u.formattedValue=null}),i.addEventListener("resetform",b=>{const m=this.data.defaultFieldValue??"";i.value=u.userValue=m,u.formattedValue=null});let w=b=>{const{formattedValue:m}=u;m!=null&&(b.target.value=m),b.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",m=>{var _;if(u.focused)return;const{target:y}=m;if(v&&(y.type=h,p&&(y.step=p)),u.userValue){const x=u.userValue;if(v)if(h==="time"){const N=new Date(x),k=[N.getHours(),N.getMinutes(),N.getSeconds()];y.value=k.map(T=>T.toString().padStart(2,"0")).join(":")}else y.value=new Date(x-awe).toISOString().split(h==="date"?"T":".",1)[0];else y.value=x}u.lastCommittedValue=y.value,u.commitKey=1,(_=this.data.actions)!=null&&_.Focus||(u.focused=!0)}),i.addEventListener("updatefromsandbox",m=>{this.showElementAndHideCanvas(m.target);const y={value(_){u.userValue=_.detail.value??"",v||e.setValue(t,{value:u.userValue.toString()}),_.target.value=u.userValue},formattedValue(_){const{formattedValue:x}=_.detail;u.formattedValue=x,x!=null&&_.target!==document.activeElement&&(_.target.value=x);const N={formattedValue:x};v&&(N.value=x),e.setValue(t,N)},selRange(_){_.target.setSelectionRange(..._.detail.selRange)},charLimit:_=>{var T;const{charLimit:x}=_.detail,{target:N}=_;if(x===0){N.removeAttribute("maxLength");return}N.setAttribute("maxLength",x);let k=u.userValue;!k||k.length<=x||(k=k.slice(0,x),N.value=u.userValue=k,e.setValue(t,{value:k}),(T=this.linkService.eventBus)==null||T.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:k,willCommit:!0,commitKey:1,selStart:N.selectionStart,selEnd:N.selectionEnd}}))}};this._dispatchEventFromSandbox(y,m)}),i.addEventListener("keydown",m=>{var x;u.commitKey=1;let y=-1;if(m.key==="Escape"?y=0:m.key==="Enter"&&!this.data.multiLine?y=2:m.key==="Tab"&&(u.commitKey=3),y===-1)return;const{value:_}=m.target;u.lastCommittedValue!==_&&(u.lastCommittedValue=_,u.userValue=_,(x=this.linkService.eventBus)==null||x.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:_,willCommit:!0,commitKey:y,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}}))});const b=w;w=null,i.addEventListener("blur",m=>{var x,N;if(!u.focused||!m.relatedTarget)return;(x=this.data.actions)!=null&&x.Blur||(u.focused=!1);const{target:y}=m;let{value:_}=y;if(v){if(_&&h==="time"){const k=_.split(":").map(T=>parseInt(T,10));_=new Date(2e3,0,1,k[0],k[1],k[2]||0).valueOf(),y.step=""}else _.includes("T")||(_=`${_}T00:00`),_=new Date(_).valueOf();y.type="text"}u.userValue=_,u.lastCommittedValue!==_&&((N=this.linkService.eventBus)==null||N.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:_,willCommit:!0,commitKey:u.commitKey,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}})),b(m)}),(s=this.data.actions)!=null&&s.Keystroke&&i.addEventListener("beforeinput",m=>{var P;u.lastCommittedValue=null;const{data:y,target:_}=m,{value:x,selectionStart:N,selectionEnd:k}=_;let T=N,C=k;switch(m.inputType){case"deleteWordBackward":{const D=x.substring(0,N).match(/\w*[^\w]*$/);D&&(T-=D[0].length);break}case"deleteWordForward":{const D=x.substring(N).match(/^[^\w]*\w*/);D&&(C+=D[0].length);break}case"deleteContentBackward":N===k&&(T-=1);break;case"deleteContentForward":N===k&&(C+=1);break}m.preventDefault(),(P=this.linkService.eventBus)==null||P.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,change:y||"",willCommit:!1,selStart:T,selEnd:C}})}),this._setEventListeners(i,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],m=>m.target.value)}if(w&&i.addEventListener("blur",w),this.data.comb){const m=(this.data.rect[2]-this.data.rect[0])/c;i.classList.add("comb"),i.style.letterSpacing=`calc(${m}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class dwe extends o0{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class uwe extends o0{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return J1.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:c}=a.target;for(const d of this._getElementsByName(o,i)){const u=c&&d.exportValue===t.exportValue;d.domElement&&(d.domElement.checked=u),e.setValue(d.id,{value:u})}e.setValue(i,{value:c})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue||"Off";a.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(c){c.target.checked=c.detail.value!=="Off",e.setValue(i,{value:c.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class yG extends o0{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(i,{value:r})),r)for(const a of this._getElementsByName(t.fieldName,i))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(J1.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",a=>{const{name:o,checked:c}=a.target;for(const d of this._getElementsByName(o,i))e.setValue(d.id,{value:!1});e.setValue(i,{value:c})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue;a.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;s.addEventListener("updatefromsandbox",o=>{const c={value:d=>{const u=a===d.detail.value;for(const f of this._getElementsByName(d.target.name)){const h=u&&f.id===i;f.domElement&&(f.domElement.checked=h),e.setValue(f.id,{value:h})}}};this._dispatchEventFromSandbox(c,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class hwe extends ZL{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),e}}class fwe extends o0{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,i=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");J1.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",u=>{const f=this.data.defaultFieldValue;for(const h of r.options)h.selected=h.value===f});for(const u of this.data.options){const f=document.createElement("option");f.textContent=u.displayValue,f.value=u.exportValue,i.value.includes(u.exportValue)&&(f.setAttribute("selected",!0),s=!1),r.append(f)}let a=null;if(s){const u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),r.prepend(u),a=()=>{u.remove(),r.removeEventListener("input",a),a=null},r.addEventListener("input",a)}const o=u=>{const f=u?"value":"textContent",{options:h,multiple:p}=r;return p?Array.prototype.filter.call(h,v=>v.selected).map(v=>v[f]):h.selectedIndex===-1?null:h[h.selectedIndex][f]};let c=o(!1);const d=u=>{const f=u.target.options;return Array.prototype.map.call(f,h=>({displayValue:h.textContent,exportValue:h.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",u=>{const f={value(h){a==null||a();const p=h.detail.value,v=new Set(Array.isArray(p)?p:[p]);for(const w of r.options)w.selected=v.has(w.value);e.setValue(t,{value:o(!0)}),c=o(!1)},multipleSelection(h){r.multiple=!0},remove(h){const p=r.options,v=h.detail.remove;p[v].selected=!1,r.remove(v),p.length>0&&Array.prototype.findIndex.call(p,b=>b.selected)===-1&&(p[0].selected=!0),e.setValue(t,{value:o(!0),items:d(h)}),c=o(!1)},clear(h){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),c=o(!1)},insert(h){const{index:p,displayValue:v,exportValue:w}=h.detail.insert,b=r.children[p],m=document.createElement("option");m.textContent=v,m.value=w,b?b.before(m):r.append(m),e.setValue(t,{value:o(!0),items:d(h)}),c=o(!1)},items(h){const{items:p}=h.detail;for(;r.length!==0;)r.remove(0);for(const v of p){const{displayValue:w,exportValue:b}=v,m=document.createElement("option");m.textContent=w,m.value=b,r.append(m)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:o(!0),items:d(h)}),c=o(!1)},indices(h){const p=new Set(h.detail.indices);for(const v of h.target.options)v.selected=p.has(v.index);e.setValue(t,{value:o(!0)}),c=o(!1)},editable(h){h.target.disabled=!h.detail.editable}};this._dispatchEventFromSandbox(f,u)}),r.addEventListener("input",u=>{var p;const f=o(!0),h=o(!1);e.setValue(t,{value:f}),u.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:c,change:h,changeEx:f,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):r.addEventListener("input",function(u){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}var h_,$P;class WP extends sr{constructor(t){const{data:i,elements:r,parent:s}=t,a=!!s._commentManager;super(t,{isRenderable:!a&&sr._hasPopupData(i)});ne(this,h_);if(this.elements=r,a&&sr._hasPopupData(i)){const o=this.popup=ye(this,h_,$P).call(this);for(const c of r)c.popup=o}else this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const i=this.popup=ye(this,h_,$P).call(this),r=[];for(const s of this.elements)s.popup=i,s.container.ariaHasPopup="dialog",r.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(s=>`${H0}${s}`).join(",")),this.container}}h_=new WeakSet,$P=function(){return new pwe({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var Yo,gp,G4,X4,Cv,Dv,gr,Kd,yp,Jg,Pv,Iv,Jd,Ko,_h,Sh,yr,Nh,vp,f_,Ah,Rv,Zg,bp,_s,wp,Lv,ek,p_,qP,m_,HP,g_,VP,Ov,tk,y_,GP,Y4,vG,K4,bG,J4,wG,Z4,xG,Fv,nk,Uv,ik,v_,XP;class pwe{constructor({container:e,color:t,elements:i,titleObj:r,modificationDate:s,contentsObj:a,richText:o,parent:c,rect:d,parentRect:u,open:f,commentManager:h=null}){ne(this,Lv);ne(this,p_);ne(this,m_);ne(this,g_);ne(this,Ov);ne(this,y_);ne(this,Y4);ne(this,K4);ne(this,J4);ne(this,Z4);ne(this,Fv);ne(this,Uv);ne(this,v_);ne(this,Yo,null);ne(this,gp,ye(this,J4,wG).bind(this));ne(this,G4,ye(this,v_,XP).bind(this));ne(this,X4,ye(this,Uv,ik).bind(this));ne(this,Cv,ye(this,Fv,nk).bind(this));ne(this,Dv,null);ne(this,gr,null);ne(this,Kd,null);ne(this,yp,null);ne(this,Jg,null);ne(this,Pv,null);ne(this,Iv,null);ne(this,Jd,!1);ne(this,Ko,null);ne(this,_h,null);ne(this,Sh,null);ne(this,yr,null);ne(this,Nh,null);ne(this,vp,null);ne(this,f_,null);ne(this,Ah,null);ne(this,Rv,null);ne(this,Zg,null);ne(this,bp,!1);ne(this,_s,null);ne(this,wp,null);se(this,gr,e),se(this,Rv,r),se(this,Kd,a),se(this,Ah,o),se(this,Pv,c),se(this,Dv,t),se(this,f_,d),se(this,Iv,u),se(this,Jg,i),se(this,Yo,h),se(this,_s,i[0]),se(this,yp,D3.toDateObject(s)),this.trigger=i.flatMap(p=>p.getElementsToTriggerPopup()),h||(ye(this,Lv,ek).call(this),S(this,gr).hidden=!0,f&&ye(this,Fv,nk).call(this))}renderCommentButton(){if(S(this,yr)){S(this,yr).parentNode||S(this,_s).container.after(S(this,yr));return}if(S(this,Nh)||ye(this,p_,qP).call(this),!S(this,Nh))return;const{signal:e}=se(this,_h,new AbortController),t=S(this,_s).hasOwnCommentButton,i=()=>{S(this,Yo).toggleCommentPopup(this,!0,void 0,!t)},r=()=>{S(this,Yo).toggleCommentPopup(this,!1,!0,!t)},s=()=>{S(this,Yo).toggleCommentPopup(this,!1,!1)};if(t){se(this,yr,S(this,_s).container);for(const a of this.trigger)a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.addEventListener("keydown",S(this,gp),{signal:e}),a.addEventListener("click",i,{signal:e}),a.addEventListener("pointerenter",r,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),a.classList.add("popupTriggerArea")}else{const a=se(this,yr,document.createElement("button"));a.className="annotationCommentButton";const o=S(this,_s).container;a.style.zIndex=o.style.zIndex+1,a.tabIndex=0,a.ariaHasPopup="dialog",a.ariaControls="commentPopup",a.setAttribute("data-l10n-id","pdfjs-show-comment-button"),ye(this,g_,VP).call(this),ye(this,m_,HP).call(this),a.addEventListener("keydown",S(this,gp),{signal:e}),a.addEventListener("click",i,{signal:e}),a.addEventListener("pointerenter",r,{signal:e}),a.addEventListener("pointerleave",s,{signal:e}),o.after(a)}}get commentButtonColor(){const{color:e,opacity:t}=S(this,_s).commentData;return e?S(this,Pv)._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{var e;(e=S(this,yr))==null||e.focus()},0)}getData(){const{richText:e,color:t,opacity:i,creationDate:r,modificationDate:s}=S(this,_s).commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:i,creationDate:r,modificationDate:s}}get elementBeforePopup(){return S(this,yr)}get comment(){return S(this,wp)||se(this,wp,S(this,_s).commentText),S(this,wp)}set comment(e){e!==this.comment&&(S(this,_s).commentText=se(this,wp,e))}focus(){var e;(e=S(this,_s).container)==null||e.focus()}get parentBoundingClientRect(){return S(this,_s).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){S(this,yr)&&(S(this,yr).classList.toggle("selected",e),S(this,yr).ariaExpanded=t)}setSelectedCommentButton(e){S(this,yr).classList.toggle("selected",e)}get commentPopupPosition(){if(S(this,vp))return S(this,vp);const{x:e,y:t,height:i}=S(this,yr).getBoundingClientRect(),{x:r,y:s,width:a,height:o}=S(this,_s).layer.getBoundingClientRect();return[(e-r)/a,(t+i-s)/o]}set commentPopupPosition(e){se(this,vp,e)}hasDefaultPopupPosition(){return S(this,vp)===null}get commentButtonPosition(){return S(this,Nh)}get commentButtonWidth(){return S(this,yr).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,i]=S(this,vp)||this.commentButtonPosition.map(d=>d/100),r=this.parentBoundingClientRect,{x:s,y:a,width:o,height:c}=r;S(this,Yo).showDialog(null,this,s+t*o,a+i*c,{...e,parentDimensions:r})}render(){var i,r;if(S(this,Ko))return;const e=se(this,Ko,document.createElement("div"));if(e.className="popup",S(this,Dv)){const s=e.style.outlineColor=zt.makeHexColor(...S(this,Dv));e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const t=document.createElement("span");if(t.className="header",(i=S(this,Rv))!=null&&i.str){const s=document.createElement("span");s.className="title",t.append(s),{dir:s.dir,str:s.textContent}=S(this,Rv)}if(e.append(t),S(this,yp)){const s=document.createElement("time");s.className="popupDate",s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:S(this,yp).valueOf()})),s.dateTime=S(this,yp).toISOString(),t.append(s)}oV({html:S(this,Ov,tk)||S(this,Kd).str,dir:(r=S(this,Kd))==null?void 0:r.dir,className:"popupContent"},e),S(this,gr).append(e)}updateEdited({rect:e,popup:t,deleted:i}){var r;if(S(this,Yo)){i?(this.remove(),se(this,wp,null)):t&&(t.deleted?this.remove():(ye(this,g_,VP).call(this),se(this,wp,t.text))),e&&(se(this,Nh,null),ye(this,p_,qP).call(this),ye(this,m_,HP).call(this));return}if(i||t!=null&&t.deleted){this.remove();return}ye(this,Lv,ek).call(this),S(this,Zg)||se(this,Zg,{contentsObj:S(this,Kd),richText:S(this,Ah)}),e&&se(this,Sh,null),t&&t.text&&(se(this,Ah,ye(this,K4,bG).call(this,t.text)),se(this,yp,D3.toDateObject(t.date)),se(this,Kd,null)),(r=S(this,Ko))==null||r.remove(),se(this,Ko,null)}resetEdited(){var e;S(this,Zg)&&({contentsObj:is(this,Kd)._,richText:is(this,Ah)._}=S(this,Zg),se(this,Zg,null),(e=S(this,Ko))==null||e.remove(),se(this,Ko,null),se(this,Sh,null))}remove(){var e,t,i;if((e=S(this,_h))==null||e.abort(),se(this,_h,null),(t=S(this,Ko))==null||t.remove(),se(this,Ko,null),se(this,bp,!1),se(this,Jd,!1),(i=S(this,yr))==null||i.remove(),se(this,yr,null),this.trigger)for(const r of this.trigger)r.classList.remove("popupTriggerArea")}forceHide(){se(this,bp,this.isVisible),S(this,bp)&&(S(this,gr).hidden=!0)}maybeShow(){S(this,Yo)||(ye(this,Lv,ek).call(this),S(this,bp)&&(S(this,Ko)||ye(this,Uv,ik).call(this),se(this,bp,!1),S(this,gr).hidden=!1))}get isVisible(){return S(this,Yo)?!1:S(this,gr).hidden===!1}}Yo=new WeakMap,gp=new WeakMap,G4=new WeakMap,X4=new WeakMap,Cv=new WeakMap,Dv=new WeakMap,gr=new WeakMap,Kd=new WeakMap,yp=new WeakMap,Jg=new WeakMap,Pv=new WeakMap,Iv=new WeakMap,Jd=new WeakMap,Ko=new WeakMap,_h=new WeakMap,Sh=new WeakMap,yr=new WeakMap,Nh=new WeakMap,vp=new WeakMap,f_=new WeakMap,Ah=new WeakMap,Rv=new WeakMap,Zg=new WeakMap,bp=new WeakMap,_s=new WeakMap,wp=new WeakMap,Lv=new WeakSet,ek=function(){var t;if(S(this,_h))return;se(this,_h,new AbortController);const{signal:e}=S(this,_h);for(const i of this.trigger)i.addEventListener("click",S(this,Cv),{signal:e}),i.addEventListener("pointerenter",S(this,X4),{signal:e}),i.addEventListener("pointerleave",S(this,G4),{signal:e}),i.classList.add("popupTriggerArea");for(const i of S(this,Jg))(t=i.container)==null||t.addEventListener("keydown",S(this,gp),{signal:e})},p_=new WeakSet,qP=function(){const e=S(this,Jg).find(t=>t.hasCommentButton);e&&se(this,Nh,e._normalizePoint(e.commentButtonPosition))},m_=new WeakSet,HP=function(){if(S(this,_s).extraPopupElement&&!S(this,_s).editor)return;S(this,yr)||this.renderCommentButton();const[e,t]=S(this,Nh),{style:i}=S(this,yr);i.left=`calc(${e}%)`,i.top=`calc(${t}% - var(--comment-button-dim))`},g_=new WeakSet,VP=function(){S(this,_s).extraPopupElement||(S(this,yr)||this.renderCommentButton(),S(this,yr).style.backgroundColor=this.commentButtonColor||"")},Ov=new WeakSet,tk=function(){const e=S(this,Ah),t=S(this,Kd);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&S(this,Ah).html||null},y_=new WeakSet,GP=function(){var e,t,i;return((i=(t=(e=S(this,Ov,tk))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.fontSize)||0},Y4=new WeakSet,vG=function(){var e,t,i;return((i=(t=(e=S(this,Ov,tk))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.color)||null},K4=new WeakSet,bG=function(e){const t=[],i={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:S(this,Y4,vG),fontSize:S(this,y_,GP)?`calc(${S(this,y_,GP)}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:r});return i},J4=new WeakSet,wG=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&S(this,Jd))&&ye(this,Fv,nk).call(this)},Z4=new WeakSet,xG=function(){if(S(this,Sh)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:i,pageX:r,pageY:s}}}=S(this,Pv);let a=!!S(this,Iv),o=a?S(this,Iv):S(this,f_);for(const v of S(this,Jg))if(!o||zt.intersect(v.data.rect,o)!==null){o=v.data.rect,a=!0;break}const c=zt.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),d=5,u=a?o[2]-o[0]+d:0,f=c[0]+u,h=c[1];se(this,Sh,[100*(f-r)/t,100*(h-s)/i]);const{style:p}=S(this,gr);p.left=`${S(this,Sh)[0]}%`,p.top=`${S(this,Sh)[1]}%`},Fv=new WeakSet,nk=function(){if(S(this,Yo)){S(this,Yo).toggleCommentPopup(this,!1);return}se(this,Jd,!S(this,Jd)),S(this,Jd)?(ye(this,Uv,ik).call(this),S(this,gr).addEventListener("click",S(this,Cv)),S(this,gr).addEventListener("keydown",S(this,gp))):(ye(this,v_,XP).call(this),S(this,gr).removeEventListener("click",S(this,Cv)),S(this,gr).removeEventListener("keydown",S(this,gp)))},Uv=new WeakSet,ik=function(){S(this,Ko)||this.render(),this.isVisible?S(this,Jd)&&S(this,gr).classList.add("focused"):(ye(this,Z4,xG).call(this),S(this,gr).hidden=!1,S(this,gr).style.zIndex=parseInt(S(this,gr).style.zIndex)+1e3)},v_=new WeakSet,XP=function(){S(this,gr).classList.remove("focused"),!(S(this,Jd)||!this.isVisible)&&(S(this,gr).hidden=!0,S(this,gr).style.zIndex=parseInt(S(this,gr).style.zIndex)-1e3)};class _G extends sr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=mn.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const i=document.createElement("span");i.textContent=t,e.append(i)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var b_;class mwe extends sr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});ne(this,b_,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:i,height:r}=this,s=this.svgFactory.create(i,r,!0),a=se(this,b_,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return S(this,b_)}addHighlightArea(){this.container.classList.add("highlightArea")}}b_=new WeakMap;var w_;class gwe extends sr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});ne(this,w_,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:i,height:r}=this,s=this.svgFactory.create(i,r,!0),a=t.borderStyle.width,o=se(this,w_,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",i-a),o.setAttribute("height",r-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return S(this,w_)}addHighlightArea(){this.container.classList.add("highlightArea")}}w_=new WeakMap;var x_;class ywe extends sr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});ne(this,x_,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:i,height:r}=this,s=this.svgFactory.create(i,r,!0),a=t.borderStyle.width,o=se(this,x_,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",i/2),o.setAttribute("cy",r/2),o.setAttribute("rx",i/2-a/2),o.setAttribute("ry",r/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return S(this,x_)}addHighlightArea(){this.container.classList.add("highlightArea")}}x_=new WeakMap;var __;class SG extends sr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});ne(this,__,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:i,borderStyle:r,popupRef:s},width:a,height:o}=this;if(!i)return this.container;const c=this.svgFactory.create(a,o,!0);let d=[];for(let f=0,h=i.length;f<h;f+=2){const p=i[f]-t[0],v=t[3]-i[f+1];d.push(`${p},${v}`)}d=d.join(" ");const u=se(this,__,this.svgFactory.createElement(this.svgElementName));return u.setAttribute("points",d),u.setAttribute("stroke-width",r.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),c.append(u),this.container.append(c),!s&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return S(this,__)}addHighlightArea(){this.container.classList.add("highlightArea")}}__=new WeakMap;class vwe extends SG{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class bwe extends sr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}var S_,Qg,N_,YP;class QL extends sr{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});ne(this,N_);ne(this,S_,null);ne(this,Qg,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?mn.HIGHLIGHT:mn.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:i,inkLists:r,borderStyle:s,popupRef:a}}=this,{transform:o,width:c,height:d}=ye(this,N_,YP).call(this,i,t),u=this.svgFactory.create(c,d,!0),f=se(this,S_,this.svgFactory.createElement("svg:g"));u.append(f),f.setAttribute("stroke-width",s.width||1),f.setAttribute("stroke-linecap","round"),f.setAttribute("stroke-linejoin","round"),f.setAttribute("stroke-miterlimit",10),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),f.setAttribute("transform",o);for(let h=0,p=r.length;h<p;h++){const v=this.svgFactory.createElement(this.svgElementName);S(this,Qg).push(v),v.setAttribute("points",r[h].join(",")),f.append(v)}return!a&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(u),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:i,points:r,rect:s}=t,a=S(this,S_);if(i>=0&&a.setAttribute("stroke-width",i||1),r)for(let o=0,c=S(this,Qg).length;o<c;o++)S(this,Qg)[o].setAttribute("points",r[o].join(","));if(s){const{transform:o,width:c,height:d}=ye(this,N_,YP).call(this,this.data.rotation,s);a.parentElement.setAttribute("viewBox",`0 0 ${c} ${d}`),a.setAttribute("transform",o)}}getElementsToTriggerPopup(){return S(this,Qg)}addHighlightArea(){this.container.classList.add("highlightArea")}}S_=new WeakMap,Qg=new WeakMap,N_=new WeakSet,YP=function(t,i){switch(t){case 90:return{transform:`rotate(90) translate(${-i[0]},${i[1]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};case 180:return{transform:`rotate(180) translate(${-i[2]},${i[1]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]};case 270:return{transform:`rotate(270) translate(${-i[2]},${i[3]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};default:return{transform:`translate(${-i[0]},${i[3]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]}}};class NG extends sr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=mn.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const i=document.createElement("mark");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class wwe extends sr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class xwe extends sr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class _we extends sr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const i=document.createElement("s");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class AG extends sr{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=mn.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var A_,k_,KP;class Swe extends sr{constructor(t){var r;super(t,{isRenderable:!0});ne(this,k_);ne(this,A_,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:i}=this;let r;i.hasAppearance||i.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),r.addEventListener("dblclick",ye(this,k_,KP).bind(this)),se(this,A_,r);const{isMac:s}=us.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(s?a.metaKey:a.ctrlKey)&&ye(this,k_,KP).call(this)}),!i.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):r.classList.add("popupTriggerArea"),t.append(r),t}getElementsToTriggerPopup(){return S(this,A_)}addHighlightArea(){this.container.classList.add("highlightArea")}}A_=new WeakMap,k_=new WeakSet,KP=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var e1,t1,Mv,xp,E_,n1,Jo,T_,Bv,rk,C_,ZP;const bO=class bO{constructor({div:e,accessibilityManager:t,annotationCanvasMap:i,annotationEditorUIManager:r,page:s,viewport:a,structTreeLayer:o,commentManager:c,linkService:d,annotationStorage:u}){ne(this,Bv);ne(this,C_);ne(this,e1,null);ne(this,t1,null);ne(this,Mv,null);ne(this,xp,new Map);ne(this,E_,null);ne(this,n1,null);ne(this,Jo,[]);ne(this,T_,!1);this.div=e,se(this,e1,t),se(this,t1,i),se(this,E_,o||null),se(this,n1,d||null),se(this,Mv,u||new YL),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=r,this._commentManager=c||null}hasEditableAnnotations(){return S(this,xp).size>0}async render(e){var o;const{annotations:t}=e,i=this.div;Y1(i,this.viewport);const r=new Map,s=[],a={data:null,layer:i,linkService:S(this,n1),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new M3,annotationStorage:S(this,Mv),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const c of t){if(c.noHTML)continue;const d=c.annotationType===zr.POPUP;if(d){const h=r.get(c.id);if(!h)continue;if(!this._commentManager){s.push(c);continue}a.elements=h}else if(c.rect[2]===c.rect[0]||c.rect[3]===c.rect[1])continue;a.data=c;const u=B6.create(a);if(!u.isRenderable)continue;if(!d&&(S(this,Jo).push(u),c.popupRef)){const h=r.get(c.popupRef);h?h.push(u):r.set(c.popupRef,[u])}const f=u.render();c.hidden&&(f.style.visibility="hidden"),u._isEditable&&(S(this,xp).set(u.data.id,u),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(u))}await ye(this,Bv,rk).call(this);for(const c of s){const d=a.elements=r.get(c.id);a.data=c;const u=B6.create(a);if(!u.isRenderable)continue;const f=u.render();u.contentElement.id=`${H0}${c.id}`,c.hidden&&(f.style.visibility="hidden"),d.at(-1).container.after(f)}ye(this,C_,ZP).call(this)}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:S(this,n1),svgFactory:new M3,parent:this};for(const i of e){i.borderStyle||(i.borderStyle=bO._defaultBorderStyle),t.data=i;const r=B6.create(t);r.isRenderable&&(r.render(),r.contentElement.id=`${H0}${i.id}`,S(this,Jo).push(r))}await ye(this,Bv,rk).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,Y1(t,{rotation:e.rotation}),ye(this,C_,ZP).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(S(this,xp).values())}getEditableAnnotation(e){return S(this,xp).get(e)}addFakeAnnotation(e){const{div:t}=this,{id:i,rotation:r}=e,s=new owe({data:{id:i,rect:e.getPDFRect(),rotation:r},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:S(this,n1),annotationStorage:S(this,Mv)});return s.render(),s.contentElement.id=`${H0}${i}`,s.createOrUpdatePopup(),S(this,Jo).push(s),s}removeAnnotation(e){var r;const t=S(this,Jo).findIndex(s=>s.data.id===e);if(t<0)return;const[i]=S(this,Jo).splice(t,1);(r=S(this,e1))==null||r.removePointerInTextLayer(i.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const t of e)t.updateFakeAnnotationElement(this);ye(this,Bv,rk).call(this)}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return un(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:S0.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};e1=new WeakMap,t1=new WeakMap,Mv=new WeakMap,xp=new WeakMap,E_=new WeakMap,n1=new WeakMap,Jo=new WeakMap,T_=new WeakMap,Bv=new WeakSet,rk=async function(){var i,r,s;if(S(this,Jo).length===0)return;this.div.replaceChildren();const e=[];if(!S(this,T_)){se(this,T_,!0);for(const{contentElement:a,data:{id:o}}of S(this,Jo)){const c=a.id=`${H0}${o}`;e.push((i=S(this,E_))==null?void 0:i.getAriaAttributes(c).then(d=>{if(d)for(const[u,f]of d)a.setAttribute(u,f)}))}}S(this,Jo).sort(({data:{rect:[a,o,c,d]}},{data:{rect:[u,f,h,p]}})=>{if(a===c&&o===d)return 1;if(u===h&&f===p)return-1;const v=d,w=o,b=(o+d)/2,m=p,y=f,_=(f+p)/2;if(b>=m&&_<=w)return-1;if(_>=v&&b<=y)return 1;const x=(a+c)/2,N=(u+h)/2;return x-N});const t=document.createDocumentFragment();for(const a of S(this,Jo))t.append(a.container),this._commentManager?(s=((r=a.extraPopupElement)==null?void 0:r.popup)||a.popup)==null||s.renderCommentButton():a.extraPopupElement&&t.append(a.extraPopupElement.render());if(this.div.append(t),await Promise.all(e),S(this,e1))for(const a of S(this,Jo))S(this,e1).addPointerInTextLayer(a.contentElement,!1)},C_=new WeakSet,ZP=function(){var t;if(!S(this,t1))return;const e=this.div;for(const[i,r]of S(this,t1)){const s=e.querySelector(`[data-annotation-id="${i}"]`);if(!s)continue;r.className="annotationContent";const{firstChild:a}=s;a?a.nodeName==="CANVAS"?a.replaceWith(r):a.classList.contains("annotationContent")?a.after(r):a.before(r):s.append(r);const o=S(this,xp).get(i);o&&(o._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(i,s.id,r),o._hasNoCanvas=!1):o.canvas=r)}S(this,t1).clear()};let JP=bO;const VN=/\r\n?|\n/g;var Zo,D_,i1,Qo,Q4,kG,eE,EG,tE,TG,zv,sk,jv,ak,Wv,ok,nE,CG,P_,eI,iE,DG;const Li=class Li extends Ui{constructor(t){super({...t,name:"freeTextEditor"});ne(this,Q4);ne(this,eE);ne(this,tE);ne(this,zv);ne(this,Wv);ne(this,nE);ne(this,iE);ne(this,Zo,"");ne(this,D_,`${this.id}-editor`);ne(this,i1,null);ne(this,Qo,void 0);wt(this,"_colorPicker",null);this.color=t.color||Li._defaultColor||Ui._defaultLineColor,se(this,Qo,t.fontSize||Li._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static get _keyboardManager(){const t=Li.prototype,i=a=>a.isEmpty(),r=K1.TRANSLATE_SMALL,s=K1.TRANSLATE_BIG;return un(this,"_keyboardManager",new US([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:i}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[r,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:i}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:i}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,r],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:i}]]))}static initialize(t,i){Ui.initialize(t,i);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,i){switch(t){case In.FREETEXT_SIZE:Li._defaultFontSize=i;break;case In.FREETEXT_COLOR:Li._defaultColor=i;break}}updateParams(t,i){switch(t){case In.FREETEXT_SIZE:ye(this,Q4,kG).call(this,i);break;case In.FREETEXT_COLOR:ye(this,eE,EG).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[In.FREETEXT_SIZE,Li._defaultFontSize],[In.FREETEXT_COLOR,Li._defaultColor||Ui._defaultLineColor]]}get propertiesToUpdate(){return[[In.FREETEXT_SIZE,S(this,Qo)],[In.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new U3(this)),[["colorPicker",this._colorPicker]]}get colorType(){return In.FREETEXT_COLOR}onUpdatedColor(){var t;this.editorDiv.style.color=this.color,(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_translateEmpty(t,i){this._uiManager.translateSelectedEditors(t,i,!0)}getInitialTranslation(){const t=this.parentScale;return[-Li._internalPadding*t,-(Li._internalPadding+S(this,Qo))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),se(this,i1,new AbortController);const t=this._uiManager.combinedSignal(S(this,i1));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",S(this,D_)),this._isDraggable=!0,(t=S(this,i1))==null||t.abort(),se(this,i1,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var i;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(i=this._initialOptions)!=null&&i.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=S(this,Zo),i=se(this,Zo,ye(this,tE,TG).call(this).trimEnd());if(t===i)return;const r=s=>{if(se(this,Zo,s),!s){this.remove();return}ye(this,Wv,ok).call(this),this._uiManager.rebuild(this),ye(this,zv,sk).call(this)};this.addCommands({cmd:()=>{r(i)},undo:()=>{r(t)},mustExec:!1}),ye(this,zv,sk).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Li._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,i;(this._isCopy||this.annotationElementId)&&(t=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",S(this,D_)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${S(this,Qo)}px * var(--total-scale-factor))`,r.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[c,d]=this.getInitialTranslation();[c,d]=this.pageTranslationToScreen(c,d);const[u,f]=this.pageDimensions,[h,p]=this.pageTranslation;let v,w;switch(this.rotation){case 0:v=t+(o[0]-h)/u,w=i+this.height-(o[1]-p)/f;break;case 90:v=t+(o[0]-h)/u,w=i-(o[1]-p)/f,[c,d]=[d,-c];break;case 180:v=t-this.width+(o[0]-h)/u,w=i-(o[1]-p)/f,[c,d]=[-c,-d];break;case 270:v=t+(o[0]-h-this.height*f)/u,w=i+(o[1]-p-this.width*u)/f,[c,d]=[-d,c];break}this.setAt(v*s,w*a,c,d)}else this._moveAfterPaste(t,i);ye(this,Wv,ok).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var v,w,b;const i=t.clipboardData||window.clipboardData,{types:r}=i;if(r.length===1&&r[0]==="text/plain")return;t.preventDefault();const s=ye(v=Li,P_,eI).call(v,i.getData("text")||"").replaceAll(VN,`
`);if(!s)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!s.includes(`
`)){o.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:c,startOffset:d}=o,u=[],f=[];if(c.nodeType===Node.TEXT_NODE){const m=c.parentElement;if(f.push(c.nodeValue.slice(d).replaceAll(VN,"")),m!==this.editorDiv){let y=u;for(const _ of this.editorDiv.childNodes){if(_===m){y=f;continue}y.push(ye(w=Li,jv,ak).call(w,_))}}u.push(c.nodeValue.slice(0,d).replaceAll(VN,""))}else if(c===this.editorDiv){let m=u,y=0;for(const _ of this.editorDiv.childNodes)y++===d&&(m=f),m.push(ye(b=Li,jv,ak).call(b,_))}se(this,Zo,`${u.join(`
`)}${s}${f.join(`
`)}`),ye(this,Wv,ok).call(this);const h=new Range;let p=Math.sumPrecise(u.map(m=>m.length));for(const{firstChild:m}of this.editorDiv.childNodes)if(m.nodeType===Node.TEXT_NODE){const y=m.nodeValue.length;if(p<=y){h.setStart(m,p),h.setEnd(m,p);break}p-=y}a.removeAllRanges(),a.addRange(h)}get contentDiv(){return this.editorDiv}getPDFRect(){const t=Li._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,i,r){var o;let s=null;if(t instanceof _G){const{data:{defaultAppearanceData:{fontSize:c,fontColor:d},rect:u,rotation:f,id:h,popupRef:p,richText:v,contentsObj:w,creationDate:b,modificationDate:m},textContent:y,textPosition:_,parent:{page:{pageNumber:x}}}=t;if(!y||y.length===0)return null;s=t={annotationType:mn.FREETEXT,color:Array.from(d),fontSize:c,value:y.join(`
`),position:_,pageIndex:x-1,rect:u.slice(0),rotation:f,annotationElementId:h,id:h,deleted:!1,popupRef:p,comment:(w==null?void 0:w.str)||null,richText:v,creationDate:b,modificationDate:m}}const a=await super.deserialize(t,i,r);return se(a,Qo,t.fontSize),a.color=zt.makeHexColor(...t.color),se(a,Zo,ye(o=Li,P_,eI).call(o,t.value)),a._initialData=s,t.comment&&a.setCommentData(t),a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Ui._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),r=Object.assign(super.serialize(t),{color:i,fontSize:S(this,Qo),value:ye(this,nE,CG).call(this)});return this.addComment(r),t?(r.isCopy=!0,r):this.annotationElementId&&!ye(this,iE,DG).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(t){const i=super.renderAnnotationElement(t);if(!i)return null;const{style:r}=i;r.fontSize=`calc(${S(this,Qo)}px * var(--total-scale-factor))`,r.color=this.color,i.replaceChildren();for(const s of S(this,Zo).split(`
`)){const a=document.createElement("div");a.append(s?document.createTextNode(s):document.createElement("br")),i.append(a)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:S(this,Zo)}}),i}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};Zo=new WeakMap,D_=new WeakMap,i1=new WeakMap,Qo=new WeakMap,Q4=new WeakSet,kG=function(t){const i=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-S(this,Qo))*this.parentScale),se(this,Qo,s),ye(this,zv,sk).call(this)},r=S(this,Qo);this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:In.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},eE=new WeakSet,EG=function(t){const i=s=>{this.color=s,this.onUpdatedColor()},r=this.color;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:In.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},tE=new WeakSet,TG=function(){var r;const t=[];this.editorDiv.normalize();let i=null;for(const s of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(ye(r=Li,jv,ak).call(r,s)),i=s);return t.join(`
`)},zv=new WeakSet,sk=function(){const[t,i]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:s,div:a}=this,o=a.style.display,c=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",s.div.append(this.div),r=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=r.width/t,this.height=r.height/i):(this.width=r.height/t,this.height=r.width/i),this.fixAndSetPosition()},jv=new WeakSet,ak=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(VN,"")},Wv=new WeakSet,ok=function(){if(this.editorDiv.replaceChildren(),!!S(this,Zo))for(const t of S(this,Zo).split(`
`)){const i=document.createElement("div");i.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(i)}},nE=new WeakSet,CG=function(){return S(this,Zo).replaceAll(""," ")},P_=new WeakSet,eI=function(t){return t.replaceAll(" ","")},iE=new WeakSet,DG=function(t){const{value:i,fontSize:r,color:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==i||t.fontSize!==r||t.color.some((o,c)=>o!==s[c])||t.pageIndex!==a},ne(Li,jv),ne(Li,P_),wt(Li,"_freeTextDefaultContent",""),wt(Li,"_internalPadding",0),wt(Li,"_defaultColor",null),wt(Li,"_defaultFontSize",10),wt(Li,"_type","freetext"),wt(Li,"_editorType",mn.FREETEXT);let QP=Li;class qt{toSVGPath(){Ci("Abstract method `toSVGPath` must be implemented.")}get box(){Ci("Abstract getter `box` must be implemented.")}serialize(e,t){Ci("Abstract method `serialize` must be implemented.")}static _rescale(e,t,i,r,s,a){a||(a=new Float32Array(e.length));for(let o=0,c=e.length;o<c;o+=2)a[o]=t+e[o]*r,a[o+1]=i+e[o+1]*s;return a}static _rescaleAndSwap(e,t,i,r,s,a){a||(a=new Float32Array(e.length));for(let o=0,c=e.length;o<c;o+=2)a[o]=t+e[o+1]*r,a[o+1]=i+e[o]*s;return a}static _translate(e,t,i,r){r||(r=new Float32Array(e.length));for(let s=0,a=e.length;s<a;s+=2)r[s]=t+e[s],r[s+1]=i+e[s+1];return r}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,i,r,s){switch(s){case 90:return[1-t/i,e/r];case 180:return[1-e/i,1-t/r];case 270:return[t/i,1-e/r];default:return[e/i,t/r]}}static _normalizePagePoint(e,t,i){switch(i){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,i,r,s,a){return[(e+5*i)/6,(t+5*r)/6,(5*i+s)/6,(5*r+a)/6,(i+s)/2,(r+a)/2]}}wt(qt,"PRECISION",1e-4);var el,Uc,$v,qv,Zd,An,r1,s1,I_,R_,Hv,Vv,_p,L_,rE,sE,a1,pw,aE,PG,oE,IG,lE,RG,cE,LG,dE,OG,uE,FG;const Gu=class Gu{constructor({x:e,y:t},i,r,s,a,o=0){ne(this,a1);ne(this,aE);ne(this,oE);ne(this,lE);ne(this,cE);ne(this,dE);ne(this,uE);ne(this,el,void 0);ne(this,Uc,[]);ne(this,$v,void 0);ne(this,qv,void 0);ne(this,Zd,[]);ne(this,An,new Float32Array(18));ne(this,r1,void 0);ne(this,s1,void 0);ne(this,I_,void 0);ne(this,R_,void 0);ne(this,Hv,void 0);ne(this,Vv,void 0);ne(this,_p,[]);se(this,el,i),se(this,Vv,s*r),se(this,qv,a),S(this,An).set([NaN,NaN,NaN,NaN,e,t],6),se(this,$v,o),se(this,R_,S(Gu,L_)*r),se(this,I_,S(Gu,sE)*r),se(this,Hv,r),S(this,_p).push(e,t)}isEmpty(){return isNaN(S(this,An)[8])}add({x:e,y:t}){var P;se(this,r1,e),se(this,s1,t);const[i,r,s,a]=S(this,el);let[o,c,d,u]=S(this,An).subarray(8,12);const f=e-d,h=t-u,p=Math.hypot(f,h);if(p<S(this,I_))return!1;const v=p-S(this,R_),w=v/p,b=w*f,m=w*h;let y=o,_=c;o=d,c=u,d+=b,u+=m,(P=S(this,_p))==null||P.push(e,t);const x=-m/v,N=b/v,k=x*S(this,Vv),T=N*S(this,Vv);return S(this,An).set(S(this,An).subarray(2,8),0),S(this,An).set([d+k,u+T],4),S(this,An).set(S(this,An).subarray(14,18),12),S(this,An).set([d-k,u-T],16),isNaN(S(this,An)[6])?(S(this,Zd).length===0&&(S(this,An).set([o+k,c+T],2),S(this,Zd).push(NaN,NaN,NaN,NaN,(o+k-i)/s,(c+T-r)/a),S(this,An).set([o-k,c-T],14),S(this,Uc).push(NaN,NaN,NaN,NaN,(o-k-i)/s,(c-T-r)/a)),S(this,An).set([y,_,o,c,d,u],6),!this.isEmpty()):(S(this,An).set([y,_,o,c,d,u],6),Math.abs(Math.atan2(_-c,y-o)-Math.atan2(m,b))<Math.PI/2?([o,c,d,u]=S(this,An).subarray(2,6),S(this,Zd).push(NaN,NaN,NaN,NaN,((o+d)/2-i)/s,((c+u)/2-r)/a),[o,c,y,_]=S(this,An).subarray(14,18),S(this,Uc).push(NaN,NaN,NaN,NaN,((y+o)/2-i)/s,((_+c)/2-r)/a),!0):([y,_,o,c,d,u]=S(this,An).subarray(0,6),S(this,Zd).push(((y+5*o)/6-i)/s,((_+5*c)/6-r)/a,((5*o+d)/6-i)/s,((5*c+u)/6-r)/a,((o+d)/2-i)/s,((c+u)/2-r)/a),[d,u,o,c,y,_]=S(this,An).subarray(12,18),S(this,Uc).push(((y+5*o)/6-i)/s,((_+5*c)/6-r)/a,((5*o+d)/6-i)/s,((5*c+u)/6-r)/a,((o+d)/2-i)/s,((c+u)/2-r)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=S(this,Zd),t=S(this,Uc);if(isNaN(S(this,An)[6])&&!this.isEmpty())return ye(this,aE,PG).call(this);const i=[];i.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?i.push(`L${e[r+4]} ${e[r+5]}`):i.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);ye(this,lE,RG).call(this,i);for(let r=t.length-6;r>=6;r-=6)isNaN(t[r])?i.push(`L${t[r+4]} ${t[r+5]}`):i.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);return ye(this,oE,IG).call(this,i),i.join(" ")}newFreeDrawOutline(e,t,i,r,s,a){return new UG(e,t,i,r,s,a)}getOutlines(){var f;const e=S(this,Zd),t=S(this,Uc),i=S(this,An),[r,s,a,o]=S(this,el),c=new Float32Array((((f=S(this,_p))==null?void 0:f.length)??0)+2);for(let h=0,p=c.length-2;h<p;h+=2)c[h]=(S(this,_p)[h]-r)/a,c[h+1]=(S(this,_p)[h+1]-s)/o;if(c[c.length-2]=(S(this,r1)-r)/a,c[c.length-1]=(S(this,s1)-s)/o,isNaN(i[6])&&!this.isEmpty())return ye(this,cE,LG).call(this,c);const d=new Float32Array(S(this,Zd).length+24+S(this,Uc).length);let u=e.length;for(let h=0;h<u;h+=2){if(isNaN(e[h])){d[h]=d[h+1]=NaN;continue}d[h]=e[h],d[h+1]=e[h+1]}u=ye(this,uE,FG).call(this,d,u);for(let h=t.length-6;h>=6;h-=6)for(let p=0;p<6;p+=2){if(isNaN(t[h+p])){d[u]=d[u+1]=NaN,u+=2;continue}d[u]=t[h+p],d[u+1]=t[h+p+1],u+=2}return ye(this,dE,OG).call(this,d,u),this.newFreeDrawOutline(d,c,S(this,el),S(this,Hv),S(this,$v),S(this,qv))}};el=new WeakMap,Uc=new WeakMap,$v=new WeakMap,qv=new WeakMap,Zd=new WeakMap,An=new WeakMap,r1=new WeakMap,s1=new WeakMap,I_=new WeakMap,R_=new WeakMap,Hv=new WeakMap,Vv=new WeakMap,_p=new WeakMap,L_=new WeakMap,rE=new WeakMap,sE=new WeakMap,a1=new WeakSet,pw=function(){const e=S(this,An).subarray(4,6),t=S(this,An).subarray(16,18),[i,r,s,a]=S(this,el);return[(S(this,r1)+(e[0]-t[0])/2-i)/s,(S(this,s1)+(e[1]-t[1])/2-r)/a,(S(this,r1)+(t[0]-e[0])/2-i)/s,(S(this,s1)+(t[1]-e[1])/2-r)/a]},aE=new WeakSet,PG=function(){const[e,t,i,r]=S(this,el),[s,a,o,c]=ye(this,a1,pw).call(this);return`M${(S(this,An)[2]-e)/i} ${(S(this,An)[3]-t)/r} L${(S(this,An)[4]-e)/i} ${(S(this,An)[5]-t)/r} L${s} ${a} L${o} ${c} L${(S(this,An)[16]-e)/i} ${(S(this,An)[17]-t)/r} L${(S(this,An)[14]-e)/i} ${(S(this,An)[15]-t)/r} Z`},oE=new WeakSet,IG=function(e){const t=S(this,Uc);e.push(`L${t[4]} ${t[5]} Z`)},lE=new WeakSet,RG=function(e){const[t,i,r,s]=S(this,el),a=S(this,An).subarray(4,6),o=S(this,An).subarray(16,18),[c,d,u,f]=ye(this,a1,pw).call(this);e.push(`L${(a[0]-t)/r} ${(a[1]-i)/s} L${c} ${d} L${u} ${f} L${(o[0]-t)/r} ${(o[1]-i)/s}`)},cE=new WeakSet,LG=function(e){const t=S(this,An),[i,r,s,a]=S(this,el),[o,c,d,u]=ye(this,a1,pw).call(this),f=new Float32Array(36);return f.set([NaN,NaN,NaN,NaN,(t[2]-i)/s,(t[3]-r)/a,NaN,NaN,NaN,NaN,(t[4]-i)/s,(t[5]-r)/a,NaN,NaN,NaN,NaN,o,c,NaN,NaN,NaN,NaN,d,u,NaN,NaN,NaN,NaN,(t[16]-i)/s,(t[17]-r)/a,NaN,NaN,NaN,NaN,(t[14]-i)/s,(t[15]-r)/a],0),this.newFreeDrawOutline(f,e,S(this,el),S(this,Hv),S(this,$v),S(this,qv))},dE=new WeakSet,OG=function(e,t){const i=S(this,Uc);return e.set([NaN,NaN,NaN,NaN,i[4],i[5]],t),t+=6},uE=new WeakSet,FG=function(e,t){const i=S(this,An).subarray(4,6),r=S(this,An).subarray(16,18),[s,a,o,c]=S(this,el),[d,u,f,h]=ye(this,a1,pw).call(this);return e.set([NaN,NaN,NaN,NaN,(i[0]-s)/o,(i[1]-a)/c,NaN,NaN,NaN,NaN,d,u,NaN,NaN,NaN,NaN,f,h,NaN,NaN,NaN,NaN,(r[0]-s)/o,(r[1]-a)/c],t),t+=24},ne(Gu,L_,8),ne(Gu,rE,2),ne(Gu,sE,S(Gu,L_)+S(Gu,rE));let B3=Gu;var Gv,o1,kh,O_,tl,F_,Dr,hE,MG;class UG extends qt{constructor(t,i,r,s,a,o){super();ne(this,hE);ne(this,Gv,void 0);ne(this,o1,new Float32Array(4));ne(this,kh,void 0);ne(this,O_,void 0);ne(this,tl,void 0);ne(this,F_,void 0);ne(this,Dr,void 0);se(this,Dr,t),se(this,tl,i),se(this,Gv,r),se(this,F_,s),se(this,kh,a),se(this,O_,o),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],ye(this,hE,MG).call(this,o);const[c,d,u,f]=S(this,o1);for(let h=0,p=t.length;h<p;h+=2)t[h]=(t[h]-c)/u,t[h+1]=(t[h+1]-d)/f;for(let h=0,p=i.length;h<p;h+=2)i[h]=(i[h]-c)/u,i[h+1]=(i[h+1]-d)/f}toSVGPath(){const t=[`M${S(this,Dr)[4]} ${S(this,Dr)[5]}`];for(let i=6,r=S(this,Dr).length;i<r;i+=6){if(isNaN(S(this,Dr)[i])){t.push(`L${S(this,Dr)[i+4]} ${S(this,Dr)[i+5]}`);continue}t.push(`C${S(this,Dr)[i]} ${S(this,Dr)[i+1]} ${S(this,Dr)[i+2]} ${S(this,Dr)[i+3]} ${S(this,Dr)[i+4]} ${S(this,Dr)[i+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,i,r,s],a){const o=r-t,c=s-i;let d,u;switch(a){case 0:d=qt._rescale(S(this,Dr),t,s,o,-c),u=qt._rescale(S(this,tl),t,s,o,-c);break;case 90:d=qt._rescaleAndSwap(S(this,Dr),t,i,o,c),u=qt._rescaleAndSwap(S(this,tl),t,i,o,c);break;case 180:d=qt._rescale(S(this,Dr),r,i,-o,c),u=qt._rescale(S(this,tl),r,i,-o,c);break;case 270:d=qt._rescaleAndSwap(S(this,Dr),r,s,-o,-c),u=qt._rescaleAndSwap(S(this,tl),r,s,-o,-c);break}return{outline:Array.from(d),points:[Array.from(u)]}}get box(){return S(this,o1)}newOutliner(t,i,r,s,a,o=0){return new B3(t,i,r,s,a,o)}getNewOutline(t,i){const[r,s,a,o]=S(this,o1),[c,d,u,f]=S(this,Gv),h=a*u,p=o*f,v=r*u+c,w=s*f+d,b=this.newOutliner({x:S(this,tl)[0]*h+v,y:S(this,tl)[1]*p+w},S(this,Gv),S(this,F_),t,S(this,O_),i??S(this,kh));for(let m=2;m<S(this,tl).length;m+=2)b.add({x:S(this,tl)[m]*h+v,y:S(this,tl)[m+1]*p+w});return b.getOutlines()}}Gv=new WeakMap,o1=new WeakMap,kh=new WeakMap,O_=new WeakMap,tl=new WeakMap,F_=new WeakMap,Dr=new WeakMap,hE=new WeakSet,MG=function(t){const i=S(this,Dr);let r=i[4],s=i[5];const a=[r,s,r,s];let o=r,c=s,d=r,u=s;const f=t?Math.max:Math.min,h=new Float32Array(4);for(let v=6,w=i.length;v<w;v+=6){const b=i[v+4],m=i[v+5];isNaN(i[v])?(zt.pointBoundingBox(b,m,a),c>m?(o=b,c=m):c===m&&(o=f(o,b)),u<m?(d=b,u=m):u===m&&(d=f(d,b))):(h[0]=h[1]=1/0,h[2]=h[3]=-1/0,zt.bezierBoundingBox(r,s,...i.slice(v,v+6),h),zt.rectBoundingBox(h[0],h[1],h[2],h[3],a),c>h[1]?(o=h[0],c=h[1]):c===h[1]&&(o=f(o,h[0])),u<h[3]?(d=h[2],u=h[3]):u===h[3]&&(d=f(d,h[2]))),r=b,s=m}const p=S(this,o1);p[0]=a[0]-S(this,kh),p[1]=a[1]-S(this,kh),p[2]=a[2]-a[0]+2*S(this,kh),p[3]=a[3]-a[1]+2*S(this,kh),this.firstPoint=[o,c],this.lastPoint=[d,u]};var U_,M_,B_,Sp,Mc,fE,BG,Xv,lk,pE,zG,mE,jG,z_,nI;class tI{constructor(e,t=0,i=0,r=!0){ne(this,fE);ne(this,Xv);ne(this,pE);ne(this,mE);ne(this,z_);ne(this,U_,void 0);ne(this,M_,void 0);ne(this,B_,void 0);ne(this,Sp,[]);ne(this,Mc,[]);const s=[1/0,1/0,-1/0,-1/0],o=10**-4;for(const{x:b,y:m,width:y,height:_}of e){const x=Math.floor((b-t)/o)*o,N=Math.ceil((b+y+t)/o)*o,k=Math.floor((m-t)/o)*o,T=Math.ceil((m+_+t)/o)*o,C=[x,k,T,!0],P=[N,k,T,!1];S(this,Sp).push(C,P),zt.rectBoundingBox(x,k,N,T,s)}const c=s[2]-s[0]+2*i,d=s[3]-s[1]+2*i,u=s[0]-i,f=s[1]-i;let h=r?-1/0:1/0,p=1/0;const v=S(this,Sp).at(r?-1:-2),w=[v[0],v[2]];for(const b of S(this,Sp)){const[m,y,_,x]=b;!x&&r?y<p?(p=y,h=m):y===p&&(h=Math.max(h,m)):x&&!r&&(y<p?(p=y,h=m):y===p&&(h=Math.min(h,m))),b[0]=(m-u)/c,b[1]=(y-f)/d,b[2]=(_-f)/d}se(this,U_,new Float32Array([u,f,c,d])),se(this,M_,[h,p]),se(this,B_,w)}getOutlines(){S(this,Sp).sort((t,i)=>t[0]-i[0]||t[1]-i[1]||t[2]-i[2]);const e=[];for(const t of S(this,Sp))t[3]?(e.push(...ye(this,z_,nI).call(this,t)),ye(this,pE,zG).call(this,t)):(ye(this,mE,jG).call(this,t),e.push(...ye(this,z_,nI).call(this,t)));return ye(this,fE,BG).call(this,e)}}U_=new WeakMap,M_=new WeakMap,B_=new WeakMap,Sp=new WeakMap,Mc=new WeakMap,fE=new WeakSet,BG=function(e){const t=[],i=new Set;for(const a of e){const[o,c,d]=a;t.push([o,c,a],[o,d,a])}t.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=t.length;a<o;a+=2){const c=t[a][2],d=t[a+1][2];c.push(d),d.push(c),i.add(c),i.add(d)}const r=[];let s;for(;i.size>0;){const a=i.values().next().value;let[o,c,d,u,f]=a;i.delete(a);let h=o,p=c;for(s=[o,d],r.push(s);;){let v;if(i.has(u))v=u;else if(i.has(f))v=f;else break;i.delete(v),[o,c,d,u,f]=v,h!==o&&(s.push(h,p,o,p===c?c:d),h=o),p=p===c?d:c}s.push(h,p)}return new Nwe(r,S(this,U_),S(this,M_),S(this,B_))},Xv=new WeakSet,lk=function(e){const t=S(this,Mc);let i=0,r=t.length-1;for(;i<=r;){const s=i+r>>1,a=t[s][0];if(a===e)return s;a<e?i=s+1:r=s-1}return r+1},pE=new WeakSet,zG=function([,e,t]){const i=ye(this,Xv,lk).call(this,e);S(this,Mc).splice(i,0,[e,t])},mE=new WeakSet,jG=function([,e,t]){const i=ye(this,Xv,lk).call(this,e);for(let r=i;r<S(this,Mc).length;r++){const[s,a]=S(this,Mc)[r];if(s!==e)break;if(s===e&&a===t){S(this,Mc).splice(r,1);return}}for(let r=i-1;r>=0;r--){const[s,a]=S(this,Mc)[r];if(s!==e)break;if(s===e&&a===t){S(this,Mc).splice(r,1);return}}},z_=new WeakSet,nI=function(e){const[t,i,r]=e,s=[[t,i,r]],a=ye(this,Xv,lk).call(this,r);for(let o=0;o<a;o++){const[c,d]=S(this,Mc)[o];for(let u=0,f=s.length;u<f;u++){const[,h,p]=s[u];if(!(d<=h||p<=c)){if(h>=c){if(p>d)s[u][1]=d;else{if(f===1)return[];s.splice(u,1),u--,f--}continue}s[u][2]=c,p>d&&s.push([t,d,p])}}}return s};var j_,Yv;class Nwe extends qt{constructor(t,i,r,s){super();ne(this,j_,void 0);ne(this,Yv,void 0);se(this,Yv,t),se(this,j_,i),this.firstPoint=r,this.lastPoint=s}toSVGPath(){const t=[];for(const i of S(this,Yv)){let[r,s]=i;t.push(`M${r} ${s}`);for(let a=2;a<i.length;a+=2){const o=i[a],c=i[a+1];o===r?(t.push(`V${c}`),s=c):c===s&&(t.push(`H${o}`),r=o)}t.push("Z")}return t.join(" ")}serialize([t,i,r,s],a){const o=[],c=r-t,d=s-i;for(const u of S(this,Yv)){const f=new Array(u.length);for(let h=0;h<u.length;h+=2)f[h]=t+u[h]*c,f[h+1]=s-u[h+1]*d;o.push(f)}return o}get box(){return S(this,j_)}get classNamesForOutlining(){return["highlightOutline"]}}j_=new WeakMap,Yv=new WeakMap;class iI extends B3{newFreeDrawOutline(e,t,i,r,s,a){return new Awe(e,t,i,r,s,a)}}class Awe extends UG{newOutliner(e,t,i,r,s,a=0){return new iI(e,t,i,r,s,a)}}var Kv,W_,Eh,l1,$_,oo,q_,H_,c1,nl,il,Ys,Jv,Zv,xa,Qv,Wl,V_,G_,rI,eb,ck,gE,WG,yE,$G,vE,qG,X_,sI,Th,Im,Np,C0,bE,HG,tb,dk,nb,uk,wE,VG,xE,GG,_E,XG,SE,YG,NE,KG;const Wn=class Wn extends Ui{constructor(t){super({...t,name:"highlightEditor"});ne(this,G_);ne(this,eb);ne(this,gE);ne(this,yE);ne(this,vE);ne(this,X_);ne(this,Th);ne(this,bE);ne(this,tb);ne(this,nb);ne(this,wE);ne(this,xE);ne(this,NE);ne(this,Kv,null);ne(this,W_,0);ne(this,Eh,void 0);ne(this,l1,null);ne(this,$_,null);ne(this,oo,null);ne(this,q_,null);ne(this,H_,0);ne(this,c1,null);ne(this,nl,null);ne(this,il,null);ne(this,Ys,!1);ne(this,Jv,null);ne(this,Zv,null);ne(this,xa,null);ne(this,Qv,"");ne(this,Wl,void 0);ne(this,V_,"");this.color=t.color||Wn._defaultColor,se(this,Wl,t.thickness||Wn._defaultThickness),this.opacity=t.opacity||Wn._defaultOpacity,se(this,Eh,t.boxes||null),se(this,V_,t.methodOfCreation||""),se(this,Qv,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(se(this,Ys,!0),ye(this,eb,ck).call(this,t),ye(this,Th,Im).call(this)):S(this,Eh)&&(se(this,Kv,t.anchorNode),se(this,W_,t.anchorOffset),se(this,q_,t.focusNode),se(this,H_,t.focusOffset),ye(this,G_,rI).call(this),ye(this,Th,Im).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=Wn.prototype;return un(this,"_keyboardManager",new US([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:S(this,Ys)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:S(this,Wl),methodOfCreation:S(this,V_)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,i){var r;Ui.initialize(t,i),Wn._defaultColor||(Wn._defaultColor=((r=i.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(t,i){switch(t){case In.HIGHLIGHT_COLOR:Wn._defaultColor=i;break;case In.HIGHLIGHT_THICKNESS:Wn._defaultThickness=i;break}}translateInPage(t,i){}get toolbarPosition(){return S(this,Zv)}get commentButtonPosition(){return S(this,Jv)}updateParams(t,i){switch(t){case In.HIGHLIGHT_COLOR:ye(this,gE,WG).call(this,i);break;case In.HIGHLIGHT_THICKNESS:ye(this,yE,$G).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[In.HIGHLIGHT_COLOR,Wn._defaultColor],[In.HIGHLIGHT_THICKNESS,Wn._defaultThickness]]}get propertiesToUpdate(){return[[In.HIGHLIGHT_COLOR,this.color||Wn._defaultColor],[In.HIGHLIGHT_THICKNESS,S(this,Wl)||Wn._defaultThickness],[In.HIGHLIGHT_FREE,S(this,Ys)]]}onUpdatedColor(){var t,i;(t=this.parent)==null||t.drawLayer.updateProperties(S(this,il),{root:{fill:this.color,"fill-opacity":this.opacity}}),(i=S(this,$_))==null||i.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",se(this,$_,new F3({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(ye(this,nb,uk).call(this))}getBaseTranslation(){return[0,0]}getRect(t,i){return super.getRect(t,i,ye(this,nb,uk).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){ye(this,X_,sI).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(ye(this,Th,Im).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let i=!1;this.parent&&!t?ye(this,X_,sI).call(this):t&&(ye(this,Th,Im).call(this,t),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),i&&this.select()}rotate(t){var s,a,o;const{drawLayer:i}=this.parent;let r;S(this,Ys)?(t=(t-this.rotation+360)%360,r=ye(s=Wn,Np,C0).call(s,S(this,nl).box,t)):r=ye(a=Wn,Np,C0).call(a,[this.x,this.y,this.width,this.height],t),i.updateProperties(S(this,il),{bbox:r,root:{"data-main-rotation":t}}),i.updateProperties(S(this,xa),{bbox:ye(o=Wn,Np,C0).call(o,S(this,oo).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();S(this,Qv)&&(t.setAttribute("aria-label",S(this,Qv)),t.setAttribute("role","mark")),S(this,Ys)?t.classList.add("free"):this.div.addEventListener("keydown",ye(this,bE,HG).bind(this),{signal:this._uiManager._signal});const i=se(this,c1,document.createElement("div"));return t.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=S(this,l1),this.setDims(),pV(this,S(this,c1),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(S(this,xa),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(S(this,xa),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:ye(this,tb,dk).call(this,!0);break;case 1:case 3:ye(this,tb,dk).call(this,!1);break}}select(){var t;super.select(),S(this,xa)&&((t=this.parent)==null||t.drawLayer.updateProperties(S(this,xa),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),S(this,xa)&&((t=this.parent)==null||t.drawLayer.updateProperties(S(this,xa),{rootClass:{selected:!1}}),S(this,Ys)||ye(this,tb,dk).call(this,!1))}get _mustFixPosition(){return!S(this,Ys)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(S(this,il),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(S(this,xa),{rootClass:{hidden:!t}}))}static startHighlighting(t,i,{target:r,x:s,y:a}){const{x:o,y:c,width:d,height:u}=r.getBoundingClientRect(),f=new AbortController,h=t.combinedSignal(f),p=v=>{f.abort(),ye(this,SE,YG).call(this,t,v)};window.addEventListener("blur",p,{signal:h}),window.addEventListener("pointerup",p,{signal:h}),window.addEventListener("pointerdown",wr,{capture:!0,passive:!1,signal:h}),window.addEventListener("contextmenu",ic,{signal:h}),r.addEventListener("pointermove",ye(this,_E,XG).bind(this,t),{signal:h}),this._freeHighlight=new iI({x:s,y:a},[o,c,d,u],t.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,i,r){var w,b,m,y;let s=null;if(t instanceof NG){const{data:{quadPoints:_,rect:x,rotation:N,id:k,color:T,opacity:C,popupRef:P,richText:D,contentsObj:E,creationDate:A,modificationDate:I},parent:{page:{pageNumber:R}}}=t;s=t={annotationType:mn.HIGHLIGHT,color:Array.from(T),opacity:C,quadPoints:_,boxes:null,pageIndex:R-1,rect:x.slice(0),rotation:N,annotationElementId:k,id:k,deleted:!1,popupRef:P,richText:D,comment:(E==null?void 0:E.str)||null,creationDate:A,modificationDate:I}}else if(t instanceof QL){const{data:{inkLists:_,rect:x,rotation:N,id:k,color:T,borderStyle:{rawWidth:C},popupRef:P,richText:D,contentsObj:E,creationDate:A,modificationDate:I},parent:{page:{pageNumber:R}}}=t;s=t={annotationType:mn.HIGHLIGHT,color:Array.from(T),thickness:C,inkLists:_,boxes:null,pageIndex:R-1,rect:x.slice(0),rotation:N,annotationElementId:k,id:k,deleted:!1,popupRef:P,richText:D,comment:(E==null?void 0:E.str)||null,creationDate:A,modificationDate:I}}const{color:a,quadPoints:o,inkLists:c,opacity:d}=t,u=await super.deserialize(t,i,r);u.color=zt.makeHexColor(...a),u.opacity=d||1,c&&se(u,Wl,t.thickness),u._initialData=s,t.comment&&u.setCommentData(t);const[f,h]=u.pageDimensions,[p,v]=u.pageTranslation;if(o){const _=se(u,Eh,[]);for(let x=0;x<o.length;x+=8)_.push({x:(o[x]-p)/f,y:1-(o[x+1]-v)/h,width:(o[x+2]-o[x])/f,height:(o[x+1]-o[x+5])/h});ye(w=u,G_,rI).call(w),ye(b=u,Th,Im).call(b),u.rotate(u.rotation)}else if(c){se(u,Ys,!0);const _=c[0],x={x:_[0]-p,y:h-(_[1]-v)},N=new iI(x,[0,0,f,h],1,S(u,Wl)/2,!0,.001);for(let C=0,P=_.length;C<P;C+=2)x.x=_[C]-p,x.y=h-(_[C+1]-v),N.add(x);const{id:k,clipPathId:T}=i.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:u.color,"fill-opacity":u._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:N.toSVGPath()}},!0,!0);ye(m=u,eb,ck).call(m,{highlightOutlines:N.getOutlines(),highlightId:k,clipPathId:T}),ye(y=u,Th,Im).call(y),u.rotate(u.parentRotation)}return u}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const i=Ui._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),r=super.serialize(t);return Object.assign(r,{color:i,opacity:this.opacity,thickness:S(this,Wl),quadPoints:ye(this,wE,VG).call(this),outlines:ye(this,xE,GG).call(this,r.rect)}),this.addComment(r),this.annotationElementId&&!ye(this,NE,KG).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};Kv=new WeakMap,W_=new WeakMap,Eh=new WeakMap,l1=new WeakMap,$_=new WeakMap,oo=new WeakMap,q_=new WeakMap,H_=new WeakMap,c1=new WeakMap,nl=new WeakMap,il=new WeakMap,Ys=new WeakMap,Jv=new WeakMap,Zv=new WeakMap,xa=new WeakMap,Qv=new WeakMap,Wl=new WeakMap,V_=new WeakMap,G_=new WeakSet,rI=function(){const t=new tI(S(this,Eh),.001);se(this,nl,t.getOutlines()),[this.x,this.y,this.width,this.height]=S(this,nl).box;const i=new tI(S(this,Eh),.0025,.001,this._uiManager.direction==="ltr");se(this,oo,i.getOutlines());const{firstPoint:r}=S(this,nl);se(this,Jv,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height]);const{lastPoint:s}=S(this,oo);se(this,Zv,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},eb=new WeakSet,ck=function({highlightOutlines:t,highlightId:i,clipPathId:r}){var h,p;se(this,nl,t);const s=1.5;if(se(this,oo,t.getNewOutline(S(this,Wl)/2+s,.0025)),i>=0)se(this,il,i),se(this,l1,r),this.parent.drawLayer.finalizeDraw(i,{bbox:t.box,path:{d:t.toSVGPath()}}),se(this,xa,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:S(this,oo).box,path:{d:S(this,oo).toSVGPath()}},!0));else if(this.parent){const v=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(S(this,il),{bbox:ye(h=Wn,Np,C0).call(h,S(this,nl).box,(v-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(S(this,xa),{bbox:ye(p=Wn,Np,C0).call(p,S(this,oo).box,v),path:{d:S(this,oo).toSVGPath()}})}const[a,o,c,d]=t.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=c,this.height=d;break;case 90:{const[v,w]=this.parentDimensions;this.x=o,this.y=1-a,this.width=c*w/v,this.height=d*v/w;break}case 180:this.x=1-a,this.y=1-o,this.width=c,this.height=d;break;case 270:{const[v,w]=this.parentDimensions;this.x=1-o,this.y=a,this.width=c*w/v,this.height=d*v/w;break}}const{firstPoint:u}=t;se(this,Jv,[(u[0]-a)/c,(u[1]-o)/d]);const{lastPoint:f}=S(this,oo);se(this,Zv,[(f[0]-a)/c,(f[1]-o)/d])},gE=new WeakSet,WG=function(t){const i=(a,o)=>{this.color=a,this.opacity=o,this.onUpdatedColor()},r=this.color,s=this.opacity;this.addCommands({cmd:i.bind(this,t,Wn._defaultOpacity),undo:i.bind(this,r,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:In.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)},yE=new WeakSet,$G=function(t){const i=S(this,Wl),r=s=>{se(this,Wl,s),ye(this,vE,qG).call(this,s)};this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:In.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},vE=new WeakSet,qG=function(t){S(this,Ys)&&(ye(this,eb,ck).call(this,{highlightOutlines:S(this,nl).getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims())},X_=new WeakSet,sI=function(){S(this,il)===null||!this.parent||(this.parent.drawLayer.remove(S(this,il)),se(this,il,null),this.parent.drawLayer.remove(S(this,xa)),se(this,xa,null))},Th=new WeakSet,Im=function(t=this.parent){S(this,il)===null&&({id:is(this,il)._,clipPathId:is(this,l1)._}=t.drawLayer.draw({bbox:S(this,nl).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:S(this,Ys)},path:{d:S(this,nl).toSVGPath()}},!1,!0),se(this,xa,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:S(this,Ys)},bbox:S(this,oo).box,path:{d:S(this,oo).toSVGPath()}},S(this,Ys))),S(this,c1)&&(S(this,c1).style.clipPath=S(this,l1)))},Np=new WeakSet,C0=function([t,i,r,s],a){switch(a){case 90:return[1-i-s,t,s,r];case 180:return[1-t-r,1-i-s,r,s];case 270:return[i,1-t-r,s,r]}return[t,i,r,s]},bE=new WeakSet,HG=function(t){Wn._keyboardManager.exec(this,t)},tb=new WeakSet,dk=function(t){if(!S(this,Kv))return;const i=window.getSelection();t?i.setPosition(S(this,Kv),S(this,W_)):i.setPosition(S(this,q_),S(this,H_))},nb=new WeakSet,uk=function(){return S(this,Ys)?this.rotation:0},wE=new WeakSet,VG=function(){if(S(this,Ys))return null;const[t,i]=this.pageDimensions,[r,s]=this.pageTranslation,a=S(this,Eh),o=new Float32Array(a.length*8);let c=0;for(const{x:d,y:u,width:f,height:h}of a){const p=d*t+r,v=(1-u)*i+s;o[c]=o[c+4]=p,o[c+1]=o[c+3]=v,o[c+2]=o[c+6]=p+f*t,o[c+5]=o[c+7]=v-h*i,c+=8}return o},xE=new WeakSet,GG=function(t){return S(this,nl).serialize(t,ye(this,nb,uk).call(this))},_E=new WeakSet,XG=function(t,i){this._freeHighlight.add(i)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},SE=new WeakSet,YG=function(t,i){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},NE=new WeakSet,KG=function(t){const{color:i}=this._initialData;return this.hasEditedComment||t.color.some((r,s)=>r!==i[s])},ne(Wn,Np),ne(Wn,_E),ne(Wn,SE),wt(Wn,"_defaultColor",null),wt(Wn,"_defaultOpacity",1),wt(Wn,"_defaultThickness",12),wt(Wn,"_type","highlight"),wt(Wn,"_editorType",mn.HIGHLIGHT),wt(Wn,"_freeHighlightId",-1),wt(Wn,"_freeHighlight",null),wt(Wn,"_freeHighlightClipId","");let z3=Wn;var d1;class JG{constructor(){ne(this,d1,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,i]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,i)}updateSVGProperty(e,t){S(this,d1)[e]=t}toSVGProperties(){const e=S(this,d1);return se(this,d1,Object.create(null)),{root:e}}reset(){se(this,d1,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){Ci("Not implemented")}}d1=new WeakMap;var rl,ib,Ss,u1,h1,Y_,aI,K_,oI,J_,lI,f1,mw,AE,ZG,rb,hk,p1,gw,Ap,D0;const Tn=class Tn extends Ui{constructor(t){super(t);ne(this,Y_);ne(this,K_);ne(this,J_);ne(this,f1);ne(this,AE);ne(this,rb);ne(this,p1);ne(this,Ap);ne(this,rl,null);ne(this,ib,void 0);wt(this,"_colorPicker",null);wt(this,"_drawId",null);se(this,ib,t.mustBeCommitted||!1),this._addOutlines(t)}onUpdatedColor(){var t;(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(ye(this,Y_,aI).call(this,t),ye(this,f1,mw).call(this))}static _mergeSVGProperties(t,i){const r=new Set(Object.keys(t));for(const[s,a]of Object.entries(i))r.has(s)?Object.assign(t[s],a):t[s]=a;return t}static getDefaultDrawingOptions(t){Ci("Not implemented")}static get typesMap(){Ci("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,i){const r=this.typesMap.get(t);r&&this._defaultDrawingOptions.updateProperty(r,i),this._currentParent&&(S(Tn,Ss).updateProperty(r,i),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,i){const r=this.constructor.typesMap.get(t);r&&this._updateProperty(t,r,i)}static get defaultPropertiesToUpdate(){const t=[],i=this._defaultDrawingOptions;for(const[r,s]of this.typesMap)t.push([r,i[s]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:i}=this;for(const[r,s]of this.constructor.typesMap)t.push([r,i[s]]);return t}_updateProperty(t,i,r){const s=this._drawingOptions,a=s[i],o=c=>{var u;s.updateProperty(i,c);const d=S(this,rl).updateProperty(i,c);d&&ye(this,p1,gw).call(this,d),(u=this.parent)==null||u.drawLayer.updateProperties(this._drawId,s.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:o.bind(this,r),undo:o.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Tn._mergeSVGProperties(S(this,rl).getPathResizingSVGProperties(ye(this,rb,hk).call(this)),{bbox:ye(this,Ap,D0).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Tn._mergeSVGProperties(S(this,rl).getPathResizedSVGProperties(ye(this,rb,hk).call(this)),{bbox:ye(this,Ap,D0).call(this)}))}_onTranslating(t,i){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,{bbox:ye(this,Ap,D0).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,Tn._mergeSVGProperties(S(this,rl).getPathTranslatedSVGProperties(ye(this,rb,hk).call(this),this.parentDimensions),{bbox:ye(this,Ap,D0).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,S(this,ib)&&(se(this,ib,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){ye(this,J_,lI).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(ye(this,f1,mw).call(this),ye(this,p1,gw).call(this,S(this,rl).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let i=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),ye(this,J_,lI).call(this)):t&&(this._uiManager.addShouldRescale(this),ye(this,f1,mw).call(this,t),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),i&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Tn._mergeSVGProperties({bbox:ye(this,Ap,D0).call(this)},S(this,rl).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&ye(this,p1,gw).call(this,S(this,rl).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,i;this._isCopy&&(t=this.x,i=this.y);const r=super.render();r.classList.add("draw");const s=document.createElement("div");return r.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,i),r}static createDrawerInstance(t,i,r,s,a){Ci("Not implemented")}static startDrawing(t,i,r,s){var b;const{target:a,offsetX:o,offsetY:c,pointerId:d,pointerType:u}=s;if(ga.isInitializedAndDifferentPointerType(u))return;const{viewport:{rotation:f}}=t,{width:h,height:p}=a.getBoundingClientRect(),v=se(Tn,u1,new AbortController),w=t.combinedSignal(v);if(ga.setPointer(u,d),window.addEventListener("pointerup",m=>{ga.isSamePointerIdOrRemove(m.pointerId)&&this._endDraw(m)},{signal:w}),window.addEventListener("pointercancel",m=>{ga.isSamePointerIdOrRemove(m.pointerId)&&this._currentParent.endDrawingSession()},{signal:w}),window.addEventListener("pointerdown",m=>{ga.isSamePointerType(m.pointerType)&&(ga.initializeAndAddPointerId(m.pointerId),S(Tn,Ss).isCancellable()&&(S(Tn,Ss).removeLastElement(),S(Tn,Ss).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:w}),window.addEventListener("contextmenu",ic,{signal:w}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:w}),a.addEventListener("touchmove",m=>{ga.isSameTimeStamp(m.timeStamp)&&wr(m)},{signal:w}),t.toggleDrawing(),(b=i._editorUndoBar)==null||b.hide(),S(Tn,Ss)){t.drawLayer.updateProperties(this._currentDrawId,S(Tn,Ss).startNew(o,c,h,p,f));return}i.updateUIForDefaultProperties(this),se(Tn,Ss,this.createDrawerInstance(o,c,h,p,f)),se(Tn,h1,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(S(Tn,h1).toSVGProperties(),S(Tn,Ss).defaultSVGProperties),!0,!1)}static _drawMove(t){if(ga.isSameTimeStamp(t.timeStamp),!S(Tn,Ss))return;const{offsetX:i,offsetY:r,pointerId:s}=t;if(ga.isSamePointerId(s)){if(ga.isUsingMultiplePointers()){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,S(Tn,Ss).add(i,r)),ga.setTimeStamp(t.timeStamp),wr(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,se(Tn,Ss,null),se(Tn,h1,null),ga.clearTimeStamp()),S(Tn,u1)&&(S(Tn,u1).abort(),se(Tn,u1,null),ga.clearPointerIds())}static _endDraw(t){const i=this._currentParent;if(i){if(i.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===i.div&&i.drawLayer.updateProperties(this._currentDrawId,S(Tn,Ss).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const r=S(Tn,Ss),s=this._currentDrawId,a=r.getLastElement();i.addCommands({cmd:()=>{i.drawLayer.updateProperties(s,r.setLastElement(a))},undo:()=>{i.drawLayer.updateProperties(s,r.removeLastElement())},mustExec:!1,type:In.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const i=this._currentParent;if(!i)return null;if(i.toggleDrawing(!0),i.cleanUndoStack(In.DRAW_STEP),!S(Tn,Ss).isEmpty()){const{pageDimensions:[r,s],scale:a}=i,o=i.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:S(Tn,Ss).getOutlines(r*a,s*a,a,this._INNER_MARGIN),drawingOptions:S(Tn,h1),mustBeCommitted:!t});return this._cleanup(!0),o}return i.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,i,r,s,a,o){Ci("Not implemented")}static async deserialize(t,i,r){var f,h;const{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:c}}=i.viewport,d=this.deserializeDraw(o,c,s,a,this._INNER_MARGIN,t),u=await super.deserialize(t,i,r);return u.createDrawingOptions(t),ye(f=u,Y_,aI).call(f,{drawOutlines:d}),ye(h=u,f1,mw).call(h),u.onScaleChanging(),u.rotate(),u}serializeDraw(t){const[i,r]=this.pageTranslation,[s,a]=this.pageDimensions;return S(this,rl).serialize([i,r,s,a],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};rl=new WeakMap,ib=new WeakMap,Ss=new WeakMap,u1=new WeakMap,h1=new WeakMap,Y_=new WeakSet,aI=function({drawOutlines:t,drawId:i,drawingOptions:r}){se(this,rl,t),this._drawingOptions||(this._drawingOptions=r),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),i>=0?(this._drawId=i,this.parent.drawLayer.finalizeDraw(i,t.defaultProperties)):this._drawId=ye(this,K_,oI).call(this,t,this.parent),ye(this,p1,gw).call(this,t.box)},K_=new WeakSet,oI=function(t,i){const{id:r}=i.drawLayer.draw(Tn._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return r},J_=new WeakSet,lI=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},f1=new WeakSet,mw=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=ye(this,K_,oI).call(this,S(this,rl),t)}},AE=new WeakSet,ZG=function([t,i,r,s]){const{parentDimensions:[a,o],rotation:c}=this;switch(c){case 90:return[i,1-t,r*(o/a),s*(a/o)];case 180:return[1-t,1-i,r,s];case 270:return[1-i,t,r*(o/a),s*(a/o)];default:return[t,i,r,s]}},rb=new WeakSet,hk=function(){const{x:t,y:i,width:r,height:s,parentDimensions:[a,o],rotation:c}=this;switch(c){case 90:return[1-i,t,r*(a/o),s*(o/a)];case 180:return[1-t,1-i,r,s];case 270:return[i,1-t,r*(a/o),s*(o/a)];default:return[t,i,r,s]}},p1=new WeakSet,gw=function(t){[this.x,this.y,this.width,this.height]=ye(this,AE,ZG).call(this,t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},Ap=new WeakSet,D0=function(){const{x:t,y:i,width:r,height:s,rotation:a,parentRotation:o,parentDimensions:[c,d]}=this;switch((a*4+o)/90){case 1:return[1-i-s,t,s,r];case 2:return[1-t-r,1-i-s,r,s];case 3:return[i,1-t-r,s,r];case 4:return[t,i-r*(c/d),s*(d/c),r*(c/d)];case 5:return[1-i,t,r*(c/d),s*(d/c)];case 6:return[1-t-s*(d/c),1-i,s*(d/c),r*(c/d)];case 7:return[i-r*(c/d),1-t-s*(d/c),r*(c/d),s*(d/c)];case 8:return[t-r,i-s,r,s];case 9:return[1-i,t-r,s,r];case 10:return[1-t,1-i,r,s];case 11:return[i-s,1-t,s,r];case 12:return[t-s*(d/c),i,s*(d/c),r*(c/d)];case 13:return[1-i-r*(c/d),t-s*(d/c),r*(c/d),s*(d/c)];case 14:return[1-t,1-i-r*(c/d),s*(d/c),r*(c/d)];case 15:return[i,1-t,r*(c/d),s*(d/c)];default:return[t,i,r,s]}},wt(Tn,"_currentDrawId",-1),wt(Tn,"_currentParent",null),ne(Tn,Ss,null),ne(Tn,u1,null),ne(Tn,h1,null),wt(Tn,"_INNER_MARGIN",3);let j3=Tn;var Qd,Ns,As,m1,sb,Oa,Ks,$l,g1,y1,v1,ab,fk;class kwe{constructor(e,t,i,r,s,a){ne(this,ab);ne(this,Qd,new Float64Array(6));ne(this,Ns,void 0);ne(this,As,void 0);ne(this,m1,void 0);ne(this,sb,void 0);ne(this,Oa,void 0);ne(this,Ks,"");ne(this,$l,0);ne(this,g1,new BS);ne(this,y1,void 0);ne(this,v1,void 0);se(this,y1,i),se(this,v1,r),se(this,m1,s),se(this,sb,a),[e,t]=ye(this,ab,fk).call(this,e,t);const o=se(this,Ns,[NaN,NaN,NaN,NaN,e,t]);se(this,Oa,[e,t]),se(this,As,[{line:o,points:S(this,Oa)}]),S(this,Qd).set(o,0)}updateProperty(e,t){e==="stroke-width"&&se(this,sb,t)}isEmpty(){return!S(this,As)||S(this,As).length===0}isCancellable(){return S(this,Oa).length<=10}add(e,t){[e,t]=ye(this,ab,fk).call(this,e,t);const[i,r,s,a]=S(this,Qd).subarray(2,6),o=e-s,c=t-a;return Math.hypot(S(this,y1)*o,S(this,v1)*c)<=2?null:(S(this,Oa).push(e,t),isNaN(i)?(S(this,Qd).set([s,a,e,t],2),S(this,Ns).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(S(this,Qd)[0])&&S(this,Ns).splice(6,6),S(this,Qd).set([i,r,s,a,e,t],0),S(this,Ns).push(...qt.createBezierPoints(i,r,s,a,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const i=this.add(e,t);return i||(S(this,Oa).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,i,r,s){se(this,y1,i),se(this,v1,r),se(this,m1,s),[e,t]=ye(this,ab,fk).call(this,e,t);const a=se(this,Ns,[NaN,NaN,NaN,NaN,e,t]);se(this,Oa,[e,t]);const o=S(this,As).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),S(this,As).push({line:a,points:S(this,Oa)}),S(this,Qd).set(a,0),se(this,$l,0),this.toSVGPath(),null}getLastElement(){return S(this,As).at(-1)}setLastElement(e){return S(this,As)?(S(this,As).push(e),se(this,Ns,e.line),se(this,Oa,e.points),se(this,$l,0),{path:{d:this.toSVGPath()}}):S(this,g1).setLastElement(e)}removeLastElement(){if(!S(this,As))return S(this,g1).removeLastElement();S(this,As).pop(),se(this,Ks,"");for(let e=0,t=S(this,As).length;e<t;e++){const{line:i,points:r}=S(this,As)[e];se(this,Ns,i),se(this,Oa,r),se(this,$l,0),this.toSVGPath()}return{path:{d:S(this,Ks)}}}toSVGPath(){const e=qt.svgRound(S(this,Ns)[4]),t=qt.svgRound(S(this,Ns)[5]);if(S(this,Oa).length===2)return se(this,Ks,`${S(this,Ks)} M ${e} ${t} Z`),S(this,Ks);if(S(this,Oa).length<=6){const r=S(this,Ks).lastIndexOf("M");se(this,Ks,`${S(this,Ks).slice(0,r)} M ${e} ${t}`),se(this,$l,6)}if(S(this,Oa).length===4){const r=qt.svgRound(S(this,Ns)[10]),s=qt.svgRound(S(this,Ns)[11]);return se(this,Ks,`${S(this,Ks)} L ${r} ${s}`),se(this,$l,12),S(this,Ks)}const i=[];S(this,$l)===0&&(i.push(`M ${e} ${t}`),se(this,$l,6));for(let r=S(this,$l),s=S(this,Ns).length;r<s;r+=6){const[a,o,c,d,u,f]=S(this,Ns).slice(r,r+6).map(qt.svgRound);i.push(`C${a} ${o} ${c} ${d} ${u} ${f}`)}return se(this,Ks,S(this,Ks)+i.join(" ")),se(this,$l,S(this,Ns).length),S(this,Ks)}getOutlines(e,t,i,r){const s=S(this,As).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),S(this,g1).build(S(this,As),e,t,i,S(this,m1),S(this,sb),r),se(this,Qd,null),se(this,Ns,null),se(this,As,null),se(this,Ks,null),S(this,g1)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Qd=new WeakMap,Ns=new WeakMap,As=new WeakMap,m1=new WeakMap,sb=new WeakMap,Oa=new WeakMap,Ks=new WeakMap,$l=new WeakMap,g1=new WeakMap,y1=new WeakMap,v1=new WeakMap,ab=new WeakSet,fk=function(e,t){return qt._normalizePoint(e,t,S(this,y1),S(this,v1),S(this,m1))};var Fa,Z_,Q_,sl,eu,tu,ob,lb,b1,Bc,qu,kE,QG,EE,eX,TE,tX;class BS extends qt{constructor(){super(...arguments);ne(this,Bc);ne(this,kE);ne(this,EE);ne(this,TE);ne(this,Fa,void 0);ne(this,Z_,0);ne(this,Q_,void 0);ne(this,sl,void 0);ne(this,eu,void 0);ne(this,tu,void 0);ne(this,ob,void 0);ne(this,lb,void 0);ne(this,b1,void 0)}build(t,i,r,s,a,o,c){se(this,eu,i),se(this,tu,r),se(this,ob,s),se(this,lb,a),se(this,b1,o),se(this,Q_,c??0),se(this,sl,t),ye(this,EE,eX).call(this)}get thickness(){return S(this,b1)}setLastElement(t){return S(this,sl).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return S(this,sl).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:i}of S(this,sl)){if(t.push(`M${qt.svgRound(i[4])} ${qt.svgRound(i[5])}`),i.length===6){t.push("Z");continue}if(i.length===12&&isNaN(i[6])){t.push(`L${qt.svgRound(i[10])} ${qt.svgRound(i[11])}`);continue}for(let r=6,s=i.length;r<s;r+=6){const[a,o,c,d,u,f]=i.subarray(r,r+6).map(qt.svgRound);t.push(`C${a} ${o} ${c} ${d} ${u} ${f}`)}}return t.join("")}serialize([t,i,r,s],a){const o=[],c=[],[d,u,f,h]=ye(this,kE,QG).call(this);let p,v,w,b,m,y,_,x,N;switch(S(this,lb)){case 0:N=qt._rescale,p=t,v=i+s,w=r,b=-s,m=t+d*r,y=i+(1-u-h)*s,_=t+(d+f)*r,x=i+(1-u)*s;break;case 90:N=qt._rescaleAndSwap,p=t,v=i,w=r,b=s,m=t+u*r,y=i+d*s,_=t+(u+h)*r,x=i+(d+f)*s;break;case 180:N=qt._rescale,p=t+r,v=i,w=-r,b=s,m=t+(1-d-f)*r,y=i+u*s,_=t+(1-d)*r,x=i+(u+h)*s;break;case 270:N=qt._rescaleAndSwap,p=t+r,v=i+s,w=-r,b=-s,m=t+(1-u-h)*r,y=i+(1-d-f)*s,_=t+(1-u)*r,x=i+(1-d)*s;break}for(const{line:k,points:T}of S(this,sl))o.push(N(k,p,v,w,b,a?new Array(k.length):null)),c.push(N(T,p,v,w,b,a?new Array(T.length):null));return{lines:o,points:c,rect:[m,y,_,x]}}static deserialize(t,i,r,s,a,{paths:{lines:o,points:c},rotation:d,thickness:u}){const f=[];let h,p,v,w,b;switch(d){case 0:b=qt._rescale,h=-t/r,p=i/s+1,v=1/r,w=-1/s;break;case 90:b=qt._rescaleAndSwap,h=-i/s,p=-t/r,v=1/s,w=1/r;break;case 180:b=qt._rescale,h=t/r+1,p=-i/s,v=-1/r,w=1/s;break;case 270:b=qt._rescaleAndSwap,h=i/s+1,p=t/r+1,v=-1/s,w=-1/r;break}if(!o){o=[];for(const y of c){const _=y.length;if(_===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,y[0],y[1]]));continue}if(_===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,y[0],y[1],NaN,NaN,NaN,NaN,y[2],y[3]]));continue}const x=new Float32Array(3*(_-2));o.push(x);let[N,k,T,C]=y.subarray(0,4);x.set([NaN,NaN,NaN,NaN,N,k],0);for(let P=4;P<_;P+=2){const D=y[P],E=y[P+1];x.set(qt.createBezierPoints(N,k,T,C,D,E),(P-2)*3),[N,k,T,C]=[T,C,D,E]}}}for(let y=0,_=o.length;y<_;y++)f.push({line:b(o[y].map(x=>x??NaN),h,p,v,w),points:b(c[y].map(x=>x??NaN),h,p,v,w)});const m=new this.prototype.constructor;return m.build(f,r,s,1,d,u,a),m}get box(){return S(this,Fa)}updateProperty(t,i){return t==="stroke-width"?ye(this,TE,tX).call(this,i):null}updateParentDimensions([t,i],r){const[s,a]=ye(this,Bc,qu).call(this);se(this,eu,t),se(this,tu,i),se(this,ob,r);const[o,c]=ye(this,Bc,qu).call(this),d=o-s,u=c-a,f=S(this,Fa);return f[0]-=d,f[1]-=u,f[2]+=2*d,f[3]+=2*u,f}updateRotation(t){return se(this,Z_,t),{path:{transform:this.rotationTransform}}}get viewBox(){return S(this,Fa).map(qt.svgRound).join(" ")}get defaultProperties(){const[t,i]=S(this,Fa);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${qt.svgRound(t)} ${qt.svgRound(i)}`}}}get rotationTransform(){const[,,t,i]=S(this,Fa);let r=0,s=0,a=0,o=0,c=0,d=0;switch(S(this,Z_)){case 90:s=i/t,a=-t/i,c=t;break;case 180:r=-1,o=-1,c=t,d=i;break;case 270:s=-i/t,a=t/i,d=i;break;default:return""}return`matrix(${r} ${s} ${a} ${o} ${qt.svgRound(c)} ${qt.svgRound(d)})`}getPathResizingSVGProperties([t,i,r,s]){const[a,o]=ye(this,Bc,qu).call(this),[c,d,u,f]=S(this,Fa);if(Math.abs(u-a)<=qt.PRECISION||Math.abs(f-o)<=qt.PRECISION){const b=t+r/2-(c+u/2),m=i+s/2-(d+f/2);return{path:{"transform-origin":`${qt.svgRound(t)} ${qt.svgRound(i)}`,transform:`${this.rotationTransform} translate(${b} ${m})`}}}const h=(r-2*a)/(u-2*a),p=(s-2*o)/(f-2*o),v=u/r,w=f/s;return{path:{"transform-origin":`${qt.svgRound(c)} ${qt.svgRound(d)}`,transform:`${this.rotationTransform} scale(${v} ${w}) translate(${qt.svgRound(a)} ${qt.svgRound(o)}) scale(${h} ${p}) translate(${qt.svgRound(-a)} ${qt.svgRound(-o)})`}}}getPathResizedSVGProperties([t,i,r,s]){const[a,o]=ye(this,Bc,qu).call(this),c=S(this,Fa),[d,u,f,h]=c;if(c[0]=t,c[1]=i,c[2]=r,c[3]=s,Math.abs(f-a)<=qt.PRECISION||Math.abs(h-o)<=qt.PRECISION){const m=t+r/2-(d+f/2),y=i+s/2-(u+h/2);for(const{line:_,points:x}of S(this,sl))qt._translate(_,m,y,_),qt._translate(x,m,y,x);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${qt.svgRound(t)} ${qt.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const p=(r-2*a)/(f-2*a),v=(s-2*o)/(h-2*o),w=-p*(d+a)+t+a,b=-v*(u+o)+i+o;if(p!==1||v!==1||w!==0||b!==0)for(const{line:m,points:y}of S(this,sl))qt._rescale(m,w,b,p,v,m),qt._rescale(y,w,b,p,v,y);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${qt.svgRound(t)} ${qt.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,i],r){const[s,a]=r,o=S(this,Fa),c=t-o[0],d=i-o[1];if(S(this,eu)===s&&S(this,tu)===a)for(const{line:u,points:f}of S(this,sl))qt._translate(u,c,d,u),qt._translate(f,c,d,f);else{const u=S(this,eu)/s,f=S(this,tu)/a;se(this,eu,s),se(this,tu,a);for(const{line:h,points:p}of S(this,sl))qt._rescale(h,c,d,u,f,h),qt._rescale(p,c,d,u,f,p);o[2]*=u,o[3]*=f}return o[0]=t,o[1]=i,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${qt.svgRound(t)} ${qt.svgRound(i)}`}}}get defaultSVGProperties(){const t=S(this,Fa);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${qt.svgRound(t[0])} ${qt.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}Fa=new WeakMap,Z_=new WeakMap,Q_=new WeakMap,sl=new WeakMap,eu=new WeakMap,tu=new WeakMap,ob=new WeakMap,lb=new WeakMap,b1=new WeakMap,Bc=new WeakSet,qu=function(t=S(this,b1)){const i=S(this,Q_)+t/2*S(this,ob);return S(this,lb)%180===0?[i/S(this,eu),i/S(this,tu)]:[i/S(this,tu),i/S(this,eu)]},kE=new WeakSet,QG=function(){const[t,i,r,s]=S(this,Fa),[a,o]=ye(this,Bc,qu).call(this,0);return[t+a,i+o,r-2*a,s-2*o]},EE=new WeakSet,eX=function(){const t=se(this,Fa,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of S(this,sl)){if(s.length<=12){for(let c=4,d=s.length;c<d;c+=6)zt.pointBoundingBox(s[c],s[c+1],t);continue}let a=s[4],o=s[5];for(let c=6,d=s.length;c<d;c+=6){const[u,f,h,p,v,w]=s.subarray(c,c+6);zt.bezierBoundingBox(a,o,u,f,h,p,v,w,t),a=v,o=w}}const[i,r]=ye(this,Bc,qu).call(this);t[0]=Ba(t[0]-i,0,1),t[1]=Ba(t[1]-r,0,1),t[2]=Ba(t[2]+i,0,1),t[3]=Ba(t[3]+r,0,1),t[2]-=t[0],t[3]-=t[1]},TE=new WeakSet,tX=function(t){const[i,r]=ye(this,Bc,qu).call(this);se(this,b1,t);const[s,a]=ye(this,Bc,qu).call(this),[o,c]=[s-i,a-r],d=S(this,Fa);return d[0]-=o,d[1]-=c,d[2]+=2*o,d[3]+=2*c,d};class aC extends JG{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Ui._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new aC(this._viewParameters);return e.updateAll(this),e}}var CE,nX;const J0=class J0 extends j3{constructor(t){super({...t,name:"inkEditor"});ne(this,CE);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,i){Ui.initialize(t,i),this._defaultDrawingOptions=new aC(i.viewParameters)}static getDefaultDrawingOptions(t){const i=this._defaultDrawingOptions.clone();return i.updateProperties(t),i}static get supportMultipleDrawings(){return!0}static get typesMap(){return un(this,"typesMap",new Map([[In.INK_THICKNESS,"stroke-width"],[In.INK_COLOR,"stroke"],[In.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,i,r,s,a){return new kwe(t,i,r,s,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,i,r,s,a,o){return BS.deserialize(t,i,r,s,a,o)}static async deserialize(t,i,r){let s=null;if(t instanceof QL){const{data:{inkLists:o,rect:c,rotation:d,id:u,color:f,opacity:h,borderStyle:{rawWidth:p},popupRef:v,richText:w,contentsObj:b,creationDate:m,modificationDate:y},parent:{page:{pageNumber:_}}}=t;s=t={annotationType:mn.INK,color:Array.from(f),thickness:p,opacity:h,paths:{points:o},boxes:null,pageIndex:_-1,rect:c.slice(0),rotation:d,annotationElementId:u,id:u,deleted:!1,popupRef:v,richText:w,comment:(b==null?void 0:b.str)||null,creationDate:m,modificationDate:y}}const a=await super.deserialize(t,i,r);return a._initialData=s,t.comment&&a.setCommentData(t),a}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new U3(this)),[["colorPicker",this._colorPicker]]}get colorType(){return In.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:i,parent:r}=this;i.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(t,i.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:i,opacity:r}){this._drawingOptions=J0.getDefaultDrawingOptions({stroke:zt.makeHexColor(...t),"stroke-width":i,"stroke-opacity":r})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:i,points:r}=this.serializeDraw(t),{_drawingOptions:{stroke:s,"stroke-opacity":a,"stroke-width":o}}=this,c=Object.assign(super.serialize(t),{color:Ui._colorManager.convert(s),opacity:a,thickness:o,paths:{lines:i,points:r}});return this.addComment(c),t?(c.isCopy=!0,c):this.annotationElementId&&!ye(this,CE,nX).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:i,rect:r}=this.serializeDraw(!1);return t.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:i,popup:this.comment}),null}};CE=new WeakSet,nX=function(t){const{color:i,thickness:r,opacity:s,pageIndex:a}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((o,c)=>o!==i[c])||t.thickness!==r||t.opacity!==s||t.pageIndex!==a},wt(J0,"_type","ink"),wt(J0,"_editorType",mn.INK),wt(J0,"_defaultDrawingOptions",null);let cI=J0;class dI extends BS{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const GN=8,U2=3;var w1,eS,uI,zc,DE,iX,PE,rX,tS,hI,cb,pk,IE,sX,RE,aX,LE,oX,nS,fI,iS,pI,OE,lX;class ls{static extractContoursFromText(e,{fontFamily:t,fontStyle:i,fontWeight:r},s,a,o,c){let d=new OffscreenCanvas(1,1),u=d.getContext("2d",{alpha:!1});const f=200,h=u.font=`${i} ${r} ${f}px ${t}`,{actualBoundingBoxLeft:p,actualBoundingBoxRight:v,actualBoundingBoxAscent:w,actualBoundingBoxDescent:b,fontBoundingBoxAscent:m,fontBoundingBoxDescent:y,width:_}=u.measureText(e),x=1.5,N=Math.ceil(Math.max(Math.abs(p)+Math.abs(v)||0,_)*x),k=Math.ceil(Math.max(Math.abs(w)+Math.abs(b)||f,Math.abs(m)+Math.abs(y)||f)*x);d=new OffscreenCanvas(N,k),u=d.getContext("2d",{alpha:!0,willReadFrequently:!0}),u.font=h,u.filter="grayscale(1)",u.fillStyle="white",u.fillRect(0,0,N,k),u.fillStyle="black",u.fillText(e,N*(x-1)/2,k*(3-x)/2);const T=ye(this,nS,fI).call(this,u.getImageData(0,0,N,k).data),C=ye(this,LE,oX).call(this,T),P=ye(this,iS,pI).call(this,C),D=ye(this,tS,hI).call(this,T,N,k,P);return this.processDrawnLines({lines:{curves:D,width:N,height:k},pageWidth:s,pageHeight:a,rotation:o,innerMargin:c,mustSmooth:!0,areContours:!0})}static process(e,t,i,r,s){const[a,o,c]=ye(this,OE,lX).call(this,e),[d,u]=ye(this,RE,aX).call(this,a,o,c,Math.hypot(o,c)*S(this,w1).sigmaSFactor,S(this,w1).sigmaR,S(this,w1).kernelSize),f=ye(this,iS,pI).call(this,u),h=ye(this,tS,hI).call(this,d,o,c,f);return this.processDrawnLines({lines:{curves:h,width:o,height:c},pageWidth:t,pageHeight:i,rotation:r,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:i,rotation:r,innerMargin:s,mustSmooth:a,areContours:o}){r%180!==0&&([t,i]=[i,t]);const{curves:c,width:d,height:u}=e,f=e.thickness??0,h=[],p=Math.min(t/d,i/u),v=p/t,w=p/i,b=[];for(const{points:y}of c){const _=a?ye(this,IE,sX).call(this,y):y;if(!_)continue;b.push(_);const x=_.length,N=new Float32Array(x),k=new Float32Array(3*(x===2?2:x-2));if(h.push({line:k,points:N}),x===2){N[0]=_[0]*v,N[1]=_[1]*w,k.set([NaN,NaN,NaN,NaN,N[0],N[1]],0);continue}let[T,C,P,D]=_;T*=v,C*=w,P*=v,D*=w,N.set([T,C,P,D],0),k.set([NaN,NaN,NaN,NaN,T,C],0);for(let E=4;E<x;E+=2){const A=N[E]=_[E]*v,I=N[E+1]=_[E+1]*w;k.set(qt.createBezierPoints(T,C,P,D,A,I),(E-2)*3),[T,C,P,D]=[P,D,A,I]}}if(h.length===0)return null;const m=o?new dI:new BS;return m.build(h,t,i,1,r,o?0:f,s),{outline:m,newCurves:b,areContours:o,thickness:f,width:d,height:u}}static async compressSignature({outlines:e,areContours:t,thickness:i,width:r,height:s}){let a=1/0,o=-1/0,c=0;for(const _ of e){c+=_.length;for(let x=2,N=_.length;x<N;x++){const k=_[x]-_[x-2];a=Math.min(a,k),o=Math.max(o,k)}}let d;a>=-128&&o<=127?d=Int8Array:a>=-32768&&o<=32767?d=Int16Array:d=Int32Array;const u=e.length,f=GN+U2*u,h=new Uint32Array(f);let p=0;h[p++]=f*Uint32Array.BYTES_PER_ELEMENT+(c-2*u)*d.BYTES_PER_ELEMENT,h[p++]=0,h[p++]=r,h[p++]=s,h[p++]=t?0:1,h[p++]=Math.max(0,Math.floor(i??0)),h[p++]=u,h[p++]=d.BYTES_PER_ELEMENT;for(const _ of e)h[p++]=_.length-2,h[p++]=_[0],h[p++]=_[1];const v=new CompressionStream("deflate-raw"),w=v.writable.getWriter();await w.ready,w.write(h);const b=d.prototype.constructor;for(const _ of e){const x=new b(_.length-2);for(let N=2,k=_.length;N<k;N++)x[N-2]=_[N]-_[N-2];w.write(x)}w.close();const m=await new Response(v.readable).arrayBuffer(),y=new Uint8Array(m);return sV(y)}static async decompressSignature(e){try{const t=Wbe(e),{readable:i,writable:r}=new DecompressionStream("deflate-raw"),s=r.getWriter();await s.ready,s.write(t).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let a=null,o=0;for await(const _ of i)a||(a=new Uint8Array(new Uint32Array(_.buffer,0,4)[0])),a.set(_,o),o+=_.length;const c=new Uint32Array(a.buffer,0,a.length>>2),d=c[1];if(d!==0)throw new Error(`Invalid version: ${d}`);const u=c[2],f=c[3],h=c[4]===0,p=c[5],v=c[6],w=c[7],b=[],m=(GN+U2*v)*Uint32Array.BYTES_PER_ELEMENT;let y;switch(w){case Int8Array.BYTES_PER_ELEMENT:y=new Int8Array(a.buffer,m);break;case Int16Array.BYTES_PER_ELEMENT:y=new Int16Array(a.buffer,m);break;case Int32Array.BYTES_PER_ELEMENT:y=new Int32Array(a.buffer,m);break}o=0;for(let _=0;_<v;_++){const x=c[U2*_+GN],N=new Float32Array(x+2);b.push(N);for(let k=0;k<U2-1;k++)N[k]=c[U2*_+GN+k+1];for(let k=0;k<x;k++)N[k+2]=N[k]+y[o++]}return{areContours:h,thickness:p,outlines:b,width:u,height:f}}catch(t){return dn(`decompressSignature: ${t}`),null}}}w1=new WeakMap,eS=new WeakSet,uI=function(e,t,i,r){return i-=e,r-=t,i===0?r>0?0:4:i===1?r+6:2-r},zc=new WeakMap,DE=new WeakSet,iX=function(e,t,i,r,s,a,o){const c=ye(this,eS,uI).call(this,i,r,s,a);for(let d=0;d<8;d++){const u=(-d+c-o+16)%8,f=S(this,zc)[2*u],h=S(this,zc)[2*u+1];if(e[(i+f)*t+(r+h)]!==0)return u}return-1},PE=new WeakSet,rX=function(e,t,i,r,s,a,o){const c=ye(this,eS,uI).call(this,i,r,s,a);for(let d=0;d<8;d++){const u=(d+c+o+16)%8,f=S(this,zc)[2*u],h=S(this,zc)[2*u+1];if(e[(i+f)*t+(r+h)]!==0)return u}return-1},tS=new WeakSet,hI=function(e,t,i,r){const s=e.length,a=new Int32Array(s);for(let u=0;u<s;u++)a[u]=e[u]<=r?1:0;for(let u=1;u<i-1;u++)a[u*t]=a[u*t+t-1]=0;for(let u=0;u<t;u++)a[u]=a[t*i-1-u]=0;let o=1,c;const d=[];for(let u=1;u<i-1;u++){c=1;for(let f=1;f<t-1;f++){const h=u*t+f,p=a[h];if(p===0)continue;let v=u,w=f;if(p===1&&a[h-1]===0)o+=1,w-=1;else if(p>=1&&a[h+1]===0)o+=1,w+=1,p>1&&(c=p);else{p!==1&&(c=Math.abs(p));continue}const b=[f,u],m=w===f+1,y={isHole:m,points:b,id:o,parent:0};d.push(y);let _;for(const E of d)if(E.id===c){_=E;break}_?_.isHole?y.parent=m?_.parent:c:y.parent=m?c:_.parent:y.parent=m?c:0;const x=ye(this,DE,iX).call(this,a,t,u,f,v,w,0);if(x===-1){a[h]=-o,a[h]!==1&&(c=Math.abs(a[h]));continue}let N=S(this,zc)[2*x],k=S(this,zc)[2*x+1];const T=u+N,C=f+k;v=T,w=C;let P=u,D=f;for(;;){const E=ye(this,PE,rX).call(this,a,t,P,D,v,w,1);N=S(this,zc)[2*E],k=S(this,zc)[2*E+1];const A=P+N,I=D+k;b.push(I,A);const R=P*t+D;if(a[R+1]===0?a[R]=-o:a[R]===1&&(a[R]=o),A===u&&I===f&&P===T&&D===C){a[h]!==1&&(c=Math.abs(a[h]));break}else v=P,w=D,P=A,D=I}}}return d},cb=new WeakSet,pk=function(e,t,i,r){if(i-t<=4){for(let T=t;T<i-2;T+=2)r.push(e[T],e[T+1]);return}const s=e[t],a=e[t+1],o=e[i-4]-s,c=e[i-3]-a,d=Math.hypot(o,c),u=o/d,f=c/d,h=u*a-f*s,p=c/o,v=1/d,w=Math.atan(p),b=Math.cos(w),m=Math.sin(w),y=v*(Math.abs(b)+Math.abs(m)),_=v*(1-y+y**2),x=Math.max(Math.atan(Math.abs(m+b)*_),Math.atan(Math.abs(m-b)*_));let N=0,k=t;for(let T=t+2;T<i-2;T+=2){const C=Math.abs(h-u*e[T+1]+f*e[T]);C>N&&(k=T,N=C)}N>(d*x)**2?(ye(this,cb,pk).call(this,e,t,k+2,r),ye(this,cb,pk).call(this,e,k,i,r)):r.push(s,a)},IE=new WeakSet,sX=function(e){const t=[],i=e.length;return ye(this,cb,pk).call(this,e,0,i,t),t.push(e[i-2],e[i-1]),t.length<=4?null:t},RE=new WeakSet,aX=function(e,t,i,r,s,a){const o=new Float32Array(a**2),c=-2*r**2,d=a>>1;for(let w=0;w<a;w++){const b=(w-d)**2;for(let m=0;m<a;m++)o[w*a+m]=Math.exp((b+(m-d)**2)/c)}const u=new Float32Array(256),f=-2*s**2;for(let w=0;w<256;w++)u[w]=Math.exp(w**2/f);const h=e.length,p=new Uint8Array(h),v=new Uint32Array(256);for(let w=0;w<i;w++)for(let b=0;b<t;b++){const m=w*t+b,y=e[m];let _=0,x=0;for(let k=0;k<a;k++){const T=w+k-d;if(!(T<0||T>=i))for(let C=0;C<a;C++){const P=b+C-d;if(P<0||P>=t)continue;const D=e[T*t+P],E=o[k*a+C]*u[Math.abs(D-y)];_+=D*E,x+=E}}const N=p[m]=Math.round(_/x);v[N]++}return[p,v]},LE=new WeakSet,oX=function(e){const t=new Uint32Array(256);for(const i of e)t[i]++;return t},nS=new WeakSet,fI=function(e){const t=e.length,i=new Uint8ClampedArray(t>>2);let r=-1/0,s=1/0;for(let o=0,c=i.length;o<c;o++){const d=i[o]=e[o<<2];r=Math.max(r,d),s=Math.min(s,d)}const a=255/(r-s);for(let o=0,c=i.length;o<c;o++)i[o]=(i[o]-s)*a;return i},iS=new WeakSet,pI=function(e){let t,i=-1/0,r=-1/0;const s=e.findIndex(c=>c!==0);let a=s,o=s;for(t=s;t<256;t++){const c=e[t];c>i&&(t-a>r&&(r=t-a,o=t-1),i=c,a=t)}for(t=o-1;t>=0&&!(e[t]>e[t+1]);t--);return t},OE=new WeakSet,lX=function(e){const t=e,{width:i,height:r}=e,{maxDim:s}=S(this,w1);let a=i,o=r;if(i>s||r>s){let h=i,p=r,v=Math.log2(Math.max(i,r)/s);const w=Math.floor(v);v=v===w?w-1:w;for(let m=0;m<v;m++){a=Math.ceil(h/2),o=Math.ceil(p/2);const y=new OffscreenCanvas(a,o);y.getContext("2d").drawImage(e,0,0,h,p,0,0,a,o),h=a,p=o,e!==t&&e.close(),e=y.transferToImageBitmap()}const b=Math.min(s/a,s/o);a=Math.round(a*b),o=Math.round(o*b)}const d=new OffscreenCanvas(a,o).getContext("2d",{willReadFrequently:!0});d.fillStyle="white",d.fillRect(0,0,a,o),d.filter="grayscale(1)",d.drawImage(e,0,0,e.width,e.height,0,0,a,o);const u=d.getImageData(0,0,a,o).data;return[ye(this,nS,fI).call(this,u),a,o]},ne(ls,eS),ne(ls,DE),ne(ls,PE),ne(ls,tS),ne(ls,cb),ne(ls,IE),ne(ls,RE),ne(ls,LE),ne(ls,nS),ne(ls,iS),ne(ls,OE),ne(ls,w1,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),ne(ls,zc,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class eO extends JG{constructor(){super(),super.updateProperties({fill:Ui._defaultLineColor,"stroke-width":0})}clone(){const e=new eO;return e.updateAll(this),e}}class tO extends aC{constructor(e){super(e),super.updateProperties({stroke:Ui._defaultLineColor,"stroke-width":1})}clone(){const e=new tO(this._viewParameters);return e.updateAll(this),e}}var kp,nu,Ep,x1;const Bo=class Bo extends j3{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});ne(this,kp,!1);ne(this,nu,null);ne(this,Ep,null);ne(this,x1,null);this._willKeepAspectRatio=!0,se(this,Ep,t.signatureData||null),se(this,nu,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,i){Ui.initialize(t,i),this._defaultDrawingOptions=new eO,this._defaultDrawnSignatureOptions=new tO(i.viewParameters)}static getDefaultDrawingOptions(t){const i=this._defaultDrawingOptions.clone();return i.updateProperties(t),i}static get supportMultipleDrawings(){return!1}static get typesMap(){return un(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!S(this,nu)}}static computeTelemetryFinalData(t){const i=t.get("hasDescription");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,i;const{_isCopy:r}=this;if(r&&(this._isCopy=!1,t=this.x,i=this.y),super.render(),this._drawId===null)if(S(this,Ep)){const{lines:s,mustSmooth:a,areContours:o,description:c,uuid:d,heightInPage:u}=S(this,Ep),{rawDims:{pageWidth:f,pageHeight:h},rotation:p}=this.parent.viewport,v=ls.processDrawnLines({lines:s,pageWidth:f,pageHeight:h,rotation:p,innerMargin:Bo._INNER_MARGIN,mustSmooth:a,areContours:o});this.addSignature(v,u,c,d)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:S(this,nu)||""}));return r&&(this._isCopy=!0,this._moveAfterPaste(t,i)),this.div}setUuid(t){se(this,x1,t),this.addEditToolbar()}getUuid(){return S(this,x1)}get description(){return S(this,nu)}set description(t){se(this,nu,t),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(i=>{i==null||i.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:i,thickness:r,width:s,height:a}=S(this,Ep),o=Math.max(s,a),c=ls.processDrawnLines({lines:{curves:t.map(d=>({points:d})),thickness:r,width:s,height:a},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:i});return{areContours:i,outline:c.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,i,r,s){const{x:a,y:o}=this,{outline:c}=se(this,Ep,t);se(this,kp,c instanceof dI),this.description=r;let d;S(this,kp)?d=Bo.getDefaultDrawingOptions():(d=Bo._defaultDrawnSignatureOptions.clone(),d.updateProperties({"stroke-width":c.thickness})),this._addOutlines({drawOutlines:c,drawingOptions:d});const[,u]=this.pageDimensions;let f=i/u;f=f>=1?.5:f,this.width*=f/this.height,this.width>=1&&(f*=.9/this.width,this.width=.9),this.height=f,this.setDims(),this.x=a,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!r}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:i,pageHeight:r},rotation:s}=this.parent.viewport;return ls.process(t,i,r,s,Bo._INNER_MARGIN)}getFromText(t,i){const{rawDims:{pageWidth:r,pageHeight:s},rotation:a}=this.parent.viewport;return ls.extractContoursFromText(t,i,r,s,a,Bo._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:i,pageHeight:r},rotation:s}=this.parent.viewport;return ls.processDrawnLines({lines:t,pageWidth:i,pageHeight:r,rotation:s,innerMargin:Bo._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:i}){t?this._drawingOptions=Bo.getDefaultDrawingOptions():(this._drawingOptions=Bo._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":i}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:i,points:r}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":s}}=this,a=Object.assign(super.serialize(t),{isSignature:!0,areContours:S(this,kp),color:[0,0,0],thickness:S(this,kp)?0:s});return this.addComment(a),t?(a.paths={lines:i,points:r},a.uuid=S(this,x1),a.isCopy=!0):a.lines=i,S(this,nu)&&(a.accessibilityData={type:"Figure",alt:S(this,nu)}),a}static deserializeDraw(t,i,r,s,a,o){return o.areContours?dI.deserialize(t,i,r,s,a,o):BS.deserialize(t,i,r,s,a,o)}static async deserialize(t,i,r){var a;const s=await super.deserialize(t,i,r);return se(s,kp,t.areContours),s.description=((a=t.accessibilityData)==null?void 0:a.alt)||"",se(s,x1,t.uuid),s}};kp=new WeakMap,nu=new WeakMap,Ep=new WeakMap,x1=new WeakMap,wt(Bo,"_type","signature"),wt(Bo,"_editorType",mn.SIGNATURE),wt(Bo,"_defaultDrawingOptions",null);let mI=Bo;var Ki,ks,Tp,Ch,Cp,db,Dh,_1,iu,al,ub,S1,yw,N1,vw,hb,mk,fb,gk,pb,yk,rS,yI,mb,vk,FE,cX;class gI extends Ui{constructor(t){super({...t,name:"stampEditor"});ne(this,S1);ne(this,N1);ne(this,hb);ne(this,fb);ne(this,pb);ne(this,rS);ne(this,mb);ne(this,FE);ne(this,Ki,null);ne(this,ks,null);ne(this,Tp,null);ne(this,Ch,null);ne(this,Cp,null);ne(this,db,"");ne(this,Dh,null);ne(this,_1,!1);ne(this,iu,null);ne(this,al,!1);ne(this,ub,!1);se(this,Ch,t.bitmapUrl),se(this,Cp,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,i){Ui.initialize(t,i)}static isHandlingMimeForPasting(t){return tP.includes(t)}static paste(t,i){i.pasteEditor({mode:mn.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const i=t.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(t=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:a,height:o}=t||this.copyCanvas(null,null,!0).imageData,c=await r.guess({name:"altText",request:{data:s,width:a,height:o,channels:s.length/(a*o)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const d=c.output;return await this.setGuessedAltText(d),i&&!this.hasAltTextData()&&(this.altTextData={alt:d,decorative:!1}),d}remove(){var t;S(this,ks)&&(se(this,Ki,null),this._uiManager.imageManager.deleteId(S(this,ks)),(t=S(this,Dh))==null||t.remove(),se(this,Dh,null),S(this,iu)&&(clearTimeout(S(this,iu)),se(this,iu,null))),super.remove()}rebuild(){if(!this.parent){S(this,ks)&&ye(this,hb,mk).call(this);return}super.rebuild(),this.div!==null&&(S(this,ks)&&S(this,Dh)===null&&ye(this,hb,mk).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(S(this,Tp)||S(this,Ki)||S(this,Ch)||S(this,Cp)||S(this,ks)||S(this,_1))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,i;return this._isCopy&&(t=this.x,i=this.y),super.render(),this.div.hidden=!0,this.createAltText(),S(this,_1)||(S(this,Ki)?ye(this,fb,gk).call(this):ye(this,hb,mk).call(this)),this._isCopy&&this._moveAfterPaste(t,i),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,i){const{id:r,bitmap:s}=this._uiManager.imageManager.getFromCanvas(t,i);i.remove(),r&&this._uiManager.imageManager.isValidId(r)&&(se(this,ks,r),s&&se(this,Ki,s),se(this,_1,!1),ye(this,fb,gk).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;S(this,iu)!==null&&clearTimeout(S(this,iu)),se(this,iu,setTimeout(()=>{se(this,iu,null),ye(this,rS,yI).call(this)},200))}copyCanvas(t,i,r=!1){t||(t=224);const{width:s,height:a}=S(this,Ki),o=new xu;let c=S(this,Ki),d=s,u=a,f=null;if(i){if(s>i||a>i){const T=Math.min(i/s,i/a);d=Math.floor(s*T),u=Math.floor(a*T)}f=document.createElement("canvas");const p=f.width=Math.ceil(d*o.sx),v=f.height=Math.ceil(u*o.sy);S(this,al)||(c=ye(this,pb,yk).call(this,p,v));const w=f.getContext("2d");w.filter=this._uiManager.hcmFilter;let b="white",m="#cfcfd8";this._uiManager.hcmFilter!=="none"?m="black":Xbe.isDarkMode&&(b="#8f8f9d",m="#42414d");const y=15,_=y*o.sx,x=y*o.sy,N=new OffscreenCanvas(_*2,x*2),k=N.getContext("2d");k.fillStyle=b,k.fillRect(0,0,_*2,x*2),k.fillStyle=m,k.fillRect(0,0,_,x),k.fillRect(_,x,_,x),w.fillStyle=w.createPattern(N,"repeat"),w.fillRect(0,0,p,v),w.drawImage(c,0,0,c.width,c.height,0,0,p,v)}let h=null;if(r){let p,v;if(o.symmetric&&c.width<t&&c.height<t)p=c.width,v=c.height;else if(c=S(this,Ki),s>t||a>t){const m=Math.min(t/s,t/a);p=Math.floor(s*m),v=Math.floor(a*m),S(this,al)||(c=ye(this,pb,yk).call(this,p,v))}const b=new OffscreenCanvas(p,v).getContext("2d",{willReadFrequently:!0});b.drawImage(c,0,0,c.width,c.height,0,0,p,v),h={width:p,height:v,data:b.getImageData(0,0,p,v).data}}return{canvas:f,width:d,height:u,imageData:h}}static async deserialize(t,i,r){var b;let s=null,a=!1;if(t instanceof AG){const{data:{rect:m,rotation:y,id:_,structParent:x,popupRef:N,richText:k,contentsObj:T,creationDate:C,modificationDate:P},container:D,parent:{page:{pageNumber:E}},canvas:A}=t;let I,R;A?(delete t.canvas,{id:I,bitmap:R}=r.imageManager.getFromCanvas(D.id,A),A.remove()):(a=!0,t._hasNoCanvas=!0);const M=((b=await i._structTree.getAriaAttributes(`${H0}${_}`))==null?void 0:b.get("aria-label"))||"";s=t={annotationType:mn.STAMP,bitmapId:I,bitmap:R,pageIndex:E-1,rect:m.slice(0),rotation:y,annotationElementId:_,id:_,deleted:!1,accessibilityData:{decorative:!1,altText:M},isSvg:!1,structParent:x,popupRef:N,richText:k,comment:(T==null?void 0:T.str)||null,creationDate:C,modificationDate:P}}const o=await super.deserialize(t,i,r),{rect:c,bitmap:d,bitmapUrl:u,bitmapId:f,isSvg:h,accessibilityData:p}=t;a?(r.addMissingCanvas(t.id,o),se(o,_1,!0)):f&&r.imageManager.isValidId(f)?(se(o,ks,f),d&&se(o,Ki,d)):se(o,Ch,u),se(o,al,h);const[v,w]=o.pageDimensions;return o.width=(c[2]-c[0])/v,o.height=(c[3]-c[1])/w,p&&(o.altTextData=p),o._initialData=s,t.comment&&o.setCommentData(t),se(o,ub,!!s),o}serialize(t=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Object.assign(super.serialize(t),{bitmapId:S(this,ks),isSvg:S(this,al)});if(this.addComment(r),t)return r.bitmapUrl=ye(this,mb,vk).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r.isCopy=!0,r;const{decorative:s,altText:a}=this.serializeAltText(!1);if(!s&&a&&(r.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const c=ye(this,FE,cX).call(this,r);return c.isSame?null:(c.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1,r.id=this.annotationElementId,delete r.bitmapId,r)}if(i===null)return r;i.stamps||(i.stamps=new Map);const o=S(this,al)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!i.stamps.has(S(this,ks)))i.stamps.set(S(this,ks),{area:o,serialized:r}),r.bitmap=ye(this,mb,vk).call(this,!1);else if(S(this,al)){const c=i.stamps.get(S(this,ks));o>c.area&&(c.area=o,c.serialized.bitmap.close(),c.serialized.bitmap=ye(this,mb,vk).call(this,!1))}return r}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}Ki=new WeakMap,ks=new WeakMap,Tp=new WeakMap,Ch=new WeakMap,Cp=new WeakMap,db=new WeakMap,Dh=new WeakMap,_1=new WeakMap,iu=new WeakMap,al=new WeakMap,ub=new WeakMap,S1=new WeakSet,yw=function(t,i=!1){if(!t){this.remove();return}se(this,Ki,t.bitmap),i||(se(this,ks,t.id),se(this,al,t.isSvg)),t.file&&se(this,db,t.file.name),ye(this,fb,gk).call(this)},N1=new WeakSet,vw=function(){if(se(this,Tp,null),this._uiManager.enableWaiting(!1),!!S(this,Dh)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&S(this,Ki)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&S(this,Ki)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},hb=new WeakSet,mk=function(){if(S(this,ks)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(S(this,ks)).then(r=>ye(this,S1,yw).call(this,r,!0)).finally(()=>ye(this,N1,vw).call(this));return}if(S(this,Ch)){const r=S(this,Ch);se(this,Ch,null),this._uiManager.enableWaiting(!0),se(this,Tp,this._uiManager.imageManager.getFromUrl(r).then(s=>ye(this,S1,yw).call(this,s)).finally(()=>ye(this,N1,vw).call(this)));return}if(S(this,Cp)){const r=S(this,Cp);se(this,Cp,null),this._uiManager.enableWaiting(!0),se(this,Tp,this._uiManager.imageManager.getFromFile(r).then(s=>ye(this,S1,yw).call(this,s)).finally(()=>ye(this,N1,vw).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=tP.join(",");const i=this._uiManager._signal;se(this,Tp,new Promise(r=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),ye(this,S1,yw).call(this,s)}r()},{signal:i}),t.addEventListener("cancel",()=>{this.remove(),r()},{signal:i})}).finally(()=>ye(this,N1,vw).call(this))),t.click()},fb=new WeakSet,gk=function(){var d;const{div:t}=this;let{width:i,height:r}=S(this,Ki);const[s,a]=this.pageDimensions,o=.75;if(this.width)i=this.width*s,r=this.height*a;else if(i>o*s||r>o*a){const u=Math.min(o*s/i,o*a/r);i*=u,r*=u}this._uiManager.enableWaiting(!1);const c=se(this,Dh,document.createElement("canvas"));c.setAttribute("role","img"),this.addContainer(c),this.width=i/s,this.height=r/a,this.setDims(),(d=this._initialOptions)!=null&&d.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),ye(this,rS,yI).call(this),S(this,ub)||(this.parent.addUndoableEditor(this),se(this,ub,!0)),this._reportTelemetry({action:"inserted_image"}),S(this,db)&&this.div.setAttribute("aria-description",S(this,db)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},pb=new WeakSet,yk=function(t,i){const{width:r,height:s}=S(this,Ki);let a=r,o=s,c=S(this,Ki);for(;a>2*t||o>2*i;){const d=a,u=o;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*i&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const f=new OffscreenCanvas(a,o);f.getContext("2d").drawImage(c,0,0,d,u,0,0,a,o),c=f.transferToImageBitmap()}return c},rS=new WeakSet,yI=function(){const[t,i]=this.parentDimensions,{width:r,height:s}=this,a=new xu,o=Math.ceil(r*t*a.sx),c=Math.ceil(s*i*a.sy),d=S(this,Dh);if(!d||d.width===o&&d.height===c)return;d.width=o,d.height=c;const u=S(this,al)?S(this,Ki):ye(this,pb,yk).call(this,o,c),f=d.getContext("2d");f.filter=this._uiManager.hcmFilter,f.drawImage(u,0,0,u.width,u.height,0,0,o,c)},mb=new WeakSet,vk=function(t){if(t){if(S(this,al)){const s=this._uiManager.imageManager.getSvgUrl(S(this,ks));if(s)return s}const i=document.createElement("canvas");return{width:i.width,height:i.height}=S(this,Ki),i.getContext("2d").drawImage(S(this,Ki),0,0),i.toDataURL()}if(S(this,al)){const[i,r]=this.pageDimensions,s=Math.round(this.width*i*lm.PDF_TO_CSS_UNITS),a=Math.round(this.height*r*lm.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(s,a);return o.getContext("2d").drawImage(S(this,Ki),0,0,S(this,Ki).width,S(this,Ki).height,0,0,s,a),o.transferToImageBitmap()}return structuredClone(S(this,Ki))},FE=new WeakSet,cX=function(t){var o;const{pageIndex:i,accessibilityData:{altText:r}}=this._initialData,s=t.pageIndex===i,a=(((o=t.accessibilityData)==null?void 0:o.alt)||"")===r;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&s&&a,isSameAltText:a}},wt(gI,"_type","stamp"),wt(gI,"_editorType",mn.STAMP);var A1,gb,Dp,Pp,Ph,lo,Ip,yb,vb,jc,Ih,Es,Rh,Rp,bb,Kt,Lp,sS,bI,UE,dX,ql,Pd,aS,wI,oS,xI,wb,bk;const Ec=class Ec{constructor({uiManager:e,pageIndex:t,div:i,structTreeLayer:r,accessibilityManager:s,annotationLayer:a,drawLayer:o,textLayer:c,viewport:d,l10n:u}){ne(this,sS);ne(this,UE);ne(this,ql);ne(this,aS);ne(this,oS);ne(this,wb);ne(this,A1,void 0);ne(this,gb,!1);ne(this,Dp,null);ne(this,Pp,null);ne(this,Ph,null);ne(this,lo,new Map);ne(this,Ip,!1);ne(this,yb,!1);ne(this,vb,!1);ne(this,jc,null);ne(this,Ih,null);ne(this,Es,null);ne(this,Rh,null);ne(this,Rp,null);ne(this,bb,-1);ne(this,Kt,void 0);const f=[...S(Ec,Lp).values()];if(!Ec._initialized){Ec._initialized=!0;for(const h of f)h.initialize(u,e)}e.registerEditorTypes(f),se(this,Kt,e),this.pageIndex=t,this.div=i,se(this,A1,s),se(this,Dp,a),this.viewport=d,se(this,Es,c),this.drawLayer=o,this._structTree=r,S(this,Kt).addLayer(this)}get isEmpty(){return S(this,lo).size===0}get isInvisible(){return this.isEmpty&&S(this,Kt).getMode()===mn.NONE}updateToolbar(e){S(this,Kt).updateToolbar(e)}updateMode(e=S(this,Kt).getMode()){switch(ye(this,wb,bk).call(this),e){case mn.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case mn.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case mn.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===mn.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const i of S(Ec,Lp).values())t.toggle(`${i._type}Editing`,e===i._editorType)}this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=S(this,Es))==null?void 0:t.div)}setEditingState(e){S(this,Kt).setEditingState(e)}addCommands(e){S(this,Kt).addCommands(e)}cleanUndoStack(e){S(this,Kt).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=S(this,Dp))==null||t.togglePointerEvents(e)}async enable(){var i;se(this,vb,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(i=S(this,Rp))==null||i.abort(),se(this,Rp,null);const e=new Set;for(const r of S(this,sS,bI))r.enableEditing(),r.show(!0),r.annotationElementId&&(S(this,Kt).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));const t=S(this,Dp);if(t)for(const r of t.getEditableAnnotations()){if(r.hide(),S(this,Kt).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const s=await this.deserialize(r);s&&(this.addOrRebuild(s),s.enableEditing())}se(this,vb,!1),S(this,Kt)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var r;if(se(this,yb,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),S(this,Es)&&!S(this,Rp)){se(this,Rp,new AbortController);const s=S(this,Kt).combinedSignal(S(this,Rp));S(this,Es).div.addEventListener("pointerdown",a=>{const{clientX:c,clientY:d,timeStamp:u}=a,f=S(this,bb);if(u-f>500){se(this,bb,u);return}se(this,bb,-1);const{classList:h}=this.div;h.toggle("getElements",!0);const p=document.elementsFromPoint(c,d);if(h.toggle("getElements",!1),!this.div.contains(p[0]))return;let v;const w=new RegExp(`^${yx}[0-9]+$`);for(const m of p)if(w.test(m.id)){v=m.id;break}if(!v)return;const b=S(this,lo).get(v);(b==null?void 0:b.annotationElementId)===null&&(a.stopPropagation(),a.preventDefault(),b.dblclick(a))},{signal:s,capture:!0})}const e=S(this,Dp),t=[];if(e){const s=new Map,a=new Map;for(const c of S(this,sS,bI)){if(c.disableEditing(),!c.annotationElementId){t.push(c);continue}if(c.serialize()!==null){s.set(c.annotationElementId,c);continue}else a.set(c.annotationElementId,c);(r=this.getEditableAnnotation(c.annotationElementId))==null||r.show(),c.remove()}const o=e.getEditableAnnotations();for(const c of o){const{id:d}=c.data;if(S(this,Kt).isDeletedAnnotationElement(d)){c.updateEdited({deleted:!0});continue}let u=a.get(d);if(u){u.resetAnnotationElement(c),u.show(!1),c.show();continue}u=s.get(d),u&&(S(this,Kt).addChangedExistingAnnotation(u),u.renderAnnotationElement(c)&&u.show(!1)),c.show()}}ye(this,wb,bk).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const s of S(Ec,Lp).values())i.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e==null||e.updateFakeAnnotations(t),se(this,yb,!1)}getEditableAnnotation(e){var t;return((t=S(this,Dp))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){S(this,Kt).getActive()!==e&&S(this,Kt).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=S(this,Es))!=null&&e.div&&!S(this,Rh)){se(this,Rh,new AbortController);const t=S(this,Kt).combinedSignal(S(this,Rh));S(this,Es).div.addEventListener("pointerdown",ye(this,UE,dX).bind(this),{signal:t}),S(this,Es).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=S(this,Es))!=null&&e.div&&S(this,Rh)&&(S(this,Rh).abort(),se(this,Rh,null),S(this,Es).div.classList.remove("highlighting"))}enableClick(){if(S(this,Pp))return;se(this,Pp,new AbortController);const e=S(this,Kt).combinedSignal(S(this,Pp));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=S(this,Pp))==null||e.abort(),se(this,Pp,null)}attach(e){S(this,lo).set(e.id,e);const{annotationElementId:t}=e;t&&S(this,Kt).isDeletedAnnotationElement(t)&&S(this,Kt).removeDeletedAnnotationElement(e)}detach(e){var t;S(this,lo).delete(e.id),(t=S(this,A1))==null||t.removePointerInTextLayer(e.contentDiv),!S(this,yb)&&e.annotationElementId&&S(this,Kt).addDeletedAnnotationElement(e)}remove(e){this.detach(e),S(this,Kt).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(S(this,Kt).addDeletedAnnotationElement(e),Ui.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),S(this,Kt).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!S(this,vb)),S(this,Kt).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var i;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!S(this,Ph)&&(e._focusEventsAllowed=!1,se(this,Ph,setTimeout(()=>{se(this,Ph,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:S(this,Kt)._signal}),t.focus())},0))),e._structTreeParentId=(i=S(this,A1))==null?void 0:i.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),i=()=>{e.remove()};this.addCommands({cmd:t,undo:i,mustExec:!1})}getEditorByUID(e){for(const t of S(this,lo).values())if(t.uid===e)return t;return null}getNextId(){return S(this,Kt).getId()}combinedSignal(e){return S(this,Kt).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=S(this,ql,Pd))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await S(this,Kt).updateMode(e.mode);const{offsetX:i,offsetY:r}=ye(this,oS,xI).call(this),s=this.getNextId(),a=ye(this,aS,wI).call(this,{parent:this,id:s,x:i,y:r,uiManager:S(this,Kt),isCentered:!0,...t});a&&this.add(a)}async deserialize(e){var t;return await((t=S(Ec,Lp).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,S(this,Kt)))||null}createAndAddNewEditor(e,t,i={}){const r=this.getNextId(),s=ye(this,aS,wI).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:S(this,Kt),isCentered:t,...i});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(ye(this,oS,xI).call(this),!0,e)}setSelected(e){S(this,Kt).setSelected(e)}toggleSelected(e){S(this,Kt).toggleSelected(e)}unselect(e){S(this,Kt).unselect(e)}pointerup(e){var r;const{isMac:t}=us.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!S(this,Ip)||(se(this,Ip,!1),(r=S(this,ql,Pd))!=null&&r.isDrawer&&S(this,ql,Pd).supportMultipleDrawings))return;if(!S(this,gb)){se(this,gb,!0);return}const i=S(this,Kt).getMode();if(i===mn.STAMP||i===mn.SIGNATURE){S(this,Kt).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var r;if(S(this,Kt).getMode()===mn.HIGHLIGHT&&this.enableTextSelection(),S(this,Ip)){se(this,Ip,!1);return}const{isMac:t}=us.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(se(this,Ip,!0),(r=S(this,ql,Pd))!=null&&r.isDrawer){this.startDrawingSession(e);return}const i=S(this,Kt).getActive();se(this,gb,!i||i.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),S(this,jc)){S(this,ql,Pd).startDrawing(this,S(this,Kt),!1,e);return}S(this,Kt).setCurrentDrawingSession(this),se(this,jc,new AbortController);const t=S(this,Kt).combinedSignal(S(this,jc));this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(se(this,Ih,null),this.commitOrRemove())},{signal:t}),S(this,ql,Pd).startDrawing(this,S(this,Kt),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&se(this,Ih,t);return}S(this,Ih)&&setTimeout(()=>{var t;(t=S(this,Ih))==null||t.focus(),se(this,Ih,null)},0)}endDrawingSession(e=!1){return S(this,jc)?(S(this,Kt).setCurrentDrawingSession(null),S(this,jc).abort(),se(this,jc,null),se(this,Ih,null),S(this,ql,Pd).endDrawing(e)):null}findNewParent(e,t,i){const r=S(this,Kt).findParent(t,i);return r===null||r===this?!1:(r.changeParent(e),!0)}commitOrRemove(){return S(this,jc)?(this.endDrawingSession(),!0):!1}onScaleChanging(){S(this,jc)&&S(this,ql,Pd).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=S(this,Kt).getActive())==null?void 0:e.parent)===this&&(S(this,Kt).commitOrRemove(),S(this,Kt).setActiveEditor(null)),S(this,Ph)&&(clearTimeout(S(this,Ph)),se(this,Ph,null));for(const i of S(this,lo).values())(t=S(this,A1))==null||t.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,S(this,lo).clear(),S(this,Kt).removeLayer(this)}render({viewport:e}){this.viewport=e,Y1(this.div,e);for(const t of S(this,Kt).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){S(this,Kt).commitOrRemove(),ye(this,wb,bk).call(this);const t=this.viewport.rotation,i=e.rotation;if(this.viewport=e,Y1(this.div,{rotation:i}),t!==i)for(const r of S(this,lo).values())r.rotate(i)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return S(this,Kt).viewParameters.realScale}};A1=new WeakMap,gb=new WeakMap,Dp=new WeakMap,Pp=new WeakMap,Ph=new WeakMap,lo=new WeakMap,Ip=new WeakMap,yb=new WeakMap,vb=new WeakMap,jc=new WeakMap,Ih=new WeakMap,Es=new WeakMap,Rh=new WeakMap,Rp=new WeakMap,bb=new WeakMap,Kt=new WeakMap,Lp=new WeakMap,sS=new WeakSet,bI=function(){return S(this,lo).size!==0?S(this,lo).values():S(this,Kt).getEditors(this.pageIndex)},UE=new WeakSet,dX=function(e){S(this,Kt).unselectAll();const{target:t}=e;if(t===S(this,Es).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&S(this,Es).div.contains(t)){const{isMac:i}=us.platform;if(e.button!==0||e.ctrlKey&&i)return;S(this,Kt).showAllEditors("highlight",!0,!0),S(this,Es).div.classList.add("free"),this.toggleDrawing(),z3.startHighlighting(this,S(this,Kt).direction==="ltr",{target:S(this,Es).div,x:e.x,y:e.y}),S(this,Es).div.addEventListener("pointerup",()=>{S(this,Es).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:S(this,Kt)._signal}),e.preventDefault()}},ql=new WeakSet,Pd=function(){return S(Ec,Lp).get(S(this,Kt).getMode())},aS=new WeakSet,wI=function(e){const t=S(this,ql,Pd);return t?new t.prototype.constructor(e):null},oS=new WeakSet,xI=function(){const{x:e,y:t,width:i,height:r}=this.boundingClientRect,s=Math.max(0,e),a=Math.max(0,t),o=Math.min(window.innerWidth,e+i),c=Math.min(window.innerHeight,t+r),d=(s+o)/2-e,u=(a+c)/2-t,[f,h]=this.viewport.rotation%180===0?[d,u]:[u,d];return{offsetX:f,offsetY:h}},wb=new WeakSet,bk=function(){for(const e of S(this,lo).values())e.isEmpty()&&e.remove()},wt(Ec,"_initialized",!1),ne(Ec,Lp,new Map([QP,cI,gI,z3,mI].map(e=>[e._editorType,e])));let vI=Ec;var Wc,Ua,k1,lS,ME,uX,cS,SI,BE,hX,dS,NI;const ss=class ss{constructor({pageIndex:e}){ne(this,cS);ne(this,BE);ne(this,dS);ne(this,Wc,null);ne(this,Ua,new Map);ne(this,k1,new Map);this.pageIndex=e}setParent(e){if(!S(this,Wc)){se(this,Wc,e);return}if(S(this,Wc)!==e){if(S(this,Ua).size>0)for(const t of S(this,Ua).values())t.remove(),e.append(t);se(this,Wc,e)}}static get _svgFactory(){return un(this,"_svgFactory",new M3)}draw(e,t=!1,i=!1){const r=is(ss,lS)._++,s=ye(this,cS,SI).call(this),a=ss._svgFactory.createElement("defs");s.append(a);const o=ss._svgFactory.createElement("path");a.append(o);const c=`path_p${this.pageIndex}_${r}`;o.setAttribute("id",c),o.setAttribute("vector-effect","non-scaling-stroke"),t&&S(this,k1).set(r,o);const d=i?ye(this,BE,hX).call(this,a,c):null,u=ss._svgFactory.createElement("use");return s.append(u),u.setAttribute("href",`#${c}`),this.updateProperties(s,e),S(this,Ua).set(r,s),{id:r,clipPathId:`url(#${d})`}}drawOutline(e,t){const i=is(ss,lS)._++,r=ye(this,cS,SI).call(this),s=ss._svgFactory.createElement("defs");r.append(s);const a=ss._svgFactory.createElement("path");s.append(a);const o=`path_p${this.pageIndex}_${i}`;a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke");let c;if(t){const f=ss._svgFactory.createElement("mask");s.append(f),c=`mask_p${this.pageIndex}_${i}`,f.setAttribute("id",c),f.setAttribute("maskUnits","objectBoundingBox");const h=ss._svgFactory.createElement("rect");f.append(h),h.setAttribute("width","1"),h.setAttribute("height","1"),h.setAttribute("fill","white");const p=ss._svgFactory.createElement("use");f.append(p),p.setAttribute("href",`#${o}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const d=ss._svgFactory.createElement("use");r.append(d),d.setAttribute("href",`#${o}`),c&&d.setAttribute("mask",`url(#${c})`);const u=d.cloneNode();return r.append(u),d.classList.add("mainOutline"),u.classList.add("secondaryOutline"),this.updateProperties(r,e),S(this,Ua).set(i,r),i}finalizeDraw(e,t){S(this,k1).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var c;if(!t)return;const{root:i,bbox:r,rootClass:s,path:a}=t,o=typeof e=="number"?S(this,Ua).get(e):e;if(o){if(i&&ye(this,dS,NI).call(this,o,i),r&&ye(c=ss,ME,uX).call(c,o,r),s){const{classList:d}=o;for(const[u,f]of Object.entries(s))d.toggle(u,f)}if(a){const u=o.firstElementChild.firstElementChild;ye(this,dS,NI).call(this,u,a)}}}updateParent(e,t){if(t===this)return;const i=S(this,Ua).get(e);i&&(S(t,Wc).append(i),S(this,Ua).delete(e),S(t,Ua).set(e,i))}remove(e){S(this,k1).delete(e),S(this,Wc)!==null&&(S(this,Ua).get(e).remove(),S(this,Ua).delete(e))}destroy(){se(this,Wc,null);for(const e of S(this,Ua).values())e.remove();S(this,Ua).clear(),S(this,k1).clear()}};Wc=new WeakMap,Ua=new WeakMap,k1=new WeakMap,lS=new WeakMap,ME=new WeakSet,uX=function(e,[t,i,r,s]){const{style:a}=e;a.top=`${100*i}%`,a.left=`${100*t}%`,a.width=`${100*r}%`,a.height=`${100*s}%`},cS=new WeakSet,SI=function(){const e=ss._svgFactory.create(1,1,!0);return S(this,Wc).append(e),e.setAttribute("aria-hidden",!0),e},BE=new WeakSet,hX=function(e,t){const i=ss._svgFactory.createElement("clipPath");e.append(i);const r=`clip_${t}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");const s=ss._svgFactory.createElement("use");return i.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),r},dS=new WeakSet,NI=function(e,t){for(const[i,r]of Object.entries(t))r===null?e.removeAttribute(i):e.setAttribute(i,r)},ne(ss,ME),ne(ss,lS,0);let _I=ss;globalThis._pdfjsTestingUtils={HighlightOutliner:tI};globalThis.pdfjsLib={AbortException:om,AnnotationEditorLayer:vI,AnnotationEditorParamsType:In,AnnotationEditorType:mn,AnnotationEditorUIManager:K1,AnnotationLayer:JP,AnnotationMode:Uf,AnnotationType:zr,applyOpacity:Kbe,build:iwe,ColorPicker:F3,createValidAbsoluteUrl:tV,CSSConstants:Ybe,DOMSVGFactory:M3,DrawLayer:_I,FeatureTest:us,fetchData:LS,findContrastColor:Jbe,getDocument:cG,getFilenameFromUrl:$be,getPdfFilenameFromUrl:qbe,getRGB:FS,getUuid:rV,getXfaPageViewport:Vbe,GlobalWorkerOptions:lu,ImageKind:zA,InvalidPDFException:Q8,isDataScheme:rC,isPdfFile:XL,isValidExplicitDest:l2e,MathClamp:Ba,noContextMenu:ic,normalizeUnicode:zbe,OPS:vx,OutputScale:xu,PasswordResponses:Pbe,PDFDataRangeTransport:dG,PDFDateString:D3,PDFWorker:xx,PermissionFlag:Dbe,PixelsPerInch:lm,RenderingCancelledException:GL,renderRichText:oV,ResponseException:C3,setLayerDimensions:Y1,shadow:un,SignatureExtractor:ls,stopEvent:wr,SupportedImageMimeTypes:tP,TextLayer:wx,TouchManager:I3,updateUrlHash:nV,Util:zt,VerbosityLevel:tC,version:fG,XfaLayer:aV};function XN(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var fX={exports:{}};(function(n,e){(function(t){n.exports=t()})(function(){return function t(i,r,s){function a(d,u){if(!r[d]){if(!i[d]){var f=typeof XN=="function"&&XN;if(!u&&f)return f(d,!0);if(o)return o(d,!0);var h=new Error("Cannot find module '"+d+"'");throw h.code="MODULE_NOT_FOUND",h}var p=r[d]={exports:{}};i[d][0].call(p.exports,function(v){var w=i[d][1][v];return a(w||v)},p,p.exports,t,i,r,s)}return r[d].exports}for(var o=typeof XN=="function"&&XN,c=0;c<s.length;c++)a(s[c]);return a}({1:[function(t,i,r){function s(){function o(c){return a.reject(new Error("could not open external image: '"+c+`'
cannot open linked files from a web browser`))}return{read:o}}var a=t("../../lib/promises");r.Files=s},{"../../lib/promises":23}],2:[function(t,i,r){function s(c){return c.arrayBuffer?a.resolve(o.openArrayBuffer(c.arrayBuffer)):a.reject(new Error("Could not find file in options"))}var a=t("../lib/promises"),o=t("../lib/zipfile");r.openZip=s},{"../lib/promises":23,"../lib/zipfile":40}],3:[function(t,i,r){function s(N){return{convertToHtml:function(k){var T=f.indexBy(k.type===p.types.document?k.comments:[],"commentId"),C=new a(N,T);return C.convertToHtml(k)}}}function a(N,k){function T($){var ke=[],Se=P($,ke,{}),pe=[];u(Se,function(H){H.type==="deferred"&&pe.push(H)});var U={};return h.mapSeries(pe,function(H){return H.value().then(function(te){U[H.id]=te})}).then(function(){function H(he){return d(he,function(ve){return ve.type==="deferred"?U[ve.id]:ve.children?[f.extend({},ve,{children:H(ve.children)})]:[ve]})}var te=y.writer({prettyPrint:N.prettyPrint,outputFormat:N.outputFormat});return m.write(te,m.simplify(H(Se))),new w.Result(te.asString(),ke)})}function C($,ke,Se){return d($,function(pe){return P(pe,ke,Se)})}function P($,ke,Se){if(!Se)throw new Error("options not set");var pe=Ce[$.type];return pe?pe($,ke,Se):[]}function D($,ke,Se){return E($,ke).wrap(function(){var pe=C($.children,ke,Se);return Ve?pe:[m.forceWrite].concat(pe)})}function E($,ke){var Se=M($);return Se?Se.to:($.styleId&&ke.push(c("paragraph",$)),fe)}function A($,ke,Se){var pe=function(){return C($.children,ke,Se)},U=[];if($.highlight!==null){var H=R({type:"highlight",color:$.highlight});H&&U.push(H)}$.isSmallCaps&&U.push(I("smallCaps")),$.isAllCaps&&U.push(I("allCaps")),$.isStrikethrough&&U.push(I("strikethrough","s")),$.isUnderline&&U.push(I("underline")),$.verticalAlignment===p.verticalAlignment.subscript&&U.push(v.element("sub",{},{fresh:!1})),$.verticalAlignment===p.verticalAlignment.superscript&&U.push(v.element("sup",{},{fresh:!1})),$.isItalic&&U.push(I("italic","em")),$.isBold&&U.push(I("bold","strong"));var te=v.empty,he=M($);return he?te=he.to:$.styleId&&ke.push(c("run",$)),U.push(te),U.forEach(function(ve){pe=ve.wrap.bind(ve,pe)}),pe()}function I($,ke){var Se=R({type:$});return Se||(ke?v.element(ke,{},{fresh:!1}):v.empty)}function R($,ke){var Se=M($);return Se?Se.to:ke}function M($){for(var ke=0;ke<Je.length;ke++)if(Je[ke].from.matches($))return Je[ke]}function Y($){return function(ke,Se){return h.attempt(function(){return $(ke,Se)}).caught(function(pe){return Se.push(w.error(pe)),[]})}}function q($){return B($.noteType,$.noteId)}function G($){return J($.noteType,$.noteId)}function B($,ke){return W($+"-"+ke)}function J($,ke){return W($+"-ref-"+ke)}function W($){return Re+$}function L($,ke,Se){return R($,je).wrap(function(){return z($,ke,Se)})}function z($,ke,Se){var pe=f.findIndex($.children,function(he){return!he.type===p.types.tableRow||!he.isHeader});pe===-1&&(pe=$.children.length);var U;if(pe===0)U=C($.children,ke,f.extend({},Se,{isTableHeader:!1}));else{var H=C($.children.slice(0,pe),ke,f.extend({},Se,{isTableHeader:!0})),te=C($.children.slice(pe),ke,f.extend({},Se,{isTableHeader:!1}));U=[m.freshElement("thead",{},H),m.freshElement("tbody",{},te)]}return[m.forceWrite].concat(U)}function X($,ke,Se){var pe=C($.children,ke,Se);return[m.freshElement("tr",{},[m.forceWrite].concat(pe))]}function Q($,ke,Se){var pe=Se.isTableHeader?"th":"td",U=C($.children,ke,Se),H={};return $.colSpan!==1&&(H.colspan=$.colSpan.toString()),$.rowSpan!==1&&(H.rowspan=$.rowSpan.toString()),[m.freshElement(pe,H,[m.forceWrite].concat(U))]}function V($,ke,Se){return R($,v.ignore).wrap(function(){var pe=k[$.commentId],U=Ae.length+1,H="["+x(pe)+U+"]";return Ae.push({label:H,comment:pe}),[m.freshElement("a",{href:"#"+B("comment",$.commentId),id:J("comment",$.commentId)},[m.text(H)])]})}function Z($,ke,Se){var pe=$.label,U=$.comment,H=C(U.body,ke,Se).concat([m.nonFreshElement("p",{},[m.text(" "),m.freshElement("a",{href:"#"+J("comment",U.commentId)},[m.text("")])])]);return[m.freshElement("dt",{id:B("comment",U.commentId)},[m.text("Comment "+pe)]),m.freshElement("dd",{},H)]}function _e($,ke,Se){return le($).wrap(function(){return[]})}function le($){var ke=M($);return ke?ke.to:$.breakType==="line"?v.topLevelElement("br"):v.empty}var ce=1,Fe=[],Ae=[];N=f.extend({ignoreEmptyParagraphs:!0},N);var Re=N.idPrefix===void 0?"":N.idPrefix,Ve=N.ignoreEmptyParagraphs,fe=v.topLevelElement("p"),Je=N.styleMap||[],je=v.elements([v.element("table",{},{fresh:!0})]),Ce={document:function($,ke,Se){var pe=C($.children,ke,Se),U=Fe.map(function(te){return $.notes.resolve(te)}),H=C(U,ke,Se);return pe.concat([m.freshElement("ol",{},H),m.freshElement("dl",{},d(Ae,function(te){return Z(te,ke,Se)}))])},paragraph:D,run:A,text:function($,ke,Se){return[m.text($.value)]},tab:function($,ke,Se){return[m.text("	")]},hyperlink:function($,ke,Se){var pe=$.anchor?"#"+W($.anchor):$.href,U={href:pe};$.targetFrame!=null&&(U.target=$.targetFrame);var H=C($.children,ke,Se);return[m.nonFreshElement("a",U,H)]},checkbox:function($){var ke={type:"checkbox"};return $.checked&&(ke.checked="checked"),[m.freshElement("input",ke)]},bookmarkStart:function($,ke,Se){var pe=m.freshElement("a",{id:W($.name)},[m.forceWrite]);return[pe]},noteReference:function($,ke,Se){Fe.push($);var pe=m.freshElement("a",{href:"#"+q($),id:G($)},[m.text("["+ce+++"]")]);return[m.freshElement("sup",{},[pe])]},note:function($,ke,Se){var pe=C($.body,ke,Se),U=m.elementWithTag(v.element("p",{},{fresh:!1}),[m.text(" "),m.freshElement("a",{href:"#"+G($)},[m.text("")])]),H=pe.concat([U]);return m.freshElement("li",{id:q($)},H)},commentReference:V,comment:Z,image:o(Y(N.convertImage||b.dataUri)),table:L,tableRow:X,tableCell:Q,break:_e};return{convertToHtml:T}}function o(N){return function(k,T,C){return[{type:"deferred",id:_++,value:function(){return N(k,T,C)}}]}}function c(N,k){return w.warning("Unrecognised "+N+" style: '"+k.styleName+"' (Style ID: "+k.styleId+")")}function d(N,k){return f.flatten(N.map(k),!0)}function u(N,k){N.forEach(function(T){k(T),T.children&&u(T.children,k)})}var f=t("underscore"),h=t("./promises"),p=t("./documents"),v=t("./styles/html-paths"),w=t("./results"),b=t("./images"),m=t("./html"),y=t("./writers");r.DocumentConverter=s;var _=1,x=r.commentAuthorLabel=function(N){return N.authorInitials||""}},{"./documents":4,"./html":18,"./images":20,"./promises":23,"./results":25,"./styles/html-paths":28,"./writers":33,underscore:102}],4:[function(t,i,r){(function(s){function a(A,I){return I=I||{},{type:D.document,children:A,notes:I.notes||new v({}),comments:I.comments||[]}}function o(A,I){I=I||{};var R=I.indent||{};return{type:D.paragraph,children:A,styleId:I.styleId||null,styleName:I.styleName||null,numbering:I.numbering||null,alignment:I.alignment||null,indent:{start:R.start||null,end:R.end||null,firstLine:R.firstLine||null,hanging:R.hanging||null}}}function c(A,I){return I=I||{},{type:D.run,children:A,styleId:I.styleId||null,styleName:I.styleName||null,isBold:!!I.isBold,isUnderline:!!I.isUnderline,isItalic:!!I.isItalic,isStrikethrough:!!I.isStrikethrough,isAllCaps:!!I.isAllCaps,isSmallCaps:!!I.isSmallCaps,verticalAlignment:I.verticalAlignment||E.baseline,font:I.font||null,fontSize:I.fontSize||null,highlight:I.highlight||null}}function d(A){return{type:D.text,value:A}}function u(){return{type:D.tab}}function f(A){return{type:D.checkbox,checked:A.checked}}function h(A,I){return{type:D.hyperlink,children:A,href:I.href,anchor:I.anchor,targetFrame:I.targetFrame}}function p(A){return{type:D.noteReference,noteType:A.noteType,noteId:A.noteId}}function v(A){this._notes=P.indexBy(A,function(I){return y(I.noteType,I.noteId)})}function w(A){return{type:D.note,noteType:A.noteType,noteId:A.noteId,body:A.body}}function b(A){return{type:D.commentReference,commentId:A.commentId}}function m(A){return{type:D.comment,commentId:A.commentId,body:A.body,authorName:A.authorName,authorInitials:A.authorInitials}}function y(A,I){return A+"-"+I}function _(A){return{type:D.image,read:function(I){return I?A.readImage(I):A.readImage().then(function(R){return s.from(R)})},readAsArrayBuffer:function(){return A.readImage()},readAsBase64String:function(){return A.readImage("base64")},readAsBuffer:function(){return A.readImage().then(function(I){return s.from(I)})},altText:A.altText,contentType:A.contentType}}function x(A,I){return I=I||{},{type:D.table,children:A,styleId:I.styleId||null,styleName:I.styleName||null}}function N(A,I){return I=I||{},{type:D.tableRow,children:A,isHeader:I.isHeader||!1}}function k(A,I){return I=I||{},{type:D.tableCell,children:A,colSpan:I.colSpan==null?1:I.colSpan,rowSpan:I.rowSpan==null?1:I.rowSpan}}function T(A){return{type:D.break,breakType:A}}function C(A){return{type:D.bookmarkStart,name:A.name}}var P=t("underscore"),D=r.types={document:"document",paragraph:"paragraph",run:"run",text:"text",tab:"tab",checkbox:"checkbox",hyperlink:"hyperlink",noteReference:"noteReference",image:"image",note:"note",commentReference:"commentReference",comment:"comment",table:"table",tableRow:"tableRow",tableCell:"tableCell",break:"break",bookmarkStart:"bookmarkStart"},E={baseline:"baseline",superscript:"superscript",subscript:"subscript"};v.prototype.resolve=function(A){return this.findNoteByKey(y(A.noteType,A.noteId))},v.prototype.findNoteByKey=function(A){return this._notes[A]||null},r.document=r.Document=a,r.paragraph=r.Paragraph=o,r.run=r.Run=c,r.text=r.Text=d,r.tab=r.Tab=u,r.checkbox=r.Checkbox=f,r.Hyperlink=h,r.noteReference=r.NoteReference=p,r.Notes=v,r.Note=w,r.commentReference=b,r.comment=m,r.Image=_,r.Table=x,r.TableRow=N,r.TableCell=k,r.lineBreak=T("line"),r.pageBreak=T("page"),r.columnBreak=T("column"),r.BookmarkStart=C,r.verticalAlignment=E}).call(this,t("buffer").Buffer)},{buffer:83,underscore:102}],5:[function(t,i,r){function s(D){return{readXmlElement:function(E){return new a(D).readXmlElement(E)},readXmlElements:function(E){return new a(D).readXmlElements(E)}}}function a(D){function E(We){var tt=We.map(A);return p(tt)}function A(We){if(We.type==="element"){var tt=ft[We.name];if(tt)return tt(We);if(!Object.prototype.hasOwnProperty.call(P,We.name)){var pt=x("An unrecognised element was ignored: "+We.name);return c([pt])}}return d()}function I(We){return J(We).map(function(tt){return{type:"paragraphProperties",styleId:tt.styleId,styleName:tt.name,alignment:We.firstOrEmpty("w:jc").attributes["w:val"],numbering:o(tt.styleId,We.firstOrEmpty("w:numPr"),qe),indent:R(We.firstOrEmpty("w:ind"))}})}function R(We){return{start:We.attributes["w:start"]||We.attributes["w:left"],end:We.attributes["w:end"]||We.attributes["w:right"],firstLine:We.attributes["w:firstLine"],hanging:We.attributes["w:hanging"]}}function M(We){return W(We).map(function(tt){var pt=We.firstOrEmpty("w:sz").attributes["w:val"],Ct=/^[0-9]+$/.test(pt)?parseInt(pt,10)/2:null;return{type:"runProperties",styleId:tt.styleId,styleName:tt.name,verticalAlignment:We.firstOrEmpty("w:vertAlign").attributes["w:val"],font:We.firstOrEmpty("w:rFonts").attributes["w:ascii"],fontSize:Ct,isBold:q(We.first("w:b")),isUnderline:Y(We.first("w:u")),isItalic:q(We.first("w:i")),isStrikethrough:q(We.first("w:strike")),isAllCaps:q(We.first("w:caps")),isSmallCaps:q(We.first("w:smallCaps")),highlight:B(We.firstOrEmpty("w:highlight").attributes["w:val"])}})}function Y(We){if(We){var tt=We.attributes["w:val"];return tt!==void 0&&tt!=="false"&&tt!=="0"&&tt!=="none"}return!1}function q(We){if(We){var tt=We.attributes["w:val"];return tt!=="false"&&tt!=="0"}return!1}function G(We){return We!=="false"&&We!=="0"}function B(We){return We&&We!=="none"?We:null}function J(We){return z(We,"w:pStyle","Paragraph",it.findParagraphStyleById)}function W(We){return z(We,"w:rStyle","Run",it.findCharacterStyleById)}function L(We){return z(We,"w:tblStyle","Table",it.findTableStyleById)}function z(We,tt,pt,Ct){var Et=[],St=We.first(tt),Bt=null,kn=null;if(St&&(Bt=St.attributes["w:val"])){var sn=Ct(Bt);sn?kn=sn.name:Et.push(ve(pt,Bt))}return f({styleId:Bt,name:kn},Et)}function X(We){var tt=We.attributes["w:fldCharType"];if(tt==="begin")ae.push({type:"begin",fldChar:We}),me=[];else if(tt==="end"){var pt=ae.pop();if(pt.type==="begin"&&(pt=V(pt)),pt.type==="checkbox")return u(y.checkbox({checked:pt.checked}))}else if(tt==="separate"){var Ct=ae.pop(),Et=V(Ct);ae.push(Et)}return d()}function Q(){var We=m.last(ae.filter(function(tt){return tt.type==="hyperlink"}));return We?We.options:null}function V(We){return Z(me.join(""),We.type==="begin"?We.fldChar:N.emptyElement)}function Z(We,tt){var pt=/\s*HYPERLINK "(.*)"/.exec(We);if(pt)return{type:"hyperlink",options:{href:pt[1]}};var Ct=/\s*HYPERLINK\s+\\l\s+"(.*)"/.exec(We);if(Ct)return{type:"hyperlink",options:{anchor:Ct[1]}};var Et=/\s*FORMCHECKBOX\s*/.exec(We);if(Et){var St=tt.firstOrEmpty("w:ffData").firstOrEmpty("w:checkBox"),Bt=St.first("w:checked"),kn=q(Bt??St.first("w:default"));return{type:"checkbox",checked:kn}}return{type:"unknown"}}function _e(We){return me.push(We.text()),d()}function le(We){var tt=We.attributes["w:font"],pt=We.attributes["w:char"],Ct=b.hex(tt,pt);return Ct==null&&/^F0..$/.test(pt)&&(Ct=b.hex(tt,pt.substring(2))),Ct==null?c([x("A w:sym element with an unsupported character was ignored: char "+pt+" in font "+tt)]):u(new y.Text(Ct.string))}function ce(We){return function(tt){var pt=tt.attributes["w:id"];return u(new y.NoteReference({noteType:We,noteId:pt}))}}function Fe(We){return u(y.commentReference({commentId:We.attributes["w:id"]}))}function Ae(We){return E(We.children)}function Re(We){var tt=Ve(We.firstOrEmpty("w:tblPr"));return E(We.children).flatMap(Ce).flatMap(function(pt){return tt.map(function(Ct){return y.Table(pt,Ct)})})}function Ve(We){return L(We).map(function(tt){return{styleId:tt.styleId,styleName:tt.name}})}function fe(We){var tt=We.firstOrEmpty("w:trPr"),pt=!!tt.first("w:del");if(pt)return d();var Ct=!!tt.first("w:tblHeader");return E(We.children).map(function(Et){return y.TableRow(Et,{isHeader:Ct})})}function Je(We){return E(We.children).map(function(tt){var pt=We.firstOrEmpty("w:tcPr"),Ct=pt.firstOrEmpty("w:gridSpan").attributes["w:val"],Et=Ct?parseInt(Ct,10):1,St=y.TableCell(tt,{colSpan:Et});return St._vMerge=je(pt),St})}function je(We){var tt=We.first("w:vMerge");if(tt){var pt=tt.attributes["w:val"];return pt==="continue"||!pt}return null}function Ce(We){var tt=m.any(We,function(Et){return Et.type!==y.types.tableRow});if(tt)return $(We),f(We,[x("unexpected non-row element in table, cell merging may be incorrect")]);var pt=m.any(We,function(Et){return m.any(Et.children,function(St){return St.type!==y.types.tableCell})});if(pt)return $(We),f(We,[x("unexpected non-cell element in table row, cell merging may be incorrect")]);var Ct={};return We.forEach(function(Et){var St=0;Et.children.forEach(function(Bt){Bt._vMerge&&Ct[St]?Ct[St].rowSpan++:(Ct[St]=Bt,Bt._vMerge=!1),St+=Bt.colSpan})}),We.forEach(function(Et){Et.children=Et.children.filter(function(St){return!St._vMerge}),Et.children.forEach(function(St){delete St._vMerge})}),u(We)}function $(We){We.forEach(function(tt){var pt=k.getDescendantsOfType(tt,y.types.tableCell);pt.forEach(function(Ct){delete Ct._vMerge})})}function ke(We){var tt=We.getElementsByTagName("a:graphic").getElementsByTagName("a:graphicData").getElementsByTagName("pic:pic").getElementsByTagName("pic:blipFill").getElementsByTagName("a:blip");return p(tt.map(Se.bind(null,We)))}function Se(We,tt){var pt=We.first("wp:docPr").attributes,Ct=pe(pt.descr)?pt.title:pt.descr,Et=U(tt);return Et===null?c([x("Could not find image file for a:blip element")]):he(Et,Ct)}function pe(We){return We==null||/^\s*$/.test(We)}function U(We){var tt=We.attributes["r:embed"],pt=We.attributes["r:link"];if(tt)return te(tt);if(pt){var Ct=Oe.findTargetByRelationshipId(pt);return{path:Ct,read:mt.read.bind(mt,Ct)}}return null}function H(We){var tt=We.attributes["r:id"];return tt?he(te(tt),We.attributes["o:title"]):c([x("A v:imagedata element without a relationship ID was ignored")])}function te(We){var tt=T.uriToZipEntryName("word",Oe.findTargetByRelationshipId(We));return{path:tt,read:Ke.read.bind(Ke,tt)}}function he(We,tt){var pt=Ye.findContentType(We.path),Ct=y.Image({readImage:We.read,altText:tt,contentType:pt}),Et=C[pt]?[]:x("Image of type "+pt+" is unlikely to display in web browsers");return f(Ct,Et)}function ve(We,tt){return x(We+" style with ID "+tt+" was referenced but not defined in the document")}var ae=[],me=[],ge=[],Oe=D.relationships,Ye=D.contentTypes,Ke=D.docxFile,mt=D.files,qe=D.numbering,it=D.styles,ft={"w:p":function(We){var tt=We.firstOrEmpty("w:pPr"),pt=!!tt.firstOrEmpty("w:rPr").first("w:del");if(pt)return We.children.forEach(function(Et){ge.push(Et)}),d();var Ct=We.children;return ge.length>0&&(Ct=ge.concat(Ct),ge=[]),h.map(I(tt),E(Ct),function(Et,St){return new y.Paragraph(St,Et)}).insertExtra()},"w:r":function(We){return h.map(M(We.firstOrEmpty("w:rPr")),E(We.children),function(tt,pt){var Ct=Q();return Ct!==null&&(pt=[new y.Hyperlink(pt,Ct)]),new y.Run(pt,tt)})},"w:fldChar":X,"w:instrText":_e,"w:t":function(We){return u(new y.Text(We.text()))},"w:tab":function(We){return u(new y.Tab)},"w:noBreakHyphen":function(){return u(new y.Text(""))},"w:softHyphen":function(We){return u(new y.Text(""))},"w:sym":le,"w:hyperlink":function(We){var tt=We.attributes["r:id"],pt=We.attributes["w:anchor"];return E(We.children).map(function(Ct){function Et(Bt){var kn=We.attributes["w:tgtFrame"]||null;return new y.Hyperlink(Ct,m.extend({targetFrame:kn},Bt))}if(tt){var St=Oe.findTargetByRelationshipId(tt);return pt&&(St=T.replaceFragment(St,pt)),Et({href:St})}return pt?Et({anchor:pt}):Ct})},"w:tbl":Re,"w:tr":fe,"w:tc":Je,"w:footnoteReference":ce("footnote"),"w:endnoteReference":ce("endnote"),"w:commentReference":Fe,"w:br":function(We){var tt=We.attributes["w:type"];return tt==null||tt==="textWrapping"?u(y.lineBreak):tt==="page"?u(y.pageBreak):tt==="column"?u(y.columnBreak):c([x("Unsupported break type: "+tt)])},"w:bookmarkStart":function(We){var tt=We.attributes["w:name"];return tt==="_GoBack"?d():u(new y.BookmarkStart({name:tt}))},"mc:AlternateContent":function(We){return Ae(We.firstOrEmpty("mc:Fallback"))},"w:sdt":function(We){var tt=E(We.firstOrEmpty("w:sdtContent").children);return tt.map(function(pt){var Ct=We.firstOrEmpty("w:sdtPr").first("wordml:checkbox");if(Ct){var Et=Ct.first("wordml:checked"),St=!!Et&&G(Et.attributes["wordml:val"]),Bt=y.checkbox({checked:St}),kn=!1,sn=pt.map(k._elementsOfType(y.types.text,function(we){return we.value.length>0&&!kn?(kn=!0,Bt):we}));return kn?sn:Bt}return pt})},"w:ins":Ae,"w:object":Ae,"w:smartTag":Ae,"w:drawing":Ae,"w:pict":function(We){return Ae(We).toExtra()},"v:roundrect":Ae,"v:shape":Ae,"v:textbox":Ae,"w:txbxContent":Ae,"wp:inline":ke,"wp:anchor":ke,"v:imagedata":H,"v:group":Ae,"v:rect":Ae};return{readXmlElement:A,readXmlElements:E}}function o(D,E,A){var I=E.firstOrEmpty("w:ilvl").attributes["w:val"],R=E.firstOrEmpty("w:numId").attributes["w:val"];if(I!==void 0&&R!==void 0)return A.findLevel(R,I);if(D!=null){var M=A.findLevelByParagraphStyleId(D);if(M!=null)return M}return R!==void 0?A.findLevel(R,"0"):null}function c(D){return new h(null,null,D)}function d(){return new h(null)}function u(D){return new h(D)}function f(D,E){return new h(D,null,E)}function h(D,E,A){this.value=D||[],this.extra=E||[],this._result=new _({element:this.value,extra:E},A),this.messages=this._result.messages}function p(D){var E=_.combine(m.pluck(D,"_result"));return new h(m.flatten(m.pluck(E.value,"element")),m.filter(m.flatten(m.pluck(E.value,"extra")),w),E.messages)}function v(D,E){return m.flatten([D,E])}function w(D){return D}r.createBodyReader=s,r._readNumberingProperties=o;var b=t("dingbat-to-unicode"),m=t("underscore"),y=t("../documents"),_=t("../results").Result,x=t("../results").warning,N=t("../xml"),k=t("../transforms"),T=t("./uris"),C={"image/png":!0,"image/gif":!0,"image/jpeg":!0,"image/svg+xml":!0,"image/tiff":!0},P={"office-word:wrap":!0,"v:shadow":!0,"v:shapetype":!0,"w:annotationRef":!0,"w:bookmarkEnd":!0,"w:sectPr":!0,"w:proofErr":!0,"w:lastRenderedPageBreak":!0,"w:commentRangeStart":!0,"w:commentRangeEnd":!0,"w:del":!0,"w:footnoteRef":!0,"w:endnoteRef":!0,"w:pPr":!0,"w:rPr":!0,"w:tblPr":!0,"w:tblGrid":!0,"w:trPr":!0,"w:tcPr":!0};h.prototype.toExtra=function(){return new h(null,v(this.extra,this.value),this.messages)},h.prototype.insertExtra=function(){var D=this.extra;return D&&D.length?new h(v(this.value,D),null,this.messages):this},h.prototype.map=function(D){var E=this._result.map(function(A){return D(A.element)});return new h(E.value,this.extra,E.messages)},h.prototype.flatMap=function(D){var E=this._result.flatMap(function(A){return D(A.element)._result});return new h(E.value.element,v(this.extra,E.value.extra),E.messages)},h.map=function(D,E,A){return new h(A(D.value,E.value),v(D.extra,E.extra),D.messages.concat(E.messages))}},{"../documents":4,"../results":25,"../transforms":30,"../xml":35,"./uris":16,"dingbat-to-unicode":85,underscore:102}],6:[function(t,i,r){function s(c){function d(f){return o.combine(f.getElementsByTagName("w:comment").map(u))}function u(f){function h(v){return(f.attributes[v]||"").trim()||null}var p=f.attributes["w:id"];return c.readXmlElements(f.children).map(function(v){return a.comment({commentId:p,body:v,authorName:h("w:author"),authorInitials:h("w:initials")})})}return d}var a=t("../documents"),o=t("../results").Result;r.createCommentsReader=s},{"../documents":4,"../results":25}],7:[function(t,i,r){function s(c){var d={},u={};return c.children.forEach(function(f){if(f.name==="content-types:Default"&&(d[f.attributes.Extension]=f.attributes.ContentType),f.name==="content-types:Override"){var h=f.attributes.PartName;h.charAt(0)==="/"&&(h=h.substring(1)),u[h]=f.attributes.ContentType}}),a(u,d)}function a(c,d){return{findContentType:function(u){var f=c[u];if(f)return f;var h=u.split("."),p=h[h.length-1];if(d.hasOwnProperty(p))return d[p];var v=o[p.toLowerCase()];return v?"image/"+v:null}}}r.readContentTypesFromXml=s;var o={png:"png",gif:"gif",jpeg:"jpeg",jpg:"jpeg",tif:"tiff",tiff:"tiff",bmp:"bmp"};r.defaultContentTypes=a({},{})},{}],8:[function(t,i,r){function s(c){function d(f){var h=f.first("w:body");if(h==null)throw new Error("Could not find the body element: are you sure this is a docx file?");var p=u.readXmlElements(h.children).map(function(v){return new a.Document(v,{notes:c.notes,comments:c.comments})});return new o(p.value,p.messages)}var u=c.bodyReader;return{convertXmlToDocument:d}}r.DocumentXmlReader=s;var a=t("../documents"),o=t("../results").Result},{"../documents":4,"../results":25}],9:[function(t,i,r){function s(R,M,Y){M=M||{},Y=Y||{};var q=new E({externalFileAccess:Y.externalFileAccess,relativeToFile:M.path});return v.props({contentTypes:A(R),partPaths:a(R),docxFile:R,files:q}).also(function(G){return{styles:p(R,G.partPaths.styles)}}).also(function(G){return{numbering:h(R,G.partPaths.numbering,G.styles)}}).also(function(G){return{footnotes:u(G.partPaths.footnotes,G,function(B,J){return J?P.createFootnotesReader(B)(J):new b([])}),endnotes:u(G.partPaths.endnotes,G,function(B,J){return J?P.createEndnotesReader(B)(J):new b([])}),comments:u(G.partPaths.comments,G,function(B,J){return J?D.createCommentsReader(B)(J):new b([])})}}).also(function(G){return{notes:G.footnotes.flatMap(function(B){return G.endnotes.map(function(J){return new w.Notes(B.concat(J))})})}}).then(function(G){return u(G.partPaths.mainDocument,G,function(B,J){return G.notes.flatMap(function(W){return G.comments.flatMap(function(L){var z=new x({bodyReader:B,notes:W,comments:L});return z.convertXmlToDocument(J)})})})})}function a(R){return I(R).then(function(M){var Y=o({docxFile:R,relationships:M,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",basePath:"",fallbackPath:"word/document.xml"});if(!R.exists(Y))throw new Error("Could not find main document part. Are you sure this is a valid .docx file?");return d({filename:f(Y),readElement:N.readRelationships,defaultValue:N.defaultValue})(R).then(function(q){function G(B){return o({docxFile:R,relationships:q,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/"+B,basePath:m.splitPath(Y).dirname,fallbackPath:"word/"+B+".xml"})}return{mainDocument:Y,comments:G("comments"),endnotes:G("endnotes"),footnotes:G("footnotes"),numbering:G("numbering"),styles:G("styles")}})})}function o(R){var M=R.docxFile,Y=R.relationships,q=R.relationshipType,G=R.basePath,B=R.fallbackPath,J=Y.findTargetsByType(q),W=J.map(function(z){return c(m.joinPath(G,z),"/")}),L=W.filter(function(z){return M.exists(z)});return L.length===0?B:L[0]}function c(R,M){return R.substring(0,M.length)===M?R.substring(M.length):R}function d(R){return function(M){return y(M,R.filename).then(function(Y){return Y?R.readElement(Y):R.defaultValue})}}function u(R,M,Y){var q=d({filename:f(R),readElement:N.readRelationships,defaultValue:N.defaultValue});return q(M.docxFile).then(function(G){var B=new _({relationships:G,contentTypes:M.contentTypes,docxFile:M.docxFile,numbering:M.numbering,styles:M.styles,files:M.files});return y(M.docxFile,R).then(function(J){return Y(B,J)})})}function f(R){var M=m.splitPath(R);return m.joinPath(M.dirname,"_rels",M.basename+".rels")}function h(R,M,Y){return d({filename:M,readElement:function(q){return T.readNumberingXml(q,{styles:Y})},defaultValue:T.defaultNumbering})(R)}function p(R,M){return d({filename:M,readElement:C.readStylesXml,defaultValue:C.defaultStyles})(R)}r.read=s,r._findPartPaths=a;var v=t("../promises"),w=t("../documents"),b=t("../results").Result,m=t("../zipfile"),y=t("./office-xml-reader").readXmlFromZipFile,_=t("./body-reader").createBodyReader,x=t("./document-xml-reader").DocumentXmlReader,N=t("./relationships-reader"),k=t("./content-types-reader"),T=t("./numbering-xml"),C=t("./styles-reader"),P=t("./notes-reader"),D=t("./comments-reader"),E=t("./files").Files,A=d({filename:"[Content_Types].xml",readElement:k.readContentTypesFromXml,defaultValue:k.defaultContentTypes}),I=d({filename:"_rels/.rels",readElement:N.readRelationships,defaultValue:N.defaultValue})},{"../documents":4,"../promises":23,"../results":25,"../zipfile":40,"./body-reader":5,"./comments-reader":6,"./content-types-reader":7,"./document-xml-reader":8,"./files":1,"./notes-reader":10,"./numbering-xml":11,"./office-xml-reader":12,"./relationships-reader":13,"./styles-reader":15}],10:[function(t,i,r){function s(c,d){function u(p){return o.combine(p.getElementsByTagName("w:"+c).filter(f).map(h))}function f(p){var v=p.attributes["w:type"];return v!=="continuationSeparator"&&v!=="separator"}function h(p){var v=p.attributes["w:id"];return d.readXmlElements(p.children).map(function(w){return a.Note({noteType:c,noteId:v,body:w})})}return u}var a=t("../documents"),o=t("../results").Result;r.createFootnotesReader=s.bind(this,"footnote"),r.createEndnotesReader=s.bind(this,"endnote")},{"../documents":4,"../results":25}],11:[function(t,i,r){function s(f,h,p){function v(y,_){var x=f[y];if(x){var N=h[x.abstractNumId];if(N){if(N.numStyleLink==null)return h[x.abstractNumId].levels[_];var k=p.findNumberingStyleById(N.numStyleLink);return v(k.numId,_)}return null}return null}function w(y){return m[y]||null}var b=u.flatten(u.values(h).map(function(y){return u.values(y.levels)})),m=u.indexBy(b.filter(function(y){return y.paragraphStyleId!=null}),"paragraphStyleId");return{findLevel:v,findLevelByParagraphStyleId:w}}function a(f,h){if(!h||!h.styles)throw new Error("styles is missing");var p=o(f),v=d(f);return new s(v,p,h.styles)}function o(f){var h={};return f.getElementsByTagName("w:abstractNum").forEach(function(p){var v=p.attributes["w:abstractNumId"];h[v]=c(p)}),h}function c(f){var h={},p=null;f.getElementsByTagName("w:lvl").forEach(function(w){var b=w.attributes["w:ilvl"],m=w.firstOrEmpty("w:numFmt").attributes["w:val"],y=m!=="bullet",_=w.firstOrEmpty("w:pStyle").attributes["w:val"];b===void 0?p={isOrdered:y,level:"0",paragraphStyleId:_}:h[b]={isOrdered:y,level:b,paragraphStyleId:_}}),p!==null&&h[p.level]===void 0&&(h[p.level]=p);var v=f.firstOrEmpty("w:numStyleLink").attributes["w:val"];return{levels:h,numStyleLink:v}}function d(f){var h={};return f.getElementsByTagName("w:num").forEach(function(p){var v=p.attributes["w:numId"],w=p.first("w:abstractNumId").attributes["w:val"];h[v]={abstractNumId:w}}),h}var u=t("underscore");r.readNumberingXml=a,r.Numbering=s,r.defaultNumbering=new s({},{})},{underscore:102}],12:[function(t,i,r){function s(p){return f.readString(p,h).then(function(v){return c(v)[0]})}function a(p,v){return p.exists(v)?p.read(v,"utf-8").then(o).then(s):u.resolve(null)}function o(p){return p.replace(/^\uFEFF/g,"")}function c(p){return p.type==="element"?p.name==="mc:AlternateContent"?p.firstOrEmpty("mc:Fallback").children:(p.children=d.flatten(p.children.map(c,!0)),[p]):[p]}var d=t("underscore"),u=t("../promises"),f=t("../xml");r.read=s,r.readXmlFromZipFile=a;var h={"http://schemas.openxmlformats.org/wordprocessingml/2006/main":"w","http://schemas.openxmlformats.org/officeDocument/2006/relationships":"r","http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing":"wp","http://schemas.openxmlformats.org/drawingml/2006/main":"a","http://schemas.openxmlformats.org/drawingml/2006/picture":"pic","http://purl.oclc.org/ooxml/wordprocessingml/main":"w","http://purl.oclc.org/ooxml/officeDocument/relationships":"r","http://purl.oclc.org/ooxml/drawingml/wordprocessingDrawing":"wp","http://purl.oclc.org/ooxml/drawingml/main":"a","http://purl.oclc.org/ooxml/drawingml/picture":"pic","http://schemas.openxmlformats.org/package/2006/content-types":"content-types","http://schemas.openxmlformats.org/package/2006/relationships":"relationships","http://schemas.openxmlformats.org/markup-compatibility/2006":"mc","urn:schemas-microsoft-com:vml":"v","urn:schemas-microsoft-com:office:word":"office-word","http://schemas.microsoft.com/office/word/2010/wordml":"wordml"}},{"../promises":23,"../xml":35,underscore:102}],13:[function(t,i,r){function s(o){var c=[];return o.children.forEach(function(d){if(d.name==="relationships:Relationship"){var u={relationshipId:d.attributes.Id,target:d.attributes.Target,type:d.attributes.Type};c.push(u)}}),new a(c)}function a(o){var c={};o.forEach(function(u){c[u.relationshipId]=u.target});var d={};return o.forEach(function(u){d[u.type]||(d[u.type]=[]),d[u.type].push(u.target)}),{findTargetByRelationshipId:function(u){return c[u]},findTargetsByType:function(u){return d[u]||[]}}}r.readRelationships=s,r.defaultValue=new a([]),r.Relationships=a},{}],14:[function(t,i,r){function s(b,m){return b.write(v,m),a(b).then(function(){return o(b)})}function a(b){var m="word/_rels/document.xml.rels",y="http://schemas.openxmlformats.org/package/2006/relationships",_="{"+y+"}Relationship";return b.read(m,"utf8").then(h.readString).then(function(x){var N=x.children;c(N,_,"Id",{Id:"rMammothStyleMap",Type:p,Target:w});var k={"":y};return b.write(m,h.writeString(x,k))})}function o(b){var m="[Content_Types].xml",y="http://schemas.openxmlformats.org/package/2006/content-types",_="{"+y+"}Override";return b.read(m,"utf8").then(h.readString).then(function(x){var N=x.children;c(N,_,"PartName",{PartName:w,ContentType:"text/prs.mammoth.style-map"});var k={"":y};return b.write(m,h.writeString(x,k))})}function c(b,m,y,_){var x=u.find(b,function(N){return N.name===m&&N.attributes[y]===_[y]});x?x.attributes=_:b.push(h.element(m,_))}function d(b){return b.exists(v)?b.read(v,"utf8"):f.resolve(null)}var u=t("underscore"),f=t("../promises"),h=t("../xml");r.writeStyleMap=s,r.readStyleMap=d;var p="http://schemas.zwobble.org/mammoth/style-map",v="mammoth/style-map",w="/"+v},{"../promises":23,"../xml":35,underscore:102}],15:[function(t,i,r){function s(f,h,p,v){return{findParagraphStyleById:function(w){return f[w]},findCharacterStyleById:function(w){return h[w]},findTableStyleById:function(w){return p[w]},findNumberingStyleById:function(w){return v[w]}}}function a(f){var h={},p={},v={},w={},b={paragraph:h,character:p,table:v,numbering:w};return f.getElementsByTagName("w:style").forEach(function(m){var y=o(m),_=b[y.type];_&&_[y.styleId]===void 0&&(_[y.styleId]=y)}),new s(h,p,v,w)}function o(f){var h=f.attributes["w:type"];if(h==="numbering")return d(h,f);var p=u(f),v=c(f);return{type:h,styleId:p,name:v}}function c(f){var h=f.first("w:name");return h?h.attributes["w:val"]:null}function d(f,h){var p=u(h),v=h.firstOrEmpty("w:pPr").firstOrEmpty("w:numPr").firstOrEmpty("w:numId").attributes["w:val"];return{type:f,numId:v,styleId:p}}function u(f){return f.attributes["w:styleId"]}r.readStylesXml=a,r.Styles=s,r.defaultStyles=new s({},{}),s.EMPTY=new s({},{},{},{})},{}],16:[function(t,i,r){function s(o,c){return c.charAt(0)==="/"?c.substr(1):o+"/"+c}function a(o,c){var d=o.indexOf("#");return d!==-1&&(o=o.substring(0,d)),o+"#"+c}r.uriToZipEntryName=s,r.replaceFragment=a},{}],17:[function(t,i,r){function s(p,v,w){return o(u.element(p,v,{fresh:!1}),w)}function a(p,v,w){var b=u.element(p,v,{fresh:!0});return o(b,w)}function o(p,v){return{type:"element",tag:p,children:v||[]}}function c(p){return{type:"text",value:p}}function d(p){return p.children.length===0&&h[p.tag.tagName]}var u=t("../styles/html-paths"),f={type:"forceWrite"};r.freshElement=a,r.nonFreshElement=s,r.elementWithTag=o,r.text=c,r.forceWrite=f;var h={br:!0,hr:!0,img:!0,input:!0};r.isVoidElement=d},{"../styles/html-paths":28}],18:[function(t,i,r){function s(f,h){h.forEach(function(p){a(f,p)})}function a(f,h){u[h.type](f,h)}function o(f,h){d.isVoidElement(h)?f.selfClosing(h.tag.tagName,h.tag.attributes):(f.open(h.tag.tagName,h.tag.attributes),s(f,h.children),f.close(h.tag.tagName))}function c(f,h){f.text(h.value)}var d=t("./ast");r.freshElement=d.freshElement,r.nonFreshElement=d.nonFreshElement,r.elementWithTag=d.elementWithTag,r.text=d.text,r.forceWrite=d.forceWrite,r.simplify=t("./simplify");var u={element:o,text:c,forceWrite:function(){}};r.write=s},{"./ast":17,"./simplify":19}],19:[function(t,i,r){function s(x){return a(f(x))}function a(x){var N=[];return x.map(o).forEach(function(k){u(N,k)}),N}function o(x){return y[x.type](x)}function c(x){return m.elementWithTag(x.tag,a(x.children))}function d(x){return x}function u(x,N){var k=x[x.length-1];N.type==="element"&&!N.tag.fresh&&k&&k.type==="element"&&N.tag.matchesElement(k.tag)?(N.tag.separator&&u(k.children,m.text(N.tag.separator)),N.children.forEach(function(T){u(k.children,T)})):x.push(N)}function f(x){return h(x,function(N){return _[N.type](N)})}function h(x,N){return b.flatten(b.map(x,N),!0)}function p(x){return[x]}function v(x){var N=f(x.children);return N.length!==0||m.isVoidElement(x)?[m.elementWithTag(x.tag,N)]:[]}function w(x){return x.value.length===0?[]:[x]}var b=t("underscore"),m=t("./ast"),y={element:c,text:d,forceWrite:d},_={element:v,text:w,forceWrite:p};i.exports=s},{"./ast":17,underscore:102}],20:[function(t,i,r){function s(d){return function(u,f){return o.when(d(u)).then(function(h){var p={};return u.altText&&(p.alt=u.altText),a.extend(p,h),[c.freshElement("img",p)]})}}var a=t("underscore"),o=t("./promises"),c=t("./html");r.imgElement=s,r.inline=r.imgElement,r.dataUri=s(function(d){return d.readAsBase64String().then(function(u){return{src:"data:"+d.contentType+";base64,"+u}})})},{"./html":18,"./promises":23,underscore:102}],21:[function(t,i,r){(function(s){function a(T,C){return c(T,C)}function o(T,C){var P=Object.create(C||{});return P.outputFormat="markdown",c(T,P)}function c(T,C){return C=x(C),N.openZip(T).tap(function(P){return b.readStyleMap(P).then(function(D){C.embeddedStyleMap=D})}).then(function(P){return w.read(P,T,C).then(function(D){return D.map(C.transformDocument)}).then(function(D){return u(D,C)})})}function d(T){return N.openZip(T).then(b.readStyleMap)}function u(T,C){var P=f(C.readStyleMap()),D=v.extend({},C,{styleMap:P.value}),E=new m(D);return T.flatMapThen(function(A){return P.flatMapThen(function(I){return E.convertToHtml(A)})})}function f(T){return k.combine((T||[]).map(_)).map(function(C){return C.filter(function(P){return!!P})})}function h(T){return N.openZip(T).then(w.read).then(function(C){return C.map(y)})}function p(T,C){return N.openZip(T).tap(function(P){return b.writeStyleMap(P,C)}).then(function(P){return P.toArrayBuffer()}).then(function(P){return{toArrayBuffer:function(){return P},toBuffer:function(){return s.from(P)}}})}var v=t("underscore"),w=t("./docx/docx-reader"),b=t("./docx/style-map"),m=t("./document-to-html").DocumentConverter,y=t("./raw-text").convertElementToRawText,_=t("./style-reader").readStyle,x=t("./options-reader").readOptions,N=t("./unzip"),k=t("./results").Result;r.convertToHtml=a,r.convertToMarkdown=o,r.convert=c,r.extractRawText=h,r.images=t("./images"),r.transforms=t("./transforms"),r.underline=t("./underline"),r.embedStyleMap=p,r.readEmbeddedStyleMap=d,r.styleMapping=function(){throw new Error(`Use a raw string instead of mammoth.styleMapping e.g. "p[style-name='Title'] => h1" instead of mammoth.styleMapping("p[style-name='Title'] => h1")`)}}).call(this,t("buffer").Buffer)},{"./document-to-html":3,"./docx/docx-reader":9,"./docx/style-map":14,"./images":20,"./options-reader":22,"./raw-text":24,"./results":25,"./style-reader":26,"./transforms":30,"./underline":31,"./unzip":2,buffer:83,underscore:102}],22:[function(t,i,r){function s(f){return f=f||{},c.extend({},u,f,{customStyleMap:a(f.styleMap),readStyleMap:function(){var h=this.customStyleMap;return this.includeEmbeddedStyleMap&&(h=h.concat(a(this.embeddedStyleMap))),this.includeDefaultStyleMap&&(h=h.concat(d)),h}})}function a(f){return f?c.isString(f)?f.split(`
`).map(function(h){return h.trim()}).filter(function(h){return h!==""&&h.charAt(0)!=="#"}):f:[]}function o(f){return f}r.readOptions=s;var c=t("underscore"),d=r._defaultStyleMap=["p.Heading1 => h1:fresh","p.Heading2 => h2:fresh","p.Heading3 => h3:fresh","p.Heading4 => h4:fresh","p.Heading5 => h5:fresh","p.Heading6 => h6:fresh","p[style-name='Heading 1'] => h1:fresh","p[style-name='Heading 2'] => h2:fresh","p[style-name='Heading 3'] => h3:fresh","p[style-name='Heading 4'] => h4:fresh","p[style-name='Heading 5'] => h5:fresh","p[style-name='Heading 6'] => h6:fresh","p[style-name='heading 1'] => h1:fresh","p[style-name='heading 2'] => h2:fresh","p[style-name='heading 3'] => h3:fresh","p[style-name='heading 4'] => h4:fresh","p[style-name='heading 5'] => h5:fresh","p[style-name='heading 6'] => h6:fresh","p.Heading => h1:fresh","p[style-name='Heading'] => h1:fresh","r[style-name='Strong'] => strong","p[style-name='footnote text'] => p:fresh","r[style-name='footnote reference'] =>","p[style-name='endnote text'] => p:fresh","r[style-name='endnote reference'] =>","p[style-name='annotation text'] => p:fresh","r[style-name='annotation reference'] =>","p[style-name='Footnote'] => p:fresh","r[style-name='Footnote anchor'] =>","p[style-name='Endnote'] => p:fresh","r[style-name='Endnote anchor'] =>","p:unordered-list(1) => ul > li:fresh","p:unordered-list(2) => ul|ol > li > ul > li:fresh","p:unordered-list(3) => ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:ordered-list(1) => ol > li:fresh","p:ordered-list(2) => ul|ol > li > ol > li:fresh","p:ordered-list(3) => ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","r[style-name='Hyperlink'] =>","p[style-name='Normal'] => p:fresh","p.Body => p:fresh","p[style-name='Body'] => p:fresh"],u=r._standardOptions={externalFileAccess:!1,transformDocument:o,includeDefaultStyleMap:!0,includeEmbeddedStyleMap:!0}},{underscore:102}],23:[function(t,i,r){function s(){var c,d,u=new o.Promise(function(f,h){c=f,d=h});return{resolve:c,reject:d,promise:u}}var a=t("underscore"),o=t("bluebird/js/release/promise")();r.defer=s,r.when=o.resolve,r.resolve=o.resolve,r.all=o.all,r.props=o.props,r.reject=o.reject,r.promisify=o.promisify,r.mapSeries=o.mapSeries,r.attempt=o.attempt,r.nfcall=function(c){var d=Array.prototype.slice.call(arguments,1),u=o.promisify(c);return u.apply(null,d)},o.prototype.fail=o.prototype.caught,o.prototype.also=function(c){return this.then(function(d){var u=a.extend({},d,c(d));return o.props(u)})}},{"bluebird/js/release/promise":68,underscore:102}],24:[function(t,i,r){function s(o){if(o.type==="text")return o.value;if(o.type===a.types.tab)return"	";var c=o.type==="paragraph"?`

`:"";return(o.children||[]).map(s).join("")+c}var a=t("./documents");r.convertElementToRawText=s},{"./documents":4}],25:[function(t,i,r){function s(p,v){this.value=p,this.messages=v||[]}function a(p){return new s(p,[])}function o(p){return{type:"warning",message:p}}function c(p){return{type:"error",message:p.message,error:p}}function d(p){var v=[];return h.flatten(h.pluck(p,"messages"),!0).forEach(function(w){u(v,w)||v.push(w)}),v}function u(p,v){return h.find(p,f.bind(null,v))!==void 0}function f(p,v){return p.type===v.type&&p.message===v.message}var h=t("underscore");r.Result=s,r.success=a,r.warning=o,r.error=c,s.prototype.map=function(p){return new s(p(this.value),this.messages)},s.prototype.flatMap=function(p){var v=p(this.value);return new s(v.value,d([this,v]))},s.prototype.flatMapThen=function(p){var v=this;return p(this.value).then(function(w){return new s(w.value,d([v,w]))})},s.combine=function(p){var v=h.flatten(h.pluck(p,"value")),w=d(p);return new s(v,w)}},{underscore:102}],26:[function(t,i,r){function s(I){return h(A,I)}function a(){return b.rules.sequence(b.rules.sequence.capture(c()),b.rules.tokenOfType("whitespace"),b.rules.tokenOfType("arrow"),b.rules.sequence.capture(b.rules.optional(b.rules.sequence(b.rules.tokenOfType("whitespace"),b.rules.sequence.capture(u())).head())),b.rules.tokenOfType("end")).map(function(I,R){return{from:I,to:R.valueOrElse(y.empty)}})}function o(I){return h(c(),I)}function c(){function I(fe){var Je=b.rules.firstOf.apply(b.rules.firstOf,["matcher suffix"].concat(fe)),je=b.rules.zeroOrMore(Je);return b.rules.then(je,function(Ce){var $={};return Ce.forEach(function(ke){w.extend($,ke)}),$})}var R=b.rules.sequence,M=function(fe,Je){return b.rules.then(b.rules.token("identifier",fe),function(){return Je})},Y=M("p",m.paragraph),q=M("r",m.run),G=b.rules.firstOf("p or r or table",Y,q),B=b.rules.sequence(b.rules.tokenOfType("dot"),b.rules.sequence.cut(),b.rules.sequence.capture(N)).map(function(fe){return{styleId:fe}}),J=b.rules.firstOf("style name matcher",b.rules.then(b.rules.sequence(b.rules.tokenOfType("equals"),b.rules.sequence.cut(),b.rules.sequence.capture(T)).head(),function(fe){return{styleName:m.equalTo(fe)}}),b.rules.then(b.rules.sequence(b.rules.tokenOfType("startsWith"),b.rules.sequence.cut(),b.rules.sequence.capture(T)).head(),function(fe){return{styleName:m.startsWith(fe)}})),W=b.rules.sequence(b.rules.tokenOfType("open-square-bracket"),b.rules.sequence.cut(),b.rules.token("identifier","style-name"),b.rules.sequence.capture(J),b.rules.tokenOfType("close-square-bracket")).head(),L=b.rules.firstOf("list type",M("ordered-list",{isOrdered:!0}),M("unordered-list",{isOrdered:!1})),z=R(b.rules.tokenOfType("colon"),R.capture(L),R.cut(),b.rules.tokenOfType("open-paren"),R.capture(k),b.rules.tokenOfType("close-paren")).map(function(fe,Je){return{list:{isOrdered:fe.isOrdered,levelIndex:Je-1}}}),X=R(R.capture(G),R.capture(I([B,W,z]))).map(function(fe,Je){return fe(Je)}),Q=R(b.rules.token("identifier","table"),R.capture(I([B,W]))).map(function(fe){return m.table(fe)}),V=M("b",m.bold),Z=M("i",m.italic),_e=M("u",m.underline),le=M("strike",m.strikethrough),ce=M("all-caps",m.allCaps),Fe=M("small-caps",m.smallCaps),Ae=R(b.rules.token("identifier","highlight"),b.rules.sequence.capture(b.rules.optional(b.rules.sequence(b.rules.tokenOfType("open-square-bracket"),b.rules.sequence.cut(),b.rules.token("identifier","color"),b.rules.tokenOfType("equals"),b.rules.sequence.capture(T),b.rules.tokenOfType("close-square-bracket")).head()))).map(function(fe){return m.highlight({color:fe.valueOrElse(void 0)})}),Re=M("comment-reference",m.commentReference),Ve=R(b.rules.token("identifier","br"),R.cut(),b.rules.tokenOfType("open-square-bracket"),b.rules.token("identifier","type"),b.rules.tokenOfType("equals"),R.capture(T),b.rules.tokenOfType("close-square-bracket")).map(function(fe){switch(fe){case"line":return m.lineBreak;case"page":return m.pageBreak;case"column":return m.columnBreak}});return b.rules.firstOf("element type",X,Q,V,Z,_e,le,ce,Fe,Ae,Re,Ve)}function d(I){return h(u(),I)}function u(){var I=b.rules.sequence.capture,R=b.rules.tokenOfType("whitespace"),M=b.rules.then(b.rules.optional(b.rules.sequence(b.rules.tokenOfType("colon"),b.rules.token("identifier","fresh"))),function(B){return B.map(function(){return!0}).valueOrElse(!1)}),Y=b.rules.then(b.rules.optional(b.rules.sequence(b.rules.tokenOfType("colon"),b.rules.token("identifier","separator"),b.rules.tokenOfType("open-paren"),I(T),b.rules.tokenOfType("close-paren")).head()),function(B){return B.valueOrElse("")}),q=b.rules.oneOrMoreWithSeparator(N,b.rules.tokenOfType("choice")),G=b.rules.sequence(I(q),I(b.rules.zeroOrMore(E)),I(M),I(Y)).map(function(B,J,W,L){var z={},X={};return J.forEach(function(Q){Q.append&&z[Q.name]?z[Q.name]+=" "+Q.value:z[Q.name]=Q.value}),W&&(X.fresh=!0),L&&(X.separator=L),y.element(B,z,X)});return b.rules.firstOf("html path",b.rules.then(b.rules.tokenOfType("bang"),function(){return y.ignore}),b.rules.then(b.rules.zeroOrMoreWithSeparator(G,b.rules.sequence(R,b.rules.tokenOfType("gt"),R)),y.elements))}function f(I){return I.replace(/\\(.)/g,function(R,M){return C[M]||M})}function h(I,R){var M=_(R),Y=b.Parser(),q=Y.parseTokens(I,M);return q.isSuccess()?x.success(q.value()):new x.Result(null,[x.warning(p(R,q))])}function p(I,R){return"Did not understand this style mapping, so ignored it: "+I+`
`+R.errors().map(v).join(`
`)}function v(I){return"Error was at character number "+I.characterNumber()+": Expected "+I.expected+" but got "+I.actual}var w=t("underscore"),b=t("lop"),m=t("./styles/document-matchers"),y=t("./styles/html-paths"),_=t("./styles/parser/tokeniser").tokenise,x=t("./results");r.readHtmlPath=d,r.readDocumentMatcher=o,r.readStyle=s;var N=b.rules.then(b.rules.tokenOfType("identifier"),f),k=b.rules.tokenOfType("integer"),T=b.rules.then(b.rules.tokenOfType("string"),f),C={n:`
`,r:"\r",t:"	"},P=b.rules.sequence(b.rules.tokenOfType("open-square-bracket"),b.rules.sequence.cut(),b.rules.sequence.capture(N),b.rules.tokenOfType("equals"),b.rules.sequence.capture(T),b.rules.tokenOfType("close-square-bracket")).map(function(I,R){return{name:I,value:R,append:!1}}),D=b.rules.sequence(b.rules.tokenOfType("dot"),b.rules.sequence.cut(),b.rules.sequence.capture(N)).map(function(I){return{name:"class",value:I,append:!0}}),E=b.rules.firstOf("attribute or class",P,D),A=a()},{"./results":25,"./styles/document-matchers":27,"./styles/html-paths":28,"./styles/parser/tokeniser":29,lop:89,underscore:102}],27:[function(t,i,r){function s(m){return new d("paragraph",m)}function a(m){return new d("run",m)}function o(m){return new d("table",m)}function c(m){return new u(m)}function d(m,y){y=y||{},this._elementType=m,this._styleId=y.styleId,this._styleName=y.styleName,y.list&&(this._listIndex=y.list.levelIndex,this._listIsOrdered=y.list.isOrdered)}function u(m){m=m||{},this._color=m.color}function f(m){m=m||{},this._breakType=m.breakType}function h(m,y,_){return m.numbering&&m.numbering.level==y&&m.numbering.isOrdered==_}function p(m){return{operator:w,operand:m}}function v(m){return{operator:b,operand:m}}function w(m,y){return m.toUpperCase()===y.toUpperCase()}function b(m,y){return y.toUpperCase().indexOf(m.toUpperCase())===0}r.paragraph=s,r.run=a,r.table=o,r.bold=new d("bold"),r.italic=new d("italic"),r.underline=new d("underline"),r.strikethrough=new d("strikethrough"),r.allCaps=new d("allCaps"),r.smallCaps=new d("smallCaps"),r.highlight=c,r.commentReference=new d("commentReference"),r.lineBreak=new f({breakType:"line"}),r.pageBreak=new f({breakType:"page"}),r.columnBreak=new f({breakType:"column"}),r.equalTo=p,r.startsWith=v,d.prototype.matches=function(m){return m.type===this._elementType&&(this._styleId===void 0||m.styleId===this._styleId)&&(this._styleName===void 0||m.styleName&&this._styleName.operator(this._styleName.operand,m.styleName))&&(this._listIndex===void 0||h(m,this._listIndex,this._listIsOrdered))&&(this._breakType===void 0||this._breakType===m.breakType)},u.prototype.matches=function(m){return m.type==="highlight"&&(this._color===void 0||m.color===this._color)},f.prototype.matches=function(m){return m.type==="break"&&(this._breakType===void 0||m.breakType===this._breakType)}},{}],28:[function(t,i,r){function s(h,p){return a([c(h,p,{fresh:!0})])}function a(h){return new o(h.map(function(p){return u.isString(p)?c(p):p}))}function o(h){this._elements=h}function c(h,p,v){return v=v||{},new d(h,p,v)}function d(h,p,v){var w={};u.isArray(h)?(h.forEach(function(b){w[b]=!0}),h=h[0]):w[h]=!0,this.tagName=h,this.tagNames=w,this.attributes=p||{},this.fresh=v.fresh,this.separator=v.separator}var u=t("underscore"),f=t("../html");r.topLevelElement=s,r.elements=a,r.element=c,o.prototype.wrap=function(h){for(var p=h(),v=this._elements.length-1;v>=0;v--)p=this._elements[v].wrapNodes(p);return p},d.prototype.matchesElement=function(h){return this.tagNames[h.tagName]&&u.isEqual(this.attributes||{},h.attributes||{})},d.prototype.wrap=function(h){return this.wrapNodes(h())},d.prototype.wrapNodes=function(h){return[f.elementWithTag(this,h)]},r.empty=a([]),r.ignore={wrap:function(){return[]}}},{"../html":18,underscore:102}],29:[function(t,i,r){function s(d){var u="(?:[a-zA-Z\\-_]|\\\\.)",f=new o([{name:"identifier",regex:new RegExp("("+u+"(?:"+u+"|[0-9])*)")},{name:"dot",regex:/\./},{name:"colon",regex:/:/},{name:"gt",regex:/>/},{name:"whitespace",regex:/\s+/},{name:"arrow",regex:/=>/},{name:"equals",regex:/=/},{name:"startsWith",regex:/\^=/},{name:"open-paren",regex:/\(/},{name:"close-paren",regex:/\)/},{name:"open-square-bracket",regex:/\[/},{name:"close-square-bracket",regex:/\]/},{name:"string",regex:new RegExp(c+"'")},{name:"unterminated-string",regex:new RegExp(c)},{name:"integer",regex:/([0-9]+)/},{name:"choice",regex:/\|/},{name:"bang",regex:/(!)/}]);return f.tokenise(d)}var a=t("lop"),o=a.RegexTokeniser;r.tokenise=s;var c="'((?:\\\\.|[^'])*)"},{lop:89}],30:[function(t,i,r){function s(p){return o("paragraph",p)}function a(p){return o("run",p)}function o(p,v){return c(function(w){return w.type===p?v(w):w})}function c(p){return function v(w){if(w.children){var b=h.map(w.children,v);w=h.extend(w,{children:b})}return p(w)}}function d(p,v){return u(p).filter(function(w){return w.type===v})}function u(p){var v=[];return f(p,function(w){v.push(w)}),v}function f(p,v){p.children&&p.children.forEach(function(w){f(w,v),v(w)})}var h=t("underscore");r.paragraph=s,r.run=a,r._elements=c,r._elementsOfType=o,r.getDescendantsOfType=d,r.getDescendants=u},{underscore:102}],31:[function(t,i,r){function s(c){return function(d){return o.elementWithTag(a.element(c),[d])}}var a=t("./styles/html-paths"),o=t("./html");r.element=s},{"./html":18,"./styles/html-paths":28}],32:[function(t,i,r){function s(h){return h=h||{},h.prettyPrint?a():o()}function a(){function h(D,E){f[D]&&y(),k.push(D),P.open(D,E),f[D]&&x++,T=!1}function p(D){f[D]&&(x--,y()),k.pop(),P.close(D)}function v(D){m();var E=_()?D:D.replace(`
`,`
`+N);P.text(E)}function w(D,E){y(),P.selfClosing(D,E)}function b(){return k.length===0||f[k[k.length-1]]}function m(){C||(y(),C=!0)}function y(){if(C=!1,!T&&b()&&!_()){P._append(`
`);for(var D=0;x>D;D++)P._append(N)}}function _(){return u.some(k,function(D){return D==="pre"})}var x=0,N="  ",k=[],T=!0,C=!1,P=o();return{asString:P.asString,open:h,close:p,text:v,selfClosing:w}}function o(){function h(x,N){var k=w(N);_.push("<"+x+k+">")}function p(x){_.push("</"+x+">")}function v(x,N){var k=w(N);_.push("<"+x+k+" />")}function w(x){return u.map(x,function(N,k){return" "+k+'="'+d(N)+'"'}).join("")}function b(x){_.push(c(x))}function m(x){_.push(x)}function y(){return _.join("")}var _=[];return{asString:y,open:h,close:p,text:b,selfClosing:v,_append:m}}function c(h){return h.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function d(h){return h.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var u=t("underscore");r.writer=s;var f={div:!0,p:!0,ul:!0,li:!0}},{underscore:102}],33:[function(t,i,r){function s(c){return c=c||{},c.outputFormat==="markdown"?o.writer():a.writer(c)}var a=t("./html-writer"),o=t("./markdown-writer");r.writer=s},{"./html-writer":32,"./markdown-writer":34}],34:[function(t,i,r){function s(b){return a(b,b)}function a(b,m){return function(){return{start:b,end:m}}}function o(b){var m=b.href||"";return m?{start:"[",end:"]("+m+")",anchorPosition:"before"}:{}}function c(b){var m=b.src||"",y=b.alt||"";return m||y?{start:"!["+y+"]("+m+")"}:{}}function d(b){return function(m,y){return{start:y?`
`:"",end:y?"":`
`,list:{isOrdered:b.isOrdered,indent:y?y.indent+1:0,count:0}}}}function u(b,m,y){m=m||{indent:0,isOrdered:!1,count:0},m.count++,y.hasClosed=!1;var _=m.isOrdered?m.count+".":"-",x=f("	",m.indent)+_+" ";return{start:x,end:function(){return y.hasClosed?void 0:(y.hasClosed=!0,`
`)}}}function f(b,m){return new Array(m+1).join(b)}function h(){function b(D,E){E=E||{};var A=w[D]||function(){return{}},I=A(E,C,P);T.push({end:I.end,list:C}),I.list&&(C=I.list);var R=I.anchorPosition==="before";R&&m(E),k.push(I.start||""),R||m(E)}function m(D){D.id&&k.push('<a id="'+D.id+'"></a>')}function y(D){var E=T.pop();C=E.list;var A=v.isFunction(E.end)?E.end():E.end;k.push(A||"")}function _(D,E){b(D,E),y()}function x(D){k.push(p(D))}function N(){return k.join("")}var k=[],T=[],C=null,P={};return{asString:N,open:b,close:y,text:x,selfClosing:_}}function p(b){return b.replace(/\\/g,"\\\\").replace(/([\`\*_\{\}\[\]\(\)\#\+\-\.\!])/g,"\\$1")}var v=t("underscore"),w={p:a("",`

`),br:a("",`  
`),ul:d({isOrdered:!1}),ol:d({isOrdered:!0}),li:u,strong:s("__"),em:s("*"),a:o,img:c};(function(){for(var b=1;6>=b;b++)w["h"+b]=a(f("#",b)+" ",`

`)})(),r.writer=h},{underscore:102}],35:[function(t,i,r){var s=t("./nodes");r.Element=s.Element,r.element=s.element,r.emptyElement=s.emptyElement,r.text=s.text,r.readString=t("./reader").readString,r.writeString=t("./writer").writeString},{"./nodes":36,"./reader":37,"./writer":38}],36:[function(t,i,r){function s(u,f,h){this.type="element",this.name=u,this.attributes=f||{},this.children=h||[]}function a(u){return o.extend(u,d)}var o=t("underscore");r.Element=s,r.element=function(u,f,h){return new s(u,f,h)},r.text=function(u){return{type:"text",value:u}};var c=r.emptyElement={first:function(){return null},firstOrEmpty:function(){return c},attributes:{},children:[]};s.prototype.first=function(u){return o.find(this.children,function(f){return f.name===u})},s.prototype.firstOrEmpty=function(u){return this.first(u)||c},s.prototype.getElementsByTagName=function(u){var f=o.filter(this.children,function(h){return h.name===u});return a(f)},s.prototype.text=function(){if(this.children.length===0)return"";if(this.children.length!==1||this.children[0].type!=="text")throw new Error("Not implemented");return this.children[0].value};var d={getElementsByTagName:function(u){return a(o.flatten(this.map(function(f){return f.getElementsByTagName(u)},!0)))}}},{underscore:102}],37:[function(t,i,r){function s(h,p){function v(y){switch(y.nodeType){case f.ELEMENT_NODE:return w(y);case f.TEXT_NODE:return d.text(y.nodeValue)}}function w(y){var _=b(y),x=[];o.forEach(y.childNodes,function(k){var T=v(k);T&&x.push(T)});var N={};return o.forEach(y.attributes,function(k){N[b(k)]=k.value}),new u(_,N,x)}function b(y){if(y.namespaceURI){var _,x=p[y.namespaceURI];return _=x?x+":":"{"+y.namespaceURI+"}",_+y.localName}return y.localName}p=p||{};try{var m=c.parseFromString(h,"text/xml")}catch(y){return a.reject(y)}return m.documentElement.tagName==="parsererror"?a.resolve(new Error(m.documentElement.textContent)):a.resolve(v(m.documentElement))}var a=t("../promises"),o=t("underscore"),c=t("./xmldom"),d=t("./nodes"),u=d.Element;r.readString=s;var f=c.Node},{"../promises":23,"./nodes":36,"./xmldom":39,underscore:102}],38:[function(t,i,r){function s(d,u){function f(m,y){return b[y.type](m,y)}function h(m,y){var _=m.element(p(y.name),y.attributes);y.children.forEach(function(x){f(_,x)})}function p(m){var y=/^\{(.*)\}(.*)$/.exec(m);if(y){var _=w[y[1]];return _+(_===""?"":":")+y[2]}return m}function v(m){var y=c.create(p(m.name),{version:"1.0",encoding:"UTF-8",standalone:!0});return o.forEach(u,function(_,x){var N="xmlns"+(x===""?"":":"+x);y.attribute(N,_)}),m.children.forEach(function(_){f(y,_)}),y.end()}var w=o.invert(u),b={element:h,text:a};return v(d)}function a(d,u){d.text(u.value)}var o=t("underscore"),c=t("xmlbuilder");r.writeString=s},{underscore:102,xmlbuilder:124}],39:[function(t,i,r){function s(c){var d=null,u=new a.DOMParser({errorHandler:function(h,p){d={level:h,message:p}}}),f=u.parseFromString(c);if(d===null)return f;throw new Error(d.level+": "+d.message)}var a=t("@xmldom/xmldom"),o=t("@xmldom/xmldom/lib/dom");r.parseFromString=s,r.Node=o.Node},{"@xmldom/xmldom":45,"@xmldom/xmldom/lib/dom":43}],40:[function(t,i,r){function s(u){return d.loadAsync(u).then(function(f){function h(b){return f.file(b)!==null}function p(b,m){return f.file(b).async("uint8array").then(function(y){if(m==="base64")return c.fromByteArray(y);if(m){var _=new TextDecoder(m);return _.decode(y)}return y})}function v(b,m){f.file(b,m)}function w(){return f.generateAsync({type:"arraybuffer"})}return{exists:h,read:p,write:v,toArrayBuffer:w}})}function a(u){var f=u.lastIndexOf("/");return f===-1?{dirname:"",basename:u}:{dirname:u.substring(0,f),basename:u.substring(f+1)}}function o(){var u=Array.prototype.filter.call(arguments,function(h){return h}),f=[];return u.forEach(function(h){/^\//.test(h)?f=[h]:f.push(h)}),f.join("/")}var c=t("base64-js"),d=t("jszip");r.openArrayBuffer=s,r.splitPath=a,r.joinPath=o},{"base64-js":47,jszip:88}],41:[function(t,i,r){function s(u,f,h){if(h===void 0&&(h=Array.prototype),u&&typeof h.find=="function")return h.find.call(u,f);for(var p=0;p<u.length;p++)if(Object.prototype.hasOwnProperty.call(u,p)){var v=u[p];if(f.call(void 0,v,p,u))return v}}function a(u,f){return f===void 0&&(f=Object),f&&typeof f.freeze=="function"?f.freeze(u):u}function o(u,f){if(u===null||typeof u!="object")throw new TypeError("target is not an object");for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(u[h]=f[h]);return u}var c=a({HTML:"text/html",isHTML:function(u){return u===c.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),d=a({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(u){return u===d.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});r.assign=o,r.find=s,r.freeze=a,r.MIME_TYPE=c,r.NAMESPACE=d},{}],42:[function(t,i,r){function s(N){return N.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function a(N){this.options=N||{locator:{}}}function o(N,k,T){function C(E){var A=N[E];!A&&D&&(A=N.length==2?function(I){N(E,I)}:N),P[E]=A&&function(I){A("[xmldom "+E+"]	"+I+u(T))}||function(){}}if(!N){if(k instanceof c)return k;N=k}var P={},D=N instanceof Function;return T=T||{},C("warning"),C("error"),C("fatalError"),P}function c(){this.cdata=!1}function d(N,k){k.lineNumber=N.lineNumber,k.columnNumber=N.columnNumber}function u(N){return N?`
@`+(N.systemId||"")+"#[line:"+N.lineNumber+",col:"+N.columnNumber+"]":void 0}function f(N,k,T){return typeof N=="string"?N.substr(k,T):N.length>=k+T||k?new java.lang.String(N,k,T)+"":N}function h(N,k){N.currentElement?N.currentElement.appendChild(k):N.doc.appendChild(k)}var p=t("./conventions"),v=t("./dom"),w=t("./entities"),b=t("./sax"),m=v.DOMImplementation,y=p.NAMESPACE,_=b.ParseError,x=b.XMLReader;a.prototype.parseFromString=function(N,k){var T=this.options,C=new x,P=T.domBuilder||new c,D=T.errorHandler,E=T.locator,A=T.xmlns||{},I=/\/x?html?$/.test(k),R=I?w.HTML_ENTITIES:w.XML_ENTITIES;E&&P.setDocumentLocator(E),C.errorHandler=o(D,P,E),C.domBuilder=T.domBuilder||P,I&&(A[""]=y.HTML),A.xml=A.xml||y.XML;var M=T.normalizeLineEndings||s;return N&&typeof N=="string"?C.parse(M(N),A,R):C.errorHandler.error("invalid doc source"),P.doc},c.prototype={startDocument:function(){this.doc=new m().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(N,k,T,C){var P=this.doc,D=P.createElementNS(N,T||k),E=C.length;h(this,D),this.currentElement=D,this.locator&&d(this.locator,D);for(var A=0;E>A;A++){var N=C.getURI(A),I=C.getValue(A),T=C.getQName(A),R=P.createAttributeNS(N,T);this.locator&&d(C.getLocator(A),R),R.value=R.nodeValue=I,D.setAttributeNode(R)}},endElement:function(N,k,T){var C=this.currentElement;C.tagName,this.currentElement=C.parentNode},startPrefixMapping:function(N,k){},endPrefixMapping:function(N){},processingInstruction:function(N,k){var T=this.doc.createProcessingInstruction(N,k);this.locator&&d(this.locator,T),h(this,T)},ignorableWhitespace:function(N,k,T){},characters:function(N,k,T){if(N=f.apply(this,arguments)){if(this.cdata)var C=this.doc.createCDATASection(N);else var C=this.doc.createTextNode(N);this.currentElement?this.currentElement.appendChild(C):/^\s*$/.test(N)&&this.doc.appendChild(C),this.locator&&d(this.locator,C)}},skippedEntity:function(N){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(N){(this.locator=N)&&(N.lineNumber=0)},comment:function(N,k,T){N=f.apply(this,arguments);var C=this.doc.createComment(N);this.locator&&d(this.locator,C),h(this,C)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(N,k,T){var C=this.doc.implementation;if(C&&C.createDocumentType){var P=C.createDocumentType(N,k,T);this.locator&&d(this.locator,P),h(this,P),this.doc.doctype=P}},warning:function(N){console.warn("[xmldom warning]	"+N,u(this.locator))},error:function(N){console.error("[xmldom error]	"+N,u(this.locator))},fatalError:function(N){throw new _(N,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(N){c.prototype[N]=function(){return null}}),r.__DOMHandler=c,r.normalizeLineEndings=s,r.DOMParser=a},{"./conventions":41,"./dom":43,"./entities":44,"./sax":46}],43:[function(t,i,r){function s(we){return we!==""}function a(we){return we?we.split(/[\t\n\f\r ]+/).filter(s):[]}function o(we,Pe){return we.hasOwnProperty(Pe)||(we[Pe]=!0),we}function c(we){if(!we)return[];var Pe=a(we);return Object.keys(Pe.reduce(o,{}))}function d(we){return function(Pe){return we&&we.indexOf(Pe)!==-1}}function u(we,Pe){for(var Me in we)Object.prototype.hasOwnProperty.call(we,Me)&&(Pe[Me]=we[Me])}function f(we,Pe){function Me(){}var ht=we.prototype;ht instanceof Pe||(Me.prototype=Pe.prototype,Me=new Me,u(ht,Me),we.prototype=ht=Me),ht.constructor!=we&&(typeof we!="function"&&console.error("unknown Class:"+we),ht.constructor=we)}function h(we,Pe){if(Pe instanceof Error)var Me=Pe;else Me=this,Error.call(this,St[we]),this.message=St[we],Error.captureStackTrace&&Error.captureStackTrace(this,h);return Me.code=we,Pe&&(this.message=this.message+": "+Pe),Me}function p(){}function v(we,Pe){this._node=we,this._refresh=Pe,w(this)}function w(we){var Pe=we._node._inc||we._node.ownerDocument._inc;if(we._inc!=Pe){var Me=we._refresh(we._node);H(we,"length",Me.length),u(Me,we),we._inc=Pe}}function b(){}function m(we,Pe){for(var Me=we.length;Me--;)if(we[Me]===Pe)return Me}function y(we,Pe,Me,ht){if(ht?Pe[m(Pe,ht)]=Me:Pe[Pe.length++]=Me,we){Me.ownerElement=we;var Pt=we.ownerDocument;Pt&&(ht&&D(Pt,we,ht),P(Pt,we,Me))}}function _(we,Pe,Me){var ht=m(Pe,Me);if(!(ht>=0))throw new h(kn,new Error(we.tagName+"@"+Me));for(var Pt=Pe.length-1;Pt>ht;)Pe[ht]=Pe[++ht];if(Pe.length=Pt,we){var ot=we.ownerDocument;ot&&(D(ot,we,Me),Me.ownerElement=null)}}function x(){}function N(){}function k(we){return we=="<"&&"&lt;"||we==">"&&"&gt;"||we=="&"&&"&amp;"||we=='"'&&"&quot;"||"&#"+we.charCodeAt()+";"}function T(we,Pe){if(Pe(we))return!0;if(we=we.firstChild)do if(T(we,Pe))return!0;while(we=we.nextSibling)}function C(){this.ownerDocument=this}function P(we,Pe,Me){we&&we._inc++;var ht=Me.namespaceURI;ht===ae.XMLNS&&(Pe._nsMap[Me.prefix?Me.localName:""]=Me.value)}function D(we,Pe,Me,ht){we&&we._inc++;var Pt=Me.namespaceURI;Pt===ae.XMLNS&&delete Pe._nsMap[Me.prefix?Me.localName:""]}function E(we,Pe,Me){if(we&&we._inc){we._inc++;var ht=Pe.childNodes;if(Me)ht[ht.length++]=Me;else{for(var Pt=Pe.firstChild,ot=0;Pt;)ht[ot++]=Pt,Pt=Pt.nextSibling;ht.length=ot,delete ht[ht.length]}}}function A(we,Pe){var Me=Pe.previousSibling,ht=Pe.nextSibling;return Me?Me.nextSibling=ht:we.firstChild=ht,ht?ht.previousSibling=Me:we.lastChild=Me,Pe.parentNode=null,Pe.previousSibling=null,Pe.nextSibling=null,E(we.ownerDocument,we),Pe}function I(we){return we&&(we.nodeType===N.DOCUMENT_NODE||we.nodeType===N.DOCUMENT_FRAGMENT_NODE||we.nodeType===N.ELEMENT_NODE)}function R(we){return we&&(Y(we)||q(we)||M(we)||we.nodeType===N.DOCUMENT_FRAGMENT_NODE||we.nodeType===N.COMMENT_NODE||we.nodeType===N.PROCESSING_INSTRUCTION_NODE)}function M(we){return we&&we.nodeType===N.DOCUMENT_TYPE_NODE}function Y(we){return we&&we.nodeType===N.ELEMENT_NODE}function q(we){return we&&we.nodeType===N.TEXT_NODE}function G(we,Pe){var Me=we.childNodes||[];if(ve(Me,Y)||M(Pe))return!1;var ht=ve(Me,M);return!(Pe&&ht&&Me.indexOf(ht)>Me.indexOf(Pe))}function B(we,Pe){function Me(ot){return Y(ot)&&ot!==Pe}var ht=we.childNodes||[];if(ve(ht,Me))return!1;var Pt=ve(ht,M);return!(Pe&&Pt&&ht.indexOf(Pt)>ht.indexOf(Pe))}function J(we,Pe,Me){if(!I(we))throw new h(Bt,"Unexpected parent node type "+we.nodeType);if(Me&&Me.parentNode!==we)throw new h(kn,"child not in parent");if(!R(Pe)||M(Pe)&&we.nodeType!==N.DOCUMENT_NODE)throw new h(Bt,"Unexpected node type "+Pe.nodeType+" for parent node type "+we.nodeType)}function W(we,Pe,Me){var ht=we.childNodes||[],Pt=Pe.childNodes||[];if(Pe.nodeType===N.DOCUMENT_FRAGMENT_NODE){var ot=Pt.filter(Y);if(ot.length>1||ve(Pt,q))throw new h(Bt,"More than one element or text in fragment");if(ot.length===1&&!G(we,Me))throw new h(Bt,"Element in fragment can not be inserted before doctype")}if(Y(Pe)&&!G(we,Me))throw new h(Bt,"Only one element can be added and only after doctype");if(M(Pe)){if(ve(ht,M))throw new h(Bt,"Only one doctype is allowed");var Nt=ve(ht,Y);if(Me&&ht.indexOf(Nt)<ht.indexOf(Me))throw new h(Bt,"Doctype can only be inserted before an element");if(!Me&&Nt)throw new h(Bt,"Doctype can not be appended since element is present")}}function L(we,Pe,Me){function ht(Jt){return M(Jt)&&Jt!==Me}var Pt=we.childNodes||[],ot=Pe.childNodes||[];if(Pe.nodeType===N.DOCUMENT_FRAGMENT_NODE){var Nt=ot.filter(Y);if(Nt.length>1||ve(ot,q))throw new h(Bt,"More than one element or text in fragment");if(Nt.length===1&&!B(we,Me))throw new h(Bt,"Element in fragment can not be inserted before doctype")}if(Y(Pe)&&!B(we,Me))throw new h(Bt,"Only one element can be added and only after doctype");if(M(Pe)){if(ve(Pt,ht))throw new h(Bt,"Only one doctype is allowed");var Ut=ve(Pt,Y);if(Me&&Pt.indexOf(Ut)<Pt.indexOf(Me))throw new h(Bt,"Doctype can only be inserted before an element")}}function z(we,Pe,Me,ht){J(we,Pe,Me),we.nodeType===N.DOCUMENT_NODE&&(ht||W)(we,Pe,Me);var Pt=Pe.parentNode;if(Pt&&Pt.removeChild(Pe),Pe.nodeType===pt){var ot=Pe.firstChild;if(ot==null)return Pe;var Nt=Pe.lastChild}else ot=Nt=Pe;var Ut=Me?Me.previousSibling:we.lastChild;ot.previousSibling=Ut,Nt.nextSibling=Me,Ut?Ut.nextSibling=ot:we.firstChild=ot,Me==null?we.lastChild=Nt:Me.previousSibling=Nt;do ot.parentNode=we;while(ot!==Nt&&(ot=ot.nextSibling));return E(we.ownerDocument||we,we),Pe.nodeType==pt&&(Pe.firstChild=Pe.lastChild=null),Pe}function X(we,Pe){return Pe.parentNode&&Pe.parentNode.removeChild(Pe),Pe.parentNode=we,Pe.previousSibling=we.lastChild,Pe.nextSibling=null,Pe.previousSibling?Pe.previousSibling.nextSibling=Pe:we.firstChild=Pe,we.lastChild=Pe,E(we.ownerDocument,we,Pe),Pe}function Q(){this._nsMap={}}function V(){}function Z(){}function _e(){}function le(){}function ce(){}function Fe(){}function Ae(){}function Re(){}function Ve(){}function fe(){}function Je(){}function je(){}function Ce(we,Pe){var Me=[],ht=this.nodeType==9&&this.documentElement||this,Pt=ht.prefix,ot=ht.namespaceURI;if(ot&&Pt==null){var Pt=ht.lookupPrefix(ot);if(Pt==null)var Nt=[{namespace:ot,prefix:null}]}return Se(this,Me,we,Pe,Nt),Me.join("")}function $(we,Pe,Me){var ht=we.prefix||"",Pt=we.namespaceURI;if(!Pt||ht==="xml"&&Pt===ae.XML||Pt===ae.XMLNS)return!1;for(var ot=Me.length;ot--;){var Nt=Me[ot];if(Nt.prefix===ht)return Nt.namespace!==Pt}return!0}function ke(we,Pe,Me){we.push(" ",Pe,'="',Me.replace(/[<>&"\t\n\r]/g,k),'"')}function Se(we,Pe,Me,ht,Pt){if(Pt||(Pt=[]),ht){if(we=ht(we),!we)return;if(typeof we=="string")return void Pe.push(we)}switch(we.nodeType){case ge:var ot=we.attributes,Nt=ot.length,Ut=we.firstChild,Jt=we.tagName;Me=ae.isHTML(we.namespaceURI)||Me;var hn=Jt;if(!Me&&!we.prefix&&we.namespaceURI){for(var _i,hi=0;hi<ot.length;hi++)if(ot.item(hi).name==="xmlns"){_i=ot.item(hi).value;break}if(!_i)for(var Bi=Pt.length-1;Bi>=0;Bi--){var Pi=Pt[Bi];if(Pi.prefix===""&&Pi.namespace===we.namespaceURI){_i=Pi.namespace;break}}if(_i!==we.namespaceURI)for(var Bi=Pt.length-1;Bi>=0;Bi--){var Pi=Pt[Bi];if(Pi.namespace===we.namespaceURI){Pi.prefix&&(hn=Pi.prefix+":"+Jt);break}}}Pe.push("<",hn);for(var fi=0;Nt>fi;fi++){var pi=ot.item(fi);pi.prefix=="xmlns"?Pt.push({prefix:pi.localName,namespace:pi.value}):pi.nodeName=="xmlns"&&Pt.push({prefix:"",namespace:pi.value})}for(var fi=0;Nt>fi;fi++){var pi=ot.item(fi);if($(pi,Me,Pt)){var zi=pi.prefix||"",Os=pi.namespaceURI;ke(Pe,zi?"xmlns:"+zi:"xmlns",Os),Pt.push({prefix:zi,namespace:Os})}Se(pi,Pe,Me,ht,Pt)}if(Jt===hn&&$(we,Me,Pt)){var zi=we.prefix||"",Os=we.namespaceURI;ke(Pe,zi?"xmlns:"+zi:"xmlns",Os),Pt.push({prefix:zi,namespace:Os})}if(Ut||Me&&!/^(?:meta|link|img|br|hr|input)$/i.test(Jt)){if(Pe.push(">"),Me&&/^script$/i.test(Jt))for(;Ut;)Ut.data?Pe.push(Ut.data):Se(Ut,Pe,Me,ht,Pt.slice()),Ut=Ut.nextSibling;else for(;Ut;)Se(Ut,Pe,Me,ht,Pt.slice()),Ut=Ut.nextSibling;Pe.push("</",hn,">")}else Pe.push("/>");return;case We:case pt:for(var Ut=we.firstChild;Ut;)Se(Ut,Pe,Me,ht,Pt.slice()),Ut=Ut.nextSibling;return;case Oe:return ke(Pe,we.name,we.value);case Ye:return Pe.push(we.data.replace(/[<&>]/g,k));case Ke:return Pe.push("<![CDATA[",we.data,"]]>");case ft:return Pe.push("<!--",we.data,"-->");case tt:var Xr=we.publicId,Ur=we.systemId;if(Pe.push("<!DOCTYPE ",we.name),Xr)Pe.push(" PUBLIC ",Xr),Ur&&Ur!="."&&Pe.push(" ",Ur),Pe.push(">");else if(Ur&&Ur!=".")Pe.push(" SYSTEM ",Ur,">");else{var Yr=we.internalSubset;Yr&&Pe.push(" [",Yr,"]"),Pe.push(">")}return;case it:return Pe.push("<?",we.target," ",we.data,"?>");case mt:return Pe.push("&",we.nodeName,";");default:Pe.push("??",we.nodeName)}}function pe(we,Pe,Me){var ht;switch(Pe.nodeType){case ge:ht=Pe.cloneNode(!1),ht.ownerDocument=we;case pt:break;case Oe:Me=!0}if(ht||(ht=Pe.cloneNode(!1)),ht.ownerDocument=we,ht.parentNode=null,Me)for(var Pt=Pe.firstChild;Pt;)ht.appendChild(pe(we,Pt,Me)),Pt=Pt.nextSibling;return ht}function U(we,Pe,Me){var ht=new Pe.constructor;for(var Pt in Pe)if(Object.prototype.hasOwnProperty.call(Pe,Pt)){var ot=Pe[Pt];typeof ot!="object"&&ot!=ht[Pt]&&(ht[Pt]=ot)}switch(Pe.childNodes&&(ht.childNodes=new p),ht.ownerDocument=we,ht.nodeType){case ge:var Nt=Pe.attributes,Ut=ht.attributes=new b,Jt=Nt.length;Ut._ownerElement=ht;for(var hn=0;Jt>hn;hn++)ht.setAttributeNode(U(we,Nt.item(hn),!0));break;case Oe:Me=!0}if(Me)for(var _i=Pe.firstChild;_i;)ht.appendChild(U(we,_i,Me)),_i=_i.nextSibling;return ht}function H(we,Pe,Me){we[Pe]=Me}function te(we){switch(we.nodeType){case ge:case pt:var Pe=[];for(we=we.firstChild;we;)we.nodeType!==7&&we.nodeType!==8&&Pe.push(te(we)),we=we.nextSibling;return Pe.join("");default:return we.nodeValue}}var he=t("./conventions"),ve=he.find,ae=he.NAMESPACE,me={},ge=me.ELEMENT_NODE=1,Oe=me.ATTRIBUTE_NODE=2,Ye=me.TEXT_NODE=3,Ke=me.CDATA_SECTION_NODE=4,mt=me.ENTITY_REFERENCE_NODE=5,qe=me.ENTITY_NODE=6,it=me.PROCESSING_INSTRUCTION_NODE=7,ft=me.COMMENT_NODE=8,We=me.DOCUMENT_NODE=9,tt=me.DOCUMENT_TYPE_NODE=10,pt=me.DOCUMENT_FRAGMENT_NODE=11,Ct=me.NOTATION_NODE=12,Et={},St={},Bt=(Et.INDEX_SIZE_ERR=(St[1]="Index size error",1),Et.DOMSTRING_SIZE_ERR=(St[2]="DOMString size error",2),Et.HIERARCHY_REQUEST_ERR=(St[3]="Hierarchy request error",3)),kn=(Et.WRONG_DOCUMENT_ERR=(St[4]="Wrong document",4),Et.INVALID_CHARACTER_ERR=(St[5]="Invalid character",5),Et.NO_DATA_ALLOWED_ERR=(St[6]="No data allowed",6),Et.NO_MODIFICATION_ALLOWED_ERR=(St[7]="No modification allowed",7),Et.NOT_FOUND_ERR=(St[8]="Not found",8)),sn=(Et.NOT_SUPPORTED_ERR=(St[9]="Not supported",9),Et.INUSE_ATTRIBUTE_ERR=(St[10]="Attribute in use",10));Et.INVALID_STATE_ERR=(St[11]="Invalid state",11),Et.SYNTAX_ERR=(St[12]="Syntax error",12),Et.INVALID_MODIFICATION_ERR=(St[13]="Invalid modification",13),Et.NAMESPACE_ERR=(St[14]="Invalid namespace",14),Et.INVALID_ACCESS_ERR=(St[15]="Invalid access",15),h.prototype=Error.prototype,u(Et,h),p.prototype={length:0,item:function(we){return this[we]||null},toString:function(we,Pe){for(var Me=[],ht=0;ht<this.length;ht++)Se(this[ht],Me,we,Pe);return Me.join("")},filter:function(we){return Array.prototype.filter.call(this,we)},indexOf:function(we){return Array.prototype.indexOf.call(this,we)}},v.prototype.item=function(we){return w(this),this[we]},f(v,p),b.prototype={length:0,item:p.prototype.item,getNamedItem:function(we){for(var Pe=this.length;Pe--;){var Me=this[Pe];if(Me.nodeName==we)return Me}},setNamedItem:function(we){var Pe=we.ownerElement;if(Pe&&Pe!=this._ownerElement)throw new h(sn);var Me=this.getNamedItem(we.nodeName);return y(this._ownerElement,this,we,Me),Me},setNamedItemNS:function(we){var Pe,Me=we.ownerElement;if(Me&&Me!=this._ownerElement)throw new h(sn);return Pe=this.getNamedItemNS(we.namespaceURI,we.localName),y(this._ownerElement,this,we,Pe),Pe},removeNamedItem:function(we){var Pe=this.getNamedItem(we);return _(this._ownerElement,this,Pe),Pe},removeNamedItemNS:function(we,Pe){var Me=this.getNamedItemNS(we,Pe);return _(this._ownerElement,this,Me),Me},getNamedItemNS:function(we,Pe){for(var Me=this.length;Me--;){var ht=this[Me];if(ht.localName==Pe&&ht.namespaceURI==we)return ht}return null}},x.prototype={hasFeature:function(we,Pe){return!0},createDocument:function(we,Pe,Me){var ht=new C;if(ht.implementation=this,ht.childNodes=new p,ht.doctype=Me||null,Me&&ht.appendChild(Me),Pe){var Pt=ht.createElementNS(we,Pe);ht.appendChild(Pt)}return ht},createDocumentType:function(we,Pe,Me){var ht=new Fe;return ht.name=we,ht.nodeName=we,ht.publicId=Pe||"",ht.systemId=Me||"",ht}},N.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(we,Pe){return z(this,we,Pe)},replaceChild:function(we,Pe){z(this,we,Pe,L),Pe&&this.removeChild(Pe)},removeChild:function(we){return A(this,we)},appendChild:function(we){return this.insertBefore(we,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(we){return U(this.ownerDocument||this,this,we)},normalize:function(){for(var we=this.firstChild;we;){var Pe=we.nextSibling;Pe&&Pe.nodeType==Ye&&we.nodeType==Ye?(this.removeChild(Pe),we.appendData(Pe.data)):(we.normalize(),we=Pe)}},isSupported:function(we,Pe){return this.ownerDocument.implementation.hasFeature(we,Pe)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(we){for(var Pe=this;Pe;){var Me=Pe._nsMap;if(Me){for(var ht in Me)if(Object.prototype.hasOwnProperty.call(Me,ht)&&Me[ht]===we)return ht}Pe=Pe.nodeType==Oe?Pe.ownerDocument:Pe.parentNode}return null},lookupNamespaceURI:function(we){for(var Pe=this;Pe;){var Me=Pe._nsMap;if(Me&&Object.prototype.hasOwnProperty.call(Me,we))return Me[we];Pe=Pe.nodeType==Oe?Pe.ownerDocument:Pe.parentNode}return null},isDefaultNamespace:function(we){var Pe=this.lookupPrefix(we);return Pe==null}},u(me,N),u(me,N.prototype),C.prototype={nodeName:"#document",nodeType:We,doctype:null,documentElement:null,_inc:1,insertBefore:function(we,Pe){if(we.nodeType==pt){for(var Me=we.firstChild;Me;){var ht=Me.nextSibling;this.insertBefore(Me,Pe),Me=ht}return we}return z(this,we,Pe),we.ownerDocument=this,this.documentElement===null&&we.nodeType===ge&&(this.documentElement=we),we},removeChild:function(we){return this.documentElement==we&&(this.documentElement=null),A(this,we)},replaceChild:function(we,Pe){z(this,we,Pe,L),we.ownerDocument=this,Pe&&this.removeChild(Pe),Y(we)&&(this.documentElement=we)},importNode:function(we,Pe){return pe(this,we,Pe)},getElementById:function(we){var Pe=null;return T(this.documentElement,function(Me){return Me.nodeType==ge&&Me.getAttribute("id")==we?(Pe=Me,!0):void 0}),Pe},getElementsByClassName:function(we){var Pe=c(we);return new v(this,function(Me){var ht=[];return Pe.length>0&&T(Me.documentElement,function(Pt){if(Pt!==Me&&Pt.nodeType===ge){var ot=Pt.getAttribute("class");if(ot){var Nt=we===ot;if(!Nt){var Ut=c(ot);Nt=Pe.every(d(Ut))}Nt&&ht.push(Pt)}}}),ht})},createElement:function(we){var Pe=new Q;Pe.ownerDocument=this,Pe.nodeName=we,Pe.tagName=we,Pe.localName=we,Pe.childNodes=new p;var Me=Pe.attributes=new b;return Me._ownerElement=Pe,Pe},createDocumentFragment:function(){var we=new fe;return we.ownerDocument=this,we.childNodes=new p,we},createTextNode:function(we){var Pe=new _e;return Pe.ownerDocument=this,Pe.appendData(we),Pe},createComment:function(we){var Pe=new le;return Pe.ownerDocument=this,Pe.appendData(we),Pe},createCDATASection:function(we){var Pe=new ce;return Pe.ownerDocument=this,Pe.appendData(we),Pe},createProcessingInstruction:function(we,Pe){var Me=new Je;return Me.ownerDocument=this,Me.tagName=Me.target=we,Me.nodeValue=Me.data=Pe,Me},createAttribute:function(we){var Pe=new V;return Pe.ownerDocument=this,Pe.name=we,Pe.nodeName=we,Pe.localName=we,Pe.specified=!0,Pe},createEntityReference:function(we){var Pe=new Ve;return Pe.ownerDocument=this,Pe.nodeName=we,Pe},createElementNS:function(we,Pe){var Me=new Q,ht=Pe.split(":"),Pt=Me.attributes=new b;return Me.childNodes=new p,Me.ownerDocument=this,Me.nodeName=Pe,Me.tagName=Pe,Me.namespaceURI=we,ht.length==2?(Me.prefix=ht[0],Me.localName=ht[1]):Me.localName=Pe,Pt._ownerElement=Me,Me},createAttributeNS:function(we,Pe){var Me=new V,ht=Pe.split(":");return Me.ownerDocument=this,Me.nodeName=Pe,Me.name=Pe,Me.namespaceURI=we,Me.specified=!0,ht.length==2?(Me.prefix=ht[0],Me.localName=ht[1]):Me.localName=Pe,Me}},f(C,N),Q.prototype={nodeType:ge,hasAttribute:function(we){return this.getAttributeNode(we)!=null},getAttribute:function(we){var Pe=this.getAttributeNode(we);return Pe&&Pe.value||""},getAttributeNode:function(we){return this.attributes.getNamedItem(we)},setAttribute:function(we,Pe){var Me=this.ownerDocument.createAttribute(we);Me.value=Me.nodeValue=""+Pe,this.setAttributeNode(Me)},removeAttribute:function(we){var Pe=this.getAttributeNode(we);Pe&&this.removeAttributeNode(Pe)},appendChild:function(we){return we.nodeType===pt?this.insertBefore(we,null):X(this,we)},setAttributeNode:function(we){return this.attributes.setNamedItem(we)},setAttributeNodeNS:function(we){return this.attributes.setNamedItemNS(we)},removeAttributeNode:function(we){return this.attributes.removeNamedItem(we.nodeName)},removeAttributeNS:function(we,Pe){var Me=this.getAttributeNodeNS(we,Pe);Me&&this.removeAttributeNode(Me)},hasAttributeNS:function(we,Pe){return this.getAttributeNodeNS(we,Pe)!=null},getAttributeNS:function(we,Pe){var Me=this.getAttributeNodeNS(we,Pe);return Me&&Me.value||""},setAttributeNS:function(we,Pe,Me){var ht=this.ownerDocument.createAttributeNS(we,Pe);ht.value=ht.nodeValue=""+Me,this.setAttributeNode(ht)},getAttributeNodeNS:function(we,Pe){return this.attributes.getNamedItemNS(we,Pe)},getElementsByTagName:function(we){return new v(this,function(Pe){var Me=[];return T(Pe,function(ht){ht===Pe||ht.nodeType!=ge||we!=="*"&&ht.tagName!=we||Me.push(ht)}),Me})},getElementsByTagNameNS:function(we,Pe){return new v(this,function(Me){var ht=[];return T(Me,function(Pt){Pt===Me||Pt.nodeType!==ge||we!=="*"&&Pt.namespaceURI!==we||Pe!=="*"&&Pt.localName!=Pe||ht.push(Pt)}),ht})}},C.prototype.getElementsByTagName=Q.prototype.getElementsByTagName,C.prototype.getElementsByTagNameNS=Q.prototype.getElementsByTagNameNS,f(Q,N),V.prototype.nodeType=Oe,f(V,N),Z.prototype={data:"",substringData:function(we,Pe){return this.data.substring(we,we+Pe)},appendData:function(we){we=this.data+we,this.nodeValue=this.data=we,this.length=we.length},insertData:function(we,Pe){this.replaceData(we,0,Pe)},appendChild:function(we){throw new Error(St[Bt])},deleteData:function(we,Pe){this.replaceData(we,Pe,"")},replaceData:function(we,Pe,Me){var ht=this.data.substring(0,we),Pt=this.data.substring(we+Pe);Me=ht+Me+Pt,this.nodeValue=this.data=Me,this.length=Me.length}},f(Z,N),_e.prototype={nodeName:"#text",nodeType:Ye,splitText:function(we){var Pe=this.data,Me=Pe.substring(we);Pe=Pe.substring(0,we),this.data=this.nodeValue=Pe,this.length=Pe.length;var ht=this.ownerDocument.createTextNode(Me);return this.parentNode&&this.parentNode.insertBefore(ht,this.nextSibling),ht}},f(_e,Z),le.prototype={nodeName:"#comment",nodeType:ft},f(le,Z),ce.prototype={nodeName:"#cdata-section",nodeType:Ke},f(ce,Z),Fe.prototype.nodeType=tt,f(Fe,N),Ae.prototype.nodeType=Ct,f(Ae,N),Re.prototype.nodeType=qe,f(Re,N),Ve.prototype.nodeType=mt,f(Ve,N),fe.prototype.nodeName="#document-fragment",fe.prototype.nodeType=pt,f(fe,N),Je.prototype.nodeType=it,f(Je,N),je.prototype.serializeToString=function(we,Pe,Me){return Ce.call(we,Pe,Me)},N.prototype.toString=Ce;try{Object.defineProperty&&(Object.defineProperty(v.prototype,"length",{get:function(){return w(this),this.$$length}}),Object.defineProperty(N.prototype,"textContent",{get:function(){return te(this)},set:function(we){switch(this.nodeType){case ge:case pt:for(;this.firstChild;)this.removeChild(this.firstChild);(we||String(we))&&this.appendChild(this.ownerDocument.createTextNode(we));break;default:this.data=we,this.value=we,this.nodeValue=we}}}),H=function(we,Pe,Me){we["$$"+Pe]=Me})}catch{}r.DocumentType=Fe,r.DOMException=h,r.DOMImplementation=x,r.Element=Q,r.Node=N,r.NodeList=p,r.XMLSerializer=je},{"./conventions":41}],44:[function(t,i,r){var s=t("./conventions").freeze;r.XML_ENTITIES=s({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),r.HTML_ENTITIES=s({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"",Aacute:"",Acirc:"",Atilde:"",Auml:"",Aring:"",AElig:"",Ccedil:"",Egrave:"",Eacute:"",Ecirc:"",Euml:"",Igrave:"",Iacute:"",Icirc:"",Iuml:"",ETH:"",Ntilde:"",Ograve:"",Oacute:"",Ocirc:"",Otilde:"",Ouml:"",Oslash:"",Ugrave:"",Uacute:"",Ucirc:"",Uuml:"",Yacute:"",THORN:"",szlig:"",agrave:"",aacute:"",acirc:"",atilde:"",auml:"",aring:"",aelig:"",ccedil:"",egrave:"",eacute:"",ecirc:"",euml:"",igrave:"",iacute:"",icirc:"",iuml:"",eth:"",ntilde:"",ograve:"",oacute:"",ocirc:"",otilde:"",ouml:"",oslash:"",ugrave:"",uacute:"",ucirc:"",uuml:"",yacute:"",thorn:"",yuml:"",nbsp:"",iexcl:"",cent:"",pound:"",curren:"",yen:"",brvbar:"",sect:"",uml:"",copy:"",ordf:"",laquo:"",not:"",shy:"",reg:"",macr:"",deg:"",plusmn:"",sup2:"",sup3:"",acute:"",micro:"",para:"",middot:"",cedil:"",sup1:"",ordm:"",raquo:"",frac14:"",frac12:"",frac34:"",iquest:"",times:"",divide:"",forall:"",part:"",exist:"",empty:"",nabla:"",isin:"",notin:"",ni:"",prod:"",sum:"",minus:"",lowast:"",radic:"",prop:"",infin:"",ang:"",and:"",or:"",cap:"",cup:"",int:"",there4:"",sim:"",cong:"",asymp:"",ne:"",equiv:"",le:"",ge:"",sub:"",sup:"",nsub:"",sube:"",supe:"",oplus:"",otimes:"",perp:"",sdot:"",Alpha:"",Beta:"",Gamma:"",Delta:"",Epsilon:"",Zeta:"",Eta:"",Theta:"",Iota:"",Kappa:"",Lambda:"",Mu:"",Nu:"",Xi:"",Omicron:"",Pi:"",Rho:"",Sigma:"",Tau:"",Upsilon:"",Phi:"",Chi:"",Psi:"",Omega:"",alpha:"",beta:"",gamma:"",delta:"",epsilon:"",zeta:"",eta:"",theta:"",iota:"",kappa:"",lambda:"",mu:"",nu:"",xi:"",omicron:"",pi:"",rho:"",sigmaf:"",sigma:"",tau:"",upsilon:"",phi:"",chi:"",psi:"",omega:"",thetasym:"",upsih:"",piv:"",OElig:"",oelig:"",Scaron:"",scaron:"",Yuml:"",fnof:"",circ:"",tilde:"",ensp:"",emsp:"",thinsp:"",zwnj:"",zwj:"",lrm:"",rlm:"",ndash:"",mdash:"",lsquo:"",rsquo:"",sbquo:"",ldquo:"",rdquo:"",bdquo:"",dagger:"",Dagger:"",bull:"",hellip:"",permil:"",prime:"",Prime:"",lsaquo:"",rsaquo:"",oline:"",euro:"",trade:"",larr:"",uarr:"",rarr:"",darr:"",harr:"",crarr:"",lceil:"",rceil:"",lfloor:"",rfloor:"",loz:"",spades:"",clubs:"",hearts:"",diams:""}),r.entityMap=r.HTML_ENTITIES},{"./conventions":41}],45:[function(t,i,r){var s=t("./dom");r.DOMImplementation=s.DOMImplementation,r.XMLSerializer=s.XMLSerializer,r.DOMParser=t("./dom-parser").DOMParser},{"./dom":43,"./dom-parser":42}],46:[function(t,i,r){function s(R,M){this.message=R,this.locator=M,Error.captureStackTrace&&Error.captureStackTrace(this,s)}function a(){}function o(R,M,Y,q,G){function B(he){if(he>65535){he-=65536;var ve=55296+(he>>10),ae=56320+(1023&he);return String.fromCharCode(ve,ae)}return String.fromCharCode(he)}function J(he){var ve=he.slice(1,-1);return Object.hasOwnProperty.call(Y,ve)?Y[ve]:ve.charAt(0)==="#"?B(parseInt(ve.substr(1).replace("x","0x"))):(G.error("entity not found:"+he),he)}function W(he){if(he>le){var ve=R.substring(le,he).replace(/&#?\w+;/g,J);V&&L(le),q.characters(ve,0,he-le),le=he}}function L(he,ve){for(;he>=X&&(ve=Q.exec(R));)z=ve.index,X=z+ve[0].length,V.lineNumber++;V.columnNumber=he-z+1}for(var z=0,X=0,Q=/.*(?:\r\n?|\n)|.*$/g,V=q.locator,Z=[{currentNSMap:M}],_e={},le=0;;){try{var ce=R.indexOf("<",le);if(0>ce){if(!R.substr(le).match(/^\s*$/)){var Fe=q.doc,Ae=Fe.createTextNode(R.substr(le));Fe.appendChild(Ae),q.currentElement=Ae}return}switch(ce>le&&W(ce),R.charAt(ce+1)){case"/":var Se=R.indexOf(">",ce+3),Re=R.substring(ce+2,Se).replace(/[ \t\n\r]+$/g,""),Ve=Z.pop();0>Se?(Re=R.substring(ce+2).replace(/[\s<].*/,""),G.error("end tag name: "+Re+" is not complete:"+Ve.tagName),Se=ce+1+Re.length):Re.match(/\s</)&&(Re=Re.replace(/[\s<].*/,""),G.error("end tag name: "+Re+" maybe not complete"),Se=ce+1+Re.length);var fe=Ve.localNSMap,Je=Ve.tagName==Re,je=Je||Ve.tagName&&Ve.tagName.toLowerCase()==Re.toLowerCase();if(je){if(q.endElement(Ve.uri,Ve.localName,Re),fe)for(var Ce in fe)Object.prototype.hasOwnProperty.call(fe,Ce)&&q.endPrefixMapping(Ce);Je||G.fatalError("end tag name: "+Re+" is not match the current start tagName:"+Ve.tagName)}else Z.push(Ve);Se++;break;case"?":V&&L(ce),Se=w(R,ce,q);break;case"!":V&&L(ce),Se=v(R,ce,q,G);break;default:V&&L(ce);var $=new b,ke=Z[Z.length-1].currentNSMap,Se=d(R,ce,$,ke,J,G),pe=$.length;if(!$.closed&&h(R,Se,$.tagName,_e)&&($.closed=!0,Y.nbsp||G.warning("unclosed xml attribute")),V&&pe){for(var U=c(V,{}),H=0;pe>H;H++){var te=$[H];L(te.offset),te.locator=c(V,{})}q.locator=U,u($,q,ke)&&Z.push($),q.locator=V}else u($,q,ke)&&Z.push($);y.isHTML($.uri)&&!$.closed?Se=f(R,Se,$.tagName,J,q):Se++}}catch(he){if(he instanceof s)throw he;G.error("element parse error: "+he),Se=-1}Se>le?le=Se:W(Math.max(ce,le)+1)}}function c(R,M){return M.lineNumber=R.lineNumber,M.columnNumber=R.columnNumber,M}function d(R,M,Y,q,G,B){function J(V,Z,_e){Y.attributeNames.hasOwnProperty(V)&&B.fatalError("Attribute "+V+" redefined"),Y.addValue(V,Z.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,G),_e)}for(var W,L,z=++M,X=k;;){var Q=R.charAt(z);switch(Q){case"=":if(X===T)W=R.slice(M,z),X=P;else{if(X!==C)throw new Error("attribute equal must after attrName");X=P}break;case"'":case'"':if(X===P||X===T){if(X===T&&(B.warning('attribute value must after "="'),W=R.slice(M,z)),M=z+1,z=R.indexOf(Q,M),!(z>0))throw new Error("attribute value no end '"+Q+"' match");L=R.slice(M,z),J(W,L,M-1),X=E}else{if(X!=D)throw new Error('attribute value must after "="');L=R.slice(M,z),J(W,L,M),B.warning('attribute "'+W+'" missed start quot('+Q+")!!"),M=z+1,X=E}break;case"/":switch(X){case k:Y.setTagName(R.slice(M,z));case E:case A:case I:X=I,Y.closed=!0;case D:case T:case C:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return B.error("unexpected end of input"),X==k&&Y.setTagName(R.slice(M,z)),z;case">":switch(X){case k:Y.setTagName(R.slice(M,z));case E:case A:case I:break;case D:case T:L=R.slice(M,z),L.slice(-1)==="/"&&(Y.closed=!0,L=L.slice(0,-1));case C:X===C&&(L=W),X==D?(B.warning('attribute "'+L+'" missed quot(")!'),J(W,L,M)):(y.isHTML(q[""])&&L.match(/^(?:disabled|checked|selected)$/i)||B.warning('attribute "'+L+'" missed value!! "'+L+'" instead!!'),J(L,L,M));break;case P:throw new Error("attribute value missed!!")}return z;case"":Q=" ";default:if(" ">=Q)switch(X){case k:Y.setTagName(R.slice(M,z)),X=A;break;case T:W=R.slice(M,z),X=C;break;case D:var L=R.slice(M,z);B.warning('attribute "'+L+'" missed quot(")!!'),J(W,L,M);case E:X=A}else switch(X){case C:Y.tagName,y.isHTML(q[""])&&W.match(/^(?:disabled|checked|selected)$/i)||B.warning('attribute "'+W+'" missed value!! "'+W+'" instead2!!'),J(W,W,M),M=z,X=T;break;case E:B.warning('attribute space is required"'+W+'"!!');case A:X=T,M=z;break;case P:X=D,M=z;break;case I:throw new Error("elements closed character '/' and '>' must be connected to")}}z++}}function u(R,M,Y){for(var q=R.tagName,G=null,B=R.length;B--;){var J=R[B],W=J.qName,L=J.value,V=W.indexOf(":");if(V>0)var z=J.prefix=W.slice(0,V),X=W.slice(V+1),Q=z==="xmlns"&&X;else X=W,z=null,Q=W==="xmlns"&&"";J.localName=X,Q!==!1&&(G==null&&(G={},p(Y,Y={})),Y[Q]=G[Q]=L,J.uri=y.XMLNS,M.startPrefixMapping(Q,L))}for(var B=R.length;B--;){J=R[B];var z=J.prefix;z&&(z==="xml"&&(J.uri=y.XML),z!=="xmlns"&&(J.uri=Y[z||""]))}var V=q.indexOf(":");V>0?(z=R.prefix=q.slice(0,V),X=R.localName=q.slice(V+1)):(z=null,X=R.localName=q);var Z=R.uri=Y[z||""];if(M.startElement(Z,X,q,R),!R.closed)return R.currentNSMap=Y,R.localNSMap=G,!0;if(M.endElement(Z,X,q),G)for(z in G)Object.prototype.hasOwnProperty.call(G,z)&&M.endPrefixMapping(z)}function f(R,M,Y,q,G){if(/^(?:script|textarea)$/i.test(Y)){var B=R.indexOf("</"+Y+">",M),J=R.substring(M+1,B);if(/[&<]/.test(J))return/^script$/i.test(Y)?(G.characters(J,0,J.length),B):(J=J.replace(/&#?\w+;/g,q),G.characters(J,0,J.length),B)}return M+1}function h(R,M,Y,q){var G=q[Y];return G==null&&(G=R.lastIndexOf("</"+Y+">"),M>G&&(G=R.lastIndexOf("</"+Y)),q[Y]=G),M>G}function p(R,M){for(var Y in R)Object.prototype.hasOwnProperty.call(R,Y)&&(M[Y]=R[Y])}function v(R,M,Y,q){var G=R.charAt(M+2);switch(G){case"-":if(R.charAt(M+3)==="-"){var B=R.indexOf("-->",M+4);return B>M?(Y.comment(R,M+4,B-M-4),B+3):(q.error("Unclosed comment"),-1)}return-1;default:if(R.substr(M+3,6)=="CDATA["){var B=R.indexOf("]]>",M+9);return Y.startCDATA(),Y.characters(R,M+9,B-M-9),Y.endCDATA(),B+3}var J=m(R,M),W=J.length;if(W>1&&/!doctype/i.test(J[0][0])){var L=J[1][0],z=!1,X=!1;W>3&&(/^public$/i.test(J[2][0])?(z=J[3][0],X=W>4&&J[4][0]):/^system$/i.test(J[2][0])&&(X=J[3][0]));var Q=J[W-1];return Y.startDTD(L,z,X),Y.endDTD(),Q.index+Q[0].length}}return-1}function w(R,M,Y){var q=R.indexOf("?>",M);if(q){var G=R.substring(M,q).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return G?(G[0].length,Y.processingInstruction(G[1],G[2]),q+2):-1}return-1}function b(){this.attributeNames={}}function m(R,M){var Y,q=[],G=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(G.lastIndex=M,G.exec(R);Y=G.exec(R);)if(q.push(Y),Y[1])return q}var y=t("./conventions").NAMESPACE,_=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,x=new RegExp("[\\-\\.0-9"+_.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),N=new RegExp("^"+_.source+x.source+"*(?::"+_.source+x.source+"*)?$"),k=0,T=1,C=2,P=3,D=4,E=5,A=6,I=7;s.prototype=new Error,s.prototype.name=s.name,a.prototype={parse:function(R,M,Y){var q=this.domBuilder;q.startDocument(),p(M,M={}),o(R,M,Y,q,this.errorHandler),q.endDocument()}},b.prototype={setTagName:function(R){if(!N.test(R))throw new Error("invalid tagName:"+R);this.tagName=R},addValue:function(R,M,Y){if(!N.test(R))throw new Error("invalid attribute:"+R);this.attributeNames[R]=this.length,this[this.length++]={qName:R,value:M,offset:Y}},length:0,getLocalName:function(R){return this[R].localName},getLocator:function(R){return this[R].locator},getQName:function(R){return this[R].qName},getURI:function(R){return this[R].uri},getValue:function(R){return this[R].value}},r.XMLReader=a,r.ParseError=s},{"./conventions":41}],47:[function(t,i,r){function s(y){var _=y.length;if(_%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=y.indexOf("=");x===-1&&(x=_);var N=x===_?0:4-x%4;return[x,N]}function a(y){var _=s(y),x=_[0],N=_[1];return 3*(x+N)/4-N}function o(y,_,x){return 3*(_+x)/4-x}function c(y){var _,x,N=s(y),k=N[0],T=N[1],C=new v(o(y,k,T)),P=0,D=T>0?k-4:k;for(x=0;D>x;x+=4)_=p[y.charCodeAt(x)]<<18|p[y.charCodeAt(x+1)]<<12|p[y.charCodeAt(x+2)]<<6|p[y.charCodeAt(x+3)],C[P++]=_>>16&255,C[P++]=_>>8&255,C[P++]=255&_;return T===2&&(_=p[y.charCodeAt(x)]<<2|p[y.charCodeAt(x+1)]>>4,C[P++]=255&_),T===1&&(_=p[y.charCodeAt(x)]<<10|p[y.charCodeAt(x+1)]<<4|p[y.charCodeAt(x+2)]>>2,C[P++]=_>>8&255,C[P++]=255&_),C}function d(y){return h[y>>18&63]+h[y>>12&63]+h[y>>6&63]+h[63&y]}function u(y,_,x){for(var N,k=[],T=_;x>T;T+=3)N=(y[T]<<16&16711680)+(y[T+1]<<8&65280)+(255&y[T+2]),k.push(d(N));return k.join("")}function f(y){for(var _,x=y.length,N=x%3,k=[],T=16383,C=0,P=x-N;P>C;C+=T)k.push(u(y,C,C+T>P?P:C+T));return N===1?(_=y[x-1],k.push(h[_>>2]+h[_<<4&63]+"==")):N===2&&(_=(y[x-2]<<8)+y[x-1],k.push(h[_>>10]+h[_>>4&63]+h[_<<2&63]+"=")),k.join("")}r.byteLength=a,r.toByteArray=c,r.fromByteArray=f;for(var h=[],p=[],v=typeof Uint8Array<"u"?Uint8Array:Array,w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=0,m=w.length;m>b;++b)h[b]=w[b],p[w.charCodeAt(b)]=b;p["-".charCodeAt(0)]=62,p["_".charCodeAt(0)]=63},{}],48:[function(t,i,r){i.exports=function(s){function a(c){var d=new o(c),u=d.promise();return d.setHowMany(1),d.setUnwrap(),d.init(),u}var o=s._SomePromiseArray;s.any=function(c){return a(c)},s.prototype.any=function(){return a(this)}}},{}],49:[function(t,i,r){(function(s){function a(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new h(16),this._normalQueue=new h(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var v=this;this.drainQueues=function(){v._drainQueues()},this._schedule=f}function o(v,w,b){this._lateQueue.push(v,w,b),this._queueTick()}function c(v,w,b){this._normalQueue.push(v,w,b),this._queueTick()}function d(v){this._normalQueue._pushOne(v),this._queueTick()}var u;try{throw new Error}catch(v){u=v}var f=t("./schedule"),h=t("./queue"),p=t("./util");a.prototype.setScheduler=function(v){var w=this._schedule;return this._schedule=v,this._customScheduler=!0,w},a.prototype.hasCustomScheduler=function(){return this._customScheduler},a.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},a.prototype.disableTrampolineIfNecessary=function(){p.hasDevTools&&(this._trampolineEnabled=!1)},a.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},a.prototype.fatalError=function(v,w){w?(s.stderr.write("Fatal "+(v instanceof Error?v.stack:v)+`
`),s.exit(2)):this.throwLater(v)},a.prototype.throwLater=function(v,w){if(arguments.length===1&&(w=v,v=function(){throw w}),typeof setTimeout<"u")setTimeout(function(){v(w)},0);else try{this._schedule(function(){v(w)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}},p.hasDevTools?(a.prototype.invokeLater=function(v,w,b){this._trampolineEnabled?o.call(this,v,w,b):this._schedule(function(){setTimeout(function(){v.call(w,b)},100)})},a.prototype.invoke=function(v,w,b){this._trampolineEnabled?c.call(this,v,w,b):this._schedule(function(){v.call(w,b)})},a.prototype.settlePromises=function(v){this._trampolineEnabled?d.call(this,v):this._schedule(function(){v._settlePromises()})}):(a.prototype.invokeLater=o,a.prototype.invoke=c,a.prototype.settlePromises=d),a.prototype._drainQueue=function(v){for(;v.length()>0;){var w=v.shift();if(typeof w=="function"){var b=v.shift(),m=v.shift();w.call(b,m)}else w._settlePromises()}},a.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},a.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},a.prototype._reset=function(){this._isTickUsed=!1},i.exports=a,i.exports.firstLineError=u}).call(this,t("_process"))},{"./queue":72,"./schedule":75,"./util":82,_process:101}],50:[function(t,i,r){i.exports=function(s,a,o,c){var d=!1,u=function(v,w){this._reject(w)},f=function(v,w){w.promiseRejectionQueued=!0,w.bindingPromise._then(u,u,null,this,v)},h=function(v,w){!(50397184&this._bitField)&&this._resolveCallback(w.target)},p=function(v,w){w.promiseRejectionQueued||this._reject(v)};s.prototype.bind=function(v){d||(d=!0,s.prototype._propagateFrom=c.propagateFromFunction(),s.prototype._boundValue=c.boundValueFunction());var w=o(v),b=new s(a);b._propagateFrom(this,1);var m=this._target();if(b._setBoundTo(w),w instanceof s){var y={promiseRejectionQueued:!1,promise:b,target:m,bindingPromise:w};m._then(a,f,void 0,b,y),w._then(h,p,void 0,b,y),b._setOnCancel(w)}else b._resolveCallback(m);return b},s.prototype._setBoundTo=function(v){v!==void 0?(this._bitField=2097152|this._bitField,this._boundTo=v):this._bitField=-2097153&this._bitField},s.prototype._isBound=function(){return(2097152&this._bitField)===2097152},s.bind=function(v,w){return s.resolve(w).bind(v)}}},{}],51:[function(t,i,r){var s=Object.create;if(s){var a=s(null),o=s(null);a[" size"]=o[" size"]=0}i.exports=function(c){function d(N,k){var T;if(N!=null&&(T=N[k]),typeof T!="function"){var C="Object "+w.classString(N)+" has no method '"+w.toString(k)+"'";throw new c.TypeError(C)}return T}function u(N){var k=this.pop(),T=d(N,k);return T.apply(N,this)}function f(N){return N[this]}function h(N){var k=+this;return 0>k&&(k=Math.max(0,k+N.length)),N[k]}var p,v,w=t("./util"),b=w.canEvaluate,m=w.isIdentifier,y=function(N){return new Function("ensureMethod",`                                    
        return function(obj) {                                               
            'use strict'                                                     
            var len = this.length;                                           
            ensureMethod(obj, 'methodName');                                 
            switch(len) {                                                    
                case 1: return obj.methodName(this[0]);                      
                case 2: return obj.methodName(this[0], this[1]);             
                case 3: return obj.methodName(this[0], this[1], this[2]);    
                case 0: return obj.methodName();                             
                default:                                                     
                    return obj.methodName.apply(obj, this);                  
            }                                                                
        };                                                                   
        `.replace(/methodName/g,N))(d)},_=function(N){return new Function("obj",`                                             
        'use strict';                                                        
        return obj.propertyName;                                             
        `.replace("propertyName",N))},x=function(N,k,T){var C=T[N];if(typeof C!="function"){if(!m(N))return null;if(C=k(N),T[N]=C,T[" size"]++,T[" size"]>512){for(var P=Object.keys(T),D=0;256>D;++D)delete T[P[D]];T[" size"]=P.length-256}}return C};p=function(N){return x(N,y,a)},v=function(N){return x(N,_,o)},c.prototype.call=function(N){for(var k=arguments.length,T=new Array(Math.max(k-1,0)),C=1;k>C;++C)T[C-1]=arguments[C];if(b){var P=p(N);if(P!==null)return this._then(P,void 0,void 0,T,void 0)}return T.push(N),this._then(u,void 0,void 0,T,void 0)},c.prototype.get=function(N){var k,T=typeof N=="number";if(T)k=h;else if(b){var C=v(N);k=C!==null?C:f}else k=f;return this._then(k,void 0,void 0,N,void 0)}}},{"./util":82}],52:[function(t,i,r){i.exports=function(s,a,o,c){var d=t("./util"),u=d.tryCatch,f=d.errorObj,h=s._async;s.prototype.break=s.prototype.cancel=function(){if(!c.cancellation())return this._warn("cancellation is disabled");for(var p=this,v=p;p._isCancellable();){if(!p._cancelBy(v)){v._isFollowing()?v._followee().cancel():v._cancelBranched();break}var w=p._cancellationParent;if(w==null||!w._isCancellable()){p._isFollowing()?p._followee().cancel():p._cancelBranched();break}p._isFollowing()&&p._followee().cancel(),p._setWillBeCancelled(),v=p,p=w}},s.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},s.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},s.prototype._cancelBy=function(p){return p===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},s.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},s.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),h.invoke(this._cancelPromises,this,void 0))},s.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},s.prototype._unsetOnCancel=function(){this._onCancelField=void 0},s.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},s.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},s.prototype._doInvokeOnCancel=function(p,v){if(d.isArray(p))for(var w=0;w<p.length;++w)this._doInvokeOnCancel(p[w],v);else if(p!==void 0)if(typeof p=="function"){if(!v){var b=u(p).call(this._boundValue());b===f&&(this._attachExtraTrace(b.e),h.throwLater(b.e))}}else p._resultCancelled(this)},s.prototype._invokeOnCancel=function(){var p=this._onCancel();this._unsetOnCancel(),h.invoke(this._doInvokeOnCancel,this,p)},s.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},s.prototype._resultCancelled=function(){this.cancel()}}},{"./util":82}],53:[function(t,i,r){i.exports=function(s){function a(f,h,p){return function(v){var w=p._boundValue();e:for(var b=0;b<f.length;++b){var m=f[b];if(m===Error||m!=null&&m.prototype instanceof Error){if(v instanceof m)return d(h).call(w,v)}else if(typeof m=="function"){var y=d(m).call(w,v);if(y===u)return y;if(y)return d(h).call(w,v)}else if(o.isObject(v)){for(var _=c(m),x=0;x<_.length;++x){var N=_[x];if(m[N]!=v[N])continue e}return d(h).call(w,v)}}return s}}var o=t("./util"),c=t("./es5").keys,d=o.tryCatch,u=o.errorObj;return a}},{"./es5":59,"./util":82}],54:[function(t,i,r){i.exports=function(s){function a(){this._trace=new a.CapturedTrace(c())}function o(){return d?new a:void 0}function c(){var f=u.length-1;return f>=0?u[f]:void 0}var d=!1,u=[];return s.prototype._promiseCreated=function(){},s.prototype._pushContext=function(){},s.prototype._popContext=function(){return null},s._peekContext=s.prototype._peekContext=function(){},a.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,u.push(this._trace))},a.prototype._popContext=function(){if(this._trace!==void 0){var f=u.pop(),h=f._promiseCreated;return f._promiseCreated=null,h}return null},a.CapturedTrace=null,a.create=o,a.deactivateLongStackTraces=function(){},a.activateLongStackTraces=function(){var f=s.prototype._pushContext,h=s.prototype._popContext,p=s._peekContext,v=s.prototype._peekContext,w=s.prototype._promiseCreated;a.deactivateLongStackTraces=function(){s.prototype._pushContext=f,s.prototype._popContext=h,s._peekContext=p,s.prototype._peekContext=v,s.prototype._promiseCreated=w,d=!1},d=!0,s.prototype._pushContext=a.prototype._pushContext,s.prototype._popContext=a.prototype._popContext,s._peekContext=s.prototype._peekContext=c,s.prototype._promiseCreated=function(){var b=this._peekContext();b&&b._promiseCreated==null&&(b._promiseCreated=this)}},a}},{}],55:[function(t,i,r){(function(s){i.exports=function(a,o){function c(me,ge){return{promise:ge}}function d(){return!1}function u(me,ge,Oe){var Ye=this;try{me(ge,Oe,function(Ke){if(typeof Ke!="function")throw new TypeError("onCancel must be a function, got: "+Z.toString(Ke));Ye._attachCancellationCallback(Ke)})}catch(Ke){return Ke}}function f(me){if(!this._isCancellable())return this;var ge=this._onCancel();ge!==void 0?Z.isArray(ge)?ge.push(me):this._setOnCancel([ge,me]):this._setOnCancel(me)}function h(){return this._onCancelField}function p(me){this._onCancelField=me}function v(){this._cancellationParent=void 0,this._onCancelField=void 0}function w(me,ge){if(1&ge){this._cancellationParent=me;var Oe=me._branchesRemainingToCancel;Oe===void 0&&(Oe=0),me._branchesRemainingToCancel=Oe+1}2&ge&&me._isBound()&&this._setBoundTo(me._boundTo)}function b(me,ge){2&ge&&me._isBound()&&this._setBoundTo(me._boundTo)}function m(){var me=this._boundTo;return me!==void 0&&me instanceof a?me.isFulfilled()?me.value():void 0:me}function y(){this._trace=new J(this._peekContext())}function _(me,ge){if(_e(me)){var Oe=this._trace;if(Oe!==void 0&&ge&&(Oe=Oe._parent),Oe!==void 0)Oe.attachExtraTrace(me);else if(!me.__stackCleaned__){var Ye=A(me);Z.notEnumerableProp(me,"stack",Ye.message+`
`+Ye.stack.join(`
`)),Z.notEnumerableProp(me,"__stackCleaned__",!0)}}}function x(me,ge,Oe,Ye,Ke){if(me===void 0&&ge!==null&&Ce){if(Ke!==void 0&&Ke._returnedNonUndefined()||!(65535&Ye._bitField))return;Oe&&(Oe+=" ");var mt="",qe="";if(ge._trace){for(var it=ge._trace.stack.split(`
`),ft=D(it),We=ft.length-1;We>=0;--We){var tt=ft[We];if(!ce.test(tt)){var pt=tt.match(Fe);pt&&(mt="at "+pt[1]+":"+pt[2]+":"+pt[3]+" ");break}}if(ft.length>0){for(var Ct=ft[0],We=0;We<it.length;++We)if(it[We]===Ct){We>0&&(qe=`
`+it[We-1]);break}}}var Et="a promise was created in a "+Oe+"handler "+mt+"but was not returned from it, see http://goo.gl/rRqMUw"+qe;Ye._warn(Et,!0,ge)}}function N(me,ge){var Oe=me+" is deprecated and will be removed in a future version.";return ge&&(Oe+=" Use "+ge+" instead."),k(Oe)}function k(me,ge,Oe){if(ae.warnings){var Ye,Ke=new V(me);if(ge)Oe._attachExtraTrace(Ke);else if(ae.longStackTraces&&(Ye=a._peekContext()))Ye.attachExtraTrace(Ke);else{var mt=A(Ke);Ke.stack=mt.message+`
`+mt.stack.join(`
`)}U("warning",Ke)||I(Ke,"",!0)}}function T(me,ge){for(var Oe=0;Oe<ge.length-1;++Oe)ge[Oe].push("From previous event:"),ge[Oe]=ge[Oe].join(`
`);return Oe<ge.length&&(ge[Oe]=ge[Oe].join(`
`)),me+`
`+ge.join(`
`)}function C(me){for(var ge=0;ge<me.length;++ge)(me[ge].length===0||ge+1<me.length&&me[ge][0]===me[ge+1][0])&&(me.splice(ge,1),ge--)}function P(me){for(var ge=me[0],Oe=1;Oe<me.length;++Oe){for(var Ye=me[Oe],Ke=ge.length-1,mt=ge[Ke],qe=-1,it=Ye.length-1;it>=0;--it)if(Ye[it]===mt){qe=it;break}for(var it=qe;it>=0;--it){var ft=Ye[it];if(ge[Ke]!==ft)break;ge.pop(),Ke--}ge=Ye}}function D(me){for(var ge=[],Oe=0;Oe<me.length;++Oe){var Ye=me[Oe],Ke=Ye==="    (No stack trace)"||Ae.test(Ye),mt=Ke&&te(Ye);Ke&&!mt&&(Ve&&Ye.charAt(0)!==" "&&(Ye="    "+Ye),ge.push(Ye))}return ge}function E(me){for(var ge=me.stack.replace(/\s+$/g,"").split(`
`),Oe=0;Oe<ge.length;++Oe){var Ye=ge[Oe];if(Ye==="    (No stack trace)"||Ae.test(Ye))break}return Oe>0&&me.name!="SyntaxError"&&(ge=ge.slice(Oe)),ge}function A(me){var ge=me.stack,Oe=me.toString();return ge=typeof ge=="string"&&ge.length>0?E(me):["    (No stack trace)"],{message:Oe,stack:me.name=="SyntaxError"?ge:D(ge)}}function I(me,ge,Oe){if(typeof console<"u"){var Ye;if(Z.isObject(me)){var Ke=me.stack;Ye=ge+Re(Ke,me)}else Ye=ge+String(me);typeof z=="function"?z(Ye,Oe):(typeof console.log=="function"||typeof console.log=="object")&&console.log(Ye)}}function R(me,ge,Oe,Ye){var Ke=!1;try{typeof ge=="function"&&(Ke=!0,me==="rejectionHandled"?ge(Ye):ge(Oe,Ye))}catch(mt){Q.throwLater(mt)}me==="unhandledRejection"?U(me,Oe,Ye)||Ke||I(Oe,"Unhandled rejection "):U(me,Ye)}function M(me){var ge;if(typeof me=="function")ge="[function "+(me.name||"anonymous")+"]";else{ge=me&&typeof me.toString=="function"?me.toString():Z.toString(me);var Oe=/\[object [a-zA-Z0-9$_]+\]/;if(Oe.test(ge))try{var Ye=JSON.stringify(me);ge=Ye}catch{}ge.length===0&&(ge="(empty array)")}return"(<"+Y(ge)+">, no stack trace)"}function Y(me){var ge=41;return me.length<ge?me:me.substr(0,ge-3)+"..."}function q(){return typeof ve=="function"}function G(me){var ge=me.match(he);return ge?{fileName:ge[1],line:parseInt(ge[2],10)}:void 0}function B(me,ge){if(q()){for(var Oe,Ye,Ke=me.stack.split(`
`),mt=ge.stack.split(`
`),qe=-1,it=-1,ft=0;ft<Ke.length;++ft){var We=G(Ke[ft]);if(We){Oe=We.fileName,qe=We.line;break}}for(var ft=0;ft<mt.length;++ft){var We=G(mt[ft]);if(We){Ye=We.fileName,it=We.line;break}}0>qe||0>it||!Oe||!Ye||Oe!==Ye||qe>=it||(te=function(tt){if(le.test(tt))return!0;var pt=G(tt);return!!(pt&&pt.fileName===Oe&&qe<=pt.line&&pt.line<=it)})}}function J(me){this._parent=me,this._promisesCreated=0;var ge=this._length=1+(me===void 0?0:me._length);ve(this,J),ge>32&&this.uncycle()}var W,L,z,X=a._getDomain,Q=a._async,V=t("./errors").Warning,Z=t("./util"),_e=Z.canAttachTrace,le=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,ce=/\((?:timers\.js):\d+:\d+\)/,Fe=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,Ae=null,Re=null,Ve=!1,fe=!(Z.env("BLUEBIRD_DEBUG")==0||!Z.env("BLUEBIRD_DEBUG")&&Z.env("NODE_ENV")!=="development"),Je=!(Z.env("BLUEBIRD_WARNINGS")==0||!fe&&!Z.env("BLUEBIRD_WARNINGS")),je=!(Z.env("BLUEBIRD_LONG_STACK_TRACES")==0||!fe&&!Z.env("BLUEBIRD_LONG_STACK_TRACES")),Ce=Z.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(Je||!!Z.env("BLUEBIRD_W_FORGOTTEN_RETURN"));a.prototype.suppressUnhandledRejections=function(){var me=this._target();me._bitField=-1048577&me._bitField|524288},a.prototype._ensurePossibleRejectionHandled=function(){!(524288&this._bitField)&&(this._setRejectionIsUnhandled(),Q.invokeLater(this._notifyUnhandledRejection,this,void 0))},a.prototype._notifyUnhandledRejectionIsHandled=function(){R("rejectionHandled",W,void 0,this)},a.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},a.prototype._returnedNonUndefined=function(){return(268435456&this._bitField)!==0},a.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var me=this._settledValue();this._setUnhandledRejectionIsNotified(),R("unhandledRejection",L,me,this)}},a.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},a.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},a.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},a.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},a.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},a.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},a.prototype._warn=function(me,ge,Oe){return k(me,ge,Oe||this)},a.onPossiblyUnhandledRejection=function(me){var ge=X();L=typeof me=="function"?ge===null?me:Z.domainBind(ge,me):void 0},a.onUnhandledRejectionHandled=function(me){var ge=X();W=typeof me=="function"?ge===null?me:Z.domainBind(ge,me):void 0};var $=function(){};a.longStackTraces=function(){if(Q.haveItemsQueued()&&!ae.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!ae.longStackTraces&&q()){var me=a.prototype._captureStackTrace,ge=a.prototype._attachExtraTrace;ae.longStackTraces=!0,$=function(){if(Q.haveItemsQueued()&&!ae.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);a.prototype._captureStackTrace=me,a.prototype._attachExtraTrace=ge,o.deactivateLongStackTraces(),Q.enableTrampoline(),ae.longStackTraces=!1},a.prototype._captureStackTrace=y,a.prototype._attachExtraTrace=_,o.activateLongStackTraces(),Q.disableTrampolineIfNecessary()}},a.hasLongStackTraces=function(){return ae.longStackTraces&&q()};var ke=function(){try{if(typeof CustomEvent=="function"){var me=new CustomEvent("CustomEvent");return Z.global.dispatchEvent(me),function(Oe,Ye){var Ke=new CustomEvent(Oe.toLowerCase(),{detail:Ye,cancelable:!0});return!Z.global.dispatchEvent(Ke)}}if(typeof Event=="function"){var me=new Event("CustomEvent");return Z.global.dispatchEvent(me),function(Oe,Ye){var Ke=new Event(Oe.toLowerCase(),{cancelable:!0});return Ke.detail=Ye,!Z.global.dispatchEvent(Ke)}}var me=document.createEvent("CustomEvent");return me.initCustomEvent("testingtheevent",!1,!0,{}),Z.global.dispatchEvent(me),function(ge,Oe){var Ye=document.createEvent("CustomEvent");return Ye.initCustomEvent(ge.toLowerCase(),!1,!0,Oe),!Z.global.dispatchEvent(Ye)}}catch{}return function(){return!1}}(),Se=function(){return Z.isNode?function(){return s.emit.apply(s,arguments)}:Z.global?function(me){var ge="on"+me.toLowerCase(),Oe=Z.global[ge];return Oe?(Oe.apply(Z.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}}(),pe={promiseCreated:c,promiseFulfilled:c,promiseRejected:c,promiseResolved:c,promiseCancelled:c,promiseChained:function(me,ge,Oe){return{promise:ge,child:Oe}},warning:function(me,ge){return{warning:ge}},unhandledRejection:function(me,ge,Oe){return{reason:ge,promise:Oe}},rejectionHandled:c},U=function(me){var ge=!1;try{ge=Se.apply(null,arguments)}catch(Ye){Q.throwLater(Ye),ge=!0}var Oe=!1;try{Oe=ke(me,pe[me].apply(null,arguments))}catch(Ye){Q.throwLater(Ye),Oe=!0}return Oe||ge};a.config=function(me){if(me=Object(me),"longStackTraces"in me&&(me.longStackTraces?a.longStackTraces():!me.longStackTraces&&a.hasLongStackTraces()&&$()),"warnings"in me){var ge=me.warnings;ae.warnings=!!ge,Ce=ae.warnings,Z.isObject(ge)&&"wForgottenReturn"in ge&&(Ce=!!ge.wForgottenReturn)}if("cancellation"in me&&me.cancellation&&!ae.cancellation){if(Q.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");a.prototype._clearCancellationData=v,a.prototype._propagateFrom=w,a.prototype._onCancel=h,a.prototype._setOnCancel=p,a.prototype._attachCancellationCallback=f,a.prototype._execute=u,H=w,ae.cancellation=!0}return"monitoring"in me&&(me.monitoring&&!ae.monitoring?(ae.monitoring=!0,a.prototype._fireEvent=U):!me.monitoring&&ae.monitoring&&(ae.monitoring=!1,a.prototype._fireEvent=d)),a},a.prototype._fireEvent=d,a.prototype._execute=function(me,ge,Oe){try{me(ge,Oe)}catch(Ye){return Ye}},a.prototype._onCancel=function(){},a.prototype._setOnCancel=function(me){},a.prototype._attachCancellationCallback=function(me){},a.prototype._captureStackTrace=function(){},a.prototype._attachExtraTrace=function(){},a.prototype._clearCancellationData=function(){},a.prototype._propagateFrom=function(me,ge){};var H=b,te=function(){return!1},he=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;Z.inherits(J,Error),o.CapturedTrace=J,J.prototype.uncycle=function(){var me=this._length;if(!(2>me)){for(var ge=[],Oe={},Ye=0,Ke=this;Ke!==void 0;++Ye)ge.push(Ke),Ke=Ke._parent;me=this._length=Ye;for(var Ye=me-1;Ye>=0;--Ye){var mt=ge[Ye].stack;Oe[mt]===void 0&&(Oe[mt]=Ye)}for(var Ye=0;me>Ye;++Ye){var qe=ge[Ye].stack,it=Oe[qe];if(it!==void 0&&it!==Ye){it>0&&(ge[it-1]._parent=void 0,ge[it-1]._length=1),ge[Ye]._parent=void 0,ge[Ye]._length=1;var ft=Ye>0?ge[Ye-1]:this;me-1>it?(ft._parent=ge[it+1],ft._parent.uncycle(),ft._length=ft._parent._length+1):(ft._parent=void 0,ft._length=1);for(var We=ft._length+1,tt=Ye-2;tt>=0;--tt)ge[tt]._length=We,We++;return}}}},J.prototype.attachExtraTrace=function(me){if(!me.__stackCleaned__){this.uncycle();for(var ge=A(me),Oe=ge.message,Ye=[ge.stack],Ke=this;Ke!==void 0;)Ye.push(D(Ke.stack.split(`
`))),Ke=Ke._parent;P(Ye),C(Ye),Z.notEnumerableProp(me,"stack",T(Oe,Ye)),Z.notEnumerableProp(me,"__stackCleaned__",!0)}};var ve=function(){var me=/^\s*at\s*/,ge=function(mt,qe){return typeof mt=="string"?mt:qe.name!==void 0&&qe.message!==void 0?qe.toString():M(qe)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,Ae=me,Re=ge;var Oe=Error.captureStackTrace;return te=function(mt){return le.test(mt)},function(mt,qe){Error.stackTraceLimit+=6,Oe(mt,qe),Error.stackTraceLimit-=6}}var Ye=new Error;if(typeof Ye.stack=="string"&&Ye.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return Ae=/@/,Re=ge,Ve=!0,function(mt){mt.stack=new Error().stack};var Ke;try{throw new Error}catch(mt){Ke="stack"in mt}return"stack"in Ye||!Ke||typeof Error.stackTraceLimit!="number"?(Re=function(mt,qe){return typeof mt=="string"?mt:typeof qe!="object"&&typeof qe!="function"||qe.name===void 0||qe.message===void 0?M(qe):qe.toString()},null):(Ae=me,Re=ge,function(mt){Error.stackTraceLimit+=6;try{throw new Error}catch(qe){mt.stack=qe.stack}Error.stackTraceLimit-=6})}();typeof console<"u"&&typeof console.warn<"u"&&(z=function(me){console.warn(me)},Z.isNode&&s.stderr.isTTY?z=function(me,ge){var Oe=ge?"\x1B[33m":"\x1B[31m";console.warn(Oe+me+`\x1B[0m
`)}:Z.isNode||typeof new Error().stack!="string"||(z=function(me,ge){console.warn("%c"+me,ge?"color: darkorange":"color: red")}));var ae={warnings:Je,longStackTraces:!1,cancellation:!1,monitoring:!1};return je&&a.longStackTraces(),{longStackTraces:function(){return ae.longStackTraces},warnings:function(){return ae.warnings},cancellation:function(){return ae.cancellation},monitoring:function(){return ae.monitoring},propagateFromFunction:function(){return H},boundValueFunction:function(){return m},checkForgottenReturns:x,setBounds:B,warn:k,deprecated:N,CapturedTrace:J,fireDomEvent:ke,fireGlobalEvent:Se}}}).call(this,t("_process"))},{"./errors":58,"./util":82,_process:101}],56:[function(t,i,r){i.exports=function(s){function a(){return this.value}function o(){throw this.reason}s.prototype.return=s.prototype.thenReturn=function(c){return c instanceof s&&c.suppressUnhandledRejections(),this._then(a,void 0,void 0,{value:c},void 0)},s.prototype.throw=s.prototype.thenThrow=function(c){return this._then(o,void 0,void 0,{reason:c},void 0)},s.prototype.catchThrow=function(c){if(arguments.length<=1)return this._then(void 0,o,void 0,{reason:c},void 0);var d=arguments[1],u=function(){throw d};return this.caught(c,u)},s.prototype.catchReturn=function(c){if(arguments.length<=1)return c instanceof s&&c.suppressUnhandledRejections(),this._then(void 0,a,void 0,{value:c},void 0);var d=arguments[1];d instanceof s&&d.suppressUnhandledRejections();var u=function(){return d};return this.caught(c,u)}}},{}],57:[function(t,i,r){i.exports=function(s,a){function o(){return u(this)}function c(f,h){return d(f,h,a,a)}var d=s.reduce,u=s.all;s.prototype.each=function(f){return d(this,f,a,0)._then(o,void 0,void 0,this,void 0)},s.prototype.mapSeries=function(f){return d(this,f,a,a)},s.each=function(f,h){return d(f,h,a,0)._then(o,void 0,void 0,f,void 0)},s.mapSeries=c}},{}],58:[function(t,i,r){function s(k,T){function C(P){return this instanceof C?(p(this,"message",typeof P=="string"?P:T),p(this,"name",k),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new C(P)}return h(C,Error),C}function a(k){return this instanceof a?(p(this,"name","OperationalError"),p(this,"message",k),this.cause=k,this.isOperational=!0,void(k instanceof Error?(p(this,"message",k.message),p(this,"stack",k.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new a(k)}var o,c,d=t("./es5"),u=d.freeze,f=t("./util"),h=f.inherits,p=f.notEnumerableProp,v=s("Warning","warning"),w=s("CancellationError","cancellation error"),b=s("TimeoutError","timeout error"),m=s("AggregateError","aggregate error");try{o=TypeError,c=RangeError}catch{o=s("TypeError","type error"),c=s("RangeError","range error")}for(var y="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),_=0;_<y.length;++_)typeof Array.prototype[y[_]]=="function"&&(m.prototype[y[_]]=Array.prototype[y[_]]);d.defineProperty(m.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),m.prototype.isOperational=!0;var x=0;m.prototype.toString=function(){var k=Array(4*x+1).join(" "),T=`
`+k+`AggregateError of:
`;x++,k=Array(4*x+1).join(" ");for(var C=0;C<this.length;++C){for(var P=this[C]===this?"[Circular AggregateError]":this[C]+"",D=P.split(`
`),E=0;E<D.length;++E)D[E]=k+D[E];P=D.join(`
`),T+=P+`
`}return x--,T},h(a,Error);var N=Error.__BluebirdErrorTypes__;N||(N=u({CancellationError:w,TimeoutError:b,OperationalError:a,RejectionError:a,AggregateError:m}),d.defineProperty(Error,"__BluebirdErrorTypes__",{value:N,writable:!1,enumerable:!1,configurable:!1})),i.exports={Error,TypeError:o,RangeError:c,CancellationError:N.CancellationError,OperationalError:N.OperationalError,TimeoutError:N.TimeoutError,AggregateError:N.AggregateError,Warning:v}},{"./es5":59,"./util":82}],59:[function(t,i,r){var s=function(){return this===void 0}();if(s)i.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:s,propertyIsWritable:function(w,b){var m=Object.getOwnPropertyDescriptor(w,b);return!(m&&!m.writable&&!m.set)}};else{var a={}.hasOwnProperty,o={}.toString,c={}.constructor.prototype,d=function(w){var b=[];for(var m in w)a.call(w,m)&&b.push(m);return b},u=function(w,b){return{value:w[b]}},f=function(w,b,m){return w[b]=m.value,w},h=function(w){return w},p=function(w){try{return Object(w).constructor.prototype}catch{return c}},v=function(w){try{return o.call(w)==="[object Array]"}catch{return!1}};i.exports={isArray:v,keys:d,names:d,defineProperty:f,getDescriptor:u,freeze:h,getPrototypeOf:p,isES5:s,propertyIsWritable:function(){return!0}}}},{}],60:[function(t,i,r){i.exports=function(s,a){var o=s.map;s.prototype.filter=function(c,d){return o(this,c,d,a)},s.filter=function(c,d,u){return o(c,d,u,a)}}},{}],61:[function(t,i,r){i.exports=function(s,a){function o(b,m,y){this.promise=b,this.type=m,this.handler=y,this.called=!1,this.cancelPromise=null}function c(b){this.finallyHandler=b}function d(b,m){return b.cancelPromise!=null?(arguments.length>1?b.cancelPromise._reject(m):b.cancelPromise._cancel(),b.cancelPromise=null,!0):!1}function u(){return h.call(this,this.promise._target()._settledValue())}function f(b){return d(this,b)?void 0:(w.e=b,w)}function h(b){var m=this.promise,y=this.handler;if(!this.called){this.called=!0;var _=this.isFinallyHandler()?y.call(m._boundValue()):y.call(m._boundValue(),b);if(_!==void 0){m._setReturnedNonUndefined();var x=a(_,m);if(x instanceof s){if(this.cancelPromise!=null){if(x._isCancelled()){var N=new v("late cancellation observer");return m._attachExtraTrace(N),w.e=N,w}x.isPending()&&x._attachCancellationCallback(new c(this))}return x._then(u,f,void 0,this,void 0)}}}return m.isRejected()?(d(this),w.e=b,w):(d(this),b)}var p=t("./util"),v=s.CancellationError,w=p.errorObj;return o.prototype.isFinallyHandler=function(){return this.type===0},c.prototype._resultCancelled=function(){d(this.finallyHandler)},s.prototype._passThrough=function(b,m,y,_){return typeof b!="function"?this.then():this._then(y,_,void 0,new o(this,m,b),void 0)},s.prototype.lastly=s.prototype.finally=function(b){return this._passThrough(b,0,h,h)},s.prototype.tap=function(b){return this._passThrough(b,1,h)},o}},{"./util":82}],62:[function(t,i,r){i.exports=function(s,a,o,c,d,u){function f(_,x,N){for(var k=0;k<x.length;++k){N._pushContext();var T=m(x[k])(_);if(N._popContext(),T===b){N._pushContext();var C=s.reject(b.e);return N._popContext(),C}var P=c(T,N);if(P instanceof s)return P}return null}function h(_,x,N,k){if(u.cancellation()){var T=new s(o),C=this._finallyPromise=new s(o);this._promise=T.lastly(function(){return C}),T._captureStackTrace(),T._setOnCancel(this)}else{var P=this._promise=new s(o);P._captureStackTrace()}this._stack=k,this._generatorFunction=_,this._receiver=x,this._generator=void 0,this._yieldHandlers=typeof N=="function"?[N].concat(y):y,this._yieldedPromise=null,this._cancellationPhase=!1}var p=t("./errors"),v=p.TypeError,w=t("./util"),b=w.errorObj,m=w.tryCatch,y=[];w.inherits(h,d),h.prototype._isResolved=function(){return this._promise===null},h.prototype._cleanup=function(){this._promise=this._generator=null,u.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},h.prototype._promiseCancelled=function(){if(!this._isResolved()){var _,x=typeof this._generator.return<"u";if(x)this._promise._pushContext(),_=m(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var N=new s.CancellationError("generator .return() sentinel");s.coroutine.returnSentinel=N,this._promise._attachExtraTrace(N),this._promise._pushContext(),_=m(this._generator.throw).call(this._generator,N),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(_)}},h.prototype._promiseFulfilled=function(_){this._yieldedPromise=null,this._promise._pushContext();var x=m(this._generator.next).call(this._generator,_);this._promise._popContext(),this._continue(x)},h.prototype._promiseRejected=function(_){this._yieldedPromise=null,this._promise._attachExtraTrace(_),this._promise._pushContext();var x=m(this._generator.throw).call(this._generator,_);this._promise._popContext(),this._continue(x)},h.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof s){var _=this._yieldedPromise;this._yieldedPromise=null,_.cancel()}},h.prototype.promise=function(){return this._promise},h.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},h.prototype._continue=function(_){var x=this._promise;if(_===b)return this._cleanup(),this._cancellationPhase?x.cancel():x._rejectCallback(_.e,!1);var N=_.value;if(_.done===!0)return this._cleanup(),this._cancellationPhase?x.cancel():x._resolveCallback(N);var k=c(N,this._promise);if(!(k instanceof s)&&(k=f(k,this._yieldHandlers,this._promise),k===null))return void this._promiseRejected(new v(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",N)+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));k=k._target();var T=k._bitField;50397184&T?33554432&T?s._async.invoke(this._promiseFulfilled,this,k._value()):16777216&T?s._async.invoke(this._promiseRejected,this,k._reason()):this._promiseCancelled():(this._yieldedPromise=k,k._proxy(this,null))},s.coroutine=function(_,x){if(typeof _!="function")throw new v(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var N=Object(x).yieldHandler,k=h,T=new Error().stack;return function(){var C=_.apply(this,arguments),P=new k(void 0,void 0,N,T),D=P.promise();return P._generator=C,P._promiseFulfilled(void 0),D}},s.coroutine.addYieldHandler=function(_){if(typeof _!="function")throw new v("expecting a function but got "+w.classString(_));y.push(_)},s.spawn=function(_){if(u.deprecated("Promise.spawn()","Promise.coroutine()"),typeof _!="function")return a(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var x=new h(_,this),N=x.promise();return x._run(s.spawn),N}}},{"./errors":58,"./util":82}],63:[function(t,i,r){i.exports=function(s,a,o,c,d,u){var f,h=t("./util"),p=h.canEvaluate,v=h.tryCatch,w=h.errorObj;if(p){for(var b=function(T){return new Function("value","holder",`                             
            'use strict';                                                    
            holder.pIndex = value;                                           
            holder.checkFulfillment(this);                                   
            `.replace(/Index/g,T))},m=function(T){return new Function("promise","holder",`                           
            'use strict';                                                    
            holder.pIndex = promise;                                         
            `.replace(/Index/g,T))},y=function(T){for(var C=new Array(T),P=0;P<C.length;++P)C[P]="this.p"+(P+1);var D=C.join(" = ")+" = null;",E=`var promise;
`+C.map(function(M){return`                                                         
                promise = `+M+`;                                      
                if (promise instanceof Promise) {                            
                    promise.cancel();                                        
                }                                                            
            `}).join(`
`),A=C.join(", "),I="Holder$"+T,R=`return function(tryCatch, errorObj, Promise, async) {    
            'use strict';                                                    
            function [TheName](fn) {                                         
                [TheProperties]                                              
                this.fn = fn;                                                
                this.asyncNeeded = true;                                     
                this.now = 0;                                                
            }                                                                
                                                                             
            [TheName].prototype._callFunction = function(promise) {          
                promise._pushContext();                                      
                var ret = tryCatch(this.fn)([ThePassedArguments]);           
                promise._popContext();                                       
                if (ret === errorObj) {                                      
                    promise._rejectCallback(ret.e, false);                   
                } else {                                                     
                    promise._resolveCallback(ret);                           
                }                                                            
            };                                                               
                                                                             
            [TheName].prototype.checkFulfillment = function(promise) {       
                var now = ++this.now;                                        
                if (now === [TheTotal]) {                                    
                    if (this.asyncNeeded) {                                  
                        async.invoke(this._callFunction, this, promise);     
                    } else {                                                 
                        this._callFunction(promise);                         
                    }                                                        
                                                                             
                }                                                            
            };                                                               
                                                                             
            [TheName].prototype._resultCancelled = function() {              
                [CancellationCode]                                           
            };                                                               
                                                                             
            return [TheName];                                                
        }(tryCatch, errorObj, Promise, async);                               
        `;return R=R.replace(/\[TheName\]/g,I).replace(/\[TheTotal\]/g,T).replace(/\[ThePassedArguments\]/g,A).replace(/\[TheProperties\]/g,D).replace(/\[CancellationCode\]/g,E),new Function("tryCatch","errorObj","Promise","async",R)(v,w,s,d)},_=[],x=[],N=[],k=0;8>k;++k)_.push(y(k+1)),x.push(b(k+1)),N.push(m(k+1));f=function(T){this._reject(T)}}s.join=function(){var T,C=arguments.length-1;if(C>0&&typeof arguments[C]=="function"&&(T=arguments[C],8>=C&&p)){var B=new s(c);B._captureStackTrace();for(var P=_[C-1],D=new P(T),E=x,A=0;C>A;++A){var I=o(arguments[A],B);if(I instanceof s){I=I._target();var R=I._bitField;50397184&R?33554432&R?E[A].call(B,I._value(),D):16777216&R?B._reject(I._reason()):B._cancel():(I._then(E[A],f,void 0,B,D),N[A](I,D),D.asyncNeeded=!1)}else E[A].call(B,I,D)}if(!B._isFateSealed()){if(D.asyncNeeded){var M=u();M!==null&&(D.fn=h.domainBind(M,D.fn))}B._setAsyncGuaranteed(),B._setOnCancel(D)}return B}for(var Y=arguments.length,q=new Array(Y),G=0;Y>G;++G)q[G]=arguments[G];T&&q.pop();var B=new a(q).promise();return T!==void 0?B.spread(T):B}}},{"./util":82}],64:[function(t,i,r){i.exports=function(s,a,o,c,d,u){function f(y,_,x,N){this.constructor$(y),this._promise._captureStackTrace();var k=p();this._callback=k===null?_:v.domainBind(k,_),this._preservedValues=N===d?new Array(this.length()):null,this._limit=x,this._inFlight=0,this._queue=[],m.invoke(this._asyncInit,this,void 0)}function h(y,_,x,N){if(typeof _!="function")return o("expecting a function but got "+v.classString(_));var k=0;if(x!==void 0){if(typeof x!="object"||x===null)return s.reject(new TypeError("options argument must be an object but it is "+v.classString(x)));if(typeof x.concurrency!="number")return s.reject(new TypeError("'concurrency' must be a number but it is "+v.classString(x.concurrency)));k=x.concurrency}return k=typeof k=="number"&&isFinite(k)&&k>=1?k:0,new f(y,_,k,N).promise()}var p=s._getDomain,v=t("./util"),w=v.tryCatch,b=v.errorObj,m=s._async;v.inherits(f,a),f.prototype._asyncInit=function(){this._init$(void 0,-2)},f.prototype._init=function(){},f.prototype._promiseFulfilled=function(y,_){var x=this._values,N=this.length(),k=this._preservedValues,T=this._limit;if(0>_){if(_=-1*_-1,x[_]=y,T>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(T>=1&&this._inFlight>=T)return x[_]=y,this._queue.push(_),!1;k!==null&&(k[_]=y);var C=this._promise,P=this._callback,D=C._boundValue();C._pushContext();var E=w(P).call(D,y,_,N),A=C._popContext();if(u.checkForgottenReturns(E,A,k!==null?"Promise.filter":"Promise.map",C),E===b)return this._reject(E.e),!0;var I=c(E,this._promise);if(I instanceof s){I=I._target();var R=I._bitField;if(!(50397184&R))return T>=1&&this._inFlight++,x[_]=I,I._proxy(this,-1*(_+1)),!1;if(!(33554432&R))return 16777216&R?(this._reject(I._reason()),!0):(this._cancel(),!0);E=I._value()}x[_]=E}var M=++this._totalResolved;return M>=N?(k!==null?this._filter(x,k):this._resolve(x),!0):!1},f.prototype._drainQueue=function(){for(var y=this._queue,_=this._limit,x=this._values;y.length>0&&this._inFlight<_;){if(this._isResolved())return;var N=y.pop();this._promiseFulfilled(x[N],N)}},f.prototype._filter=function(y,_){for(var x=_.length,N=new Array(x),k=0,T=0;x>T;++T)y[T]&&(N[k++]=_[T]);N.length=k,this._resolve(N)},f.prototype.preservedValues=function(){return this._preservedValues},s.prototype.map=function(y,_){return h(this,y,_,null)},s.map=function(y,_,x,N){return h(y,_,x,N)}}},{"./util":82}],65:[function(t,i,r){i.exports=function(s,a,o,c,d){var u=t("./util"),f=u.tryCatch;s.method=function(h){if(typeof h!="function")throw new s.TypeError("expecting a function but got "+u.classString(h));return function(){var p=new s(a);p._captureStackTrace(),p._pushContext();var v=f(h).apply(this,arguments),w=p._popContext();return d.checkForgottenReturns(v,w,"Promise.method",p),p._resolveFromSyncValue(v),p}},s.attempt=s.try=function(h){if(typeof h!="function")return c("expecting a function but got "+u.classString(h));var p=new s(a);p._captureStackTrace(),p._pushContext();var v;if(arguments.length>1){d.deprecated("calling Promise.try with more than 1 argument");var w=arguments[1],b=arguments[2];v=u.isArray(w)?f(h).apply(b,w):f(h).call(b,w)}else v=f(h)();var m=p._popContext();return d.checkForgottenReturns(v,m,"Promise.try",p),p._resolveFromSyncValue(v),p},s.prototype._resolveFromSyncValue=function(h){h===u.errorObj?this._rejectCallback(h.e,!1):this._resolveCallback(h,!0)}}},{"./util":82}],66:[function(t,i,r){function s(v){return v instanceof Error&&h.getPrototypeOf(v)===Error.prototype}function a(v){var w;if(s(v)){w=new f(v),w.name=v.name,w.message=v.message,w.stack=v.stack;for(var b=h.keys(v),m=0;m<b.length;++m){var y=b[m];p.test(y)||(w[y]=v[y])}return w}return c.markAsOriginatingFromRejection(v),v}function o(v,w){return function(b,m){if(v!==null){if(b){var y=a(d(b));v._attachExtraTrace(y),v._reject(y)}else if(w){for(var _=arguments.length,x=new Array(Math.max(_-1,0)),N=1;_>N;++N)x[N-1]=arguments[N];v._fulfill(x)}else v._fulfill(m);v=null}}}var c=t("./util"),d=c.maybeWrapAsError,u=t("./errors"),f=u.OperationalError,h=t("./es5"),p=/^(?:name|message|stack|cause)$/;i.exports=o},{"./errors":58,"./es5":59,"./util":82}],67:[function(t,i,r){i.exports=function(s){function a(p,v){var w=this;if(!d.isArray(p))return o.call(w,p,v);var b=f(v).apply(w._boundValue(),[null].concat(p));b===h&&u.throwLater(b.e)}function o(p,v){var w=this,b=w._boundValue(),m=p===void 0?f(v).call(b,null):f(v).call(b,null,p);m===h&&u.throwLater(m.e)}function c(p,v){var w=this;if(!p){var b=new Error(p+"");b.cause=p,p=b}var m=f(v).call(w._boundValue(),p);m===h&&u.throwLater(m.e)}var d=t("./util"),u=s._async,f=d.tryCatch,h=d.errorObj;s.prototype.asCallback=s.prototype.nodeify=function(p,v){if(typeof p=="function"){var w=o;v!==void 0&&Object(v).spread&&(w=a),this._then(w,c,void 0,this,p)}return this}}},{"./util":82}],68:[function(t,i,r){(function(s){i.exports=function(){function a(){}function o(W,L){if(typeof L!="function")throw new k("expecting a function but got "+m.classString(L));if(W.constructor!==c)throw new k(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`)}function c(W){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,W!==C&&(o(this,W),this._resolveFromExecutor(W)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function d(W){this.promise._resolveCallback(W)}function u(W){this.promise._rejectCallback(W,!1)}function f(W){var L=new c(C);L._fulfillmentHandler0=W,L._rejectionHandler0=W,L._promise0=W,L._receiver0=W}var h,p=function(){return new k(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},v=function(){return new c.PromiseInspection(this._target())},w=function(W){return c.reject(new k(W))},b={},m=t("./util");h=m.isNode?function(){var W=s.domain;return W===void 0&&(W=null),W}:function(){return null},m.notEnumerableProp(c,"_getDomain",h);var y=t("./es5"),_=t("./async"),x=new _;y.defineProperty(c,"_async",{value:x});var N=t("./errors"),k=c.TypeError=N.TypeError;c.RangeError=N.RangeError;var T=c.CancellationError=N.CancellationError;c.TimeoutError=N.TimeoutError,c.OperationalError=N.OperationalError,c.RejectionError=N.OperationalError,c.AggregateError=N.AggregateError;var C=function(){},P={},D={},E=t("./thenables")(c,C),A=t("./promise_array")(c,C,E,w,a),I=t("./context")(c),R=I.create,M=t("./debuggability")(c,I),Y=(M.CapturedTrace,t("./finally")(c,E)),q=t("./catch_filter")(D),G=t("./nodeback"),B=m.errorObj,J=m.tryCatch;return c.prototype.toString=function(){return"[object Promise]"},c.prototype.caught=c.prototype.catch=function(W){var L=arguments.length;if(L>1){var z,X=new Array(L-1),Q=0;for(z=0;L-1>z;++z){var V=arguments[z];if(!m.isObject(V))return w("expecting an object but got A catch statement predicate "+m.classString(V));X[Q++]=V}return X.length=Q,W=arguments[z],this.then(void 0,q(X,W,this))}return this.then(void 0,W)},c.prototype.reflect=function(){return this._then(v,v,void 0,this,void 0)},c.prototype.then=function(W,L){if(M.warnings()&&arguments.length>0&&typeof W!="function"&&typeof L!="function"){var z=".then() only accepts functions but was passed: "+m.classString(W);arguments.length>1&&(z+=", "+m.classString(L)),this._warn(z)}return this._then(W,L,void 0,void 0,void 0)},c.prototype.done=function(W,L){var z=this._then(W,L,void 0,void 0,void 0);z._setIsFinal()},c.prototype.spread=function(W){return typeof W!="function"?w("expecting a function but got "+m.classString(W)):this.all()._then(W,void 0,void 0,P,void 0)},c.prototype.toJSON=function(){var W={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(W.fulfillmentValue=this.value(),W.isFulfilled=!0):this.isRejected()&&(W.rejectionReason=this.reason(),W.isRejected=!0),W},c.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new A(this).promise()},c.prototype.error=function(W){return this.caught(m.originatesFromRejection,W)},c.getNewLibraryCopy=i.exports,c.is=function(W){return W instanceof c},c.fromNode=c.fromCallback=function(W){var L=new c(C);L._captureStackTrace();var z=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,X=J(W)(G(L,z));return X===B&&L._rejectCallback(X.e,!0),L._isFateSealed()||L._setAsyncGuaranteed(),L},c.all=function(W){return new A(W).promise()},c.cast=function(W){var L=E(W);return L instanceof c||(L=new c(C),L._captureStackTrace(),L._setFulfilled(),L._rejectionHandler0=W),L},c.resolve=c.fulfilled=c.cast,c.reject=c.rejected=function(W){var L=new c(C);return L._captureStackTrace(),L._rejectCallback(W,!0),L},c.setScheduler=function(W){if(typeof W!="function")throw new k("expecting a function but got "+m.classString(W));return x.setScheduler(W)},c.prototype._then=function(W,L,z,X,Q){var V=Q!==void 0,Z=V?Q:new c(C),_e=this._target(),le=_e._bitField;V||(Z._propagateFrom(this,3),Z._captureStackTrace(),X===void 0&&2097152&this._bitField&&(X=50397184&le?this._boundValue():_e===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,Z));var ce=h();if(50397184&le){var Fe,Ae,Re=_e._settlePromiseCtx;33554432&le?(Ae=_e._rejectionHandler0,Fe=W):16777216&le?(Ae=_e._fulfillmentHandler0,Fe=L,_e._unsetRejectionIsUnhandled()):(Re=_e._settlePromiseLateCancellationObserver,Ae=new T("late cancellation observer"),_e._attachExtraTrace(Ae),Fe=L),x.invoke(Re,_e,{handler:ce===null?Fe:typeof Fe=="function"&&m.domainBind(ce,Fe),promise:Z,receiver:X,value:Ae})}else _e._addCallbacks(W,L,Z,X,ce);return Z},c.prototype._length=function(){return 65535&this._bitField},c.prototype._isFateSealed=function(){return(117506048&this._bitField)!==0},c.prototype._isFollowing=function(){return(67108864&this._bitField)===67108864},c.prototype._setLength=function(W){this._bitField=-65536&this._bitField|65535&W},c.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},c.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},c.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},c.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},c.prototype._isFinal=function(){return(4194304&this._bitField)>0},c.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},c.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},c.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},c.prototype._setAsyncGuaranteed=function(){x.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},c.prototype._receiverAt=function(W){var L=W===0?this._receiver0:this[4*W-4+3];return L===b?void 0:L===void 0&&this._isBound()?this._boundValue():L},c.prototype._promiseAt=function(W){return this[4*W-4+2]},c.prototype._fulfillmentHandlerAt=function(W){return this[4*W-4+0]},c.prototype._rejectionHandlerAt=function(W){return this[4*W-4+1]},c.prototype._boundValue=function(){},c.prototype._migrateCallback0=function(W){var L=(W._bitField,W._fulfillmentHandler0),z=W._rejectionHandler0,X=W._promise0,Q=W._receiverAt(0);Q===void 0&&(Q=b),this._addCallbacks(L,z,X,Q,null)},c.prototype._migrateCallbackAt=function(W,L){var z=W._fulfillmentHandlerAt(L),X=W._rejectionHandlerAt(L),Q=W._promiseAt(L),V=W._receiverAt(L);V===void 0&&(V=b),this._addCallbacks(z,X,Q,V,null)},c.prototype._addCallbacks=function(W,L,z,X,Q){var V=this._length();if(V>=65531&&(V=0,this._setLength(0)),V===0)this._promise0=z,this._receiver0=X,typeof W=="function"&&(this._fulfillmentHandler0=Q===null?W:m.domainBind(Q,W)),typeof L=="function"&&(this._rejectionHandler0=Q===null?L:m.domainBind(Q,L));else{var Z=4*V-4;this[Z+2]=z,this[Z+3]=X,typeof W=="function"&&(this[Z+0]=Q===null?W:m.domainBind(Q,W)),typeof L=="function"&&(this[Z+1]=Q===null?L:m.domainBind(Q,L))}return this._setLength(V+1),V},c.prototype._proxy=function(W,L){this._addCallbacks(void 0,void 0,L,W,null)},c.prototype._resolveCallback=function(W,L){if(!(117506048&this._bitField)){if(W===this)return this._rejectCallback(p(),!1);var z=E(W,this);if(!(z instanceof c))return this._fulfill(W);L&&this._propagateFrom(z,2);var X=z._target();if(X===this)return void this._reject(p());var Q=X._bitField;if(50397184&Q)if(33554432&Q)this._fulfill(X._value());else if(16777216&Q)this._reject(X._reason());else{var _e=new T("late cancellation observer");X._attachExtraTrace(_e),this._reject(_e)}else{var V=this._length();V>0&&X._migrateCallback0(this);for(var Z=1;V>Z;++Z)X._migrateCallbackAt(this,Z);this._setFollowing(),this._setLength(0),this._setFollowee(X)}}},c.prototype._rejectCallback=function(W,L,z){var X=m.ensureErrorObject(W),Q=X===W;if(!Q&&!z&&M.warnings()){var V="a promise was rejected with a non-error: "+m.classString(W);this._warn(V,!0)}this._attachExtraTrace(X,L?Q:!1),this._reject(W)},c.prototype._resolveFromExecutor=function(W){var L=this;this._captureStackTrace(),this._pushContext();var z=!0,X=this._execute(W,function(Q){L._resolveCallback(Q)},function(Q){L._rejectCallback(Q,z)});z=!1,this._popContext(),X!==void 0&&L._rejectCallback(X,!0)},c.prototype._settlePromiseFromHandler=function(W,L,z,X){var Q=X._bitField;if(!(65536&Q)){X._pushContext();var V;L===P?z&&typeof z.length=="number"?V=J(W).apply(this._boundValue(),z):(V=B,V.e=new k("cannot .spread() a non-array: "+m.classString(z))):V=J(W).call(L,z);var Z=X._popContext();Q=X._bitField,!(65536&Q)&&(V===D?X._reject(z):V===B?X._rejectCallback(V.e,!1):(M.checkForgottenReturns(V,Z,"",X,this),X._resolveCallback(V)))}},c.prototype._target=function(){for(var W=this;W._isFollowing();)W=W._followee();return W},c.prototype._followee=function(){return this._rejectionHandler0},c.prototype._setFollowee=function(W){this._rejectionHandler0=W},c.prototype._settlePromise=function(W,L,z,X){var Q=W instanceof c,V=this._bitField,Z=(134217728&V)!==0;65536&V?(Q&&W._invokeInternalOnCancel(),z instanceof Y&&z.isFinallyHandler()?(z.cancelPromise=W,J(L).call(z,X)===B&&W._reject(B.e)):L===v?W._fulfill(v.call(z)):z instanceof a?z._promiseCancelled(W):Q||W instanceof A?W._cancel():z.cancel()):typeof L=="function"?Q?(Z&&W._setAsyncGuaranteed(),this._settlePromiseFromHandler(L,z,X,W)):L.call(z,X,W):z instanceof a?z._isResolved()||(33554432&V?z._promiseFulfilled(X,W):z._promiseRejected(X,W)):Q&&(Z&&W._setAsyncGuaranteed(),33554432&V?W._fulfill(X):W._reject(X))},c.prototype._settlePromiseLateCancellationObserver=function(W){var L=W.handler,z=W.promise,X=W.receiver,Q=W.value;typeof L=="function"?z instanceof c?this._settlePromiseFromHandler(L,X,Q,z):L.call(X,Q,z):z instanceof c&&z._reject(Q)},c.prototype._settlePromiseCtx=function(W){this._settlePromise(W.promise,W.handler,W.receiver,W.value)},c.prototype._settlePromise0=function(W,L,z){var X=this._promise0,Q=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(X,W,Q,L)},c.prototype._clearCallbackDataAtIndex=function(W){var L=4*W-4;this[L+2]=this[L+3]=this[L+0]=this[L+1]=void 0},c.prototype._fulfill=function(W){var L=this._bitField;if(!((117506048&L)>>>16)){if(W===this){var z=p();return this._attachExtraTrace(z),this._reject(z)}this._setFulfilled(),this._rejectionHandler0=W,(65535&L)>0&&(134217728&L?this._settlePromises():x.settlePromises(this))}},c.prototype._reject=function(W){var L=this._bitField;if(!((117506048&L)>>>16))return this._setRejected(),this._fulfillmentHandler0=W,this._isFinal()?x.fatalError(W,m.isNode):void((65535&L)>0?x.settlePromises(this):this._ensurePossibleRejectionHandled())},c.prototype._fulfillPromises=function(W,L){for(var z=1;W>z;z++){var X=this._fulfillmentHandlerAt(z),Q=this._promiseAt(z),V=this._receiverAt(z);this._clearCallbackDataAtIndex(z),this._settlePromise(Q,X,V,L)}},c.prototype._rejectPromises=function(W,L){for(var z=1;W>z;z++){var X=this._rejectionHandlerAt(z),Q=this._promiseAt(z),V=this._receiverAt(z);this._clearCallbackDataAtIndex(z),this._settlePromise(Q,X,V,L)}},c.prototype._settlePromises=function(){var W=this._bitField,L=65535&W;if(L>0){if(16842752&W){var z=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,z,W),this._rejectPromises(L,z)}else{var X=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,X,W),this._fulfillPromises(L,X)}this._setLength(0)}this._clearCancellationData()},c.prototype._settledValue=function(){var W=this._bitField;return 33554432&W?this._rejectionHandler0:16777216&W?this._fulfillmentHandler0:void 0},c.defer=c.pending=function(){M.deprecated("Promise.defer","new Promise");var W=new c(C);return{promise:W,resolve:d,reject:u}},m.notEnumerableProp(c,"_makeSelfResolutionError",p),t("./method")(c,C,E,w,M),t("./bind")(c,C,E,M),t("./cancel")(c,A,w,M),t("./direct_resolve")(c),t("./synchronous_inspection")(c),t("./join")(c,A,E,C,x,h),c.Promise=c,c.version="3.4.7",t("./map.js")(c,A,w,E,C,M),t("./call_get.js")(c),t("./using.js")(c,w,E,R,C,M),t("./timers.js")(c,C,M),t("./generators.js")(c,w,C,E,a,M),t("./nodeify.js")(c),t("./promisify.js")(c,C),t("./props.js")(c,A,E,w),t("./race.js")(c,C,E,w),t("./reduce.js")(c,A,w,E,C,M),t("./settle.js")(c,A,M),t("./some.js")(c,A,w),t("./filter.js")(c,C),t("./each.js")(c,C),t("./any.js")(c),m.toFastProperties(c),m.toFastProperties(c.prototype),f({a:1}),f({b:2}),f({c:3}),f(1),f(function(){}),f(void 0),f(!1),f(new c(C)),M.setBounds(_.firstLineError,m.lastLineError),c}}).call(this,t("_process"))},{"./any.js":48,"./async":49,"./bind":50,"./call_get.js":51,"./cancel":52,"./catch_filter":53,"./context":54,"./debuggability":55,"./direct_resolve":56,"./each.js":57,"./errors":58,"./es5":59,"./filter.js":60,"./finally":61,"./generators.js":62,"./join":63,"./map.js":64,"./method":65,"./nodeback":66,"./nodeify.js":67,"./promise_array":69,"./promisify.js":70,"./props.js":71,"./race.js":73,"./reduce.js":74,"./settle.js":76,"./some.js":77,"./synchronous_inspection":78,"./thenables":79,"./timers.js":80,"./using.js":81,"./util":82,_process:101}],69:[function(t,i,r){i.exports=function(s,a,o,c,d){function u(p){switch(p){case-2:return[];case-3:return{}}}function f(p){var v=this._promise=new s(a);p instanceof s&&v._propagateFrom(p,3),v._setOnCancel(this),this._values=p,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var h=t("./util");return h.isArray,h.inherits(f,d),f.prototype.length=function(){return this._length},f.prototype.promise=function(){return this._promise},f.prototype._init=function p(v,w){var b=o(this._values,this._promise);if(b instanceof s){b=b._target();var m=b._bitField;if(this._values=b,(50397184&m)===0)return this._promise._setAsyncGuaranteed(),b._then(p,this._reject,void 0,this,w);if(!(33554432&m))return 16777216&m?this._reject(b._reason()):this._cancel();b=b._value()}if(b=h.asArray(b),b===null){var y=c("expecting an array or an iterable object but got "+h.classString(b)).reason();return void this._promise._rejectCallback(y,!1)}return b.length===0?void(w===-5?this._resolveEmptyArray():this._resolve(u(w))):void this._iterate(b)},f.prototype._iterate=function(p){var v=this.getActualLength(p.length);this._length=v,this._values=this.shouldCopyValues()?new Array(v):this._values;for(var w=this._promise,b=!1,m=null,y=0;v>y;++y){var _=o(p[y],w);_ instanceof s?(_=_._target(),m=_._bitField):m=null,b?m!==null&&_.suppressUnhandledRejections():m!==null?50397184&m?b=33554432&m?this._promiseFulfilled(_._value(),y):16777216&m?this._promiseRejected(_._reason(),y):this._promiseCancelled(y):(_._proxy(this,y),this._values[y]=_):b=this._promiseFulfilled(_,y)}b||w._setAsyncGuaranteed()},f.prototype._isResolved=function(){return this._values===null},f.prototype._resolve=function(p){this._values=null,this._promise._fulfill(p)},f.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},f.prototype._reject=function(p){this._values=null,this._promise._rejectCallback(p,!1)},f.prototype._promiseFulfilled=function(p,v){this._values[v]=p;var w=++this._totalResolved;return w>=this._length?(this._resolve(this._values),!0):!1},f.prototype._promiseCancelled=function(){return this._cancel(),!0},f.prototype._promiseRejected=function(p){return this._totalResolved++,this._reject(p),!0},f.prototype._resultCancelled=function(){if(!this._isResolved()){var p=this._values;if(this._cancel(),p instanceof s)p.cancel();else for(var v=0;v<p.length;++v)p[v]instanceof s&&p[v].cancel()}},f.prototype.shouldCopyValues=function(){return!0},f.prototype.getActualLength=function(p){return p},f}},{"./util":82}],70:[function(t,i,r){i.exports=function(s,a){function o(G){return!D.test(G)}function c(G){try{return G.__isPromisified__===!0}catch{return!1}}function d(G,B,J){var W=m.getDataPropertyOrDefault(G,B+J,C);return W?c(W):!1}function u(G,B,J){for(var W=0;W<G.length;W+=2){var L=G[W];if(J.test(L)){for(var z=L.replace(J,""),X=0;X<G.length;X+=2)if(G[X]===z)throw new k(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",B))}}}function f(G,B,J,W){for(var L=m.inheritedDataKeys(G),z=[],X=0;X<L.length;++X){var Q=L[X],V=G[Q],Z=W===E?!0:E(Q);typeof V!="function"||c(V)||d(G,Q,B)||!W(Q,V,G,Z)||z.push(Q,V)}return u(z,B,J),z}function h(G,B,J,W,L,z){function X(){var Z=B;B===b&&(Z=this);var _e=new s(a);_e._captureStackTrace();var le=typeof V=="string"&&this!==Q?this[V]:G,ce=y(_e,z);try{le.apply(Z,_(arguments,ce))}catch(Fe){_e._rejectCallback(x(Fe),!0,!0)}return _e._isFateSealed()||_e._setAsyncGuaranteed(),_e}var Q=function(){return this}(),V=G;return typeof V=="string"&&(G=W),m.notEnumerableProp(X,"__isPromisified__",!0),X}function p(G,B,J,W,L){for(var z=new RegExp(A(B)+"$"),X=f(G,B,z,J),Q=0,V=X.length;V>Q;Q+=2){var Z=X[Q],_e=X[Q+1],le=Z+B;if(W===q)G[le]=q(Z,b,Z,_e,B,L);else{var ce=W(_e,function(){return q(Z,b,Z,_e,B,L)});m.notEnumerableProp(ce,"__isPromisified__",!0),G[le]=ce}}return m.toFastProperties(G),G}function v(G,B,J){return q(G,B,void 0,G,null,J)}var w,b={},m=t("./util"),y=t("./nodeback"),_=m.withAppended,x=m.maybeWrapAsError,N=m.canEvaluate,k=t("./errors").TypeError,T="Async",C={__isPromisified__:!0},P=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],D=new RegExp("^(?:"+P.join("|")+")$"),E=function(G){return m.isIdentifier(G)&&G.charAt(0)!=="_"&&G!=="constructor"},A=function(G){return G.replace(/([$])/,"\\$")},I=function(G){for(var B=[G],J=Math.max(0,G-1-3),W=G-1;W>=J;--W)B.push(W);for(var W=G+1;3>=W;++W)B.push(W);return B},R=function(G){return m.filledRange(G,"_arg","")},M=function(G){return m.filledRange(Math.max(G,3),"_arg","")},Y=function(G){return typeof G.length=="number"?Math.max(Math.min(G.length,1024),0):0};w=function(G,B,J,W,L,z){function X(Fe){var Ae,Re=R(Fe).join(", "),Ve=Fe>0?", ":"";return Ae=_e?`ret = callback.call(this, {{args}}, nodeback); break;
`:B===void 0?`ret = callback({{args}}, nodeback); break;
`:`ret = callback.call(receiver, {{args}}, nodeback); break;
`,Ae.replace("{{args}}",Re).replace(", ",Ve)}function Q(){for(var Fe="",Ae=0;Ae<Z.length;++Ae)Fe+="case "+Z[Ae]+":"+X(Z[Ae]);return Fe+=`                                                             
        default:                                                             
            var args = new Array(len + 1);                                   
            var i = 0;                                                       
            for (var i = 0; i < len; ++i) {                                  
               args[i] = arguments[i];                                       
            }                                                                
            args[i] = nodeback;                                              
            [CodeForCall]                                                    
            break;                                                           
        `.replace("[CodeForCall]",_e?`ret = callback.apply(this, args);
`:`ret = callback.apply(receiver, args);
`)}var V=Math.max(0,Y(W)-1),Z=I(V),_e=typeof G=="string"||B===b,le=typeof G=="string"?"this != null ? this['"+G+"'] : fn":"fn",ce=`'use strict';                                                
        var ret = function (Parameters) {                                    
            'use strict';                                                    
            var len = arguments.length;                                      
            var promise = new Promise(INTERNAL);                             
            promise._captureStackTrace();                                    
            var nodeback = nodebackForPromise(promise, `+z+`);   
            var ret;                                                         
            var callback = tryCatch([GetFunctionCode]);                      
            switch(len) {                                                    
                [CodeForSwitchCase]                                          
            }                                                                
            if (ret === errorObj) {                                          
                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);
            }                                                                
            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     
            return promise;                                                  
        };                                                                   
        notEnumerableProp(ret, '__isPromisified__', true);                   
        return ret;                                                          
    `.replace("[CodeForSwitchCase]",Q()).replace("[GetFunctionCode]",le);return ce=ce.replace("Parameters",M(V)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",ce)(s,W,B,_,x,y,m.tryCatch,m.errorObj,m.notEnumerableProp,a)};var q=N?w:h;s.promisify=function(G,B){if(typeof G!="function")throw new k("expecting a function but got "+m.classString(G));if(c(G))return G;B=Object(B);var J=B.context===void 0?b:B.context,W=!!B.multiArgs,L=v(G,J,W);return m.copyDescriptors(G,L,o),L},s.promisifyAll=function(G,B){if(typeof G!="function"&&typeof G!="object")throw new k(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);B=Object(B);var J=!!B.multiArgs,W=B.suffix;typeof W!="string"&&(W=T);var L=B.filter;typeof L!="function"&&(L=E);var z=B.promisifier;if(typeof z!="function"&&(z=q),!m.isIdentifier(W))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var X=m.inheritedDataKeys(G),Q=0;Q<X.length;++Q){var V=G[X[Q]];X[Q]!=="constructor"&&m.isClass(V)&&(p(V.prototype,W,L,z,J),p(V,W,L,z,J))}return p(G,W,L,z,J)}}},{"./errors":58,"./nodeback":66,"./util":82}],71:[function(t,i,r){i.exports=function(s,a,o,c){function d(m){var y,_=!1;if(f!==void 0&&m instanceof f)y=w(m),_=!0;else{var x=v.keys(m),N=x.length;y=new Array(2*N);for(var k=0;N>k;++k){var T=x[k];y[k]=m[T],y[k+N]=T}}this.constructor$(y),this._isMap=_,this._init$(void 0,-3)}function u(m){var y,_=o(m);return p(_)?(y=_ instanceof s?_._then(s.props,void 0,void 0,void 0,void 0):new d(_).promise(),_ instanceof s&&y._propagateFrom(_,2),y):c(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`)}var f,h=t("./util"),p=h.isObject,v=t("./es5");typeof Map=="function"&&(f=Map);var w=function(){function m(x,N){this[y]=x,this[y+_]=N,y++}var y=0,_=0;return function(x){_=x.size,y=0;var N=new Array(2*x.size);return x.forEach(m,N),N}}(),b=function(m){for(var y=new f,_=m.length/2|0,x=0;_>x;++x){var N=m[_+x],k=m[x];y.set(N,k)}return y};h.inherits(d,a),d.prototype._init=function(){},d.prototype._promiseFulfilled=function(m,y){this._values[y]=m;var _=++this._totalResolved;if(_>=this._length){var x;if(this._isMap)x=b(this._values);else{x={};for(var N=this.length(),k=0,T=this.length();T>k;++k)x[this._values[k+N]]=this._values[k]}return this._resolve(x),!0}return!1},d.prototype.shouldCopyValues=function(){return!1},d.prototype.getActualLength=function(m){return m>>1},s.prototype.props=function(){return u(this)},s.props=function(m){return u(m)}}},{"./es5":59,"./util":82}],72:[function(t,i,r){function s(o,c,d,u,f){for(var h=0;f>h;++h)d[h+u]=o[h+c],o[h+c]=void 0}function a(o){this._capacity=o,this._length=0,this._front=0}a.prototype._willBeOverCapacity=function(o){return this._capacity<o},a.prototype._pushOne=function(o){var c=this.length();this._checkCapacity(c+1);var d=this._front+c&this._capacity-1;this[d]=o,this._length=c+1},a.prototype.push=function(o,c,d){var u=this.length()+3;if(this._willBeOverCapacity(u))return this._pushOne(o),this._pushOne(c),void this._pushOne(d);var f=this._front+u-3;this._checkCapacity(u);var h=this._capacity-1;this[f+0&h]=o,this[f+1&h]=c,this[f+2&h]=d,this._length=u},a.prototype.shift=function(){var o=this._front,c=this[o];return this[o]=void 0,this._front=o+1&this._capacity-1,this._length--,c},a.prototype.length=function(){return this._length},a.prototype._checkCapacity=function(o){this._capacity<o&&this._resizeTo(this._capacity<<1)},a.prototype._resizeTo=function(o){var c=this._capacity;this._capacity=o;var d=this._front,u=this._length,f=d+u&c-1;s(this,0,this,c,f)},i.exports=a},{}],73:[function(t,i,r){i.exports=function(s,a,o,c){function d(h,p){var v=o(h);if(v instanceof s)return f(v);if(h=u.asArray(h),h===null)return c("expecting an array or an iterable object but got "+u.classString(h));var w=new s(a);p!==void 0&&w._propagateFrom(p,3);for(var b=w._fulfill,m=w._reject,y=0,_=h.length;_>y;++y){var x=h[y];(x!==void 0||y in h)&&s.cast(x)._then(b,m,void 0,w,null)}return w}var u=t("./util"),f=function(h){return h.then(function(p){return d(p,h)})};s.race=function(h){return d(h,void 0)},s.prototype.race=function(){return d(this,void 0)}}},{"./util":82}],74:[function(t,i,r){i.exports=function(s,a,o,c,d,u){function f(_,x,N,k){this.constructor$(_);var T=b();this._fn=T===null?x:m.domainBind(T,x),N!==void 0&&(N=s.resolve(N),N._attachCancellationCallback(this)),this._initialValue=N,this._currentCancellable=null,k===d?this._eachValues=Array(this._length):k===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function h(_,x){this.isFulfilled()?x._resolve(_):x._reject(_)}function p(_,x,N,k){if(typeof x!="function")return o("expecting a function but got "+m.classString(x));var T=new f(_,x,N,k);return T.promise()}function v(_){this.accum=_,this.array._gotAccum(_);var x=c(this.value,this.array._promise);return x instanceof s?(this.array._currentCancellable=x,x._then(w,void 0,void 0,this,void 0)):w.call(this,x)}function w(_){var x=this.array,N=x._promise,k=y(x._fn);N._pushContext();var T;T=x._eachValues!==void 0?k.call(N._boundValue(),_,this.index,this.length):k.call(N._boundValue(),this.accum,_,this.index,this.length),T instanceof s&&(x._currentCancellable=T);var C=N._popContext();return u.checkForgottenReturns(T,C,x._eachValues!==void 0?"Promise.each":"Promise.reduce",N),T}var b=s._getDomain,m=t("./util"),y=m.tryCatch;m.inherits(f,a),f.prototype._gotAccum=function(_){this._eachValues!==void 0&&this._eachValues!==null&&_!==d&&this._eachValues.push(_)},f.prototype._eachComplete=function(_){return this._eachValues!==null&&this._eachValues.push(_),this._eachValues},f.prototype._init=function(){},f.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},f.prototype.shouldCopyValues=function(){return!1},f.prototype._resolve=function(_){this._promise._resolveCallback(_),this._values=null},f.prototype._resultCancelled=function(_){return _===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof s&&this._currentCancellable.cancel(),this._initialValue instanceof s&&this._initialValue.cancel()))},f.prototype._iterate=function(_){this._values=_;var x,N,k=_.length;if(this._initialValue!==void 0?(x=this._initialValue,N=0):(x=s.resolve(_[0]),N=1),this._currentCancellable=x,!x.isRejected())for(;k>N;++N){var T={accum:null,value:_[N],index:N,length:k,array:this};x=x._then(v,void 0,void 0,T,void 0)}this._eachValues!==void 0&&(x=x._then(this._eachComplete,void 0,void 0,this,void 0)),x._then(h,h,void 0,x,this)},s.prototype.reduce=function(_,x){return p(this,_,x,null)},s.reduce=function(_,x,N,k){return p(_,x,N,k)}}},{"./util":82}],75:[function(t,i,r){(function(s,a){var o,c=t("./util"),d=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},u=c.getNativePromise();if(c.isNode&&typeof MutationObserver>"u"){var f=a.setImmediate,h=s.nextTick;o=c.isRecentNode?function(v){f.call(a,v)}:function(v){h.call(s,v)}}else if(typeof u=="function"&&typeof u.resolve=="function"){var p=u.resolve();o=function(v){p.then(v)}}else o=typeof MutationObserver>"u"||typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova)?typeof setImmediate<"u"?function(v){setImmediate(v)}:typeof setTimeout<"u"?function(v){setTimeout(v,0)}:d:function(){var v=document.createElement("div"),w={attributes:!0},b=!1,m=document.createElement("div"),y=new MutationObserver(function(){v.classList.toggle("foo"),b=!1});y.observe(m,w);var _=function(){b||(b=!0,m.classList.toggle("foo"))};return function(x){var N=new MutationObserver(function(){N.disconnect(),x()});N.observe(v,w),_()}}();i.exports=o}).call(this,t("_process"),typeof nr<"u"?nr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./util":82,_process:101}],76:[function(t,i,r){i.exports=function(s,a,o){function c(f){this.constructor$(f)}var d=s.PromiseInspection,u=t("./util");u.inherits(c,a),c.prototype._promiseResolved=function(f,h){this._values[f]=h;var p=++this._totalResolved;return p>=this._length?(this._resolve(this._values),!0):!1},c.prototype._promiseFulfilled=function(f,h){var p=new d;return p._bitField=33554432,p._settledValueField=f,this._promiseResolved(h,p)},c.prototype._promiseRejected=function(f,h){var p=new d;return p._bitField=16777216,p._settledValueField=f,this._promiseResolved(h,p)},s.settle=function(f){return o.deprecated(".settle()",".reflect()"),new c(f).promise()},s.prototype.settle=function(){return s.settle(this)}}},{"./util":82}],77:[function(t,i,r){i.exports=function(s,a,o){function c(w){this.constructor$(w),this._howMany=0,this._unwrap=!1,this._initialized=!1}function d(w,b){if((0|b)!==b||0>b)return o(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var m=new c(w),y=m.promise();return m.setHowMany(b),m.init(),y}var u=t("./util"),f=t("./errors").RangeError,h=t("./errors").AggregateError,p=u.isArray,v={};u.inherits(c,a),c.prototype._init=function(){if(this._initialized){if(this._howMany===0)return void this._resolve([]);this._init$(void 0,-5);var w=p(this._values);!this._isResolved()&&w&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},c.prototype.init=function(){this._initialized=!0,this._init()},c.prototype.setUnwrap=function(){this._unwrap=!0},c.prototype.howMany=function(){return this._howMany},c.prototype.setHowMany=function(w){this._howMany=w},c.prototype._promiseFulfilled=function(w){return this._addFulfilled(w),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},c.prototype._promiseRejected=function(w){return this._addRejected(w),this._checkOutcome()},c.prototype._promiseCancelled=function(){return this._values instanceof s||this._values==null?this._cancel():(this._addRejected(v),this._checkOutcome())},c.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var w=new h,b=this.length();b<this._values.length;++b)this._values[b]!==v&&w.push(this._values[b]);return w.length>0?this._reject(w):this._cancel(),!0}return!1},c.prototype._fulfilled=function(){return this._totalResolved},c.prototype._rejected=function(){return this._values.length-this.length()},c.prototype._addRejected=function(w){this._values.push(w)},c.prototype._addFulfilled=function(w){this._values[this._totalResolved++]=w},c.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},c.prototype._getRangeError=function(w){var b="Input array must contain at least "+this._howMany+" items but contains only "+w+" items";return new f(b)},c.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},s.some=function(w,b){return d(w,b)},s.prototype.some=function(w){return d(this,w)},s._SomePromiseArray=c}},{"./errors":58,"./util":82}],78:[function(t,i,r){i.exports=function(s){function a(p){p!==void 0?(p=p._target(),this._bitField=p._bitField,this._settledValueField=p._isFateSealed()?p._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}a.prototype._settledValue=function(){return this._settledValueField};var o=a.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},c=a.prototype.error=a.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},d=a.prototype.isFulfilled=function(){return(33554432&this._bitField)!==0},u=a.prototype.isRejected=function(){return(16777216&this._bitField)!==0},f=a.prototype.isPending=function(){return(50397184&this._bitField)===0},h=a.prototype.isResolved=function(){return(50331648&this._bitField)!==0};a.prototype.isCancelled=function(){return(8454144&this._bitField)!==0},s.prototype.__isCancelled=function(){return(65536&this._bitField)===65536},s.prototype._isCancelled=function(){return this._target().__isCancelled()},s.prototype.isCancelled=function(){return(8454144&this._target()._bitField)!==0},s.prototype.isPending=function(){return f.call(this._target())},s.prototype.isRejected=function(){return u.call(this._target())},s.prototype.isFulfilled=function(){return d.call(this._target())},s.prototype.isResolved=function(){return h.call(this._target())},s.prototype.value=function(){return o.call(this._target())},s.prototype.reason=function(){var p=this._target();return p._unsetRejectionIsUnhandled(),c.call(p)},s.prototype._value=function(){return this._settledValue()},s.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},s.PromiseInspection=a}},{}],79:[function(t,i,r){i.exports=function(s,a){function o(b,m){if(v(b)){if(b instanceof s)return b;var y=d(b);if(y===p){m&&m._pushContext();var _=s.reject(y.e);return m&&m._popContext(),_}if(typeof y=="function"){if(u(b)){var _=new s(a);return b._then(_._fulfill,_._reject,void 0,_,null),_}return f(b,y,m)}}return b}function c(b){return b.then}function d(b){try{return c(b)}catch(m){return p.e=m,p}}function u(b){try{return w.call(b,"_promise0")}catch{return!1}}function f(b,m,y){function _(P){N&&(N._resolveCallback(P),N=null)}function x(P){N&&(N._rejectCallback(P,T,!0),N=null)}var N=new s(a),k=N;y&&y._pushContext(),N._captureStackTrace(),y&&y._popContext();var T=!0,C=h.tryCatch(m).call(b,_,x);return T=!1,N&&C===p&&(N._rejectCallback(C.e,!0,!0),N=null),k}var h=t("./util"),p=h.errorObj,v=h.isObject,w={}.hasOwnProperty;return o}},{"./util":82}],80:[function(t,i,r){i.exports=function(s,a,o){function c(b){this.handle=b}function d(b){return clearTimeout(this.handle),b}function u(b){throw clearTimeout(this.handle),b}var f=t("./util"),h=s.TimeoutError;c.prototype._resultCancelled=function(){clearTimeout(this.handle)};var p=function(b){return v(+this).thenReturn(b)},v=s.delay=function(b,m){var y,_;return m!==void 0?(y=s.resolve(m)._then(p,null,null,b,void 0),o.cancellation()&&m instanceof s&&y._setOnCancel(m)):(y=new s(a),_=setTimeout(function(){y._fulfill()},+b),o.cancellation()&&y._setOnCancel(new c(_)),y._captureStackTrace()),y._setAsyncGuaranteed(),y};s.prototype.delay=function(b){return v(b,this)};var w=function(b,m,y){var _;_=typeof m!="string"?m instanceof Error?m:new h("operation timed out"):new h(m),f.markAsOriginatingFromRejection(_),b._attachExtraTrace(_),b._reject(_),y!=null&&y.cancel()};s.prototype.timeout=function(b,m){b=+b;var y,_,x=new c(setTimeout(function(){y.isPending()&&w(y,m,_)},b));return o.cancellation()?(_=this.then(),y=_._then(d,u,void 0,x,void 0),y._setOnCancel(x)):y=this._then(d,u,void 0,x,void 0),y}}},{"./util":82}],81:[function(t,i,r){i.exports=function(s,a,o,c,d,u){function f(C){setTimeout(function(){throw C},0)}function h(C){var P=o(C);return P!==C&&typeof C._isDisposable=="function"&&typeof C._getDisposer=="function"&&C._isDisposable()&&P._setDisposable(C._getDisposer()),P}function p(C,P){function D(){if(E>=A)return I._fulfill();var R=h(C[E++]);if(R instanceof s&&R._isDisposable()){try{R=o(R._getDisposer().tryDispose(P),C.promise)}catch(M){return f(M)}if(R instanceof s)return R._then(D,f,null,null,null)}D()}var E=0,A=C.length,I=new s(d);return D(),I}function v(C,P,D){this._data=C,this._promise=P,this._context=D}function w(C,P,D){this.constructor$(C,P,D)}function b(C){return v.isDisposer(C)?(this.resources[this.index]._setDisposable(C),C.promise()):C}function m(C){this.length=C,this.promise=null,this[C-1]=null}var y=t("./util"),_=t("./errors").TypeError,x=t("./util").inherits,N=y.errorObj,k=y.tryCatch,T={};v.prototype.data=function(){return this._data},v.prototype.promise=function(){return this._promise},v.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():T},v.prototype.tryDispose=function(C){var P=this.resource(),D=this._context;D!==void 0&&D._pushContext();var E=P!==T?this.doDispose(P,C):null;return D!==void 0&&D._popContext(),this._promise._unsetDisposable(),this._data=null,E},v.isDisposer=function(C){return C!=null&&typeof C.resource=="function"&&typeof C.tryDispose=="function"},x(w,v),w.prototype.doDispose=function(C,P){var D=this.data();return D.call(C,C,P)},m.prototype._resultCancelled=function(){for(var C=this.length,P=0;C>P;++P){var D=this[P];D instanceof s&&D.cancel()}},s.using=function(){var C=arguments.length;if(2>C)return a("you must pass at least 2 arguments to Promise.using");var P=arguments[C-1];if(typeof P!="function")return a("expecting a function but got "+y.classString(P));var D,E=!0;C===2&&Array.isArray(arguments[0])?(D=arguments[0],C=D.length,E=!1):(D=arguments,C--);for(var A=new m(C),I=0;C>I;++I){var R=D[I];if(v.isDisposer(R)){var M=R;R=R.promise(),R._setDisposable(M)}else{var Y=o(R);Y instanceof s&&(R=Y._then(b,null,null,{resources:A,index:I},void 0))}A[I]=R}for(var q=new Array(A.length),I=0;I<q.length;++I)q[I]=s.resolve(A[I]).reflect();var G=s.all(q).then(function(J){for(var W=0;W<J.length;++W){var L=J[W];if(L.isRejected())return N.e=L.error(),N;if(!L.isFulfilled())return void G.cancel();J[W]=L.value()}B._pushContext(),P=k(P);var z=E?P.apply(void 0,J):P(J),X=B._popContext();return u.checkForgottenReturns(z,X,"Promise.using",B),z}),B=G.lastly(function(){var J=new s.PromiseInspection(G);return p(A,J)});return A.promise=B,B._setOnCancel(A),B},s.prototype._setDisposable=function(C){this._bitField=131072|this._bitField,this._disposer=C},s.prototype._isDisposable=function(){return(131072&this._bitField)>0},s.prototype._getDisposer=function(){return this._disposer},s.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},s.prototype.disposer=function(C){if(typeof C=="function")return new w(C,this,c());throw new _}}},{"./errors":58,"./util":82}],82:[function(t,i,r){(function(s,a){function o(){try{var le=q;return q=null,le.apply(this,arguments)}catch(ce){return Y.e=ce,Y}}function c(le){return q=le,o}function d(le){return le==null||le===!0||le===!1||typeof le=="string"||typeof le=="number"}function u(le){return typeof le=="function"||typeof le=="object"&&le!==null}function f(le){return d(le)?new Error(x(le)):le}function h(le,ce){var Fe,Ae=le.length,Re=new Array(Ae+1);for(Fe=0;Ae>Fe;++Fe)Re[Fe]=le[Fe];return Re[Fe]=ce,Re}function p(le,ce,Fe){if(!R.isES5)return{}.hasOwnProperty.call(le,ce)?le[ce]:void 0;var Ae=Object.getOwnPropertyDescriptor(le,ce);return Ae!=null?Ae.get==null&&Ae.set==null?Ae.value:Fe:void 0}function v(le,ce,Fe){if(d(le))return le;var Ae={value:Fe,configurable:!0,enumerable:!1,writable:!0};return R.defineProperty(le,ce,Ae),le}function w(le){throw le}function b(le){try{if(typeof le=="function"){var ce=R.names(le.prototype),Fe=R.isES5&&ce.length>1,Ae=ce.length>0&&!(ce.length===1&&ce[0]==="constructor"),Re=W.test(le+"")&&R.names(le).length>0;if(Fe||Ae||Re)return!0}return!1}catch{return!1}}function m(le){return le}function y(le){return L.test(le)}function _(le,ce,Fe){for(var Ae=new Array(le),Re=0;le>Re;++Re)Ae[Re]=ce+Re+Fe;return Ae}function x(le){try{return le+""}catch{return"[no string representation]"}}function N(le){return le!==null&&typeof le=="object"&&typeof le.message=="string"&&typeof le.name=="string"}function k(le){try{v(le,"isOperational",!0)}catch{}}function T(le){return le==null?!1:le instanceof Error.__BluebirdErrorTypes__.OperationalError||le.isOperational===!0}function C(le){return N(le)&&R.propertyIsWritable(le,"stack")}function P(le){return{}.toString.call(le)}function D(le,ce,Fe){for(var Ae=R.names(le),Re=0;Re<Ae.length;++Re){var Ve=Ae[Re];if(Fe(Ve))try{R.defineProperty(ce,Ve,R.getDescriptor(le,Ve))}catch{}}}function E(le){return Z?s.env[le]:void 0}function A(){if(typeof Promise=="function")try{var le=new Promise(function(){});if({}.toString.call(le)==="[object Promise]")return Promise}catch{}}function I(le,ce){return le.bind(ce)}var R=t("./es5"),M=typeof navigator>"u",Y={e:{}},q,G=typeof self<"u"?self:typeof window<"u"?window:typeof a<"u"?a:this!==void 0?this:null,B=function(le,ce){function Fe(){this.constructor=le,this.constructor$=ce;for(var Re in ce.prototype)Ae.call(ce.prototype,Re)&&Re.charAt(Re.length-1)!=="$"&&(this[Re+"$"]=ce.prototype[Re])}var Ae={}.hasOwnProperty;return Fe.prototype=ce.prototype,le.prototype=new Fe,le.prototype},J=function(){var le=[Array.prototype,Object.prototype,Function.prototype],ce=function(Re){for(var Ve=0;Ve<le.length;++Ve)if(le[Ve]===Re)return!0;return!1};if(R.isES5){var Fe=Object.getOwnPropertyNames;return function(Re){for(var Ve=[],fe=Object.create(null);Re!=null&&!ce(Re);){var Je;try{Je=Fe(Re)}catch{return Ve}for(var je=0;je<Je.length;++je){var Ce=Je[je];if(!fe[Ce]){fe[Ce]=!0;var $=Object.getOwnPropertyDescriptor(Re,Ce);$!=null&&$.get==null&&$.set==null&&Ve.push(Ce)}}Re=R.getPrototypeOf(Re)}return Ve}}var Ae={}.hasOwnProperty;return function(Re){if(ce(Re))return[];var Ve=[];e:for(var fe in Re)if(Ae.call(Re,fe))Ve.push(fe);else{for(var Je=0;Je<le.length;++Je)if(Ae.call(le[Je],fe))continue e;Ve.push(fe)}return Ve}}(),W=/this\s*\.\s*\S+\s*=/,L=/^[a-z$_][a-z$_0-9]*$/i,z=function(){return"stack"in new Error?function(le){return C(le)?le:new Error(x(le))}:function(le){if(C(le))return le;try{throw new Error(x(le))}catch(ce){return ce}}}(),X=function(le){return R.isArray(le)?le:null};if(typeof Symbol<"u"&&Symbol.iterator){var Q=typeof Array.from=="function"?function(le){return Array.from(le)}:function(le){for(var ce,Fe=[],Ae=le[Symbol.iterator]();!(ce=Ae.next()).done;)Fe.push(ce.value);return Fe};X=function(le){return R.isArray(le)?le:le!=null&&typeof le[Symbol.iterator]=="function"?Q(le):null}}var V=typeof s<"u"&&P(s).toLowerCase()==="[object process]",Z=typeof s<"u"&&typeof s.env<"u",_e={isClass:b,isIdentifier:y,inheritedDataKeys:J,getDataPropertyOrDefault:p,thrower:w,isArray:R.isArray,asArray:X,notEnumerableProp:v,isPrimitive:d,isObject:u,isError:N,canEvaluate:M,errorObj:Y,tryCatch:c,inherits:B,withAppended:h,maybeWrapAsError:f,toFastProperties:m,filledRange:_,toString:x,canAttachTrace:C,ensureErrorObject:z,originatesFromRejection:T,markAsOriginatingFromRejection:k,classString:P,copyDescriptors:D,hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode:V,hasEnvVariables:Z,env:E,global:G,getNativePromise:A,domainBind:I};_e.isRecentNode=_e.isNode&&function(){var le=s.versions.node.split(".").map(Number);return le[0]===0&&le[1]>10||le[0]>0}(),_e.isNode&&_e.toFastProperties(s);try{throw new Error}catch(le){_e.lastLineError=le}i.exports=_e}).call(this,t("_process"),typeof nr<"u"?nr:typeof self<"u"?self:typeof window<"u"?window:{})},{"./es5":59,_process:101}],83:[function(t,i,r){(function(s){function a(){try{var U=new Uint8Array(1);return U.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},U.foo()===42&&typeof U.subarray=="function"&&U.subarray(1,1).byteLength===0}catch{return!1}}function o(){return d.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c(U,H){if(o()<H)throw new RangeError("Invalid typed array length");return d.TYPED_ARRAY_SUPPORT?(U=new Uint8Array(H),U.__proto__=d.prototype):(U===null&&(U=new d(H)),U.length=H),U}function d(U,H,te){if(!(d.TYPED_ARRAY_SUPPORT||this instanceof d))return new d(U,H,te);if(typeof U=="number"){if(typeof H=="string")throw new Error("If encoding is specified then the first argument must be a string");return p(this,U)}return u(this,U,H,te)}function u(U,H,te,he){if(typeof H=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&H instanceof ArrayBuffer?b(U,H,te,he):typeof H=="string"?v(U,H,te):m(U,H)}function f(U){if(typeof U!="number")throw new TypeError('"size" argument must be a number');if(0>U)throw new RangeError('"size" argument must not be negative')}function h(U,H,te,he){return f(H),0>=H?c(U,H):te!==void 0?typeof he=="string"?c(U,H).fill(te,he):c(U,H).fill(te):c(U,H)}function p(U,H){if(f(H),U=c(U,0>H?0:0|y(H)),!d.TYPED_ARRAY_SUPPORT)for(var te=0;H>te;++te)U[te]=0;return U}function v(U,H,te){if((typeof te!="string"||te==="")&&(te="utf8"),!d.isEncoding(te))throw new TypeError('"encoding" must be a valid string encoding');var he=0|x(H,te);U=c(U,he);var ve=U.write(H,te);return ve!==he&&(U=U.slice(0,ve)),U}function w(U,H){var te=H.length<0?0:0|y(H.length);U=c(U,te);for(var he=0;te>he;he+=1)U[he]=255&H[he];return U}function b(U,H,te,he){if(H.byteLength,0>te||H.byteLength<te)throw new RangeError("'offset' is out of bounds");if(H.byteLength<te+(he||0))throw new RangeError("'length' is out of bounds");return H=te===void 0&&he===void 0?new Uint8Array(H):he===void 0?new Uint8Array(H,te):new Uint8Array(H,te,he),d.TYPED_ARRAY_SUPPORT?(U=H,U.__proto__=d.prototype):U=w(U,H),U}function m(U,H){if(d.isBuffer(H)){var te=0|y(H.length);return U=c(U,te),U.length===0||H.copy(U,0,0,te),U}if(H){if(typeof ArrayBuffer<"u"&&H.buffer instanceof ArrayBuffer||"length"in H)return typeof H.length!="number"||je(H.length)?c(U,0):w(U,H);if(H.type==="Buffer"&&ke(H.data))return w(U,H.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function y(U){if(U>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|U}function _(U){return+U!=U&&(U=0),d.alloc(+U)}function x(U,H){if(d.isBuffer(U))return U.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(U)||U instanceof ArrayBuffer))return U.byteLength;typeof U!="string"&&(U=""+U);var te=U.length;if(te===0)return 0;for(var he=!1;;)switch(H){case"ascii":case"latin1":case"binary":return te;case"utf8":case"utf-8":case void 0:return Ae(U).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*te;case"hex":return te>>>1;case"base64":return fe(U).length;default:if(he)return Ae(U).length;H=(""+H).toLowerCase(),he=!0}}function N(U,H,te){var he=!1;if((H===void 0||0>H)&&(H=0),H>this.length||((te===void 0||te>this.length)&&(te=this.length),0>=te)||(te>>>=0,H>>>=0,H>=te))return"";for(U||(U="utf8");;)switch(U){case"hex":return J(this,H,te);case"utf8":case"utf-8":return Y(this,H,te);case"ascii":return G(this,H,te);case"latin1":case"binary":return B(this,H,te);case"base64":return M(this,H,te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return W(this,H,te);default:if(he)throw new TypeError("Unknown encoding: "+U);U=(U+"").toLowerCase(),he=!0}}function k(U,H,te){var he=U[H];U[H]=U[te],U[te]=he}function T(U,H,te,he,ve){if(U.length===0)return-1;if(typeof te=="string"?(he=te,te=0):te>2147483647?te=2147483647:-2147483648>te&&(te=-2147483648),te=+te,isNaN(te)&&(te=ve?0:U.length-1),0>te&&(te=U.length+te),te>=U.length){if(ve)return-1;te=U.length-1}else if(0>te){if(!ve)return-1;te=0}if(typeof H=="string"&&(H=d.from(H,he)),d.isBuffer(H))return H.length===0?-1:C(U,H,te,he,ve);if(typeof H=="number")return H=255&H,d.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?ve?Uint8Array.prototype.indexOf.call(U,H,te):Uint8Array.prototype.lastIndexOf.call(U,H,te):C(U,[H],te,he,ve);throw new TypeError("val must be string, number or Buffer")}function C(U,H,te,he,ve){function ae(it,ft){return me===1?it[ft]:it.readUInt16BE(ft*me)}var me=1,ge=U.length,Oe=H.length;if(he!==void 0&&(he=String(he).toLowerCase(),he==="ucs2"||he==="ucs-2"||he==="utf16le"||he==="utf-16le")){if(U.length<2||H.length<2)return-1;me=2,ge/=2,Oe/=2,te/=2}var Ye;if(ve){var Ke=-1;for(Ye=te;ge>Ye;Ye++)if(ae(U,Ye)===ae(H,Ke===-1?0:Ye-Ke)){if(Ke===-1&&(Ke=Ye),Ye-Ke+1===Oe)return Ke*me}else Ke!==-1&&(Ye-=Ye-Ke),Ke=-1}else for(te+Oe>ge&&(te=ge-Oe),Ye=te;Ye>=0;Ye--){for(var mt=!0,qe=0;Oe>qe;qe++)if(ae(U,Ye+qe)!==ae(H,qe)){mt=!1;break}if(mt)return Ye}return-1}function P(U,H,te,he){te=Number(te)||0;var ve=U.length-te;he?(he=Number(he),he>ve&&(he=ve)):he=ve;var ae=H.length;if(ae%2!==0)throw new TypeError("Invalid hex string");he>ae/2&&(he=ae/2);for(var me=0;he>me;++me){var ge=parseInt(H.substr(2*me,2),16);if(isNaN(ge))return me;U[te+me]=ge}return me}function D(U,H,te,he){return Je(Ae(H,U.length-te),U,te,he)}function E(U,H,te,he){return Je(Re(H),U,te,he)}function A(U,H,te,he){return E(U,H,te,he)}function I(U,H,te,he){return Je(fe(H),U,te,he)}function R(U,H,te,he){return Je(Ve(H,U.length-te),U,te,he)}function M(U,H,te){return H===0&&te===U.length?Ce.fromByteArray(U):Ce.fromByteArray(U.slice(H,te))}function Y(U,H,te){te=Math.min(U.length,te);for(var he=[],ve=H;te>ve;){var ae=U[ve],me=null,ge=ae>239?4:ae>223?3:ae>191?2:1;if(te>=ve+ge){var Oe,Ye,Ke,mt;switch(ge){case 1:128>ae&&(me=ae);break;case 2:Oe=U[ve+1],(192&Oe)===128&&(mt=(31&ae)<<6|63&Oe,mt>127&&(me=mt));break;case 3:Oe=U[ve+1],Ye=U[ve+2],(192&Oe)===128&&(192&Ye)===128&&(mt=(15&ae)<<12|(63&Oe)<<6|63&Ye,mt>2047&&(55296>mt||mt>57343)&&(me=mt));break;case 4:Oe=U[ve+1],Ye=U[ve+2],Ke=U[ve+3],(192&Oe)===128&&(192&Ye)===128&&(192&Ke)===128&&(mt=(15&ae)<<18|(63&Oe)<<12|(63&Ye)<<6|63&Ke,mt>65535&&1114112>mt&&(me=mt))}}me===null?(me=65533,ge=1):me>65535&&(me-=65536,he.push(me>>>10&1023|55296),me=56320|1023&me),he.push(me),ve+=ge}return q(he)}function q(U){var H=U.length;if(Se>=H)return String.fromCharCode.apply(String,U);for(var te="",he=0;H>he;)te+=String.fromCharCode.apply(String,U.slice(he,he+=Se));return te}function G(U,H,te){var he="";te=Math.min(U.length,te);for(var ve=H;te>ve;++ve)he+=String.fromCharCode(127&U[ve]);return he}function B(U,H,te){var he="";te=Math.min(U.length,te);for(var ve=H;te>ve;++ve)he+=String.fromCharCode(U[ve]);return he}function J(U,H,te){var he=U.length;(!H||0>H)&&(H=0),(!te||0>te||te>he)&&(te=he);for(var ve="",ae=H;te>ae;++ae)ve+=Fe(U[ae]);return ve}function W(U,H,te){for(var he=U.slice(H,te),ve="",ae=0;ae<he.length;ae+=2)ve+=String.fromCharCode(he[ae]+256*he[ae+1]);return ve}function L(U,H,te){if(U%1!==0||0>U)throw new RangeError("offset is not uint");if(U+H>te)throw new RangeError("Trying to access beyond buffer length")}function z(U,H,te,he,ve,ae){if(!d.isBuffer(U))throw new TypeError('"buffer" argument must be a Buffer instance');if(H>ve||ae>H)throw new RangeError('"value" argument is out of bounds');if(te+he>U.length)throw new RangeError("Index out of range")}function X(U,H,te,he){0>H&&(H=65535+H+1);for(var ve=0,ae=Math.min(U.length-te,2);ae>ve;++ve)U[te+ve]=(H&255<<8*(he?ve:1-ve))>>>8*(he?ve:1-ve)}function Q(U,H,te,he){0>H&&(H=4294967295+H+1);for(var ve=0,ae=Math.min(U.length-te,4);ae>ve;++ve)U[te+ve]=H>>>8*(he?ve:3-ve)&255}function V(U,H,te,he,ve,ae){if(te+he>U.length)throw new RangeError("Index out of range");if(0>te)throw new RangeError("Index out of range")}function Z(U,H,te,he,ve){return ve||V(U,H,te,4),$.write(U,H,te,he,23,4),te+4}function _e(U,H,te,he,ve){return ve||V(U,H,te,8),$.write(U,H,te,he,52,8),te+8}function le(U){if(U=ce(U).replace(pe,""),U.length<2)return"";for(;U.length%4!==0;)U+="=";return U}function ce(U){return U.trim?U.trim():U.replace(/^\s+|\s+$/g,"")}function Fe(U){return 16>U?"0"+U.toString(16):U.toString(16)}function Ae(U,H){H=H||1/0;for(var te,he=U.length,ve=null,ae=[],me=0;he>me;++me){if(te=U.charCodeAt(me),te>55295&&57344>te){if(!ve){if(te>56319){(H-=3)>-1&&ae.push(239,191,189);continue}if(me+1===he){(H-=3)>-1&&ae.push(239,191,189);continue}ve=te;continue}if(56320>te){(H-=3)>-1&&ae.push(239,191,189),ve=te;continue}te=(ve-55296<<10|te-56320)+65536}else ve&&(H-=3)>-1&&ae.push(239,191,189);if(ve=null,128>te){if((H-=1)<0)break;ae.push(te)}else if(2048>te){if((H-=2)<0)break;ae.push(te>>6|192,63&te|128)}else if(65536>te){if((H-=3)<0)break;ae.push(te>>12|224,te>>6&63|128,63&te|128)}else{if(!(1114112>te))throw new Error("Invalid code point");if((H-=4)<0)break;ae.push(te>>18|240,te>>12&63|128,te>>6&63|128,63&te|128)}}return ae}function Re(U){for(var H=[],te=0;te<U.length;++te)H.push(255&U.charCodeAt(te));return H}function Ve(U,H){for(var te,he,ve,ae=[],me=0;me<U.length&&!((H-=2)<0);++me)te=U.charCodeAt(me),he=te>>8,ve=te%256,ae.push(ve),ae.push(he);return ae}function fe(U){return Ce.toByteArray(le(U))}function Je(U,H,te,he){for(var ve=0;he>ve&&!(ve+te>=H.length||ve>=U.length);++ve)H[ve+te]=U[ve];return ve}function je(U){return U!==U}var Ce=t("base64-js"),$=t("ieee754"),ke=t("isarray");r.Buffer=d,r.SlowBuffer=_,r.INSPECT_MAX_BYTES=50,d.TYPED_ARRAY_SUPPORT=s.TYPED_ARRAY_SUPPORT!==void 0?s.TYPED_ARRAY_SUPPORT:a(),r.kMaxLength=o(),d.poolSize=8192,d._augment=function(U){return U.__proto__=d.prototype,U},d.from=function(U,H,te){return u(null,U,H,te)},d.TYPED_ARRAY_SUPPORT&&(d.prototype.__proto__=Uint8Array.prototype,d.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&d[Symbol.species]===d&&Object.defineProperty(d,Symbol.species,{value:null,configurable:!0})),d.alloc=function(U,H,te){return h(null,U,H,te)},d.allocUnsafe=function(U){return p(null,U)},d.allocUnsafeSlow=function(U){return p(null,U)},d.isBuffer=function(U){return!(U==null||!U._isBuffer)},d.compare=function(U,H){if(!d.isBuffer(U)||!d.isBuffer(H))throw new TypeError("Arguments must be Buffers");if(U===H)return 0;for(var te=U.length,he=H.length,ve=0,ae=Math.min(te,he);ae>ve;++ve)if(U[ve]!==H[ve]){te=U[ve],he=H[ve];break}return he>te?-1:te>he?1:0},d.isEncoding=function(U){switch(String(U).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(U,H){if(!ke(U))throw new TypeError('"list" argument must be an Array of Buffers');if(U.length===0)return d.alloc(0);var te;if(H===void 0)for(H=0,te=0;te<U.length;++te)H+=U[te].length;var he=d.allocUnsafe(H),ve=0;for(te=0;te<U.length;++te){var ae=U[te];if(!d.isBuffer(ae))throw new TypeError('"list" argument must be an Array of Buffers');ae.copy(he,ve),ve+=ae.length}return he},d.byteLength=x,d.prototype._isBuffer=!0,d.prototype.swap16=function(){var U=this.length;if(U%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var H=0;U>H;H+=2)k(this,H,H+1);return this},d.prototype.swap32=function(){var U=this.length;if(U%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var H=0;U>H;H+=4)k(this,H,H+3),k(this,H+1,H+2);return this},d.prototype.swap64=function(){var U=this.length;if(U%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var H=0;U>H;H+=8)k(this,H,H+7),k(this,H+1,H+6),k(this,H+2,H+5),k(this,H+3,H+4);return this},d.prototype.toString=function(){var U=0|this.length;return U===0?"":arguments.length===0?Y(this,0,U):N.apply(this,arguments)},d.prototype.equals=function(U){if(!d.isBuffer(U))throw new TypeError("Argument must be a Buffer");return this===U?!0:d.compare(this,U)===0},d.prototype.inspect=function(){var U="",H=r.INSPECT_MAX_BYTES;return this.length>0&&(U=this.toString("hex",0,H).match(/.{2}/g).join(" "),this.length>H&&(U+=" ... ")),"<Buffer "+U+">"},d.prototype.compare=function(U,H,te,he,ve){if(!d.isBuffer(U))throw new TypeError("Argument must be a Buffer");if(H===void 0&&(H=0),te===void 0&&(te=U?U.length:0),he===void 0&&(he=0),ve===void 0&&(ve=this.length),0>H||te>U.length||0>he||ve>this.length)throw new RangeError("out of range index");if(he>=ve&&H>=te)return 0;if(he>=ve)return-1;if(H>=te)return 1;if(H>>>=0,te>>>=0,he>>>=0,ve>>>=0,this===U)return 0;for(var ae=ve-he,me=te-H,ge=Math.min(ae,me),Oe=this.slice(he,ve),Ye=U.slice(H,te),Ke=0;ge>Ke;++Ke)if(Oe[Ke]!==Ye[Ke]){ae=Oe[Ke],me=Ye[Ke];break}return me>ae?-1:ae>me?1:0},d.prototype.includes=function(U,H,te){return this.indexOf(U,H,te)!==-1},d.prototype.indexOf=function(U,H,te){return T(this,U,H,te,!0)},d.prototype.lastIndexOf=function(U,H,te){return T(this,U,H,te,!1)},d.prototype.write=function(U,H,te,he){if(H===void 0)he="utf8",te=this.length,H=0;else if(te===void 0&&typeof H=="string")he=H,te=this.length,H=0;else{if(!isFinite(H))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");H=0|H,isFinite(te)?(te=0|te,he===void 0&&(he="utf8")):(he=te,te=void 0)}var ve=this.length-H;if((te===void 0||te>ve)&&(te=ve),U.length>0&&(0>te||0>H)||H>this.length)throw new RangeError("Attempt to write outside buffer bounds");he||(he="utf8");for(var ae=!1;;)switch(he){case"hex":return P(this,U,H,te);case"utf8":case"utf-8":return D(this,U,H,te);case"ascii":return E(this,U,H,te);case"latin1":case"binary":return A(this,U,H,te);case"base64":return I(this,U,H,te);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,U,H,te);default:if(ae)throw new TypeError("Unknown encoding: "+he);he=(""+he).toLowerCase(),ae=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Se=4096;d.prototype.slice=function(U,H){var te=this.length;U=~~U,H=H===void 0?te:~~H,0>U?(U+=te,0>U&&(U=0)):U>te&&(U=te),0>H?(H+=te,0>H&&(H=0)):H>te&&(H=te),U>H&&(H=U);var he;if(d.TYPED_ARRAY_SUPPORT)he=this.subarray(U,H),he.__proto__=d.prototype;else{var ve=H-U;he=new d(ve,void 0);for(var ae=0;ve>ae;++ae)he[ae]=this[ae+U]}return he},d.prototype.readUIntLE=function(U,H,te){U=0|U,H=0|H,te||L(U,H,this.length);for(var he=this[U],ve=1,ae=0;++ae<H&&(ve*=256);)he+=this[U+ae]*ve;return he},d.prototype.readUIntBE=function(U,H,te){U=0|U,H=0|H,te||L(U,H,this.length);for(var he=this[U+--H],ve=1;H>0&&(ve*=256);)he+=this[U+--H]*ve;return he},d.prototype.readUInt8=function(U,H){return H||L(U,1,this.length),this[U]},d.prototype.readUInt16LE=function(U,H){return H||L(U,2,this.length),this[U]|this[U+1]<<8},d.prototype.readUInt16BE=function(U,H){return H||L(U,2,this.length),this[U]<<8|this[U+1]},d.prototype.readUInt32LE=function(U,H){return H||L(U,4,this.length),(this[U]|this[U+1]<<8|this[U+2]<<16)+16777216*this[U+3]},d.prototype.readUInt32BE=function(U,H){return H||L(U,4,this.length),16777216*this[U]+(this[U+1]<<16|this[U+2]<<8|this[U+3])},d.prototype.readIntLE=function(U,H,te){U=0|U,H=0|H,te||L(U,H,this.length);for(var he=this[U],ve=1,ae=0;++ae<H&&(ve*=256);)he+=this[U+ae]*ve;return ve*=128,he>=ve&&(he-=Math.pow(2,8*H)),he},d.prototype.readIntBE=function(U,H,te){U=0|U,H=0|H,te||L(U,H,this.length);for(var he=H,ve=1,ae=this[U+--he];he>0&&(ve*=256);)ae+=this[U+--he]*ve;return ve*=128,ae>=ve&&(ae-=Math.pow(2,8*H)),ae},d.prototype.readInt8=function(U,H){return H||L(U,1,this.length),128&this[U]?-1*(255-this[U]+1):this[U]},d.prototype.readInt16LE=function(U,H){H||L(U,2,this.length);var te=this[U]|this[U+1]<<8;return 32768&te?4294901760|te:te},d.prototype.readInt16BE=function(U,H){H||L(U,2,this.length);var te=this[U+1]|this[U]<<8;return 32768&te?4294901760|te:te},d.prototype.readInt32LE=function(U,H){return H||L(U,4,this.length),this[U]|this[U+1]<<8|this[U+2]<<16|this[U+3]<<24},d.prototype.readInt32BE=function(U,H){return H||L(U,4,this.length),this[U]<<24|this[U+1]<<16|this[U+2]<<8|this[U+3]},d.prototype.readFloatLE=function(U,H){return H||L(U,4,this.length),$.read(this,U,!0,23,4)},d.prototype.readFloatBE=function(U,H){return H||L(U,4,this.length),$.read(this,U,!1,23,4)},d.prototype.readDoubleLE=function(U,H){return H||L(U,8,this.length),$.read(this,U,!0,52,8)},d.prototype.readDoubleBE=function(U,H){return H||L(U,8,this.length),$.read(this,U,!1,52,8)},d.prototype.writeUIntLE=function(U,H,te,he){if(U=+U,H=0|H,te=0|te,!he){var ve=Math.pow(2,8*te)-1;z(this,U,H,te,ve,0)}var ae=1,me=0;for(this[H]=255&U;++me<te&&(ae*=256);)this[H+me]=U/ae&255;return H+te},d.prototype.writeUIntBE=function(U,H,te,he){if(U=+U,H=0|H,te=0|te,!he){var ve=Math.pow(2,8*te)-1;z(this,U,H,te,ve,0)}var ae=te-1,me=1;for(this[H+ae]=255&U;--ae>=0&&(me*=256);)this[H+ae]=U/me&255;return H+te},d.prototype.writeUInt8=function(U,H,te){return U=+U,H=0|H,te||z(this,U,H,1,255,0),d.TYPED_ARRAY_SUPPORT||(U=Math.floor(U)),this[H]=255&U,H+1},d.prototype.writeUInt16LE=function(U,H,te){return U=+U,H=0|H,te||z(this,U,H,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[H]=255&U,this[H+1]=U>>>8):X(this,U,H,!0),H+2},d.prototype.writeUInt16BE=function(U,H,te){return U=+U,H=0|H,te||z(this,U,H,2,65535,0),d.TYPED_ARRAY_SUPPORT?(this[H]=U>>>8,this[H+1]=255&U):X(this,U,H,!1),H+2},d.prototype.writeUInt32LE=function(U,H,te){return U=+U,H=0|H,te||z(this,U,H,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[H+3]=U>>>24,this[H+2]=U>>>16,this[H+1]=U>>>8,this[H]=255&U):Q(this,U,H,!0),H+4},d.prototype.writeUInt32BE=function(U,H,te){return U=+U,H=0|H,te||z(this,U,H,4,4294967295,0),d.TYPED_ARRAY_SUPPORT?(this[H]=U>>>24,this[H+1]=U>>>16,this[H+2]=U>>>8,this[H+3]=255&U):Q(this,U,H,!1),H+4},d.prototype.writeIntLE=function(U,H,te,he){if(U=+U,H=0|H,!he){var ve=Math.pow(2,8*te-1);z(this,U,H,te,ve-1,-ve)}var ae=0,me=1,ge=0;for(this[H]=255&U;++ae<te&&(me*=256);)0>U&&ge===0&&this[H+ae-1]!==0&&(ge=1),this[H+ae]=(U/me>>0)-ge&255;return H+te},d.prototype.writeIntBE=function(U,H,te,he){if(U=+U,H=0|H,!he){var ve=Math.pow(2,8*te-1);z(this,U,H,te,ve-1,-ve)}var ae=te-1,me=1,ge=0;for(this[H+ae]=255&U;--ae>=0&&(me*=256);)0>U&&ge===0&&this[H+ae+1]!==0&&(ge=1),this[H+ae]=(U/me>>0)-ge&255;return H+te},d.prototype.writeInt8=function(U,H,te){return U=+U,H=0|H,te||z(this,U,H,1,127,-128),d.TYPED_ARRAY_SUPPORT||(U=Math.floor(U)),0>U&&(U=255+U+1),this[H]=255&U,H+1},d.prototype.writeInt16LE=function(U,H,te){return U=+U,H=0|H,te||z(this,U,H,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[H]=255&U,this[H+1]=U>>>8):X(this,U,H,!0),H+2},d.prototype.writeInt16BE=function(U,H,te){return U=+U,H=0|H,te||z(this,U,H,2,32767,-32768),d.TYPED_ARRAY_SUPPORT?(this[H]=U>>>8,this[H+1]=255&U):X(this,U,H,!1),H+2},d.prototype.writeInt32LE=function(U,H,te){return U=+U,H=0|H,te||z(this,U,H,4,2147483647,-2147483648),d.TYPED_ARRAY_SUPPORT?(this[H]=255&U,this[H+1]=U>>>8,this[H+2]=U>>>16,this[H+3]=U>>>24):Q(this,U,H,!0),H+4},d.prototype.writeInt32BE=function(U,H,te){return U=+U,H=0|H,te||z(this,U,H,4,2147483647,-2147483648),0>U&&(U=4294967295+U+1),d.TYPED_ARRAY_SUPPORT?(this[H]=U>>>24,this[H+1]=U>>>16,this[H+2]=U>>>8,this[H+3]=255&U):Q(this,U,H,!1),H+4},d.prototype.writeFloatLE=function(U,H,te){return Z(this,U,H,!0,te)},d.prototype.writeFloatBE=function(U,H,te){return Z(this,U,H,!1,te)},d.prototype.writeDoubleLE=function(U,H,te){return _e(this,U,H,!0,te)},d.prototype.writeDoubleBE=function(U,H,te){return _e(this,U,H,!1,te)},d.prototype.copy=function(U,H,te,he){if(te||(te=0),he||he===0||(he=this.length),H>=U.length&&(H=U.length),H||(H=0),he>0&&te>he&&(he=te),he===te||U.length===0||this.length===0)return 0;if(0>H)throw new RangeError("targetStart out of bounds");if(0>te||te>=this.length)throw new RangeError("sourceStart out of bounds");if(0>he)throw new RangeError("sourceEnd out of bounds");he>this.length&&(he=this.length),U.length-H<he-te&&(he=U.length-H+te);var ve,ae=he-te;if(this===U&&H>te&&he>H)for(ve=ae-1;ve>=0;--ve)U[ve+H]=this[ve+te];else if(1e3>ae||!d.TYPED_ARRAY_SUPPORT)for(ve=0;ae>ve;++ve)U[ve+H]=this[ve+te];else Uint8Array.prototype.set.call(U,this.subarray(te,te+ae),H);return ae},d.prototype.fill=function(U,H,te,he){if(typeof U=="string"){if(typeof H=="string"?(he=H,H=0,te=this.length):typeof te=="string"&&(he=te,te=this.length),U.length===1){var ve=U.charCodeAt(0);256>ve&&(U=ve)}if(he!==void 0&&typeof he!="string")throw new TypeError("encoding must be a string");if(typeof he=="string"&&!d.isEncoding(he))throw new TypeError("Unknown encoding: "+he)}else typeof U=="number"&&(U=255&U);if(0>H||this.length<H||this.length<te)throw new RangeError("Out of range index");if(H>=te)return this;H>>>=0,te=te===void 0?this.length:te>>>0,U||(U=0);var ae;if(typeof U=="number")for(ae=H;te>ae;++ae)this[ae]=U;else{var me=d.isBuffer(U)?U:Ae(new d(U,he).toString()),ge=me.length;for(ae=0;te-H>ae;++ae)this[ae+H]=me[ae%ge]}return this};var pe=/[^+\/0-9A-Za-z-_]/g}).call(this,typeof nr<"u"?nr:typeof self<"u"?self:typeof window<"u"?window:{})},{"base64-js":47,ieee754:86,isarray:87}],84:[function(t,i,r){Object.defineProperty(r,"__esModule",{value:!0});var s=[{"Typeface name":"Symbol","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Symbol","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"33","Unicode hex":"21"},{"Typeface name":"Symbol","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"8704","Unicode hex":"2200"},{"Typeface name":"Symbol","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"35","Unicode hex":"23"},{"Typeface name":"Symbol","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"8707","Unicode hex":"2203"},{"Typeface name":"Symbol","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"37","Unicode hex":"25"},{"Typeface name":"Symbol","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"38","Unicode hex":"26"},{"Typeface name":"Symbol","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"8717","Unicode hex":"220D"},{"Typeface name":"Symbol","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"40","Unicode hex":"28"},{"Typeface name":"Symbol","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"41","Unicode hex":"29"},{"Typeface name":"Symbol","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"42","Unicode hex":"2A"},{"Typeface name":"Symbol","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"43","Unicode hex":"2B"},{"Typeface name":"Symbol","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"44","Unicode hex":"2C"},{"Typeface name":"Symbol","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"8722","Unicode hex":"2212"},{"Typeface name":"Symbol","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"46","Unicode hex":"2E"},{"Typeface name":"Symbol","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"47","Unicode hex":"2F"},{"Typeface name":"Symbol","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"48","Unicode hex":"30"},{"Typeface name":"Symbol","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"49","Unicode hex":"31"},{"Typeface name":"Symbol","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"50","Unicode hex":"32"},{"Typeface name":"Symbol","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"51","Unicode hex":"33"},{"Typeface name":"Symbol","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"52","Unicode hex":"34"},{"Typeface name":"Symbol","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"53","Unicode hex":"35"},{"Typeface name":"Symbol","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"54","Unicode hex":"36"},{"Typeface name":"Symbol","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"55","Unicode hex":"37"},{"Typeface name":"Symbol","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"56","Unicode hex":"38"},{"Typeface name":"Symbol","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"57","Unicode hex":"39"},{"Typeface name":"Symbol","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"58","Unicode hex":"3A"},{"Typeface name":"Symbol","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"59","Unicode hex":"3B"},{"Typeface name":"Symbol","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"60","Unicode hex":"3C"},{"Typeface name":"Symbol","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"61","Unicode hex":"3D"},{"Typeface name":"Symbol","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"62","Unicode hex":"3E"},{"Typeface name":"Symbol","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"63","Unicode hex":"3F"},{"Typeface name":"Symbol","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"8773","Unicode hex":"2245"},{"Typeface name":"Symbol","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"913","Unicode hex":"391"},{"Typeface name":"Symbol","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"914","Unicode hex":"392"},{"Typeface name":"Symbol","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"935","Unicode hex":"3A7"},{"Typeface name":"Symbol","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"916","Unicode hex":"394"},{"Typeface name":"Symbol","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"917","Unicode hex":"395"},{"Typeface name":"Symbol","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"934","Unicode hex":"3A6"},{"Typeface name":"Symbol","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"915","Unicode hex":"393"},{"Typeface name":"Symbol","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"919","Unicode hex":"397"},{"Typeface name":"Symbol","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"921","Unicode hex":"399"},{"Typeface name":"Symbol","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"977","Unicode hex":"3D1"},{"Typeface name":"Symbol","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"922","Unicode hex":"39A"},{"Typeface name":"Symbol","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"923","Unicode hex":"39B"},{"Typeface name":"Symbol","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"924","Unicode hex":"39C"},{"Typeface name":"Symbol","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"925","Unicode hex":"39D"},{"Typeface name":"Symbol","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"927","Unicode hex":"39F"},{"Typeface name":"Symbol","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"928","Unicode hex":"3A0"},{"Typeface name":"Symbol","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"920","Unicode hex":"398"},{"Typeface name":"Symbol","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"929","Unicode hex":"3A1"},{"Typeface name":"Symbol","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"931","Unicode hex":"3A3"},{"Typeface name":"Symbol","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"932","Unicode hex":"3A4"},{"Typeface name":"Symbol","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"933","Unicode hex":"3A5"},{"Typeface name":"Symbol","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"962","Unicode hex":"3C2"},{"Typeface name":"Symbol","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"937","Unicode hex":"3A9"},{"Typeface name":"Symbol","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"926","Unicode hex":"39E"},{"Typeface name":"Symbol","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"936","Unicode hex":"3A8"},{"Typeface name":"Symbol","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"918","Unicode hex":"396"},{"Typeface name":"Symbol","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"91","Unicode hex":"5B"},{"Typeface name":"Symbol","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"8756","Unicode hex":"2234"},{"Typeface name":"Symbol","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"93","Unicode hex":"5D"},{"Typeface name":"Symbol","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"8869","Unicode hex":"22A5"},{"Typeface name":"Symbol","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"95","Unicode hex":"5F"},{"Typeface name":"Symbol","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"8254","Unicode hex":"203E"},{"Typeface name":"Symbol","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"945","Unicode hex":"3B1"},{"Typeface name":"Symbol","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"946","Unicode hex":"3B2"},{"Typeface name":"Symbol","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"967","Unicode hex":"3C7"},{"Typeface name":"Symbol","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"948","Unicode hex":"3B4"},{"Typeface name":"Symbol","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"949","Unicode hex":"3B5"},{"Typeface name":"Symbol","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"966","Unicode hex":"3C6"},{"Typeface name":"Symbol","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"947","Unicode hex":"3B3"},{"Typeface name":"Symbol","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"951","Unicode hex":"3B7"},{"Typeface name":"Symbol","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"953","Unicode hex":"3B9"},{"Typeface name":"Symbol","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"981","Unicode hex":"3D5"},{"Typeface name":"Symbol","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"954","Unicode hex":"3BA"},{"Typeface name":"Symbol","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"955","Unicode hex":"3BB"},{"Typeface name":"Symbol","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"956","Unicode hex":"3BC"},{"Typeface name":"Symbol","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"957","Unicode hex":"3BD"},{"Typeface name":"Symbol","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"959","Unicode hex":"3BF"},{"Typeface name":"Symbol","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"960","Unicode hex":"3C0"},{"Typeface name":"Symbol","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"952","Unicode hex":"3B8"},{"Typeface name":"Symbol","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"961","Unicode hex":"3C1"},{"Typeface name":"Symbol","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"963","Unicode hex":"3C3"},{"Typeface name":"Symbol","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"964","Unicode hex":"3C4"},{"Typeface name":"Symbol","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"965","Unicode hex":"3C5"},{"Typeface name":"Symbol","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"982","Unicode hex":"3D6"},{"Typeface name":"Symbol","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"969","Unicode hex":"3C9"},{"Typeface name":"Symbol","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"958","Unicode hex":"3BE"},{"Typeface name":"Symbol","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"968","Unicode hex":"3C8"},{"Typeface name":"Symbol","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"950","Unicode hex":"3B6"},{"Typeface name":"Symbol","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"123","Unicode hex":"7B"},{"Typeface name":"Symbol","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"124","Unicode hex":"7C"},{"Typeface name":"Symbol","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"125","Unicode hex":"7D"},{"Typeface name":"Symbol","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"126","Unicode hex":"7E"},{"Typeface name":"Symbol","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"8364","Unicode hex":"20AC"},{"Typeface name":"Symbol","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"978","Unicode hex":"3D2"},{"Typeface name":"Symbol","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"8242","Unicode hex":"2032"},{"Typeface name":"Symbol","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"8804","Unicode hex":"2264"},{"Typeface name":"Symbol","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"8260","Unicode hex":"2044"},{"Typeface name":"Symbol","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"8734","Unicode hex":"221E"},{"Typeface name":"Symbol","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"402","Unicode hex":"192"},{"Typeface name":"Symbol","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9827","Unicode hex":"2663"},{"Typeface name":"Symbol","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9830","Unicode hex":"2666"},{"Typeface name":"Symbol","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"9829","Unicode hex":"2665"},{"Typeface name":"Symbol","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"9824","Unicode hex":"2660"},{"Typeface name":"Symbol","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"8596","Unicode hex":"2194"},{"Typeface name":"Symbol","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"8592","Unicode hex":"2190"},{"Typeface name":"Symbol","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"8593","Unicode hex":"2191"},{"Typeface name":"Symbol","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"8594","Unicode hex":"2192"},{"Typeface name":"Symbol","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"8595","Unicode hex":"2193"},{"Typeface name":"Symbol","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"176","Unicode hex":"B0"},{"Typeface name":"Symbol","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"177","Unicode hex":"B1"},{"Typeface name":"Symbol","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"8243","Unicode hex":"2033"},{"Typeface name":"Symbol","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"8805","Unicode hex":"2265"},{"Typeface name":"Symbol","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"215","Unicode hex":"D7"},{"Typeface name":"Symbol","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"8733","Unicode hex":"221D"},{"Typeface name":"Symbol","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"8706","Unicode hex":"2202"},{"Typeface name":"Symbol","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Symbol","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"247","Unicode hex":"F7"},{"Typeface name":"Symbol","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"8800","Unicode hex":"2260"},{"Typeface name":"Symbol","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"8801","Unicode hex":"2261"},{"Typeface name":"Symbol","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"8776","Unicode hex":"2248"},{"Typeface name":"Symbol","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"8230","Unicode hex":"2026"},{"Typeface name":"Symbol","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Symbol","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"9135","Unicode hex":"23AF"},{"Typeface name":"Symbol","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"8629","Unicode hex":"21B5"},{"Typeface name":"Symbol","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"8501","Unicode hex":"2135"},{"Typeface name":"Symbol","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"8465","Unicode hex":"2111"},{"Typeface name":"Symbol","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"8476","Unicode hex":"211C"},{"Typeface name":"Symbol","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"8472","Unicode hex":"2118"},{"Typeface name":"Symbol","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"8855","Unicode hex":"2297"},{"Typeface name":"Symbol","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"8853","Unicode hex":"2295"},{"Typeface name":"Symbol","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"8709","Unicode hex":"2205"},{"Typeface name":"Symbol","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"8745","Unicode hex":"2229"},{"Typeface name":"Symbol","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"8746","Unicode hex":"222A"},{"Typeface name":"Symbol","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"8835","Unicode hex":"2283"},{"Typeface name":"Symbol","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"8839","Unicode hex":"2287"},{"Typeface name":"Symbol","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"8836","Unicode hex":"2284"},{"Typeface name":"Symbol","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"8834","Unicode hex":"2282"},{"Typeface name":"Symbol","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"8838","Unicode hex":"2286"},{"Typeface name":"Symbol","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"8712","Unicode hex":"2208"},{"Typeface name":"Symbol","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"8713","Unicode hex":"2209"},{"Typeface name":"Symbol","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"8736","Unicode hex":"2220"},{"Typeface name":"Symbol","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"8711","Unicode hex":"2207"},{"Typeface name":"Symbol","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"8719","Unicode hex":"220F"},{"Typeface name":"Symbol","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8730","Unicode hex":"221A"},{"Typeface name":"Symbol","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Symbol","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"172","Unicode hex":"AC"},{"Typeface name":"Symbol","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"8743","Unicode hex":"2227"},{"Typeface name":"Symbol","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"8744","Unicode hex":"2228"},{"Typeface name":"Symbol","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"8660","Unicode hex":"21D4"},{"Typeface name":"Symbol","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"8656","Unicode hex":"21D0"},{"Typeface name":"Symbol","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"8657","Unicode hex":"21D1"},{"Typeface name":"Symbol","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"8658","Unicode hex":"21D2"},{"Typeface name":"Symbol","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"8659","Unicode hex":"21D3"},{"Typeface name":"Symbol","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Symbol","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"12296","Unicode hex":"3008"},{"Typeface name":"Symbol","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"8721","Unicode hex":"2211"},{"Typeface name":"Symbol","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"9115","Unicode hex":"239B"},{"Typeface name":"Symbol","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"9116","Unicode hex":"239C"},{"Typeface name":"Symbol","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9117","Unicode hex":"239D"},{"Typeface name":"Symbol","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9121","Unicode hex":"23A1"},{"Typeface name":"Symbol","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"9122","Unicode hex":"23A2"},{"Typeface name":"Symbol","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"9123","Unicode hex":"23A3"},{"Typeface name":"Symbol","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"9127","Unicode hex":"23A7"},{"Typeface name":"Symbol","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"9128","Unicode hex":"23A8"},{"Typeface name":"Symbol","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"9129","Unicode hex":"23A9"},{"Typeface name":"Symbol","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"9130","Unicode hex":"23AA"},{"Typeface name":"Symbol","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"63743","Unicode hex":"F8FF"},{"Typeface name":"Symbol","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"12297","Unicode hex":"3009"},{"Typeface name":"Symbol","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8747","Unicode hex":"222B"},{"Typeface name":"Symbol","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"8992","Unicode hex":"2320"},{"Typeface name":"Symbol","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"9134","Unicode hex":"23AE"},{"Typeface name":"Symbol","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"8993","Unicode hex":"2321"},{"Typeface name":"Symbol","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"9118","Unicode hex":"239E"},{"Typeface name":"Symbol","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"9119","Unicode hex":"239F"},{"Typeface name":"Symbol","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"9120","Unicode hex":"23A0"},{"Typeface name":"Symbol","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"9124","Unicode hex":"23A4"},{"Typeface name":"Symbol","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"9125","Unicode hex":"23A5"},{"Typeface name":"Symbol","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"9126","Unicode hex":"23A6"},{"Typeface name":"Symbol","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"9131","Unicode hex":"23AB"},{"Typeface name":"Symbol","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"9132","Unicode hex":"23AC"},{"Typeface name":"Symbol","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"9133","Unicode hex":"23AD"},{"Typeface name":"Webdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Webdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128375","Unicode hex":"1F577"},{"Typeface name":"Webdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128376","Unicode hex":"1F578"},{"Typeface name":"Webdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128370","Unicode hex":"1F572"},{"Typeface name":"Webdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128374","Unicode hex":"1F576"},{"Typeface name":"Webdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"127942","Unicode hex":"1F3C6"},{"Typeface name":"Webdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"127894","Unicode hex":"1F396"},{"Typeface name":"Webdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128391","Unicode hex":"1F587"},{"Typeface name":"Webdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128488","Unicode hex":"1F5E8"},{"Typeface name":"Webdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128489","Unicode hex":"1F5E9"},{"Typeface name":"Webdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128496","Unicode hex":"1F5F0"},{"Typeface name":"Webdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128497","Unicode hex":"1F5F1"},{"Typeface name":"Webdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"127798","Unicode hex":"1F336"},{"Typeface name":"Webdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"127895","Unicode hex":"1F397"},{"Typeface name":"Webdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128638","Unicode hex":"1F67E"},{"Typeface name":"Webdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128636","Unicode hex":"1F67C"},{"Typeface name":"Webdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128469","Unicode hex":"1F5D5"},{"Typeface name":"Webdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128470","Unicode hex":"1F5D6"},{"Typeface name":"Webdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128471","Unicode hex":"1F5D7"},{"Typeface name":"Webdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"9204","Unicode hex":"23F4"},{"Typeface name":"Webdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"9205","Unicode hex":"23F5"},{"Typeface name":"Webdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"9206","Unicode hex":"23F6"},{"Typeface name":"Webdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"9207","Unicode hex":"23F7"},{"Typeface name":"Webdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"9194","Unicode hex":"23EA"},{"Typeface name":"Webdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"9193","Unicode hex":"23E9"},{"Typeface name":"Webdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"9198","Unicode hex":"23EE"},{"Typeface name":"Webdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"9197","Unicode hex":"23ED"},{"Typeface name":"Webdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"9208","Unicode hex":"23F8"},{"Typeface name":"Webdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"9209","Unicode hex":"23F9"},{"Typeface name":"Webdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"9210","Unicode hex":"23FA"},{"Typeface name":"Webdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128474","Unicode hex":"1F5DA"},{"Typeface name":"Webdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128499","Unicode hex":"1F5F3"},{"Typeface name":"Webdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128736","Unicode hex":"1F6E0"},{"Typeface name":"Webdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"127959","Unicode hex":"1F3D7"},{"Typeface name":"Webdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"127960","Unicode hex":"1F3D8"},{"Typeface name":"Webdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"127961","Unicode hex":"1F3D9"},{"Typeface name":"Webdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"127962","Unicode hex":"1F3DA"},{"Typeface name":"Webdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"127964","Unicode hex":"1F3DC"},{"Typeface name":"Webdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"127981","Unicode hex":"1F3ED"},{"Typeface name":"Webdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"127963","Unicode hex":"1F3DB"},{"Typeface name":"Webdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"127968","Unicode hex":"1F3E0"},{"Typeface name":"Webdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"127958","Unicode hex":"1F3D6"},{"Typeface name":"Webdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"127965","Unicode hex":"1F3DD"},{"Typeface name":"Webdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128739","Unicode hex":"1F6E3"},{"Typeface name":"Webdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128269","Unicode hex":"1F50D"},{"Typeface name":"Webdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"127956","Unicode hex":"1F3D4"},{"Typeface name":"Webdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128065","Unicode hex":"1F441"},{"Typeface name":"Webdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128066","Unicode hex":"1F442"},{"Typeface name":"Webdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127966","Unicode hex":"1F3DE"},{"Typeface name":"Webdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"127957","Unicode hex":"1F3D5"},{"Typeface name":"Webdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"128740","Unicode hex":"1F6E4"},{"Typeface name":"Webdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127967","Unicode hex":"1F3DF"},{"Typeface name":"Webdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"128755","Unicode hex":"1F6F3"},{"Typeface name":"Webdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128364","Unicode hex":"1F56C"},{"Typeface name":"Webdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"128363","Unicode hex":"1F56B"},{"Typeface name":"Webdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128360","Unicode hex":"1F568"},{"Typeface name":"Webdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"128264","Unicode hex":"1F508"},{"Typeface name":"Webdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"127892","Unicode hex":"1F394"},{"Typeface name":"Webdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"127893","Unicode hex":"1F395"},{"Typeface name":"Webdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128492","Unicode hex":"1F5EC"},{"Typeface name":"Webdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128637","Unicode hex":"1F67D"},{"Typeface name":"Webdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"128493","Unicode hex":"1F5ED"},{"Typeface name":"Webdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128490","Unicode hex":"1F5EA"},{"Typeface name":"Webdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128491","Unicode hex":"1F5EB"},{"Typeface name":"Webdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"11156","Unicode hex":"2B94"},{"Typeface name":"Webdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"10004","Unicode hex":"2714"},{"Typeface name":"Webdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128690","Unicode hex":"1F6B2"},{"Typeface name":"Webdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"11036","Unicode hex":"2B1C"},{"Typeface name":"Webdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128737","Unicode hex":"1F6E1"},{"Typeface name":"Webdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128230","Unicode hex":"1F4E6"},{"Typeface name":"Webdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128753","Unicode hex":"1F6F1"},{"Typeface name":"Webdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"11035","Unicode hex":"2B1B"},{"Typeface name":"Webdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128657","Unicode hex":"1F691"},{"Typeface name":"Webdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"128712","Unicode hex":"1F6C8"},{"Typeface name":"Webdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128745","Unicode hex":"1F6E9"},{"Typeface name":"Webdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128752","Unicode hex":"1F6F0"},{"Typeface name":"Webdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"128968","Unicode hex":"1F7C8"},{"Typeface name":"Webdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128372","Unicode hex":"1F574"},{"Typeface name":"Webdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"11044","Unicode hex":"2B24"},{"Typeface name":"Webdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128741","Unicode hex":"1F6E5"},{"Typeface name":"Webdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128660","Unicode hex":"1F694"},{"Typeface name":"Webdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"128472","Unicode hex":"1F5D8"},{"Typeface name":"Webdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"128473","Unicode hex":"1F5D9"},{"Typeface name":"Webdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"10067","Unicode hex":"2753"},{"Typeface name":"Webdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"128754","Unicode hex":"1F6F2"},{"Typeface name":"Webdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"128647","Unicode hex":"1F687"},{"Typeface name":"Webdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"128653","Unicode hex":"1F68D"},{"Typeface name":"Webdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9971","Unicode hex":"26F3"},{"Typeface name":"Webdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Webdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"8854","Unicode hex":"2296"},{"Typeface name":"Webdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"128685","Unicode hex":"1F6AD"},{"Typeface name":"Webdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"128494","Unicode hex":"1F5EE"},{"Typeface name":"Webdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Webdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128495","Unicode hex":"1F5EF"},{"Typeface name":"Webdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128498","Unicode hex":"1F5F2"},{"Typeface name":"Webdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128697","Unicode hex":"1F6B9"},{"Typeface name":"Webdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"128698","Unicode hex":"1F6BA"},{"Typeface name":"Webdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"128713","Unicode hex":"1F6C9"},{"Typeface name":"Webdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"128714","Unicode hex":"1F6CA"},{"Typeface name":"Webdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"128700","Unicode hex":"1F6BC"},{"Typeface name":"Webdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"128125","Unicode hex":"1F47D"},{"Typeface name":"Webdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"127947","Unicode hex":"1F3CB"},{"Typeface name":"Webdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"9975","Unicode hex":"26F7"},{"Typeface name":"Webdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"127938","Unicode hex":"1F3C2"},{"Typeface name":"Webdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"127948","Unicode hex":"1F3CC"},{"Typeface name":"Webdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"127946","Unicode hex":"1F3CA"},{"Typeface name":"Webdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127940","Unicode hex":"1F3C4"},{"Typeface name":"Webdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"127949","Unicode hex":"1F3CD"},{"Typeface name":"Webdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"127950","Unicode hex":"1F3CE"},{"Typeface name":"Webdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128664","Unicode hex":"1F698"},{"Typeface name":"Webdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128480","Unicode hex":"1F5E0"},{"Typeface name":"Webdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128738","Unicode hex":"1F6E2"},{"Typeface name":"Webdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128176","Unicode hex":"1F4B0"},{"Typeface name":"Webdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"127991","Unicode hex":"1F3F7"},{"Typeface name":"Webdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128179","Unicode hex":"1F4B3"},{"Typeface name":"Webdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128106","Unicode hex":"1F46A"},{"Typeface name":"Webdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"128481","Unicode hex":"1F5E1"},{"Typeface name":"Webdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128482","Unicode hex":"1F5E2"},{"Typeface name":"Webdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128483","Unicode hex":"1F5E3"},{"Typeface name":"Webdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Webdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128388","Unicode hex":"1F584"},{"Typeface name":"Webdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128389","Unicode hex":"1F585"},{"Typeface name":"Webdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Webdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128390","Unicode hex":"1F586"},{"Typeface name":"Webdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128441","Unicode hex":"1F5B9"},{"Typeface name":"Webdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"128442","Unicode hex":"1F5BA"},{"Typeface name":"Webdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128443","Unicode hex":"1F5BB"},{"Typeface name":"Webdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128373","Unicode hex":"1F575"},{"Typeface name":"Webdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"128368","Unicode hex":"1F570"},{"Typeface name":"Webdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128445","Unicode hex":"1F5BD"},{"Typeface name":"Webdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128446","Unicode hex":"1F5BE"},{"Typeface name":"Webdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Webdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128466","Unicode hex":"1F5D2"},{"Typeface name":"Webdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128467","Unicode hex":"1F5D3"},{"Typeface name":"Webdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Webdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128218","Unicode hex":"1F4DA"},{"Typeface name":"Webdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128478","Unicode hex":"1F5DE"},{"Typeface name":"Webdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128479","Unicode hex":"1F5DF"},{"Typeface name":"Webdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128451","Unicode hex":"1F5C3"},{"Typeface name":"Webdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128450","Unicode hex":"1F5C2"},{"Typeface name":"Webdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128444","Unicode hex":"1F5BC"},{"Typeface name":"Webdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"127917","Unicode hex":"1F3AD"},{"Typeface name":"Webdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"127900","Unicode hex":"1F39C"},{"Typeface name":"Webdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"127896","Unicode hex":"1F398"},{"Typeface name":"Webdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"127897","Unicode hex":"1F399"},{"Typeface name":"Webdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"127911","Unicode hex":"1F3A7"},{"Typeface name":"Webdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128191","Unicode hex":"1F4BF"},{"Typeface name":"Webdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"127902","Unicode hex":"1F39E"},{"Typeface name":"Webdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128247","Unicode hex":"1F4F7"},{"Typeface name":"Webdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"127903","Unicode hex":"1F39F"},{"Typeface name":"Webdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"127916","Unicode hex":"1F3AC"},{"Typeface name":"Webdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128253","Unicode hex":"1F4FD"},{"Typeface name":"Webdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128249","Unicode hex":"1F4F9"},{"Typeface name":"Webdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128254","Unicode hex":"1F4FE"},{"Typeface name":"Webdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128251","Unicode hex":"1F4FB"},{"Typeface name":"Webdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"127898","Unicode hex":"1F39A"},{"Typeface name":"Webdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"127899","Unicode hex":"1F39B"},{"Typeface name":"Webdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128250","Unicode hex":"1F4FA"},{"Typeface name":"Webdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128187","Unicode hex":"1F4BB"},{"Typeface name":"Webdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128421","Unicode hex":"1F5A5"},{"Typeface name":"Webdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128422","Unicode hex":"1F5A6"},{"Typeface name":"Webdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128423","Unicode hex":"1F5A7"},{"Typeface name":"Webdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"128377","Unicode hex":"1F579"},{"Typeface name":"Webdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"127918","Unicode hex":"1F3AE"},{"Typeface name":"Webdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"128379","Unicode hex":"1F57B"},{"Typeface name":"Webdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128380","Unicode hex":"1F57C"},{"Typeface name":"Webdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128223","Unicode hex":"1F4DF"},{"Typeface name":"Webdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128385","Unicode hex":"1F581"},{"Typeface name":"Webdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128384","Unicode hex":"1F580"},{"Typeface name":"Webdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128424","Unicode hex":"1F5A8"},{"Typeface name":"Webdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128425","Unicode hex":"1F5A9"},{"Typeface name":"Webdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128447","Unicode hex":"1F5BF"},{"Typeface name":"Webdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128426","Unicode hex":"1F5AA"},{"Typeface name":"Webdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128476","Unicode hex":"1F5DC"},{"Typeface name":"Webdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128274","Unicode hex":"1F512"},{"Typeface name":"Webdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128275","Unicode hex":"1F513"},{"Typeface name":"Webdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128477","Unicode hex":"1F5DD"},{"Typeface name":"Webdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128229","Unicode hex":"1F4E5"},{"Typeface name":"Webdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128228","Unicode hex":"1F4E4"},{"Typeface name":"Webdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128371","Unicode hex":"1F573"},{"Typeface name":"Webdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"127779","Unicode hex":"1F323"},{"Typeface name":"Webdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"127780","Unicode hex":"1F324"},{"Typeface name":"Webdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"127781","Unicode hex":"1F325"},{"Typeface name":"Webdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"127782","Unicode hex":"1F326"},{"Typeface name":"Webdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"9729","Unicode hex":"2601"},{"Typeface name":"Webdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"127784","Unicode hex":"1F328"},{"Typeface name":"Webdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"127783","Unicode hex":"1F327"},{"Typeface name":"Webdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"127785","Unicode hex":"1F329"},{"Typeface name":"Webdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"127786","Unicode hex":"1F32A"},{"Typeface name":"Webdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"127788","Unicode hex":"1F32C"},{"Typeface name":"Webdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"127787","Unicode hex":"1F32B"},{"Typeface name":"Webdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"127772","Unicode hex":"1F31C"},{"Typeface name":"Webdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"127777","Unicode hex":"1F321"},{"Typeface name":"Webdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128715","Unicode hex":"1F6CB"},{"Typeface name":"Webdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128719","Unicode hex":"1F6CF"},{"Typeface name":"Webdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"127869","Unicode hex":"1F37D"},{"Typeface name":"Webdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"127864","Unicode hex":"1F378"},{"Typeface name":"Webdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128718","Unicode hex":"1F6CE"},{"Typeface name":"Webdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128717","Unicode hex":"1F6CD"},{"Typeface name":"Webdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9413","Unicode hex":"24C5"},{"Typeface name":"Webdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9855","Unicode hex":"267F"},{"Typeface name":"Webdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128710","Unicode hex":"1F6C6"},{"Typeface name":"Webdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"128392","Unicode hex":"1F588"},{"Typeface name":"Webdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"127891","Unicode hex":"1F393"},{"Typeface name":"Webdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128484","Unicode hex":"1F5E4"},{"Typeface name":"Webdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128485","Unicode hex":"1F5E5"},{"Typeface name":"Webdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128486","Unicode hex":"1F5E6"},{"Typeface name":"Webdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"128487","Unicode hex":"1F5E7"},{"Typeface name":"Webdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128746","Unicode hex":"1F6EA"},{"Typeface name":"Webdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128063","Unicode hex":"1F43F"},{"Typeface name":"Webdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"128038","Unicode hex":"1F426"},{"Typeface name":"Webdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128031","Unicode hex":"1F41F"},{"Typeface name":"Webdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128021","Unicode hex":"1F415"},{"Typeface name":"Webdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"128008","Unicode hex":"1F408"},{"Typeface name":"Webdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"128620","Unicode hex":"1F66C"},{"Typeface name":"Webdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"128622","Unicode hex":"1F66E"},{"Typeface name":"Webdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"128621","Unicode hex":"1F66D"},{"Typeface name":"Webdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"128623","Unicode hex":"1F66F"},{"Typeface name":"Webdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128506","Unicode hex":"1F5FA"},{"Typeface name":"Webdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"127757","Unicode hex":"1F30D"},{"Typeface name":"Webdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"127759","Unicode hex":"1F30F"},{"Typeface name":"Webdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"127758","Unicode hex":"1F30E"},{"Typeface name":"Webdings","Dingbat dec":"255","Dingbat hex":"FF","Unicode dec":"128330","Unicode hex":"1F54A"},{"Typeface name":"Wingdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128393","Unicode hex":"1F589"},{"Typeface name":"Wingdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"9986","Unicode hex":"2702"},{"Typeface name":"Wingdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"9985","Unicode hex":"2701"},{"Typeface name":"Wingdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128083","Unicode hex":"1F453"},{"Typeface name":"Wingdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"128365","Unicode hex":"1F56D"},{"Typeface name":"Wingdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Wingdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128367","Unicode hex":"1F56F"},{"Typeface name":"Wingdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128383","Unicode hex":"1F57F"},{"Typeface name":"Wingdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"9990","Unicode hex":"2706"},{"Typeface name":"Wingdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128386","Unicode hex":"1F582"},{"Typeface name":"Wingdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Wingdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128234","Unicode hex":"1F4EA"},{"Typeface name":"Wingdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128235","Unicode hex":"1F4EB"},{"Typeface name":"Wingdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128236","Unicode hex":"1F4EC"},{"Typeface name":"Wingdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128237","Unicode hex":"1F4ED"},{"Typeface name":"Wingdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128448","Unicode hex":"1F5C0"},{"Typeface name":"Wingdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128449","Unicode hex":"1F5C1"},{"Typeface name":"Wingdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128462","Unicode hex":"1F5CE"},{"Typeface name":"Wingdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128463","Unicode hex":"1F5CF"},{"Typeface name":"Wingdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128464","Unicode hex":"1F5D0"},{"Typeface name":"Wingdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128452","Unicode hex":"1F5C4"},{"Typeface name":"Wingdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"8987","Unicode hex":"231B"},{"Typeface name":"Wingdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128430","Unicode hex":"1F5AE"},{"Typeface name":"Wingdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128432","Unicode hex":"1F5B0"},{"Typeface name":"Wingdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128434","Unicode hex":"1F5B2"},{"Typeface name":"Wingdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128435","Unicode hex":"1F5B3"},{"Typeface name":"Wingdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128436","Unicode hex":"1F5B4"},{"Typeface name":"Wingdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128427","Unicode hex":"1F5AB"},{"Typeface name":"Wingdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128428","Unicode hex":"1F5AC"},{"Typeface name":"Wingdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"9991","Unicode hex":"2707"},{"Typeface name":"Wingdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"9997","Unicode hex":"270D"},{"Typeface name":"Wingdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128398","Unicode hex":"1F58E"},{"Typeface name":"Wingdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"9996","Unicode hex":"270C"},{"Typeface name":"Wingdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128399","Unicode hex":"1F58F"},{"Typeface name":"Wingdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128077","Unicode hex":"1F44D"},{"Typeface name":"Wingdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128078","Unicode hex":"1F44E"},{"Typeface name":"Wingdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"9756","Unicode hex":"261C"},{"Typeface name":"Wingdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"9758","Unicode hex":"261E"},{"Typeface name":"Wingdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"9757","Unicode hex":"261D"},{"Typeface name":"Wingdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"9759","Unicode hex":"261F"},{"Typeface name":"Wingdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128400","Unicode hex":"1F590"},{"Typeface name":"Wingdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"9786","Unicode hex":"263A"},{"Typeface name":"Wingdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128528","Unicode hex":"1F610"},{"Typeface name":"Wingdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"9785","Unicode hex":"2639"},{"Typeface name":"Wingdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128163","Unicode hex":"1F4A3"},{"Typeface name":"Wingdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128369","Unicode hex":"1F571"},{"Typeface name":"Wingdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"127987","Unicode hex":"1F3F3"},{"Typeface name":"Wingdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127985","Unicode hex":"1F3F1"},{"Typeface name":"Wingdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"9992","Unicode hex":"2708"},{"Typeface name":"Wingdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9788","Unicode hex":"263C"},{"Typeface name":"Wingdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127778","Unicode hex":"1F322"},{"Typeface name":"Wingdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"10052","Unicode hex":"2744"},{"Typeface name":"Wingdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128326","Unicode hex":"1F546"},{"Typeface name":"Wingdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"10014","Unicode hex":"271E"},{"Typeface name":"Wingdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128328","Unicode hex":"1F548"},{"Typeface name":"Wingdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10016","Unicode hex":"2720"},{"Typeface name":"Wingdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"10017","Unicode hex":"2721"},{"Typeface name":"Wingdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"9770","Unicode hex":"262A"},{"Typeface name":"Wingdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"9775","Unicode hex":"262F"},{"Typeface name":"Wingdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128329","Unicode hex":"1F549"},{"Typeface name":"Wingdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"9784","Unicode hex":"2638"},{"Typeface name":"Wingdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"9800","Unicode hex":"2648"},{"Typeface name":"Wingdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"9801","Unicode hex":"2649"},{"Typeface name":"Wingdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"9802","Unicode hex":"264A"},{"Typeface name":"Wingdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"9803","Unicode hex":"264B"},{"Typeface name":"Wingdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"9804","Unicode hex":"264C"},{"Typeface name":"Wingdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"9805","Unicode hex":"264D"},{"Typeface name":"Wingdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"9806","Unicode hex":"264E"},{"Typeface name":"Wingdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"9807","Unicode hex":"264F"},{"Typeface name":"Wingdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"9808","Unicode hex":"2650"},{"Typeface name":"Wingdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"9809","Unicode hex":"2651"},{"Typeface name":"Wingdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"9810","Unicode hex":"2652"},{"Typeface name":"Wingdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9811","Unicode hex":"2653"},{"Typeface name":"Wingdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128624","Unicode hex":"1F670"},{"Typeface name":"Wingdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128629","Unicode hex":"1F675"},{"Typeface name":"Wingdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9899","Unicode hex":"26AB"},{"Typeface name":"Wingdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128318","Unicode hex":"1F53E"},{"Typeface name":"Wingdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9724","Unicode hex":"25FC"},{"Typeface name":"Wingdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128911","Unicode hex":"1F78F"},{"Typeface name":"Wingdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128912","Unicode hex":"1F790"},{"Typeface name":"Wingdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"10065","Unicode hex":"2751"},{"Typeface name":"Wingdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"10066","Unicode hex":"2752"},{"Typeface name":"Wingdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"128927","Unicode hex":"1F79F"},{"Typeface name":"Wingdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"10731","Unicode hex":"29EB"},{"Typeface name":"Wingdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9670","Unicode hex":"25C6"},{"Typeface name":"Wingdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10070","Unicode hex":"2756"},{"Typeface name":"Wingdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"8999","Unicode hex":"2327"},{"Typeface name":"Wingdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"11193","Unicode hex":"2BB9"},{"Typeface name":"Wingdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"8984","Unicode hex":"2318"},{"Typeface name":"Wingdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"127989","Unicode hex":"1F3F5"},{"Typeface name":"Wingdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"127990","Unicode hex":"1F3F6"},{"Typeface name":"Wingdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128630","Unicode hex":"1F676"},{"Typeface name":"Wingdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128631","Unicode hex":"1F677"},{"Typeface name":"Wingdings","Dingbat dec":"127","Dingbat hex":"7F","Unicode dec":"9647","Unicode hex":"25AF"},{"Typeface name":"Wingdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"127243","Unicode hex":"1F10B"},{"Typeface name":"Wingdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"10112","Unicode hex":"2780"},{"Typeface name":"Wingdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"10113","Unicode hex":"2781"},{"Typeface name":"Wingdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"10114","Unicode hex":"2782"},{"Typeface name":"Wingdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"10115","Unicode hex":"2783"},{"Typeface name":"Wingdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10116","Unicode hex":"2784"},{"Typeface name":"Wingdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"10117","Unicode hex":"2785"},{"Typeface name":"Wingdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"10118","Unicode hex":"2786"},{"Typeface name":"Wingdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"10119","Unicode hex":"2787"},{"Typeface name":"Wingdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"10120","Unicode hex":"2788"},{"Typeface name":"Wingdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"10121","Unicode hex":"2789"},{"Typeface name":"Wingdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127244","Unicode hex":"1F10C"},{"Typeface name":"Wingdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"10122","Unicode hex":"278A"},{"Typeface name":"Wingdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"10123","Unicode hex":"278B"},{"Typeface name":"Wingdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"10124","Unicode hex":"278C"},{"Typeface name":"Wingdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"10125","Unicode hex":"278D"},{"Typeface name":"Wingdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"10126","Unicode hex":"278E"},{"Typeface name":"Wingdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"10127","Unicode hex":"278F"},{"Typeface name":"Wingdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"10128","Unicode hex":"2790"},{"Typeface name":"Wingdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"10129","Unicode hex":"2791"},{"Typeface name":"Wingdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"10130","Unicode hex":"2792"},{"Typeface name":"Wingdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"10131","Unicode hex":"2793"},{"Typeface name":"Wingdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128610","Unicode hex":"1F662"},{"Typeface name":"Wingdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128608","Unicode hex":"1F660"},{"Typeface name":"Wingdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"128609","Unicode hex":"1F661"},{"Typeface name":"Wingdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128611","Unicode hex":"1F663"},{"Typeface name":"Wingdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128606","Unicode hex":"1F65E"},{"Typeface name":"Wingdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128604","Unicode hex":"1F65C"},{"Typeface name":"Wingdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128605","Unicode hex":"1F65D"},{"Typeface name":"Wingdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128607","Unicode hex":"1F65F"},{"Typeface name":"Wingdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"8729","Unicode hex":"2219"},{"Typeface name":"Wingdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Wingdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"11037","Unicode hex":"2B1D"},{"Typeface name":"Wingdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"11096","Unicode hex":"2B58"},{"Typeface name":"Wingdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128902","Unicode hex":"1F786"},{"Typeface name":"Wingdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128904","Unicode hex":"1F788"},{"Typeface name":"Wingdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128906","Unicode hex":"1F78A"},{"Typeface name":"Wingdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128907","Unicode hex":"1F78B"},{"Typeface name":"Wingdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128319","Unicode hex":"1F53F"},{"Typeface name":"Wingdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9642","Unicode hex":"25AA"},{"Typeface name":"Wingdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128910","Unicode hex":"1F78E"},{"Typeface name":"Wingdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128961","Unicode hex":"1F7C1"},{"Typeface name":"Wingdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128965","Unicode hex":"1F7C5"},{"Typeface name":"Wingdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"9733","Unicode hex":"2605"},{"Typeface name":"Wingdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128971","Unicode hex":"1F7CB"},{"Typeface name":"Wingdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128975","Unicode hex":"1F7CF"},{"Typeface name":"Wingdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"128979","Unicode hex":"1F7D3"},{"Typeface name":"Wingdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"128977","Unicode hex":"1F7D1"},{"Typeface name":"Wingdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"11216","Unicode hex":"2BD0"},{"Typeface name":"Wingdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"8982","Unicode hex":"2316"},{"Typeface name":"Wingdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"11214","Unicode hex":"2BCE"},{"Typeface name":"Wingdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"11215","Unicode hex":"2BCF"},{"Typeface name":"Wingdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"11217","Unicode hex":"2BD1"},{"Typeface name":"Wingdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"10026","Unicode hex":"272A"},{"Typeface name":"Wingdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"10032","Unicode hex":"2730"},{"Typeface name":"Wingdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"128336","Unicode hex":"1F550"},{"Typeface name":"Wingdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128337","Unicode hex":"1F551"},{"Typeface name":"Wingdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128338","Unicode hex":"1F552"},{"Typeface name":"Wingdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128339","Unicode hex":"1F553"},{"Typeface name":"Wingdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128340","Unicode hex":"1F554"},{"Typeface name":"Wingdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"128341","Unicode hex":"1F555"},{"Typeface name":"Wingdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"128342","Unicode hex":"1F556"},{"Typeface name":"Wingdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128343","Unicode hex":"1F557"},{"Typeface name":"Wingdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128344","Unicode hex":"1F558"},{"Typeface name":"Wingdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128345","Unicode hex":"1F559"},{"Typeface name":"Wingdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128346","Unicode hex":"1F55A"},{"Typeface name":"Wingdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128347","Unicode hex":"1F55B"},{"Typeface name":"Wingdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11184","Unicode hex":"2BB0"},{"Typeface name":"Wingdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11185","Unicode hex":"2BB1"},{"Typeface name":"Wingdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11186","Unicode hex":"2BB2"},{"Typeface name":"Wingdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"11187","Unicode hex":"2BB3"},{"Typeface name":"Wingdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"11188","Unicode hex":"2BB4"},{"Typeface name":"Wingdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"11189","Unicode hex":"2BB5"},{"Typeface name":"Wingdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11190","Unicode hex":"2BB6"},{"Typeface name":"Wingdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11191","Unicode hex":"2BB7"},{"Typeface name":"Wingdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128618","Unicode hex":"1F66A"},{"Typeface name":"Wingdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128619","Unicode hex":"1F66B"},{"Typeface name":"Wingdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128597","Unicode hex":"1F655"},{"Typeface name":"Wingdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128596","Unicode hex":"1F654"},{"Typeface name":"Wingdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128599","Unicode hex":"1F657"},{"Typeface name":"Wingdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128598","Unicode hex":"1F656"},{"Typeface name":"Wingdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128592","Unicode hex":"1F650"},{"Typeface name":"Wingdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128593","Unicode hex":"1F651"},{"Typeface name":"Wingdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128594","Unicode hex":"1F652"},{"Typeface name":"Wingdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128595","Unicode hex":"1F653"},{"Typeface name":"Wingdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"9003","Unicode hex":"232B"},{"Typeface name":"Wingdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8998","Unicode hex":"2326"},{"Typeface name":"Wingdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"11160","Unicode hex":"2B98"},{"Typeface name":"Wingdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"11162","Unicode hex":"2B9A"},{"Typeface name":"Wingdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"11161","Unicode hex":"2B99"},{"Typeface name":"Wingdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"11163","Unicode hex":"2B9B"},{"Typeface name":"Wingdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"11144","Unicode hex":"2B88"},{"Typeface name":"Wingdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"11146","Unicode hex":"2B8A"},{"Typeface name":"Wingdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"11145","Unicode hex":"2B89"},{"Typeface name":"Wingdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"11147","Unicode hex":"2B8B"},{"Typeface name":"Wingdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129128","Unicode hex":"1F868"},{"Typeface name":"Wingdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129130","Unicode hex":"1F86A"},{"Typeface name":"Wingdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129129","Unicode hex":"1F869"},{"Typeface name":"Wingdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129131","Unicode hex":"1F86B"},{"Typeface name":"Wingdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129132","Unicode hex":"1F86C"},{"Typeface name":"Wingdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129133","Unicode hex":"1F86D"},{"Typeface name":"Wingdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129135","Unicode hex":"1F86F"},{"Typeface name":"Wingdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129134","Unicode hex":"1F86E"},{"Typeface name":"Wingdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129144","Unicode hex":"1F878"},{"Typeface name":"Wingdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129146","Unicode hex":"1F87A"},{"Typeface name":"Wingdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129145","Unicode hex":"1F879"},{"Typeface name":"Wingdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129147","Unicode hex":"1F87B"},{"Typeface name":"Wingdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129148","Unicode hex":"1F87C"},{"Typeface name":"Wingdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129149","Unicode hex":"1F87D"},{"Typeface name":"Wingdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129151","Unicode hex":"1F87F"},{"Typeface name":"Wingdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129150","Unicode hex":"1F87E"},{"Typeface name":"Wingdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"8678","Unicode hex":"21E6"},{"Typeface name":"Wingdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"8680","Unicode hex":"21E8"},{"Typeface name":"Wingdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"8679","Unicode hex":"21E7"},{"Typeface name":"Wingdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8681","Unicode hex":"21E9"},{"Typeface name":"Wingdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"11012","Unicode hex":"2B04"},{"Typeface name":"Wingdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"8691","Unicode hex":"21F3"},{"Typeface name":"Wingdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"11009","Unicode hex":"2B01"},{"Typeface name":"Wingdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11008","Unicode hex":"2B00"},{"Typeface name":"Wingdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11011","Unicode hex":"2B03"},{"Typeface name":"Wingdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"11010","Unicode hex":"2B02"},{"Typeface name":"Wingdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"129196","Unicode hex":"1F8AC"},{"Typeface name":"Wingdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"129197","Unicode hex":"1F8AD"},{"Typeface name":"Wingdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128502","Unicode hex":"1F5F6"},{"Typeface name":"Wingdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"10003","Unicode hex":"2713"},{"Typeface name":"Wingdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"128503","Unicode hex":"1F5F7"},{"Typeface name":"Wingdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"128505","Unicode hex":"1F5F9"},{"Typeface name":"Wingdings 2","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 2","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128394","Unicode hex":"1F58A"},{"Typeface name":"Wingdings 2","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128395","Unicode hex":"1F58B"},{"Typeface name":"Wingdings 2","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128396","Unicode hex":"1F58C"},{"Typeface name":"Wingdings 2","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128397","Unicode hex":"1F58D"},{"Typeface name":"Wingdings 2","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"9988","Unicode hex":"2704"},{"Typeface name":"Wingdings 2","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"9984","Unicode hex":"2700"},{"Typeface name":"Wingdings 2","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128382","Unicode hex":"1F57E"},{"Typeface name":"Wingdings 2","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128381","Unicode hex":"1F57D"},{"Typeface name":"Wingdings 2","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128453","Unicode hex":"1F5C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128454","Unicode hex":"1F5C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128455","Unicode hex":"1F5C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128456","Unicode hex":"1F5C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128457","Unicode hex":"1F5C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128458","Unicode hex":"1F5CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128459","Unicode hex":"1F5CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128460","Unicode hex":"1F5CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128461","Unicode hex":"1F5CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128465","Unicode hex":"1F5D1"},{"Typeface name":"Wingdings 2","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128468","Unicode hex":"1F5D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128437","Unicode hex":"1F5B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"128438","Unicode hex":"1F5B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128439","Unicode hex":"1F5B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128440","Unicode hex":"1F5B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128429","Unicode hex":"1F5AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128431","Unicode hex":"1F5AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128433","Unicode hex":"1F5B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128402","Unicode hex":"1F592"},{"Typeface name":"Wingdings 2","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128403","Unicode hex":"1F593"},{"Typeface name":"Wingdings 2","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128408","Unicode hex":"1F598"},{"Typeface name":"Wingdings 2","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128409","Unicode hex":"1F599"},{"Typeface name":"Wingdings 2","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128410","Unicode hex":"1F59A"},{"Typeface name":"Wingdings 2","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"128411","Unicode hex":"1F59B"},{"Typeface name":"Wingdings 2","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128072","Unicode hex":"1F448"},{"Typeface name":"Wingdings 2","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128073","Unicode hex":"1F449"},{"Typeface name":"Wingdings 2","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128412","Unicode hex":"1F59C"},{"Typeface name":"Wingdings 2","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"128413","Unicode hex":"1F59D"},{"Typeface name":"Wingdings 2","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"128414","Unicode hex":"1F59E"},{"Typeface name":"Wingdings 2","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"128415","Unicode hex":"1F59F"},{"Typeface name":"Wingdings 2","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"128416","Unicode hex":"1F5A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128417","Unicode hex":"1F5A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"128070","Unicode hex":"1F446"},{"Typeface name":"Wingdings 2","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128071","Unicode hex":"1F447"},{"Typeface name":"Wingdings 2","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128418","Unicode hex":"1F5A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128419","Unicode hex":"1F5A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128401","Unicode hex":"1F591"},{"Typeface name":"Wingdings 2","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128500","Unicode hex":"1F5F4"},{"Typeface name":"Wingdings 2","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"128504","Unicode hex":"1F5F8"},{"Typeface name":"Wingdings 2","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"128501","Unicode hex":"1F5F5"},{"Typeface name":"Wingdings 2","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9745","Unicode hex":"2611"},{"Typeface name":"Wingdings 2","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"11197","Unicode hex":"2BBD"},{"Typeface name":"Wingdings 2","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"9746","Unicode hex":"2612"},{"Typeface name":"Wingdings 2","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"11198","Unicode hex":"2BBE"},{"Typeface name":"Wingdings 2","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"11199","Unicode hex":"2BBF"},{"Typeface name":"Wingdings 2","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128711","Unicode hex":"1F6C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"128625","Unicode hex":"1F671"},{"Typeface name":"Wingdings 2","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"128628","Unicode hex":"1F674"},{"Typeface name":"Wingdings 2","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128626","Unicode hex":"1F672"},{"Typeface name":"Wingdings 2","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128627","Unicode hex":"1F673"},{"Typeface name":"Wingdings 2","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"8253","Unicode hex":"203D"},{"Typeface name":"Wingdings 2","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128633","Unicode hex":"1F679"},{"Typeface name":"Wingdings 2","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128634","Unicode hex":"1F67A"},{"Typeface name":"Wingdings 2","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"128635","Unicode hex":"1F67B"},{"Typeface name":"Wingdings 2","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"128614","Unicode hex":"1F666"},{"Typeface name":"Wingdings 2","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128612","Unicode hex":"1F664"},{"Typeface name":"Wingdings 2","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"128613","Unicode hex":"1F665"},{"Typeface name":"Wingdings 2","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128615","Unicode hex":"1F667"},{"Typeface name":"Wingdings 2","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128602","Unicode hex":"1F65A"},{"Typeface name":"Wingdings 2","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128600","Unicode hex":"1F658"},{"Typeface name":"Wingdings 2","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"128601","Unicode hex":"1F659"},{"Typeface name":"Wingdings 2","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128603","Unicode hex":"1F65B"},{"Typeface name":"Wingdings 2","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9450","Unicode hex":"24EA"},{"Typeface name":"Wingdings 2","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"9312","Unicode hex":"2460"},{"Typeface name":"Wingdings 2","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"9313","Unicode hex":"2461"},{"Typeface name":"Wingdings 2","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9314","Unicode hex":"2462"},{"Typeface name":"Wingdings 2","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"9315","Unicode hex":"2463"},{"Typeface name":"Wingdings 2","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9316","Unicode hex":"2464"},{"Typeface name":"Wingdings 2","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"9317","Unicode hex":"2465"},{"Typeface name":"Wingdings 2","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9318","Unicode hex":"2466"},{"Typeface name":"Wingdings 2","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9319","Unicode hex":"2467"},{"Typeface name":"Wingdings 2","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9320","Unicode hex":"2468"},{"Typeface name":"Wingdings 2","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9321","Unicode hex":"2469"},{"Typeface name":"Wingdings 2","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9471","Unicode hex":"24FF"},{"Typeface name":"Wingdings 2","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"10102","Unicode hex":"2776"},{"Typeface name":"Wingdings 2","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10103","Unicode hex":"2777"},{"Typeface name":"Wingdings 2","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"10104","Unicode hex":"2778"},{"Typeface name":"Wingdings 2","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10105","Unicode hex":"2779"},{"Typeface name":"Wingdings 2","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"10106","Unicode hex":"277A"},{"Typeface name":"Wingdings 2","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"10107","Unicode hex":"277B"},{"Typeface name":"Wingdings 2","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"10108","Unicode hex":"277C"},{"Typeface name":"Wingdings 2","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"10109","Unicode hex":"277D"},{"Typeface name":"Wingdings 2","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"10110","Unicode hex":"277E"},{"Typeface name":"Wingdings 2","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"10111","Unicode hex":"277F"},{"Typeface name":"Wingdings 2","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"9737","Unicode hex":"2609"},{"Typeface name":"Wingdings 2","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"127765","Unicode hex":"1F315"},{"Typeface name":"Wingdings 2","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"9789","Unicode hex":"263D"},{"Typeface name":"Wingdings 2","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"9790","Unicode hex":"263E"},{"Typeface name":"Wingdings 2","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11839","Unicode hex":"2E3F"},{"Typeface name":"Wingdings 2","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10013","Unicode hex":"271D"},{"Typeface name":"Wingdings 2","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"128327","Unicode hex":"1F547"},{"Typeface name":"Wingdings 2","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"128348","Unicode hex":"1F55C"},{"Typeface name":"Wingdings 2","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"128349","Unicode hex":"1F55D"},{"Typeface name":"Wingdings 2","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"128350","Unicode hex":"1F55E"},{"Typeface name":"Wingdings 2","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"128351","Unicode hex":"1F55F"},{"Typeface name":"Wingdings 2","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"128352","Unicode hex":"1F560"},{"Typeface name":"Wingdings 2","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"128353","Unicode hex":"1F561"},{"Typeface name":"Wingdings 2","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"128354","Unicode hex":"1F562"},{"Typeface name":"Wingdings 2","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128355","Unicode hex":"1F563"},{"Typeface name":"Wingdings 2","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128356","Unicode hex":"1F564"},{"Typeface name":"Wingdings 2","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128357","Unicode hex":"1F565"},{"Typeface name":"Wingdings 2","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128358","Unicode hex":"1F566"},{"Typeface name":"Wingdings 2","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"128359","Unicode hex":"1F567"},{"Typeface name":"Wingdings 2","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128616","Unicode hex":"1F668"},{"Typeface name":"Wingdings 2","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128617","Unicode hex":"1F669"},{"Typeface name":"Wingdings 2","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128900","Unicode hex":"1F784"},{"Typeface name":"Wingdings 2","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"10625","Unicode hex":"2981"},{"Typeface name":"Wingdings 2","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"9679","Unicode hex":"25CF"},{"Typeface name":"Wingdings 2","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"9675","Unicode hex":"25CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128901","Unicode hex":"1F785"},{"Typeface name":"Wingdings 2","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128903","Unicode hex":"1F787"},{"Typeface name":"Wingdings 2","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128905","Unicode hex":"1F789"},{"Typeface name":"Wingdings 2","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"8857","Unicode hex":"2299"},{"Typeface name":"Wingdings 2","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"10687","Unicode hex":"29BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128908","Unicode hex":"1F78C"},{"Typeface name":"Wingdings 2","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128909","Unicode hex":"1F78D"},{"Typeface name":"Wingdings 2","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"9726","Unicode hex":"25FE"},{"Typeface name":"Wingdings 2","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"9632","Unicode hex":"25A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"9633","Unicode hex":"25A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128913","Unicode hex":"1F791"},{"Typeface name":"Wingdings 2","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128914","Unicode hex":"1F792"},{"Typeface name":"Wingdings 2","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128915","Unicode hex":"1F793"},{"Typeface name":"Wingdings 2","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128916","Unicode hex":"1F794"},{"Typeface name":"Wingdings 2","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9635","Unicode hex":"25A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128917","Unicode hex":"1F795"},{"Typeface name":"Wingdings 2","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128918","Unicode hex":"1F796"},{"Typeface name":"Wingdings 2","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128919","Unicode hex":"1F797"},{"Typeface name":"Wingdings 2","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128920","Unicode hex":"1F798"},{"Typeface name":"Wingdings 2","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings 2","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"11045","Unicode hex":"2B25"},{"Typeface name":"Wingdings 2","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"9671","Unicode hex":"25C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"128922","Unicode hex":"1F79A"},{"Typeface name":"Wingdings 2","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"9672","Unicode hex":"25C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"128923","Unicode hex":"1F79B"},{"Typeface name":"Wingdings 2","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128924","Unicode hex":"1F79C"},{"Typeface name":"Wingdings 2","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"128925","Unicode hex":"1F79D"},{"Typeface name":"Wingdings 2","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128926","Unicode hex":"1F79E"},{"Typeface name":"Wingdings 2","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"11050","Unicode hex":"2B2A"},{"Typeface name":"Wingdings 2","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"11047","Unicode hex":"2B27"},{"Typeface name":"Wingdings 2","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128928","Unicode hex":"1F7A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"9686","Unicode hex":"25D6"},{"Typeface name":"Wingdings 2","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"9687","Unicode hex":"25D7"},{"Typeface name":"Wingdings 2","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"11210","Unicode hex":"2BCA"},{"Typeface name":"Wingdings 2","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"11211","Unicode hex":"2BCB"},{"Typeface name":"Wingdings 2","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"11200","Unicode hex":"2BC0"},{"Typeface name":"Wingdings 2","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"11201","Unicode hex":"2BC1"},{"Typeface name":"Wingdings 2","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"11039","Unicode hex":"2B1F"},{"Typeface name":"Wingdings 2","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"11202","Unicode hex":"2BC2"},{"Typeface name":"Wingdings 2","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"11043","Unicode hex":"2B23"},{"Typeface name":"Wingdings 2","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11042","Unicode hex":"2B22"},{"Typeface name":"Wingdings 2","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11203","Unicode hex":"2BC3"},{"Typeface name":"Wingdings 2","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11204","Unicode hex":"2BC4"},{"Typeface name":"Wingdings 2","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128929","Unicode hex":"1F7A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128930","Unicode hex":"1F7A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128931","Unicode hex":"1F7A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128932","Unicode hex":"1F7A4"},{"Typeface name":"Wingdings 2","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128933","Unicode hex":"1F7A5"},{"Typeface name":"Wingdings 2","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128934","Unicode hex":"1F7A6"},{"Typeface name":"Wingdings 2","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128935","Unicode hex":"1F7A7"},{"Typeface name":"Wingdings 2","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128936","Unicode hex":"1F7A8"},{"Typeface name":"Wingdings 2","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128937","Unicode hex":"1F7A9"},{"Typeface name":"Wingdings 2","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128938","Unicode hex":"1F7AA"},{"Typeface name":"Wingdings 2","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128939","Unicode hex":"1F7AB"},{"Typeface name":"Wingdings 2","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128940","Unicode hex":"1F7AC"},{"Typeface name":"Wingdings 2","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128941","Unicode hex":"1F7AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128942","Unicode hex":"1F7AE"},{"Typeface name":"Wingdings 2","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128943","Unicode hex":"1F7AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"128944","Unicode hex":"1F7B0"},{"Typeface name":"Wingdings 2","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"128945","Unicode hex":"1F7B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"128946","Unicode hex":"1F7B2"},{"Typeface name":"Wingdings 2","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"128947","Unicode hex":"1F7B3"},{"Typeface name":"Wingdings 2","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"128948","Unicode hex":"1F7B4"},{"Typeface name":"Wingdings 2","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"128949","Unicode hex":"1F7B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"128950","Unicode hex":"1F7B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"128951","Unicode hex":"1F7B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"128952","Unicode hex":"1F7B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"128953","Unicode hex":"1F7B9"},{"Typeface name":"Wingdings 2","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"128954","Unicode hex":"1F7BA"},{"Typeface name":"Wingdings 2","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"128955","Unicode hex":"1F7BB"},{"Typeface name":"Wingdings 2","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"128956","Unicode hex":"1F7BC"},{"Typeface name":"Wingdings 2","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128957","Unicode hex":"1F7BD"},{"Typeface name":"Wingdings 2","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128958","Unicode hex":"1F7BE"},{"Typeface name":"Wingdings 2","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"128959","Unicode hex":"1F7BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"128960","Unicode hex":"1F7C0"},{"Typeface name":"Wingdings 2","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128962","Unicode hex":"1F7C2"},{"Typeface name":"Wingdings 2","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128964","Unicode hex":"1F7C4"},{"Typeface name":"Wingdings 2","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"128966","Unicode hex":"1F7C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"128969","Unicode hex":"1F7C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128970","Unicode hex":"1F7CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"10038","Unicode hex":"2736"},{"Typeface name":"Wingdings 2","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"128972","Unicode hex":"1F7CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128974","Unicode hex":"1F7CE"},{"Typeface name":"Wingdings 2","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128976","Unicode hex":"1F7D0"},{"Typeface name":"Wingdings 2","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128978","Unicode hex":"1F7D2"},{"Typeface name":"Wingdings 2","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"10041","Unicode hex":"2739"},{"Typeface name":"Wingdings 2","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128963","Unicode hex":"1F7C3"},{"Typeface name":"Wingdings 2","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128967","Unicode hex":"1F7C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Wingdings 2","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128973","Unicode hex":"1F7CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128980","Unicode hex":"1F7D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11212","Unicode hex":"2BCC"},{"Typeface name":"Wingdings 2","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11213","Unicode hex":"2BCD"},{"Typeface name":"Wingdings 2","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"8251","Unicode hex":"203B"},{"Typeface name":"Wingdings 2","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"8258","Unicode hex":"2042"},{"Typeface name":"Wingdings 3","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 3","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"11104","Unicode hex":"2B60"},{"Typeface name":"Wingdings 3","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"11106","Unicode hex":"2B62"},{"Typeface name":"Wingdings 3","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"11105","Unicode hex":"2B61"},{"Typeface name":"Wingdings 3","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"11107","Unicode hex":"2B63"},{"Typeface name":"Wingdings 3","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"11110","Unicode hex":"2B66"},{"Typeface name":"Wingdings 3","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"11111","Unicode hex":"2B67"},{"Typeface name":"Wingdings 3","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"11113","Unicode hex":"2B69"},{"Typeface name":"Wingdings 3","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"11112","Unicode hex":"2B68"},{"Typeface name":"Wingdings 3","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"11120","Unicode hex":"2B70"},{"Typeface name":"Wingdings 3","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"11122","Unicode hex":"2B72"},{"Typeface name":"Wingdings 3","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"11121","Unicode hex":"2B71"},{"Typeface name":"Wingdings 3","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"11123","Unicode hex":"2B73"},{"Typeface name":"Wingdings 3","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"11126","Unicode hex":"2B76"},{"Typeface name":"Wingdings 3","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"11128","Unicode hex":"2B78"},{"Typeface name":"Wingdings 3","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"11131","Unicode hex":"2B7B"},{"Typeface name":"Wingdings 3","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"11133","Unicode hex":"2B7D"},{"Typeface name":"Wingdings 3","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"11108","Unicode hex":"2B64"},{"Typeface name":"Wingdings 3","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"11109","Unicode hex":"2B65"},{"Typeface name":"Wingdings 3","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"11114","Unicode hex":"2B6A"},{"Typeface name":"Wingdings 3","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"11116","Unicode hex":"2B6C"},{"Typeface name":"Wingdings 3","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"11115","Unicode hex":"2B6B"},{"Typeface name":"Wingdings 3","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"11117","Unicode hex":"2B6D"},{"Typeface name":"Wingdings 3","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"11085","Unicode hex":"2B4D"},{"Typeface name":"Wingdings 3","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"11168","Unicode hex":"2BA0"},{"Typeface name":"Wingdings 3","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"11169","Unicode hex":"2BA1"},{"Typeface name":"Wingdings 3","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"11170","Unicode hex":"2BA2"},{"Typeface name":"Wingdings 3","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"11171","Unicode hex":"2BA3"},{"Typeface name":"Wingdings 3","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"11172","Unicode hex":"2BA4"},{"Typeface name":"Wingdings 3","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"11173","Unicode hex":"2BA5"},{"Typeface name":"Wingdings 3","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"11174","Unicode hex":"2BA6"},{"Typeface name":"Wingdings 3","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"11175","Unicode hex":"2BA7"},{"Typeface name":"Wingdings 3","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"11152","Unicode hex":"2B90"},{"Typeface name":"Wingdings 3","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"11153","Unicode hex":"2B91"},{"Typeface name":"Wingdings 3","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"11154","Unicode hex":"2B92"},{"Typeface name":"Wingdings 3","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"11155","Unicode hex":"2B93"},{"Typeface name":"Wingdings 3","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"11136","Unicode hex":"2B80"},{"Typeface name":"Wingdings 3","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"11139","Unicode hex":"2B83"},{"Typeface name":"Wingdings 3","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"11134","Unicode hex":"2B7E"},{"Typeface name":"Wingdings 3","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"11135","Unicode hex":"2B7F"},{"Typeface name":"Wingdings 3","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"11140","Unicode hex":"2B84"},{"Typeface name":"Wingdings 3","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"11142","Unicode hex":"2B86"},{"Typeface name":"Wingdings 3","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"11141","Unicode hex":"2B85"},{"Typeface name":"Wingdings 3","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"11143","Unicode hex":"2B87"},{"Typeface name":"Wingdings 3","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"11151","Unicode hex":"2B8F"},{"Typeface name":"Wingdings 3","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"11149","Unicode hex":"2B8D"},{"Typeface name":"Wingdings 3","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"11150","Unicode hex":"2B8E"},{"Typeface name":"Wingdings 3","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"11148","Unicode hex":"2B8C"},{"Typeface name":"Wingdings 3","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"11118","Unicode hex":"2B6E"},{"Typeface name":"Wingdings 3","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"11119","Unicode hex":"2B6F"},{"Typeface name":"Wingdings 3","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9099","Unicode hex":"238B"},{"Typeface name":"Wingdings 3","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"8996","Unicode hex":"2324"},{"Typeface name":"Wingdings 3","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"8963","Unicode hex":"2303"},{"Typeface name":"Wingdings 3","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"8997","Unicode hex":"2325"},{"Typeface name":"Wingdings 3","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"9251","Unicode hex":"2423"},{"Typeface name":"Wingdings 3","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"9085","Unicode hex":"237D"},{"Typeface name":"Wingdings 3","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"8682","Unicode hex":"21EA"},{"Typeface name":"Wingdings 3","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"11192","Unicode hex":"2BB8"},{"Typeface name":"Wingdings 3","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"129184","Unicode hex":"1F8A0"},{"Typeface name":"Wingdings 3","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"129185","Unicode hex":"1F8A1"},{"Typeface name":"Wingdings 3","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"129186","Unicode hex":"1F8A2"},{"Typeface name":"Wingdings 3","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"129187","Unicode hex":"1F8A3"},{"Typeface name":"Wingdings 3","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"129188","Unicode hex":"1F8A4"},{"Typeface name":"Wingdings 3","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"129189","Unicode hex":"1F8A5"},{"Typeface name":"Wingdings 3","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"129190","Unicode hex":"1F8A6"},{"Typeface name":"Wingdings 3","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"129191","Unicode hex":"1F8A7"},{"Typeface name":"Wingdings 3","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"129192","Unicode hex":"1F8A8"},{"Typeface name":"Wingdings 3","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"129193","Unicode hex":"1F8A9"},{"Typeface name":"Wingdings 3","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"129194","Unicode hex":"1F8AA"},{"Typeface name":"Wingdings 3","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"129195","Unicode hex":"1F8AB"},{"Typeface name":"Wingdings 3","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"129104","Unicode hex":"1F850"},{"Typeface name":"Wingdings 3","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"129106","Unicode hex":"1F852"},{"Typeface name":"Wingdings 3","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"129105","Unicode hex":"1F851"},{"Typeface name":"Wingdings 3","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"129107","Unicode hex":"1F853"},{"Typeface name":"Wingdings 3","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"129108","Unicode hex":"1F854"},{"Typeface name":"Wingdings 3","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"129109","Unicode hex":"1F855"},{"Typeface name":"Wingdings 3","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"129111","Unicode hex":"1F857"},{"Typeface name":"Wingdings 3","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"129110","Unicode hex":"1F856"},{"Typeface name":"Wingdings 3","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"129112","Unicode hex":"1F858"},{"Typeface name":"Wingdings 3","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"129113","Unicode hex":"1F859"},{"Typeface name":"Wingdings 3","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9650","Unicode hex":"25B2"},{"Typeface name":"Wingdings 3","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9660","Unicode hex":"25BC"},{"Typeface name":"Wingdings 3","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9651","Unicode hex":"25B3"},{"Typeface name":"Wingdings 3","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9661","Unicode hex":"25BD"},{"Typeface name":"Wingdings 3","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9664","Unicode hex":"25C0"},{"Typeface name":"Wingdings 3","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9654","Unicode hex":"25B6"},{"Typeface name":"Wingdings 3","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"9665","Unicode hex":"25C1"},{"Typeface name":"Wingdings 3","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9655","Unicode hex":"25B7"},{"Typeface name":"Wingdings 3","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"9699","Unicode hex":"25E3"},{"Typeface name":"Wingdings 3","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"9698","Unicode hex":"25E2"},{"Typeface name":"Wingdings 3","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"9700","Unicode hex":"25E4"},{"Typeface name":"Wingdings 3","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"9701","Unicode hex":"25E5"},{"Typeface name":"Wingdings 3","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"128896","Unicode hex":"1F780"},{"Typeface name":"Wingdings 3","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128898","Unicode hex":"1F782"},{"Typeface name":"Wingdings 3","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128897","Unicode hex":"1F781"},{"Typeface name":"Wingdings 3","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128899","Unicode hex":"1F783"},{"Typeface name":"Wingdings 3","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"11205","Unicode hex":"2BC5"},{"Typeface name":"Wingdings 3","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"11206","Unicode hex":"2BC6"},{"Typeface name":"Wingdings 3","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"11207","Unicode hex":"2BC7"},{"Typeface name":"Wingdings 3","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11208","Unicode hex":"2BC8"},{"Typeface name":"Wingdings 3","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"11164","Unicode hex":"2B9C"},{"Typeface name":"Wingdings 3","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"11166","Unicode hex":"2B9E"},{"Typeface name":"Wingdings 3","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"11165","Unicode hex":"2B9D"},{"Typeface name":"Wingdings 3","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"11167","Unicode hex":"2B9F"},{"Typeface name":"Wingdings 3","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"129040","Unicode hex":"1F810"},{"Typeface name":"Wingdings 3","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"129042","Unicode hex":"1F812"},{"Typeface name":"Wingdings 3","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"129041","Unicode hex":"1F811"},{"Typeface name":"Wingdings 3","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"129043","Unicode hex":"1F813"},{"Typeface name":"Wingdings 3","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"129044","Unicode hex":"1F814"},{"Typeface name":"Wingdings 3","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"129046","Unicode hex":"1F816"},{"Typeface name":"Wingdings 3","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"129045","Unicode hex":"1F815"},{"Typeface name":"Wingdings 3","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"129047","Unicode hex":"1F817"},{"Typeface name":"Wingdings 3","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"129048","Unicode hex":"1F818"},{"Typeface name":"Wingdings 3","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"129050","Unicode hex":"1F81A"},{"Typeface name":"Wingdings 3","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"129049","Unicode hex":"1F819"},{"Typeface name":"Wingdings 3","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"129051","Unicode hex":"1F81B"},{"Typeface name":"Wingdings 3","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"129052","Unicode hex":"1F81C"},{"Typeface name":"Wingdings 3","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"129054","Unicode hex":"1F81E"},{"Typeface name":"Wingdings 3","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"129053","Unicode hex":"1F81D"},{"Typeface name":"Wingdings 3","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"129055","Unicode hex":"1F81F"},{"Typeface name":"Wingdings 3","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"129024","Unicode hex":"1F800"},{"Typeface name":"Wingdings 3","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"129026","Unicode hex":"1F802"},{"Typeface name":"Wingdings 3","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"129025","Unicode hex":"1F801"},{"Typeface name":"Wingdings 3","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"129027","Unicode hex":"1F803"},{"Typeface name":"Wingdings 3","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"129028","Unicode hex":"1F804"},{"Typeface name":"Wingdings 3","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"129030","Unicode hex":"1F806"},{"Typeface name":"Wingdings 3","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"129029","Unicode hex":"1F805"},{"Typeface name":"Wingdings 3","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"129031","Unicode hex":"1F807"},{"Typeface name":"Wingdings 3","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"129032","Unicode hex":"1F808"},{"Typeface name":"Wingdings 3","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"129034","Unicode hex":"1F80A"},{"Typeface name":"Wingdings 3","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"129033","Unicode hex":"1F809"},{"Typeface name":"Wingdings 3","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"129035","Unicode hex":"1F80B"},{"Typeface name":"Wingdings 3","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"129056","Unicode hex":"1F820"},{"Typeface name":"Wingdings 3","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"129058","Unicode hex":"1F822"},{"Typeface name":"Wingdings 3","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"129060","Unicode hex":"1F824"},{"Typeface name":"Wingdings 3","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"129062","Unicode hex":"1F826"},{"Typeface name":"Wingdings 3","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"129064","Unicode hex":"1F828"},{"Typeface name":"Wingdings 3","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"129066","Unicode hex":"1F82A"},{"Typeface name":"Wingdings 3","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"129068","Unicode hex":"1F82C"},{"Typeface name":"Wingdings 3","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"129180","Unicode hex":"1F89C"},{"Typeface name":"Wingdings 3","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"129181","Unicode hex":"1F89D"},{"Typeface name":"Wingdings 3","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"129182","Unicode hex":"1F89E"},{"Typeface name":"Wingdings 3","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"129183","Unicode hex":"1F89F"},{"Typeface name":"Wingdings 3","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"129070","Unicode hex":"1F82E"},{"Typeface name":"Wingdings 3","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"129072","Unicode hex":"1F830"},{"Typeface name":"Wingdings 3","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"129074","Unicode hex":"1F832"},{"Typeface name":"Wingdings 3","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"129076","Unicode hex":"1F834"},{"Typeface name":"Wingdings 3","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"129078","Unicode hex":"1F836"},{"Typeface name":"Wingdings 3","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"129080","Unicode hex":"1F838"},{"Typeface name":"Wingdings 3","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"129082","Unicode hex":"1F83A"},{"Typeface name":"Wingdings 3","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"129081","Unicode hex":"1F839"},{"Typeface name":"Wingdings 3","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"129083","Unicode hex":"1F83B"},{"Typeface name":"Wingdings 3","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"129176","Unicode hex":"1F898"},{"Typeface name":"Wingdings 3","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"129178","Unicode hex":"1F89A"},{"Typeface name":"Wingdings 3","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"129177","Unicode hex":"1F899"},{"Typeface name":"Wingdings 3","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"129179","Unicode hex":"1F89B"},{"Typeface name":"Wingdings 3","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"129084","Unicode hex":"1F83C"},{"Typeface name":"Wingdings 3","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"129086","Unicode hex":"1F83E"},{"Typeface name":"Wingdings 3","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"129085","Unicode hex":"1F83D"},{"Typeface name":"Wingdings 3","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"129087","Unicode hex":"1F83F"},{"Typeface name":"Wingdings 3","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"129088","Unicode hex":"1F840"},{"Typeface name":"Wingdings 3","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"129090","Unicode hex":"1F842"},{"Typeface name":"Wingdings 3","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"129089","Unicode hex":"1F841"},{"Typeface name":"Wingdings 3","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"129091","Unicode hex":"1F843"},{"Typeface name":"Wingdings 3","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"129092","Unicode hex":"1F844"},{"Typeface name":"Wingdings 3","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"129094","Unicode hex":"1F846"},{"Typeface name":"Wingdings 3","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"129093","Unicode hex":"1F845"},{"Typeface name":"Wingdings 3","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"129095","Unicode hex":"1F847"},{"Typeface name":"Wingdings 3","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11176","Unicode hex":"2BA8"},{"Typeface name":"Wingdings 3","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11177","Unicode hex":"2BA9"},{"Typeface name":"Wingdings 3","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"11178","Unicode hex":"2BAA"},{"Typeface name":"Wingdings 3","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"11179","Unicode hex":"2BAB"},{"Typeface name":"Wingdings 3","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"11180","Unicode hex":"2BAC"},{"Typeface name":"Wingdings 3","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"11181","Unicode hex":"2BAD"},{"Typeface name":"Wingdings 3","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"11182","Unicode hex":"2BAE"},{"Typeface name":"Wingdings 3","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"11183","Unicode hex":"2BAF"},{"Typeface name":"Wingdings 3","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"129120","Unicode hex":"1F860"},{"Typeface name":"Wingdings 3","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"129122","Unicode hex":"1F862"},{"Typeface name":"Wingdings 3","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"129121","Unicode hex":"1F861"},{"Typeface name":"Wingdings 3","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"129123","Unicode hex":"1F863"},{"Typeface name":"Wingdings 3","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"129124","Unicode hex":"1F864"},{"Typeface name":"Wingdings 3","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"129125","Unicode hex":"1F865"},{"Typeface name":"Wingdings 3","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"129127","Unicode hex":"1F867"},{"Typeface name":"Wingdings 3","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"129126","Unicode hex":"1F866"},{"Typeface name":"Wingdings 3","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"129136","Unicode hex":"1F870"},{"Typeface name":"Wingdings 3","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"129138","Unicode hex":"1F872"},{"Typeface name":"Wingdings 3","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"129137","Unicode hex":"1F871"},{"Typeface name":"Wingdings 3","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"129139","Unicode hex":"1F873"},{"Typeface name":"Wingdings 3","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"129140","Unicode hex":"1F874"},{"Typeface name":"Wingdings 3","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"129141","Unicode hex":"1F875"},{"Typeface name":"Wingdings 3","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129143","Unicode hex":"1F877"},{"Typeface name":"Wingdings 3","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129142","Unicode hex":"1F876"},{"Typeface name":"Wingdings 3","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129152","Unicode hex":"1F880"},{"Typeface name":"Wingdings 3","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129154","Unicode hex":"1F882"},{"Typeface name":"Wingdings 3","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129153","Unicode hex":"1F881"},{"Typeface name":"Wingdings 3","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129155","Unicode hex":"1F883"},{"Typeface name":"Wingdings 3","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129156","Unicode hex":"1F884"},{"Typeface name":"Wingdings 3","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129157","Unicode hex":"1F885"},{"Typeface name":"Wingdings 3","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129159","Unicode hex":"1F887"},{"Typeface name":"Wingdings 3","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129158","Unicode hex":"1F886"},{"Typeface name":"Wingdings 3","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129168","Unicode hex":"1F890"},{"Typeface name":"Wingdings 3","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129170","Unicode hex":"1F892"},{"Typeface name":"Wingdings 3","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129169","Unicode hex":"1F891"},{"Typeface name":"Wingdings 3","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129171","Unicode hex":"1F893"},{"Typeface name":"Wingdings 3","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129172","Unicode hex":"1F894"},{"Typeface name":"Wingdings 3","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129174","Unicode hex":"1F896"},{"Typeface name":"Wingdings 3","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"129173","Unicode hex":"1F895"},{"Typeface name":"Wingdings 3","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"129175","Unicode hex":"1F897"}];r.default=s},{}],85:[function(t,i,r){function s(y,_){return f[y.toUpperCase()+"_"+_]}function a(y,_){return s(y,parseInt(_,10))}function o(y,_){return s(y,parseInt(_,16))}function c(y){if(65535>=y)return String.fromCharCode(y);var _=Math.floor((y-65536)/1024)+55296,x=(y-65536)%1024+56320;return String.fromCharCode(_,x)}var d=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(r,"__esModule",{value:!0}),r.hex=r.dec=r.codePoint=void 0;for(var u=d(t("./dingbats")),f={},h=String.fromCodePoint?String.fromCodePoint:c,p=0,v=u.default;p<v.length;p++){var w=v[p],b=parseInt(w["Unicode dec"],10),m={codePoint:b,string:h(b)};f[w["Typeface name"].toUpperCase()+"_"+w["Dingbat dec"]]=m}r.codePoint=s,r.dec=a,r.hex=o},{"./dingbats":84}],86:[function(t,i,r){r.read=function(s,a,o,c,d){var u,f,h=8*d-c-1,p=(1<<h)-1,v=p>>1,w=-7,b=o?d-1:0,m=o?-1:1,y=s[a+b];for(b+=m,u=y&(1<<-w)-1,y>>=-w,w+=h;w>0;u=256*u+s[a+b],b+=m,w-=8);for(f=u&(1<<-w)-1,u>>=-w,w+=c;w>0;f=256*f+s[a+b],b+=m,w-=8);if(u===0)u=1-v;else{if(u===p)return f?NaN:(y?-1:1)*(1/0);f+=Math.pow(2,c),u-=v}return(y?-1:1)*f*Math.pow(2,u-c)},r.write=function(s,a,o,c,d,u){var f,h,p,v=8*u-d-1,w=(1<<v)-1,b=w>>1,m=d===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=c?0:u-1,_=c?1:-1,x=0>a||a===0&&0>1/a?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(h=isNaN(a)?1:0,f=w):(f=Math.floor(Math.log(a)/Math.LN2),a*(p=Math.pow(2,-f))<1&&(f--,p*=2),a+=f+b>=1?m/p:m*Math.pow(2,1-b),a*p>=2&&(f++,p/=2),f+b>=w?(h=0,f=w):f+b>=1?(h=(a*p-1)*Math.pow(2,d),f+=b):(h=a*Math.pow(2,b-1)*Math.pow(2,d),f=0));d>=8;s[o+y]=255&h,y+=_,h/=256,d-=8);for(f=f<<d|h,v+=d;v>0;s[o+y]=255&f,y+=_,f/=256,v-=8);s[o+y-_]|=128*x}},{}],87:[function(t,i,r){var s={}.toString;i.exports=Array.isArray||function(a){return s.call(a)=="[object Array]"}},{}],88:[function(t,i,r){(function(s,a){(function(o){typeof r=="object"&&typeof i<"u"?i.exports=o():(typeof window<"u"?window:typeof s<"u"?s:typeof self<"u"?self:this).JSZip=o()})(function(){return function o(c,d,u){function f(v,w){if(!d[v]){if(!c[v]){var b=typeof t=="function"&&t;if(!w&&b)return b(v,!0);if(h)return h(v,!0);var m=new Error("Cannot find module '"+v+"'");throw m.code="MODULE_NOT_FOUND",m}var y=d[v]={exports:{}};c[v][0].call(y.exports,function(_){var x=c[v][1][_];return f(x||_)},y,y.exports,o,c,d,u)}return d[v].exports}for(var h=typeof t=="function"&&t,p=0;p<u.length;p++)f(u[p]);return f}({1:[function(o,c,d){var u=o("./utils"),f=o("./support"),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";d.encode=function(p){for(var v,w,b,m,y,_,x,N=[],k=0,T=p.length,C=T,P=u.getTypeOf(p)!=="string";k<p.length;)C=T-k,b=P?(v=p[k++],w=T>k?p[k++]:0,T>k?p[k++]:0):(v=p.charCodeAt(k++),w=T>k?p.charCodeAt(k++):0,T>k?p.charCodeAt(k++):0),m=v>>2,y=(3&v)<<4|w>>4,_=C>1?(15&w)<<2|b>>6:64,x=C>2?63&b:64,N.push(h.charAt(m)+h.charAt(y)+h.charAt(_)+h.charAt(x));return N.join("")},d.decode=function(p){var v,w,b,m,y,_,x=0,N=0,k="data:";if(p.substr(0,k.length)===k)throw new Error("Invalid base64 input, it looks like a data url.");var T,C=3*(p=p.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(p.charAt(p.length-1)===h.charAt(64)&&C--,p.charAt(p.length-2)===h.charAt(64)&&C--,C%1!=0)throw new Error("Invalid base64 input, bad content length.");for(T=f.uint8array?new Uint8Array(0|C):new Array(0|C);x<p.length;)v=h.indexOf(p.charAt(x++))<<2|(m=h.indexOf(p.charAt(x++)))>>4,w=(15&m)<<4|(y=h.indexOf(p.charAt(x++)))>>2,b=(3&y)<<6|(_=h.indexOf(p.charAt(x++))),T[N++]=v,y!==64&&(T[N++]=w),_!==64&&(T[N++]=b);return T}},{"./support":30,"./utils":32}],2:[function(o,c,d){function u(w,b,m,y,_){this.compressedSize=w,this.uncompressedSize=b,this.crc32=m,this.compression=y,this.compressedContent=_}var f=o("./external"),h=o("./stream/DataWorker"),p=o("./stream/Crc32Probe"),v=o("./stream/DataLengthProbe");u.prototype={getContentWorker:function(){var w=new h(f.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new v("data_length")),b=this;return w.on("end",function(){if(this.streamInfo.data_length!==b.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),w},getCompressedWorker:function(){return new h(f.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(w,b,m){return w.pipe(new p).pipe(new v("uncompressedSize")).pipe(b.compressWorker(m)).pipe(new v("compressedSize")).withStreamInfo("compression",b)},c.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(o,c,d){var u=o("./stream/GenericWorker");d.STORE={magic:"\0\0",compressWorker:function(f){return new u("STORE compression")},uncompressWorker:function(){return new u("STORE decompression")}},d.DEFLATE=o("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(o,c,d){var u=o("./utils"),f=function(){for(var h,p=[],v=0;256>v;v++){h=v;for(var w=0;8>w;w++)h=1&h?3988292384^h>>>1:h>>>1;p[v]=h}return p}();c.exports=function(h,p){return h!==void 0&&h.length?u.getTypeOf(h)!=="string"?function(v,w,b,m){var y=f,_=m+b;v^=-1;for(var x=m;_>x;x++)v=v>>>8^y[255&(v^w[x])];return-1^v}(0|p,h,h.length,0):function(v,w,b,m){var y=f,_=m+b;v^=-1;for(var x=m;_>x;x++)v=v>>>8^y[255&(v^w.charCodeAt(x))];return-1^v}(0|p,h,h.length,0):0}},{"./utils":32}],5:[function(o,c,d){d.base64=!1,d.binary=!1,d.dir=!1,d.createFolders=!0,d.date=null,d.compression=null,d.compressionOptions=null,d.comment=null,d.unixPermissions=null,d.dosPermissions=null},{}],6:[function(o,c,d){var u=null;u=typeof Promise<"u"?Promise:o("lie"),c.exports={Promise:u}},{lie:37}],7:[function(o,c,d){function u(b,m){v.call(this,"FlateWorker/"+b),this._pako=null,this._pakoAction=b,this._pakoOptions=m,this.meta={}}var f=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",h=o("pako"),p=o("./utils"),v=o("./stream/GenericWorker"),w=f?"uint8array":"array";d.magic="\b\0",p.inherits(u,v),u.prototype.processChunk=function(b){this.meta=b.meta,this._pako===null&&this._createPako(),this._pako.push(p.transformTo(w,b.data),!1)},u.prototype.flush=function(){v.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},u.prototype.cleanUp=function(){v.prototype.cleanUp.call(this),this._pako=null},u.prototype._createPako=function(){this._pako=new h[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var b=this;this._pako.onData=function(m){b.push({data:m,meta:b.meta})}},d.compressWorker=function(b){return new u("Deflate",b)},d.uncompressWorker=function(){return new u("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(o,c,d){function u(y,_){var x,N="";for(x=0;_>x;x++)N+=String.fromCharCode(255&y),y>>>=8;return N}function f(y,_,x,N,k,T){var C,P,D=y.file,E=y.compression,A=T!==w.utf8encode,I=p.transformTo("string",T(D.name)),R=p.transformTo("string",w.utf8encode(D.name)),M=D.comment,Y=p.transformTo("string",T(M)),q=p.transformTo("string",w.utf8encode(M)),G=R.length!==D.name.length,B=q.length!==M.length,J="",W="",L="",z=D.dir,X=D.date,Q={crc32:0,compressedSize:0,uncompressedSize:0};_&&!x||(Q.crc32=y.crc32,Q.compressedSize=y.compressedSize,Q.uncompressedSize=y.uncompressedSize);var V=0;_&&(V|=8),A||!G&&!B||(V|=2048);var Z=0,_e=0;z&&(Z|=16),k==="UNIX"?(_e=798,Z|=function(ce,Fe){var Ae=ce;return ce||(Ae=Fe?16893:33204),(65535&Ae)<<16}(D.unixPermissions,z)):(_e=20,Z|=function(ce){return 63&(ce||0)}(D.dosPermissions)),C=X.getUTCHours(),C<<=6,C|=X.getUTCMinutes(),C<<=5,C|=X.getUTCSeconds()/2,P=X.getUTCFullYear()-1980,P<<=4,P|=X.getUTCMonth()+1,P<<=5,P|=X.getUTCDate(),G&&(W=u(1,1)+u(b(I),4)+R,J+="up"+u(W.length,2)+W),B&&(L=u(1,1)+u(b(Y),4)+q,J+="uc"+u(L.length,2)+L);var le="";return le+=`
\0`,le+=u(V,2),le+=E.magic,le+=u(C,2),le+=u(P,2),le+=u(Q.crc32,4),le+=u(Q.compressedSize,4),le+=u(Q.uncompressedSize,4),le+=u(I.length,2),le+=u(J.length,2),{fileRecord:m.LOCAL_FILE_HEADER+le+I+J,dirRecord:m.CENTRAL_FILE_HEADER+u(_e,2)+le+u(Y.length,2)+"\0\0\0\0"+u(Z,4)+u(N,4)+I+J+Y}}function h(y,_,x,N){v.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=_,this.zipPlatform=x,this.encodeFileName=N,this.streamFiles=y,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}var p=o("../utils"),v=o("../stream/GenericWorker"),w=o("../utf8"),b=o("../crc32"),m=o("../signature");p.inherits(h,v),h.prototype.push=function(y){var _=y.meta.percent||0,x=this.entriesCount,N=this._sources.length;this.accumulate?this.contentBuffer.push(y):(this.bytesWritten+=y.data.length,v.prototype.push.call(this,{data:y.data,meta:{currentFile:this.currentFile,percent:x?(_+100*(x-N-1))/x:100}}))},h.prototype.openedSource=function(y){this.currentSourceOffset=this.bytesWritten,this.currentFile=y.file.name;var _=this.streamFiles&&!y.file.dir;if(_){var x=f(y,_,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:x.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(y){this.accumulate=!1;var _=this.streamFiles&&!y.file.dir,x=f(y,_,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(x.dirRecord),_)this.push({data:function(N){return m.DATA_DESCRIPTOR+u(N.crc32,4)+u(N.compressedSize,4)+u(N.uncompressedSize,4)}(y),meta:{percent:100}});else for(this.push({data:x.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var y=this.bytesWritten,_=0;_<this.dirRecords.length;_++)this.push({data:this.dirRecords[_],meta:{percent:100}});var x=this.bytesWritten-y,N=function(k,T,C,P,D){var E=p.transformTo("string",D(P));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+u(k,2)+u(k,2)+u(T,4)+u(C,4)+u(E.length,2)+E}(this.dirRecords.length,x,y,this.zipComment,this.encodeFileName);this.push({data:N,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(y){this._sources.push(y);var _=this;return y.on("data",function(x){_.processChunk(x)}),y.on("end",function(){_.closedSource(_.previous.streamInfo),_._sources.length?_.prepareNextSource():_.end()}),y.on("error",function(x){_.error(x)}),this},h.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(y){var _=this._sources;if(!v.prototype.error.call(this,y))return!1;for(var x=0;x<_.length;x++)try{_[x].error(y)}catch{}return!0},h.prototype.lock=function(){v.prototype.lock.call(this);for(var y=this._sources,_=0;_<y.length;_++)y[_].lock()},c.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(o,c,d){var u=o("../compressions"),f=o("./ZipFileWorker");d.generateWorker=function(h,p,v){var w=new f(p.streamFiles,v,p.platform,p.encodeFileName),b=0;try{h.forEach(function(m,y){b++;var _=function(T,C){var P=T||C,D=u[P];if(!D)throw new Error(P+" is not a valid compression method !");return D}(y.options.compression,p.compression),x=y.options.compressionOptions||p.compressionOptions||{},N=y.dir,k=y.date;y._compressWorker(_,x).withStreamInfo("file",{name:m,dir:N,date:k,comment:y.comment||"",unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions}).pipe(w)}),w.entriesCount=b}catch(m){w.error(m)}return w}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(o,c,d){function u(){if(!(this instanceof u))return new u;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var f=new u;for(var h in this)typeof this[h]!="function"&&(f[h]=this[h]);return f}}(u.prototype=o("./object")).loadAsync=o("./load"),u.support=o("./support"),u.defaults=o("./defaults"),u.version="3.7.1",u.loadAsync=function(f,h){return new u().loadAsync(f,h)},u.external=o("./external"),c.exports=u},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(o,c,d){function u(m){return new h.Promise(function(y,_){var x=m.decompressed.getContentWorker().pipe(new w);x.on("error",function(N){_(N)}).on("end",function(){x.streamInfo.crc32!==m.decompressed.crc32?_(new Error("Corrupted zip : CRC32 mismatch")):y()}).resume()})}var f=o("./utils"),h=o("./external"),p=o("./utf8"),v=o("./zipEntries"),w=o("./stream/Crc32Probe"),b=o("./nodejsUtils");c.exports=function(m,y){var _=this;return y=f.extend(y||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:p.utf8decode}),b.isNode&&b.isStream(m)?h.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):f.prepareContent("the loaded zip file",m,!0,y.optimizedBinaryString,y.base64).then(function(x){var N=new v(y);return N.load(x),N}).then(function(x){var N=[h.Promise.resolve(x)],k=x.files;if(y.checkCRC32)for(var T=0;T<k.length;T++)N.push(u(k[T]));return h.Promise.all(N)}).then(function(x){for(var N=x.shift(),k=N.files,T=0;T<k.length;T++){var C=k[T];_.file(C.fileNameStr,C.decompressed,{binary:!0,optimizedBinaryString:!0,date:C.date,dir:C.dir,comment:C.fileCommentStr.length?C.fileCommentStr:null,unixPermissions:C.unixPermissions,dosPermissions:C.dosPermissions,createFolders:y.createFolders})}return N.zipComment.length&&(_.comment=N.zipComment),_})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(o,c,d){function u(p,v){h.call(this,"Nodejs stream input adapter for "+p),this._upstreamEnded=!1,this._bindStream(v)}var f=o("../utils"),h=o("../stream/GenericWorker");f.inherits(u,h),u.prototype._bindStream=function(p){var v=this;(this._stream=p).pause(),p.on("data",function(w){v.push({data:w,meta:{percent:0}})}).on("error",function(w){v.isPaused?this.generatedError=w:v.error(w)}).on("end",function(){v.isPaused?v._upstreamEnded=!0:v.end()})},u.prototype.pause=function(){return!!h.prototype.pause.call(this)&&(this._stream.pause(),!0)},u.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},c.exports=u},{"../stream/GenericWorker":28,"../utils":32}],13:[function(o,c,d){function u(h,p,v){f.call(this,p),this._helper=h;var w=this;h.on("data",function(b,m){w.push(b)||w._helper.pause(),v&&v(m)}).on("error",function(b){w.emit("error",b)}).on("end",function(){w.push(null)})}var f=o("readable-stream").Readable;o("../utils").inherits(u,f),u.prototype._read=function(){this._helper.resume()},c.exports=u},{"../utils":32,"readable-stream":16}],14:[function(o,c,d){c.exports={isNode:typeof a<"u",newBufferFrom:function(u,f){if(a.from&&a.from!==Uint8Array.from)return a.from(u,f);if(typeof u=="number")throw new Error('The "data" argument must not be a number');return new a(u,f)},allocBuffer:function(u){if(a.alloc)return a.alloc(u);var f=new a(u);return f.fill(0),f},isBuffer:function(u){return a.isBuffer(u)},isStream:function(u){return u&&typeof u.on=="function"&&typeof u.pause=="function"&&typeof u.resume=="function"}}},{}],15:[function(o,c,d){function u(D,E,A){var I,R=p.getTypeOf(E),M=p.extend(A||{},b);M.date=M.date||new Date,M.compression!==null&&(M.compression=M.compression.toUpperCase()),typeof M.unixPermissions=="string"&&(M.unixPermissions=parseInt(M.unixPermissions,8)),M.unixPermissions&&16384&M.unixPermissions&&(M.dir=!0),M.dosPermissions&&16&M.dosPermissions&&(M.dir=!0),M.dir&&(D=T(D)),M.createFolders&&(I=k(D))&&C.call(this,I,!0);var Y=R==="string"&&M.binary===!1&&M.base64===!1;A&&A.binary!==void 0||(M.binary=!Y),(E instanceof m&&E.uncompressedSize===0||M.dir||!E||E.length===0)&&(M.base64=!1,M.binary=!0,E="",M.compression="STORE",R="string");var q=null;q=E instanceof m||E instanceof v?E:x.isNode&&x.isStream(E)?new N(D,E):p.prepareContent(D,E,M.binary,M.optimizedBinaryString,M.base64);var G=new y(D,q,M);this.files[D]=G}function f(D){return Object.prototype.toString.call(D)==="[object RegExp]"}var h=o("./utf8"),p=o("./utils"),v=o("./stream/GenericWorker"),w=o("./stream/StreamHelper"),b=o("./defaults"),m=o("./compressedObject"),y=o("./zipObject"),_=o("./generate"),x=o("./nodejsUtils"),N=o("./nodejs/NodejsStreamInputAdapter"),k=function(D){D.slice(-1)==="/"&&(D=D.substring(0,D.length-1));var E=D.lastIndexOf("/");return E>0?D.substring(0,E):""},T=function(D){return D.slice(-1)!=="/"&&(D+="/"),D},C=function(D,E){return E=E!==void 0?E:b.createFolders,D=T(D),this.files[D]||u.call(this,D,null,{dir:!0,createFolders:E}),this.files[D]},P={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(D){var E,A,I;for(E in this.files)I=this.files[E],(A=E.slice(this.root.length,E.length))&&E.slice(0,this.root.length)===this.root&&D(A,I)},filter:function(D){var E=[];return this.forEach(function(A,I){D(A,I)&&E.push(I)}),E},file:function(D,E,A){if(arguments.length!==1)return D=this.root+D,u.call(this,D,E,A),this;if(f(D)){var I=D;return this.filter(function(M,Y){return!Y.dir&&I.test(M)})}var R=this.files[this.root+D];return R&&!R.dir?R:null},folder:function(D){if(!D)return this;if(f(D))return this.filter(function(R,M){return M.dir&&D.test(R)});var E=this.root+D,A=C.call(this,E),I=this.clone();return I.root=A.name,I},remove:function(D){D=this.root+D;var E=this.files[D];if(E||(D.slice(-1)!=="/"&&(D+="/"),E=this.files[D]),E&&!E.dir)delete this.files[D];else for(var A=this.filter(function(R,M){return M.name.slice(0,D.length)===D}),I=0;I<A.length;I++)delete this.files[A[I].name];return this},generate:function(D){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(D){var E,A={};try{if((A=p.extend(D||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:h.utf8encode})).type=A.type.toLowerCase(),A.compression=A.compression.toUpperCase(),A.type==="binarystring"&&(A.type="string"),!A.type)throw new Error("No output type specified.");p.checkSupport(A.type),A.platform!=="darwin"&&A.platform!=="freebsd"&&A.platform!=="linux"&&A.platform!=="sunos"||(A.platform="UNIX"),A.platform==="win32"&&(A.platform="DOS");var I=A.comment||this.comment||"";E=_.generateWorker(this,A,I)}catch(R){(E=new v("error")).error(R)}return new w(E,A.type||"string",A.mimeType)},generateAsync:function(D,E){return this.generateInternalStream(D).accumulate(E)},generateNodeStream:function(D,E){return(D=D||{}).type||(D.type="nodebuffer"),this.generateInternalStream(D).toNodejsStream(E)}};c.exports=P},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(o,c,d){c.exports=o("stream")},{stream:void 0}],17:[function(o,c,d){function u(h){f.call(this,h);for(var p=0;p<this.data.length;p++)h[p]=255&h[p]}var f=o("./DataReader");o("../utils").inherits(u,f),u.prototype.byteAt=function(h){return this.data[this.zero+h]},u.prototype.lastIndexOfSignature=function(h){for(var p=h.charCodeAt(0),v=h.charCodeAt(1),w=h.charCodeAt(2),b=h.charCodeAt(3),m=this.length-4;m>=0;--m)if(this.data[m]===p&&this.data[m+1]===v&&this.data[m+2]===w&&this.data[m+3]===b)return m-this.zero;return-1},u.prototype.readAndCheckSignature=function(h){var p=h.charCodeAt(0),v=h.charCodeAt(1),w=h.charCodeAt(2),b=h.charCodeAt(3),m=this.readData(4);return p===m[0]&&v===m[1]&&w===m[2]&&b===m[3]},u.prototype.readData=function(h){if(this.checkOffset(h),h===0)return[];var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},c.exports=u},{"../utils":32,"./DataReader":18}],18:[function(o,c,d){function u(h){this.data=h,this.length=h.length,this.index=0,this.zero=0}var f=o("../utils");u.prototype={checkOffset:function(h){this.checkIndex(this.index+h)},checkIndex:function(h){if(this.length<this.zero+h||0>h)throw new Error("End of data reached (data length = "+this.length+", asked index = "+h+"). Corrupted zip ?")},setIndex:function(h){this.checkIndex(h),this.index=h},skip:function(h){this.setIndex(this.index+h)},byteAt:function(h){},readInt:function(h){var p,v=0;for(this.checkOffset(h),p=this.index+h-1;p>=this.index;p--)v=(v<<8)+this.byteAt(p);return this.index+=h,v},readString:function(h){return f.transformTo("string",this.readData(h))},readData:function(h){},lastIndexOfSignature:function(h){},readAndCheckSignature:function(h){},readDate:function(){var h=this.readInt(4);return new Date(Date.UTC(1980+(h>>25&127),(h>>21&15)-1,h>>16&31,h>>11&31,h>>5&63,(31&h)<<1))}},c.exports=u},{"../utils":32}],19:[function(o,c,d){function u(h){f.call(this,h)}var f=o("./Uint8ArrayReader");o("../utils").inherits(u,f),u.prototype.readData=function(h){this.checkOffset(h);var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},c.exports=u},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(o,c,d){function u(h){f.call(this,h)}var f=o("./DataReader");o("../utils").inherits(u,f),u.prototype.byteAt=function(h){return this.data.charCodeAt(this.zero+h)},u.prototype.lastIndexOfSignature=function(h){return this.data.lastIndexOf(h)-this.zero},u.prototype.readAndCheckSignature=function(h){return h===this.readData(4)},u.prototype.readData=function(h){this.checkOffset(h);var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},c.exports=u},{"../utils":32,"./DataReader":18}],21:[function(o,c,d){function u(h){f.call(this,h)}var f=o("./ArrayReader");o("../utils").inherits(u,f),u.prototype.readData=function(h){if(this.checkOffset(h),h===0)return new Uint8Array(0);var p=this.data.subarray(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},c.exports=u},{"../utils":32,"./ArrayReader":17}],22:[function(o,c,d){var u=o("../utils"),f=o("../support"),h=o("./ArrayReader"),p=o("./StringReader"),v=o("./NodeBufferReader"),w=o("./Uint8ArrayReader");c.exports=function(b){var m=u.getTypeOf(b);return u.checkSupport(m),m!=="string"||f.uint8array?m==="nodebuffer"?new v(b):f.uint8array?new w(u.transformTo("uint8array",b)):new h(u.transformTo("array",b)):new p(b)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(o,c,d){d.LOCAL_FILE_HEADER="PK",d.CENTRAL_FILE_HEADER="PK",d.CENTRAL_DIRECTORY_END="PK",d.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",d.ZIP64_CENTRAL_DIRECTORY_END="PK",d.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(o,c,d){function u(p){f.call(this,"ConvertWorker to "+p),this.destType=p}var f=o("./GenericWorker"),h=o("../utils");h.inherits(u,f),u.prototype.processChunk=function(p){this.push({data:h.transformTo(this.destType,p.data),meta:p.meta})},c.exports=u},{"../utils":32,"./GenericWorker":28}],25:[function(o,c,d){function u(){f.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}var f=o("./GenericWorker"),h=o("../crc32");o("../utils").inherits(u,f),u.prototype.processChunk=function(p){this.streamInfo.crc32=h(p.data,this.streamInfo.crc32||0),this.push(p)},c.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(o,c,d){function u(p){h.call(this,"DataLengthProbe for "+p),this.propName=p,this.withStreamInfo(p,0)}var f=o("../utils"),h=o("./GenericWorker");f.inherits(u,h),u.prototype.processChunk=function(p){if(p){var v=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=v+p.data.length}h.prototype.processChunk.call(this,p)},c.exports=u},{"../utils":32,"./GenericWorker":28}],27:[function(o,c,d){function u(p){h.call(this,"DataWorker");var v=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,p.then(function(w){v.dataIsReady=!0,v.data=w,v.max=w&&w.length||0,v.type=f.getTypeOf(w),v.isPaused||v._tickAndRepeat()},function(w){v.error(w)})}var f=o("../utils"),h=o("./GenericWorker");f.inherits(u,h),u.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,f.delay(this._tickAndRepeat,[],this)),!0)},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(f.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var p=null,v=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":p=this.data.substring(this.index,v);break;case"uint8array":p=this.data.subarray(this.index,v);break;case"array":case"nodebuffer":p=this.data.slice(this.index,v)}return this.index=v,this.push({data:p,meta:{percent:this.max?this.index/this.max*100:0}})},c.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(o,c,d){function u(f){this.name=f||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}u.prototype={push:function(f){this.emit("data",f)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(f){this.emit("error",f)}return!0},error:function(f){return!this.isFinished&&(this.isPaused?this.generatedError=f:(this.isFinished=!0,this.emit("error",f),this.previous&&this.previous.error(f),this.cleanUp()),!0)},on:function(f,h){return this._listeners[f].push(h),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(f,h){if(this._listeners[f])for(var p=0;p<this._listeners[f].length;p++)this._listeners[f][p].call(this,h)},pipe:function(f){return f.registerPrevious(this)},registerPrevious:function(f){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=f.streamInfo,this.mergeStreamInfo(),this.previous=f;var h=this;return f.on("data",function(p){h.processChunk(p)}),f.on("end",function(){h.end()}),f.on("error",function(p){h.error(p)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var f=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),f=!0),this.previous&&this.previous.resume(),!f},flush:function(){},processChunk:function(f){this.push(f)},withStreamInfo:function(f,h){return this.extraStreamInfo[f]=h,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var f in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(f)&&(this.streamInfo[f]=this.extraStreamInfo[f])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var f="Worker "+this.name;return this.previous?this.previous+" -> "+f:f}},c.exports=u},{}],29:[function(o,c,d){function u(_,x){return new m.Promise(function(N,k){var T=[],C=_._internalType,P=_._outputType,D=_._mimeType;_.on("data",function(E,A){T.push(E),x&&x(A)}).on("error",function(E){T=[],k(E)}).on("end",function(){try{var E=function(A,I,R){switch(A){case"blob":return h.newBlob(h.transformTo("arraybuffer",I),R);case"base64":return w.encode(I);default:return h.transformTo(A,I)}}(P,function(A,I){var R,M=0,Y=null,q=0;for(R=0;R<I.length;R++)q+=I[R].length;switch(A){case"string":return I.join("");case"array":return Array.prototype.concat.apply([],I);case"uint8array":for(Y=new Uint8Array(q),R=0;R<I.length;R++)Y.set(I[R],M),M+=I[R].length;return Y;case"nodebuffer":return a.concat(I);default:throw new Error("concat : unsupported type '"+A+"'")}}(C,T),D);N(E)}catch(A){k(A)}T=[]}).resume()})}function f(_,x,N){var k=x;switch(x){case"blob":case"arraybuffer":k="uint8array";break;case"base64":k="string"}try{this._internalType=k,this._outputType=x,this._mimeType=N,h.checkSupport(k),this._worker=_.pipe(new p(k)),_.lock()}catch(T){this._worker=new v("error"),this._worker.error(T)}}var h=o("../utils"),p=o("./ConvertWorker"),v=o("./GenericWorker"),w=o("../base64"),b=o("../support"),m=o("../external"),y=null;if(b.nodestream)try{y=o("../nodejs/NodejsStreamOutputAdapter")}catch{}f.prototype={accumulate:function(_){return u(this,_)},on:function(_,x){var N=this;return _==="data"?this._worker.on(_,function(k){x.call(N,k.data,k.meta)}):this._worker.on(_,function(){h.delay(x,arguments,N)}),this},resume:function(){return h.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(_){if(h.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new y(this,{objectMode:this._outputType!=="nodebuffer"},_)}},c.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(o,c,d){if(d.base64=!0,d.array=!0,d.string=!0,d.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",d.nodebuffer=typeof a<"u",d.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")d.blob=!1;else{var u=new ArrayBuffer(0);try{d.blob=new Blob([u],{type:"application/zip"}).size===0}catch{try{var f=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);f.append(u),d.blob=f.getBlob("application/zip").size===0}catch{d.blob=!1}}}try{d.nodestream=!!o("readable-stream").Readable}catch{d.nodestream=!1}},{"readable-stream":16}],31:[function(o,c,d){function u(){w.call(this,"utf-8 decode"),this.leftOver=null}function f(){w.call(this,"utf-8 encode")}for(var h=o("./utils"),p=o("./support"),v=o("./nodejsUtils"),w=o("./stream/GenericWorker"),b=new Array(256),m=0;256>m;m++)b[m]=m>=252?6:m>=248?5:m>=240?4:m>=224?3:m>=192?2:1;b[254]=b[254]=1,d.utf8encode=function(y){return p.nodebuffer?v.newBufferFrom(y,"utf-8"):function(_){var x,N,k,T,C,P=_.length,D=0;for(T=0;P>T;T++)(64512&(N=_.charCodeAt(T)))==55296&&P>T+1&&(64512&(k=_.charCodeAt(T+1)))==56320&&(N=65536+(N-55296<<10)+(k-56320),T++),D+=128>N?1:2048>N?2:65536>N?3:4;for(x=p.uint8array?new Uint8Array(D):new Array(D),T=C=0;D>C;T++)(64512&(N=_.charCodeAt(T)))==55296&&P>T+1&&(64512&(k=_.charCodeAt(T+1)))==56320&&(N=65536+(N-55296<<10)+(k-56320),T++),128>N?x[C++]=N:(2048>N?x[C++]=192|N>>>6:(65536>N?x[C++]=224|N>>>12:(x[C++]=240|N>>>18,x[C++]=128|N>>>12&63),x[C++]=128|N>>>6&63),x[C++]=128|63&N);return x}(y)},d.utf8decode=function(y){return p.nodebuffer?h.transformTo("nodebuffer",y).toString("utf-8"):function(_){var x,N,k,T,C=_.length,P=new Array(2*C);for(x=N=0;C>x;)if((k=_[x++])<128)P[N++]=k;else if(4<(T=b[k]))P[N++]=65533,x+=T-1;else{for(k&=T===2?31:T===3?15:7;T>1&&C>x;)k=k<<6|63&_[x++],T--;T>1?P[N++]=65533:65536>k?P[N++]=k:(k-=65536,P[N++]=55296|k>>10&1023,P[N++]=56320|1023&k)}return P.length!==N&&(P.subarray?P=P.subarray(0,N):P.length=N),h.applyFromCharCode(P)}(y=h.transformTo(p.uint8array?"uint8array":"array",y))},h.inherits(u,w),u.prototype.processChunk=function(y){var _=h.transformTo(p.uint8array?"uint8array":"array",y.data);if(this.leftOver&&this.leftOver.length){if(p.uint8array){var x=_;(_=new Uint8Array(x.length+this.leftOver.length)).set(this.leftOver,0),_.set(x,this.leftOver.length)}else _=this.leftOver.concat(_);this.leftOver=null}var N=function(T,C){var P;for((C=C||T.length)>T.length&&(C=T.length),P=C-1;P>=0&&(192&T[P])==128;)P--;return 0>P||P===0?C:P+b[T[P]]>C?P:C}(_),k=_;N!==_.length&&(p.uint8array?(k=_.subarray(0,N),this.leftOver=_.subarray(N,_.length)):(k=_.slice(0,N),this.leftOver=_.slice(N,_.length))),this.push({data:d.utf8decode(k),meta:y.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:d.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},d.Utf8DecodeWorker=u,h.inherits(f,w),f.prototype.processChunk=function(y){this.push({data:d.utf8encode(y.data),meta:y.meta})},d.Utf8EncodeWorker=f},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(o,c,d){function u(N){return N}function f(N,k){for(var T=0;T<N.length;++T)k[T]=255&N.charCodeAt(T);return k}function h(N){var k=65536,T=d.getTypeOf(N),C=!0;if(T==="uint8array"?C=_.applyCanBeUsed.uint8array:T==="nodebuffer"&&(C=_.applyCanBeUsed.nodebuffer),C)for(;k>1;)try{return _.stringifyByChunk(N,T,k)}catch{k=Math.floor(k/2)}return _.stringifyByChar(N)}function p(N,k){for(var T=0;T<N.length;T++)k[T]=N[T];return k}var v=o("./support"),w=o("./base64"),b=o("./nodejsUtils"),m=o("set-immediate-shim"),y=o("./external");d.newBlob=function(N,k){d.checkSupport("blob");try{return new Blob([N],{type:k})}catch{try{var T=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return T.append(N),T.getBlob(k)}catch{throw new Error("Bug : can't construct the Blob.")}}};var _={stringifyByChunk:function(N,k,T){var C=[],P=0,D=N.length;if(T>=D)return String.fromCharCode.apply(null,N);for(;D>P;)k==="array"||k==="nodebuffer"?C.push(String.fromCharCode.apply(null,N.slice(P,Math.min(P+T,D)))):C.push(String.fromCharCode.apply(null,N.subarray(P,Math.min(P+T,D)))),P+=T;return C.join("")},stringifyByChar:function(N){for(var k="",T=0;T<N.length;T++)k+=String.fromCharCode(N[T]);return k},applyCanBeUsed:{uint8array:function(){try{return v.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return v.nodebuffer&&String.fromCharCode.apply(null,b.allocBuffer(1)).length===1}catch{return!1}}()}};d.applyFromCharCode=h;var x={};x.string={string:u,array:function(N){return f(N,new Array(N.length))},arraybuffer:function(N){return x.string.uint8array(N).buffer},uint8array:function(N){return f(N,new Uint8Array(N.length))},nodebuffer:function(N){return f(N,b.allocBuffer(N.length))}},x.array={string:h,array:u,arraybuffer:function(N){return new Uint8Array(N).buffer},uint8array:function(N){return new Uint8Array(N)},nodebuffer:function(N){return b.newBufferFrom(N)}},x.arraybuffer={string:function(N){return h(new Uint8Array(N))},array:function(N){return p(new Uint8Array(N),new Array(N.byteLength))},arraybuffer:u,uint8array:function(N){return new Uint8Array(N)},nodebuffer:function(N){return b.newBufferFrom(new Uint8Array(N))}},x.uint8array={string:h,array:function(N){return p(N,new Array(N.length))},arraybuffer:function(N){return N.buffer},uint8array:u,nodebuffer:function(N){return b.newBufferFrom(N)}},x.nodebuffer={string:h,array:function(N){return p(N,new Array(N.length))},arraybuffer:function(N){return x.nodebuffer.uint8array(N).buffer},uint8array:function(N){return p(N,new Uint8Array(N.length))},nodebuffer:u},d.transformTo=function(N,k){if(k=k||"",!N)return k;d.checkSupport(N);var T=d.getTypeOf(k);return x[T][N](k)},d.getTypeOf=function(N){return typeof N=="string"?"string":Object.prototype.toString.call(N)==="[object Array]"?"array":v.nodebuffer&&b.isBuffer(N)?"nodebuffer":v.uint8array&&N instanceof Uint8Array?"uint8array":v.arraybuffer&&N instanceof ArrayBuffer?"arraybuffer":void 0},d.checkSupport=function(N){if(!v[N.toLowerCase()])throw new Error(N+" is not supported by this platform")},d.MAX_VALUE_16BITS=65535,d.MAX_VALUE_32BITS=-1,d.pretty=function(N){var k,T,C="";for(T=0;T<(N||"").length;T++)C+="\\x"+((k=N.charCodeAt(T))<16?"0":"")+k.toString(16).toUpperCase();return C},d.delay=function(N,k,T){m(function(){N.apply(T||null,k||[])})},d.inherits=function(N,k){function T(){}T.prototype=k.prototype,N.prototype=new T},d.extend=function(){var N,k,T={};for(N=0;N<arguments.length;N++)for(k in arguments[N])arguments[N].hasOwnProperty(k)&&T[k]===void 0&&(T[k]=arguments[N][k]);return T},d.prepareContent=function(N,k,T,C,P){return y.Promise.resolve(k).then(function(D){return v.blob&&(D instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(D))!==-1)&&typeof FileReader<"u"?new y.Promise(function(E,A){var I=new FileReader;I.onload=function(R){E(R.target.result)},I.onerror=function(R){A(R.target.error)},I.readAsArrayBuffer(D)}):D}).then(function(D){var E=d.getTypeOf(D);return E?(E==="arraybuffer"?D=d.transformTo("uint8array",D):E==="string"&&(P?D=w.decode(D):T&&C!==!0&&(D=function(A){return f(A,v.uint8array?new Uint8Array(A.length):new Array(A.length))}(D))),D):y.Promise.reject(new Error("Can't read the data of '"+N+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(o,c,d){function u(b){this.files=[],this.loadOptions=b}var f=o("./reader/readerFor"),h=o("./utils"),p=o("./signature"),v=o("./zipEntry"),w=(o("./utf8"),o("./support"));u.prototype={checkSignature:function(b){if(!this.reader.readAndCheckSignature(b)){this.reader.index-=4;var m=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+h.pretty(m)+", expected "+h.pretty(b)+")")}},isSignature:function(b,m){var y=this.reader.index;this.reader.setIndex(b);var _=this.reader.readString(4)===m;return this.reader.setIndex(y),_},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var b=this.reader.readData(this.zipCommentLength),m=w.uint8array?"uint8array":"array",y=h.transformTo(m,b);this.zipComment=this.loadOptions.decodeFileName(y)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var b,m,y,_=this.zip64EndOfCentralSize-44;_>0;)b=this.reader.readInt(2),m=this.reader.readInt(4),y=this.reader.readData(m),this.zip64ExtensibleData[b]={id:b,length:m,value:y}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var b,m;for(b=0;b<this.files.length;b++)m=this.files[b],this.reader.setIndex(m.localHeaderOffset),this.checkSignature(p.LOCAL_FILE_HEADER),m.readLocalPart(this.reader),m.handleUTF8(),m.processAttributes()},readCentralDir:function(){var b;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(p.CENTRAL_FILE_HEADER);)(b=new v({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(b);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var b=this.reader.lastIndexOfSignature(p.CENTRAL_DIRECTORY_END);if(0>b)throw this.isSignature(0,p.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(b);var m=b;if(this.checkSignature(p.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===h.MAX_VALUE_16BITS||this.diskWithCentralDirStart===h.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===h.MAX_VALUE_16BITS||this.centralDirRecords===h.MAX_VALUE_16BITS||this.centralDirSize===h.MAX_VALUE_32BITS||this.centralDirOffset===h.MAX_VALUE_32BITS){if(this.zip64=!0,(b=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(b),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,p.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var y=this.centralDirOffset+this.centralDirSize;this.zip64&&(y+=20,y+=12+this.zip64EndOfCentralSize);var _=m-y;if(_>0)this.isSignature(m,p.CENTRAL_FILE_HEADER)||(this.reader.zero=_);else if(0>_)throw new Error("Corrupted zip: missing "+Math.abs(_)+" bytes.")},prepareReader:function(b){this.reader=f(b)},load:function(b){this.prepareReader(b),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},c.exports=u},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(o,c,d){function u(y,_){this.options=y,this.loadOptions=_}var f=o("./reader/readerFor"),h=o("./utils"),p=o("./compressedObject"),v=o("./crc32"),w=o("./utf8"),b=o("./compressions"),m=o("./support");u.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(y){var _,x;if(y.skip(22),this.fileNameLength=y.readInt(2),x=y.readInt(2),this.fileName=y.readData(this.fileNameLength),y.skip(x),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((_=function(N){for(var k in b)if(b.hasOwnProperty(k)&&b[k].magic===N)return b[k];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+h.pretty(this.compressionMethod)+" unknown (inner file : "+h.transformTo("string",this.fileName)+")");this.decompressed=new p(this.compressedSize,this.uncompressedSize,this.crc32,_,y.readData(this.compressedSize))},readCentralPart:function(y){this.versionMadeBy=y.readInt(2),y.skip(2),this.bitFlag=y.readInt(2),this.compressionMethod=y.readString(2),this.date=y.readDate(),this.crc32=y.readInt(4),this.compressedSize=y.readInt(4),this.uncompressedSize=y.readInt(4);var _=y.readInt(2);if(this.extraFieldsLength=y.readInt(2),this.fileCommentLength=y.readInt(2),this.diskNumberStart=y.readInt(2),this.internalFileAttributes=y.readInt(2),this.externalFileAttributes=y.readInt(4),this.localHeaderOffset=y.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");y.skip(_),this.readExtraFields(y),this.parseZIP64ExtraField(y),this.fileComment=y.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var y=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),y==0&&(this.dosPermissions=63&this.externalFileAttributes),y==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(y){if(this.extraFields[1]){var _=f(this.extraFields[1].value);this.uncompressedSize===h.MAX_VALUE_32BITS&&(this.uncompressedSize=_.readInt(8)),this.compressedSize===h.MAX_VALUE_32BITS&&(this.compressedSize=_.readInt(8)),this.localHeaderOffset===h.MAX_VALUE_32BITS&&(this.localHeaderOffset=_.readInt(8)),this.diskNumberStart===h.MAX_VALUE_32BITS&&(this.diskNumberStart=_.readInt(4))}},readExtraFields:function(y){var _,x,N,k=y.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});y.index+4<k;)_=y.readInt(2),x=y.readInt(2),N=y.readData(x),this.extraFields[_]={id:_,length:x,value:N};y.setIndex(k)},handleUTF8:function(){var y=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=w.utf8decode(this.fileName),this.fileCommentStr=w.utf8decode(this.fileComment);else{var _=this.findExtraFieldUnicodePath();if(_!==null)this.fileNameStr=_;else{var x=h.transformTo(y,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(x)}var N=this.findExtraFieldUnicodeComment();if(N!==null)this.fileCommentStr=N;else{var k=h.transformTo(y,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(k)}}},findExtraFieldUnicodePath:function(){var y=this.extraFields[28789];if(y){var _=f(y.value);return _.readInt(1)!==1||v(this.fileName)!==_.readInt(4)?null:w.utf8decode(_.readData(y.length-5))}return null},findExtraFieldUnicodeComment:function(){var y=this.extraFields[25461];if(y){var _=f(y.value);return _.readInt(1)!==1||v(this.fileComment)!==_.readInt(4)?null:w.utf8decode(_.readData(y.length-5))}return null}},c.exports=u},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(o,c,d){function u(_,x,N){this.name=_,this.dir=N.dir,this.date=N.date,this.comment=N.comment,this.unixPermissions=N.unixPermissions,this.dosPermissions=N.dosPermissions,this._data=x,this._dataBinary=N.binary,this.options={compression:N.compression,compressionOptions:N.compressionOptions}}var f=o("./stream/StreamHelper"),h=o("./stream/DataWorker"),p=o("./utf8"),v=o("./compressedObject"),w=o("./stream/GenericWorker");u.prototype={internalStream:function(_){var x=null,N="string";try{if(!_)throw new Error("No output type specified.");var k=(N=_.toLowerCase())==="string"||N==="text";N!=="binarystring"&&N!=="text"||(N="string"),x=this._decompressWorker();var T=!this._dataBinary;T&&!k&&(x=x.pipe(new p.Utf8EncodeWorker)),!T&&k&&(x=x.pipe(new p.Utf8DecodeWorker))}catch(C){(x=new w("error")).error(C)}return new f(x,N,"")},async:function(_,x){return this.internalStream(_).accumulate(x)},nodeStream:function(_,x){return this.internalStream(_||"nodebuffer").toNodejsStream(x)},_compressWorker:function(_,x){if(this._data instanceof v&&this._data.compression.magic===_.magic)return this._data.getCompressedWorker();var N=this._decompressWorker();return this._dataBinary||(N=N.pipe(new p.Utf8EncodeWorker)),v.createWorkerFrom(N,_,x)},_decompressWorker:function(){return this._data instanceof v?this._data.getContentWorker():this._data instanceof w?this._data:new h(this._data)}};for(var b=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],m=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},y=0;y<b.length;y++)u.prototype[b[y]]=m;c.exports=u},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(o,c,d){(function(u){function f(){var x,N;p=!0;for(var k=_.length;k;){for(N=_,_=[],x=-1;++x<k;)N[x]();k=_.length}p=!1}var h,p,v=u.MutationObserver||u.WebKitMutationObserver;if(v){var w=0,b=new v(f),m=u.document.createTextNode("");b.observe(m,{characterData:!0}),h=function(){m.data=w=++w%2}}else if(u.setImmediate||u.MessageChannel===void 0)h="document"in u&&"onreadystatechange"in u.document.createElement("script")?function(){var x=u.document.createElement("script");x.onreadystatechange=function(){f(),x.onreadystatechange=null,x.parentNode.removeChild(x),x=null},u.document.documentElement.appendChild(x)}:function(){setTimeout(f,0)};else{var y=new u.MessageChannel;y.port1.onmessage=f,h=function(){y.port2.postMessage(0)}}var _=[];c.exports=function(x){_.push(x)!==1||p||h()}}).call(this,typeof s<"u"?s:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(o,c,d){function u(){}function f(k){if(typeof k!="function")throw new TypeError("resolver must be a function");this.state=N,this.queue=[],this.outcome=void 0,k!==u&&w(this,k)}function h(k,T,C){this.promise=k,typeof T=="function"&&(this.onFulfilled=T,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}function p(k,T,C){m(function(){var P;try{P=T(C)}catch(D){return y.reject(k,D)}P===k?y.reject(k,new TypeError("Cannot resolve promise with itself")):y.resolve(k,P)})}function v(k){var T=k&&k.then;return!k||typeof k!="object"&&typeof k!="function"||typeof T!="function"?void 0:function(){T.apply(k,arguments)}}function w(k,T){function C(A){D||(D=!0,y.reject(k,A))}function P(A){D||(D=!0,y.resolve(k,A))}var D=!1,E=b(function(){T(P,C)});E.status==="error"&&C(E.value)}function b(k,T){var C={};try{C.value=k(T),C.status="success"}catch(P){C.status="error",C.value=P}return C}var m=o("immediate"),y={},_=["REJECTED"],x=["FULFILLED"],N=["PENDING"];(c.exports=f).prototype.finally=function(k){if(typeof k!="function")return this;var T=this.constructor;return this.then(function(C){return T.resolve(k()).then(function(){return C})},function(C){return T.resolve(k()).then(function(){throw C})})},f.prototype.catch=function(k){return this.then(null,k)},f.prototype.then=function(k,T){if(typeof k!="function"&&this.state===x||typeof T!="function"&&this.state===_)return this;var C=new this.constructor(u);return this.state!==N?p(C,this.state===x?k:T,this.outcome):this.queue.push(new h(C,k,T)),C},h.prototype.callFulfilled=function(k){y.resolve(this.promise,k)},h.prototype.otherCallFulfilled=function(k){p(this.promise,this.onFulfilled,k)},h.prototype.callRejected=function(k){y.reject(this.promise,k)},h.prototype.otherCallRejected=function(k){p(this.promise,this.onRejected,k)},y.resolve=function(k,T){var C=b(v,T);if(C.status==="error")return y.reject(k,C.value);var P=C.value;if(P)w(k,P);else{k.state=x,k.outcome=T;for(var D=-1,E=k.queue.length;++D<E;)k.queue[D].callFulfilled(T)}return k},y.reject=function(k,T){k.state=_,k.outcome=T;for(var C=-1,P=k.queue.length;++C<P;)k.queue[C].callRejected(T);return k},f.resolve=function(k){return k instanceof this?k:y.resolve(new this(u),k)},f.reject=function(k){var T=new this(u);return y.reject(T,k)},f.all=function(k){function T(M,Y){C.resolve(M).then(function(q){E[Y]=q,++A!==P||D||(D=!0,y.resolve(R,E))},function(q){D||(D=!0,y.reject(R,q))})}var C=this;if(Object.prototype.toString.call(k)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=k.length,D=!1;if(!P)return this.resolve([]);for(var E=new Array(P),A=0,I=-1,R=new this(u);++I<P;)T(k[I],I);return R},f.race=function(k){var T=this;if(Object.prototype.toString.call(k)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=k.length,P=!1;if(!C)return this.resolve([]);for(var D=-1,E=new this(u);++D<C;)A=k[D],T.resolve(A).then(function(I){P||(P=!0,y.resolve(E,I))},function(I){P||(P=!0,y.reject(E,I))});var A;return E}},{immediate:36}],38:[function(o,c,d){var u={};o("./lib/utils/common").assign(u,o("./lib/deflate"),o("./lib/inflate"),o("./lib/zlib/constants")),c.exports=u},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(o,c,d){function u(k){if(!(this instanceof u))return new u(k);this.options=p.assign({level:_,method:N,chunkSize:16384,windowBits:15,memLevel:8,strategy:x,to:""},k||{});var T=this.options;T.raw&&0<T.windowBits?T.windowBits=-T.windowBits:T.gzip&&0<T.windowBits&&T.windowBits<16&&(T.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new b,this.strm.avail_out=0;var C=h.deflateInit2(this.strm,T.level,T.method,T.windowBits,T.memLevel,T.strategy);if(C!==y)throw new Error(w[C]);if(T.header&&h.deflateSetHeader(this.strm,T.header),T.dictionary){var P;if(P=typeof T.dictionary=="string"?v.string2buf(T.dictionary):m.call(T.dictionary)==="[object ArrayBuffer]"?new Uint8Array(T.dictionary):T.dictionary,(C=h.deflateSetDictionary(this.strm,P))!==y)throw new Error(w[C]);this._dict_set=!0}}function f(k,T){var C=new u(T);if(C.push(k,!0),C.err)throw C.msg||w[C.err];return C.result}var h=o("./zlib/deflate"),p=o("./utils/common"),v=o("./utils/strings"),w=o("./zlib/messages"),b=o("./zlib/zstream"),m=Object.prototype.toString,y=0,_=-1,x=0,N=8;u.prototype.push=function(k,T){var C,P,D=this.strm,E=this.options.chunkSize;if(this.ended)return!1;P=T===~~T?T:T===!0?4:0,typeof k=="string"?D.input=v.string2buf(k):m.call(k)==="[object ArrayBuffer]"?D.input=new Uint8Array(k):D.input=k,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new p.Buf8(E),D.next_out=0,D.avail_out=E),(C=h.deflate(D,P))!==1&&C!==y)return this.onEnd(C),!(this.ended=!0);D.avail_out!==0&&(D.avail_in!==0||P!==4&&P!==2)||(this.options.to==="string"?this.onData(v.buf2binstring(p.shrinkBuf(D.output,D.next_out))):this.onData(p.shrinkBuf(D.output,D.next_out)))}while((0<D.avail_in||D.avail_out===0)&&C!==1);return P===4?(C=h.deflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===y):P!==2||(this.onEnd(y),!(D.avail_out=0))},u.prototype.onData=function(k){this.chunks.push(k)},u.prototype.onEnd=function(k){k===y&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=p.flattenChunks(this.chunks)),this.chunks=[],this.err=k,this.msg=this.strm.msg},d.Deflate=u,d.deflate=f,d.deflateRaw=function(k,T){return(T=T||{}).raw=!0,f(k,T)},d.gzip=function(k,T){return(T=T||{}).gzip=!0,f(k,T)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(o,c,d){function u(x){if(!(this instanceof u))return new u(x);this.options=p.assign({chunkSize:16384,windowBits:0,to:""},x||{});var N=this.options;N.raw&&0<=N.windowBits&&N.windowBits<16&&(N.windowBits=-N.windowBits,N.windowBits===0&&(N.windowBits=-15)),!(0<=N.windowBits&&N.windowBits<16)||x&&x.windowBits||(N.windowBits+=32),15<N.windowBits&&N.windowBits<48&&!(15&N.windowBits)&&(N.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var k=h.inflateInit2(this.strm,N.windowBits);if(k!==w.Z_OK)throw new Error(b[k]);this.header=new y,h.inflateGetHeader(this.strm,this.header)}function f(x,N){var k=new u(N);if(k.push(x,!0),k.err)throw k.msg||b[k.err];return k.result}var h=o("./zlib/inflate"),p=o("./utils/common"),v=o("./utils/strings"),w=o("./zlib/constants"),b=o("./zlib/messages"),m=o("./zlib/zstream"),y=o("./zlib/gzheader"),_=Object.prototype.toString;u.prototype.push=function(x,N){var k,T,C,P,D,E,A=this.strm,I=this.options.chunkSize,R=this.options.dictionary,M=!1;if(this.ended)return!1;T=N===~~N?N:N===!0?w.Z_FINISH:w.Z_NO_FLUSH,typeof x=="string"?A.input=v.binstring2buf(x):_.call(x)==="[object ArrayBuffer]"?A.input=new Uint8Array(x):A.input=x,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new p.Buf8(I),A.next_out=0,A.avail_out=I),(k=h.inflate(A,w.Z_NO_FLUSH))===w.Z_NEED_DICT&&R&&(E=typeof R=="string"?v.string2buf(R):_.call(R)==="[object ArrayBuffer]"?new Uint8Array(R):R,k=h.inflateSetDictionary(this.strm,E)),k===w.Z_BUF_ERROR&&M===!0&&(k=w.Z_OK,M=!1),k!==w.Z_STREAM_END&&k!==w.Z_OK)return this.onEnd(k),!(this.ended=!0);A.next_out&&(A.avail_out!==0&&k!==w.Z_STREAM_END&&(A.avail_in!==0||T!==w.Z_FINISH&&T!==w.Z_SYNC_FLUSH)||(this.options.to==="string"?(C=v.utf8border(A.output,A.next_out),P=A.next_out-C,D=v.buf2string(A.output,C),A.next_out=P,A.avail_out=I-P,P&&p.arraySet(A.output,A.output,C,P,0),this.onData(D)):this.onData(p.shrinkBuf(A.output,A.next_out)))),A.avail_in===0&&A.avail_out===0&&(M=!0)}while((0<A.avail_in||A.avail_out===0)&&k!==w.Z_STREAM_END);return k===w.Z_STREAM_END&&(T=w.Z_FINISH),T===w.Z_FINISH?(k=h.inflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===w.Z_OK):T!==w.Z_SYNC_FLUSH||(this.onEnd(w.Z_OK),!(A.avail_out=0))},u.prototype.onData=function(x){this.chunks.push(x)},u.prototype.onEnd=function(x){x===w.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=p.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},d.Inflate=u,d.inflate=f,d.inflateRaw=function(x,N){return(N=N||{}).raw=!0,f(x,N)},d.ungzip=f},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(o,c,d){var u=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";d.assign=function(p){for(var v=Array.prototype.slice.call(arguments,1);v.length;){var w=v.shift();if(w){if(typeof w!="object")throw new TypeError(w+"must be non-object");for(var b in w)w.hasOwnProperty(b)&&(p[b]=w[b])}}return p},d.shrinkBuf=function(p,v){return p.length===v?p:p.subarray?p.subarray(0,v):(p.length=v,p)};var f={arraySet:function(p,v,w,b,m){if(v.subarray&&p.subarray)p.set(v.subarray(w,w+b),m);else for(var y=0;b>y;y++)p[m+y]=v[w+y]},flattenChunks:function(p){var v,w,b,m,y,_;for(v=b=0,w=p.length;w>v;v++)b+=p[v].length;for(_=new Uint8Array(b),v=m=0,w=p.length;w>v;v++)y=p[v],_.set(y,m),m+=y.length;return _}},h={arraySet:function(p,v,w,b,m){for(var y=0;b>y;y++)p[m+y]=v[w+y]},flattenChunks:function(p){return[].concat.apply([],p)}};d.setTyped=function(p){p?(d.Buf8=Uint8Array,d.Buf16=Uint16Array,d.Buf32=Int32Array,d.assign(d,f)):(d.Buf8=Array,d.Buf16=Array,d.Buf32=Array,d.assign(d,h))},d.setTyped(u)},{}],42:[function(o,c,d){function u(b,m){if(65537>m&&(b.subarray&&p||!b.subarray&&h))return String.fromCharCode.apply(null,f.shrinkBuf(b,m));for(var y="",_=0;m>_;_++)y+=String.fromCharCode(b[_]);return y}var f=o("./common"),h=!0,p=!0;try{String.fromCharCode.apply(null,[0])}catch{h=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{p=!1}for(var v=new f.Buf8(256),w=0;256>w;w++)v[w]=w>=252?6:w>=248?5:w>=240?4:w>=224?3:w>=192?2:1;v[254]=v[254]=1,d.string2buf=function(b){var m,y,_,x,N,k=b.length,T=0;for(x=0;k>x;x++)(64512&(y=b.charCodeAt(x)))==55296&&k>x+1&&(64512&(_=b.charCodeAt(x+1)))==56320&&(y=65536+(y-55296<<10)+(_-56320),x++),T+=128>y?1:2048>y?2:65536>y?3:4;for(m=new f.Buf8(T),x=N=0;T>N;x++)(64512&(y=b.charCodeAt(x)))==55296&&k>x+1&&(64512&(_=b.charCodeAt(x+1)))==56320&&(y=65536+(y-55296<<10)+(_-56320),x++),128>y?m[N++]=y:(2048>y?m[N++]=192|y>>>6:(65536>y?m[N++]=224|y>>>12:(m[N++]=240|y>>>18,m[N++]=128|y>>>12&63),m[N++]=128|y>>>6&63),m[N++]=128|63&y);return m},d.buf2binstring=function(b){return u(b,b.length)},d.binstring2buf=function(b){for(var m=new f.Buf8(b.length),y=0,_=m.length;_>y;y++)m[y]=b.charCodeAt(y);return m},d.buf2string=function(b,m){var y,_,x,N,k=m||b.length,T=new Array(2*k);for(y=_=0;k>y;)if((x=b[y++])<128)T[_++]=x;else if(4<(N=v[x]))T[_++]=65533,y+=N-1;else{for(x&=N===2?31:N===3?15:7;N>1&&k>y;)x=x<<6|63&b[y++],N--;N>1?T[_++]=65533:65536>x?T[_++]=x:(x-=65536,T[_++]=55296|x>>10&1023,T[_++]=56320|1023&x)}return u(T,_)},d.utf8border=function(b,m){var y;for((m=m||b.length)>b.length&&(m=b.length),y=m-1;y>=0&&(192&b[y])==128;)y--;return 0>y||y===0?m:y+v[b[y]]>m?y:m}},{"./common":41}],43:[function(o,c,d){c.exports=function(u,f,h,p){for(var v=65535&u|0,w=u>>>16&65535|0,b=0;h!==0;){for(h-=b=h>2e3?2e3:h;w=w+(v=v+f[p++]|0)|0,--b;);v%=65521,w%=65521}return v|w<<16|0}},{}],44:[function(o,c,d){c.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(o,c,d){var u=function(){for(var f,h=[],p=0;256>p;p++){f=p;for(var v=0;8>v;v++)f=1&f?3988292384^f>>>1:f>>>1;h[p]=f}return h}();c.exports=function(f,h,p,v){var w=u,b=v+p;f^=-1;for(var m=v;b>m;m++)f=f>>>8^w[255&(f^h[m])];return-1^f}},{}],46:[function(o,c,d){function u($,ke){return $.msg=M[ke],ke}function f($){return($<<1)-($>4?9:0)}function h($){for(var ke=$.length;0<=--ke;)$[ke]=0}function p($){var ke=$.state,Se=ke.pending;Se>$.avail_out&&(Se=$.avail_out),Se!==0&&(E.arraySet($.output,ke.pending_buf,ke.pending_out,Se,$.next_out),$.next_out+=Se,ke.pending_out+=Se,$.total_out+=Se,$.avail_out-=Se,ke.pending-=Se,ke.pending===0&&(ke.pending_out=0))}function v($,ke){A._tr_flush_block($,0<=$.block_start?$.block_start:-1,$.strstart-$.block_start,ke),$.block_start=$.strstart,p($.strm)}function w($,ke){$.pending_buf[$.pending++]=ke}function b($,ke){$.pending_buf[$.pending++]=ke>>>8&255,$.pending_buf[$.pending++]=255&ke}function m($,ke){var Se,pe,U=$.max_chain_length,H=$.strstart,te=$.prev_length,he=$.nice_match,ve=$.strstart>$.w_size-Ae?$.strstart-($.w_size-Ae):0,ae=$.window,me=$.w_mask,ge=$.prev,Oe=$.strstart+Fe,Ye=ae[H+te-1],Ke=ae[H+te];$.prev_length>=$.good_match&&(U>>=2),he>$.lookahead&&(he=$.lookahead);do if(ae[(Se=ke)+te]===Ke&&ae[Se+te-1]===Ye&&ae[Se]===ae[H]&&ae[++Se]===ae[H+1]){H+=2,Se++;do;while(ae[++H]===ae[++Se]&&ae[++H]===ae[++Se]&&ae[++H]===ae[++Se]&&ae[++H]===ae[++Se]&&ae[++H]===ae[++Se]&&ae[++H]===ae[++Se]&&ae[++H]===ae[++Se]&&ae[++H]===ae[++Se]&&Oe>H);if(pe=Fe-(Oe-H),H=Oe-Fe,pe>te){if($.match_start=ke,he<=(te=pe))break;Ye=ae[H+te-1],Ke=ae[H+te]}}while((ke=ge[ke&me])>ve&&--U!=0);return te<=$.lookahead?te:$.lookahead}function y($){var ke,Se,pe,U,H,te,he,ve,ae,me,ge=$.w_size;do{if(U=$.window_size-$.lookahead-$.strstart,$.strstart>=ge+(ge-Ae)){for(E.arraySet($.window,$.window,ge,ge,0),$.match_start-=ge,$.strstart-=ge,$.block_start-=ge,ke=Se=$.hash_size;pe=$.head[--ke],$.head[ke]=pe>=ge?pe-ge:0,--Se;);for(ke=Se=ge;pe=$.prev[--ke],$.prev[ke]=pe>=ge?pe-ge:0,--Se;);U+=ge}if($.strm.avail_in===0)break;if(te=$.strm,he=$.window,ve=$.strstart+$.lookahead,ae=U,me=void 0,me=te.avail_in,me>ae&&(me=ae),Se=me===0?0:(te.avail_in-=me,E.arraySet(he,te.input,te.next_in,me,ve),te.state.wrap===1?te.adler=I(te.adler,he,me,ve):te.state.wrap===2&&(te.adler=R(te.adler,he,me,ve)),te.next_in+=me,te.total_in+=me,me),$.lookahead+=Se,$.lookahead+$.insert>=ce)for(H=$.strstart-$.insert,$.ins_h=$.window[H],$.ins_h=($.ins_h<<$.hash_shift^$.window[H+1])&$.hash_mask;$.insert&&($.ins_h=($.ins_h<<$.hash_shift^$.window[H+ce-1])&$.hash_mask,$.prev[H&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=H,H++,$.insert--,!($.lookahead+$.insert<ce)););}while($.lookahead<Ae&&$.strm.avail_in!==0)}function _($,ke){for(var Se,pe;;){if($.lookahead<Ae){if(y($),$.lookahead<Ae&&ke===Y)return fe;if($.lookahead===0)break}if(Se=0,$.lookahead>=ce&&($.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+ce-1])&$.hash_mask,Se=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart),Se!==0&&$.strstart-Se<=$.w_size-Ae&&($.match_length=m($,Se)),$.match_length>=ce)if(pe=A._tr_tally($,$.strstart-$.match_start,$.match_length-ce),$.lookahead-=$.match_length,$.match_length<=$.max_lazy_match&&$.lookahead>=ce){for($.match_length--;$.strstart++,$.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+ce-1])&$.hash_mask,Se=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart,--$.match_length!=0;);$.strstart++}else $.strstart+=$.match_length,$.match_length=0,$.ins_h=$.window[$.strstart],$.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+1])&$.hash_mask;else pe=A._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++;if(pe&&(v($,!1),$.strm.avail_out===0))return fe}return $.insert=$.strstart<ce-1?$.strstart:ce-1,ke===q?(v($,!0),$.strm.avail_out===0?je:Ce):$.last_lit&&(v($,!1),$.strm.avail_out===0)?fe:Je}function x($,ke){for(var Se,pe,U;;){if($.lookahead<Ae){if(y($),$.lookahead<Ae&&ke===Y)return fe;if($.lookahead===0)break}if(Se=0,$.lookahead>=ce&&($.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+ce-1])&$.hash_mask,Se=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart),$.prev_length=$.match_length,$.prev_match=$.match_start,$.match_length=ce-1,Se!==0&&$.prev_length<$.max_lazy_match&&$.strstart-Se<=$.w_size-Ae&&($.match_length=m($,Se),$.match_length<=5&&($.strategy===1||$.match_length===ce&&4096<$.strstart-$.match_start)&&($.match_length=ce-1)),$.prev_length>=ce&&$.match_length<=$.prev_length){for(U=$.strstart+$.lookahead-ce,pe=A._tr_tally($,$.strstart-1-$.prev_match,$.prev_length-ce),$.lookahead-=$.prev_length-1,$.prev_length-=2;++$.strstart<=U&&($.ins_h=($.ins_h<<$.hash_shift^$.window[$.strstart+ce-1])&$.hash_mask,Se=$.prev[$.strstart&$.w_mask]=$.head[$.ins_h],$.head[$.ins_h]=$.strstart),--$.prev_length!=0;);if($.match_available=0,$.match_length=ce-1,$.strstart++,pe&&(v($,!1),$.strm.avail_out===0))return fe}else if($.match_available){if((pe=A._tr_tally($,0,$.window[$.strstart-1]))&&v($,!1),$.strstart++,$.lookahead--,$.strm.avail_out===0)return fe}else $.match_available=1,$.strstart++,$.lookahead--}return $.match_available&&(pe=A._tr_tally($,0,$.window[$.strstart-1]),$.match_available=0),$.insert=$.strstart<ce-1?$.strstart:ce-1,ke===q?(v($,!0),$.strm.avail_out===0?je:Ce):$.last_lit&&(v($,!1),$.strm.avail_out===0)?fe:Je}function N($,ke,Se,pe,U){this.good_length=$,this.max_lazy=ke,this.nice_length=Se,this.max_chain=pe,this.func=U}function k(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=z,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new E.Buf16(2*_e),this.dyn_dtree=new E.Buf16(2*(2*V+1)),this.bl_tree=new E.Buf16(2*(2*Z+1)),h(this.dyn_ltree),h(this.dyn_dtree),h(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new E.Buf16(le+1),this.heap=new E.Buf16(2*Q+1),h(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new E.Buf16(2*Q+1),h(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function T($){var ke;return $&&$.state?($.total_in=$.total_out=0,$.data_type=L,(ke=$.state).pending=0,ke.pending_out=0,ke.wrap<0&&(ke.wrap=-ke.wrap),ke.status=ke.wrap?Re:Ve,$.adler=ke.wrap===2?0:1,ke.last_flush=Y,A._tr_init(ke),G):u($,B)}function C($){var ke=T($);return ke===G&&function(Se){Se.window_size=2*Se.w_size,h(Se.head),Se.max_lazy_match=D[Se.level].max_lazy,Se.good_match=D[Se.level].good_length,Se.nice_match=D[Se.level].nice_length,Se.max_chain_length=D[Se.level].max_chain,Se.strstart=0,Se.block_start=0,Se.lookahead=0,Se.insert=0,Se.match_length=Se.prev_length=ce-1,Se.match_available=0,Se.ins_h=0}($.state),ke}function P($,ke,Se,pe,U,H){if(!$)return B;var te=1;if(ke===J&&(ke=6),0>pe?(te=0,pe=-pe):pe>15&&(te=2,pe-=16),1>U||U>X||Se!==z||8>pe||pe>15||0>ke||ke>9||0>H||H>W)return u($,B);pe===8&&(pe=9);var he=new k;return($.state=he).strm=$,he.wrap=te,he.gzhead=null,he.w_bits=pe,he.w_size=1<<he.w_bits,he.w_mask=he.w_size-1,he.hash_bits=U+7,he.hash_size=1<<he.hash_bits,he.hash_mask=he.hash_size-1,he.hash_shift=~~((he.hash_bits+ce-1)/ce),he.window=new E.Buf8(2*he.w_size),he.head=new E.Buf16(he.hash_size),he.prev=new E.Buf16(he.w_size),he.lit_bufsize=1<<U+6,he.pending_buf_size=4*he.lit_bufsize,he.pending_buf=new E.Buf8(he.pending_buf_size),he.d_buf=1*he.lit_bufsize,he.l_buf=3*he.lit_bufsize,he.level=ke,he.strategy=H,he.method=Se,C($)}var D,E=o("../utils/common"),A=o("./trees"),I=o("./adler32"),R=o("./crc32"),M=o("./messages"),Y=0,q=4,G=0,B=-2,J=-1,W=4,L=2,z=8,X=9,Q=286,V=30,Z=19,_e=2*Q+1,le=15,ce=3,Fe=258,Ae=Fe+ce+1,Re=42,Ve=113,fe=1,Je=2,je=3,Ce=4;D=[new N(0,0,0,0,function($,ke){var Se=65535;for(Se>$.pending_buf_size-5&&(Se=$.pending_buf_size-5);;){if($.lookahead<=1){if(y($),$.lookahead===0&&ke===Y)return fe;if($.lookahead===0)break}$.strstart+=$.lookahead,$.lookahead=0;var pe=$.block_start+Se;if(($.strstart===0||$.strstart>=pe)&&($.lookahead=$.strstart-pe,$.strstart=pe,v($,!1),$.strm.avail_out===0)||$.strstart-$.block_start>=$.w_size-Ae&&(v($,!1),$.strm.avail_out===0))return fe}return $.insert=0,ke===q?(v($,!0),$.strm.avail_out===0?je:Ce):($.strstart>$.block_start&&(v($,!1),$.strm.avail_out),fe)}),new N(4,4,8,4,_),new N(4,5,16,8,_),new N(4,6,32,32,_),new N(4,4,16,16,x),new N(8,16,32,32,x),new N(8,16,128,128,x),new N(8,32,128,256,x),new N(32,128,258,1024,x),new N(32,258,258,4096,x)],d.deflateInit=function($,ke){return P($,ke,z,15,8,0)},d.deflateInit2=P,d.deflateReset=C,d.deflateResetKeep=T,d.deflateSetHeader=function($,ke){return $&&$.state?$.state.wrap!==2?B:($.state.gzhead=ke,G):B},d.deflate=function($,ke){var Se,pe,U,H;if(!$||!$.state||ke>5||0>ke)return $?u($,B):B;if(pe=$.state,!$.output||!$.input&&$.avail_in!==0||pe.status===666&&ke!==q)return u($,$.avail_out===0?-5:B);if(pe.strm=$,Se=pe.last_flush,pe.last_flush=ke,pe.status===Re)if(pe.wrap===2)$.adler=0,w(pe,31),w(pe,139),w(pe,8),pe.gzhead?(w(pe,(pe.gzhead.text?1:0)+(pe.gzhead.hcrc?2:0)+(pe.gzhead.extra?4:0)+(pe.gzhead.name?8:0)+(pe.gzhead.comment?16:0)),w(pe,255&pe.gzhead.time),w(pe,pe.gzhead.time>>8&255),w(pe,pe.gzhead.time>>16&255),w(pe,pe.gzhead.time>>24&255),w(pe,pe.level===9?2:2<=pe.strategy||pe.level<2?4:0),w(pe,255&pe.gzhead.os),pe.gzhead.extra&&pe.gzhead.extra.length&&(w(pe,255&pe.gzhead.extra.length),w(pe,pe.gzhead.extra.length>>8&255)),pe.gzhead.hcrc&&($.adler=R($.adler,pe.pending_buf,pe.pending,0)),pe.gzindex=0,pe.status=69):(w(pe,0),w(pe,0),w(pe,0),w(pe,0),w(pe,0),w(pe,pe.level===9?2:2<=pe.strategy||pe.level<2?4:0),w(pe,3),pe.status=Ve);else{var te=z+(pe.w_bits-8<<4)<<8;te|=(2<=pe.strategy||pe.level<2?0:pe.level<6?1:pe.level===6?2:3)<<6,pe.strstart!==0&&(te|=32),te+=31-te%31,pe.status=Ve,b(pe,te),pe.strstart!==0&&(b(pe,$.adler>>>16),b(pe,65535&$.adler)),$.adler=1}if(pe.status===69)if(pe.gzhead.extra){for(U=pe.pending;pe.gzindex<(65535&pe.gzhead.extra.length)&&(pe.pending!==pe.pending_buf_size||(pe.gzhead.hcrc&&pe.pending>U&&($.adler=R($.adler,pe.pending_buf,pe.pending-U,U)),p($),U=pe.pending,pe.pending!==pe.pending_buf_size));)w(pe,255&pe.gzhead.extra[pe.gzindex]),pe.gzindex++;pe.gzhead.hcrc&&pe.pending>U&&($.adler=R($.adler,pe.pending_buf,pe.pending-U,U)),pe.gzindex===pe.gzhead.extra.length&&(pe.gzindex=0,pe.status=73)}else pe.status=73;if(pe.status===73)if(pe.gzhead.name){U=pe.pending;do{if(pe.pending===pe.pending_buf_size&&(pe.gzhead.hcrc&&pe.pending>U&&($.adler=R($.adler,pe.pending_buf,pe.pending-U,U)),p($),U=pe.pending,pe.pending===pe.pending_buf_size)){H=1;break}H=pe.gzindex<pe.gzhead.name.length?255&pe.gzhead.name.charCodeAt(pe.gzindex++):0,w(pe,H)}while(H!==0);pe.gzhead.hcrc&&pe.pending>U&&($.adler=R($.adler,pe.pending_buf,pe.pending-U,U)),H===0&&(pe.gzindex=0,pe.status=91)}else pe.status=91;if(pe.status===91)if(pe.gzhead.comment){U=pe.pending;do{if(pe.pending===pe.pending_buf_size&&(pe.gzhead.hcrc&&pe.pending>U&&($.adler=R($.adler,pe.pending_buf,pe.pending-U,U)),p($),U=pe.pending,pe.pending===pe.pending_buf_size)){H=1;break}H=pe.gzindex<pe.gzhead.comment.length?255&pe.gzhead.comment.charCodeAt(pe.gzindex++):0,w(pe,H)}while(H!==0);pe.gzhead.hcrc&&pe.pending>U&&($.adler=R($.adler,pe.pending_buf,pe.pending-U,U)),H===0&&(pe.status=103)}else pe.status=103;if(pe.status===103&&(pe.gzhead.hcrc?(pe.pending+2>pe.pending_buf_size&&p($),pe.pending+2<=pe.pending_buf_size&&(w(pe,255&$.adler),w(pe,$.adler>>8&255),$.adler=0,pe.status=Ve)):pe.status=Ve),pe.pending!==0){if(p($),$.avail_out===0)return pe.last_flush=-1,G}else if($.avail_in===0&&f(ke)<=f(Se)&&ke!==q)return u($,-5);if(pe.status===666&&$.avail_in!==0)return u($,-5);if($.avail_in!==0||pe.lookahead!==0||ke!==Y&&pe.status!==666){var he=pe.strategy===2?function(ve,ae){for(var me;;){if(ve.lookahead===0&&(y(ve),ve.lookahead===0)){if(ae===Y)return fe;break}if(ve.match_length=0,me=A._tr_tally(ve,0,ve.window[ve.strstart]),ve.lookahead--,ve.strstart++,me&&(v(ve,!1),ve.strm.avail_out===0))return fe}return ve.insert=0,ae===q?(v(ve,!0),ve.strm.avail_out===0?je:Ce):ve.last_lit&&(v(ve,!1),ve.strm.avail_out===0)?fe:Je}(pe,ke):pe.strategy===3?function(ve,ae){for(var me,ge,Oe,Ye,Ke=ve.window;;){if(ve.lookahead<=Fe){if(y(ve),ve.lookahead<=Fe&&ae===Y)return fe;if(ve.lookahead===0)break}if(ve.match_length=0,ve.lookahead>=ce&&0<ve.strstart&&(ge=Ke[Oe=ve.strstart-1])===Ke[++Oe]&&ge===Ke[++Oe]&&ge===Ke[++Oe]){Ye=ve.strstart+Fe;do;while(ge===Ke[++Oe]&&ge===Ke[++Oe]&&ge===Ke[++Oe]&&ge===Ke[++Oe]&&ge===Ke[++Oe]&&ge===Ke[++Oe]&&ge===Ke[++Oe]&&ge===Ke[++Oe]&&Ye>Oe);ve.match_length=Fe-(Ye-Oe),ve.match_length>ve.lookahead&&(ve.match_length=ve.lookahead)}if(ve.match_length>=ce?(me=A._tr_tally(ve,1,ve.match_length-ce),ve.lookahead-=ve.match_length,ve.strstart+=ve.match_length,ve.match_length=0):(me=A._tr_tally(ve,0,ve.window[ve.strstart]),ve.lookahead--,ve.strstart++),me&&(v(ve,!1),ve.strm.avail_out===0))return fe}return ve.insert=0,ae===q?(v(ve,!0),ve.strm.avail_out===0?je:Ce):ve.last_lit&&(v(ve,!1),ve.strm.avail_out===0)?fe:Je}(pe,ke):D[pe.level].func(pe,ke);if(he!==je&&he!==Ce||(pe.status=666),he===fe||he===je)return $.avail_out===0&&(pe.last_flush=-1),G;if(he===Je&&(ke===1?A._tr_align(pe):ke!==5&&(A._tr_stored_block(pe,0,0,!1),ke===3&&(h(pe.head),pe.lookahead===0&&(pe.strstart=0,pe.block_start=0,pe.insert=0))),p($),$.avail_out===0))return pe.last_flush=-1,G}return ke!==q?G:pe.wrap<=0?1:(pe.wrap===2?(w(pe,255&$.adler),w(pe,$.adler>>8&255),w(pe,$.adler>>16&255),w(pe,$.adler>>24&255),w(pe,255&$.total_in),w(pe,$.total_in>>8&255),w(pe,$.total_in>>16&255),w(pe,$.total_in>>24&255)):(b(pe,$.adler>>>16),b(pe,65535&$.adler)),p($),0<pe.wrap&&(pe.wrap=-pe.wrap),pe.pending!==0?G:1)},d.deflateEnd=function($){var ke;return $&&$.state?(ke=$.state.status)!==Re&&ke!==69&&ke!==73&&ke!==91&&ke!==103&&ke!==Ve&&ke!==666?u($,B):($.state=null,ke===Ve?u($,-3):G):B},d.deflateSetDictionary=function($,ke){var Se,pe,U,H,te,he,ve,ae,me=ke.length;if(!$||!$.state||(H=(Se=$.state).wrap)===2||H===1&&Se.status!==Re||Se.lookahead)return B;for(H===1&&($.adler=I($.adler,ke,me,0)),Se.wrap=0,me>=Se.w_size&&(H===0&&(h(Se.head),Se.strstart=0,Se.block_start=0,Se.insert=0),ae=new E.Buf8(Se.w_size),E.arraySet(ae,ke,me-Se.w_size,Se.w_size,0),ke=ae,me=Se.w_size),te=$.avail_in,he=$.next_in,ve=$.input,$.avail_in=me,$.next_in=0,$.input=ke,y(Se);Se.lookahead>=ce;){for(pe=Se.strstart,U=Se.lookahead-(ce-1);Se.ins_h=(Se.ins_h<<Se.hash_shift^Se.window[pe+ce-1])&Se.hash_mask,Se.prev[pe&Se.w_mask]=Se.head[Se.ins_h],Se.head[Se.ins_h]=pe,pe++,--U;);Se.strstart=pe,Se.lookahead=ce-1,y(Se)}return Se.strstart+=Se.lookahead,Se.block_start=Se.strstart,Se.insert=Se.lookahead,Se.lookahead=0,Se.match_length=Se.prev_length=ce-1,Se.match_available=0,$.next_in=he,$.input=ve,$.avail_in=te,Se.wrap=H,G},d.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(o,c,d){c.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(o,c,d){c.exports=function(u,f){var h,p,v,w,b,m,y,_,x,N,k,T,C,P,D,E,A,I,R,M,Y,q,G,B,J;h=u.state,p=u.next_in,B=u.input,v=p+(u.avail_in-5),w=u.next_out,J=u.output,b=w-(f-u.avail_out),m=w+(u.avail_out-257),y=h.dmax,_=h.wsize,x=h.whave,N=h.wnext,k=h.window,T=h.hold,C=h.bits,P=h.lencode,D=h.distcode,E=(1<<h.lenbits)-1,A=(1<<h.distbits)-1;e:do{15>C&&(T+=B[p++]<<C,C+=8,T+=B[p++]<<C,C+=8),I=P[T&E];t:for(;;){if(T>>>=R=I>>>24,C-=R,(R=I>>>16&255)===0)J[w++]=65535&I;else{if(!(16&R)){if(!(64&R)){I=P[(65535&I)+(T&(1<<R)-1)];continue t}if(32&R){h.mode=12;break e}u.msg="invalid literal/length code",h.mode=30;break e}M=65535&I,(R&=15)&&(R>C&&(T+=B[p++]<<C,C+=8),M+=T&(1<<R)-1,T>>>=R,C-=R),15>C&&(T+=B[p++]<<C,C+=8,T+=B[p++]<<C,C+=8),I=D[T&A];n:for(;;){if(T>>>=R=I>>>24,C-=R,!(16&(R=I>>>16&255))){if(!(64&R)){I=D[(65535&I)+(T&(1<<R)-1)];continue n}u.msg="invalid distance code",h.mode=30;break e}if(Y=65535&I,C<(R&=15)&&(T+=B[p++]<<C,(C+=8)<R&&(T+=B[p++]<<C,C+=8)),y<(Y+=T&(1<<R)-1)){u.msg="invalid distance too far back",h.mode=30;break e}if(T>>>=R,C-=R,(R=w-b)<Y){if(x<(R=Y-R)&&h.sane){u.msg="invalid distance too far back",h.mode=30;break e}if(G=k,(q=0)===N){if(q+=_-R,M>R){for(M-=R;J[w++]=k[q++],--R;);q=w-Y,G=J}}else if(R>N){if(q+=_+N-R,(R-=N)<M){for(M-=R;J[w++]=k[q++],--R;);if(q=0,M>N){for(M-=R=N;J[w++]=k[q++],--R;);q=w-Y,G=J}}}else if(q+=N-R,M>R){for(M-=R;J[w++]=k[q++],--R;);q=w-Y,G=J}for(;M>2;)J[w++]=G[q++],J[w++]=G[q++],J[w++]=G[q++],M-=3;M&&(J[w++]=G[q++],M>1&&(J[w++]=G[q++]))}else{for(q=w-Y;J[w++]=J[q++],J[w++]=J[q++],J[w++]=J[q++],2<(M-=3););M&&(J[w++]=J[q++],M>1&&(J[w++]=J[q++]))}break}}break}}while(v>p&&m>w);p-=M=C>>3,T&=(1<<(C-=M<<3))-1,u.next_in=p,u.next_out=w,u.avail_in=v>p?v-p+5:5-(p-v),u.avail_out=m>w?m-w+257:257-(w-m),h.hold=T,h.bits=C}},{}],49:[function(o,c,d){function u(q){return(q>>>24&255)+(q>>>8&65280)+((65280&q)<<8)+((255&q)<<24)}function f(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new x.Buf16(320),this.work=new x.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function h(q){var G;return q&&q.state?(G=q.state,q.total_in=q.total_out=G.total=0,q.msg="",G.wrap&&(q.adler=1&G.wrap),G.mode=I,G.last=0,G.havedict=0,G.dmax=32768,G.head=null,G.hold=0,G.bits=0,G.lencode=G.lendyn=new x.Buf32(R),G.distcode=G.distdyn=new x.Buf32(M),G.sane=1,G.back=-1,E):A}function p(q){var G;return q&&q.state?((G=q.state).wsize=0,G.whave=0,G.wnext=0,h(q)):A}function v(q,G){var B,J;return q&&q.state?(J=q.state,0>G?(B=0,G=-G):(B=1+(G>>4),48>G&&(G&=15)),G&&(8>G||G>15)?A:(J.window!==null&&J.wbits!==G&&(J.window=null),J.wrap=B,J.wbits=G,p(q))):A}function w(q,G){var B,J;return q?(J=new f,(q.state=J).window=null,(B=v(q,G))!==E&&(q.state=null),B):A}function b(q){if(Y){var G;for(y=new x.Buf32(512),_=new x.Buf32(32),G=0;144>G;)q.lens[G++]=8;for(;256>G;)q.lens[G++]=9;for(;280>G;)q.lens[G++]=7;for(;288>G;)q.lens[G++]=8;for(C(P,q.lens,0,288,y,0,q.work,{bits:9}),G=0;32>G;)q.lens[G++]=5;C(D,q.lens,0,32,_,0,q.work,{bits:5}),Y=!1}q.lencode=y,q.lenbits=9,q.distcode=_,q.distbits=5}function m(q,G,B,J){var W,L=q.state;return L.window===null&&(L.wsize=1<<L.wbits,L.wnext=0,L.whave=0,L.window=new x.Buf8(L.wsize)),J>=L.wsize?(x.arraySet(L.window,G,B-L.wsize,L.wsize,0),L.wnext=0,L.whave=L.wsize):(J<(W=L.wsize-L.wnext)&&(W=J),x.arraySet(L.window,G,B-J,W,L.wnext),(J-=W)?(x.arraySet(L.window,G,B-J,J,0),L.wnext=J,L.whave=L.wsize):(L.wnext+=W,L.wnext===L.wsize&&(L.wnext=0),L.whave<L.wsize&&(L.whave+=W))),0}var y,_,x=o("../utils/common"),N=o("./adler32"),k=o("./crc32"),T=o("./inffast"),C=o("./inftrees"),P=1,D=2,E=0,A=-2,I=1,R=852,M=592,Y=!0;d.inflateReset=p,d.inflateReset2=v,d.inflateResetKeep=h,d.inflateInit=function(q){return w(q,15)},d.inflateInit2=w,d.inflate=function(q,G){var B,J,W,L,z,X,Q,V,Z,_e,le,ce,Fe,Ae,Re,Ve,fe,Je,je,Ce,$,ke,Se,pe,U=0,H=new x.Buf8(4),te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!q||!q.state||!q.output||!q.input&&q.avail_in!==0)return A;(B=q.state).mode===12&&(B.mode=13),z=q.next_out,W=q.output,Q=q.avail_out,L=q.next_in,J=q.input,X=q.avail_in,V=B.hold,Z=B.bits,_e=X,le=Q,ke=E;e:for(;;)switch(B.mode){case I:if(B.wrap===0){B.mode=13;break}for(;16>Z;){if(X===0)break e;X--,V+=J[L++]<<Z,Z+=8}if(2&B.wrap&&V===35615){H[B.check=0]=255&V,H[1]=V>>>8&255,B.check=k(B.check,H,2,0),Z=V=0,B.mode=2;break}if(B.flags=0,B.head&&(B.head.done=!1),!(1&B.wrap)||(((255&V)<<8)+(V>>8))%31){q.msg="incorrect header check",B.mode=30;break}if((15&V)!=8){q.msg="unknown compression method",B.mode=30;break}if(Z-=4,$=8+(15&(V>>>=4)),B.wbits===0)B.wbits=$;else if($>B.wbits){q.msg="invalid window size",B.mode=30;break}B.dmax=1<<$,q.adler=B.check=1,B.mode=512&V?10:12,Z=V=0;break;case 2:for(;16>Z;){if(X===0)break e;X--,V+=J[L++]<<Z,Z+=8}if(B.flags=V,(255&B.flags)!=8){q.msg="unknown compression method",B.mode=30;break}if(57344&B.flags){q.msg="unknown header flags set",B.mode=30;break}B.head&&(B.head.text=V>>8&1),512&B.flags&&(H[0]=255&V,H[1]=V>>>8&255,B.check=k(B.check,H,2,0)),Z=V=0,B.mode=3;case 3:for(;32>Z;){if(X===0)break e;X--,V+=J[L++]<<Z,Z+=8}B.head&&(B.head.time=V),512&B.flags&&(H[0]=255&V,H[1]=V>>>8&255,H[2]=V>>>16&255,H[3]=V>>>24&255,B.check=k(B.check,H,4,0)),Z=V=0,B.mode=4;case 4:for(;16>Z;){if(X===0)break e;X--,V+=J[L++]<<Z,Z+=8}B.head&&(B.head.xflags=255&V,B.head.os=V>>8),512&B.flags&&(H[0]=255&V,H[1]=V>>>8&255,B.check=k(B.check,H,2,0)),Z=V=0,B.mode=5;case 5:if(1024&B.flags){for(;16>Z;){if(X===0)break e;X--,V+=J[L++]<<Z,Z+=8}B.length=V,B.head&&(B.head.extra_len=V),512&B.flags&&(H[0]=255&V,H[1]=V>>>8&255,B.check=k(B.check,H,2,0)),Z=V=0}else B.head&&(B.head.extra=null);B.mode=6;case 6:if(1024&B.flags&&(X<(ce=B.length)&&(ce=X),ce&&(B.head&&($=B.head.extra_len-B.length,B.head.extra||(B.head.extra=new Array(B.head.extra_len)),x.arraySet(B.head.extra,J,L,ce,$)),512&B.flags&&(B.check=k(B.check,J,ce,L)),X-=ce,L+=ce,B.length-=ce),B.length))break e;B.length=0,B.mode=7;case 7:if(2048&B.flags){if(X===0)break e;for(ce=0;$=J[L+ce++],B.head&&$&&B.length<65536&&(B.head.name+=String.fromCharCode($)),$&&X>ce;);if(512&B.flags&&(B.check=k(B.check,J,ce,L)),X-=ce,L+=ce,$)break e}else B.head&&(B.head.name=null);B.length=0,B.mode=8;case 8:if(4096&B.flags){if(X===0)break e;for(ce=0;$=J[L+ce++],B.head&&$&&B.length<65536&&(B.head.comment+=String.fromCharCode($)),$&&X>ce;);if(512&B.flags&&(B.check=k(B.check,J,ce,L)),X-=ce,L+=ce,$)break e}else B.head&&(B.head.comment=null);B.mode=9;case 9:if(512&B.flags){for(;16>Z;){if(X===0)break e;X--,V+=J[L++]<<Z,Z+=8}if(V!==(65535&B.check)){q.msg="header crc mismatch",B.mode=30;break}Z=V=0}B.head&&(B.head.hcrc=B.flags>>9&1,B.head.done=!0),q.adler=B.check=0,B.mode=12;break;case 10:for(;32>Z;){if(X===0)break e;X--,V+=J[L++]<<Z,Z+=8}q.adler=B.check=u(V),Z=V=0,B.mode=11;case 11:if(B.havedict===0)return q.next_out=z,q.avail_out=Q,q.next_in=L,q.avail_in=X,B.hold=V,B.bits=Z,2;q.adler=B.check=1,B.mode=12;case 12:if(G===5||G===6)break e;case 13:if(B.last){V>>>=7&Z,Z-=7&Z,B.mode=27;break}for(;3>Z;){if(X===0)break e;X--,V+=J[L++]<<Z,Z+=8}switch(B.last=1&V,Z-=1,3&(V>>>=1)){case 0:B.mode=14;break;case 1:if(b(B),B.mode=20,G!==6)break;V>>>=2,Z-=2;break e;case 2:B.mode=17;break;case 3:q.msg="invalid block type",B.mode=30}V>>>=2,Z-=2;break;case 14:for(V>>>=7&Z,Z-=7&Z;32>Z;){if(X===0)break e;X--,V+=J[L++]<<Z,Z+=8}if((65535&V)!=(V>>>16^65535)){q.msg="invalid stored block lengths",B.mode=30;break}if(B.length=65535&V,Z=V=0,B.mode=15,G===6)break e;case 15:B.mode=16;case 16:if(ce=B.length){if(ce>X&&(ce=X),ce>Q&&(ce=Q),ce===0)break e;x.arraySet(W,J,L,ce,z),X-=ce,L+=ce,Q-=ce,z+=ce,B.length-=ce;break}B.mode=12;break;case 17:for(;14>Z;){if(X===0)break e;X--,V+=J[L++]<<Z,Z+=8}if(B.nlen=257+(31&V),V>>>=5,Z-=5,B.ndist=1+(31&V),V>>>=5,Z-=5,B.ncode=4+(15&V),V>>>=4,Z-=4,286<B.nlen||30<B.ndist){q.msg="too many length or distance symbols",B.mode=30;break}B.have=0,B.mode=18;case 18:for(;B.have<B.ncode;){for(;3>Z;){if(X===0)break e;X--,V+=J[L++]<<Z,Z+=8}B.lens[te[B.have++]]=7&V,V>>>=3,Z-=3}for(;B.have<19;)B.lens[te[B.have++]]=0;if(B.lencode=B.lendyn,B.lenbits=7,Se={bits:B.lenbits},ke=C(0,B.lens,0,19,B.lencode,0,B.work,Se),B.lenbits=Se.bits,ke){q.msg="invalid code lengths set",B.mode=30;break}B.have=0,B.mode=19;case 19:for(;B.have<B.nlen+B.ndist;){for(;Ve=(U=B.lencode[V&(1<<B.lenbits)-1])>>>16&255,fe=65535&U,!((Re=U>>>24)<=Z);){if(X===0)break e;X--,V+=J[L++]<<Z,Z+=8}if(16>fe)V>>>=Re,Z-=Re,B.lens[B.have++]=fe;else{if(fe===16){for(pe=Re+2;pe>Z;){if(X===0)break e;X--,V+=J[L++]<<Z,Z+=8}if(V>>>=Re,Z-=Re,B.have===0){q.msg="invalid bit length repeat",B.mode=30;break}$=B.lens[B.have-1],ce=3+(3&V),V>>>=2,Z-=2}else if(fe===17){for(pe=Re+3;pe>Z;){if(X===0)break e;X--,V+=J[L++]<<Z,Z+=8}Z-=Re,$=0,ce=3+(7&(V>>>=Re)),V>>>=3,Z-=3}else{for(pe=Re+7;pe>Z;){if(X===0)break e;X--,V+=J[L++]<<Z,Z+=8}Z-=Re,$=0,ce=11+(127&(V>>>=Re)),V>>>=7,Z-=7}if(B.have+ce>B.nlen+B.ndist){q.msg="invalid bit length repeat",B.mode=30;break}for(;ce--;)B.lens[B.have++]=$}}if(B.mode===30)break;if(B.lens[256]===0){q.msg="invalid code -- missing end-of-block",B.mode=30;break}if(B.lenbits=9,Se={bits:B.lenbits},ke=C(P,B.lens,0,B.nlen,B.lencode,0,B.work,Se),B.lenbits=Se.bits,ke){q.msg="invalid literal/lengths set",B.mode=30;break}if(B.distbits=6,B.distcode=B.distdyn,Se={bits:B.distbits},ke=C(D,B.lens,B.nlen,B.ndist,B.distcode,0,B.work,Se),B.distbits=Se.bits,ke){q.msg="invalid distances set",B.mode=30;break}if(B.mode=20,G===6)break e;case 20:B.mode=21;case 21:if(X>=6&&Q>=258){q.next_out=z,q.avail_out=Q,q.next_in=L,q.avail_in=X,B.hold=V,B.bits=Z,T(q,le),z=q.next_out,W=q.output,Q=q.avail_out,L=q.next_in,J=q.input,X=q.avail_in,V=B.hold,Z=B.bits,B.mode===12&&(B.back=-1);break}for(B.back=0;Ve=(U=B.lencode[V&(1<<B.lenbits)-1])>>>16&255,fe=65535&U,!((Re=U>>>24)<=Z);){if(X===0)break e;X--,V+=J[L++]<<Z,Z+=8}if(Ve&&!(240&Ve)){for(Je=Re,je=Ve,Ce=fe;Ve=(U=B.lencode[Ce+((V&(1<<Je+je)-1)>>Je)])>>>16&255,fe=65535&U,!(Je+(Re=U>>>24)<=Z);){if(X===0)break e;X--,V+=J[L++]<<Z,Z+=8}V>>>=Je,Z-=Je,B.back+=Je}if(V>>>=Re,Z-=Re,B.back+=Re,B.length=fe,Ve===0){B.mode=26;break}if(32&Ve){B.back=-1,B.mode=12;break}if(64&Ve){q.msg="invalid literal/length code",B.mode=30;break}B.extra=15&Ve,B.mode=22;case 22:if(B.extra){for(pe=B.extra;pe>Z;){if(X===0)break e;X--,V+=J[L++]<<Z,Z+=8}B.length+=V&(1<<B.extra)-1,V>>>=B.extra,Z-=B.extra,B.back+=B.extra}B.was=B.length,B.mode=23;case 23:for(;Ve=(U=B.distcode[V&(1<<B.distbits)-1])>>>16&255,fe=65535&U,!((Re=U>>>24)<=Z);){if(X===0)break e;X--,V+=J[L++]<<Z,Z+=8}if(!(240&Ve)){for(Je=Re,je=Ve,Ce=fe;Ve=(U=B.distcode[Ce+((V&(1<<Je+je)-1)>>Je)])>>>16&255,fe=65535&U,!(Je+(Re=U>>>24)<=Z);){if(X===0)break e;X--,V+=J[L++]<<Z,Z+=8}V>>>=Je,Z-=Je,B.back+=Je}if(V>>>=Re,Z-=Re,B.back+=Re,64&Ve){q.msg="invalid distance code",B.mode=30;break}B.offset=fe,B.extra=15&Ve,B.mode=24;case 24:if(B.extra){for(pe=B.extra;pe>Z;){if(X===0)break e;X--,V+=J[L++]<<Z,Z+=8}B.offset+=V&(1<<B.extra)-1,V>>>=B.extra,Z-=B.extra,B.back+=B.extra}if(B.offset>B.dmax){q.msg="invalid distance too far back",B.mode=30;break}B.mode=25;case 25:if(Q===0)break e;if(ce=le-Q,B.offset>ce){if((ce=B.offset-ce)>B.whave&&B.sane){q.msg="invalid distance too far back",B.mode=30;break}Fe=ce>B.wnext?(ce-=B.wnext,B.wsize-ce):B.wnext-ce,ce>B.length&&(ce=B.length),Ae=B.window}else Ae=W,Fe=z-B.offset,ce=B.length;for(ce>Q&&(ce=Q),Q-=ce,B.length-=ce;W[z++]=Ae[Fe++],--ce;);B.length===0&&(B.mode=21);break;case 26:if(Q===0)break e;W[z++]=B.length,Q--,B.mode=21;break;case 27:if(B.wrap){for(;32>Z;){if(X===0)break e;X--,V|=J[L++]<<Z,Z+=8}if(le-=Q,q.total_out+=le,B.total+=le,le&&(q.adler=B.check=B.flags?k(B.check,W,le,z-le):N(B.check,W,le,z-le)),le=Q,(B.flags?V:u(V))!==B.check){q.msg="incorrect data check",B.mode=30;break}Z=V=0}B.mode=28;case 28:if(B.wrap&&B.flags){for(;32>Z;){if(X===0)break e;X--,V+=J[L++]<<Z,Z+=8}if(V!==(4294967295&B.total)){q.msg="incorrect length check",B.mode=30;break}Z=V=0}B.mode=29;case 29:ke=1;break e;case 30:ke=-3;break e;case 31:return-4;case 32:default:return A}return q.next_out=z,q.avail_out=Q,q.next_in=L,q.avail_in=X,B.hold=V,B.bits=Z,(B.wsize||le!==q.avail_out&&B.mode<30&&(B.mode<27||G!==4))&&m(q,q.output,q.next_out,le-q.avail_out)?(B.mode=31,-4):(_e-=q.avail_in,le-=q.avail_out,q.total_in+=_e,q.total_out+=le,B.total+=le,B.wrap&&le&&(q.adler=B.check=B.flags?k(B.check,W,le,q.next_out-le):N(B.check,W,le,q.next_out-le)),q.data_type=B.bits+(B.last?64:0)+(B.mode===12?128:0)+(B.mode===20||B.mode===15?256:0),(_e==0&&le===0||G===4)&&ke===E&&(ke=-5),ke)},d.inflateEnd=function(q){if(!q||!q.state)return A;var G=q.state;return G.window&&(G.window=null),q.state=null,E},d.inflateGetHeader=function(q,G){var B;return q&&q.state&&2&(B=q.state).wrap?((B.head=G).done=!1,E):A},d.inflateSetDictionary=function(q,G){var B,J=G.length;return q&&q.state?(B=q.state).wrap!==0&&B.mode!==11?A:B.mode===11&&N(1,G,J,0)!==B.check?-3:m(q,G,J,J)?(B.mode=31,-4):(B.havedict=1,E):A},d.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(o,c,d){var u=o("../utils/common"),f=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],v=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];c.exports=function(w,b,m,y,_,x,N,k){var T,C,P,D,E,A,I,R,M,Y=k.bits,q=0,G=0,B=0,J=0,W=0,L=0,z=0,X=0,Q=0,V=0,Z=null,_e=0,le=new u.Buf16(16),ce=new u.Buf16(16),Fe=null,Ae=0;for(q=0;15>=q;q++)le[q]=0;for(G=0;y>G;G++)le[b[m+G]]++;for(W=Y,J=15;J>=1&&le[J]===0;J--);if(W>J&&(W=J),J===0)return _[x++]=20971520,_[x++]=20971520,k.bits=1,0;for(B=1;J>B&&le[B]===0;B++);for(B>W&&(W=B),q=X=1;15>=q;q++)if(X<<=1,(X-=le[q])<0)return-1;if(X>0&&(w===0||J!==1))return-1;for(ce[1]=0,q=1;15>q;q++)ce[q+1]=ce[q]+le[q];for(G=0;y>G;G++)b[m+G]!==0&&(N[ce[b[m+G]]++]=G);if(A=w===0?(Z=Fe=N,19):w===1?(Z=f,_e-=257,Fe=h,Ae-=257,256):(Z=p,Fe=v,-1),q=B,E=x,z=G=V=0,P=-1,D=(Q=1<<(L=W))-1,w===1&&Q>852||w===2&&Q>592)return 1;for(;;){for(I=q-z,M=N[G]<A?(R=0,N[G]):N[G]>A?(R=Fe[Ae+N[G]],Z[_e+N[G]]):(R=96,0),T=1<<q-z,B=C=1<<L;_[E+(V>>z)+(C-=T)]=I<<24|R<<16|M|0,C!==0;);for(T=1<<q-1;V&T;)T>>=1;if(T!==0?(V&=T-1,V+=T):V=0,G++,--le[q]==0){if(q===J)break;q=b[m+N[G]]}if(q>W&&(V&D)!==P){for(z===0&&(z=W),E+=B,X=1<<(L=q-z);J>L+z&&!((X-=le[L+z])<=0);)L++,X<<=1;if(Q+=1<<L,w===1&&Q>852||w===2&&Q>592)return 1;_[P=V&D]=W<<24|L<<16|E-x|0}}return V!==0&&(_[E+V]=q-z<<24|64<<16|0),k.bits=W,0}},{"../utils/common":41}],51:[function(o,c,d){c.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(o,c,d){function u(U){for(var H=U.length;0<=--H;)U[H]=0}function f(U,H,te,he,ve){this.static_tree=U,this.extra_bits=H,this.extra_base=te,this.elems=he,this.max_length=ve,this.has_stree=U&&U.length}function h(U,H){this.dyn_tree=U,this.max_code=0,this.stat_desc=H}function p(U){return 256>U?fe[U]:fe[256+(U>>>7)]}function v(U,H){U.pending_buf[U.pending++]=255&H,U.pending_buf[U.pending++]=H>>>8&255}function w(U,H,te){U.bi_valid>z-te?(U.bi_buf|=H<<U.bi_valid&65535,v(U,U.bi_buf),U.bi_buf=H>>z-U.bi_valid,U.bi_valid+=te-z):(U.bi_buf|=H<<U.bi_valid&65535,U.bi_valid+=te)}function b(U,H,te){w(U,te[2*H],te[2*H+1])}function m(U,H){for(var te=0;te|=1&U,U>>>=1,te<<=1,0<--H;);return te>>>1}function y(U,H,te){var he,ve,ae=new Array(L+1),me=0;for(he=1;L>=he;he++)ae[he]=me=me+te[he-1]<<1;for(ve=0;H>=ve;ve++){var ge=U[2*ve+1];ge!==0&&(U[2*ve]=m(ae[ge]++,ge))}}function _(U){var H;for(H=0;G>H;H++)U.dyn_ltree[2*H]=0;for(H=0;B>H;H++)U.dyn_dtree[2*H]=0;for(H=0;J>H;H++)U.bl_tree[2*H]=0;U.dyn_ltree[2*Q]=1,U.opt_len=U.static_len=0,U.last_lit=U.matches=0}function x(U){8<U.bi_valid?v(U,U.bi_buf):0<U.bi_valid&&(U.pending_buf[U.pending++]=U.bi_buf),U.bi_buf=0,U.bi_valid=0}function N(U,H,te,he){var ve=2*H,ae=2*te;return U[ve]<U[ae]||U[ve]===U[ae]&&he[H]<=he[te]}function k(U,H,te){for(var he=U.heap[te],ve=te<<1;ve<=U.heap_len&&(ve<U.heap_len&&N(H,U.heap[ve+1],U.heap[ve],U.depth)&&ve++,!N(H,he,U.heap[ve],U.depth));)U.heap[te]=U.heap[ve],te=ve,ve<<=1;U.heap[te]=he}function T(U,H,te){var he,ve,ae,me,ge=0;if(U.last_lit!==0)for(;he=U.pending_buf[U.d_buf+2*ge]<<8|U.pending_buf[U.d_buf+2*ge+1],ve=U.pending_buf[U.l_buf+ge],ge++,he===0?b(U,ve,H):(b(U,(ae=Je[ve])+q+1,H),(me=le[ae])!==0&&w(U,ve-=je[ae],me),b(U,ae=p(--he),te),(me=ce[ae])!==0&&w(U,he-=Se[ae],me)),ge<U.last_lit;);b(U,Q,H)}function C(U,H){var te,he,ve,ae=H.dyn_tree,me=H.stat_desc.static_tree,ge=H.stat_desc.has_stree,Oe=H.stat_desc.elems,Ye=-1;for(U.heap_len=0,U.heap_max=W,te=0;Oe>te;te++)ae[2*te]!==0?(U.heap[++U.heap_len]=Ye=te,U.depth[te]=0):ae[2*te+1]=0;for(;U.heap_len<2;)ae[2*(ve=U.heap[++U.heap_len]=2>Ye?++Ye:0)]=1,U.depth[ve]=0,U.opt_len--,ge&&(U.static_len-=me[2*ve+1]);for(H.max_code=Ye,te=U.heap_len>>1;te>=1;te--)k(U,ae,te);for(ve=Oe;te=U.heap[1],U.heap[1]=U.heap[U.heap_len--],k(U,ae,1),he=U.heap[1],U.heap[--U.heap_max]=te,U.heap[--U.heap_max]=he,ae[2*ve]=ae[2*te]+ae[2*he],U.depth[ve]=(U.depth[te]>=U.depth[he]?U.depth[te]:U.depth[he])+1,ae[2*te+1]=ae[2*he+1]=ve,U.heap[1]=ve++,k(U,ae,1),2<=U.heap_len;);U.heap[--U.heap_max]=U.heap[1],function(Ke,mt){var qe,it,ft,We,tt,pt,Ct=mt.dyn_tree,Et=mt.max_code,St=mt.stat_desc.static_tree,Bt=mt.stat_desc.has_stree,kn=mt.stat_desc.extra_bits,sn=mt.stat_desc.extra_base,we=mt.stat_desc.max_length,Pe=0;for(We=0;L>=We;We++)Ke.bl_count[We]=0;for(Ct[2*Ke.heap[Ke.heap_max]+1]=0,qe=Ke.heap_max+1;W>qe;qe++)we<(We=Ct[2*Ct[2*(it=Ke.heap[qe])+1]+1]+1)&&(We=we,Pe++),Ct[2*it+1]=We,it>Et||(Ke.bl_count[We]++,tt=0,it>=sn&&(tt=kn[it-sn]),pt=Ct[2*it],Ke.opt_len+=pt*(We+tt),Bt&&(Ke.static_len+=pt*(St[2*it+1]+tt)));if(Pe!==0){do{for(We=we-1;Ke.bl_count[We]===0;)We--;Ke.bl_count[We]--,Ke.bl_count[We+1]+=2,Ke.bl_count[we]--,Pe-=2}while(Pe>0);for(We=we;We!==0;We--)for(it=Ke.bl_count[We];it!==0;)Et<(ft=Ke.heap[--qe])||(Ct[2*ft+1]!==We&&(Ke.opt_len+=(We-Ct[2*ft+1])*Ct[2*ft],Ct[2*ft+1]=We),it--)}}(U,H),y(ae,Ye,U.bl_count)}function P(U,H,te){var he,ve,ae=-1,me=H[1],ge=0,Oe=7,Ye=4;for(me===0&&(Oe=138,Ye=3),H[2*(te+1)+1]=65535,he=0;te>=he;he++)ve=me,me=H[2*(he+1)+1],++ge<Oe&&ve===me||(Ye>ge?U.bl_tree[2*ve]+=ge:ve!==0?(ve!==ae&&U.bl_tree[2*ve]++,U.bl_tree[2*V]++):10>=ge?U.bl_tree[2*Z]++:U.bl_tree[2*_e]++,ae=ve,Ye=(ge=0)===me?(Oe=138,3):ve===me?(Oe=6,3):(Oe=7,4))}function D(U,H,te){var he,ve,ae=-1,me=H[1],ge=0,Oe=7,Ye=4;for(me===0&&(Oe=138,Ye=3),he=0;te>=he;he++)if(ve=me,me=H[2*(he+1)+1],!(++ge<Oe&&ve===me)){if(Ye>ge)for(;b(U,ve,U.bl_tree),--ge!=0;);else ve!==0?(ve!==ae&&(b(U,ve,U.bl_tree),ge--),b(U,V,U.bl_tree),w(U,ge-3,2)):10>=ge?(b(U,Z,U.bl_tree),w(U,ge-3,3)):(b(U,_e,U.bl_tree),w(U,ge-11,7));ae=ve,Ye=(ge=0)===me?(Oe=138,3):ve===me?(Oe=6,3):(Oe=7,4)}}function E(U,H,te,he){w(U,(M<<1)+(he?1:0),3),function(ve,ae,me,ge){x(ve),ge&&(v(ve,me),v(ve,~me)),A.arraySet(ve.pending_buf,ve.window,ae,me,ve.pending),ve.pending+=me}(U,H,te,!0)}var A=o("../utils/common"),I=0,R=1,M=0,Y=29,q=256,G=q+1+Y,B=30,J=19,W=2*G+1,L=15,z=16,X=7,Q=256,V=16,Z=17,_e=18,le=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ce=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Fe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Ae=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Re=new Array(2*(G+2));u(Re);var Ve=new Array(2*B);u(Ve);var fe=new Array(512);u(fe);var Je=new Array(256);u(Je);var je=new Array(Y);u(je);var Ce,$,ke,Se=new Array(B);u(Se);var pe=!1;d._tr_init=function(U){pe||(function(){var H,te,he,ve,ae,me=new Array(L+1);for(ve=he=0;Y-1>ve;ve++)for(je[ve]=he,H=0;H<1<<le[ve];H++)Je[he++]=ve;for(Je[he-1]=ve,ve=ae=0;16>ve;ve++)for(Se[ve]=ae,H=0;H<1<<ce[ve];H++)fe[ae++]=ve;for(ae>>=7;B>ve;ve++)for(Se[ve]=ae<<7,H=0;H<1<<ce[ve]-7;H++)fe[256+ae++]=ve;for(te=0;L>=te;te++)me[te]=0;for(H=0;143>=H;)Re[2*H+1]=8,H++,me[8]++;for(;255>=H;)Re[2*H+1]=9,H++,me[9]++;for(;279>=H;)Re[2*H+1]=7,H++,me[7]++;for(;287>=H;)Re[2*H+1]=8,H++,me[8]++;for(y(Re,G+1,me),H=0;B>H;H++)Ve[2*H+1]=5,Ve[2*H]=m(H,5);Ce=new f(Re,le,q+1,G,L),$=new f(Ve,ce,0,B,L),ke=new f(new Array(0),Fe,0,J,X)}(),pe=!0),U.l_desc=new h(U.dyn_ltree,Ce),U.d_desc=new h(U.dyn_dtree,$),U.bl_desc=new h(U.bl_tree,ke),U.bi_buf=0,U.bi_valid=0,_(U)},d._tr_stored_block=E,d._tr_flush_block=function(U,H,te,he){var ve,ae,me=0;0<U.level?(U.strm.data_type===2&&(U.strm.data_type=function(ge){var Oe,Ye=4093624447;for(Oe=0;31>=Oe;Oe++,Ye>>>=1)if(1&Ye&&ge.dyn_ltree[2*Oe]!==0)return I;if(ge.dyn_ltree[18]!==0||ge.dyn_ltree[20]!==0||ge.dyn_ltree[26]!==0)return R;for(Oe=32;q>Oe;Oe++)if(ge.dyn_ltree[2*Oe]!==0)return R;return I}(U)),C(U,U.l_desc),C(U,U.d_desc),me=function(ge){var Oe;for(P(ge,ge.dyn_ltree,ge.l_desc.max_code),P(ge,ge.dyn_dtree,ge.d_desc.max_code),C(ge,ge.bl_desc),Oe=J-1;Oe>=3&&ge.bl_tree[2*Ae[Oe]+1]===0;Oe--);return ge.opt_len+=3*(Oe+1)+5+5+4,Oe}(U),ve=U.opt_len+3+7>>>3,(ae=U.static_len+3+7>>>3)<=ve&&(ve=ae)):ve=ae=te+5,ve>=te+4&&H!==-1?E(U,H,te,he):U.strategy===4||ae===ve?(w(U,2+(he?1:0),3),T(U,Re,Ve)):(w(U,4+(he?1:0),3),function(ge,Oe,Ye,Ke){var mt;for(w(ge,Oe-257,5),w(ge,Ye-1,5),w(ge,Ke-4,4),mt=0;Ke>mt;mt++)w(ge,ge.bl_tree[2*Ae[mt]+1],3);D(ge,ge.dyn_ltree,Oe-1),D(ge,ge.dyn_dtree,Ye-1)}(U,U.l_desc.max_code+1,U.d_desc.max_code+1,me+1),T(U,U.dyn_ltree,U.dyn_dtree)),_(U),he&&x(U)},d._tr_tally=function(U,H,te){return U.pending_buf[U.d_buf+2*U.last_lit]=H>>>8&255,U.pending_buf[U.d_buf+2*U.last_lit+1]=255&H,U.pending_buf[U.l_buf+U.last_lit]=255&te,U.last_lit++,H===0?U.dyn_ltree[2*te]++:(U.matches++,H--,U.dyn_ltree[2*(Je[te]+q+1)]++,U.dyn_dtree[2*p(H)]++),U.last_lit===U.lit_bufsize-1},d._tr_align=function(U){w(U,2,3),b(U,Q,Re),function(H){H.bi_valid===16?(v(H,H.bi_buf),H.bi_buf=0,H.bi_valid=0):8<=H.bi_valid&&(H.pending_buf[H.pending++]=255&H.bi_buf,H.bi_buf>>=8,H.bi_valid-=8)}(U)}},{"../utils/common":41}],53:[function(o,c,d){c.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(o,c,d){c.exports=typeof setImmediate=="function"?setImmediate:function(){var u=[].slice.apply(arguments);u.splice(1,0,0),setTimeout.apply(null,u)}},{}]},{},[10])(10)})}).call(this,typeof nr<"u"?nr:typeof self<"u"?self:typeof window<"u"?window:{},t("buffer").Buffer)},{buffer:83}],89:[function(t,i,r){r.Parser=t("./lib/parser").Parser,r.rules=t("./lib/rules"),r.errors=t("./lib/errors"),r.results=t("./lib/parsing-results"),r.StringSource=t("./lib/StringSource"),r.Token=t("./lib/Token"),r.bottomUp=t("./lib/bottom-up"),r.RegexTokeniser=t("./lib/regex-tokeniser").RegexTokeniser,r.rule=function(s){var a;return function(o){return a||(a=s()),a(o)}}},{"./lib/StringSource":90,"./lib/Token":91,"./lib/bottom-up":93,"./lib/errors":94,"./lib/parser":96,"./lib/parsing-results":97,"./lib/regex-tokeniser":98,"./lib/rules":99}],90:[function(t,i,r){var s=(i.exports=function(a,o){var c={asString:function(){return a},range:function(d,u){return new s(a,o,d,u)}};return c},function(a,o,c,d){this._string=a,this._description=o,this._startIndex=c,this._endIndex=d});s.prototype.to=function(a){return new s(this._string,this._description,this._startIndex,a._endIndex)},s.prototype.describe=function(){var a=this._position(),o=this._description?this._description+`
`:"";return o+"Line number: "+a.lineNumber+`
Character number: `+a.characterNumber},s.prototype.lineNumber=function(){return this._position().lineNumber},s.prototype.characterNumber=function(){return this._position().characterNumber},s.prototype._position=function(){for(var a=this,o=0,c=function(){return a._string.indexOf(`
`,o)},d=1;c()!==-1&&c()<this._startIndex;)o=c()+1,d+=1;var u=this._startIndex-o+1;return{lineNumber:d,characterNumber:u}}},{}],91:[function(t,i,r){i.exports=function(s,a,o){this.name=s,this.value=a,o&&(this.source=o)}},{}],92:[function(t,i,r){var s=i.exports=function(a,o){this._tokens=a,this._startIndex=o||0};s.prototype.head=function(){return this._tokens[this._startIndex]},s.prototype.tail=function(a){return new s(this._tokens,this._startIndex+1)},s.prototype.toArray=function(){return this._tokens.slice(this._startIndex)},s.prototype.end=function(){return this._tokens[this._tokens.length-1]},s.prototype.to=function(a){var o=this.head().source,c=a.head()||a.end();return o.to(c.source)}},{}],93:[function(t,i,r){function s(d){function u(w){return new s(d.slice(0,h().indexOf(w)))}function f(w){return new s(d.slice(0,h().indexOf(w)+1))}function h(){return d.map(function(w){return w.name})}function p(w){for(var b,m;;){if(b=v(w.remaining()),!b.isSuccess())return b.isFailure()?w:b;m=w.source().to(b.source()),w=o.success(b.value()(w.value(),m),b.remaining(),m)}}function v(w){return a.firstOf("infix",d.map(function(b){return b.rule}))(w)}return{apply:p,untilExclusive:u,untilInclusive:f}}var a=t("./rules"),o=t("./parsing-results");r.parser=function(d,u,f){function h(N){return{name:N.name,rule:c(N.ruleBuilder.bind(null,y))}}function p(){return b(_)}function v(N){return b(_.untilExclusive(N))}function w(N){return b(_.untilInclusive(N))}function b(N){return m.bind(null,N)}function m(N,k){var T=x(k);return T.isSuccess()?N.apply(T):T}var y={rule:p,leftAssociative:v,rightAssociative:w},_=new s(f.map(h)),x=a.firstOf(d,u);return y},r.infix=function(d,u){function f(h){return r.infix(d,function(p){var v=u(p);return function(w){var b=v(w);return b.map(function(m){return function(y,_){return h(y,m,_)}})}})}return{name:d,ruleBuilder:u,map:f}};var c=function(d){var u;return function(f){return u||(u=d()),u(f)}}},{"./parsing-results":97,"./rules":99}],94:[function(t,i,r){r.error=function(a){return new s(a)};var s=function(a){this.expected=a.expected,this.actual=a.actual,this._location=a.location};s.prototype.describe=function(){var a=this._location?this._location.describe()+`:
`:"";return a+"Expected "+this.expected+`
but got `+this.actual},s.prototype.lineNumber=function(){return this._location.lineNumber()},s.prototype.characterNumber=function(){return this._location.characterNumber()}},{}],95:[function(t,i,r){var s=(r.fromArray=function(a){var o=0,c=function(){return o<a.length};return new s({hasNext:c,next:function(){if(c())return a[o++];throw new Error("No more elements")}})},function(a){this._iterator=a});s.prototype.map=function(a){var o=this._iterator;return new s({hasNext:function(){return o.hasNext()},next:function(){return a(o.next())}})},s.prototype.filter=function(a){var o,c=this._iterator,d=!1,u=!1,f=function(){if(!d)for(d=!0,u=!1;c.hasNext()&&!u;)o=c.next(),u=a(o)};return new s({hasNext:function(){return f(),u},next:function(){f();var h=o;return d=!1,h}})},s.prototype.first=function(){var a=this._iterator;return this._iterator.hasNext()?a.next():null},s.prototype.toArray=function(){for(var a=[];this._iterator.hasNext();)a.push(this._iterator.next());return a}},{}],96:[function(t,i,r){var s=t("./TokenIterator");r.Parser=function(a){var o=function(c,d){return c(new s(d))};return{parseTokens:o}}},{"./TokenIterator":92}],97:[function(t,i,r){i.exports={failure:function(a,o){if(a.length<1)throw new Error("Failure must have errors");return new s({status:"failure",remaining:o,errors:a})},error:function(a,o){if(a.length<1)throw new Error("Failure must have errors");return new s({status:"error",remaining:o,errors:a})},success:function(a,o,c){return new s({status:"success",value:a,source:c,remaining:o,errors:[]})},cut:function(a){return new s({status:"cut",remaining:a,errors:[]})}};var s=function(a){this._value=a.value,this._status=a.status,this._hasValue=a.value!==void 0,this._remaining=a.remaining,this._source=a.source,this._errors=a.errors};s.prototype.map=function(a){return this._hasValue?new s({value:a(this._value,this._source),status:this._status,remaining:this._remaining,source:this._source,errors:this._errors}):this},s.prototype.changeRemaining=function(a){return new s({value:this._value,status:this._status,remaining:a,source:this._source,errors:this._errors})},s.prototype.isSuccess=function(){return this._status==="success"||this._status==="cut"},s.prototype.isFailure=function(){return this._status==="failure"},s.prototype.isError=function(){return this._status==="error"},s.prototype.isCut=function(){return this._status==="cut"},s.prototype.value=function(){return this._value},s.prototype.remaining=function(){return this._remaining},s.prototype.source=function(){return this._source},s.prototype.errors=function(){return this._errors}},{}],98:[function(t,i,r){function s(c){function d(h,p){for(var v=new o(h,p),w=0,b=[];w<h.length;){var m=u(h,w,v);w=m.endIndex,b.push(m.token)}return b.push(f(h,v)),b}function u(h,p,v){for(var w=0;w<c.length;w++){var b=c[w].regex;b.lastIndex=p;var m=b.exec(h);if(m){var _=p+m[0].length;if(m.index===p&&_>p){var y=m[1],x=new a(c[w].name,y,v.range(p,_));return{token:x,endIndex:_}}}}var _=p+1,x=new a("unrecognisedCharacter",h.substring(p,_),v.range(p,_));return{token:x,endIndex:_}}function f(h,p){return new a("end",null,p.range(h.length,h.length))}return c=c.map(function(h){return{name:h.name,regex:new RegExp(h.regex.source,"g")}}),{tokenise:d}}var a=t("./Token"),o=t("./StringSource");r.RegexTokeniser=s},{"./StringSource":90,"./Token":91}],99:[function(t,i,r){function s(b){return d.success(null,b)}function a(b,m){var y,_=b.head();return y=_?u.error({expected:m,actual:w(_),location:_.source}):u.error({expected:m,actual:"end of tokens"}),d.failure([y],b)}var o=t("underscore"),c=t("option"),d=t("./parsing-results"),u=t("./errors"),f=t("./lazy-iterators");r.token=function(b,m){var y=m!==void 0;return function(_){var x=_.head();if(!x||x.name!==b||y&&x.value!==m){var N=w({name:b,value:m});return a(_,N)}return d.success(x.value,_.tail(),x.source)}},r.tokenOfType=function(b){return r.token(b)},r.firstOf=function(b,m){return o.isArray(m)||(m=Array.prototype.slice.call(arguments,1)),function(y){return f.fromArray(m).map(function(_){return _(y)}).filter(function(_){return _.isSuccess()||_.isError()}).first()||a(y,b)}},r.then=function(b,m){return function(y){var _=b(y);return _.map||console.log(_),_.map(m)}},r.sequence=function(){function b(_){return _.isCaptured}var m=Array.prototype.slice.call(arguments,0),y=function(_){var x=o.foldl(m,function(k,T){var C=k.result,P=k.hasCut;if(!C.isSuccess())return{result:C,hasCut:P};var D=T(C.remaining());if(D.isCut())return{result:C,hasCut:!0};if(D.isSuccess()){var E;E=T.isCaptured?C.value().withValue(T,D.value()):C.value();var A=D.remaining(),I=_.to(A);return{result:d.success(E,A,I),hasCut:P}}return P?{result:d.error(D.errors(),D.remaining()),hasCut:P}:{result:D,hasCut:P}},{result:d.success(new h,_),hasCut:!1}).result,N=_.to(x.remaining());return x.map(function(k){return k.withValue(r.sequence.source,N)})};return y.head=function(){var _=o.find(m,b);return r.then(y,r.sequence.extract(_))},y.map=function(_){return r.then(y,function(x){return _.apply(this,x.toArray())})},y};var h=function(b,m){this._values=b||{},this._valuesArray=m||[]};h.prototype.withValue=function(b,m){if(b.captureName&&b.captureName in this._values)throw new Error('Cannot add second value for capture "'+b.captureName+'"');var y=o.clone(this._values);y[b.captureName]=m;var _=this._valuesArray.concat([m]);return new h(y,_)},h.prototype.get=function(b){if(b.captureName in this._values)return this._values[b.captureName];throw new Error('No value for capture "'+b.captureName+'"')},h.prototype.toArray=function(){return this._valuesArray},r.sequence.capture=function(b,m){var y=function(){return b.apply(this,arguments)};return y.captureName=m,y.isCaptured=!0,y},r.sequence.extract=function(b){return function(m){return m.get(b)}},r.sequence.applyValues=function(b){var m=Array.prototype.slice.call(arguments,1);return function(y){var _=m.map(function(x){return y.get(x)});return b.apply(this,_)}},r.sequence.source={captureName:"source"},r.sequence.cut=function(){return function(b){return d.cut(b)}},r.optional=function(b){return function(m){var y=b(m);return y.isSuccess()?y.map(c.some):y.isFailure()?d.success(c.none,m):y}},r.zeroOrMoreWithSeparator=function(b,m){return v(b,m,!1)},r.oneOrMoreWithSeparator=function(b,m){return v(b,m,!0)};var p=r.zeroOrMore=function(b){return function(m){for(var y,_=[];(y=b(m))&&y.isSuccess();)m=y.remaining(),_.push(y.value());return y.isError()?y:d.success(_,m)}};r.oneOrMore=function(b){return r.oneOrMoreWithSeparator(b,s)};var v=function(b,m,y){return function(_){var x=b(_);if(x.isSuccess()){var N=r.sequence.capture(b,"main"),k=p(r.then(r.sequence(m,N),r.sequence.extract(N))),T=k(x.remaining());return d.success([x.value()].concat(T.value()),T.remaining())}return y||x.isError()?x:d.success([],_)}};r.leftAssociative=function(b,m,y){var _;_=y?[{func:y,rule:m}]:m,_=_.map(function(N){return r.then(N.rule,function(k){return function(T,C){return N.func(T,k,C)}})});var x=r.firstOf.apply(null,["rules"].concat(_));return function(N){var k=N,T=b(N);if(!T.isSuccess())return T;for(var C=x(T.remaining());C.isSuccess();){var P=C.remaining(),D=k.to(C.remaining()),E=C.value();T=d.success(E(T.value(),D),P,D),C=x(T.remaining())}return C.isError()?C:T}},r.leftAssociative.firstOf=function(){return Array.prototype.slice.call(arguments,0)},r.nonConsuming=function(b){return function(m){return b(m).changeRemaining(m)}};var w=function(b){return b.value?b.name+' "'+b.value+'"':b.name}},{"./errors":94,"./lazy-iterators":95,"./parsing-results":97,option:100,underscore:102}],100:[function(t,i,r){function s(o){return typeof o=="function"?o():o}r.none=Object.create({value:function(){throw new Error("Called value on none")},isNone:function(){return!0},isSome:function(){return!1},map:function(){return r.none},flatMap:function(){return r.none},filter:function(){return r.none},toArray:function(){return[]},orElse:s,valueOrElse:s}),r.some=function(o){return new a(o)};var a=function(o){this._value=o};a.prototype.value=function(){return this._value},a.prototype.isNone=function(){return!1},a.prototype.isSome=function(){return!0},a.prototype.map=function(o){return new a(o(this._value))},a.prototype.flatMap=function(o){return o(this._value)},a.prototype.filter=function(o){return o(this._value)?this:r.none},a.prototype.toArray=function(){return[this._value]},a.prototype.orElse=function(o){return this},a.prototype.valueOrElse=function(o){return this._value},r.isOption=function(o){return o===r.none||o instanceof a},r.fromNullable=function(o){return o==null?r.none:new a(o)}},{}],101:[function(t,i,r){function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(x){if(p===setTimeout)return setTimeout(x,0);if((p===s||!p)&&setTimeout)return p=setTimeout,setTimeout(x,0);try{return p(x,0)}catch{try{return p.call(null,x,0)}catch{return p.call(this,x,0)}}}function c(x){if(v===clearTimeout)return clearTimeout(x);if((v===a||!v)&&clearTimeout)return v=clearTimeout,clearTimeout(x);try{return v(x)}catch{try{return v.call(null,x)}catch{return v.call(this,x)}}}function d(){y&&b&&(y=!1,b.length?m=b.concat(m):_=-1,m.length&&u())}function u(){if(!y){var x=o(d);y=!0;for(var N=m.length;N;){for(b=m,m=[];++_<N;)b&&b[_].run();_=-1,N=m.length}b=null,y=!1,c(x)}}function f(x,N){this.fun=x,this.array=N}function h(){}var p,v,w=i.exports={};(function(){try{p=typeof setTimeout=="function"?setTimeout:s}catch{p=s}try{v=typeof clearTimeout=="function"?clearTimeout:a}catch{v=a}})();var b,m=[],y=!1,_=-1;w.nextTick=function(x){var N=new Array(arguments.length-1);if(arguments.length>1)for(var k=1;k<arguments.length;k++)N[k-1]=arguments[k];m.push(new f(x,N)),m.length!==1||y||o(u)},f.prototype.run=function(){this.fun.apply(null,this.array)},w.title="browser",w.browser=!0,w.env={},w.argv=[],w.version="",w.versions={},w.on=h,w.addListener=h,w.once=h,w.off=h,w.removeListener=h,w.removeAllListeners=h,w.emit=h,w.binding=function(x){throw new Error("process.binding is not supported")},w.cwd=function(){return"/"},w.chdir=function(x){throw new Error("process.chdir is not supported")},w.umask=function(){return 0}},{}],102:[function(t,i,r){(function(s){(function(a,o){typeof r=="object"&&typeof i<"u"?i.exports=o():(a=typeof globalThis<"u"?globalThis:a||self,function(){var c=a._,d=a._=o();d.noConflict=function(){return a._=c,d}}())})(this,function(){function a(de,Ne){return Ne=Ne==null?de.length-1:+Ne,function(){for(var $e=Math.max(arguments.length-Ne,0),He=Array($e),et=0;$e>et;et++)He[et]=arguments[et+Ne];switch(Ne){case 0:return de.call(this,He);case 1:return de.call(this,arguments[0],He);case 2:return de.call(this,arguments[0],arguments[1],He)}var Ze=Array(Ne+1);for(et=0;Ne>et;et++)Ze[et]=arguments[et];return Ze[Ne]=He,de.apply(this,Ze)}}function o(de){var Ne=typeof de;return Ne==="function"||Ne==="object"&&!!de}function c(de){return de===null}function d(de){return de===void 0}function u(de){return de===!0||de===!1||lr.call(de)==="[object Boolean]"}function f(de){return!(!de||de.nodeType!==1)}function h(de){var Ne="[object "+de+"]";return function($e){return lr.call($e)===Ne}}function p(de){return de!=null&&Zi(de.getInt8)&&Sr(de.buffer)}function v(de,Ne){return de!=null&&Nl.call(de,Ne)}function w(de){return!fd(de)&&Ya(de)&&!isNaN(parseFloat(de))}function b(de){return Cu(de)&&bm(de)}function m(de){return function(){return de}}function y(de){return function(Ne){var $e=de(Ne);return typeof $e=="number"&&$e>=0&&Ka>=$e}}function _(de){return function(Ne){return Ne==null?void 0:Ne[de]}}function x(de){return ku?ku(de)&&!pc(de):Kn(de)&&Du.test(lr.call(de))}function N(de){for(var Ne={},$e=de.length,He=0;$e>He;++He)Ne[de[He]]=!0;return{contains:function(et){return Ne[et]},push:function(et){return Ne[et]=!0,de.push(et)}}}function k(de,Ne){Ne=N(Ne);var $e=Tu.length,He=de.constructor,et=Zi(He)&&He.prototype||Sl,Ze="constructor";for(v(de,Ze)&&!Ne.contains(Ze)&&Ne.push(Ze);$e--;)Ze=Tu[$e],Ze in de&&de[Ze]!==et[Ze]&&!Ne.contains(Ze)&&Ne.push(Ze)}function T(de){if(!o(de))return[];if(ps)return ps(de);var Ne=[];for(var $e in de)v(de,$e)&&Ne.push($e);return Eu&&k(de,Ne),Ne}function C(de){if(de==null)return!0;var Ne=Nr(de);return typeof Ne=="number"&&(Qi(de)||Jr(de)||md(de))?Ne===0:Nr(T(de))===0}function P(de,Ne){var $e=T(Ne),He=$e.length;if(de==null)return!He;for(var et=Object(de),Ze=0;He>Ze;Ze++){var xt=$e[Ze];if(Ne[xt]!==et[xt]||!(xt in et))return!1}return!0}function D(de){return de instanceof D?de:this instanceof D?void(this._wrapped=de):new D(de)}function E(de){return new Uint8Array(de.buffer||de,de.byteOffset||0,Al(de))}function A(de,Ne,$e,He){if(de===Ne)return de!==0||1/de===1/Ne;if(de==null||Ne==null)return!1;if(de!==de)return Ne!==Ne;var et=typeof de;return et!=="function"&&et!=="object"&&typeof Ne!="object"?!1:I(de,Ne,$e,He)}function I(de,Ne,$e,He){de instanceof D&&(de=de._wrapped),Ne instanceof D&&(Ne=Ne._wrapped);var et=lr.call(de);if(et!==lr.call(Ne))return!1;if(rn&&et=="[object Object]"&&pc(de)){if(!pc(Ne))return!1;et=Ta}switch(et){case"[object RegExp]":case"[object String]":return""+de==""+Ne;case"[object Number]":return+de!=+de?+Ne!=+Ne:+de==0?1/+de===1/Ne:+de==+Ne;case"[object Date]":case"[object Boolean]":return+de==+Ne;case"[object Symbol]":return ka.valueOf.call(de)===ka.valueOf.call(Ne);case"[object ArrayBuffer]":case Ta:return I(E(de),E(Ne),$e,He)}var Ze=et==="[object Array]";if(!Ze&&kl(de)){var xt=Al(de);if(xt!==Al(Ne))return!1;if(de.buffer===Ne.buffer&&de.byteOffset===Ne.byteOffset)return!0;Ze=!0}if(!Ze){if(typeof de!="object"||typeof Ne!="object")return!1;var Rt=de.constructor,Qt=Ne.constructor;if(Rt!==Qt&&!(Zi(Rt)&&Rt instanceof Rt&&Zi(Qt)&&Qt instanceof Qt)&&"constructor"in de&&"constructor"in Ne)return!1}$e=$e||[],He=He||[];for(var tn=$e.length;tn--;)if($e[tn]===de)return He[tn]===Ne;if($e.push(de),He.push(Ne),Ze){if(tn=de.length,tn!==Ne.length)return!1;for(;tn--;)if(!A(de[tn],Ne[tn],$e,He))return!1}else{var Jn,cr=T(de);if(tn=cr.length,T(Ne).length!==tn)return!1;for(;tn--;)if(Jn=cr[tn],!v(Ne,Jn)||!A(de[Jn],Ne[Jn],$e,He))return!1}return $e.pop(),He.pop(),!0}function R(de,Ne){return A(de,Ne)}function M(de){if(!o(de))return[];var Ne=[];for(var $e in de)Ne.push($e);return Eu&&k(de,Ne),Ne}function Y(de){var Ne=Nr(de);return function($e){if($e==null)return!1;var He=M($e);if(Nr(He))return!1;for(var et=0;Ne>et;et++)if(!Zi($e[de[et]]))return!1;return de!==Ja||!Zi($e[gd])}}function q(de){for(var Ne=T(de),$e=Ne.length,He=Array($e),et=0;$e>et;et++)He[et]=de[Ne[et]];return He}function G(de){for(var Ne=T(de),$e=Ne.length,He=Array($e),et=0;$e>et;et++)He[et]=[Ne[et],de[Ne[et]]];return He}function B(de){for(var Ne={},$e=T(de),He=0,et=$e.length;et>He;He++)Ne[de[$e[He]]]=$e[He];return Ne}function J(de){var Ne=[];for(var $e in de)Zi(de[$e])&&Ne.push($e);return Ne.sort()}function W(de,Ne){return function($e){var He=arguments.length;if(Ne&&($e=Object($e)),2>He||$e==null)return $e;for(var et=1;He>et;et++)for(var Ze=arguments[et],xt=de(Ze),Rt=xt.length,Qt=0;Rt>Qt;Qt++){var tn=xt[Qt];Ne&&$e[tn]!==void 0||($e[tn]=Ze[tn])}return $e}}function L(){return function(){}}function z(de){if(!o(de))return{};if(Au)return Au(de);var Ne=L();Ne.prototype=de;var $e=new Ne;return Ne.prototype=null,$e}function X(de,Ne){var $e=z(de);return Ne&&Ms($e,Ne),$e}function Q(de){return o(de)?Qi(de)?de.slice():Pu({},de):de}function V(de,Ne){return Ne(de),de}function Z(de){return Qi(de)?de:[de]}function _e(de){return D.toPath(de)}function le(de,Ne){for(var $e=Ne.length,He=0;$e>He;He++){if(de==null)return;de=de[Ne[He]]}return $e?de:void 0}function ce(de,Ne,$e){var He=le(de,_e(Ne));return d(He)?$e:He}function Fe(de,Ne){Ne=_e(Ne);for(var $e=Ne.length,He=0;$e>He;He++){var et=Ne[He];if(!v(de,et))return!1;de=de[et]}return!!$e}function Ae(de){return de}function Re(de){return de=Ms({},de),function(Ne){return P(Ne,de)}}function Ve(de){return de=_e(de),function(Ne){return le(Ne,de)}}function fe(de,Ne,$e){if(Ne===void 0)return de;switch($e??3){case 1:return function(He){return de.call(Ne,He)};case 3:return function(He,et,Ze){return de.call(Ne,He,et,Ze)};case 4:return function(He,et,Ze,xt){return de.call(Ne,He,et,Ze,xt)}}return function(){return de.apply(Ne,arguments)}}function Je(de,Ne,$e){return de==null?Ae:Zi(de)?fe(de,Ne,$e):o(de)&&!Qi(de)?Re(de):Ve(de)}function je(de,Ne){return Je(de,Ne,1/0)}function Ce(de,Ne,$e){return D.iteratee!==je?D.iteratee(de,Ne):Je(de,Ne,$e)}function $(de,Ne,$e){Ne=Ce(Ne,$e);for(var He=T(de),et=He.length,Ze={},xt=0;et>xt;xt++){var Rt=He[xt];Ze[Rt]=Ne(de[Rt],Rt,de)}return Ze}function ke(){}function Se(de){return de==null?ke:function(Ne){return ce(de,Ne)}}function pe(de,Ne,$e){var He=Array(Math.max(0,de));Ne=fe(Ne,$e,1);for(var et=0;de>et;et++)He[et]=Ne(et);return He}function U(de,Ne){return Ne==null&&(Ne=de,de=0),de+Math.floor(Math.random()*(Ne-de+1))}function H(de){var Ne=function(Ze){return de[Ze]},$e="(?:"+T(de).join("|")+")",He=RegExp($e),et=RegExp($e,"g");return function(Ze){return Ze=Ze==null?"":""+Ze,He.test(Ze)?Ze.replace(et,Ne):Ze}}function te(de){return"\\"+rt[de]}function he(de,Ne,$e){!Ne&&$e&&(Ne=$e),Ne=gs({},Ne,D.templateSettings);var He=RegExp([(Ne.escape||Ge).source,(Ne.interpolate||Ge).source,(Ne.evaluate||Ge).source].join("|")+"|$","g"),et=0,Ze="__p+='";de.replace(He,function(tn,Jn,cr,hf,Iu){return Ze+=de.slice(et,Iu).replace(yt,te),et=Iu+tn.length,Jn?Ze+=`'+
((__t=(`+Jn+`))==null?'':_.escape(__t))+
'`:cr?Ze+=`'+
((__t=(`+cr+`))==null?'':__t)+
'`:hf&&(Ze+=`';
`+hf+`
__p+='`),tn}),Ze+=`';
`;var xt=Ne.variable;if(xt){if(!kt.test(xt))throw new Error("variable is not a bare identifier: "+xt)}else Ze=`with(obj||{}){
`+Ze+`}
`,xt="obj";Ze=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+Ze+`return __p;
`;var Rt;try{Rt=new Function(xt,"_",Ze)}catch(tn){throw tn.source=Ze,tn}var Qt=function(tn){return Rt.call(this,tn,D)};return Qt.source="function("+xt+`){
`+Ze+"}",Qt}function ve(de,Ne,$e){Ne=_e(Ne);var He=Ne.length;if(!He)return Zi($e)?$e.call(de):$e;for(var et=0;He>et;et++){var Ze=de==null?void 0:de[Ne[et]];Ze===void 0&&(Ze=$e,et=He),de=Zi(Ze)?Ze.call(de):Ze}return de}function ae(de){var Ne=++$t+"";return de?de+Ne:Ne}function me(de){var Ne=D(de);return Ne._chain=!0,Ne}function ge(de,Ne,$e,He,et){if(!(He instanceof Ne))return de.apply($e,et);var Ze=z(de.prototype),xt=de.apply(Ze,et);return o(xt)?xt:Ze}function Oe(de,Ne,$e,He){if(He=He||[],Ne||Ne===0){if(0>=Ne)return He.concat(de)}else Ne=1/0;for(var et=He.length,Ze=0,xt=Nr(de);xt>Ze;Ze++){var Rt=de[Ze];if(jt(Rt)&&(Qi(Rt)||md(Rt)))if(Ne>1)Oe(Rt,Ne-1,$e,He),et=He.length;else for(var Qt=0,tn=Rt.length;tn>Qt;)He[et++]=Rt[Qt++];else $e||(He[et++]=Rt)}return He}function Ye(de,Ne){var $e=function(He){var et=$e.cache,Ze=""+(Ne?Ne.apply(this,arguments):He);return v(et,Ze)||(et[Ze]=de.apply(this,arguments)),et[Ze]};return $e.cache={},$e}function Ke(de,Ne,$e){var He,et,Ze,xt,Rt=0;$e||($e={});var Qt=function(){Rt=$e.leading===!1?0:Do(),He=null,xt=de.apply(et,Ze),He||(et=Ze=null)},tn=function(){var Jn=Do();Rt||$e.leading!==!1||(Rt=Jn);var cr=Ne-(Jn-Rt);return et=this,Ze=arguments,0>=cr||cr>Ne?(He&&(clearTimeout(He),He=null),Rt=Jn,xt=de.apply(et,Ze),He||(et=Ze=null)):He||$e.trailing===!1||(He=setTimeout(Qt,cr)),xt};return tn.cancel=function(){clearTimeout(He),Rt=0,He=et=Ze=null},tn}function mt(de,Ne,$e){var He,et,Ze,xt,Rt,Qt=function(){var Jn=Do()-et;Ne>Jn?He=setTimeout(Qt,Ne-Jn):(He=null,$e||(xt=de.apply(Rt,Ze)),He||(Ze=Rt=null))},tn=a(function(Jn){return Rt=this,Ze=Jn,et=Do(),He||(He=setTimeout(Qt,Ne),$e&&(xt=de.apply(Rt,Ze))),xt});return tn.cancel=function(){clearTimeout(He),He=Ze=Rt=null},tn}function qe(de,Ne){return Wt(Ne,de)}function it(de){return function(){return!de.apply(this,arguments)}}function ft(){var de=arguments,Ne=de.length-1;return function(){for(var $e=Ne,He=de[Ne].apply(this,arguments);$e--;)He=de[$e].call(this,He);return He}}function We(de,Ne){return function(){return--de<1?Ne.apply(this,arguments):void 0}}function tt(de,Ne){var $e;return function(){return--de>0&&($e=Ne.apply(this,arguments)),1>=de&&(Ne=null),$e}}function pt(de,Ne,$e){Ne=Ce(Ne,$e);for(var He,et=T(de),Ze=0,xt=et.length;xt>Ze;Ze++)if(He=et[Ze],Ne(de[He],He,de))return He}function Ct(de){return function(Ne,$e,He){$e=Ce($e,He);for(var et=Nr(Ne),Ze=de>0?0:et-1;Ze>=0&&et>Ze;Ze+=de)if($e(Ne[Ze],Ze,Ne))return Ze;return-1}}function Et(de,Ne,$e,He){$e=Ce($e,He,1);for(var et=$e(Ne),Ze=0,xt=Nr(de);xt>Ze;){var Rt=Math.floor((Ze+xt)/2);$e(de[Rt])<et?Ze=Rt+1:xt=Rt}return Ze}function St(de,Ne,$e){return function(He,et,Ze){var xt=0,Rt=Nr(He);if(typeof Ze=="number")de>0?xt=Ze>=0?Ze:Math.max(Ze+Rt,xt):Rt=Ze>=0?Math.min(Ze+1,Rt):Ze+Rt+1;else if($e&&Ze&&Rt)return Ze=$e(He,et),He[Ze]===et?Ze:-1;if(et!==et)return Ze=Ne(sa.call(He,xt,Rt),b),Ze>=0?Ze+xt:-1;for(Ze=de>0?xt:Rt-1;Ze>=0&&Rt>Ze;Ze+=de)if(He[Ze]===et)return Ze;return-1}}function Bt(de,Ne,$e){var He=jt(de)?re:pt,et=He(de,Ne,$e);return et!==void 0&&et!==-1?de[et]:void 0}function kn(de,Ne){return Bt(de,Re(Ne))}function sn(de,Ne,$e){Ne=fe(Ne,$e);var He,et;if(jt(de))for(He=0,et=de.length;et>He;He++)Ne(de[He],He,de);else{var Ze=T(de);for(He=0,et=Ze.length;et>He;He++)Ne(de[Ze[He]],Ze[He],de)}return de}function we(de,Ne,$e){Ne=Ce(Ne,$e);for(var He=!jt(de)&&T(de),et=(He||de).length,Ze=Array(et),xt=0;et>xt;xt++){var Rt=He?He[xt]:xt;Ze[xt]=Ne(de[Rt],Rt,de)}return Ze}function Pe(de){var Ne=function($e,He,et,Ze){var xt=!jt($e)&&T($e),Rt=(xt||$e).length,Qt=de>0?0:Rt-1;for(Ze||(et=$e[xt?xt[Qt]:Qt],Qt+=de);Qt>=0&&Rt>Qt;Qt+=de){var tn=xt?xt[Qt]:Qt;et=He(et,$e[tn],tn,$e)}return et};return function($e,He,et,Ze){var xt=arguments.length>=3;return Ne($e,fe(He,Ze,4),et,xt)}}function Me(de,Ne,$e){var He=[];return Ne=Ce(Ne,$e),sn(de,function(et,Ze,xt){Ne(et,Ze,xt)&&He.push(et)}),He}function ht(de,Ne,$e){return Me(de,it(Ce(Ne)),$e)}function Pt(de,Ne,$e){Ne=Ce(Ne,$e);for(var He=!jt(de)&&T(de),et=(He||de).length,Ze=0;et>Ze;Ze++){var xt=He?He[Ze]:Ze;if(!Ne(de[xt],xt,de))return!1}return!0}function ot(de,Ne,$e){Ne=Ce(Ne,$e);for(var He=!jt(de)&&T(de),et=(He||de).length,Ze=0;et>Ze;Ze++){var xt=He?He[Ze]:Ze;if(Ne(de[xt],xt,de))return!0}return!1}function Nt(de,Ne,$e,He){return jt(de)||(de=q(de)),(typeof $e!="number"||He)&&($e=0),De(de,Ne,$e)>=0}function Ut(de,Ne){return we(de,Ve(Ne))}function Jt(de,Ne){return Me(de,Re(Ne))}function hn(de,Ne,$e){var He,et,Ze=-1/0,xt=-(1/0);if(Ne==null||typeof Ne=="number"&&typeof de[0]!="object"&&de!=null){de=jt(de)?de:q(de);for(var Rt=0,Qt=de.length;Qt>Rt;Rt++)He=de[Rt],He!=null&&He>Ze&&(Ze=He)}else Ne=Ce(Ne,$e),sn(de,function(tn,Jn,cr){et=Ne(tn,Jn,cr),(et>xt||et===-(1/0)&&Ze===-(1/0))&&(Ze=tn,xt=et)});return Ze}function _i(de,Ne,$e){var He,et,Ze=1/0,xt=1/0;if(Ne==null||typeof Ne=="number"&&typeof de[0]!="object"&&de!=null){de=jt(de)?de:q(de);for(var Rt=0,Qt=de.length;Qt>Rt;Rt++)He=de[Rt],He!=null&&Ze>He&&(Ze=He)}else Ne=Ce(Ne,$e),sn(de,function(tn,Jn,cr){et=Ne(tn,Jn,cr),(xt>et||et===1/0&&Ze===1/0)&&(Ze=tn,xt=et)});return Ze}function hi(de,Ne,$e){if(Ne==null||$e)return jt(de)||(de=q(de)),de[U(de.length-1)];var He=jt(de)?Q(de):q(de),et=Nr(He);Ne=Math.max(Math.min(Ne,et),0);for(var Ze=et-1,xt=0;Ne>xt;xt++){var Rt=U(xt,Ze),Qt=He[xt];He[xt]=He[Rt],He[Rt]=Qt}return He.slice(0,Ne)}function Bi(de){return hi(de,1/0)}function Pi(de,Ne,$e){var He=0;return Ne=Ce(Ne,$e),Ut(we(de,function(et,Ze,xt){return{value:et,index:He++,criteria:Ne(et,Ze,xt)}}).sort(function(et,Ze){var xt=et.criteria,Rt=Ze.criteria;if(xt!==Rt){if(xt>Rt||xt===void 0)return 1;if(Rt>xt||Rt===void 0)return-1}return et.index-Ze.index}),"value")}function fi(de,Ne){return function($e,He,et){var Ze=Ne?[[],[]]:{};return He=Ce(He,et),sn($e,function(xt,Rt){var Qt=He(xt,Rt,$e);de(Ze,xt,Qt)}),Ze}}function pi(de){return de?Qi(de)?sa.call(de):Jr(de)?de.match(ys):jt(de)?we(de,Ae):q(de):[]}function zi(de){return de==null?0:jt(de)?de.length:T(de).length}function Os(de,Ne,$e){return Ne in $e}function Xr(de,Ne,$e){return sa.call(de,0,Math.max(0,de.length-(Ne==null||$e?1:Ne)))}function Ur(de,Ne,$e){return de==null||de.length<1?Ne==null||$e?void 0:[]:Ne==null||$e?de[0]:Xr(de,de.length-Ne)}function Yr(de,Ne,$e){return sa.call(de,Ne==null||$e?1:Ne)}function cc(de,Ne,$e){return de==null||de.length<1?Ne==null||$e?void 0:[]:Ne==null||$e?de[de.length-1]:Yr(de,Math.max(0,de.length-Ne))}function _l(de){return Me(de,Boolean)}function dc(de,Ne){return Oe(de,Ne,!1)}function Fs(de,Ne,$e,He){u(Ne)||(He=$e,$e=Ne,Ne=!1),$e!=null&&($e=Ce($e,He));for(var et=[],Ze=[],xt=0,Rt=Nr(de);Rt>xt;xt++){var Qt=de[xt],tn=$e?$e(Qt,xt,de):Qt;Ne&&!$e?(xt&&Ze===tn||et.push(Qt),Ze=tn):$e?Nt(Ze,tn)||(Ze.push(tn),et.push(Qt)):Nt(et,Qt)||et.push(Qt)}return et}function od(de){for(var Ne=[],$e=arguments.length,He=0,et=Nr(de);et>He;He++){var Ze=de[He];if(!Nt(Ne,Ze)){var xt;for(xt=1;$e>xt&&Nt(arguments[xt],Ze);xt++);xt===$e&&Ne.push(Ze)}}return Ne}function ld(de){for(var Ne=de&&hn(de,Nr).length||0,$e=Array(Ne),He=0;Ne>He;He++)$e[He]=Ut(de,He);return $e}function Us(de,Ne){for(var $e={},He=0,et=Nr(de);et>He;He++)Ne?$e[de[He]]=Ne[He]:$e[de[He][0]]=de[He][1];return $e}function cd(de,Ne,$e){Ne==null&&(Ne=de||0,de=0),$e||($e=de>Ne?-1:1);for(var He=Math.max(Math.ceil((Ne-de)/$e),0),et=Array(He),Ze=0;He>Ze;Ze++,de+=$e)et[Ze]=de;return et}function Nu(de,Ne){if(Ne==null||1>Ne)return[];for(var $e=[],He=0,et=de.length;et>He;)$e.push(sa.call(de,He,He+=Ne));return $e}function Eo(de,Ne){return de._chain?D(Ne).chain():Ne}function uc(de){return sn(J(de),function(Ne){var $e=D[Ne]=de[Ne];D.prototype[Ne]=function(){var He=[this._wrapped];return Bn.apply(He,arguments),Eo(this,$e.apply(D,He))}}),D}var dd="1.13.1",ud=typeof self=="object"&&self.self===self&&self||typeof s=="object"&&s.global===s&&s||Function("return this")()||{},fs=Array.prototype,Sl=Object.prototype,ka=typeof Symbol<"u"?Symbol.prototype:null,Bn=fs.push,sa=fs.slice,lr=Sl.toString,Nl=Sl.hasOwnProperty,zn=typeof ArrayBuffer<"u",Kr=typeof DataView<"u",Si=Array.isArray,ps=Object.keys,Au=Object.create,ku=zn&&ArrayBuffer.isView,bm=isNaN,Ya=isFinite,Eu=!{toString:null}.propertyIsEnumerable("toString"),Tu=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],Ka=Math.pow(2,53)-1,Jr=h("String"),Cu=h("Number"),cf=h("Date"),df=h("RegExp"),hd=h("Error"),fd=h("Symbol"),Sr=h("ArrayBuffer"),uf=h("Function"),hc=ud.document&&ud.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof hc!="function"&&(uf=function(de){return typeof de=="function"||!1});var Zi=uf,Ea=h("Object"),rn=Kr&&Ea(new DataView(new ArrayBuffer(8))),fc=typeof Map<"u"&&Ea(new Map),pd=h("DataView"),pc=rn?p:pd,Qi=Si||h("Array"),Zr=h("Arguments");(function(){Zr(arguments)||(Zr=function(de){return v(de,"callee")})})();var md=Zr,Al=_("byteLength"),Kn=y(Al),Du=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,kl=zn?x:m(!1),Nr=_("length");D.VERSION=dd,D.prototype.value=function(){return this._wrapped},D.prototype.valueOf=D.prototype.toJSON=D.prototype.value,D.prototype.toString=function(){return String(this._wrapped)};var Ta="[object DataView]",gd="forEach",To="has",ms=["clear","delete"],yd=["get",To,"set"],Co=ms.concat(gd,yd),Ja=ms.concat(yd),mc=["add"].concat(ms,gd,To),gc=fc?Y(Co):h("Map"),Za=fc?Y(Ja):h("WeakMap"),vd=fc?Y(mc):h("Set"),yc=h("WeakSet"),Pu=W(M),Ms=W(T),gs=W(M,!0);D.toPath=Z,D.iteratee=je;var Do=Date.now||function(){return new Date().getTime()},Po={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},bd=H(Po),K=B(Po),be=H(K),Ue=D.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Ge=/(.)^/,rt={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},yt=/\\|'|\r|\n|\u2028|\u2029/g,kt=/^\s*(\w|\$)+\s*$/,$t=0,Wt=a(function(de,Ne){var $e=Wt.placeholder,He=function(){for(var et=0,Ze=Ne.length,xt=Array(Ze),Rt=0;Ze>Rt;Rt++)xt[Rt]=Ne[Rt]===$e?arguments[et++]:Ne[Rt];for(;et<arguments.length;)xt.push(arguments[et++]);return ge(de,He,this,this,xt)};return He});Wt.placeholder=D;var nn=a(function(de,Ne,$e){if(!Zi(de))throw new TypeError("Bind must be called on a function");var He=a(function(et){return ge(de,He,Ne,this,$e.concat(et))});return He}),jt=y(Nr),Sn=a(function(de,Ne){Ne=Oe(Ne,!1,!1);var $e=Ne.length;if(1>$e)throw new Error("bindAll must be passed function names");for(;$e--;){var He=Ne[$e];de[He]=nn(de[He],de)}return de}),ei=a(function(de,Ne,$e){return setTimeout(function(){return de.apply(null,$e)},Ne)}),ti=Wt(ei,D,1),F=Wt(tt,2),re=Ct(1),ue=Ct(-1),De=St(1,re,Et),st=St(-1,ue),ct=Pe(1),Lt=Pe(-1),on=a(function(de,Ne,$e){var He,et;return Zi(Ne)?et=Ne:(Ne=_e(Ne),He=Ne.slice(0,-1),Ne=Ne[Ne.length-1]),we(de,function(Ze){var xt=et;if(!xt){if(He&&He.length&&(Ze=le(Ze,He)),Ze==null)return;xt=Ze[Ne]}return xt==null?xt:xt.apply(Ze,$e)})}),mi=fi(function(de,Ne,$e){v(de,$e)?de[$e].push(Ne):de[$e]=[Ne]}),Nn=fi(function(de,Ne,$e){de[$e]=Ne}),gi=fi(function(de,Ne,$e){v(de,$e)?de[$e]++:de[$e]=1}),Mr=fi(function(de,Ne,$e){de[$e?0:1].push(Ne)},!0),ys=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g,ni=a(function(de,Ne){var $e={},He=Ne[0];if(de==null)return $e;Zi(He)?(Ne.length>1&&(He=fe(He,Ne[1])),Ne=M(de)):(He=Os,Ne=Oe(Ne,!1,!1),de=Object(de));for(var et=0,Ze=Ne.length;Ze>et;et++){var xt=Ne[et],Rt=de[xt];He(Rt,xt,de)&&($e[xt]=Rt)}return $e}),vs=a(function(de,Ne){var $e,He=Ne[0];return Zi(He)?(He=it(He),Ne.length>1&&($e=Ne[1])):(Ne=we(Oe(Ne,!1,!1),String),He=function(et,Ze){return!Nt(Ne,Ze)}),ni(de,He,$e)}),Ca=a(function(de,Ne){return Ne=Oe(Ne,!0,!0),Me(de,function($e){return!Nt(Ne,$e)})}),vc=a(function(de,Ne){return Ca(de,Ne)}),wm=a(function(de){return Fs(Oe(de,!0,!0))}),Bs=a(ld);sn(["pop","push","reverse","shift","sort","splice","unshift"],function(de){var Ne=fs[de];D.prototype[de]=function(){var $e=this._wrapped;return $e!=null&&(Ne.apply($e,arguments),de!=="shift"&&de!=="splice"||$e.length!==0||delete $e[0]),Eo(this,$e)}}),sn(["concat","join","slice"],function(de){var Ne=fs[de];D.prototype[de]=function(){var $e=this._wrapped;return $e!=null&&($e=Ne.apply($e,arguments)),Eo(this,$e)}});var bc={__proto__:null,VERSION:dd,restArguments:a,isObject:o,isNull:c,isUndefined:d,isBoolean:u,isElement:f,isString:Jr,isNumber:Cu,isDate:cf,isRegExp:df,isError:hd,isSymbol:fd,isArrayBuffer:Sr,isDataView:pc,isArray:Qi,isFunction:Zi,isArguments:md,isFinite:w,isNaN:b,isTypedArray:kl,isEmpty:C,isMatch:P,isEqual:R,isMap:gc,isWeakMap:Za,isSet:vd,isWeakSet:yc,keys:T,allKeys:M,values:q,pairs:G,invert:B,functions:J,methods:J,extend:Pu,extendOwn:Ms,assign:Ms,defaults:gs,create:X,clone:Q,tap:V,get:ce,has:Fe,mapObject:$,identity:Ae,constant:m,noop:ke,toPath:Z,property:Ve,propertyOf:Se,matcher:Re,matches:Re,times:pe,random:U,now:Do,escape:bd,unescape:be,templateSettings:Ue,template:he,result:ve,uniqueId:ae,chain:me,iteratee:je,partial:Wt,bind:nn,bindAll:Sn,memoize:Ye,delay:ei,defer:ti,throttle:Ke,debounce:mt,wrap:qe,negate:it,compose:ft,after:We,before:tt,once:F,findKey:pt,findIndex:re,findLastIndex:ue,sortedIndex:Et,indexOf:De,lastIndexOf:st,find:Bt,detect:Bt,findWhere:kn,each:sn,forEach:sn,map:we,collect:we,reduce:ct,foldl:ct,inject:ct,reduceRight:Lt,foldr:Lt,filter:Me,select:Me,reject:ht,every:Pt,all:Pt,some:ot,any:ot,contains:Nt,includes:Nt,include:Nt,invoke:on,pluck:Ut,where:Jt,max:hn,min:_i,shuffle:Bi,sample:hi,sortBy:Pi,groupBy:mi,indexBy:Nn,countBy:gi,partition:Mr,toArray:pi,size:zi,pick:ni,omit:vs,first:Ur,head:Ur,take:Ur,initial:Xr,last:cc,rest:Yr,tail:Yr,drop:Yr,compact:_l,flatten:dc,without:vc,uniq:Fs,unique:Fs,union:wm,intersection:od,difference:Ca,unzip:ld,transpose:ld,zip:Bs,object:Us,range:cd,chunk:Nu,mixin:uc,default:D},wd=uc(bc);return wd._=wd,wd})}).call(this,typeof nr<"u"?nr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],103:[function(t,i,r){(function(){var s,a,o,c,d,u,f,h=[].slice,p={}.hasOwnProperty;s=function(){var v,w,b,m,y,_;if(_=arguments[0],y=2<=arguments.length?h.call(arguments,1):[],d(Object.assign))Object.assign.apply(null,arguments);else for(v=0,b=y.length;b>v;v++)if(m=y[v],m!=null)for(w in m)p.call(m,w)&&(_[w]=m[w]);return _},d=function(v){return!!v&&Object.prototype.toString.call(v)==="[object Function]"},u=function(v){var w;return!!v&&((w=typeof v)=="function"||w==="object")},o=function(v){return d(Array.isArray)?Array.isArray(v):Object.prototype.toString.call(v)==="[object Array]"},c=function(v){var w;if(o(v))return!v.length;for(w in v)if(p.call(v,w))return!1;return!0},f=function(v){var w,b;return u(v)&&(b=Object.getPrototypeOf(v))&&(w=b.constructor)&&typeof w=="function"&&w instanceof w&&Function.prototype.toString.call(w)===Function.prototype.toString.call(Object)},a=function(v){return d(v.valueOf)?v.valueOf():v},i.exports.assign=s,i.exports.isFunction=d,i.exports.isObject=u,i.exports.isArray=o,i.exports.isEmpty=c,i.exports.isPlainObject=f,i.exports.getValue=a}).call(this)},{}],104:[function(t,i,r){(function(){i.exports=function(){function s(a,o,c){if(this.options=a.options,this.stringify=a.stringify,this.parent=a,o==null)throw new Error("Missing attribute name. "+this.debugInfo(o));if(c==null)throw new Error("Missing attribute value. "+this.debugInfo(o));this.name=this.stringify.attName(o),this.value=this.stringify.attValue(c)}return s.prototype.clone=function(){return Object.create(this)},s.prototype.toString=function(a){return this.options.writer.set(a).attribute(this)},s.prototype.debugInfo=function(a){var o,c;return a=a||this.name,a!=null||(o=this.parent)!=null&&o.name?a==null?"parent: <"+this.parent.name+">":(c=this.parent)!=null&&c.name?"attribute: {"+a+"}, parent: <"+this.parent.name+">":"attribute: {"+a+"}":""},s}()}).call(this)},{}],105:[function(t,i,r){(function(){var s,a=function(c,d){function u(){this.constructor=c}for(var f in d)o.call(d,f)&&(c[f]=d[f]);return u.prototype=d.prototype,c.prototype=new u,c.__super__=d.prototype,c},o={}.hasOwnProperty;s=t("./XMLNode"),i.exports=function(c){function d(u,f){if(d.__super__.constructor.call(this,u),f==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.text=this.stringify.cdata(f)}return a(d,c),d.prototype.clone=function(){return Object.create(this)},d.prototype.toString=function(u){return this.options.writer.set(u).cdata(this)},d}(s)}).call(this)},{"./XMLNode":116}],106:[function(t,i,r){(function(){var s,a=function(c,d){function u(){this.constructor=c}for(var f in d)o.call(d,f)&&(c[f]=d[f]);return u.prototype=d.prototype,c.prototype=new u,c.__super__=d.prototype,c},o={}.hasOwnProperty;s=t("./XMLNode"),i.exports=function(c){function d(u,f){if(d.__super__.constructor.call(this,u),f==null)throw new Error("Missing comment text. "+this.debugInfo());this.text=this.stringify.comment(f)}return a(d,c),d.prototype.clone=function(){return Object.create(this)},d.prototype.toString=function(u){return this.options.writer.set(u).comment(this)},d}(s)}).call(this)},{"./XMLNode":116}],107:[function(t,i,r){(function(){var s,a=function(c,d){function u(){this.constructor=c}for(var f in d)o.call(d,f)&&(c[f]=d[f]);return u.prototype=d.prototype,c.prototype=new u,c.__super__=d.prototype,c},o={}.hasOwnProperty;s=t("./XMLNode"),i.exports=function(c){function d(u,f,h,p,v,w){if(d.__super__.constructor.call(this,u),f==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(h==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(f));if(!p)throw new Error("Missing DTD attribute type. "+this.debugInfo(f));if(!v)throw new Error("Missing DTD attribute default. "+this.debugInfo(f));if(v.indexOf("#")!==0&&(v="#"+v),!v.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(f));if(w&&!v.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(f));this.elementName=this.stringify.eleName(f),this.attributeName=this.stringify.attName(h),this.attributeType=this.stringify.dtdAttType(p),this.defaultValue=this.stringify.dtdAttDefault(w),this.defaultValueType=v}return a(d,c),d.prototype.toString=function(u){return this.options.writer.set(u).dtdAttList(this)},d}(s)}).call(this)},{"./XMLNode":116}],108:[function(t,i,r){(function(){var s,a=function(c,d){function u(){this.constructor=c}for(var f in d)o.call(d,f)&&(c[f]=d[f]);return u.prototype=d.prototype,c.prototype=new u,c.__super__=d.prototype,c},o={}.hasOwnProperty;s=t("./XMLNode"),i.exports=function(c){function d(u,f,h){if(d.__super__.constructor.call(this,u),f==null)throw new Error("Missing DTD element name. "+this.debugInfo());h||(h="(#PCDATA)"),Array.isArray(h)&&(h="("+h.join(",")+")"),this.name=this.stringify.eleName(f),this.value=this.stringify.dtdElementValue(h)}return a(d,c),d.prototype.toString=function(u){return this.options.writer.set(u).dtdElement(this)},d}(s)}).call(this)},{"./XMLNode":116}],109:[function(t,i,r){(function(){var s,a,o=function(d,u){function f(){this.constructor=d}for(var h in u)c.call(u,h)&&(d[h]=u[h]);return f.prototype=u.prototype,d.prototype=new f,d.__super__=u.prototype,d},c={}.hasOwnProperty;a=t("./Utility").isObject,s=t("./XMLNode"),i.exports=function(d){function u(f,h,p,v){if(u.__super__.constructor.call(this,f),p==null)throw new Error("Missing DTD entity name. "+this.debugInfo(p));if(v==null)throw new Error("Missing DTD entity value. "+this.debugInfo(p));if(this.pe=!!h,this.name=this.stringify.eleName(p),a(v)){if(!v.pubID&&!v.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(p));if(v.pubID&&!v.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(p));if(v.pubID!=null&&(this.pubID=this.stringify.dtdPubID(v.pubID)),v.sysID!=null&&(this.sysID=this.stringify.dtdSysID(v.sysID)),v.nData!=null&&(this.nData=this.stringify.dtdNData(v.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(p))}else this.value=this.stringify.dtdEntityValue(v)}return o(u,d),u.prototype.toString=function(f){return this.options.writer.set(f).dtdEntity(this)},u}(s)}).call(this)},{"./Utility":103,"./XMLNode":116}],110:[function(t,i,r){(function(){var s,a=function(c,d){function u(){this.constructor=c}for(var f in d)o.call(d,f)&&(c[f]=d[f]);return u.prototype=d.prototype,c.prototype=new u,c.__super__=d.prototype,c},o={}.hasOwnProperty;s=t("./XMLNode"),i.exports=function(c){function d(u,f,h){if(d.__super__.constructor.call(this,u),f==null)throw new Error("Missing DTD notation name. "+this.debugInfo(f));if(!h.pubID&&!h.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(f));this.name=this.stringify.eleName(f),h.pubID!=null&&(this.pubID=this.stringify.dtdPubID(h.pubID)),h.sysID!=null&&(this.sysID=this.stringify.dtdSysID(h.sysID))}return a(d,c),d.prototype.toString=function(u){return this.options.writer.set(u).dtdNotation(this)},d}(s)}).call(this)},{"./XMLNode":116}],111:[function(t,i,r){(function(){var s,a,o=function(d,u){function f(){this.constructor=d}for(var h in u)c.call(u,h)&&(d[h]=u[h]);return f.prototype=u.prototype,d.prototype=new f,d.__super__=u.prototype,d},c={}.hasOwnProperty;a=t("./Utility").isObject,s=t("./XMLNode"),i.exports=function(d){function u(f,h,p,v){var w;u.__super__.constructor.call(this,f),a(h)&&(w=h,h=w.version,p=w.encoding,v=w.standalone),h||(h="1.0"),this.version=this.stringify.xmlVersion(h),p!=null&&(this.encoding=this.stringify.xmlEncoding(p)),v!=null&&(this.standalone=this.stringify.xmlStandalone(v))}return o(u,d),u.prototype.toString=function(f){return this.options.writer.set(f).declaration(this)},u}(s)}).call(this)},{"./Utility":103,"./XMLNode":116}],112:[function(t,i,r){(function(){var s,a,o,c,d,u,f=function(p,v){function w(){this.constructor=p}for(var b in v)h.call(v,b)&&(p[b]=v[b]);return w.prototype=v.prototype,p.prototype=new w,p.__super__=v.prototype,p},h={}.hasOwnProperty;u=t("./Utility").isObject,d=t("./XMLNode"),s=t("./XMLDTDAttList"),o=t("./XMLDTDEntity"),a=t("./XMLDTDElement"),c=t("./XMLDTDNotation"),i.exports=function(p){function v(w,b,m){var y,_;v.__super__.constructor.call(this,w),this.name="!DOCTYPE",this.documentObject=w,u(b)&&(y=b,b=y.pubID,m=y.sysID),m==null&&(_=[b,m],m=_[0],b=_[1]),b!=null&&(this.pubID=this.stringify.dtdPubID(b)),m!=null&&(this.sysID=this.stringify.dtdSysID(m))}return f(v,p),v.prototype.element=function(w,b){var m;return m=new a(this,w,b),this.children.push(m),this},v.prototype.attList=function(w,b,m,y,_){var x;return x=new s(this,w,b,m,y,_),this.children.push(x),this},v.prototype.entity=function(w,b){var m;return m=new o(this,!1,w,b),this.children.push(m),this},v.prototype.pEntity=function(w,b){var m;return m=new o(this,!0,w,b),this.children.push(m),this},v.prototype.notation=function(w,b){var m;return m=new c(this,w,b),this.children.push(m),this},v.prototype.toString=function(w){return this.options.writer.set(w).docType(this)},v.prototype.ele=function(w,b){return this.element(w,b)},v.prototype.att=function(w,b,m,y,_){return this.attList(w,b,m,y,_)},v.prototype.ent=function(w,b){return this.entity(w,b)},v.prototype.pent=function(w,b){return this.pEntity(w,b)},v.prototype.not=function(w,b){return this.notation(w,b)},v.prototype.up=function(){return this.root()||this.documentObject},v}(d)}).call(this)},{"./Utility":103,"./XMLDTDAttList":107,"./XMLDTDElement":108,"./XMLDTDEntity":109,"./XMLDTDNotation":110,"./XMLNode":116}],113:[function(t,i,r){(function(){var s,a,o,c,d=function(f,h){function p(){this.constructor=f}for(var v in h)u.call(h,v)&&(f[v]=h[v]);return p.prototype=h.prototype,f.prototype=new p,f.__super__=h.prototype,f},u={}.hasOwnProperty;c=t("./Utility").isPlainObject,s=t("./XMLNode"),o=t("./XMLStringifier"),a=t("./XMLStringWriter"),i.exports=function(f){function h(p){h.__super__.constructor.call(this,null),this.name="?xml",p||(p={}),p.writer||(p.writer=new a),this.options=p,this.stringify=new o(p),this.isDocument=!0}return d(h,f),h.prototype.end=function(p){var v;return p?c(p)&&(v=p,p=this.options.writer.set(v)):p=this.options.writer,p.document(this)},h.prototype.toString=function(p){return this.options.writer.set(p).document(this)},h}(s)}).call(this)},{"./Utility":103,"./XMLNode":116,"./XMLStringWriter":120,"./XMLStringifier":121}],114:[function(t,i,r){(function(){var s,a,o,c,d,u,f,h,p,v,w,b,m,y,_,x,N,k,T,C,P={}.hasOwnProperty;C=t("./Utility"),k=C.isObject,N=C.isFunction,T=C.isPlainObject,x=C.getValue,v=t("./XMLElement"),a=t("./XMLCData"),o=t("./XMLComment"),b=t("./XMLRaw"),_=t("./XMLText"),w=t("./XMLProcessingInstruction"),h=t("./XMLDeclaration"),p=t("./XMLDocType"),c=t("./XMLDTDAttList"),u=t("./XMLDTDEntity"),d=t("./XMLDTDElement"),f=t("./XMLDTDNotation"),s=t("./XMLAttribute"),y=t("./XMLStringifier"),m=t("./XMLStringWriter"),i.exports=function(){function D(E,A,I){var R;this.name="?xml",E||(E={}),E.writer?T(E.writer)&&(R=E.writer,E.writer=new m(R)):E.writer=new m(E),this.options=E,this.writer=E.writer,this.stringify=new y(E),this.onDataCallback=A||function(){},this.onEndCallback=I||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return D.prototype.node=function(E,A,I){var R;if(E==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(E));return this.openCurrent(),E=x(E),A==null&&(A={}),A=x(A),k(A)||(R=[A,I],I=R[0],A=R[1]),this.currentNode=new v(this,E,A),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,I!=null&&this.text(I),this},D.prototype.element=function(E,A,I){return this.currentNode&&this.currentNode instanceof p?this.dtdElement.apply(this,arguments):this.node(E,A,I)},D.prototype.attribute=function(E,A){var I,R;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(E));if(E!=null&&(E=x(E)),k(E))for(I in E)P.call(E,I)&&(R=E[I],this.attribute(I,R));else N(A)&&(A=A.apply()),this.options.skipNullAttributes&&A==null||(this.currentNode.attributes[E]=new s(this,E,A));return this},D.prototype.text=function(E){var A;return this.openCurrent(),A=new _(this,E),this.onData(this.writer.text(A,this.currentLevel+1),this.currentLevel+1),this},D.prototype.cdata=function(E){var A;return this.openCurrent(),A=new a(this,E),this.onData(this.writer.cdata(A,this.currentLevel+1),this.currentLevel+1),this},D.prototype.comment=function(E){var A;return this.openCurrent(),A=new o(this,E),this.onData(this.writer.comment(A,this.currentLevel+1),this.currentLevel+1),this},D.prototype.raw=function(E){var A;return this.openCurrent(),A=new b(this,E),this.onData(this.writer.raw(A,this.currentLevel+1),this.currentLevel+1),this},D.prototype.instruction=function(E,A){var I,R,M,Y,q;if(this.openCurrent(),E!=null&&(E=x(E)),A!=null&&(A=x(A)),Array.isArray(E))for(I=0,Y=E.length;Y>I;I++)R=E[I],this.instruction(R);else if(k(E))for(R in E)P.call(E,R)&&(M=E[R],this.instruction(R,M));else N(A)&&(A=A.apply()),q=new w(this,E,A),this.onData(this.writer.processingInstruction(q,this.currentLevel+1),this.currentLevel+1);return this},D.prototype.declaration=function(E,A,I){var R;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return R=new h(this,E,A,I),this.onData(this.writer.declaration(R,this.currentLevel+1),this.currentLevel+1),this},D.prototype.doctype=function(E,A,I){if(this.openCurrent(),E==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new p(this,A,I),this.currentNode.rootNodeName=E,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},D.prototype.dtdElement=function(E,A){var I;return this.openCurrent(),I=new d(this,E,A),this.onData(this.writer.dtdElement(I,this.currentLevel+1),this.currentLevel+1),this},D.prototype.attList=function(E,A,I,R,M){var Y;return this.openCurrent(),Y=new c(this,E,A,I,R,M),this.onData(this.writer.dtdAttList(Y,this.currentLevel+1),this.currentLevel+1),this},D.prototype.entity=function(E,A){var I;return this.openCurrent(),I=new u(this,!1,E,A),this.onData(this.writer.dtdEntity(I,this.currentLevel+1),this.currentLevel+1),this},D.prototype.pEntity=function(E,A){var I;return this.openCurrent(),I=new u(this,!0,E,A),this.onData(this.writer.dtdEntity(I,this.currentLevel+1),this.currentLevel+1),this},D.prototype.notation=function(E,A){var I;return this.openCurrent(),I=new f(this,E,A),this.onData(this.writer.dtdNotation(I,this.currentLevel+1),this.currentLevel+1),this},D.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},D.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},D.prototype.openCurrent=function(){return this.currentNode?(this.currentNode.children=!0,this.openNode(this.currentNode)):void 0},D.prototype.openNode=function(E){return E.isOpen?void 0:(!this.root&&this.currentLevel===0&&E instanceof v&&(this.root=E),this.onData(this.writer.openNode(E,this.currentLevel),this.currentLevel),E.isOpen=!0)},D.prototype.closeNode=function(E){return E.isClosed?void 0:(this.onData(this.writer.closeNode(E,this.currentLevel),this.currentLevel),E.isClosed=!0)},D.prototype.onData=function(E,A){return this.documentStarted=!0,this.onDataCallback(E,A+1)},D.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},D.prototype.debugInfo=function(E){return E==null?"":"node: <"+E+">"},D.prototype.ele=function(){return this.element.apply(this,arguments)},D.prototype.nod=function(E,A,I){return this.node(E,A,I)},D.prototype.txt=function(E){return this.text(E)},D.prototype.dat=function(E){return this.cdata(E)},D.prototype.com=function(E){return this.comment(E)},D.prototype.ins=function(E,A){return this.instruction(E,A)},D.prototype.dec=function(E,A,I){return this.declaration(E,A,I)},D.prototype.dtd=function(E,A,I){return this.doctype(E,A,I)},D.prototype.e=function(E,A,I){return this.element(E,A,I)},D.prototype.n=function(E,A,I){return this.node(E,A,I)},D.prototype.t=function(E){return this.text(E)},D.prototype.d=function(E){return this.cdata(E)},D.prototype.c=function(E){return this.comment(E)},D.prototype.r=function(E){return this.raw(E)},D.prototype.i=function(E,A){return this.instruction(E,A)},D.prototype.att=function(){return this.currentNode&&this.currentNode instanceof p?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},D.prototype.a=function(){return this.currentNode&&this.currentNode instanceof p?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},D.prototype.ent=function(E,A){return this.entity(E,A)},D.prototype.pent=function(E,A){return this.pEntity(E,A)},D.prototype.not=function(E,A){return this.notation(E,A)},D}()}).call(this)},{"./Utility":103,"./XMLAttribute":104,"./XMLCData":105,"./XMLComment":106,"./XMLDTDAttList":107,"./XMLDTDElement":108,"./XMLDTDEntity":109,"./XMLDTDNotation":110,"./XMLDeclaration":111,"./XMLDocType":112,"./XMLElement":115,"./XMLProcessingInstruction":117,"./XMLRaw":118,"./XMLStringWriter":120,"./XMLStringifier":121,"./XMLText":122}],115:[function(t,i,r){(function(){var s,a,o,c,d,u,f=function(p,v){function w(){this.constructor=p}for(var b in v)h.call(v,b)&&(p[b]=v[b]);return w.prototype=v.prototype,p.prototype=new w,p.__super__=v.prototype,p},h={}.hasOwnProperty;u=t("./Utility"),d=u.isObject,c=u.isFunction,o=u.getValue,a=t("./XMLNode"),s=t("./XMLAttribute"),i.exports=function(p){function v(w,b,m){if(v.__super__.constructor.call(this,w),b==null)throw new Error("Missing element name. "+this.debugInfo());this.name=this.stringify.eleName(b),this.attributes={},m!=null&&this.attribute(m),w.isDocument&&(this.isRoot=!0,this.documentObject=w,w.rootObject=this)}return f(v,p),v.prototype.clone=function(){var w,b,m,y;m=Object.create(this),m.isRoot&&(m.documentObject=null),m.attributes={},y=this.attributes;for(b in y)h.call(y,b)&&(w=y[b],m.attributes[b]=w.clone());return m.children=[],this.children.forEach(function(_){var x;return x=_.clone(),x.parent=m,m.children.push(x)}),m},v.prototype.attribute=function(w,b){var m,y;if(w!=null&&(w=o(w)),d(w))for(m in w)h.call(w,m)&&(y=w[m],this.attribute(m,y));else c(b)&&(b=b.apply()),this.options.skipNullAttributes&&b==null||(this.attributes[w]=new s(this,w,b));return this},v.prototype.removeAttribute=function(w){var b,m,y;if(w==null)throw new Error("Missing attribute name. "+this.debugInfo());if(w=o(w),Array.isArray(w))for(m=0,y=w.length;y>m;m++)b=w[m],delete this.attributes[b];else delete this.attributes[w];return this},v.prototype.toString=function(w){return this.options.writer.set(w).element(this)},v.prototype.att=function(w,b){return this.attribute(w,b)},v.prototype.a=function(w,b){return this.attribute(w,b)},v}(a)}).call(this)},{"./Utility":103,"./XMLAttribute":104,"./XMLNode":116}],116:[function(t,i,r){(function(){var s,a,o,c,d,u,f,h,p,v,w,b,m,y={}.hasOwnProperty;m=t("./Utility"),b=m.isObject,w=m.isFunction,v=m.isEmpty,p=m.getValue,d=null,s=null,a=null,o=null,c=null,f=null,h=null,u=null,i.exports=function(){function _(x){this.parent=x,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],d||(d=t("./XMLElement"),s=t("./XMLCData"),a=t("./XMLComment"),o=t("./XMLDeclaration"),c=t("./XMLDocType"),f=t("./XMLRaw"),h=t("./XMLText"),u=t("./XMLProcessingInstruction"))}return _.prototype.element=function(x,N,k){var T,C,P,D,E,A,I,R,M,Y;if(A=null,N==null&&(N={}),N=p(N),b(N)||(M=[N,k],k=M[0],N=M[1]),x!=null&&(x=p(x)),Array.isArray(x))for(P=0,I=x.length;I>P;P++)C=x[P],A=this.element(C);else if(w(x))A=this.element(x.apply());else if(b(x)){for(E in x)if(y.call(x,E))if(Y=x[E],w(Y)&&(Y=Y.apply()),b(Y)&&v(Y)&&(Y=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&E.indexOf(this.stringify.convertAttKey)===0)A=this.attribute(E.substr(this.stringify.convertAttKey.length),Y);else if(!this.options.separateArrayItems&&Array.isArray(Y))for(D=0,R=Y.length;R>D;D++)C=Y[D],T={},T[E]=C,A=this.element(T);else b(Y)?(A=this.element(E),A.element(Y)):A=this.element(E,Y)}else A=!this.options.ignoreDecorators&&this.stringify.convertTextKey&&x.indexOf(this.stringify.convertTextKey)===0?this.text(k):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&x.indexOf(this.stringify.convertCDataKey)===0?this.cdata(k):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&x.indexOf(this.stringify.convertCommentKey)===0?this.comment(k):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&x.indexOf(this.stringify.convertRawKey)===0?this.raw(k):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&x.indexOf(this.stringify.convertPIKey)===0?this.instruction(x.substr(this.stringify.convertPIKey.length),k):this.node(x,N,k);if(A==null)throw new Error("Could not create any elements with: "+x+". "+this.debugInfo());return A},_.prototype.insertBefore=function(x,N,k){var T,C,P;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(x));return C=this.parent.children.indexOf(this),P=this.parent.children.splice(C),T=this.parent.element(x,N,k),Array.prototype.push.apply(this.parent.children,P),T},_.prototype.insertAfter=function(x,N,k){var T,C,P;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(x));return C=this.parent.children.indexOf(this),P=this.parent.children.splice(C+1),T=this.parent.element(x,N,k),Array.prototype.push.apply(this.parent.children,P),T},_.prototype.remove=function(){var x;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return x=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[x,x-x+1].concat([])),this.parent},_.prototype.node=function(x,N,k){var T,C;return x!=null&&(x=p(x)),N||(N={}),N=p(N),b(N)||(C=[N,k],k=C[0],N=C[1]),T=new d(this,x,N),k!=null&&T.text(k),this.children.push(T),T},_.prototype.text=function(x){var N;return N=new h(this,x),this.children.push(N),this},_.prototype.cdata=function(x){var N;return N=new s(this,x),this.children.push(N),this},_.prototype.comment=function(x){var N;return N=new a(this,x),this.children.push(N),this},_.prototype.commentBefore=function(x){var N,k;return N=this.parent.children.indexOf(this),k=this.parent.children.splice(N),this.parent.comment(x),Array.prototype.push.apply(this.parent.children,k),this},_.prototype.commentAfter=function(x){var N,k;return N=this.parent.children.indexOf(this),k=this.parent.children.splice(N+1),this.parent.comment(x),Array.prototype.push.apply(this.parent.children,k),this},_.prototype.raw=function(x){var N;return N=new f(this,x),this.children.push(N),this},_.prototype.instruction=function(x,N){var k,T,C,P,D;if(x!=null&&(x=p(x)),N!=null&&(N=p(N)),Array.isArray(x))for(P=0,D=x.length;D>P;P++)k=x[P],this.instruction(k);else if(b(x))for(k in x)y.call(x,k)&&(T=x[k],this.instruction(k,T));else w(N)&&(N=N.apply()),C=new u(this,x,N),this.children.push(C);return this},_.prototype.instructionBefore=function(x,N){var k,T;return k=this.parent.children.indexOf(this),T=this.parent.children.splice(k),this.parent.instruction(x,N),Array.prototype.push.apply(this.parent.children,T),this},_.prototype.instructionAfter=function(x,N){var k,T;return k=this.parent.children.indexOf(this),T=this.parent.children.splice(k+1),this.parent.instruction(x,N),Array.prototype.push.apply(this.parent.children,T),this},_.prototype.declaration=function(x,N,k){var T,C;return T=this.document(),C=new o(T,x,N,k),T.children[0]instanceof o?T.children[0]=C:T.children.unshift(C),T.root()||T},_.prototype.doctype=function(x,N){var k,T,C,P,D,E,A,I,R,M;for(T=this.document(),C=new c(T,x,N),R=T.children,P=D=0,A=R.length;A>D;P=++D)if(k=R[P],k instanceof c)return T.children[P]=C,C;for(M=T.children,P=E=0,I=M.length;I>E;P=++E)if(k=M[P],k.isRoot)return T.children.splice(P,0,C),C;return T.children.push(C),C},_.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},_.prototype.root=function(){var x;for(x=this;x;){if(x.isDocument)return x.rootObject;if(x.isRoot)return x;x=x.parent}},_.prototype.document=function(){var x;for(x=this;x;){if(x.isDocument)return x;x=x.parent}},_.prototype.end=function(x){return this.document().end(x)},_.prototype.prev=function(){var x;if(x=this.parent.children.indexOf(this),1>x)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[x-1]},_.prototype.next=function(){var x;if(x=this.parent.children.indexOf(this),x===-1||x===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[x+1]},_.prototype.importDocument=function(x){var N;return N=x.root().clone(),N.parent=this,N.isRoot=!1,this.children.push(N),this},_.prototype.debugInfo=function(x){var N,k;return x=x||this.name,x!=null||(N=this.parent)!=null&&N.name?x==null?"parent: <"+this.parent.name+">":(k=this.parent)!=null&&k.name?"node: <"+x+">, parent: <"+this.parent.name+">":"node: <"+x+">":""},_.prototype.ele=function(x,N,k){return this.element(x,N,k)},_.prototype.nod=function(x,N,k){return this.node(x,N,k)},_.prototype.txt=function(x){return this.text(x)},_.prototype.dat=function(x){return this.cdata(x)},_.prototype.com=function(x){return this.comment(x)},_.prototype.ins=function(x,N){return this.instruction(x,N)},_.prototype.doc=function(){return this.document()},_.prototype.dec=function(x,N,k){return this.declaration(x,N,k)},_.prototype.dtd=function(x,N){return this.doctype(x,N)},_.prototype.e=function(x,N,k){return this.element(x,N,k)},_.prototype.n=function(x,N,k){return this.node(x,N,k)},_.prototype.t=function(x){return this.text(x)},_.prototype.d=function(x){return this.cdata(x)},_.prototype.c=function(x){return this.comment(x)},_.prototype.r=function(x){return this.raw(x)},_.prototype.i=function(x,N){return this.instruction(x,N)},_.prototype.u=function(){return this.up()},_.prototype.importXMLBuilder=function(x){return this.importDocument(x)},_}()}).call(this)},{"./Utility":103,"./XMLCData":105,"./XMLComment":106,"./XMLDeclaration":111,"./XMLDocType":112,"./XMLElement":115,"./XMLProcessingInstruction":117,"./XMLRaw":118,"./XMLText":122}],117:[function(t,i,r){(function(){var s,a=function(c,d){function u(){this.constructor=c}for(var f in d)o.call(d,f)&&(c[f]=d[f]);return u.prototype=d.prototype,c.prototype=new u,c.__super__=d.prototype,c},o={}.hasOwnProperty;s=t("./XMLNode"),i.exports=function(c){function d(u,f,h){if(d.__super__.constructor.call(this,u),f==null)throw new Error("Missing instruction target. "+this.debugInfo());this.target=this.stringify.insTarget(f),h&&(this.value=this.stringify.insValue(h))}return a(d,c),d.prototype.clone=function(){return Object.create(this)},d.prototype.toString=function(u){return this.options.writer.set(u).processingInstruction(this)},d}(s)}).call(this)},{"./XMLNode":116}],118:[function(t,i,r){(function(){var s,a=function(c,d){function u(){this.constructor=c}for(var f in d)o.call(d,f)&&(c[f]=d[f]);return u.prototype=d.prototype,c.prototype=new u,c.__super__=d.prototype,c},o={}.hasOwnProperty;s=t("./XMLNode"),i.exports=function(c){function d(u,f){if(d.__super__.constructor.call(this,u),f==null)throw new Error("Missing raw text. "+this.debugInfo());this.value=this.stringify.raw(f)}return a(d,c),d.prototype.clone=function(){return Object.create(this)},d.prototype.toString=function(u){return this.options.writer.set(u).raw(this)},d}(s)}).call(this)},{"./XMLNode":116}],119:[function(t,i,r){(function(){var s,a,o,c,d,u,f,h,p,v,w,b,m,y=function(x,N){function k(){this.constructor=x}for(var T in N)_.call(N,T)&&(x[T]=N[T]);return k.prototype=N.prototype,x.prototype=new k,x.__super__=N.prototype,x},_={}.hasOwnProperty;f=t("./XMLDeclaration"),h=t("./XMLDocType"),s=t("./XMLCData"),a=t("./XMLComment"),p=t("./XMLElement"),w=t("./XMLRaw"),b=t("./XMLText"),v=t("./XMLProcessingInstruction"),o=t("./XMLDTDAttList"),c=t("./XMLDTDElement"),d=t("./XMLDTDEntity"),u=t("./XMLDTDNotation"),m=t("./XMLWriterBase"),i.exports=function(x){function N(k,T){N.__super__.constructor.call(this,T),this.stream=k}return y(N,x),N.prototype.document=function(k){var T,C,P,D,E,A,I,R;for(A=k.children,C=0,D=A.length;D>C;C++)T=A[C],T.isLastRootNode=!1;for(k.children[k.children.length-1].isLastRootNode=!0,I=k.children,R=[],P=0,E=I.length;E>P;P++)switch(T=I[P],!1){case!(T instanceof f):R.push(this.declaration(T));break;case!(T instanceof h):R.push(this.docType(T));break;case!(T instanceof a):R.push(this.comment(T));break;case!(T instanceof v):R.push(this.processingInstruction(T));break;default:R.push(this.element(T))}return R},N.prototype.attribute=function(k){return this.stream.write(" "+k.name+'="'+k.value+'"')},N.prototype.cdata=function(k,T){return this.stream.write(this.space(T)+"<![CDATA["+k.text+"]]>"+this.endline(k))},N.prototype.comment=function(k,T){return this.stream.write(this.space(T)+"<!-- "+k.text+" -->"+this.endline(k))},N.prototype.declaration=function(k,T){return this.stream.write(this.space(T)),this.stream.write('<?xml version="'+k.version+'"'),k.encoding!=null&&this.stream.write(' encoding="'+k.encoding+'"'),k.standalone!=null&&this.stream.write(' standalone="'+k.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(k))},N.prototype.docType=function(k,T){var C,P,D,E;if(T||(T=0),this.stream.write(this.space(T)),this.stream.write("<!DOCTYPE "+k.root().name),k.pubID&&k.sysID?this.stream.write(' PUBLIC "'+k.pubID+'" "'+k.sysID+'"'):k.sysID&&this.stream.write(' SYSTEM "'+k.sysID+'"'),k.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(k)),E=k.children,P=0,D=E.length;D>P;P++)switch(C=E[P],!1){case!(C instanceof o):this.dtdAttList(C,T+1);break;case!(C instanceof c):this.dtdElement(C,T+1);break;case!(C instanceof d):this.dtdEntity(C,T+1);break;case!(C instanceof u):this.dtdNotation(C,T+1);break;case!(C instanceof s):this.cdata(C,T+1);break;case!(C instanceof a):this.comment(C,T+1);break;case!(C instanceof v):this.processingInstruction(C,T+1);break;default:throw new Error("Unknown DTD node type: "+C.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(k))},N.prototype.element=function(k,T){var C,P,D,E,A,I,R,M;T||(T=0),M=this.space(T),this.stream.write(M+"<"+k.name),I=k.attributes;for(A in I)_.call(I,A)&&(C=I[A],this.attribute(C));if(k.children.length===0||k.children.every(function(Y){return Y.value===""}))this.allowEmpty?this.stream.write("></"+k.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&k.children.length===1&&k.children[0].value!=null)this.stream.write(">"),this.stream.write(k.children[0].value),this.stream.write("</"+k.name+">");else{for(this.stream.write(">"+this.newline),R=k.children,D=0,E=R.length;E>D;D++)switch(P=R[D],!1){case!(P instanceof s):this.cdata(P,T+1);break;case!(P instanceof a):this.comment(P,T+1);break;case!(P instanceof p):this.element(P,T+1);break;case!(P instanceof w):this.raw(P,T+1);break;case!(P instanceof b):this.text(P,T+1);break;case!(P instanceof v):this.processingInstruction(P,T+1);break;default:throw new Error("Unknown XML node type: "+P.constructor.name)}this.stream.write(M+"</"+k.name+">")}return this.stream.write(this.endline(k))},N.prototype.processingInstruction=function(k,T){return this.stream.write(this.space(T)+"<?"+k.target),k.value&&this.stream.write(" "+k.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(k))},N.prototype.raw=function(k,T){return this.stream.write(this.space(T)+k.value+this.endline(k))},N.prototype.text=function(k,T){return this.stream.write(this.space(T)+k.value+this.endline(k))},N.prototype.dtdAttList=function(k,T){return this.stream.write(this.space(T)+"<!ATTLIST "+k.elementName+" "+k.attributeName+" "+k.attributeType),k.defaultValueType!=="#DEFAULT"&&this.stream.write(" "+k.defaultValueType),k.defaultValue&&this.stream.write(' "'+k.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(k))},N.prototype.dtdElement=function(k,T){return this.stream.write(this.space(T)+"<!ELEMENT "+k.name+" "+k.value),this.stream.write(this.spacebeforeslash+">"+this.endline(k))},N.prototype.dtdEntity=function(k,T){return this.stream.write(this.space(T)+"<!ENTITY"),k.pe&&this.stream.write(" %"),this.stream.write(" "+k.name),k.value?this.stream.write(' "'+k.value+'"'):(k.pubID&&k.sysID?this.stream.write(' PUBLIC "'+k.pubID+'" "'+k.sysID+'"'):k.sysID&&this.stream.write(' SYSTEM "'+k.sysID+'"'),k.nData&&this.stream.write(" NDATA "+k.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(k))},N.prototype.dtdNotation=function(k,T){return this.stream.write(this.space(T)+"<!NOTATION "+k.name),k.pubID&&k.sysID?this.stream.write(' PUBLIC "'+k.pubID+'" "'+k.sysID+'"'):k.pubID?this.stream.write(' PUBLIC "'+k.pubID+'"'):k.sysID&&this.stream.write(' SYSTEM "'+k.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(k))},N.prototype.endline=function(k){return k.isLastRootNode?"":this.newline},N}(m)}).call(this)},{"./XMLCData":105,"./XMLComment":106,"./XMLDTDAttList":107,"./XMLDTDElement":108,"./XMLDTDEntity":109,"./XMLDTDNotation":110,"./XMLDeclaration":111,"./XMLDocType":112,"./XMLElement":115,"./XMLProcessingInstruction":117,"./XMLRaw":118,"./XMLText":122,"./XMLWriterBase":123}],120:[function(t,i,r){(function(){var s,a,o,c,d,u,f,h,p,v,w,b,m,y=function(x,N){function k(){this.constructor=x}for(var T in N)_.call(N,T)&&(x[T]=N[T]);return k.prototype=N.prototype,x.prototype=new k,x.__super__=N.prototype,x},_={}.hasOwnProperty;f=t("./XMLDeclaration"),h=t("./XMLDocType"),s=t("./XMLCData"),a=t("./XMLComment"),p=t("./XMLElement"),w=t("./XMLRaw"),b=t("./XMLText"),v=t("./XMLProcessingInstruction"),o=t("./XMLDTDAttList"),c=t("./XMLDTDElement"),d=t("./XMLDTDEntity"),u=t("./XMLDTDNotation"),m=t("./XMLWriterBase"),i.exports=function(x){function N(k){N.__super__.constructor.call(this,k)}return y(N,x),N.prototype.document=function(k){var T,C,P,D,E;for(this.textispresent=!1,D="",E=k.children,C=0,P=E.length;P>C;C++)T=E[C],D+=(function(){switch(!1){case!(T instanceof f):return this.declaration(T);case!(T instanceof h):return this.docType(T);case!(T instanceof a):return this.comment(T);case!(T instanceof v):return this.processingInstruction(T);default:return this.element(T,0)}}).call(this);return this.pretty&&D.slice(-this.newline.length)===this.newline&&(D=D.slice(0,-this.newline.length)),D},N.prototype.attribute=function(k){return" "+k.name+'="'+k.value+'"'},N.prototype.cdata=function(k,T){return this.space(T)+"<![CDATA["+k.text+"]]>"+this.newline},N.prototype.comment=function(k,T){return this.space(T)+"<!-- "+k.text+" -->"+this.newline},N.prototype.declaration=function(k,T){var C;return C=this.space(T),C+='<?xml version="'+k.version+'"',k.encoding!=null&&(C+=' encoding="'+k.encoding+'"'),k.standalone!=null&&(C+=' standalone="'+k.standalone+'"'),C+=this.spacebeforeslash+"?>",C+=this.newline},N.prototype.docType=function(k,T){var C,P,D,E,A;if(T||(T=0),E=this.space(T),E+="<!DOCTYPE "+k.root().name,k.pubID&&k.sysID?E+=' PUBLIC "'+k.pubID+'" "'+k.sysID+'"':k.sysID&&(E+=' SYSTEM "'+k.sysID+'"'),k.children.length>0){for(E+=" [",E+=this.newline,A=k.children,P=0,D=A.length;D>P;P++)C=A[P],E+=(function(){switch(!1){case!(C instanceof o):return this.dtdAttList(C,T+1);case!(C instanceof c):return this.dtdElement(C,T+1);case!(C instanceof d):return this.dtdEntity(C,T+1);case!(C instanceof u):return this.dtdNotation(C,T+1);case!(C instanceof s):return this.cdata(C,T+1);case!(C instanceof a):return this.comment(C,T+1);case!(C instanceof v):return this.processingInstruction(C,T+1);default:throw new Error("Unknown DTD node type: "+C.constructor.name)}}).call(this);E+="]"}return E+=this.spacebeforeslash+">",E+=this.newline},N.prototype.element=function(k,T){var C,P,D,E,A,I,R,M,Y,q,G,B,J;T||(T=0),J=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),B=this.space(T),M="",M+=B+"<"+k.name,Y=k.attributes;for(R in Y)_.call(Y,R)&&(C=Y[R],M+=this.attribute(C));if(k.children.length===0||k.children.every(function(W){return W.value===""}))M+=this.allowEmpty?"></"+k.name+">"+this.newline:this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&k.children.length===1&&k.children[0].value!=null)M+=">",M+=k.children[0].value,M+="</"+k.name+">"+this.newline;else{if(this.dontprettytextnodes){for(q=k.children,D=0,A=q.length;A>D;D++)if(P=q[D],P.value!=null){this.textispresent++,J=!0;break}}for(this.textispresent&&(this.newline="",this.pretty=!1,B=this.space(T)),M+=">"+this.newline,G=k.children,E=0,I=G.length;I>E;E++)P=G[E],M+=(function(){switch(!1){case!(P instanceof s):return this.cdata(P,T+1);case!(P instanceof a):return this.comment(P,T+1);case!(P instanceof p):return this.element(P,T+1);case!(P instanceof w):return this.raw(P,T+1);case!(P instanceof b):return this.text(P,T+1);case!(P instanceof v):return this.processingInstruction(P,T+1);default:throw new Error("Unknown XML node type: "+P.constructor.name)}}).call(this);J&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),M+=B+"</"+k.name+">"+this.newline}return M},N.prototype.processingInstruction=function(k,T){var C;return C=this.space(T)+"<?"+k.target,k.value&&(C+=" "+k.value),C+=this.spacebeforeslash+"?>"+this.newline},N.prototype.raw=function(k,T){return this.space(T)+k.value+this.newline},N.prototype.text=function(k,T){return this.space(T)+k.value+this.newline},N.prototype.dtdAttList=function(k,T){var C;return C=this.space(T)+"<!ATTLIST "+k.elementName+" "+k.attributeName+" "+k.attributeType,k.defaultValueType!=="#DEFAULT"&&(C+=" "+k.defaultValueType),k.defaultValue&&(C+=' "'+k.defaultValue+'"'),C+=this.spacebeforeslash+">"+this.newline},N.prototype.dtdElement=function(k,T){return this.space(T)+"<!ELEMENT "+k.name+" "+k.value+this.spacebeforeslash+">"+this.newline},N.prototype.dtdEntity=function(k,T){var C;return C=this.space(T)+"<!ENTITY",k.pe&&(C+=" %"),C+=" "+k.name,k.value?C+=' "'+k.value+'"':(k.pubID&&k.sysID?C+=' PUBLIC "'+k.pubID+'" "'+k.sysID+'"':k.sysID&&(C+=' SYSTEM "'+k.sysID+'"'),k.nData&&(C+=" NDATA "+k.nData)),C+=this.spacebeforeslash+">"+this.newline},N.prototype.dtdNotation=function(k,T){var C;return C=this.space(T)+"<!NOTATION "+k.name,k.pubID&&k.sysID?C+=' PUBLIC "'+k.pubID+'" "'+k.sysID+'"':k.pubID?C+=' PUBLIC "'+k.pubID+'"':k.sysID&&(C+=' SYSTEM "'+k.sysID+'"'),C+=this.spacebeforeslash+">"+this.newline},N.prototype.openNode=function(k,T){var C,P,D,E;if(T||(T=0),k instanceof p){D=this.space(T)+"<"+k.name,E=k.attributes;for(P in E)_.call(E,P)&&(C=E[P],D+=this.attribute(C));return D+=(k.children?">":"/>")+this.newline}return D=this.space(T)+"<!DOCTYPE "+k.rootNodeName,k.pubID&&k.sysID?D+=' PUBLIC "'+k.pubID+'" "'+k.sysID+'"':k.sysID&&(D+=' SYSTEM "'+k.sysID+'"'),D+=(k.children?" [":">")+this.newline},N.prototype.closeNode=function(k,T){switch(T||(T=0),!1){case!(k instanceof p):return this.space(T)+"</"+k.name+">"+this.newline;case!(k instanceof h):return this.space(T)+"]>"+this.newline}},N}(m)}).call(this)},{"./XMLCData":105,"./XMLComment":106,"./XMLDTDAttList":107,"./XMLDTDElement":108,"./XMLDTDEntity":109,"./XMLDTDNotation":110,"./XMLDeclaration":111,"./XMLDocType":112,"./XMLElement":115,"./XMLProcessingInstruction":117,"./XMLRaw":118,"./XMLText":122,"./XMLWriterBase":123}],121:[function(t,i,r){(function(){var s=function(o,c){return function(){return o.apply(c,arguments)}},a={}.hasOwnProperty;i.exports=function(){function o(c){this.assertLegalChar=s(this.assertLegalChar,this);var d,u,f;c||(c={}),this.noDoubleEncoding=c.noDoubleEncoding,u=c.stringify||{};for(d in u)a.call(u,d)&&(f=u[d],this[d]=f)}return o.prototype.eleName=function(c){return c=""+c||"",this.assertLegalChar(c)},o.prototype.eleText=function(c){return c=""+c||"",this.assertLegalChar(this.elEscape(c))},o.prototype.cdata=function(c){return c=""+c||"",c=c.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(c)},o.prototype.comment=function(c){if(c=""+c||"",c.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+c);return this.assertLegalChar(c)},o.prototype.raw=function(c){return""+c||""},o.prototype.attName=function(c){return c=""+c||""},o.prototype.attValue=function(c){return c=""+c||"",this.attEscape(c)},o.prototype.insTarget=function(c){return""+c||""},o.prototype.insValue=function(c){if(c=""+c||"",c.match(/\?>/))throw new Error("Invalid processing instruction value: "+c);return c},o.prototype.xmlVersion=function(c){if(c=""+c||"",!c.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+c);return c},o.prototype.xmlEncoding=function(c){if(c=""+c||"",!c.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+c);return c},o.prototype.xmlStandalone=function(c){return c?"yes":"no"},o.prototype.dtdPubID=function(c){return""+c||""},o.prototype.dtdSysID=function(c){return""+c||""},o.prototype.dtdElementValue=function(c){return""+c||""},o.prototype.dtdAttType=function(c){return""+c||""},o.prototype.dtdAttDefault=function(c){return c!=null?""+c||"":c},o.prototype.dtdEntityValue=function(c){return""+c||""},o.prototype.dtdNData=function(c){return""+c||""},o.prototype.convertAttKey="@",o.prototype.convertPIKey="?",o.prototype.convertTextKey="#text",o.prototype.convertCDataKey="#cdata",o.prototype.convertCommentKey="#comment",o.prototype.convertRawKey="#raw",o.prototype.assertLegalChar=function(c){var d;if(d=c.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/))throw new Error("Invalid character in string: "+c+" at index "+d.index);return c},o.prototype.elEscape=function(c){var d;return d=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,c.replace(d,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},o.prototype.attEscape=function(c){var d;return d=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,c.replace(d,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},o}()}).call(this)},{}],122:[function(t,i,r){(function(){var s,a=function(c,d){function u(){this.constructor=c}for(var f in d)o.call(d,f)&&(c[f]=d[f]);return u.prototype=d.prototype,c.prototype=new u,c.__super__=d.prototype,c},o={}.hasOwnProperty;s=t("./XMLNode"),i.exports=function(c){function d(u,f){if(d.__super__.constructor.call(this,u),f==null)throw new Error("Missing element text. "+this.debugInfo());this.value=this.stringify.eleText(f)}return a(d,c),d.prototype.clone=function(){return Object.create(this)},d.prototype.toString=function(u){return this.options.writer.set(u).text(this)},d}(s)}).call(this)},{"./XMLNode":116}],123:[function(t,i,r){(function(){var s={}.hasOwnProperty;i.exports=function(){function a(o){var c,d,u,f,h,p,v,w,b;o||(o={}),this.pretty=o.pretty||!1,this.allowEmpty=(d=o.allowEmpty)!=null?d:!1,this.pretty?(this.indent=(u=o.indent)!=null?u:"  ",this.newline=(f=o.newline)!=null?f:`
`,this.offset=(h=o.offset)!=null?h:0,this.dontprettytextnodes=(p=o.dontprettytextnodes)!=null?p:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=(v=o.spacebeforeslash)!=null?v:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,w=o.writer||{};for(c in w)s.call(w,c)&&(b=w[c],this[c]=b)}return a.prototype.set=function(o){var c,d,u;o||(o={}),"pretty"in o&&(this.pretty=o.pretty),"allowEmpty"in o&&(this.allowEmpty=o.allowEmpty),this.pretty?(this.indent="indent"in o?o.indent:"  ",this.newline="newline"in o?o.newline:`
`,this.offset="offset"in o?o.offset:0,this.dontprettytextnodes="dontprettytextnodes"in o?o.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in o?o.spacebeforeslash:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,d=o.writer||{};for(c in d)s.call(d,c)&&(u=d[c],this[c]=u);return this},a.prototype.space=function(o){var c;return this.pretty?(c=(o||0)+this.offset+1,c>0?new Array(c).join(this.indent):""):""},a}()}).call(this)},{}],124:[function(t,i,r){(function(){var s,a,o,c,d,u,f;f=t("./Utility"),d=f.assign,u=f.isFunction,s=t("./XMLDocument"),a=t("./XMLDocumentCB"),c=t("./XMLStringWriter"),o=t("./XMLStreamWriter"),i.exports.create=function(h,p,v,w){var b,m;if(h==null)throw new Error("Root element needs a name.");return w=d({},p,v,w),b=new s(w),m=b.element(h),w.headless||(b.declaration(w),(w.pubID!=null||w.sysID!=null)&&b.doctype(w)),m},i.exports.begin=function(h,p,v){var w;return u(h)&&(w=[h,p],p=w[0],v=w[1],h={}),p?new a(h,p,v):new s(h)},i.exports.stringWriter=function(h){return new c(h)},i.exports.streamWriter=function(h,p){return new o(h,p)}}).call(this)},{"./Utility":103,"./XMLDocument":113,"./XMLDocumentCB":114,"./XMLStreamWriter":119,"./XMLStringWriter":120}]},{},[21])(21)})})(fX);var Ewe=fX.exports;const Twe=zE(Ewe),zS={getPublications:async(n={})=>new Promise(e=>{setTimeout(()=>{let i=[{id:1,title:"Journal of Urban Planning and Development",publisher:"American Society of Civil Engineers",description:"A peer-reviewed journal focusing on urban planning, development, and infrastructure management in growing cities.",accessType:"open",category:"Urban Planning",year:2024,volume:150,issue:1,issn:"0733-9488",publicationDate:"2024-01-15",downloads:1247,citations:89,status:"published",keywords:["Urban Planning","Infrastructure","Sustainable Development","City Management"]},{id:2,title:"Sustainable Cities and Society",publisher:"Elsevier",description:"International journal focusing on fundamental and applied research on sustainable development and smart city technologies.",accessType:"paid",category:"Sustainable Development",year:2024,volume:45,issue:null,issn:"2210-6707",publicationDate:"2024-02-01",downloads:2893,citations:156,status:"published",keywords:["Sustainability","Smart Cities","Energy Efficiency","Urban Analytics"]},{id:3,title:"Transportation Research Part A: Policy and Practice",publisher:"Elsevier",description:"Covers policy and practice in passenger and freight transportation across all modes from local to international.",accessType:"sso",category:"Transportation",year:2023,volume:178,issue:3,issn:"0965-8564",publicationDate:"2023-12-10",downloads:1876,citations:234,status:"published",keywords:["Transportation","Policy","Mobility","Infrastructure"]},{id:4,title:"Heritage and Sustainable Urban Development",publisher:"Taylor & Francis",description:"Explores the intersection of cultural heritage preservation and contemporary urban development challenges.",accessType:"open",category:"Heritage Conservation",year:2023,volume:12,issue:2,issn:"2470-8536",publicationDate:"2023-11-20",downloads:892,citations:45,status:"published",keywords:["Heritage","Conservation","Urban Development","Cultural Preservation"]},{id:5,title:"GIS for Urban Planning and Management",publisher:"Springer",description:"Comprehensive guide to GIS applications in urban planning, spatial analysis, and decision support systems.",accessType:"paid",category:"GIS & Mapping",year:2023,volume:1,issue:null,issn:"2520-8520",publicationDate:"2023-10-05",downloads:1567,citations:78,status:"published",keywords:["GIS","Spatial Analysis","Urban Planning","Mapping"]},{id:6,title:"Urban Data Science and Analytics",publisher:"MIT Press",description:"Advanced techniques in data science applied to urban problems, including machine learning and predictive modeling.",accessType:"sso",category:"Data Analytics",year:2023,volume:8,issue:4,issn:"2691-5237",publicationDate:"2023-09-15",downloads:2134,citations:112,status:"published",keywords:["Data Science","Urban Analytics","Machine Learning","Predictive Modeling"]}];n.accessType&&(i=i.filter(r=>r.accessType===n.accessType)),n.category&&(i=i.filter(r=>r.category===n.category)),e(i)},1e3)}),getPublicationById:async n=>(await Xe.get(`/publications/${n}`)).data,submitManuscript:async n=>{console.log(" API Service: Sending manuscript to backend...");const e=await Xe.post("/publishing/manuscripts/submit",n);return console.log(" API Service: Response received:",e.data),e.data},getUserManuscripts:async()=>(await Xe.get("/manuscripts")).data,getManuscriptById:async n=>(await Xe.get(`/manuscripts/${n}`)).data,updateManuscript:async(n,e)=>(await Xe.put(`/manuscripts/${n}`,e)).data,withdrawManuscript:async n=>(await Xe.delete(`/manuscripts/${n}`)).data,downloadPublication:async n=>(await Xe.get(`/publications/${n}/download`,{responseType:"blob"})).data,viewPublication:async n=>(await Xe.get(`/publications/${n}/view`)).data,getPublishingRequirements:async(n={})=>(await Xe.get("/publishing/requirements",{params:n})).data,getMyManuscripts:async()=>{console.log(" API Service: Fetching my manuscripts...");const n=await Xe.get("/publishing/my-manuscripts");return console.log(" API Service: Manuscripts response:",n.data),n.data},deleteManuscript:async n=>{console.log(" API Service: Deleting manuscript:",n);const e=await Xe.delete(`/publishing/manuscripts/${n}`);return console.log(" API Service: Delete response:",e.data),e.data},getManuscriptDetails:async n=>(await Xe.get(`/publishing/manuscripts/${n}`)).data,updateManuscriptStatus:async(n,e)=>(await Xe.patch(`/publishing/manuscripts/${n}/status`,{status:e})).data,getPublicationCitations:async n=>(await Xe.get(`/publications/${n}/citations`)).data,searchPublications:async(n,e={})=>(await Xe.get("/publications/search",{params:{query:n,...e}})).data,getSimilarPublications:async n=>(await Xe.get(`/publications/${n}/similar`)).data,getPublicationAnalytics:async()=>(await Xe.get("/publications/analytics")).data,getManuscriptsForReview:async()=>(await Xe.get("/editor/manuscripts")).data,assignManuscript:async(n,e)=>(await Xe.post(`/editor/manuscripts/${n}/assign`,{reviewerId:e})).data,makeDecision:async(n,e,t="")=>(await Xe.post(`/editor/manuscripts/${n}/decision`,{decision:e,comments:t})).data,getAssignedManuscripts:async()=>(await Xe.get("/reviewer/manuscripts")).data,submitReview:async(n,e)=>(await Xe.post(`/reviewer/manuscripts/${n}/review`,e)).data},Cwe=zS.getPublishingRequirements,Dwe=zS.submitManuscript,Pwe=zS.getMyManuscripts,Iwe=zS.deleteManuscript,IM=async n=>(await Xe.post("/research-papers",n)).data,Rwe=async()=>(await Xe.get("/research-papers")).data,RM=async(n,e)=>(await Xe.put(`/research-papers/${n}`,e)).data,LM=async n=>(await Xe.delete(`/research-papers/${n}`)).data;function ci(n){"@babel/helpers - typeof";return ci=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ci(n)}var id=Uint8Array,hl=Uint16Array,nO=Int32Array,iO=new id([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),rO=new id([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),OM=new id([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),pX=function(n,e){for(var t=new hl(31),i=0;i<31;++i)t[i]=e+=1<<n[i-1];for(var r=new nO(t[30]),i=1;i<30;++i)for(var s=t[i];s<t[i+1];++s)r[s]=s-t[i]<<5|i;return{b:t,r}},mX=pX(iO,2),Lwe=mX.b,AI=mX.r;Lwe[28]=258,AI[258]=28;var Owe=pX(rO,0),FM=Owe.r,kI=new hl(32768);for(var qi=0;qi<32768;++qi){var Af=(qi&43690)>>1|(qi&21845)<<1;Af=(Af&52428)>>2|(Af&13107)<<2,Af=(Af&61680)>>4|(Af&3855)<<4,kI[qi]=((Af&65280)>>8|(Af&255)<<8)>>1}var Uw=function(n,e,t){for(var i=n.length,r=0,s=new hl(e);r<i;++r)n[r]&&++s[n[r]-1];var a=new hl(e);for(r=1;r<e;++r)a[r]=a[r-1]+s[r-1]<<1;var o;if(t){o=new hl(1<<e);var c=15-e;for(r=0;r<i;++r)if(n[r])for(var d=r<<4|n[r],u=e-n[r],f=a[n[r]-1]++<<u,h=f|(1<<u)-1;f<=h;++f)o[kI[f]>>c]=d}else for(o=new hl(i),r=0;r<i;++r)n[r]&&(o[r]=kI[a[n[r]-1]++]>>15-n[r]);return o},Z1=new id(288);for(var qi=0;qi<144;++qi)Z1[qi]=8;for(var qi=144;qi<256;++qi)Z1[qi]=9;for(var qi=256;qi<280;++qi)Z1[qi]=7;for(var qi=280;qi<288;++qi)Z1[qi]=8;var W3=new id(32);for(var qi=0;qi<32;++qi)W3[qi]=5;var Fwe=Uw(Z1,9,0),Uwe=Uw(W3,5,0),gX=function(n){return(n+7)/8|0},Mwe=function(n,e,t){return(e==null||e<0)&&(e=0),(t==null||t>n.length)&&(t=n.length),new id(n.subarray(e,t))},Bu=function(n,e,t){t<<=e&7;var i=e/8|0;n[i]|=t,n[i+1]|=t>>8},M2=function(n,e,t){t<<=e&7;var i=e/8|0;n[i]|=t,n[i+1]|=t>>8,n[i+2]|=t>>16},z6=function(n,e){for(var t=[],i=0;i<n.length;++i)n[i]&&t.push({s:i,f:n[i]});var r=t.length,s=t.slice();if(!r)return{t:vX,l:0};if(r==1){var a=new id(t[0].s+1);return a[t[0].s]=1,{t:a,l:1}}t.sort(function(N,k){return N.f-k.f}),t.push({s:-1,f:25001});var o=t[0],c=t[1],d=0,u=1,f=2;for(t[0]={s:-1,f:o.f+c.f,l:o,r:c};u!=r-1;)o=t[t[d].f<t[f].f?d++:f++],c=t[d!=u&&t[d].f<t[f].f?d++:f++],t[u++]={s:-1,f:o.f+c.f,l:o,r:c};for(var h=s[0].s,i=1;i<r;++i)s[i].s>h&&(h=s[i].s);var p=new hl(h+1),v=EI(t[u-1],p,0);if(v>e){var i=0,w=0,b=v-e,m=1<<b;for(s.sort(function(k,T){return p[T.s]-p[k.s]||k.f-T.f});i<r;++i){var y=s[i].s;if(p[y]>e)w+=m-(1<<v-p[y]),p[y]=e;else break}for(w>>=b;w>0;){var _=s[i].s;p[_]<e?w-=1<<e-p[_]++-1:++i}for(;i>=0&&w;--i){var x=s[i].s;p[x]==e&&(--p[x],++w)}v=e}return{t:new id(p),l:v}},EI=function(n,e,t){return n.s==-1?Math.max(EI(n.l,e,t+1),EI(n.r,e,t+1)):e[n.s]=t},UM=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new hl(++e),i=0,r=n[0],s=1,a=function(c){t[i++]=c},o=1;o<=e;++o)if(n[o]==r&&o!=e)++s;else{if(!r&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(r),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(r);s=1,r=n[o]}return{c:t.subarray(0,i),n:e}},B2=function(n,e){for(var t=0,i=0;i<e.length;++i)t+=n[i]*e[i];return t},yX=function(n,e,t){var i=t.length,r=gX(e+2);n[r]=i&255,n[r+1]=i>>8,n[r+2]=n[r]^255,n[r+3]=n[r+1]^255;for(var s=0;s<i;++s)n[r+s+4]=t[s];return(r+4+i)*8},MM=function(n,e,t,i,r,s,a,o,c,d,u){Bu(e,u++,t),++r[256];for(var f=z6(r,15),h=f.t,p=f.l,v=z6(s,15),w=v.t,b=v.l,m=UM(h),y=m.c,_=m.n,x=UM(w),N=x.c,k=x.n,T=new hl(19),C=0;C<y.length;++C)++T[y[C]&31];for(var C=0;C<N.length;++C)++T[N[C]&31];for(var P=z6(T,7),D=P.t,E=P.l,A=19;A>4&&!D[OM[A-1]];--A);var I=d+5<<3,R=B2(r,Z1)+B2(s,W3)+a,M=B2(r,h)+B2(s,w)+a+14+3*A+B2(T,D)+2*T[16]+3*T[17]+7*T[18];if(c>=0&&I<=R&&I<=M)return yX(e,u,n.subarray(c,c+d));var Y,q,G,B;if(Bu(e,u,1+(M<R)),u+=2,M<R){Y=Uw(h,p,0),q=h,G=Uw(w,b,0),B=w;var J=Uw(D,E,0);Bu(e,u,_-257),Bu(e,u+5,k-1),Bu(e,u+10,A-4),u+=14;for(var C=0;C<A;++C)Bu(e,u+3*C,D[OM[C]]);u+=3*A;for(var W=[y,N],L=0;L<2;++L)for(var z=W[L],C=0;C<z.length;++C){var X=z[C]&31;Bu(e,u,J[X]),u+=D[X],X>15&&(Bu(e,u,z[C]>>5&127),u+=z[C]>>12)}}else Y=Fwe,q=Z1,G=Uwe,B=W3;for(var C=0;C<o;++C){var Q=i[C];if(Q>255){var X=Q>>18&31;M2(e,u,Y[X+257]),u+=q[X+257],X>7&&(Bu(e,u,Q>>23&31),u+=iO[X]);var V=Q&31;M2(e,u,G[V]),u+=B[V],V>3&&(M2(e,u,Q>>5&8191),u+=rO[V])}else M2(e,u,Y[Q]),u+=q[Q]}return M2(e,u,Y[256]),u+q[256]},Bwe=new nO([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),vX=new id(0),zwe=function(n,e,t,i,r,s){var a=s.z||n.length,o=new id(i+a+5*(1+Math.ceil(a/7e3))+r),c=o.subarray(i,o.length-r),d=s.l,u=(s.r||0)&7;if(e){u&&(c[0]=s.r>>3);for(var f=Bwe[e-1],h=f>>13,p=f&8191,v=(1<<t)-1,w=s.p||new hl(32768),b=s.h||new hl(v+1),m=Math.ceil(t/3),y=2*m,_=function(Ve){return(n[Ve]^n[Ve+1]<<m^n[Ve+2]<<y)&v},x=new nO(25e3),N=new hl(288),k=new hl(32),T=0,C=0,P=s.i||0,D=0,E=s.w||0,A=0;P+2<a;++P){var I=_(P),R=P&32767,M=b[I];if(w[R]=M,b[I]=R,E<=P){var Y=a-P;if((T>7e3||D>24576)&&(Y>423||!d)){u=MM(n,c,0,x,N,k,C,D,A,P-A,u),D=T=C=0,A=P;for(var q=0;q<286;++q)N[q]=0;for(var q=0;q<30;++q)k[q]=0}var G=2,B=0,J=p,W=R-M&32767;if(Y>2&&I==_(P-W))for(var L=Math.min(h,Y)-1,z=Math.min(32767,P),X=Math.min(258,Y);W<=z&&--J&&R!=M;){if(n[P+G]==n[P+G-W]){for(var Q=0;Q<X&&n[P+Q]==n[P+Q-W];++Q);if(Q>G){if(G=Q,B=W,Q>L)break;for(var V=Math.min(W,Q-2),Z=0,q=0;q<V;++q){var _e=P-W+q&32767,le=w[_e],ce=_e-le&32767;ce>Z&&(Z=ce,M=_e)}}}R=M,M=w[R],W+=R-M&32767}if(B){x[D++]=268435456|AI[G]<<18|FM[B];var Fe=AI[G]&31,Ae=FM[B]&31;C+=iO[Fe]+rO[Ae],++N[257+Fe],++k[Ae],E=P+G,++T}else x[D++]=n[P],++N[n[P]]}}for(P=Math.max(P,E);P<a;++P)x[D++]=n[P],++N[n[P]];u=MM(n,c,d,x,N,k,C,D,A,P-A,u),d||(s.r=u&7|c[u/8|0]<<3,u-=7,s.h=b,s.p=w,s.i=P,s.w=E)}else{for(var P=s.w||0;P<a+d;P+=65535){var Re=P+65535;Re>=a&&(c[u/8|0]=d,Re=a),u=yX(c,u+1,n.subarray(P,Re))}s.i=a}return Mwe(o,0,i+gX(u)+r)},bX=function(){var n=1,e=0;return{p:function(t){for(var i=n,r=e,s=t.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)r+=i+=t[a];i=(i&65535)+15*(i>>16),r=(r&65535)+15*(r>>16)}n=i,e=r},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},jwe=function(n,e,t,i,r){if(!r&&(r={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new id(s.length+n.length);a.set(s),a.set(n,s.length),n=a,r.w=s.length}return zwe(n,e.level==null?6:e.level,e.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,i,r)},wX=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},Wwe=function(n,e){var t=e.level,i=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=i<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var r=bX();r.p(e.dictionary),wX(n,2,r.d())}};function TI(n,e){e||(e={});var t=bX();t.p(n);var i=jwe(n,e,e.dictionary?6:2,4);return Wwe(i,e),wX(i,i.length-4,t.d()),i}var $we=typeof TextDecoder<"u"&&new TextDecoder,qwe=0;try{$we.decode(vX,{stream:!0}),qwe=1}catch{}function Hwe(n){if(Array.isArray(n))return n}function Vwe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,a,o=[],c=!0,d=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;c=!1}else for(;!(c=(i=s.call(t)).done)&&(o.push(i.value),o.length!==e);c=!0);}catch(u){d=!0,r=u}finally{try{if(!c&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(d)throw r}}return o}}function BM(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function Gwe(n,e){if(n){if(typeof n=="string")return BM(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?BM(n,e):void 0}}function Xwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zM(n,e){return Hwe(n)||Vwe(n,e)||Gwe(n,e)||Xwe()}function jM(n,e="utf8"){return new TextDecoder(e).decode(n)}const Ywe=new TextEncoder;function Kwe(n){return Ywe.encode(n)}const Jwe=1024*8,Zwe=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),j6={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class sO{constructor(e=Jwe,t={}){wt(this,"buffer");wt(this,"byteLength");wt(this,"byteOffset");wt(this,"length");wt(this,"offset");wt(this,"lastWrittenByte");wt(this,"littleEndian");wt(this,"_data");wt(this,"_mark");wt(this,"_marks");let i=!1;typeof e=="number"?e=new ArrayBuffer(e):(i=!0,this.lastWrittenByte=e.byteLength);const r=t.offset?t.offset>>>0:0,s=e.byteLength-r;let a=r;(ArrayBuffer.isView(e)||e instanceof sO)&&(e.byteLength!==e.buffer.byteLength&&(a=e.byteOffset+r),e=e.buffer),i?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const i=(this.offset+e)*2,r=new Uint8Array(i);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const i=j6[t].BYTES_PER_ELEMENT*e,r=this.byteOffset+this.offset,s=this.buffer.slice(r,r+i);if(this.littleEndian===Zwe&&t!=="uint8"&&t!=="int8"){const o=new Uint8Array(this.buffer.slice(r,r+i));o.reverse();const c=new j6[t](o.buffer);return this.offset+=i,c.reverse(),c}const a=new j6[t](s);return this.offset+=i,a}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let i=0;i<e;i++)t+=this.readChar();return t}readUtf8(e=1){return jM(this.readBytes(e))}decodeText(e=1,t="utf8"){return jM(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(Kwe(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Qwe=4,WM=0,$M=1,exe=2;function i2(n){let e=n.length;for(;--e>=0;)n[e]=0}const txe=0,xX=1,nxe=2,ixe=3,rxe=258,aO=29,jS=256,_x=jS+1+aO,my=30,oO=19,_X=2*_x+1,Gm=15,W6=16,sxe=7,lO=256,SX=16,NX=17,AX=18,CI=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),wk=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),axe=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),kX=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),oxe=512,Yu=new Array((_x+2)*2);i2(Yu);const Mw=new Array(my*2);i2(Mw);const Sx=new Array(oxe);i2(Sx);const Nx=new Array(rxe-ixe+1);i2(Nx);const cO=new Array(aO);i2(cO);const $3=new Array(my);i2($3);function $6(n,e,t,i,r){this.static_tree=n,this.extra_bits=e,this.extra_base=t,this.elems=i,this.max_length=r,this.has_stree=n&&n.length}let EX,TX,CX;function q6(n,e){this.dyn_tree=n,this.max_code=0,this.stat_desc=e}const DX=n=>n<256?Sx[n]:Sx[256+(n>>>7)],Ax=(n,e)=>{n.pending_buf[n.pending++]=e&255,n.pending_buf[n.pending++]=e>>>8&255},vo=(n,e,t)=>{n.bi_valid>W6-t?(n.bi_buf|=e<<n.bi_valid&65535,Ax(n,n.bi_buf),n.bi_buf=e>>W6-n.bi_valid,n.bi_valid+=t-W6):(n.bi_buf|=e<<n.bi_valid&65535,n.bi_valid+=t)},cu=(n,e,t)=>{vo(n,t[e*2],t[e*2+1])},PX=(n,e)=>{let t=0;do t|=n&1,n>>>=1,t<<=1;while(--e>0);return t>>>1},lxe=n=>{n.bi_valid===16?(Ax(n,n.bi_buf),n.bi_buf=0,n.bi_valid=0):n.bi_valid>=8&&(n.pending_buf[n.pending++]=n.bi_buf&255,n.bi_buf>>=8,n.bi_valid-=8)},cxe=(n,e)=>{const t=e.dyn_tree,i=e.max_code,r=e.stat_desc.static_tree,s=e.stat_desc.has_stree,a=e.stat_desc.extra_bits,o=e.stat_desc.extra_base,c=e.stat_desc.max_length;let d,u,f,h,p,v,w=0;for(h=0;h<=Gm;h++)n.bl_count[h]=0;for(t[n.heap[n.heap_max]*2+1]=0,d=n.heap_max+1;d<_X;d++)u=n.heap[d],h=t[t[u*2+1]*2+1]+1,h>c&&(h=c,w++),t[u*2+1]=h,!(u>i)&&(n.bl_count[h]++,p=0,u>=o&&(p=a[u-o]),v=t[u*2],n.opt_len+=v*(h+p),s&&(n.static_len+=v*(r[u*2+1]+p)));if(w!==0){do{for(h=c-1;n.bl_count[h]===0;)h--;n.bl_count[h]--,n.bl_count[h+1]+=2,n.bl_count[c]--,w-=2}while(w>0);for(h=c;h!==0;h--)for(u=n.bl_count[h];u!==0;)f=n.heap[--d],!(f>i)&&(t[f*2+1]!==h&&(n.opt_len+=(h-t[f*2+1])*t[f*2],t[f*2+1]=h),u--)}},IX=(n,e,t)=>{const i=new Array(Gm+1);let r=0,s,a;for(s=1;s<=Gm;s++)r=r+t[s-1]<<1,i[s]=r;for(a=0;a<=e;a++){let o=n[a*2+1];o!==0&&(n[a*2]=PX(i[o]++,o))}},dxe=()=>{let n,e,t,i,r;const s=new Array(Gm+1);for(t=0,i=0;i<aO-1;i++)for(cO[i]=t,n=0;n<1<<CI[i];n++)Nx[t++]=i;for(Nx[t-1]=i,r=0,i=0;i<16;i++)for($3[i]=r,n=0;n<1<<wk[i];n++)Sx[r++]=i;for(r>>=7;i<my;i++)for($3[i]=r<<7,n=0;n<1<<wk[i]-7;n++)Sx[256+r++]=i;for(e=0;e<=Gm;e++)s[e]=0;for(n=0;n<=143;)Yu[n*2+1]=8,n++,s[8]++;for(;n<=255;)Yu[n*2+1]=9,n++,s[9]++;for(;n<=279;)Yu[n*2+1]=7,n++,s[7]++;for(;n<=287;)Yu[n*2+1]=8,n++,s[8]++;for(IX(Yu,_x+1,s),n=0;n<my;n++)Mw[n*2+1]=5,Mw[n*2]=PX(n,5);EX=new $6(Yu,CI,jS+1,_x,Gm),TX=new $6(Mw,wk,0,my,Gm),CX=new $6(new Array(0),axe,0,oO,sxe)},RX=n=>{let e;for(e=0;e<_x;e++)n.dyn_ltree[e*2]=0;for(e=0;e<my;e++)n.dyn_dtree[e*2]=0;for(e=0;e<oO;e++)n.bl_tree[e*2]=0;n.dyn_ltree[lO*2]=1,n.opt_len=n.static_len=0,n.sym_next=n.matches=0},LX=n=>{n.bi_valid>8?Ax(n,n.bi_buf):n.bi_valid>0&&(n.pending_buf[n.pending++]=n.bi_buf),n.bi_buf=0,n.bi_valid=0},qM=(n,e,t,i)=>{const r=e*2,s=t*2;return n[r]<n[s]||n[r]===n[s]&&i[e]<=i[t]},H6=(n,e,t)=>{const i=n.heap[t];let r=t<<1;for(;r<=n.heap_len&&(r<n.heap_len&&qM(e,n.heap[r+1],n.heap[r],n.depth)&&r++,!qM(e,i,n.heap[r],n.depth));)n.heap[t]=n.heap[r],t=r,r<<=1;n.heap[t]=i},HM=(n,e,t)=>{let i,r,s=0,a,o;if(n.sym_next!==0)do i=n.pending_buf[n.sym_buf+s++]&255,i+=(n.pending_buf[n.sym_buf+s++]&255)<<8,r=n.pending_buf[n.sym_buf+s++],i===0?cu(n,r,e):(a=Nx[r],cu(n,a+jS+1,e),o=CI[a],o!==0&&(r-=cO[a],vo(n,r,o)),i--,a=DX(i),cu(n,a,t),o=wk[a],o!==0&&(i-=$3[a],vo(n,i,o)));while(s<n.sym_next);cu(n,lO,e)},DI=(n,e)=>{const t=e.dyn_tree,i=e.stat_desc.static_tree,r=e.stat_desc.has_stree,s=e.stat_desc.elems;let a,o,c=-1,d;for(n.heap_len=0,n.heap_max=_X,a=0;a<s;a++)t[a*2]!==0?(n.heap[++n.heap_len]=c=a,n.depth[a]=0):t[a*2+1]=0;for(;n.heap_len<2;)d=n.heap[++n.heap_len]=c<2?++c:0,t[d*2]=1,n.depth[d]=0,n.opt_len--,r&&(n.static_len-=i[d*2+1]);for(e.max_code=c,a=n.heap_len>>1;a>=1;a--)H6(n,t,a);d=s;do a=n.heap[1],n.heap[1]=n.heap[n.heap_len--],H6(n,t,1),o=n.heap[1],n.heap[--n.heap_max]=a,n.heap[--n.heap_max]=o,t[d*2]=t[a*2]+t[o*2],n.depth[d]=(n.depth[a]>=n.depth[o]?n.depth[a]:n.depth[o])+1,t[a*2+1]=t[o*2+1]=d,n.heap[1]=d++,H6(n,t,1);while(n.heap_len>=2);n.heap[--n.heap_max]=n.heap[1],cxe(n,e),IX(t,c,n.bl_count)},VM=(n,e,t)=>{let i,r=-1,s,a=e[0*2+1],o=0,c=7,d=4;for(a===0&&(c=138,d=3),e[(t+1)*2+1]=65535,i=0;i<=t;i++)s=a,a=e[(i+1)*2+1],!(++o<c&&s===a)&&(o<d?n.bl_tree[s*2]+=o:s!==0?(s!==r&&n.bl_tree[s*2]++,n.bl_tree[SX*2]++):o<=10?n.bl_tree[NX*2]++:n.bl_tree[AX*2]++,o=0,r=s,a===0?(c=138,d=3):s===a?(c=6,d=3):(c=7,d=4))},GM=(n,e,t)=>{let i,r=-1,s,a=e[0*2+1],o=0,c=7,d=4;for(a===0&&(c=138,d=3),i=0;i<=t;i++)if(s=a,a=e[(i+1)*2+1],!(++o<c&&s===a)){if(o<d)do cu(n,s,n.bl_tree);while(--o!==0);else s!==0?(s!==r&&(cu(n,s,n.bl_tree),o--),cu(n,SX,n.bl_tree),vo(n,o-3,2)):o<=10?(cu(n,NX,n.bl_tree),vo(n,o-3,3)):(cu(n,AX,n.bl_tree),vo(n,o-11,7));o=0,r=s,a===0?(c=138,d=3):s===a?(c=6,d=3):(c=7,d=4)}},uxe=n=>{let e;for(VM(n,n.dyn_ltree,n.l_desc.max_code),VM(n,n.dyn_dtree,n.d_desc.max_code),DI(n,n.bl_desc),e=oO-1;e>=3&&n.bl_tree[kX[e]*2+1]===0;e--);return n.opt_len+=3*(e+1)+5+5+4,e},hxe=(n,e,t,i)=>{let r;for(vo(n,e-257,5),vo(n,t-1,5),vo(n,i-4,4),r=0;r<i;r++)vo(n,n.bl_tree[kX[r]*2+1],3);GM(n,n.dyn_ltree,e-1),GM(n,n.dyn_dtree,t-1)},fxe=n=>{let e=4093624447,t;for(t=0;t<=31;t++,e>>>=1)if(e&1&&n.dyn_ltree[t*2]!==0)return WM;if(n.dyn_ltree[9*2]!==0||n.dyn_ltree[10*2]!==0||n.dyn_ltree[13*2]!==0)return $M;for(t=32;t<jS;t++)if(n.dyn_ltree[t*2]!==0)return $M;return WM};let XM=!1;const pxe=n=>{XM||(dxe(),XM=!0),n.l_desc=new q6(n.dyn_ltree,EX),n.d_desc=new q6(n.dyn_dtree,TX),n.bl_desc=new q6(n.bl_tree,CX),n.bi_buf=0,n.bi_valid=0,RX(n)},OX=(n,e,t,i)=>{vo(n,(txe<<1)+(i?1:0),3),LX(n),Ax(n,t),Ax(n,~t),t&&n.pending_buf.set(n.window.subarray(e,e+t),n.pending),n.pending+=t},mxe=n=>{vo(n,xX<<1,3),cu(n,lO,Yu),lxe(n)},gxe=(n,e,t,i)=>{let r,s,a=0;n.level>0?(n.strm.data_type===exe&&(n.strm.data_type=fxe(n)),DI(n,n.l_desc),DI(n,n.d_desc),a=uxe(n),r=n.opt_len+3+7>>>3,s=n.static_len+3+7>>>3,s<=r&&(r=s)):r=s=t+5,t+4<=r&&e!==-1?OX(n,e,t,i):n.strategy===Qwe||s===r?(vo(n,(xX<<1)+(i?1:0),3),HM(n,Yu,Mw)):(vo(n,(nxe<<1)+(i?1:0),3),hxe(n,n.l_desc.max_code+1,n.d_desc.max_code+1,a+1),HM(n,n.dyn_ltree,n.dyn_dtree)),RX(n),i&&LX(n)},yxe=(n,e,t)=>(n.pending_buf[n.sym_buf+n.sym_next++]=e,n.pending_buf[n.sym_buf+n.sym_next++]=e>>8,n.pending_buf[n.sym_buf+n.sym_next++]=t,e===0?n.dyn_ltree[t*2]++:(n.matches++,e--,n.dyn_ltree[(Nx[t]+jS+1)*2]++,n.dyn_dtree[DX(e)*2]++),n.sym_next===n.sym_end);var vxe=pxe,bxe=OX,wxe=gxe,xxe=yxe,_xe=mxe,Sxe={_tr_init:vxe,_tr_stored_block:bxe,_tr_flush_block:wxe,_tr_tally:xxe,_tr_align:_xe};const Nxe=(n,e,t,i)=>{let r=n&65535|0,s=n>>>16&65535|0,a=0;for(;t!==0;){a=t>2e3?2e3:t,t-=a;do r=r+e[i++]|0,s=s+r|0;while(--a);r%=65521,s%=65521}return r|s<<16|0};var kx=Nxe;const Axe=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var i=0;i<8;i++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},kxe=new Uint32Array(Axe()),Exe=(n,e,t,i)=>{const r=kxe,s=i+t;n^=-1;for(let a=i;a<s;a++)n=n>>>8^r[(n^e[a])&255];return n^-1};var Ts=Exe,Fb={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},WS={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Txe,_tr_stored_block:PI,_tr_flush_block:Cxe,_tr_tally:Zp,_tr_align:Dxe}=Sxe,{Z_NO_FLUSH:Qp,Z_PARTIAL_FLUSH:Pxe,Z_FULL_FLUSH:Ixe,Z_FINISH:Yl,Z_BLOCK:YM,Z_OK:Zs,Z_STREAM_END:KM,Z_STREAM_ERROR:yu,Z_DATA_ERROR:Rxe,Z_BUF_ERROR:V6,Z_DEFAULT_COMPRESSION:Lxe,Z_FILTERED:Oxe,Z_HUFFMAN_ONLY:YN,Z_RLE:Fxe,Z_FIXED:Uxe,Z_DEFAULT_STRATEGY:Mxe,Z_UNKNOWN:Bxe,Z_DEFLATED:oC}=WS,zxe=9,jxe=15,Wxe=8,$xe=29,qxe=256,II=qxe+1+$xe,Hxe=30,Vxe=19,Gxe=2*II+1,Xxe=15,Pn=3,Mp=258,vu=Mp+Pn+1,Yxe=32,Ub=42,dO=57,RI=69,LI=73,OI=91,FI=103,Xm=113,bw=666,Wa=1,r2=2,Q1=3,s2=4,Kxe=3,Ym=(n,e)=>(n.msg=Fb[e],e),JM=n=>n*2-(n>4?9:0),Mf=n=>{let e=n.length;for(;--e>=0;)n[e]=0},Jxe=n=>{let e,t,i,r=n.w_size;e=n.hash_size,i=e;do t=n.head[--i],n.head[i]=t>=r?t-r:0;while(--e);e=r,i=e;do t=n.prev[--i],n.prev[i]=t>=r?t-r:0;while(--e)};let Zxe=(n,e,t)=>(e<<n.hash_shift^t)&n.hash_mask,em=Zxe;const zo=n=>{const e=n.state;let t=e.pending;t>n.avail_out&&(t=n.avail_out),t!==0&&(n.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+t),n.next_out),n.next_out+=t,e.pending_out+=t,n.total_out+=t,n.avail_out-=t,e.pending-=t,e.pending===0&&(e.pending_out=0))},fl=(n,e)=>{Cxe(n,n.block_start>=0?n.block_start:-1,n.strstart-n.block_start,e),n.block_start=n.strstart,zo(n.strm)},Hn=(n,e)=>{n.pending_buf[n.pending++]=e},z2=(n,e)=>{n.pending_buf[n.pending++]=e>>>8&255,n.pending_buf[n.pending++]=e&255},UI=(n,e,t,i)=>{let r=n.avail_in;return r>i&&(r=i),r===0?0:(n.avail_in-=r,e.set(n.input.subarray(n.next_in,n.next_in+r),t),n.state.wrap===1?n.adler=kx(n.adler,e,r,t):n.state.wrap===2&&(n.adler=Ts(n.adler,e,r,t)),n.next_in+=r,n.total_in+=r,r)},FX=(n,e)=>{let t=n.max_chain_length,i=n.strstart,r,s,a=n.prev_length,o=n.nice_match;const c=n.strstart>n.w_size-vu?n.strstart-(n.w_size-vu):0,d=n.window,u=n.w_mask,f=n.prev,h=n.strstart+Mp;let p=d[i+a-1],v=d[i+a];n.prev_length>=n.good_match&&(t>>=2),o>n.lookahead&&(o=n.lookahead);do if(r=e,!(d[r+a]!==v||d[r+a-1]!==p||d[r]!==d[i]||d[++r]!==d[i+1])){i+=2,r++;do;while(d[++i]===d[++r]&&d[++i]===d[++r]&&d[++i]===d[++r]&&d[++i]===d[++r]&&d[++i]===d[++r]&&d[++i]===d[++r]&&d[++i]===d[++r]&&d[++i]===d[++r]&&i<h);if(s=Mp-(h-i),i=h-Mp,s>a){if(n.match_start=e,a=s,s>=o)break;p=d[i+a-1],v=d[i+a]}}while((e=f[e&u])>c&&--t!==0);return a<=n.lookahead?a:n.lookahead},Mb=n=>{const e=n.w_size;let t,i,r;do{if(i=n.window_size-n.lookahead-n.strstart,n.strstart>=e+(e-vu)&&(n.window.set(n.window.subarray(e,e+e-i),0),n.match_start-=e,n.strstart-=e,n.block_start-=e,n.insert>n.strstart&&(n.insert=n.strstart),Jxe(n),i+=e),n.strm.avail_in===0)break;if(t=UI(n.strm,n.window,n.strstart+n.lookahead,i),n.lookahead+=t,n.lookahead+n.insert>=Pn)for(r=n.strstart-n.insert,n.ins_h=n.window[r],n.ins_h=em(n,n.ins_h,n.window[r+1]);n.insert&&(n.ins_h=em(n,n.ins_h,n.window[r+Pn-1]),n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,n.insert--,!(n.lookahead+n.insert<Pn)););}while(n.lookahead<vu&&n.strm.avail_in!==0)},UX=(n,e)=>{let t=n.pending_buf_size-5>n.w_size?n.w_size:n.pending_buf_size-5,i,r,s,a=0,o=n.strm.avail_in;do{if(i=65535,s=n.bi_valid+42>>3,n.strm.avail_out<s||(s=n.strm.avail_out-s,r=n.strstart-n.block_start,i>r+n.strm.avail_in&&(i=r+n.strm.avail_in),i>s&&(i=s),i<t&&(i===0&&e!==Yl||e===Qp||i!==r+n.strm.avail_in)))break;a=e===Yl&&i===r+n.strm.avail_in?1:0,PI(n,0,0,a),n.pending_buf[n.pending-4]=i,n.pending_buf[n.pending-3]=i>>8,n.pending_buf[n.pending-2]=~i,n.pending_buf[n.pending-1]=~i>>8,zo(n.strm),r&&(r>i&&(r=i),n.strm.output.set(n.window.subarray(n.block_start,n.block_start+r),n.strm.next_out),n.strm.next_out+=r,n.strm.avail_out-=r,n.strm.total_out+=r,n.block_start+=r,i-=r),i&&(UI(n.strm,n.strm.output,n.strm.next_out,i),n.strm.next_out+=i,n.strm.avail_out-=i,n.strm.total_out+=i)}while(a===0);return o-=n.strm.avail_in,o&&(o>=n.w_size?(n.matches=2,n.window.set(n.strm.input.subarray(n.strm.next_in-n.w_size,n.strm.next_in),0),n.strstart=n.w_size,n.insert=n.strstart):(n.window_size-n.strstart<=o&&(n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,n.insert>n.strstart&&(n.insert=n.strstart)),n.window.set(n.strm.input.subarray(n.strm.next_in-o,n.strm.next_in),n.strstart),n.strstart+=o,n.insert+=o>n.w_size-n.insert?n.w_size-n.insert:o),n.block_start=n.strstart),n.high_water<n.strstart&&(n.high_water=n.strstart),a?s2:e!==Qp&&e!==Yl&&n.strm.avail_in===0&&n.strstart===n.block_start?r2:(s=n.window_size-n.strstart,n.strm.avail_in>s&&n.block_start>=n.w_size&&(n.block_start-=n.w_size,n.strstart-=n.w_size,n.window.set(n.window.subarray(n.w_size,n.w_size+n.strstart),0),n.matches<2&&n.matches++,s+=n.w_size,n.insert>n.strstart&&(n.insert=n.strstart)),s>n.strm.avail_in&&(s=n.strm.avail_in),s&&(UI(n.strm,n.window,n.strstart,s),n.strstart+=s,n.insert+=s>n.w_size-n.insert?n.w_size-n.insert:s),n.high_water<n.strstart&&(n.high_water=n.strstart),s=n.bi_valid+42>>3,s=n.pending_buf_size-s>65535?65535:n.pending_buf_size-s,t=s>n.w_size?n.w_size:s,r=n.strstart-n.block_start,(r>=t||(r||e===Yl)&&e!==Qp&&n.strm.avail_in===0&&r<=s)&&(i=r>s?s:r,a=e===Yl&&n.strm.avail_in===0&&i===r?1:0,PI(n,n.block_start,i,a),n.block_start+=i,zo(n.strm)),a?Q1:Wa)},G6=(n,e)=>{let t,i;for(;;){if(n.lookahead<vu){if(Mb(n),n.lookahead<vu&&e===Qp)return Wa;if(n.lookahead===0)break}if(t=0,n.lookahead>=Pn&&(n.ins_h=em(n,n.ins_h,n.window[n.strstart+Pn-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),t!==0&&n.strstart-t<=n.w_size-vu&&(n.match_length=FX(n,t)),n.match_length>=Pn)if(i=Zp(n,n.strstart-n.match_start,n.match_length-Pn),n.lookahead-=n.match_length,n.match_length<=n.max_lazy_match&&n.lookahead>=Pn){n.match_length--;do n.strstart++,n.ins_h=em(n,n.ins_h,n.window[n.strstart+Pn-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart;while(--n.match_length!==0);n.strstart++}else n.strstart+=n.match_length,n.match_length=0,n.ins_h=n.window[n.strstart],n.ins_h=em(n,n.ins_h,n.window[n.strstart+1]);else i=Zp(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++;if(i&&(fl(n,!1),n.strm.avail_out===0))return Wa}return n.insert=n.strstart<Pn-1?n.strstart:Pn-1,e===Yl?(fl(n,!0),n.strm.avail_out===0?Q1:s2):n.sym_next&&(fl(n,!1),n.strm.avail_out===0)?Wa:r2},b0=(n,e)=>{let t,i,r;for(;;){if(n.lookahead<vu){if(Mb(n),n.lookahead<vu&&e===Qp)return Wa;if(n.lookahead===0)break}if(t=0,n.lookahead>=Pn&&(n.ins_h=em(n,n.ins_h,n.window[n.strstart+Pn-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart),n.prev_length=n.match_length,n.prev_match=n.match_start,n.match_length=Pn-1,t!==0&&n.prev_length<n.max_lazy_match&&n.strstart-t<=n.w_size-vu&&(n.match_length=FX(n,t),n.match_length<=5&&(n.strategy===Oxe||n.match_length===Pn&&n.strstart-n.match_start>4096)&&(n.match_length=Pn-1)),n.prev_length>=Pn&&n.match_length<=n.prev_length){r=n.strstart+n.lookahead-Pn,i=Zp(n,n.strstart-1-n.prev_match,n.prev_length-Pn),n.lookahead-=n.prev_length-1,n.prev_length-=2;do++n.strstart<=r&&(n.ins_h=em(n,n.ins_h,n.window[n.strstart+Pn-1]),t=n.prev[n.strstart&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=n.strstart);while(--n.prev_length!==0);if(n.match_available=0,n.match_length=Pn-1,n.strstart++,i&&(fl(n,!1),n.strm.avail_out===0))return Wa}else if(n.match_available){if(i=Zp(n,0,n.window[n.strstart-1]),i&&fl(n,!1),n.strstart++,n.lookahead--,n.strm.avail_out===0)return Wa}else n.match_available=1,n.strstart++,n.lookahead--}return n.match_available&&(i=Zp(n,0,n.window[n.strstart-1]),n.match_available=0),n.insert=n.strstart<Pn-1?n.strstart:Pn-1,e===Yl?(fl(n,!0),n.strm.avail_out===0?Q1:s2):n.sym_next&&(fl(n,!1),n.strm.avail_out===0)?Wa:r2},Qxe=(n,e)=>{let t,i,r,s;const a=n.window;for(;;){if(n.lookahead<=Mp){if(Mb(n),n.lookahead<=Mp&&e===Qp)return Wa;if(n.lookahead===0)break}if(n.match_length=0,n.lookahead>=Pn&&n.strstart>0&&(r=n.strstart-1,i=a[r],i===a[++r]&&i===a[++r]&&i===a[++r])){s=n.strstart+Mp;do;while(i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&i===a[++r]&&r<s);n.match_length=Mp-(s-r),n.match_length>n.lookahead&&(n.match_length=n.lookahead)}if(n.match_length>=Pn?(t=Zp(n,1,n.match_length-Pn),n.lookahead-=n.match_length,n.strstart+=n.match_length,n.match_length=0):(t=Zp(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++),t&&(fl(n,!1),n.strm.avail_out===0))return Wa}return n.insert=0,e===Yl?(fl(n,!0),n.strm.avail_out===0?Q1:s2):n.sym_next&&(fl(n,!1),n.strm.avail_out===0)?Wa:r2},e5e=(n,e)=>{let t;for(;;){if(n.lookahead===0&&(Mb(n),n.lookahead===0)){if(e===Qp)return Wa;break}if(n.match_length=0,t=Zp(n,0,n.window[n.strstart]),n.lookahead--,n.strstart++,t&&(fl(n,!1),n.strm.avail_out===0))return Wa}return n.insert=0,e===Yl?(fl(n,!0),n.strm.avail_out===0?Q1:s2):n.sym_next&&(fl(n,!1),n.strm.avail_out===0)?Wa:r2};function Dd(n,e,t,i,r){this.good_length=n,this.max_lazy=e,this.nice_length=t,this.max_chain=i,this.func=r}const ww=[new Dd(0,0,0,0,UX),new Dd(4,4,8,4,G6),new Dd(4,5,16,8,G6),new Dd(4,6,32,32,G6),new Dd(4,4,16,16,b0),new Dd(8,16,32,32,b0),new Dd(8,16,128,128,b0),new Dd(8,32,128,256,b0),new Dd(32,128,258,1024,b0),new Dd(32,258,258,4096,b0)],t5e=n=>{n.window_size=2*n.w_size,Mf(n.head),n.max_lazy_match=ww[n.level].max_lazy,n.good_match=ww[n.level].good_length,n.nice_match=ww[n.level].nice_length,n.max_chain_length=ww[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=Pn-1,n.match_available=0,n.ins_h=0};function n5e(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=oC,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Gxe*2),this.dyn_dtree=new Uint16Array((2*Hxe+1)*2),this.bl_tree=new Uint16Array((2*Vxe+1)*2),Mf(this.dyn_ltree),Mf(this.dyn_dtree),Mf(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Xxe+1),this.heap=new Uint16Array(2*II+1),Mf(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*II+1),Mf(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const $S=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.status!==Ub&&e.status!==dO&&e.status!==RI&&e.status!==LI&&e.status!==OI&&e.status!==FI&&e.status!==Xm&&e.status!==bw?1:0},MX=n=>{if($S(n))return Ym(n,yu);n.total_in=n.total_out=0,n.data_type=Bxe;const e=n.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?dO:e.wrap?Ub:Xm,n.adler=e.wrap===2?0:1,e.last_flush=-2,Txe(e),Zs},BX=n=>{const e=MX(n);return e===Zs&&t5e(n.state),e},i5e=(n,e)=>$S(n)||n.state.wrap!==2?yu:(n.state.gzhead=e,Zs),zX=(n,e,t,i,r,s)=>{if(!n)return yu;let a=1;if(e===Lxe&&(e=6),i<0?(a=0,i=-i):i>15&&(a=2,i-=16),r<1||r>zxe||t!==oC||i<8||i>15||e<0||e>9||s<0||s>Uxe||i===8&&a!==1)return Ym(n,yu);i===8&&(i=9);const o=new n5e;return n.state=o,o.strm=n,o.status=Ub,o.wrap=a,o.gzhead=null,o.w_bits=i,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=r+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+Pn-1)/Pn),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<r+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=e,o.strategy=s,o.method=t,BX(n)},r5e=(n,e)=>zX(n,e,oC,jxe,Wxe,Mxe),s5e=(n,e)=>{if($S(n)||e>YM||e<0)return n?Ym(n,yu):yu;const t=n.state;if(!n.output||n.avail_in!==0&&!n.input||t.status===bw&&e!==Yl)return Ym(n,n.avail_out===0?V6:yu);const i=t.last_flush;if(t.last_flush=e,t.pending!==0){if(zo(n),n.avail_out===0)return t.last_flush=-1,Zs}else if(n.avail_in===0&&JM(e)<=JM(i)&&e!==Yl)return Ym(n,V6);if(t.status===bw&&n.avail_in!==0)return Ym(n,V6);if(t.status===Ub&&t.wrap===0&&(t.status=Xm),t.status===Ub){let r=oC+(t.w_bits-8<<4)<<8,s=-1;if(t.strategy>=YN||t.level<2?s=0:t.level<6?s=1:t.level===6?s=2:s=3,r|=s<<6,t.strstart!==0&&(r|=Yxe),r+=31-r%31,z2(t,r),t.strstart!==0&&(z2(t,n.adler>>>16),z2(t,n.adler&65535)),n.adler=1,t.status=Xm,zo(n),t.pending!==0)return t.last_flush=-1,Zs}if(t.status===dO){if(n.adler=0,Hn(t,31),Hn(t,139),Hn(t,8),t.gzhead)Hn(t,(t.gzhead.text?1:0)+(t.gzhead.hcrc?2:0)+(t.gzhead.extra?4:0)+(t.gzhead.name?8:0)+(t.gzhead.comment?16:0)),Hn(t,t.gzhead.time&255),Hn(t,t.gzhead.time>>8&255),Hn(t,t.gzhead.time>>16&255),Hn(t,t.gzhead.time>>24&255),Hn(t,t.level===9?2:t.strategy>=YN||t.level<2?4:0),Hn(t,t.gzhead.os&255),t.gzhead.extra&&t.gzhead.extra.length&&(Hn(t,t.gzhead.extra.length&255),Hn(t,t.gzhead.extra.length>>8&255)),t.gzhead.hcrc&&(n.adler=Ts(n.adler,t.pending_buf,t.pending,0)),t.gzindex=0,t.status=RI;else if(Hn(t,0),Hn(t,0),Hn(t,0),Hn(t,0),Hn(t,0),Hn(t,t.level===9?2:t.strategy>=YN||t.level<2?4:0),Hn(t,Kxe),t.status=Xm,zo(n),t.pending!==0)return t.last_flush=-1,Zs}if(t.status===RI){if(t.gzhead.extra){let r=t.pending,s=(t.gzhead.extra.length&65535)-t.gzindex;for(;t.pending+s>t.pending_buf_size;){let o=t.pending_buf_size-t.pending;if(t.pending_buf.set(t.gzhead.extra.subarray(t.gzindex,t.gzindex+o),t.pending),t.pending=t.pending_buf_size,t.gzhead.hcrc&&t.pending>r&&(n.adler=Ts(n.adler,t.pending_buf,t.pending-r,r)),t.gzindex+=o,zo(n),t.pending!==0)return t.last_flush=-1,Zs;r=0,s-=o}let a=new Uint8Array(t.gzhead.extra);t.pending_buf.set(a.subarray(t.gzindex,t.gzindex+s),t.pending),t.pending+=s,t.gzhead.hcrc&&t.pending>r&&(n.adler=Ts(n.adler,t.pending_buf,t.pending-r,r)),t.gzindex=0}t.status=LI}if(t.status===LI){if(t.gzhead.name){let r=t.pending,s;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>r&&(n.adler=Ts(n.adler,t.pending_buf,t.pending-r,r)),zo(n),t.pending!==0)return t.last_flush=-1,Zs;r=0}t.gzindex<t.gzhead.name.length?s=t.gzhead.name.charCodeAt(t.gzindex++)&255:s=0,Hn(t,s)}while(s!==0);t.gzhead.hcrc&&t.pending>r&&(n.adler=Ts(n.adler,t.pending_buf,t.pending-r,r)),t.gzindex=0}t.status=OI}if(t.status===OI){if(t.gzhead.comment){let r=t.pending,s;do{if(t.pending===t.pending_buf_size){if(t.gzhead.hcrc&&t.pending>r&&(n.adler=Ts(n.adler,t.pending_buf,t.pending-r,r)),zo(n),t.pending!==0)return t.last_flush=-1,Zs;r=0}t.gzindex<t.gzhead.comment.length?s=t.gzhead.comment.charCodeAt(t.gzindex++)&255:s=0,Hn(t,s)}while(s!==0);t.gzhead.hcrc&&t.pending>r&&(n.adler=Ts(n.adler,t.pending_buf,t.pending-r,r))}t.status=FI}if(t.status===FI){if(t.gzhead.hcrc){if(t.pending+2>t.pending_buf_size&&(zo(n),t.pending!==0))return t.last_flush=-1,Zs;Hn(t,n.adler&255),Hn(t,n.adler>>8&255),n.adler=0}if(t.status=Xm,zo(n),t.pending!==0)return t.last_flush=-1,Zs}if(n.avail_in!==0||t.lookahead!==0||e!==Qp&&t.status!==bw){let r=t.level===0?UX(t,e):t.strategy===YN?e5e(t,e):t.strategy===Fxe?Qxe(t,e):ww[t.level].func(t,e);if((r===Q1||r===s2)&&(t.status=bw),r===Wa||r===Q1)return n.avail_out===0&&(t.last_flush=-1),Zs;if(r===r2&&(e===Pxe?Dxe(t):e!==YM&&(PI(t,0,0,!1),e===Ixe&&(Mf(t.head),t.lookahead===0&&(t.strstart=0,t.block_start=0,t.insert=0))),zo(n),n.avail_out===0))return t.last_flush=-1,Zs}return e!==Yl?Zs:t.wrap<=0?KM:(t.wrap===2?(Hn(t,n.adler&255),Hn(t,n.adler>>8&255),Hn(t,n.adler>>16&255),Hn(t,n.adler>>24&255),Hn(t,n.total_in&255),Hn(t,n.total_in>>8&255),Hn(t,n.total_in>>16&255),Hn(t,n.total_in>>24&255)):(z2(t,n.adler>>>16),z2(t,n.adler&65535)),zo(n),t.wrap>0&&(t.wrap=-t.wrap),t.pending!==0?Zs:KM)},a5e=n=>{if($S(n))return yu;const e=n.state.status;return n.state=null,e===Xm?Ym(n,Rxe):Zs},o5e=(n,e)=>{let t=e.length;if($S(n))return yu;const i=n.state,r=i.wrap;if(r===2||r===1&&i.status!==Ub||i.lookahead)return yu;if(r===1&&(n.adler=kx(n.adler,e,t,0)),i.wrap=0,t>=i.w_size){r===0&&(Mf(i.head),i.strstart=0,i.block_start=0,i.insert=0);let c=new Uint8Array(i.w_size);c.set(e.subarray(t-i.w_size,t),0),e=c,t=i.w_size}const s=n.avail_in,a=n.next_in,o=n.input;for(n.avail_in=t,n.next_in=0,n.input=e,Mb(i);i.lookahead>=Pn;){let c=i.strstart,d=i.lookahead-(Pn-1);do i.ins_h=em(i,i.ins_h,i.window[c+Pn-1]),i.prev[c&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=c,c++;while(--d);i.strstart=c,i.lookahead=Pn-1,Mb(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=Pn-1,i.match_available=0,n.next_in=a,n.input=o,n.avail_in=s,i.wrap=r,Zs};var l5e=r5e,c5e=zX,d5e=BX,u5e=MX,h5e=i5e,f5e=s5e,p5e=a5e,m5e=o5e,g5e="pako deflate (from Nodeca project)",Bw={deflateInit:l5e,deflateInit2:c5e,deflateReset:d5e,deflateResetKeep:u5e,deflateSetHeader:h5e,deflate:f5e,deflateEnd:p5e,deflateSetDictionary:m5e,deflateInfo:g5e};const y5e=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var v5e=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const i in t)y5e(t,i)&&(n[i]=t[i])}}return n},b5e=n=>{let e=0;for(let i=0,r=n.length;i<r;i++)e+=n[i].length;const t=new Uint8Array(e);for(let i=0,r=0,s=n.length;i<s;i++){let a=n[i];t.set(a,r),r+=a.length}return t},lC={assign:v5e,flattenChunks:b5e};let jX=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{jX=!1}const Ex=new Uint8Array(256);for(let n=0;n<256;n++)Ex[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;Ex[254]=Ex[254]=1;var w5e=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,i,r,s,a=n.length,o=0;for(r=0;r<a;r++)t=n.charCodeAt(r),(t&64512)===55296&&r+1<a&&(i=n.charCodeAt(r+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),r++)),o+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(o),s=0,r=0;s<o;r++)t=n.charCodeAt(r),(t&64512)===55296&&r+1<a&&(i=n.charCodeAt(r+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),r++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e};const x5e=(n,e)=>{if(e<65534&&n.subarray&&jX)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let i=0;i<e;i++)t+=String.fromCharCode(n[i]);return t};var _5e=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let i,r;const s=new Array(t*2);for(r=0,i=0;i<t;){let a=n[i++];if(a<128){s[r++]=a;continue}let o=Ex[a];if(o>4){s[r++]=65533,i+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&i<t;)a=a<<6|n[i++]&63,o--;if(o>1){s[r++]=65533;continue}a<65536?s[r++]=a:(a-=65536,s[r++]=55296|a>>10&1023,s[r++]=56320|a&1023)}return x5e(s,r)},S5e=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+Ex[n[t]]>e?t:e},Tx={string2buf:w5e,buf2string:_5e,utf8border:S5e};function N5e(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var WX=N5e;const $X=Object.prototype.toString,{Z_NO_FLUSH:A5e,Z_SYNC_FLUSH:k5e,Z_FULL_FLUSH:E5e,Z_FINISH:T5e,Z_OK:q3,Z_STREAM_END:C5e,Z_DEFAULT_COMPRESSION:D5e,Z_DEFAULT_STRATEGY:P5e,Z_DEFLATED:I5e}=WS;function uO(n){this.options=lC.assign({level:D5e,method:I5e,chunkSize:16384,windowBits:15,memLevel:8,strategy:P5e},n||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new WX,this.strm.avail_out=0;let t=Bw.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(t!==q3)throw new Error(Fb[t]);if(e.header&&Bw.deflateSetHeader(this.strm,e.header),e.dictionary){let i;if(typeof e.dictionary=="string"?i=Tx.string2buf(e.dictionary):$X.call(e.dictionary)==="[object ArrayBuffer]"?i=new Uint8Array(e.dictionary):i=e.dictionary,t=Bw.deflateSetDictionary(this.strm,i),t!==q3)throw new Error(Fb[t]);this._dict_set=!0}}uO.prototype.push=function(n,e){const t=this.strm,i=this.options.chunkSize;let r,s;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?T5e:A5e,typeof n=="string"?t.input=Tx.string2buf(n):$X.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){if(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),(s===k5e||s===E5e)&&t.avail_out<=6){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(r=Bw.deflate(t,s),r===C5e)return t.next_out>0&&this.onData(t.output.subarray(0,t.next_out)),r=Bw.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===q3;if(t.avail_out===0){this.onData(t.output);continue}if(s>0&&t.next_out>0){this.onData(t.output.subarray(0,t.next_out)),t.avail_out=0;continue}if(t.avail_in===0)break}return!0};uO.prototype.onData=function(n){this.chunks.push(n)};uO.prototype.onEnd=function(n){n===q3&&(this.result=lC.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};const KN=16209,R5e=16191;var L5e=function(e,t){let i,r,s,a,o,c,d,u,f,h,p,v,w,b,m,y,_,x,N,k,T,C,P,D;const E=e.state;i=e.next_in,P=e.input,r=i+(e.avail_in-5),s=e.next_out,D=e.output,a=s-(t-e.avail_out),o=s+(e.avail_out-257),c=E.dmax,d=E.wsize,u=E.whave,f=E.wnext,h=E.window,p=E.hold,v=E.bits,w=E.lencode,b=E.distcode,m=(1<<E.lenbits)-1,y=(1<<E.distbits)-1;e:do{v<15&&(p+=P[i++]<<v,v+=8,p+=P[i++]<<v,v+=8),_=w[p&m];t:for(;;){if(x=_>>>24,p>>>=x,v-=x,x=_>>>16&255,x===0)D[s++]=_&65535;else if(x&16){N=_&65535,x&=15,x&&(v<x&&(p+=P[i++]<<v,v+=8),N+=p&(1<<x)-1,p>>>=x,v-=x),v<15&&(p+=P[i++]<<v,v+=8,p+=P[i++]<<v,v+=8),_=b[p&y];n:for(;;){if(x=_>>>24,p>>>=x,v-=x,x=_>>>16&255,x&16){if(k=_&65535,x&=15,v<x&&(p+=P[i++]<<v,v+=8,v<x&&(p+=P[i++]<<v,v+=8)),k+=p&(1<<x)-1,k>c){e.msg="invalid distance too far back",E.mode=KN;break e}if(p>>>=x,v-=x,x=s-a,k>x){if(x=k-x,x>u&&E.sane){e.msg="invalid distance too far back",E.mode=KN;break e}if(T=0,C=h,f===0){if(T+=d-x,x<N){N-=x;do D[s++]=h[T++];while(--x);T=s-k,C=D}}else if(f<x){if(T+=d+f-x,x-=f,x<N){N-=x;do D[s++]=h[T++];while(--x);if(T=0,f<N){x=f,N-=x;do D[s++]=h[T++];while(--x);T=s-k,C=D}}}else if(T+=f-x,x<N){N-=x;do D[s++]=h[T++];while(--x);T=s-k,C=D}for(;N>2;)D[s++]=C[T++],D[s++]=C[T++],D[s++]=C[T++],N-=3;N&&(D[s++]=C[T++],N>1&&(D[s++]=C[T++]))}else{T=s-k;do D[s++]=D[T++],D[s++]=D[T++],D[s++]=D[T++],N-=3;while(N>2);N&&(D[s++]=D[T++],N>1&&(D[s++]=D[T++]))}}else if(x&64){e.msg="invalid distance code",E.mode=KN;break e}else{_=b[(_&65535)+(p&(1<<x)-1)];continue n}break}}else if(x&64)if(x&32){E.mode=R5e;break e}else{e.msg="invalid literal/length code",E.mode=KN;break e}else{_=w[(_&65535)+(p&(1<<x)-1)];continue t}break}}while(i<r&&s<o);N=v>>3,i-=N,v-=N<<3,p&=(1<<v)-1,e.next_in=i,e.next_out=s,e.avail_in=i<r?5+(r-i):5-(i-r),e.avail_out=s<o?257+(o-s):257-(s-o),E.hold=p,E.bits=v};const w0=15,ZM=852,QM=592,eB=0,X6=1,tB=2,O5e=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),F5e=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),U5e=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),M5e=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),B5e=(n,e,t,i,r,s,a,o)=>{const c=o.bits;let d=0,u=0,f=0,h=0,p=0,v=0,w=0,b=0,m=0,y=0,_,x,N,k,T,C=null,P;const D=new Uint16Array(w0+1),E=new Uint16Array(w0+1);let A=null,I,R,M;for(d=0;d<=w0;d++)D[d]=0;for(u=0;u<i;u++)D[e[t+u]]++;for(p=c,h=w0;h>=1&&D[h]===0;h--);if(p>h&&(p=h),h===0)return r[s++]=1<<24|64<<16|0,r[s++]=1<<24|64<<16|0,o.bits=1,0;for(f=1;f<h&&D[f]===0;f++);for(p<f&&(p=f),b=1,d=1;d<=w0;d++)if(b<<=1,b-=D[d],b<0)return-1;if(b>0&&(n===eB||h!==1))return-1;for(E[1]=0,d=1;d<w0;d++)E[d+1]=E[d]+D[d];for(u=0;u<i;u++)e[t+u]!==0&&(a[E[e[t+u]]++]=u);if(n===eB?(C=A=a,P=20):n===X6?(C=O5e,A=F5e,P=257):(C=U5e,A=M5e,P=0),y=0,u=0,d=f,T=s,v=p,w=0,N=-1,m=1<<p,k=m-1,n===X6&&m>ZM||n===tB&&m>QM)return 1;for(;;){I=d-w,a[u]+1<P?(R=0,M=a[u]):a[u]>=P?(R=A[a[u]-P],M=C[a[u]-P]):(R=32+64,M=0),_=1<<d-w,x=1<<v,f=x;do x-=_,r[T+(y>>w)+x]=I<<24|R<<16|M|0;while(x!==0);for(_=1<<d-1;y&_;)_>>=1;if(_!==0?(y&=_-1,y+=_):y=0,u++,--D[d]===0){if(d===h)break;d=e[t+a[u]]}if(d>p&&(y&k)!==N){for(w===0&&(w=p),T+=f,v=d-w,b=1<<v;v+w<h&&(b-=D[v+w],!(b<=0));)v++,b<<=1;if(m+=1<<v,n===X6&&m>ZM||n===tB&&m>QM)return 1;N=y&k,r[N]=p<<24|v<<16|T-s|0}}return y!==0&&(r[T+y]=d-w<<24|64<<16|0),o.bits=p,0};var zw=B5e;const z5e=0,qX=1,HX=2,{Z_FINISH:nB,Z_BLOCK:j5e,Z_TREES:JN,Z_OK:e0,Z_STREAM_END:W5e,Z_NEED_DICT:$5e,Z_STREAM_ERROR:rc,Z_DATA_ERROR:VX,Z_MEM_ERROR:GX,Z_BUF_ERROR:q5e,Z_DEFLATED:iB}=WS,cC=16180,rB=16181,sB=16182,aB=16183,oB=16184,lB=16185,cB=16186,dB=16187,uB=16188,hB=16189,H3=16190,zu=16191,Y6=16192,fB=16193,K6=16194,pB=16195,mB=16196,gB=16197,yB=16198,ZN=16199,QN=16200,vB=16201,bB=16202,wB=16203,xB=16204,_B=16205,J6=16206,SB=16207,NB=16208,Gi=16209,XX=16210,YX=16211,H5e=852,V5e=592,G5e=15,X5e=G5e,AB=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function Y5e(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const l0=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<cC||e.mode>YX?1:0},KX=n=>{if(l0(n))return rc;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=cC,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(H5e),e.distcode=e.distdyn=new Int32Array(V5e),e.sane=1,e.back=-1,e0},JX=n=>{if(l0(n))return rc;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,KX(n)},ZX=(n,e)=>{let t;if(l0(n))return rc;const i=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?rc:(i.window!==null&&i.wbits!==e&&(i.window=null),i.wrap=t,i.wbits=e,JX(n))},QX=(n,e)=>{if(!n)return rc;const t=new Y5e;n.state=t,t.strm=n,t.window=null,t.mode=cC;const i=ZX(n,e);return i!==e0&&(n.state=null),i},K5e=n=>QX(n,X5e);let kB=!0,Z6,Q6;const J5e=n=>{if(kB){Z6=new Int32Array(512),Q6=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(zw(qX,n.lens,0,288,Z6,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;zw(HX,n.lens,0,32,Q6,0,n.work,{bits:5}),kB=!1}n.lencode=Z6,n.lenbits=9,n.distcode=Q6,n.distbits=5},eY=(n,e,t,i)=>{let r;const s=n.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),i>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(r=s.wsize-s.wnext,r>i&&(r=i),s.window.set(e.subarray(t-i,t-i+r),s.wnext),i-=r,i?(s.window.set(e.subarray(t-i,t),0),s.wnext=i,s.whave=s.wsize):(s.wnext+=r,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=r))),0},Z5e=(n,e)=>{let t,i,r,s,a,o,c,d,u,f,h,p,v,w,b=0,m,y,_,x,N,k,T,C;const P=new Uint8Array(4);let D,E;const A=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(l0(n)||!n.output||!n.input&&n.avail_in!==0)return rc;t=n.state,t.mode===zu&&(t.mode=Y6),a=n.next_out,r=n.output,c=n.avail_out,s=n.next_in,i=n.input,o=n.avail_in,d=t.hold,u=t.bits,f=o,h=c,C=e0;e:for(;;)switch(t.mode){case cC:if(t.wrap===0){t.mode=Y6;break}for(;u<16;){if(o===0)break e;o--,d+=i[s++]<<u,u+=8}if(t.wrap&2&&d===35615){t.wbits===0&&(t.wbits=15),t.check=0,P[0]=d&255,P[1]=d>>>8&255,t.check=Ts(t.check,P,2,0),d=0,u=0,t.mode=rB;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((d&255)<<8)+(d>>8))%31){n.msg="incorrect header check",t.mode=Gi;break}if((d&15)!==iB){n.msg="unknown compression method",t.mode=Gi;break}if(d>>>=4,u-=4,T=(d&15)+8,t.wbits===0&&(t.wbits=T),T>15||T>t.wbits){n.msg="invalid window size",t.mode=Gi;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=d&512?hB:zu,d=0,u=0;break;case rB:for(;u<16;){if(o===0)break e;o--,d+=i[s++]<<u,u+=8}if(t.flags=d,(t.flags&255)!==iB){n.msg="unknown compression method",t.mode=Gi;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=Gi;break}t.head&&(t.head.text=d>>8&1),t.flags&512&&t.wrap&4&&(P[0]=d&255,P[1]=d>>>8&255,t.check=Ts(t.check,P,2,0)),d=0,u=0,t.mode=sB;case sB:for(;u<32;){if(o===0)break e;o--,d+=i[s++]<<u,u+=8}t.head&&(t.head.time=d),t.flags&512&&t.wrap&4&&(P[0]=d&255,P[1]=d>>>8&255,P[2]=d>>>16&255,P[3]=d>>>24&255,t.check=Ts(t.check,P,4,0)),d=0,u=0,t.mode=aB;case aB:for(;u<16;){if(o===0)break e;o--,d+=i[s++]<<u,u+=8}t.head&&(t.head.xflags=d&255,t.head.os=d>>8),t.flags&512&&t.wrap&4&&(P[0]=d&255,P[1]=d>>>8&255,t.check=Ts(t.check,P,2,0)),d=0,u=0,t.mode=oB;case oB:if(t.flags&1024){for(;u<16;){if(o===0)break e;o--,d+=i[s++]<<u,u+=8}t.length=d,t.head&&(t.head.extra_len=d),t.flags&512&&t.wrap&4&&(P[0]=d&255,P[1]=d>>>8&255,t.check=Ts(t.check,P,2,0)),d=0,u=0}else t.head&&(t.head.extra=null);t.mode=lB;case lB:if(t.flags&1024&&(p=t.length,p>o&&(p=o),p&&(t.head&&(T=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(i.subarray(s,s+p),T)),t.flags&512&&t.wrap&4&&(t.check=Ts(t.check,i,p,s)),o-=p,s+=p,t.length-=p),t.length))break e;t.length=0,t.mode=cB;case cB:if(t.flags&2048){if(o===0)break e;p=0;do T=i[s+p++],t.head&&T&&t.length<65536&&(t.head.name+=String.fromCharCode(T));while(T&&p<o);if(t.flags&512&&t.wrap&4&&(t.check=Ts(t.check,i,p,s)),o-=p,s+=p,T)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=dB;case dB:if(t.flags&4096){if(o===0)break e;p=0;do T=i[s+p++],t.head&&T&&t.length<65536&&(t.head.comment+=String.fromCharCode(T));while(T&&p<o);if(t.flags&512&&t.wrap&4&&(t.check=Ts(t.check,i,p,s)),o-=p,s+=p,T)break e}else t.head&&(t.head.comment=null);t.mode=uB;case uB:if(t.flags&512){for(;u<16;){if(o===0)break e;o--,d+=i[s++]<<u,u+=8}if(t.wrap&4&&d!==(t.check&65535)){n.msg="header crc mismatch",t.mode=Gi;break}d=0,u=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=zu;break;case hB:for(;u<32;){if(o===0)break e;o--,d+=i[s++]<<u,u+=8}n.adler=t.check=AB(d),d=0,u=0,t.mode=H3;case H3:if(t.havedict===0)return n.next_out=a,n.avail_out=c,n.next_in=s,n.avail_in=o,t.hold=d,t.bits=u,$5e;n.adler=t.check=1,t.mode=zu;case zu:if(e===j5e||e===JN)break e;case Y6:if(t.last){d>>>=u&7,u-=u&7,t.mode=J6;break}for(;u<3;){if(o===0)break e;o--,d+=i[s++]<<u,u+=8}switch(t.last=d&1,d>>>=1,u-=1,d&3){case 0:t.mode=fB;break;case 1:if(J5e(t),t.mode=ZN,e===JN){d>>>=2,u-=2;break e}break;case 2:t.mode=mB;break;case 3:n.msg="invalid block type",t.mode=Gi}d>>>=2,u-=2;break;case fB:for(d>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,d+=i[s++]<<u,u+=8}if((d&65535)!==(d>>>16^65535)){n.msg="invalid stored block lengths",t.mode=Gi;break}if(t.length=d&65535,d=0,u=0,t.mode=K6,e===JN)break e;case K6:t.mode=pB;case pB:if(p=t.length,p){if(p>o&&(p=o),p>c&&(p=c),p===0)break e;r.set(i.subarray(s,s+p),a),o-=p,s+=p,c-=p,a+=p,t.length-=p;break}t.mode=zu;break;case mB:for(;u<14;){if(o===0)break e;o--,d+=i[s++]<<u,u+=8}if(t.nlen=(d&31)+257,d>>>=5,u-=5,t.ndist=(d&31)+1,d>>>=5,u-=5,t.ncode=(d&15)+4,d>>>=4,u-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=Gi;break}t.have=0,t.mode=gB;case gB:for(;t.have<t.ncode;){for(;u<3;){if(o===0)break e;o--,d+=i[s++]<<u,u+=8}t.lens[A[t.have++]]=d&7,d>>>=3,u-=3}for(;t.have<19;)t.lens[A[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,D={bits:t.lenbits},C=zw(z5e,t.lens,0,19,t.lencode,0,t.work,D),t.lenbits=D.bits,C){n.msg="invalid code lengths set",t.mode=Gi;break}t.have=0,t.mode=yB;case yB:for(;t.have<t.nlen+t.ndist;){for(;b=t.lencode[d&(1<<t.lenbits)-1],m=b>>>24,y=b>>>16&255,_=b&65535,!(m<=u);){if(o===0)break e;o--,d+=i[s++]<<u,u+=8}if(_<16)d>>>=m,u-=m,t.lens[t.have++]=_;else{if(_===16){for(E=m+2;u<E;){if(o===0)break e;o--,d+=i[s++]<<u,u+=8}if(d>>>=m,u-=m,t.have===0){n.msg="invalid bit length repeat",t.mode=Gi;break}T=t.lens[t.have-1],p=3+(d&3),d>>>=2,u-=2}else if(_===17){for(E=m+3;u<E;){if(o===0)break e;o--,d+=i[s++]<<u,u+=8}d>>>=m,u-=m,T=0,p=3+(d&7),d>>>=3,u-=3}else{for(E=m+7;u<E;){if(o===0)break e;o--,d+=i[s++]<<u,u+=8}d>>>=m,u-=m,T=0,p=11+(d&127),d>>>=7,u-=7}if(t.have+p>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=Gi;break}for(;p--;)t.lens[t.have++]=T}}if(t.mode===Gi)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=Gi;break}if(t.lenbits=9,D={bits:t.lenbits},C=zw(qX,t.lens,0,t.nlen,t.lencode,0,t.work,D),t.lenbits=D.bits,C){n.msg="invalid literal/lengths set",t.mode=Gi;break}if(t.distbits=6,t.distcode=t.distdyn,D={bits:t.distbits},C=zw(HX,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,D),t.distbits=D.bits,C){n.msg="invalid distances set",t.mode=Gi;break}if(t.mode=ZN,e===JN)break e;case ZN:t.mode=QN;case QN:if(o>=6&&c>=258){n.next_out=a,n.avail_out=c,n.next_in=s,n.avail_in=o,t.hold=d,t.bits=u,L5e(n,h),a=n.next_out,r=n.output,c=n.avail_out,s=n.next_in,i=n.input,o=n.avail_in,d=t.hold,u=t.bits,t.mode===zu&&(t.back=-1);break}for(t.back=0;b=t.lencode[d&(1<<t.lenbits)-1],m=b>>>24,y=b>>>16&255,_=b&65535,!(m<=u);){if(o===0)break e;o--,d+=i[s++]<<u,u+=8}if(y&&!(y&240)){for(x=m,N=y,k=_;b=t.lencode[k+((d&(1<<x+N)-1)>>x)],m=b>>>24,y=b>>>16&255,_=b&65535,!(x+m<=u);){if(o===0)break e;o--,d+=i[s++]<<u,u+=8}d>>>=x,u-=x,t.back+=x}if(d>>>=m,u-=m,t.back+=m,t.length=_,y===0){t.mode=_B;break}if(y&32){t.back=-1,t.mode=zu;break}if(y&64){n.msg="invalid literal/length code",t.mode=Gi;break}t.extra=y&15,t.mode=vB;case vB:if(t.extra){for(E=t.extra;u<E;){if(o===0)break e;o--,d+=i[s++]<<u,u+=8}t.length+=d&(1<<t.extra)-1,d>>>=t.extra,u-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=bB;case bB:for(;b=t.distcode[d&(1<<t.distbits)-1],m=b>>>24,y=b>>>16&255,_=b&65535,!(m<=u);){if(o===0)break e;o--,d+=i[s++]<<u,u+=8}if(!(y&240)){for(x=m,N=y,k=_;b=t.distcode[k+((d&(1<<x+N)-1)>>x)],m=b>>>24,y=b>>>16&255,_=b&65535,!(x+m<=u);){if(o===0)break e;o--,d+=i[s++]<<u,u+=8}d>>>=x,u-=x,t.back+=x}if(d>>>=m,u-=m,t.back+=m,y&64){n.msg="invalid distance code",t.mode=Gi;break}t.offset=_,t.extra=y&15,t.mode=wB;case wB:if(t.extra){for(E=t.extra;u<E;){if(o===0)break e;o--,d+=i[s++]<<u,u+=8}t.offset+=d&(1<<t.extra)-1,d>>>=t.extra,u-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=Gi;break}t.mode=xB;case xB:if(c===0)break e;if(p=h-c,t.offset>p){if(p=t.offset-p,p>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=Gi;break}p>t.wnext?(p-=t.wnext,v=t.wsize-p):v=t.wnext-p,p>t.length&&(p=t.length),w=t.window}else w=r,v=a-t.offset,p=t.length;p>c&&(p=c),c-=p,t.length-=p;do r[a++]=w[v++];while(--p);t.length===0&&(t.mode=QN);break;case _B:if(c===0)break e;r[a++]=t.length,c--,t.mode=QN;break;case J6:if(t.wrap){for(;u<32;){if(o===0)break e;o--,d|=i[s++]<<u,u+=8}if(h-=c,n.total_out+=h,t.total+=h,t.wrap&4&&h&&(n.adler=t.check=t.flags?Ts(t.check,r,h,a-h):kx(t.check,r,h,a-h)),h=c,t.wrap&4&&(t.flags?d:AB(d))!==t.check){n.msg="incorrect data check",t.mode=Gi;break}d=0,u=0}t.mode=SB;case SB:if(t.wrap&&t.flags){for(;u<32;){if(o===0)break e;o--,d+=i[s++]<<u,u+=8}if(t.wrap&4&&d!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=Gi;break}d=0,u=0}t.mode=NB;case NB:C=W5e;break e;case Gi:C=VX;break e;case XX:return GX;case YX:default:return rc}return n.next_out=a,n.avail_out=c,n.next_in=s,n.avail_in=o,t.hold=d,t.bits=u,(t.wsize||h!==n.avail_out&&t.mode<Gi&&(t.mode<J6||e!==nB))&&eY(n,n.output,n.next_out,h-n.avail_out),f-=n.avail_in,h-=n.avail_out,n.total_in+=f,n.total_out+=h,t.total+=h,t.wrap&4&&h&&(n.adler=t.check=t.flags?Ts(t.check,r,h,n.next_out-h):kx(t.check,r,h,n.next_out-h)),n.data_type=t.bits+(t.last?64:0)+(t.mode===zu?128:0)+(t.mode===ZN||t.mode===K6?256:0),(f===0&&h===0||e===nB)&&C===e0&&(C=q5e),C},Q5e=n=>{if(l0(n))return rc;let e=n.state;return e.window&&(e.window=null),n.state=null,e0},e_e=(n,e)=>{if(l0(n))return rc;const t=n.state;return t.wrap&2?(t.head=e,e.done=!1,e0):rc},t_e=(n,e)=>{const t=e.length;let i,r,s;return l0(n)||(i=n.state,i.wrap!==0&&i.mode!==H3)?rc:i.mode===H3&&(r=1,r=kx(r,e,t,0),r!==i.check)?VX:(s=eY(n,e,t,t),s?(i.mode=XX,GX):(i.havedict=1,e0))};var n_e=JX,i_e=ZX,r_e=KX,s_e=K5e,a_e=QX,o_e=Z5e,l_e=Q5e,c_e=e_e,d_e=t_e,u_e="pako inflate (from Nodeca project)",Ku={inflateReset:n_e,inflateReset2:i_e,inflateResetKeep:r_e,inflateInit:s_e,inflateInit2:a_e,inflate:o_e,inflateEnd:l_e,inflateGetHeader:c_e,inflateSetDictionary:d_e,inflateInfo:u_e};function h_e(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var f_e=h_e;const tY=Object.prototype.toString,{Z_NO_FLUSH:p_e,Z_FINISH:m_e,Z_OK:Cx,Z_STREAM_END:eD,Z_NEED_DICT:tD,Z_STREAM_ERROR:g_e,Z_DATA_ERROR:EB,Z_MEM_ERROR:y_e}=WS;function qS(n){this.options=lC.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new WX,this.strm.avail_out=0;let t=Ku.inflateInit2(this.strm,e.windowBits);if(t!==Cx)throw new Error(Fb[t]);if(this.header=new f_e,Ku.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Tx.string2buf(e.dictionary):tY.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Ku.inflateSetDictionary(this.strm,e.dictionary),t!==Cx)))throw new Error(Fb[t])}qS.prototype.push=function(n,e){const t=this.strm,i=this.options.chunkSize,r=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?m_e:p_e,tY.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(i),t.next_out=0,t.avail_out=i),s=Ku.inflate(t,a),s===tD&&r&&(s=Ku.inflateSetDictionary(t,r),s===Cx?s=Ku.inflate(t,a):s===EB&&(s=tD));t.avail_in>0&&s===eD&&t.state.wrap>0&&n[t.next_in]!==0;)Ku.inflateReset(t),s=Ku.inflate(t,a);switch(s){case g_e:case EB:case tD:case y_e:return this.onEnd(s),this.ended=!0,!1}if(o=t.avail_out,t.next_out&&(t.avail_out===0||s===eD))if(this.options.to==="string"){let c=Tx.utf8border(t.output,t.next_out),d=t.next_out-c,u=Tx.buf2string(t.output,c);t.next_out=d,t.avail_out=i-d,d&&t.output.set(t.output.subarray(c,c+d),0),this.onData(u)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===Cx&&o===0)){if(s===eD)return s=Ku.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};qS.prototype.onData=function(n){this.chunks.push(n)};qS.prototype.onEnd=function(n){n===Cx&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=lC.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function hO(n,e){const t=new qS(e);if(t.push(n),t.err)throw t.msg||Fb[t.err];return t.result}function v_e(n,e){return e=e||{},e.raw=!0,hO(n,e)}var b_e=qS,w_e=hO,x_e=v_e,__e=hO,S_e=WS,N_e={Inflate:b_e,inflate:w_e,inflateRaw:x_e,ungzip:__e,constants:S_e};const{Inflate:A_e,inflate:k_e,inflateRaw:fAe,ungzip:pAe}=N_e;var TB=A_e,E_e=k_e;const nY=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;nY[n]=e}const CB=4294967295;function T_e(n,e,t){let i=n;for(let r=0;r<t;r++)i=nY[(i^e[r])&255]^i>>>8;return i}function C_e(n,e){return(T_e(CB,n,e)^CB)>>>0}function DB(n,e,t){const i=n.readUint32(),r=C_e(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(r!==i)throw new Error(`CRC mismatch for chunk ${t}. Expected ${i}, found ${r}`)}function iY(n,e,t){for(let i=0;i<t;i++)e[i]=n[i]}function rY(n,e,t,i){let r=0;for(;r<i;r++)e[r]=n[r];for(;r<t;r++)e[r]=n[r]+e[r-i]&255}function sY(n,e,t,i){let r=0;if(t.length===0)for(;r<i;r++)e[r]=n[r];else for(;r<i;r++)e[r]=n[r]+t[r]&255}function aY(n,e,t,i,r){let s=0;if(t.length===0){for(;s<r;s++)e[s]=n[s];for(;s<i;s++)e[s]=n[s]+(e[s-r]>>1)&255}else{for(;s<r;s++)e[s]=n[s]+(t[s]>>1)&255;for(;s<i;s++)e[s]=n[s]+(e[s-r]+t[s]>>1)&255}}function oY(n,e,t,i,r){let s=0;if(t.length===0){for(;s<r;s++)e[s]=n[s];for(;s<i;s++)e[s]=n[s]+e[s-r]&255}else{for(;s<r;s++)e[s]=n[s]+t[s]&255;for(;s<i;s++)e[s]=n[s]+D_e(e[s-r],t[s],t[s-r])&255}}function D_e(n,e,t){const i=n+e-t,r=Math.abs(i-n),s=Math.abs(i-e),a=Math.abs(i-t);return r<=s&&r<=a?n:s<=a?e:t}function P_e(n,e,t,i,r,s){switch(n){case 0:iY(e,t,r);break;case 1:rY(e,t,r,s);break;case 2:sY(e,t,i,r);break;case 3:aY(e,t,i,r,s);break;case 4:oY(e,t,i,r,s);break;default:throw new Error(`Unsupported filter: ${n}`)}}const I_e=new Uint16Array([255]),R_e=new Uint8Array(I_e.buffer),L_e=R_e[0]===255;function O_e(n){const{data:e,width:t,height:i,channels:r,depth:s}=n,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*r,c=new Uint8Array(i*t*o);let d=0;for(let u=0;u<7;u++){const f=a[u],h=Math.ceil((t-f.x)/f.xStep),p=Math.ceil((i-f.y)/f.yStep);if(h<=0||p<=0)continue;const v=h*o,w=new Uint8Array(v);for(let b=0;b<p;b++){const m=e[d++],y=e.subarray(d,d+v);d+=v;const _=new Uint8Array(v);P_e(m,y,_,w,v,o),w.set(_);for(let x=0;x<h;x++){const N=f.x+x*f.xStep,k=f.y+b*f.yStep;if(!(N>=t||k>=i))for(let T=0;T<o;T++)c[(k*t+N)*o+T]=_[x*o+T]}}}if(s===16){const u=new Uint16Array(c.buffer);if(L_e)for(let f=0;f<u.length;f++)u[f]=F_e(u[f]);return u}else return c}function F_e(n){return(n&255)<<8|n>>8&255}const U_e=new Uint16Array([255]),M_e=new Uint8Array(U_e.buffer),B_e=M_e[0]===255,z_e=new Uint8Array(0);function PB(n){const{data:e,width:t,height:i,channels:r,depth:s}=n,a=Math.ceil(s/8)*r,o=Math.ceil(s/8*r*t),c=new Uint8Array(i*o);let d=z_e,u=0,f,h;for(let p=0;p<i;p++){switch(f=e.subarray(u+1,u+1+o),h=c.subarray(p*o,(p+1)*o),e[u]){case 0:iY(f,h,o);break;case 1:rY(f,h,o,a);break;case 2:sY(f,h,d,o);break;case 3:aY(f,h,d,o,a);break;case 4:oY(f,h,d,o,a);break;default:throw new Error(`Unsupported filter: ${e[u]}`)}d=h,u+=o+1}if(s===16){const p=new Uint16Array(c.buffer);if(B_e)for(let v=0;v<p.length;v++)p[v]=j_e(p[v]);return p}else return c}function j_e(n){return(n&255)<<8|n>>8&255}const xk=Uint8Array.of(137,80,78,71,13,10,26,10);function IB(n){if(!W_e(n.readBytes(xk.length)))throw new Error("wrong PNG signature")}function W_e(n){if(n.length<xk.length)return!1;for(let e=0;e<xk.length;e++)if(n[e]!==xk[e])return!1;return!0}const $_e="tEXt",q_e=0,lY=new TextDecoder("latin1");function H_e(n){if(G_e(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const V_e=/^[\u0000-\u00FF]*$/;function G_e(n){if(!V_e.test(n))throw new Error("invalid latin1 text")}function X_e(n,e,t){const i=cY(e);n[i]=Y_e(e,t-i.length-1)}function cY(n){for(n.mark();n.readByte()!==q_e;);const e=n.offset;n.reset();const t=lY.decode(n.readBytes(e-n.offset-1));return n.skip(1),H_e(t),t}function Y_e(n,e){return lY.decode(n.readBytes(e))}const Mo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},nD={UNKNOWN:-1,DEFLATE:0},RB={UNKNOWN:-1,ADAPTIVE:0},iD={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},eA={NONE:0,BACKGROUND:1,PREVIOUS:2},rD={SOURCE:0,OVER:1};class K_e extends sO{constructor(t,i={}){super(t);wt(this,"_checkCrc");wt(this,"_inflator");wt(this,"_png");wt(this,"_apng");wt(this,"_end");wt(this,"_hasPalette");wt(this,"_palette");wt(this,"_hasTransparency");wt(this,"_transparency");wt(this,"_compressionMethod");wt(this,"_filterMethod");wt(this,"_interlaceMethod");wt(this,"_colorType");wt(this,"_isAnimated");wt(this,"_numberOfFrames");wt(this,"_numberOfPlays");wt(this,"_frames");wt(this,"_writingDataChunks");const{checkCrc:r=!1}=i;this._checkCrc=r,this._inflator=new TB,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=nD.UNKNOWN,this._filterMethod=RB.UNKNOWN,this._interlaceMethod=iD.UNKNOWN,this._colorType=Mo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(IB(this);!this._end;){const t=this.readUint32(),i=this.readChars(4);this.decodeChunk(t,i)}return this.decodeImage(),this._png}decodeApng(){for(IB(this);!this._end;){const t=this.readUint32(),i=this.readChars(4);this.decodeApngChunk(t,i)}return this.decodeApngImage(),this._apng}decodeChunk(t,i){const r=this.offset;switch(i){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case $_e:X_e(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${i}`);this._checkCrc?DB(this,t+4,i):this.skip(4)}decodeApngChunk(t,i){const r=this.offset;switch(i!=="fdAT"&&i!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),i){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,i),this.offset=r+t;break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${i}`);this._checkCrc?DB(this,t+4,i):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=J_e(this.readUint8());const i=this.readUint8();this._colorType=i;let r;switch(i){case Mo.GREYSCALE:r=1;break;case Mo.TRUECOLOUR:r=3;break;case Mo.INDEXED_COLOUR:r=1;break;case Mo.GREYSCALE_ALPHA:r=2;break;case Mo.TRUECOLOUR_ALPHA:r=4;break;case Mo.UNKNOWN:default:throw new Error(`Unknown color type: ${i}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==nD.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const i=t/3;this._hasPalette=!0;const r=[];this._palette=r;for(let s=0;s<i;s++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const i=t,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,i)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let i=t,r=this.offset+this.byteOffset;if(r+=4,i-=4,this._inflator.push(new Uint8Array(this.buffer,r,i)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case Mo.GREYSCALE:case Mo.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let i=0;i<t/2;i++)this._transparency[i]=this.readUint16();break}case Mo.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let i=0;for(;i<t;i++){const r=this.readByte();this._palette[i].push(r)}for(;i<this._palette.length;i++)this._palette[i].push(255);break}case Mo.UNKNOWN:case Mo.GREYSCALE_ALPHA:case Mo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const i=cY(this),r=this.readUint8();if(r!==nD.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const s=this.readBytes(t-i.length-2);this._png.iccEmbeddedProfile={name:i,profile:E_e(s)}}decodepHYs(){const t=this.readUint32(),i=this.readUint32(),r=this.readByte();this._png.resolution={x:t,y:i,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const i={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(t);if(r){if(r.data=PB({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)i.data=r.data;else{const s=this._apng.frames.at(t-1);this.disposeFrame(r,s,i),this.addFrameDataToCanvas(i,r)}this._apng.frames.push(i)}}return this._apng}disposeFrame(t,i,r){switch(t.disposeOp){case eA.NONE:break;case eA.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let a=0;a<this._png.width;a++){const o=(s*t.width+a)*this._png.channels;for(let c=0;c<this._png.channels;c++)r.data[o+c]=0}break;case eA.PREVIOUS:r.data.set(i.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,i){const r=1<<this._png.depth,s=(a,o)=>{const c=((a+i.yOffset)*this._png.width+i.xOffset+o)*this._png.channels,d=(a*i.width+o)*this._png.channels;return{index:c,frameIndex:d}};switch(i.blendOp){case rD.SOURCE:for(let a=0;a<i.height;a++)for(let o=0;o<i.width;o++){const{index:c,frameIndex:d}=s(a,o);for(let u=0;u<this._png.channels;u++)t.data[c+u]=i.data[d+u]}break;case rD.OVER:for(let a=0;a<i.height;a++)for(let o=0;o<i.width;o++){const{index:c,frameIndex:d}=s(a,o);for(let u=0;u<this._png.channels;u++){const f=i.data[d+this._png.channels-1]/r,h=u%(this._png.channels-1)===0?1:i.data[d+u],p=Math.floor(f*h+(1-f)*t.data[c+u]);t.data[c+u]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var i;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((i=this._frames)==null?void 0:i.at(0)).data:this._inflator.result;if(this._filterMethod!==RB.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===iD.NO_INTERLACE)this._png.data=PB({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===iD.ADAM7)this._png.data=O_e({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,i=this._frames.at(-1);i?i.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:eA.NONE,blendOp:rD.SOURCE,data:t}),this._inflator=new TB,this._writingDataChunks=!1}}function J_e(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var LB;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(LB||(LB={}));function Z_e(n,e){return new K_e(n,e).decode()}var ln=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function sD(){ln.console&&typeof ln.console.log=="function"&&ln.console.log.apply(ln.console,arguments)}var Ti={log:sD,warn:function(n){ln.console&&(typeof ln.console.warn=="function"?ln.console.warn.apply(ln.console,arguments):sD.call(null,arguments))},error:function(n){ln.console&&(typeof ln.console.error=="function"?ln.console.error.apply(ln.console,arguments):sD(n))}};function aD(n,e,t){var i=new XMLHttpRequest;i.open("GET",n),i.responseType="blob",i.onload=function(){Rm(i.response,e,t)},i.onerror=function(){Ti.error("could not download file")},i.send()}function OB(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function tA(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Rm=ln.saveAs||((typeof window>"u"?"undefined":ci(window))!=="object"||window!==ln?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var i=ln.URL||ln.webkitURL,r=document.createElement("a");e=e||n.name||"download",r.download=e,r.rel="noopener",typeof n=="string"?(r.href=n,r.origin!==location.origin?OB(r.href)?aD(n,e,t):tA(r,r.target="_blank"):tA(r)):(r.href=i.createObjectURL(n),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){tA(r)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(OB(n))aD(n,e,t);else{var i=document.createElement("a");i.href=n,i.target="_blank",setTimeout(function(){tA(i)})}else navigator.msSaveOrOpenBlob(function(r,s){return s===void 0?s={autoBom:!1}:ci(s)!=="object"&&(Ti.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob([String.fromCharCode(65279),r],{type:r.type}):r}(n,t),e)}:function(n,e,t,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof n=="string")return aD(n,e,t);var r=n.type==="application/octet-stream",s=/constructor/i.test(ln.HTMLElement)||ln.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||r&&s)&&(typeof FileReader>"u"?"undefined":ci(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=a?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=u:location=u,i=null},o.readAsDataURL(n)}else{var c=ln.URL||ln.webkitURL,d=c.createObjectURL(n);i?i.location=d:location.href=d,i=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function dY(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],i=0;i<t.length;i++){var r=t[i].re,s=t[i].process,a=r.exec(n);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+o+c+d}}var _k=ln.atob.bind(ln),FB=ln.btoa.bind(ln);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function oD(n,e){var t=n[0],i=n[1],r=n[2],s=n[3];t=ca(t,i,r,s,e[0],7,-680876936),s=ca(s,t,i,r,e[1],12,-389564586),r=ca(r,s,t,i,e[2],17,606105819),i=ca(i,r,s,t,e[3],22,-1044525330),t=ca(t,i,r,s,e[4],7,-176418897),s=ca(s,t,i,r,e[5],12,1200080426),r=ca(r,s,t,i,e[6],17,-1473231341),i=ca(i,r,s,t,e[7],22,-45705983),t=ca(t,i,r,s,e[8],7,1770035416),s=ca(s,t,i,r,e[9],12,-1958414417),r=ca(r,s,t,i,e[10],17,-42063),i=ca(i,r,s,t,e[11],22,-1990404162),t=ca(t,i,r,s,e[12],7,1804603682),s=ca(s,t,i,r,e[13],12,-40341101),r=ca(r,s,t,i,e[14],17,-1502002290),t=da(t,i=ca(i,r,s,t,e[15],22,1236535329),r,s,e[1],5,-165796510),s=da(s,t,i,r,e[6],9,-1069501632),r=da(r,s,t,i,e[11],14,643717713),i=da(i,r,s,t,e[0],20,-373897302),t=da(t,i,r,s,e[5],5,-701558691),s=da(s,t,i,r,e[10],9,38016083),r=da(r,s,t,i,e[15],14,-660478335),i=da(i,r,s,t,e[4],20,-405537848),t=da(t,i,r,s,e[9],5,568446438),s=da(s,t,i,r,e[14],9,-1019803690),r=da(r,s,t,i,e[3],14,-187363961),i=da(i,r,s,t,e[8],20,1163531501),t=da(t,i,r,s,e[13],5,-1444681467),s=da(s,t,i,r,e[2],9,-51403784),r=da(r,s,t,i,e[7],14,1735328473),t=ua(t,i=da(i,r,s,t,e[12],20,-1926607734),r,s,e[5],4,-378558),s=ua(s,t,i,r,e[8],11,-2022574463),r=ua(r,s,t,i,e[11],16,1839030562),i=ua(i,r,s,t,e[14],23,-35309556),t=ua(t,i,r,s,e[1],4,-1530992060),s=ua(s,t,i,r,e[4],11,1272893353),r=ua(r,s,t,i,e[7],16,-155497632),i=ua(i,r,s,t,e[10],23,-1094730640),t=ua(t,i,r,s,e[13],4,681279174),s=ua(s,t,i,r,e[0],11,-358537222),r=ua(r,s,t,i,e[3],16,-722521979),i=ua(i,r,s,t,e[6],23,76029189),t=ua(t,i,r,s,e[9],4,-640364487),s=ua(s,t,i,r,e[12],11,-421815835),r=ua(r,s,t,i,e[15],16,530742520),t=ha(t,i=ua(i,r,s,t,e[2],23,-995338651),r,s,e[0],6,-198630844),s=ha(s,t,i,r,e[7],10,1126891415),r=ha(r,s,t,i,e[14],15,-1416354905),i=ha(i,r,s,t,e[5],21,-57434055),t=ha(t,i,r,s,e[12],6,1700485571),s=ha(s,t,i,r,e[3],10,-1894986606),r=ha(r,s,t,i,e[10],15,-1051523),i=ha(i,r,s,t,e[1],21,-2054922799),t=ha(t,i,r,s,e[8],6,1873313359),s=ha(s,t,i,r,e[15],10,-30611744),r=ha(r,s,t,i,e[6],15,-1560198380),i=ha(i,r,s,t,e[13],21,1309151649),t=ha(t,i,r,s,e[4],6,-145523070),s=ha(s,t,i,r,e[11],10,-1120210379),r=ha(r,s,t,i,e[2],15,718787259),i=ha(i,r,s,t,e[9],21,-343485551),n[0]=Bp(t,n[0]),n[1]=Bp(i,n[1]),n[2]=Bp(r,n[2]),n[3]=Bp(s,n[3])}function dC(n,e,t,i,r,s){return e=Bp(Bp(e,n),Bp(i,s)),Bp(e<<r|e>>>32-r,t)}function ca(n,e,t,i,r,s,a){return dC(e&t|~e&i,n,e,r,s,a)}function da(n,e,t,i,r,s,a){return dC(e&i|t&~i,n,e,r,s,a)}function ua(n,e,t,i,r,s,a){return dC(e^t^i,n,e,r,s,a)}function ha(n,e,t,i,r,s,a){return dC(t^(e|~i),n,e,r,s,a)}function uY(n){var e,t=n.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)oD(i,Q_e(n.substring(e-64,e)));n=n.substring(e-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)r[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(oD(i,r),e=0;e<16;e++)r[e]=0;return r[14]=8*t,oD(i,r),i}function Q_e(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var UB="0123456789abcdef".split("");function eSe(n){for(var e="",t=0;t<4;t++)e+=UB[n>>8*t+4&15]+UB[n>>8*t&15];return e}function tSe(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function MI(n){return uY(n).map(tSe).join("")}var nSe=function(n){for(var e=0;e<n.length;e++)n[e]=eSe(n[e]);return n.join("")}(uY("hello"))!="5d41402abc4b2a76b9719d911017c592";function Bp(n,e){if(nSe){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function BI(n,e){var t,i,r,s;if(n!==t){for(var a=(r=n,s=1+(256/n.length|0),new Array(s+1).join(r)),o=[],c=0;c<256;c++)o[c]=c;var d=0;for(c=0;c<256;c++){var u=o[c];d=(d+u+a.charCodeAt(c))%256,o[c]=o[d],o[d]=u}t=n,i=o}else o=i;var f=e.length,h=0,p=0,v="";for(c=0;c<f;c++)p=(p+(u=o[h=(h+1)%256]))%256,o[h]=o[p],o[p]=u,a=o[(o[h]+o[p])%256],v+=String.fromCharCode(e.charCodeAt(c)^a);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var MB={print:4,modify:8,copy:16,"annot-forms":32};function P0(n,e,t,i){this.v=1,this.r=2;var r=192;n.forEach(function(o){if(MB.perm!==void 0)throw new Error("Invalid permission: "+o);r+=MB[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^r)),this.encryptionKey=MI(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=BI(this.encryptionKey,this.padding)}function I0(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,i=0;i<t;i++){var r=n.charCodeAt(i);e+=r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?"#"+("0"+r.toString(16)).slice(-2):n[i]}return e}function BB(n){if(ci(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,i,r){if(r=r||!1,typeof t!="string"||typeof i!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[i,!!r],s},this.unsubscribe=function(t){for(var i in e)if(e[i][t])return delete e[i][t],Object.keys(e[i]).length===0&&delete e[i],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var s in e[t]){var a=e[t][s];try{a[0].apply(n,i)}catch(o){ln.console&&Ti.error("jsPDF PubSub Error",o.message,o)}a[1]&&r.push(s)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function V3(n){if(!(this instanceof V3))return new V3(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function hY(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Om(n,e,t,i,r){if(!(this instanceof Om))return new Om(n,e,t,i,r);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,hY.call(this,i,r)}function G0(n,e,t,i,r){if(!(this instanceof G0))return new G0(n,e,t,i,r);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,hY.call(this,i,r)}function en(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],r=arguments[2],s=arguments[3],a=[],o=1,c=16,d="S",u=null;ci(n=n||{})==="object"&&(t=n.orientation,i=n.unit||i,r=n.format||r,s=n.compress||n.compressPdf||s,(u=n.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(c=n.floatPrecision),d=n.defaultPathOperation||"S"),a=n.filters||(s===!0?["FlateEncode"]:a),i=i||"mm",t=(""+(t||"P")).toLowerCase();var f=n.putOnlyUsedFonts||!1,h={},p={internal:{},__private__:{}};p.__private__.PubSub=BB;var v="1.3",w=p.__private__.getPdfVersion=function(){return v};p.__private__.setPdfVersion=function(K){v=K};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return b};var m=p.__private__.getPageFormat=function(K){return b[K]};r=r||"a4";var y="compat",_="advanced",x=y;function N(){this.saveGraphicsState(),fe(new Me(ge,0,0,-ge,0,Po()*ge).toString()+" cm"),this.setFontSize(this.getFontSize()/ge),d="n",x=_}function k(){this.restoreGraphicsState(),d="S",x=y}var T=p.__private__.combineFontStyleAndFontWeight=function(K,be){if(K=="bold"&&be=="normal"||K=="bold"&&be==400||K=="normal"&&be=="italic"||K=="bold"&&be=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return be&&(K=be==400||be==="normal"?K==="italic"?"italic":"normal":be!=700&&be!=="bold"||K!=="normal"?(be==700?"bold":be)+""+K:"bold"),K};p.advancedAPI=function(K){var be=x===y;return be&&N.call(this),typeof K!="function"||(K(this),be&&k.call(this)),this},p.compatAPI=function(K){var be=x===_;return be&&k.call(this),typeof K!="function"||(K(this),be&&N.call(this)),this},p.isAdvancedAPI=function(){return x===_};var C,P=function(K){if(x!==_)throw new Error(K+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},D=p.roundToPrecision=p.__private__.roundToPrecision=function(K,be){var Ue=e||be;if(isNaN(K)||isNaN(Ue))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return K.toFixed(Ue).replace(/0+$/,"")};C=p.hpf=p.__private__.hpf=typeof c=="number"?function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.hpf");return D(K,c)}:c==="smart"?function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.hpf");return D(K,K>-1&&K<1?16:5)}:function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.hpf");return D(K,16)};var E=p.f2=p.__private__.f2=function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.f2");return D(K,2)},A=p.__private__.f3=function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.f3");return D(K,3)},I=p.scale=p.__private__.scale=function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.scale");return x===y?K*ge:x===_?K:void 0},R=function(K){return I(function(be){return x===y?Po()-be:x===_?be:void 0}(K))};p.__private__.setPrecision=p.setPrecision=function(K){typeof parseInt(K,10)=="number"&&(e=parseInt(K,10))};var M,Y="00000000000000000000000000000000",q=p.__private__.getFileId=function(){return Y},G=p.__private__.setFileId=function(K){return Y=K!==void 0&&/^[a-fA-F0-9]{32}$/.test(K)?K.toUpperCase():Y.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Si=new P0(u.userPermissions,u.userPassword,u.ownerPassword,Y)),Y};p.setFileId=function(K){return G(K),this},p.getFileId=function(){return q()};var B=p.__private__.convertDateToPDFDate=function(K){var be=K.getTimezoneOffset(),Ue=be<0?"+":"-",Ge=Math.floor(Math.abs(be/60)),rt=Math.abs(be%60),yt=[Ue,X(Ge),"'",X(rt),"'"].join("");return["D:",K.getFullYear(),X(K.getMonth()+1),X(K.getDate()),X(K.getHours()),X(K.getMinutes()),X(K.getSeconds()),yt].join("")},J=p.__private__.convertPDFDateToDate=function(K){var be=parseInt(K.substr(2,4),10),Ue=parseInt(K.substr(6,2),10)-1,Ge=parseInt(K.substr(8,2),10),rt=parseInt(K.substr(10,2),10),yt=parseInt(K.substr(12,2),10),kt=parseInt(K.substr(14,2),10);return new Date(be,Ue,Ge,rt,yt,kt,0)},W=p.__private__.setCreationDate=function(K){var be;if(K===void 0&&(K=new Date),K instanceof Date)be=B(K);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(K))throw new Error("Invalid argument passed to jsPDF.setCreationDate");be=K}return M=be},L=p.__private__.getCreationDate=function(K){var be=M;return K==="jsDate"&&(be=J(M)),be};p.setCreationDate=function(K){return W(K),this},p.getCreationDate=function(K){return L(K)};var z,X=p.__private__.padd2=function(K){return("0"+parseInt(K)).slice(-2)},Q=p.__private__.padd2Hex=function(K){return("00"+(K=K.toString())).substr(K.length)},V=0,Z=[],_e=[],le=0,ce=[],Fe=[],Ae=!1,Re=_e;p.__private__.setCustomOutputDestination=function(K){Ae=!0,Re=K};var Ve=function(K){Ae||(Re=K)};p.__private__.resetCustomOutputDestination=function(){Ae=!1,Re=_e};var fe=p.__private__.out=function(K){return K=K.toString(),le+=K.length+1,Re.push(K),Re},Je=p.__private__.write=function(K){return fe(arguments.length===1?K.toString():Array.prototype.join.call(arguments," "))},je=p.__private__.getArrayBuffer=function(K){for(var be=K.length,Ue=new ArrayBuffer(be),Ge=new Uint8Array(Ue);be--;)Ge[be]=K.charCodeAt(be);return Ue},Ce=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Ce};var $=n.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(K){return $=x===_?K/ge:K,this};var ke,Se=p.__private__.getFontSize=p.getFontSize=function(){return x===y?$:$*ge},pe=n.R2L||!1;p.__private__.setR2L=p.setR2L=function(K){return pe=K,this},p.__private__.getR2L=p.getR2L=function(){return pe};var U,H=p.__private__.setZoomMode=function(K){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(K))ke=K;else if(isNaN(K)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(K)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+K+'" is not recognized.');ke=K}else ke=parseInt(K,10)};p.__private__.getZoomMode=function(){return ke};var te,he=p.__private__.setPageMode=function(K){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(K)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+K+'" is not recognized.');U=K};p.__private__.getPageMode=function(){return U};var ve=p.__private__.setLayoutMode=function(K){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(K)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+K+'" is not recognized.');te=K};p.__private__.getLayoutMode=function(){return te},p.__private__.setDisplayMode=p.setDisplayMode=function(K,be,Ue){return H(K),ve(be),he(Ue),this};var ae={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(K){if(Object.keys(ae).indexOf(K)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ae[K]},p.__private__.getDocumentProperties=function(){return ae},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(K){for(var be in ae)ae.hasOwnProperty(be)&&K[be]&&(ae[be]=K[be]);return this},p.__private__.setDocumentProperty=function(K,be){if(Object.keys(ae).indexOf(K)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ae[K]=be};var me,ge,Oe,Ye,Ke,mt={},qe={},it=[],ft={},We={},tt={},pt={},Ct=null,Et=0,St=[],Bt=new BB(p),kn=n.hotfixes||[],sn={},we={},Pe=[],Me=function K(be,Ue,Ge,rt,yt,kt){if(!(this instanceof K))return new K(be,Ue,Ge,rt,yt,kt);isNaN(be)&&(be=1),isNaN(Ue)&&(Ue=0),isNaN(Ge)&&(Ge=0),isNaN(rt)&&(rt=1),isNaN(yt)&&(yt=0),isNaN(kt)&&(kt=0),this._matrix=[be,Ue,Ge,rt,yt,kt]};Object.defineProperty(Me.prototype,"sx",{get:function(){return this._matrix[0]},set:function(K){this._matrix[0]=K}}),Object.defineProperty(Me.prototype,"shy",{get:function(){return this._matrix[1]},set:function(K){this._matrix[1]=K}}),Object.defineProperty(Me.prototype,"shx",{get:function(){return this._matrix[2]},set:function(K){this._matrix[2]=K}}),Object.defineProperty(Me.prototype,"sy",{get:function(){return this._matrix[3]},set:function(K){this._matrix[3]=K}}),Object.defineProperty(Me.prototype,"tx",{get:function(){return this._matrix[4]},set:function(K){this._matrix[4]=K}}),Object.defineProperty(Me.prototype,"ty",{get:function(){return this._matrix[5]},set:function(K){this._matrix[5]=K}}),Object.defineProperty(Me.prototype,"a",{get:function(){return this._matrix[0]},set:function(K){this._matrix[0]=K}}),Object.defineProperty(Me.prototype,"b",{get:function(){return this._matrix[1]},set:function(K){this._matrix[1]=K}}),Object.defineProperty(Me.prototype,"c",{get:function(){return this._matrix[2]},set:function(K){this._matrix[2]=K}}),Object.defineProperty(Me.prototype,"d",{get:function(){return this._matrix[3]},set:function(K){this._matrix[3]=K}}),Object.defineProperty(Me.prototype,"e",{get:function(){return this._matrix[4]},set:function(K){this._matrix[4]=K}}),Object.defineProperty(Me.prototype,"f",{get:function(){return this._matrix[5]},set:function(K){this._matrix[5]=K}}),Object.defineProperty(Me.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Me.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Me.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Me.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Me.prototype.join=function(K){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(C).join(K)},Me.prototype.multiply=function(K){var be=K.sx*this.sx+K.shy*this.shx,Ue=K.sx*this.shy+K.shy*this.sy,Ge=K.shx*this.sx+K.sy*this.shx,rt=K.shx*this.shy+K.sy*this.sy,yt=K.tx*this.sx+K.ty*this.shx+this.tx,kt=K.tx*this.shy+K.ty*this.sy+this.ty;return new Me(be,Ue,Ge,rt,yt,kt)},Me.prototype.decompose=function(){var K=this.sx,be=this.shy,Ue=this.shx,Ge=this.sy,rt=this.tx,yt=this.ty,kt=Math.sqrt(K*K+be*be),$t=(K/=kt)*Ue+(be/=kt)*Ge;Ue-=K*$t,Ge-=be*$t;var Wt=Math.sqrt(Ue*Ue+Ge*Ge);return $t/=Wt,K*(Ge/=Wt)<be*(Ue/=Wt)&&(K=-K,be=-be,$t=-$t,kt=-kt),{scale:new Me(kt,0,0,Wt,0,0),translate:new Me(1,0,0,1,rt,yt),rotate:new Me(K,be,-be,K,0,0),skew:new Me(1,0,$t,1,0,0)}},Me.prototype.toString=function(K){return this.join(" ")},Me.prototype.inversed=function(){var K=this.sx,be=this.shy,Ue=this.shx,Ge=this.sy,rt=this.tx,yt=this.ty,kt=1/(K*Ge-be*Ue),$t=Ge*kt,Wt=-be*kt,nn=-Ue*kt,jt=K*kt;return new Me($t,Wt,nn,jt,-$t*rt-nn*yt,-Wt*rt-jt*yt)},Me.prototype.applyToPoint=function(K){var be=K.x*this.sx+K.y*this.shx+this.tx,Ue=K.x*this.shy+K.y*this.sy+this.ty;return new Co(be,Ue)},Me.prototype.applyToRectangle=function(K){var be=this.applyToPoint(K),Ue=this.applyToPoint(new Co(K.x+K.w,K.y+K.h));return new Ja(be.x,be.y,Ue.x-be.x,Ue.y-be.y)},Me.prototype.clone=function(){var K=this.sx,be=this.shy,Ue=this.shx,Ge=this.sy,rt=this.tx,yt=this.ty;return new Me(K,be,Ue,Ge,rt,yt)},p.Matrix=Me;var ht=p.matrixMult=function(K,be){return be.multiply(K)},Pt=new Me(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Pt;var ot=function(K,be){if(!We[K]){var Ue=(be instanceof Om?"Sh":"P")+(Object.keys(ft).length+1).toString(10);be.id=Ue,We[K]=Ue,ft[Ue]=be,Bt.publish("addPattern",be)}};p.ShadingPattern=Om,p.TilingPattern=G0,p.addShadingPattern=function(K,be){return P("addShadingPattern()"),ot(K,be),this},p.beginTilingPattern=function(K){P("beginTilingPattern()"),gc(K.boundingBox[0],K.boundingBox[1],K.boundingBox[2]-K.boundingBox[0],K.boundingBox[3]-K.boundingBox[1],K.matrix)},p.endTilingPattern=function(K,be){P("endTilingPattern()"),be.stream=Fe[z].join(`
`),ot(K,be),Bt.publish("endTilingPattern",be),Pe.pop().restore()};var Nt,Ut=p.__private__.newObject=function(){var K=Jt();return hn(K,!0),K},Jt=p.__private__.newObjectDeferred=function(){return V++,Z[V]=function(){return le},V},hn=function(K,be){return be=typeof be=="boolean"&&be,Z[K]=le,be&&fe(K+" 0 obj"),K},_i=p.__private__.newAdditionalObject=function(){var K={objId:Jt(),content:""};return ce.push(K),K},hi=Jt(),Bi=Jt(),Pi=p.__private__.decodeColorString=function(K){var be=K.split(" ");if(be.length!==2||be[1]!=="g"&&be[1]!=="G")be.length!==5||be[4]!=="k"&&be[4]!=="K"||(be=[(1-be[0])*(1-be[3]),(1-be[1])*(1-be[3]),(1-be[2])*(1-be[3]),"r"]);else{var Ue=parseFloat(be[0]);be=[Ue,Ue,Ue,"r"]}for(var Ge="#",rt=0;rt<3;rt++)Ge+=("0"+Math.floor(255*parseFloat(be[rt])).toString(16)).slice(-2);return Ge},fi=p.__private__.encodeColorString=function(K){var be;typeof K=="string"&&(K={ch1:K});var Ue=K.ch1,Ge=K.ch2,rt=K.ch3,yt=K.ch4,kt=K.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ue=="string"&&Ue.charAt(0)!=="#"){var $t=new dY(Ue);if($t.ok)Ue=$t.toHex();else if(!/^\d*\.?\d*$/.test(Ue))throw new Error('Invalid color "'+Ue+'" passed to jsPDF.encodeColorString.')}if(typeof Ue=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ue)&&(Ue="#"+Ue[1]+Ue[1]+Ue[2]+Ue[2]+Ue[3]+Ue[3]),typeof Ue=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ue)){var Wt=parseInt(Ue.substr(1),16);Ue=Wt>>16&255,Ge=Wt>>8&255,rt=255&Wt}if(Ge===void 0||yt===void 0&&Ue===Ge&&Ge===rt)be=typeof Ue=="string"?Ue+" "+kt[0]:K.precision===2?E(Ue/255)+" "+kt[0]:A(Ue/255)+" "+kt[0];else if(yt===void 0||ci(yt)==="object"){if(yt&&!isNaN(yt.a)&&yt.a===0)return["1.","1.","1.",kt[1]].join(" ");be=typeof Ue=="string"?[Ue,Ge,rt,kt[1]].join(" "):K.precision===2?[E(Ue/255),E(Ge/255),E(rt/255),kt[1]].join(" "):[A(Ue/255),A(Ge/255),A(rt/255),kt[1]].join(" ")}else be=typeof Ue=="string"?[Ue,Ge,rt,yt,kt[2]].join(" "):K.precision===2?[E(Ue),E(Ge),E(rt),E(yt),kt[2]].join(" "):[A(Ue),A(Ge),A(rt),A(yt),kt[2]].join(" ");return be},pi=p.__private__.getFilters=function(){return a},zi=p.__private__.putStream=function(K){var be=(K=K||{}).data||"",Ue=K.filters||pi(),Ge=K.alreadyAppliedFilters||[],rt=K.addLength1||!1,yt=be.length,kt=K.objectId,$t=function(re){return re};if(u!==null&&kt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&($t=Si.encryptor(kt,0));var Wt={};Ue===!0&&(Ue=["FlateEncode"]);var nn=K.additionalKeyValues||[],jt=(Wt=en.API.processDataByFilters!==void 0?en.API.processDataByFilters(be,Ue):{data:be,reverseChain:[]}).reverseChain+(Array.isArray(Ge)?Ge.join(" "):Ge.toString());if(Wt.data.length!==0&&(nn.push({key:"Length",value:Wt.data.length}),rt===!0&&nn.push({key:"Length1",value:yt})),jt.length!=0)if(jt.split("/").length-1==1)nn.push({key:"Filter",value:jt});else{nn.push({key:"Filter",value:"["+jt+"]"});for(var Sn=0;Sn<nn.length;Sn+=1)if(nn[Sn].key==="DecodeParms"){for(var ei=[],ti=0;ti<Wt.reverseChain.split("/").length-1;ti+=1)ei.push("null");ei.push(nn[Sn].value),nn[Sn].value="["+ei.join(" ")+"]"}}fe("<<");for(var F=0;F<nn.length;F++)fe("/"+nn[F].key+" "+nn[F].value);fe(">>"),Wt.data.length!==0&&(fe("stream"),fe($t(Wt.data)),fe("endstream"))},Os=p.__private__.putPage=function(K){var be=K.number,Ue=K.data,Ge=K.objId,rt=K.contentsObjId;hn(Ge,!0),fe("<</Type /Page"),fe("/Parent "+K.rootDictionaryObjId+" 0 R"),fe("/Resources "+K.resourceDictionaryObjId+" 0 R"),fe("/MediaBox ["+parseFloat(C(K.mediaBox.bottomLeftX))+" "+parseFloat(C(K.mediaBox.bottomLeftY))+" "+C(K.mediaBox.topRightX)+" "+C(K.mediaBox.topRightY)+"]"),K.cropBox!==null&&fe("/CropBox ["+C(K.cropBox.bottomLeftX)+" "+C(K.cropBox.bottomLeftY)+" "+C(K.cropBox.topRightX)+" "+C(K.cropBox.topRightY)+"]"),K.bleedBox!==null&&fe("/BleedBox ["+C(K.bleedBox.bottomLeftX)+" "+C(K.bleedBox.bottomLeftY)+" "+C(K.bleedBox.topRightX)+" "+C(K.bleedBox.topRightY)+"]"),K.trimBox!==null&&fe("/TrimBox ["+C(K.trimBox.bottomLeftX)+" "+C(K.trimBox.bottomLeftY)+" "+C(K.trimBox.topRightX)+" "+C(K.trimBox.topRightY)+"]"),K.artBox!==null&&fe("/ArtBox ["+C(K.artBox.bottomLeftX)+" "+C(K.artBox.bottomLeftY)+" "+C(K.artBox.topRightX)+" "+C(K.artBox.topRightY)+"]"),typeof K.userUnit=="number"&&K.userUnit!==1&&fe("/UserUnit "+K.userUnit),Bt.publish("putPage",{objId:Ge,pageContext:St[be],pageNumber:be,page:Ue}),fe("/Contents "+rt+" 0 R"),fe(">>"),fe("endobj");var yt=Ue.join(`
`);return x===_&&(yt+=`
Q`),hn(rt,!0),zi({data:yt,filters:pi(),objectId:rt}),fe("endobj"),Ge},Xr=p.__private__.putPages=function(){var K,be,Ue=[];for(K=1;K<=Et;K++)St[K].objId=Jt(),St[K].contentsObjId=Jt();for(K=1;K<=Et;K++)Ue.push(Os({number:K,data:Fe[K],objId:St[K].objId,contentsObjId:St[K].contentsObjId,mediaBox:St[K].mediaBox,cropBox:St[K].cropBox,bleedBox:St[K].bleedBox,trimBox:St[K].trimBox,artBox:St[K].artBox,userUnit:St[K].userUnit,rootDictionaryObjId:hi,resourceDictionaryObjId:Bi}));hn(hi,!0),fe("<</Type /Pages");var Ge="/Kids [";for(be=0;be<Et;be++)Ge+=Ue[be]+" 0 R ";fe(Ge+"]"),fe("/Count "+Et),fe(">>"),fe("endobj"),Bt.publish("postPutPages")},Ur=function(K){Bt.publish("putFont",{font:K,out:fe,newObject:Ut,putStream:zi}),K.isAlreadyPutted!==!0&&(K.objectNumber=Ut(),fe("<<"),fe("/Type /Font"),fe("/BaseFont /"+I0(K.postScriptName)),fe("/Subtype /Type1"),typeof K.encoding=="string"&&fe("/Encoding /"+K.encoding),fe("/FirstChar 32"),fe("/LastChar 255"),fe(">>"),fe("endobj"))},Yr=function(K){K.objectNumber=Ut();var be=[];be.push({key:"Type",value:"/XObject"}),be.push({key:"Subtype",value:"/Form"}),be.push({key:"BBox",value:"["+[C(K.x),C(K.y),C(K.x+K.width),C(K.y+K.height)].join(" ")+"]"}),be.push({key:"Matrix",value:"["+K.matrix.toString()+"]"});var Ue=K.pages[1].join(`
`);zi({data:Ue,additionalKeyValues:be,objectId:K.objectNumber}),fe("endobj")},cc=function(K,be){be||(be=21);var Ue=Ut(),Ge=function(kt,$t){var Wt,nn=[],jt=1/($t-1);for(Wt=0;Wt<1;Wt+=jt)nn.push(Wt);if(nn.push(1),kt[0].offset!=0){var Sn={offset:0,color:kt[0].color};kt.unshift(Sn)}if(kt[kt.length-1].offset!=1){var ei={offset:1,color:kt[kt.length-1].color};kt.push(ei)}for(var ti="",F=0,re=0;re<nn.length;re++){for(Wt=nn[re];Wt>kt[F+1].offset;)F++;var ue=kt[F].offset,De=(Wt-ue)/(kt[F+1].offset-ue),st=kt[F].color,ct=kt[F+1].color;ti+=Q(Math.round((1-De)*st[0]+De*ct[0]).toString(16))+Q(Math.round((1-De)*st[1]+De*ct[1]).toString(16))+Q(Math.round((1-De)*st[2]+De*ct[2]).toString(16))}return ti.trim()}(K.colors,be),rt=[];rt.push({key:"FunctionType",value:"0"}),rt.push({key:"Domain",value:"[0.0 1.0]"}),rt.push({key:"Size",value:"["+be+"]"}),rt.push({key:"BitsPerSample",value:"8"}),rt.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),rt.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),zi({data:Ge,additionalKeyValues:rt,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ue}),fe("endobj"),K.objectNumber=Ut(),fe("<< /ShadingType "+K.type),fe("/ColorSpace /DeviceRGB");var yt="/Coords ["+C(parseFloat(K.coords[0]))+" "+C(parseFloat(K.coords[1]))+" ";K.type===2?yt+=C(parseFloat(K.coords[2]))+" "+C(parseFloat(K.coords[3])):yt+=C(parseFloat(K.coords[2]))+" "+C(parseFloat(K.coords[3]))+" "+C(parseFloat(K.coords[4]))+" "+C(parseFloat(K.coords[5])),fe(yt+="]"),K.matrix&&fe("/Matrix ["+K.matrix.toString()+"]"),fe("/Function "+Ue+" 0 R"),fe("/Extend [true true]"),fe(">>"),fe("endobj")},_l=function(K,be){var Ue=Jt(),Ge=Ut();be.push({resourcesOid:Ue,objectOid:Ge}),K.objectNumber=Ge;var rt=[];rt.push({key:"Type",value:"/Pattern"}),rt.push({key:"PatternType",value:"1"}),rt.push({key:"PaintType",value:"1"}),rt.push({key:"TilingType",value:"1"}),rt.push({key:"BBox",value:"["+K.boundingBox.map(C).join(" ")+"]"}),rt.push({key:"XStep",value:C(K.xStep)}),rt.push({key:"YStep",value:C(K.yStep)}),rt.push({key:"Resources",value:Ue+" 0 R"}),K.matrix&&rt.push({key:"Matrix",value:"["+K.matrix.toString()+"]"}),zi({data:K.stream,additionalKeyValues:rt,objectId:K.objectNumber}),fe("endobj")},dc=function(K){for(var be in K.objectNumber=Ut(),fe("<<"),K)switch(be){case"opacity":fe("/ca "+E(K[be]));break;case"stroke-opacity":fe("/CA "+E(K[be]))}fe(">>"),fe("endobj")},Fs=function(K){hn(K.resourcesOid,!0),fe("<<"),fe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var be in fe("/Font <<"),mt)mt.hasOwnProperty(be)&&(f===!1||f===!0&&h.hasOwnProperty(be))&&fe("/"+be+" "+mt[be].objectNumber+" 0 R");fe(">>")}(),function(){if(Object.keys(ft).length>0){for(var be in fe("/Shading <<"),ft)ft.hasOwnProperty(be)&&ft[be]instanceof Om&&ft[be].objectNumber>=0&&fe("/"+be+" "+ft[be].objectNumber+" 0 R");Bt.publish("putShadingPatternDict"),fe(">>")}}(),function(be){if(Object.keys(ft).length>0){for(var Ue in fe("/Pattern <<"),ft)ft.hasOwnProperty(Ue)&&ft[Ue]instanceof p.TilingPattern&&ft[Ue].objectNumber>=0&&ft[Ue].objectNumber<be&&fe("/"+Ue+" "+ft[Ue].objectNumber+" 0 R");Bt.publish("putTilingPatternDict"),fe(">>")}}(K.objectOid),function(){if(Object.keys(tt).length>0){var be;for(be in fe("/ExtGState <<"),tt)tt.hasOwnProperty(be)&&tt[be].objectNumber>=0&&fe("/"+be+" "+tt[be].objectNumber+" 0 R");Bt.publish("putGStateDict"),fe(">>")}}(),function(){for(var be in fe("/XObject <<"),sn)sn.hasOwnProperty(be)&&sn[be].objectNumber>=0&&fe("/"+be+" "+sn[be].objectNumber+" 0 R");Bt.publish("putXobjectDict"),fe(">>")}(),fe(">>"),fe("endobj")},od=function(K){qe[K.fontName]=qe[K.fontName]||{},qe[K.fontName][K.fontStyle]=K.id},ld=function(K,be,Ue,Ge,rt){var yt={id:"F"+(Object.keys(mt).length+1).toString(10),postScriptName:K,fontName:be,fontStyle:Ue,encoding:Ge,isStandardFont:rt||!1,metadata:{}};return Bt.publish("addFont",{font:yt,instance:this}),mt[yt.id]=yt,od(yt),yt.id},Us=p.__private__.pdfEscape=p.pdfEscape=function(K,be){return function(Ue,Ge){var rt,yt,kt,$t,Wt,nn,jt,Sn,ei;if(kt=(Ge=Ge||{}).sourceEncoding||"Unicode",Wt=Ge.outputEncoding,(Ge.autoencode||Wt)&&mt[me].metadata&&mt[me].metadata[kt]&&mt[me].metadata[kt].encoding&&($t=mt[me].metadata[kt].encoding,!Wt&&mt[me].encoding&&(Wt=mt[me].encoding),!Wt&&$t.codePages&&(Wt=$t.codePages[0]),typeof Wt=="string"&&(Wt=$t[Wt]),Wt)){for(jt=!1,nn=[],rt=0,yt=Ue.length;rt<yt;rt++)(Sn=Wt[Ue.charCodeAt(rt)])?nn.push(String.fromCharCode(Sn)):nn.push(Ue[rt]),nn[rt].charCodeAt(0)>>8&&(jt=!0);Ue=nn.join("")}for(rt=Ue.length;jt===void 0&&rt!==0;)Ue.charCodeAt(rt-1)>>8&&(jt=!0),rt--;if(!jt)return Ue;for(nn=Ge.noBOM?[]:[254,255],rt=0,yt=Ue.length;rt<yt;rt++){if((ei=(Sn=Ue.charCodeAt(rt))>>8)>>8)throw new Error("Character at position "+rt+" of string '"+Ue+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");nn.push(ei),nn.push(Sn-(ei<<8))}return String.fromCharCode.apply(void 0,nn)}(K,be).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},cd=p.__private__.beginPage=function(K){Fe[++Et]=[],St[Et]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(K[0]),topRightY:Number(K[1])}},uc(Et),Ve(Fe[z])},Nu=function(K,be){var Ue,Ge,rt;switch(t=be||t,typeof K=="string"&&(Ue=m(K.toLowerCase()),Array.isArray(Ue)&&(Ge=Ue[0],rt=Ue[1])),Array.isArray(K)&&(Ge=K[0]*ge,rt=K[1]*ge),isNaN(Ge)&&(Ge=r[0],rt=r[1]),(Ge>14400||rt>14400)&&(Ti.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ge=Math.min(14400,Ge),rt=Math.min(14400,rt)),r=[Ge,rt],t.substr(0,1)){case"l":rt>Ge&&(r=[rt,Ge]);break;case"p":Ge>rt&&(r=[rt,Ge])}cd(r),rn(Zi),fe(Kn),To!==0&&fe(To+" J"),ms!==0&&fe(ms+" j"),Bt.publish("addPage",{pageNumber:Et})},Eo=function(K){K>0&&K<=Et&&(Fe.splice(K,1),St.splice(K,1),Et--,z>Et&&(z=Et),this.setPage(z))},uc=function(K){K>0&&K<=Et&&(z=K)},dd=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Fe.length-1},ud=function(K,be,Ue){var Ge,rt=void 0;return Ue=Ue||{},K=K!==void 0?K:mt[me].fontName,be=be!==void 0?be:mt[me].fontStyle,Ge=K.toLowerCase(),qe[Ge]!==void 0&&qe[Ge][be]!==void 0?rt=qe[Ge][be]:qe[K]!==void 0&&qe[K][be]!==void 0?rt=qe[K][be]:Ue.disableWarning===!1&&Ti.warn("Unable to look up font label for font '"+K+"', '"+be+"'. Refer to getFontList() for available fonts."),rt||Ue.noFallback||(rt=qe.times[be])==null&&(rt=qe.times.normal),rt},fs=p.__private__.putInfo=function(){var K=Ut(),be=function(Ge){return Ge};for(var Ue in u!==null&&(be=Si.encryptor(K,0)),fe("<<"),fe("/Producer ("+Us(be("jsPDF "+en.version))+")"),ae)ae.hasOwnProperty(Ue)&&ae[Ue]&&fe("/"+Ue.substr(0,1).toUpperCase()+Ue.substr(1)+" ("+Us(be(ae[Ue]))+")");fe("/CreationDate ("+Us(be(M))+")"),fe(">>"),fe("endobj")},Sl=p.__private__.putCatalog=function(K){var be=(K=K||{}).rootDictionaryObjId||hi;switch(Ut(),fe("<<"),fe("/Type /Catalog"),fe("/Pages "+be+" 0 R"),ke||(ke="fullwidth"),ke){case"fullwidth":fe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":fe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":fe("/OpenAction [3 0 R /Fit]");break;case"original":fe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ue=""+ke;Ue.substr(Ue.length-1)==="%"&&(ke=parseInt(ke)/100),typeof ke=="number"&&fe("/OpenAction [3 0 R /XYZ null null "+E(ke)+"]")}switch(te||(te="continuous"),te){case"continuous":fe("/PageLayout /OneColumn");break;case"single":fe("/PageLayout /SinglePage");break;case"two":case"twoleft":fe("/PageLayout /TwoColumnLeft");break;case"tworight":fe("/PageLayout /TwoColumnRight")}U&&fe("/PageMode /"+U),Bt.publish("putCatalog"),fe(">>"),fe("endobj")},ka=p.__private__.putTrailer=function(){fe("trailer"),fe("<<"),fe("/Size "+(V+1)),fe("/Root "+V+" 0 R"),fe("/Info "+(V-1)+" 0 R"),u!==null&&fe("/Encrypt "+Si.oid+" 0 R"),fe("/ID [ <"+Y+"> <"+Y+"> ]"),fe(">>")},Bn=p.__private__.putHeader=function(){fe("%PDF-"+v),fe("%")},sa=p.__private__.putXRef=function(){var K="0000000000";fe("xref"),fe("0 "+(V+1)),fe("0000000000 65535 f ");for(var be=1;be<=V;be++)typeof Z[be]=="function"?fe((K+Z[be]()).slice(-10)+" 00000 n "):Z[be]!==void 0?fe((K+Z[be]).slice(-10)+" 00000 n "):fe("0000000000 00000 n ")},lr=p.__private__.buildDocument=function(){var K;V=0,le=0,_e=[],Z=[],ce=[],hi=Jt(),Bi=Jt(),Ve(_e),Bt.publish("buildDocument"),Bn(),Xr(),function(){Bt.publish("putAdditionalObjects");for(var Ue=0;Ue<ce.length;Ue++){var Ge=ce[Ue];hn(Ge.objId,!0),fe(Ge.content),fe("endobj")}Bt.publish("postPutAdditionalObjects")}(),K=[],function(){for(var Ue in mt)mt.hasOwnProperty(Ue)&&(f===!1||f===!0&&h.hasOwnProperty(Ue))&&Ur(mt[Ue])}(),function(){var Ue;for(Ue in tt)tt.hasOwnProperty(Ue)&&dc(tt[Ue])}(),function(){for(var Ue in sn)sn.hasOwnProperty(Ue)&&Yr(sn[Ue])}(),function(Ue){var Ge;for(Ge in ft)ft.hasOwnProperty(Ge)&&(ft[Ge]instanceof Om?cc(ft[Ge]):ft[Ge]instanceof G0&&_l(ft[Ge],Ue))}(K),Bt.publish("putResources"),K.forEach(Fs),Fs({resourcesOid:Bi,objectOid:Number.MAX_SAFE_INTEGER}),Bt.publish("postPutResources"),u!==null&&(Si.oid=Ut(),fe("<<"),fe("/Filter /Standard"),fe("/V "+Si.v),fe("/R "+Si.r),fe("/U <"+Si.toHexString(Si.U)+">"),fe("/O <"+Si.toHexString(Si.O)+">"),fe("/P "+Si.P),fe(">>"),fe("endobj")),fs(),Sl();var be=le;return sa(),ka(),fe("startxref"),fe(""+be),fe("%%EOF"),Ve(Fe[z]),_e.join(`
`)},Nl=p.__private__.getBlob=function(K){return new Blob([je(K)],{type:"application/pdf"})},zn=p.output=p.__private__.output=(Nt=function(K,be){switch(typeof(be=be||{})=="string"?be={filename:be}:be.filename=be.filename||"generated.pdf",K){case void 0:return lr();case"save":p.save(be.filename);break;case"arraybuffer":return je(lr());case"blob":return Nl(lr());case"bloburi":case"bloburl":if(ln.URL!==void 0&&typeof ln.URL.createObjectURL=="function")return ln.URL&&ln.URL.createObjectURL(Nl(lr()))||void 0;Ti.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ue="",Ge=lr();try{Ue=FB(Ge)}catch{Ue=FB(unescape(encodeURIComponent(Ge)))}return"data:application/pdf;filename="+be.filename+";base64,"+Ue;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ln)==="[object Window]"){var rt="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",yt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';be.pdfObjectUrl&&(rt=be.pdfObjectUrl,yt="");var kt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+rt+'"'+yt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(be)+");<\/script></body></html>",$t=ln.open();return $t!==null&&$t.document.write(kt),$t}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ln)==="[object Window]"){var Wt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(be.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+be.filename+'" width="500px" height="400px" /></body></html>',nn=ln.open();if(nn!==null){nn.document.write(Wt);var jt=this;nn.document.documentElement.querySelector("#pdfViewer").onload=function(){nn.document.title=be.filename,nn.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(jt.output("bloburl"))}}return nn}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ln)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Sn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",be)+'"></iframe></body></html>',ei=ln.open();if(ei!==null&&(ei.document.write(Sn),ei.document.title=be.filename),ei||typeof safari>"u")return ei;break;case"datauri":case"dataurl":return ln.document.location.href=this.output("datauristring",be);default:return null}},Nt.foo=function(){try{return Nt.apply(this,arguments)}catch(Ue){var K=Ue.stack||"";~K.indexOf(" at ")&&(K=K.split(" at ")[1]);var be="Error in function "+K.split(`
`)[0].split("<")[0]+": "+Ue.message;if(!ln.console)throw new Error(be);ln.console.error(be,Ue),ln.alert&&alert(be)}},Nt.foo.bar=Nt,Nt.foo),Kr=function(K){return Array.isArray(kn)===!0&&kn.indexOf(K)>-1};switch(i){case"pt":ge=1;break;case"mm":ge=72/25.4;break;case"cm":ge=72/2.54;break;case"in":ge=72;break;case"px":ge=Kr("px_scaling")==1?.75:96/72;break;case"pc":case"em":ge=12;break;case"ex":ge=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);ge=i}var Si=null;W(),G();var ps=p.__private__.getPageInfo=p.getPageInfo=function(K){if(isNaN(K)||K%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:St[K].objId,pageNumber:K,pageContext:St[K]}},Au=p.__private__.getPageInfoByObjId=function(K){if(isNaN(K)||K%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var be in St)if(St[be].objId===K)break;return ps(be)},ku=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:St[z].objId,pageNumber:z,pageContext:St[z]}};p.addPage=function(){return Nu.apply(this,arguments),this},p.setPage=function(){return uc.apply(this,arguments),Ve.call(this,Fe[z]),this},p.insertPage=function(K){return this.addPage(),this.movePage(z,K),this},p.movePage=function(K,be){var Ue,Ge;if(K>be){Ue=Fe[K],Ge=St[K];for(var rt=K;rt>be;rt--)Fe[rt]=Fe[rt-1],St[rt]=St[rt-1];Fe[be]=Ue,St[be]=Ge,this.setPage(be)}else if(K<be){Ue=Fe[K],Ge=St[K];for(var yt=K;yt<be;yt++)Fe[yt]=Fe[yt+1],St[yt]=St[yt+1];Fe[be]=Ue,St[be]=Ge,this.setPage(be)}return this},p.deletePage=function(){return Eo.apply(this,arguments),this},p.__private__.text=p.text=function(K,be,Ue,Ge,rt){var yt,kt,$t,Wt,nn,jt,Sn,ei,ti,F=(Ge=Ge||{}).scope||this;if(typeof K=="number"&&typeof be=="number"&&(typeof Ue=="string"||Array.isArray(Ue))){var re=Ue;Ue=be,be=K,K=re}if(arguments[3]instanceof Me==0?($t=arguments[4],Wt=arguments[5],ci(Sn=arguments[3])==="object"&&Sn!==null||(typeof $t=="string"&&(Wt=$t,$t=null),typeof Sn=="string"&&(Wt=Sn,Sn=null),typeof Sn=="number"&&($t=Sn,Sn=null),Ge={flags:Sn,angle:$t,align:Wt})):(P("The transform parameter of text() with a Matrix value"),ti=rt),isNaN(be)||isNaN(Ue)||K==null)throw new Error("Invalid arguments passed to jsPDF.text");if(K.length===0)return F;var ue,De="",st=typeof Ge.lineHeightFactor=="number"?Ge.lineHeightFactor:hc,ct=F.internal.scaleFactor;function Lt(Zn){return Zn=Zn.split("	").join(Array(Ge.TabLen||9).join(" ")),Us(Zn,Sn)}function on(Zn){for(var Ni,kr=Zn.concat(),Qr=[],Ru=kr.length;Ru--;)typeof(Ni=kr.shift())=="string"?Qr.push(Ni):Array.isArray(Zn)&&(Ni.length===1||Ni[1]===void 0&&Ni[2]===void 0)?Qr.push(Ni[0]):Qr.push([Ni[0],Ni[1],Ni[2]]);return Qr}function mi(Zn,Ni){var kr;if(typeof Zn=="string")kr=Ni(Zn)[0];else if(Array.isArray(Zn)){for(var Qr,Ru,d2=Zn.concat(),d0=[],VS=d2.length;VS--;)typeof(Qr=d2.shift())=="string"?d0.push(Ni(Qr)[0]):Array.isArray(Qr)&&typeof Qr[0]=="string"&&(Ru=Ni(Qr[0],Qr[1],Qr[2]),d0.push([Ru[0],Ru[1],Ru[2]]));kr=d0}return kr}var Nn=!1,gi=!0;if(typeof K=="string")Nn=!0;else if(Array.isArray(K)){var Mr=K.concat();kt=[];for(var ys,ni=Mr.length;ni--;)(typeof(ys=Mr.shift())!="string"||Array.isArray(ys)&&typeof ys[0]!="string")&&(gi=!1);Nn=gi}if(Nn===!1)throw new Error('Type of text must be string or Array. "'+K+'" is not recognized.');typeof K=="string"&&(K=K.match(/[\r?\n]/)?K.split(/\r\n|\r|\n/g):[K]);var vs=$/F.internal.scaleFactor,Ca=vs*(st-1);switch(Ge.baseline){case"bottom":Ue-=Ca;break;case"top":Ue+=vs-Ca;break;case"hanging":Ue+=vs-2*Ca;break;case"middle":Ue+=vs/2-Ca}if((jt=Ge.maxWidth||0)>0&&(typeof K=="string"?K=F.splitTextToSize(K,jt):Object.prototype.toString.call(K)==="[object Array]"&&(K=K.reduce(function(Zn,Ni){return Zn.concat(F.splitTextToSize(Ni,jt))},[]))),yt={text:K,x:be,y:Ue,options:Ge,mutex:{pdfEscape:Us,activeFontKey:me,fonts:mt,activeFontSize:$}},Bt.publish("preProcessText",yt),K=yt.text,$t=(Ge=yt.options).angle,ti instanceof Me==0&&$t&&typeof $t=="number"){$t*=Math.PI/180,Ge.rotationDirection===0&&($t=-$t),x===_&&($t=-$t);var vc=Math.cos($t),wm=Math.sin($t);ti=new Me(vc,wm,-wm,vc,0,0)}else $t&&$t instanceof Me&&(ti=$t);x!==_||ti||(ti=Pt),(nn=Ge.charSpace||Ta)!==void 0&&(De+=C(I(nn))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ei=Ge.horizontalScale)!==void 0&&(De+=C(100*ei)+` Tz
`),Ge.lang;var Bs=-1,bc=Ge.renderingMode!==void 0?Ge.renderingMode:Ge.stroke,wd=F.internal.getCurrentPageInfo().pageContext;switch(bc){case 0:case!1:case"fill":Bs=0;break;case 1:case!0:case"stroke":Bs=1;break;case 2:case"fillThenStroke":Bs=2;break;case 3:case"invisible":Bs=3;break;case 4:case"fillAndAddForClipping":Bs=4;break;case 5:case"strokeAndAddPathForClipping":Bs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Bs=6;break;case 7:case"addToPathForClipping":Bs=7}var de=wd.usedRenderingMode!==void 0?wd.usedRenderingMode:-1;Bs!==-1?De+=Bs+` Tr
`:de!==-1&&(De+=`0 Tr
`),Bs!==-1&&(wd.usedRenderingMode=Bs),Wt=Ge.align||"left";var Ne,$e=$*st,He=F.internal.pageSize.getWidth(),et=mt[me];nn=Ge.charSpace||Ta,jt=Ge.maxWidth||0,Sn=Object.assign({autoencode:!0,noBOM:!0},Ge.flags);var Ze=[],xt=function(Zn){return F.getStringUnitWidth(Zn,{font:et,charSpace:nn,fontSize:$,doKerning:!1})*$/ct};if(Object.prototype.toString.call(K)==="[object Array]"){var Rt;kt=on(K),Wt!=="left"&&(Ne=kt.map(xt));var Qt,tn=0;if(Wt==="right"){be-=Ne[0],K=[],ni=kt.length;for(var Jn=0;Jn<ni;Jn++)Jn===0?(Qt=Qi(be),Rt=Zr(Ue)):(Qt=I(tn-Ne[Jn]),Rt=-$e),K.push([kt[Jn],Qt,Rt]),tn=Ne[Jn]}else if(Wt==="center"){be-=Ne[0]/2,K=[],ni=kt.length;for(var cr=0;cr<ni;cr++)cr===0?(Qt=Qi(be),Rt=Zr(Ue)):(Qt=I((tn-Ne[cr])/2),Rt=-$e),K.push([kt[cr],Qt,Rt]),tn=Ne[cr]}else if(Wt==="left"){K=[],ni=kt.length;for(var hf=0;hf<ni;hf++)K.push(kt[hf])}else if(Wt==="justify"&&et.encoding==="Identity-H"){K=[],ni=kt.length,jt=jt!==0?jt:He;for(var Iu=0,Ar=0;Ar<ni;Ar++)if(Rt=Ar===0?Zr(Ue):-$e,Qt=Ar===0?Qi(be):Iu,Ar<ni-1){var HS=I((jt-Ne[Ar])/(kt[Ar].split(" ").length-1)),xd=kt[Ar].split(" ");K.push([xd[0]+" ",Qt,Rt]),Iu=0;for(var _d=1;_d<xd.length;_d++){var a2=(xt(xd[_d-1]+" "+xd[_d])-xt(xd[_d]))*ct+HS;_d==xd.length-1?K.push([xd[_d],a2,0]):K.push([xd[_d]+" ",a2,0]),Iu-=a2}}else K.push([kt[Ar],Qt,Rt]);K.push(["",Iu,0])}else{if(Wt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(K=[],ni=kt.length,jt=jt!==0?jt:He,Ar=0;Ar<ni;Ar++){Rt=Ar===0?Zr(Ue):-$e,Qt=Ar===0?Qi(be):0;var o2=kt[Ar].split(" ").length-1,l2=o2>0?(jt-Ne[Ar])/o2:0;Ar<ni-1?Ze.push(C(I(l2))):Ze.push(0),K.push([kt[Ar],Qt,Rt])}}}(typeof Ge.R2L=="boolean"?Ge.R2L:pe)===!0&&(K=mi(K,function(Zn,Ni,kr){return[Zn.split("").reverse().join(""),Ni,kr]})),yt={text:K,x:be,y:Ue,options:Ge,mutex:{pdfEscape:Us,activeFontKey:me,fonts:mt,activeFontSize:$}},Bt.publish("postProcessText",yt),K=yt.text,ue=yt.mutex.isHex||!1;var c2=mt[me].encoding;c2!=="WinAnsiEncoding"&&c2!=="StandardEncoding"||(K=mi(K,function(Zn,Ni,kr){return[Lt(Zn),Ni,kr]})),kt=on(K),K=[];for(var ff,pf,mf,xm=Array.isArray(kt[0])?1:0,gf="",_m=function(Zn,Ni,kr){var Qr="";return kr instanceof Me?(kr=typeof Ge.angle=="number"?ht(kr,new Me(1,0,0,1,Zn,Ni)):ht(new Me(1,0,0,1,Zn,Ni),kr),x===_&&(kr=ht(new Me(1,0,0,-1,0,0),kr)),Qr=kr.join(" ")+` Tm
`):Qr=C(Zn)+" "+C(Ni)+` Td
`,Qr},El=0;El<kt.length;El++){switch(gf="",xm){case 1:mf=(ue?"<":"(")+kt[El][0]+(ue?">":")"),ff=parseFloat(kt[El][1]),pf=parseFloat(kt[El][2]);break;case 0:mf=(ue?"<":"(")+kt[El]+(ue?">":")"),ff=Qi(be),pf=Zr(Ue)}Ze!==void 0&&Ze[El]!==void 0&&(gf=Ze[El]+` Tw
`),El===0?K.push(gf+_m(ff,pf,ti)+mf):xm===0?K.push(gf+mf):xm===1&&K.push(gf+_m(ff,pf,ti)+mf)}K=xm===0?K.join(` Tj
T* `):K.join(` Tj
`),K+=` Tj
`;var Sd=`BT
/`;return Sd+=me+" "+$+` Tf
`,Sd+=C($*st)+` TL
`,Sd+=kl+`
`,Sd+=De,Sd+=K,fe(Sd+="ET"),h[me]=!0,F};var bm=p.__private__.clip=p.clip=function(K){return fe(K==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return bm("evenodd")},p.__private__.discardPath=p.discardPath=function(){return fe("n"),this};var Ya=p.__private__.isValidStyle=function(K){var be=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(K)!==-1&&(be=!0),be};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(K){return Ya(K)&&(d=K),this};var Eu=p.__private__.getStyle=p.getStyle=function(K){var be=d;switch(K){case"D":case"S":be="S";break;case"F":be="f";break;case"FD":case"DF":be="B";break;case"f":case"f*":case"B":case"B*":be=K}return be},Tu=p.close=function(){return fe("h"),this};p.stroke=function(){return fe("S"),this},p.fill=function(K){return Ka("f",K),this},p.fillEvenOdd=function(K){return Ka("f*",K),this},p.fillStroke=function(K){return Ka("B",K),this},p.fillStrokeEvenOdd=function(K){return Ka("B*",K),this};var Ka=function(K,be){ci(be)==="object"?cf(be,K):fe(K)},Jr=function(K){K===null||x===_&&K===void 0||(K=Eu(K),fe(K))};function Cu(K,be,Ue,Ge,rt){var yt=new G0(be||this.boundingBox,Ue||this.xStep,Ge||this.yStep,this.gState,rt||this.matrix);yt.stream=this.stream;var kt=K+"$$"+this.cloneIndex+++"$$";return ot(kt,yt),yt}var cf=function(K,be){var Ue=We[K.key],Ge=ft[Ue];if(Ge instanceof Om)fe("q"),fe(df(be)),Ge.gState&&p.setGState(Ge.gState),fe(K.matrix.toString()+" cm"),fe("/"+Ue+" sh"),fe("Q");else if(Ge instanceof G0){var rt=new Me(1,0,0,-1,0,Po());K.matrix&&(rt=rt.multiply(K.matrix||Pt),Ue=Cu.call(Ge,K.key,K.boundingBox,K.xStep,K.yStep,rt).id),fe("q"),fe("/Pattern cs"),fe("/"+Ue+" scn"),Ge.gState&&p.setGState(Ge.gState),fe(be),fe("Q")}},df=function(K){switch(K){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},hd=p.moveTo=function(K,be){return fe(C(I(K))+" "+C(R(be))+" m"),this},fd=p.lineTo=function(K,be){return fe(C(I(K))+" "+C(R(be))+" l"),this},Sr=p.curveTo=function(K,be,Ue,Ge,rt,yt){return fe([C(I(K)),C(R(be)),C(I(Ue)),C(R(Ge)),C(I(rt)),C(R(yt)),"c"].join(" ")),this};p.__private__.line=p.line=function(K,be,Ue,Ge,rt){if(isNaN(K)||isNaN(be)||isNaN(Ue)||isNaN(Ge)||!Ya(rt))throw new Error("Invalid arguments passed to jsPDF.line");return x===y?this.lines([[Ue-K,Ge-be]],K,be,[1,1],rt||"S"):this.lines([[Ue-K,Ge-be]],K,be,[1,1]).stroke()},p.__private__.lines=p.lines=function(K,be,Ue,Ge,rt,yt){var kt,$t,Wt,nn,jt,Sn,ei,ti,F,re,ue,De;if(typeof K=="number"&&(De=Ue,Ue=be,be=K,K=De),Ge=Ge||[1,1],yt=yt||!1,isNaN(be)||isNaN(Ue)||!Array.isArray(K)||!Array.isArray(Ge)||!Ya(rt)||typeof yt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(hd(be,Ue),kt=Ge[0],$t=Ge[1],nn=K.length,re=be,ue=Ue,Wt=0;Wt<nn;Wt++)(jt=K[Wt]).length===2?(re=jt[0]*kt+re,ue=jt[1]*$t+ue,fd(re,ue)):(Sn=jt[0]*kt+re,ei=jt[1]*$t+ue,ti=jt[2]*kt+re,F=jt[3]*$t+ue,re=jt[4]*kt+re,ue=jt[5]*$t+ue,Sr(Sn,ei,ti,F,re,ue));return yt&&Tu(),Jr(rt),this},p.path=function(K){for(var be=0;be<K.length;be++){var Ue=K[be],Ge=Ue.c;switch(Ue.op){case"m":hd(Ge[0],Ge[1]);break;case"l":fd(Ge[0],Ge[1]);break;case"c":Sr.apply(this,Ge);break;case"h":Tu()}}return this},p.__private__.rect=p.rect=function(K,be,Ue,Ge,rt){if(isNaN(K)||isNaN(be)||isNaN(Ue)||isNaN(Ge)||!Ya(rt))throw new Error("Invalid arguments passed to jsPDF.rect");return x===y&&(Ge=-Ge),fe([C(I(K)),C(R(be)),C(I(Ue)),C(I(Ge)),"re"].join(" ")),Jr(rt),this},p.__private__.triangle=p.triangle=function(K,be,Ue,Ge,rt,yt,kt){if(isNaN(K)||isNaN(be)||isNaN(Ue)||isNaN(Ge)||isNaN(rt)||isNaN(yt)||!Ya(kt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ue-K,Ge-be],[rt-Ue,yt-Ge],[K-rt,be-yt]],K,be,[1,1],kt,!0),this},p.__private__.roundedRect=p.roundedRect=function(K,be,Ue,Ge,rt,yt,kt){if(isNaN(K)||isNaN(be)||isNaN(Ue)||isNaN(Ge)||isNaN(rt)||isNaN(yt)||!Ya(kt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var $t=4/3*(Math.SQRT2-1);return rt=Math.min(rt,.5*Ue),yt=Math.min(yt,.5*Ge),this.lines([[Ue-2*rt,0],[rt*$t,0,rt,yt-yt*$t,rt,yt],[0,Ge-2*yt],[0,yt*$t,-rt*$t,yt,-rt,yt],[2*rt-Ue,0],[-rt*$t,0,-rt,-yt*$t,-rt,-yt],[0,2*yt-Ge],[0,-yt*$t,rt*$t,-yt,rt,-yt]],K+rt,be,[1,1],kt,!0),this},p.__private__.ellipse=p.ellipse=function(K,be,Ue,Ge,rt){if(isNaN(K)||isNaN(be)||isNaN(Ue)||isNaN(Ge)||!Ya(rt))throw new Error("Invalid arguments passed to jsPDF.ellipse");var yt=4/3*(Math.SQRT2-1)*Ue,kt=4/3*(Math.SQRT2-1)*Ge;return hd(K+Ue,be),Sr(K+Ue,be-kt,K+yt,be-Ge,K,be-Ge),Sr(K-yt,be-Ge,K-Ue,be-kt,K-Ue,be),Sr(K-Ue,be+kt,K-yt,be+Ge,K,be+Ge),Sr(K+yt,be+Ge,K+Ue,be+kt,K+Ue,be),Jr(rt),this},p.__private__.circle=p.circle=function(K,be,Ue,Ge){if(isNaN(K)||isNaN(be)||isNaN(Ue)||!Ya(Ge))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(K,be,Ue,Ue,Ge)},p.setFont=function(K,be,Ue){return Ue&&(be=T(be,Ue)),me=ud(K,be,{disableWarning:!1}),this};var uf=p.__private__.getFont=p.getFont=function(){return mt[ud.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var K,be,Ue={};for(K in qe)if(qe.hasOwnProperty(K))for(be in Ue[K]=[],qe[K])qe[K].hasOwnProperty(be)&&Ue[K].push(be);return Ue},p.addFont=function(K,be,Ue,Ge,rt){var yt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&yt.indexOf(arguments[3])!==-1?rt=arguments[3]:arguments[3]&&yt.indexOf(arguments[3])==-1&&(Ue=T(Ue,Ge)),ld.call(this,K,be,Ue,rt=rt||"Identity-H")};var hc,Zi=n.lineWidth||.200025,Ea=p.__private__.getLineWidth=p.getLineWidth=function(){return Zi},rn=p.__private__.setLineWidth=p.setLineWidth=function(K){return Zi=K,fe(C(I(K))+" w"),this};p.__private__.setLineDash=en.API.setLineDash=en.API.setLineDashPattern=function(K,be){if(K=K||[],be=be||0,isNaN(be)||!Array.isArray(K))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return K=K.map(function(Ue){return C(I(Ue))}).join(" "),be=C(I(be)),fe("["+K+"] "+be+" d"),this};var fc=p.__private__.getLineHeight=p.getLineHeight=function(){return $*hc};p.__private__.getLineHeight=p.getLineHeight=function(){return $*hc};var pd=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(K){return typeof(K=K||1.15)=="number"&&(hc=K),this},pc=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return hc};pd(n.lineHeight);var Qi=p.__private__.getHorizontalCoordinate=function(K){return I(K)},Zr=p.__private__.getVerticalCoordinate=function(K){return x===_?K:St[z].mediaBox.topRightY-St[z].mediaBox.bottomLeftY-I(K)},md=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(K){return C(Qi(K))},Al=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(K){return C(Zr(K))},Kn=n.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Pi(Kn)},p.__private__.setStrokeColor=p.setDrawColor=function(K,be,Ue,Ge){return Kn=fi({ch1:K,ch2:be,ch3:Ue,ch4:Ge,pdfColorType:"draw",precision:2}),fe(Kn),this};var Du=n.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Pi(Du)},p.__private__.setFillColor=p.setFillColor=function(K,be,Ue,Ge){return Du=fi({ch1:K,ch2:be,ch3:Ue,ch4:Ge,pdfColorType:"fill",precision:2}),fe(Du),this};var kl=n.textColor||"0 g",Nr=p.__private__.getTextColor=p.getTextColor=function(){return Pi(kl)};p.__private__.setTextColor=p.setTextColor=function(K,be,Ue,Ge){return kl=fi({ch1:K,ch2:be,ch3:Ue,ch4:Ge,pdfColorType:"text",precision:3}),this};var Ta=n.charSpace,gd=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Ta||0)};p.__private__.setCharSpace=p.setCharSpace=function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ta=K,this};var To=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(K){var be=p.CapJoinStyles[K];if(be===void 0)throw new Error("Line cap style of '"+K+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return To=be,fe(be+" J"),this};var ms=0;p.__private__.setLineJoin=p.setLineJoin=function(K){var be=p.CapJoinStyles[K];if(be===void 0)throw new Error("Line join style of '"+K+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ms=be,fe(be+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(K){if(K=K||0,isNaN(K))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return fe(C(I(K))+" M"),this},p.GState=V3,p.setGState=function(K){(K=typeof K=="string"?tt[pt[K]]:yd(null,K)).equals(Ct)||(fe("/"+K.id+" gs"),Ct=K)};var yd=function(K,be){if(!K||!pt[K]){var Ue=!1;for(var Ge in tt)if(tt.hasOwnProperty(Ge)&&tt[Ge].equals(be)){Ue=!0;break}if(Ue)be=tt[Ge];else{var rt="GS"+(Object.keys(tt).length+1).toString(10);tt[rt]=be,be.id=rt}return K&&(pt[K]=be.id),Bt.publish("addGState",be),be}};p.addGState=function(K,be){return yd(K,be),this},p.saveGraphicsState=function(){return fe("q"),it.push({key:me,size:$,color:kl}),this},p.restoreGraphicsState=function(){fe("Q");var K=it.pop();return me=K.key,$=K.size,kl=K.color,Ct=null,this},p.setCurrentTransformationMatrix=function(K){return fe(K.toString()+" cm"),this},p.comment=function(K){return fe("#"+K),this};var Co=function(K,be){var Ue=K||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ue},set:function(yt){isNaN(yt)||(Ue=parseFloat(yt))}});var Ge=be||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ge},set:function(yt){isNaN(yt)||(Ge=parseFloat(yt))}});var rt="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return rt},set:function(yt){rt=yt.toString()}}),this},Ja=function(K,be,Ue,Ge){Co.call(this,K,be),this.type="rect";var rt=Ue||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return rt},set:function(kt){isNaN(kt)||(rt=parseFloat(kt))}});var yt=Ge||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return yt},set:function(kt){isNaN(kt)||(yt=parseFloat(kt))}}),this},mc=function(){this.page=Et,this.currentPage=z,this.pages=Fe.slice(0),this.pagesContext=St.slice(0),this.x=Oe,this.y=Ye,this.matrix=Ke,this.width=vd(z),this.height=Pu(z),this.outputDestination=Re,this.id="",this.objectNumber=-1};mc.prototype.restore=function(){Et=this.page,z=this.currentPage,St=this.pagesContext,Fe=this.pages,Oe=this.x,Ye=this.y,Ke=this.matrix,yc(z,this.width),Ms(z,this.height),Re=this.outputDestination};var gc=function(K,be,Ue,Ge,rt){Pe.push(new mc),Et=z=0,Fe=[],Oe=K,Ye=be,Ke=rt,cd([Ue,Ge])};for(var Za in p.beginFormObject=function(K,be,Ue,Ge,rt){return gc(K,be,Ue,Ge,rt),this},p.endFormObject=function(K){return function(be){if(we[be])Pe.pop().restore();else{var Ue=new mc,Ge="Xo"+(Object.keys(sn).length+1).toString(10);Ue.id=Ge,we[be]=Ge,sn[Ge]=Ue,Bt.publish("addFormObject",Ue),Pe.pop().restore()}}(K),this},p.doFormObject=function(K,be){var Ue=sn[we[K]];return fe("q"),fe(be.toString()+" cm"),fe("/"+Ue.id+" Do"),fe("Q"),this},p.getFormObject=function(K){var be=sn[we[K]];return{x:be.x,y:be.y,width:be.width,height:be.height,matrix:be.matrix}},p.save=function(K,be){return K=K||"generated.pdf",(be=be||{}).returnPromise=be.returnPromise||!1,be.returnPromise===!1?(Rm(Nl(lr()),K),typeof Rm.unload=="function"&&ln.setTimeout&&setTimeout(Rm.unload,911),this):new Promise(function(Ue,Ge){try{var rt=Rm(Nl(lr()),K);typeof Rm.unload=="function"&&ln.setTimeout&&setTimeout(Rm.unload,911),Ue(rt)}catch(yt){Ge(yt.message)}})},en.API)en.API.hasOwnProperty(Za)&&(Za==="events"&&en.API.events.length?function(K,be){var Ue,Ge,rt;for(rt=be.length-1;rt!==-1;rt--)Ue=be[rt][0],Ge=be[rt][1],K.subscribe.apply(K,[Ue].concat(typeof Ge=="function"?[Ge]:Ge))}(Bt,en.API.events):p[Za]=en.API[Za]);function vd(K){return St[K].mediaBox.topRightX-St[K].mediaBox.bottomLeftX}function yc(K,be){St[K].mediaBox.topRightX=be+St[K].mediaBox.bottomLeftX}function Pu(K){return St[K].mediaBox.topRightY-St[K].mediaBox.bottomLeftY}function Ms(K,be){St[K].mediaBox.topRightY=be+St[K].mediaBox.bottomLeftY}var gs=p.getPageWidth=function(K){return vd(K=K||z)/ge},Do=p.setPageWidth=function(K,be){yc(K,be*ge)},Po=p.getPageHeight=function(K){return Pu(K=K||z)/ge},bd=p.setPageHeight=function(K,be){Ms(K,be*ge)};return p.internal={pdfEscape:Us,getStyle:Eu,getFont:uf,getFontSize:Se,getCharSpace:gd,getTextColor:Nr,getLineHeight:fc,getLineHeightFactor:pc,getLineWidth:Ea,write:Je,getHorizontalCoordinate:Qi,getVerticalCoordinate:Zr,getCoordinateString:md,getVerticalCoordinateString:Al,collections:{},newObject:Ut,newAdditionalObject:_i,newObjectDeferred:Jt,newObjectDeferredBegin:hn,getFilters:pi,putStream:zi,events:Bt,scaleFactor:ge,pageSize:{getWidth:function(){return gs(z)},setWidth:function(K){Do(z,K)},getHeight:function(){return Po(z)},setHeight:function(K){bd(z,K)}},encryptionOptions:u,encryption:Si,getEncryptor:function(K){return u!==null?Si.encryptor(K,0):function(be){return be}},output:zn,getNumberOfPages:dd,get pages(){return Fe},out:fe,f2:E,f3:A,getPageInfo:ps,getPageInfoByObjId:Au,getCurrentPageInfo:ku,getPDFVersion:w,Point:Co,Rectangle:Ja,Matrix:Me,hasHotfix:Kr},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return gs(z)},set:function(K){Do(z,K)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Po(z)},set:function(K){bd(z,K)},enumerable:!0,configurable:!0}),(function(K){for(var be=0,Ue=Ce.length;be<Ue;be++){var Ge=ld.call(this,K[be][0],K[be][1],K[be][2],Ce[be][3],!0);f===!1&&(h[Ge]=!0);var rt=K[be][0].split("-");od({id:Ge,fontName:rt[0],fontStyle:rt[1]||""})}Bt.publish("addFonts",{fonts:mt,dictionary:qe})}).call(p,Ce),me="F1",Nu(r,t),Bt.publish("initialized"),p}P0.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},P0.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},P0.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},P0.prototype.processOwnerPassword=function(n,e){return BI(MI(e).substr(0,5),n)},P0.prototype.encryptor=function(n,e){var t=MI(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return BI(t,i)}},V3.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||ci(n)!==ci(this))return!1;var i=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;i++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&i--;return i===0},en.API={events:[]},en.version="4.0.0";var vr=en.API,fO=1,c0=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},x0=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},cn=function(n){return n.toFixed(2)},kf=function(n){return n.toFixed(5)};vr.__acroform__={};var ko=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},zB=function(n){return n*fO},Id=function(n){var e=new pY,t=Gt.internal.getHeight(n)||0,i=Gt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(cn(i)),Number(cn(t))],e},iSe=vr.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},rSe=vr.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},sSe=vr.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},Ir=vr.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return sSe(n,e-1)},Rr=vr.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return iSe(n,e-1)},Lr=vr.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return rSe(n,e-1)},aSe=vr.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,r=n[0],s=n[1],a=n[2],o=n[3],c={};return c.lowerLeft_X=t(r)||0,c.lowerLeft_Y=i(s+o)||0,c.upperRight_X=t(r+a)||0,c.upperRight_Y=i(s)||0,[Number(cn(c.lowerLeft_X)),Number(cn(c.lowerLeft_Y)),Number(cn(c.upperRight_X)),Number(cn(c.upperRight_Y))]},oSe=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,i=zI(n,t),r=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+r+" "+cn(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Id(n);return s.scope=n.scope,s.stream=e.join(`
`),s}},zI=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,i={text:"",fontSize:""},r=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");r=n.multiline?r.map(function(E){return E.split(`
`)}):r.map(function(E){return[E]});var s=t,a=Gt.internal.getHeight(n)||0;a=a<0?-a:a;var o=Gt.internal.getWidth(n)||0;o=o<0?-o:o;var c=function(E,A,I){if(E+1<r.length){var R=A+" "+r[E+1][0];return nA(R,n,I).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var d,u,f=nA("3",n,s).height,h=n.multiline?a-s:(a-f)/2,p=h+=2,v=0,w=0,b=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+nA(e,n,s=12).width+", FieldWidth:"+o+`
`;break}for(var m="",y=0,_=0;_<r.length;_++)if(r.hasOwnProperty(_)){var x=!1;if(r[_].length!==1&&b!==r[_].length-1){if((f+2)*(y+2)+2>a)continue e;m+=r[_][b],x=!0,w=_,_--}else{m=(m+=r[_][b]+" ").substr(m.length-1)==" "?m.substr(0,m.length-1):m;var N=parseInt(_),k=c(N,m,s),T=_>=r.length-1;if(k&&!T){m+=" ",b=0;continue}if(k||T){if(T)w=N;else if(n.multiline&&(f+2)*(y+2)+2>a)continue e}else{if(!n.multiline||(f+2)*(y+2)+2>a)continue e;w=N}}for(var C="",P=v;P<=w;P++){var D=r[P];if(n.multiline){if(P===w){C+=D[b]+" ",b=(b+1)%D.length;continue}if(P===v){C+=D[D.length-1]+" ";continue}}C+=D[0]+" "}switch(C=C.substr(C.length-1)==" "?C.substr(0,C.length-1):C,u=nA(C,n,s).width,n.textAlign){case"right":d=o-u-2;break;case"center":d=(o-u)/2;break;default:d=2}e+=cn(d)+" "+cn(p)+` Td
`,e+="("+c0(C)+`) Tj
`,e+=-cn(d)+` 0 Td
`,p=-(s+2),u=0,v=x?w:w+1,y++,m=""}break}return i.text=e,i.fontSize=s,i},nA=function(n,e,t){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),r=e.scope.getStringUnitWidth(n,{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:r}},lSe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},cSe=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(i){return i.type===t.type&&i.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},dSe=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(sd.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(lSe)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");fO=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new mY,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var s=i[r];s.objId=void 0,s.hasAnnotation&&cSe(s,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(i,r){var s=!i;for(var a in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(a)){var o=i[a],c=[],d=o.Rect;if(o.Rect&&(o.Rect=aSe(o.Rect,r)),r.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Gt.createDefaultAppearanceStream(o),ci(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=d,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=oSe(o);c.push({key:"AP",value:"<</N "+u+">>"}),r.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var f="";for(var h in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(h)){var p=o.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var a in p)if(p.hasOwnProperty(a)){var v=p[a];typeof v=="function"&&(v=v.call(r,o)),f+="/"+a+" "+v+" ",r.internal.acroformPlugin.xForms.indexOf(v)>=0||r.internal.acroformPlugin.xForms.push(v)}}else typeof(v=p)=="function"&&(v=v.call(r,o)),f+="/"+a+" "+v,r.internal.acroformPlugin.xForms.indexOf(v)>=0||r.internal.acroformPlugin.xForms.push(v);f+=">>"}c.push({key:"AP",value:`<<
`+f+">>"})}r.internal.putStream({additionalKeyValues:c,objectId:o.objId}),r.internal.out("endobj")}s&&function(w,b){for(var m in w)if(w.hasOwnProperty(m)){var y=m,_=w[m];b.internal.newObjectDeferredBegin(_.objId,!0),ci(_)==="object"&&typeof _.putStream=="function"&&_.putStream(),delete w[y]}}(r.internal.acroformPlugin.xForms,r)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},fY=vr.__acroform__.arrayToPdfArray=function(n,e,t){var i=function(a){return a};if(Array.isArray(n)){for(var r="[",s=0;s<n.length;s++)switch(s!==0&&(r+=" "),ci(n[s])){case"boolean":case"number":case"object":r+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(e!==void 0&&t&&(i=t.internal.getEncryptor(e)),r+="("+c0(i(n[s].toString()))+")"):r+=n[s].toString()}return r+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},lD=function(n,e,t){var i=function(r){return r};return e!==void 0&&t&&(i=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+c0(i(n))+")"},hu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};hu.prototype.toString=function(){return this.objId+" 0 R"},hu.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},hu.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var i=e[t],r=this[i];r&&(Array.isArray(r)?n.push({key:i,value:fY(r,this.objId,this.scope)}):r instanceof hu?(r.scope=this.scope,n.push({key:i,value:r.objId+" 0 R"})):typeof r!="function"&&n.push({key:i,value:r}))}return n};var pY=function(){hu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};ko(pY,hu);var mY=function(){hu.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(i){return i};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+c0(t(n))+")"}},set:function(t){n=t}})};ko(mY,hu);var sd=function n(){hu.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute F supplied.');e=m}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ir(e,3)},set:function(m){m?this.F=Rr(e,3):this.F=Lr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute Ff supplied.');t=m}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(m){i=m!==void 0?m:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(m){i[0]=m}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(m){i[1]=m}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(m){i[2]=m}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(m){i[3]=m}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(m){switch(m){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=m;break;default:throw new Error('Invalid value "'+m+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof G3)return;s="FieldObject"+n.FieldNum++}var m=function(y){return y};return this.scope&&(m=this.scope.internal.getEncryptor(this.objId)),"("+c0(m(s))+")"},set:function(m){s=m.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(m){s=m}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(m){a=m}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(m){o=m}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(m){c=m}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/fO:d},set:function(m){d=m}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(m){u=m}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof G3||this instanceof L1))return lD(f,this.objId,this.scope)},set:function(m){m=m.toString(),f=m}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Ds==0?lD(h,this.objId,this.scope):h},set:function(m){m=m.toString(),h=this instanceof Ds==0?m.substr(0,1)==="("?x0(m.substr(1,m.length-2)):x0(m):m}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ds==1?x0(h.substr(1,h.length-1)):h},set:function(m){m=m.toString(),h=this instanceof Ds==1?"/"+m:m}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(m){this.V=m}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Ds==0?lD(p,this.objId,this.scope):p},set:function(m){m=m.toString(),p=this instanceof Ds==0?m.substr(0,1)==="("?x0(m.substr(1,m.length-2)):x0(m):m}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ds==1?x0(p.substr(1,p.length-1)):p},set:function(m){m=m.toString(),p=this instanceof Ds==1?"/"+m:m}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(m){m=!!m,w=m}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(m){v=m}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,1)},set:function(m){m?this.Ff=Rr(this.Ff,1):this.Ff=Lr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,2)},set:function(m){m?this.Ff=Rr(this.Ff,2):this.Ff=Lr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,3)},set:function(m){m?this.Ff=Rr(this.Ff,3):this.Ff=Lr(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(m){if([0,1,2].indexOf(m)===-1)throw new Error('Invalid value "'+m+'" for attribute Q supplied.');b=m}}),Object.defineProperty(this,"textAlign",{get:function(){var m;switch(b){case 0:default:m="left";break;case 1:m="center";break;case 2:m="right"}return m},configurable:!0,enumerable:!0,set:function(m){switch(m){case"right":case 2:b=2;break;case"center":case 1:b=1;break;default:b=0}}})};ko(sd,hu);var gy=function(){sd.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return fY(e,this.objId,this.scope)},set:function(t){var i,r;r=[],typeof(i=t)=="string"&&(r=function(s,a,o){o||(o=1);for(var c,d=[];c=a.exec(s);)d.push(c[o]);return d}(i,/\((.*?)\)/g)),e=r}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,i){for(i=i||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,18)},set:function(t){t?this.Ff=Rr(this.Ff,18):this.Ff=Lr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Rr(this.Ff,19):this.Ff=Lr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,20)},set:function(t){t?(this.Ff=Rr(this.Ff,20),e.sort()):this.Ff=Lr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,22)},set:function(t){t?this.Ff=Rr(this.Ff,22):this.Ff=Lr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,23)},set:function(t){t?this.Ff=Rr(this.Ff,23):this.Ff=Lr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,27)},set:function(t){t?this.Ff=Rr(this.Ff,27):this.Ff=Lr(this.Ff,27)}}),this.hasAppearanceStream=!1};ko(gy,sd);var yy=function(){gy.call(this),this.fontName="helvetica",this.combo=!1};ko(yy,gy);var vy=function(){yy.call(this),this.combo=!0};ko(vy,yy);var Sk=function(){vy.call(this),this.edit=!0};ko(Sk,vy);var Ds=function(){sd.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,15)},set:function(t){t?this.Ff=Rr(this.Ff,15):this.Ff=Lr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,16)},set:function(t){t?this.Ff=Rr(this.Ff,16):this.Ff=Lr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,17)},set:function(t){t?this.Ff=Rr(this.Ff,17):this.Ff=Lr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,26)},set:function(t){t?this.Ff=Rr(this.Ff,26):this.Ff=Lr(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var i,r=[];for(i in r.push("<<"),e)r.push("/"+i+" ("+c0(t(e[i]))+")");return r.push(">>"),r.join(`
`)}},set:function(t){ci(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};ko(Ds,sd);var Nk=function(){Ds.call(this),this.pushButton=!0};ko(Nk,Ds);var by=function(){Ds.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};ko(by,Ds);var G3=function(){var n,e;sd.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(r){e=r}});var t,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(o){return o};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),i)a.push("/"+s+" ("+c0(r(i[s]))+")");return a.push(">>"),a.join(`
`)},set:function(r){ci(r)==="object"&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){typeof r=="string"&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Gt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ko(G3,sd),by.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},by.prototype.createOption=function(n){var e=new G3;return e.Parent=this,e.optionName=n,this.Kids.push(e),uSe.call(this.scope,e),e};var Ak=function(){Ds.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Gt.CheckBox.createAppearanceStream()};ko(Ak,Ds);var L1=function(){sd.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,13)},set:function(e){e?this.Ff=Rr(this.Ff,13):this.Ff=Lr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,21)},set:function(e){e?this.Ff=Rr(this.Ff,21):this.Ff=Lr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,23)},set:function(e){e?this.Ff=Rr(this.Ff,23):this.Ff=Lr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,24)},set:function(e){e?this.Ff=Rr(this.Ff,24):this.Ff=Lr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,25)},set:function(e){e?this.Ff=Rr(this.Ff,25):this.Ff=Lr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,26)},set:function(e){e?this.Ff=Rr(this.Ff,26):this.Ff=Lr(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ko(L1,sd);var kk=function(){L1.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,14)},set:function(n){n?this.Ff=Rr(this.Ff,14):this.Ff=Lr(this.Ff,14)}}),this.password=!0};ko(kk,L1);var Gt={CheckBox:{createAppearanceStream:function(){return{N:{On:Gt.CheckBox.YesNormal},D:{On:Gt.CheckBox.YesPushDown,Off:Gt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Id(n);e.scope=n.scope;var t=[],i=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),s=zI(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+cn(Gt.internal.getWidth(n))+" "+cn(Gt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+i+" "+cn(s.fontSize)+" Tf "+r),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Id(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),r=[],s=Gt.internal.getHeight(n),a=Gt.internal.getWidth(n),o=zI(n,n.caption);return r.push("1 g"),r.push("0 0 "+cn(a)+" "+cn(s)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+cn(a-1)+" "+cn(s-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+t+" "+cn(o.fontSize)+" Tf "+i),r.push(o.text),r.push("ET"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Id(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+cn(Gt.internal.getWidth(n))+" "+cn(Gt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Gt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Gt.RadioButton.Circle.YesNormal,e.D[n]=Gt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Id(n);e.scope=n.scope;var t=[],i=Gt.internal.getWidth(n)<=Gt.internal.getHeight(n)?Gt.internal.getWidth(n)/4:Gt.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Gt.internal.Bezier_C,s=Number((i*r).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+kf(Gt.internal.getWidth(n)/2)+" "+kf(Gt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Id(n);e.scope=n.scope;var t=[],i=Gt.internal.getWidth(n)<=Gt.internal.getHeight(n)?Gt.internal.getWidth(n)/4:Gt.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*Gt.internal.Bezier_C).toFixed(5)),a=Number((i*Gt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+kf(Gt.internal.getWidth(n)/2)+" "+kf(Gt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+kf(Gt.internal.getWidth(n)/2)+" "+kf(Gt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Id(n);e.scope=n.scope;var t=[],i=Gt.internal.getWidth(n)<=Gt.internal.getHeight(n)?Gt.internal.getWidth(n)/4:Gt.internal.getHeight(n)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),s=Number((r*Gt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+kf(Gt.internal.getWidth(n)/2)+" "+kf(Gt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Gt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Gt.RadioButton.Cross.YesNormal,e.D[n]=Gt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Id(n);e.scope=n.scope;var t=[],i=Gt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+cn(Gt.internal.getWidth(n)-2)+" "+cn(Gt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(cn(i.x1.x)+" "+cn(i.x1.y)+" m"),t.push(cn(i.x2.x)+" "+cn(i.x2.y)+" l"),t.push(cn(i.x4.x)+" "+cn(i.x4.y)+" m"),t.push(cn(i.x3.x)+" "+cn(i.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Id(n);e.scope=n.scope;var t=Gt.internal.calculateCross(n),i=[];return i.push("0.749023 g"),i.push("0 0 "+cn(Gt.internal.getWidth(n))+" "+cn(Gt.internal.getHeight(n))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+cn(Gt.internal.getWidth(n)-2)+" "+cn(Gt.internal.getHeight(n)-2)+" re"),i.push("W"),i.push("n"),i.push(cn(t.x1.x)+" "+cn(t.x1.y)+" m"),i.push(cn(t.x2.x)+" "+cn(t.x2.y)+" l"),i.push(cn(t.x4.x)+" "+cn(t.x4.y)+" m"),i.push(cn(t.x3.x)+" "+cn(t.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=Id(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+cn(Gt.internal.getWidth(n))+" "+cn(Gt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};Gt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Gt.internal.getWidth(n),t=Gt.internal.getHeight(n),i=Math.min(e,t);return{x1:{x:(e-i)/2,y:(t-i)/2+i},x2:{x:(e-i)/2+i,y:(t-i)/2},x3:{x:(e-i)/2,y:(t-i)/2},x4:{x:(e-i)/2+i,y:(t-i)/2+i}}}},Gt.internal.getWidth=function(n){var e=0;return ci(n)==="object"&&(e=zB(n.Rect[2])),e},Gt.internal.getHeight=function(n){var e=0;return ci(n)==="object"&&(e=zB(n.Rect[3])),e};var uSe=vr.addField=function(n){if(dSe(this,n),!(n instanceof sd))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};vr.AcroFormChoiceField=gy,vr.AcroFormListBox=yy,vr.AcroFormComboBox=vy,vr.AcroFormEditBox=Sk,vr.AcroFormButton=Ds,vr.AcroFormPushButton=Nk,vr.AcroFormRadioButton=by,vr.AcroFormCheckBox=Ak,vr.AcroFormTextField=L1,vr.AcroFormPasswordField=kk,vr.AcroFormAppearance=Gt,vr.AcroForm={ChoiceField:gy,ListBox:yy,ComboBox:vy,EditBox:Sk,Button:Ds,PushButton:Nk,RadioButton:by,CheckBox:Ak,TextField:L1,PasswordField:kk,Appearance:Gt},en.AcroForm={ChoiceField:gy,ListBox:yy,ComboBox:vy,EditBox:Sk,Button:Ds,PushButton:Nk,RadioButton:by,CheckBox:Ak,TextField:L1,PasswordField:kk,Appearance:Gt};function gY(n){return n.reduce(function(e,t,i){return e[t]=i,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(E,A){var I,R,M,Y,q,G=t;if((A=A||t)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(k(E))for(q in i)for(M=i[q],I=0;I<M.length;I+=1){for(Y=!0,R=0;R<M[I].length;R+=1)if(M[I][R]!==void 0&&M[I][R]!==E[R]){Y=!1;break}if(Y===!0){G=q;break}}else for(q in i)for(M=i[q],I=0;I<M.length;I+=1){for(Y=!0,R=0;R<M[I].length;R+=1)if(M[I][R]!==void 0&&M[I][R]!==E.charCodeAt(R)){Y=!1;break}if(Y===!0){G=q;break}}return G===t&&A!==t&&(G=A),G},s=function E(A){for(var I=this.internal.write,R=this.internal.putStream,M=(0,this.internal.getFilters)();M.indexOf("FlateEncode")!==-1;)M.splice(M.indexOf("FlateEncode"),1);A.objectId=this.internal.newObject();var Y=[];if(Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Image"}),Y.push({key:"Width",value:A.width}),Y.push({key:"Height",value:A.height}),A.colorSpace===m.INDEXED?Y.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(A.palette.length/3-1)+" "+("sMask"in A&&A.sMask!==void 0?A.objectId+2:A.objectId+1)+" 0 R]"}):(Y.push({key:"ColorSpace",value:"/"+A.colorSpace}),A.colorSpace===m.DEVICE_CMYK&&Y.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Y.push({key:"BitsPerComponent",value:A.bitsPerComponent}),"decodeParameters"in A&&A.decodeParameters!==void 0&&Y.push({key:"DecodeParms",value:"<<"+A.decodeParameters+">>"}),"transparency"in A&&Array.isArray(A.transparency)&&A.transparency.length>0){for(var q="",G=0,B=A.transparency.length;G<B;G++)q+=A.transparency[G]+" "+A.transparency[G]+" ";Y.push({key:"Mask",value:"["+q+"]"})}A.sMask!==void 0&&Y.push({key:"SMask",value:A.objectId+1+" 0 R"});var J=A.filter!==void 0?["/"+A.filter]:void 0;if(R({data:A.data,additionalKeyValues:Y,alreadyAppliedFilters:J,objectId:A.objectId}),I("endobj"),"sMask"in A&&A.sMask!==void 0){var W,L=(W=A.sMaskBitsPerComponent)!==null&&W!==void 0?W:A.bitsPerComponent,z={width:A.width,height:A.height,colorSpace:"DeviceGray",bitsPerComponent:L,data:A.sMask};"filter"in A&&(z.decodeParameters="/Predictor ".concat(A.predictor," /Colors 1 /BitsPerComponent ").concat(L," /Columns ").concat(A.width),z.filter=A.filter),E.call(this,z)}if(A.colorSpace===m.INDEXED){var X=this.internal.newObject();R({data:C(new Uint8Array(A.palette)),objectId:X}),I("endobj")}},a=function(){var E=this.internal.collections[e+"images"];for(var A in E)s.call(this,E[A])},o=function(){var E,A=this.internal.collections[e+"images"],I=this.internal.write;for(var R in A)I("/I"+(E=A[R]).index,E.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},d=function(){var E=this.internal.collections[e+"images"];return c.call(this),E},u=function(){return Object.keys(this.internal.collections[e+"images"]).length},f=function(E){return typeof n["process"+E.toUpperCase()]=="function"},h=function(E){return ci(E)==="object"&&E.nodeType===1},p=function(E,A){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var I=""+E.getAttribute("src");if(I.indexOf("data:image/")===0)return _k(unescape(I).split("base64,").pop());var R=n.loadFile(I,!0);if(R!==void 0)return R}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var M;switch(A){case"PNG":M="image/png";break;case"WEBP":M="image/webp";break;default:M="image/jpeg"}return _k(E.toDataURL(M,1).split("base64,").pop())}},v=function(E){var A=this.internal.collections[e+"images"];if(A){for(var I in A)if(E===A[I].alias)return A[I]}},w=function(E,A,I){return E||A||(E=-96,A=-96),E<0&&(E=-1*I.width*72/E/this.internal.scaleFactor),A<0&&(A=-1*I.height*72/A/this.internal.scaleFactor),E===0&&(E=A*I.width/I.height),A===0&&(A=E*I.height/I.width),[E,A]},b=function(E,A,I,R,M,Y){var q=w.call(this,I,R,M),G=this.internal.getCoordinateString,B=this.internal.getVerticalCoordinateString,J=d.call(this);if(I=q[0],R=q[1],J[M.index]=M,Y){Y*=Math.PI/180;var W=Math.cos(Y),L=Math.sin(Y),z=function(Q){return Q.toFixed(4)},X=[z(W),z(L),z(-1*L),z(W),0,0,"cm"]}this.internal.write("q"),Y?(this.internal.write([1,"0","0",1,G(E),B(A+R),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([G(I),"0","0",G(R),"0","0","cm"].join(" "))):this.internal.write([G(I),"0","0",G(R),G(E),B(A+R),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+M.index+" Do"),this.internal.write("Q")},m=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=n.__addimage__.sHashCode=function(E){var A,I,R=0;if(typeof E=="string")for(I=E.length,A=0;A<I;A++)R=(R<<5)-R+E.charCodeAt(A),R|=0;else if(k(E))for(I=E.byteLength/2,A=0;A<I;A++)R=(R<<5)-R+E[A],R|=0;return R},x=n.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var A=!0;return E.length===0&&(A=!1),E.length%4!=0&&(A=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(A=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(A=!1),A},N=n.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var A=E.indexOf(",");return A<0?null:E.substring(0,A).trim().endsWith("base64")?E.substring(A+1):null};n.__addimage__.isArrayBuffer=function(E){return E instanceof ArrayBuffer};var k=n.__addimage__.isArrayBufferView=function(E){return E instanceof Int8Array||E instanceof Uint8Array||E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array},T=n.__addimage__.binaryStringToUint8Array=function(E){for(var A=E.length,I=new Uint8Array(A),R=0;R<A;R++)I[R]=E.charCodeAt(R);return I},C=n.__addimage__.arrayBufferToBinaryString=function(E){for(var A="",I=k(E)?E:new Uint8Array(E),R=0;R<I.length;R+=8192)A+=String.fromCharCode.apply(null,I.subarray(R,R+8192));return A};n.addImage=function(){var E,A,I,R,M,Y,q,G,B;if(typeof arguments[1]=="number"?(A=t,I=arguments[1],R=arguments[2],M=arguments[3],Y=arguments[4],q=arguments[5],G=arguments[6],B=arguments[7]):(A=arguments[1],I=arguments[2],R=arguments[3],M=arguments[4],Y=arguments[5],q=arguments[6],G=arguments[7],B=arguments[8]),ci(E=arguments[0])==="object"&&!h(E)&&"imageData"in E){var J=E;E=J.imageData,A=J.format||A||t,I=J.x||I||0,R=J.y||R||0,M=J.w||J.width||M,Y=J.h||J.height||Y,q=J.alias||q,G=J.compression||G,B=J.rotation||J.angle||B}var W=this.internal.getFilters();if(G===void 0&&W.indexOf("FlateEncode")!==-1&&(G="SLOW"),isNaN(I)||isNaN(R))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var L=P.call(this,E,A,q,G);return b.call(this,I,R,M,Y,L,B),this};var P=function(E,A,I,R){var M,Y,q;if(typeof E=="string"&&r(E)===t){E=unescape(E);var G=D(E,!1);(G!==""||(G=n.loadFile(E,!0))!==void 0)&&(E=G)}if(h(E)&&(E=p(E,A)),A=r(E,A),!f(A))throw new Error("addImage does not support files of type '"+A+"', please ensure that a plugin for '"+A+"' support is added.");if(((q=I)==null||q.length===0)&&(I=function(B){return typeof B=="string"||k(B)?_(B):k(B.data)?_(B.data):null}(E)),(M=v.call(this,I))||(E instanceof Uint8Array||A==="RGBA"||(Y=E,E=T(E)),M=this["process"+A.toUpperCase()](E,u.call(this),I,function(B){return B&&typeof B=="string"&&(B=B.toUpperCase()),B in n.image_compression?B:y.NONE}(R),Y)),!M)throw new Error("An unknown error occurred whilst processing the image.");return M},D=n.__addimage__.convertBase64ToBinaryString=function(E,A){A=typeof A!="boolean"||A;var I,R="";if(typeof E=="string"){var M;I=(M=N(E))!==null&&M!==void 0?M:E;try{R=_k(I)}catch(Y){if(A)throw x(I)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Y.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return R};n.getImageProperties=function(E){var A,I,R="";if(h(E)&&(E=p(E)),typeof E=="string"&&r(E)===t&&((R=D(E,!1))===""&&(R=n.loadFile(E)||""),E=R),I=r(E),!f(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(E instanceof Uint8Array||(E=T(E)),!(A=this["process"+I.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return A.fileType=I,A}})(en.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};en.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var i,r,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),d=t.pageContext.annotations,u=!1,f=0;f<d.length&&!u;f++)switch((i=d[f]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<d.length;h++){i=d[h];var p=this.internal.pdfEscape,v=this.internal.getEncryptor(t.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),m=this.internal.getEncryptor(w.objId),y=i.title||"Note";s="<</Type /Annot /Subtype /Text "+(r="/Rect ["+a(i.bounds.x)+" "+o(i.bounds.y+i.bounds.h)+" "+a(i.bounds.x+i.bounds.w)+" "+o(i.bounds.y)+"] ")+"/Contents ("+p(m(i.contents))+")",s+=" /Popup "+b.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+p(m(y))+") >>",w.content=s;var _=w.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+a(i.bounds.x+30)+" "+o(i.bounds.y+i.bounds.h)+" "+a(i.bounds.x+i.bounds.w+30)+" "+o(i.bounds.y)+"] ")+" /Parent "+_,i.open&&(s+=" /Open true"),s+=" >>",b.content=s,this.internal.write(w.objId,"0 R",b.objId,"0 R");break;case"freetext":r="/Rect ["+a(i.bounds.x)+" "+o(i.bounds.y)+" "+a(i.bounds.x+i.bounds.w)+" "+o(i.bounds.y+i.bounds.h)+"] ";var x=i.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+p(v(i.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+x+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(i.options.name){var N=this.annotations._nameMap[i.options.name];i.options.pageNumber=N.page,i.options.top=N.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",s="",i.options.url)s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+p(v(i.options.url))+") >>";else if(i.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,s+=" /FitV "+i.options.left+"]";break;default:var k=o(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),s+=" /XYZ "+i.options.left+" "+k+" "+i.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var i=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":i.pageContext.annotations.push(t)}},n.link=function(t,i,r,s,a){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(t),y:d(i),w:c(t+r),h:d(i+s)},options:a,type:"link"})},n.textWithLink=function(t,i,r,s){var a,o,c=this.getTextWidth(t),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var u=this.splitTextToSize(t,o).length;a=Math.ceil(d*u)}else o=c,a=d;return this.text(t,i,r,s),r+=.2*d,s.align==="center"&&(i-=c/2),s.align==="right"&&(i-=c),this.link(i,r-d,o,a,s),c},n.getTextWidth=function(t){var i=this.internal.getFontSize();return this.getStringUnitWidth(t)*i/this.internal.scaleFactor}}(en.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(w){return e[w.charCodeAt(0)]!==void 0},a=n.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},o=n.__arabicParser__.isArabicEndLetter=function(w){return a(w)&&s(w)&&e[w.charCodeAt(0)].length<=2},c=n.__arabicParser__.isArabicAlfLetter=function(w){return a(w)&&r.indexOf(w.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return a(w)&&s(w)&&e[w.charCodeAt(0)].length>=1};var d=n.__arabicParser__.arabicLetterHasFinalForm=function(w){return a(w)&&s(w)&&e[w.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(w){return a(w)&&s(w)&&e[w.charCodeAt(0)].length>=3};var u=n.__arabicParser__.arabicLetterHasMedialForm=function(w){return a(w)&&s(w)&&e[w.charCodeAt(0)].length==4},f=n.__arabicParser__.resolveLigatures=function(w){var b=0,m=t,y="",_=0;for(b=0;b<w.length;b+=1)m[w.charCodeAt(b)]!==void 0?(_++,typeof(m=m[w.charCodeAt(b)])=="number"&&(y+=String.fromCharCode(m),m=t,_=0),b===w.length-1&&(m=t,y+=w.charAt(b-(_-1)),b-=_-1,_=0)):(m=t,y+=w.charAt(b-_),b-=_,_=0);return y};n.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&i[w.charCodeAt(0)]!==void 0};var h=n.__arabicParser__.getCorrectForm=function(w,b,m){return a(w)?s(w)===!1?-1:!d(w)||!a(b)&&!a(m)||!a(m)&&o(b)||o(w)&&!a(b)||o(w)&&c(b)||o(w)&&o(b)?0:u(w)&&a(b)&&!o(b)&&a(m)&&d(m)?3:o(w)||!a(m)?1:2:-1},p=function(w){var b=0,m=0,y=0,_="",x="",N="",k=(w=w||"").split("\\s+"),T=[];for(b=0;b<k.length;b+=1){for(T.push(""),m=0;m<k[b].length;m+=1)_=k[b][m],x=k[b][m-1],N=k[b][m+1],a(_)?(y=h(_,x,N),T[b]+=y!==-1?String.fromCharCode(e[_.charCodeAt(0)][y]):_):T[b]+=_;T[b]=f(T[b])}return T.join(" ")},v=n.__arabicParser__.processArabic=n.processArabic=function(){var w,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,m=[];if(Array.isArray(b)){var y=0;for(m=[],y=0;y<b.length;y+=1)Array.isArray(b[y])?m.push([p(b[y][0]),b[y][1],b[y][2]]):m.push([p(b[y])]);w=m}else w=p(b);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};n.events.push(["preProcessText",v])}(en.API),en.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(o){t=o}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,i){var r;if((t=t||"2d")!=="2d")return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(en.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(w){c=w}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(w){d=w}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(w){u=w}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(w){f=w}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(w){h=w}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(w){p=w}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(w){v=w}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(c){return i.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},n.getTextDimensions=function(c,d){i.call(this);var u=(d=d||{}).fontSize||this.getFontSize(),f=d.font||this.getFont(),h=d.scaleFactor||this.internal.scaleFactor,p=0,v=0,w=0,b=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var m=d.maxWidth;m>0?typeof c=="string"?c=this.splitTextToSize(c,m):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(_,x){return _.concat(b.splitTextToSize(x,m))},[])):c=Array.isArray(c)?c:[c];for(var y=0;y<c.length;y++)p<(w=this.getStringUnitWidth(c[y],{font:f})*u)&&(p=w);return p!==0&&(v=c.length),{w:p/=h,h:Math.max((v*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)}},n.cellAddPage=function(){i.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=n.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),i.call(this);var d=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,h=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=f.top,p&&h&&(this.printHeaderRow(c.lineNumber,!0),c.y+=h[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};n.table=function(c,d,u,f,h){if(i.call(this),!u)throw new Error("No data for PDF table.");var p,v,w,b,m=[],y=[],_=[],x={},N={},k=[],T=[],C=(h=h||{}).autoSize||!1,P=h.printHeaders!==!1,D=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,E=h.margins||Object.assign({width:this.getPageWidth()},e),A=typeof h.padding=="number"?h.padding:3,I=h.headerBackgroundColor||"#c8c8c8",R=h.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=P,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=D,this.internal.__cell__.padding=A,this.internal.__cell__.headerBackgroundColor=I,this.internal.__cell__.headerTextColor=R,this.setFontSize(D),f==null)y=m=Object.keys(u[0]),_=m.map(function(){return"left"});else if(Array.isArray(f)&&ci(f[0])==="object")for(m=f.map(function(J){return J.name}),y=f.map(function(J){return J.prompt||J.name||""}),_=f.map(function(J){return J.align||"left"}),p=0;p<f.length;p+=1)N[f[p].name]=.7499990551181103*f[p].width;else Array.isArray(f)&&typeof f[0]=="string"&&(y=m=f,_=m.map(function(){return"left"}));if(C||Array.isArray(f)&&typeof f[0]=="string")for(p=0;p<m.length;p+=1){for(x[b=m[p]]=u.map(function(J){return J[b]}),this.setFont(void 0,"bold"),k.push(this.getTextDimensions(y[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=x[b],this.setFont(void 0,"normal"),w=0;w<v.length;w+=1)k.push(this.getTextDimensions(v[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);N[b]=Math.max.apply(null,k)+A+A,k=[]}if(P){var M={};for(p=0;p<m.length;p+=1)M[m[p]]={},M[m[p]].text=y[p],M[m[p]].align=_[p];var Y=o.call(this,M,N);T=m.map(function(J){return new s(c,d,N[J],Y,M[J].text,void 0,M[J].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var q=f.reduce(function(J,W){return J[W.name]=W.align,J},{});for(p=0;p<u.length;p+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:p,data:u[p]},this);var G=o.call(this,u[p],N);for(w=0;w<m.length;w+=1){var B=u[p][m[w]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:p,col:w,data:B},this),a.call(this,new s(c,d,N[m[w]],G,B,p+2,q[m[w]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var o=function(c,d){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(c).map(function(p){var v=c[p];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,d[p]-u-u)},this).map(function(p){return this.getLineHeightFactor()*p.length*f/h+u+u},this).reduce(function(p,v){return Math.max(p,v)},0)};n.setTableHeaderRow=function(c){i.call(this),this.internal.__cell__.tableHeaderRow=c},n.printHeaderRow=function(c,d){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){u=this.internal.__cell__.tableHeaderRow[p].clone(),d&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=c;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,u),this.setTextColor(v)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),t=!1}}(en.API);var yY={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},vY=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],jI=gY(vY),bY=[100,200,300,400,500,600,700,800,900],hSe=gY(bY);function cD(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(s){return yY[s=s||"normal"]?s:"normal"}(n.style),i=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(n.weight),r=function(s){return typeof jI[s=s||"normal"]=="number"?s:"normal"}(n.stretch);return{family:e,style:t,weight:i,stretch:r,src:n.src||[],ref:n.ref||{name:e,style:[r,t,i].join(" ")}}}function jB(n,e,t,i){var r;for(r=t;r>=0&&r<e.length;r+=i)if(n[e[r]])return n[e[r]];for(r=t;r>=0&&r<e.length;r-=i)if(n[e[r]])return n[e[r]]}var fSe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},WB={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function $B(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function qB(n){return n.trimLeft()}function pSe(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function mSe(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var iA,HB,VB,_0,rA,GB,XB,YB,dD=["times"];function KB(n,e,t,i,r){var s=4,a=ZB;switch(r){case en.API.image_compression.FAST:s=1,a=JB;break;case en.API.image_compression.MEDIUM:s=6,a=QB;break;case en.API.image_compression.SLOW:s=9,a=ez}n=function(c,d,u,f){for(var h,p=c.length/d,v=new Uint8Array(c.length+p),w=[gSe,JB,ZB,QB,ez],b=0;b<p;b+=1){var m=b*d,y=c.subarray(m,m+d);if(f)v.set(f(y,u,h),m+b);else{for(var _=w.length,x=[],N=0;N<_;N+=1)x[N]=w[N](y,u,h);var k=vSe(x.concat());v.set(x[k],m+b)}h=y}return v}(n,e,Math.ceil(t*i/8),a);var o=TI(n,{level:s});return en.API.__addimage__.arrayBufferToBinaryString(o)}function gSe(n){var e=Array.apply([],n);return e.unshift(0),e}function JB(n,e){var t=n.length,i=[];i[0]=1;for(var r=0;r<t;r+=1){var s=n[r-e]||0;i[r+1]=n[r]-s+256&255}return i}function ZB(n,e,t){var i=n.length,r=[];r[0]=2;for(var s=0;s<i;s+=1){var a=t&&t[s]||0;r[s+1]=n[s]-a+256&255}return r}function QB(n,e,t){var i=n.length,r=[];r[0]=3;for(var s=0;s<i;s+=1){var a=n[s-e]||0,o=t&&t[s]||0;r[s+1]=n[s]+256-(a+o>>>1)&255}return r}function ez(n,e,t){var i=n.length,r=[];r[0]=4;for(var s=0;s<i;s+=1){var a=ySe(n[s-e]||0,t&&t[s]||0,t&&t[s-e]||0);r[s+1]=n[s]-a+256&255}return r}function ySe(n,e,t){if(n===e&&e===t)return n;var i=Math.abs(e-t),r=Math.abs(n-t),s=Math.abs(n+e-t-t);return i<=r&&i<=s?n:r<=s?e:t}function vSe(n){var e=n.map(function(t){return t.reduce(function(i,r){return i+Math.abs(r)},0)});return e.indexOf(Math.min.apply(null,e))}function uD(n,e,t){var i=e*t,r=Math.floor(i/8),s=16-(i-8*r+t),a=(1<<t)-1;return wY(n,r)>>s&a}function tz(n,e,t,i){var r=t*i,s=Math.floor(r/8),a=16-(r-8*s+i),o=(1<<i)-1,c=(e&o)<<a;(function(d,u,f){if(u+1<d.byteLength)d.setUint16(u,f,!1);else{var h=f>>8&255;d.setUint8(u,h)}})(n,s,wY(n,s)&~(o<<a)&65535|c)}function wY(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function bSe(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,i=n[e++]|n[e++]<<8,r=n[e++],s=r>>7,a=1<<1+(7&r);n[e++],n[e++];var o=null,c=null;s&&(o=e,c=a,e+=3*a);var d=!0,u=[],f=0,h=null,p=0,v=null;for(this.width=t,this.height=i;d&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,v=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((E=n[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var w=n[e++];f=n[e++]|n[e++]<<8,h=n[e++],1&w||(h=null),p=w>>2&7,e++;break;case 254:for(;;){if(!((E=n[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var b=n[e++]|n[e++]<<8,m=n[e++]|n[e++]<<8,y=n[e++]|n[e++]<<8,_=n[e++]|n[e++]<<8,x=n[e++],N=x>>6&1,k=1<<1+(7&x),T=o,C=c,P=!1;x>>7&&(P=!0,T=e,C=k,e+=3*k);var D=e;for(e++;;){var E;if(!((E=n[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}u.push({x:b,y:m,width:y,height:_,has_local_palette:P,palette_offset:T,palette_size:C,data_offset:D,data_length:e-D,transparent_index:h,interlaced:!!N,delay:f,disposal:p});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return v},this.frameInfo=function(A){if(A<0||A>=u.length)throw new Error("Frame index out of range.");return u[A]},this.decodeAndBlitFrameBGRA=function(A,I){var R=this.frameInfo(A),M=R.width*R.height,Y=new Uint8Array(M);nz(n,R.data_offset,Y,M);var q=R.palette_offset,G=R.transparent_index;G===null&&(G=256);var B=R.width,J=t-B,W=B,L=4*(R.y*t+R.x),z=4*((R.y+R.height)*t+R.x),X=L,Q=4*J;R.interlaced===!0&&(Q+=4*t*7);for(var V=8,Z=0,_e=Y.length;Z<_e;++Z){var le=Y[Z];if(W===0&&(W=B,(X+=Q)>=z&&(Q=4*J+4*t*(V-1),X=L+(B+J)*(V<<1),V>>=1)),le===G)X+=4;else{var ce=n[q+3*le],Fe=n[q+3*le+1],Ae=n[q+3*le+2];I[X++]=Ae,I[X++]=Fe,I[X++]=ce,I[X++]=255}--W}},this.decodeAndBlitFrameRGBA=function(A,I){var R=this.frameInfo(A),M=R.width*R.height,Y=new Uint8Array(M);nz(n,R.data_offset,Y,M);var q=R.palette_offset,G=R.transparent_index;G===null&&(G=256);var B=R.width,J=t-B,W=B,L=4*(R.y*t+R.x),z=4*((R.y+R.height)*t+R.x),X=L,Q=4*J;R.interlaced===!0&&(Q+=4*t*7);for(var V=8,Z=0,_e=Y.length;Z<_e;++Z){var le=Y[Z];if(W===0&&(W=B,(X+=Q)>=z&&(Q=4*J+4*t*(V-1),X=L+(B+J)*(V<<1),V>>=1)),le===G)X+=4;else{var ce=n[q+3*le],Fe=n[q+3*le+1],Ae=n[q+3*le+2];I[X++]=ce,I[X++]=Fe,I[X++]=Ae,I[X++]=255}--W}}}function nz(n,e,t,i){for(var r=n[e++],s=1<<r,a=s+1,o=a+1,c=r+1,d=(1<<c)-1,u=0,f=0,h=0,p=n[e++],v=new Int32Array(4096),w=null;;){for(;u<16&&p!==0;)f|=n[e++]<<u,u+=8,p===1?p=n[e++]:--p;if(u<c)break;var b=f&d;if(f>>=c,u-=c,b!==s){if(b===a)break;for(var m=b<o?b:w,y=0,_=m;_>s;)_=v[_]>>8,++y;var x=_;if(h+y+(m!==b?1:0)>i)return void Ti.log("Warning, gif stream longer than expected.");t[h++]=x;var N=h+=y;for(m!==b&&(t[h++]=x),_=m;y--;)_=v[_],t[--N]=255&_,_>>=8;w!==null&&o<4096&&(v[o++]=w<<8|x,o>=d+1&&c<12&&(++c,d=d<<1|1)),w=b}else o=a+1,d=(1<<(c=r+1))-1,w=null}return h!==i&&Ti.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function hD(n){var e,t,i,r,s,a=Math.floor,o=new Array(64),c=new Array(64),d=new Array(64),u=new Array(64),f=new Array(65535),h=new Array(65535),p=new Array(64),v=new Array(64),w=[],b=0,m=7,y=new Array(64),_=new Array(64),x=new Array(64),N=new Array(256),k=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],C=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],A=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],M=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Y(L,z){for(var X=0,Q=0,V=new Array,Z=1;Z<=16;Z++){for(var _e=1;_e<=L[Z];_e++)V[z[Q]]=[],V[z[Q]][0]=X,V[z[Q]][1]=Z,Q++,X++;X*=2}return V}function q(L){for(var z=L[0],X=L[1]-1;X>=0;)z&1<<X&&(b|=1<<m),X--,--m<0&&(b==255?(G(255),G(0)):G(b),m=7,b=0)}function G(L){w.push(L)}function B(L){G(L>>8&255),G(255&L)}function J(L,z,X,Q,V){for(var Z,_e=V[0],le=V[240],ce=function($,ke){var Se,pe,U,H,te,he,ve,ae,me,ge,Oe=0;for(me=0;me<8;++me){Se=$[Oe],pe=$[Oe+1],U=$[Oe+2],H=$[Oe+3],te=$[Oe+4],he=$[Oe+5],ve=$[Oe+6];var Ye=Se+(ae=$[Oe+7]),Ke=Se-ae,mt=pe+ve,qe=pe-ve,it=U+he,ft=U-he,We=H+te,tt=H-te,pt=Ye+We,Ct=Ye-We,Et=mt+it,St=mt-it;$[Oe]=pt+Et,$[Oe+4]=pt-Et;var Bt=.707106781*(St+Ct);$[Oe+2]=Ct+Bt,$[Oe+6]=Ct-Bt;var kn=.382683433*((pt=tt+ft)-(St=qe+Ke)),sn=.5411961*pt+kn,we=1.306562965*St+kn,Pe=.707106781*(Et=ft+qe),Me=Ke+Pe,ht=Ke-Pe;$[Oe+5]=ht+sn,$[Oe+3]=ht-sn,$[Oe+1]=Me+we,$[Oe+7]=Me-we,Oe+=8}for(Oe=0,me=0;me<8;++me){Se=$[Oe],pe=$[Oe+8],U=$[Oe+16],H=$[Oe+24],te=$[Oe+32],he=$[Oe+40],ve=$[Oe+48];var Pt=Se+(ae=$[Oe+56]),ot=Se-ae,Nt=pe+ve,Ut=pe-ve,Jt=U+he,hn=U-he,_i=H+te,hi=H-te,Bi=Pt+_i,Pi=Pt-_i,fi=Nt+Jt,pi=Nt-Jt;$[Oe]=Bi+fi,$[Oe+32]=Bi-fi;var zi=.707106781*(pi+Pi);$[Oe+16]=Pi+zi,$[Oe+48]=Pi-zi;var Os=.382683433*((Bi=hi+hn)-(pi=Ut+ot)),Xr=.5411961*Bi+Os,Ur=1.306562965*pi+Os,Yr=.707106781*(fi=hn+Ut),cc=ot+Yr,_l=ot-Yr;$[Oe+40]=_l+Xr,$[Oe+24]=_l-Xr,$[Oe+8]=cc+Ur,$[Oe+56]=cc-Ur,Oe++}for(me=0;me<64;++me)ge=$[me]*ke[me],p[me]=ge>0?ge+.5|0:ge-.5|0;return p}(L,z),Fe=0;Fe<64;++Fe)v[T[Fe]]=ce[Fe];var Ae=v[0]-X;X=v[0],Ae==0?q(Q[0]):(q(Q[h[Z=32767+Ae]]),q(f[Z]));for(var Re=63;Re>0&&v[Re]==0;)Re--;if(Re==0)return q(_e),X;for(var Ve,fe=1;fe<=Re;){for(var Je=fe;v[fe]==0&&fe<=Re;)++fe;var je=fe-Je;if(je>=16){Ve=je>>4;for(var Ce=1;Ce<=Ve;++Ce)q(le);je&=15}Z=32767+v[fe],q(V[(je<<4)+h[Z]]),q(f[Z]),fe++}return Re!=63&&q(_e),X}function W(L){L=Math.min(Math.max(L,1),100),s!=L&&(function(z){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Q=0;Q<64;Q++){var V=a((X[Q]*z+50)/100);V=Math.min(Math.max(V,1),255),o[T[Q]]=V}for(var Z=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],_e=0;_e<64;_e++){var le=a((Z[_e]*z+50)/100);le=Math.min(Math.max(le,1),255),c[T[_e]]=le}for(var ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Fe=0,Ae=0;Ae<8;Ae++)for(var Re=0;Re<8;Re++)d[Fe]=1/(o[T[Fe]]*ce[Ae]*ce[Re]*8),u[Fe]=1/(c[T[Fe]]*ce[Ae]*ce[Re]*8),Fe++}(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),s=L)}this.encode=function(L,z){z&&W(z),w=new Array,b=0,m=7,B(65496),B(65504),B(16),G(74),G(70),G(73),G(70),G(0),G(1),G(1),G(0),B(1),B(1),G(0),G(0),function(){B(65499),B(132),G(0);for(var pe=0;pe<64;pe++)G(o[pe]);G(1);for(var U=0;U<64;U++)G(c[U])}(),function(pe,U){B(65472),B(17),G(8),B(U),B(pe),G(3),G(1),G(17),G(0),G(2),G(17),G(1),G(3),G(17),G(1)}(L.width,L.height),function(){B(65476),B(418),G(0);for(var pe=0;pe<16;pe++)G(C[pe+1]);for(var U=0;U<=11;U++)G(P[U]);G(16);for(var H=0;H<16;H++)G(D[H+1]);for(var te=0;te<=161;te++)G(E[te]);G(1);for(var he=0;he<16;he++)G(A[he+1]);for(var ve=0;ve<=11;ve++)G(I[ve]);G(17);for(var ae=0;ae<16;ae++)G(R[ae+1]);for(var me=0;me<=161;me++)G(M[me])}(),B(65498),B(12),G(3),G(1),G(0),G(2),G(17),G(3),G(17),G(0),G(63),G(0);var X=0,Q=0,V=0;b=0,m=7,this.encode.displayName="_encode_";for(var Z,_e,le,ce,Fe,Ae,Re,Ve,fe,Je=L.data,je=L.width,Ce=L.height,$=4*je,ke=0;ke<Ce;){for(Z=0;Z<$;){for(Fe=$*ke+Z,Re=-1,Ve=0,fe=0;fe<64;fe++)Ae=Fe+(Ve=fe>>3)*$+(Re=4*(7&fe)),ke+Ve>=Ce&&(Ae-=$*(ke+1+Ve-Ce)),Z+Re>=$&&(Ae-=Z+Re-$+4),_e=Je[Ae++],le=Je[Ae++],ce=Je[Ae++],y[fe]=(k[_e]+k[le+256|0]+k[ce+512|0]>>16)-128,_[fe]=(k[_e+768|0]+k[le+1024|0]+k[ce+1280|0]>>16)-128,x[fe]=(k[_e+1280|0]+k[le+1536|0]+k[ce+1792|0]>>16)-128;X=J(y,d,X,e,i),Q=J(_,u,Q,t,r),V=J(x,u,V,t,r),Z+=32}ke+=8}if(m>=0){var Se=[];Se[1]=m+1,Se[0]=(1<<m+1)-1,q(Se)}return B(65497),new Uint8Array(w)},n=n||50,function(){for(var L=String.fromCharCode,z=0;z<256;z++)N[z]=L(z)}(),e=Y(C,P),t=Y(A,I),i=Y(D,E),r=Y(R,M),function(){for(var L=1,z=2,X=1;X<=15;X++){for(var Q=L;Q<z;Q++)h[32767+Q]=X,f[32767+Q]=[],f[32767+Q][1]=X,f[32767+Q][0]=Q;for(var V=-(z-1);V<=-L;V++)h[32767+V]=X,f[32767+V]=[],f[32767+V][1]=X,f[32767+V][0]=z-1+V;L<<=1,z<<=1}}(),function(){for(var L=0;L<256;L++)k[L]=19595*L,k[L+256|0]=38470*L,k[L+512|0]=7471*L+32768,k[L+768|0]=-11059*L,k[L+1024|0]=-21709*L,k[L+1280|0]=32768*L+8421375,k[L+1536|0]=-27439*L,k[L+1792|0]=-5329*L}(),W(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Nc(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function iz(n){function e(P){if(!P)throw Error("assert :P")}function t(P,D,E){for(var A=0;4>A;A++)if(P[D+A]!=E.charCodeAt(A))return!0;return!1}function i(P,D,E,A,I){for(var R=0;R<I;R++)P[D+R]=E[A+R]}function r(P,D,E,A){for(var I=0;I<A;I++)P[D+I]=E}function s(P){return new Int32Array(P)}function a(P,D){for(var E=[],A=0;A<P;A++)E.push(new D);return E}function o(P,D){var E=[];return function A(I,R,M){for(var Y=M[R],q=0;q<Y&&(I.push(M.length>R+1?[]:new D),!(M.length<R+1));q++)A(I[q],R+1,M)}(E,0,P),E}var c=function(){var P=this;function D(O,j){for(var ee=1<<j-1>>>0;O&ee;)ee>>>=1;return ee?(O&ee-1)+ee:O}function E(O,j,ee,oe,xe){e(!(oe%ee));do O[j+(oe-=ee)]=xe;while(0<oe)}function A(O,j,ee,oe,xe){if(e(2328>=xe),512>=xe)var Ee=s(512);else if((Ee=s(xe))==null)return 0;return function(Te,Ie,Le,Be,Qe,ut){var ze,nt,at=Ie,vt=1<<Le,dt=s(16),_t=s(16);for(e(Qe!=0),e(Be!=null),e(Te!=null),e(0<Le),nt=0;nt<Qe;++nt){if(15<Be[nt])return 0;++dt[Be[nt]]}if(dt[0]==Qe)return 0;for(_t[1]=0,ze=1;15>ze;++ze){if(dt[ze]>1<<ze)return 0;_t[ze+1]=_t[ze]+dt[ze]}for(nt=0;nt<Qe;++nt)ze=Be[nt],0<Be[nt]&&(ut[_t[ze]++]=nt);if(_t[15]==1)return(Be=new I).g=0,Be.value=ut[0],E(Te,at,1,vt,Be),vt;var At,It=-1,Tt=vt-1,Zt=0,Vt=1,vn=1,Xt=1<<Le;for(nt=0,ze=1,Qe=2;ze<=Le;++ze,Qe<<=1){if(Vt+=vn<<=1,0>(vn-=dt[ze]))return 0;for(;0<dt[ze];--dt[ze])(Be=new I).g=ze,Be.value=ut[nt++],E(Te,at+Zt,Qe,Xt,Be),Zt=D(Zt,ze)}for(ze=Le+1,Qe=2;15>=ze;++ze,Qe<<=1){if(Vt+=vn<<=1,0>(vn-=dt[ze]))return 0;for(;0<dt[ze];--dt[ze]){if(Be=new I,(Zt&Tt)!=It){for(at+=Xt,At=1<<(It=ze)-Le;15>It&&!(0>=(At-=dt[It]));)++It,At<<=1;vt+=Xt=1<<(At=It-Le),Te[Ie+(It=Zt&Tt)].g=At+Le,Te[Ie+It].value=at-Ie-It}Be.g=ze-Le,Be.value=ut[nt++],E(Te,at+(Zt>>Le),Qe,Xt,Be),Zt=D(Zt,ze)}}return Vt!=2*_t[15]-1?0:vt}(O,j,ee,oe,xe,Ee)}function I(){this.value=this.g=0}function R(){this.value=this.g=0}function M(){this.G=a(5,I),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(xt,R)}function Y(O,j,ee,oe){e(O!=null),e(j!=null),e(2147483648>oe),O.Ca=254,O.I=0,O.b=-8,O.Ka=0,O.oa=j,O.pa=ee,O.Jd=j,O.Yc=ee+oe,O.Zc=4<=oe?ee+oe-4+1:ee,_e(O)}function q(O,j){for(var ee=0;0<j--;)ee|=ce(O,128)<<j;return ee}function G(O,j){var ee=q(O,j);return le(O)?-ee:ee}function B(O,j,ee,oe){var xe,Ee=0;for(e(O!=null),e(j!=null),e(4294967288>oe),O.Sb=oe,O.Ra=0,O.u=0,O.h=0,4<oe&&(oe=4),xe=0;xe<oe;++xe)Ee+=j[ee+xe]<<8*xe;O.Ra=Ee,O.bb=oe,O.oa=j,O.pa=ee}function J(O){for(;8<=O.u&&O.bb<O.Sb;)O.Ra>>>=8,O.Ra+=O.oa[O.pa+O.bb]<<tn-8>>>0,++O.bb,O.u-=8;Q(O)&&(O.h=1,O.u=0)}function W(O,j){if(e(0<=j),!O.h&&j<=Qt){var ee=X(O)&Rt[j];return O.u+=j,J(O),ee}return O.h=1,O.u=0}function L(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function z(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function X(O){return O.Ra>>>(O.u&tn-1)>>>0}function Q(O){return e(O.bb<=O.Sb),O.h||O.bb==O.Sb&&O.u>tn}function V(O,j){O.u=j,O.h=Q(O)}function Z(O){O.u>=Jn&&(e(O.u>=Jn),J(O))}function _e(O){e(O!=null&&O.oa!=null),O.pa<O.Zc?(O.I=(O.oa[O.pa++]|O.I<<8)>>>0,O.b+=8):(e(O!=null&&O.oa!=null),O.pa<O.Yc?(O.b+=8,O.I=O.oa[O.pa++]|O.I<<8):O.Ka?O.b=0:(O.I<<=8,O.b+=8,O.Ka=1))}function le(O){return q(O,1)}function ce(O,j){var ee=O.Ca;0>O.b&&_e(O);var oe=O.b,xe=ee*j>>>8,Ee=(O.I>>>oe>xe)+0;for(Ee?(ee-=xe,O.I-=xe+1<<oe>>>0):ee=xe+1,oe=ee,xe=0;256<=oe;)xe+=8,oe>>=8;return oe=7^xe+cr[oe],O.b-=oe,O.Ca=(ee<<oe)-1,Ee}function Fe(O,j,ee){O[j+0]=ee>>24&255,O[j+1]=ee>>16&255,O[j+2]=ee>>8&255,O[j+3]=255&ee}function Ae(O,j){return O[j+0]|O[j+1]<<8}function Re(O,j){return Ae(O,j)|O[j+2]<<16}function Ve(O,j){return Ae(O,j)|Ae(O,j+2)<<16}function fe(O,j){var ee=1<<j;return e(O!=null),e(0<j),O.X=s(ee),O.X==null?0:(O.Mb=32-j,O.Xa=j,1)}function Je(O,j){e(O!=null),e(j!=null),e(O.Xa==j.Xa),i(j.X,0,O.X,0,1<<j.Xa)}function je(){this.X=[],this.Xa=this.Mb=0}function Ce(O,j,ee,oe){e(ee!=null),e(oe!=null);var xe=ee[0],Ee=oe[0];return xe==0&&(xe=(O*Ee+j/2)/j),Ee==0&&(Ee=(j*xe+O/2)/O),0>=xe||0>=Ee?0:(ee[0]=xe,oe[0]=Ee,1)}function $(O,j){return O+(1<<j)-1>>>j}function ke(O,j){return((4278255360&O)+(4278255360&j)>>>0&4278255360)+((16711935&O)+(16711935&j)>>>0&16711935)>>>0}function Se(O,j){P[j]=function(ee,oe,xe,Ee,Te,Ie,Le){var Be;for(Be=0;Be<Te;++Be){var Qe=P[O](Ie[Le+Be-1],xe,Ee+Be);Ie[Le+Be]=ke(ee[oe+Be],Qe)}}}function pe(){this.ud=this.hd=this.jd=0}function U(O,j){return((4278124286&(O^j))>>>1)+(O&j)>>>0}function H(O){return 0<=O&&256>O?O:0>O?0:255<O?255:void 0}function te(O,j){return H(O+(O-j+.5>>1))}function he(O,j,ee){return Math.abs(j-ee)-Math.abs(O-ee)}function ve(O,j,ee,oe,xe,Ee,Te){for(oe=Ee[Te-1],ee=0;ee<xe;++ee)Ee[Te+ee]=oe=ke(O[j+ee],oe)}function ae(O,j,ee,oe,xe){var Ee;for(Ee=0;Ee<ee;++Ee){var Te=O[j+Ee],Ie=Te>>8&255,Le=16711935&(Le=(Le=16711935&Te)+((Ie<<16)+Ie));oe[xe+Ee]=(4278255360&Te)+Le>>>0}}function me(O,j){j.jd=255&O,j.hd=O>>8&255,j.ud=O>>16&255}function ge(O,j,ee,oe,xe,Ee){var Te;for(Te=0;Te<oe;++Te){var Ie=j[ee+Te],Le=Ie>>>8,Be=Ie,Qe=255&(Qe=(Qe=Ie>>>16)+((O.jd<<24>>24)*(Le<<24>>24)>>>5));Be=255&(Be=(Be+=(O.hd<<24>>24)*(Le<<24>>24)>>>5)+((O.ud<<24>>24)*(Qe<<24>>24)>>>5)),xe[Ee+Te]=(4278255360&Ie)+(Qe<<16)+Be}}function Oe(O,j,ee,oe,xe){P[j]=function(Ee,Te,Ie,Le,Be,Qe,ut,ze,nt){for(Le=ut;Le<ze;++Le)for(ut=0;ut<nt;++ut)Be[Qe++]=xe(Ie[oe(Ee[Te++])])},P[O]=function(Ee,Te,Ie,Le,Be,Qe,ut){var ze=8>>Ee.b,nt=Ee.Ea,at=Ee.K[0],vt=Ee.w;if(8>ze)for(Ee=(1<<Ee.b)-1,vt=(1<<ze)-1;Te<Ie;++Te){var dt,_t=0;for(dt=0;dt<nt;++dt)dt&Ee||(_t=oe(Le[Be++])),Qe[ut++]=xe(at[_t&vt]),_t>>=ze}else P["VP8LMapColor"+ee](Le,Be,at,vt,Qe,ut,Te,Ie,nt)}}function Ye(O,j,ee,oe,xe){for(ee=j+ee;j<ee;){var Ee=O[j++];oe[xe++]=Ee>>16&255,oe[xe++]=Ee>>8&255,oe[xe++]=255&Ee}}function Ke(O,j,ee,oe,xe){for(ee=j+ee;j<ee;){var Ee=O[j++];oe[xe++]=Ee>>16&255,oe[xe++]=Ee>>8&255,oe[xe++]=255&Ee,oe[xe++]=Ee>>24&255}}function mt(O,j,ee,oe,xe){for(ee=j+ee;j<ee;){var Ee=(Te=O[j++])>>16&240|Te>>12&15,Te=240&Te|Te>>28&15;oe[xe++]=Ee,oe[xe++]=Te}}function qe(O,j,ee,oe,xe){for(ee=j+ee;j<ee;){var Ee=(Te=O[j++])>>16&248|Te>>13&7,Te=Te>>5&224|Te>>3&31;oe[xe++]=Ee,oe[xe++]=Te}}function it(O,j,ee,oe,xe){for(ee=j+ee;j<ee;){var Ee=O[j++];oe[xe++]=255&Ee,oe[xe++]=Ee>>8&255,oe[xe++]=Ee>>16&255}}function ft(O,j,ee,oe,xe,Ee){if(Ee==0)for(ee=j+ee;j<ee;)Fe(oe,((Ee=O[j++])[0]>>24|Ee[1]>>8&65280|Ee[2]<<8&16711680|Ee[3]<<24)>>>0),xe+=32;else i(oe,xe,O,j,ee)}function We(O,j){P[j][0]=P[O+"0"],P[j][1]=P[O+"1"],P[j][2]=P[O+"2"],P[j][3]=P[O+"3"],P[j][4]=P[O+"4"],P[j][5]=P[O+"5"],P[j][6]=P[O+"6"],P[j][7]=P[O+"7"],P[j][8]=P[O+"8"],P[j][9]=P[O+"9"],P[j][10]=P[O+"10"],P[j][11]=P[O+"11"],P[j][12]=P[O+"12"],P[j][13]=P[O+"13"],P[j][14]=P[O+"0"],P[j][15]=P[O+"0"]}function tt(O){return O==fC||O==pC||O==ZS||O==mC}function pt(){this.eb=[],this.size=this.A=this.fb=0}function Ct(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Et(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new pt,this.f.kb=new Ct,this.sd=null}function St(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Bt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function kn(O){return alert("todo:WebPSamplerProcessPlane"),O.T}function sn(O,j){var ee=O.T,oe=j.ba.f.RGBA,xe=oe.eb,Ee=oe.fb+O.ka*oe.A,Te=Cl[j.ba.S],Ie=O.y,Le=O.O,Be=O.f,Qe=O.N,ut=O.ea,ze=O.W,nt=j.cc,at=j.dc,vt=j.Mc,dt=j.Nc,_t=O.ka,At=O.ka+O.T,It=O.U,Tt=It+1>>1;for(_t==0?Te(Ie,Le,null,null,Be,Qe,ut,ze,Be,Qe,ut,ze,xe,Ee,null,null,It):(Te(j.ec,j.fc,Ie,Le,nt,at,vt,dt,Be,Qe,ut,ze,xe,Ee-oe.A,xe,Ee,It),++ee);_t+2<At;_t+=2)nt=Be,at=Qe,vt=ut,dt=ze,Qe+=O.Rc,ze+=O.Rc,Ee+=2*oe.A,Te(Ie,(Le+=2*O.fa)-O.fa,Ie,Le,nt,at,vt,dt,Be,Qe,ut,ze,xe,Ee-oe.A,xe,Ee,It);return Le+=O.fa,O.j+At<O.o?(i(j.ec,j.fc,Ie,Le,It),i(j.cc,j.dc,Be,Qe,Tt),i(j.Mc,j.Nc,ut,ze,Tt),ee--):1&At||Te(Ie,Le,null,null,Be,Qe,ut,ze,Be,Qe,ut,ze,xe,Ee+oe.A,null,null,It),ee}function we(O,j,ee){var oe=O.F,xe=[O.J];if(oe!=null){var Ee=O.U,Te=j.ba.S,Ie=Te==JS||Te==ZS;j=j.ba.f.RGBA;var Le=[0],Be=O.ka;Le[0]=O.T,O.Kb&&(Be==0?--Le[0]:(--Be,xe[0]-=O.width),O.j+O.ka+O.T==O.o&&(Le[0]=O.o-O.j-Be));var Qe=j.eb;Be=j.fb+Be*j.A,O=EO(oe,xe[0],O.width,Ee,Le,Qe,Be+(Ie?0:3),j.A),e(ee==Le),O&&tt(Te)&&u2(Qe,Be,Ie,Ee,Le,j.A)}return 0}function Pe(O){var j=O.ma,ee=j.ba.S,oe=11>ee,xe=ee==YS||ee==KS||ee==JS||ee==hC||ee==12||tt(ee);if(j.memory=null,j.Ib=null,j.Jb=null,j.Nd=null,!He(j.Oa,O,xe?11:12))return 0;if(xe&&tt(ee)&&on(),O.da)alert("todo:use_scaling");else{if(oe){if(j.Ib=kn,O.Kb){if(ee=O.U+1>>1,j.memory=s(O.U+2*ee),j.memory==null)return 0;j.ec=j.memory,j.fc=0,j.cc=j.ec,j.dc=j.fc+O.U,j.Mc=j.cc,j.Nc=j.dc+ee,j.Ib=sn,on()}}else alert("todo:EmitYUV");xe&&(j.Jb=we,oe&&ct())}if(oe&&!qO){for(O=0;256>O;++O)WY[O]=89858*(O-128)+eN>>QS,HY[O]=-22014*(O-128)+eN,qY[O]=-45773*(O-128),$Y[O]=113618*(O-128)+eN>>QS;for(O=f2;O<vC;++O)j=76283*(O-16)+eN>>QS,VY[O-f2]=fs(j,255),GY[O-f2]=fs(j+8>>4,15);qO=1}return 1}function Me(O){var j=O.ma,ee=O.U,oe=O.T;return e(!(1&O.ka)),0>=ee||0>=oe?0:(ee=j.Ib(O,j),j.Jb!=null&&j.Jb(O,j,ee),j.Dc+=ee,1)}function ht(O){O.ma.memory=null}function Pt(O,j,ee,oe){return W(O,8)!=47?0:(j[0]=W(O,14)+1,ee[0]=W(O,14)+1,oe[0]=W(O,1),W(O,3)!=0?0:!O.h)}function ot(O,j){if(4>O)return O+1;var ee=O-2>>1;return(2+(1&O)<<ee)+W(j,ee)+1}function Nt(O,j){return 120<j?j-120:1<=(ee=((ee=TY[j-1])>>4)*O+(8-(15&ee)))?ee:1;var ee}function Ut(O,j,ee){var oe=X(ee),xe=O[j+=255&oe].g-8;return 0<xe&&(V(ee,ee.u+8),oe=X(ee),j+=O[j].value,j+=oe&(1<<xe)-1),V(ee,ee.u+O[j].g),O[j].value}function Jt(O,j,ee){return ee.g+=O.g,ee.value+=O.value<<j>>>0,e(8>=ee.g),O.g}function hn(O,j,ee){var oe=O.xc;return e((j=oe==0?0:O.vc[O.md*(ee>>oe)+(j>>oe)])<O.Wb),O.Ya[j]}function _i(O,j,ee,oe){var xe=O.ab,Ee=O.c*j,Te=O.C;j=Te+j;var Ie=ee,Le=oe;for(oe=O.Ta,ee=O.Ua;0<xe--;){var Be=O.gc[xe],Qe=Te,ut=j,ze=Ie,nt=Le,at=(Le=oe,Ie=ee,Be.Ea);switch(e(Qe<ut),e(ut<=Be.nc),Be.hc){case 2:Ar(ze,nt,(ut-Qe)*at,Le,Ie);break;case 0:var vt=Qe,dt=ut,_t=Le,At=Ie,It=(Xt=Be).Ea;vt==0&&(hf(ze,nt,null,null,1,_t,At),ve(ze,nt+1,0,0,It-1,_t,At+1),nt+=It,At+=It,++vt);for(var Tt=1<<Xt.b,Zt=Tt-1,Vt=$(It,Xt.b),vn=Xt.K,Xt=Xt.w+(vt>>Xt.b)*Vt;vt<dt;){var Dn=vn,es=Xt,bn=1;for(Iu(ze,nt,_t,At-It,1,_t,At);bn<It;){var Yt=(bn&~Zt)+Tt;Yt>It&&(Yt=It),(0,o2[Dn[es++]>>8&15])(ze,nt+ +bn,_t,At+bn-It,Yt-bn,_t,At+bn),bn=Yt}nt+=It,At+=It,++vt&Zt||(Xt+=Vt)}ut!=Be.nc&&i(Le,Ie-at,Le,Ie+(ut-Qe-1)*at,at);break;case 1:for(at=ze,dt=nt,It=(ze=Be.Ea)-(At=ze&~(_t=(nt=1<<Be.b)-1)),vt=$(ze,Be.b),Tt=Be.K,Be=Be.w+(Qe>>Be.b)*vt;Qe<ut;){for(Zt=Tt,Vt=Be,vn=new pe,Xt=dt+At,Dn=dt+ze;dt<Xt;)me(Zt[Vt++],vn),l2(vn,at,dt,nt,Le,Ie),dt+=nt,Ie+=nt;dt<Dn&&(me(Zt[Vt++],vn),l2(vn,at,dt,It,Le,Ie),dt+=It,Ie+=It),++Qe&_t||(Be+=vt)}break;case 3:if(ze==Le&&nt==Ie&&0<Be.b){for(dt=Le,ze=at=Ie+(ut-Qe)*at-(At=(ut-Qe)*$(Be.Ea,Be.b)),nt=Le,_t=Ie,vt=[],At=(It=At)-1;0<=At;--At)vt[At]=nt[_t+At];for(At=It-1;0<=At;--At)dt[ze+At]=vt[At];HS(Be,Qe,ut,Le,at,Le,Ie)}else HS(Be,Qe,ut,ze,nt,Le,Ie)}Ie=oe,Le=ee}Le!=ee&&i(oe,ee,Ie,Le,Ee)}function hi(O,j){var ee=O.V,oe=O.Ba+O.c*O.C,xe=j-O.C;if(e(j<=O.l.o),e(16>=xe),0<xe){var Ee=O.l,Te=O.Ta,Ie=O.Ua,Le=Ee.width;if(_i(O,xe,ee,oe),xe=Ie=[Ie],e((ee=O.C)<(oe=j)),e(Ee.v<Ee.va),oe>Ee.o&&(oe=Ee.o),ee<Ee.j){var Be=Ee.j-ee;ee=Ee.j,xe[0]+=Be*Le}if(ee>=oe?ee=0:(xe[0]+=4*Ee.v,Ee.ka=ee-Ee.j,Ee.U=Ee.va-Ee.v,Ee.T=oe-ee,ee=1),ee){if(Ie=Ie[0],11>(ee=O.ca).S){var Qe=ee.f.RGBA,ut=(oe=ee.S,xe=Ee.U,Ee=Ee.T,Be=Qe.eb,Qe.A),ze=Ee;for(Qe=Qe.fb+O.Ma*Qe.A;0<ze--;){var nt=Te,at=Ie,vt=xe,dt=Be,_t=Qe;switch(oe){case XS:c2(nt,at,vt,dt,_t);break;case YS:ff(nt,at,vt,dt,_t);break;case fC:ff(nt,at,vt,dt,_t),u2(dt,_t,0,vt,1,0);break;case LO:xm(nt,at,vt,dt,_t);break;case KS:ft(nt,at,vt,dt,_t,1);break;case pC:ft(nt,at,vt,dt,_t,1),u2(dt,_t,0,vt,1,0);break;case JS:ft(nt,at,vt,dt,_t,0);break;case ZS:ft(nt,at,vt,dt,_t,0),u2(dt,_t,1,vt,1,0);break;case hC:pf(nt,at,vt,dt,_t);break;case mC:pf(nt,at,vt,dt,_t),kO(dt,_t,vt,1,0);break;case OO:mf(nt,at,vt,dt,_t);break;default:e(0)}Ie+=Le,Qe+=ut}O.Ma+=Ee}else alert("todo:EmitRescaledRowsYUVA");e(O.Ma<=ee.height)}}O.C=j,e(O.C<=O.i)}function Bi(O){var j;if(0<O.ua)return 0;for(j=0;j<O.Wb;++j){var ee=O.Ya[j].G,oe=O.Ya[j].H;if(0<ee[1][oe[1]+0].g||0<ee[2][oe[2]+0].g||0<ee[3][oe[3]+0].g)return 0}return 1}function Pi(O,j,ee,oe,xe,Ee){if(O.Z!=0){var Te=O.qd,Ie=O.rd;for(e(vf[O.Z]!=null);j<ee;++j)vf[O.Z](Te,Ie,oe,xe,oe,xe,Ee),Te=oe,Ie=xe,xe+=Ee;O.qd=Te,O.rd=Ie}}function fi(O,j){var ee=O.l.ma,oe=ee.Z==0||ee.Z==1?O.l.j:O.C;if(oe=O.C<oe?oe:O.C,e(j<=O.l.o),j>oe){var xe=O.l.width,Ee=ee.ca,Te=ee.tb+xe*oe,Ie=O.V,Le=O.Ba+O.c*oe,Be=O.gc;e(O.ab==1),e(Be[0].hc==3),_d(Be[0],oe,j,Ie,Le,Ee,Te),Pi(ee,oe,j,Ee,Te,xe)}O.C=O.Ma=j}function pi(O,j,ee,oe,xe,Ee,Te){var Ie=O.$/oe,Le=O.$%oe,Be=O.m,Qe=O.s,ut=ee+O.$,ze=ut;xe=ee+oe*xe;var nt=ee+oe*Ee,at=280+Qe.ua,vt=O.Pb?Ie:16777216,dt=0<Qe.ua?Qe.Wa:null,_t=Qe.wc,At=ut<nt?hn(Qe,Le,Ie):null;e(O.C<Ee),e(nt<=xe);var It=!1;e:for(;;){for(;It||ut<nt;){var Tt=0;if(Ie>=vt){var Zt=ut-ee;e((vt=O).Pb),vt.wd=vt.m,vt.xd=Zt,0<vt.s.ua&&Je(vt.s.Wa,vt.s.vb),vt=Ie+DY}if(Le&_t||(At=hn(Qe,Le,Ie)),e(At!=null),At.Qb&&(j[ut]=At.qb,It=!0),!It)if(Z(Be),At.jc){Tt=Be,Zt=j;var Vt=ut,vn=At.pd[X(Tt)&xt-1];e(At.jc),256>vn.g?(V(Tt,Tt.u+vn.g),Zt[Vt]=vn.value,Tt=0):(V(Tt,Tt.u+vn.g-256),e(256<=vn.value),Tt=vn.value),Tt==0&&(It=!0)}else Tt=Ut(At.G[0],At.H[0],Be);if(Be.h)break;if(It||256>Tt){if(!It)if(At.nd)j[ut]=(At.qb|Tt<<8)>>>0;else{if(Z(Be),It=Ut(At.G[1],At.H[1],Be),Z(Be),Zt=Ut(At.G[2],At.H[2],Be),Vt=Ut(At.G[3],At.H[3],Be),Be.h)break;j[ut]=(Vt<<24|It<<16|Tt<<8|Zt)>>>0}if(It=!1,++ut,++Le>=oe&&(Le=0,++Ie,Te!=null&&Ie<=Ee&&!(Ie%16)&&Te(O,Ie),dt!=null))for(;ze<ut;)Tt=j[ze++],dt.X[(506832829*Tt&4294967295)>>>dt.Mb]=Tt}else if(280>Tt){if(Tt=ot(Tt-256,Be),Zt=Ut(At.G[4],At.H[4],Be),Z(Be),Zt=Nt(oe,Zt=ot(Zt,Be)),Be.h)break;if(ut-ee<Zt||xe-ut<Tt)break e;for(Vt=0;Vt<Tt;++Vt)j[ut+Vt]=j[ut+Vt-Zt];for(ut+=Tt,Le+=Tt;Le>=oe;)Le-=oe,++Ie,Te!=null&&Ie<=Ee&&!(Ie%16)&&Te(O,Ie);if(e(ut<=xe),Le&_t&&(At=hn(Qe,Le,Ie)),dt!=null)for(;ze<ut;)Tt=j[ze++],dt.X[(506832829*Tt&4294967295)>>>dt.Mb]=Tt}else{if(!(Tt<at))break e;for(It=Tt-280,e(dt!=null);ze<ut;)Tt=j[ze++],dt.X[(506832829*Tt&4294967295)>>>dt.Mb]=Tt;Tt=ut,e(!(It>>>(Zt=dt).Xa)),j[Tt]=Zt.X[It],It=!0}It||e(Be.h==Q(Be))}if(O.Pb&&Be.h&&ut<xe)e(O.m.h),O.a=5,O.m=O.wd,O.$=O.xd,0<O.s.ua&&Je(O.s.vb,O.s.Wa);else{if(Be.h)break e;Te!=null&&Te(O,Ie>Ee?Ee:Ie),O.a=0,O.$=ut-ee}return 1}return O.a=3,0}function zi(O){e(O!=null),O.vc=null,O.yc=null,O.Ya=null;var j=O.Wa;j!=null&&(j.X=null),O.vb=null,e(O!=null)}function Os(){var O=new nn;return O==null?null:(O.a=0,O.xb=MO,We("Predictor","VP8LPredictors"),We("Predictor","VP8LPredictors_C"),We("PredictorAdd","VP8LPredictorsAdd"),We("PredictorAdd","VP8LPredictorsAdd_C"),Ar=ae,l2=ge,c2=Ye,ff=Ke,pf=mt,mf=qe,xm=it,P.VP8LMapColor32b=xd,P.VP8LMapColor8b=a2,O)}function Xr(O,j,ee,oe,xe){var Ee=1,Te=[O],Ie=[j],Le=oe.m,Be=oe.s,Qe=null,ut=0;e:for(;;){if(ee)for(;Ee&&W(Le,1);){var ze=Te,nt=Ie,at=oe,vt=1,dt=at.m,_t=at.gc[at.ab],At=W(dt,2);if(at.Oc&1<<At)Ee=0;else{switch(at.Oc|=1<<At,_t.hc=At,_t.Ea=ze[0],_t.nc=nt[0],_t.K=[null],++at.ab,e(4>=at.ab),At){case 0:case 1:_t.b=W(dt,3)+2,vt=Xr($(_t.Ea,_t.b),$(_t.nc,_t.b),0,at,_t.K),_t.K=_t.K[0];break;case 3:var It,Tt=W(dt,8)+1,Zt=16<Tt?0:4<Tt?1:2<Tt?2:3;if(ze[0]=$(_t.Ea,Zt),_t.b=Zt,It=vt=Xr(Tt,1,0,at,_t.K)){var Vt,vn=Tt,Xt=_t,Dn=1<<(8>>Xt.b),es=s(Dn);if(es==null)It=0;else{var bn=Xt.K[0],Yt=Xt.w;for(es[0]=Xt.K[0][0],Vt=1;Vt<1*vn;++Vt)es[Vt]=ke(bn[Yt+Vt],es[Vt-1]);for(;Vt<4*Dn;++Vt)es[Vt]=0;Xt.K[0]=null,Xt.K[0]=es,It=1}}vt=It;break;case 2:break;default:e(0)}Ee=vt}}if(Te=Te[0],Ie=Ie[0],Ee&&W(Le,1)&&!(Ee=1<=(ut=W(Le,4))&&11>=ut)){oe.a=3;break e}var Mt;if(Mt=Ee)t:{var Er,fn,Ln,ji=oe,zs=Te,Da=Ie,dr=ut,aa=ee,Pa=ji.m,ts=ji.s,jn=[null],ii=1,ur=0,ri=CY[dr];n:for(;;){if(aa&&W(Pa,1)){var js=W(Pa,3)+2,xc=$(zs,js),Tr=$(Da,js),Qa=xc*Tr;if(!Xr(xc,Tr,0,ji,jn))break n;for(jn=jn[0],ts.xc=js,Er=0;Er<Qa;++Er){var Ai=jn[Er]>>8&65535;jn[Er]=Ai,Ai>=ii&&(ii=Ai+1)}}if(Pa.h)break n;for(fn=0;5>fn;++fn){var ns=FO[fn];!fn&&0<dr&&(ns+=1<<dr),ur<ns&&(ur=ns)}var Ro=a(ii*ri,I),Ia=ii,Lo=a(Ia,M);if(Lo==null)var Oo=null;else e(65536>=Ia),Oo=Lo;var eo=s(ur);if(Oo==null||eo==null||Ro==null){ji.a=1;break n}var Fo=Ro;for(Er=Ln=0;Er<ii;++Er){var Ii=Oo[Er],Uo=Ii.G,_c=Ii.H,Sm=0,Ou=1,Ws=0;for(fn=0;5>fn;++fn){ns=FO[fn],Uo[fn]=Fo,_c[fn]=Ln,!fn&&0<dr&&(ns+=1<<dr);r:{var nN,bC=ns,iN=ji,p2=eo,KY=Fo,JY=Ln,wC=0,bf=iN.m,ZY=W(bf,1);if(r(p2,0,0,bC),ZY){var QY=W(bf,1)+1,eK=W(bf,1),GO=W(bf,eK==0?1:8);p2[GO]=1,QY==2&&(p2[GO=W(bf,8)]=1);var rN=1}else{var XO=s(19),YO=W(bf,4)+4;if(19<YO){iN.a=3;var sN=0;break r}for(nN=0;nN<YO;++nN)XO[EY[nN]]=W(bf,3);var xC=void 0,m2=void 0,KO=iN,tK=XO,aN=bC,JO=p2,_C=0,wf=KO.m,ZO=8,QO=a(128,I);i:for(;A(QO,0,7,tK,19);){if(W(wf,1)){var nK=2+2*W(wf,3);if((xC=2+W(wf,nK))>aN)break i}else xC=aN;for(m2=0;m2<aN&&xC--;){Z(wf);var e7=QO[0+(127&X(wf))];V(wf,wf.u+e7.g);var u0=e7.value;if(16>u0)JO[m2++]=u0,u0!=0&&(ZO=u0);else{var iK=u0==16,t7=u0-16,rK=AY[t7],n7=W(wf,NY[t7])+rK;if(m2+n7>aN)break i;for(var sK=iK?ZO:0;0<n7--;)JO[m2++]=sK}}_C=1;break i}_C||(KO.a=3),rN=_C}(rN=rN&&!bf.h)&&(wC=A(KY,JY,8,p2,bC)),rN&&wC!=0?sN=wC:(iN.a=3,sN=0)}if(sN==0)break n;if(Ou&&kY[fn]==1&&(Ou=Fo[Ln].g==0),Sm+=Fo[Ln].g,Ln+=sN,3>=fn){var g2,SC=eo[0];for(g2=1;g2<ns;++g2)eo[g2]>SC&&(SC=eo[g2]);Ws+=SC}}if(Ii.nd=Ou,Ii.Qb=0,Ou&&(Ii.qb=(Uo[3][_c[3]+0].value<<24|Uo[1][_c[1]+0].value<<16|Uo[2][_c[2]+0].value)>>>0,Sm==0&&256>Uo[0][_c[0]+0].value&&(Ii.Qb=1,Ii.qb+=Uo[0][_c[0]+0].value<<8)),Ii.jc=!Ii.Qb&&6>Ws,Ii.jc){var oN,Fu=Ii;for(oN=0;oN<xt;++oN){var xf=oN,_f=Fu.pd[xf],lN=Fu.G[0][Fu.H[0]+xf];256<=lN.value?(_f.g=lN.g+256,_f.value=lN.value):(_f.g=0,_f.value=0,xf>>=Jt(lN,8,_f),xf>>=Jt(Fu.G[1][Fu.H[1]+xf],16,_f),xf>>=Jt(Fu.G[2][Fu.H[2]+xf],0,_f),Jt(Fu.G[3][Fu.H[3]+xf],24,_f))}}}ts.vc=jn,ts.Wb=ii,ts.Ya=Oo,ts.yc=Ro,Mt=1;break t}Mt=0}if(!(Ee=Mt)){oe.a=3;break e}if(0<ut){if(Be.ua=1<<ut,!fe(Be.Wa,ut)){oe.a=1,Ee=0;break e}}else Be.ua=0;var NC=oe,i7=Te,aK=Ie,AC=NC.s,kC=AC.xc;if(NC.c=i7,NC.i=aK,AC.md=$(i7,kC),AC.wc=kC==0?-1:(1<<kC)-1,ee){oe.xb=UY;break e}if((Qe=s(Te*Ie))==null){oe.a=1,Ee=0;break e}Ee=(Ee=pi(oe,Qe,0,Te,Ie,Ie,null))&&!Le.h;break e}return Ee?(xe!=null?xe[0]=Qe:(e(Qe==null),e(ee)),oe.$=0,ee||zi(Be)):zi(Be),Ee}function Ur(O,j){var ee=O.c*O.i,oe=ee+j+16*j;return e(O.c<=j),O.V=s(oe),O.V==null?(O.Ta=null,O.Ua=0,O.a=1,0):(O.Ta=O.V,O.Ua=O.Ba+ee+j,1)}function Yr(O,j){var ee=O.C,oe=j-ee,xe=O.V,Ee=O.Ba+O.c*ee;for(e(j<=O.l.o);0<oe;){var Te=16<oe?16:oe,Ie=O.l.ma,Le=O.l.width,Be=Le*Te,Qe=Ie.ca,ut=Ie.tb+Le*ee,ze=O.Ta,nt=O.Ua;_i(O,Te,xe,Ee),TO(ze,nt,Qe,ut,Be),Pi(Ie,ee,ee+Te,Qe,ut,Le),oe-=Te,xe+=Te*O.c,ee+=Te}e(ee==j),O.C=O.Ma=j}function cc(){this.ub=this.yd=this.td=this.Rb=0}function _l(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function dc(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Fs(){this.Yb=function(){var O=[];return function j(ee,oe,xe){for(var Ee=xe[oe],Te=0;Te<Ee&&(ee.push(xe.length>oe+1?[]:0),!(xe.length<oe+1));Te++)j(ee[Te],oe+1,xe)}(O,0,[3,11]),O}()}function od(){this.jb=s(3),this.Wc=o([4,8],Fs),this.Xc=o([4,17],Fs)}function ld(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Us(){this.ld=this.La=this.dd=this.tc=0}function cd(){this.Na=this.la=0}function Nu(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Eo(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function uc(){this.uc=this.M=this.Nb=0,this.wa=Array(new Us),this.Y=0,this.ya=Array(new Eo),this.aa=0,this.l=new Sl}function dd(){this.y=s(16),this.f=s(8),this.ea=s(8)}function ud(){this.cb=this.a=0,this.sc="",this.m=new L,this.Od=new cc,this.Kc=new _l,this.ed=new ld,this.Qa=new dc,this.Ic=this.$c=this.Aa=0,this.D=new uc,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,L),this.ia=0,this.pb=a(4,Nu),this.Pa=new od,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new dd),this.Hd=0,this.rb=Array(new cd),this.sb=0,this.wa=Array(new Us),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Eo),this.L=this.aa=0,this.gd=o([4,2],Us),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function fs(O,j){return 0>O?0:O>j?j:O}function Sl(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ka(){var O=new ud;return O!=null&&(O.a=0,O.sc="OK",O.cb=0,O.Xb=0,h2||(h2=Nl)),O}function Bn(O,j,ee){return O.a==0&&(O.a=j,O.sc=ee,O.cb=0),0}function sa(O,j,ee){return 3<=ee&&O[j+0]==157&&O[j+1]==1&&O[j+2]==42}function lr(O,j){if(O==null)return 0;if(O.a=0,O.sc="OK",j==null)return Bn(O,2,"null VP8Io passed to VP8GetHeaders()");var ee=j.data,oe=j.w,xe=j.ha;if(4>xe)return Bn(O,7,"Truncated header.");var Ee=ee[oe+0]|ee[oe+1]<<8|ee[oe+2]<<16,Te=O.Od;if(Te.Rb=!(1&Ee),Te.td=Ee>>1&7,Te.yd=Ee>>4&1,Te.ub=Ee>>5,3<Te.td)return Bn(O,3,"Incorrect keyframe parameters.");if(!Te.yd)return Bn(O,4,"Frame not displayable.");oe+=3,xe-=3;var Ie=O.Kc;if(Te.Rb){if(7>xe)return Bn(O,7,"cannot parse picture header");if(!sa(ee,oe,xe))return Bn(O,3,"Bad code word");Ie.c=16383&(ee[oe+4]<<8|ee[oe+3]),Ie.Td=ee[oe+4]>>6,Ie.i=16383&(ee[oe+6]<<8|ee[oe+5]),Ie.Ud=ee[oe+6]>>6,oe+=7,xe-=7,O.za=Ie.c+15>>4,O.Ub=Ie.i+15>>4,j.width=Ie.c,j.height=Ie.i,j.Da=0,j.j=0,j.v=0,j.va=j.width,j.o=j.height,j.da=0,j.ib=j.width,j.hb=j.height,j.U=j.width,j.T=j.height,r((Ee=O.Pa).jb,0,255,Ee.jb.length),e((Ee=O.Qa)!=null),Ee.Cb=0,Ee.Bb=0,Ee.Fb=1,r(Ee.Zb,0,0,Ee.Zb.length),r(Ee.Lb,0,0,Ee.Lb)}if(Te.ub>xe)return Bn(O,7,"bad partition length");Y(Ee=O.m,ee,oe,Te.ub),oe+=Te.ub,xe-=Te.ub,Te.Rb&&(Ie.Ld=le(Ee),Ie.Kd=le(Ee)),Ie=O.Qa;var Le,Be=O.Pa;if(e(Ee!=null),e(Ie!=null),Ie.Cb=le(Ee),Ie.Cb){if(Ie.Bb=le(Ee),le(Ee)){for(Ie.Fb=le(Ee),Le=0;4>Le;++Le)Ie.Zb[Le]=le(Ee)?G(Ee,7):0;for(Le=0;4>Le;++Le)Ie.Lb[Le]=le(Ee)?G(Ee,6):0}if(Ie.Bb)for(Le=0;3>Le;++Le)Be.jb[Le]=le(Ee)?q(Ee,8):255}else Ie.Bb=0;if(Ee.Ka)return Bn(O,3,"cannot parse segment header");if((Ie=O.ed).zd=le(Ee),Ie.Tb=q(Ee,6),Ie.wb=q(Ee,3),Ie.Pc=le(Ee),Ie.Pc&&le(Ee)){for(Be=0;4>Be;++Be)le(Ee)&&(Ie.vd[Be]=G(Ee,6));for(Be=0;4>Be;++Be)le(Ee)&&(Ie.od[Be]=G(Ee,6))}if(O.L=Ie.Tb==0?0:Ie.zd?1:2,Ee.Ka)return Bn(O,3,"cannot parse filter header");var Qe=xe;if(xe=Le=oe,oe=Le+Qe,Ie=Qe,O.Xb=(1<<q(O.m,2))-1,Qe<3*(Be=O.Xb))ee=7;else{for(Le+=3*Be,Ie-=3*Be,Qe=0;Qe<Be;++Qe){var ut=ee[xe+0]|ee[xe+1]<<8|ee[xe+2]<<16;ut>Ie&&(ut=Ie),Y(O.Jc[+Qe],ee,Le,ut),Le+=ut,Ie-=ut,xe+=3}Y(O.Jc[+Be],ee,Le,Ie),ee=Le<oe?0:5}if(ee!=0)return Bn(O,ee,"cannot parse partitions");for(ee=q(Le=O.m,7),xe=le(Le)?G(Le,4):0,oe=le(Le)?G(Le,4):0,Ie=le(Le)?G(Le,4):0,Be=le(Le)?G(Le,4):0,Le=le(Le)?G(Le,4):0,Qe=O.Qa,ut=0;4>ut;++ut){if(Qe.Cb){var ze=Qe.Zb[ut];Qe.Fb||(ze+=ee)}else{if(0<ut){O.pb[ut]=O.pb[0];continue}ze=ee}var nt=O.pb[ut];nt.Sc[0]=gC[fs(ze+xe,127)],nt.Sc[1]=yC[fs(ze+0,127)],nt.Eb[0]=2*gC[fs(ze+oe,127)],nt.Eb[1]=101581*yC[fs(ze+Ie,127)]>>16,8>nt.Eb[1]&&(nt.Eb[1]=8),nt.Qc[0]=gC[fs(ze+Be,117)],nt.Qc[1]=yC[fs(ze+Le,127)],nt.lc=ze+Le}if(!Te.Rb)return Bn(O,4,"Not a key frame.");for(le(Ee),Te=O.Pa,ee=0;4>ee;++ee){for(xe=0;8>xe;++xe)for(oe=0;3>oe;++oe)for(Ie=0;11>Ie;++Ie)Be=ce(Ee,OY[ee][xe][oe][Ie])?q(Ee,8):RY[ee][xe][oe][Ie],Te.Wc[ee][xe].Yb[oe][Ie]=Be;for(xe=0;17>xe;++xe)Te.Xc[ee][xe]=Te.Wc[ee][FY[xe]]}return O.kc=le(Ee),O.kc&&(O.Bd=q(Ee,8)),O.cb=1}function Nl(O,j,ee,oe,xe,Ee,Te){var Ie=j[xe].Yb[ee];for(ee=0;16>xe;++xe){if(!ce(O,Ie[ee+0]))return xe;for(;!ce(O,Ie[ee+1]);)if(Ie=j[++xe].Yb[0],ee=0,xe==16)return 16;var Le=j[xe+1].Yb;if(ce(O,Ie[ee+2])){var Be=O,Qe=0;if(ce(Be,(ze=Ie)[(ut=ee)+3]))if(ce(Be,ze[ut+6])){for(Ie=0,ut=2*(Qe=ce(Be,ze[ut+8]))+(ze=ce(Be,ze[ut+9+Qe])),Qe=0,ze=PY[ut];ze[Ie];++Ie)Qe+=Qe+ce(Be,ze[Ie]);Qe+=3+(8<<ut)}else ce(Be,ze[ut+7])?(Qe=7+2*ce(Be,165),Qe+=ce(Be,145)):Qe=5+ce(Be,159);else Qe=ce(Be,ze[ut+4])?3+ce(Be,ze[ut+5]):2;Ie=Le[2]}else Qe=1,Ie=Le[1];Le=Te+IY[xe],0>(Be=O).b&&_e(Be);var ut,ze=Be.b,nt=(ut=Be.Ca>>1)-(Be.I>>ze)>>31;--Be.b,Be.Ca+=nt,Be.Ca|=1,Be.I-=(ut+1&nt)<<ze,Ee[Le]=((Qe^nt)-nt)*oe[(0<xe)+0]}return 16}function zn(O){var j=O.rb[O.sb-1];j.la=0,j.Na=0,r(O.zc,0,0,O.zc.length),O.ja=0}function Kr(O,j,ee,oe,xe){xe=O[j+ee+32*oe]+(xe>>3),O[j+ee+32*oe]=-256&xe?0>xe?0:255:xe}function Si(O,j,ee,oe,xe,Ee){Kr(O,j,0,ee,oe+xe),Kr(O,j,1,ee,oe+Ee),Kr(O,j,2,ee,oe-Ee),Kr(O,j,3,ee,oe-xe)}function ps(O){return(20091*O>>16)+O}function Au(O,j,ee,oe){var xe,Ee=0,Te=s(16);for(xe=0;4>xe;++xe){var Ie=O[j+0]+O[j+8],Le=O[j+0]-O[j+8],Be=(35468*O[j+4]>>16)-ps(O[j+12]),Qe=ps(O[j+4])+(35468*O[j+12]>>16);Te[Ee+0]=Ie+Qe,Te[Ee+1]=Le+Be,Te[Ee+2]=Le-Be,Te[Ee+3]=Ie-Qe,Ee+=4,j++}for(xe=Ee=0;4>xe;++xe)Ie=(O=Te[Ee+0]+4)+Te[Ee+8],Le=O-Te[Ee+8],Be=(35468*Te[Ee+4]>>16)-ps(Te[Ee+12]),Kr(ee,oe,0,0,Ie+(Qe=ps(Te[Ee+4])+(35468*Te[Ee+12]>>16))),Kr(ee,oe,1,0,Le+Be),Kr(ee,oe,2,0,Le-Be),Kr(ee,oe,3,0,Ie-Qe),Ee++,oe+=32}function ku(O,j,ee,oe){var xe=O[j+0]+4,Ee=35468*O[j+4]>>16,Te=ps(O[j+4]),Ie=35468*O[j+1]>>16;Si(ee,oe,0,xe+Te,O=ps(O[j+1]),Ie),Si(ee,oe,1,xe+Ee,O,Ie),Si(ee,oe,2,xe-Ee,O,Ie),Si(ee,oe,3,xe-Te,O,Ie)}function bm(O,j,ee,oe,xe){Au(O,j,ee,oe),xe&&Au(O,j+16,ee,oe+4)}function Ya(O,j,ee,oe){_m(O,j+0,ee,oe,1),_m(O,j+32,ee,oe+128,1)}function Eu(O,j,ee,oe){var xe;for(O=O[j+0]+4,xe=0;4>xe;++xe)for(j=0;4>j;++j)Kr(ee,oe,j,xe,O)}function Tu(O,j,ee,oe){O[j+0]&&Zn(O,j+0,ee,oe),O[j+16]&&Zn(O,j+16,ee,oe+4),O[j+32]&&Zn(O,j+32,ee,oe+128),O[j+48]&&Zn(O,j+48,ee,oe+128+4)}function Ka(O,j,ee,oe){var xe,Ee=s(16);for(xe=0;4>xe;++xe){var Te=O[j+0+xe]+O[j+12+xe],Ie=O[j+4+xe]+O[j+8+xe],Le=O[j+4+xe]-O[j+8+xe],Be=O[j+0+xe]-O[j+12+xe];Ee[0+xe]=Te+Ie,Ee[8+xe]=Te-Ie,Ee[4+xe]=Be+Le,Ee[12+xe]=Be-Le}for(xe=0;4>xe;++xe)Te=(O=Ee[0+4*xe]+3)+Ee[3+4*xe],Ie=Ee[1+4*xe]+Ee[2+4*xe],Le=Ee[1+4*xe]-Ee[2+4*xe],Be=O-Ee[3+4*xe],ee[oe+0]=Te+Ie>>3,ee[oe+16]=Be+Le>>3,ee[oe+32]=Te-Ie>>3,ee[oe+48]=Be-Le>>3,oe+=64}function Jr(O,j,ee){var oe,xe=j-32,Ee=Io,Te=255-O[xe-1];for(oe=0;oe<ee;++oe){var Ie,Le=Ee,Be=Te+O[j-1];for(Ie=0;Ie<ee;++Ie)O[j+Ie]=Le[Be+O[xe+Ie]];j+=32}}function Cu(O,j){Jr(O,j,4)}function cf(O,j){Jr(O,j,8)}function df(O,j){Jr(O,j,16)}function hd(O,j){var ee;for(ee=0;16>ee;++ee)i(O,j+32*ee,O,j-32,16)}function fd(O,j){var ee;for(ee=16;0<ee;--ee)r(O,j,O[j-1],16),j+=32}function Sr(O,j,ee){var oe;for(oe=0;16>oe;++oe)r(j,ee+32*oe,O,16)}function uf(O,j){var ee,oe=16;for(ee=0;16>ee;++ee)oe+=O[j-1+32*ee]+O[j+ee-32];Sr(oe>>5,O,j)}function hc(O,j){var ee,oe=8;for(ee=0;16>ee;++ee)oe+=O[j-1+32*ee];Sr(oe>>4,O,j)}function Zi(O,j){var ee,oe=8;for(ee=0;16>ee;++ee)oe+=O[j+ee-32];Sr(oe>>4,O,j)}function Ea(O,j){Sr(128,O,j)}function rn(O,j,ee){return O+2*j+ee+2>>2}function fc(O,j){var ee,oe=j-32;for(oe=new Uint8Array([rn(O[oe-1],O[oe+0],O[oe+1]),rn(O[oe+0],O[oe+1],O[oe+2]),rn(O[oe+1],O[oe+2],O[oe+3]),rn(O[oe+2],O[oe+3],O[oe+4])]),ee=0;4>ee;++ee)i(O,j+32*ee,oe,0,oe.length)}function pd(O,j){var ee=O[j-1],oe=O[j-1+32],xe=O[j-1+64],Ee=O[j-1+96];Fe(O,j+0,16843009*rn(O[j-1-32],ee,oe)),Fe(O,j+32,16843009*rn(ee,oe,xe)),Fe(O,j+64,16843009*rn(oe,xe,Ee)),Fe(O,j+96,16843009*rn(xe,Ee,Ee))}function pc(O,j){var ee,oe=4;for(ee=0;4>ee;++ee)oe+=O[j+ee-32]+O[j-1+32*ee];for(oe>>=3,ee=0;4>ee;++ee)r(O,j+32*ee,oe,4)}function Qi(O,j){var ee=O[j-1+0],oe=O[j-1+32],xe=O[j-1+64],Ee=O[j-1-32],Te=O[j+0-32],Ie=O[j+1-32],Le=O[j+2-32],Be=O[j+3-32];O[j+0+96]=rn(oe,xe,O[j-1+96]),O[j+1+96]=O[j+0+64]=rn(ee,oe,xe),O[j+2+96]=O[j+1+64]=O[j+0+32]=rn(Ee,ee,oe),O[j+3+96]=O[j+2+64]=O[j+1+32]=O[j+0+0]=rn(Te,Ee,ee),O[j+3+64]=O[j+2+32]=O[j+1+0]=rn(Ie,Te,Ee),O[j+3+32]=O[j+2+0]=rn(Le,Ie,Te),O[j+3+0]=rn(Be,Le,Ie)}function Zr(O,j){var ee=O[j+1-32],oe=O[j+2-32],xe=O[j+3-32],Ee=O[j+4-32],Te=O[j+5-32],Ie=O[j+6-32],Le=O[j+7-32];O[j+0+0]=rn(O[j+0-32],ee,oe),O[j+1+0]=O[j+0+32]=rn(ee,oe,xe),O[j+2+0]=O[j+1+32]=O[j+0+64]=rn(oe,xe,Ee),O[j+3+0]=O[j+2+32]=O[j+1+64]=O[j+0+96]=rn(xe,Ee,Te),O[j+3+32]=O[j+2+64]=O[j+1+96]=rn(Ee,Te,Ie),O[j+3+64]=O[j+2+96]=rn(Te,Ie,Le),O[j+3+96]=rn(Ie,Le,Le)}function md(O,j){var ee=O[j-1+0],oe=O[j-1+32],xe=O[j-1+64],Ee=O[j-1-32],Te=O[j+0-32],Ie=O[j+1-32],Le=O[j+2-32],Be=O[j+3-32];O[j+0+0]=O[j+1+64]=Ee+Te+1>>1,O[j+1+0]=O[j+2+64]=Te+Ie+1>>1,O[j+2+0]=O[j+3+64]=Ie+Le+1>>1,O[j+3+0]=Le+Be+1>>1,O[j+0+96]=rn(xe,oe,ee),O[j+0+64]=rn(oe,ee,Ee),O[j+0+32]=O[j+1+96]=rn(ee,Ee,Te),O[j+1+32]=O[j+2+96]=rn(Ee,Te,Ie),O[j+2+32]=O[j+3+96]=rn(Te,Ie,Le),O[j+3+32]=rn(Ie,Le,Be)}function Al(O,j){var ee=O[j+0-32],oe=O[j+1-32],xe=O[j+2-32],Ee=O[j+3-32],Te=O[j+4-32],Ie=O[j+5-32],Le=O[j+6-32],Be=O[j+7-32];O[j+0+0]=ee+oe+1>>1,O[j+1+0]=O[j+0+64]=oe+xe+1>>1,O[j+2+0]=O[j+1+64]=xe+Ee+1>>1,O[j+3+0]=O[j+2+64]=Ee+Te+1>>1,O[j+0+32]=rn(ee,oe,xe),O[j+1+32]=O[j+0+96]=rn(oe,xe,Ee),O[j+2+32]=O[j+1+96]=rn(xe,Ee,Te),O[j+3+32]=O[j+2+96]=rn(Ee,Te,Ie),O[j+3+64]=rn(Te,Ie,Le),O[j+3+96]=rn(Ie,Le,Be)}function Kn(O,j){var ee=O[j-1+0],oe=O[j-1+32],xe=O[j-1+64],Ee=O[j-1+96];O[j+0+0]=ee+oe+1>>1,O[j+2+0]=O[j+0+32]=oe+xe+1>>1,O[j+2+32]=O[j+0+64]=xe+Ee+1>>1,O[j+1+0]=rn(ee,oe,xe),O[j+3+0]=O[j+1+32]=rn(oe,xe,Ee),O[j+3+32]=O[j+1+64]=rn(xe,Ee,Ee),O[j+3+64]=O[j+2+64]=O[j+0+96]=O[j+1+96]=O[j+2+96]=O[j+3+96]=Ee}function Du(O,j){var ee=O[j-1+0],oe=O[j-1+32],xe=O[j-1+64],Ee=O[j-1+96],Te=O[j-1-32],Ie=O[j+0-32],Le=O[j+1-32],Be=O[j+2-32];O[j+0+0]=O[j+2+32]=ee+Te+1>>1,O[j+0+32]=O[j+2+64]=oe+ee+1>>1,O[j+0+64]=O[j+2+96]=xe+oe+1>>1,O[j+0+96]=Ee+xe+1>>1,O[j+3+0]=rn(Ie,Le,Be),O[j+2+0]=rn(Te,Ie,Le),O[j+1+0]=O[j+3+32]=rn(ee,Te,Ie),O[j+1+32]=O[j+3+64]=rn(oe,ee,Te),O[j+1+64]=O[j+3+96]=rn(xe,oe,ee),O[j+1+96]=rn(Ee,xe,oe)}function kl(O,j){var ee;for(ee=0;8>ee;++ee)i(O,j+32*ee,O,j-32,8)}function Nr(O,j){var ee;for(ee=0;8>ee;++ee)r(O,j,O[j-1],8),j+=32}function Ta(O,j,ee){var oe;for(oe=0;8>oe;++oe)r(j,ee+32*oe,O,8)}function gd(O,j){var ee,oe=8;for(ee=0;8>ee;++ee)oe+=O[j+ee-32]+O[j-1+32*ee];Ta(oe>>4,O,j)}function To(O,j){var ee,oe=4;for(ee=0;8>ee;++ee)oe+=O[j+ee-32];Ta(oe>>3,O,j)}function ms(O,j){var ee,oe=4;for(ee=0;8>ee;++ee)oe+=O[j-1+32*ee];Ta(oe>>3,O,j)}function yd(O,j){Ta(128,O,j)}function Co(O,j,ee){var oe=O[j-ee],xe=O[j+0],Ee=3*(xe-oe)+uC[1020+O[j-2*ee]-O[j+ee]],Te=GS[112+(Ee+4>>3)];O[j-ee]=Io[255+oe+GS[112+(Ee+3>>3)]],O[j+0]=Io[255+xe-Te]}function Ja(O,j,ee,oe){var xe=O[j+0],Ee=O[j+ee];return Tl[255+O[j-2*ee]-O[j-ee]]>oe||Tl[255+Ee-xe]>oe}function mc(O,j,ee,oe){return 4*Tl[255+O[j-ee]-O[j+0]]+Tl[255+O[j-2*ee]-O[j+ee]]<=oe}function gc(O,j,ee,oe,xe){var Ee=O[j-3*ee],Te=O[j-2*ee],Ie=O[j-ee],Le=O[j+0],Be=O[j+ee],Qe=O[j+2*ee],ut=O[j+3*ee];return 4*Tl[255+Ie-Le]+Tl[255+Te-Be]>oe?0:Tl[255+O[j-4*ee]-Ee]<=xe&&Tl[255+Ee-Te]<=xe&&Tl[255+Te-Ie]<=xe&&Tl[255+ut-Qe]<=xe&&Tl[255+Qe-Be]<=xe&&Tl[255+Be-Le]<=xe}function Za(O,j,ee,oe){var xe=2*oe+1;for(oe=0;16>oe;++oe)mc(O,j+oe,ee,xe)&&Co(O,j+oe,ee)}function vd(O,j,ee,oe){var xe=2*oe+1;for(oe=0;16>oe;++oe)mc(O,j+oe*ee,1,xe)&&Co(O,j+oe*ee,1)}function yc(O,j,ee,oe){var xe;for(xe=3;0<xe;--xe)Za(O,j+=4*ee,ee,oe)}function Pu(O,j,ee,oe){var xe;for(xe=3;0<xe;--xe)vd(O,j+=4,ee,oe)}function Ms(O,j,ee,oe,xe,Ee,Te,Ie){for(Ee=2*Ee+1;0<xe--;){if(gc(O,j,ee,Ee,Te))if(Ja(O,j,ee,Ie))Co(O,j,ee);else{var Le=O,Be=j,Qe=ee,ut=Le[Be-2*Qe],ze=Le[Be-Qe],nt=Le[Be+0],at=Le[Be+Qe],vt=Le[Be+2*Qe],dt=27*(At=uC[1020+3*(nt-ze)+uC[1020+ut-at]])+63>>7,_t=18*At+63>>7,At=9*At+63>>7;Le[Be-3*Qe]=Io[255+Le[Be-3*Qe]+At],Le[Be-2*Qe]=Io[255+ut+_t],Le[Be-Qe]=Io[255+ze+dt],Le[Be+0]=Io[255+nt-dt],Le[Be+Qe]=Io[255+at-_t],Le[Be+2*Qe]=Io[255+vt-At]}j+=oe}}function gs(O,j,ee,oe,xe,Ee,Te,Ie){for(Ee=2*Ee+1;0<xe--;){if(gc(O,j,ee,Ee,Te))if(Ja(O,j,ee,Ie))Co(O,j,ee);else{var Le=O,Be=j,Qe=ee,ut=Le[Be-Qe],ze=Le[Be+0],nt=Le[Be+Qe],at=GS[112+(4+(vt=3*(ze-ut))>>3)],vt=GS[112+(vt+3>>3)],dt=at+1>>1;Le[Be-2*Qe]=Io[255+Le[Be-2*Qe]+dt],Le[Be-Qe]=Io[255+ut+vt],Le[Be+0]=Io[255+ze-at],Le[Be+Qe]=Io[255+nt-dt]}j+=oe}}function Do(O,j,ee,oe,xe,Ee){Ms(O,j,ee,1,16,oe,xe,Ee)}function Po(O,j,ee,oe,xe,Ee){Ms(O,j,1,ee,16,oe,xe,Ee)}function bd(O,j,ee,oe,xe,Ee){var Te;for(Te=3;0<Te;--Te)gs(O,j+=4*ee,ee,1,16,oe,xe,Ee)}function K(O,j,ee,oe,xe,Ee){var Te;for(Te=3;0<Te;--Te)gs(O,j+=4,1,ee,16,oe,xe,Ee)}function be(O,j,ee,oe,xe,Ee,Te,Ie){Ms(O,j,xe,1,8,Ee,Te,Ie),Ms(ee,oe,xe,1,8,Ee,Te,Ie)}function Ue(O,j,ee,oe,xe,Ee,Te,Ie){Ms(O,j,1,xe,8,Ee,Te,Ie),Ms(ee,oe,1,xe,8,Ee,Te,Ie)}function Ge(O,j,ee,oe,xe,Ee,Te,Ie){gs(O,j+4*xe,xe,1,8,Ee,Te,Ie),gs(ee,oe+4*xe,xe,1,8,Ee,Te,Ie)}function rt(O,j,ee,oe,xe,Ee,Te,Ie){gs(O,j+4,1,xe,8,Ee,Te,Ie),gs(ee,oe+4,1,xe,8,Ee,Te,Ie)}function yt(){this.ba=new Et,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Bt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function kt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function $t(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Wt(){this.ua=0,this.Wa=new je,this.vb=new je,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new M,this.yc=new I}function nn(){this.xb=this.a=0,this.l=new Sl,this.ca=new Et,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new z,this.Pb=0,this.wd=new z,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Wt,this.ab=0,this.gc=a(4,$t),this.Oc=0}function jt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Sl,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Sn(O,j,ee,oe,xe,Ee,Te){for(O=O==null?0:O[j+0],j=0;j<Te;++j)xe[Ee+j]=O+ee[oe+j]&255,O=xe[Ee+j]}function ei(O,j,ee,oe,xe,Ee,Te){var Ie;if(O==null)Sn(null,null,ee,oe,xe,Ee,Te);else for(Ie=0;Ie<Te;++Ie)xe[Ee+Ie]=O[j+Ie]+ee[oe+Ie]&255}function ti(O,j,ee,oe,xe,Ee,Te){if(O==null)Sn(null,null,ee,oe,xe,Ee,Te);else{var Ie,Le=O[j+0],Be=Le,Qe=Le;for(Ie=0;Ie<Te;++Ie)Be=Qe+(Le=O[j+Ie])-Be,Qe=ee[oe+Ie]+(-256&Be?0>Be?0:255:Be)&255,Be=Le,xe[Ee+Ie]=Qe}}function F(O,j,ee,oe){var xe=j.width,Ee=j.o;if(e(O!=null&&j!=null),0>ee||0>=oe||ee+oe>Ee)return null;if(!O.Cc){if(O.ga==null){var Te;if(O.ga=new jt,(Te=O.ga==null)||(Te=j.width*j.o,e(O.Gb.length==0),O.Gb=s(Te),O.Uc=0,O.Gb==null?Te=0:(O.mb=O.Gb,O.nb=O.Uc,O.rc=null,Te=1),Te=!Te),!Te){Te=O.ga;var Ie=O.Fa,Le=O.P,Be=O.qc,Qe=O.mb,ut=O.nb,ze=Le+1,nt=Be-1,at=Te.l;if(e(Ie!=null&&Qe!=null&&j!=null),vf[0]=null,vf[1]=Sn,vf[2]=ei,vf[3]=ti,Te.ca=Qe,Te.tb=ut,Te.c=j.width,Te.i=j.height,e(0<Te.c&&0<Te.i),1>=Be)j=0;else if(Te.$a=3&Ie[Le+0],Te.Z=Ie[Le+0]>>2&3,Te.Lc=Ie[Le+0]>>4&3,Le=Ie[Le+0]>>6&3,0>Te.$a||1<Te.$a||4<=Te.Z||1<Te.Lc||Le)j=0;else if(at.put=Me,at.ac=Pe,at.bc=ht,at.ma=Te,at.width=j.width,at.height=j.height,at.Da=j.Da,at.v=j.v,at.va=j.va,at.j=j.j,at.o=j.o,Te.$a)e:{e(Te.$a==1),j=Os();t:for(;;){if(j==null){j=0;break e}if(e(Te!=null),Te.mc=j,j.c=Te.c,j.i=Te.i,j.l=Te.l,j.l.ma=Te,j.l.width=Te.c,j.l.height=Te.i,j.a=0,B(j.m,Ie,ze,nt),!Xr(Te.c,Te.i,1,j,null)||(j.ab==1&&j.gc[0].hc==3&&Bi(j.s)?(Te.ic=1,Ie=j.c*j.i,j.Ta=null,j.Ua=0,j.V=s(Ie),j.Ba=0,j.V==null?(j.a=1,j=0):j=1):(Te.ic=0,j=Ur(j,Te.c)),!j))break t;j=1;break e}Te.mc=null,j=0}else j=nt>=Te.c*Te.i;Te=!j}if(Te)return null;O.ga.Lc!=1?O.Ga=0:oe=Ee-ee}e(O.ga!=null),e(ee+oe<=Ee);e:{if(j=(Ie=O.ga).c,Ee=Ie.l.o,Ie.$a==0){if(ze=O.rc,nt=O.Vc,at=O.Fa,Le=O.P+1+ee*j,Be=O.mb,Qe=O.nb+ee*j,e(Le<=O.P+O.qc),Ie.Z!=0)for(e(vf[Ie.Z]!=null),Te=0;Te<oe;++Te)vf[Ie.Z](ze,nt,at,Le,Be,Qe,j),ze=Be,nt=Qe,Qe+=j,Le+=j;else for(Te=0;Te<oe;++Te)i(Be,Qe,at,Le,j),ze=Be,nt=Qe,Qe+=j,Le+=j;O.rc=ze,O.Vc=nt}else{if(e(Ie.mc!=null),j=ee+oe,e((Te=Ie.mc)!=null),e(j<=Te.i),Te.C>=j)j=1;else if(Ie.ic||ct(),Ie.ic){Ie=Te.V,ze=Te.Ba,nt=Te.c;var vt=Te.i,dt=(at=1,Le=Te.$/nt,Be=Te.$%nt,Qe=Te.m,ut=Te.s,Te.$),_t=nt*vt,At=nt*j,It=ut.wc,Tt=dt<At?hn(ut,Be,Le):null;e(dt<=_t),e(j<=vt),e(Bi(ut));t:for(;;){for(;!Qe.h&&dt<At;){if(Be&It||(Tt=hn(ut,Be,Le)),e(Tt!=null),Z(Qe),256>(vt=Ut(Tt.G[0],Tt.H[0],Qe)))Ie[ze+dt]=vt,++dt,++Be>=nt&&(Be=0,++Le<=j&&!(Le%16)&&fi(Te,Le));else{if(!(280>vt)){at=0;break t}vt=ot(vt-256,Qe);var Zt,Vt=Ut(Tt.G[4],Tt.H[4],Qe);if(Z(Qe),!(dt>=(Vt=Nt(nt,Vt=ot(Vt,Qe)))&&_t-dt>=vt)){at=0;break t}for(Zt=0;Zt<vt;++Zt)Ie[ze+dt+Zt]=Ie[ze+dt+Zt-Vt];for(dt+=vt,Be+=vt;Be>=nt;)Be-=nt,++Le<=j&&!(Le%16)&&fi(Te,Le);dt<At&&Be&It&&(Tt=hn(ut,Be,Le))}e(Qe.h==Q(Qe))}fi(Te,Le>j?j:Le);break t}!at||Qe.h&&dt<_t?(at=0,Te.a=Qe.h?5:3):Te.$=dt,j=at}else j=pi(Te,Te.V,Te.Ba,Te.c,Te.i,j,Yr);if(!j){oe=0;break e}}ee+oe>=Ee&&(O.Cc=1),oe=1}if(!oe)return null;if(O.Cc&&((oe=O.ga)!=null&&(oe.mc=null),O.ga=null,0<O.Ga))return alert("todo:WebPDequantizeLevels"),null}return O.nb+ee*xe}function re(O,j,ee,oe,xe,Ee){for(;0<xe--;){var Te,Ie=O,Le=j+(ee?1:0),Be=O,Qe=j+(ee?0:3);for(Te=0;Te<oe;++Te){var ut=Be[Qe+4*Te];ut!=255&&(ut*=32897,Ie[Le+4*Te+0]=Ie[Le+4*Te+0]*ut>>23,Ie[Le+4*Te+1]=Ie[Le+4*Te+1]*ut>>23,Ie[Le+4*Te+2]=Ie[Le+4*Te+2]*ut>>23)}j+=Ee}}function ue(O,j,ee,oe,xe){for(;0<oe--;){var Ee;for(Ee=0;Ee<ee;++Ee){var Te=O[j+2*Ee+0],Ie=15&(Be=O[j+2*Ee+1]),Le=4369*Ie,Be=(240&Be|Be>>4)*Le>>16;O[j+2*Ee+0]=(240&Te|Te>>4)*Le>>16&240|(15&Te|Te<<4)*Le>>16>>4&15,O[j+2*Ee+1]=240&Be|Ie}j+=xe}}function De(O,j,ee,oe,xe,Ee,Te,Ie){var Le,Be,Qe=255;for(Be=0;Be<xe;++Be){for(Le=0;Le<oe;++Le){var ut=O[j+Le];Ee[Te+4*Le]=ut,Qe&=ut}j+=ee,Te+=Ie}return Qe!=255}function st(O,j,ee,oe,xe){var Ee;for(Ee=0;Ee<xe;++Ee)ee[oe+Ee]=O[j+Ee]>>8}function ct(){u2=re,kO=ue,EO=De,TO=st}function Lt(O,j,ee){P[O]=function(oe,xe,Ee,Te,Ie,Le,Be,Qe,ut,ze,nt,at,vt,dt,_t,At,It){var Tt,Zt=It-1>>1,Vt=Ie[Le+0]|Be[Qe+0]<<16,vn=ut[ze+0]|nt[at+0]<<16;e(oe!=null);var Xt=3*Vt+vn+131074>>2;for(j(oe[xe+0],255&Xt,Xt>>16,vt,dt),Ee!=null&&(Xt=3*vn+Vt+131074>>2,j(Ee[Te+0],255&Xt,Xt>>16,_t,At)),Tt=1;Tt<=Zt;++Tt){var Dn=Ie[Le+Tt]|Be[Qe+Tt]<<16,es=ut[ze+Tt]|nt[at+Tt]<<16,bn=Vt+Dn+vn+es+524296,Yt=bn+2*(Dn+vn)>>3;Xt=Yt+Vt>>1,Vt=(bn=bn+2*(Vt+es)>>3)+Dn>>1,j(oe[xe+2*Tt-1],255&Xt,Xt>>16,vt,dt+(2*Tt-1)*ee),j(oe[xe+2*Tt-0],255&Vt,Vt>>16,vt,dt+(2*Tt-0)*ee),Ee!=null&&(Xt=bn+vn>>1,Vt=Yt+es>>1,j(Ee[Te+2*Tt-1],255&Xt,Xt>>16,_t,At+(2*Tt-1)*ee),j(Ee[Te+2*Tt+0],255&Vt,Vt>>16,_t,At+(2*Tt+0)*ee)),Vt=Dn,vn=es}1&It||(Xt=3*Vt+vn+131074>>2,j(oe[xe+It-1],255&Xt,Xt>>16,vt,dt+(It-1)*ee),Ee!=null&&(Xt=3*vn+Vt+131074>>2,j(Ee[Te+It-1],255&Xt,Xt>>16,_t,At+(It-1)*ee)))}}function on(){Cl[XS]=MY,Cl[YS]=BO,Cl[LO]=BY,Cl[KS]=zO,Cl[JS]=jO,Cl[hC]=WO,Cl[OO]=zY,Cl[fC]=BO,Cl[pC]=zO,Cl[ZS]=jO,Cl[mC]=WO}function mi(O){return O&~jY?0>O?0:255:O>>$O}function Nn(O,j){return mi((19077*O>>8)+(26149*j>>8)-14234)}function gi(O,j,ee){return mi((19077*O>>8)-(6419*j>>8)-(13320*ee>>8)+8708)}function Mr(O,j){return mi((19077*O>>8)+(33050*j>>8)-17685)}function ys(O,j,ee,oe,xe){oe[xe+0]=Nn(O,ee),oe[xe+1]=gi(O,j,ee),oe[xe+2]=Mr(O,j)}function ni(O,j,ee,oe,xe){oe[xe+0]=Mr(O,j),oe[xe+1]=gi(O,j,ee),oe[xe+2]=Nn(O,ee)}function vs(O,j,ee,oe,xe){var Ee=gi(O,j,ee);j=Ee<<3&224|Mr(O,j)>>3,oe[xe+0]=248&Nn(O,ee)|Ee>>5,oe[xe+1]=j}function Ca(O,j,ee,oe,xe){var Ee=240&Mr(O,j)|15;oe[xe+0]=240&Nn(O,ee)|gi(O,j,ee)>>4,oe[xe+1]=Ee}function vc(O,j,ee,oe,xe){oe[xe+0]=255,ys(O,j,ee,oe,xe+1)}function wm(O,j,ee,oe,xe){ni(O,j,ee,oe,xe),oe[xe+3]=255}function Bs(O,j,ee,oe,xe){ys(O,j,ee,oe,xe),oe[xe+3]=255}function bc(O,j,ee){P[O]=function(oe,xe,Ee,Te,Ie,Le,Be,Qe,ut){for(var ze=Qe+(-2&ut)*ee;Qe!=ze;)j(oe[xe+0],Ee[Te+0],Ie[Le+0],Be,Qe),j(oe[xe+1],Ee[Te+0],Ie[Le+0],Be,Qe+ee),xe+=2,++Te,++Le,Qe+=2*ee;1&ut&&j(oe[xe+0],Ee[Te+0],Ie[Le+0],Be,Qe)}}function wd(O,j,ee){return ee==0?O==0?j==0?6:5:j==0?4:0:ee}function de(O,j,ee,oe,xe){switch(O>>>30){case 3:_m(j,ee,oe,xe,0);break;case 2:El(j,ee,oe,xe);break;case 1:Zn(j,ee,oe,xe)}}function Ne(O,j){var ee,oe,xe=j.M,Ee=j.Nb,Te=O.oc,Ie=O.pc+40,Le=O.oc,Be=O.pc+584,Qe=O.oc,ut=O.pc+600;for(ee=0;16>ee;++ee)Te[Ie+32*ee-1]=129;for(ee=0;8>ee;++ee)Le[Be+32*ee-1]=129,Qe[ut+32*ee-1]=129;for(0<xe?Te[Ie-1-32]=Le[Be-1-32]=Qe[ut-1-32]=129:(r(Te,Ie-32-1,127,21),r(Le,Be-32-1,127,9),r(Qe,ut-32-1,127,9)),oe=0;oe<O.za;++oe){var ze=j.ya[j.aa+oe];if(0<oe){for(ee=-1;16>ee;++ee)i(Te,Ie+32*ee-4,Te,Ie+32*ee+12,4);for(ee=-1;8>ee;++ee)i(Le,Be+32*ee-4,Le,Be+32*ee+4,4),i(Qe,ut+32*ee-4,Qe,ut+32*ee+4,4)}var nt=O.Gd,at=O.Hd+oe,vt=ze.ad,dt=ze.Hc;if(0<xe&&(i(Te,Ie-32,nt[at].y,0,16),i(Le,Be-32,nt[at].f,0,8),i(Qe,ut-32,nt[at].ea,0,8)),ze.Za){var _t=Te,At=Ie-32+16;for(0<xe&&(oe>=O.za-1?r(_t,At,nt[at].y[15],4):i(_t,At,nt[at+1].y,0,4)),ee=0;4>ee;ee++)_t[At+128+ee]=_t[At+256+ee]=_t[At+384+ee]=_t[At+0+ee];for(ee=0;16>ee;++ee,dt<<=2)_t=Te,At=Ie+HO[ee],wc[ze.Ob[ee]](_t,At),de(dt,vt,16*+ee,_t,At)}else if(_t=wd(oe,xe,ze.Ob[0]),yf[_t](Te,Ie),dt!=0)for(ee=0;16>ee;++ee,dt<<=2)de(dt,vt,16*+ee,Te,Ie+HO[ee]);for(ee=ze.Gc,_t=wd(oe,xe,ze.Dd),Lu[_t](Le,Be),Lu[_t](Qe,ut),dt=vt,_t=Le,At=Be,255&(ze=0|ee)&&(170&ze?Sd(dt,256,_t,At):Ni(dt,256,_t,At)),ze=Qe,dt=ut,255&(ee>>=8)&&(170&ee?Sd(vt,320,ze,dt):Ni(vt,320,ze,dt)),xe<O.Ub-1&&(i(nt[at].y,0,Te,Ie+480,16),i(nt[at].f,0,Le,Be+224,8),i(nt[at].ea,0,Qe,ut+224,8)),ee=8*Ee*O.B,nt=O.sa,at=O.ta+16*oe+16*Ee*O.R,vt=O.qa,ze=O.ra+8*oe+ee,dt=O.Ha,_t=O.Ia+8*oe+ee,ee=0;16>ee;++ee)i(nt,at+ee*O.R,Te,Ie+32*ee,16);for(ee=0;8>ee;++ee)i(vt,ze+ee*O.B,Le,Be+32*ee,8),i(dt,_t+ee*O.B,Qe,ut+32*ee,8)}}function $e(O,j,ee,oe,xe,Ee,Te,Ie,Le){var Be=[0],Qe=[0],ut=0,ze=Le!=null?Le.kd:0,nt=Le??new kt;if(O==null||12>ee)return 7;nt.data=O,nt.w=j,nt.ha=ee,j=[j],ee=[ee],nt.gb=[nt.gb];e:{var at=j,vt=ee,dt=nt.gb;if(e(O!=null),e(vt!=null),e(dt!=null),dt[0]=0,12<=vt[0]&&!t(O,at[0],"RIFF")){if(t(O,at[0]+8,"WEBP")){dt=3;break e}var _t=Ve(O,at[0]+4);if(12>_t||4294967286<_t){dt=3;break e}if(ze&&_t>vt[0]-8){dt=7;break e}dt[0]=_t,at[0]+=12,vt[0]-=12}dt=0}if(dt!=0)return dt;for(_t=0<nt.gb[0],ee=ee[0];;){e:{var At=O;vt=j,dt=ee;var It=Be,Tt=Qe,Zt=at=[0];if((Xt=ut=[ut])[0]=0,8>dt[0])dt=7;else{if(!t(At,vt[0],"VP8X")){if(Ve(At,vt[0]+4)!=10){dt=3;break e}if(18>dt[0]){dt=7;break e}var Vt=Ve(At,vt[0]+8),vn=1+Re(At,vt[0]+12);if(2147483648<=vn*(At=1+Re(At,vt[0]+15))){dt=3;break e}Zt!=null&&(Zt[0]=Vt),It!=null&&(It[0]=vn),Tt!=null&&(Tt[0]=At),vt[0]+=18,dt[0]-=18,Xt[0]=1}dt=0}}if(ut=ut[0],at=at[0],dt!=0)return dt;if(vt=!!(2&at),!_t&&ut)return 3;if(Ee!=null&&(Ee[0]=!!(16&at)),Te!=null&&(Te[0]=vt),Ie!=null&&(Ie[0]=0),Te=Be[0],at=Qe[0],ut&&vt&&Le==null){dt=0;break}if(4>ee){dt=7;break}if(_t&&ut||!_t&&!ut&&!t(O,j[0],"ALPH")){ee=[ee],nt.na=[nt.na],nt.P=[nt.P],nt.Sa=[nt.Sa];e:{Vt=O,dt=j,_t=ee;var Xt=nt.gb;It=nt.na,Tt=nt.P,Zt=nt.Sa,vn=22,e(Vt!=null),e(_t!=null),At=dt[0];var Dn=_t[0];for(e(It!=null),e(Zt!=null),It[0]=null,Tt[0]=null,Zt[0]=0;;){if(dt[0]=At,_t[0]=Dn,8>Dn){dt=7;break e}var es=Ve(Vt,At+4);if(4294967286<es){dt=3;break e}var bn=8+es+1&-2;if(vn+=bn,0<Xt&&vn>Xt){dt=3;break e}if(!t(Vt,At,"VP8 ")||!t(Vt,At,"VP8L")){dt=0;break e}if(Dn[0]<bn){dt=7;break e}t(Vt,At,"ALPH")||(It[0]=Vt,Tt[0]=At+8,Zt[0]=es),At+=bn,Dn-=bn}}if(ee=ee[0],nt.na=nt.na[0],nt.P=nt.P[0],nt.Sa=nt.Sa[0],dt!=0)break}ee=[ee],nt.Ja=[nt.Ja],nt.xa=[nt.xa];e:if(Xt=O,dt=j,_t=ee,It=nt.gb[0],Tt=nt.Ja,Zt=nt.xa,Vt=dt[0],At=!t(Xt,Vt,"VP8 "),vn=!t(Xt,Vt,"VP8L"),e(Xt!=null),e(_t!=null),e(Tt!=null),e(Zt!=null),8>_t[0])dt=7;else{if(At||vn){if(Xt=Ve(Xt,Vt+4),12<=It&&Xt>It-12){dt=3;break e}if(ze&&Xt>_t[0]-8){dt=7;break e}Tt[0]=Xt,dt[0]+=8,_t[0]-=8,Zt[0]=vn}else Zt[0]=5<=_t[0]&&Xt[Vt+0]==47&&!(Xt[Vt+4]>>5),Tt[0]=_t[0];dt=0}if(ee=ee[0],nt.Ja=nt.Ja[0],nt.xa=nt.xa[0],j=j[0],dt!=0)break;if(4294967286<nt.Ja)return 3;if(Ie==null||vt||(Ie[0]=nt.xa?2:1),Te=[Te],at=[at],nt.xa){if(5>ee){dt=7;break}Ie=Te,ze=at,vt=Ee,O==null||5>ee?O=0:5<=ee&&O[j+0]==47&&!(O[j+4]>>5)?(_t=[0],Xt=[0],It=[0],B(Tt=new z,O,j,ee),Pt(Tt,_t,Xt,It)?(Ie!=null&&(Ie[0]=_t[0]),ze!=null&&(ze[0]=Xt[0]),vt!=null&&(vt[0]=It[0]),O=1):O=0):O=0}else{if(10>ee){dt=7;break}Ie=at,O==null||10>ee||!sa(O,j+3,ee-3)?O=0:(ze=O[j+0]|O[j+1]<<8|O[j+2]<<16,vt=16383&(O[j+7]<<8|O[j+6]),O=16383&(O[j+9]<<8|O[j+8]),1&ze||3<(ze>>1&7)||!(ze>>4&1)||ze>>5>=nt.Ja||!vt||!O?O=0:(Te&&(Te[0]=vt),Ie&&(Ie[0]=O),O=1))}if(!O||(Te=Te[0],at=at[0],ut&&(Be[0]!=Te||Qe[0]!=at)))return 3;Le!=null&&(Le[0]=nt,Le.offset=j-Le.w,e(4294967286>j-Le.w),e(Le.offset==Le.ha-ee));break}return dt==0||dt==7&&ut&&Le==null?(Ee!=null&&(Ee[0]|=nt.na!=null&&0<nt.na.length),oe!=null&&(oe[0]=Te),xe!=null&&(xe[0]=at),0):dt}function He(O,j,ee){var oe=j.width,xe=j.height,Ee=0,Te=0,Ie=oe,Le=xe;if(j.Da=O!=null&&0<O.Da,j.Da&&(Ie=O.cd,Le=O.bd,Ee=O.v,Te=O.j,11>ee||(Ee&=-2,Te&=-2),0>Ee||0>Te||0>=Ie||0>=Le||Ee+Ie>oe||Te+Le>xe))return 0;if(j.v=Ee,j.j=Te,j.va=Ee+Ie,j.o=Te+Le,j.U=Ie,j.T=Le,j.da=O!=null&&0<O.da,j.da){if(!Ce(Ie,Le,ee=[O.ib],Ee=[O.hb]))return 0;j.ib=ee[0],j.hb=Ee[0]}return j.ob=O!=null&&O.ob,j.Kb=O==null||!O.Sd,j.da&&(j.ob=j.ib<3*oe/4&&j.hb<3*xe/4,j.Kb=0),1}function et(O){if(O==null)return 2;if(11>O.S){var j=O.f.RGBA;j.fb+=(O.height-1)*j.A,j.A=-j.A}else j=O.f.kb,O=O.height,j.O+=(O-1)*j.fa,j.fa=-j.fa,j.N+=(O-1>>1)*j.Ab,j.Ab=-j.Ab,j.W+=(O-1>>1)*j.Db,j.Db=-j.Db,j.F!=null&&(j.J+=(O-1)*j.lb,j.lb=-j.lb);return 0}function Ze(O,j,ee,oe){if(oe==null||0>=O||0>=j)return 2;if(ee!=null){if(ee.Da){var xe=ee.cd,Ee=ee.bd,Te=-2&ee.v,Ie=-2&ee.j;if(0>Te||0>Ie||0>=xe||0>=Ee||Te+xe>O||Ie+Ee>j)return 2;O=xe,j=Ee}if(ee.da){if(!Ce(O,j,xe=[ee.ib],Ee=[ee.hb]))return 2;O=xe[0],j=Ee[0]}}oe.width=O,oe.height=j;e:{var Le=oe.width,Be=oe.height;if(O=oe.S,0>=Le||0>=Be||!(O>=XS&&13>O))O=2;else{if(0>=oe.Rd&&oe.sd==null){Te=Ee=xe=j=0;var Qe=(Ie=Le*VO[O])*Be;if(11>O||(Ee=(Be+1)/2*(j=(Le+1)/2),O==12&&(Te=(xe=Le)*Be)),(Be=s(Qe+2*Ee+Te))==null){O=1;break e}oe.sd=Be,11>O?((Le=oe.f.RGBA).eb=Be,Le.fb=0,Le.A=Ie,Le.size=Qe):((Le=oe.f.kb).y=Be,Le.O=0,Le.fa=Ie,Le.Fd=Qe,Le.f=Be,Le.N=0+Qe,Le.Ab=j,Le.Cd=Ee,Le.ea=Be,Le.W=0+Qe+Ee,Le.Db=j,Le.Ed=Ee,O==12&&(Le.F=Be,Le.J=0+Qe+2*Ee),Le.Tc=Te,Le.lb=xe)}if(j=1,xe=oe.S,Ee=oe.width,Te=oe.height,xe>=XS&&13>xe)if(11>xe)O=oe.f.RGBA,j&=(Ie=Math.abs(O.A))*(Te-1)+Ee<=O.size,j&=Ie>=Ee*VO[xe],j&=O.eb!=null;else{O=oe.f.kb,Ie=(Ee+1)/2,Qe=(Te+1)/2,Le=Math.abs(O.fa),Be=Math.abs(O.Ab);var ut=Math.abs(O.Db),ze=Math.abs(O.lb),nt=ze*(Te-1)+Ee;j&=Le*(Te-1)+Ee<=O.Fd,j&=Be*(Qe-1)+Ie<=O.Cd,j=(j&=ut*(Qe-1)+Ie<=O.Ed)&Le>=Ee&Be>=Ie&ut>=Ie,j&=O.y!=null,j&=O.f!=null,j&=O.ea!=null,xe==12&&(j&=ze>=Ee,j&=nt<=O.Tc,j&=O.F!=null)}else j=0;O=j?0:2}}return O!=0||ee!=null&&ee.fd&&(O=et(oe)),O}var xt=64,Rt=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Qt=24,tn=32,Jn=8,cr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Se("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(O){return O},P.Predictor2=function(O,j,ee){return j[ee+0]},P.Predictor3=function(O,j,ee){return j[ee+1]},P.Predictor4=function(O,j,ee){return j[ee-1]},P.Predictor5=function(O,j,ee){return U(U(O,j[ee+1]),j[ee+0])},P.Predictor6=function(O,j,ee){return U(O,j[ee-1])},P.Predictor7=function(O,j,ee){return U(O,j[ee+0])},P.Predictor8=function(O,j,ee){return U(j[ee-1],j[ee+0])},P.Predictor9=function(O,j,ee){return U(j[ee+0],j[ee+1])},P.Predictor10=function(O,j,ee){return U(U(O,j[ee-1]),U(j[ee+0],j[ee+1]))},P.Predictor11=function(O,j,ee){var oe=j[ee+0];return 0>=he(oe>>24&255,O>>24&255,(j=j[ee-1])>>24&255)+he(oe>>16&255,O>>16&255,j>>16&255)+he(oe>>8&255,O>>8&255,j>>8&255)+he(255&oe,255&O,255&j)?oe:O},P.Predictor12=function(O,j,ee){var oe=j[ee+0];return(H((O>>24&255)+(oe>>24&255)-((j=j[ee-1])>>24&255))<<24|H((O>>16&255)+(oe>>16&255)-(j>>16&255))<<16|H((O>>8&255)+(oe>>8&255)-(j>>8&255))<<8|H((255&O)+(255&oe)-(255&j)))>>>0},P.Predictor13=function(O,j,ee){var oe=j[ee-1];return(te((O=U(O,j[ee+0]))>>24&255,oe>>24&255)<<24|te(O>>16&255,oe>>16&255)<<16|te(O>>8&255,oe>>8&255)<<8|te(255&O,255&oe))>>>0};var hf=P.PredictorAdd0;P.PredictorAdd1=ve,Se("Predictor2","PredictorAdd2"),Se("Predictor3","PredictorAdd3"),Se("Predictor4","PredictorAdd4"),Se("Predictor5","PredictorAdd5"),Se("Predictor6","PredictorAdd6"),Se("Predictor7","PredictorAdd7"),Se("Predictor8","PredictorAdd8"),Se("Predictor9","PredictorAdd9"),Se("Predictor10","PredictorAdd10"),Se("Predictor11","PredictorAdd11"),Se("Predictor12","PredictorAdd12"),Se("Predictor13","PredictorAdd13");var Iu=P.PredictorAdd2;Oe("ColorIndexInverseTransform","MapARGB","32b",function(O){return O>>8&255},function(O){return O}),Oe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(O){return O},function(O){return O>>8&255});var Ar,HS=P.ColorIndexInverseTransform,xd=P.MapARGB,_d=P.VP8LColorIndexInverseTransformAlpha,a2=P.MapAlpha,o2=P.VP8LPredictorsAdd=[];o2.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var l2,c2,ff,pf,mf,xm,gf,_m,El,Sd,Zn,Ni,kr,Qr,Ru,d2,d0,VS,wO,xO,_O,SO,NO,AO,u2,kO,EO,TO,CO=s(511),DO=s(2041),PO=s(225),IO=s(767),RO=0,uC=DO,GS=PO,Io=IO,Tl=CO,XS=0,YS=1,LO=2,KS=3,JS=4,hC=5,OO=6,fC=7,pC=8,ZS=9,mC=10,NY=[2,3,7],AY=[3,3,11],FO=[280,256,256,256,40],kY=[0,1,1,1,0],EY=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],TY=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],CY=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],DY=8,gC=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],yC=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],h2=null,PY=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],IY=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],UO=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],RY=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],LY=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],OY=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],FY=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],yf=[],wc=[],Lu=[],UY=1,MO=2,vf=[],Cl=[];Lt("UpsampleRgbLinePair",ys,3),Lt("UpsampleBgrLinePair",ni,3),Lt("UpsampleRgbaLinePair",Bs,4),Lt("UpsampleBgraLinePair",wm,4),Lt("UpsampleArgbLinePair",vc,4),Lt("UpsampleRgba4444LinePair",Ca,2),Lt("UpsampleRgb565LinePair",vs,2);var MY=P.UpsampleRgbLinePair,BY=P.UpsampleBgrLinePair,BO=P.UpsampleRgbaLinePair,zO=P.UpsampleBgraLinePair,jO=P.UpsampleArgbLinePair,WO=P.UpsampleRgba4444LinePair,zY=P.UpsampleRgb565LinePair,QS=16,eN=1<<QS-1,f2=-227,vC=482,$O=6,jY=(256<<$O)-1,qO=0,WY=s(256),$Y=s(256),qY=s(256),HY=s(256),VY=s(vC-f2),GY=s(vC-f2);bc("YuvToRgbRow",ys,3),bc("YuvToBgrRow",ni,3),bc("YuvToRgbaRow",Bs,4),bc("YuvToBgraRow",wm,4),bc("YuvToArgbRow",vc,4),bc("YuvToRgba4444Row",Ca,2),bc("YuvToRgb565Row",vs,2);var HO=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],tN=[0,2,8],XY=[8,7,6,4,4,2,2,2,1,1,1,1],YY=1;this.WebPDecodeRGBA=function(O,j,ee,oe,xe){var Ee=YS,Te=new yt,Ie=new Et;Te.ba=Ie,Ie.S=Ee,Ie.width=[Ie.width],Ie.height=[Ie.height];var Le=Ie.width,Be=Ie.height,Qe=new St;if(Qe==null||O==null)var ut=2;else e(Qe!=null),ut=$e(O,j,ee,Qe.width,Qe.height,Qe.Pd,Qe.Qd,Qe.format,null);if(ut!=0?Le=0:(Le!=null&&(Le[0]=Qe.width[0]),Be!=null&&(Be[0]=Qe.height[0]),Le=1),Le){Ie.width=Ie.width[0],Ie.height=Ie.height[0],oe!=null&&(oe[0]=Ie.width),xe!=null&&(xe[0]=Ie.height);e:{if(oe=new Sl,(xe=new kt).data=O,xe.w=j,xe.ha=ee,xe.kd=1,j=[0],e(xe!=null),((O=$e(xe.data,xe.w,xe.ha,null,null,null,j,null,xe))==0||O==7)&&j[0]&&(O=4),(j=O)==0){if(e(Te!=null),oe.data=xe.data,oe.w=xe.w+xe.offset,oe.ha=xe.ha-xe.offset,oe.put=Me,oe.ac=Pe,oe.bc=ht,oe.ma=Te,xe.xa){if((O=Os())==null){Te=1;break e}if(function(ze,nt){var at=[0],vt=[0],dt=[0];t:for(;;){if(ze==null)return 0;if(nt==null)return ze.a=2,0;if(ze.l=nt,ze.a=0,B(ze.m,nt.data,nt.w,nt.ha),!Pt(ze.m,at,vt,dt)){ze.a=3;break t}if(ze.xb=MO,nt.width=at[0],nt.height=vt[0],!Xr(at[0],vt[0],1,ze,null))break t;return 1}return e(ze.a!=0),0}(O,oe)){if(oe=(j=Ze(oe.width,oe.height,Te.Oa,Te.ba))==0){t:{oe=O;n:for(;;){if(oe==null){oe=0;break t}if(e(oe.s.yc!=null),e(oe.s.Ya!=null),e(0<oe.s.Wb),e((ee=oe.l)!=null),e((xe=ee.ma)!=null),oe.xb!=0){if(oe.ca=xe.ba,oe.tb=xe.tb,e(oe.ca!=null),!He(xe.Oa,ee,KS)){oe.a=2;break n}if(!Ur(oe,ee.width)||ee.da)break n;if((ee.da||tt(oe.ca.S))&&ct(),11>oe.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),oe.ca.f.kb.F!=null&&ct()),oe.Pb&&0<oe.s.ua&&oe.s.vb.X==null&&!fe(oe.s.vb,oe.s.Wa.Xa)){oe.a=1;break n}oe.xb=0}if(!pi(oe,oe.V,oe.Ba,oe.c,oe.i,ee.o,hi))break n;xe.Dc=oe.Ma,oe=1;break t}e(oe.a!=0),oe=0}oe=!oe}oe&&(j=O.a)}else j=O.a}else{if((O=new ka)==null){Te=1;break e}if(O.Fa=xe.na,O.P=xe.P,O.qc=xe.Sa,lr(O,oe)){if((j=Ze(oe.width,oe.height,Te.Oa,Te.ba))==0){if(O.Aa=0,ee=Te.Oa,e((xe=O)!=null),ee!=null){if(0<(Le=0>(Le=ee.Md)?0:100<Le?255:255*Le/100)){for(Be=Qe=0;4>Be;++Be)12>(ut=xe.pb[Be]).lc&&(ut.ia=Le*XY[0>ut.lc?0:ut.lc]>>3),Qe|=ut.ia;Qe&&(alert("todo:VP8InitRandom"),xe.ia=1)}xe.Ga=ee.Id,100<xe.Ga?xe.Ga=100:0>xe.Ga&&(xe.Ga=0)}(function(ze,nt){if(ze==null)return 0;if(nt==null)return Bn(ze,2,"NULL VP8Io parameter in VP8Decode().");if(!ze.cb&&!lr(ze,nt))return 0;if(e(ze.cb),nt.ac==null||nt.ac(nt)){nt.ob&&(ze.L=0);var at=tN[ze.L];if(ze.L==2?(ze.yb=0,ze.zb=0):(ze.yb=nt.v-at>>4,ze.zb=nt.j-at>>4,0>ze.yb&&(ze.yb=0),0>ze.zb&&(ze.zb=0)),ze.Va=nt.o+15+at>>4,ze.Hb=nt.va+15+at>>4,ze.Hb>ze.za&&(ze.Hb=ze.za),ze.Va>ze.Ub&&(ze.Va=ze.Ub),0<ze.L){var vt=ze.ed;for(at=0;4>at;++at){var dt;if(ze.Qa.Cb){var _t=ze.Qa.Lb[at];ze.Qa.Fb||(_t+=vt.Tb)}else _t=vt.Tb;for(dt=0;1>=dt;++dt){var At=ze.gd[at][dt],It=_t;if(vt.Pc&&(It+=vt.vd[0],dt&&(It+=vt.od[0])),0<(It=0>It?0:63<It?63:It)){var Tt=It;0<vt.wb&&(Tt=4<vt.wb?Tt>>2:Tt>>1)>9-vt.wb&&(Tt=9-vt.wb),1>Tt&&(Tt=1),At.dd=Tt,At.tc=2*It+Tt,At.ld=40<=It?2:15<=It?1:0}else At.tc=0;At.La=dt}}}at=0}else Bn(ze,6,"Frame setup failed"),at=ze.a;if(at=at==0){if(at){ze.$c=0,0<ze.Aa||(ze.Ic=YY);t:{at=ze.Ic,vt=4*(Tt=ze.za);var Zt=32*Tt,Vt=Tt+1,vn=0<ze.L?Tt*(0<ze.Aa?2:1):0,Xt=(ze.Aa==2?2:1)*Tt;if((At=vt+832+(dt=3*(16*at+tN[ze.L])/2*Zt)+(_t=ze.Fa!=null&&0<ze.Fa.length?ze.Kc.c*ze.Kc.i:0))!=At)at=0;else{if(At>ze.Vb){if(ze.Vb=0,ze.Ec=s(At),ze.Fc=0,ze.Ec==null){at=Bn(ze,1,"no memory during frame initialization.");break t}ze.Vb=At}At=ze.Ec,It=ze.Fc,ze.Ac=At,ze.Bc=It,It+=vt,ze.Gd=a(Zt,dd),ze.Hd=0,ze.rb=a(Vt+1,cd),ze.sb=1,ze.wa=vn?a(vn,Us):null,ze.Y=0,ze.D.Nb=0,ze.D.wa=ze.wa,ze.D.Y=ze.Y,0<ze.Aa&&(ze.D.Y+=Tt),e(!0),ze.oc=At,ze.pc=It,It+=832,ze.ya=a(Xt,Eo),ze.aa=0,ze.D.ya=ze.ya,ze.D.aa=ze.aa,ze.Aa==2&&(ze.D.aa+=Tt),ze.R=16*Tt,ze.B=8*Tt,Tt=(Zt=tN[ze.L])*ze.R,Zt=Zt/2*ze.B,ze.sa=At,ze.ta=It+Tt,ze.qa=ze.sa,ze.ra=ze.ta+16*at*ze.R+Zt,ze.Ha=ze.qa,ze.Ia=ze.ra+8*at*ze.B+Zt,ze.$c=0,It+=dt,ze.mb=_t?At:null,ze.nb=_t?It:null,e(It+_t<=ze.Fc+ze.Vb),zn(ze),r(ze.Ac,ze.Bc,0,vt),at=1}}if(at){if(nt.ka=0,nt.y=ze.sa,nt.O=ze.ta,nt.f=ze.qa,nt.N=ze.ra,nt.ea=ze.Ha,nt.Vd=ze.Ia,nt.fa=ze.R,nt.Rc=ze.B,nt.F=null,nt.J=0,!RO){for(at=-255;255>=at;++at)CO[255+at]=0>at?-at:at;for(at=-1020;1020>=at;++at)DO[1020+at]=-128>at?-128:127<at?127:at;for(at=-112;112>=at;++at)PO[112+at]=-16>at?-16:15<at?15:at;for(at=-255;510>=at;++at)IO[255+at]=0>at?0:255<at?255:at;RO=1}gf=Ka,_m=bm,Sd=Ya,Zn=Eu,Ni=Tu,El=ku,kr=Do,Qr=Po,Ru=be,d2=Ue,d0=bd,VS=K,wO=Ge,xO=rt,_O=Za,SO=vd,NO=yc,AO=Pu,wc[0]=pc,wc[1]=Cu,wc[2]=fc,wc[3]=pd,wc[4]=Qi,wc[5]=md,wc[6]=Zr,wc[7]=Al,wc[8]=Du,wc[9]=Kn,yf[0]=uf,yf[1]=df,yf[2]=hd,yf[3]=fd,yf[4]=hc,yf[5]=Zi,yf[6]=Ea,Lu[0]=gd,Lu[1]=cf,Lu[2]=kl,Lu[3]=Nr,Lu[4]=ms,Lu[5]=To,Lu[6]=yd,at=1}else at=0}at&&(at=function(Dn,es){for(Dn.M=0;Dn.M<Dn.Va;++Dn.M){var bn,Yt=Dn.Jc[Dn.M&Dn.Xb],Mt=Dn.m,Er=Dn;for(bn=0;bn<Er.za;++bn){var fn=Mt,Ln=Er,ji=Ln.Ac,zs=Ln.Bc+4*bn,Da=Ln.zc,dr=Ln.ya[Ln.aa+bn];if(Ln.Qa.Bb?dr.$b=ce(fn,Ln.Pa.jb[0])?2+ce(fn,Ln.Pa.jb[2]):ce(fn,Ln.Pa.jb[1]):dr.$b=0,Ln.kc&&(dr.Ad=ce(fn,Ln.Bd)),dr.Za=!ce(fn,145)+0,dr.Za){var aa=dr.Ob,Pa=0;for(Ln=0;4>Ln;++Ln){var ts,jn=Da[0+Ln];for(ts=0;4>ts;++ts){jn=LY[ji[zs+ts]][jn];for(var ii=UO[ce(fn,jn[0])];0<ii;)ii=UO[2*ii+ce(fn,jn[ii])];jn=-ii,ji[zs+ts]=jn}i(aa,Pa,ji,zs,4),Pa+=4,Da[0+Ln]=jn}}else jn=ce(fn,156)?ce(fn,128)?1:3:ce(fn,163)?2:0,dr.Ob[0]=jn,r(ji,zs,jn,4),r(Da,0,jn,4);dr.Dd=ce(fn,142)?ce(fn,114)?ce(fn,183)?1:3:2:0}if(Er.m.Ka)return Bn(Dn,7,"Premature end-of-partition0 encountered.");for(;Dn.ja<Dn.za;++Dn.ja){if(Er=Yt,fn=(Mt=Dn).rb[Mt.sb-1],ji=Mt.rb[Mt.sb+Mt.ja],bn=Mt.ya[Mt.aa+Mt.ja],zs=Mt.kc?bn.Ad:0)fn.la=ji.la=0,bn.Za||(fn.Na=ji.Na=0),bn.Hc=0,bn.Gc=0,bn.ia=0;else{var ur,ri;if(fn=ji,ji=Er,zs=Mt.Pa.Xc,Da=Mt.ya[Mt.aa+Mt.ja],dr=Mt.pb[Da.$b],Ln=Da.ad,aa=0,Pa=Mt.rb[Mt.sb-1],jn=ts=0,r(Ln,aa,0,384),Da.Za)var js=0,xc=zs[3];else{ii=s(16);var Tr=fn.Na+Pa.Na;if(Tr=h2(ji,zs[1],Tr,dr.Eb,0,ii,0),fn.Na=Pa.Na=(0<Tr)+0,1<Tr)gf(ii,0,Ln,aa);else{var Qa=ii[0]+3>>3;for(ii=0;256>ii;ii+=16)Ln[aa+ii]=Qa}js=1,xc=zs[0]}var Ai=15&fn.la,ns=15&Pa.la;for(ii=0;4>ii;++ii){var Ro=1&ns;for(Qa=ri=0;4>Qa;++Qa)Ai=Ai>>1|(Ro=(Tr=h2(ji,xc,Tr=Ro+(1&Ai),dr.Sc,js,Ln,aa))>js)<<7,ri=ri<<2|(3<Tr?3:1<Tr?2:Ln[aa+0]!=0),aa+=16;Ai>>=4,ns=ns>>1|Ro<<7,ts=(ts<<8|ri)>>>0}for(xc=Ai,js=ns>>4,ur=0;4>ur;ur+=2){for(ri=0,Ai=fn.la>>4+ur,ns=Pa.la>>4+ur,ii=0;2>ii;++ii){for(Ro=1&ns,Qa=0;2>Qa;++Qa)Tr=Ro+(1&Ai),Ai=Ai>>1|(Ro=0<(Tr=h2(ji,zs[2],Tr,dr.Qc,0,Ln,aa)))<<3,ri=ri<<2|(3<Tr?3:1<Tr?2:Ln[aa+0]!=0),aa+=16;Ai>>=2,ns=ns>>1|Ro<<5}jn|=ri<<4*ur,xc|=Ai<<4<<ur,js|=(240&ns)<<ur}fn.la=xc,Pa.la=js,Da.Hc=ts,Da.Gc=jn,Da.ia=43690&jn?0:dr.ia,zs=!(ts|jn)}if(0<Mt.L&&(Mt.wa[Mt.Y+Mt.ja]=Mt.gd[bn.$b][bn.Za],Mt.wa[Mt.Y+Mt.ja].La|=!zs),Er.Ka)return Bn(Dn,7,"Premature end-of-file encountered.")}if(zn(Dn),Mt=es,Er=1,bn=(Yt=Dn).D,fn=0<Yt.L&&Yt.M>=Yt.zb&&Yt.M<=Yt.Va,Yt.Aa==0)t:{if(bn.M=Yt.M,bn.uc=fn,Ne(Yt,bn),Er=1,bn=(ri=Yt.D).Nb,fn=(jn=tN[Yt.L])*Yt.R,ji=jn/2*Yt.B,ii=16*bn*Yt.R,Qa=8*bn*Yt.B,zs=Yt.sa,Da=Yt.ta-fn+ii,dr=Yt.qa,Ln=Yt.ra-ji+Qa,aa=Yt.Ha,Pa=Yt.Ia-ji+Qa,ns=(Ai=ri.M)==0,ts=Ai>=Yt.Va-1,Yt.Aa==2&&Ne(Yt,ri),ri.uc)for(Ro=(Tr=Yt).D.M,e(Tr.D.uc),ri=Tr.yb;ri<Tr.Hb;++ri){js=ri,xc=Ro;var Ia=(Lo=(Ws=Tr).D).Nb;ur=Ws.R;var Lo=Lo.wa[Lo.Y+js],Oo=Ws.sa,eo=Ws.ta+16*Ia*ur+16*js,Fo=Lo.dd,Ii=Lo.tc;if(Ii!=0)if(e(3<=Ii),Ws.L==1)0<js&&SO(Oo,eo,ur,Ii+4),Lo.La&&AO(Oo,eo,ur,Ii),0<xc&&_O(Oo,eo,ur,Ii+4),Lo.La&&NO(Oo,eo,ur,Ii);else{var Uo=Ws.B,_c=Ws.qa,Sm=Ws.ra+8*Ia*Uo+8*js,Ou=Ws.Ha,Ws=Ws.Ia+8*Ia*Uo+8*js;Ia=Lo.ld,0<js&&(Qr(Oo,eo,ur,Ii+4,Fo,Ia),d2(_c,Sm,Ou,Ws,Uo,Ii+4,Fo,Ia)),Lo.La&&(VS(Oo,eo,ur,Ii,Fo,Ia),xO(_c,Sm,Ou,Ws,Uo,Ii,Fo,Ia)),0<xc&&(kr(Oo,eo,ur,Ii+4,Fo,Ia),Ru(_c,Sm,Ou,Ws,Uo,Ii+4,Fo,Ia)),Lo.La&&(d0(Oo,eo,ur,Ii,Fo,Ia),wO(_c,Sm,Ou,Ws,Uo,Ii,Fo,Ia))}}if(Yt.ia&&alert("todo:DitherRow"),Mt.put!=null){if(ri=16*Ai,Ai=16*(Ai+1),ns?(Mt.y=Yt.sa,Mt.O=Yt.ta+ii,Mt.f=Yt.qa,Mt.N=Yt.ra+Qa,Mt.ea=Yt.Ha,Mt.W=Yt.Ia+Qa):(ri-=jn,Mt.y=zs,Mt.O=Da,Mt.f=dr,Mt.N=Ln,Mt.ea=aa,Mt.W=Pa),ts||(Ai-=jn),Ai>Mt.o&&(Ai=Mt.o),Mt.F=null,Mt.J=null,Yt.Fa!=null&&0<Yt.Fa.length&&ri<Ai&&(Mt.J=F(Yt,Mt,ri,Ai-ri),Mt.F=Yt.mb,Mt.F==null&&Mt.F.length==0)){Er=Bn(Yt,3,"Could not decode alpha data.");break t}ri<Mt.j&&(jn=Mt.j-ri,ri=Mt.j,e(!(1&jn)),Mt.O+=Yt.R*jn,Mt.N+=Yt.B*(jn>>1),Mt.W+=Yt.B*(jn>>1),Mt.F!=null&&(Mt.J+=Mt.width*jn)),ri<Ai&&(Mt.O+=Mt.v,Mt.N+=Mt.v>>1,Mt.W+=Mt.v>>1,Mt.F!=null&&(Mt.J+=Mt.v),Mt.ka=ri-Mt.j,Mt.U=Mt.va-Mt.v,Mt.T=Ai-ri,Er=Mt.put(Mt))}bn+1!=Yt.Ic||ts||(i(Yt.sa,Yt.ta-fn,zs,Da+16*Yt.R,fn),i(Yt.qa,Yt.ra-ji,dr,Ln+8*Yt.B,ji),i(Yt.Ha,Yt.Ia-ji,aa,Pa+8*Yt.B,ji))}if(!Er)return Bn(Dn,6,"Output aborted.")}return 1}(ze,nt)),nt.bc!=null&&nt.bc(nt),at&=1}return at?(ze.cb=0,at):0})(O,oe)||(j=O.a)}}else j=O.a}j==0&&Te.Oa!=null&&Te.Oa.fd&&(j=et(Te.ba))}Te=j}Ee=Te!=0?null:11>Ee?Ie.f.RGBA.eb:Ie.f.kb.y}else Ee=null;return Ee};var VO=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(P,D){for(var E="",A=0;A<4;A++)E+=String.fromCharCode(P[D++]);return E}function u(P,D){return P[D+0]|P[D+1]<<8}function f(P,D){return(P[D+0]|P[D+1]<<8|P[D+2]<<16)>>>0}function h(P,D){return(P[D+0]|P[D+1]<<8|P[D+2]<<16|P[D+3]<<24)>>>0}new c;var p=[0],v=[0],w=[],b=new c,m=n,y=function(P,D){var E={},A=0,I=!1,R=0,M=0;if(E.frames=[],!function(L,z){for(var X=0;X<4;X++)if(L[z+X]!="RIFF".charCodeAt(X))return!0;return!1}(P,D)){for(h(P,D+=4),D+=8;D<P.length;){var Y=d(P,D),q=h(P,D+=4);D+=4;var G=q+(1&q);switch(Y){case"VP8 ":case"VP8L":E.frames[A]===void 0&&(E.frames[A]={}),(W=E.frames[A]).src_off=I?M:D-8,W.src_size=R+q+8,A++,I&&(I=!1,R=0,M=0);break;case"VP8X":(W=E.header={}).feature_flags=P[D];var B=D+4;W.canvas_width=1+f(P,B),B+=3,W.canvas_height=1+f(P,B),B+=3;break;case"ALPH":I=!0,R=G+8,M=D-8;break;case"ANIM":(W=E.header).bgcolor=h(P,D),B=D+4,W.loop_count=u(P,B),B+=2;break;case"ANMF":var J,W;(W=E.frames[A]={}).offset_x=2*f(P,D),D+=3,W.offset_y=2*f(P,D),D+=3,W.width=1+f(P,D),D+=3,W.height=1+f(P,D),D+=3,W.duration=f(P,D),D+=3,J=P[D++],W.dispose=1&J,W.blend=J>>1&1}Y!="ANMF"&&(D+=G)}return E}}(m,0);y.response=m,y.rgbaoutput=!0,y.dataurl=!1;var _=y.header?y.header:null,x=y.frames?y.frames:null;if(_){_.loop_counter=_.loop_count,p=[_.canvas_height],v=[_.canvas_width];for(var N=0;N<x.length&&x[N].blend!=0;N++);}var k=x[0],T=b.WebPDecodeRGBA(m,k.src_off,k.src_size,v,p);k.rgba=T,k.imgwidth=v[0],k.imgheight=p[0];for(var C=0;C<v[0]*p[0]*4;C++)w[C]=T[C];return this.width=v,this.height=p,this.data=w,this}(function(n){var e,t,i,r,s,a,o,c,d,u=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new c,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new a,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new a,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,t=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,d=new u}]);var f=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=L;Object.defineProperty(this,"pdf",{get:function(){return z}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(fe){X=!!fe}});var Q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Q},set:function(fe){Q=!!fe}});var V=0;Object.defineProperty(this,"posX",{get:function(){return V},set:function(fe){isNaN(fe)||(V=fe)}});var Z=0;Object.defineProperty(this,"posY",{get:function(){return Z},set:function(fe){isNaN(fe)||(Z=fe)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(fe){var Je;typeof fe=="number"?Je=[fe,fe,fe,fe]:((Je=new Array(4))[0]=fe[0],Je[1]=fe.length>=2?fe[1]:Je[0],Je[2]=fe.length>=3?fe[2]:Je[0],Je[3]=fe.length>=4?fe[3]:Je[1]),d.margin=Je}});var _e=!1;Object.defineProperty(this,"autoPaging",{get:function(){return _e},set:function(fe){_e=fe}});var le=0;Object.defineProperty(this,"lastBreak",{get:function(){return le},set:function(fe){le=fe}});var ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ce},set:function(fe){ce=fe}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(fe){fe instanceof u&&(d=fe)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(fe){d.path=fe}});var Fe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Fe},set:function(fe){Fe=fe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(fe){var Je;Je=h(fe),this.ctx.fillStyle=Je.style,this.ctx.isFillTransparent=Je.a===0,this.ctx.fillOpacity=Je.a,this.pdf.setFillColor(Je.r,Je.g,Je.b,{a:Je.a}),this.pdf.setTextColor(Je.r,Je.g,Je.b,{a:Je.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(fe){var Je=h(fe);this.ctx.strokeStyle=Je.style,this.ctx.isStrokeTransparent=Je.a===0,this.ctx.strokeOpacity=Je.a,Je.a===0?this.pdf.setDrawColor(255,255,255):(Je.a,this.pdf.setDrawColor(Je.r,Je.g,Je.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(fe){["butt","round","square"].indexOf(fe)!==-1&&(this.ctx.lineCap=fe,this.pdf.setLineCap(fe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(fe){isNaN(fe)||(this.ctx.lineWidth=fe,this.pdf.setLineWidth(fe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(fe){["bevel","round","miter"].indexOf(fe)!==-1&&(this.ctx.lineJoin=fe,this.pdf.setLineJoin(fe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(fe){isNaN(fe)||(this.ctx.miterLimit=fe,this.pdf.setMiterLimit(fe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(fe){this.ctx.textBaseline=fe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(fe){["right","end","center","left","start"].indexOf(fe)!==-1&&(this.ctx.textAlign=fe)}});var Ae=null,Re=null,Ve=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ve},set:function(fe){Ae=null,Re=null,Ve=fe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(fe){var Je;if(this.ctx.font=fe,(Je=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(fe))!==null){var je=Je[1];Je[2];var Ce=Je[3],$=Je[4];Je[5];var ke=Je[6],Se=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec($)[2];$=Math.floor(Se==="px"?parseFloat($)*this.pdf.internal.scaleFactor:Se==="em"?parseFloat($)*this.pdf.getFontSize():parseFloat($)*this.pdf.internal.scaleFactor),this.pdf.setFontSize($);var pe=function(Oe){var Ye,Ke,mt=[],qe=Oe.trim();if(qe==="")return dD;if(qe in WB)return[WB[qe]];for(;qe!=="";){switch(Ke=null,Ye=(qe=qB(qe)).charAt(0)){case'"':case"'":Ke=pSe(qe.substring(1),Ye);break;default:Ke=mSe(qe)}if(Ke===null||(mt.push(Ke[0]),(qe=qB(Ke[1]))!==""&&qe.charAt(0)!==","))return dD;qe=qe.replace(/^,/,"")}return mt}(ke);if(this.fontFaces){var U=function(Oe,Ye){var Ke=Oe.getFontList(),mt=JSON.stringify(Ke);if(Ae===null||Re!==mt){var qe=function(it){var ft=[];return Object.keys(it).forEach(function(We){it[We].forEach(function(tt){var pt=null;switch(tt){case"bold":pt={family:We,weight:"bold"};break;case"italic":pt={family:We,style:"italic"};break;case"bolditalic":pt={family:We,weight:"bold",style:"italic"};break;case"":case"normal":pt={family:We}}pt!==null&&(pt.ref={name:We,style:tt},ft.push(pt))})}),ft}(Ke);Ae=function(it){for(var ft={},We=0;We<it.length;++We){var tt=cD(it[We]),pt=tt.family,Ct=tt.stretch,Et=tt.style,St=tt.weight;ft[pt]=ft[pt]||{},ft[pt][Ct]=ft[pt][Ct]||{},ft[pt][Ct][Et]=ft[pt][Ct][Et]||{},ft[pt][Ct][Et][St]=tt}return ft}(qe.concat(Ye)),Re=mt}return Ae}(this.pdf,this.fontFaces),H=pe.map(function(Oe){return{family:Oe,stretch:"normal",weight:Ce,style:je}}),te=function(Oe,Ye,Ke){for(var mt=(Ke=Ke||{}).defaultFontFamily||"times",qe=Object.assign({},fSe,Ke.genericFontFamilies||{}),it=null,ft=null,We=0;We<Ye.length;++We)if(qe[(it=cD(Ye[We])).family]&&(it.family=qe[it.family]),Oe.hasOwnProperty(it.family)){ft=Oe[it.family];break}if(!(ft=ft||Oe[mt]))throw new Error("Could not find a font-family for the rule '"+$B(it)+"' and default family '"+mt+"'.");if(ft=function(tt,pt){if(pt[tt])return pt[tt];var Ct=jI[tt],Et=Ct<=jI.normal?-1:1,St=jB(pt,vY,Ct,Et);if(!St)throw new Error("Could not find a matching font-stretch value for "+tt);return St}(it.stretch,ft),ft=function(tt,pt){if(pt[tt])return pt[tt];for(var Ct=yY[tt],Et=0;Et<Ct.length;++Et)if(pt[Ct[Et]])return pt[Ct[Et]];throw new Error("Could not find a matching font-style for "+tt)}(it.style,ft),!(ft=function(tt,pt){if(pt[tt])return pt[tt];if(tt===400&&pt[500])return pt[500];if(tt===500&&pt[400])return pt[400];var Ct=hSe[tt],Et=jB(pt,bY,Ct,tt<400?-1:1);if(!Et)throw new Error("Could not find a matching font-weight for value "+tt);return Et}(it.weight,ft)))throw new Error("Failed to resolve a font for the rule '"+$B(it)+"'.");return ft}(U,H);this.pdf.setFont(te.ref.name,te.ref.style)}else{var he="";(Ce==="bold"||parseInt(Ce,10)>=700||je==="bold")&&(he="bold"),je==="italic"&&(he+="italic"),he.length===0&&(he="normal");for(var ve="",ae={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},me=0;me<pe.length;me++){if(this.pdf.internal.getFont(pe[me],he,{noFallback:!0,disableWarning:!0})!==void 0){ve=pe[me];break}if(he==="bolditalic"&&this.pdf.internal.getFont(pe[me],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ve=pe[me],he="bold";else if(this.pdf.internal.getFont(pe[me],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ve=pe[me],he="normal";break}}if(ve===""){for(var ge=0;ge<pe.length;ge++)if(ae[pe[ge]]){ve=ae[pe[ge]];break}}ve=ve===""?"Times":ve,this.pdf.setFont(ve,he)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(fe){this.ctx.globalCompositeOperation=fe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(fe){this.ctx.globalAlpha=fe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(fe){this.ctx.lineDashOffset=fe,W.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(fe){this.ctx.lineDash=fe,W.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(fe){this.ctx.ignoreClearRect=!!fe}})};f.prototype.setLineDash=function(L){this.lineDash=L},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){x.call(this,"fill",!1)},f.prototype.stroke=function(){x.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(L,z){if(isNaN(L)||isNaN(z))throw Ti.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new a(L,z));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new a(L,z)},f.prototype.closePath=function(){var L=new a(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&ci(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){L=new a(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(L.x,L.y)},f.prototype.lineTo=function(L,z){if(isNaN(L)||isNaN(z))throw Ti.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new a(L,z));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new a(X.x,X.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),x.call(this,null,!0)},f.prototype.quadraticCurveTo=function(L,z,X,Q){if(isNaN(X)||isNaN(Q)||isNaN(L)||isNaN(z))throw Ti.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var V=this.ctx.transform.applyToPoint(new a(X,Q)),Z=this.ctx.transform.applyToPoint(new a(L,z));this.path.push({type:"qct",x1:Z.x,y1:Z.y,x:V.x,y:V.y}),this.ctx.lastPoint=new a(V.x,V.y)},f.prototype.bezierCurveTo=function(L,z,X,Q,V,Z){if(isNaN(V)||isNaN(Z)||isNaN(L)||isNaN(z)||isNaN(X)||isNaN(Q))throw Ti.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var _e=this.ctx.transform.applyToPoint(new a(V,Z)),le=this.ctx.transform.applyToPoint(new a(L,z)),ce=this.ctx.transform.applyToPoint(new a(X,Q));this.path.push({type:"bct",x1:le.x,y1:le.y,x2:ce.x,y2:ce.y,x:_e.x,y:_e.y}),this.ctx.lastPoint=new a(_e.x,_e.y)},f.prototype.arc=function(L,z,X,Q,V,Z){if(isNaN(L)||isNaN(z)||isNaN(X)||isNaN(Q)||isNaN(V))throw Ti.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Z=!!Z,!this.ctx.transform.isIdentity){var _e=this.ctx.transform.applyToPoint(new a(L,z));L=_e.x,z=_e.y;var le=this.ctx.transform.applyToPoint(new a(0,X)),ce=this.ctx.transform.applyToPoint(new a(0,0));X=Math.sqrt(Math.pow(le.x-ce.x,2)+Math.pow(le.y-ce.y,2))}Math.abs(V-Q)>=2*Math.PI&&(Q=0,V=2*Math.PI),this.path.push({type:"arc",x:L,y:z,radius:X,startAngle:Q,endAngle:V,counterclockwise:Z})},f.prototype.arcTo=function(L,z,X,Q,V){throw new Error("arcTo not implemented.")},f.prototype.rect=function(L,z,X,Q){if(isNaN(L)||isNaN(z)||isNaN(X)||isNaN(Q))throw Ti.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,z),this.lineTo(L+X,z),this.lineTo(L+X,z+Q),this.lineTo(L,z+Q),this.lineTo(L,z),this.lineTo(L+X,z),this.lineTo(L,z)},f.prototype.fillRect=function(L,z,X,Q){if(isNaN(L)||isNaN(z)||isNaN(X)||isNaN(Q))throw Ti.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var V={};this.lineCap!=="butt"&&(V.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(V.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,z,X,Q),this.fill(),V.hasOwnProperty("lineCap")&&(this.lineCap=V.lineCap),V.hasOwnProperty("lineJoin")&&(this.lineJoin=V.lineJoin)}},f.prototype.strokeRect=function(L,z,X,Q){if(isNaN(L)||isNaN(z)||isNaN(X)||isNaN(Q))throw Ti.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(L,z,X,Q),this.stroke())},f.prototype.clearRect=function(L,z,X,Q){if(isNaN(L)||isNaN(z)||isNaN(X)||isNaN(Q))throw Ti.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,z,X,Q))},f.prototype.save=function(L){L=typeof L!="boolean"||L;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var Q=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Q}},f.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(z),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(L){var z,X,Q,V;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))z=0,X=0,Q=0,V=0;else{var Z=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(Z!==null)z=parseInt(Z[1]),X=parseInt(Z[2]),Q=parseInt(Z[3]),V=1;else if((Z=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)z=parseInt(Z[1]),X=parseInt(Z[2]),Q=parseInt(Z[3]),V=parseFloat(Z[4]);else{if(V=1,typeof L=="string"&&L.charAt(0)!=="#"){var _e=new dY(L);L=_e.ok?_e.toHex():"#000000"}L.length===4?(z=L.substring(1,2),z+=z,X=L.substring(2,3),X+=X,Q=L.substring(3,4),Q+=Q):(z=L.substring(1,3),X=L.substring(3,5),Q=L.substring(5,7)),z=parseInt(z,16),X=parseInt(X,16),Q=parseInt(Q,16)}}return{r:z,g:X,b:Q,a:V,style:L}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(L,z,X,Q){if(isNaN(z)||isNaN(X)||typeof L!="string")throw Ti.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Q=isNaN(Q)?void 0:Q,!p.call(this)){var V=G(this.ctx.transform.rotation),Z=this.ctx.transform.scaleX;A.call(this,{text:L,x:z,y:X,scale:Z,angle:V,align:this.textAlign,maxWidth:Q})}},f.prototype.strokeText=function(L,z,X,Q){if(isNaN(z)||isNaN(X)||typeof L!="string")throw Ti.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){Q=isNaN(Q)?void 0:Q;var V=G(this.ctx.transform.rotation),Z=this.ctx.transform.scaleX;A.call(this,{text:L,x:z,y:X,scale:Z,renderingMode:"stroke",angle:V,align:this.textAlign,maxWidth:Q})}},f.prototype.measureText=function(L){if(typeof L!="string")throw Ti.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,X=this.pdf.internal.scaleFactor,Q=z.internal.getFontSize(),V=z.getStringUnitWidth(L)*Q/z.internal.scaleFactor;return new function(Z){var _e=(Z=Z||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return _e}}),this}({width:V*=Math.round(96*X/72*1e4)/1e4})},f.prototype.scale=function(L,z){if(isNaN(L)||isNaN(z))throw Ti.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new c(L,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},f.prototype.rotate=function(L){if(isNaN(L))throw Ti.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new c(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},f.prototype.translate=function(L,z){if(isNaN(L)||isNaN(z))throw Ti.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new c(1,0,0,1,L,z);this.ctx.transform=this.ctx.transform.multiply(X)},f.prototype.transform=function(L,z,X,Q,V,Z){if(isNaN(L)||isNaN(z)||isNaN(X)||isNaN(Q)||isNaN(V)||isNaN(Z))throw Ti.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var _e=new c(L,z,X,Q,V,Z);this.ctx.transform=this.ctx.transform.multiply(_e)},f.prototype.setTransform=function(L,z,X,Q,V,Z){L=isNaN(L)?1:L,z=isNaN(z)?0:z,X=isNaN(X)?0:X,Q=isNaN(Q)?1:Q,V=isNaN(V)?0:V,Z=isNaN(Z)?0:Z,this.ctx.transform=new c(L,z,X,Q,V,Z)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(L,z,X,Q,V,Z,_e,le,ce){var Fe=this.pdf.getImageProperties(L),Ae=1,Re=1,Ve=1,fe=1;Q!==void 0&&le!==void 0&&(Ve=le/Q,fe=ce/V,Ae=Fe.width/Q*le/Q,Re=Fe.height/V*ce/V),Z===void 0&&(Z=z,_e=X,z=0,X=0),Q!==void 0&&le===void 0&&(le=Q,ce=V),Q===void 0&&le===void 0&&(le=Fe.width,ce=Fe.height);var Je=this.ctx.transform.decompose(),je=G(Je.rotate.shx),Ce=new c,$=(Ce=(Ce=(Ce=Ce.multiply(Je.translate)).multiply(Je.skew)).multiply(Je.scale)).applyToRectangle(new o(Z-z*Ve,_e-X*fe,Q*Ae,V*Re));if(this.autoPaging){for(var ke,Se=b.call(this,$),pe=[],U=0;U<Se.length;U+=1)pe.indexOf(Se[U])===-1&&pe.push(Se[U]);_(pe);for(var H=pe[0],te=pe[pe.length-1],he=H;he<te+1;he++){this.pdf.setPage(he);var ve=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ae=he===1?this.posY+this.margin[0]:this.margin[0],me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ge=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Oe=he===1?0:me+(he-2)*ge;if(this.ctx.clip_path.length!==0){var Ye=this.path;ke=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(ke,this.posX+this.margin[3],-Oe+ae+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=Ye}var Ke=JSON.parse(JSON.stringify($));Ke=y([Ke],this.posX+this.margin[3],-Oe+ae+this.ctx.prevPageLastElemOffset)[0];var mt=(he>H||he<te)&&w.call(this);mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ve,ge,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",Ke.x,Ke.y,Ke.w,Ke.h,null,null,je),mt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(L,"JPEG",$.x,$.y,$.w,$.h,null,null,je)};var b=function(L,z,X){var Q=[];z=z||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var V=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":Q.push(Math.floor((L.y+V)/X)+1);break;case"arc":Q.push(Math.floor((L.y+V-L.radius)/X)+1),Q.push(Math.floor((L.y+V+L.radius)/X)+1);break;case"qct":var Z=B(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);Q.push(Math.floor((Z.y+V)/X)+1),Q.push(Math.floor((Z.y+Z.h+V)/X)+1);break;case"bct":var _e=J(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);Q.push(Math.floor((_e.y+V)/X)+1),Q.push(Math.floor((_e.y+_e.h+V)/X)+1);break;case"rect":Q.push(Math.floor((L.y+V)/X)+1),Q.push(Math.floor((L.y+L.h+V)/X)+1)}for(var le=0;le<Q.length;le+=1)for(;this.pdf.internal.getNumberOfPages()<Q[le];)m.call(this);return Q},m=function(){var L=this.fillStyle,z=this.strokeStyle,X=this.font,Q=this.lineCap,V=this.lineWidth,Z=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=z,this.font=X,this.lineCap=Q,this.lineWidth=V,this.lineJoin=Z},y=function(L,z,X){for(var Q=0;Q<L.length;Q++)switch(L[Q].type){case"bct":L[Q].x2+=z,L[Q].y2+=X;case"qct":L[Q].x1+=z,L[Q].y1+=X;default:L[Q].x+=z,L[Q].y+=X}return L},_=function(L){return L.sort(function(z,X){return z-X})},x=function(L,z){var X=this.fillStyle,Q=this.strokeStyle,V=this.lineCap,Z=this.lineWidth,_e=Math.abs(Z*this.ctx.transform.scaleX),le=this.lineJoin;if(this.autoPaging){for(var ce,Fe,Ae=JSON.parse(JSON.stringify(this.path)),Re=JSON.parse(JSON.stringify(this.path)),Ve=[],fe=0;fe<Re.length;fe++)if(Re[fe].x!==void 0)for(var Je=b.call(this,Re[fe]),je=0;je<Je.length;je+=1)Ve.indexOf(Je[je])===-1&&Ve.push(Je[je]);for(var Ce=0;Ce<Ve.length;Ce++)for(;this.pdf.internal.getNumberOfPages()<Ve[Ce];)m.call(this);_(Ve);for(var $=Ve[0],ke=Ve[Ve.length-1],Se=$;Se<ke+1;Se++){this.pdf.setPage(Se),this.fillStyle=X,this.strokeStyle=Q,this.lineCap=V,this.lineWidth=_e,this.lineJoin=le;var pe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],U=Se===1?this.posY+this.margin[0]:this.margin[0],H=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],te=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],he=Se===1?0:H+(Se-2)*te;if(this.ctx.clip_path.length!==0){var ve=this.path;ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(ce,this.posX+this.margin[3],-he+U+this.ctx.prevPageLastElemOffset),N.call(this,L,!0),this.path=ve}if(Fe=JSON.parse(JSON.stringify(Ae)),this.path=y(Fe,this.posX+this.margin[3],-he+U+this.ctx.prevPageLastElemOffset),z===!1||Se===0){var ae=(Se>$||Se<ke)&&w.call(this);ae&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pe,te,null).clip().discardPath()),N.call(this,L,z),ae&&this.pdf.restoreGraphicsState()}this.lineWidth=Z}this.path=Ae}else this.lineWidth=_e,N.call(this,L,z),this.lineWidth=Z},N=function(L,z){if((L!=="stroke"||z||!v.call(this))&&(L==="stroke"||z||!p.call(this))){for(var X,Q,V=[],Z=this.path,_e=0;_e<Z.length;_e++){var le=Z[_e];switch(le.type){case"begin":V.push({begin:!0});break;case"close":V.push({close:!0});break;case"mt":V.push({start:le,deltas:[],abs:[]});break;case"lt":var ce=V.length;if(Z[_e-1]&&!isNaN(Z[_e-1].x)&&(X=[le.x-Z[_e-1].x,le.y-Z[_e-1].y],ce>0)){for(;ce>=0;ce--)if(V[ce-1].close!==!0&&V[ce-1].begin!==!0){V[ce-1].deltas.push(X),V[ce-1].abs.push(le);break}}break;case"bct":X=[le.x1-Z[_e-1].x,le.y1-Z[_e-1].y,le.x2-Z[_e-1].x,le.y2-Z[_e-1].y,le.x-Z[_e-1].x,le.y-Z[_e-1].y],V[V.length-1].deltas.push(X);break;case"qct":var Fe=Z[_e-1].x+2/3*(le.x1-Z[_e-1].x),Ae=Z[_e-1].y+2/3*(le.y1-Z[_e-1].y),Re=le.x+2/3*(le.x1-le.x),Ve=le.y+2/3*(le.y1-le.y),fe=le.x,Je=le.y;X=[Fe-Z[_e-1].x,Ae-Z[_e-1].y,Re-Z[_e-1].x,Ve-Z[_e-1].y,fe-Z[_e-1].x,Je-Z[_e-1].y],V[V.length-1].deltas.push(X);break;case"arc":V.push({deltas:[],abs:[],arc:!0}),Array.isArray(V[V.length-1].abs)&&V[V.length-1].abs.push(le)}}Q=z?null:L==="stroke"?"stroke":"fill";for(var je=!1,Ce=0;Ce<V.length;Ce++)if(V[Ce].arc)for(var $=V[Ce].abs,ke=0;ke<$.length;ke++){var Se=$[ke];Se.type==="arc"?C.call(this,Se.x,Se.y,Se.radius,Se.startAngle,Se.endAngle,Se.counterclockwise,void 0,z,!je):I.call(this,Se.x,Se.y),je=!0}else if(V[Ce].close===!0)this.pdf.internal.out("h"),je=!1;else if(V[Ce].begin!==!0){var pe=V[Ce].start.x,U=V[Ce].start.y;R.call(this,V[Ce].deltas,pe,U),je=!0}Q&&P.call(this,Q),z&&D.call(this)}},k=function(L){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-X;case"top":return L+z-X;case"hanging":return L+z-2*X;case"middle":return L+z/2-X;default:return L}},T=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(z,X){this.colorStops.push([z,X])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var C=function(L,z,X,Q,V,Z,_e,le,ce){for(var Fe=Y.call(this,X,Q,V,Z),Ae=0;Ae<Fe.length;Ae++){var Re=Fe[Ae];Ae===0&&(ce?E.call(this,Re.x1+L,Re.y1+z):I.call(this,Re.x1+L,Re.y1+z)),M.call(this,L,z,Re.x2,Re.y2,Re.x3,Re.y3,Re.x4,Re.y4)}le?D.call(this):P.call(this,_e)},P=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},D=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(L,z){this.pdf.internal.out(t(L)+" "+i(z)+" m")},A=function(L){var z;switch(L.align){case"right":case"end":z="right";break;case"center":z="center";break;default:z="left"}var X,Q,V,Z=this.pdf.getTextDimensions(L.text),_e=k.call(this,L.y),le=T.call(this,_e)-Z.h,ce=this.ctx.transform.applyToPoint(new a(L.x,_e));if(this.autoPaging){var Fe=this.ctx.transform.decompose(),Ae=new c;Ae=(Ae=(Ae=Ae.multiply(Fe.translate)).multiply(Fe.skew)).multiply(Fe.scale);for(var Re=this.ctx.transform.applyToRectangle(new o(L.x,_e,Z.w,Z.h)),Ve=Ae.applyToRectangle(new o(L.x,le,Z.w,Z.h)),fe=b.call(this,Ve),Je=[],je=0;je<fe.length;je+=1)Je.indexOf(fe[je])===-1&&Je.push(fe[je]);_(Je);for(var Ce=Je[0],$=Je[Je.length-1],ke=Ce;ke<$+1;ke++){this.pdf.setPage(ke);var Se=ke===1?this.posY+this.margin[0]:this.margin[0],pe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],U=this.pdf.internal.pageSize.height-this.margin[2],H=U-this.margin[0],te=this.pdf.internal.pageSize.width-this.margin[1],he=te-this.margin[3],ve=ke===1?0:pe+(ke-2)*H;if(this.ctx.clip_path.length!==0){var ae=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(X,this.posX+this.margin[3],-1*ve+Se),N.call(this,"fill",!0),this.path=ae}var me=y([JSON.parse(JSON.stringify(Ve))],this.posX+this.margin[3],-ve+Se+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(Q=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Q*L.scale),V=this.lineWidth,this.lineWidth=V*L.scale);var ge=this.autoPaging!=="text";if(ge||me.y+me.h<=U){if(ge||me.y>=Se&&me.x<=te){var Oe=ge?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||te-me.x)[0],Ye=y([JSON.parse(JSON.stringify(Re))],this.posX+this.margin[3],-ve+Se+this.ctx.prevPageLastElemOffset)[0],Ke=ge&&(ke>Ce||ke<$)&&w.call(this);Ke&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],he,H,null).clip().discardPath()),this.pdf.text(Oe,Ye.x,Ye.y,{angle:L.angle,align:z,renderingMode:L.renderingMode}),Ke&&this.pdf.restoreGraphicsState()}}else me.y<U&&(this.ctx.prevPageLastElemOffset+=U-me.y);L.scale>=.01&&(this.pdf.setFontSize(Q),this.lineWidth=V)}}else L.scale>=.01&&(Q=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Q*L.scale),V=this.lineWidth,this.lineWidth=V*L.scale),this.pdf.text(L.text,ce.x+this.posX,ce.y+this.posY,{angle:L.angle,align:z,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(Q),this.lineWidth=V)},I=function(L,z,X,Q){X=X||0,Q=Q||0,this.pdf.internal.out(t(L+X)+" "+i(z+Q)+" l")},R=function(L,z,X){return this.pdf.lines(L,z,X,null,null)},M=function(L,z,X,Q,V,Z,_e,le){this.pdf.internal.out([e(r(X+L)),e(s(Q+z)),e(r(V+L)),e(s(Z+z)),e(r(_e+L)),e(s(le+z)),"c"].join(" "))},Y=function(L,z,X,Q){for(var V=2*Math.PI,Z=Math.PI/2;z>X;)z-=V;var _e=Math.abs(X-z);_e<V&&Q&&(_e=V-_e);for(var le=[],ce=Q?-1:1,Fe=z;_e>1e-5;){var Ae=Fe+ce*Math.min(_e,Z);le.push(q.call(this,L,Fe,Ae)),_e-=Math.abs(Ae-Fe),Fe=Ae}return le},q=function(L,z,X){var Q=(X-z)/2,V=L*Math.cos(Q),Z=L*Math.sin(Q),_e=V,le=-Z,ce=_e*_e+le*le,Fe=ce+_e*V+le*Z,Ae=4/3*(Math.sqrt(2*ce*Fe)-Fe)/(_e*Z-le*V),Re=_e-Ae*le,Ve=le+Ae*_e,fe=Re,Je=-Ve,je=Q+z,Ce=Math.cos(je),$=Math.sin(je);return{x1:L*Math.cos(z),y1:L*Math.sin(z),x2:Re*Ce-Ve*$,y2:Re*$+Ve*Ce,x3:fe*Ce-Je*$,y3:fe*$+Je*Ce,x4:L*Math.cos(X),y4:L*Math.sin(X)}},G=function(L){return 180*L/Math.PI},B=function(L,z,X,Q,V,Z){var _e=L+.5*(X-L),le=z+.5*(Q-z),ce=V+.5*(X-V),Fe=Z+.5*(Q-Z),Ae=Math.min(L,V,_e,ce),Re=Math.max(L,V,_e,ce),Ve=Math.min(z,Z,le,Fe),fe=Math.max(z,Z,le,Fe);return new o(Ae,Ve,Re-Ae,fe-Ve)},J=function(L,z,X,Q,V,Z,_e,le){var ce,Fe,Ae,Re,Ve,fe,Je,je,Ce,$,ke,Se,pe,U,H=X-L,te=Q-z,he=V-X,ve=Z-Q,ae=_e-V,me=le-Z;for(Fe=0;Fe<41;Fe++)Ce=(Je=(Ae=L+(ce=Fe/40)*H)+ce*((Ve=X+ce*he)-Ae))+ce*(Ve+ce*(V+ce*ae-Ve)-Je),$=(je=(Re=z+ce*te)+ce*((fe=Q+ce*ve)-Re))+ce*(fe+ce*(Z+ce*me-fe)-je),Fe==0?(ke=Ce,Se=$,pe=Ce,U=$):(ke=Math.min(ke,Ce),Se=Math.min(Se,$),pe=Math.max(pe,Ce),U=Math.max(U,$));return new o(Math.round(ke),Math.round(Se),Math.round(pe-ke),Math.round(U-Se))},W=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,z,X=(L=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:z}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(en.API),function(n){var e=function(a){var o,c,d,u,f,h,p,v,w,b;for(c=[],d=0,u=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;u>d;d+=4)(f=(a.charCodeAt(d)<<24)+(a.charCodeAt(d+1)<<16)+(a.charCodeAt(d+2)<<8)+a.charCodeAt(d+3))!==0?(h=(f=((f=((f=((f=(f-(b=f%85))/85)-(w=f%85))/85)-(v=f%85))/85)-(p=f%85))/85)%85,c.push(h+33,p+33,v+33,w+33,b+33)):c.push(122);return function(m,y){for(var _=y;_>0;_--)m.pop()}(c,o.length),String.fromCharCode.apply(String,c)+"~>"},t=function(a){var o,c,d,u,f,h=String,p="length",v=255,w="charCodeAt",b="slice",m="replace";for(a[b](-2),a=a[b](0,-2)[m](/\s/g,"")[m]("z","!!!!!"),d=[],u=0,f=(a+=o="uuuuu"[b](a[p]%5||5))[p];f>u;u+=5)c=52200625*(a[w](u)-33)+614125*(a[w](u+1)-33)+7225*(a[w](u+2)-33)+85*(a[w](u+3)-33)+(a[w](u+4)-33),d.push(v&c>>24,v&c>>16,v&c>>8,v&c);return function(y,_){for(var x=_;x>0;x--)y.pop()}(d,o[p]),h.fromCharCode.apply(h,d)},i=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},r=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var c="",d=0;d<a.length;d+=2)c+=String.fromCharCode("0x"+(a[d]+a[d+1]));return c},s=function(a){for(var o=new Uint8Array(a.length),c=a.length;c--;)o[c]=a.charCodeAt(c);return(o=TI(o)).reduce(function(d,u){return d+String.fromCharCode(u)},"")};n.processDataByFilters=function(a,o){var c=0,d=a||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":d=t(d),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=r(d),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=i(d),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=s(d),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:d,reverseChain:u.reverse().join(" ")}}}(en.API),function(n){n.loadFile=function(e,t,i){return function(r,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(c,d,u){var f=new XMLHttpRequest,h=0,p=function(v){var w=v.length,b=[],m=String.fromCharCode;for(h=0;h<w;h+=1)b.push(m(255&v.charCodeAt(h)));return b.join("")};if(f.open("GET",c,!d),f.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(f.onload=function(){f.status===200?u(p(this.responseText)):u(void 0)}),f.send(null),d&&f.status===200)return p(f.responseText)}(r,s,a)}catch{}return o}(e,t,i)},n.allowFsRead=void 0,n.loadImageFile=n.loadFile}(en.API),function(n){function e(){return(ln.html2canvas?Promise.resolve(ln.html2canvas):BA(()=>import("./html2canvas.esm-e0a7d97b.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(ln.DOMPurify?Promise.resolve(ln.DOMPurify):BA(()=>import("./purify.es-ce17b1ad.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var i=function(o){var c=ci(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},r=function(o,c){var d=document.createElement(o);for(var u in c.className&&(d.className=c.className),c.innerHTML&&c.dompurify&&(d.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)d.style[u]=c.style[u];return d},s=function o(c,d){for(var u=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)d!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||u.appendChild(o(f,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(u.width=c.width,u.height=c.height,u.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(u.value=c.value),u.addEventListener("load",function(){u.scrollTop=c.scrollTop,u.scrollLeft=c.scrollLeft},!0)),u},a=function o(c){var d=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),d);return(u=u.setProgress(1,o,1,[o])).set(c)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,c){return o.__proto__=c||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,c){return this.then(function(){switch(c=c||function(d){switch(i(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),c){case"string":return this.then(t).then(function(d){return this.set({src:r("div",{innerHTML:o,dompurify:d})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(c){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,c(this.prop.container,d)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(c){var d=this.opt.jsPDF,u=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=u,u)for(var p=0;p<u.length;++p){var v=u[p],w=v.src.find(function(b){return b.format==="truetype"});w&&d.addFont(w.url,v.ref.name,v.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,d.context2d.save(!0),c(this.prop.container,h)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,c,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},a.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(i(o)!=="object")return this;var c=Object.keys(o||{}).map(function(d){if(d in a.template.prop)return function(){this.prop[d]=o[d]};switch(d){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[d]=o[d]}}},this);return this.then(function(){return this.thenList(c)})},a.prototype.get=function(o,c){return this.then(function(){var d=o in a.template.prop?this.prop[o]:this.opt[o];return c?c(d):d})},a.prototype.setMargin=function(o){return this.then(function(){switch(i(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function c(d,u){return Math.floor(d*u/72*96)}return this.then(function(){(o=o||en.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,c,d,u){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),d!=null&&(this.progress.n=d),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,c,d,u){return this.setProgress(o?this.progress.val+o:null,c||null,d?this.progress.n+d:null,u?this.progress.stack.concat(u):null)},a.prototype.then=function(o,c){var d=this;return this.thenCore(o,c,function(u,f){return d.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(h){return d.updateProgress(null,u),h}).then(u,f).then(function(h){return d.updateProgress(1),h})})},a.prototype.thenCore=function(o,c,d){d=d||Promise.prototype.then;var u=this;o&&(o=o.bind(u)),c&&(c=c.bind(u));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:a.convert(Object.assign({},u),Promise.prototype),h=d.call(f,o,c);return a.convert(h,u.__proto__)},a.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},a.prototype.thenList=function(o){var c=this;return o.forEach(function(d){c=c.thenCore(d)}),c},a.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return a.convert(c,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,en.getPageSize=function(o,c,d){if(ci(o)==="object"){var u=o;o=u.orientation,c=u.unit||c,d=u.format||d}c=c||"mm",d=d||"a4",o=(""+(o||"P")).toLowerCase();var f,h=(""+d).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+c}var v,w=0,b=0;if(p.hasOwnProperty(h))w=p[h][1]/f,b=p[h][0]/f;else try{w=d[1],b=d[0]}catch{throw new Error("Invalid format: "+d)}if(o==="p"||o==="portrait")o="p",b>w&&(v=b,b=w,w=v);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",w>b&&(v=b,b=w,w=v)}return{width:b,height:w,unit:c,k:f,orientation:o}},n.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(cD):null;var d=new a(c);return c.worker?d:d.from(o).doCallback()}}(en.API),en.API.addJS=function(n){return VB=n,this.internal.events.subscribe("postPutResources",function(){iA=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(iA+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),HB=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+VB+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){iA!==void 0&&HB!==void 0&&this.internal.out("/Names <</JavaScript "+iA+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=t.outline.render().split(/\r\n/),s=0;s<r.length;s++){var a=r[s],o=i.exec(a);if(o!=null){var c=o[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(a)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,u=[];for(s=0;s<d;s++){var f=t.internal.newObject();u.push(f);var h=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var p=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<u.length;s++)t.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+p+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(i,r,s){var a={title:r,options:s,children:[]};return i==null&&(i=this.root),i.children.push(a),a},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(i){i.id=t.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},t.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},t.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<i.children.length;s++){var a=i.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(i)),s>0&&this.line("/Prev "+this.makeRef(i.children[s-1])),s<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var c=t.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var d=0;d<i.children.length;d++)this.renderItems(i.children[d])},t.outline.line=function(i){this.ctx.val+=i+`\r
`},t.outline.makeRef=function(i){return i.id+" 0 R"},t.outline.makeString=function(i){return"("+t.internal.pdfEscape(i)+")"},t.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(i,r){for(var s=0;s<r.children.length;s++)i.count++,this.count_r(i,r.children[s]);return i.count}}])}(en.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,i,r,s,a,o){var c,d=this.decode.DCT_DECODE,u=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=a||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,c=function(f){for(var h,p=256*f.charCodeAt(4)+f.charCodeAt(5),v=f.length,w={width:0,height:0,numcomponents:1},b=4;b<v;b+=2){if(b+=p,e.indexOf(f.charCodeAt(b+1))!==-1){h=256*f.charCodeAt(b+5)+f.charCodeAt(b+6),w={width:256*f.charCodeAt(b+7)+f.charCodeAt(b+8),height:h,numcomponents:f.charCodeAt(b+9)};break}p=256*f.charCodeAt(b+2)+f.charCodeAt(b+3)}return w}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),c.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:t,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:d,index:i,alias:r}}return u}}(en.API),en.API.processPNG=function(n,e,t,i){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var r,s=Z_e(n,{checkCrc:!0}),a=s.width,o=s.height,c=s.channels,d=s.palette,u=s.depth;r=d&&c===1?function(C){for(var P=C.width,D=C.height,E=C.data,A=C.palette,I=C.depth,R=!1,M=[],Y=[],q=void 0,G=!1,B=0,J=0;J<A.length;J++){var W=zM(A[J],4),L=W[0],z=W[1],X=W[2],Q=W[3];M.push(L,z,X),Q!=null&&(Q===0?(B++,Y.length<1&&Y.push(J)):Q<255&&(G=!0))}if(G||B>1){R=!0,Y=void 0;var V=P*D;q=new Uint8Array(V);for(var Z=new DataView(E.buffer),_e=0;_e<V;_e++){var le=uD(Z,_e,I),ce=zM(A[le],4)[3];q[_e]=ce}}else B===0&&(Y=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:R?8:void 0,colorBytes:E,alphaBytes:q,needSMask:R,palette:M,mask:Y}}(s):c===2||c===4?function(C){for(var P=C.data,D=C.width,E=C.height,A=C.channels,I=C.depth,R=A===2?"DeviceGray":"DeviceRGB",M=A-1,Y=D*E,q=M,G=Y*q,B=1*Y,J=Math.ceil(G*I/8),W=Math.ceil(B*I/8),L=new Uint8Array(J),z=new Uint8Array(W),X=new DataView(P.buffer),Q=new DataView(L.buffer),V=new DataView(z.buffer),Z=!1,_e=0;_e<Y;_e++){for(var le=_e*A,ce=0;ce<q;ce++)tz(Q,uD(X,le+ce,I),_e*q+ce,I);var Fe=uD(X,le+q,I);Fe<(1<<I)-1&&(Z=!0),tz(V,Fe,1*_e,I)}return{colorSpace:R,colorsPerPixel:M,sMaskBitsPerComponent:Z?I:void 0,colorBytes:L,alphaBytes:z,needSMask:Z}}(s):function(C){var P=C.data,D=C.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:D,colorsPerPixel:D==="DeviceGray"?1:3,colorBytes:P instanceof Uint16Array?function(E){for(var A=E.length,I=new Uint8Array(2*A),R=new DataView(I.buffer,I.byteOffset,I.byteLength),M=0;M<A;M++)R.setUint16(2*M,E[M],!1);return I}(P):P,needSMask:!1}}(s);var f,h,p,v=r,w=v.colorSpace,b=v.colorsPerPixel,m=v.sMaskBitsPerComponent,y=v.colorBytes,_=v.alphaBytes,x=v.needSMask,N=v.palette,k=v.mask,T=null;return i!==en.API.image_compression.NONE&&typeof TI=="function"?(T=function(C){var P;switch(C){case en.API.image_compression.FAST:P=11;break;case en.API.image_compression.MEDIUM:P=13;break;case en.API.image_compression.SLOW:P=14;break;default:P=12}return P}(i),f=this.decode.FLATE_DECODE,h="/Predictor ".concat(T," /Colors ").concat(b," /BitsPerComponent ").concat(u," /Columns ").concat(a),n=KB(y,Math.ceil(a*b*u/8),b,u,i),x&&(p=KB(_,Math.ceil(a*m/8),1,m,i))):(f=void 0,h=void 0,n=y,x&&(p=_)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:t,data:n,index:e,filter:f,decodeParameters:h,transparency:k,palette:N,sMask:p,predictor:T,width:a,height:o,bitsPerComponent:u,sMaskBitsPerComponent:m,colorSpace:w}}},function(n){n.processGIF89A=function(e,t,i,r){var s=new bSe(e),a=s.width,o=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:a,height:o},u=new hD(100).encode(d,100);return n.processJPEG.call(this,u,t,i,r)},n.processGIF87A=n.processGIF89A}(en.API),Nc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:r,green:i,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Nc.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){Ti.log("bit decode error:"+t)}},Nc.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<e;r++)for(var s=this.datav.getUint8(this.pos++,!0),a=i*this.width*4+8*r*4,o=0;o<8&&8*r+o<this.width;o++){var c=this.palette[s>>7-o&1];this.data[a+4*o]=c.blue,this.data[a+4*o+1]=c.green,this.data[a+4*o+2]=c.red,this.data[a+4*o+3]=255}t!==0&&(this.pos+=4-t)}},Nc.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,r=0;r<n;r++){var s=this.datav.getUint8(this.pos++,!0),a=i*this.width*4+2*r*4,o=s>>4,c=15&s,d=this.palette[o];if(this.data[a]=d.blue,this.data[a+1]=d.green,this.data[a+2]=d.red,this.data[a+3]=255,2*r+1>=this.width)break;d=this.palette[c],this.data[a+4]=d.blue,this.data[a+4+1]=d.green,this.data[a+4+2]=d.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Nc.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*i;if(r<this.palette.length){var a=this.palette[r];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},Nc.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,d=s>>15?255:0,u=i*this.width*4+4*r;this.data[u]=c,this.data[u+1]=o,this.data[u+2]=a,this.data[u+3]=d}this.pos+=n}},Nc.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,c=(a>>5&t)/t*255|0,d=(a>>11)/e*255|0,u=r*this.width*4+4*s;this.data[u]=d,this.data[u+1]=c,this.data[u+2]=o,this.data[u+3]=255}this.pos+=n}},Nc.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=r,this.data[a+2]=i,this.data[a+3]=255}this.pos+=this.width%4}},Nc.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=r,this.data[o+2]=i,this.data[o+3]=a}},Nc.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,i,r){var s=new Nc(e,!1),a=s.width,o=s.height,c={data:s.getData(),width:a,height:o},d=new hD(100).encode(c,100);return n.processJPEG.call(this,d,t,i,r)}}(en.API),iz.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,i,r){var s=new iz(e),a=s.width,o=s.height,c={data:s.getData(),width:a,height:o},d=new hD(100).encode(c,100);return n.processJPEG.call(this,d,t,i,r)}}(en.API),en.API.processRGBA=function(n,e,t){for(var i=n.data,r=i.length,s=new Uint8Array(r/4*3),a=new Uint8Array(r/4),o=0,c=0,d=0;d<r;d+=4){var u=i[d],f=i[d+1],h=i[d+2],p=i[d+3];s[o++]=u,s[o++]=f,s[o++]=h,a[c++]=p}var v=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:v,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},en.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},_0=en.API,rA=_0.getCharWidthsArray=function(n,e){var t,i,r=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:r.metadata.Unicode.widths,c=o.fof?o.fof:1,d=e.kerning?e.kerning:r.metadata.Unicode.kerning,u=d.fof?d.fof:1,f=e.doKerning!==!1,h=0,p=n.length,v=0,w=o[0]||c,b=[];for(t=0;t<p;t++)i=n.charCodeAt(t),typeof r.metadata.widthOfString=="function"?b.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+a*(1e3/s)||0)/1e3):(h=f&&ci(d[i])==="object"&&!isNaN(parseInt(d[i][v],10))?d[i][v]/u:0,b.push((o[i]||w)/c+h)),v=i;return b},GB=_0.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),r=e.charSpace||this.internal.getCharSpace();return _0.processArabic&&(n=_0.processArabic(n)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(n,t,r)/t:rA.apply(this,arguments).reduce(function(s,a){return s+a},0)},XB=function(n,e,t,i){for(var r=[],s=0,a=n.length,o=0;s!==a&&o+e[s]<t;)o+=e[s],s++;r.push(n.slice(0,s));var c=s;for(o=0;s!==a;)o+e[s]>i&&(r.push(n.slice(c,s)),o=0,c=s),o+=e[s],s++;return c!==s&&r.push(n.slice(c,s)),r},YB=function(n,e,t){t||(t={});var i,r,s,a,o,c,d,u=[],f=[u],h=t.textIndent||0,p=0,v=0,w=n.split(" "),b=rA.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?w[0].length+2:t.lineIndent||0){var m=Array(c).join(" "),y=[];w.map(function(x){(x=x.split(/\s*\n/)).length>1?y=y.concat(x.map(function(N,k){return(k&&N.length?`
`:"")+N})):y.push(x[0])}),w=y,c=GB.apply(this,[m,t])}for(s=0,a=w.length;s<a;s++){var _=0;if(i=w[s],c&&i[0]==`
`&&(i=i.substr(1),_=1),h+p+(v=(r=rA.apply(this,[i,t])).reduce(function(x,N){return x+N},0))>e||_){if(v>e){for(o=XB.apply(this,[i,r,e-(h+p),e]),u.push(o.shift()),u=[o.pop()];o.length;)f.push([o.shift()]);v=r.slice(i.length-(u[0]?u[0].length:0)).reduce(function(x,N){return x+N},0)}else u=[i];f.push(u),h=v+c,p=b}else u.push(i),h+=p+v,p=b}return d=c?function(x,N){return(N?m:"")+x.join(" ")}:function(x){return x.join(" ")},f.map(d)},_0.splitTextToSize=function(n,e,t){var i,r=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle),h="Unicode";return f.metadata[h]?{widths:f.metadata[h].widths||{0:1},kerning:f.metadata[h].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);i=Array.isArray(n)?n:String(n).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/r;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/r:0,s.lineIndent=t.lineIndent;var o,c,d=[];for(o=0,c=i.length;o<c;o++)d=d.concat(YB.apply(this,[i[o],a,s]));return d},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",i={},r={},s=0;s<16;s++)i[t[s]]=e[s],r[e[s]]=t[s];var a=function(h){return"0x"+parseInt(h,10).toString(16)},o=n.__fontmetrics__.compress=function(h){var p,v,w,b,m=["{"];for(var y in h){if(p=h[y],isNaN(parseInt(y,10))?v="'"+y+"'":(y=parseInt(y,10),v=(v=a(y).slice(2)).slice(0,-1)+r[v.slice(-1)]),typeof p=="number")p<0?(w=a(p).slice(3),b="-"):(w=a(p).slice(2),b=""),w=b+w.slice(0,-1)+r[w.slice(-1)];else{if(ci(p)!=="object")throw new Error("Don't know what to do with value type "+ci(p)+".");w=o(p)}m.push(v+w)}return m.push("}"),m.join("")},c=n.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,v,w,b,m={},y=1,_=m,x=[],N="",k="",T=h.length-1,C=1;C<T;C+=1)(b=h[C])=="'"?p?(w=p.join(""),p=void 0):p=[]:p?p.push(b):b=="{"?(x.push([_,w]),_={},w=void 0):b=="}"?((v=x.pop())[0][v[1]]=_,w=void 0,_=v[0]):b=="-"?y=-1:w===void 0?i.hasOwnProperty(b)?(N+=i[b],w=parseInt(N,16)*y,y=1,N=""):N+=b:i.hasOwnProperty(b)?(k+=i[b],_[w]=parseInt(k,16)*y,y=1,w=void 0,k=""):k+=b;return m},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},f={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(h){var p=h.font,v=f.Unicode[p.postScriptName];v&&(p.metadata.Unicode={},p.metadata.Unicode.widths=v.widths,p.metadata.Unicode.kerning=v.kerning);var w=u.Unicode[p.postScriptName];w&&(p.metadata.Unicode.encoding=w,p.encoding=w.codePages[0])}])}(en.API),function(n){var e=function(t){for(var i=t.length,r=new Uint8Array(i),s=0;s<i;s++)r[s]=t.charCodeAt(s);return r};n.API.events.push(["addFont",function(t){var i=void 0,r=t.font,s=t.instance;if(!r.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(i=s.existsFileInVFS(r.postScriptName)===!1?s.loadFile(r.postScriptName):s.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(_k(o)),a.metadata=n.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(r,i)}}])}(en),en.API.addSvgAsImage=function(n,e,t,i,r,s,a,o){if(isNaN(e)||isNaN(t))throw Ti.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(r))throw Ti.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=i,c.height=r;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(ln.canvg?Promise.resolve(ln.canvg):BA(()=>import("./index.es-a59f80df.js"),[])).catch(function(h){return Promise.reject(new Error("Could not load canvg: "+h))}).then(function(h){return h.default?h.default:h}).then(function(h){return h.fromString(d,n,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(h){return h.render(u)}).then(function(){f.addImage(c.toDataURL("image/jpeg",1),e,t,i,r,a,o)})},en.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(e,t);return this},en.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var i,r,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),c=[],d=0,u=0,f=0;function h(v,w){var b,m=!1;for(b=0;b<v.length;b+=1)v[b]===w&&(m=!0);return m}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var p=o.length;for(f=0;f<p;f+=1)t[o[f]].value=t[o[f]].defaultValue,t[o[f]].explicitSet=!1}if(ci(n)==="object"){for(r in n)if(s=n[r],h(o,r)&&s!==void 0){if(t[r].type==="boolean"&&typeof s=="boolean")t[r].value=s;else if(t[r].type==="name"&&h(t[r].valueSet,s))t[r].value=s;else if(t[r].type==="integer"&&Number.isInteger(s))t[r].value=s;else if(t[r].type==="array"){for(d=0;d<s.length;d+=1)if(i=!0,s[d].length===1&&typeof s[d][0]=="number")c.push(String(s[d]-1));else if(s[d].length>1){for(u=0;u<s[d].length;u+=1)typeof s[d][u]!="number"&&(i=!1);i===!0&&c.push([s[d][0]-1,s[d][1]-1].join(" "))}t[r].value="["+c.join(" ")+"]"}else t[r].value=t[r].defaultValue;t[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,w=[];for(v in t)t[v].explicitSet===!0&&(t[v].type==="name"?w.push("/"+v+" /"+t[v].value):w.push("/"+v+" "+t[v].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(i)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=s.length+a.length+o.length+r.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(r+s+a+o+c),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(i,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(en.API),function(n){var e=n.API,t=e.pdfEscape16=function(s,a){for(var o,c=a.metadata.Unicode.widths,d=["","0","00","000","0000"],u=[""],f=0,h=s.length;f<h;++f){if(o=a.metadata.characterToGlyph(s.charCodeAt(f)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(f),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(d[4-o.length],o)}return u.join("")},i=function(s){var a,o,c,d,u,f,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],f=0,h=(o=Object.keys(s).sort(function(p,v){return p-v})).length;f<h;f++)a=o[f],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(d=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+d+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,c=a.out,d=a.newObject,u=a.putStream;if(o.metadata instanceof n.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,h=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",v=0;v<h.length;v++)p+=String.fromCharCode(h[v]);var w=d();u({data:p,addLength1:!0,objectId:w}),c("endobj");var b=d();u({data:i(o.metadata.toUnicode),addLength1:!0,objectId:b}),c("endobj");var m=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+I0(o.fontName)),c("/FontFile2 "+w+" 0 R"),c("/FontBBox "+n.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var y=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+I0(o.fontName)),c("/FontDescriptor "+m+" 0 R"),c("/W "+n.API.PDFObject.convert(f)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+b+" 0 R"),c("/BaseFont /"+I0(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+y+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,c=a.out,d=a.newObject,u=a.putStream;if(o.metadata instanceof n.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,h="",p=0;p<f.length;p++)h+=String.fromCharCode(f[p]);var v=d();u({data:h,addLength1:!0,objectId:v}),c("endobj");var w=d();u({data:i(o.metadata.toUnicode),addLength1:!0,objectId:w}),c("endobj");var b=d();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+v+" 0 R"),c("/Flags 96"),c("/FontBBox "+n.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+I0(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=d();for(var m=0;m<o.metadata.hmtx.widths.length;m++)o.metadata.hmtx.widths[m]=parseInt(o.metadata.hmtx.widths[m]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+I0(o.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(s)}]);var r=function(s){var a,o=s.text||"",c=s.x,d=s.y,u=s.options||{},f=s.mutex||{},h=f.pdfEscape,p=f.activeFontKey,v=f.fonts,w=p,b="",m=0,y="",_=v[w].encoding;if(v[w].encoding!=="Identity-H")return{text:o,x:c,y:d,options:u,mutex:f};for(y=o,w=p,Array.isArray(o)&&(y=o[0]),m=0;m<y.length;m+=1)v[w].metadata.hasOwnProperty("cmap")&&(a=v[w].metadata.cmap.unicode.codeMap[y[m].charCodeAt(0)]),a||y[m].charCodeAt(0)<256&&v[w].metadata.hasOwnProperty("Unicode")?b+=y[m]:b+="";var x="";return parseInt(w.slice(1))<14||_==="WinAnsiEncoding"?x=h(b,w).split("").map(function(N){return N.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(x=t(b,v[w])),f.isHex=!0,{text:x,x:c,y:d,options:u,mutex:f}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],c={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var d=0;for(d=0;d<a.length;d+=1)Array.isArray(a[d])&&a[d].length===3?o.push([r(Object.assign({},c,{text:a[d][0]})).text,a[d][1],a[d][2]]):o.push(r(Object.assign({},c,{text:a[d]})).text);s.text=o}else s.text=r(Object.assign({},c,{text:a})).text}])}(en),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,i){return e.call(this),this.internal.vFS[t]=i,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(en.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(i){var r,s,a,o,c,d,u,f=e,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],m=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,_=0;this.__bidiEngine__={};var x=function(E){var A=E.charCodeAt(),I=A>>8,R=w[I];return R!==void 0?f[256*R+(255&A)]:I===252||I===253?"AL":m.test(I)?"L":I===8?"R":"N"},N=function(E){for(var A,I=0;I<E.length;I++){if((A=x(E.charAt(I)))==="L")return!1;if(A==="R")return!0}return!1},k=function(E,A,I,R){var M,Y,q,G,B=A[R];switch(B){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"N":case"AN":break;case"EN":y&&(B="AN");break;case"AL":y=!0,B="R";break;case"WS":case"BN":B="N";break;case"CS":R<1||R+1>=A.length||(M=I[R-1])!=="EN"&&M!=="AN"||(Y=A[R+1])!=="EN"&&Y!=="AN"?B="N":y&&(Y="AN"),B=Y===M?Y:"N";break;case"ES":B=(M=R>0?I[R-1]:"B")==="EN"&&R+1<A.length&&A[R+1]==="EN"?"EN":"N";break;case"ET":if(R>0&&I[R-1]==="EN"){B="EN";break}if(y){B="N";break}for(q=R+1,G=A.length;q<G&&A[q]==="ET";)q++;B=q<G&&A[q]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(G=A.length,q=R+1;q<G&&A[q]==="NSM";)q++;if(q<G){var J=E[R],W=J>=1425&&J<=2303||J===64286;if(M=A[q],W&&(M==="R"||M==="AL")){B="R";break}}}B=R<1||(M=A[R-1])==="B"?"N":I[R-1];break;case"B":y=!1,r=!0,B=_;break;case"S":s=!0,B="N"}return B},T=function(E,A,I){var R=E.split("");return I&&C(R,I,{hiLevel:_}),R.reverse(),A&&A.reverse(),R.join("")},C=function(E,A,I){var R,M,Y,q,G,B=-1,J=E.length,W=0,L=[],z=_?p:h,X=[];for(y=!1,r=!1,s=!1,M=0;M<J;M++)X[M]=x(E[M]);for(Y=0;Y<J;Y++){if(G=W,L[Y]=k(E,X,L,Y),R=240&(W=z[G][v[L[Y]]]),W&=15,A[Y]=q=z[W][5],R>0)if(R===16){for(M=B;M<Y;M++)A[M]=1;B=-1}else B=-1;if(z[W][6])B===-1&&(B=Y);else if(B>-1){for(M=B;M<Y;M++)A[M]=q;B=-1}X[Y]==="B"&&(A[Y]=0),I.hiLevel|=q}s&&function(Q,V,Z){for(var _e=0;_e<Z;_e++)if(Q[_e]==="S"){V[_e]=_;for(var le=_e-1;le>=0&&Q[le]==="WS";le--)V[le]=_}}(X,A,J)},P=function(E,A,I,R,M){if(!(M.hiLevel<E)){if(E===1&&_===1&&!r)return A.reverse(),void(I&&I.reverse());for(var Y,q,G,B,J=A.length,W=0;W<J;){if(R[W]>=E){for(G=W+1;G<J&&R[G]>=E;)G++;for(B=W,q=G-1;B<q;B++,q--)Y=A[B],A[B]=A[q],A[q]=Y,I&&(Y=I[B],I[B]=I[q],I[q]=Y);W=G}W++}}},D=function(E,A,I){var R=E.split(""),M={hiLevel:_};return I||(I=[]),C(R,I,M),function(Y,q,G){if(G.hiLevel!==0&&u)for(var B,J=0;J<Y.length;J++)q[J]===1&&(B=b.indexOf(Y[J]))>=0&&(Y[J]=b[B+1])}(R,I,M),P(2,R,A,I,M),P(1,R,A,I,M),R.join("")};return this.__bidiEngine__.doBidiReorder=function(E,A,I){if(function(M,Y){if(Y)for(var q=0;q<M.length;q++)Y[q]=q;o===void 0&&(o=N(M)),d===void 0&&(d=N(M))}(E,A),a||!c||d)if(a&&c&&o^d)_=o?1:0,E=T(E,A,I);else if(!a&&c&&d)_=o?1:0,E=D(E,A,I),E=T(E,A);else if(!a||o||c||d){if(a&&!c&&o^d)E=T(E,A),o?(_=0,E=D(E,A,I)):(_=1,E=D(E,A,I),E=T(E,A));else if(a&&o&&!c&&d)_=1,E=D(E,A,I),E=T(E,A);else if(!a&&!c&&o^d){var R=u;o?(_=1,E=D(E,A,I),_=0,u=!1,E=D(E,A,I),u=R):(_=0,E=D(E,A,I),E=T(E,A),_=1,u=!1,E=D(E,A,I),u=R,E=T(E,A))}}else _=0,E=D(E,A,I);else _=o?1:0,E=D(E,A,I);return E},this.__bidiEngine__.setOptions=function(E){E&&(a=E.isInputVisual,c=E.isOutputVisual,o=E.isInputRtl,d=E.isOutputRtl,u=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(i){var r=i.text;i.x,i.y;var s=i.options||{};i.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(r)==="[object Array]"){var o=0;for(a=[],o=0;o<r.length;o+=1)Object.prototype.toString.call(r[o])==="[object Array]"?a.push([t.doBidiReorder(r[o][0]),r[o][1],r[o][2]]):a.push([t.doBidiReorder(r[o])]);i.text=a}else i.text=t.doBidiReorder(r);t.setOptions({isInputVisual:!0})}])}(en),en.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new cm(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new LSe(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new wSe(this.contents),this.head=new _Se(this),this.name=new ESe(this),this.cmap=new xY(this),this.toUnicode={},this.hhea=new SSe(this),this.maxp=new TSe(this),this.hmtx=new CSe(this),this.post=new ASe(this),this.os2=new NSe(this),this.loca=new RSe(this),this.glyf=new DSe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,i,r,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,c,d;for(d=[],a=0,o=(c=this.bbox).length;a<o;a++)e=c[a],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),32768&(t=r>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,i){var r,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)r=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/t)||0;return a*(t/1e3)},n.prototype.lineHeight=function(e,t){var i;return t==null&&(t=!1),i=t?this.lineGap:0,(this.ascender+i-this.decender)/1e3*e},n}();var ad,cm=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,i;for(i=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)i[t]=String.fromCharCode(this.readByte());return i.join("")},n.prototype.writeString=function(e){var t,i,r;for(r=[],t=0,i=e.length;0<=i?t<i:t>i;t=0<=i?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,i,r,s,a,o,c;return e=this.readByte(),t=this.readByte(),i=this.readByte(),r=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^c)+1):72057594037927940*e+281474976710656*t+1099511627776*i+4294967296*r+16777216*s+65536*a+256*o+c},n.prototype.writeLongLong=function(e){var t,i;return t=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,i;for(t=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)t.push(this.readByte());return t},n.prototype.write=function(e){var t,i,r,s;for(s=[],i=0,r=e.length;i<r;i++)t=e[i],s.push(this.writeByte(t));return s},n}(),wSe=function(){var n;function e(t){var i,r,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},r=0,s=this.tableCount;0<=s?r<s:r>s;r=0<=s?++r:--r)i={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(t){var i,r,s,a,o,c,d,u,f,h,p,v,w;for(w in p=Object.keys(t).length,c=Math.log(2),f=16*Math.floor(Math.log(p)/c),a=Math.floor(f/c),u=16*p-f,(r=new cm).writeInt(this.scalarType),r.writeShort(p),r.writeShort(f),r.writeShort(a),r.writeShort(u),s=16*p,d=r.pos+s,o=null,v=[],t)for(h=t[w],r.writeString(w),r.writeInt(n(h)),r.writeInt(d),r.writeInt(h.length),v=v.concat(h),w==="head"&&(o=d),d+=h.length;d%4;)v.push(0),d++;return r.write(v),i=2981146554-n(r.data),r.pos=o+8,r.writeUInt32(i),r.data},n=function(t){var i,r,s,a;for(t=_Y.call(t);t.length%4;)t.push(0);for(s=new cm(t),r=0,i=0,a=t.length;i<a;i=i+=4)r+=s.readUInt32();return 4294967295&r},e}(),xSe={}.hasOwnProperty,Su=function(n,e){for(var t in e)xSe.call(e,t)&&(n[t]=e[t]);function i(){this.constructor=n}return i.prototype=e.prototype,n.prototype=new i,n.__super__=e.prototype,n};ad=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var _Se=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Su(n,ad),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new cm).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n}(),rz=function(){function n(e,t){var i,r,s,a,o,c,d,u,f,h,p,v,w,b,m,y,_;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(p=e.readUInt16(),h=p/2,e.pos+=6,s=function(){var x,N;for(N=[],c=x=0;0<=h?x<h:x>h;c=0<=h?++x:--x)N.push(e.readUInt16());return N}(),e.pos+=2,w=function(){var x,N;for(N=[],c=x=0;0<=h?x<h:x>h;c=0<=h?++x:--x)N.push(e.readUInt16());return N}(),d=function(){var x,N;for(N=[],c=x=0;0<=h?x<h:x>h;c=0<=h?++x:--x)N.push(e.readUInt16());return N}(),u=function(){var x,N;for(N=[],c=x=0;0<=h?x<h:x>h;c=0<=h?++x:--x)N.push(e.readUInt16());return N}(),r=(this.length-e.pos+this.offset)/2,o=function(){var x,N;for(N=[],c=x=0;0<=r?x<r:x>r;c=0<=r?++x:--x)N.push(e.readUInt16());return N}(),c=m=0,_=s.length;m<_;c=++m)for(b=s[c],i=y=v=w[c];v<=b?y<=b:y>=b;i=v<=b?++y:--y)u[c]===0?a=i+d[c]:(a=o[u[c]/2+(i-v)-(h-c)]||0)!==0&&(a+=d[c]),this.codeMap[i]=65535&a}e.pos=f}return n.encode=function(e,t){var i,r,s,a,o,c,d,u,f,h,p,v,w,b,m,y,_,x,N,k,T,C,P,D,E,A,I,R,M,Y,q,G,B,J,W,L,z,X,Q,V,Z,_e,le,ce,Fe,Ae;switch(R=new cm,a=Object.keys(e).sort(function(Re,Ve){return Re-Ve}),t){case"macroman":for(w=0,b=function(){var Re=[];for(v=0;v<256;++v)Re.push(0);return Re}(),y={0:0},s={},M=0,B=a.length;M<B;M++)y[le=e[r=a[M]]]==null&&(y[le]=++w),s[r]={old:e[r],new:y[e[r]]},b[r]=y[e[r]];return R.writeUInt16(1),R.writeUInt16(0),R.writeUInt32(12),R.writeUInt16(0),R.writeUInt16(262),R.writeUInt16(0),R.write(b),{charMap:s,subtable:R.data,maxGlyphID:w+1};case"unicode":for(A=[],f=[],_=0,y={},i={},m=d=null,Y=0,J=a.length;Y<J;Y++)y[N=e[r=a[Y]]]==null&&(y[N]=++_),i[r]={old:N,new:y[N]},o=y[N]-r,m!=null&&o===d||(m&&f.push(m),A.push(r),d=o),m=r;for(m&&f.push(m),f.push(65535),A.push(65535),D=2*(P=A.length),C=2*Math.pow(Math.log(P)/Math.LN2,2),h=Math.log(C/2)/Math.LN2,T=2*P-C,c=[],k=[],p=[],v=q=0,W=A.length;q<W;v=++q){if(E=A[v],u=f[v],E===65535){c.push(0),k.push(0);break}if(E-(I=i[E].new)>=32768)for(c.push(0),k.push(2*(p.length+P-v)),r=G=E;E<=u?G<=u:G>=u;r=E<=u?++G:--G)p.push(i[r].new);else c.push(I-E),k.push(0)}for(R.writeUInt16(3),R.writeUInt16(1),R.writeUInt32(12),R.writeUInt16(4),R.writeUInt16(16+8*P+2*p.length),R.writeUInt16(0),R.writeUInt16(D),R.writeUInt16(C),R.writeUInt16(h),R.writeUInt16(T),Z=0,L=f.length;Z<L;Z++)r=f[Z],R.writeUInt16(r);for(R.writeUInt16(0),_e=0,z=A.length;_e<z;_e++)r=A[_e],R.writeUInt16(r);for(ce=0,X=c.length;ce<X;ce++)o=c[ce],R.writeUInt16(o);for(Fe=0,Q=k.length;Fe<Q;Fe++)x=k[Fe],R.writeUInt16(x);for(Ae=0,V=p.length;Ae<V;Ae++)w=p[Ae],R.writeUInt16(w);return{charMap:i,subtable:R.data,maxGlyphID:_+1}}},n}(),xY=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Su(n,ad),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,i,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)t=new rz(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var i,r;return t==null&&(t="macroman"),i=rz.encode(e,t),(r=new cm).writeUInt16(0),r.writeUInt16(1),i.table=r.data.concat(i.subtable),i},n}(),SSe=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Su(n,ad),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n}(),NSe=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Su(n,ad),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,i;for(i=[],t=0;t<10;++t)i.push(e.readByte());return i}(),this.charRange=function(){var t,i;for(i=[],t=0;t<4;++t)i.push(e.readInt());return i}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,i;for(i=[],t=0;t<2;t=++t)i.push(e.readInt());return i}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n}(),ASe=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Su(n,ad),n.prototype.tag="post",n.prototype.parse=function(e){var t,i,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(i=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)t=e.readByte(),r.push(this.names.push(e.readString(t)));return r;case 151552:return i=e.readUInt16(),this.offsets=e.read(i);case 262144:return this.map=(function(){var a,o,c;for(c=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)c.push(e.readUInt32());return c}).call(this)}},n}(),kSe=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},ESe=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Su(n,ad),n.prototype.tag="name",n.prototype.parse=function(e){var t,i,r,s,a,o,c,d,u,f,h;for(e.pos=this.offset,e.readShort(),t=e.readShort(),o=e.readShort(),i=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)i.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(c={},s=u=0,f=i.length;u<f;s=++u)r=i[s],e.pos=r.offset,d=e.readString(r.length),a=new kSe(d,r),c[h=r.nameID]==null&&(c[h]=[]),c[r.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},n}(),TSe=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Su(n,ad),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n}(),CSe=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Su(n,ad),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,i,r,s,a,o,c;for(e.pos=this.offset,this.metrics=[],t=0,o=this.file.hhea.numberOfMetrics;0<=o?t<o:t>o;t=0<=o?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,u;for(u=[],t=d=0;0<=r?d<r:d>r;t=0<=r?++d:--d)u.push(e.readInt16());return u}(),this.widths=(function(){var d,u,f,h;for(h=[],d=0,u=(f=this.metrics).length;d<u;d++)s=f[d],h.push(s.advance);return h}).call(this),i=this.widths[this.widths.length-1],c=[],t=a=0;0<=r?a<r:a>r;t=0<=r?++a:--a)c.push(this.widths.push(i));return c},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n}(),_Y=[].slice,DSe=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Su(n,ad),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,i,r,s,a,o,c,d,u,f;return e in this.cache?this.cache[e]:(s=this.file.loca,t=this.file.contents,i=s.indexOf(e),(r=s.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+i,a=(o=new cm(t.read(r))).readShort(),d=o.readShort(),f=o.readShort(),c=o.readShort(),u=o.readShort(),this.cache[e]=a===-1?new ISe(o,d,f,c,u):new PSe(o,a,d,f,c,u),this.cache[e]))},n.prototype.encode=function(e,t,i){var r,s,a,o,c;for(a=[],s=[],o=0,c=t.length;o<c;o++)r=e[t[o]],s.push(a.length),r&&(a=a.concat(r.encode(i)));return s.push(a.length),{table:a,offsets:s}},n}(),PSe=function(){function n(e,t,i,r,s,a){this.raw=e,this.numberOfContours=t,this.xMin=i,this.yMin=r,this.xMax=s,this.yMax=a,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),ISe=function(){function n(e,t,i,r,s){var a,o;for(this.raw=e,this.xMin=t,this.yMin=i,this.xMax=r,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return n.prototype.encode=function(){var e,t,i;for(t=new cm(_Y.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),RSe=function(){function n(){return n.__super__.constructor.apply(this,arguments)}return Su(n,ad),n.prototype.tag="loca",n.prototype.parse=function(e){var t,i;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var r,s;for(s=[],i=0,r=this.length;i<r;i+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var r,s;for(s=[],i=0,r=this.length;i<r;i+=4)s.push(e.readUInt32());return s}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var i=new Uint32Array(this.offsets.length),r=0,s=0,a=0;a<i.length;++a)if(i[a]=r,s<t.length&&t[s]==a){++s,i[a]=r;var o=this.offsets[a],c=this.offsets[a+1]-o;c>0&&(r+=c)}for(var d=new Array(4*i.length),u=0;u<i.length;++u)d[4*u+3]=255&i[u],d[4*u+2]=(65280&i[u])>>8,d[4*u+1]=(16711680&i[u])>>16,d[4*u]=(4278190080&i[u])>>24;return d},n}(),LSe=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,i,r,s;for(t in r=this.font.cmap.tables[0].codeMap,e={},s=this.subset)i=s[t],e[t]=r[i];return e},n.prototype.glyphsFor=function(e){var t,i,r,s,a,o,c;for(r={},a=0,o=e.length;a<o;a++)r[s=e[a]]=this.font.glyf.glyphFor(s);for(s in t=[],r)(i=r[s])!=null&&i.compound&&t.push.apply(t,i.glyphIDs);if(t.length>0)for(s in c=this.glyphsFor(t))i=c[s],r[s]=i;return r},n.prototype.encode=function(e,t){var i,r,s,a,o,c,d,u,f,h,p,v,w,b,m;for(r in i=xY.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),p={0:0},m=i.charMap)p[(c=m[r]).old]=c.new;for(v in h=i.maxGlyphID,a)v in p||(p[v]=h++);return u=function(y){var _,x;for(_ in x={},y)x[y[_]]=_;return x}(p),f=Object.keys(u).sort(function(y,_){return y-_}),w=function(){var y,_,x;for(x=[],y=0,_=f.length;y<_;y++)o=f[y],x.push(u[o]);return x}(),s=this.font.glyf.encode(a,w,p),d=this.font.loca.encode(s.offsets,w),b={cmap:this.font.cmap.raw(),glyf:s.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},n}();en.API.PDFObject=function(){var n;function e(){}return n=function(t,i){return(Array(i+1).join("0")+t).slice(-i)},e.convert=function(t){var i,r,s,a;if(Array.isArray(t))return"["+function(){var o,c,d;for(d=[],o=0,c=t.length;o<c;o++)i=t[o],d.push(e.convert(i));return d}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(r in s=["<<"],t)a=t[r],s.push("/"+r+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+t},e}();const ju=n=>{if(!n)return"";const e=document.createElement("DIV");e.innerHTML=n;let t=e.textContent||e.innerText||"";return t=t.replace(/\s+/g," ").trim(),t},OSe=(n,e,t,i,r,s,a=1.15,o="left")=>{if(!e||e.trim()==="")return i;n.setFontSize(s);const c=n.splitTextToSize(e,r);return c.forEach((d,u)=>{const f=i+u*s*.3527777778*a;if(o==="center"){const h=n.getTextWidth(d);n.text(d,t-h/2,f)}else if(o==="justify"&&u<c.length-1&&d.trim().split(" ").length>1){const h=d.trim().split(/\s+/);if(h.length>1){const p=h.reduce((m,y)=>m+n.getTextWidth(y),0),w=(r-p)/(h.length-1);let b=t;h.forEach((m,y)=>{n.text(m,b,f),b+=n.getTextWidth(m)+w})}else n.text(d,t,f)}else n.text(d,t,f)}),i+c.length*s*.3527777778*a},j2=async n=>{try{const e=new en({orientation:"portrait",unit:"mm",format:"a4",compress:!0}),t=e.internal.pageSize.getWidth(),i=e.internal.pageSize.getHeight(),r=25,s=t-2*r,a=t/2;let o=r+5;e.setFont("times","bold"),e.setFontSize(20);const c=(n.title||"UNTITLED RESEARCH PAPER").toUpperCase(),d=e.splitTextToSize(c,s-10);d.forEach((q,G)=>{const B=e.getTextWidth(q);e.text(q,a-B/2,o+G*7)}),o+=d.length*7+10,e.setFont("times","normal"),e.setFontSize(12);const u=n.authors||"Anonymous Author",f=e.getTextWidth(u);e.text(u,a-f/2,o),o+=5,e.setFont("times","italic"),e.setFontSize(11);const h=n.affiliation||"Department of Research, Institution Name",p=e.splitTextToSize(h,s-20);if(p.forEach((q,G)=>{const B=e.getTextWidth(q);e.text(q,a-B/2,o+G*5)}),o+=p.length*5+3,!h.match(/,\s*([^,]+)$/)){const q="Nijmegen, Netherlands",G=e.getTextWidth(q);e.text(q,a-G/2,o),o+=5}e.setFont("times","normal"),e.setFontSize(11);const w=n.email||"author@institution.edu",b=e.getTextWidth(w);e.text(w,a-b/2,o),o+=12,e.setLineWidth(.5),e.line(r,o,t-r,o),o+=8;const m=q=>o+q>i-r?(e.addPage(),o=r,!0):!1;m(25),e.setFont("times","bold"),e.setFontSize(10);const y="ABSTRACT";e.text(y,r,o),e.setFont("times","normal");const _=ju(n.abstract)||"Research suggests that speech deterioration indicates an exacerbation in patients with chronic obstructive pulmonary disease (COPD).",x=e.getTextWidth(y),N=r+x,k=s-x,T=e.splitTextToSize(_,k);e.text(T[0],N,o),o+=5;for(let q=1;q<T.length;q++)m(6),e.text(T[q],r,o),o+=5;o+=5,m(12),e.setFont("times","italic"),e.setFontSize(10);const C="Keywords",P=e.getTextWidth(C);e.text(C,r,o);const D=n.keywords||"COPD, lung exacerbation, pulmonary disease";e.text(D,r+P,o),o+=10;const E=(q,G,B,J=!1)=>{if(!B||ju(B).trim()==="")return;m(20),e.setFont("times","bold"),e.setFontSize(11);const W=`${q}. ${G.toUpperCase()}`;e.text(W,r,o),o+=7,e.setFont("times","normal"),e.setFontSize(10);const L=ju(B);if(J&&L.length>0){const z=L.charAt(0).toUpperCase(),X=L.substring(1,12).toUpperCase(),Q=L.substring(12);e.setFont("times","bold"),e.setFontSize(28);const V=e.getTextWidth(z);e.text(z,r,o+6),e.setFont("times","bold"),e.setFontSize(10),e.text(X,r+V+1,o);const Z=V+1+e.getTextWidth(X),_e=s-Z;e.setFont("times","normal");const le=e.splitTextToSize(Q,_e);e.text(le[0],r+Z,o),o+=5;for(let ce=1;ce<le.length;ce++){m(6);const Fe=le[ce];if(ce<le.length-1&&Fe.trim().split(" ").length>1){const Ae=Fe.trim().split(/\s+/),Re=Ae.reduce((je,Ce)=>je+e.getTextWidth(Ce),0),fe=(s-Re)/(Ae.length-1);let Je=r;Ae.forEach((je,Ce)=>{e.text(je,Je,o),Je+=e.getTextWidth(je)+fe})}else e.text(Fe,r,o);o+=5}}else{const z=e.splitTextToSize(L,s);z.forEach((X,Q)=>{if(m(6),Q<z.length-1&&X.trim().split(" ").length>1){const V=X.trim().split(/\s+/),Z=V.reduce((Fe,Ae)=>Fe+e.getTextWidth(Ae),0),le=(s-Z)/(V.length-1);let ce=r;V.forEach((Fe,Ae)=>{e.text(Fe,ce,o),ce+=e.getTextWidth(Fe)+le})}else e.text(X,r,o);o+=5})}o+=6};n.introduction&&ju(n.introduction).trim()&&E("I","INTRODUCTION",n.introduction,!0);let A=2;const I=["II","III","IV","V","VI","VII","VIII","IX","X"];if([{title:"RELATED WORK",content:n.relatedWork},{title:"METHODOLOGY",content:n.methodology},{title:"RESULTS / ANALYSIS",content:n.results},{title:"DISCUSSION",content:n.discussion},{title:"CONCLUSION",content:n.conclusion}].forEach((q,G)=>{q.content&&ju(q.content).trim()&&E(I[G],q.title,q.content,!1)}),n.references&&ju(n.references).trim()&&(m(20),e.setFont("times","bold"),e.setFontSize(11),e.text("REFERENCES",r,o),o+=7,e.setFont("times","normal"),e.setFontSize(9),ju(n.references).split(/\[\d+\]|^\d+\./).filter(B=>B.trim()).forEach((B,J)=>{m(15),e.setFont("times","normal");const W=`[${J+1}]`,L=e.getTextWidth(W);e.text(W,r,o),e.splitTextToSize(B.trim(),s-L-2).forEach((X,Q)=>{Q===0||(m(5),o+=4),e.text(X,r+L+2,o)}),o+=6}),o+=4),n.acknowledgments&&ju(n.acknowledgments).trim()){m(20),e.setFont("times","bold"),e.setFontSize(11),e.text("ACKNOWLEDGMENTS",r,o),o+=7,e.setFont("times","normal"),e.setFontSize(10);const q=ju(n.acknowledgments);o=OSe(e,q,r,o,s,10,1.4,"justify")}const M=`${(n.title||"research-paper").replace(/[^a-z0-9]/gi,"-").toLowerCase()}.pdf`,Y=e.output("blob");return{success:!0,fileName:M,blob:Y}}catch(e){return console.error("Error generating PDF:",e),{success:!1,error:e.message}}};lu.workerSrc=`https://cdnjs.cloudflare.com/ajax/libs/pdf.js/${fG}/pdf.worker.min.js`;const $s={toolbar:[[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],[{size:["small",!1,"large","huge"]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{align:[]}],["blockquote","code-block"],["link","image","video"],["clean"]]},qs=["header","font","size","bold","italic","underline","strike","color","background","script","list","bullet","indent","align","blockquote","code-block","link","image","video"],FSe=()=>{const{isAuthenticated:n,user:e}=hs(),t=or(),[i,r]=ie.useState("requirements"),[s,a]=ie.useState([]),[o,c]=ie.useState([]),[d,u]=ie.useState(!1),[f,h]=ie.useState(!1),[p,v]=ie.useState(null),[w,b]=ie.useState(!1),[m,y]=ie.useState(null),[_,x]=ie.useState({title:"",authors:"",affiliation:"",email:"",abstract:"",keywords:"",introduction:"",relatedWork:"",methodology:"",results:"",discussion:"",conclusion:"",references:"",acknowledgments:""});ie.useState([]);const[N,k]=ie.useState(null),[T,C]=ie.useState(!1),[P,D]=ie.useState(null),[E,A]=ie.useState(null),[I,R]=ie.useState({field:"",search:""}),[M,Y]=ie.useState({title:"",authors:"",affiliation:"",email:"",abstract:"",keywords:"",introduction:"",relatedWork:"",methodology:"",results:"",discussion:"",conclusion:"",references:"",acknowledgments:""}),[q,G]=ie.useState([]),[B,J]=ie.useState(null),[W,L]=ie.useState(!1),[z,X]=ie.useState({title:"",abstract:"",authorName:"",authorEmail:"",affiliation:"",phone:"",file:null});ie.useEffect(()=>{Q()},[I]),ie.useEffect(()=>{n&&(V(),fe())},[n,i]);const Q=async()=>{try{u(!0),console.log(" Fetching requirements with filters:",I);const ae=await Cwe(I);console.log(" Requirements response:",ae),a(ae.data.requirements||[])}catch(ae){console.error(" Error fetching requirements:",ae),console.error(" Error response:",ae.response),lt.error("Failed to fetch requirements")}finally{u(!1)}},V=async()=>{var ae,me;try{console.log(" Fetching my manuscripts...");const ge=await Pwe();console.log(" Manuscripts response:",ge),c(ge.data.manuscripts||[]),console.log(" Total manuscripts:",((ae=ge.data.manuscripts)==null?void 0:ae.length)||0)}catch(ge){console.error(" Failed to fetch manuscripts:",ge),console.error(" Error response:",ge.response),((me=ge.response)==null?void 0:me.status)!==401&&lt.error("Failed to fetch your submissions")}},Z=async(ae,me)=>{var ge,Oe,Ye,Ke;if(window.confirm(`Are you sure you want to remove "${me}"? This action cannot be undone.`))try{console.log(`
===  DELETING MANUSCRIPT ===`),console.log("Manuscript ID:",ae),console.log("Auth Token:",localStorage.getItem("authToken")?"Present":"Missing"),console.log("Current User:",e);const mt=await Iwe(ae);console.log(" Delete response:",mt),lt.success(" Manuscript removed successfully!"),c(qe=>qe.filter(it=>it._id!==ae))}catch(mt){console.error(" Error deleting manuscript:",mt),console.error("Error response:",(ge=mt.response)==null?void 0:ge.data),console.error("Error status:",(Oe=mt.response)==null?void 0:Oe.status);const qe=((Ke=(Ye=mt.response)==null?void 0:Ye.data)==null?void 0:Ke.message)||mt.message||"Failed to remove manuscript";lt.error(qe)}},_e=async ae=>{var me,ge,Oe;if(ae.preventDefault(),!n){lt.error("Please login to submit manuscript"),t("/login");return}if(!z.file){lt.error("Please upload a manuscript file");return}if(!p){lt.error("No requirement selected. Please try again or contact support."),console.error(" No selected requirement!");return}try{b(!0),console.log(`
===  MANUSCRIPT SUBMISSION START ===`),console.log(" Auth Token:",localStorage.getItem("authToken")?"Present":"Missing"),console.log(" Current User:",e),console.log(" Selected Requirement:",{id:p._id,title:p.title,topic:p.topic}),console.log(" Form data:",{title:z.title,abstract:((me=z.abstract)==null?void 0:me.substring(0,50))+"...",authorName:z.authorName,authorEmail:z.authorEmail,fileSize:z.file.size,fileName:z.file.name});const Ye=new FormData;Ye.append("requirementId",p._id),Ye.append("title",z.title),Ye.append("abstract",z.abstract),Ye.append("authorName",z.authorName),Ye.append("authorEmail",z.authorEmail),Ye.append("affiliation",z.affiliation||""),Ye.append("phone",z.phone||""),Ye.append("file",z.file);const Ke=z.sourceType||m||"manuscript";Ye.append("type",Ke),console.log(" FormData created, sending to API..."),console.log(" CRITICAL: Submission Type =",Ke,"(will appear in Admin",Ke==="research-paper"?"Research Papers":"Manuscripts","section)"),console.log(" All FormData fields:");for(let[it,ft]of Ye.entries())console.log(`   - ${it}:`,ft instanceof File?`File(${ft.name})`:ft);const mt=await Dwe(Ye);console.log(" API Response:",mt),console.log(`===  SUBMISSION SUCCESS ===
`);const qe=Ke==="research-paper"?"Research Paper":"Manuscript";lt.success(` ${qe} submitted successfully! Check Admin  Submission Review  ${Ke==="research-paper"?"Research Papers":"Manuscripts"} tab.`),h(!1),le(),v(null),await V(),r("my-submissions")}catch(Ye){console.error(" Submission error:",Ye),console.error("Error response:",Ye.response),console.log(`===  MANUSCRIPT SUBMISSION FAILED ===
`);const Ke=((Oe=(ge=Ye.response)==null?void 0:ge.data)==null?void 0:Oe.message)||Ye.message||"Failed to submit manuscript";lt.error(Ke)}finally{b(!1)}},le=()=>{X({title:"",abstract:"",authorName:"",authorEmail:"",affiliation:"",phone:"",file:null})},ce=ae=>{const me=(ae||"").replace(/\r/g,""),ge=me.match(/[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}/i),Oe=me.match(/Abstract[\s:]*\n([\s\S]{50,4000}?)(?:\n\n|Keywords?|Index\s+Terms|Introduction|1\.\s+Introduction|\n[A-Z\s]{10,50}\n)/i);let Ye="";Oe?Ye=me.slice(0,Oe.index).trim().split(`
`).map(tt=>tt.trim()).filter(Boolean).filter(tt=>tt.length>=10&&tt.length<=200).sort((tt,pt)=>pt.length-tt.length)[0]||"":Ye=me.split(`
`).map(We=>We.trim()).filter(Boolean).find(We=>We.length>=10&&We.length<=200)||"",Ye=Ye.replace(/^Title[:\-\s]*/i,"").trim();let Ke="";const mt=[/(?:Author[s]?|By)[:\s]+([^\n]{5,80})/i,/(?:^|\n)([A-Z][a-z]+\s+[A-Z][a-z]+(?:\s+[A-Z][a-z]+)?)\s*\n.*?(?:University|Institute|College|Department)/i];for(const ft of mt){const We=me.match(ft);if(We&&We[1]){Ke=We[1].trim().replace(/[,;]+$/,"");break}}if(!Ke&&ge){const ft=me.indexOf(ge[0]),pt=me.slice(Math.max(0,ft-300),ft).split(`
`).map(Ct=>Ct.trim()).filter(Boolean).reverse().find(Ct=>/^[A-Z][a-z]+(\s+[A-Z][a-z]+){1,2}$/.test(Ct));pt&&(Ke=pt)}const qe=[/Affiliation[:\s]+([^\n]{5,150})/i,/((?:University|Institute|College|Department)[^\n]{5,120})/i];let it="";for(const ft of qe){const We=me.match(ft);if(We&&We[1]){it=We[1].trim().replace(/^Affiliation[:\-\s]*/i,"");break}}return console.log(" Extracted fields:",{title:Ye.substring(0,100),abstract:Oe?Oe[1].substring(0,100)+"...":"Not found",authorName:Ke,email:ge?ge[0]:"Not found",affiliation:it.substring(0,100)}),{title:Ye||"",abstract:Oe?Oe[1].trim():"",authorName:Ke||"",email:ge?ge[0]:"",affiliation:it||""}},Fe=async ae=>{const me=await cG({data:ae}).promise;let ge="";const Oe=Math.min(me.numPages,5);for(let Ye=1;Ye<=Oe;Ye++){const mt=await(await me.getPage(Ye)).getTextContent();ge+=mt.items.map(qe=>qe.str).join(`
`)+`
`}return ce(ge)},Ae=async ae=>{const{value:me}=await Twe.extractRawText({arrayBuffer:ae});return ce(me||"")},Re=async ae=>{const me=await ae.arrayBuffer();if(ae.name.toLowerCase().endsWith(".pdf"))return Fe(me);if(ae.name.toLowerCase().endsWith(".docx"))return Ae(me);const ge=new TextDecoder().decode(new Uint8Array(me));return ce(ge)},Ve=async ae=>{const me=ae.target.files[0];if(!me)return;console.log(" File selected:",me.name,me.type,me.size);const ge=[".pdf",".doc",".docx"],Oe=me.name.toLowerCase().substring(me.name.lastIndexOf("."));if(!ge.includes(Oe)){lt.error("Please upload a PDF or DOCX file");return}if(me.size>10*1024*1024){lt.error("File size must be less than 10MB");return}X(Ke=>({...Ke,file:me}));const Ye=lt.loading("Analyzing manuscript and extracting details...");try{console.log(" Starting manuscript parsing...");const Ke=await Re(me);if(console.log(" Extraction complete:",Ke),!(Ke.title||Ke.abstract||Ke.authorName||Ke.email)){lt.error("Could not extract information from the file. Please fill the form manually.",{id:Ye});return}X(it=>({...it,file:me,title:Ke.title||it.title,abstract:Ke.abstract||it.abstract,authorName:Ke.authorName||it.authorName,authorEmail:Ke.email||it.authorEmail,affiliation:Ke.affiliation||it.affiliation}));const qe=[];Ke.title&&qe.push("Title"),Ke.abstract&&qe.push("Abstract"),Ke.authorName&&qe.push("Author"),Ke.email&&qe.push("Email"),Ke.affiliation&&qe.push("Affiliation"),lt.success(`Auto-filled: ${qe.join(", ")}. Please review and edit if needed.`,{id:Ye,duration:5e3})}catch(Ke){console.error(" Parse failed:",Ke),lt.error(`Failed to parse manuscript: ${Ke.message}. Please fill manually.`,{id:Ye})}},fe=async()=>{var ae,me;try{console.log(" Fetching my research papers...");const ge=await Rwe();console.log(" Research papers response:",ge),G(ge.data.papers||[]),console.log(" Total research papers:",((ae=ge.data.papers)==null?void 0:ae.length)||0)}catch(ge){console.error(" Failed to fetch research papers:",ge),console.error("Error response:",ge.response),((me=ge.response)==null?void 0:me.status)!==401&&lt.error("Failed to fetch your research papers")}},Je=async()=>{var ae,me;if(!M.title||!M.authors||!M.abstract){lt.error("Please fill in required fields (Title, Authors, Abstract)");return}try{L(!0),console.log(" Saving research paper..."),console.log("Paper content:",M),console.log("Editing paper ID:",B),console.log("Document type:",m);const ge={...M,type:m==="research-paper"?"research-paper":"manuscript"};if(B){const Oe=await RM(B,ge);console.log(" Update response:",Oe),lt.success(" Research paper updated successfully!"),J(null)}else{const Oe=await IM(ge);console.log(" Create response:",Oe),lt.success(" Research paper saved successfully!")}await fe(),r("my-research")}catch(ge){console.error(" Error saving research paper:",ge),console.error("Error response:",ge.response);const Oe=((me=(ae=ge.response)==null?void 0:ae.data)==null?void 0:me.message)||ge.message||"Failed to save research paper";lt.error(Oe)}finally{L(!1)}},je=ae=>{Y({title:ae.title||"",authors:ae.authors||"",affiliation:ae.affiliation||"",email:ae.email||"",abstract:ae.abstract||"",keywords:ae.keywords||"",introduction:ae.introduction||"",relatedWork:ae.relatedWork||"",methodology:ae.methodology||"",results:ae.results||"",discussion:ae.discussion||"",conclusion:ae.conclusion||"",references:ae.references||"",acknowledgments:ae.acknowledgments||""}),J(ae._id),y("research-paper"),r("write-paper"),lt.info(" Editing paper...")},Ce=async(ae,me)=>{var ge,Oe;if(window.confirm(`Are you sure you want to delete "${me}"? This action cannot be undone.`))try{await LM(ae),lt.success(" Research paper deleted successfully!"),G(Ye=>Ye.filter(Ke=>Ke._id!==ae))}catch(Ye){console.error("Error deleting research paper:",Ye),lt.error(((Oe=(ge=Ye.response)==null?void 0:ge.data)==null?void 0:Oe.message)||"Failed to delete research paper")}},$=()=>{Y({title:"",authors:"",affiliation:"",email:"",abstract:"",keywords:"",introduction:"",relatedWork:"",methodology:"",results:"",discussion:"",conclusion:"",references:"",acknowledgments:""}),J(null)},ke=()=>{x({title:"",authors:"",affiliation:"",email:"",abstract:"",keywords:"",introduction:"",relatedWork:"",methodology:"",results:"",discussion:"",conclusion:"",references:"",acknowledgments:""}),k(null)},Se=async()=>{var ae,me;if(!_.title.trim()){lt.error("Please enter a title");return}if(!_.authors.trim()){lt.error("Please enter author name(s)");return}try{C(!0);const ge={..._,type:"manuscript"};N?(await RM(N,ge),lt.success(" Manuscript updated successfully!")):(await IM(ge),lt.success(" Manuscript saved successfully!")),await fe(),k(null)}catch(ge){console.error("Error saving manuscript:",ge),lt.error(((me=(ae=ge.response)==null?void 0:ae.data)==null?void 0:me.message)||"Failed to save manuscript")}finally{C(!1)}},pe=ae=>{x({title:ae.title||"",authors:ae.authors||"",affiliation:ae.affiliation||"",email:ae.email||"",abstract:ae.abstract||"",keywords:ae.keywords||"",introduction:ae.introduction||"",relatedWork:ae.relatedWork||"",methodology:ae.methodology||"",results:ae.results||"",discussion:ae.discussion||"",conclusion:ae.conclusion||"",references:ae.references||"",acknowledgments:ae.acknowledgments||""}),k(ae._id),y("manuscript"),r("write-paper"),lt.info(" Manuscript loaded for editing")},U=async ae=>{var me,ge;if(window.confirm("Are you sure you want to delete this manuscript? This action cannot be undone."))try{await LM(ae),lt.success(" Manuscript deleted successfully!"),await fe(),N===ae&&(k(null),ke())}catch(Oe){console.error("Error deleting manuscript:",Oe),lt.error(((ge=(me=Oe.response)==null?void 0:me.data)==null?void 0:ge.message)||"Failed to delete manuscript")}},H=async ae=>{var Ye,Ke;if(!n){lt.error("Please login to submit research paper"),t("/login");return}v(ae);const me=m==="manuscript",ge=me?_:M;let Oe=null;if(ge.title.trim())try{const mt=me?"Preparing manuscript...":"Preparing research paper...";lt.loading(mt,{id:"prepare-paper"});const qe=await j2(ge);if(qe.success){const it=`${ge.title.replace(/[^a-z0-9]/gi,"_")}_${me?"manuscript":"research_paper"}.pdf`;Oe=new File([qe.blob],it,{type:"application/pdf"});const ft=me?"Manuscript prepared successfully!":"Research paper prepared successfully!";lt.success(ft,{id:"prepare-paper"})}else{const it=me?"Failed to prepare manuscript PDF":"Failed to prepare research paper PDF";lt.error(it,{id:"prepare-paper"})}}catch(mt){console.error("Error generating PDF:",mt);const qe=me?"Error preparing manuscript":"Error preparing research paper";lt.error(qe,{id:"prepare-paper"})}X({...z,title:ge.title||"",abstract:ge.abstract||"",authorName:ge.authors||`${((Ye=e==null?void 0:e.profile)==null?void 0:Ye.firstName)||""} ${((Ke=e==null?void 0:e.profile)==null?void 0:Ke.lastName)||""}`.trim(),authorEmail:ge.email||(e==null?void 0:e.email)||"",affiliation:ge.affiliation||"",file:Oe,sourceType:m||"research-paper"}),h(!0)},te=async ae=>{var me,ge,Oe,Ye;if(!n){lt.error("Please login to submit manuscript"),t("/login");return}try{lt.loading("Preparing manuscript for submission...",{id:"prepare-manuscript"});let Ke=s;if((!Ke||Ke.length===0)&&(console.log("Fetching requirements..."),await Q(),await new Promise(We=>setTimeout(We,500)),Ke=s),!Ke||Ke.length===0){lt.error("No manuscript requirements available. Please contact admin.",{id:"prepare-manuscript"});return}const mt=Ke[0];console.log("Selected requirement:",mt),v(mt);let qe=null;try{const We=await j2(ae);if(We.success){const tt=`${ae.title.replace(/[^a-z0-9]/gi,"_")}_manuscript.pdf`;qe=new File([We.blob],tt,{type:"application/pdf"}),console.log("PDF generated successfully:",tt)}}catch(We){console.error("Error generating PDF:",We),lt.error("Failed to generate PDF. Please upload manually.",{id:"prepare-manuscript"})}const it=ae.type||"manuscript";console.log(" Document type from saved paper:",it);const ft={title:ae.title||"",abstract:ae.abstract||"",authorName:ae.authors||`${((me=e==null?void 0:e.profile)==null?void 0:me.firstName)||""} ${((ge=e==null?void 0:e.profile)==null?void 0:ge.lastName)||""}`.trim()||(e==null?void 0:e.displayName)||"",authorEmail:(e==null?void 0:e.email)||"",affiliation:ae.affiliation||"",phone:((Oe=e==null?void 0:e.profile)==null?void 0:Oe.phone)||((Ye=e==null?void 0:e.profile)==null?void 0:Ye.contactNo)||"",file:qe,sourceType:it};console.log("Form data prepared:",ft),X(ft),lt.success("Manuscript loaded! Review and submit.",{id:"prepare-manuscript"}),h(!0)}catch(Ke){console.error("Error preparing manuscript:",Ke),lt.error("Failed to prepare manuscript for submission",{id:"prepare-manuscript"})}},he=ae=>ae?new Date(ae).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",ve=ae=>({pending:{class:"badge-warning",text:"Pending Review"},"under-review":{class:"badge-info",text:"Under Review"},accepted:{class:"badge-success",text:"Accepted"},rejected:{class:"badge-danger",text:"Rejected"},"update-changes":{class:"badge-warning",text:"Update Changes"}})[ae]||{class:"badge-secondary",text:ae};return g("div",{className:"publishing-page",children:[g("div",{className:"publishing-hero",children:[g("div",{className:"hero-badge",children:[l("span",{children:""}),l("span",{children:"Publishing House"})]}),g("h1",{className:"hero-title",children:["Submit Your ",l("span",{className:"text-gradient",children:"Research"})]}),l("p",{className:"hero-description",children:"Share your research with a global audience of built environment professionals. Get published in peer-reviewed academic journals and contribute to the field."}),g("div",{className:"publishing-stats",children:[g("div",{className:"stat-card",children:[l("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),g("div",{children:[l("strong",{children:s.length}),l("span",{children:"Active Requirements"})]})]}),g("div",{className:"stat-card",children:[l("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),g("div",{children:[l("strong",{children:o.length}),l("span",{children:"My Submissions"})]})]}),g("div",{className:"stat-card",children:[l("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),g("div",{children:[l("strong",{children:q.length}),l("span",{children:"My Research Papers"})]})]})]})]}),l("div",{className:"submission-cta",children:g("div",{className:"cta-content",children:[l("div",{className:"cta-icon",children:l("svg",{width:"32",height:"32",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),g("div",{className:"cta-text",children:[l("h3",{children:"Ready to Submit Your Research?"}),l("p",{children:"Browse available requirements and submit your manuscript for peer review"})]}),g("button",{className:"btn-primary",onClick:()=>{var ae;s.length>0?(ae=document.getElementById("requirements-section"))==null||ae.scrollIntoView({behavior:"smooth"}):lt.info("No active requirements available")},children:[l("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13l-3 3m0 0l-3-3m3 3V8m0 13a9 9 0 110-18 9 9 0 010 18z"})}),"View Requirements"]})]})}),n&&g("div",{className:"publishing-tabs",children:[g("button",{className:`tab-btn ${i==="requirements"?"active":""}`,onClick:()=>r("requirements"),children:[l("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Available Requirements"]}),g("button",{className:`tab-btn ${i==="write-paper"?"active":""}`,onClick:()=>r("write-paper"),children:[l("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Write Research Paper and Manuscript"]}),g("button",{className:`tab-btn ${i==="my-research"?"active":""}`,onClick:()=>r("my-research"),children:[l("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),"My Research and Manuscripts",q.length>0&&l("span",{className:"tab-badge",children:q.length})]}),g("button",{className:`tab-btn ${i==="my-submissions"?"active":""}`,onClick:()=>r("my-submissions"),children:[l("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"My Submissions",o.length>0&&l("span",{className:"tab-badge",children:o.length})]})]}),l("div",{className:"search-filter-section",id:"requirements-section",children:g("div",{className:"search-row",children:[g("div",{className:"search-box",children:[l("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),l("input",{type:"text",placeholder:"Search publications, authors, keywords...",className:"search-input-modern",value:I.search,onChange:ae=>R({...I,search:ae.target.value})})]}),g("select",{className:"sort-select",value:I.field,onChange:ae=>R({...I,field:ae.target.value}),children:[l("option",{value:"",children:"All Fields"}),l("option",{value:"Urban Planning",children:"Urban Planning"}),l("option",{value:"Architecture",children:"Architecture"}),l("option",{value:"Environmental Planning",children:"Environmental Planning"}),l("option",{value:"Transportation Planning",children:"Transportation Planning"}),l("option",{value:"Regional Planning",children:"Regional Planning"}),l("option",{value:"Housing Policy",children:"Housing Policy"})]}),(I.field||I.search)&&g("button",{className:"filter-toggle",onClick:()=>R({field:"",search:""}),children:[l("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Clear Filters"]})]})}),d?g("div",{className:"loading-container",children:[l("div",{className:"loader"}),l("p",{children:"Loading..."})]}):l(Ft,{children:i==="requirements"?g("div",{className:"requirements-section",children:[l("h2",{className:"section-title",children:"Available Requirements"}),g("p",{className:"section-count",children:[s.length," requirement",s.length!==1?"s":""]}),s.length===0?g("div",{className:"empty-state",children:[l("div",{className:"empty-icon",children:""}),l("h3",{children:"No Requirements Found"}),l("p",{children:"There are currently no publishing requirements available"})]}):l("div",{className:"requirements-grid",children:s.map(ae=>g("div",{className:"requirement-card",children:[g("div",{className:"card-header",children:[l("span",{className:"card-field-badge",children:ae.field}),g("span",{className:"card-deadline",children:[" ",he(ae.submissionDeadline)]})]}),l("h3",{className:"card-title",children:ae.title}),g("p",{className:"card-topic",children:[l("strong",{children:"Topic:"})," ",ae.topic]}),l("p",{className:"card-description",children:ae.description}),ae.guidelines&&g("div",{className:"card-guidelines",children:[l("h4",{children:"Guidelines:"}),g("ul",{children:[ae.guidelines.format&&g("li",{children:[l("strong",{children:"Format:"})," ",ae.guidelines.format]}),ae.guidelines.wordLimit&&g("li",{children:[l("strong",{children:"Word Limit:"})," ",ae.guidelines.wordLimit]}),ae.guidelines.citationStyle&&g("li",{children:[l("strong",{children:"Citation:"})," ",ae.guidelines.citationStyle]})]})]}),g("div",{className:"card-footer",children:[l("div",{className:"card-meta",children:g("span",{children:[" ",ae.manuscriptsCount||0," submissions"]})}),l("button",{className:"btn-submit-manuscript",onClick:()=>{y("manuscript"),r("write-paper"),v(ae),lt.info(" Start writing your manuscript")},children:"Write Manuscript"})]})]},ae._id))})]}):i==="write-paper"?m?m==="research-paper"?g("div",{className:"write-paper-section",children:[g("div",{className:"paper-header-actions",children:[l("button",{className:"back-btn",onClick:()=>{y(null),J(null)},children:" Back to Selection"}),B&&g("div",{className:"editing-indicator",children:[l("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),l("span",{children:"Editing Research Paper"})]})]}),g("div",{className:"paper-editor-container",children:[g("div",{className:"paper-guidelines",children:[l("h2",{className:"section-title",children:" ICSET 2026 Conference Paper Format"}),l("p",{className:"guidelines-intro",children:"Follow these official ICSET 2026 guidelines for paper formatting. All submissions must adhere to these specifications."}),g("div",{className:"guideline-section",children:[l("h3",{children:" Document Setup"}),g("ul",{children:[g("li",{children:[l("strong",{children:"Paper Size:"})," A4 (210 mm  297 mm)"]}),g("li",{children:[l("strong",{children:"Layout:"})," Two-column format (mandatory for final paper)"]}),g("li",{children:[l("strong",{children:"Column Spacing:"})," ~0.5 cm"]}),g("li",{children:[l("strong",{children:"Margins:"}),g("ul",{children:[l("li",{children:"Top: 1.9 cm"}),l("li",{children:"Bottom: 4.3 cm"}),l("li",{children:"Left: 1.3 cm"}),l("li",{children:"Right: 1.3 cm"})]})]}),g("li",{children:[l("strong",{children:"Font (Body Text):"})," Times New Roman, 10-point, justified"]}),g("li",{children:[l("strong",{children:"Page Limit:"})," 6 pages maximum (including figures, tables, references). Up to 8 pages only if explicitly allowed"]})]})]}),g("div",{className:"guideline-section",children:[l("h3",{children:" Title & Author Formatting"}),g("div",{className:"structure-list",children:[g("div",{className:"structure-item",children:[l("strong",{children:"1. Title"}),g("ul",{children:[l("li",{children:"Font: Times New Roman, 14 pt, Bold"}),l("li",{children:"Alignment: Centered"}),l("li",{children:"Capitalization: Title Case (Not ALL CAPS)"})]})]}),g("div",{className:"structure-item",children:[l("strong",{children:"2. Author(s) & Affiliation(s)"}),g("ul",{children:[l("li",{children:"Author names: 11 pt, centered"}),l("li",{children:"Affiliations: 10 pt, italic"}),l("li",{children:"Include: Department, Institution/University, City, Country, Email address(es)"})]})]})]})]}),g("div",{className:"guideline-section",children:[l("h3",{children:" Paper Structure (ICSET 2026)"}),g("div",{className:"structure-list",children:[g("div",{className:"structure-item",children:[l("strong",{children:"3. Abstract (150250 words)"}),g("ul",{children:[l("li",{children:"Single paragraph"}),l("li",{children:"Font size: 9 pt, justified"}),l("li",{children:"No references, equations, or abbreviations"}),g("li",{children:["Heading format: ",l("strong",{children:"Abstract"})," This paper presents"]})]})]}),g("div",{className:"structure-item",children:[l("strong",{children:"4. Keywords / Index Terms"}),g("ul",{children:[l("li",{children:"35 keywords"}),l("li",{children:"Font size: 9 pt, italic"}),g("li",{children:["Format: ",l("em",{children:"Keywords"})," Sentiment Analysis, Deep Learning, CNN, LSTM"]})]})]}),g("div",{className:"structure-item",children:[l("strong",{children:"5. I. INTRODUCTION"}),g("ul",{children:[l("li",{children:"Background & motivation"}),l("li",{children:"Problem statement"}),l("li",{children:"Objectives and contributions"}),l("li",{children:"Organization of the paper"})]})]}),g("div",{className:"structure-item",children:[l("strong",{children:"6. II. RELATED WORK"}),g("ul",{children:[l("li",{children:"Review of existing literature"}),l("li",{children:"Comparison with previous approaches"}),l("li",{children:"Identification of research gaps"})]})]}),g("div",{className:"structure-item",children:[l("strong",{children:"7. III. METHODOLOGY"}),g("ul",{children:[l("li",{children:"Dataset description"}),l("li",{children:"Preprocessing techniques"}),l("li",{children:"System architecture / algorithm"}),l("li",{children:"Implementation details"})]})]}),g("div",{className:"structure-item",children:[l("strong",{children:"8. IV. RESULTS AND ANALYSIS"}),g("ul",{children:[l("li",{children:"Experimental setup"}),l("li",{children:"Evaluation metrics"}),l("li",{children:"Tables, graphs, and figures"}),l("li",{children:"Performance comparison"})]})]}),g("div",{className:"structure-item",children:[l("strong",{children:"9. V. DISCUSSION"}),g("ul",{children:[l("li",{children:"Interpretation of results"}),l("li",{children:"Strengths and limitations"}),l("li",{children:"Comparison with existing methods"})]})]}),g("div",{className:"structure-item",children:[l("strong",{children:"10. VI. CONCLUSION AND FUTURE WORK"}),g("ul",{children:[l("li",{children:"Summary of findings"}),l("li",{children:"Key contributions"}),l("li",{children:"Future research directions"})]})]}),g("div",{className:"structure-item",children:[l("strong",{children:"11. REFERENCES"}),g("ul",{children:[l("li",{children:"IEEE citation style (numeric)"}),l("li",{children:"Font size: 9 pt"}),l("li",{children:"Numbered in order of appearance"}),g("li",{children:['Example: [1] J. Smith, "Deep learning for text classification," ',l("em",{children:"IEEE Trans."}),", vol. 28, no. 3, pp. 456468, 2021."]})]})]}),g("div",{className:"structure-item",children:[l("strong",{children:"12. ACKNOWLEDGMENTS (Optional)"}),g("ul",{children:[l("li",{children:"Funding sources"}),l("li",{children:"Institutional or individual support"}),l("li",{children:"Not numbered as a section"})]})]})]})]}),g("div",{className:"guideline-section",children:[l("h3",{children:" Figures & Tables (ICSET Rules)"}),g("ul",{children:[g("li",{children:[l("strong",{children:"Alignment:"})," Center aligned"]}),g("li",{children:[l("strong",{children:"Quality:"})," High resolution & readable"]}),g("li",{children:[l("strong",{children:"Captions:"})," Figure captions ",l("strong",{children:"below"})," figures, table captions ",l("strong",{children:"above"})," tables"]}),g("li",{children:[l("strong",{children:"Numbering:"})," Fig. 1, Fig. 2 | Table I, Table II"]}),g("li",{children:[l("strong",{children:"References:"})," All figures/tables must be referenced in text"]}),g("li",{children:[l("strong",{children:"Font Size:"})," Minimum 8 pt inside figures"]})]})]}),g("div",{className:"guideline-section",children:[l("h3",{children:" References & Citations"}),g("ul",{children:[g("li",{children:[l("strong",{children:"Style:"})," IEEE (numeric)"]}),g("li",{children:[l("strong",{children:"In-text citation:"})," [1], [2], [3]"]}),g("li",{children:[l("strong",{children:"Order:"})," First appearance in text"]}),g("li",{children:[l("strong",{children:"Consistency:"})," Consistent formatting throughout"]}),g("li",{children:[l("strong",{children:"Completeness:"})," Every citation must appear in reference list"]})]})]}),g("div",{className:"guideline-section",children:[l("h3",{children:" Length & Submission (2026)"}),g("ul",{children:[g("li",{children:[l("strong",{children:"Page Limit:"})," 6 pages (strict) - includes title, abstract, figures, tables, references"]}),g("li",{children:[l("strong",{children:"File Format:"})," PDF (mandatory)"]}),g("li",{children:[l("strong",{children:"File Size:"})," Usually < 10 MB"]}),g("li",{children:[l("strong",{children:"Submission:"})," ICSET online portal or official email"]}),g("li",{children:[l("strong",{children:"Plagiarism Limit:"})," Typically < 15%"]})]})]})]}),g("div",{className:"paper-editor",children:[l("h2",{className:"section-title",children:"Write Your Research Paper"}),g("div",{className:"editor-form",children:[g("div",{className:"form-group",children:[l("label",{htmlFor:"paper-title",children:"Title *"}),l("input",{id:"paper-title",type:"text",className:"form-input",placeholder:"Enter your paper title (ALL CAPS)",value:M.title,onChange:ae=>Y({...M,title:ae.target.value})})]}),g("div",{className:"form-row",children:[g("div",{className:"form-group",children:[l("label",{htmlFor:"paper-authors",children:"Author Name(s) *"}),l("input",{id:"paper-authors",type:"text",className:"form-input",placeholder:"e.g., John Doe, Jane Smith",value:M.authors,onChange:ae=>Y({...M,authors:ae.target.value})})]}),g("div",{className:"form-group",children:[l("label",{htmlFor:"paper-affiliation",children:"Affiliation *"}),l("input",{id:"paper-affiliation",type:"text",className:"form-input",placeholder:"University/Organization, City, Country",value:M.affiliation,onChange:ae=>Y({...M,affiliation:ae.target.value})})]})]}),g("div",{className:"form-group",children:[l("label",{htmlFor:"paper-email",children:"Email Address(es) *"}),l("input",{id:"paper-email",type:"email",className:"form-input",placeholder:"author@institution.edu",value:M.email,onChange:ae=>Y({...M,email:ae.target.value})})]}),g("div",{className:"form-group",children:[l("label",{htmlFor:"paper-abstract",children:"Abstract (150-250 words) *"}),l(bs,{theme:"snow",value:M.abstract,onChange:ae=>Y({...M,abstract:ae}),modules:$s,formats:qs,placeholder:"Abstract Begin your abstract here. Provide a self-contained summary of your work..."}),g("span",{className:"char-count",children:[M.abstract.replace(/<[^>]*>/g,"").split(" ").filter(ae=>ae).length," words"]})]}),g("div",{className:"form-group",children:[l("label",{htmlFor:"paper-keywords",children:"Index Terms/Keywords (3-4 key phrases) *"}),l("input",{id:"paper-keywords",type:"text",className:"form-input",placeholder:"Index Terms keyword1, keyword2, keyword3",value:M.keywords,onChange:ae=>Y({...M,keywords:ae.target.value})})]}),g("div",{className:"form-group",children:[l("label",{htmlFor:"paper-introduction",children:"1. INTRODUCTION *"}),l(bs,{theme:"snow",value:M.introduction,onChange:ae=>Y({...M,introduction:ae}),modules:$s,formats:qs,placeholder:"Introduce the problem, motivation, objectives, and paper organization..."})]}),g("div",{className:"form-group",children:[l("label",{htmlFor:"paper-related-work",children:"2. RELATED WORK *"}),l(bs,{theme:"snow",value:M.relatedWork,onChange:ae=>Y({...M,relatedWork:ae}),modules:$s,formats:qs,placeholder:"Review existing literature, compare approaches, identify gaps..."})]}),g("div",{className:"form-group",children:[l("label",{htmlFor:"paper-methodology",children:"3. METHODOLOGY *"}),l(bs,{theme:"snow",value:M.methodology,onChange:ae=>Y({...M,methodology:ae}),modules:$s,formats:qs,placeholder:"Describe your approach, system architecture, algorithms, implementation..."})]}),g("div",{className:"form-group",children:[l("label",{htmlFor:"paper-results",children:"4. RESULTS / ANALYSIS *"}),l(bs,{theme:"snow",value:M.results,onChange:ae=>Y({...M,results:ae}),modules:$s,formats:qs,placeholder:"Present experimental setup, quantitative/qualitative results, tables, graphs..."})]}),g("div",{className:"form-group",children:[l("label",{htmlFor:"paper-discussion",children:"5. DISCUSSION *"}),l(bs,{theme:"snow",value:M.discussion,onChange:ae=>Y({...M,discussion:ae}),modules:$s,formats:qs,placeholder:"Interpret results, compare with related work, discuss limitations..."})]}),g("div",{className:"form-group",children:[l("label",{htmlFor:"paper-conclusion",children:"6. CONCLUSION *"}),l(bs,{theme:"snow",value:M.conclusion,onChange:ae=>Y({...M,conclusion:ae}),modules:$s,formats:qs,placeholder:"Summary of key findings, main contributions, future research directions..."})]}),g("div",{className:"form-group",children:[l("label",{htmlFor:"paper-references",children:"REFERENCES *"}),l(bs,{theme:"snow",value:M.references,onChange:ae=>Y({...M,references:ae}),modules:$s,formats:qs,placeholder:'[1] Author, "Title," Journal, vol. X, no. Y, pp. Z-ZZ, Month Year.'})]}),g("div",{className:"form-group",children:[l("label",{htmlFor:"paper-acknowledgments",children:"ACKNOWLEDGMENTS (Optional)"}),l(bs,{theme:"snow",value:M.acknowledgments,onChange:ae=>Y({...M,acknowledgments:ae}),modules:$s,formats:qs,placeholder:"Acknowledge funding sources, collaborators, etc..."})]}),g("div",{className:"paper-actions",children:[l("button",{type:"button",className:"btn-secondary",onClick:()=>{window.confirm("Are you sure you want to clear all content?")&&($(),lt.success("Content cleared"))},children:"Clear All"}),l("button",{type:"button",className:"btn-primary",onClick:Je,disabled:W,children:W?g(Ft,{children:[g("svg",{className:"animate-spin",width:"20",height:"20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),B?"Updating...":"Saving..."]}):g(Ft,{children:[l("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),B?"Update Paper":"Save Paper"]})}),g("button",{type:"button",className:"btn-secondary",onClick:()=>{const ae=`
${M.title.toUpperCase()}

${M.authors}
${M.affiliation}
${M.email}

${"=".repeat(80)}

ABSTRACT

${M.abstract}

${"=".repeat(80)}

INDEX TERMS

${M.keywords}

${"=".repeat(80)}

I. INTRODUCTION

${M.introduction}

${"=".repeat(80)}

II. METHODOLOGY

${M.methodology}

${"=".repeat(80)}

III. RESULTS

${M.results}

${"=".repeat(80)}

IV. DISCUSSION

${M.discussion}

${"=".repeat(80)}

V. CONCLUSION

${M.conclusion}

${"=".repeat(80)}

REFERENCES

${M.references}

${"=".repeat(80)}

ACKNOWLEDGMENTS

${M.acknowledgments}
                          `.trim(),me=new Blob([ae],{type:"text/plain"}),ge=window.URL.createObjectURL(me),Oe=document.createElement("a");Oe.href=ge,Oe.download=`research-paper-${Date.now()}.txt`,Oe.click(),window.URL.revokeObjectURL(ge),lt.success("Paper downloaded successfully!")},children:[l("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download Paper"]}),p&&M.title.trim()&&g("button",{className:"btn-submit-final",onClick:()=>H(p),children:[l("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Submit Research Paper"]})]})]})]})]})]}):m==="manuscript"?g("div",{className:"write-manuscript-section",children:[g("div",{className:"paper-header-actions",children:[l("button",{className:"back-btn",onClick:()=>{y(null),k(null)},children:" Back to Selection"}),N&&g("div",{className:"editing-indicator",children:[l("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),l("span",{children:"Editing Manuscript"})]})]}),g("div",{className:"paper-editor-container",children:[g("div",{className:"paper-guidelines",children:[l("h2",{className:"section-title",children:" ICSET 2026 Manuscript Format"}),l("p",{className:"guidelines-intro",children:"Follow these official ICSET 2026 guidelines for manuscript formatting. All submissions must adhere to these specifications."}),g("div",{className:"guideline-section",children:[l("h3",{children:" Document Setup"}),g("ul",{children:[g("li",{children:[l("strong",{children:"Paper Size:"})," A4 (210 mm  297 mm)"]}),g("li",{children:[l("strong",{children:"Layout:"})," Two-column format (mandatory for final manuscript submission)"]}),g("li",{children:[l("strong",{children:"Column Spacing:"})," Approximately 0.5 cm"]}),g("li",{children:[l("strong",{children:"Margins:"}),g("ul",{children:[l("li",{children:"Top: 1.9 cm"}),l("li",{children:"Bottom: 4.3 cm"}),l("li",{children:"Left: 1.3 cm"}),l("li",{children:"Right: 1.3 cm"})]})]}),g("li",{children:[l("strong",{children:"Font (Body Text):"})," Times New Roman, 10-point, justified"]}),g("li",{children:[l("strong",{children:"Page Limit:"})," 6 pages maximum, including figures, tables, and references. Up to 8 pages only if explicitly permitted by ICSET"]})]})]}),g("div",{className:"guideline-section",children:[l("h3",{children:" Title & Author Formatting"}),g("div",{className:"structure-list",children:[g("div",{className:"structure-item",children:[l("strong",{children:"1. Title"}),g("ul",{children:[l("li",{children:"Font: Times New Roman"}),l("li",{children:"Size: 14 pt"}),l("li",{children:"Style: Bold"}),l("li",{children:"Alignment: Centered"}),l("li",{children:"Capitalization: Title Case (avoid ALL CAPS)"})]})]}),g("div",{className:"structure-item",children:[l("strong",{children:"2. Author(s) & Affiliation(s)"}),g("ul",{children:[l("li",{children:"Author names: 11 pt, centered"}),l("li",{children:"Affiliations: 10 pt, italic"}),l("li",{children:"Must include: Department, Institution/University, City, Country, Email address(es)"})]})]})]})]}),g("div",{className:"guideline-section",children:[l("h3",{children:" Manuscript Structure (ICSET 2026)"}),g("div",{className:"structure-list",children:[g("div",{className:"structure-item",children:[l("strong",{children:"3. Abstract (150250 words)"}),g("ul",{children:[l("li",{children:"Single paragraph"}),l("li",{children:"Font size: 9 pt, justified"}),l("li",{children:"Self-contained"}),l("li",{children:"No references, equations, or abbreviations"}),g("li",{children:["Heading format: ",l("strong",{children:"Abstract"})," This manuscript presents"]})]})]}),g("div",{className:"structure-item",children:[l("strong",{children:"4. Keywords / Index Terms"}),g("ul",{children:[l("li",{children:"35 relevant keywords"}),l("li",{children:"Font size: 9 pt, italic"}),g("li",{children:["Format: ",l("em",{children:"Keywords"})," Sentiment Analysis, Deep Learning, CNN, LSTM"]})]})]}),g("div",{className:"structure-item",children:[l("strong",{children:"5. I. INTRODUCTION"}),g("ul",{children:[l("li",{children:"Background and motivation"}),l("li",{children:"Problem definition"}),l("li",{children:"Objectives and main contributions"}),l("li",{children:"Organization of the manuscript"})]})]}),g("div",{className:"structure-item",children:[l("strong",{children:"6. II. RELATED WORK"}),g("ul",{children:[l("li",{children:"Review of existing literature"}),l("li",{children:"Comparative analysis of prior studies"}),l("li",{children:"Identification of research gaps"})]})]}),g("div",{className:"structure-item",children:[l("strong",{children:"7. III. METHODOLOGY"}),g("ul",{children:[l("li",{children:"Dataset description"}),l("li",{children:"Preprocessing methods"}),l("li",{children:"System architecture / algorithm design"}),l("li",{children:"Implementation details"})]})]}),g("div",{className:"structure-item",children:[l("strong",{children:"8. IV. RESULTS AND ANALYSIS"}),g("ul",{children:[l("li",{children:"Experimental setup"}),l("li",{children:"Evaluation metrics"}),l("li",{children:"Tables, graphs, and figures"}),l("li",{children:"Performance comparison and observations"})]})]}),g("div",{className:"structure-item",children:[l("strong",{children:"9. V. DISCUSSION"}),g("ul",{children:[l("li",{children:"Interpretation of results"}),l("li",{children:"Strengths and limitations of the approach"}),l("li",{children:"Comparison with existing methods"})]})]}),g("div",{className:"structure-item",children:[l("strong",{children:"10. VI. CONCLUSION AND FUTURE WORK"}),g("ul",{children:[l("li",{children:"Summary of key findings"}),l("li",{children:"Main contributions"}),l("li",{children:"Scope for future research"})]})]}),g("div",{className:"structure-item",children:[l("strong",{children:"11. REFERENCES"}),g("ul",{children:[l("li",{children:"IEEE citation style (numeric)"}),l("li",{children:"Font size: 9 pt"}),l("li",{children:"Numbered in order of appearance"}),g("li",{children:['Example: [1] J. Smith, "Deep learning for text classification," ',l("em",{children:"IEEE Transactions on Neural Networks"}),", vol. 28, no. 3, pp. 456468, 2021."]})]})]}),g("div",{className:"structure-item",children:[l("strong",{children:"12. ACKNOWLEDGMENTS (Optional)"}),g("ul",{children:[l("li",{children:"Funding sources"}),l("li",{children:"Institutional or individual support"}),l("li",{children:"Not a numbered section"})]})]})]})]}),g("div",{className:"guideline-section",children:[l("h3",{children:" Figures & Tables (ICSET Rules)"}),g("ul",{children:[g("li",{children:[l("strong",{children:"Alignment:"})," Centered within column or page"]}),g("li",{children:[l("strong",{children:"Quality:"})," High resolution and clearly readable"]}),g("li",{children:[l("strong",{children:"Captions:"})," Figure captions ",l("strong",{children:"below"})," figures, table captions ",l("strong",{children:"above"})," tables"]}),g("li",{children:[l("strong",{children:"Numbering:"})," Figures: Fig. 1, Fig. 2,  | Tables: Table I, Table II, "]}),g("li",{children:[l("strong",{children:"References:"})," All figures and tables must be cited in the text"]}),g("li",{children:[l("strong",{children:"Font size inside figures:"})," Minimum 8 pt"]})]})]}),g("div",{className:"guideline-section",children:[l("h3",{children:" References & Citations"}),g("ul",{children:[g("li",{children:[l("strong",{children:"Style:"})," IEEE (numeric)"]}),g("li",{children:[l("strong",{children:"In-text citation:"})," [1], [2], [3]"]}),g("li",{children:[l("strong",{children:"Order:"})," Based on first appearance in text"]}),g("li",{children:[l("strong",{children:"Consistency:"})," Same format throughout"]}),g("li",{children:[l("strong",{children:"Completeness:"})," Every cited work must appear in the reference list"]})]})]}),g("div",{className:"guideline-section",children:[l("h3",{children:" Length & Submission (ICSET 2026)"}),g("ul",{children:[g("li",{children:[l("strong",{children:"Page Limit:"})," 6 pages (strict) - includes title, abstract, figures, tables, references"]}),g("li",{children:[l("strong",{children:"File Format:"})," PDF only (mandatory)"]}),g("li",{children:[l("strong",{children:"File Size:"})," Typically less than 10 MB"]}),g("li",{children:[l("strong",{children:"Submission Method:"})," ICSET online submission portal or official conference email"]}),g("li",{children:[l("strong",{children:"Plagiarism Limit:"})," Usually below 15%"]})]})]})]}),g("div",{className:"paper-form",children:[l("h2",{className:"form-title",children:" Write Your Manuscript"}),g("div",{className:"form-section",children:[l("h3",{children:" Basic Information"}),g("div",{className:"form-group",children:[l("label",{htmlFor:"manuscript-title",children:"Title *"}),l("input",{id:"manuscript-title",type:"text",className:"form-input",placeholder:"Enter manuscript title (Title Case)",value:_.title,onChange:ae=>x({..._,title:ae.target.value})})]}),g("div",{className:"form-row",children:[g("div",{className:"form-group",children:[l("label",{htmlFor:"manuscript-authors",children:"Author Name(s) *"}),l("input",{id:"manuscript-authors",type:"text",className:"form-input",placeholder:"John Doe, Jane Smith",value:_.authors,onChange:ae=>x({..._,authors:ae.target.value})})]}),g("div",{className:"form-group",children:[l("label",{htmlFor:"manuscript-email",children:"Email Address(es) *"}),l("input",{id:"manuscript-email",type:"text",className:"form-input",placeholder:"author1@example.com, author2@example.com",value:_.email,onChange:ae=>x({..._,email:ae.target.value})})]})]}),g("div",{className:"form-group",children:[l("label",{htmlFor:"manuscript-affiliation",children:"Affiliation *"}),l("input",{id:"manuscript-affiliation",type:"text",className:"form-input",placeholder:"Department, Institution/University, City, Country",value:_.affiliation,onChange:ae=>x({..._,affiliation:ae.target.value})})]}),g("div",{className:"form-group",children:[l("label",{htmlFor:"manuscript-abstract",children:"Abstract * (150-250 words)"}),l("textarea",{id:"manuscript-abstract",className:"form-textarea",rows:"6",placeholder:"Write a concise abstract (150-250 words)...",value:_.abstract,onChange:ae=>x({..._,abstract:ae.target.value})})]}),g("div",{className:"form-group",children:[l("label",{htmlFor:"manuscript-keywords",children:"Keywords * (3-5 keywords)"}),l("input",{id:"manuscript-keywords",type:"text",className:"form-input",placeholder:"Keyword1, Keyword2, Keyword3",value:_.keywords,onChange:ae=>x({..._,keywords:ae.target.value})})]})]}),g("div",{className:"form-section",children:[l("h3",{children:" Manuscript Sections"}),g("div",{className:"form-group",children:[l("label",{children:"1. INTRODUCTION"}),l(bs,{theme:"snow",value:_.introduction,onChange:ae=>x({..._,introduction:ae}),modules:$s,formats:qs,placeholder:"Introduce the topic, background, problem statement, and objectives..."})]}),g("div",{className:"form-group",children:[l("label",{children:"2. RELATED WORK"}),l(bs,{theme:"snow",value:_.relatedWork,onChange:ae=>x({..._,relatedWork:ae}),modules:$s,formats:qs,placeholder:"Review existing literature, compare approaches, identify gaps..."})]}),g("div",{className:"form-group",children:[l("label",{children:"3. METHODOLOGY"}),l(bs,{theme:"snow",value:_.methodology,onChange:ae=>x({..._,methodology:ae}),modules:$s,formats:qs,placeholder:"Describe your research methodology, dataset, preprocessing, system architecture..."})]}),g("div",{className:"form-group",children:[l("label",{children:"4. RESULTS AND ANALYSIS"}),l(bs,{theme:"snow",value:_.results,onChange:ae=>x({..._,results:ae}),modules:$s,formats:qs,placeholder:"Present experimental setup, results, evaluation metrics, tables, and figures..."})]}),g("div",{className:"form-group",children:[l("label",{children:"5. DISCUSSION"}),l(bs,{theme:"snow",value:_.discussion,onChange:ae=>x({..._,discussion:ae}),modules:$s,formats:qs,placeholder:"Interpret results, discuss strengths, limitations, and comparisons..."})]}),g("div",{className:"form-group",children:[l("label",{children:"6. CONCLUSION AND FUTURE WORK"}),l(bs,{theme:"snow",value:_.conclusion,onChange:ae=>x({..._,conclusion:ae}),modules:$s,formats:qs,placeholder:"Summarize findings, key contributions, and future research directions..."})]})]}),g("div",{className:"form-section",children:[l("h3",{children:" References & Acknowledgments"}),g("div",{className:"form-group",children:[l("label",{children:"REFERENCES (IEEE Format)"}),l(bs,{theme:"snow",value:_.references,onChange:ae=>x({..._,references:ae}),modules:$s,formats:qs,placeholder:`[1] Author, 'Title,' Journal/Conference, vol., pp., Year.
[2] ...`})]}),g("div",{className:"form-group",children:[l("label",{children:"ACKNOWLEDGMENTS (Optional)"}),l(bs,{theme:"snow",value:_.acknowledgments,onChange:ae=>x({..._,acknowledgments:ae}),modules:$s,formats:qs,placeholder:"Acknowledge funding sources, collaborators, or institutional support..."})]})]}),g("div",{className:"form-actions",children:[g("div",{className:"action-group",children:[g("button",{className:"btn-save",onClick:Se,disabled:T,children:[l("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),T?"Saving...":N?"Update Manuscript":"Save Manuscript"]}),g("button",{className:"btn-clear",onClick:ke,children:[l("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Clear All"]})]}),g("div",{className:"action-group",children:[g("button",{className:"btn-download",onClick:async()=>{if(!_.title.trim()){lt.error("Please add a title before downloading");return}try{lt.loading("Generating PDF...",{id:"pdf-gen"});const ae=await j2(_);if(ae.success&&ae.blob){const me=window.URL.createObjectURL(ae.blob),ge=document.createElement("a");ge.href=me,ge.download=ae.fileName,ge.click(),window.URL.revokeObjectURL(me),lt.success(` PDF downloaded: ${ae.fileName}`,{id:"pdf-gen"})}else lt.error(`Failed to generate PDF: ${ae.error}`,{id:"pdf-gen"})}catch(ae){console.error("Error generating PDF:",ae),lt.error("Failed to generate PDF. Please try again.",{id:"pdf-gen"})}},children:[l("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download Manuscript"]}),p&&_.title.trim()&&g("button",{className:"btn-submit-final",onClick:()=>H(p),children:[l("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Submit Manuscript"]})]})]})]})]})]}):null:g("div",{className:"document-type-selection",children:[l("h2",{className:"section-title",children:" Choose Document Type"}),l("p",{className:"selection-intro",children:"Select the type of document you want to create"}),g("div",{className:"document-type-grid",children:[g("div",{className:"document-type-card",onClick:()=>y("research-paper"),children:[l("div",{className:"card-icon",children:""}),l("h3",{children:"Research Paper"}),l("p",{children:"Write a complete research paper with full academic formatting for conferences and journals"}),g("ul",{className:"card-features",children:[l("li",{children:" ICSET 2026 Conference Format"}),l("li",{children:" Full section structure"}),l("li",{children:" PDF export with proper formatting"}),l("li",{children:" Save multiple drafts"})]}),l("button",{className:"select-btn",children:"Select Research Paper "})]}),g("div",{className:"document-type-card",onClick:()=>y("manuscript"),children:[l("div",{className:"card-icon",children:""}),l("h3",{children:"Manuscript"}),l("p",{children:"Write a manuscript for journal submission with academic formatting"}),g("ul",{className:"card-features",children:[l("li",{children:" Academic manuscript format"}),l("li",{children:" Full section structure"}),l("li",{children:" PDF export capability"}),l("li",{children:" Draft management"})]}),l("button",{className:"select-btn",children:"Select Manuscript "})]})]})]}):i==="my-research"?P?g("div",{className:"my-research-section",children:[g("div",{className:"research-tabs-header",children:[l("h2",{className:"section-title",children:P==="papers"?"My Research Papers":"My Manuscripts"}),l("button",{className:"back-btn",onClick:()=>D(null),children:" Back to My Research"})]}),P==="papers"?g(Ft,{children:[g("p",{className:"section-count",children:[q.length," research paper",q.length!==1?"s":""]}),q.length===0?g("div",{className:"empty-state",children:[l("div",{className:"empty-icon",children:""}),l("h3",{children:"No Research Papers Yet"}),l("p",{children:"Start writing your first research paper"}),l("button",{className:"btn-primary",onClick:()=>{r("write-paper"),y("research-paper")},children:"Write Research Paper"})]}):l("div",{className:"research-papers-grid",children:q.map(ae=>g("div",{className:"research-paper-card",children:[g("div",{className:"paper-card-header",children:[l("h3",{className:"paper-card-title",children:ae.title}),l("span",{className:`status-badge ${ae.status}`,children:ae.status==="draft"?" Draft":" Completed"})]}),g("div",{className:"paper-card-meta",children:[g("div",{className:"meta-item",children:[l("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),l("span",{children:ae.authors})]}),g("div",{className:"meta-item",children:[l("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),l("span",{children:ae.affiliation})]})]}),g("div",{className:"paper-card-dates",children:[g("div",{className:"date-item",children:[l("strong",{children:"Created:"})," ",new Date(ae.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]}),g("div",{className:"date-item",children:[l("strong",{children:"Last Edited:"})," ",new Date(ae.lastEditedAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]}),g("div",{className:"paper-card-abstract",children:[l("strong",{children:"Abstract:"}),g("p",{children:[ae.abstract.substring(0,150),ae.abstract.length>150?"...":""]})]}),g("div",{className:"paper-card-keywords",children:[l("strong",{children:"Keywords:"})," ",ae.keywords]}),g("div",{className:"paper-card-actions",children:[g("button",{className:"btn-edit",onClick:()=>je(ae),children:[l("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),g("button",{className:"btn-download",onClick:async()=>{try{lt.loading("Generating PDF...",{id:"pdf-gen"});const me=await j2(ae);me.success?lt.success(` PDF downloaded: ${me.fileName}`,{id:"pdf-gen"}):lt.error(`Failed to generate PDF: ${me.error}`,{id:"pdf-gen"})}catch(me){console.error("Error generating PDF:",me),lt.error("Failed to generate PDF. Please try again.",{id:"pdf-gen"})}},children:[l("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download PDF"]}),g("button",{className:"btn-submit",onClick:()=>te(ae),style:{background:"#10b981",color:"white"},children:[l("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Submit"]}),g("button",{className:"btn-delete",onClick:()=>Ce(ae._id,ae.title),children:[l("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})]},ae._id))})]}):g(Ft,{children:[g("p",{className:"section-count",children:[q.length," manuscript",q.length!==1?"s":""]}),q.length===0?g("div",{className:"empty-state",children:[l("div",{className:"empty-icon",children:""}),l("h3",{children:"No Manuscripts Yet"}),l("p",{children:"Start writing your first manuscript"}),l("button",{className:"btn-primary",onClick:()=>{r("write-paper"),y("manuscript")},children:"Write Manuscript"})]}):l("div",{className:"research-papers-grid",children:q.map(ae=>g("div",{className:"research-paper-card manuscript-card",children:[g("div",{className:"paper-card-header",children:[l("h3",{className:"paper-card-title",children:ae.title}),l("span",{className:`status-badge ${ae.status}`,children:ae.status==="draft"?" Draft":" Completed"})]}),g("div",{className:"paper-card-meta",children:[g("div",{className:"meta-item",children:[l("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),l("span",{children:ae.authors})]}),g("div",{className:"meta-item",children:[l("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),l("span",{children:ae.affiliation})]})]}),g("div",{className:"paper-card-dates",children:[g("div",{className:"date-item",children:[l("strong",{children:"Created:"})," ",new Date(ae.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]}),g("div",{className:"date-item",children:[l("strong",{children:"Last Edited:"})," ",new Date(ae.lastEditedAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]}),g("div",{className:"paper-card-abstract",children:[l("strong",{children:"Abstract:"}),g("p",{children:[ae.abstract.substring(0,150),ae.abstract.length>150?"...":""]})]}),g("div",{className:"paper-card-keywords",children:[l("strong",{children:"Keywords:"})," ",ae.keywords]}),g("div",{className:"paper-card-actions",children:[g("button",{className:"btn-edit",onClick:()=>pe(ae),children:[l("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),g("button",{className:"btn-download",onClick:async()=>{try{lt.loading("Generating PDF...",{id:"pdf-gen"});const me=await j2(ae);me.success?lt.success(` PDF downloaded: ${me.fileName}`,{id:"pdf-gen"}):lt.error(`Failed to generate PDF: ${me.error}`,{id:"pdf-gen"})}catch(me){console.error("Error generating PDF:",me),lt.error("Failed to generate PDF. Please try again.",{id:"pdf-gen"})}},children:[l("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download PDF"]}),g("button",{className:"btn-submit",onClick:()=>te(ae),style:{background:"#10b981",color:"white"},children:[l("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Submit"]}),g("button",{className:"btn-delete",onClick:()=>U(ae._id),children:[l("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})]},ae._id))})]})]}):g("div",{className:"document-type-selection",children:[l("h2",{className:"section-title",children:" My Research"}),l("p",{className:"selection-intro",children:"Choose what you want to view"}),g("div",{className:"document-type-grid",children:[g("div",{className:"document-type-card",onClick:()=>D("papers"),children:[l("div",{className:"card-icon",children:""}),l("h3",{children:"My Research Papers"}),l("p",{children:"View and manage your research papers with full academic formatting"}),g("ul",{className:"card-features",children:[g("li",{children:[" ",q.length," research paper",q.length!==1?"s":""]}),l("li",{children:" Edit and update papers"}),l("li",{children:" Download formatted PDFs"}),l("li",{children:" Manage drafts"})]}),l("button",{className:"select-btn",children:"View Research Papers "})]}),g("div",{className:"document-type-card",onClick:()=>D("manuscripts"),children:[l("div",{className:"card-icon",children:""}),l("h3",{children:"My Manuscripts"}),l("p",{children:"View and manage your manuscripts for journal submissions"}),g("ul",{className:"card-features",children:[g("li",{children:[" ",q.length," manuscript",q.length!==1?"s":""]}),l("li",{children:" Edit and update manuscripts"}),l("li",{children:" Download formatted PDFs"}),l("li",{children:" Draft management"})]}),l("button",{className:"select-btn",children:"View Manuscripts "})]})]})]}):i==="my-submissions"?E?g("div",{className:"my-submissions-section",children:[g("div",{className:"research-tabs-header",children:[l("h2",{className:"section-title",children:E==="manuscripts"?"My Manuscript Submissions":"My Research Paper Submissions"}),l("button",{className:"back-btn",onClick:()=>A(null),children:" Back to My Submissions"})]}),g("p",{className:"section-count",children:[o.filter(ae=>E==="manuscripts"?!ae.type||ae.type==="manuscript":ae.type==="research-paper").length," submission",o.filter(ae=>E==="manuscripts"?!ae.type||ae.type==="manuscript":ae.type==="research-paper").length!==1?"s":""]}),o.filter(ae=>E==="manuscripts"?!ae.type||ae.type==="manuscript":ae.type==="research-paper").length===0?g("div",{className:"empty-state",children:[l("div",{className:"empty-icon",children:""}),l("h3",{children:"No Submissions Yet"}),g("p",{children:["You haven't submitted any ",E==="manuscripts"?"manuscripts":"research papers"," yet"]}),l("button",{className:"btn-primary",onClick:()=>r("requirements"),children:"View Requirements"})]}):l("div",{className:"manuscripts-list",children:o.filter(ae=>E==="manuscripts"?!ae.type||ae.type==="manuscript":ae.type==="research-paper").map(ae=>{var me,ge;return g("div",{className:"manuscript-card",children:[ae.status==="accepted"&&g("div",{className:"notification-banner success",children:[l("span",{className:"notification-icon",children:""}),g("span",{className:"notification-text",children:[l("strong",{children:"Congratulations!"})," Your manuscript has been accepted for publication and will appear in the upcoming journal issue."]})]}),ae.status==="accepted"&&(!ae.type||ae.type==="manuscript")&&g("div",{className:"research-paper-opportunity",children:[g("div",{className:"opportunity-header",children:[l("span",{className:"opportunity-icon",children:""}),l("h4",{children:"Eligible for Research Paper Submission"})]}),l("p",{className:"opportunity-text",children:"Your manuscript has been accepted! You can now write and submit a research paper based on this work for conference presentation."}),g("button",{className:"btn-write-research",onClick:()=>{Y({title:ae.title||"",authors:ae.authorName||"",affiliation:ae.affiliation||"",email:ae.authorEmail||"",abstract:ae.abstract||"",keywords:"",introduction:"",relatedWork:"",methodology:"",results:"",discussion:"",conclusion:"",references:"",acknowledgments:""}),y("research-paper"),r("write-paper"),v(ae.requirementId),lt.info(" Start writing your research paper based on accepted manuscript")},children:[l("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Write Research Paper"]})]}),ae.status==="rejected"&&ae.adminRemarks&&g("div",{className:"notification-banner danger",children:[l("span",{className:"notification-icon",children:""}),g("span",{className:"notification-text",children:[l("strong",{children:"Review Complete:"})," Please review the feedback below to improve your manuscript."]})]}),ae.status==="under-review"&&g("div",{className:"notification-banner info",children:[l("span",{className:"notification-icon",children:""}),g("span",{className:"notification-text",children:[l("strong",{children:"Under Review:"})," Our editorial team is carefully reviewing your manuscript. You'll be notified once the review is complete."]})]}),ae.status==="update-changes"&&g("div",{className:"notification-banner warning",children:[l("span",{className:"notification-icon",children:""}),g("span",{className:"notification-text",children:[l("strong",{children:"Update Changes Required:"})," Please review the admin feedback below and update your manuscript accordingly. You can resubmit after making the necessary changes."]})]}),ae.status==="pending"&&g("div",{className:"notification-banner warning",children:[l("span",{className:"notification-icon",children:""}),g("span",{className:"notification-text",children:[l("strong",{children:"Submission Received:"})," Your manuscript has been successfully submitted and is in the queue for review."]})]}),g("div",{className:"manuscript-header",children:[l("h3",{children:ae.title}),l("span",{className:`status-badge ${ve(ae.status).class}`,children:ve(ae.status).text})]}),g("div",{className:"manuscript-info",children:[g("p",{children:[l("strong",{children:" Requirement"}),l("span",{children:((me=ae.requirementId)==null?void 0:me.title)||"N/A"})]}),g("p",{children:[l("strong",{children:" Topic"}),l("span",{children:((ge=ae.requirementId)==null?void 0:ge.topic)||"N/A"})]}),g("p",{children:[l("strong",{children:" Submitted"}),l("span",{children:he(ae.submittedAt)})]}),ae.reviewedAt&&g("p",{children:[l("strong",{children:" Reviewed"}),l("span",{children:he(ae.reviewedAt)})]})]}),ae.adminRemarks&&g("div",{className:"manuscript-remarks",children:[l("strong",{children:" Admin Feedback"}),l("p",{children:ae.adminRemarks})]}),l("div",{className:"manuscript-actions",children:g("button",{className:"btn-delete-manuscript",onClick:()=>Z(ae._id,ae.title),title:"Remove this submission",children:[l("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Remove Submission"]})})]},ae._id)})})]}):g("div",{className:"document-type-selection",children:[l("h2",{className:"section-title",children:" My Submissions"}),l("p",{className:"selection-intro",children:"Choose submission type to view"}),g("div",{className:"document-type-grid",children:[g("div",{className:"document-type-card",onClick:()=>A("manuscripts"),children:[l("div",{className:"card-icon",children:""}),l("h3",{children:"My Manuscript Submissions"}),l("p",{children:"View and track your journal manuscript submissions"}),g("ul",{className:"card-features",children:[g("li",{children:[" ",o.length," manuscript",o.length!==1?"s":""," submitted"]}),l("li",{children:" Track review status"}),l("li",{children:" View reviewer feedback"}),l("li",{children:" Manage revisions"})]}),l("button",{className:"select-btn",children:"View Manuscript Submissions "})]}),g("div",{className:"document-type-card",onClick:()=>A("papers"),children:[l("div",{className:"card-icon",children:""}),l("h3",{children:"My Research Paper Submissions"}),l("p",{children:"View and track your conference paper submissions"}),g("ul",{className:"card-features",children:[g("li",{children:[" ",o.filter(ae=>ae.type==="research-paper").length," paper",o.filter(ae=>ae.type==="research-paper").length!==1?"s":""," submitted"]}),l("li",{children:" Track review status"}),l("li",{children:" Conference acceptance status"}),l("li",{children:" Presentation details"})]}),l("button",{className:"select-btn",children:"View Paper Submissions "})]})]})]}):null}),f&&p&&l("div",{className:"modal-overlay",onClick:()=>h(!1),children:g("div",{className:"modal-content modal-submit",onClick:ae=>ae.stopPropagation(),children:[g("div",{className:"modal-header",children:[l("h2",{children:z.sourceType==="research-paper"?"Submit Research Paper":"Submit Manuscript"}),l("button",{className:"modal-close",onClick:()=>h(!1),children:""})]}),g("div",{className:"requirement-info",children:[l("h3",{children:p.title}),g("p",{children:[l("strong",{children:"Topic:"})," ",p.topic]}),g("p",{children:[l("strong",{children:"Field:"})," ",p.field]}),g("p",{children:[l("strong",{children:"Deadline:"})," ",he(p.submissionDeadline)]})]}),M.title&&g("div",{className:"auto-fill-notice",style:{background:"#e8f5e9",border:"1px solid #4caf50",borderRadius:"8px",padding:"12px 16px",margin:"16px 0",display:"flex",alignItems:"center",gap:"8px",color:"#2e7d32"},children:[l("svg",{width:"20",height:"20",fill:"currentColor",viewBox:"0 0 24 24",children:l("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),g("span",{children:[l("strong",{children:"Auto-filled:"})," Form fields have been automatically populated from your research paper."]})]}),g("form",{onSubmit:_e,className:"submit-form",children:[l("div",{className:"form-row",children:g("div",{className:"form-group full-width",children:[l("label",{children:"Research Paper Title *"}),l("input",{type:"text",className:"form-input",value:z.title,onChange:ae=>X({...z,title:ae.target.value}),required:!0})]})}),g("div",{className:"form-group",children:[l("label",{children:"Abstract *"}),l("textarea",{className:"form-textarea",rows:"5",value:z.abstract,onChange:ae=>X({...z,abstract:ae.target.value}),required:!0})]}),g("div",{className:"form-row",children:[g("div",{className:"form-group",children:[l("label",{children:"Author Name *"}),l("input",{type:"text",className:"form-input",value:z.authorName,onChange:ae=>X({...z,authorName:ae.target.value}),required:!0})]}),g("div",{className:"form-group",children:[l("label",{children:"Email *"}),l("input",{type:"email",className:"form-input",value:z.authorEmail,onChange:ae=>X({...z,authorEmail:ae.target.value}),required:!0})]})]}),g("div",{className:"form-row",children:[g("div",{className:"form-group",children:[l("label",{children:"Affiliation"}),l("input",{type:"text",className:"form-input",placeholder:"University/Organization",value:z.affiliation,onChange:ae=>X({...z,affiliation:ae.target.value})})]}),g("div",{className:"form-group",children:[l("label",{children:"Phone"}),l("input",{type:"tel",className:"form-input",value:z.phone,onChange:ae=>X({...z,phone:ae.target.value})})]})]}),g("div",{className:"form-group",children:[l("label",{children:"Upload Research Paper File *"}),z.file?g("div",{className:"file-selected",children:[g("div",{className:"file-info",children:[g("svg",{width:"20",height:"20",fill:"currentColor",viewBox:"0 0 24 24",children:[l("path",{d:"M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8l-6-6z"}),l("path",{d:"M14 2v6h6M16 13H8M16 17H8M10 9H8"})]}),l("span",{children:z.file.name}),g("span",{className:"file-size",children:["(",(z.file.size/1024/1024).toFixed(2)," MB)"]})]}),l("button",{type:"button",className:"btn-change-file",onClick:()=>X({...z,file:null}),children:"Change File"})]}):g(Ft,{children:[l("input",{type:"file",className:"form-file-input",accept:".pdf,.doc,.docx",onChange:Ve,required:!0}),l("p",{className:"form-hint",children:"Accepted formats: PDF, DOC, DOCX (Max 10MB)"})]})]}),g("div",{className:"modal-actions",children:[l("button",{type:"button",className:"btn-secondary",onClick:()=>h(!1),disabled:w,children:"Cancel"}),l("button",{type:"submit",className:"btn-primary",disabled:w,children:w?g(Ft,{children:[g("svg",{className:"animate-spin",width:"20",height:"20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):z.sourceType==="research-paper"?"Submit Research Paper":"Submit Manuscript"})]})]})]})})]})};const USe=()=>{const{journalId:n}=gS(),e=or(),{user:t,isAuthenticated:i}=hs(),{showNotification:r}=Ao(),[s,a]=ie.useState({title:"",abstract:"",abstractInputType:"text",abstractFile:null,keywords:"",authors:[{id:t==null?void 0:t.id,firstName:(t==null?void 0:t.firstName)||"",lastName:(t==null?void 0:t.lastName)||"",email:(t==null?void 0:t.email)||"",affiliation:"",isCorresponding:!0,order:1}],agreeToTerms:!1}),[o,c]=ie.useState({}),[d,u]=ie.useState(!1),[f,h]=ie.useState(0),p=ie.useRef(null),[v]=R1(zS.submitManuscript),w=(E,A)=>{a(I=>({...I,[E]:A})),o[E]&&c(I=>({...I,[E]:""}))},b=E=>{a(A=>({...A,abstractInputType:E,abstract:E==="file"?"":A.abstract,abstractFile:E==="text"?null:A.abstractFile})),o.abstract&&c(A=>({...A,abstract:""}))},m=E=>{const A=E.target.files[0];A&&y(A)},y=E=>{if(!["application/pdf","image/jpeg","image/jpg","image/png","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(E.type)){r("Please upload a PDF, JPG, PNG, or Word document","error");return}const I=5*1024*1024;if(E.size>I){r("File size must be less than 5MB","error");return}a(R=>({...R,abstractFile:E})),o.abstract&&c(R=>({...R,abstract:""})),r("Abstract file uploaded successfully","success")},_=()=>{a(E=>({...E,abstractFile:null})),p.current&&(p.current.value="")},x=(E,A,I)=>{const R=[...s.authors];R[E]={...R[E],[A]:I},a(M=>({...M,authors:R}))},N=()=>{const E={id:"",firstName:"",lastName:"",email:"",affiliation:"",isCorresponding:!1,order:s.authors.length+1};a(A=>({...A,authors:[...A.authors,E]})),h(s.authors.length)},k=E=>{if(s.authors.length<=1){r("At least one author is required","error");return}const A=s.authors.filter((I,R)=>R!==E).map((I,R)=>({...I,order:R+1}));a(I=>({...I,authors:A}))},T=E=>{const A=s.authors.map((I,R)=>({...I,isCorresponding:R===E}));a(I=>({...I,authors:A}))},C=()=>{const E={};return s.title.trim()||(E.title="Title is required"),s.abstractInputType==="text"?s.abstract.trim()?s.abstract.length<100&&(E.abstract="Abstract must be at least 100 characters"):E.abstract="Abstract is required":s.abstractFile||(E.abstract="Abstract file is required"),s.keywords.trim()||(E.keywords="Keywords are required"),s.authors.forEach((I,R)=>{I.firstName.trim()||(E[`author_${R}_firstName`]="First name is required"),I.lastName.trim()||(E[`author_${R}_lastName`]="Last name is required"),I.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(I.email)||(E[`author_${R}_email`]="Valid email is required"):E[`author_${R}_email`]="Email is required"}),s.authors.some(I=>I.isCorresponding)||(E.authors="Please designate a corresponding author"),s.agreeToTerms||(E.agreeToTerms="You must agree to the terms and conditions"),c(E),Object.keys(E).length===0},P=async E=>{if(E.preventDefault(),!C()){r("Please fix the errors before submitting","error");return}u(!0);try{const A=new FormData;A.append("journalId",n),A.append("title",s.title),s.abstractInputType==="text"?(A.append("abstract",s.abstract),A.append("abstractType","text")):(A.append("abstractFile",s.abstractFile),A.append("abstractType","file")),A.append("keywords",s.keywords),A.append("authors",JSON.stringify(s.authors));const I=await v(A,{successMessage:"Manuscript submitted successfully!"});I&&e("/publishing/submissions",{state:{submitted:!0,submissionId:I.submissionId}})}catch{}finally{u(!1)}},D=E=>{if(E===0)return"0 Bytes";const A=1024,I=["Bytes","KB","MB","GB"],R=Math.floor(Math.log(E)/Math.log(A));return parseFloat((E/Math.pow(A,R)).toFixed(2))+" "+I[R]};return i?l("div",{className:"manuscript-submission-page",children:g("div",{className:"container",children:[g("div",{className:"submission-header",children:[l("div",{className:"header-icon",children:l(Mn,{size:32})}),l("h1",{children:"Submit Manuscript"}),l("p",{children:"Share your work with the academic community"})]}),l("div",{className:"submission-content",children:g("div",{className:"manuscript-card",children:[g("div",{className:"card-header",children:[l(Mn,{size:24}),l("h2",{children:"Manuscript Information"})]}),g("form",{onSubmit:P,className:"submission-form",children:[g("div",{className:"form-group",children:[g("label",{htmlFor:"title",className:"form-label",children:["Manuscript Title ",l("span",{className:"required",children:"*"})]}),l("input",{type:"text",id:"title",className:`form-input ${o.title?"error":""}`,placeholder:"Enter your manuscript title",value:s.title,onChange:E=>w("title",E.target.value)}),o.title&&l("span",{className:"error-message",children:o.title})]}),g("div",{className:"form-group",children:[g("label",{className:"form-label",children:["Abstract ",l("span",{className:"required",children:"*"})]}),g("div",{className:"abstract-type-selector",children:[g("button",{type:"button",className:`type-option ${s.abstractInputType==="text"?"active":""}`,onClick:()=>b("text"),children:[l(Mn,{size:18}),l("span",{children:"Write Abstract"})]}),g("button",{type:"button",className:`type-option ${s.abstractInputType==="file"?"active":""}`,onClick:()=>b("file"),children:[l(Bh,{size:18}),l("span",{children:"Upload File"})]})]}),s.abstractInputType==="text"&&g("div",{className:"abstract-text-input",children:[l("textarea",{id:"abstract",className:`form-textarea ${o.abstract?"error":""}`,placeholder:"Provide a concise summary of your research (minimum 100 characters)",rows:6,value:s.abstract,onChange:E=>w("abstract",E.target.value)}),g("div",{className:"char-count",children:[s.abstract.length," / 100 min"]})]}),s.abstractInputType==="file"&&l("div",{className:"abstract-file-upload",children:s.abstractFile?g("div",{className:"file-uploaded",children:[g("div",{className:"file-info",children:[l(Mn,{size:24,className:"file-icon"}),g("div",{className:"file-details",children:[l("h5",{children:s.abstractFile.name}),l("p",{children:D(s.abstractFile.size)})]})]}),l("button",{type:"button",onClick:_,className:"btn-remove",children:l(Yn,{size:16})})]}):g("div",{className:"upload-area",children:[l("input",{type:"file",id:"abstractFile",ref:p,accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",onChange:m,className:"file-input-hidden"}),g("label",{htmlFor:"abstractFile",className:"upload-label",children:[l(Bh,{size:32}),g("div",{className:"upload-text",children:[l("p",{className:"upload-title",children:"Upload Abstract File"}),l("p",{className:"upload-subtitle",children:"PDF, JPG, PNG, or Word document (max 5MB)"})]})]})]})}),o.abstract&&l("span",{className:"error-message",children:o.abstract})]}),g("div",{className:"form-group",children:[g("label",{htmlFor:"keywords",className:"form-label",children:["Keywords ",l("span",{className:"required",children:"*"})]}),l("input",{type:"text",id:"keywords",className:`form-input ${o.keywords?"error":""}`,placeholder:"Enter keywords separated by commas",value:s.keywords,onChange:E=>w("keywords",E.target.value)}),o.keywords&&l("span",{className:"error-message",children:o.keywords}),l("p",{className:"field-hint",children:"Add relevant keywords to help readers discover your work (separate with commas)"})]}),g("div",{className:"form-section",children:[g("div",{className:"section-header",children:[l(wn,{size:20}),l("h3",{children:"Authors"})]}),s.authors.map((E,A)=>g("div",{className:"author-card",children:[g("div",{className:"author-card-header",children:[g("div",{className:"author-info",children:[l(go,{size:16}),l("span",{children:E.firstName||E.lastName?`${E.firstName} ${E.lastName}`:`Author ${A+1}`}),E.isCorresponding&&l("span",{className:"badge badge-primary",children:"Corresponding"})]}),l("div",{className:"author-actions",children:s.authors.length>1&&l("button",{type:"button",onClick:()=>k(A),className:"btn-icon btn-danger",children:l(Yn,{size:16})})})]}),g("div",{className:"author-card-body",children:[g("div",{className:"form-grid",children:[g("div",{className:"form-group",children:[g("label",{className:"form-label",children:["First Name ",l("span",{className:"required",children:"*"})]}),l("input",{type:"text",className:`form-input ${o[`author_${A}_firstName`]?"error":""}`,placeholder:"First name",value:E.firstName,onChange:I=>x(A,"firstName",I.target.value),disabled:A===0&&(t==null?void 0:t.firstName)}),o[`author_${A}_firstName`]&&l("span",{className:"error-message",children:o[`author_${A}_firstName`]})]}),g("div",{className:"form-group",children:[g("label",{className:"form-label",children:["Last Name ",l("span",{className:"required",children:"*"})]}),l("input",{type:"text",className:`form-input ${o[`author_${A}_lastName`]?"error":""}`,placeholder:"Last name",value:E.lastName,onChange:I=>x(A,"lastName",I.target.value),disabled:A===0&&(t==null?void 0:t.lastName)}),o[`author_${A}_lastName`]&&l("span",{className:"error-message",children:o[`author_${A}_lastName`]})]}),g("div",{className:"form-group",children:[g("label",{className:"form-label",children:["Email ",l("span",{className:"required",children:"*"})]}),l("input",{type:"email",className:`form-input ${o[`author_${A}_email`]?"error":""}`,placeholder:"Email address",value:E.email,onChange:I=>x(A,"email",I.target.value),disabled:A===0&&(t==null?void 0:t.email)}),o[`author_${A}_email`]&&l("span",{className:"error-message",children:o[`author_${A}_email`]})]}),g("div",{className:"form-group",children:[l("label",{className:"form-label",children:"Affiliation"}),l("input",{type:"text",className:"form-input",placeholder:"Institution or organization",value:E.affiliation,onChange:I=>x(A,"affiliation",I.target.value)})]})]}),!E.isCorresponding&&l("button",{type:"button",className:"btn btn-outline btn-sm",onClick:()=>T(A),children:"Set as Corresponding Author"})]})]},A)),o.authors&&l("span",{className:"error-message",children:o.authors}),g("button",{type:"button",onClick:N,className:"btn btn-outline",children:[l(nd,{size:16}),"Add Co-Author"]})]}),l("div",{className:"form-section",children:g("div",{className:"checkbox-group",children:[g("label",{className:"checkbox-label",children:[l("input",{type:"checkbox",checked:s.agreeToTerms,onChange:E=>w("agreeToTerms",E.target.checked)}),g("span",{children:["I agree to the terms and conditions and confirm that this manuscript is original work ",l("span",{className:"required",children:"*"})]})]}),o.agreeToTerms&&l("span",{className:"error-message",children:o.agreeToTerms})]})}),g("div",{className:"form-actions",children:[l("button",{type:"button",className:"btn btn-outline",onClick:()=>e(-1),children:"Cancel"}),l("button",{type:"submit",className:"btn btn-primary btn-lg",disabled:d,children:d?g(Ft,{children:[l(I1,{size:"sm"}),"Submitting..."]}):g(Ft,{children:[l(di,{size:20}),"Submit Manuscript"]})})]})]})]})})]})}):l("div",{className:"manuscript-submission-page",children:l("div",{className:"container",children:g("div",{className:"auth-required",children:[l(Mn,{size:48}),l("h2",{children:"Authentication Required"}),l("p",{children:"Please sign in to submit a manuscript."})]})})})};const sA=[{id:"all",name:"All Categories",icon:null,color:null},{id:"urban-regional-planning",name:"Urban & Regional Planning",icon:_r,color:"#dc2626",description:"Strategic planning of cities, towns, and regions for land use, infrastructure, and sustainable development"},{id:"architecture-urban-design",name:"Architecture & Urban Design",icon:Fw,color:"#e91e63",description:"Designing buildings, public spaces, and the urban form to enhance functionality, aesthetics, and livability"},{id:"civil-transportation-engineering",name:"Civil & Transportation Engineering",icon:dfe,color:"#f59e0b",description:"Designing and constructing infrastructure systems like roads, bridges, water supply, drainage, and transit networks"},{id:"environmental-planning-sustainability",name:"Environmental Planning & Sustainability",icon:efe,color:"#10b981",description:"Integrating ecological principles into development, managing natural resources, and addressing climate resilience"},{id:"geoinformatics-remote-sensing",name:"Geoinformatics & Remote Sensing (GIS)",icon:U8,color:"#059669",description:"Using geospatial data and satellite imagery for spatial analysis, mapping, urban monitoring, and decision-making"},{id:"construction-project-management",name:"Construction & Project Management",icon:Mi,color:"#3b82f6",description:"Overseeing construction processes, procurement processes, project monitoring, cost control and site operations to deliver built infrastructure"},{id:"real-estate-housing",name:"Real Estate & Housing",icon:ML,color:"#1e40af",description:"Development, valuation, and management of residential, commercial, and industrial property markets"},{id:"landscape-architecture",name:"Landscape Architecture",icon:cfe,color:"#7c3aed",description:"Designing open spaces, parks, waterfronts, and ecological zones to support biodiversity and community well-being"},{id:"heritage-conservation-cultural-planning",name:"Heritage Conservation & Cultural Planning",icon:Zhe,color:"#ca8a04",description:"Preserving historic buildings, urban memory, and identity while integrating them into modern development"},{id:"public-policy-governance-urban-finance",name:"Public Policy, Governance & Urban Finance",icon:SH,color:"#b91c1c",description:"Framing the institutional, regulatory, and financial frameworks that enable inclusive and efficient urban development"}],MSe=()=>{var Ye,Ke,mt;const{user:n,isAuthenticated:e}=hs(),{showNotification:t}=Ao(),i=or(),[r,s]=ie.useState([]),[a,o]=ie.useState(!0),[c,d]=ie.useState(""),[u,f]=ie.useState("all"),[h,p]=ie.useState("latest"),[v,w]=ie.useState("all"),[b,m]=ie.useState(!1),[y,_]=ie.useState(""),[x,N]=ie.useState(!1),[k,T]=ie.useState(new Set),[C,P]=ie.useState(new Set),[D,E]=ie.useState(!1),[A,I]=ie.useState(!1),[R,M]=ie.useState(!1),[Y,q]=ie.useState([]),[G,B]=ie.useState([]),[J,W]=ie.useState({title:"",category:"",content:"",agreeTerms:!1}),[L,z]=ie.useState([]),[X,Q]=ie.useState(0),[V,Z]=ie.useState(0),[_e,le]=ie.useState("text"),ce=ie.useRef(null);R1(Ps.getArticles),ie.useEffect(()=>{const qe=()=>{window.pageYOffset>400?E(!0):E(!1)};return window.addEventListener("scroll",qe),()=>window.removeEventListener("scroll",qe)},[]);const Fe=()=>{window.scrollTo({top:0,behavior:"smooth"})};ie.useEffect(()=>{Re(),e&&Ae()},[e]);const Ae=async()=>{var qe;try{const it=await Ps.getUserArticles(),ft=((qe=it.data)==null?void 0:qe.articles)||it.articles||[];q(ft);const We=ft.filter(tt=>tt.approvalStatus==="needsModification");B(We)}catch(it){console.error("Error loading user articles:",it)}},Re=async()=>{try{console.log("=== LOADING PUBLISHED ARTICLES ===");const qe=await Ps.getPublishedArticles();console.log("Published articles response:",qe),qe&&qe.data&&qe.data.articles?(s(qe.data.articles),console.log(`Loaded ${qe.data.articles.length} published articles`)):qe&&qe.data&&Array.isArray(qe.data)?(s(qe.data),console.log(`Loaded ${qe.data.length} published articles`)):Array.isArray(qe)?(s(qe),console.log(`Loaded ${qe.length} published articles`)):(console.log("No articles found in response"),s([]))}catch(qe){console.error("Error loading articles:",qe),t("Failed to load articles","error"),s([])}finally{o(!1)}},Ve=qe=>qe?qe.trim().split(/\s+/).filter(ft=>ft.length>0).length:0,fe=qe=>{const it=qe.target.value;W({...J,content:it}),Q(Ve(it)),Z(it.length)},Je=qe=>{le(qe),qe==="text"?z([]):(W({...J,content:""}),Q(0),Z(0))},je=qe=>{const ft=Array.from(qe.target.files).filter(We=>["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/plain"].includes(We.type)?We.size>10485760?(t(`${We.name} is too large. Maximum size is 10MB.`,"error"),!1):!0:(t("Invalid file type. Please upload PDF, Word, Excel, or Text files.","error"),!1));z([...L,...ft]),ft.length>0&&t(`${ft.length} file(s) uploaded successfully`,"success")},Ce=qe=>{const it=L.filter((ft,We)=>We!==qe);z(it)},$=qe=>{if(qe.preventDefault(),!J.title||!J.category){t("Please fill in all required fields","error");return}if(_e==="text"){if(!J.content){t("Please write article content","error");return}if(X<100){t("Article content must be at least 100 words","error");return}}else if(L.length===0){t("Please upload at least one file","error");return}if(!J.agreeTerms){t("Please agree to the content guidelines and terms","error");return}console.log("Article Data:",J),console.log("Content Type:",_e),console.log("Uploaded Files:",L),t("Article submitted successfully!","success"),m(!1),W({title:"",category:"",content:"",agreeTerms:!1}),z([]),Q(0),Z(0),le("text")},ke=()=>{if(!Array.isArray(r))return console.warn("Articles is not an array:",r),[];let qe=[...r];return c&&(qe=qe.filter(it=>{var ft,We,tt,pt,Ct,Et,St,Bt,kn;return((ft=it==null?void 0:it.title)==null?void 0:ft.toLowerCase().includes(c.toLowerCase()))||((We=it==null?void 0:it.content)==null?void 0:We.toLowerCase().includes(c.toLowerCase()))||((tt=it==null?void 0:it.excerpt)==null?void 0:tt.toLowerCase().includes(c.toLowerCase()))||((Et=(Ct=(pt=it==null?void 0:it.author)==null?void 0:pt.profile)==null?void 0:Ct.firstName)==null?void 0:Et.toLowerCase().includes(c.toLowerCase()))||((Bt=(St=it==null?void 0:it.author)==null?void 0:St.email)==null?void 0:Bt.toLowerCase().includes(c.toLowerCase()))||((kn=it==null?void 0:it.tags)==null?void 0:kn.some(sn=>sn==null?void 0:sn.toLowerCase().includes(c.toLowerCase())))})),v!=="all"&&(qe=qe.filter(it=>(it==null?void 0:it.category)===v)),u!=="all"&&(qe=qe.filter(it=>(it==null?void 0:it.type)===u)),qe.sort((it,ft)=>{switch(h){case"latest":return new Date((ft==null?void 0:ft.publishedAt)||(ft==null?void 0:ft.createdAt)||0)-new Date((it==null?void 0:it.publishedAt)||(it==null?void 0:it.createdAt)||0);case"popular":return((ft==null?void 0:ft.views)||0)-((it==null?void 0:it.views)||0);case"trending":return((ft==null?void 0:ft.engagementScore)||0)-((it==null?void 0:it.engagementScore)||0);case"comments":return((ft==null?void 0:ft.commentCount)||0)-((it==null?void 0:it.commentCount)||0);default:return 0}}),qe},Se=qe=>sA.find(it=>it.id===qe)||sA[0],pe=qe=>new Date(qe).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),U=qe=>{const it=new Date(qe),We=Math.abs(new Date-it),tt=Math.ceil(We/(1e3*60*60*24));return tt<=1?"Today":tt===2?"Yesterday":tt<=7?`${tt} days ago`:tt<=30?`${Math.ceil(tt/7)} weeks ago`:pe(qe)},H=qe=>{const it=new Set(k);it.has(qe)?it.delete(qe):it.add(qe),T(it)},te=qe=>{const it=new Set(C);it.has(qe)?(it.delete(qe),t("Removed from bookmarks","success")):(it.add(qe),t("Added to bookmarks","success")),P(it)},he=async qe=>{if(navigator.share)try{await navigator.share({title:qe.title,text:qe.excerpt,url:`/news/articles/${qe.id}`})}catch(it){console.log("Error sharing:",it)}else navigator.clipboard.writeText(`${window.location.origin}/news/articles/${qe.id}`).then(()=>t("Link copied to clipboard!","success"))},ve=qe=>{qe.preventDefault(),y&&/\S+@\S+\.\S+/.test(y)?(N(!0),t("Successfully subscribed to newsletter!","success"),_("")):t("Please enter a valid email address","error")},ae=()=>{d("")},me=()=>{f("all"),p("latest"),d(""),w("all"),M(!1)},ge=ke(),Oe=ge[0];return console.log("=== RENDER STATE ==="),console.log("Articles state:",r),console.log("Filtered articles:",ge),console.log("Featured article:",Oe),console.log("Loading:",a),a?l("div",{className:"loading-state",children:l(I1,{})}):g("div",{className:"news-page",children:[g("div",{className:"container",children:[e&&G.length>0&&g("div",{className:"modification-alert-banner",children:[g("div",{className:"alert-content",children:[l(IA,{size:24}),g("div",{className:"alert-text",children:[l("strong",{children:"Action Required"}),g("p",{children:["You have ",G.length," article",G.length>1?"s":""," that need",G.length===1?"s":""," modification."]})]})]}),g("button",{className:"alert-btn",onClick:()=>i("/my-articles"),children:["View & Edit Articles",l(Ghe,{size:18})]})]}),l("section",{className:"news-hero",children:g("div",{className:"news-hero-content",children:[g("div",{className:"hero-badge",children:[l(AH,{size:18}),l("span",{children:"Newsroom"})]}),g("h1",{className:"news-hero-title",children:["Discover ",l("span",{className:"text-gradient",children:"Built Environment"})," Insights"]}),l("p",{className:"news-hero-description",children:"Stay updated with cutting-edge insights, research, and discussions shaping the built environment sector"}),e&&g("div",{className:"hero-actions",children:[g("button",{className:"btn-primary btn-large pulse",onClick:()=>i("/news/submit"),children:[l(nd,{size:20}),"Write New Article"]}),g("button",{className:"btn-secondary btn-large",onClick:()=>i("/my-articles"),children:[l(Mn,{size:20}),"My Articles",Y.length>0&&l("span",{className:"article-count-badge",children:Y.length})]})]})]})}),!e&&l("div",{className:"guest-banner",children:g("div",{className:"guest-banner-content",children:[l("div",{className:"guest-icon",children:l(Mh,{size:36})}),g("div",{className:"guest-text",children:[l("h3",{children:"Join Our Community"}),l("p",{children:"Sign in to contribute articles, engage with content, and connect with professionals"})]}),l("button",{className:"btn-primary",onClick:()=>i("/login",{state:{from:{pathname:"/news"}}}),children:"Sign In"})]})}),b&&l("div",{className:"modal-overlay",onClick:()=>m(!1),children:g("div",{className:"modal-container",onClick:qe=>qe.stopPropagation(),children:[g("div",{className:"modal-header-modern",children:[l("h3",{children:"Write New Article"}),l("button",{className:"modal-close-btn",onClick:()=>m(!1),"aria-label":"Close modal",children:l(Yn,{size:24})})]}),g("form",{className:"modal-form-modern",onSubmit:$,children:[g("div",{className:"form-group-modern",children:[l("label",{htmlFor:"article-title",children:"Article Title"}),l("input",{id:"article-title",type:"text",className:"form-input-modern",placeholder:"Enter article title",value:J.title,onChange:qe=>W({...J,title:qe.target.value}),required:!0})]}),g("div",{className:"form-group-modern",children:[l("label",{htmlFor:"article-category",children:"Category"}),g("select",{id:"article-category",className:"form-input-modern",value:J.category,onChange:qe=>W({...J,category:qe.target.value}),required:!0,children:[l("option",{value:"",children:"Select category"}),sA.slice(1).map(qe=>l("option",{value:qe.id,children:qe.name},qe.id))]})]}),g("div",{className:"form-group-modern",children:[l("label",{children:"Content Type"}),g("div",{className:"content-type-selector",children:[g("button",{type:"button",className:`content-type-btn ${_e==="text"?"active":""}`,onClick:()=>Je("text"),children:[l(Mh,{size:18}),"Write Article Content"]}),g("button",{type:"button",className:`content-type-btn ${_e==="file"?"active":""}`,onClick:()=>Je("file"),children:[l(Bh,{size:18}),"Upload Files"]})]})]}),_e==="text"?g("div",{className:"form-group-modern",children:[l("label",{htmlFor:"article-content",children:"Article Content"}),g("div",{className:"textarea-wrapper",children:[l("textarea",{id:"article-content",className:"form-input-modern",placeholder:"Write your article...",value:J.content,onChange:fe,rows:"10",required:!0}),l("div",{className:"content-counter",children:g("span",{className:`counter-text ${X<100?"below-minimum":"minimum-reached"}`,children:[X," / 100 min"]})})]})]}):g("div",{className:"form-group-modern",children:[l("label",{children:"Upload Files"}),g("div",{className:"file-upload-area",children:[l("input",{type:"file",ref:ce,onChange:je,multiple:!0,accept:".pdf,.doc,.docx,.xls,.xlsx,.txt",style:{display:"none"}}),g("button",{type:"button",className:"file-upload-btn",onClick:()=>{var qe;return(qe=ce.current)==null?void 0:qe.click()},children:[l(Bh,{size:20}),"Upload PDF, Word, Excel files"]}),l("p",{className:"file-upload-hint",children:"Maximum file size: 10MB. Supported formats: PDF, DOC, DOCX, XLS, XLSX, TXT"})]}),L.length>0&&l("div",{className:"uploaded-files-list",children:L.map((qe,it)=>g("div",{className:"uploaded-file-item",children:[g("div",{className:"file-info",children:[l(_H,{size:16}),l("span",{className:"file-name",children:qe.name}),g("span",{className:"file-size",children:["(",(qe.size/1024).toFixed(2)," KB)"]})]}),l("button",{type:"button",className:"file-remove-btn",onClick:()=>Ce(it),"aria-label":"Remove file",children:l(Yn,{size:16})})]},it))})]}),g("div",{className:"checkbox-group-modern",children:[l("input",{type:"checkbox",id:"agree-terms",checked:J.agreeTerms,onChange:qe=>W({...J,agreeTerms:qe.target.checked}),required:!0}),l("label",{htmlFor:"agree-terms",children:"I agree to the content guidelines and terms"})]}),g("div",{className:"modal-footer-modern",children:[l("button",{type:"button",className:"btn-ghost",onClick:()=>m(!1),children:"Cancel"}),g("button",{type:"submit",className:"btn-primary",children:[l(Mn,{size:18}),"Submit Article"]})]})]})]})}),Oe&&g("section",{className:"featured-section",children:[g("span",{className:"section-label",children:[l(Is,{size:16}),"Featured Article"]}),g(Cn,{to:`/news/articles/${Oe._id||Oe.id}`,className:"featured-article-card",children:[g("div",{className:"featured-image-wrapper",children:[l("img",{src:Oe.featuredImage||Oe.image||"/api/placeholder/800/600",alt:Oe.title,className:"featured-image"}),l("div",{className:"featured-overlay",children:l("span",{className:"featured-badge",children:"Featured"})})]}),g("div",{className:"featured-content",children:[g("div",{className:"featured-meta",children:[l("span",{className:"category-badge",children:Se(Oe.category).name}),g("span",{className:"read-time",children:[l(xr,{size:14}),Oe.readTime||"5"," min read"]})]}),l("h2",{children:Oe.title}),l("p",{children:Oe.excerpt}),g("div",{className:"featured-footer",children:[g("div",{className:"author-info-small",children:[l(go,{size:16}),((Ke=(Ye=Oe.author)==null?void 0:Ye.profile)==null?void 0:Ke.firstName)||((mt=Oe.author)==null?void 0:mt.email)||"Anonymous"]}),g("div",{className:"featured-stats",children:[g("span",{children:[l(na,{size:14}),Oe.views||0]}),g("span",{children:[l(bl,{size:14}),Oe.commentCount||0]})]})]})]})]})]}),g("section",{className:"filters-section",children:[g("div",{className:"categories-wrapper",children:[l("h3",{className:"filter-label",children:"Browse by Category"}),l("div",{className:"categories-scroll",children:sA.map(qe=>g("button",{className:`category-pill ${v===qe.id?"active":""}`,onClick:()=>w(qe.id),children:[qe.icon&&l(qe.icon,{size:16}),qe.name]},qe.id))})]}),g("div",{className:"search-sort-row",children:[l("div",{className:`search-box-enhanced ${A?"focused":""}`,children:g("div",{className:"search-input-wrapper",children:[l(ia,{size:20,className:"search-icon-left"}),l("input",{type:"text",placeholder:"Search articles, authors, topics...",value:c,onChange:qe=>d(qe.target.value),onFocus:()=>I(!0),onBlur:()=>I(!1),className:"search-input-enhanced"}),c&&l("button",{type:"button",className:"search-clear-btn",onClick:ae,"aria-label":"Clear search",children:l(Yn,{size:14})}),l("button",{type:"button",className:"search-submit-btn","aria-label":"Search",children:l(kc,{size:18})})]})}),g("div",{className:"filter-controls",children:[g("div",{className:"filter-dropdown-wrapper",children:[l(lc,{size:18,className:"filter-icon"}),g("select",{value:u,onChange:qe=>f(qe.target.value),className:"filter-select-modern",children:[l("option",{value:"all",children:"All Types"}),l("option",{value:"article",children:"Articles"}),l("option",{value:"research",children:"Research"}),l("option",{value:"case-study",children:"Case Studies"}),l("option",{value:"opinion",children:"Opinion"})]})]}),g("div",{className:"filter-dropdown-wrapper",children:[l(Aa,{size:18,className:"filter-icon"}),g("select",{value:h,onChange:qe=>p(qe.target.value),className:"filter-select-modern",children:[l("option",{value:"latest",children:"Latest"}),l("option",{value:"popular",children:"Most Popular"}),l("option",{value:"trending",children:"Trending"}),l("option",{value:"comments",children:"Most Discussed"})]})]}),g("button",{className:`advanced-filter-btn ${R?"active":""}`,onClick:()=>M(!R),children:[l(afe,{size:18}),"Filters"]})]})]}),R&&l("div",{className:"advanced-filters-panel",children:g("div",{className:"advanced-filters-content",children:[g("div",{className:"filter-group",children:[l("label",{children:"Date Range"}),g("select",{className:"filter-select-modern",children:[l("option",{children:"All Time"}),l("option",{children:"Today"}),l("option",{children:"This Week"}),l("option",{children:"This Month"}),l("option",{children:"This Year"})]})]}),g("div",{className:"filter-group",children:[l("label",{children:"Reading Time"}),g("select",{className:"filter-select-modern",children:[l("option",{children:"Any Length"}),l("option",{children:"Quick Read (< 5 min)"}),l("option",{children:"Medium (5-10 min)"}),l("option",{children:"Long Read (> 10 min)"})]})]}),g("div",{className:"filter-group",children:[l("label",{children:"Author Type"}),g("select",{className:"filter-select-modern",children:[l("option",{children:"All Authors"}),l("option",{children:"Staff Writers"}),l("option",{children:"Guest Contributors"}),l("option",{children:"Verified Experts"})]})]}),g("div",{className:"filter-actions",children:[l("button",{className:"btn-ghost",onClick:me,children:"Reset All"}),l("button",{className:"btn-primary",onClick:()=>M(!1),children:"Apply Filters"})]})]})})]}),g("section",{className:"articles-section",children:[g("div",{className:"section-header-inline",children:[l("h2",{children:"Latest Articles"}),g("span",{className:"article-count",children:[ge.length," Articles"]})]}),ge.length>0?l("div",{className:"articles-grid-modern",children:ge.map(qe=>{var it,ft,We;return g("article",{className:"article-card-modern",children:[l(Cn,{to:`/news/articles/${qe._id||qe.id}`,className:"article-image-link",children:g("div",{className:"article-image-modern",children:[l("img",{src:qe.featuredImage||qe.image||"/api/placeholder/400/300",alt:qe.title}),qe.type&&l("span",{className:"article-type-badge",children:qe.type})]})}),g("div",{className:"article-body",children:[g("div",{className:"article-header-modern",children:[l("span",{className:"category-tag",children:Se(qe.category).name}),g("div",{className:"article-quick-actions",children:[l("button",{className:`action-icon ${C.has(qe._id||qe.id)?"active":""}`,onClick:()=>te(qe._id||qe.id),"aria-label":"Bookmark",children:l(y3,{size:16})}),l("button",{className:"action-icon",onClick:()=>he(qe),"aria-label":"Share",children:l(Yb,{size:16})})]})]}),l(Cn,{to:`/news/articles/${qe._id||qe.id}`,className:"article-title-modern",children:qe.title}),l("p",{className:"article-excerpt-modern",children:qe.excerpt}),g("div",{className:"article-footer-modern",children:[g("div",{className:"author-meta",children:[l("div",{className:"author-avatar-small",children:l(go,{size:18})}),g("div",{className:"author-details-small",children:[l("span",{className:"author-name",children:((ft=(it=qe.author)==null?void 0:it.profile)==null?void 0:ft.firstName)||((We=qe.author)==null?void 0:We.email)||"Anonymous"}),l("span",{className:"publish-date-small",children:U(qe.publishedAt||qe.createdAt)})]})]}),g("div",{className:"engagement-row",children:[g("button",{className:`like-btn ${k.has(qe._id||qe.id)?"liked":""}`,onClick:()=>H(qe._id||qe.id),children:[l(wH,{size:16}),qe.likes||0]}),g("span",{className:"engagement-item",children:[l(bl,{size:14}),qe.commentCount||0]})]})]})]})]},qe._id||qe.id)})}):g("div",{className:"empty-state-modern",children:[l(Mn,{size:64}),l("h3",{children:"No Articles Found"}),l("p",{children:"Try adjusting your search or filter criteria"}),l("button",{className:"btn-primary",onClick:me,children:"Reset Filters"})]})]}),l("section",{className:`newsletter-section ${x?"success":""}`,children:g("div",{className:"newsletter-content-modern",children:[l("div",{className:`newsletter-icon ${x?"success":""}`,children:x?l(IS,{size:40}):l(HT,{size:40})}),x?g(Ft,{children:[l("h3",{children:"Thank You for Subscribing!"}),l("p",{children:"Thank you for subscribing. You'll receive our latest updates directly in your inbox."})]}):g(Ft,{children:[l("h3",{children:"Stay in the Loop"}),l("p",{children:"Get the latest articles, research updates, and industry insights delivered to your inbox"}),g("form",{className:"newsletter-form-modern",onSubmit:ve,children:[l("input",{type:"email",placeholder:"Enter your email",value:y,onChange:qe=>_(qe.target.value),className:"newsletter-input-modern",required:!0}),l("button",{type:"submit",className:"btn-primary",children:"Subscribe"})]}),l("p",{className:"newsletter-note",children:"We respect your privacy. Unsubscribe anytime."})]})]})})]}),l("button",{className:`scroll-to-top ${D?"visible":""}`,onClick:Fe,"aria-label":"Scroll to top",children:l(FL,{size:24})})]})};const BSe=()=>{const n=or(),{showNotification:e}=Ao(),[t]=R1(Ps.createEvent),[i,r]=ie.useState({title:"",theme:"",rules:"",tags:"",crossList:!1}),[s,a]=ie.useState({}),[o,c]=ie.useState(!1),d=()=>{const h={};return i.title.trim()||(h.title="Title is required"),i.theme.trim()||(h.theme="Short description is required"),h},u=(h,p)=>{r(v=>({...v,[h]:p})),a(v=>({...v,[h]:void 0}))};return l("div",{className:"collaborate-page",children:l("div",{className:"container",children:g("div",{className:"collab-panel",children:[g("header",{className:"collab-header",children:[l("h1",{children:"Create Sponsored Event / Collaboration"}),l("p",{className:"muted",children:"Fill out the details below to submit an event for review. Required fields are marked."})]}),g("form",{className:"collab-form",onSubmit:async h=>{h.preventDefault();const p=d();if(Object.keys(p).length){a(p);return}c(!0);try{const v={title:i.title,theme:i.theme,rules:i.rules,tags:i.tags.split(",").map(w=>w.trim()).filter(Boolean),crossList:i.crossList,createdAt:new Date().toISOString()};await t(v,{successMessage:"Event submitted for review"}),e("Event submitted successfully","success"),n("/news")}catch{e("Failed to submit event","error")}finally{c(!1)}},noValidate:!0,children:[g("div",{className:"form-row",children:[g("label",{className:"form-label",children:["Title ",l("span",{className:"required",children:"*"})]}),l("input",{type:"text",className:`form-input ${s.title?"has-error":""}`,value:i.title,onChange:h=>u("title",h.target.value),placeholder:"Event title"}),s.title&&l("div",{className:"field-error",children:s.title})]}),g("div",{className:"form-row",children:[g("label",{className:"form-label",children:["Theme / Short Description ",l("span",{className:"required",children:"*"})]}),l("textarea",{className:`form-textarea ${s.theme?"has-error":""}`,value:i.theme,onChange:h=>u("theme",h.target.value),placeholder:"Briefly describe the theme or goals of the collaboration"}),s.theme&&l("div",{className:"field-error",children:s.theme})]}),g("div",{className:"form-row",children:[l("label",{className:"form-label",children:"Rules / Word Limits"}),l("textarea",{className:"form-textarea",value:i.rules,onChange:h=>u("rules",h.target.value),placeholder:"Optional: submission rules, word limits or eligibility"})]}),g("div",{className:"form-row",children:[l("label",{className:"form-label",children:"Tags (comma separated)"}),l("input",{type:"text",className:"form-input",value:i.tags,onChange:h=>u("tags",h.target.value),placeholder:"e.g. sustainability, retrofit, policy"})]}),g("div",{className:"form-row small",children:[l("label",{className:"form-label",children:"Cross-list under Learning Centre"}),g("div",{className:"toggle-row",children:[g("label",{className:"toggle",children:[l("input",{type:"checkbox",checked:i.crossList,onChange:h=>u("crossList",h.target.checked)}),l("span",{className:"toggle-track"})]}),l("span",{className:"small-meta muted",children:"Cross-posting will list this event in the Learning Centre where applicable."})]})]}),g("div",{className:"form-actions",children:[l("button",{type:"button",className:"btn-news btn-secondary",onClick:()=>n("/news"),children:"Cancel"}),l("button",{type:"reset",className:"btn-news btn-ghost",onClick:()=>r({title:"",theme:"",rules:"",tags:"",crossList:!1}),children:"Reset"}),g("button",{type:"submit",className:"btn-news btn-primary",disabled:o,children:[l(v3,{size:16}),o?"Submitting...":"Submit Event"]})]})]})]})})})};const sz=()=>{const{user:n,isAuthenticated:e}=hs(),{showNotification:t}=Ao(),i=or(),{articleId:r}=gS(),s=!!r,[a,o]=ie.useState({title:"",excerpt:"",content:"",category:"",tags:[],featuredImage:null,isPublished:!1,allowComments:!0,coAuthors:[]}),[c,d]=ie.useState({}),[u,f]=ie.useState(!1);ie.useState(!1),ie.useState(!1);const[h,p]=ie.useState(""),[v,w]=ie.useState(null),[b,m]=ie.useState(0),[y,_]=ie.useState(""),[x,N]=ie.useState([]),[k,T]=ie.useState(!1),[C,P]=ie.useState({checking:!1,score:null,report:null,checked:!1}),[D,E]=ie.useState([]),A=ie.useRef(null),I=ie.useRef(null),R=ie.useRef(null);R1(Ps.createArticle),ie.useEffect(()=>{s&&r&&M()},[r,s]);const M=async()=>{var Ae,Re;try{f(!0),console.log("=== LOADING ARTICLE FOR EDIT ==="),console.log("Article ID:",r);const Ve=await Ps.getArticle(r);console.log("Article loaded:",Ve);const fe=((Ae=Ve.data)==null?void 0:Ae.article)||Ve.article;if(fe){o({title:fe.title||"",excerpt:fe.excerpt||"",content:fe.content||"",category:fe.category||"",tags:fe.tags||[],featuredImage:null,isPublished:!1,allowComments:fe.allowComments!==!1,coAuthors:fe.coAuthors||[]});const Je=((Re=fe.content)==null?void 0:Re.replace(/<[^>]*>/g,""))||"";m(B(Je)),P({checking:!1,score:null,report:null,checked:!1}),t("Article loaded for editing","success")}}catch(Ve){console.error("Error loading article:",Ve),t("Failed to load article","error"),i("/my-articles")}finally{f(!1)}},Y=ie.useMemo(()=>({toolbar:{container:[[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],[{size:["small",!1,"large","huge"]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{align:[]}],["blockquote","code-block"],["link","image","video"],["clean"]],handlers:{image:W}},clipboard:{matchVisual:!1}}),[]),q=["header","font","size","bold","italic","underline","strike","color","background","script","list","bullet","indent","direction","align","blockquote","code-block","link","image","video"],G=(Ae,Re)=>{o(Ve=>({...Ve,[Ae]:Re})),c[Ae]&&d(Ve=>({...Ve,[Ae]:""})),Ae==="content"&&C.checked&&P(Ve=>({...Ve,checked:!1,score:null,report:null}))},B=Ae=>Ae?Ae.trim().split(/\s+/).filter(Re=>Re.length>0).length:0,J=(Ae,Re,Ve,fe)=>{const Je=fe.getText(),je=fe.getHTML(),Ce=B(Je);if(m(Ce),G("content",je),!a.excerpt&&Je.length>100){const $=Je.split(`
`).slice(0,3).join(" ").substring(0,200);o(ke=>({...ke,excerpt:$.trim()+"..."}))}};function W(){const Ae=document.createElement("input");Ae.setAttribute("type","file"),Ae.setAttribute("accept","image/*"),Ae.click(),Ae.onchange=async()=>{const Re=Ae.files[0];if(Re){const Ve=new FileReader;Ve.onload=fe=>{const Je=R.current.getEditor(),je=Je.getSelection(!0);Je.insertEmbed(je.index,"image",fe.target.result)},Ve.readAsDataURL(Re)}}}const L=Ae=>{const Re=Ae.target.files[0];if(!Re)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(Re.type)){t("Please upload a valid image (JPEG, PNG, GIF, WebP)","error");return}if(Re.size>5*1024*1024){t("Image size should be less than 5MB","error");return}o(Je=>({...Je,featuredImage:Re}));const fe=new FileReader;fe.onloadend=()=>{w(fe.result)},fe.readAsDataURL(Re)},z=async Ae=>{const Re=Ae.target.files[0];if(!Re)return;if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain"].includes(Re.type)){t("Please upload a valid document (PDF, DOC, DOCX, TXT)","error");return}if(Re.size>10*1024*1024){t("Document size should be less than 10MB","error");return}try{if(f(!0),Re.type==="text/plain"){const fe=await Re.text(),Je=R.current.getEditor(),je=Je.getSelection(!0);Je.insertText(je?je.index:0,fe),t("Content inserted from text file","success")}else E(fe=>[...fe,{name:Re.name,type:Re.type,size:Re.size,file:Re}]),t("Document uploaded successfully","success")}catch{t("Failed to process document","error")}finally{f(!1)}},X=async Ae=>{if(!Ae||Ae.length<2){N([]);return}try{T(!0);const Ve=(await Ps.searchUsers(Ae)).data.users.filter(fe=>fe._id!==n._id&&!a.coAuthors.some(Je=>Je.userId===fe._id));N(Ve)}catch(Re){console.error("Error searching users:",Re),N([])}finally{T(!1)}},Q=Ae=>{var Ve,fe;const Re={userId:Ae._id,email:Ae.email,name:`${((Ve=Ae.profile)==null?void 0:Ve.firstName)||""} ${((fe=Ae.profile)==null?void 0:fe.lastName)||""}`.trim()||Ae.email,status:"pending"};o(Je=>({...Je,coAuthors:[...Je.coAuthors,Re]})),_(""),N([])},V=Ae=>{o(Re=>({...Re,coAuthors:Re.coAuthors.filter(Ve=>Ve.userId!==Ae)}))},Z=()=>{if(h.trim()){if(a.tags.includes(h.trim())){t("Tag already added","warning");return}if(a.tags.length>=10){t("Maximum 10 tags allowed","warning");return}o(Ae=>({...Ae,tags:[...Ae.tags,h.trim()]})),p("")}},_e=Ae=>{o(Re=>({...Re,tags:Re.tags.filter(Ve=>Ve!==Ae)}))},le=()=>{const Ae={};return a.title.trim()?a.title.length<10&&(Ae.title="Title must be at least 10 characters"):Ae.title="Title is required",a.excerpt.trim()?a.excerpt.length<50&&(Ae.excerpt="Excerpt must be at least 50 characters"):Ae.excerpt="Excerpt is required",(!a.content||a.content.replace(/<[^>]*>/g,"").trim().length<200)&&(Ae.content="Content must be at least 200 characters"),a.category||(Ae.category="Category is required"),a.tags.length===0&&(Ae.tags="Add at least one tag"),d(Ae),Object.keys(Ae).length===0},ce=async(Ae=!1)=>{var Re,Ve,fe,Je,je,Ce;if(console.log("=== SUBMISSION STARTED ==="),console.log("isEditMode:",s),console.log("articleId:",r),console.log("isDraft:",Ae),console.log("isAuthenticated:",e),console.log("user:",n),!le()&&!Ae){console.log("Form validation failed");return}try{f(!0),console.log(s?"=== UPDATING ARTICLE ===":"=== SUBMITTING ARTICLE ==="),console.log("isDraft:",Ae),console.log("FormData:",{title:a.title,excerpt:a.excerpt,contentLength:(Re=a.content)==null?void 0:Re.length,category:a.category,tags:a.tags,hasImage:!!a.featuredImage,plagiarismChecked:C.checked,plagiarismScore:C.score});const $={title:a.title,excerpt:a.excerpt,content:a.content,category:a.category,tags:a.tags,isPublished:!Ae,allowComments:a.allowComments,featuredImage:a.featuredImage};a.coAuthors&&a.coAuthors.length>0&&($.coAuthors=a.coAuthors),console.log("About to call API with data:",$),console.log("Calling API...");let ke;s?ke=await Ps.updateArticle(r,$):ke=await Ps.createArticle($),console.log("API Response:",ke),t(ke.message||(s?"Article updated successfully! Awaiting admin review.":Ae?"Article saved as draft":"Article submitted successfully! Awaiting admin approval."),"success"),i("/my-articles")}catch($){console.error("=== SUBMISSION ERROR ==="),console.error("Error:",$),console.error("Error message:",$.message),console.error("Response:",(Ve=$.response)==null?void 0:Ve.data),console.error("Status:",(fe=$.response)==null?void 0:fe.status),console.error("Headers:",(Je=$.response)==null?void 0:Je.headers),t(((Ce=(je=$.response)==null?void 0:je.data)==null?void 0:Ce.message)||$.message||(s?"Failed to update article":"Failed to submit article"),"error")}finally{f(!1)}},Fe=["Urban Planning","Architecture","Infrastructure","Sustainability","Transportation","Housing","Public Policy","Technology","Case Study","Research"];return e?g("div",{className:"article-submission-page",children:[g("div",{className:"container",children:[g("div",{className:"submission-header",children:[l("h1",{children:s?"Edit Article":"Submit Article to Newsroom"}),l("p",{children:s?"Update your article and resubmit for review":"Share your insights with the Planning Insights community"})]}),g("div",{className:"submission-layout",children:[l("div",{className:"editor-main",children:g("div",{className:"editor-card",children:[g("div",{className:"form-section",children:[l("h3",{children:"Article Title"}),g("div",{className:"form-group",children:[l("input",{type:"text",className:`form-input ${c.title?"error":""}`,placeholder:"Enter a compelling title...",value:a.title,onChange:Ae=>G("title",Ae.target.value),maxLength:150}),c.title&&l("span",{className:"error-text",children:c.title}),g("span",{className:"char-count",children:[a.title.length,"/150"]})]})]}),g("div",{className:"form-section",children:[l("h3",{children:"Excerpt / Synopsis"}),g("div",{className:"form-group",children:[l("textarea",{className:`form-input ${c.excerpt?"error":""}`,placeholder:"Write a brief summary (first 2-3 lines for social sharing)...",value:a.excerpt,onChange:Ae=>G("excerpt",Ae.target.value),rows:4,maxLength:300}),c.excerpt&&l("span",{className:"error-text",children:c.excerpt}),g("span",{className:"char-count",children:[a.excerpt.length,"/300"]})]})]}),g("div",{className:"form-section",children:[g("div",{className:"section-header",children:[l("h3",{children:"Co-Authors (Optional)"}),g("span",{className:"section-hint",children:[l(wn,{size:16}),"Add collaborators to your article"]})]}),g("div",{className:"co-author-search",children:[l("input",{type:"text",className:"form-input",placeholder:"Search users by name or email...",value:y,onChange:Ae=>{_(Ae.target.value),X(Ae.target.value)}}),x.length>0&&g("div",{className:"search-results-dropdown",children:[k&&g("div",{className:"searching",children:[l(w3,{size:16,className:"spinning"}),l("span",{children:"Searching..."})]}),!k&&x.map(Ae=>{var Re,Ve,fe;return g("div",{className:"result-item",onClick:()=>Q(Ae),children:[l("div",{className:"result-avatar",children:(Re=Ae.profile)!=null&&Re.profilePicture?l("img",{src:Ae.profile.profilePicture,alt:""}):l(go,{size:20})}),g("div",{className:"result-info",children:[g("div",{className:"result-name",children:[(Ve=Ae.profile)==null?void 0:Ve.firstName," ",(fe=Ae.profile)==null?void 0:fe.lastName]}),l("div",{className:"result-email",children:Ae.email})]}),l(nd,{size:18})]},Ae._id)})]})]}),a.coAuthors.length>0&&g("div",{className:"selected-coauthors",children:[g("h4",{children:["Added Co-Authors (",a.coAuthors.length,")"]}),l("div",{className:"coauthor-list",children:a.coAuthors.map(Ae=>g("div",{className:"coauthor-item",children:[l(go,{size:18}),g("div",{className:"coauthor-details",children:[l("span",{className:"coauthor-name",children:Ae.name}),l("span",{className:"coauthor-email",children:Ae.email})]}),g("span",{className:`status-badge ${Ae.status}`,children:[Ae.status==="pending"&&"Invitation Pending",Ae.status==="accepted"&&"Accepted",Ae.status==="declined"&&"Declined"]}),l("button",{type:"button",onClick:()=>V(Ae.userId),className:"btn-icon",title:"Remove co-author",children:l(Yn,{size:16})})]},Ae.userId))}),g("div",{className:"coauthor-note",children:[l(G1,{size:14}),l("span",{children:"Co-authors will receive an email invitation to review and approve their inclusion."})]})]})]}),g("div",{className:"form-section",children:[g("div",{className:"editor-header",children:[l("h3",{children:"Article Content"}),g("div",{className:"editor-actions",children:[g("button",{type:"button",onClick:()=>{var Ae;return(Ae=I.current)==null?void 0:Ae.click()},className:"btn-secondary",title:"Upload Document",children:[l(Mn,{size:18}),l("span",{children:"Upload Doc"})]}),l("input",{ref:I,type:"file",accept:".pdf,.doc,.docx,.txt",style:{display:"none"},onChange:z})]})]}),l("div",{className:"quill-wrapper",children:l(bs,{ref:R,theme:"snow",value:a.content,onChange:J,modules:Y,formats:q,placeholder:"Start writing your article... (Supports drag & drop for images)"})}),g("div",{className:"word-counter",children:[l("span",{className:"word-count-label",children:"Word Count:"}),l("span",{className:"word-count-value",children:b}),g("span",{className:"word-count-status",children:[b<200&&" (Minimum 200 words required)",b>=200&&b<500&&" (Short article)",b>=500&&b<1e3&&" (Medium article)",b>=1e3&&" (Long-form article)"]})]}),c.content&&l("span",{className:"error-text",children:c.content})]}),D.length>0&&g("div",{className:"form-section",children:[l("h3",{children:"Uploaded Documents"}),l("div",{className:"uploaded-files",children:D.map((Ae,Re)=>g("div",{className:"file-item",children:[l(Mn,{size:20}),l("span",{children:Ae.name}),l("button",{onClick:()=>E(Ve=>Ve.filter((fe,Je)=>Je!==Re)),className:"btn-icon",children:l(Yn,{size:16})})]},Re))})]})]})}),g("div",{className:"editor-sidebar",children:[g("div",{className:"sidebar-card",children:[l("h3",{children:"Featured Image"}),g("div",{className:"image-upload",children:[v?g("div",{className:"image-preview",children:[l("img",{src:v,alt:"Featured"}),l("button",{onClick:()=>{o(Ae=>({...Ae,featuredImage:null})),w(null)},className:"remove-image",children:l(Yn,{size:16})})]}):g("button",{onClick:()=>{var Ae;return(Ae=A.current)==null?void 0:Ae.click()},className:"upload-button",children:[l(qh,{size:32}),l("span",{children:"Upload Image"})]}),l("input",{ref:A,type:"file",accept:"image/*",style:{display:"none"},onChange:L})]})]}),g("div",{className:"sidebar-card",children:[l("h3",{children:"Category *"}),g("select",{className:`form-select ${c.category?"error":""}`,value:a.category,onChange:Ae=>G("category",Ae.target.value),children:[l("option",{value:"",children:"Select Category"}),Fe.map(Ae=>l("option",{value:Ae,children:Ae},Ae))]}),c.category&&l("span",{className:"error-text",children:c.category})]}),g("div",{className:"sidebar-card",children:[l("h3",{children:"Tags *"}),g("div",{className:"tags-input",children:[g("div",{className:"tag-input-group",children:[l("input",{type:"text",placeholder:"Add a tag...",value:h,onChange:Ae=>p(Ae.target.value),onKeyPress:Ae=>Ae.key==="Enter"&&(Ae.preventDefault(),Z())}),l("button",{onClick:Z,className:"btn-icon",children:l(nd,{size:18})})]}),l("div",{className:"tags-list",children:a.tags.map(Ae=>g("span",{className:"tag",children:[Ae,l("button",{onClick:()=>_e(Ae),children:l(Yn,{size:14})})]},Ae))})]}),c.tags&&l("span",{className:"error-text",children:c.tags})]}),g("div",{className:"sidebar-card",children:[l("h3",{children:"Settings"}),g("label",{className:"checkbox-label",children:[l("input",{type:"checkbox",checked:a.allowComments,onChange:Ae=>G("allowComments",Ae.target.checked)}),l("span",{children:"Allow Comments"})]})]}),g("div",{className:"sidebar-actions",children:[g("button",{onClick:()=>ce(!0),disabled:u,className:"btn-secondary full-width",children:[l(B8,{size:18}),l("span",{children:"Save Draft"})]}),l("button",{onClick:()=>ce(!1),disabled:u||!s&&!C.checked,className:"btn-primary full-width",children:u?g(Ft,{children:[l(w3,{size:18,className:"spinning"}),l("span",{children:"Submitting..."})]}):g(Ft,{children:[l(qT,{size:18}),l("span",{children:s?"Update Article":"Submit for Review"})]})})]})]})]})]}),u&&l(I1,{message:"Processing your article..."})]}):l("div",{className:"article-submission-page",children:l("div",{className:"container",children:g("div",{className:"auth-required",children:[l(G1,{size:48}),l("h2",{children:"Authentication Required"}),l("p",{children:"Please log in to submit articles"}),l("button",{onClick:()=>i("/login"),className:"btn-primary",children:"Go to Login"})]})})})};const az=()=>{var B,J,W,L,z,X,Q,V,Z,_e,le;const{articleId:n}=gS(),{user:e,isAuthenticated:t}=hs(),i=or(),[r,s]=ie.useState(null),[a,o]=ie.useState(null),[c,d]=ie.useState(!0),[u,f]=ie.useState({liked:!1,disliked:!1}),[h,p]=ie.useState(""),[v,w]=ie.useState(!0),[b,m]=ie.useState(!1),[y,_]=ie.useState(""),[x,N]=ie.useState(""),[k,T]=ie.useState(!1),[C,P]=ie.useState(0);ie.useEffect(()=>{D(),E()},[n]),ie.useEffect(()=>{const ce=()=>{const Fe=window.pageYOffset||document.documentElement.scrollTop,Ae=document.documentElement.scrollHeight-document.documentElement.clientHeight,Re=Fe/Ae*100;P(Re),T(Fe>300)};return window.addEventListener("scroll",ce),()=>window.removeEventListener("scroll",ce)},[]);const D=async()=>{try{const ce=await Ps.getArticle(n);s(ce.data.article)}catch(ce){console.error("Failed to load article:",ce),lt.error("Failed to load article"),i("/news")}finally{d(!1)}},E=async()=>{try{const ce=await Ps.getArticleStats(n);o(ce.data)}catch(ce){console.error("Failed to load stats:",ce)}},A=async()=>{if(!t){lt.error("Please login to like articles");return}try{const ce=await Ps.likeArticle(n);f({liked:ce.data.userLiked,disliked:ce.data.userDisliked}),E()}catch{lt.error("Failed to like article")}},I=async()=>{if(!t){lt.error("Please login to dislike articles");return}try{const ce=await Ps.dislikeArticle(n);f({liked:ce.data.userLiked,disliked:ce.data.userDisliked}),E()}catch{lt.error("Failed to dislike article")}},R=async ce=>{if(ce.preventDefault(),!t){lt.error("Please login to comment");return}if(!h.trim()){lt.error("Comment cannot be empty");return}try{await Ps.addComment(n,h),p(""),D(),lt.success("Comment added successfully")}catch{lt.error("Failed to add comment")}},M=async()=>{var ce,Fe;if(!t){lt.error("Please login to flag content");return}if(!y){lt.error("Please select a reason");return}try{await Ps.flagArticle(n,y,x),m(!1),_(""),N(""),lt.success("Article flagged for review")}catch(Ae){lt.error(((Fe=(ce=Ae.response)==null?void 0:ce.data)==null?void 0:Fe.message)||"Failed to flag article")}},Y=async ce=>{var Fe;try{await Ps.shareArticle(n);const Ae=`${r.title} by ${((Fe=r.author.profile)==null?void 0:Fe.firstName)||r.author.email}`,Re=window.location.href;let Ve="";switch(ce){case"twitter":Ve=`https://twitter.com/intent/tweet?text=${encodeURIComponent(Ae)}&url=${encodeURIComponent(Re)}`;break;case"linkedin":Ve=`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(Re)}`;break;case"facebook":Ve=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(Re)}`;break;default:navigator.clipboard.writeText(Re),lt.success("Link copied to clipboard");return}window.open(Ve,"_blank","width=600,height=400")}catch(Ae){console.error("Failed to track share:",Ae)}},q=()=>{window.scrollTo({top:0,behavior:"smooth"})},G=()=>{if(!r)return"";const ce=r.content.split("</p>");if(ce.length<=2)return r.content;const Fe=ce[0]+"</p>",Ae=ce[ce.length-2]+"</p>",Re=ce.length-2;return`
      ${Fe}
      <div class="blur-overlay">
        ${Array(Re).fill("<p>Lorem ipsum dolor sit amet...</p>").join("")}
      </div>
      ${Ae}
    `};return c?l("div",{className:"article-detail-container",children:g("div",{className:"loading-spinner",children:[l("div",{className:"spinner"}),l("p",{children:"Loading article..."})]})}):r?g("div",{className:"article-detail-page",children:[l("div",{className:"reading-progress-bar",style:{width:`${C}%`}}),g("div",{className:"article-detail-container fade-in",children:[g("header",{className:"article-header slide-up",children:[g("div",{className:"breadcrumb",children:[l(Cn,{to:"/news",children:"Newsroom"}),l("span",{children:" / "}),l("span",{children:r.category})]}),l("h1",{className:"article-title",children:r.title}),g("div",{className:"article-meta",children:[g("div",{className:"meta-item",children:[l(go,{size:18}),l(Cn,{to:`/profile/${r.author._id}`,className:"author-link",children:((B=r.author.profile)==null?void 0:B.firstName)||r.author.email}),((J=r.coAuthors)==null?void 0:J.length)>0&&g("span",{className:"co-authors",children:["& ",r.coAuthors.map(ce=>{var Fe;return((Fe=ce.profile)==null?void 0:Fe.firstName)||ce.email}).join(", ")]})]}),g("div",{className:"meta-item",children:[l(Rs,{size:18}),l("span",{children:new Date(r.publishedAt||r.createdAt).toLocaleDateString()})]}),a&&g("div",{className:"meta-item",children:[l(na,{size:18}),g("span",{children:[a.views," views"]})]}),l("div",{className:"meta-item reading-time",children:g("span",{children:[" ",r.readingTime||"5"," min read"]})})]}),((W=r.tags)==null?void 0:W.length)>0&&l("div",{className:"article-tags",children:r.tags.map((ce,Fe)=>l("span",{className:"tag",children:ce},Fe))})]}),r.featuredImage&&l("div",{className:"featured-image zoom-in",children:l("img",{src:r.featuredImage,alt:r.title})}),r.excerpt&&l("div",{className:"article-excerpt slide-up",children:l("p",{children:r.excerpt})}),l("div",{className:"article-content slide-up",children:t?l("div",{dangerouslySetInnerHTML:{__html:r.content}}):g("div",{className:"blurred-content",children:[l("div",{dangerouslySetInnerHTML:{__html:G()}}),g("div",{className:"login-prompt pulse",children:[l("h3",{children:" Premium Content"}),l("p",{children:"Login to read the full article"}),l("button",{onClick:()=>i("/login"),children:"Login / Sign Up"})]})]})}),g("div",{className:"interaction-bar slide-up",children:[g("button",{className:`interaction-btn ${u.liked?"active":""}`,onClick:A,children:[l(Ob,{size:20}),l("span",{children:(a==null?void 0:a.likes)||0})]}),g("button",{className:`interaction-btn ${u.disliked?"active":""}`,onClick:I,children:[l(lfe,{size:20}),l("span",{children:(a==null?void 0:a.dislikes)||0})]}),g("button",{className:"interaction-btn",onClick:()=>w(!v),children:[l(Zl,{size:20}),g("span",{children:[((L=r.comments)==null?void 0:L.length)||0," Comments"]})]}),g("div",{className:"share-dropdown",children:[g("button",{className:"interaction-btn",children:[l(Yb,{size:20}),l("span",{children:"Share"})]}),g("div",{className:"share-menu",children:[l("button",{onClick:()=>Y("twitter"),children:"Twitter"}),l("button",{onClick:()=>Y("linkedin"),children:"LinkedIn"}),l("button",{onClick:()=>Y("facebook"),children:"Facebook"}),l("button",{onClick:()=>Y("copy"),children:"Copy Link"})]})]}),g("button",{className:"interaction-btn",onClick:()=>m(!0),children:[l(bH,{size:20}),l("span",{children:"Report"})]})]}),r.citationText&&g("div",{className:"citation-block slide-up",children:[l("h4",{children:" Cite This Article"}),l("p",{children:r.citationText})]}),g("section",{className:"author-section slide-up",children:[l("h3",{children:"About the Author"}),g("div",{className:"author-card",children:[l("div",{className:"author-avatar",children:(z=r.author.profile)!=null&&z.avatar?l("img",{src:r.author.profile.avatar,alt:r.author.profile.firstName}):l("span",{children:(((Q=(X=r.author.profile)==null?void 0:X.firstName)==null?void 0:Q[0])||"U").toUpperCase()})}),g("div",{className:"author-details",children:[l("h4",{children:((V=r.author.profile)==null?void 0:V.firstName)||r.author.email}),l("p",{className:"author-bio",children:((Z=r.author.profile)==null?void 0:Z.bio)||"No bio available"}),l(Cn,{to:`/profile/${r.author._id}`,className:"view-profile",children:"View Profile "})]})]})]}),v&&g("section",{className:"comments-section slide-up",children:[g("h3",{children:[" Comments (",((_e=r.comments)==null?void 0:_e.length)||0,")"]}),t?g("form",{className:"comment-form",onSubmit:R,children:[l("textarea",{value:h,onChange:ce=>p(ce.target.value),placeholder:"Share your thoughts...",rows:"4"}),l("button",{type:"submit",children:"Post Comment"})]}):l("div",{className:"login-required",children:g("p",{children:[l(Cn,{to:"/login",children:"Login"})," to join the conversation"]})}),l("div",{className:"comments-list",children:(le=r.comments)==null?void 0:le.map(ce=>{var Fe,Ae,Re;return g("div",{className:"comment fade-in",children:[g("div",{className:"comment-header",children:[l("strong",{children:((Ae=(Fe=ce.user)==null?void 0:Fe.profile)==null?void 0:Ae.firstName)||((Re=ce.user)==null?void 0:Re.email)}),l("span",{className:"comment-date",children:new Date(ce.createdAt).toLocaleDateString()})]}),l("p",{className:"comment-content",children:ce.content})]},ce._id)})})]})]}),b&&l("div",{className:"modal-overlay",onClick:()=>m(!1),children:g("div",{className:"modal-content scale-in",onClick:ce=>ce.stopPropagation(),children:[g("div",{className:"modal-header",children:[l("h3",{children:" Report Article"}),l("button",{onClick:()=>m(!1),children:l(Yn,{size:24})})]}),g("div",{className:"modal-body",children:[g("label",{children:["Reason for reporting:",g("select",{value:y,onChange:ce=>_(ce.target.value),children:[l("option",{value:"",children:"Select a reason"}),l("option",{value:"spam",children:"Spam"}),l("option",{value:"inappropriate",children:"Inappropriate Content"}),l("option",{value:"misinformation",children:"Misinformation"}),l("option",{value:"copyright",children:"Copyright Violation"}),l("option",{value:"other",children:"Other"})]})]}),g("label",{children:["Additional details (optional):",l("textarea",{value:x,onChange:ce=>N(ce.target.value),rows:"4",placeholder:"Provide more context..."})]})]}),g("div",{className:"modal-footer",children:[l("button",{onClick:()=>m(!1),children:"Cancel"}),l("button",{className:"btn-danger",onClick:M,children:"Submit Report"})]})]})}),k&&l("button",{className:"scroll-to-top bounce-in",onClick:q,children:l(FL,{size:24})})]}):l("div",{className:"article-detail-container",children:g("div",{className:"error-message",children:[l("h2",{children:"Article not found"}),l("button",{onClick:()=>i("/news"),children:"Back to Newsroom"})]})})};class zSe{constructor(){this.socket=null,this.listeners=new Map}connect(e){var i;if((i=this.socket)!=null&&i.connected){console.log("Socket already connected");return}const t="http://localhost:3000";this.socket=fy(t,{auth:{token:e},transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3}),this.socket.on("connect",()=>{console.log(" Socket connected:",this.socket.id)}),this.socket.on("disconnect",r=>{console.log(" Socket disconnected:",r)}),this.socket.on("connect_error",r=>{console.error("Socket connection error:",r.message)}),this.socket.on("error",r=>{console.error("Socket error:",r)})}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null,this.listeners.clear(),console.log("Socket disconnected"))}joinForum(e){this.socket&&this.socket.emit("forum:join",e)}leaveForum(e){this.socket&&this.socket.emit("forum:leave",e)}joinThread(e){this.socket&&this.socket.emit("thread:join",e)}leaveThread(e){this.socket&&this.socket.emit("thread:leave",e)}emitTyping(e,t){this.socket&&this.socket.emit("thread:typing",{threadId:e,isTyping:t})}on(e,t){this.socket&&(this.socket.on(e,t),this.listeners.has(e)||this.listeners.set(e,[]),this.listeners.get(e).push(t))}off(e,t){if(this.socket&&(this.socket.off(e,t),this.listeners.has(e))){const i=this.listeners.get(e),r=i.indexOf(t);r>-1&&i.splice(r,1)}}onNewThread(e){this.on("thread:new",e)}onNewAnswer(e){this.on("answer:new",e)}onNewComment(e){this.on("comment:new",e)}onReactionUpdated(e){this.on("reaction:updated",e)}onAnswerAccepted(e){this.on("answer:accepted",e)}onUserTyping(e){this.on("thread:user_typing",e)}onModerationAction(e){this.on("moderation:action",e)}onTrendingUpdated(e){this.on("trending:updated",e)}onForumStatusChanged(e){this.on("forum:status_changed",e)}onPollCreated(e){this.on("poll:created",e)}onPollVoted(e){this.on("poll:voted",e)}onNotification(e){this.on("notification:new",e)}removeAllListeners(e){this.socket&&e&&(this.socket.removeAllListeners(e),this.listeners.delete(e))}}const Ef=new zSe,jSe=({isOpen:n,onClose:e,onSuccess:t})=>{const[i,r]=ie.useState({title:"",description:"",category:"Urban Design",motivation:"",intent:""}),[s,a]=ie.useState(!1),[o,c]=ie.useState(""),d=["Urban Design","Mobility","Heritage","Sustainability","Infrastructure","Housing","Policy","Technology","Other"],u=h=>{r({...i,[h.target.name]:h.target.value}),c("")},f=async h=>{var p,v,w,b,m,y;if(h.preventDefault(),!i.title.trim()){c("Forum title is required");const _=document.querySelector('[data-modal="create-forum"]');_&&(_.scrollTop=0);return}if(!i.description.trim()){c("Description is required");return}if(i.motivation.trim()&&i.motivation.trim().length<10){c("Motivation must be at least 10 characters or leave it empty");return}if(i.intent.trim()&&i.intent.trim().length<10){c("Intent must be at least 10 characters or leave it empty");return}a(!0),c("");try{if(!localStorage.getItem("authToken")){c("Please login to create a forum"),a(!1);return}const x={title:i.title.trim(),description:i.description.trim(),category:i.category};i.motivation.trim()&&(x.motivation=i.motivation.trim()),i.intent.trim()&&(x.intent=i.intent.trim()),(await Xe.post("/forum/create",x)).data.success&&(alert("Forum submitted for approval! You will be notified once it is reviewed."),r({title:"",description:"",category:"Urban Design",motivation:"",intent:""}),t(),e())}catch(_){console.error("Error creating forum:",_),console.error("Error response:",(p=_.response)==null?void 0:p.data),((v=_.response)==null?void 0:v.status)===401?c("Authentication failed. Please login again."):(b=(w=_.response)==null?void 0:w.data)!=null&&b.message?c(_.response.data.message):(y=(m=_.response)==null?void 0:m.data)!=null&&y.error?c(_.response.data.error):c("Failed to create forum. Please try again.")}finally{a(!1)}};return n?l("div",{style:qn.overlay,onClick:e,children:g("div",{style:qn.modal,onClick:h=>h.stopPropagation(),"data-modal":"create-forum",children:[g("div",{style:qn.header,children:[l("h2",{style:qn.title,children:"Create New Forum"}),l("button",{style:qn.closeButton,onClick:e,type:"button",children:""})]}),o&&g("div",{style:qn.error,children:[" ",o]}),g("form",{onSubmit:f,style:qn.form,children:[g("div",{style:qn.formGroup,children:[g("label",{style:qn.label,children:["Forum Title ",l("span",{style:qn.required,children:"*"})]}),l("input",{type:"text",name:"title",value:i.title,onChange:u,placeholder:"e.g., Urban Planning Best Practices 2026",required:!0,style:qn.input})]}),g("div",{style:qn.formGroup,children:[g("label",{style:qn.label,children:["Category ",l("span",{style:qn.required,children:"*"})]}),l("select",{name:"category",value:i.category,onChange:u,required:!0,style:qn.select,children:d.map(h=>l("option",{value:h,children:h},h))})]}),g("div",{style:qn.formGroup,children:[g("label",{style:qn.label,children:["Description ",l("span",{style:qn.required,children:"*"})]}),l("textarea",{name:"description",value:i.description,onChange:u,placeholder:"Describe what this forum is about and what topics will be discussed...",required:!0,rows:"4",style:qn.textarea})]}),g("div",{style:qn.formGroup,children:[l("label",{style:qn.label,children:"Motivation (Why create this forum?)"}),l("textarea",{name:"motivation",value:i.motivation,onChange:u,placeholder:"Explain why this forum is needed and what gap it fills...",rows:"3",style:qn.textarea}),l("small",{style:qn.hint,children:"Optional but recommended for faster approval (min 10 characters if provided)"})]}),g("div",{style:qn.formGroup,children:[l("label",{style:qn.label,children:"Intent (What discussions will this enable?)"}),l("textarea",{name:"intent",value:i.intent,onChange:u,placeholder:"What kind of discussions and collaborations do you envision...",rows:"3",style:qn.textarea}),l("small",{style:qn.hint,children:"Optional but recommended for faster approval (min 10 characters if provided)"})]}),g("div",{style:qn.infoBox,children:[l("strong",{children:" Approval Process:"}),l("p",{style:qn.infoText,children:"Your forum will be submitted for admin review. You'll be notified via email and real-time notification once it's approved or if any changes are needed."})]}),g("div",{style:qn.actions,children:[l("button",{type:"button",onClick:e,style:qn.cancelButton,disabled:s,children:"Cancel"}),l("button",{type:"submit",style:qn.submitButton,disabled:s,children:s?"Submitting...":"Submit for Approval"})]})]})]})}):null},qn={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:"20px"},modal:{backgroundColor:"white",borderRadius:"12px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)",display:"flex",flexDirection:"column"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"24px",borderBottom:"1px solid #e0e0e0",position:"sticky",top:0,backgroundColor:"white",zIndex:1},title:{margin:0,fontSize:"24px",fontWeight:"bold",color:"#1a1a1a"},closeButton:{background:"none",border:"none",fontSize:"32px",cursor:"pointer",color:"#666",padding:"0",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",transition:"color 0.3s ease"},error:{margin:"0 24px",marginTop:"16px",padding:"12px",backgroundColor:"#ffebee",color:"#c62828",borderRadius:"6px",fontSize:"14px"},form:{padding:"24px",overflow:"auto",flex:1},formGroup:{marginBottom:"20px"},label:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:"#333"},required:{color:"#f44336"},input:{width:"100%",padding:"12px",border:"1px solid #ddd",borderRadius:"6px",fontSize:"14px",fontFamily:"inherit",transition:"border-color 0.3s ease",boxSizing:"border-box"},select:{width:"100%",padding:"12px",border:"1px solid #ddd",borderRadius:"6px",fontSize:"14px",fontFamily:"inherit",backgroundColor:"white",cursor:"pointer",boxSizing:"border-box"},textarea:{width:"100%",padding:"12px",border:"1px solid #ddd",borderRadius:"6px",fontSize:"14px",fontFamily:"inherit",resize:"vertical",transition:"border-color 0.3s ease",boxSizing:"border-box"},hint:{display:"block",marginTop:"4px",fontSize:"12px",color:"#666"},infoBox:{padding:"16px",backgroundColor:"#e3f2fd",borderRadius:"6px",marginBottom:"24px",fontSize:"14px",color:"#1976d2"},infoText:{margin:"8px 0 0 0",fontSize:"13px",color:"#555"},actions:{display:"flex",paddingTop:"16px",borderTop:"1px solid #e0e0e0",marginTop:"24px",gap:"12px",justifyContent:"flex-end"},cancelButton:{padding:"12px 24px",border:"1px solid #ddd",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:"pointer",backgroundColor:"white",color:"#666",transition:"all 0.3s ease"},submitButton:{padding:"12px 24px",border:"none",borderRadius:"6px",backgroundColor:"#8bc34a",color:"white",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.3s ease",":hover":{backgroundColor:"#7cb342"},":disabled":{backgroundColor:"#ccc",cursor:"not-allowed"}}},WSe=[{title:"Climate-Resilient Design",replies:45,trend:"+12%"},{title:"Zoning Law Updates",replies:32,trend:"+8%"},{title:"Public Transit Optimization",replies:28,trend:"+15%"},{title:"Heritage Conservation",replies:21,trend:"+5%"}],$Se=({onCreateClick:n})=>g(Ft,{children:[l("div",{className:"forum-header",children:g("div",{className:"header-content-wrapper",children:[g("div",{className:"header-text-section",children:[g("div",{className:"header-badge",children:[l(bl,{size:18}),l("span",{children:"Discussion Forum"})]}),l("h1",{className:"forum-main-title",children:"Discussion Forum"}),l("p",{className:"forum-subtitle",children:"Ask questions, share insights, and learn from peers."})]}),g("button",{className:"create-forum-btn",onClick:n,children:[l(nd,{size:20}),l("span",{children:"Create Forum"})]})]})}),l("style",{children:`
        .forum-header {
          background: #524393;
          border-radius: 24px;
          padding: 40px 36px;
          margin-bottom: 32px;
          box-shadow: 0 18px 40px rgba(82, 67, 147, 0.35);
          position: relative;
          overflow: hidden;
          border: none;
        }

        .forum-header::before {
          content: none;
        }

        .header-content-wrapper {
          display: flex;
          justify-content: space-between;
          align-items: center;
          gap: 32px;
          position: relative;
          z-index: 2;
        }

        .header-text-section {
          flex: 1;
        }

        .header-badge {
          display: inline-flex;
          align-items: center;
          gap: 8px;
          background: rgba(255, 255, 255, 0.12);
          padding: 8px 16px;
          border-radius: 999px;
          color: #f9fafb;
          font-size: 13px;
          font-weight: 700;
          text-transform: uppercase;
          letter-spacing: 0.5px;
          margin-bottom: 16px;
          border: 1px solid rgba(255, 255, 255, 0.28);
        }

        .header-badge svg {
          color: #f9fafb;
        }

        .forum-main-title {
          font-size: 40px;
          font-weight: 800;
          color: #ffffff;
          margin: 0 0 12px 0;
          letter-spacing: -0.5px;
          line-height: 1.1;
        }

        .forum-subtitle {
          font-size: 16px;
          color: rgba(249, 250, 251, 0.88);
          margin: 0;
          font-weight: 400;
          line-height: 1.6;
        }

        .create-forum-btn {
          display: inline-flex;
          align-items: center;
          gap: 10px;
          padding: 16px 32px;
          background: linear-gradient(135deg, #BDD337 0%, #a8c91f 100%);
          color: #1B1528;
          border: none;
          border-radius: 12px;
          font-size: 16px;
          font-weight: 700;
          cursor: pointer;
          transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);
          box-shadow: 0 4px 15px rgba(189, 211, 55, 0.3);
          white-space: nowrap;
        }

        .create-forum-btn:hover {
          transform: translateY(-3px);
          box-shadow: 0 8px 25px rgba(189, 211, 55, 0.4);
        }

        .create-forum-btn:active {
          transform: translateY(-1px);
        }

        @media (max-width: 768px) {
          .forum-header {
            padding: 32px 24px;
            border-radius: 16px;
          }

          .header-content-wrapper {
            flex-direction: column;
            text-align: center;
            gap: 24px;
          }

          .forum-main-title {
            font-size: 32px;
          }

          .forum-subtitle {
            font-size: 16px;
          }

          .create-forum-btn {
            width: 100%;
            justify-content: center;
          }
        }

        @media (max-width: 480px) {
          .forum-header {
            padding: 24px 16px;
          }

          .forum-main-title {
            font-size: 28px;
          }

          .forum-subtitle {
            font-size: 14px;
          }
        }
      `})]}),qSe=({searchTerm:n,onSearchChange:e,sortBy:t,onSortChange:i,activeFilter:r,onFilterChange:s,statusCounts:a})=>{const o=["trending","newest","most-answered","most-followed"],c=["all","my-forums","followed","pending","approved"],d=u=>{if(!a)return 0;switch(u){case"all":return a.all;case"my-forums":return a.myForums;case"followed":return a.followed;case"pending":return a.pending;case"approved":return a.approved;default:return 0}};return g(Ft,{children:[g("div",{className:"filter-bar",children:[l("div",{className:"search-section",children:g("div",{className:"search-input-wrapper",children:[l(ia,{size:20,className:"search-icon"}),l("input",{type:"text",className:"search-input",placeholder:"Search topics, users, tags...",value:n,onChange:u=>e(u.target.value)})]})}),g("div",{className:"filter-controls",children:[l("div",{className:"sort-buttons",children:o.map(u=>g("button",{className:`sort-btn ${t===u?"active":""}`,onClick:()=>i(u),children:[u==="trending"&&l(Aa,{size:16}),u==="newest"&&l(xr,{size:16}),u==="most-answered"&&l(bl,{size:16}),u==="most-followed"&&l(wn,{size:16}),l("span",{children:u.split("-").map(f=>f.charAt(0).toUpperCase()+f.slice(1)).join(" ")})]},u))}),l("div",{className:"filter-chips",children:c.map(u=>g("button",{className:`filter-chip ${r===u?"active":""}`,onClick:()=>s(u),children:[u==="my-forums"&&l(Is,{size:14}),u==="followed"&&l(wn,{size:14}),u==="pending"&&l(xr,{size:14}),u==="approved"&&l(di,{size:14}),l("span",{children:u.split("-").map(f=>f.charAt(0).toUpperCase()+f.slice(1)).join(" ")}),d(u)>0&&l("span",{className:"filter-chip-count",children:d(u)})]},u))})]})]}),l("style",{children:`
        .filter-bar {
          background: white;
          border-radius: 16px;
          padding: 24px;
          margin-bottom: 32px;
          box-shadow: 0 4px 12px rgba(82, 67, 147, 0.08);
          border: 1px solid #e9e0f0;
        }

        .search-section {
          margin-bottom: 20px;
        }

        .search-input-wrapper {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 14px 20px;
          background: #f8f7fc;
          border: 2px solid #ddd4e4;
          border-radius: 12px;
          transition: all 200ms;
        }

        .search-input-wrapper:focus-within {
          background: white;
          border-color: #524393;
          box-shadow: 0 0 0 4px rgba(82, 67, 147, 0.08);
        }

        .search-icon {
          color: #8b7c9e;
          flex-shrink: 0;
        }

        .search-input {
          flex: 1;
          border: none;
          outline: none;
          background: transparent;
          font-size: 15px;
          color: #1B1528;
          font-weight: 500;
        }

        .search-input::placeholder {
          color: #8b7c9e;
        }

        .filter-controls {
          display: flex;
          flex-direction: column;
          gap: 16px;
        }

        .sort-buttons {
          display: flex;
          gap: 12px;
          flex-wrap: wrap;
        }

        .sort-btn {
          display: inline-flex;
          align-items: center;
          gap: 8px;
          padding: 10px 18px;
          background: #f8f7fc;
          border: 2px solid #ddd4e4;
          border-radius: 10px;
          color: #4b5563;
          font-size: 14px;
          font-weight: 600;
          cursor: pointer;
          transition: all 200ms;
        }

        .sort-btn:hover {
          background: white;
          border-color: #524393;
          color: #524393;
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(82, 67, 147, 0.12);
        }

        .sort-btn.active {
          background: linear-gradient(135deg, #524393, #7c5ba8);
          border-color: #524393;
          color: white;
          box-shadow: 0 4px 12px rgba(82, 67, 147, 0.2);
        }

        .filter-chips {
          display: flex;
          gap: 10px;
          flex-wrap: wrap;
        }

        .filter-chip {
          display: inline-flex;
          align-items: center;
          gap: 6px;
          padding: 8px 16px;
          background: white;
          border: 2px solid #e9e0f0;
          border-radius: 50px;
          color: #4b5563;
          font-size: 13px;
          font-weight: 600;
          cursor: pointer;
          transition: all 200ms;
        }

        .filter-chip-count {
          min-width: 22px;
          height: 22px;
          border-radius: 999px;
          background: #f97316;
          color: #ffffff;
          font-size: 11px;
          font-weight: 700;
          display: inline-flex;
          align-items: center;
          justify-content: center;
          padding: 0 6px;
        }

        .filter-chip:hover {
          border-color: #BDD337;
          color: #1B1528;
          transform: scale(1.05);
        }

        .filter-chip.active {
          background: #BDD337;
          border-color: #BDD337;
          color: #1B1528;
          box-shadow: 0 2px 8px rgba(189, 211, 55, 0.3);
        }

        @media (max-width: 768px) {
          .filter-bar {
            padding: 20px;
          }

          .sort-buttons {
            overflow-x: auto;
            flex-wrap: nowrap;
            padding-bottom: 8px;
            -webkit-overflow-scrolling: touch;
          }

          .sort-btn {
            white-space: nowrap;
          }

          .filter-chips {
            overflow-x: auto;
            flex-wrap: nowrap;
            padding-bottom: 8px;
          }

          .filter-chip {
            white-space: nowrap;
          }
        }
      `})]})},HSe=({status:n})=>{const t=(()=>{switch(n){case"approved":return{color:"#10b981",bg:"rgba(16, 185, 129, 0.1)",label:"Approved",icon:di};case"pending":return{color:"#f59e0b",bg:"rgba(245, 158, 11, 0.1)",label:"Pending",icon:xr};case"closed":return{color:"#ef4444",bg:"rgba(239, 68, 68, 0.1)",label:"Closed",icon:po};default:return{color:"#6b7280",bg:"rgba(107, 114, 128, 0.1)",label:"Unknown",icon:bl}}})(),i=t.icon;return g(Ft,{children:[g("span",{className:`status-badge status-${n}`,children:[l(i,{size:14}),l("span",{children:t.label})]}),l("style",{children:`
        .status-badge {
          display: inline-flex;
          align-items: center;
          gap: 6px;
          padding: 6px 12px;
          border-radius: 50px;
          font-size: 12px;
          font-weight: 700;
          text-transform: uppercase;
          letter-spacing: 0.3px;
        }

        .status-approved {
          background: rgba(16, 185, 129, 0.1);
          color: #10b981;
        }

        .status-pending {
          background: rgba(245, 158, 11, 0.1);
          color: #f59e0b;
        }

        .status-closed {
          background: rgba(239, 68, 68, 0.1);
          color: #ef4444;
        }
      `})]})},VSe=({tag:n})=>g(Ft,{children:[g("span",{className:"tag-badge",children:[l(ofe,{size:12}),l("span",{children:n})]}),l("style",{children:`
        .tag-badge {
          display: inline-flex;
          align-items: center;
          gap: 4px;
          padding: 5px 12px;
          background: rgba(82, 67, 147, 0.08);
          border: 1px solid rgba(82, 67, 147, 0.15);
          border-radius: 6px;
          color: #524393;
          font-size: 12px;
          font-weight: 600;
          transition: all 200ms;
        }

        .tag-badge:hover {
          background: rgba(82, 67, 147, 0.15);
          border-color: #524393;
          transform: translateY(-1px);
        }
      `})]}),GSe=({forum:n,onFollow:e,onCardClick:t})=>{const[i,r]=ie.useState(!1),s=a=>{a.stopPropagation(),r(!i),e(n.id)};return g(Ft,{children:[g("div",{className:"forum-card",onClick:()=>t(n.id),children:[g("div",{className:"card-header-section",children:[g("div",{className:"author-info",children:[l("div",{className:"author-avatar",children:n.author.avatar}),g("div",{className:"author-details",children:[l("div",{className:"author-name",children:n.author.name}),g("div",{className:"author-meta",children:[n.author.reputation>0&&g("span",{className:"reputation",children:[l(am,{size:12}),n.author.reputation," pts"]}),l("span",{className:"post-time",children:n.createdAt})]})]})]}),g("div",{className:"card-status-row",children:[l(HSe,{status:n.status}),n.isPinned&&g("span",{className:"pinned-badge",children:[l(Is,{size:12,fill:"currentColor"}),"Pinned"]})]})]}),g("div",{className:"card-content",children:[l("h3",{className:"forum-title",children:n.title}),l("p",{className:"forum-description",children:n.description}),l("div",{className:"tags-row",children:n.tags.map((a,o)=>l(VSe,{tag:a},o))})]}),g("div",{className:"card-footer",children:[g("div",{className:"stats-row",children:[g("div",{className:"stat-item",children:[l(bl,{size:16}),g("span",{children:[n.stats.questions," Questions"]})]}),g("div",{className:"stat-item",children:[l(Ob,{size:16}),g("span",{children:[n.stats.replies," Replies"]})]}),g("div",{className:"stat-item",children:[l(na,{size:16}),g("span",{children:[n.stats.views.toLocaleString()," Views"]})]}),g("div",{className:"stat-item",children:[l(wn,{size:16}),g("span",{children:[n.stats.followers," Followers"]})]})]}),g("button",{className:`follow-btn ${i?"following":""}`,onClick:s,children:[l(Is,{size:16,fill:i?"currentColor":"none"}),l("span",{children:i?"Following":"Follow"})]})]})]}),l("style",{children:`
        .forum-card {
          background: white;
          border: 1px solid #e9e0f0;
          border-radius: 16px;
          padding: 24px;
          transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);
          cursor: pointer;
          position: relative;
          overflow: hidden;
        }

        .forum-card::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          height: 4px;
          background: linear-gradient(90deg, #524393, #A2A2D0);
          opacity: 0;
          transition: opacity 300ms;
        }

        .forum-card:hover {
          border-color: #524393;
          box-shadow: 0 12px 24px rgba(82, 67, 147, 0.15);
          transform: translateY(-4px);
        }

        .forum-card:hover::before {
          opacity: 1;
        }

        .card-header-section {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          margin-bottom: 20px;
        }

        .author-info {
          display: flex;
          align-items: center;
          gap: 12px;
        }

        .author-avatar {
          width: 44px;
          height: 44px;
          border-radius: 50%;
          background: linear-gradient(135deg, #524393, #A2A2D0);
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
          font-weight: 700;
          font-size: 14px;
          flex-shrink: 0;
        }

        .author-details {
          display: flex;
          flex-direction: column;
          gap: 4px;
        }

        .author-name {
          font-weight: 700;
          color: #1B1528;
          font-size: 14px;
        }

        .author-meta {
          display: flex;
          align-items: center;
          gap: 12px;
          font-size: 12px;
          color: #8b7c9e;
        }

        .reputation {
          display: inline-flex;
          align-items: center;
          gap: 4px;
          color: #f59e0b;
          font-weight: 600;
        }

        .post-time {
          color: #8b7c9e;
        }

        .card-status-row {
          display: flex;
          gap: 8px;
          align-items: center;
        }

        .pinned-badge {
          display: inline-flex;
          align-items: center;
          gap: 4px;
          padding: 6px 12px;
          background: rgba(244, 63, 94, 0.1);
          color: #be123c;
          border-radius: 50px;
          font-size: 12px;
          font-weight: 700;
          text-transform: uppercase;
          letter-spacing: 0.3px;
        }

        .card-content {
          margin-bottom: 20px;
        }

        .forum-title {
          font-size: 20px;
          font-weight: 700;
          color: #1B1528;
          margin: 0 0 12px 0;
          line-height: 1.4;
          transition: color 200ms;
        }

        .forum-card:hover .forum-title {
          color: #524393;
        }

        .forum-description {
          font-size: 15px;
          color: #4b5563;
          line-height: 1.6;
          margin: 0 0 16px 0;
        }

        .tags-row {
          display: flex;
          gap: 8px;
          flex-wrap: wrap;
        }

        .card-footer {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding-top: 20px;
          border-top: 1px solid #e9e0f0;
          gap: 16px;
        }

        .forum-card .stats-row {
          display: flex;
          gap: 16px;
          flex-wrap: wrap;
        }

        .forum-card .stats-row .stat-item {
          display: inline-flex;
          align-items: center;
          justify-content: flex-start;
          gap: 8px;
          padding: 10px 16px;
          background: #f9fbff;
          border-radius: 12px;
          border: 1px solid #e2e8f0;
          color: #4b5563;
          font-size: 13px;
          font-weight: 600;
          box-shadow: 0 6px 12px rgba(15, 23, 42, 0.04);
          transition: transform 150ms ease, box-shadow 150ms ease, border-color 150ms ease;
        }

        .forum-card .stats-row .stat-item:hover {
          transform: translateY(-1px);
          border-color: #cbd5f5;
          box-shadow: 0 10px 18px rgba(15, 23, 42, 0.06);
        }

        .forum-card .stats-row .stat-item svg {
          color: #524393;
          background: none;
          padding: 0;
          border-radius: 0;
          box-shadow: none;
          border: none;
          width: 16px;
          height: 16px;
          flex-shrink: 0;
        }

        .follow-btn {
          display: inline-flex;
          align-items: center;
          gap: 8px;
          padding: 10px 20px;
          background: white;
          border: 2px solid #ddd4e4;
          border-radius: 10px;
          color: #524393;
          font-size: 14px;
          font-weight: 700;
          cursor: pointer;
          transition: all 200ms;
          white-space: nowrap;
        }

        .follow-btn:hover {
          background: #f8f7fc;
          border-color: #524393;
          transform: scale(1.05);
        }

        .follow-btn.following {
          background: #BDD337;
          border-color: #BDD337;
          color: #1B1528;
        }

        @media (max-width: 768px) {
          .forum-card {
            padding: 20px;
          }

          .card-header-section {
            flex-direction: column;
            gap: 12px;
          }

          .card-status-row {
            align-self: flex-start;
          }

          .forum-title {
            font-size: 18px;
          }

          .card-footer {
            flex-direction: column;
            align-items: stretch;
          }

          .stats-row {
            flex-wrap: wrap;
            gap: 12px;
          }

          .follow-btn {
            width: 100%;
            justify-content: center;
          }
        }
      `})]})},XSe=({topics:n})=>g(Ft,{children:[g("div",{className:"trending-widget",children:[g("div",{className:"widget-header",children:[l(Aa,{size:20}),l("h3",{children:"Trending Topics"})]}),l("div",{className:"trending-list",children:n.map((e,t)=>g("div",{className:"trending-item",children:[g("div",{className:"trending-info",children:[l("div",{className:"trending-title",children:e.title}),g("div",{className:"trending-meta",children:[l(bl,{size:12}),g("span",{children:[e.replies," replies"]})]})]}),l("div",{className:"trending-badge",children:e.trend})]},t))})]}),l("style",{children:`
        .trending-widget {
          background: white;
          border: 1px solid #e9e0f0;
          border-radius: 16px;
          padding: 24px;
          box-shadow: 0 4px 12px rgba(82, 67, 147, 0.08);
        }

        .widget-header {
          display: flex;
          align-items: center;
          gap: 10px;
          margin-bottom: 20px;
          padding-bottom: 16px;
          border-bottom: 2px solid #e9e0f0;
        }

        .widget-header svg {
          color: #524393;
        }

        .widget-header h3 {
          margin: 0;
          font-size: 18px;
          font-weight: 700;
          color: #1B1528;
        }

        .trending-list {
          display: flex;
          flex-direction: column;
          gap: 16px;
        }

        .trending-item {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          gap: 12px;
          padding: 12px;
          background: #f8f7fc;
          border-radius: 10px;
          transition: all 200ms;
          cursor: pointer;
        }

        .trending-item:hover {
          background: #ede8f5;
          transform: translateX(4px);
        }

        .trending-info {
          flex: 1;
        }

        .trending-title {
          font-size: 14px;
          font-weight: 600;
          color: #1B1528;
          margin-bottom: 6px;
          line-height: 1.4;
        }

        .trending-meta {
          display: flex;
          align-items: center;
          gap: 6px;
          font-size: 12px;
          color: #8b7c9e;
        }

        .trending-meta svg {
          color: #524393;
        }

        .trending-badge {
          padding: 4px 10px;
          background: rgba(16, 185, 129, 0.1);
          color: #10b981;
          border-radius: 6px;
          font-size: 12px;
          font-weight: 700;
          white-space: nowrap;
        }
      `})]}),YSe=({onActionClick:n})=>g(Ft,{children:[g("div",{className:"quick-actions-widget",children:[g("div",{className:"widget-header",children:[l(lc,{size:20}),l("h3",{children:"Quick Actions"})]}),l("div",{className:"actions-list",children:[{id:"created",label:"My Created Forums",icon:Is,count:3},{id:"followed",label:"My Followed Forums",icon:wn,count:12}].map(t=>{const i=t.icon;return g("button",{className:"action-item",onClick:()=>n(t.id),children:[g("div",{className:"action-info",children:[l(i,{size:18}),l("span",{className:"action-label",children:t.label})]}),l("div",{className:"action-count",children:t.count})]},t.id)})})]}),l("style",{children:`
        .quick-actions-widget {
          background: white;
          border: 1px solid #e9e0f0;
          border-radius: 16px;
          padding: 24px;
          box-shadow: 0 4px 12px rgba(82, 67, 147, 0.08);
        }

        .actions-list {
          display: flex;
          flex-direction: column;
          gap: 12px;
        }

        .action-item {
          display: flex;
          justify-content: space-between;
          align-items: center;
          gap: 12px;
          padding: 14px;
          background: #f8f7fc;
          border: 2px solid #e9e0f0;
          border-radius: 10px;
          cursor: pointer;
          transition: all 200ms;
          text-align: left;
          width: 100%;
        }

        .action-item:hover {
          background: white;
          border-color: #524393;
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(82, 67, 147, 0.12);
        }

        .action-info {
          display: flex;
          align-items: center;
          gap: 12px;
          color: #1B1528;
        }

        .action-info svg {
          color: #524393;
        }

        .action-label {
          font-size: 14px;
          font-weight: 600;
        }

        .action-count {
          padding: 4px 12px;
          background: #BDD337;
          color: #1B1528;
          border-radius: 50px;
          font-size: 13px;
          font-weight: 700;
        }
      `})]}),KSe=({trendingTopics:n,onActionClick:e})=>g(Ft,{children:[g("div",{className:"sidebar-container",children:[l(XSe,{topics:n}),l(YSe,{onActionClick:e})]}),l("style",{children:`
        .sidebar-container {
          display: flex;
          flex-direction: column;
          gap: 24px;
        }

        @media (max-width: 1024px) {
          .sidebar-container {
            grid-column: 1 / -1;
          }
        }
      `})]}),JSe=()=>{const n=or(),{user:e,isAuthenticated:t}=hs(),[i,r]=ie.useState(""),[s,a]=ie.useState("newest"),[o,c]=ie.useState("all"),[d,u]=ie.useState(!1),[f,h]=ie.useState([]),[p,v]=ie.useState(!0),[w,b]=ie.useState({all:0,myForums:0,followed:0,pending:0,approved:0}),m=async()=>{var C;try{v(!0);let P;if(o==="my-forums")P=await Xe.get("/forum/user/my-forums",{params:{sort:s,search:i}});else{const D={sort:s,search:i};o==="pending"?D.status="pending":(o==="approved"||o==="all")&&(D.status="approved"),P=await Xe.get("/forum",{params:D})}if(P.data.success){const D=P.data.data.forums.map(E=>{var A,I,R,M,Y,q,G,B;return{id:E._id,title:E.title,description:E.description,author:{name:((A=E.creator)==null?void 0:A.name)||`${((I=E.creator)==null?void 0:I.firstName)||""} ${((R=E.creator)==null?void 0:R.lastName)||""}`.trim()||"Anonymous",avatar:(((Y=(M=E.creator)==null?void 0:M.firstName)==null?void 0:Y.substring(0,1))||"")+(((G=(q=E.creator)==null?void 0:q.lastName)==null?void 0:G.substring(0,1))||"")||"A",reputation:((B=E.creator)==null?void 0:B.reputation)||0},tags:[E.category.toLowerCase().replace(" ","-")],stats:{questions:E.threadCount||0,replies:0,views:0,followers:E.followerCount||0},status:E.status,createdAt:_(E.createdAt),isPinned:E.isPinned||!1}});h(D),b(E=>{var A;return{...E,all:((A=P.data.data.pagination)==null?void 0:A.total)||D.length}})}}catch(P){console.error("Error fetching forums:",P),((C=P.response)==null?void 0:C.status)===401&&console.log("Please login to view forums"),h([])}finally{v(!1)}},y=async()=>{try{const C=await Xe.get("/forum/status/counts");if(C.data.success){const{overall:P,user:D}=C.data.data;b({all:P.approved+((D==null?void 0:D.pending)||0),myForums:((D==null?void 0:D.approved)||0)+((D==null?void 0:D.pending)||0),followed:(D==null?void 0:D.followed)||0,pending:(D==null?void 0:D.pending)||P.pending||0,approved:P.approved||0})}}catch(C){console.error("Error fetching forum status counts:",C)}},_=C=>{const P=new Date(C),E=new Date-P,A=Math.floor(E/6e4),I=Math.floor(E/36e5),R=Math.floor(E/864e5);return A<60?`${A} minutes ago`:I<24?`${I} hours ago`:R<7?`${R} days ago`:P.toLocaleDateString()};ie.useEffect(()=>{m()},[s,i,o]),ie.useEffect(()=>{y()},[t]),ie.useEffect(()=>{const C=localStorage.getItem("authToken");return C&&t&&(Ef.connect(C),Ef.on("forum:created",P=>{console.log("New forum created:",P),m(),y()}),Ef.on("forum:approved",P=>{console.log("Forum approved:",P),m(),y()}),Ef.on("forum:rejected",P=>{console.log("Forum rejected:",P),m(),y()})),()=>{t&&(Ef.off("forum:created"),Ef.off("forum:approved"),Ef.off("forum:rejected"),Ef.disconnect())}},[t]);const x=()=>{if(!t){alert("Please login to create a forum"),n("/login");return}u(!0)},N=C=>{n(`/forum/threads/${C}`)},k=C=>{console.log("Following forum:",C)},T=C=>{console.log("Quick action:",C),c(C==="created"?"my-forums":"followed")};return g(Ft,{children:[l(jSe,{isOpen:d,onClose:()=>u(!1),onSuccess:()=>{console.log("Forum created successfully"),m(),y()}}),l("div",{className:"forum-page-wrapper",children:g("div",{className:"forum-container",children:[l($Se,{onCreateClick:x}),l(qSe,{searchTerm:i,onSearchChange:r,sortBy:s,onSortChange:a,activeFilter:o,onFilterChange:c,statusCounts:w}),g("div",{className:"forum-layout",children:[l("div",{className:"forum-main-content",children:l("div",{className:"forums-grid",children:f.map(C=>l(GSe,{forum:C,onFollow:k,onCardClick:N},C.id))})}),l("div",{className:"forum-sidebar",children:l(KSe,{trendingTopics:WSe,onActionClick:T})})]})]})}),l("style",{children:`
        .forum-page-wrapper {
          min-height: 100vh;
          background: linear-gradient(180deg, #ffffff 0%, #f8f7fc 50%, #ede8f5 100%);
          padding: 40px 0 80px;
        }

        .forum-container {
          max-width: 1400px;
          margin: 0 auto;
          padding: 0 24px;
        }

        .forum-layout {
          display: grid;
          grid-template-columns: 1fr 380px;
          gap: 32px;
          align-items: start;
        }

        .forum-main-content {
          min-width: 0;
        }

        .forums-grid {
          display: flex;
          flex-direction: column;
          gap: 20px;
          animation: fadeInUp 600ms ease-out;
        }

        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(30px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .forum-sidebar {
          position: sticky;
          top: 24px;
        }

        /* Responsive Layouts */
        @media (max-width: 1200px) {
          .forum-layout {
            grid-template-columns: 1fr 320px;
            gap: 24px;
          }
        }

        @media (max-width: 1024px) {
          .forum-layout {
            grid-template-columns: 1fr;
            gap: 32px;
          }

          .forum-sidebar {
            position: static;
          }
        }

        @media (max-width: 768px) {
          .forum-page-wrapper {
            padding: 24px 0 60px;
          }

          .forum-container {
            padding: 0 16px;
          }

          .forum-layout {
            gap: 24px;
          }

          .forums-grid {
            gap: 16px;
          }
        }

        @media (max-width: 480px) {
          .forum-page-wrapper {
            padding: 16px 0 40px;
          }

          .forum-container {
            padding: 0 12px;
          }
        }
      `})]})},WI={createForum:async n=>(await Xe.post("/forum/create",n)).data,getForums:async(n={})=>(await Xe.get("/forum/list",{params:n})).data,getForum:async n=>(await Xe.get(`/forum/${n}`)).data,getTrendingForums:async(n=10)=>(await Xe.get("/forum/trending",{params:{limit:n}})).data,checkTitleUniqueness:async n=>(await Xe.get(`/forum/check-title/${encodeURIComponent(n)}`)).data,getForumSuggestions:async n=>(await Xe.get("/forum/suggestions",{params:{query:n}})).data,toggleFollow:async n=>(await Xe.post(`/forum/${n}/follow`)).data,getForumAnalytics:async n=>(await Xe.get(`/forum/${n}/analytics`)).data,createQuestion:async(n,e)=>(await Xe.post(`/forum/${n}/question`,e)).data,getQuestions:async(n,e={})=>(await Xe.get(`/forum/${n}/questions`,{params:e})).data,getQuestion:async n=>(await Xe.get(`/forum/question/${n}`)).data,getQuestionSuggestions:async(n,e=null)=>(await Xe.get("/forum/question/suggestions",{params:{query:n,forumId:e}})).data,reactToQuestion:async(n,e)=>(await Xe.post(`/forum/question/${n}/react`,{type:e})).data,toggleQuestionFollow:async n=>(await Xe.post(`/forum/question/${n}/follow`)).data,deleteQuestion:async n=>(await Xe.delete(`/forum/question/${n}`)).data,createAnswer:async(n,e)=>(await Xe.post(`/forum/question/${n}/answer`,e)).data,getAnswers:async(n,e={})=>(await Xe.get(`/forum/question/${n}/answers`,{params:e})).data,addComment:async(n,e)=>(await Xe.post(`/forum/answer/${n}/comment`,e)).data,reactToAnswer:async(n,e)=>(await Xe.post(`/forum/answer/${n}/react`,{type:e})).data,markBestAnswer:async n=>(await Xe.put(`/forum/answer/${n}/mark-best`)).data,deleteAnswer:async n=>(await Xe.delete(`/forum/answer/${n}`)).data,reactToComment:async(n,e)=>(await Xe.post(`/forum/answer/${n}/comment/${e}/react`)).data,flagContent:async n=>(await Xe.post("/forum/flag",n)).data,submitAppeal:async(n,e)=>(await Xe.post(`/forum/appeal/flag/${n}/appeal`,{content:e})).data,getPolls:async(n={})=>(await Xe.get("/forum/polls",{params:n})).data,getPoll:async n=>(await Xe.get(`/forum/poll/${n}`)).data,votePoll:async(n,e)=>(await Xe.post(`/forum/poll/${n}/vote`,{optionIndexes:e})).data},W2={getPendingForums:async(n={})=>(await Xe.get("/admin/forum/forums/pending",{params:n})).data,getAllForums:async(n={})=>(await Xe.get("/admin/forum/forums",{params:n})).data,approveForum:async n=>(await Xe.put(`/admin/forum/forum/${n}/approve`)).data,rejectForum:async(n,e)=>(await Xe.put(`/admin/forum/forum/${n}/reject`,{reason:e})).data,deleteForum:async n=>(await Xe.delete(`/admin/forum/forum/${n}`)).data,getFlaggedContent:async(n={})=>(await Xe.get("/admin/forum/flags",{params:n})).data,getAnonymousIdentity:async(n,e)=>(await Xe.get(`/admin/forum/flag/${n}/${e}/identity`)).data,resolveFlag:async(n,e,t)=>(await Xe.post(`/admin/forum/flag/${n}/resolve`,{action:e,adminNotes:t})).data,reviewAppeal:async(n,e,t)=>(await Xe.post(`/admin/forum/flag/${n}/appeal/review`,{decision:e,adminNotes:t})).data,createPoll:async n=>(await Xe.post("/admin/forum/poll/create",n)).data,getPollAnalytics:async n=>(await Xe.get(`/admin/forum/poll/${n}/analytics`)).data,closePoll:async n=>(await Xe.put(`/admin/forum/poll/${n}/close`)).data},ZSe=()=>{const[n,e]=ie.useState({title:"",description:"",category:"Urban Design",motivation:"",intent:""}),[t,i]=ie.useState(!1),[r,s]=ie.useState(""),a=or(),o=["Urban Design","Mobility","Heritage","Sustainability","Infrastructure","Housing","Policy","Technology","Other"],c=u=>{e({...n,[u.target.name]:u.target.value}),s("")};return g("div",{style:{maxWidth:"720px",margin:"0 auto",padding:"2rem 1rem"},children:[l("h1",{style:{fontSize:"1.75rem",fontWeight:"600",marginBottom:"1rem"},children:"Create Forum"}),r&&l("div",{style:{color:"red",marginBottom:"1rem"},children:r}),g("form",{onSubmit:async u=>{var f,h;if(u.preventDefault(),!n.title.trim()||!n.description.trim()){s("Title and description are required");return}try{i(!0);const p={title:n.title.trim(),description:n.description.trim(),category:n.category};n.motivation.trim()&&(p.motivation=n.motivation.trim()),n.intent.trim()&&(p.intent=n.intent.trim());const v=await WI.createForum(p);v!=null&&v.success?a("/forum"):s((v==null?void 0:v.message)||"Failed to create forum")}catch(p){console.error("Error creating forum:",p),s(((h=(f=p.response)==null?void 0:f.data)==null?void 0:h.message)||"Failed to create forum")}finally{i(!1)}},style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[g("div",{children:[l("label",{style:{display:"block",marginBottom:"0.25rem"},children:"Title"}),l("input",{type:"text",name:"title",value:n.title,onChange:c,style:{width:"100%",padding:"0.5rem",borderRadius:"4px",border:"1px solid #d1d5db"}})]}),g("div",{children:[l("label",{style:{display:"block",marginBottom:"0.25rem"},children:"Category"}),l("select",{name:"category",value:n.category,onChange:c,style:{width:"100%",padding:"0.5rem",borderRadius:"4px",border:"1px solid #d1d5db"},children:o.map(u=>l("option",{value:u,children:u},u))})]}),g("div",{children:[l("label",{style:{display:"block",marginBottom:"0.25rem"},children:"Description"}),l("textarea",{name:"description",value:n.description,onChange:c,rows:4,style:{width:"100%",padding:"0.5rem",borderRadius:"4px",border:"1px solid #d1d5db"}})]}),g("div",{children:[l("label",{style:{display:"block",marginBottom:"0.25rem"},children:"Motivation (optional)"}),l("textarea",{name:"motivation",value:n.motivation,onChange:c,rows:3,style:{width:"100%",padding:"0.5rem",borderRadius:"4px",border:"1px solid #d1d5db"}})]}),g("div",{children:[l("label",{style:{display:"block",marginBottom:"0.25rem"},children:"Intent (optional)"}),l("textarea",{name:"intent",value:n.intent,onChange:c,rows:3,style:{width:"100%",padding:"0.5rem",borderRadius:"4px",border:"1px solid #d1d5db"}})]}),g("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem"},children:[l("button",{type:"button",onClick:()=>a("/forum"),style:{padding:"0.5rem 1rem",borderRadius:"4px",border:"1px solid #d1d5db",background:"#fff",cursor:"pointer"},disabled:t,children:"Cancel"}),l("button",{type:"submit",style:{padding:"0.5rem 1rem",borderRadius:"4px",border:"none",background:"#524393",color:"#fff",cursor:"pointer"},disabled:t,children:t?"Submitting...":"Submit for Approval"})]})]})]})},QSe=()=>{const{forumId:n}=gS(),e=or(),[t,i]=ie.useState(null),[r,s]=ie.useState([]),[a,o]=ie.useState(!0),[c,d]=ie.useState("");ie.useEffect(()=>{n&&(async()=>{var h;try{o(!0);const[p,v]=await Promise.all([WI.getForum(n),WI.getQuestions(n)]);i((p==null?void 0:p.data)||(p==null?void 0:p.forum)||null),s(((h=v==null?void 0:v.data)==null?void 0:h.questions)||[])}catch(p){console.error("Error loading forum detail:",p),d("Failed to load forum.")}finally{o(!1)}})()},[n]);const u=()=>e("/forum");return a?l("div",{style:{padding:"2rem"},children:"Loading forum..."}):c?g("div",{style:{padding:"2rem"},children:[l("button",{onClick:u,style:{marginBottom:"1rem"},children:" Back"}),l("div",{style:{color:"red"},children:c})]}):t?g("div",{style:{maxWidth:"960px",margin:"0 auto",padding:"2rem 1rem"},children:[l("button",{onClick:u,style:{marginBottom:"1rem"},children:" Back to forums"}),l("h1",{style:{fontSize:"1.75rem",fontWeight:"600",marginBottom:"0.5rem"},children:t.title}),l("p",{style:{color:"#4b5563",marginBottom:"0.5rem"},children:t.description}),l("div",{style:{fontSize:"0.85rem",color:"#6b7280",marginBottom:"1.5rem"},children:t.category}),l("h2",{style:{fontSize:"1.25rem",fontWeight:"600",marginBottom:"0.75rem"},children:"Questions"}),r.length===0?l("p",{children:"No questions yet in this forum."}):l("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:r.map(f=>g("div",{style:{padding:"0.75rem 1rem",borderRadius:"6px",border:"1px solid #e5e7eb",background:"#fff"},children:[l("div",{style:{fontWeight:"600",marginBottom:"0.25rem"},children:f.title}),f.content&&l("p",{style:{fontSize:"0.9rem",color:"#4b5563",marginBottom:"0.25rem"},children:f.content.length>160?`${f.content.slice(0,160)}...`:f.content}),l("div",{style:{fontSize:"0.8rem",color:"#6b7280"},children:f.answerCount!=null&&g("span",{children:[f.answerCount," answers"]})})]},f._id||f.id))})]}):g("div",{style:{padding:"2rem"},children:[l("button",{onClick:u,style:{marginBottom:"1rem"},children:" Back"}),l("div",{children:"Forum not found."})]})};const eNe=async()=>{try{return(await Xe.get("/networking/connections/stats")).data}catch(n){return console.error("Error fetching connection stats:",n),{success:!0,stats:{connections:0,pendingRequests:0,sentRequests:0}}}},tNe=async()=>{try{return(await Xe.get("/networking/stats")).data}catch(n){return console.error("Error fetching networking stats:",n),{success:!0,stats:{groups:0,upcomingEvents:0,unreadMessages:0}}}},nNe=async()=>{try{return(await Xe.get("/networking/notifications/unread/count")).data}catch(n){return console.error("Error fetching unread notifications:",n),{success:!0,count:0}}},$I=async n=>{try{return(await Xe.post("/networking/connections/request",{userId:n})).data}catch(e){throw console.error("Error sending connection request:",e),e}},iNe=async n=>{try{return(await Xe.post(`/networking/connections/accept/${n}`)).data}catch(e){throw console.error("Error accepting connection request:",e),e}},rNe=async n=>{try{return(await Xe.post(`/networking/connections/reject/${n}`)).data}catch(e){throw console.error("Error rejecting connection request:",e),e}},sNe=async n=>{try{return(await Xe.delete(`/networking/connections/${n}`)).data}catch(e){throw console.error("Error removing connection:",e),e}},aNe=async n=>{try{return(await Xe.post(`/networking/groups/${n}/join`)).data}catch(e){throw console.error("Error joining group:",e),e}},oNe=async(n="all",e=50,t=1)=>{try{return(await Xe.get("/networking/notifications",{params:{filter:n,limit:e,page:t}})).data}catch(i){throw console.error("Error fetching notifications:",i),i}},lNe=async()=>{try{return(await Xe.post("/networking/notifications/mark-all-read")).data}catch(n){throw console.error("Error marking all notifications as read:",n),n}},cNe=async n=>{try{return(await Xe.post(`/networking/notifications/${n}/read`)).data}catch(e){throw console.error("Error marking notification as read:",e),e}},dNe=async()=>{try{return(await Xe.get("/networking/messages/conversations")).data}catch(n){throw console.error("Error fetching conversations:",n),n}},uNe=async n=>{try{return(await Xe.get(`/networking/messages/${n}`)).data}catch(e){throw console.error("Error fetching messages:",e),e}},oz=async n=>{try{return(await Xe.post(`/networking/messages/${n}/read`)).data}catch(e){throw console.error("Error marking messages as read:",e),e}},hNe=async n=>{try{return(await Xe.post("/networking/messages",n)).data}catch(e){throw console.error("Error sending message:",e),e}},fNe=async(n={})=>{try{return(await Xe.get("/networking/jobs",{params:n})).data}catch(e){throw console.error("Error fetching jobs:",e),e}},pNe=async()=>{try{return(await Xe.get("/networking/jobs/applications")).data}catch(n){throw console.error("Error fetching applications:",n),n}},mNe=async()=>{try{return(await Xe.get("/networking/jobs/saved")).data}catch(n){throw console.error("Error fetching saved jobs:",n),n}},gNe=async(n,e)=>{try{return(await Xe.post(`/networking/jobs/${n}/apply`,e)).data}catch(t){throw console.error("Error applying to job:",t),t}},yNe=async n=>{try{return(await Xe.post(`/networking/jobs/${n}/toggle-save`)).data}catch(e){throw console.error("Error toggling save job:",e),e}},vNe=async()=>{try{return(await Xe.get("/networking/groups/my-groups")).data}catch(n){throw console.error("Error fetching my groups:",n),n}},bNe=async()=>{try{return(await Xe.get("/networking/groups/discover")).data}catch(n){throw console.error("Error fetching discover groups:",n),n}},wNe=async n=>{try{return(await Xe.post("/networking/groups",n)).data}catch(e){throw console.error("Error creating group:",e),e}},xNe=async()=>{try{return(await Xe.get("/networking/events/my-events")).data}catch(n){throw console.error("Error fetching my events:",n),n}},_Ne=async()=>{try{return(await Xe.get("/networking/events/upcoming")).data}catch(n){throw console.error("Error fetching upcoming events:",n),n}},SNe=async n=>{try{return(await Xe.post("/networking/events",n)).data}catch(e){throw console.error("Error creating event:",e),e}};const NNe=async n=>{try{return(await Xe.put("/profile",n)).data}catch(e){throw console.error("Error updating profile:",e),e}},ANe=async()=>{try{return(await Xe.get("/profile/stats")).data}catch(n){return console.error("Error fetching profile stats:",n),{success:!0,stats:{connections:0,posts:0,views:0}}}},kNe=({userRole:n,setUserRole:e})=>{const{user:t}=hs();let i="User";t!=null&&t.displayName?i=t.displayName:t!=null&&t.firstName&&(i=t.firstName+(t.lastName?" "+t.lastName:""));const r=(t==null?void 0:t.photoURL)||"/api/placeholder/80/80",[s,a]=ie.useState(!1),[o,c]=ie.useState(!0),[d,u]=ie.useState({name:i,firstName:"",lastName:"",title:"",company:"",location:"",bio:"",profileViews:0,connections:0,postImpressions:0,profileStrength:0,linkedinUrl:"",verified:!1,skills:[],badges:[]}),[f,h]=ie.useState(!1);ie.useEffect(()=>{p()},[]);const p=async()=>{try{c(!0);const b=await ANe();b.success&&b.stats&&(u(m=>({...m,...b.stats,connections:b.stats.connections||0,postImpressions:b.stats.posts||0,profileViews:b.stats.views||0})),(b.stats.role==="premium"||b.stats.role==="admin")&&e(b.stats.role==="admin"?"premium":b.stats.role))}catch(b){console.error("Error fetching profile data:",b)}finally{c(!1)}},v=b=>b>=80?"#10b981":b>=60?"#3b82f6":b>=40?"#f59e0b":"#ef4444",w=async()=>{try{(await NNe({firstName:d.firstName,lastName:d.lastName,position:d.title,organization:d.company,location:d.location,bio:d.bio,linkedinUrl:d.linkedinUrl,skills:d.skills})).success&&(a(!1),h(!0),_n.success("Profile updated successfully!"),await p(),setTimeout(()=>{h(!1)},3e3))}catch(b){console.error("Error updating profile:",b)}};return o?l("div",{className:"profile-section",children:l("div",{className:"profile-main-container",children:g("div",{className:"loading-container",children:[l("div",{className:"spinner"}),l("p",{children:"Loading profile..."})]})})}):g("div",{className:"profile-section",children:[f&&g("div",{className:"success-toast",children:[l(v3,{size:20}),l("span",{children:"Profile updated successfully!"})]}),g("div",{className:"profile-main-container",children:[g("div",{className:"profile-header",children:[g("div",{className:"profile-avatar",children:[l("img",{src:r,alt:d.name}),d.verified&&l("div",{className:"verified-badge",children:l(v3,{size:16})})]}),g("div",{className:"profile-info",children:[g("h2",{className:"profile-name",children:[d.name,d.verified&&l(gx,{size:18,className:"verify-icon"})]}),l("p",{className:"profile-title",children:d.title}),l("p",{className:"profile-company",children:d.company}),l("p",{className:"profile-location",children:d.location})]}),l("button",{className:"edit-profile-btn",onClick:()=>a(!0),children:l(mx,{size:16})})]}),l("div",{className:"profile-divider"}),g("div",{className:"profile-strength",children:[g("div",{className:"strength-header",children:[l("span",{className:"strength-label",children:"Profile Strength"}),g("span",{className:"strength-value",children:[d.profileStrength,"%"]})]}),l("div",{className:"strength-bar",children:l("div",{className:"strength-fill",style:{width:`${d.profileStrength}%`,backgroundColor:v(d.profileStrength)}})}),l("p",{className:"strength-tip",children:d.profileStrength>=80?" Your profile is looking great!":" Add more skills and endorsements to improve"})]}),l("div",{className:"profile-divider"}),g("div",{className:"custom-url",children:[l(xH,{size:16}),l("span",{className:"url-text",children:d.linkedinUrl||"No LinkedIn profile added"})]}),l("div",{className:"profile-divider"}),d.badges.length>0&&g("div",{className:"profile-badges",children:[l("h4",{children:"Badges & Achievements"}),l("div",{className:"badges-list",children:d.badges.map((b,m)=>g("div",{className:"badge-item",children:[l(am,{size:16}),l("span",{children:b})]},m))})]}),d.badges.length>0&&l("div",{className:"profile-divider"}),g("div",{className:"profile-stats",children:[g("div",{className:"stat-item",children:[l(na,{size:18}),g("div",{className:"stat-info",children:[l("span",{className:"stat-value",children:d.profileViews}),l("span",{className:"stat-label",children:"Profile Views"})]})]}),g("div",{className:"stat-item",children:[l(go,{size:18}),g("div",{className:"stat-info",children:[l("span",{className:"stat-value",children:d.connections}),l("span",{className:"stat-label",children:"Connections"})]})]}),g("div",{className:"stat-item",children:[l(Aa,{size:18}),g("div",{className:"stat-info",children:[l("span",{className:"stat-value",children:d.postImpressions}),l("span",{className:"stat-label",children:"Post Impressions"})]})]})]}),l("div",{className:"profile-divider"}),g("div",{className:"profile-skills",children:[l("h4",{children:"Top Skills"}),d.skills&&d.skills.length>0?l("div",{className:"skills-list",children:d.skills.map((b,m)=>g("div",{className:"skill-item",children:[g("div",{className:"skill-header",children:[l("span",{className:"skill-name",children:b.name}),g("span",{className:"skill-endorsements",children:[l(Is,{size:14}),b.endorsements||0]})]}),l("div",{className:"skill-bar",children:l("div",{className:"skill-fill",style:{width:`${Math.min(b.endorsements/50*100,100)}%`}})})]},m))}):l("p",{className:"no-skills",children:"No skills added yet. Add skills to your profile!"})]}),l("div",{className:"profile-divider"}),g("div",{className:"role-switcher",children:[l("h4",{children:"View As:"}),g("div",{className:"role-buttons",children:[l("button",{className:`role-btn ${n==="professional"?"active":""}`,onClick:()=>e("professional"),children:"Professional"}),l("button",{className:`role-btn ${n==="recruiter"?"active":""}`,onClick:()=>e("recruiter"),children:"Recruiter"}),l("button",{className:`role-btn ${n==="premium"?"active":""}`,onClick:()=>e("premium"),children:"Premium"})]})]})]}),s&&OZ.createPortal(l("div",{className:"edit-modal-overlay",onClick:()=>a(!1),children:g("div",{className:"edit-modal",onClick:b=>b.stopPropagation(),children:[g("div",{className:"edit-modal-header",children:[l("h3",{children:"Edit Profile"}),l("button",{onClick:()=>a(!1),children:l(Yn,{size:24})})]}),g("div",{className:"edit-modal-body",children:[g("div",{className:"edit-field",children:[l("label",{children:"First Name"}),l("input",{type:"text",value:d.firstName,onChange:b=>u({...d,firstName:b.target.value}),placeholder:"Your first name"})]}),g("div",{className:"edit-field",children:[l("label",{children:"Last Name"}),l("input",{type:"text",value:d.lastName,onChange:b=>u({...d,lastName:b.target.value}),placeholder:"Your last name"})]}),g("div",{className:"edit-field",children:[l("label",{children:"Title"}),l("input",{type:"text",value:d.title,onChange:b=>u({...d,title:b.target.value}),placeholder:"Your professional title"})]}),g("div",{className:"edit-field",children:[l("label",{children:"Company"}),l("input",{type:"text",value:d.company,onChange:b=>u({...d,company:b.target.value}),placeholder:"Your company"})]}),g("div",{className:"edit-field",children:[l("label",{children:"Location"}),l("input",{type:"text",value:d.location,onChange:b=>u({...d,location:b.target.value}),placeholder:"Your location"})]}),g("div",{className:"edit-field",children:[l("label",{children:"LinkedIn URL"}),l("input",{type:"text",value:d.linkedinUrl,onChange:b=>u({...d,linkedinUrl:b.target.value}),placeholder:"https://linkedin.com/in/your-profile"})]}),g("div",{className:"edit-field",children:[l("label",{children:"Bio"}),l("textarea",{value:d.bio,onChange:b=>u({...d,bio:b.target.value}),placeholder:"Tell us about yourself...",rows:"4"})]})]}),g("div",{className:"edit-modal-footer",children:[l("button",{className:"cancel-btn",onClick:()=>a(!1),children:"Cancel"}),l("button",{className:"save-btn",onClick:w,children:"Save Changes"})]})]})}),document.body)]})};const SY=({user:n,onClose:e,onFollow:t,onUnfollow:i,onConnect:r,onMessage:s})=>{const[a,o]=ie.useState(n.isFollowing||!1),[c,d]=ie.useState(n.connected||!1);if(!n)return null;const u=()=>{a?(i&&i(n.id),o(!1)):(t&&t(n.id),o(!0))},f=()=>{r&&r(n.id)},h=()=>{s&&s(n.id)},p=()=>{const v=n.email||`${n.name.toLowerCase().replace(/\s+/g,".")}@${n.company.toLowerCase().replace(/\s+/g,"")}.com`,w=encodeURIComponent("Connecting from Planning Insights"),b=encodeURIComponent(`Hi ${n.name.split(" ")[0]},

I'd like to connect with you on Planning Insights.

Best regards`);window.location.href=`mailto:${v}?subject=${w}&body=${b}`};return l("div",{className:"user-profile-modal-overlay",onClick:e,children:g("div",{className:"user-profile-modal",onClick:v=>v.stopPropagation(),children:[l("button",{className:"modal-close-btn",onClick:e,children:l(Yn,{size:24})}),g("div",{className:"profile-modal-header",children:[l("div",{className:"profile-banner"}),g("div",{className:"profile-header-content",children:[l("img",{src:n.avatar||"/api/placeholder/120/120",alt:n.name,className:"profile-large-avatar"}),g("div",{className:"profile-header-info",children:[l("h2",{children:n.name}),l("p",{className:"profile-modal-title",children:n.title}),g("p",{className:"profile-modal-company",children:[l(Mi,{size:16}),n.company]}),n.location&&g("p",{className:"profile-modal-location",children:[l(_r,{size:16}),n.location]}),l("div",{className:"profile-stats-mini",children:g("span",{children:[l(wn,{size:14}),n.mutualConnections," mutual connections"]})})]})]})]}),g("div",{className:"profile-modal-actions",children:[c?g("button",{className:"btn-connected",disabled:!0,children:[l(S3,{size:18}),"Connected"]}):g("button",{className:"btn-primary",onClick:f,children:[l(uy,{size:18}),"Connect"]}),l("button",{className:`btn-follow ${a?"following":""}`,onClick:u,children:a?g(Ft,{children:[l(S3,{size:18}),"Following"]}):g(Ft,{children:[l(uy,{size:18}),"Follow"]})}),g("button",{className:"btn-message",onClick:h,children:[l(Zl,{size:18}),"Message"]}),g("button",{className:"btn-more",onClick:p,children:[l(Lb,{size:18}),"Email"]})]}),g("div",{className:"profile-modal-section",children:[l("h3",{children:"About"}),l("p",{className:"about-text",children:n.about||`${n.title} at ${n.company} with expertise in ${n.industry||"various areas"}. Passionate about innovation and growth.`})]}),n.experience&&g("div",{className:"profile-modal-section",children:[g("h3",{children:[l(Mi,{size:20}),"Experience"]}),l("div",{className:"experience-list",children:g("div",{className:"experience-item",children:[l("div",{className:"experience-icon",children:l(Mi,{size:24})}),g("div",{className:"experience-details",children:[l("h4",{children:n.title}),l("p",{className:"experience-company",children:n.company}),l("p",{className:"experience-duration",children:"2020 - Present  4 yrs"})]})]})})]}),n.skills&&n.skills.length>0&&g("div",{className:"profile-modal-section",children:[g("h3",{children:[l(am,{size:20}),"Skills"]}),l("div",{className:"skills-grid",children:n.skills.map((v,w)=>g("div",{className:"skill-item-modal",children:[l("span",{className:"skill-name",children:v}),n.endorsements&&g("span",{className:"skill-endorsements",children:[n.endorsements[w]||0," endorsements"]})]},w))})]}),g("div",{className:"profile-modal-section",children:[g("h3",{children:[l(Aa,{size:20}),"Activity & Insights"]}),g("div",{className:"activity-stats",children:[g("div",{className:"activity-stat",children:[l("span",{className:"stat-label",children:"Profile Views"}),l("span",{className:"stat-value",children:Math.floor(Math.random()*500)+100})]}),g("div",{className:"activity-stat",children:[l("span",{className:"stat-label",children:"Post Impressions"}),l("span",{className:"stat-value",children:Math.floor(Math.random()*2e3)+500})]}),g("div",{className:"activity-stat",children:[l("span",{className:"stat-label",children:"Connections"}),l("span",{className:"stat-value",children:Math.floor(Math.random()*500)+100})]})]})]}),n.reason&&g("div",{className:"profile-modal-section",children:[g("h3",{children:["Why you might know ",n.name.split(" ")[0]]}),g("p",{className:"connection-reason",children:[l(Aa,{size:16}),n.reason]})]})]})})},ENe=({onOpenMessaging:n})=>{const[e,t]=ie.useState("all"),[i,r]=ie.useState(""),[s,a]=ie.useState(null),[o,c]=ie.useState(!1),[d,u]=ie.useState(!0),[f,h]=ie.useState([]),[p,v]=ie.useState([]),[w,b]=ie.useState([]);ie.useEffect(()=>{m()},[]);const m=async()=>{u(!0);try{await Promise.all([y(),_(),x()])}catch(R){console.error("Error fetching networking data:",R),_n.error("Failed to load networking data")}finally{u(!1)}},y=async()=>{try{const R=await(void 0)();R.success&&h(R.connections||[])}catch(R){console.error("Error fetching connections:",R)}},_=async()=>{try{const R=await(void 0)();R.success&&v(R.requests||[])}catch(R){console.error("Error fetching pending requests:",R)}},x=async()=>{try{const R=await(void 0)(10);R.success&&b(R.suggestions||[])}catch(R){console.error("Error fetching suggestions:",R)}},N=async R=>{try{(await iNe(R)).success&&(_n.success("Connection request accepted!"),await y(),await _())}catch(M){console.error("Error accepting request:",M),_n.error("Failed to accept connection request")}},k=async R=>{try{(await rNe(R)).success&&(_n.success("Connection request declined"),v(Y=>Y.filter(q=>q.id!==R)))}catch(M){console.error("Error rejecting request:",M),_n.error("Failed to decline connection request")}},T=async R=>{var M,Y;try{(await $I(R,"connection")).success&&(_n.success("Connection request sent!"),b(G=>G.filter(B=>B.userId!==R)))}catch(q){console.error("Error sending request:",q),_n.error(((Y=(M=q.response)==null?void 0:M.data)==null?void 0:Y.message)||"Failed to send connection request")}},C=R=>{a(R),c(!0)},P=async R=>{try{(await $I(R,"follow")).success&&(_n.success("Now following user"),await y(),b(Y=>Y.filter(q=>q.userId!==R)),s&&s.userId===R&&a({...s,isFollowing:!0,connected:!0}))}catch(M){console.error("Error following user:",M),_n.error("Failed to follow user")}},D=async R=>{try{(await sNe(R)).success&&(_n.success("Unfollowed user"),await y(),await x(),s&&a({...s,isFollowing:!1,connected:!1}))}catch(M){console.error("Error unfollowing user:",M),_n.error("Failed to unfollow user")}},E=async R=>{await T(R),c(!1)},A=R=>{console.log("Messaging user:",R),console.log("onOpenMessaging function exists:",!!n),c(!1),n?n(R):console.error("onOpenMessaging prop is not provided to ConnectionsPanel")},I=f.filter(R=>R.name.toLowerCase().includes(i.toLowerCase())||R.company.toLowerCase().includes(i.toLowerCase()));return d?l("div",{className:"connections-panel",children:g("div",{className:"loading-container",children:[l("div",{className:"spinner"}),l("p",{children:"Loading networking data..."})]})}):g("div",{className:"connections-panel",children:[g("div",{className:"connections-header",children:[g("h2",{children:[l(wn,{size:24}),"My Network"]}),l("p",{className:"connections-subtitle",children:"Manage your professional connections and grow your network"})]}),g("div",{className:"connections-tabs",children:[g("button",{className:`tab-btn ${e==="all"?"active":""}`,onClick:()=>t("all"),children:["All Connections (",f.length,")"]}),g("button",{className:`tab-btn ${e==="requests"?"active":""}`,onClick:()=>t("requests"),children:["Requests (",p.length,")"]}),g("button",{className:`tab-btn ${e==="suggestions"?"active":""}`,onClick:()=>t("suggestions"),children:["People You May Know (",w.length,")"]})]}),e==="all"&&g("div",{className:"connections-controls",children:[g("div",{className:"search-box",children:[l(ia,{size:18}),l("input",{type:"text",placeholder:"Search connections...",value:i,onChange:R=>r(R.target.value)})]}),g("button",{className:"filter-btn",children:[l(lc,{size:18}),"Filter"]})]}),g("div",{className:"connections-content",children:[e==="all"&&l("div",{className:"connections-grid",children:I.length===0?g("div",{className:"empty-state",children:[l(wn,{size:48}),l("h3",{children:"No Connections Yet"}),l("p",{children:"Start building your network by connecting with professionals"}),l("button",{className:"btn-primary",onClick:()=>t("suggestions"),children:"Find People to Connect"})]}):I.map(R=>g("div",{className:"connection-card",children:[l("img",{src:R.avatar,alt:R.name,className:"connection-avatar"}),g("div",{className:"connection-info",children:[l("h3",{children:R.name}),l("p",{className:"connection-title",children:R.title}),g("p",{className:"connection-company",children:[l(Mi,{size:14}),R.company]}),R.mutualConnections>0&&g("p",{className:"mutual-connections",children:[R.mutualConnections," mutual connections"]})]}),g("div",{className:"connection-actions",children:[l("button",{className:`btn-follow ${R.isFollowing?"following":""}`,onClick:()=>R.isFollowing?D(R.id):P(R.userId),children:R.isFollowing?g(Ft,{children:[l(S3,{size:14}),"Following"]}):g(Ft,{children:[l(uy,{size:14}),"Follow"]})}),l("button",{className:"btn-message",onClick:()=>A(R.userId),children:"Message"}),l("button",{className:"btn-view-profile",onClick:()=>C(R),children:"View Profile"})]})]},R.id))}),e==="requests"&&l("div",{className:"requests-list",children:p.length===0?g("div",{className:"empty-state",children:[l(uy,{size:48}),l("h3",{children:"No Pending Requests"}),l("p",{children:"You don't have any connection requests at the moment"})]}):p.map(R=>g("div",{className:"request-card",children:[l("img",{src:R.avatar,alt:R.name,className:"request-avatar"}),g("div",{className:"request-info",children:[l("h3",{children:R.name}),l("p",{className:"request-title",children:R.title}),l("p",{className:"request-company",children:R.company}),R.mutualConnections>0&&g("p",{className:"mutual-connections",children:[R.mutualConnections," mutual connections"]}),l("p",{className:"request-date",children:new Date(R.requestDate).toLocaleDateString()})]}),g("div",{className:"request-actions",children:[g("button",{className:"btn-accept",onClick:()=>N(R.id),children:[l(S3,{size:16}),"Accept"]}),g("button",{className:"btn-reject",onClick:()=>k(R.id),children:[l(ufe,{size:16}),"Decline"]})]})]},R.id))}),e==="suggestions"&&l("div",{className:"suggestions-grid",children:w.length===0?g("div",{className:"empty-state",children:[l(Aa,{size:48}),l("h3",{children:"No Suggestions Available"}),l("p",{children:"Check back later for new connection suggestions"})]}):w.map(R=>g("div",{className:"suggestion-card",children:[l("img",{src:R.avatar,alt:R.name,className:"suggestion-avatar"}),g("div",{className:"suggestion-info",children:[l("h3",{children:R.name}),l("p",{className:"suggestion-title",children:R.title}),l("p",{className:"suggestion-company",children:R.company}),g("p",{className:"suggestion-reason",children:[l(Aa,{size:14}),R.reason]}),R.mutualConnections>0&&g("p",{className:"mutual-connections",children:[R.mutualConnections," mutual connections"]}),R.skills&&R.skills.length>0&&l("div",{className:"suggestion-skills",children:R.skills.map((M,Y)=>l("span",{className:"skill-tag",children:M},Y))})]}),g("div",{className:"suggestion-actions",children:[g("button",{className:"btn-connect",onClick:()=>T(R.userId),children:[l(uy,{size:16}),"Connect"]}),l("button",{className:"btn-view-profile-small",onClick:()=>C(R),children:"View Profile"})]})]},R.id))})]}),o&&s&&l(SY,{user:s,onClose:()=>c(!1),onFollow:P,onUnfollow:D,onConnect:E,onMessage:A})]})};const TNe=({onClose:n,setUnreadCount:e,userId:t,currentUser:i={name:"You",avatar:"/api/placeholder/40/40"}})=>{const[r,s]=ie.useState(null),[a,o]=ie.useState(""),[c,d]=ie.useState(""),[u,f]=ie.useState(!1),[h,p]=ie.useState([]),[v,w]=ie.useState({}),[b,m]=ie.useState(!0),y=ie.useRef(null);ie.useEffect(()=>{_()},[]),ie.useEffect(()=>{N()},[r,v]),ie.useEffect(()=>{if(t&&h.length>0){const D=h.find(E=>E.id===t);D&&(s(D),x(D.id))}},[t,h]);const _=async()=>{try{m(!0);const D=await dNe();D.success&&p(D.conversations||[])}catch(D){console.error("Error fetching conversations:",D)}finally{m(!1)}},x=async D=>{try{const E=await uNe(D);E.success&&(w(A=>({...A,[D]:E.messages||[]})),await oz(D),p(A=>A.map(I=>I.id===D?{...I,unread:0}:I)))}catch(E){console.error("Error fetching messages:",E)}},N=()=>{var D;(D=y.current)==null||D.scrollIntoView({behavior:"smooth"})},k=async()=>{if(!a.trim()||!r)return;const D={id:`temp-${Date.now()}`,sender:"You",text:a,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),sent:!0,read:!1};w(A=>({...A,[r.id]:[...A[r.id]||[],D]}));const E=a;o("");try{const A=await hNe({recipientId:r.id,content:E,messageType:"text"});A.success&&(w(I=>({...I,[r.id]:[...(I[r.id]||[]).filter(R=>R.id!==D.id),A.message]})),await _())}catch(A){console.error("Error sending message:",A),w(I=>({...I,[r.id]:(I[r.id]||[]).filter(R=>R.id!==D.id)}))}},T=D=>{D.key==="Enter"&&!D.shiftKey&&(D.preventDefault(),k())},C=D=>{s(D),v[D.id]?(oz(D.id),p(E=>E.map(A=>A.id===D.id?{...A,unread:0}:A))):x(D.id)},P=h.filter(D=>D.name.toLowerCase().includes(c.toLowerCase()));return b?l("div",{className:"messaging-center-overlay",children:g("div",{className:"messaging-center",children:[g("div",{className:"messaging-header",children:[l("button",{className:"back-btn",onClick:n,children:l(tf,{size:20})}),l("h2",{children:"Messages"}),l("button",{className:"close-btn",onClick:n,children:l(Yn,{size:24})})]}),g("div",{className:"loading-container",children:[l("div",{className:"spinner"}),l("p",{children:"Loading messages..."})]})]})}):l("div",{className:"messaging-center-overlay",children:g("div",{className:"messaging-center",children:[g("div",{className:"messaging-header",children:[l("button",{className:"back-btn",onClick:n,title:"Back to Networking Arena",children:l(tf,{size:20})}),l("h2",{children:"Messages"}),l("button",{className:"close-btn",onClick:n,children:l(Yn,{size:24})})]}),g("div",{className:"messaging-body",children:[g("div",{className:"chats-list",children:[g("div",{className:"chats-search",children:[l(ia,{size:18}),l("input",{type:"text",placeholder:"Search messages...",value:c,onChange:D=>d(D.target.value)})]}),l("div",{className:"chats-items",children:P.length>0?P.map(D=>g("div",{className:`chat-item ${(r==null?void 0:r.id)===D.id?"active":""}`,onClick:()=>C(D),children:[g("div",{className:"chat-avatar-wrapper",children:[l("img",{src:D.avatar,alt:D.name,className:"chat-avatar"}),D.online&&l("span",{className:"online-indicator"})]}),g("div",{className:"chat-info",children:[g("div",{className:"chat-header",children:[l("h4",{children:D.name}),l("span",{className:"chat-time",children:D.timestamp})]}),g("div",{className:"chat-preview",children:[l("p",{className:D.unread>0?"unread":"",children:D.lastMessage}),D.unread>0&&l("span",{className:"unread-badge",children:D.unread})]})]})]},D.id)):g("div",{className:"empty-chats",children:[l(Zl,{size:48}),l("p",{children:"No conversations yet"}),l("span",{children:"Start connecting with people in your network"})]})})]}),l("div",{className:"chat-window",children:r?g(Ft,{children:[g("div",{className:"chat-window-header",children:[g("div",{className:"chat-user-info",children:[l("img",{src:r.avatar,alt:r.name}),g("div",{children:[l("h3",{children:r.name}),l("span",{className:`status ${r.online?"online":"offline"}`,children:r.online?"Active now":"Offline"})]})]}),g("div",{className:"chat-actions",children:[l("button",{className:"chat-action-btn",children:l(b3,{size:20})}),l("button",{className:"chat-action-btn",children:l(yo,{size:20})}),l("button",{className:"chat-action-btn",children:l(sfe,{size:20})})]})]}),g("div",{className:"messages-container",children:[v[r.id]&&v[r.id].length>0?v[r.id].map(D=>g("div",{className:`message ${D.sent?"sent":"received"}`,children:[!D.sent&&l("img",{src:r.avatar,alt:r.name,className:"message-avatar"}),g("div",{className:"message-bubble",children:[l("div",{className:"message-sender-name",children:D.sent?i.name:r.name}),g("div",{className:"message-content",children:[l("p",{children:D.text}),g("div",{className:"message-meta",children:[l("span",{className:"message-time",children:D.timestamp}),D.sent&&l("span",{className:"message-status",children:D.read?l(Vhe,{size:14}):l(v3,{size:14})})]})]})]}),D.sent&&l("img",{src:i.avatar,alt:i.name,className:"message-avatar"})]},D.id)):g("div",{className:"empty-messages",children:[l(Zl,{size:64}),l("p",{children:"No messages yet"}),l("span",{children:"Send a message to start the conversation"})]}),u&&g("div",{className:"typing-indicator",children:[l("img",{src:r.avatar,alt:"",className:"message-avatar"}),g("div",{className:"typing-dots",children:[l("span",{}),l("span",{}),l("span",{})]})]}),l("div",{ref:y})]}),g("div",{className:"message-input-container",children:[l("button",{className:"input-action-btn",children:l(_H,{size:20})}),l("button",{className:"input-action-btn",children:l(qh,{size:20})}),l("input",{type:"text",placeholder:"Type a message...",value:a,onChange:D=>o(D.target.value),onKeyPress:T}),l("button",{className:"input-action-btn",children:l(NH,{size:20})}),l("button",{className:"send-btn",onClick:k,disabled:!a.trim(),children:l(qT,{size:20})})]})]}):l("div",{className:"no-chat-selected",children:l("p",{children:"Select a conversation to start messaging"})})})]})]})})},CNe=async(n={})=>{const{page:e=1,limit:t=10}=n;try{return(await Xe.get("/feed",{params:{page:e,limit:t}})).data}catch(i){return console.error("Error fetching feed posts:",i),{success:!0,posts:[],pagination:{page:e,pages:1,total:0}}}},DNe=CNe,PNe=async n=>{try{return(await Xe.post("/feed/posts",n)).data}catch(e){return console.error("Error creating post:",e),{success:!1,message:"Failed to create post"}}},INe=async n=>{try{return(await Xe.delete(`/feed/posts/${n}`)).data}catch(e){return console.error("Error deleting post:",e),{success:!1,message:"Failed to delete post"}}},RNe=async n=>{try{return(await Xe.post(`/feed/posts/${n}/like`)).data}catch(e){return console.error("Error liking post:",e),{success:!1,message:"Failed to like post"}}},LNe=async(n,e)=>{try{return(await Xe.post(`/feed/posts/${n}/comments`,{comment:e})).data}catch(t){throw console.error("Error commenting on post:",t),t}},ONe=async n=>{try{return(await Xe.get(`/feed/posts/${n}/comments`)).data}catch(e){return console.error("Error fetching post comments:",e),{success:!0,comments:[]}}},FNe=async(n,e)=>{try{return(await Xe.post(`/feed/posts/${n}/share`,e)).data}catch(t){throw console.error("Error sharing post:",t),t}},UNe=async n=>{try{return(await Xe.post(`/feed/posts/${n}/bookmark`)).data}catch(e){throw console.error("Error bookmarking post:",e),e}},MNe=ONe,BNe=LNe,zNe=async(n,e)=>{try{return(await Xe.post(`/feed/posts/${n}/poll/vote`,{optionId:e})).data}catch(t){throw console.error("Error voting on poll:",t),t}};const lz=({userRole:n,currentUser:e})=>{const[t,i]=ie.useState(""),[r,s]=ie.useState("public"),[a,o]=ie.useState(!1),[c,d]=ie.useState({}),[u,f]=ie.useState({}),[h,p]=ie.useState({}),[v,w]=ie.useState("text"),[b,m]=ie.useState(null),[y,_]=ie.useState(["",""]),[x,N]=ie.useState(""),[k,T]=ie.useState(""),[C,P]=ie.useState({}),[D,E]=ie.useState([]),[A,I]=ie.useState(!0),[R,M]=ie.useState(1),[Y,q]=ie.useState(!0);ie.useEffect(()=>{G()},[]);const G=async(je=1)=>{try{I(!0);const Ce=await DNe({page:je,limit:20});Ce.success&&(E(je===1?Ce.posts:$=>[...$,...Ce.posts]),q(Ce.pagination.page<Ce.pagination.pages),M(je))}catch(Ce){console.error("Error fetching feed:",Ce)}finally{I(!1)}};ie.useEffect(()=>{const je=Ce=>{Ce.target.closest(".post-menu-wrapper")||P({})};return document.addEventListener("click",je),()=>document.removeEventListener("click",je)},[]);const B=async je=>{try{E(D.map($=>$.id===je?{...$,liked:!$.liked,likes:$.liked?$.likes-1:$.likes+1}:$));const Ce=await RNe(je);Ce.success&&E(D.map($=>$.id===je?{...$,liked:Ce.liked,likes:Ce.likesCount}:$))}catch(Ce){console.error("Error liking post:",Ce),E(D.map($=>$.id===je?{...$,liked:!$.liked,likes:$.liked?$.likes+1:$.likes-1}:$))}},J=async je=>{try{E(D.map($=>$.id===je?{...$,bookmarked:!$.bookmarked}:$));const Ce=await UNe(je);Ce.success&&_n.success(Ce.bookmarked?"Post saved":"Post removed from saved")}catch(Ce){console.error("Error bookmarking post:",Ce),E(D.map($=>$.id===je?{...$,bookmarked:!$.bookmarked}:$))}},W=async je=>{const Ce=c[je];if(d($=>({...$,[je]:!$[je]})),!Ce&&!h[je])try{const $=await MNe(je);$.success&&p(ke=>({...ke,[je]:$.comments}))}catch($){console.error("Error fetching comments:",$)}},L=async je=>{const Ce=u[je];if(!(!Ce||!Ce.trim()))try{const $=await BNe(je,Ce);$.success&&(p(ke=>({...ke,[je]:[...ke[je]||[],$.comment]})),E(D.map(ke=>ke.id===je?{...ke,comments:$.commentsCount}:ke)),f(ke=>({...ke,[je]:""})),_n.success("Comment added"))}catch($){console.error("Error adding comment:",$)}},z=(je,Ce)=>{p($=>{const ke=$[je]||[];return{...$,[je]:ke.map(Se=>Se.id===Ce?{...Se,liked:!Se.liked,likes:Se.liked?Se.likes-1:Se.likes+1}:Se)}})},X=async je=>{try{const Ce=await FNe(je);Ce.success&&(E(D.map($=>$.id===je?{...$,shares:Ce.sharesCount}:$)),_n.success("Post shared"))}catch(Ce){console.error("Error sharing post:",Ce)}},Q=async(je,Ce)=>{var $,ke;try{const Se=await zNe(je,Ce);Se.success&&(E(D.map(pe=>pe.id===je?{...pe,poll:Se.poll}:pe)),_n.success("Vote recorded"))}catch(Se){console.error("Error voting:",Se),_n.error(((ke=($=Se.response)==null?void 0:$.data)==null?void 0:ke.message)||"Failed to vote")}},V=je=>{P(Ce=>({...Ce,[je]:!Ce[je]}))},Z=async je=>{if(window.confirm("Are you sure you want to delete this post?"))try{(await INe(je)).success&&(E(D.filter($=>$.id!==je)),P({}),_n.success("Post deleted"))}catch(Ce){console.error("Error deleting post:",Ce)}},_e=je=>{const Ce=D.find($=>$.id===je);Ce&&(i(Ce.content),o(!0),P({}))},le=je=>{_n.success("Post reported. Our team will review it shortly."),P({})},ce=je=>{const Ce=`${window.location.origin}/networking-arena/post/${je}`;navigator.clipboard.writeText(Ce),_n.success("Link copied to clipboard"),P({})},Fe=je=>{w(je),o(!0)},Ae=async()=>{if(!(!t.trim()&&!b&&v!=="poll"))try{const je={content:t,type:v,privacy:r};if(v==="poll"){const $=y.filter(ke=>ke.trim());if($.length<2){_n.error("Poll must have at least 2 options");return}je.poll={question:t,options:$}}if(v==="article"){if(!x||!k){_n.error("Article title and link are required");return}je.article={title:x,link:k}}const Ce=await PNe(je);Ce.success&&(E([Ce.post,...D]),i(""),o(!1),w("text"),m(null),_(["",""]),N(""),T(""),_n.success("Post created successfully"))}catch(je){console.error("Error creating post:",je)}},Re=je=>{const Ce=je.target.files[0];Ce&&m(Ce)},Ve=()=>{y.length<6&&_([...y,""])},fe=(je,Ce)=>{const $=[...y];$[je]=Ce,_($)},Je=je=>{y.length>2&&_(y.filter((Ce,$)=>$!==je))};return g("div",{className:"feed-section",children:[g("div",{className:"create-post-card",children:[g("div",{className:"create-post-header",children:[l("img",{src:"/api/placeholder/50/50",alt:"You",className:"user-avatar"}),l("button",{className:"create-post-input",onClick:()=>o(!0),children:"Start a post..."})]}),g("div",{className:"create-post-actions",children:[g("button",{className:"post-action-btn",onClick:()=>Fe("image"),children:[l(qh,{size:20,className:"action-icon photo"}),"Photo"]}),g("button",{className:"post-action-btn",onClick:()=>Fe("video"),children:[l(yo,{size:20,className:"action-icon video"}),"Video"]}),g("button",{className:"post-action-btn",onClick:()=>Fe("article"),children:[l(Mn,{size:20,className:"action-icon article"}),"Article"]}),g("button",{className:"post-action-btn",onClick:()=>Fe("poll"),children:[l(Whe,{size:20,className:"action-icon poll"}),"Poll"]})]})]}),a&&l("div",{className:"create-post-modal-overlay",children:g("div",{className:"create-post-modal",children:[g("div",{className:"modal-header",children:[l("h3",{children:"Create a post"}),l("button",{onClick:()=>o(!1),children:l(Yn,{size:24})})]}),g("div",{className:"modal-body",children:[g("div",{className:"post-author-info",children:[l("img",{src:"/api/placeholder/50/50",alt:"You"}),g("div",{children:[l("h4",{children:"Your Name"}),g("select",{value:r,onChange:je=>s(je.target.value),className:"privacy-select",children:[l("option",{value:"public",children:" Public"}),l("option",{value:"connections",children:" Connections only"}),l("option",{value:"private",children:" Only me"})]})]})]}),l("textarea",{placeholder:v==="poll"?"Ask a question...":"What do you want to talk about?",value:t,onChange:je=>i(je.target.value),autoFocus:!0}),v==="image"&&g("div",{className:"media-upload-section",children:[l("input",{type:"file",accept:"image/*",onChange:Re,id:"photo-upload",style:{display:"none"}}),g("label",{htmlFor:"photo-upload",className:"upload-label",children:[l(qh,{size:48}),l("span",{children:"Click to upload a photo"})]}),b&&g("div",{className:"media-preview",children:[l("img",{src:URL.createObjectURL(b),alt:"Preview"}),l("button",{onClick:()=>m(null),className:"remove-media",children:l(Yn,{size:20})})]})]}),v==="video"&&g("div",{className:"media-upload-section",children:[l("input",{type:"file",accept:"video/*",onChange:Re,id:"video-upload",style:{display:"none"}}),g("label",{htmlFor:"video-upload",className:"upload-label",children:[l(yo,{size:48}),l("span",{children:"Click to upload a video"})]}),b&&g("div",{className:"media-preview",children:[l("video",{src:URL.createObjectURL(b),controls:!0}),l("button",{onClick:()=>m(null),className:"remove-media",children:l(Yn,{size:20})})]})]}),v==="article"&&g("div",{className:"article-input-section",children:[l("input",{type:"text",placeholder:"Article Title",value:x,onChange:je=>N(je.target.value),className:"article-title-input"}),l("input",{type:"url",placeholder:"Article Link (https://...)",value:k,onChange:je=>T(je.target.value),className:"article-link-input"})]}),v==="poll"&&g("div",{className:"poll-options-section",children:[l("h4",{children:"Poll Options"}),y.map((je,Ce)=>g("div",{className:"poll-option-input",children:[l("input",{type:"text",placeholder:`Option ${Ce+1}`,value:je,onChange:$=>fe(Ce,$.target.value)}),y.length>2&&l("button",{onClick:()=>Je(Ce),className:"remove-option",children:l(Yn,{size:18})})]},Ce)),y.length<6&&l("button",{onClick:Ve,className:"add-poll-option",children:"+ Add Option"})]}),g("div",{className:"post-options",children:[l("button",{className:"option-btn",children:l(NH,{size:20})}),l("button",{className:"option-btn",children:l(qh,{size:20})}),l("button",{className:"option-btn",children:l(yo,{size:20})}),l("button",{className:"option-btn",children:l(Mn,{size:20})})]})]}),l("div",{className:"modal-footer",children:l("button",{className:"post-btn",onClick:Ae,disabled:!t.trim(),children:"Post"})})]})}),g("div",{className:"feed-sort",children:[l("div",{className:"sort-divider"}),g("div",{className:"sort-options",children:[l("button",{className:"sort-btn active",children:"Recent"}),l("button",{className:"sort-btn",children:"Top"}),l("button",{className:"sort-btn",children:"Following"})]}),l("div",{className:"sort-divider"})]}),l("div",{className:"posts-feed",children:A&&D.length===0?l("div",{className:"loading-state",children:l("p",{children:"Loading feed..."})}):D.length===0?l("div",{className:"empty-state",children:l("p",{children:"No posts yet. Start by creating your first post!"})}):g(Ft,{children:[D.map(je=>g("div",{className:"post-card",children:[g("div",{className:"post-header",children:[l("img",{src:je.avatar,alt:je.author,className:"post-avatar"}),g("div",{className:"post-author-info",children:[l("h4",{children:je.author}),l("p",{className:"author-title",children:je.title}),l("p",{className:"post-timestamp",children:je.timestamp})]}),g("div",{className:"post-menu-wrapper",children:[l("button",{className:"post-menu-btn",onClick:()=>V(je.id),children:l(rfe,{size:20})}),C[je.id]&&g("div",{className:"post-menu-dropdown",children:[je.author===((e==null?void 0:e.name)||"Manish D Gavali")&&g(Ft,{children:[g("button",{className:"menu-item",onClick:()=>_e(je.id),children:[l(mx,{size:16}),l("span",{children:"Edit Post"})]}),g("button",{className:"menu-item delete",onClick:()=>Z(je.id),children:[l(s0,{size:16}),l("span",{children:"Delete Post"})]}),l("div",{className:"menu-divider"})]}),g("button",{className:"menu-item",onClick:()=>J(je.id),children:[l(y3,{size:16}),l("span",{children:je.bookmarked?"Remove Bookmark":"Save Post"})]}),g("button",{className:"menu-item",onClick:()=>ce(je.id),children:[l(Yhe,{size:16}),l("span",{children:"Copy Link"})]}),l("div",{className:"menu-divider"}),g("button",{className:"menu-item report",onClick:()=>le(je.id),children:[l(bH,{size:16}),l("span",{children:"Report Post"})]})]})]})]}),g("div",{className:"post-content",children:[l("p",{children:je.content}),je.type==="image"&&je.image&&l("img",{src:je.image,alt:"Post content",className:"post-image"}),je.type==="video"&&je.video&&l("video",{src:je.video,controls:!0,className:"post-video"}),je.type==="article"&&je.article&&l("a",{href:je.article.link,target:"_blank",rel:"noopener noreferrer",className:"post-article",children:g("div",{className:"article-preview",children:[l("div",{className:"article-icon",children:l(Mn,{size:24})}),g("div",{className:"article-details",children:[l("h4",{children:je.article.title}),l("p",{className:"article-link",children:new URL(je.article.link).hostname})]})]})}),je.type==="poll"&&je.poll&&g("div",{className:"post-poll",children:[l("h4",{children:je.poll.question}),l("div",{className:"poll-options",children:je.poll.options.map(Ce=>g("div",{className:`poll-option ${je.poll.userVoted===Ce.id?"voted":""} ${je.poll.userVoted?"":"clickable"}`,onClick:()=>!je.poll.userVoted&&Q(je.id,Ce.id),children:[l("div",{className:"poll-option-bar",style:{width:`${Ce.percentage}%`}}),g("div",{className:"poll-option-content",children:[l("span",{className:"option-text",children:Ce.text}),g("span",{className:"option-percentage",children:[Ce.percentage,"%"]})]})]},Ce.id))}),g("p",{className:"poll-votes",children:[je.poll.totalVotes," votes  ",je.poll.userVoted?"You voted":"Click to vote"]})]})]}),g("div",{className:"post-stats",children:[g("div",{className:"reactions-summary",children:[g("div",{className:"reaction-icons",children:[l("span",{className:"reaction-emoji",children:""}),l("span",{className:"reaction-emoji",children:""}),l("span",{className:"reaction-emoji",children:""})]}),l("span",{className:"reactions-count",children:je.likes})]}),g("div",{className:"post-stats-right",children:[g("span",{className:"clickable-stat",onClick:()=>W(je.id),children:[je.comments," comments"]}),l("span",{className:"stat-divider",children:""}),g("span",{className:"clickable-stat",onClick:()=>X(je.id),children:[je.shares," shares"]})]})]}),g("div",{className:"post-actions",children:[g("button",{className:`action-btn ${je.liked?"liked":""}`,onClick:()=>B(je.id),children:[l(Ob,{size:20}),"Like"]}),g("button",{className:"action-btn",onClick:()=>W(je.id),children:[l(Zl,{size:20}),"Comment"]}),g("button",{className:"action-btn",onClick:()=>X(je.id),children:[l(Yb,{size:20}),"Share"]}),g("button",{className:`action-btn ${je.bookmarked?"bookmarked":""}`,onClick:()=>J(je.id),children:[l(y3,{size:20}),"Save"]})]}),c[je.id]&&g("div",{className:"comments-section",children:[h[je.id]&&h[je.id].length>0&&l("div",{className:"comments-list",children:h[je.id].map(Ce=>g("div",{className:"comment-item",children:[l("img",{src:Ce.avatar,alt:Ce.author,className:"comment-avatar"}),g("div",{className:"comment-content",children:[g("div",{className:"comment-header",children:[l("span",{className:"comment-author",children:Ce.author}),l("span",{className:"comment-timestamp",children:Ce.timestamp})]}),l("p",{className:"comment-text",children:Ce.text}),g("div",{className:"comment-actions",children:[g("button",{className:`comment-like-btn ${Ce.liked?"liked":""}`,onClick:()=>z(je.id,Ce.id),children:[l(Ob,{size:14}),Ce.likes>0&&l("span",{children:Ce.likes})]}),l("button",{className:"comment-reply-btn",children:"Reply"})]})]})]},Ce.id))}),g("div",{className:"add-comment",children:[l("img",{src:"/api/placeholder/40/40",alt:"You",className:"comment-avatar"}),g("div",{className:"comment-input-wrapper",children:[l("input",{type:"text",placeholder:"Add a comment...",value:u[je.id]||"",onChange:Ce=>f($=>({...$,[je.id]:Ce.target.value})),onKeyPress:Ce=>{Ce.key==="Enter"&&L(je.id)}}),l("button",{className:"comment-send-btn",onClick:()=>L(je.id),disabled:!u[je.id]||!u[je.id].trim(),children:l(qT,{size:18})})]})]})]})]},je.id)),Y&&l("div",{className:"load-more-container",children:l("button",{className:"load-more-btn",onClick:()=>G(R+1),disabled:A,children:A?"Loading...":"Load More"})})]})}),l("button",{className:"load-more-btn",children:"Load more posts"})]})};const jNe=({isOpen:n,onClose:e,onCreateGroup:t})=>{const[i,r]=ie.useState({name:"",description:"",privacy:"public",category:"technology",rules:""}),s=c=>{const{name:d,value:u}=c.target;r(f=>({...f,[d]:u}))},a=c=>{c.preventDefault();const d={id:Date.now(),name:i.name,description:i.description,privacy:i.privacy,category:i.category,members:1,image:"/api/placeholder/100/100",unreadPosts:0,role:"admin"};t(d),o()},o=()=>{r({name:"",description:"",privacy:"public",category:"technology",rules:""}),e()};return n?l("div",{className:"create-group-modal-overlay",onClick:o,children:g("div",{className:"create-group-modal",onClick:c=>c.stopPropagation(),children:[g("div",{className:"modal-header",children:[g("h2",{children:[l(wn,{size:24}),"Create New Group"]}),l("button",{className:"close-btn",onClick:o,children:l(Yn,{size:24})})]}),g("form",{onSubmit:a,className:"group-form",children:[g("div",{className:"form-group",children:[g("label",{children:[l(Mn,{size:18}),"Group Name *"]}),l("input",{type:"text",name:"name",value:i.name,onChange:s,placeholder:"Enter group name",required:!0})]}),g("div",{className:"form-group",children:[g("label",{children:[l(Mn,{size:18}),"Description *"]}),l("textarea",{name:"description",value:i.description,onChange:s,placeholder:"Describe what your group is about...",rows:4,required:!0})]}),g("div",{className:"form-group",children:[l("label",{children:"Privacy Setting *"}),g("div",{className:"privacy-selector",children:[g("label",{className:`privacy-option ${i.privacy==="public"?"active":""}`,children:[l("input",{type:"radio",name:"privacy",value:"public",checked:i.privacy==="public",onChange:s}),l(X1,{size:18}),g("div",{className:"privacy-info",children:[l("span",{className:"privacy-title",children:"Public"}),l("span",{className:"privacy-desc",children:"Anyone can find and join"})]})]}),g("label",{className:`privacy-option ${i.privacy==="private"?"active":""}`,children:[l("input",{type:"radio",name:"privacy",value:"private",checked:i.privacy==="private",onChange:s}),l(Rb,{size:18}),g("div",{className:"privacy-info",children:[l("span",{className:"privacy-title",children:"Private"}),l("span",{className:"privacy-desc",children:"Requires approval to join"})]})]})]})]}),g("div",{className:"form-group",children:[g("label",{children:[l(Mn,{size:18}),"Category *"]}),g("select",{name:"category",value:i.category,onChange:s,required:!0,children:[l("option",{value:"technology",children:"Technology"}),l("option",{value:"business",children:"Business"}),l("option",{value:"design",children:"Design"}),l("option",{value:"marketing",children:"Marketing"}),l("option",{value:"education",children:"Education"}),l("option",{value:"healthcare",children:"Healthcare"}),l("option",{value:"finance",children:"Finance"}),l("option",{value:"other",children:"Other"})]})]}),g("div",{className:"form-group",children:[g("label",{children:[l(Mn,{size:18}),"Group Rules (Optional)"]}),l("textarea",{name:"rules",value:i.rules,onChange:s,placeholder:"Set guidelines for your group members...",rows:3})]}),g("div",{className:"form-actions",children:[l("button",{type:"button",className:"btn-cancel",onClick:o,children:"Cancel"}),g("button",{type:"submit",className:"btn-create",children:[l(wn,{size:18}),"Create Group"]})]})]})]})}):null};const WNe=({isOpen:n,onClose:e,group:t,isJoined:i})=>{const[r,s]=ie.useState("about");if(!n||!t)return null;const a=[{id:1,author:"John Doe",content:"Great discussion about the latest updates!",likes:24,comments:8,time:"2 hours ago"},{id:2,author:"Jane Smith",content:"Looking forward to the next meetup!",likes:15,comments:5,time:"5 hours ago"}],o=[{id:1,name:"John Doe",role:"Admin",avatar:"/api/placeholder/40/40"},{id:2,name:"Jane Smith",role:"Moderator",avatar:"/api/placeholder/40/40"},{id:3,name:"Mike Johnson",role:"Member",avatar:"/api/placeholder/40/40"},{id:4,name:"Sarah Williams",role:"Member",avatar:"/api/placeholder/40/40"}];return l("div",{className:"group-details-modal-overlay",onClick:e,children:g("div",{className:"group-details-modal",onClick:c=>c.stopPropagation(),children:[g("button",{className:"back-btn",onClick:e,children:[l(tf,{size:20}),"Back to Groups"]}),g("div",{className:"group-details-header",children:[l("img",{src:t.image,alt:t.name,className:"group-header-image"}),l("div",{className:"group-header-overlay",children:l("div",{className:"group-header-content",children:g("div",{className:"group-title-section",children:[l("h1",{children:t.name}),g("div",{className:"group-meta",children:[t.privacy==="private"?g("span",{className:"privacy-badge private",children:[l(Rb,{size:16}),"Private Group"]}):g("span",{className:"privacy-badge public",children:[l(X1,{size:16}),"Public Group"]}),g("span",{className:"members-badge",children:[l(wn,{size:16}),t.members.toLocaleString()," members"]}),t.role&&g("span",{className:"role-badge",children:[l(UL,{size:16}),t.role]})]})]})})})]}),g("div",{className:"group-actions-bar",children:[l("div",{className:"primary-actions",children:i?g(Ft,{children:[g("button",{className:"btn-action primary",children:[l(Zl,{size:18}),"Discuss"]}),g("button",{className:"btn-action secondary",children:[l(IS,{size:18}),"Notifications"]})]}):g("button",{className:"btn-action primary",children:[l(wn,{size:18}),"Join Group"]})}),g("div",{className:"secondary-actions",children:[l("button",{className:"icon-btn",children:l(Yb,{size:18})}),t.role==="admin"&&l("button",{className:"icon-btn",children:l(x3,{size:18})})]})]}),g("div",{className:"group-tabs",children:[l("button",{className:`tab-btn ${r==="about"?"active":""}`,onClick:()=>s("about"),children:"About"}),g("button",{className:`tab-btn ${r==="posts"?"active":""}`,onClick:()=>s("posts"),children:["Posts",t.unreadPosts>0&&l("span",{className:"tab-badge",children:t.unreadPosts})]}),l("button",{className:`tab-btn ${r==="members"?"active":""}`,onClick:()=>s("members"),children:"Members"})]}),g("div",{className:"group-details-content",children:[r==="about"&&g("div",{className:"about-section",children:[g("div",{className:"info-card",children:[l("h3",{children:"About This Group"}),l("p",{children:t.description}),g("p",{children:["This group brings together professionals who are passionate about ",t.name.toLowerCase(),". Join us to share insights, ask questions, and connect with like-minded individuals from around the world."]})]}),g("div",{className:"info-card",children:[l("h3",{children:"Group Stats"}),g("div",{className:"stats-grid",children:[g("div",{className:"stat-item",children:[l(wn,{size:24}),g("div",{className:"stat-info",children:[l("span",{className:"stat-value",children:t.members.toLocaleString()}),l("span",{className:"stat-label",children:"Members"})]})]}),g("div",{className:"stat-item",children:[l(Zl,{size:24}),g("div",{className:"stat-info",children:[l("span",{className:"stat-value",children:"234"}),l("span",{className:"stat-label",children:"Posts"})]})]}),g("div",{className:"stat-item",children:[l(Aa,{size:24}),g("div",{className:"stat-info",children:[g("span",{className:"stat-value",children:["+",Math.floor(t.members*.05)]}),l("span",{className:"stat-label",children:"This Week"})]})]})]})]}),g("div",{className:"info-card",children:[l("h3",{children:"Group Rules"}),g("ul",{className:"rules-list",children:[l("li",{children:"Be respectful and professional at all times"}),l("li",{children:"No spam or self-promotion without permission"}),l("li",{children:"Stay on topic and contribute meaningfully"}),l("li",{children:"Help others and share your knowledge"})]})]})]}),r==="posts"&&l("div",{className:"posts-section",children:a.map(c=>g("div",{className:"post-card",children:[g("div",{className:"post-author",children:[l("div",{className:"author-avatar"}),g("div",{className:"author-info",children:[l("span",{className:"author-name",children:c.author}),l("span",{className:"post-time",children:c.time})]})]}),l("p",{className:"post-content",children:c.content}),g("div",{className:"post-stats",children:[g("span",{children:[c.likes," likes"]}),g("span",{children:[c.comments," comments"]})]})]},c.id))}),r==="members"&&l("div",{className:"members-section",children:l("div",{className:"members-list",children:o.map(c=>g("div",{className:"member-card",children:[l("img",{src:c.avatar,alt:c.name,className:"member-avatar"}),g("div",{className:"member-info",children:[l("span",{className:"member-name",children:c.name}),l("span",{className:"member-role",children:c.role})]}),l("button",{className:"btn-message",children:"Message"})]},c.id))})})]})]})})},$Ne=()=>{const[n,e]=ie.useState("myGroups"),[t,i]=ie.useState(""),[r,s]=ie.useState(!1),[a,o]=ie.useState(!1),[c,d]=ie.useState(null),[u,f]=ie.useState([]),[h,p]=ie.useState([]),[v,w]=ie.useState(!0);ie.useEffect(()=>{b()},[]);const b=async()=>{try{w(!0);const[x,N]=await Promise.all([vNe(),bNe()]);x.success&&f(x.groups),N.success&&p(N.groups)}catch(x){console.error("Error fetching groups:",x)}finally{w(!1)}},m=async x=>{try{const N=await wNe(x);N.success&&(f(k=>[N.group,...k]),_n.success("Group created successfully"))}catch(N){console.error("Error creating group:",N)}},y=x=>{d(x),o(!0)},_=async x=>{try{if((await aNe(x)).success){const k=h.find(T=>T.id===x);if(k){const T={...k,role:"member",unreadPosts:0};f(C=>[T,...C]),p(C=>C.filter(P=>P.id!==x))}_n.success("Joined group successfully")}}catch(N){console.error("Error joining group:",N)}};return g("div",{className:"groups-panel",children:[g("div",{className:"groups-header",children:[g("h2",{children:[l(wn,{size:24}),"Groups"]}),g("button",{className:"create-group-btn",onClick:()=>s(!0),children:[l(nd,{size:20}),"Create Group"]})]}),g("div",{className:"groups-search",children:[l(ia,{size:18}),l("input",{type:"text",placeholder:"Search groups...",value:t,onChange:x=>i(x.target.value)})]}),g("div",{className:"groups-tabs",children:[g("button",{className:`tab-btn ${n==="myGroups"?"active":""}`,onClick:()=>e("myGroups"),children:["My Groups (",u.length,")"]}),l("button",{className:`tab-btn ${n==="discover"?"active":""}`,onClick:()=>e("discover"),children:"Discover"})]}),l("div",{className:"groups-content",children:v?l("div",{className:"loading-state",children:l("p",{children:"Loading groups..."})}):n==="myGroups"?l("div",{className:"groups-list",children:u.length===0?g("div",{className:"empty-state",children:[l(wn,{size:48}),l("p",{children:"You haven't joined any groups yet"}),l("button",{className:"create-group-btn",onClick:()=>s(!0),children:"Create Your First Group"})]}):u.map(x=>g("div",{className:"group-card",children:[l("img",{src:x.image,alt:x.name,className:"group-image"}),g("div",{className:"group-info",children:[g("div",{className:"group-header",children:[l("h3",{children:x.name}),g("div",{className:"group-badges",children:[x.privacy==="private"?l(Rb,{size:16,className:"privacy-icon"}):l(X1,{size:16,className:"privacy-icon"}),x.role==="admin"&&l(UL,{size:16,className:"role-icon"})]})]}),l("p",{className:"group-description",children:x.description}),g("div",{className:"group-stats",children:[g("span",{className:"members-count",children:[l(wn,{size:14}),x.members.toLocaleString()," members"]}),x.unreadPosts>0&&g("span",{className:"unread-badge",children:[x.unreadPosts," new posts"]})]})]}),g("div",{className:"group-actions",children:[l("button",{className:"btn-view-group",onClick:()=>y(x),children:"View Group"}),x.role==="admin"&&l("button",{className:"btn-icon",children:l(x3,{size:18})})]})]},x.id))}):g("div",{className:"discover-groups",children:[l("div",{className:"discover-header",children:g("h3",{children:[l(Aa,{size:20}),"Trending Groups"]})}),h.length===0?l("div",{className:"empty-state",children:l("p",{children:"No new groups to discover"})}):l("div",{className:"groups-grid",children:h.map(x=>g("div",{className:"discover-group-card",children:[l("img",{src:x.image,alt:x.name,className:"group-image"}),x.trending&&g("div",{className:"trending-badge",children:[l(Aa,{size:14}),"Trending"]}),g("div",{className:"group-info",children:[l("h3",{children:x.name}),l("p",{className:"group-description",children:x.description}),g("div",{className:"group-stats",children:[g("span",{className:"members-count",children:[l(wn,{size:14}),x.members.toLocaleString()," members"]}),x.privacy==="private"?l(Rb,{size:14,className:"privacy-icon"}):l(X1,{size:14,className:"privacy-icon"})]})]}),g("button",{className:"btn-join-group",onClick:()=>_(x.id),children:[l(nd,{size:16}),"Join Group"]})]},x.id))})]})}),l(jNe,{isOpen:r,onClose:()=>s(!1),onCreateGroup:m}),l(WNe,{isOpen:a,onClose:()=>o(!1),group:c,isJoined:c&&u.some(x=>x.id===c.id)})]})};const qNe=({isOpen:n,onClose:e,onCreateEvent:t})=>{const[i,r]=ie.useState({title:"",description:"",date:"",startTime:"",endTime:"",location:"",eventType:"in-person",maxAttendees:"",image:""}),s=c=>{const{name:d,value:u}=c.target;r(f=>({...f,[d]:u}))},a=c=>{c.preventDefault();const d={id:Date.now(),title:i.title,description:i.description,date:new Date(i.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),time:`${i.startTime} - ${i.endTime}`,location:i.location,type:i.eventType,attendees:0,image:"/api/placeholder/400/200",rsvp:null,organizer:"You",maxAttendees:parseInt(i.maxAttendees)||null};t(d),o()},o=()=>{r({title:"",description:"",date:"",startTime:"",endTime:"",location:"",eventType:"in-person",maxAttendees:"",image:""}),e()};return n?l("div",{className:"create-event-modal-overlay",onClick:o,children:g("div",{className:"create-event-modal",onClick:c=>c.stopPropagation(),children:[g("div",{className:"modal-header",children:[g("h2",{children:[l(Rs,{size:24}),"Create New Event"]}),l("button",{className:"close-btn",onClick:o,children:l(Yn,{size:24})})]}),g("form",{onSubmit:a,className:"event-form",children:[g("div",{className:"form-group",children:[g("label",{children:[l(Mn,{size:18}),"Event Title *"]}),l("input",{type:"text",name:"title",value:i.title,onChange:s,placeholder:"Enter event title",required:!0})]}),g("div",{className:"form-group",children:[g("label",{children:[l(Mn,{size:18}),"Description *"]}),l("textarea",{name:"description",value:i.description,onChange:s,placeholder:"Describe your event...",rows:4,required:!0})]}),g("div",{className:"form-row",children:[g("div",{className:"form-group",children:[g("label",{children:[l(Rs,{size:18}),"Date *"]}),l("input",{type:"date",name:"date",value:i.date,onChange:s,required:!0})]}),g("div",{className:"form-group",children:[g("label",{children:[l(xr,{size:18}),"Start Time *"]}),l("input",{type:"time",name:"startTime",value:i.startTime,onChange:s,required:!0})]}),g("div",{className:"form-group",children:[g("label",{children:[l(xr,{size:18}),"End Time *"]}),l("input",{type:"time",name:"endTime",value:i.endTime,onChange:s,required:!0})]})]}),g("div",{className:"form-group",children:[l("label",{children:"Event Type *"}),g("div",{className:"event-type-selector",children:[g("label",{className:`type-option ${i.eventType==="in-person"?"active":""}`,children:[l("input",{type:"radio",name:"eventType",value:"in-person",checked:i.eventType==="in-person",onChange:s}),l(_r,{size:18}),"In-Person"]}),g("label",{className:`type-option ${i.eventType==="virtual"?"active":""}`,children:[l("input",{type:"radio",name:"eventType",value:"virtual",checked:i.eventType==="virtual",onChange:s}),l(yo,{size:18}),"Virtual"]})]})]}),g("div",{className:"form-group",children:[g("label",{children:[i.eventType==="virtual"?l(yo,{size:18}):l(_r,{size:18}),i.eventType==="virtual"?"Meeting Link *":"Location *"]}),l("input",{type:"text",name:"location",value:i.location,onChange:s,placeholder:i.eventType==="virtual"?"https://meet.example.com/event":"Enter venue address",required:!0})]}),g("div",{className:"form-group",children:[g("label",{children:[l(wn,{size:18}),"Max Attendees (Optional)"]}),l("input",{type:"number",name:"maxAttendees",value:i.maxAttendees,onChange:s,placeholder:"Leave empty for unlimited",min:"1"})]}),g("div",{className:"form-actions",children:[l("button",{type:"button",className:"btn-cancel",onClick:o,children:"Cancel"}),g("button",{type:"submit",className:"btn-create",children:[l(Rs,{size:18}),"Create Event"]})]})]})]})}):null};const HNe=({isOpen:n,onClose:e,event:t,onRSVP:i})=>{if(!n||!t)return null;const r=s=>{i(t.id,s)};return l("div",{className:"event-details-modal-overlay",onClick:e,children:g("div",{className:"event-details-modal",onClick:s=>s.stopPropagation(),children:[g("button",{className:"back-btn",onClick:e,children:[l(tf,{size:20}),"Back to Events"]}),g("div",{className:"event-details-image-wrapper",children:[l("img",{src:t.image,alt:t.title,className:"event-details-image"}),l("div",{className:"event-type-badge-large",children:t.type==="virtual"?g(Ft,{children:[l(yo,{size:18}),"Virtual Event"]}):g(Ft,{children:[l(_r,{size:18}),"In-Person Event"]})})]}),g("div",{className:"event-details-content",children:[g("div",{className:"event-details-header",children:[l("h1",{children:t.title}),g("p",{className:"event-organizer-info",children:["Organized by ",l("strong",{children:t.organizer})]})]}),g("div",{className:"event-quick-info",children:[g("div",{className:"info-item",children:[l("div",{className:"info-icon",children:l(Rs,{size:20})}),g("div",{className:"info-content",children:[l("span",{className:"info-label",children:"Date"}),l("span",{className:"info-value",children:t.date})]})]}),g("div",{className:"info-item",children:[l("div",{className:"info-icon",children:l(xr,{size:20})}),g("div",{className:"info-content",children:[l("span",{className:"info-label",children:"Time"}),l("span",{className:"info-value",children:t.time})]})]}),g("div",{className:"info-item",children:[l("div",{className:"info-icon",children:t.type==="virtual"?l(yo,{size:20}):l(_r,{size:20})}),g("div",{className:"info-content",children:[l("span",{className:"info-label",children:t.type==="virtual"?"Platform":"Location"}),l("span",{className:"info-value",children:t.location})]})]}),g("div",{className:"info-item",children:[l("div",{className:"info-icon",children:l(wn,{size:20})}),g("div",{className:"info-content",children:[l("span",{className:"info-label",children:"Attendees"}),g("span",{className:"info-value",children:[t.attendees," going"]})]})]})]}),g("div",{className:"event-description-section",children:[l("h3",{children:"About This Event"}),l("p",{children:t.description}),l("p",{children:"Join us for an exciting event where professionals from various industries come together to learn, network, and share insights. This event promises to be engaging with expert speakers, interactive sessions, and plenty of networking opportunities."})]}),g("div",{className:"event-additional-info",children:[l("h3",{children:"Event Details"}),g("div",{className:"detail-list",children:[g("div",{className:"detail-row",children:[l("span",{className:"detail-label",children:"Category:"}),l("span",{className:"detail-value",children:"Technology & Innovation"})]}),g("div",{className:"detail-row",children:[l("span",{className:"detail-label",children:"Language:"}),l("span",{className:"detail-value",children:"English"})]}),g("div",{className:"detail-row",children:[l("span",{className:"detail-label",children:"Registration Deadline:"}),l("span",{className:"detail-value",children:t.date})]}),t.maxAttendees&&g("div",{className:"detail-row",children:[l("span",{className:"detail-label",children:"Max Capacity:"}),g("span",{className:"detail-value",children:[t.maxAttendees," people"]})]})]})]}),g("div",{className:"event-details-actions",children:[l("div",{className:"rsvp-actions",children:t.rsvp==="going"?l("button",{className:"btn-rsvp-large going",children:" You're Going"}):t.rsvp==="interested"?g(Ft,{children:[l("button",{className:"btn-rsvp-large interested",children:" Interested"}),l("button",{className:"btn-rsvp-large secondary",onClick:()=>r("going"),children:"Confirm Going"})]}):g(Ft,{children:[l("button",{className:"btn-rsvp-large primary",onClick:()=>r("going"),children:"RSVP - I'm Going"}),l("button",{className:"btn-rsvp-large secondary",onClick:()=>r("interested"),children:"Mark as Interested"})]})}),g("div",{className:"secondary-actions",children:[l("button",{className:"icon-btn",title:"Share Event",children:l(Yb,{size:20})}),l("button",{className:"icon-btn",title:"Save Event",children:l(y3,{size:20})}),t.type==="virtual"&&l("button",{className:"icon-btn",title:"Add to Calendar",children:l(Rs,{size:20})})]})]})]})]})})},VNe=()=>{const[n,e]=ie.useState("upcoming"),[t,i]=ie.useState(""),[r,s]=ie.useState(!1),[a,o]=ie.useState(!1),[c,d]=ie.useState(null),[u,f]=ie.useState([]),[h,p]=ie.useState([]),[v,w]=ie.useState(!0);ie.useEffect(()=>{b()},[]);const b=async()=>{try{w(!0);const[C,P]=await Promise.all([xNe(),_Ne()]);C.success&&f(C.events),P.success&&p(P.events)}catch(C){console.error("Error fetching events:",C)}finally{w(!1)}},m=C=>new Date(C).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),y=(C,P)=>{const D=new Date(C),E=new Date(P);return`${D.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})} - ${E.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}`},_=async C=>{try{const P=await SNe(C);P.success&&(f(D=>[P.event,...D]),_n.success("Event created successfully"))}catch(P){console.error("Error creating event:",P)}},x=C=>{d(C),o(!0)},N=async C=>{try{if((await(void 0)(C)).success){const D=h.find(E=>E.id===C);D&&(f(E=>[{...D,status:"registered"},...E]),p(E=>E.filter(A=>A.id!==C))),_n.success("Registered for event successfully")}}catch(P){console.error("Error registering for event:",P)}},k=async C=>{try{(await(void 0)(C)).success&&(f(D=>D.filter(E=>E.id!==C)),_n.success("Registration cancelled"))}catch(P){console.error("Error cancelling registration:",P)}},T=n==="upcoming"?[...u,...h]:u.filter(C=>new Date(C.endDate)<new Date);return g("div",{className:"events-section",children:[g("div",{className:"events-header",children:[g("h2",{children:[l(Rs,{size:24}),"Events"]}),g("button",{className:"create-event-btn",onClick:()=>s(!0),children:[l(nd,{size:20}),"Create Event"]})]}),g("div",{className:"events-controls",children:[g("div",{className:"search-box",children:[l(ia,{size:18}),l("input",{type:"text",placeholder:"Search events...",value:t,onChange:C=>i(C.target.value)})]}),g("button",{className:"filter-btn",children:[l(lc,{size:18}),"Filter"]})]}),g("div",{className:"events-tabs",children:[g("button",{className:`tab-btn ${n==="upcoming"?"active":""}`,onClick:()=>e("upcoming"),children:["Upcoming (",[...u,...h].length,")"]}),l("button",{className:`tab-btn ${n==="past"?"active":""}`,onClick:()=>e("past"),children:"Past Events"}),l("button",{className:`tab-btn ${n==="calendar"?"active":""}`,onClick:()=>e("calendar"),children:"Calendar View"})]}),l("div",{className:"events-content",children:v?l("div",{className:"loading-state",children:l("p",{children:"Loading events..."})}):n==="upcoming"?l("div",{className:"events-list",children:T.length===0?g("div",{className:"empty-state",children:[l(Rs,{size:48}),l("p",{children:"No upcoming events"}),l("button",{className:"create-event-btn",onClick:()=>s(!0),children:"Create Your First Event"})]}):T.map(C=>{var D,E,A,I,R,M;const P=u.some(Y=>Y.id===C.id);return g("div",{className:"event-card",children:[g("div",{className:"event-info",children:[l("div",{className:"event-type-badge",children:C.mode==="online"?g(Ft,{children:[l(yo,{size:14}),"Virtual"]}):C.mode==="offline"?g(Ft,{children:[l(_r,{size:14}),"In-Person"]}):g(Ft,{children:[l(_r,{size:14}),"Hybrid"]})}),l("h3",{children:C.title}),l("p",{className:"event-description",children:C.description}),g("div",{className:"event-details",children:[g("div",{className:"detail-item",children:[l(Rs,{size:16}),l("span",{children:m(C.startDate)})]}),g("div",{className:"detail-item",children:[l(xr,{size:16}),l("span",{children:y(C.startDate,C.endDate)})]}),l("div",{className:"detail-item",children:C.mode==="online"?g(Ft,{children:[l(yo,{size:16}),l("span",{children:"Virtual Event"})]}):g(Ft,{children:[l(_r,{size:16}),l("span",{children:((D=C.location)==null?void 0:D.city)||((E=C.location)==null?void 0:E.venue)||"In-Person"})]})}),g("div",{className:"detail-item",children:[l(wn,{size:16}),g("span",{children:[C.attendees," attendees"]})]})]}),l("div",{className:"event-organizer",children:g("span",{children:["Organized by ",(I=(A=C.organizer)==null?void 0:A.profile)==null?void 0:I.firstName," ",(M=(R=C.organizer)==null?void 0:R.profile)==null?void 0:M.lastName]})})]}),g("div",{className:"event-actions",children:[l("button",{className:"btn-view-details",onClick:()=>x(C),children:"View Details"}),P?l("button",{className:"btn-cancel-rsvp",onClick:()=>k(C.id),children:"Cancel"}):l("button",{className:"btn-rsvp-going",onClick:()=>N(C.id),children:"Register"})]})]},C.id)})}):n==="past"?l("div",{className:"events-list",children:T.length===0?l("div",{className:"empty-state",children:l("p",{children:"No past events"})}):T.map(C=>l("div",{className:"event-card",children:g("div",{className:"event-info",children:[l("h3",{children:C.title}),g("div",{className:"event-details",children:[g("div",{className:"detail-item",children:[l(Rs,{size:16}),l("span",{children:m(C.startDate)})]}),g("div",{className:"detail-item",children:[l(wn,{size:16}),g("span",{children:[C.attendees," attended"]})]})]})]})},C.id))}):l("div",{className:"calendar-view",children:l("p",{children:"Calendar view coming soon..."})})}),l(qNe,{isOpen:r,onClose:()=>s(!1),onCreateEvent:_}),l(HNe,{isOpen:a,onClose:()=>o(!1),event:c})]})};const GNe=({userRole:n})=>{const[e,t]=ie.useState("browse"),[i,r]=ie.useState(""),[s,a]=ie.useState(""),[o,c]=ie.useState([]),[d,u]=ie.useState([]),[f,h]=ie.useState([]),[p,v]=ie.useState(!1),[w,b]=ie.useState({type:[],remote:!1,minSalary:null,maxSalary:null});ie.useEffect(()=>{e==="browse"?m():e==="applications"?y():e==="saved"&&_()},[e]);const m=async()=>{try{v(!0);const P={search:i||void 0,location:s||void 0,type:w.type.length>0?w.type.join(","):void 0,remote:w.remote||void 0,minSalary:w.minSalary||void 0,maxSalary:w.maxSalary||void 0},D=await fNe(P);D.success&&c(D.jobs)}catch(P){console.error("Error fetching jobs:",P)}finally{v(!1)}},y=async()=>{try{v(!0);const P=await pNe();P.success&&u(P.applications)}catch(P){console.error("Error fetching applications:",P)}finally{v(!1)}},_=async()=>{try{v(!0);const P=await mNe();P.success&&h(P.jobs)}catch(P){console.error("Error fetching saved jobs:",P)}finally{v(!1)}},x=()=>{e==="browse"&&m()},N=async P=>{try{const D=await gNe(P,{resume:"",coverLetter:""});D.success&&(_n.success(D.message||"Application submitted successfully"),c(o.map(E=>E.id===P?{...E,hasApplied:!0}:E)))}catch(D){console.error("Error applying to job:",D)}},k=async P=>{try{const D=await yNe(P);D.success&&(_n.success(D.message),e==="browse"?m():e==="saved"&&_())}catch(D){console.error("Error saving job:",D),_n.error("Failed to save job")}},T=(P,D)=>{b(E=>{if(P==="type"){const A=E.type.includes(D)?E.type.filter(I=>I!==D):[...E.type,D];return{...E,type:A}}return{...E,[P]:D}})},C=()=>{m()};return g("div",{className:"job-postings",children:[g("div",{className:"jobs-header",children:[g("h2",{children:[l(Mi,{size:24}),"Job Opportunities"]}),n==="recruiter"&&g("button",{className:"post-job-btn",children:[l(nd,{size:20}),"Post a Job"]})]}),g("div",{className:"jobs-search-bar",children:[g("div",{className:"search-input-group",children:[l(ia,{size:20}),l("input",{type:"text",placeholder:"Search jobs, companies, or keywords...",value:i,onChange:P=>r(P.target.value),onKeyPress:P=>P.key==="Enter"&&x()})]}),g("div",{className:"search-input-group",children:[l(_r,{size:20}),l("input",{type:"text",placeholder:"Location",value:s,onChange:P=>a(P.target.value),onKeyPress:P=>P.key==="Enter"&&x()})]}),l("button",{className:"search-btn",onClick:x,children:"Search"}),l("button",{className:"filter-btn",children:l(lc,{size:20})})]}),g("div",{className:"jobs-tabs",children:[l("button",{className:`tab-btn ${e==="browse"?"active":""}`,onClick:()=>t("browse"),children:"Browse Jobs"}),g("button",{className:`tab-btn ${e==="applications"?"active":""}`,onClick:()=>t("applications"),children:["My Applications (",d.length,")"]}),g("button",{className:`tab-btn ${e==="saved"?"active":""}`,onClick:()=>t("saved"),children:["Saved Jobs (",f.length,")"]})]}),l("div",{className:"jobs-content",children:p?g("div",{className:"loading-state",children:[l("div",{className:"spinner"}),l("p",{children:"Loading jobs..."})]}):g(Ft,{children:[e==="browse"&&g("div",{className:"jobs-browse",children:[g("div",{className:"jobs-filters",children:[g("div",{className:"filter-section",children:[l("h4",{children:"Job Type"}),g("label",{className:"filter-checkbox",children:[l("input",{type:"checkbox",checked:w.type.includes("full-time"),onChange:()=>T("type","full-time")}),l("span",{children:"Full-time"})]}),g("label",{className:"filter-checkbox",children:[l("input",{type:"checkbox",checked:w.type.includes("part-time"),onChange:()=>T("type","part-time")}),l("span",{children:"Part-time"})]}),g("label",{className:"filter-checkbox",children:[l("input",{type:"checkbox",checked:w.type.includes("contract"),onChange:()=>T("type","contract")}),l("span",{children:"Contract"})]}),g("label",{className:"filter-checkbox",children:[l("input",{type:"checkbox",checked:w.remote,onChange:()=>T("remote",!w.remote)}),l("span",{children:"Remote"})]})]}),g("div",{className:"filter-section",children:[l("h4",{children:"Experience Level"}),g("label",{className:"filter-checkbox",children:[l("input",{type:"checkbox"}),l("span",{children:"Entry Level"})]}),g("label",{className:"filter-checkbox",children:[l("input",{type:"checkbox"}),l("span",{children:"Mid Level"})]}),g("label",{className:"filter-checkbox",children:[l("input",{type:"checkbox"}),l("span",{children:"Senior Level"})]})]}),g("div",{className:"filter-section",children:[l("h4",{children:"Salary Range"}),l("input",{type:"range",min:"0",max:"200",className:"salary-slider",onChange:P=>T("maxSalary",P.target.value*1e3)}),g("div",{className:"salary-range",children:[l("span",{children:"$0k"}),l("span",{children:"$200k+"})]})]}),l("button",{className:"apply-filters-btn",onClick:C,children:"Apply Filters"})]}),l("div",{className:"jobs-list",children:o.length===0?g("div",{className:"empty-state",children:[l(Mi,{size:48}),l("p",{children:"No jobs found"}),l("p",{className:"empty-subtitle",children:"Try adjusting your search or filters"})]}):o.map(P=>{var D,E;return g("div",{className:"job-card",children:[P.featured&&g("div",{className:"featured-badge",children:[l(Aa,{size:14}),"Featured"]}),g("div",{className:"job-card-header",children:[l("img",{src:((E=(D=P.postedBy)==null?void 0:D.profile)==null?void 0:E.avatar)||"/api/placeholder/60/60",alt:P.company,className:"company-logo"}),g("div",{className:"job-info",children:[l("h3",{children:P.title}),l("p",{className:"company-name",children:P.company}),g("div",{className:"job-meta",children:[g("span",{children:[l(_r,{size:14}),P.location]}),g("span",{children:[l(xr,{size:14}),P.type]}),g("span",{children:[l(x9,{size:14}),P.salary]})]})]})]}),l("p",{className:"job-description",children:P.description}),P.skills&&P.skills.length>0&&l("div",{className:"job-skills",children:P.skills.map((A,I)=>l("span",{className:"skill-tag",children:A},I))}),g("div",{className:"job-footer",children:[g("div",{className:"job-stats",children:[g("span",{children:[l(na,{size:14}),P.views," views"]}),g("span",{children:[l(wn,{size:14}),P.applicants," applicants"]}),l("span",{className:"posted-time",children:P.posted})]}),g("div",{className:"job-actions",children:[l("button",{className:"btn-save",onClick:()=>k(P.id),children:"Save"}),l("button",{className:"btn-apply",onClick:()=>N(P.id),disabled:P.hasApplied,children:P.hasApplied?"Applied":"Apply Now"})]})]})]},P.id)})})]}),e==="applications"&&g("div",{className:"applications-list",children:[g("div",{className:"applications-header",children:[l("h3",{children:"Your Applications"}),l("p",{children:"Track the status of your job applications"})]}),d.length===0?g("div",{className:"empty-state",children:[l(Mi,{size:48}),l("p",{children:"No applications yet"}),l("p",{className:"empty-subtitle",children:"Start applying to jobs to see them here"})]}):d.map(P=>g("div",{className:"application-card",children:[g("div",{className:"application-info",children:[l("h4",{children:P.jobTitle}),l("p",{className:"company-name",children:P.company}),g("p",{className:"applied-date",children:["Applied on ",new Date(P.appliedDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]}),l("div",{className:"application-status",children:l("span",{className:`status-badge ${P.statusColor}`,children:P.status})}),l("button",{className:"btn-view",children:"View Details"})]},P.id))]}),e==="saved"&&l("div",{className:"saved-jobs-list",children:f.length===0?g("div",{className:"saved-jobs-placeholder",children:[l(Mi,{size:48}),l("p",{children:"No saved jobs yet"}),l("p",{className:"placeholder-subtitle",children:"Save jobs you're interested in to view them later"})]}):l("div",{className:"jobs-list",children:f.map(P=>g("div",{className:"job-card",children:[g("div",{className:"job-card-header",children:[l("img",{src:P.logo||"/api/placeholder/60/60",alt:P.company,className:"company-logo"}),g("div",{className:"job-info",children:[l("h3",{children:P.title}),l("p",{className:"company-name",children:P.company}),g("div",{className:"job-meta",children:[g("span",{children:[l(_r,{size:14}),P.location]}),g("span",{children:[l(xr,{size:14}),P.type]}),g("span",{children:[l(x9,{size:14}),P.salary]})]})]})]}),g("div",{className:"job-footer",children:[g("div",{className:"job-stats",children:[g("span",{children:[l(wn,{size:14}),P.applicants," applicants"]}),l("span",{className:"posted-time",children:P.posted})]}),g("div",{className:"job-actions",children:[l("button",{className:"btn-remove",onClick:()=>k(P.id),children:"Remove"}),l("button",{className:"btn-apply",onClick:()=>N(P.id),children:"Apply Now"})]})]})]},P.id))})})]})})]})};const XNe=({onClose:n,setUnreadCount:e})=>{console.log("NotificationCenter rendered!");const[t,i]=ie.useState("all"),[r,s]=ie.useState([]),[a,o]=ie.useState(!1),[c,d]=ie.useState(0);ie.useEffect(()=>{u()},[t]);const u=async()=>{try{o(!0);const m=await oNe(t,50,1);if(m&&m.success){s(m.notifications||[]);const y=(m.notifications||[]).filter(_=>!_.read).length;d(y)}else s([]),d(0)}catch(m){console.error("Error fetching notifications:",m),s([]),d(0)}finally{o(!1)}},f=m=>({connection:uy,message:Zl,like:Ob,comment:Ob,view:na,job:Mi,group:wn,event:Rs,system:na})[m]||na,h=m=>{const y=new Date(m),x=new Date-y,N=Math.floor(x/6e4),k=Math.floor(x/36e5),T=Math.floor(x/864e5);return N<1?"Just now":N<60?`${N} minute${N>1?"s":""} ago`:k<24?`${k} hour${k>1?"s":""} ago`:T<7?`${T} day${T>1?"s":""} ago`:y.toLocaleDateString()},p=[{value:"all",label:"All Notifications"},{value:"connection",label:"Connections"},{value:"message",label:"Messages"},{value:"like",label:"Interactions"},{value:"job",label:"Jobs"},{value:"event",label:"Events"},{value:"group",label:"Groups"}],v=async()=>{try{(await lNe()).success&&(s(y=>y.map(_=>({..._,read:!0}))),d(0),e&&e(0),_n.success("All notifications marked as read"))}catch(m){console.error("Error marking all as read:",m),_n.error("Failed to mark notifications as read")}},w=async m=>{if(!m.read)try{await cNe(m.id),s(y=>y.map(_=>_.id===m.id?{..._,read:!0}:_)),d(y=>Math.max(0,y-1)),e&&e(y=>Math.max(0,y-1))}catch(y){console.error("Error marking notification as read:",y)}m.link&&(window.location.href=m.link)},b=m=>({connection:"#3b82f6",message:"#10b981",like:"#f59e0b",comment:"#f59e0b",view:"#8b5cf6",job:"#ef4444",group:"#06b6d4",event:"#ec4899",system:"#6b7280"})[m]||"#6b7280";return l("div",{className:"notification-center-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(189, 211, 55, 0.8)",display:"flex",alignItems:"flex-start",justifyContent:"flex-end",padding:"80px 20px 20px",zIndex:9999},children:g("div",{className:"notification-center",style:{width:"100%",maxWidth:"450px",background:"#FFFFFF",borderRadius:"24px",boxShadow:"0 20px 60px rgba(189, 211, 55, 0.4)",display:"flex",flexDirection:"column",border:"3px solid #BDD337",overflow:"hidden",maxHeight:"calc(100vh - 100px)"},children:[g("div",{className:"notification-header",style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1.5rem",borderBottom:"2px solid #BDD337",background:"linear-gradient(135deg, #BDD337, #524393)",color:"#FFFFFF"},children:[g("div",{className:"header-left",style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[l("button",{className:"back-btn",onClick:n,title:"Back to Networking Arena",style:{padding:"0.5rem",background:"rgba(255, 255, 255, 0.2)",border:"none",borderRadius:"50%",color:"#FFFFFF",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:l(tf,{size:20})}),l("h2",{style:{fontSize:"1.25rem",fontWeight:"700",margin:0,color:"#FFFFFF"},children:"Notifications"}),!a&&c>0&&g("span",{className:"unread-count-badge",children:[c," new"]})]}),l("button",{className:"close-btn",onClick:n,style:{padding:"0.5rem",background:"rgba(255, 255, 255, 0.2)",border:"none",borderRadius:"50%",color:"#FFFFFF",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:l(Yn,{size:24})})]}),a?g("div",{className:"loading-container",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"4rem 2rem",minHeight:"400px"},children:[l("div",{className:"spinner",style:{width:"48px",height:"48px",border:"4px solid rgba(189, 211, 55, 0.2)",borderTopColor:"#BDD337",borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"1rem"}}),l("p",{style:{color:"#64748b",fontSize:"0.9375rem",margin:0},children:"Loading notifications..."})]}):g(Ft,{children:[g("div",{className:"notification-actions",children:[g("div",{className:"filter-dropdown",children:[l(lc,{size:16}),l("select",{value:t,onChange:m=>i(m.target.value),children:p.map(m=>l("option",{value:m.value,children:m.label},m.value))})]}),c>0&&l("button",{className:"mark-read-btn",onClick:v,children:"Mark all as read"})]}),l("div",{className:"notifications-list",children:r.length>0?r.map(m=>{const y=f(m.type);return g("div",{className:`notification-item ${m.read?"":"unread"}`,onClick:()=>w(m),style:{cursor:m.link?"pointer":"default"},children:[l("div",{className:"notification-icon",style:{backgroundColor:b(m.type)},children:l(y,{size:20})}),m.avatar&&l("img",{src:m.avatar,alt:"",className:"notification-avatar"}),g("div",{className:"notification-content",children:[l("h4",{children:m.title}),l("p",{children:m.message}),l("span",{className:"notification-time",children:h(m.timestamp)})]}),!m.read&&l("div",{className:"notification-dot"})]},m.id)}):g("div",{className:"no-notifications",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"4rem 2rem",textAlign:"center",minHeight:"400px"},children:[l("div",{className:"empty-notification-icon",style:{width:"96px",height:"96px",borderRadius:"50%",background:"linear-gradient(145deg, #f5f8fb, #e8ecf0)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1.5rem",boxShadow:"0 8px 16px rgba(189, 211, 55, 0.1), inset 0 -2px 8px rgba(0, 0, 0, 0.05)"},children:l(IS,{size:48,style:{color:"#BDD337",opacity:.4}})}),l("h3",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1e293b",margin:"0 0 0.5rem 0"},children:"No Notifications"}),l("p",{style:{fontSize:"0.9375rem",color:"#64748b",margin:0,maxWidth:"300px"},children:"You're all caught up! Check back later for new updates."})]})})]})]})})};const YNe=({onClose:n,userRole:e,onOpenMessaging:t})=>{const[i,r]=ie.useState("people"),[s,a]=ie.useState(""),[o,c]=ie.useState(null),[d,u]=ie.useState(!1),[f,h]=ie.useState(!1),[p,v]=ie.useState({location:"",industry:"",experience:"",skills:"",education:"",company:""}),[w,b]=ie.useState([]),m=["Technology","Finance","Healthcare","Education","Manufacturing","Retail","Consulting","Media"],y=["Entry Level (0-2 years)","Mid Level (3-5 years)","Senior (6-10 years)","Expert (10+ years)"];ie.useEffect(()=>{const D=setTimeout(()=>{s.trim()||Object.values(p).some(E=>E)?_():b([])},500);return()=>clearTimeout(D)},[s,p,i]);const _=async()=>{try{h(!0);let D;switch(i){case"people":D=await(void 0)(s,p);break;case"jobs":D=await(void 0)(s,{location:p.location,type:p.type,experience:p.experience});break;case"companies":D=await(void 0)(s,{industry:p.industry,location:p.location});break;default:D={success:!0,results:[]}}D.success&&b(D.results||[])}catch(D){console.error("Search error:",D),_n.error("Failed to perform search"),b([])}finally{h(!1)}},x=()=>{v({location:"",industry:"",experience:"",skills:"",education:"",company:""}),a(""),b([])},N=D=>{c(D),u(!0)},k=D=>{console.log("Following user:",D),b(E=>E.map(A=>A.id===D?{...A,isFollowing:!0}:A)),o&&o.id===D&&c({...o,isFollowing:!0})},T=D=>{console.log("Unfollowing user:",D),b(E=>E.map(A=>A.id===D?{...A,isFollowing:!1}:A)),o&&o.id===D&&c({...o,isFollowing:!1})},C=async D=>{try{(await $I(D)).success&&(b(A=>A.map(I=>I.id===D?{...I,connected:!0}:I)),_n.success("Connection request sent"),u(!1))}catch(E){console.error("Error sending connection request:",E),_n.error("Failed to send connection request")}},P=D=>{console.log("Messaging user:",D),u(!1),t&&t(D)};return g("div",{className:"advanced-search-overlay",children:[g("div",{className:"advanced-search-modal",children:[g("div",{className:"search-modal-header",children:[g("button",{className:"back-btn",onClick:n,title:"Back to Networking Arena",children:[l(tf,{size:20}),l("span",{children:"Back"})]}),g("h2",{children:[l(ia,{size:24}),"Advanced Search"]})]}),g("div",{className:"search-type-tabs",children:[g("button",{className:`type-tab ${i==="people"?"active":""}`,onClick:()=>r("people"),children:[l(wn,{size:18}),"People"]}),g("button",{className:`type-tab ${i==="jobs"?"active":""}`,onClick:()=>r("jobs"),children:[l(Mi,{size:18}),"Jobs"]}),g("button",{className:`type-tab ${i==="companies"?"active":""}`,onClick:()=>r("companies"),children:[l(Fw,{size:18}),"Companies"]}),g("button",{className:`type-tab ${i==="content"?"active":""}`,onClick:()=>r("content"),children:[l(am,{size:18}),"Content"]})]}),g("div",{className:"main-search-input",children:[l(ia,{size:20}),l("input",{type:"text",placeholder:`Search ${i}...`,value:s,onChange:D=>a(D.target.value),autoFocus:!0})]}),g("div",{className:"search-content",children:[g("div",{className:"search-filters",children:[g("h3",{children:[l(lc,{size:18}),"Filters"]}),i==="people"&&g(Ft,{children:[g("div",{className:"filter-group",children:[l("label",{children:"Location"}),g("div",{className:"input-with-icon",children:[l(_r,{size:16}),l("input",{type:"text",placeholder:"City, State, or Country",value:p.location,onChange:D=>v({...p,location:D.target.value})})]})]}),g("div",{className:"filter-group",children:[l("label",{children:"Industry"}),g("select",{value:p.industry,onChange:D=>v({...p,industry:D.target.value}),children:[l("option",{value:"",children:"All Industries"}),m.map(D=>l("option",{value:D,children:D},D))]})]}),g("div",{className:"filter-group",children:[l("label",{children:"Experience Level"}),g("select",{value:p.experience,onChange:D=>v({...p,experience:D.target.value}),className:"modern-select",children:[l("option",{value:"",children:"Any Experience"}),y.map(D=>l("option",{value:D,children:D},D))]})]}),g("div",{className:"filter-group",children:[l("label",{children:"Skills"}),l("input",{type:"text",placeholder:"e.g. React, Python, AWS",value:p.skills,onChange:D=>v({...p,skills:D.target.value})})]}),g("div",{className:"filter-group",children:[l("label",{children:"Company"}),g("div",{className:"input-with-icon",children:[l(Fw,{size:16}),l("input",{type:"text",placeholder:"Current or past company",value:p.company,onChange:D=>v({...p,company:D.target.value})})]})]}),g("div",{className:"filter-group",children:[l("label",{children:"Education"}),g("div",{className:"input-with-icon",children:[l(nf,{size:16}),l("input",{type:"text",placeholder:"School or degree",value:p.education,onChange:D=>v({...p,education:D.target.value})})]})]}),e==="premium"&&g("div",{className:"premium-filters",children:[g("div",{className:"premium-badge",children:[l(am,{size:14}),"Premium Filters"]}),g("div",{className:"filter-group",children:[g("label",{className:"filter-checkbox",children:[l("input",{type:"checkbox"}),l("span",{children:"Open to opportunities"})]}),g("label",{className:"filter-checkbox",children:[l("input",{type:"checkbox"}),l("span",{children:"Premium members only"})]})]})]})]}),l("button",{className:"clear-filters-btn",onClick:x,children:"Clear All Filters"})]}),g("div",{className:"search-results",children:[g("div",{className:"results-header",children:[g("h3",{children:[w.length," results found"]}),l("div",{className:"sort-dropdown",children:g("select",{className:"sort-select",children:[l("option",{value:"relevance",children:"Most Relevant"}),l("option",{value:"recent",children:"Most Recent"}),l("option",{value:"connections",children:"Most Connections"})]})})]}),l("div",{className:"results-list",children:f?g("div",{className:"loading-state",children:[l("div",{className:"spinner"}),l("p",{children:"Searching..."})]}):w.length===0?g("div",{className:"empty-state",children:[l(ia,{size:48}),l("h3",{children:"No results found"}),l("p",{children:"Try adjusting your search query or filters"})]}):w.map(D=>g("div",{className:"result-card",children:[l("img",{src:D.avatar,alt:D.name,className:"result-avatar"}),g("div",{className:"result-info",children:[g("div",{className:"result-header",children:[l("h4",{children:D.name}),e==="premium"&&g("span",{className:"match-badge",children:[D.match,"% match"]})]}),l("p",{className:"result-title",children:D.title}),g("p",{className:"result-company",children:[l(Fw,{size:14}),D.company]}),g("p",{className:"result-location",children:[l(_r,{size:14}),D.location]}),g("p",{className:"mutual-connections",children:[D.mutualConnections," mutual connections"]}),l("div",{className:"result-skills",children:D.skills.map((E,A)=>l("span",{className:"skill-tag",children:E},A))})]}),g("div",{className:"result-actions",children:[l("button",{className:"btn-connect",onClick:()=>C(D.id),children:"Connect"}),e==="premium"&&l("button",{className:"btn-inmail",children:"Send InMail"}),l("button",{className:"btn-view",onClick:()=>N(D),children:"View Profile"})]})]},D.id))})]})]})]}),d&&o&&l(SY,{user:o,onClose:()=>u(!1),onFollow:k,onUnfollow:T,onConnect:C,onMessage:P})]})},KNe=()=>{const{user:n}=hs(),[e,t]=ie.useState("feed"),[i,r]=ie.useState(!1),[s,a]=ie.useState(!1),[o,c]=ie.useState(!1),[d,u]=ie.useState("professional"),[f,h]=ie.useState(0),[p,v]=ie.useState(0),[w,b]=ie.useState(!1),[m,y]=ie.useState(null),[_,x]=ie.useState(!1),[N,k]=ie.useState(""),[T,C]=ie.useState({connections:0,pendingRequests:0,sentRequests:0}),[P,D]=ie.useState({groups:0,upcomingEvents:0,unreadMessages:0}),[E,A]=ie.useState(!0),I={name:(n==null?void 0:n.displayName)||(n==null?void 0:n.firstName)+" "+((n==null?void 0:n.lastName)||"")||"User",avatar:(n==null?void 0:n.photoURL)||"/api/placeholder/40/40"};ie.useEffect(()=>{console.log("NetworkingArena mounted"),console.log("User:",n),console.log("Current User:",I);try{document.title="Networking Arena - Planning Insights"}catch(W){console.error("Error in useEffect:",W),x(!0),k(W.message)}},[]),ie.useEffect(()=>{document.title="Networking Arena - Planning Insights",R(),M(),Y()},[]);const R=async()=>{try{A(!0);const W=await eNe();W.success&&C(W.stats)}catch(W){console.error("Error fetching connection stats:",W)}finally{A(!1)}},M=async()=>{try{const W=await tNe();W.success&&(D(W.stats),h(W.stats.unreadMessages))}catch(W){console.error("Error fetching networking stats:",W)}},Y=async()=>{try{const W=await nNe();W.success&&v(W.count)}catch(W){console.error("Error fetching unread notifications:",W)}};ie.useEffect(()=>{const W=()=>{b(window.scrollY>400)};return window.addEventListener("scroll",W),()=>window.removeEventListener("scroll",W)},[]);const q=()=>{window.scrollTo({top:0,behavior:"smooth"})},G=(W=null)=>{console.log("Opening messaging center for user:",W),y(W),r(!0),console.log("showMessaging state set to true")},B=[{id:"feed",label:"Feed",icon:Aa},{id:"connections",label:"My Network",icon:wn},{id:"groups",label:"Groups",icon:Zl},{id:"events",label:"Events",icon:Rs},{id:"jobs",label:"Jobs",icon:Mi}],J=()=>{try{switch(e){case"feed":return l(lz,{userRole:d,currentUser:I});case"connections":return l(ENe,{onOpenMessaging:G});case"groups":return l($Ne,{});case"events":return l(VNe,{});case"jobs":return l(GNe,{userRole:d});default:return l(lz,{userRole:d,currentUser:I})}}catch(W){return console.error("Error rendering content:",W),g("div",{style:{padding:"20px",textAlign:"center"},children:[l("h3",{children:"Something went wrong"}),l("p",{children:W.message})]})}};return _?g("div",{style:{padding:"100px 20px",textAlign:"center",background:"white",minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[l("h2",{style:{color:"#524393",marginBottom:"1rem"},children:"Networking Arena - Loading Error"}),l("p",{style:{color:"#666"},children:N||"Please refresh the page or try again later."}),l("button",{onClick:()=>window.location.reload(),style:{marginTop:"1rem",padding:"0.5rem 1rem",background:"#524393",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Refresh Page"})]}):(console.log("Rendering NetworkingArena - activeTab:",e),g("div",{className:"networking-arena",children:[l("div",{className:"networking-navbar",children:g("div",{className:"navbar-container",children:[l("div",{className:"navbar-left",children:g("h1",{className:"arena-title",children:[l(wn,{className:"title-icon"}),"Networking Arena"]})}),l("div",{className:"navbar-center",children:g("button",{className:"search-trigger",onClick:()=>c(!0),children:[l(ia,{size:20}),l("span",{children:"Ask me anything..."})]})}),l("div",{className:"navbar-right",children:g("button",{className:"nav-icon-btn",onClick:()=>a(!0),children:[l(IS,{size:20}),p>0&&l("span",{className:"notification-badge",children:p})]})})]})}),l("div",{className:"navigation-tabs",children:l("div",{className:"tabs-container",ref:W=>{if(W&&(window.innerWidth<992&&(W.scrollLeft=0),e)){const L=W.querySelector(".nav-tab-pill.active");L&&window.innerWidth<992&&setTimeout(()=>{L.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},100)}},children:B.map(W=>{const L=W.icon;return g("button",{className:`nav-tab-pill ${e===W.id?"active":""}`,onClick:()=>t(W.id),children:[l(L,{size:18}),l("span",{children:W.label})]},W.id)})})}),g("div",{className:"arena-container",children:[l("aside",{className:"arena-sidebar left-sidebar",children:l(kNe,{userRole:d,setUserRole:u})}),l("main",{className:"arena-main-content",children:J()}),g("aside",{className:"arena-sidebar right-sidebar",children:[g("div",{className:"quick-access-panel",children:[l("h3",{children:"Quick Access"}),g("div",{className:"quick-links",children:[g("button",{onClick:()=>t("connections"),children:[l(wn,{size:18}),g("span",{children:["My Connections (",E?"...":T.connections,")"]})]}),g("button",{onClick:()=>t("groups"),children:[l(Zl,{size:18}),g("span",{children:["My Groups (",E?"...":P.groups,")"]})]}),g("button",{onClick:()=>t("events"),children:[l(Rs,{size:18}),g("span",{children:["Upcoming Events (",E?"...":P.upcomingEvents,")"]})]}),g("button",{onClick:()=>r(!0),children:[l(Zl,{size:18}),g("span",{children:["Messages (",P.unreadMessages,")"]})]})]})]}),g("div",{className:"trending-topics",children:[l("h3",{children:"Trending Topics"}),g("div",{className:"topic-tags",children:[l("span",{className:"topic-tag",children:"#AI"}),l("span",{className:"topic-tag",children:"#RemoteWork"}),l("span",{className:"topic-tag",children:"#Sustainability"}),l("span",{className:"topic-tag",children:"#Innovation"}),l("span",{className:"topic-tag",children:"#Leadership"})]})]})]})]}),i&&l(TNe,{onClose:()=>{r(!1),y(null)},setUnreadCount:h,userId:m,currentUser:I}),s&&l(XNe,{onClose:()=>a(!1),setUnreadCount:v}),o&&l(YNe,{onClose:()=>c(!1),userRole:d,onOpenMessaging:G}),w&&l("button",{className:"scroll-to-top-btn",onClick:q,title:"Scroll to top",children:l(FL,{size:24})})]}))},co={getUsers:async(n={})=>(await Xe.get("/admin/users",{params:n})).data,getUser:async n=>(await Xe.get(`/admin/users/${n}`)).data,updateUser:async(n,e)=>(await Xe.put(`/admin/users/${n}`,e)).data,deleteUser:async n=>(await Xe.delete(`/admin/users/${n}`)).data,bulkUpdateUsers:async(n,e)=>(await Xe.post("/admin/users/bulk-update",{userIds:n,updates:e})).data,getPlatformStats:async()=>(await Xe.get("/admin/stats")).data,getModerationQueue:async(n={})=>(await Xe.get("/admin/moderation",{params:n})).data,moderateContent:async(n,e,t="")=>(await Xe.post(`/admin/moderation/${n}`,{action:e,reason:t})).data,bulkModerate:async(n,e,t="")=>(await Xe.post("/admin/moderation/bulk",{contentIds:n,action:e,reason:t})).data,getFlaggedContent:async(n={})=>(await Xe.get("/admin/flagged-content",{params:n})).data,resolveFlag:async(n,e)=>(await Xe.post(`/admin/flags/${n}/resolve`,e)).data,getAnalytics:async(n={})=>(await Xe.get("/admin/analytics",{params:n})).data,exportAnalytics:async(n="csv",e={})=>(await Xe.get("/admin/analytics/export",{params:{format:n,...e},responseType:"blob"})).data,getSystemHealth:async()=>(await Xe.get("/admin/system-health")).data,getRecentActivities:async(n={})=>(await Xe.get("/admin/activities",{params:n})).data,getUserSessions:async(n={})=>(await Xe.get("/admin/sessions",{params:n})).data,terminateSession:async n=>(await Xe.delete(`/admin/sessions/${n}`)).data,getEmailTemplates:async()=>(await Xe.get("/admin/email-templates")).data,updateEmailTemplate:async(n,e)=>(await Xe.put(`/admin/email-templates/${n}`,e)).data,sendBroadcastEmail:async n=>(await Xe.post("/admin/broadcast-email",n)).data,getNotificationSettings:async()=>(await Xe.get("/admin/notification-settings")).data,updateNotificationSettings:async n=>(await Xe.put("/admin/notification-settings",n)).data,getApiUsage:async(n={})=>(await Xe.get("/admin/api-usage",{params:n})).data,getErrorLogs:async(n={})=>(await Xe.get("/admin/error-logs",{params:n})).data,clearErrorLogs:async()=>(await Xe.delete("/admin/error-logs")).data,getBackupStatus:async()=>(await Xe.get("/admin/backups")).data,createBackup:async()=>(await Xe.post("/admin/backups")).data,restoreBackup:async n=>(await Xe.post(`/admin/backups/${n}/restore`)).data,getSystemConfig:async()=>(await Xe.get("/admin/system-config")).data,updateSystemConfig:async n=>(await Xe.put("/admin/system-config",n)).data,clearCache:async(n="all")=>(await Xe.post("/admin/clear-cache",{cacheType:n})).data,runMaintenance:async(n=[])=>(await Xe.post("/admin/maintenance",{tasks:n})).data,getAuditLogs:async(n={})=>(await Xe.get("/admin/audit-logs",{params:n})).data,exportAuditLogs:async(n="csv",e={})=>(await Xe.get("/admin/audit-logs/export",{params:{format:n,...e},responseType:"blob"})).data,getSubscriptionAnalytics:async(n={})=>(await Xe.get("/admin/analytics/subscriptions",{params:n})).data,getRevenueAnalytics:async(n={})=>(await Xe.get("/admin/analytics/revenue",{params:n})).data,getUserEngagement:async(n={})=>(await Xe.get("/admin/analytics/engagement",{params:n})).data,getContentPerformance:async(n={})=>(await Xe.get("/admin/analytics/content",{params:n})).data,generateReport:async(n,e={})=>(await Xe.post("/admin/reports/generate",{reportType:n,params:e})).data,downloadReport:async(n,e="pdf")=>(await Xe.get(`/admin/reports/${n}/download`,{params:{format:e},responseType:"blob"})).data,createPublishingRequirement:async n=>(await Xe.post("/admin/publishing-requirements",n)).data,getAllPublishingRequirements:async(n={})=>(await Xe.get("/admin/publishing-requirements",{params:n})).data,updatePublishingRequirement:async(n,e)=>(await Xe.patch(`/admin/publishing-requirements/${n}`,e)).data,deletePublishingRequirement:async n=>(await Xe.delete(`/admin/publishing-requirements/${n}`)).data,getAllManuscriptsOverview:async(n={})=>(await Xe.get("/admin/manuscripts",{params:n})).data,getManuscriptsByRequirement:async n=>(await Xe.get(`/admin/manuscripts/requirement/${n}`)).data,reviewManuscript:async(n,e)=>(await Xe.patch(`/admin/manuscripts/${n}/review`,e)).data,deleteManuscript:async n=>(await Xe.delete(`/admin/manuscripts/${n}`)).data,getAllResearchPapersOverview:async(n={})=>(await Xe.get("/admin/research-papers",{params:n})).data,getAllArticlesAdmin:async(n={})=>(await Xe.get("/admin/articles",{params:n})).data,updateArticleStatus:async(n,e)=>(await Xe.patch(`/admin/articles/${n}/status`,e)).data,deleteArticleAdmin:async n=>(await Xe.delete(`/admin/articles/${n}`)).data,getAllJobsAdmin:async(n={})=>(await Xe.get("/admin/jobs",{params:n})).data,updateJobStatus:async(n,e)=>(await Xe.patch(`/admin/jobs/${n}/status`,e)).data,deleteJobAdmin:async n=>(await Xe.delete(`/admin/jobs/${n}`)).data,getAllCoursesAdmin:async(n={})=>(await Xe.get("/admin/courses",{params:n})).data,updateCourseStatus:async(n,e)=>(await Xe.patch(`/admin/courses/${n}/status`,e)).data,deleteCourseAdmin:async n=>(await Xe.delete(`/admin/courses/${n}`)).data};const cz=({stats:n,onNavigate:e})=>{var f,h,p,v,w,b,m,y;if(!n)return l("div",{className:"neu-card",children:l("div",{className:"loading-spinner",children:l("div",{className:"spinner"})})});const{overview:t,jobs:i,learning:r,newsroom:s,forum:a,publishing:o,networking:c}=n,d=[{title:"Total Users",value:((f=t==null?void 0:t.totalUsers)==null?void 0:f.count)||0,growth:((h=t==null?void 0:t.totalUsers)==null?void 0:h.growth)||"0%",icon:"",color:"#524393"},{title:"Active Users",value:((p=t==null?void 0:t.activeUsers)==null?void 0:p.count)||0,growth:((v=t==null?void 0:t.activeUsers)==null?void 0:v.growth)||"0%",icon:"",color:"#4CAF50"},{title:"New Today",value:((w=t==null?void 0:t.newUsersToday)==null?void 0:w.count)||0,growth:((b=t==null?void 0:t.newUsersToday)==null?void 0:b.growth)||"0%",icon:"",color:"#2196F3"},{title:"Revenue",value:((m=t==null?void 0:t.revenue)==null?void 0:m.count)||"0",growth:((y=t==null?void 0:t.revenue)==null?void 0:y.growth)||"0%",icon:"",color:"#FF9800"}],u=[{id:"jobs",title:"Job Portal",icon:"",stats:[{label:"Total Jobs",value:(i==null?void 0:i.total)||0},{label:"Active",value:(i==null?void 0:i.active)||0},{label:"Pending",value:(i==null?void 0:i.pending)||0}]},{id:"learning",title:"Learning Center",icon:"",stats:[{label:"Total Courses",value:(r==null?void 0:r.totalCourses)||0},{label:"Active Courses",value:(r==null?void 0:r.activeCourses)||0},{label:"Enrollments",value:(r==null?void 0:r.totalEnrollments)||0}]},{id:"newsroom",title:"Newsroom",icon:"",stats:[{label:"Total Articles",value:(s==null?void 0:s.totalArticles)||0},{label:"Published",value:(s==null?void 0:s.published)||0},{label:"Drafts",value:(s==null?void 0:s.drafts)||0}]},{id:"forum",title:"Forum",icon:"",stats:[{label:"Total Threads",value:(a==null?void 0:a.totalThreads)||0},{label:"Active",value:(a==null?void 0:a.activeThreads)||0},{label:"Flagged",value:(a==null?void 0:a.flaggedContent)||0}]},{id:"publishing",title:"Publishing House",icon:"",stats:[{label:"Total Manuscripts",value:(o==null?void 0:o.totalManuscripts)||0},{label:"Under Review",value:(o==null?void 0:o.underReview)||0},{label:"Published",value:(o==null?void 0:o.published)||0}]},{id:"networking",title:"Networking Arena",icon:"",stats:[{label:"Connections",value:(c==null?void 0:c.totalConnections)||0},{label:"Pending",value:(c==null?void 0:c.pendingRequests)||0},{label:"Groups",value:(c==null?void 0:c.totalGroups)||0}]}];return g("div",{children:[l("div",{className:"stats-grid",children:d.map((_,x)=>g("div",{className:"neu-card stat-card",children:[g("div",{className:"stat-card-header",children:[l("div",{className:"stat-icon",style:{color:_.color},children:_.icon}),l("div",{className:`stat-growth ${_.growth.includes("+")?"positive":"negative"}`,children:_.growth})]}),l("h3",{className:"stat-title",children:_.title}),l("p",{className:"stat-value",children:_.value})]},x))}),g("div",{className:"neu-card",style:{marginTop:"30px"},children:[l("div",{className:"section-header",children:l("h2",{className:"section-title",children:" Modules Overview"})}),l("div",{className:"modules-grid",children:u.map(_=>g("div",{className:"neu-card module-card",onClick:()=>e(_.id),children:[l("div",{className:"module-icon",children:_.icon}),l("h3",{className:"module-title",children:_.title}),l("div",{style:{marginTop:"16px"},children:_.stats.map((x,N)=>g("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px 0",borderBottom:N<_.stats.length-1?"1px solid var(--neu-shadow-dark)":"none"},children:[l("span",{style:{fontSize:"13px",color:"var(--neu-text-muted)"},children:x.label}),l("span",{style:{fontSize:"14px",fontWeight:"600",color:"var(--neu-primary)"},children:x.value})]},N))})]},_.id))})]}),g("div",{className:"neu-card",style:{marginTop:"30px"},children:[l("div",{className:"section-header",children:l("h2",{className:"section-title",children:" Quick Actions"})}),g("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px",marginTop:"20px"},children:[l("button",{className:"neu-btn-primary neu-btn",onClick:()=>e("users"),children:" Manage Users"}),l("button",{className:"neu-btn-primary neu-btn",onClick:()=>e("jobs"),children:" Review Jobs"}),l("button",{className:"neu-btn-primary neu-btn",onClick:()=>e("forum"),children:" Check Flagged Content"}),l("button",{className:"neu-btn-primary neu-btn",onClick:()=>e("analytics"),children:" View Analytics"})]})]})]})},JNe=()=>{var D,E,A,I,R,M,Y;const[n,e]=ie.useState([]),[t,i]=ie.useState(!0),[r,s]=ie.useState(""),[a,o]=ie.useState(""),[c,d]=ie.useState(""),[u,f]=ie.useState(1),[h,p]=ie.useState(1),[v,w]=ie.useState(null),[b,m]=ie.useState(!1);ie.useEffect(()=>{y()},[u,a,c,r]);const y=async()=>{i(!0);try{const q=await(void 0)({page:u,limit:20,search:r,role:a,status:c});e(q.data.users),p(q.data.pagination.pages)}catch(q){lt.error("Failed to load users"),console.error(q)}finally{i(!1)}},_=async(q,G)=>{try{await(void 0)(q,G),lt.success("User status updated successfully"),y()}catch(B){lt.error("Failed to update user status"),console.error(B)}},x=async(q,G)=>{try{await(void 0)(q,G),lt.success("User role updated successfully"),y()}catch(B){lt.error("Failed to update user role"),console.error(B)}},N=async q=>{if(window.confirm("Are you sure you want to delete this user?"))try{await(void 0)(q),lt.success("User deleted successfully"),y()}catch(G){lt.error("Failed to delete user"),console.error(G)}},k=q=>{w(q),m(!0)},T=()=>{w(null),m(!1)},P=(()=>({total:n.length,active:n.filter(q=>q.status==="active").length,suspended:n.filter(q=>q.status==="suspended").length,pending:n.filter(q=>q.status==="pending").length}))();return g("div",{style:{padding:"24px"},children:[g("div",{style:{background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",borderRadius:"20px",padding:"32px",marginBottom:"24px",color:"white",boxShadow:"0 10px 40px rgba(245, 158, 11, 0.3)"},children:[g("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"16px"},children:[l("div",{style:{width:"56px",height:"56px",borderRadius:"16px",background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)",display:"flex",alignItems:"center",justifyContent:"center"},children:l(wn,{size:28})}),g("div",{children:[l("h2",{style:{fontSize:"28px",fontWeight:"700",margin:"0 0 8px 0"},children:"User Management"}),l("p",{style:{margin:0,opacity:.9,fontSize:"15px"},children:"Manage user accounts, roles, and permissions"})]})]}),g("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(160px, 1fr))",gap:"16px",marginTop:"24px"},children:[g("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:"Total Users"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:P.total})]}),g("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:"Active Users"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:P.active})]}),g("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:"Suspended"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:P.suspended})]}),g("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:"Pending"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:P.pending})]})]})]}),g("div",{style:{background:"white",borderRadius:"16px",padding:"20px",marginBottom:"24px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",display:"flex",gap:"16px",alignItems:"center",flexWrap:"wrap"},children:[g("div",{style:{display:"flex",alignItems:"center",gap:"12px",flex:1,minWidth:"300px"},children:[l(ia,{size:20,color:"#6b7280"}),l("input",{type:"text",placeholder:"Search by name or email...",value:r,onChange:q=>{s(q.target.value),f(1)},style:{flex:1,border:"none",outline:"none",fontSize:"15px",background:"transparent"}})]}),g("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[l(lc,{size:18,color:"#6b7280"}),g("select",{value:a,onChange:q=>{o(q.target.value),f(1)},style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #e5e7eb",fontSize:"14px",fontWeight:"500",cursor:"pointer",background:"white"},children:[l("option",{value:"",children:"All Roles"}),l("option",{value:"user",children:" User"}),l("option",{value:"admin",children:" Admin"}),l("option",{value:"moderator",children:" Moderator"}),l("option",{value:"premium",children:" Premium"})]}),g("select",{value:c,onChange:q=>{d(q.target.value),f(1)},style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #e5e7eb",fontSize:"14px",fontWeight:"500",cursor:"pointer",background:"white"},children:[l("option",{value:"",children:"All Status"}),l("option",{value:"active",children:" Active"}),l("option",{value:"inactive",children:" Inactive"}),l("option",{value:"suspended",children:" Suspended"}),l("option",{value:"pending",children:" Pending"})]})]}),g("div",{style:{fontSize:"14px",color:"#6b7280",padding:"8px 16px",background:"#f3f4f6",borderRadius:"8px",fontWeight:"500"},children:[n.length," user",n.length!==1?"s":""]})]}),t?l("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"80px",background:"white",borderRadius:"16px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},children:g("div",{style:{textAlign:"center"},children:[l("div",{style:{width:"48px",height:"48px",border:"4px solid #e5e7eb",borderTopColor:"#3b82f6",borderRadius:"50%",margin:"0 auto 16px",animation:"spin 1s linear infinite"}}),l("p",{style:{color:"#6b7280",fontSize:"15px"},children:"Loading users..."}),l("style",{children:`
              @keyframes spin {
                to { transform: rotate(360deg); }
              }
            `})]})}):n.length===0?g("div",{style:{background:"white",borderRadius:"16px",padding:"60px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},children:[l(wn,{size:48,color:"#3b82f6"}),l("p",{style:{fontSize:"18px",fontWeight:"600",marginTop:"16px"},children:"No users found"})]}):l("div",{style:{background:"white",borderRadius:"16px",padding:"24px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",overflow:"auto"},children:g("table",{style:{width:"100%",borderCollapse:"separate",borderSpacing:"0 8px"},children:[l("thead",{children:g("tr",{style:{borderBottom:"2px solid #f3f4f6"},children:[l("th",{style:{padding:"12px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase"},children:"User"}),l("th",{style:{padding:"12px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase"},children:"Email"}),l("th",{style:{padding:"12px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase"},children:"Role"}),l("th",{style:{padding:"12px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase"},children:"Status"}),l("th",{style:{padding:"12px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase"},children:"Joined"}),l("th",{style:{padding:"12px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase"},children:"Actions"})]})}),l("tbody",{children:n.map(q=>{var G,B,J,W;return g("tr",{style:{background:"#f9fafb",transition:"all 0.2s"},onMouseEnter:L=>L.currentTarget.style.background="#f3f4f6",onMouseLeave:L=>L.currentTarget.style.background="#f9fafb",children:[l("td",{style:{padding:"16px",borderRadius:"8px 0 0 8px"},children:g("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"linear-gradient(135deg, #3b82f6, #2563eb)",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"600",fontSize:"14px"},children:((B=(G=q.profile)==null?void 0:G.firstName)==null?void 0:B.charAt(0))||q.email.charAt(0).toUpperCase()}),g("div",{children:[g("div",{style:{fontWeight:"600",fontSize:"14px"},children:[((J=q.profile)==null?void 0:J.firstName)||"User"," ",((W=q.profile)==null?void 0:W.lastName)||""]}),g("div",{style:{fontSize:"12px",color:"#6b7280"},children:["ID: ",q._id.slice(-8)]})]})]})}),l("td",{style:{padding:"16px",fontSize:"14px"},children:q.email}),l("td",{style:{padding:"16px"},children:g("select",{value:q.role,onChange:L=>x(q._id,L.target.value),style:{padding:"6px 12px",borderRadius:"8px",border:"1px solid #e5e7eb",fontSize:"13px",fontWeight:"500",cursor:"pointer",background:q.role==="admin"?"#fee2e2":q.role==="premium"?"#fef3c7":"#f3f4f6",color:q.role==="admin"?"#991b1b":q.role==="premium"?"#92400e":"#374151"},children:[l("option",{value:"user",children:"User"}),l("option",{value:"admin",children:"Admin"}),l("option",{value:"moderator",children:"Moderator"}),l("option",{value:"premium",children:"Premium"})]})}),l("td",{style:{padding:"16px"},children:g("select",{value:q.status,onChange:L=>_(q._id,L.target.value),style:{padding:"6px 12px",borderRadius:"8px",border:"1px solid #e5e7eb",fontSize:"13px",fontWeight:"500",cursor:"pointer",background:q.status==="active"?"#d1fae5":q.status==="suspended"?"#fee2e2":q.status==="pending"?"#fef3c7":"#f3f4f6",color:q.status==="active"?"#065f46":q.status==="suspended"?"#991b1b":q.status==="pending"?"#92400e":"#6b7280"},children:[l("option",{value:"active",children:"Active"}),l("option",{value:"inactive",children:"Inactive"}),l("option",{value:"suspended",children:"Suspended"}),l("option",{value:"pending",children:"Pending"})]})}),l("td",{style:{padding:"16px",fontSize:"14px",color:"#6b7280"},children:new Date(q.createdAt).toLocaleDateString()}),l("td",{style:{padding:"16px",borderRadius:"0 8px 8px 0"},children:g("div",{style:{display:"flex",gap:"8px"},children:[l("button",{onClick:()=>k(q),style:{padding:"8px",background:"#dbeafe",color:"#1e40af",border:"none",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:l(na,{size:16})}),l("button",{onClick:()=>N(q._id),style:{padding:"8px",background:"#fee2e2",color:"#dc2626",border:"none",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:l(s0,{size:16})})]})})]},q._id)})})]})}),h>1&&g("div",{style:{display:"flex",justifyContent:"center",gap:"8px",marginTop:"24px"},children:[l("button",{onClick:()=>f(q=>Math.max(1,q-1)),disabled:u===1,style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #e5e7eb",background:"white",cursor:u===1?"not-allowed":"pointer",opacity:u===1?.5:1,fontWeight:"600"},children:""}),[...Array(Math.min(5,h))].map((q,G)=>l("button",{onClick:()=>f(G+1),style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #e5e7eb",background:u===G+1?"#3b82f6":"white",color:u===G+1?"white":"#1f2937",cursor:"pointer",fontWeight:u===G+1?"600":"400"},children:G+1},G)),l("button",{onClick:()=>f(q=>Math.min(h,q+1)),disabled:u===h,style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #e5e7eb",background:"white",cursor:u===h?"not-allowed":"pointer",opacity:u===h?.5:1,fontWeight:"600"},children:""})]}),b&&v&&l("div",{onClick:T,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:g("div",{onClick:q=>q.stopPropagation(),style:{background:"white",borderRadius:"20px",padding:"32px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)"},children:[g("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[g("h3",{style:{display:"flex",alignItems:"center",gap:"12px",margin:0,fontSize:"24px",fontWeight:"700"},children:[l(go,{size:28,color:"#3b82f6"}),"User Details"]}),l("button",{onClick:T,style:{background:"#f3f4f6",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"24px",color:"#6b7280"},children:""})]}),g("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"20px",padding:"20px",background:"#f9fafb",borderRadius:"12px"},children:[g("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Name"}),g("div",{style:{fontSize:"14px",fontWeight:"600"},children:[((D=v.profile)==null?void 0:D.firstName)||"N/A"," ",((E=v.profile)==null?void 0:E.lastName)||""]})]}),g("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Email"}),l("div",{style:{fontSize:"14px",fontWeight:"600"},children:v.email})]}),g("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Phone"}),l("div",{style:{fontSize:"14px",fontWeight:"600"},children:((A=v.profile)==null?void 0:A.phone)||"N/A"})]}),g("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Location"}),l("div",{style:{fontSize:"14px",fontWeight:"600"},children:((I=v.profile)==null?void 0:I.location)||"N/A"})]}),g("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Organization"}),l("div",{style:{fontSize:"14px",fontWeight:"600"},children:((R=v.profile)==null?void 0:R.organization)||"N/A"})]}),g("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Position"}),l("div",{style:{fontSize:"14px",fontWeight:"600"},children:((M=v.profile)==null?void 0:M.position)||"N/A"})]}),g("div",{style:{gridColumn:"1 / -1"},children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Bio"}),l("div",{style:{fontSize:"14px",fontWeight:"600"},children:((Y=v.profile)==null?void 0:Y.bio)||"No bio provided"})]}),g("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Member Since"}),l("div",{style:{fontSize:"14px",fontWeight:"600"},children:new Date(v.createdAt).toLocaleDateString()})]}),g("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Last Login"}),l("div",{style:{fontSize:"14px",fontWeight:"600"},children:v.lastLogin?new Date(v.lastLogin).toLocaleString():"Never"})]})]}),l("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"24px"},children:l("button",{onClick:T,style:{padding:"12px 24px",background:"#3b82f6",color:"white",border:"none",borderRadius:"10px",fontSize:"14px",fontWeight:"600",cursor:"pointer"},children:"Close"})})]})})]})},ZNe=()=>{const[n,e]=ie.useState([]),[t,i]=ie.useState(!0),[r,s]=ie.useState(""),[a,o]=ie.useState(""),[c,d]=ie.useState(1),[u,f]=ie.useState(1);ie.useEffect(()=>{h()},[c,a,r]);const h=async()=>{i(!0);try{const y=await(void 0)({page:c,limit:20,search:r,status:a});e(y.data.jobs),f(y.data.pagination.pages)}catch(y){lt.error("Failed to load jobs"),console.error(y)}finally{i(!1)}},p=async(y,_)=>{try{await(void 0)(y,_),lt.success("Job status updated"),h()}catch{lt.error("Failed to update job status")}},v=async y=>{try{await(void 0)(y),lt.success("Featured status toggled"),h()}catch{lt.error("Failed to toggle featured status")}},w=async y=>{if(window.confirm("Are you sure you want to delete this job?"))try{await(void 0)(y),lt.success("Job deleted successfully"),h()}catch{lt.error("Failed to delete job")}},m=(()=>({total:n.length,active:n.filter(y=>y.status==="active").length,featured:n.filter(y=>y.isFeatured).length,applications:n.reduce((y,_)=>{var x;return y+(((x=_.applications)==null?void 0:x.length)||0)},0)}))();return g("div",{style:{padding:"24px"},children:[g("div",{style:{background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",borderRadius:"20px",padding:"32px",marginBottom:"24px",color:"white",boxShadow:"0 10px 40px rgba(245, 158, 11, 0.3)"},children:[g("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"16px"},children:[l("div",{style:{width:"56px",height:"56px",borderRadius:"16px",background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)",display:"flex",alignItems:"center",justifyContent:"center"},children:l(Mi,{size:28})}),g("div",{children:[l("h2",{style:{fontSize:"28px",fontWeight:"700",margin:"0 0 8px 0"},children:"Job Portal Management"}),l("p",{style:{margin:0,opacity:.9,fontSize:"15px"},children:"Manage job postings and applications"})]})]}),g("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(160px, 1fr))",gap:"16px",marginTop:"24px"},children:[g("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:"Total Jobs"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:m.total})]}),g("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:"Active"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:m.active})]}),g("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:"Featured"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:m.featured})]}),g("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:"Applications"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:m.applications})]})]})]}),g("div",{style:{background:"white",borderRadius:"16px",padding:"20px",marginBottom:"24px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",display:"flex",gap:"16px",alignItems:"center",flexWrap:"wrap"},children:[g("div",{style:{position:"relative",flex:"1",minWidth:"300px"},children:[l(ia,{size:18,style:{position:"absolute",left:"14px",top:"50%",transform:"translateY(-50%)",color:"#94a3b8"}}),l("input",{type:"text",placeholder:"Search jobs...",value:r,onChange:y=>{s(y.target.value),d(1)},style:{width:"100%",padding:"12px 12px 12px 44px",border:"1px solid #e2e8f0",borderRadius:"12px",fontSize:"14px",transition:"all 0.2s",outline:"none"}})]}),g("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[l(lc,{size:18,style:{color:"#64748b"}}),g("select",{value:a,onChange:y=>{o(y.target.value),d(1)},style:{padding:"12px 16px",border:"1px solid #e2e8f0",borderRadius:"12px",fontSize:"14px",background:"white",cursor:"pointer",outline:"none",minWidth:"150px"},children:[l("option",{value:"",children:"All Status"}),l("option",{value:"open",children:"Open"}),l("option",{value:"closed",children:"Closed"}),l("option",{value:"on-hold",children:"On Hold"}),l("option",{value:"filled",children:"Filled"})]})]})]}),t?g("div",{style:{textAlign:"center",padding:"60px 20px"},children:[l("div",{style:{width:"48px",height:"48px",border:"4px solid #f3f4f6",borderTop:"4px solid #0ea5e9",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}}),l("p",{style:{marginTop:"16px",color:"#64748b"},children:"Loading jobs..."})]}):g(Ft,{children:[l("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"20px",marginBottom:"24px"},children:n.map(y=>{var _;return g("div",{style:{background:"white",borderRadius:"16px",padding:"24px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",transition:"all 0.3s",border:"1px solid #e2e8f0",cursor:"pointer",position:"relative"},onMouseEnter:x=>{x.currentTarget.style.transform="translateY(-4px)",x.currentTarget.style.boxShadow="0 8px 24px rgba(0,0,0,0.12)"},onMouseLeave:x=>{x.currentTarget.style.transform="translateY(0)",x.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.08)"},children:[y.isFeatured&&g("div",{style:{position:"absolute",top:"16px",right:"16px",background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",color:"white",padding:"4px 12px",borderRadius:"8px",fontSize:"12px",fontWeight:"600",display:"flex",alignItems:"center",gap:"4px"},children:[l(Is,{size:14}),"Featured"]}),g("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px"},children:[l(qhe,{size:20,style:{color:"#64748b"}}),l("span",{style:{fontWeight:"600",fontSize:"15px",color:"#334155"},children:y.company})]}),l("h3",{style:{fontSize:"20px",fontWeight:"700",color:"#0f172a",margin:"0 0 12px 0",lineHeight:"1.4"},children:y.title}),g("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"16px"},children:[g("div",{style:{display:"flex",alignItems:"center",gap:"6px",color:"#64748b",fontSize:"14px"},children:[l(_r,{size:16}),((_=y.location)==null?void 0:_.city)||"Remote"]}),l("div",{style:{background:"#f1f5f9",padding:"4px 12px",borderRadius:"8px",fontSize:"13px",color:"#475569",fontWeight:"500"},children:y.type})]}),g("div",{style:{background:"#f0f9ff",padding:"12px",borderRadius:"12px",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[l(Aa,{size:18,style:{color:"#0ea5e9"}}),g("span",{style:{fontSize:"14px",color:"#0369a1",fontWeight:"600"},children:[y.applicantsCount||0," Applications"]})]}),g("div",{style:{marginBottom:"16px"},children:[l("label",{style:{fontSize:"13px",color:"#64748b",display:"block",marginBottom:"8px"},children:"Status"}),g("select",{value:y.status,onChange:x=>p(y._id,x.target.value),style:{width:"100%",padding:"10px 14px",border:"1px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",background:"white",cursor:"pointer",outline:"none",fontWeight:"500",color:y.status==="open"?"#059669":y.status==="filled"?"#3b82f6":y.status==="closed"?"#ef4444":"#f59e0b"},children:[l("option",{value:"open",children:"Open"}),l("option",{value:"closed",children:"Closed"}),l("option",{value:"on-hold",children:"On Hold"}),l("option",{value:"filled",children:"Filled"})]})]}),g("div",{style:{display:"flex",gap:"8px"},children:[g("button",{onClick:()=>v(y._id),style:{flex:1,padding:"10px",borderRadius:"10px",border:y.isFeatured?"1px solid #fbbf24":"1px solid #e2e8f0",background:y.isFeatured?"#fffbeb":"white",color:y.isFeatured?"#f59e0b":"#64748b",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",transition:"all 0.2s"},onMouseEnter:x=>{x.currentTarget.style.background=y.isFeatured?"#fef3c7":"#f8fafc"},onMouseLeave:x=>{x.currentTarget.style.background=y.isFeatured?"#fffbeb":"white"},children:[l(Is,{size:16,fill:y.isFeatured?"#f59e0b":"none"}),y.isFeatured?"Featured":"Feature"]}),l("button",{onClick:()=>w(y._id),style:{padding:"10px 16px",borderRadius:"10px",border:"1px solid #fee2e2",background:"white",color:"#ef4444",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},onMouseEnter:x=>{x.currentTarget.style.background="#fef2f2"},onMouseLeave:x=>{x.currentTarget.style.background="white"},children:l(s0,{size:18})})]})]},y._id)})}),n.length===0&&g("div",{style:{textAlign:"center",padding:"60px 20px"},children:[l(Mi,{size:64,style:{color:"#cbd5e1",margin:"0 auto 16px"}}),l("p",{style:{fontSize:"18px",color:"#64748b",fontWeight:"600"},children:"No jobs found"}),l("p",{style:{color:"#94a3b8",fontSize:"14px"},children:"Try adjusting your search or filters"})]}),u>1&&g("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"8px",marginTop:"32px"},children:[l("button",{onClick:()=>d(y=>Math.max(1,y-1)),disabled:c===1,style:{padding:"10px 16px",borderRadius:"10px",border:"1px solid #e2e8f0",background:c===1?"#f8fafc":"white",color:c===1?"#cbd5e1":"#0f172a",cursor:c===1?"not-allowed":"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.2s"},children:"Previous"}),l("div",{style:{display:"flex",gap:"6px"},children:[...Array(Math.min(5,u))].map((y,_)=>{const x=_+1;return l("button",{onClick:()=>d(x),style:{width:"40px",height:"40px",borderRadius:"10px",border:c===x?"none":"1px solid #e2e8f0",background:c===x?"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)":"white",color:c===x?"white":"#0f172a",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.2s"},onMouseEnter:N=>{c!==x&&(N.currentTarget.style.background="#f8fafc")},onMouseLeave:N=>{c!==x&&(N.currentTarget.style.background="white")},children:x},_)})}),l("button",{onClick:()=>d(y=>Math.min(u,y+1)),disabled:c===u,style:{padding:"10px 16px",borderRadius:"10px",border:"1px solid #e2e8f0",background:c===u?"#f8fafc":"white",color:c===u?"#cbd5e1":"#0f172a",cursor:c===u?"not-allowed":"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.2s"},children:"Next"})]})]})]})},QNe=()=>{const[n,e]=ie.useState([]),[t,i]=ie.useState(!0),[r,s]=ie.useState(""),[a,o]=ie.useState(1),[c,d]=ie.useState(1);ie.useEffect(()=>{u()},[a,r]);const u=async()=>{i(!0);try{const w=await(void 0)({page:a,limit:20,status:r});e(w.data.courses),d(w.data.pagination.pages)}catch(w){lt.error("Failed to load courses"),console.error(w)}finally{i(!1)}},f=async(w,b)=>{try{await(void 0)(w,b),lt.success("Course status updated"),u()}catch{lt.error("Failed to update course status")}},h=async w=>{if(window.confirm("Are you sure you want to delete this course?"))try{await(void 0)(w),lt.success("Course deleted successfully"),u()}catch{lt.error("Failed to delete course")}},v=(()=>({total:n.length,published:n.filter(w=>w.status==="published").length,draft:n.filter(w=>w.status==="draft").length,enrollments:n.reduce((w,b)=>w+(b.enrollmentsCount||0),0)}))();return g("div",{style:{padding:"24px"},children:[g("div",{style:{background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",borderRadius:"20px",padding:"32px",marginBottom:"24px",color:"white",boxShadow:"0 10px 40px rgba(245, 158, 11, 0.3)"},children:[g("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"16px"},children:[l("div",{style:{width:"56px",height:"56px",borderRadius:"16px",background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)",display:"flex",alignItems:"center",justifyContent:"center"},children:l(nf,{size:28})}),g("div",{children:[l("h2",{style:{fontSize:"28px",fontWeight:"700",margin:"0 0 8px 0"},children:"Learning Center Management"}),l("p",{style:{margin:0,opacity:.9,fontSize:"15px"},children:"Manage courses and learning content"})]})]}),g("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(160px, 1fr))",gap:"16px",marginTop:"24px"},children:[g("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:"Total Courses"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:v.total})]}),g("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:"Published"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:v.published})]}),g("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:"Drafts"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:v.draft})]}),g("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:"Total Enrollments"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:v.enrollments})]})]})]}),l("div",{style:{background:"white",borderRadius:"16px",padding:"20px",marginBottom:"24px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",display:"flex",gap:"16px",alignItems:"center",flexWrap:"wrap"},children:g("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[l(lc,{size:18,style:{color:"#64748b"}}),g("select",{value:r,onChange:w=>{s(w.target.value),o(1)},style:{padding:"12px 16px",border:"1px solid #e2e8f0",borderRadius:"12px",fontSize:"14px",background:"white",cursor:"pointer",outline:"none",minWidth:"180px"},children:[l("option",{value:"",children:"All Status"}),l("option",{value:"published",children:"Published"}),l("option",{value:"draft",children:"Draft"}),l("option",{value:"archived",children:"Archived"})]})]})}),t?g("div",{style:{textAlign:"center",padding:"60px 20px"},children:[l("div",{style:{width:"48px",height:"48px",border:"4px solid #f3f4f6",borderTop:"4px solid #10b981",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}}),l("p",{style:{marginTop:"16px",color:"#64748b"},children:"Loading courses..."})]}):g(Ft,{children:[l("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"20px",marginBottom:"24px"},children:n.map(w=>{var b,m,y,_;return g("div",{style:{background:"white",borderRadius:"16px",padding:"24px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",transition:"all 0.3s",border:"1px solid #e2e8f0",cursor:"pointer"},onMouseEnter:x=>{x.currentTarget.style.transform="translateY(-4px)",x.currentTarget.style.boxShadow="0 8px 24px rgba(0,0,0,0.12)"},onMouseLeave:x=>{x.currentTarget.style.transform="translateY(0)",x.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.08)"},children:[l("div",{style:{width:"56px",height:"56px",borderRadius:"14px",background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"16px"},children:l(px,{size:28,style:{color:"white"}})}),l("h3",{style:{fontSize:"18px",fontWeight:"700",color:"#0f172a",margin:"0 0 8px 0",lineHeight:"1.4"},children:w.title||"Untitled Course"}),l("div",{style:{display:"inline-block",background:"#fff7ed",color:"#c2410c",padding:"4px 12px",borderRadius:"8px",fontSize:"13px",fontWeight:"500",marginBottom:"16px"},children:w.category||"General"}),g("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[l(am,{size:18,style:{color:"#64748b"}}),g("span",{style:{fontSize:"14px",color:"#475569"},children:[((m=(b=w.instructor)==null?void 0:b.profile)==null?void 0:m.firstName)||"Unknown"," ",((_=(y=w.instructor)==null?void 0:y.profile)==null?void 0:_.lastName)||""]})]}),g("div",{style:{background:"#f0f9ff",padding:"12px",borderRadius:"12px",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[l(wn,{size:18,style:{color:"#0ea5e9"}}),g("span",{style:{fontSize:"14px",color:"#0369a1",fontWeight:"600"},children:[w.enrollmentsCount||0," Students Enrolled"]})]}),g("div",{style:{marginBottom:"16px"},children:[l("label",{style:{fontSize:"13px",color:"#64748b",display:"block",marginBottom:"8px"},children:"Status"}),g("select",{value:w.status,onChange:x=>f(w._id,x.target.value),style:{width:"100%",padding:"10px 14px",border:"1px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",background:"white",cursor:"pointer",outline:"none",fontWeight:"500",color:w.status==="published"?"#ea580c":w.status==="draft"?"#f59e0b":"#3b82f6"},children:[l("option",{value:"published",children:"Published"}),l("option",{value:"draft",children:"Draft"}),l("option",{value:"archived",children:"Archived"})]})]}),g("button",{onClick:()=>h(w._id),style:{width:"100%",padding:"12px",borderRadius:"10px",border:"1px solid #fee2e2",background:"white",color:"#ef4444",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"all 0.2s"},onMouseEnter:x=>{x.currentTarget.style.background="#fef2f2"},onMouseLeave:x=>{x.currentTarget.style.background="white"},children:[l(s0,{size:18}),"Delete Course"]})]},w._id)})}),n.length===0&&g("div",{style:{textAlign:"center",padding:"60px 20px"},children:[l(nf,{size:64,style:{color:"#cbd5e1",margin:"0 auto 16px"}}),l("p",{style:{fontSize:"18px",color:"#64748b",fontWeight:"600"},children:"No courses found"}),l("p",{style:{color:"#94a3b8",fontSize:"14px"},children:"Try adjusting your filters"})]}),c>1&&g("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"8px",marginTop:"32px"},children:[l("button",{onClick:()=>o(w=>Math.max(1,w-1)),disabled:a===1,style:{padding:"10px 16px",borderRadius:"10px",border:"1px solid #e2e8f0",background:a===1?"#f8fafc":"white",color:a===1?"#cbd5e1":"#0f172a",cursor:a===1?"not-allowed":"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.2s"},children:"Previous"}),l("div",{style:{display:"flex",gap:"6px"},children:[...Array(Math.min(5,c))].map((w,b)=>{const m=b+1;return l("button",{onClick:()=>o(m),style:{width:"40px",height:"40px",borderRadius:"10px",border:a===m?"none":"1px solid #e2e8f0",background:a===m?"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)":"white",color:a===m?"white":"#0f172a",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.2s"},children:m},b)})}),l("button",{onClick:()=>o(w=>Math.min(c,w+1)),disabled:a===c,style:{padding:"10px 16px",borderRadius:"10px",border:"1px solid #e2e8f0",background:a===c?"#f8fafc":"white",color:a===c?"#cbd5e1":"#0f172a",cursor:a===c?"not-allowed":"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.2s"},children:"Next"})]})]})]})},eAe=()=>{var Y,q,G,B,J,W;const[n,e]=ie.useState([]),[t,i]=ie.useState(!0),[r,s]=ie.useState(""),[a,o]=ie.useState("pending"),[c,d]=ie.useState(1),[u,f]=ie.useState(1),[h,p]=ie.useState(null),[v,w]=ie.useState(""),[b,m]=ie.useState(""),[y,_]=ie.useState(""),[x,N]=ie.useState("");ie.useEffect(()=>{k()},[c,r,a]);const k=async()=>{var L,z,X,Q;i(!0);try{console.log("=== LOADING ARTICLES ==="),console.log("Params:",{page:c,limit:20,status:r,approvalStatus:a});const V=await co.getAllArticlesAdmin({page:c,limit:20,status:r,approvalStatus:a});console.log("Response:",V),console.log("Articles received:",((L=V.articles)==null?void 0:L.length)||0),e(V.articles||[]),f(((z=V.pagination)==null?void 0:z.pages)||1)}catch(V){console.error("Failed to load articles:",V),lt.error("Failed to load articles: "+(((Q=(X=V.response)==null?void 0:X.data)==null?void 0:Q.message)||V.message))}finally{i(!1)}},T=async L=>{try{await co.updateArticleStatus(L,{approvalStatus:"approved"}),lt.success("Article approved and published!"),k()}catch(z){lt.error("Failed to approve article"),console.error(z)}},C=async(L,z)=>{try{await co.updateArticleStatus(L,{approvalStatus:"rejected",reason:z||"Content did not meet publication standards"}),lt.success("Article rejected"),p(null),w(""),_(""),k()}catch(X){lt.error("Failed to reject article"),console.error(X)}},P=async(L,z)=>{try{await co.updateArticleStatus(L,{approvalStatus:"needsModification",modificationNotes:z||"Please review and modify your article"}),lt.success("Modification requested - author will be notified"),p(null),m(""),_(""),k()}catch(X){lt.error("Failed to request modification"),console.error(X)}},D=async L=>{if(window.confirm("Are you sure you want to delete this article?"))try{await adminService.deleteArticle(L),lt.success("Article deleted successfully"),k()}catch{lt.error("Failed to delete article")}},E=L=>{p(L),w(""),_("reject")},A=L=>{p(L),m(""),_("modify")},R=(()=>({total:n.length,pending:n.filter(L=>L.approvalStatus==="pending").length,approved:n.filter(L=>L.approvalStatus==="approved").length,rejected:n.filter(L=>L.approvalStatus==="rejected").length,needsModification:n.filter(L=>L.approvalStatus==="needsModification").length}))(),M=n.filter(L=>{var z,X,Q,V,Z,_e,le;return((z=L.title)==null?void 0:z.toLowerCase().includes(x.toLowerCase()))||((V=(Q=(X=L.author)==null?void 0:X.profile)==null?void 0:Q.firstName)==null?void 0:V.toLowerCase().includes(x.toLowerCase()))||((_e=(Z=L.author)==null?void 0:Z.email)==null?void 0:_e.toLowerCase().includes(x.toLowerCase()))||((le=L.category)==null?void 0:le.toLowerCase().includes(x.toLowerCase()))});return g("div",{style:{padding:"24px"},children:[g("div",{style:{background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",borderRadius:"20px",padding:"32px",marginBottom:"24px",color:"white",boxShadow:"0 10px 40px rgba(245, 158, 11, 0.3)"},children:[g("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"16px"},children:[l("div",{style:{width:"56px",height:"56px",borderRadius:"16px",background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)",display:"flex",alignItems:"center",justifyContent:"center"},children:l(A9,{size:28})}),g("div",{children:[l("h2",{style:{fontSize:"28px",fontWeight:"700",margin:"0 0 8px 0"},children:"Newsroom Management"}),l("p",{style:{margin:0,opacity:.9,fontSize:"15px"},children:"Review, approve, and manage submitted articles"})]})]}),g("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(160px, 1fr))",gap:"16px",marginTop:"24px"},children:[g("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:"Total Articles"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:R.total})]}),g("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:"Pending Review"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:R.pending})]}),g("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:"Approved"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:R.approved})]}),g("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:"Needs Changes"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:R.needsModification})]}),g("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:"Rejected"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:R.rejected})]})]})]}),g("div",{style:{background:"white",borderRadius:"16px",padding:"20px",marginBottom:"24px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",display:"flex",gap:"16px",alignItems:"center",flexWrap:"wrap"},children:[g("div",{style:{display:"flex",alignItems:"center",gap:"12px",flex:1,minWidth:"300px"},children:[l(ia,{size:20,color:"#6b7280"}),l("input",{type:"text",placeholder:"Search articles by title, author, or category...",value:x,onChange:L=>N(L.target.value),style:{flex:1,border:"none",outline:"none",fontSize:"15px",background:"transparent"}})]}),g("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[l(lc,{size:18,color:"#6b7280"}),g("select",{value:a,onChange:L=>{o(L.target.value),d(1)},style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #e5e7eb",fontSize:"14px",fontWeight:"500",cursor:"pointer",background:"white"},children:[l("option",{value:"",children:"All Approvals"}),l("option",{value:"pending",children:" Pending"}),l("option",{value:"approved",children:" Approved"}),l("option",{value:"rejected",children:" Rejected"}),l("option",{value:"needsModification",children:" Needs Changes"})]}),g("select",{value:r,onChange:L=>{s(L.target.value),d(1)},style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #e5e7eb",fontSize:"14px",fontWeight:"500",cursor:"pointer",background:"white"},children:[l("option",{value:"",children:"All Status"}),l("option",{value:"published",children:" Published"}),l("option",{value:"draft",children:" Draft"}),l("option",{value:"pending",children:" Pending"}),l("option",{value:"archived",children:" Archived"})]})]}),g("div",{style:{fontSize:"14px",color:"#6b7280",padding:"8px 16px",background:"#f3f4f6",borderRadius:"8px",fontWeight:"500"},children:[M.length," result",M.length!==1?"s":""]})]}),t?l("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"80px",background:"white",borderRadius:"16px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},children:g("div",{style:{textAlign:"center"},children:[l("div",{style:{width:"48px",height:"48px",border:"4px solid #e5e7eb",borderTopColor:"#f59e0b",borderRadius:"50%",margin:"0 auto 16px",animation:"spin 1s linear infinite"}}),l("p",{style:{color:"#6b7280",fontSize:"15px"},children:"Loading articles..."}),l("style",{children:`
              @keyframes spin {
                to { transform: rotate(360deg); }
              }
            `})]})}):n.length===0?g("div",{style:{background:"white",borderRadius:"16px",padding:"60px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},children:[l("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #f59e0b20 0%, #d9770620 100%)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px"},children:l(A9,{size:36,color:"#f59e0b"})}),l("p",{style:{fontSize:"20px",fontWeight:"600",color:"#1f2937",marginBottom:"8px"},children:"No articles found"}),l("p",{style:{fontSize:"14px",color:"#6b7280"},children:x?"Try adjusting your search query":"No articles have been submitted yet"})]}):l("div",{style:{display:"grid",gap:"16px",gridTemplateColumns:"repeat(auto-fill, minmax(450px, 1fr))"},children:M.map(L=>{var z,X,Q;return g("div",{style:{background:"white",borderRadius:"16px",padding:"24px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",border:"1px solid #e5e7eb",transition:"all 0.2s ease",position:"relative"},onMouseEnter:V=>{V.currentTarget.style.boxShadow="0 8px 24px rgba(245, 158, 11, 0.15)",V.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:V=>{V.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.08)",V.currentTarget.style.transform="translateY(0)"},children:[g("div",{style:{position:"absolute",top:"16px",right:"16px",display:"flex",gap:"6px",flexDirection:"column",alignItems:"flex-end"},children:[g("div",{style:{padding:"6px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"600",display:"flex",alignItems:"center",gap:"4px",...L.approvalStatus==="pending"&&{background:"#fef3c7",color:"#92400e"},...L.approvalStatus==="approved"&&{background:"#d1fae5",color:"#065f46"},...L.approvalStatus==="rejected"&&{background:"#fee2e2",color:"#991b1b"},...L.approvalStatus==="needsModification"&&{background:"#dbeafe",color:"#1e40af"}},children:[L.approvalStatus==="pending"&&l(xr,{size:14}),L.approvalStatus==="approved"&&l(di,{size:14}),L.approvalStatus==="rejected"&&l(po,{size:14}),L.approvalStatus==="needsModification"&&l(Mh,{size:14}),L.approvalStatus==="needsModification"?"NEEDS CHANGES":(L.approvalStatus||"pending").toUpperCase()]}),L.plagiarismScore!==void 0&&g("div",{style:{padding:"4px 10px",borderRadius:"16px",fontSize:"11px",fontWeight:"600",background:L.plagiarismScore<15?"#d1fae5":L.plagiarismScore<30?"#fef3c7":"#fee2e2",color:L.plagiarismScore<15?"#065f46":L.plagiarismScore<30?"#92400e":"#991b1b"},children:[L.plagiarismScore<15&&" ",L.plagiarismScore>=30&&" ","Plagiarism: ",L.plagiarismScore,"%"]})]}),l("h3",{style:{fontSize:"18px",fontWeight:"700",color:"#1f2937",marginBottom:"12px",marginRight:"140px",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",lineHeight:"1.4"},children:L.title||"Untitled Article"}),g("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px",marginBottom:"16px",paddingBottom:"16px",borderBottom:"1px solid #f3f4f6"},children:[g("div",{children:[l("div",{style:{fontSize:"11px",color:"#9ca3af",marginBottom:"4px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Author"}),l("div",{style:{fontSize:"13px",fontWeight:"600",color:"#1f2937"},children:((X=(z=L.author)==null?void 0:z.profile)==null?void 0:X.firstName)||((Q=L.author)==null?void 0:Q.email)||"Unknown"})]}),g("div",{children:[l("div",{style:{fontSize:"11px",color:"#9ca3af",marginBottom:"4px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Category"}),l("div",{style:{fontSize:"13px",fontWeight:"600",color:"#f59e0b",background:"#fef3c7",padding:"4px 10px",borderRadius:"6px",display:"inline-block"},children:L.category||"General"})]}),g("div",{children:[l("div",{style:{fontSize:"11px",color:"#9ca3af",marginBottom:"4px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Status"}),l("div",{style:{fontSize:"13px",fontWeight:"600",color:"#1f2937"},children:L.status||"Draft"})]}),g("div",{children:[l("div",{style:{fontSize:"11px",color:"#9ca3af",marginBottom:"4px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Submitted"}),l("div",{style:{fontSize:"13px",fontWeight:"600",color:"#1f2937"},children:new Date(L.createdAt).toLocaleDateString()})]})]}),g("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[L.approvalStatus==="pending"&&g(Ft,{children:[g("button",{onClick:()=>T(L._id),style:{flex:1,minWidth:"100px",padding:"10px 16px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",border:"none",borderRadius:"10px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",transition:"transform 0.2s"},onMouseEnter:V=>V.currentTarget.style.transform="scale(1.02)",onMouseLeave:V=>V.currentTarget.style.transform="scale(1)",children:[l(di,{size:16}),"Approve"]}),g("button",{onClick:()=>A(L),style:{flex:1,minWidth:"100px",padding:"10px 16px",background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",color:"white",border:"none",borderRadius:"10px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",transition:"transform 0.2s"},onMouseEnter:V=>V.currentTarget.style.transform="scale(1.02)",onMouseLeave:V=>V.currentTarget.style.transform="scale(1)",children:[l(Mh,{size:16}),"Request Changes"]}),g("button",{onClick:()=>E(L),style:{flex:1,minWidth:"100px",padding:"10px 16px",background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"white",border:"none",borderRadius:"10px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",transition:"transform 0.2s"},onMouseEnter:V=>V.currentTarget.style.transform="scale(1.02)",onMouseLeave:V=>V.currentTarget.style.transform="scale(1)",children:[l(po,{size:16}),"Reject"]})]}),g("button",{onClick:()=>p(L),style:{padding:"10px 16px",background:"#f3f4f6",color:"#6b7280",border:"none",borderRadius:"10px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",transition:"all 0.2s",...L.approvalStatus!=="pending"&&{flex:1,minWidth:"120px"}},onMouseEnter:V=>{V.currentTarget.style.background="#e5e7eb",V.currentTarget.style.transform="scale(1.02)"},onMouseLeave:V=>{V.currentTarget.style.background="#f3f4f6",V.currentTarget.style.transform="scale(1)"},children:[l(na,{size:16}),"View Details"]}),l("button",{onClick:()=>D(L._id),style:{padding:"10px",background:"#fee2e2",color:"#dc2626",border:"none",borderRadius:"10px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},onMouseEnter:V=>{V.currentTarget.style.background="#fecaca",V.currentTarget.style.transform="scale(1.05)"},onMouseLeave:V=>{V.currentTarget.style.background="#fee2e2",V.currentTarget.style.transform="scale(1)"},children:l(s0,{size:16})})]})]},L._id)})}),u>1&&g("div",{style:{display:"flex",justifyContent:"center",gap:"8px",marginTop:"24px"},children:[l("button",{onClick:()=>d(L=>Math.max(1,L-1)),disabled:c===1,style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #e5e7eb",background:"white",cursor:c===1?"not-allowed":"pointer",opacity:c===1?.5:1,fontWeight:"600"},children:""}),[...Array(Math.min(5,u))].map((L,z)=>l("button",{onClick:()=>d(z+1),style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #e5e7eb",background:c===z+1?"#f59e0b":"white",color:c===z+1?"white":"#1f2937",cursor:"pointer",fontWeight:c===z+1?"600":"400"},children:z+1},z)),l("button",{onClick:()=>d(L=>Math.min(u,L+1)),disabled:c===u,style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #e5e7eb",background:"white",cursor:c===u?"not-allowed":"pointer",opacity:c===u?.5:1,fontWeight:"600"},children:""})]}),h&&y&&l("div",{onClick:()=>{p(null),_("")},style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:g("div",{onClick:L=>L.stopPropagation(),style:{background:"white",borderRadius:"20px",padding:"32px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)"},children:[g("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"24px"},children:[g("div",{style:{flex:1},children:[l("h2",{style:{fontSize:"24px",fontWeight:"700",color:"#1f2937",margin:"0 0 8px 0",display:"flex",alignItems:"center",gap:"12px"},children:y==="reject"?g(Ft,{children:[l(po,{size:28,color:"#dc2626"}),"Reject Article"]}):g(Ft,{children:[l(Mh,{size:28,color:"#3b82f6"}),"Request Modification"]})}),l("p",{style:{fontSize:"14px",color:"#6b7280",margin:0},children:h.title})]}),l("button",{onClick:()=>{p(null),_("")},style:{background:"#f3f4f6",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"24px",color:"#6b7280",transition:"all 0.2s"},onMouseEnter:L=>{L.currentTarget.style.background="#e5e7eb",L.currentTarget.style.transform="rotate(90deg)"},onMouseLeave:L=>{L.currentTarget.style.background="#f3f4f6",L.currentTarget.style.transform="rotate(0deg)"},children:""})]}),l("div",{style:{background:"#f9fafb",borderRadius:"12px",padding:"16px",marginBottom:"24px"},children:g("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px"},children:[g("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Author"}),l("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:((q=(Y=h.author)==null?void 0:Y.profile)==null?void 0:q.firstName)||((G=h.author)==null?void 0:G.email)||"Unknown"})]}),g("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Category"}),l("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:h.category||"N/A"})]}),h.plagiarismScore!==void 0&&g("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Plagiarism Score"}),g("div",{style:{fontSize:"14px",fontWeight:"700",color:h.plagiarismScore<15?"#059669":h.plagiarismScore<30?"#d97706":"#dc2626"},children:[h.plagiarismScore,"%"]})]}),g("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Submitted"}),l("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:new Date(h.createdAt).toLocaleDateString()})]})]})}),g("div",{style:{marginBottom:"24px"},children:[g("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"14px",color:"#374151"},children:[y==="reject"?"Rejection Reason":"Modification Notes",l("span",{style:{color:"#dc2626",marginLeft:"4px"},children:"*"})]}),l("textarea",{rows:"5",value:y==="reject"?v:b,onChange:L=>y==="reject"?w(L.target.value):m(L.target.value),placeholder:y==="reject"?"Explain why this article is being rejected...":"Explain what changes are needed...",style:{width:"100%",padding:"12px",borderRadius:"10px",border:"1px solid #e5e7eb",fontSize:"14px",fontFamily:"inherit",resize:"vertical",outline:"none",transition:"border-color 0.2s"},onFocus:L=>L.target.style.borderColor=y==="reject"?"#dc2626":"#3b82f6",onBlur:L=>L.target.style.borderColor="#e5e7eb"})]}),y==="modify"&&g("div",{style:{padding:"16px",background:"#dbeafe",borderRadius:"12px",border:"1px solid #3b82f6",marginBottom:"24px",display:"flex",gap:"12px"},children:[l(G1,{size:20,color:"#1e40af",style:{flexShrink:0,marginTop:"2px"}}),l("p",{style:{fontSize:"13px",color:"#1e40af",margin:0,lineHeight:"1.5"},children:"The author will receive an email notification with your modification notes and can resubmit after making changes."})]}),g("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[l("button",{onClick:()=>{p(null),_("")},style:{padding:"12px 24px",borderRadius:"10px",border:"1px solid #e5e7eb",background:"white",color:"#6b7280",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:L=>L.currentTarget.style.background="#f9fafb",onMouseLeave:L=>L.currentTarget.style.background="white",children:"Cancel"}),y==="reject"?g("button",{onClick:()=>C(h._id,v),style:{padding:"12px 24px",borderRadius:"10px",border:"none",background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"white",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",transition:"transform 0.2s",boxShadow:"0 4px 12px rgba(239, 68, 68, 0.3)"},onMouseEnter:L=>L.currentTarget.style.transform="scale(1.02)",onMouseLeave:L=>L.currentTarget.style.transform="scale(1)",children:[l(po,{size:18}),"Reject Article"]}):g("button",{onClick:()=>P(h._id,b),style:{padding:"12px 24px",borderRadius:"10px",border:"none",background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",color:"white",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",transition:"transform 0.2s",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)"},onMouseEnter:L=>L.currentTarget.style.transform="scale(1.02)",onMouseLeave:L=>L.currentTarget.style.transform="scale(1)",children:[l(Mh,{size:18}),"Request Modification"]})]})]})}),h&&!y&&l("div",{onClick:()=>p(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:g("div",{onClick:L=>L.stopPropagation(),style:{background:"white",borderRadius:"20px",padding:"32px",maxWidth:"700px",width:"100%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)"},children:[g("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"24px"},children:[g("div",{style:{flex:1},children:[g("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[l(Mn,{size:28,color:"#f59e0b"}),l("h2",{style:{fontSize:"24px",fontWeight:"700",color:"#1f2937",margin:0},children:"Article Details"})]}),l("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#4b5563",margin:0},children:h.title})]}),l("button",{onClick:()=>p(null),style:{background:"#f3f4f6",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"24px",color:"#6b7280"},children:""})]}),g("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px",padding:"20px",background:"#f9fafb",borderRadius:"12px",marginBottom:"24px"},children:[g("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Author"}),l("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:((J=(B=h.author)==null?void 0:B.profile)==null?void 0:J.firstName)||((W=h.author)==null?void 0:W.email)||"Unknown"})]}),g("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Category"}),l("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:h.category||"N/A"})]}),g("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Status"}),l("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:h.status||"Draft"})]}),g("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Approval Status"}),l("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:h.approvalStatus==="needsModification"?"Needs Changes":h.approvalStatus})]}),h.plagiarismScore!==void 0&&g("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Plagiarism Score"}),g("div",{style:{fontSize:"14px",fontWeight:"700",color:h.plagiarismScore<15?"#059669":h.plagiarismScore<30?"#d97706":"#dc2626"},children:[h.plagiarismScore,"%"]})]}),g("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Submitted"}),l("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:new Date(h.createdAt).toLocaleDateString()})]})]}),h.approvalStatus==="pending"&&g("div",{style:{display:"flex",gap:"12px"},children:[g("button",{onClick:()=>{T(h._id),p(null)},style:{flex:1,padding:"14px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",border:"none",borderRadius:"12px",fontSize:"15px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[l(di,{size:18}),"Approve Article"]}),g("button",{onClick:()=>{_("modify")},style:{flex:1,padding:"14px",background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",color:"white",border:"none",borderRadius:"12px",fontSize:"15px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[l(Mh,{size:18}),"Request Changes"]}),g("button",{onClick:()=>{_("reject")},style:{flex:1,padding:"14px",background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"white",border:"none",borderRadius:"12px",fontSize:"15px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[l(po,{size:18}),"Reject"]})]})]})})]})},tAe=()=>{var N,k,T,C;const[n,e]=ie.useState([]),[t,i]=ie.useState(!0),[r,s]=ie.useState("pending"),[a,o]=ie.useState(1),[c,d]=ie.useState(1),[u,f]=ie.useState(""),[h,p]=ie.useState(null);ie.useState(!1),ie.useEffect(()=>{v()},[a,r]);const v=async()=>{var P,D,E,A;i(!0);try{let I;if(r==="pending"){I=await W2.getPendingForums(),console.log("Pending forums response:",I);const R=Array.isArray(I.data)?I.data:((P=I.data)==null?void 0:P.forums)||[];e(R),d(1)}else{I=await W2.getAllForums({page:a,limit:20,status:r==="all"?void 0:r}),console.log("All forums response:",I);const R=Array.isArray(I.data)?I.data:((D=I.data)==null?void 0:D.forums)||[];e(R),d(((A=(E=I.data)==null?void 0:E.pagination)==null?void 0:A.pages)||1)}}catch(I){lt.error("Failed to load forums"),console.error("Load forums error:",I),e([])}finally{i(!1)}},w=async P=>{try{await W2.approveForum(P),lt.success("Forum approved successfully"),v()}catch(D){lt.error("Failed to approve forum"),console.error(D)}},b=async P=>{const D=window.prompt("Reason for rejection (optional):");try{await W2.rejectForum(P,D),lt.success("Forum rejected"),v()}catch(E){lt.error("Failed to reject forum"),console.error(E)}},m=async P=>{if(window.confirm("Are you sure you want to delete this forum? This action cannot be undone."))try{await W2.deleteForum(P),lt.success("Forum deleted successfully"),v()}catch(D){lt.error("Failed to delete forum"),console.error(D)}},_=(()=>({total:n.length,pending:n.filter(P=>P.status==="pending").length,approved:n.filter(P=>P.status==="approved").length,rejected:n.filter(P=>P.status==="rejected").length}))(),x=n.filter(P=>{var D,E,A;return((D=P.title)==null?void 0:D.toLowerCase().includes(u.toLowerCase()))||((E=P.description)==null?void 0:E.toLowerCase().includes(u.toLowerCase()))||((A=P.category)==null?void 0:A.toLowerCase().includes(u.toLowerCase()))});return g("div",{style:{padding:"24px"},children:[g("div",{style:{background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",borderRadius:"20px",padding:"32px",marginBottom:"24px",color:"white",boxShadow:"0 10px 40px rgba(245, 158, 11, 0.3)"},children:[g("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"16px"},children:[l("div",{style:{width:"56px",height:"56px",borderRadius:"16px",background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)",display:"flex",alignItems:"center",justifyContent:"center"},children:l(bl,{size:28})}),g("div",{children:[l("h2",{style:{fontSize:"28px",fontWeight:"700",margin:"0 0 8px 0"},children:"Forum Management"}),l("p",{style:{margin:0,opacity:.9,fontSize:"15px"},children:"Review, approve, and manage all discussion forums"})]})]}),g("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",marginTop:"24px"},children:[g("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:"Total Forums"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:_.total})]}),g("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:"Pending Approval"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:_.pending})]}),g("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:"Approved"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:_.approved})]}),g("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:"Rejected"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:_.rejected})]})]})]}),g("div",{style:{background:"white",borderRadius:"16px",padding:"20px",marginBottom:"24px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",display:"flex",gap:"16px",alignItems:"center",flexWrap:"wrap"},children:[g("div",{style:{display:"flex",alignItems:"center",gap:"12px",flex:1,minWidth:"300px"},children:[l(ia,{size:20,color:"#6b7280"}),l("input",{type:"text",placeholder:"Search forums by title, description, or category...",value:u,onChange:P=>f(P.target.value),style:{flex:1,border:"none",outline:"none",fontSize:"15px",background:"transparent"}})]}),g("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[l(lc,{size:18,color:"#6b7280"}),g("select",{value:r,onChange:P=>{s(P.target.value),o(1)},style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #e5e7eb",fontSize:"14px",fontWeight:"500",cursor:"pointer",background:"white"},children:[l("option",{value:"pending",children:" Pending"}),l("option",{value:"approved",children:" Approved"}),l("option",{value:"rejected",children:" Rejected"}),l("option",{value:"all",children:"All Status"})]})]}),g("div",{style:{fontSize:"14px",color:"#6b7280",padding:"8px 16px",background:"#f3f4f6",borderRadius:"8px",fontWeight:"500"},children:[x.length," result",x.length!==1?"s":""]})]}),t?l("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"80px",background:"white",borderRadius:"16px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},children:g("div",{style:{textAlign:"center"},children:[l("div",{style:{width:"48px",height:"48px",border:"4px solid #e5e7eb",borderTopColor:"#667eea",borderRadius:"50%",margin:"0 auto 16px",animation:"spin 1s linear infinite"}}),l("p",{style:{color:"#6b7280",fontSize:"15px"},children:"Loading forums..."}),l("style",{children:`
                @keyframes spin {
                  to { transform: rotate(360deg); }
                }
              `})]})}):n.length===0?g("div",{style:{background:"white",borderRadius:"16px",padding:"60px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},children:[l("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #667eea20 0%, #764ba220 100%)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px"},children:l(bl,{size:36,color:"#667eea"})}),l("p",{style:{fontSize:"20px",fontWeight:"600",color:"#1f2937",marginBottom:"8px"},children:"No forums found"}),g("p",{style:{fontSize:"14px",color:"#6b7280"},children:[r==="pending"&&"There are no pending forums awaiting approval",r==="approved"&&"There are no approved forums",r==="rejected"&&"There are no rejected forums",r==="all"&&u&&"Try adjusting your search query",r==="all"&&!u&&"No forums have been created yet"]})]}):l("div",{style:{display:"grid",gap:"16px",gridTemplateColumns:"repeat(auto-fill, minmax(400px, 1fr))"},children:x.map(P=>{var D,E;return g("div",{style:{background:"white",borderRadius:"16px",padding:"24px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",border:"1px solid #e5e7eb",transition:"all 0.2s ease",position:"relative"},onMouseEnter:A=>{A.currentTarget.style.boxShadow="0 8px 24px rgba(102, 126, 234, 0.15)",A.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:A=>{A.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.08)",A.currentTarget.style.transform="translateY(0)"},children:[g("div",{style:{position:"absolute",top:"16px",right:"16px",padding:"6px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"600",display:"flex",alignItems:"center",gap:"4px",...P.status==="pending"&&{background:"#fef3c7",color:"#92400e"},...P.status==="approved"&&{background:"#d1fae5",color:"#065f46"},...P.status==="rejected"&&{background:"#fee2e2",color:"#991b1b"}},children:[P.status==="pending"&&l(xr,{size:14}),P.status==="approved"&&l(di,{size:14}),P.status==="rejected"&&l(po,{size:14}),(P.status||"pending").toUpperCase()]}),l("h3",{style:{fontSize:"18px",fontWeight:"700",color:"#1f2937",marginBottom:"8px",marginRight:"100px",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:P.title}),P.description&&l("p",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"16px",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",lineHeight:"1.5"},children:P.description}),g("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"16px",paddingTop:"16px",borderTop:"1px solid #f3f4f6"},children:[l("div",{style:{padding:"6px 12px",background:"#f3f4f6",borderRadius:"8px",fontSize:"13px",fontWeight:"500",color:"#667eea"},children:P.category||"General"}),g("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"13px",color:"#6b7280"},children:[l(wn,{size:14}),((D=P.creator)==null?void 0:D.username)||((E=P.creator)==null?void 0:E.email)||"Unknown"]}),l("div",{style:{marginLeft:"auto",fontSize:"12px",color:"#9ca3af"},children:new Date(P.createdAt).toLocaleDateString()})]}),g("div",{style:{display:"flex",gap:"8px",marginTop:"16px"},children:[P.status==="pending"&&g(Ft,{children:[g("button",{onClick:A=>{A.stopPropagation(),w(P._id)},style:{flex:1,padding:"10px 16px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",border:"none",borderRadius:"10px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",transition:"transform 0.2s"},onMouseEnter:A=>A.currentTarget.style.transform="scale(1.02)",onMouseLeave:A=>A.currentTarget.style.transform="scale(1)",children:[l(di,{size:16}),"Approve"]}),g("button",{onClick:A=>{A.stopPropagation(),b(P._id)},style:{flex:1,padding:"10px 16px",background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"white",border:"none",borderRadius:"10px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",transition:"transform 0.2s"},onMouseEnter:A=>A.currentTarget.style.transform="scale(1.02)",onMouseLeave:A=>A.currentTarget.style.transform="scale(1)",children:[l(po,{size:16}),"Reject"]})]}),g("button",{onClick:A=>{A.stopPropagation(),p(P)},style:{padding:"10px 16px",background:"#f3f4f6",color:"#6b7280",border:"none",borderRadius:"10px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",transition:"all 0.2s",...P.status!=="pending"&&{flex:1}},onMouseEnter:A=>{A.currentTarget.style.background="#e5e7eb",A.currentTarget.style.transform="scale(1.02)"},onMouseLeave:A=>{A.currentTarget.style.background="#f3f4f6",A.currentTarget.style.transform="scale(1)"},children:[l(na,{size:16}),"View"]}),l("button",{onClick:A=>{A.stopPropagation(),m(P._id)},style:{padding:"10px",background:"#fee2e2",color:"#dc2626",border:"none",borderRadius:"10px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},onMouseEnter:A=>{A.currentTarget.style.background="#fecaca",A.currentTarget.style.transform="scale(1.05)"},onMouseLeave:A=>{A.currentTarget.style.background="#fee2e2",A.currentTarget.style.transform="scale(1)"},children:l(s0,{size:16})})]})]},P._id)})}),h&&l("div",{onClick:()=>p(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:g("div",{onClick:P=>P.stopPropagation(),style:{background:"white",borderRadius:"20px",padding:"32px",maxWidth:"700px",width:"100%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)"},children:[g("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"24px"},children:[l("h2",{style:{fontSize:"24px",fontWeight:"700",color:"#1f2937",margin:0,flex:1},children:h.title}),l("button",{onClick:()=>p(null),style:{background:"#f3f4f6",border:"none",borderRadius:"50%",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"20px",color:"#6b7280"},children:""})]}),l("div",{style:{marginBottom:"24px"},children:l("div",{style:{fontSize:"14px",color:"#6b7280",lineHeight:"1.6"},children:h.description||"No description provided"})}),g("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px",padding:"20px",background:"#f9fafb",borderRadius:"12px",marginBottom:"24px"},children:[g("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Category"}),l("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:h.category||"General"})]}),g("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Status"}),l("div",{style:{fontSize:"14px",fontWeight:"600",color:h.status==="approved"?"#059669":h.status==="rejected"?"#dc2626":"#92400e"},children:h.status==="approved"?" Approved":h.status==="rejected"?" Rejected":" Pending"})]}),g("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Creator"}),l("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:((N=h.creator)==null?void 0:N.username)||((k=h.creator)==null?void 0:k.email)||"Unknown"})]}),g("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Created"}),l("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:new Date(h.createdAt).toLocaleDateString()})]})]}),h.status==="pending"&&g("div",{style:{display:"flex",gap:"12px"},children:[g("button",{onClick:()=>{w(h._id),p(null)},style:{flex:1,padding:"14px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",border:"none",borderRadius:"12px",fontSize:"15px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[l(di,{size:18}),"Approve Forum"]}),g("button",{onClick:()=>{b(h._id),p(null)},style:{flex:1,padding:"14px",background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"white",border:"none",borderRadius:"12px",fontSize:"15px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[l(po,{size:18}),"Reject Forum"]})]})]})}),h&&l("div",{onClick:()=>p(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:g("div",{onClick:P=>P.stopPropagation(),style:{background:"white",borderRadius:"20px",padding:"32px",maxWidth:"700px",width:"100%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)"},children:[g("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"24px"},children:[l("h2",{style:{fontSize:"24px",fontWeight:"700",color:"#1f2937",margin:0,flex:1},children:h.title}),l("button",{onClick:()=>p(null),style:{background:"#f3f4f6",border:"none",borderRadius:"50%",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"20px",color:"#6b7280"},children:""})]}),l("div",{style:{marginBottom:"24px"},children:l("div",{style:{fontSize:"14px",color:"#6b7280",lineHeight:"1.6"},children:h.description||"No description provided"})}),g("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px",padding:"20px",background:"#f9fafb",borderRadius:"12px",marginBottom:"24px"},children:[g("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Category"}),l("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:h.category||"General"})]}),g("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Status"}),l("div",{style:{fontSize:"14px",fontWeight:"600",color:h.status==="approved"?"#059669":h.status==="rejected"?"#dc2626":"#92400e"},children:h.status==="approved"?" Approved":h.status==="rejected"?" Rejected":" Pending"})]}),g("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Creator"}),l("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:((T=h.creator)==null?void 0:T.username)||((C=h.creator)==null?void 0:C.email)||"Unknown"})]}),g("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Created"}),l("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:new Date(h.createdAt).toLocaleDateString()})]})]}),h.status==="pending"&&g("div",{style:{display:"flex",gap:"12px"},children:[g("button",{onClick:()=>{w(h._id),p(null)},style:{flex:1,padding:"14px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",border:"none",borderRadius:"12px",fontSize:"15px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[l(di,{size:18}),"Approve Forum"]}),g("button",{onClick:()=>{b(h._id),p(null)},style:{flex:1,padding:"14px",background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"white",border:"none",borderRadius:"12px",fontSize:"15px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[l(po,{size:18}),"Reject Forum"]})]})]})}),c>1&&g("div",{className:"pagination",style:{display:"flex",justifyContent:"center",gap:"8px",marginTop:"24px"},children:[l("button",{className:"neu-btn pagination-btn",onClick:()=>o(P=>Math.max(1,P-1)),disabled:a===1,style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #e5e7eb",background:"white",cursor:a===1?"not-allowed":"pointer",opacity:a===1?.5:1},children:""}),[...Array(Math.min(5,c))].map((P,D)=>l("button",{className:`neu-btn pagination-btn ${a===D+1?"active":""}`,onClick:()=>o(D+1),style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #e5e7eb",background:a===D+1?"#667eea":"white",color:a===D+1?"white":"#1f2937",cursor:"pointer",fontWeight:a===D+1?"600":"400"},children:D+1},D)),l("button",{className:"neu-btn pagination-btn",onClick:()=>o(P=>Math.min(c,P+1)),disabled:a===c,style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #e5e7eb",background:"white",cursor:a===c?"not-allowed":"pointer",opacity:a===c?.5:1},children:""})]})]})},nAe=()=>{var Ve,fe,Je,je,Ce,$,ke,Se,pe;const[n,e]=ie.useState("requirements"),[t,i]=ie.useState("manuscripts"),[r,s]=ie.useState([]),[a,o]=ie.useState([]),[c,d]=ie.useState([]),[u,f]=ie.useState(!1),[h,p]=ie.useState(!1),[v,w]=ie.useState(!1),[b,m]=ie.useState(!1),[y,_]=ie.useState(null),[x,N]=ie.useState(null),[k,T]=ie.useState(null),[C,P]=ie.useState({total:0,pending:0,accepted:0,rejected:0}),[D,E]=ie.useState({total:0,pending:0,accepted:0,rejected:0}),[A,I]=ie.useState({title:"",topic:"",field:"",description:"",guidelines:{format:"",wordLimit:"",citationStyle:"",other:""},submissionDeadline:"",status:"active"}),[R,M]=ie.useState({action:"accepted",remarks:""}),[Y,q]=ie.useState({status:"",field:"",requirementId:""});ie.useEffect(()=>{n==="requirements"?G():n==="manuscripts"&&(t==="manuscripts"?B():J())},[n,t,Y]);const G=async()=>{try{f(!0);const U=await co.getAllPublishingRequirements(Y);s(U.data.requirements||[])}catch(U){lt.error("Failed to fetch requirements"),console.error(U)}finally{f(!1)}},B=async()=>{var U,H,te;try{f(!0);const he=await co.getAllManuscriptsOverview(Y);console.log(" Manuscripts response:",he),o(he.data.manuscripts||[]),P(he.data.stats||C)}catch(he){console.error(" Failed to fetch manuscripts:",he),console.error(" Error details:",(U=he.response)==null?void 0:U.data),lt.error(((te=(H=he.response)==null?void 0:H.data)==null?void 0:te.message)||"Failed to fetch manuscripts")}finally{f(!1)}},J=async()=>{var U,H;try{f(!0);const te=await co.getAllResearchPapersOverview(Y);console.log(" Research Papers response:",te),d(te.data.papers||[]),E(te.data.stats||D)}catch(te){console.error(" Failed to fetch research papers:",te),lt.error(((H=(U=te.response)==null?void 0:U.data)==null?void 0:H.message)||"Failed to fetch research papers")}finally{f(!1)}},W=async U=>{var H,te,he,ve;U.preventDefault();try{console.log(" Creating requirement with data:",A);const ae={...A,submissionDeadline:A.submissionDeadline?new Date(A.submissionDeadline).toISOString():null};console.log(" Formatted data:",ae);const me=await co.createPublishingRequirement(ae);console.log(" Create response:",me),lt.success("Publishing requirement created successfully"),p(!1),Fe(),G()}catch(ae){console.error(" Create error:",ae),console.error(" Error response:",ae.response),console.error(" Error message:",(te=(H=ae.response)==null?void 0:H.data)==null?void 0:te.message),lt.error(((ve=(he=ae.response)==null?void 0:he.data)==null?void 0:ve.message)||ae.message||"Failed to create requirement")}},L=async U=>{var H,te;U.preventDefault();try{await co.updatePublishingRequirement(y._id,A),lt.success("Publishing requirement updated successfully"),p(!1),_(null),Fe(),G()}catch(he){lt.error(((te=(H=he.response)==null?void 0:H.data)==null?void 0:te.message)||"Failed to update requirement")}},z=async U=>{var H,te;if(window.confirm("Are you sure you want to delete this requirement?"))try{await co.deletePublishingRequirement(U),lt.success("Publishing requirement deleted successfully"),G()}catch(he){lt.error(((te=(H=he.response)==null?void 0:H.data)==null?void 0:te.message)||"Failed to delete requirement")}},X=async U=>{var ve,ae;U.preventDefault();const H=x._id,te=R.action,he=R.remarks;lt.success(`Manuscript ${te} successfully`),w(!1),N(null),M({action:"accepted",remarks:""}),o(me=>me.map(ge=>ge._id===H?{...ge,status:te,adminRemarks:he}:ge));try{await co.reviewManuscript(H,{status:te,reviewComments:he}),B()}catch(me){console.error("Review manuscript error:",me),lt.error(((ae=(ve=me.response)==null?void 0:ve.data)==null?void 0:ae.message)||"Failed to review manuscript"),B()}},Q=U=>{var H;_(U),I({title:U.title,topic:U.topic,field:U.field,description:U.description,guidelines:U.guidelines||{format:"",wordLimit:"",citationStyle:"",other:""},submissionDeadline:((H=U.submissionDeadline)==null?void 0:H.split("T")[0])||"",status:U.status}),p(!0)},V=U=>{N(U),M({action:U.status==="pending"?"accepted":U.status,remarks:U.adminRemarks||""}),w(!0)},Z=async U=>{var H,te,he;if(window.confirm("Are you sure you want to delete this manuscript? This action cannot be undone."))try{console.log(" Deleting manuscript:",U);const ve=await co.deleteManuscript(U);console.log(" Delete response:",ve),lt.success("Manuscript deleted successfully"),B()}catch(ve){console.error(" Failed to delete manuscript:",ve),console.error(" Error response:",ve.response),console.error(" Error data:",(H=ve.response)==null?void 0:H.data),lt.error(((he=(te=ve.response)==null?void 0:te.data)==null?void 0:he.message)||"Failed to delete manuscript")}},_e=U=>{T(U),M({action:U.status||"pending",remarks:U.adminRemarks||""}),m(!0)},le=async U=>{var H,te;if(window.confirm("Are you sure you want to delete this research paper? This action cannot be undone."))try{console.log(" Deleting research paper:",U);const he=await co.deleteManuscript(U);console.log(" Delete response:",he),lt.success("Research paper deleted successfully"),J()}catch(he){console.error(" Failed to delete research paper:",he),lt.error(((te=(H=he.response)==null?void 0:H.data)==null?void 0:te.message)||"Failed to delete research paper")}},ce=async U=>{var H,te,he;U.preventDefault();try{console.log(" Reviewing research paper:",k._id,R);const ve=await co.reviewManuscript(k._id,{status:R.action,reviewComments:R.remarks});console.log(" Review response:",ve),lt.success(`Research paper ${R.action} successfully`),m(!1),J()}catch(ve){console.error(" Failed to review research paper:",ve),console.error(" Error response:",(H=ve.response)==null?void 0:H.data),lt.error(((he=(te=ve.response)==null?void 0:te.data)==null?void 0:he.message)||"Failed to review research paper")}},Fe=()=>{I({title:"",topic:"",field:"",description:"",guidelines:{format:"",wordLimit:"",citationStyle:"",other:""},submissionDeadline:"",status:"active"})},Ae=U=>`status-badge ${{pending:"status-badge-warning",accepted:"status-badge-success",rejected:"status-badge-danger","under-review":"status-badge-info",active:"status-badge-success",closed:"status-badge-secondary",draft:"status-badge-secondary"}[U]||"status-badge-secondary"}`,Re=U=>U?new Date(U).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";return g("div",{className:"publishing-management",children:[g("div",{className:"admin-section-header",children:[g("div",{children:[l("h2",{className:"section-title",children:"Publishing House Management"}),l("p",{className:"section-subtitle",children:"Manage research paper requirements and manuscript submissions"})]}),n==="requirements"&&g("button",{className:"neu-btn neu-btn-primary",onClick:()=>{_(null),Fe(),p(!0)},children:[l("span",{className:"btn-icon",children:"+"}),"Post New Requirement"]})]}),l("div",{className:"neu-card tab-container",children:g("div",{className:"tabs",children:[g("button",{className:`tab-btn ${n==="requirements"?"active":""}`,onClick:()=>e("requirements"),children:[l("span",{className:"tab-icon",children:""}),"Publishing Requirements"]}),g("button",{className:`tab-btn ${n==="manuscripts"?"active":""}`,onClick:()=>e("manuscripts"),children:[l("span",{className:"tab-icon",children:""}),"Submission Review",C.pending>0&&l("span",{className:"badge-count",children:C.pending})]})]})}),n==="manuscripts"&&g(Ft,{children:[l("div",{className:"neu-card tab-container",children:g("div",{className:"tabs",children:[g("button",{className:`tab-btn ${t==="manuscripts"?"active":""}`,onClick:()=>i("manuscripts"),children:[l("span",{className:"tab-icon",children:""}),"Manuscripts",C.pending>0&&l("span",{className:"badge-count",children:C.pending})]}),g("button",{className:`tab-btn ${t==="papers"?"active":""}`,onClick:()=>i("papers"),children:[l("span",{className:"tab-icon",children:""}),"Research Papers",D.pending>0&&l("span",{className:"badge-count",children:D.pending})]})]})}),g("div",{className:"stats-grid",children:[g("div",{className:"stat-card neu-card",children:[l("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:""}),g("div",{className:"stat-content",children:[l("div",{className:"stat-value",children:t==="manuscripts"?C.total||0:D.total||0}),g("div",{className:"stat-label",children:["Total ",t==="manuscripts"?"Manuscripts":"Research Papers"]})]})]}),g("div",{className:"stat-card neu-card",children:[l("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"},children:""}),g("div",{className:"stat-content",children:[l("div",{className:"stat-value",children:t==="manuscripts"?C.pending||0:D.pending||0}),l("div",{className:"stat-label",children:"Pending Review"})]})]}),g("div",{className:"stat-card neu-card",children:[l("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"},children:""}),g("div",{className:"stat-content",children:[l("div",{className:"stat-value",children:t==="manuscripts"?C.accepted||0:D.accepted||0}),l("div",{className:"stat-label",children:"Accepted"})]})]}),g("div",{className:"stat-card neu-card",children:[l("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)"},children:""}),g("div",{className:"stat-content",children:[l("div",{className:"stat-value",children:t==="manuscripts"?C.rejected||0:D.rejected||0}),l("div",{className:"stat-label",children:"Rejected"})]})]})]})]}),g("div",{className:"neu-card filters-section",children:[l("h3",{className:"filter-title",children:"Filters"}),g("div",{className:"filters-grid",children:[g("div",{className:"filter-group",children:[l("label",{children:"Status"}),g("select",{className:"neu-input",value:Y.status,onChange:U=>q({...Y,status:U.target.value}),children:[l("option",{value:"",children:"All Status"}),n==="requirements"?g(Ft,{children:[l("option",{value:"active",children:"Active"}),l("option",{value:"closed",children:"Closed"}),l("option",{value:"draft",children:"Draft"})]}):g(Ft,{children:[l("option",{value:"pending",children:"Pending"}),l("option",{value:"accepted",children:"Accepted"}),l("option",{value:"rejected",children:"Rejected"}),l("option",{value:"under-review",children:"Under Review"}),l("option",{value:"update-changes",children:"Update Changes"})]})]})]}),n==="requirements"&&g("div",{className:"filter-group",children:[l("label",{children:"Field"}),g("select",{className:"neu-input",value:Y.field,onChange:U=>q({...Y,field:U.target.value}),children:[l("option",{value:"",children:"All Fields"}),l("option",{value:"Urban Planning",children:"Urban Planning"}),l("option",{value:"Architecture",children:"Architecture"}),l("option",{value:"Environmental Planning",children:"Environmental Planning"}),l("option",{value:"Transportation Planning",children:"Transportation Planning"}),l("option",{value:"Regional Planning",children:"Regional Planning"}),l("option",{value:"Housing Policy",children:"Housing Policy"})]})]}),l("div",{className:"filter-actions",children:l("button",{className:"neu-btn neu-btn-secondary",onClick:()=>q({status:"",field:"",requirementId:""}),children:"Clear Filters"})})]})]}),u?g("div",{className:"loading-container",children:[l("div",{className:"neu-loader"}),l("p",{children:"Loading..."})]}):l(Ft,{children:n==="requirements"?l("div",{className:"requirements-list",children:r.length===0?g("div",{className:"neu-card empty-state",children:[l("div",{className:"empty-icon",children:""}),l("h3",{children:"No Requirements Posted"}),l("p",{children:"Start by posting a new research paper requirement"}),l("button",{className:"neu-btn neu-btn-primary",onClick:()=>p(!0),children:"Post Requirement"})]}):l("div",{className:"requirements-grid",children:r.map(U=>g("div",{className:"requirement-card neu-card",children:[g("div",{className:"card-header",children:[l("h3",{className:"card-title",children:U.title}),l("span",{className:Ae(U.status),children:U.status})]}),g("div",{className:"card-meta",children:[g("span",{className:"meta-item",children:[l("strong",{children:"Topic:"})," ",U.topic]}),g("span",{className:"meta-item",children:[l("strong",{children:"Field:"})," ",U.field]}),g("span",{className:"meta-item",children:[l("strong",{children:"Deadline:"})," ",Re(U.submissionDeadline)]}),g("span",{className:"meta-item",children:[l("strong",{children:"Submissions:"})," ",U.manuscriptsCount||0]})]}),l("div",{className:"card-description",children:g("p",{children:[U.description.substring(0,150),"..."]})}),U.guidelines&&g("div",{className:"card-guidelines",children:[U.guidelines.format&&g("div",{className:"guideline-item",children:[l("strong",{children:"Format:"})," ",U.guidelines.format]}),U.guidelines.wordLimit&&g("div",{className:"guideline-item",children:[l("strong",{children:"Word Limit:"})," ",U.guidelines.wordLimit]}),U.guidelines.citationStyle&&g("div",{className:"guideline-item",children:[l("strong",{children:"Citation:"})," ",U.guidelines.citationStyle]})]}),g("div",{className:"card-actions",children:[l("button",{className:"neu-btn neu-btn-primary",onClick:()=>Q(U),children:"Edit"}),l("button",{className:"neu-btn neu-btn-danger",onClick:()=>z(U._id),children:"Delete"})]})]},U._id))})}):l("div",{className:"manuscripts-list",children:t==="manuscripts"?l(Ft,{children:a.length===0?g("div",{className:"neu-card empty-state",children:[l("div",{className:"empty-icon",children:""}),l("h3",{children:"No Manuscripts Submitted"}),l("p",{children:"Waiting for authors to submit manuscripts"})]}):l("div",{className:"table-container",children:g("table",{className:"neu-table",children:[l("thead",{children:g("tr",{children:[l("th",{children:"Title"}),l("th",{children:"Author"}),l("th",{children:"Requirement"}),l("th",{children:"Submitted"}),l("th",{children:"Status"}),l("th",{children:"Actions"})]})}),l("tbody",{children:a.map(U=>{var H,te,he;return g("tr",{children:[l("td",{children:l("div",{className:"manuscript-title",children:U.title})}),l("td",{children:g("div",{className:"author-info",children:[l("div",{className:"author-name",children:U.author.name}),l("div",{className:"author-email",children:U.author.email})]})}),l("td",{children:g("div",{className:"requirement-info",children:[l("div",{children:(H=U.requirementId)==null?void 0:H.title}),l("div",{className:"text-muted",children:(te=U.requirementId)==null?void 0:te.topic})]})}),l("td",{children:Re(U.submittedAt)}),l("td",{children:l("span",{className:Ae(U.status),children:U.status})}),l("td",{children:g("div",{className:"action-buttons",children:[l("button",{className:"neu-btn neu-btn-sm neu-btn-primary",onClick:()=>V(U),title:"Review manuscript",children:" Review"}),(he=U.file)!=null&&he.url?l("a",{href:U.file.url,target:"_blank",rel:"noopener noreferrer",download:!0,className:"neu-btn neu-btn-sm neu-btn-secondary",title:"Download manuscript file",children:" Download"}):l("button",{className:"neu-btn neu-btn-sm neu-btn-disabled",disabled:!0,title:"No file uploaded",children:" No File"}),l("button",{className:"neu-btn neu-btn-sm neu-btn-danger",onClick:()=>Z(U._id),title:"Delete manuscript",children:" Remove"})]})})]},U._id)})})]})})}):l(Ft,{children:c.length===0?g("div",{className:"neu-card empty-state",children:[l("div",{className:"empty-icon",children:""}),l("h3",{children:"No Research Papers Submitted"}),l("p",{children:"Waiting for researchers to submit papers"})]}):l("div",{className:"table-container",children:g("table",{className:"neu-table",children:[l("thead",{children:g("tr",{children:[l("th",{children:"Title"}),l("th",{children:"Author"}),l("th",{children:"Requirement"}),l("th",{children:"Submitted"}),l("th",{children:"Status"}),l("th",{children:"Actions"})]})}),l("tbody",{children:c.map(U=>{var H,te,he,ve,ae;return g("tr",{children:[l("td",{children:l("div",{className:"manuscript-title",children:U.title})}),l("td",{children:g("div",{className:"author-info",children:[l("div",{className:"author-name",children:((H=U.author)==null?void 0:H.name)||"N/A"}),l("div",{className:"author-email",children:((te=U.author)==null?void 0:te.email)||"N/A"})]})}),l("td",{children:g("div",{className:"requirement-info",children:[l("div",{children:((he=U.requirementId)==null?void 0:he.title)||"N/A"}),l("div",{className:"text-muted",children:((ve=U.requirementId)==null?void 0:ve.topic)||"N/A"})]})}),l("td",{children:Re(U.submittedAt||U.createdAt)}),l("td",{children:l("span",{className:Ae(U.status||"pending"),children:U.status||"pending"})}),l("td",{children:g("div",{className:"action-buttons",children:[l("button",{className:"neu-btn neu-btn-sm neu-btn-primary",onClick:()=>_e(U),title:"Review research paper",children:" Review"}),(ae=U.file)!=null&&ae.url?l("a",{href:U.file.url,target:"_blank",rel:"noopener noreferrer",download:!0,className:"neu-btn neu-btn-sm neu-btn-secondary",title:"Download research paper file",children:" Download"}):l("button",{className:"neu-btn neu-btn-sm neu-btn-disabled",disabled:!0,title:"No file uploaded",children:" No File"}),l("button",{className:"neu-btn neu-btn-sm neu-btn-danger",onClick:()=>le(U._id),title:"Delete research paper",children:" Remove"})]})})]},U._id)})})]})})})})}),h&&l("div",{className:"modal-overlay",onClick:()=>p(!1),children:g("div",{className:"modal-content neu-card",onClick:U=>U.stopPropagation(),children:[g("div",{className:"modal-header",children:[l("h2",{children:y?"Edit Requirement":"Post New Requirement"}),l("button",{className:"modal-close",onClick:()=>p(!1),children:""})]}),g("form",{onSubmit:y?L:W,children:[g("div",{className:"form-grid",children:[g("div",{className:"form-group",children:[l("label",{children:"Title *"}),l("input",{type:"text",className:"neu-input",value:A.title,onChange:U=>I({...A,title:U.target.value}),required:!0})]}),g("div",{className:"form-group",children:[l("label",{children:"Research Topic *"}),l("input",{type:"text",className:"neu-input",value:A.topic,onChange:U=>I({...A,topic:U.target.value}),required:!0})]}),g("div",{className:"form-group",children:[l("label",{children:"Field/Domain *"}),g("select",{className:"neu-input",value:A.field,onChange:U=>I({...A,field:U.target.value}),required:!0,children:[l("option",{value:"",children:"Select Field"}),l("option",{value:"Urban Planning",children:"Urban Planning"}),l("option",{value:"Architecture",children:"Architecture"}),l("option",{value:"Environmental Planning",children:"Environmental Planning"}),l("option",{value:"Transportation Planning",children:"Transportation Planning"}),l("option",{value:"Regional Planning",children:"Regional Planning"}),l("option",{value:"Housing Policy",children:"Housing Policy"})]})]}),g("div",{className:"form-group",children:[l("label",{children:"Submission Deadline *"}),l("input",{type:"date",className:"neu-input",value:A.submissionDeadline,onChange:U=>I({...A,submissionDeadline:U.target.value}),required:!0})]}),g("div",{className:"form-group full-width",children:[l("label",{children:"Description *"}),l("textarea",{className:"neu-input",rows:"4",value:A.description,onChange:U=>I({...A,description:U.target.value}),required:!0})]}),g("div",{className:"form-group",children:[l("label",{children:"Format Guidelines"}),l("input",{type:"text",className:"neu-input",placeholder:"e.g., PDF, DOCX",value:A.guidelines.format,onChange:U=>I({...A,guidelines:{...A.guidelines,format:U.target.value}})})]}),g("div",{className:"form-group",children:[l("label",{children:"Word Limit"}),l("input",{type:"text",className:"neu-input",placeholder:"e.g., 5000-8000 words",value:A.guidelines.wordLimit,onChange:U=>I({...A,guidelines:{...A.guidelines,wordLimit:U.target.value}})})]}),g("div",{className:"form-group",children:[l("label",{children:"Citation Style"}),l("input",{type:"text",className:"neu-input",placeholder:"e.g., APA, MLA, Chicago",value:A.guidelines.citationStyle,onChange:U=>I({...A,guidelines:{...A.guidelines,citationStyle:U.target.value}})})]}),g("div",{className:"form-group",children:[l("label",{children:"Status"}),g("select",{className:"neu-input",value:A.status,onChange:U=>I({...A,status:U.target.value}),children:[l("option",{value:"active",children:"Active"}),l("option",{value:"closed",children:"Closed"}),l("option",{value:"draft",children:"Draft"})]})]}),g("div",{className:"form-group full-width",children:[l("label",{children:"Other Guidelines"}),l("textarea",{className:"neu-input",rows:"3",placeholder:"Any additional guidelines...",value:A.guidelines.other,onChange:U=>I({...A,guidelines:{...A.guidelines,other:U.target.value}})})]})]}),g("div",{className:"modal-actions",children:[l("button",{type:"button",className:"neu-btn neu-btn-secondary",onClick:()=>p(!1),children:"Cancel"}),l("button",{type:"submit",className:"neu-btn neu-btn-primary",children:y?"Update Requirement":"Post Requirement"})]})]})]})}),v&&x&&l("div",{className:"modal-overlay",onClick:()=>w(!1),children:g("div",{className:"modal-content neu-card modal-large",onClick:U=>U.stopPropagation(),children:[g("div",{className:"modal-header",children:[l("h2",{children:"Review Manuscript"}),l("button",{className:"modal-close",onClick:()=>w(!1),children:""})]}),g("div",{className:"manuscript-details",children:[g("div",{className:"detail-row",children:[l("strong",{children:"Title:"})," ",x.title]}),g("div",{className:"detail-row",children:[l("strong",{children:"Author:"})," ",x.author.name," (",x.author.email,")"]}),g("div",{className:"detail-row",children:[l("strong",{children:"Requirement:"})," ",(Ve=x.requirementId)==null?void 0:Ve.title]}),g("div",{className:"detail-row",children:[l("strong",{children:"Topic:"})," ",(fe=x.requirementId)==null?void 0:fe.topic]}),g("div",{className:"detail-row",children:[l("strong",{children:"Submitted:"})," ",Re(x.submittedAt)]}),g("div",{className:"detail-row",children:[l("strong",{children:"Current Status:"}),l("span",{className:Ae(x.status),children:x.status})]}),g("div",{className:"detail-row full-width",children:[l("strong",{children:"Abstract:"}),l("p",{className:"abstract-text",children:x.abstract})]})]}),g("form",{onSubmit:X,children:[g("div",{className:"form-group",children:[l("label",{children:"Decision *"}),g("select",{className:"neu-input",value:R.action,onChange:U=>M({...R,action:U.target.value}),required:!0,children:[l("option",{value:"accepted",children:"Accept"}),l("option",{value:"rejected",children:"Reject"}),l("option",{value:"under-review",children:"Under Review"}),l("option",{value:"update-changes",children:"Update Changes"})]})]}),g("div",{className:"form-group",children:[l("label",{children:"Admin Remarks / Feedback"}),l("textarea",{className:"neu-input",rows:"4",placeholder:"Provide feedback to the author...",value:R.remarks,onChange:U=>M({...R,remarks:U.target.value})})]}),g("div",{className:"modal-actions",children:[l("button",{type:"button",className:"neu-btn neu-btn-secondary",onClick:()=>w(!1),children:"Cancel"}),(Je=x.file)!=null&&Je.url?l("a",{href:x.file.url,target:"_blank",rel:"noopener noreferrer",download:!0,className:"neu-btn neu-btn-secondary",title:`Download ${x.file.filename||"manuscript"}`,children:" Download File"}):l("button",{type:"button",className:"neu-btn neu-btn-disabled",disabled:!0,title:"No file uploaded",children:" No File"}),l("button",{type:"submit",className:"neu-btn neu-btn-primary",children:"Submit Review"})]})]})]})}),b&&k&&l("div",{className:"modal-overlay",onClick:()=>m(!1),children:g("div",{className:"modal-content neu-card modal-large",onClick:U=>U.stopPropagation(),children:[g("div",{className:"modal-header",children:[l("h2",{children:"Review Research Paper"}),l("button",{className:"modal-close",onClick:()=>m(!1),children:""})]}),g("div",{className:"manuscript-details",children:[g("div",{className:"detail-row",children:[l("strong",{children:"Title:"})," ",k.title]}),g("div",{className:"detail-row",children:[l("strong",{children:"Author:"})," ",((je=k.author)==null?void 0:je.name)||"N/A"]}),g("div",{className:"detail-row",children:[l("strong",{children:"Email:"})," ",((Ce=k.author)==null?void 0:Ce.email)||"N/A"]}),g("div",{className:"detail-row",children:[l("strong",{children:"Affiliation:"})," ",(($=k.author)==null?void 0:$.affiliation)||"N/A"]}),g("div",{className:"detail-row",children:[l("strong",{children:"Requirement:"})," ",((ke=k.requirementId)==null?void 0:ke.title)||"N/A"]}),g("div",{className:"detail-row",children:[l("strong",{children:"Topic:"})," ",((Se=k.requirementId)==null?void 0:Se.topic)||"N/A"]}),g("div",{className:"detail-row",children:[l("strong",{children:"Submitted:"})," ",Re(k.submittedAt||k.createdAt)]}),g("div",{className:"detail-row",children:[l("strong",{children:"Current Status:"}),l("span",{className:Ae(k.status||"pending"),children:k.status||"pending"})]}),g("div",{className:"detail-row full-width",children:[l("strong",{children:"Abstract:"}),l("p",{className:"abstract-text",children:k.abstract||"No abstract available"})]})]}),g("form",{onSubmit:ce,children:[g("div",{className:"form-group",children:[l("label",{children:"Decision *"}),g("select",{className:"neu-input",value:R.action,onChange:U=>M({...R,action:U.target.value}),required:!0,children:[l("option",{value:"pending",children:"Pending"}),l("option",{value:"accepted",children:"Accept"}),l("option",{value:"rejected",children:"Reject"}),l("option",{value:"under-review",children:"Under Review"}),l("option",{value:"update-changes",children:"Update Changes"})]})]}),g("div",{className:"form-group",children:[l("label",{children:"Admin Remarks / Feedback"}),l("textarea",{className:"neu-input",rows:"4",placeholder:"Provide feedback to the author...",value:R.remarks,onChange:U=>M({...R,remarks:U.target.value})})]}),g("div",{className:"modal-actions",children:[l("button",{type:"button",className:"neu-btn neu-btn-secondary",onClick:()=>m(!1),children:"Cancel"}),(pe=k.file)!=null&&pe.url?l("a",{href:k.file.url,target:"_blank",rel:"noopener noreferrer",download:!0,className:"neu-btn neu-btn-secondary",title:`Download ${k.file.filename||"research paper"}`,children:" Download File"}):l("button",{type:"button",className:"neu-btn neu-btn-disabled",disabled:!0,title:"No file uploaded",children:" No File"}),l("button",{type:"submit",className:"neu-btn neu-btn-primary",children:"Submit Review"})]})]})]})})]})},iAe=()=>{const[n,e]=ie.useState("connections"),[t,i]=ie.useState([]),[r,s]=ie.useState([]),[a,o]=ie.useState(!0),[c,d]=ie.useState(1),[u,f]=ie.useState(1);ie.useEffect(()=>{n==="connections"?h():p()},[n,c]);const h=async()=>{o(!0);try{const m=await(void 0)({page:c,limit:20});i(m.data.connections),f(m.data.pagination.pages)}catch(m){lt.error("Failed to load connections"),console.error(m)}finally{o(!1)}},p=async()=>{o(!0);try{const m=await(void 0)({page:c,limit:20});s(m.data.groups),f(m.data.pagination.pages)}catch(m){lt.error("Failed to load groups"),console.error(m)}finally{o(!1)}},v=async m=>{if(window.confirm("Are you sure you want to delete this group?"))try{await(void 0)(m),lt.success("Group deleted successfully"),p()}catch{lt.error("Failed to delete group")}},b=(()=>n==="connections"?{total:t.length,active:t.filter(m=>m.status==="accepted").length,pending:t.filter(m=>m.status==="pending").length}:{total:r.length,active:r.filter(m=>m.isActive).length,members:r.reduce((m,y)=>m+(y.membersCount||0),0)})();return g("div",{style:{padding:"24px"},children:[g("div",{style:{background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",borderRadius:"20px",padding:"32px",marginBottom:"24px",color:"white",boxShadow:"0 10px 40px rgba(245, 158, 11, 0.3)"},children:[g("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"16px"},children:[l("div",{style:{width:"56px",height:"56px",borderRadius:"16px",background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)",display:"flex",alignItems:"center",justifyContent:"center"},children:l(M8,{size:28})}),g("div",{children:[l("h2",{style:{fontSize:"28px",fontWeight:"700",margin:"0 0 8px 0"},children:"Networking Arena Management"}),l("p",{style:{margin:0,opacity:.9,fontSize:"15px"},children:"Manage connections and professional groups"})]})]}),g("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(160px, 1fr))",gap:"16px",marginTop:"24px"},children:[g("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[g("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:["Total ",n==="connections"?"Connections":"Groups"]}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:b.total})]}),g("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:n==="connections"?"Active":"Active Groups"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:b.active})]}),g("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:n==="connections"?"Pending":"Total Members"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:n==="connections"?b.pending:b.members})]})]})]}),g("div",{style:{background:"white",borderRadius:"16px",padding:"8px",marginBottom:"24px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",display:"flex",gap:"8px"},children:[g("button",{onClick:()=>{e("connections"),d(1)},style:{flex:1,padding:"12px 20px",borderRadius:"12px",border:"none",background:n==="connections"?"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)":"transparent",color:n==="connections"?"white":"#64748b",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[l(xH,{size:18}),"Connections"]}),g("button",{onClick:()=>{e("groups"),d(1)},style:{flex:1,padding:"12px 20px",borderRadius:"12px",border:"none",background:n==="groups"?"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)":"transparent",color:n==="groups"?"white":"#64748b",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[l(wn,{size:18}),"Groups"]})]}),a?l("div",{className:"loading-spinner",children:l("div",{className:"spinner"})}):l(Ft,{children:n==="connections"?t.length===0?l("div",{style:{textAlign:"center",padding:"40px",color:"var(--neu-text-muted)"},children:"No connections found"}):l("div",{className:"neu-table-wrapper",children:g("table",{className:"neu-table",children:[l("thead",{children:g("tr",{children:[l("th",{children:"Requester"}),l("th",{children:"Recipient"}),l("th",{children:"Type"}),l("th",{children:"Status"}),l("th",{children:"Date"})]})}),l("tbody",{children:t.map(m=>{var y,_,x,N,k,T,C,P;return g("tr",{children:[g("td",{children:[((_=(y=m.requester)==null?void 0:y.profile)==null?void 0:_.firstName)||"Unknown"," ",((N=(x=m.requester)==null?void 0:x.profile)==null?void 0:N.lastName)||""]}),g("td",{children:[((T=(k=m.recipient)==null?void 0:k.profile)==null?void 0:T.firstName)||"Unknown"," ",((P=(C=m.recipient)==null?void 0:C.profile)==null?void 0:P.lastName)||""]}),l("td",{children:l("span",{className:"neu-badge",children:m.type})}),l("td",{children:l("span",{className:`neu-badge ${m.status==="accepted"?"success":m.status==="pending"?"warning":m.status==="rejected"?"danger":"info"}`,children:m.status})}),l("td",{children:new Date(m.createdAt).toLocaleDateString()})]},m._id)})})]})}):r.length===0?l("div",{style:{textAlign:"center",padding:"40px",color:"var(--neu-text-muted)"},children:"No groups found"}):l("div",{className:"neu-table-wrapper",children:g("table",{className:"neu-table",children:[l("thead",{children:g("tr",{children:[l("th",{children:"Group Name"}),l("th",{children:"Creator"}),l("th",{children:"Members"}),l("th",{children:"Created"}),l("th",{children:"Actions"})]})}),l("tbody",{children:r.map(m=>{var y,_,x;return g("tr",{children:[g("td",{children:[l("div",{style:{fontWeight:"600"},children:m.name||"Untitled Group"}),g("div",{style:{fontSize:"12px",color:"var(--neu-text-muted)"},children:[(y=m.description)==null?void 0:y.slice(0,50),"..."]})]}),l("td",{children:((x=(_=m.creator)==null?void 0:_.profile)==null?void 0:x.firstName)||"Unknown"}),l("td",{children:m.membersCount||0}),l("td",{children:new Date(m.createdAt).toLocaleDateString()}),l("td",{children:l("div",{className:"action-buttons",children:l("button",{className:"neu-btn-danger action-btn",onClick:()=>v(m._id),title:"Delete",children:""})})})]},m._id)})})]})})}),u>1&&g("div",{className:"pagination",children:[l("button",{className:"neu-btn pagination-btn",onClick:()=>d(m=>Math.max(1,m-1)),disabled:c===1,children:""}),[...Array(Math.min(5,u))].map((m,y)=>l("button",{className:`neu-btn pagination-btn ${c===y+1?"active":""}`,onClick:()=>d(y+1),children:y+1},y)),l("button",{className:"neu-btn pagination-btn",onClick:()=>d(m=>Math.min(u,m+1)),disabled:c===u,children:""})]})]})},rAe=()=>{const[n,e]=ie.useState(null),[t,i]=ie.useState("7d"),[r,s]=ie.useState(!0);ie.useEffect(()=>{a()},[t]);const a=async()=>{s(!0);try{const o=await(void 0)(t);e(o.data.analytics)}catch(o){lt.error("Failed to load analytics"),console.error(o)}finally{s(!1)}};return g("div",{style:{padding:"24px"},children:[l("div",{style:{background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",borderRadius:"20px",padding:"32px",marginBottom:"24px",color:"white",boxShadow:"0 10px 40px rgba(245, 158, 11, 0.3)"},children:g("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:"16px"},children:[g("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[l("div",{style:{width:"56px",height:"56px",borderRadius:"16px",background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)",display:"flex",alignItems:"center",justifyContent:"center"},children:l(Aa,{size:28})}),g("div",{children:[l("h2",{style:{fontSize:"28px",fontWeight:"700",margin:"0 0 8px 0"},children:"Analytics Dashboard"}),l("p",{style:{margin:0,opacity:.9,fontSize:"15px"},children:"Platform insights and statistics"})]})]}),g("div",{style:{display:"flex",gap:"8px",background:"rgba(255,255,255,0.2)",borderRadius:"12px",padding:"4px"},children:[l("button",{onClick:()=>i("24h"),style:{padding:"8px 16px",borderRadius:"8px",border:"none",background:t==="24h"?"white":"transparent",color:t==="24h"?"#f59e0b":"white",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},children:"24h"}),l("button",{onClick:()=>i("7d"),style:{padding:"8px 16px",borderRadius:"8px",border:"none",background:t==="7d"?"white":"transparent",color:t==="7d"?"#f59e0b":"white",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},children:"7d"}),l("button",{onClick:()=>i("30d"),style:{padding:"8px 16px",borderRadius:"8px",border:"none",background:t==="30d"?"white":"transparent",color:t==="30d"?"#f59e0b":"white",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},children:"30d"}),l("button",{onClick:()=>i("90d"),style:{padding:"8px 16px",borderRadius:"8px",border:"none",background:t==="90d"?"white":"transparent",color:t==="90d"?"#f59e0b":"white",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},children:"90d"})]})]})}),r?l("div",{className:"loading-spinner",children:l("div",{className:"spinner"})}):g(Ft,{children:[(n==null?void 0:n.userGrowth)&&n.userGrowth.length>0&&g("div",{style:{marginTop:"30px"},children:[l("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px"},children:" User Growth"}),l("div",{className:"neu-card-pressed",style:{padding:"20px"},children:l("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:n.userGrowth.map((o,c)=>g("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[l("div",{style:{width:"100px",fontSize:"13px",color:"var(--neu-text-muted)"},children:o._id}),l("div",{style:{flex:1},children:l("div",{style:{height:"24px",background:"linear-gradient(90deg, var(--neu-primary), var(--neu-secondary))",borderRadius:"12px",width:`${o.count/Math.max(...n.userGrowth.map(d=>d.count))*100}%`,minWidth:"20px",display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px",color:"white",fontSize:"12px",fontWeight:"600"},children:o.count})})]},c))})})]}),(n==null?void 0:n.jobApplications)&&n.jobApplications.length>0&&g("div",{style:{marginTop:"30px"},children:[l("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px"},children:" Job Applications"}),l("div",{className:"neu-card-pressed",style:{padding:"20px"},children:l("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:n.jobApplications.map((o,c)=>g("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[l("div",{style:{width:"100px",fontSize:"13px",color:"var(--neu-text-muted)"},children:o._id}),l("div",{style:{flex:1},children:l("div",{style:{height:"24px",background:"linear-gradient(90deg, #4CAF50, #8BC34A)",borderRadius:"12px",width:`${o.count/Math.max(...n.jobApplications.map(d=>d.count))*100}%`,minWidth:"20px",display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px",color:"white",fontSize:"12px",fontWeight:"600"},children:o.count})})]},c))})})]}),(n==null?void 0:n.popularCategories)&&n.popularCategories.length>0&&g("div",{style:{marginTop:"30px"},children:[l("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px"},children:" Popular Job Categories"}),l("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},children:n.popularCategories.map((o,c)=>g("div",{className:"neu-card",style:{padding:"20px",textAlign:"center"},children:[l("div",{style:{fontSize:"28px",fontWeight:"700",color:"var(--neu-primary)"},children:o.count}),l("div",{style:{fontSize:"14px",color:"var(--neu-text-muted)",marginTop:"8px"},children:o._id})]},c))})]}),(!(n!=null&&n.userGrowth)||n.userGrowth.length===0)&&(!(n!=null&&n.jobApplications)||n.jobApplications.length===0)&&(!(n!=null&&n.popularCategories)||n.popularCategories.length===0)&&g("div",{style:{textAlign:"center",padding:"60px",color:"var(--neu-text-muted)"},children:[l("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),l("div",{style:{fontSize:"18px",fontWeight:"600"},children:"No analytics data available"}),l("div",{style:{fontSize:"14px",marginTop:"8px"},children:"Data will appear once there's activity on the platform"})]})]})]})},sAe=()=>{var C,P;const[n,e]=ie.useState([]),[t,i]=ie.useState(!0),[r,s]=ie.useState("all"),[a,o]=ie.useState({pending:0,approved:0,rejected:0}),[c,d]=ie.useState(null),[u,f]=ie.useState(!1);ie.useEffect(()=>{h()},[]);const h=async()=>{var D,E,A;try{i(!0);const I=localStorage.getItem("authToken"),Y=await(await fetch("http://localhost:3000/api/admin/role-requests",{headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"}})).json();console.log(" Role requests fetched:",Y),console.log(" First request reason:",(A=(E=(D=Y.data)==null?void 0:D.requests)==null?void 0:E[0])==null?void 0:A.reason),Y.success?(e(Y.data.requests),o(Y.data.stats)):lt.error(Y.message||"Failed to fetch role requests")}catch(I){console.error("Error fetching role requests:",I),lt.error("Failed to load role requests")}finally{i(!1)}},p=async(D,E,A="")=>{try{const I=localStorage.getItem("authToken"),Y=await(await fetch(`http://localhost:3000/api/admin/role-requests/${D}`,{method:"PATCH",headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"},body:JSON.stringify({status:E,adminNotes:A})})).json();Y.success?(lt.success(`Request ${E} successfully!`),h()):lt.error(Y.message||`Failed to ${E} request`)}catch(I){console.error("Error reviewing request:",I),lt.error("Failed to process request")}},v=async D=>{var A;if(window.confirm(`Are you sure you want to delete this role request from ${((A=D.userId)==null?void 0:A.email)||"this user"}?

This action cannot be undone.`))try{console.log(" Deleting request:",D._id);const I=localStorage.getItem("authToken"),M=`http://localhost:3000/api/admin/role-requests/${D._id}`;console.log("DELETE URL:",M),console.log("Auth token:",I?"Present":"Missing");const Y=await fetch(M,{method:"DELETE",headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"}});console.log("Response status:",Y.status);const q=await Y.json();console.log("Response data:",q),q.success?(lt.success("Role request deleted successfully!"),h()):(console.error("Delete failed:",q),lt.error(q.message||"Failed to delete request"))}catch(I){console.error("Error deleting request:",I),lt.error("Failed to delete request: "+I.message)}},w=D=>({editor:"bg-purple-500",instructor:"bg-teal-500",recruiter:"bg-blue-500"})[D]||"bg-gray-500",b=D=>({pending:"bg-yellow-500",approved:"bg-green-500",rejected:"bg-red-500"})[D]||"bg-gray-500",m=D=>({editor:"Editor",instructor:"Chief Editor",recruiter:"Recruiter"})[D]||D,y=D=>{console.log(" Viewing request details:",D),console.log(" Reason field:",D.reason),d(D),f(!0)},_=()=>{f(!1),d(null)},x=async()=>{c&&(await p(c._id,"approved"),_())},N=async()=>{c&&(await p(c._id,"rejected"),_())},k=async D=>{var E,A,I;if(console.log(" Attempting to revoke role for request:",D),console.log("User ID:",(E=D.userId)==null?void 0:E._id),console.log("Requested Role:",D.requestedRole),!((A=D.userId)!=null&&A._id)){lt.error("User information is missing. Cannot revoke role.");return}if(window.confirm(`Are you sure you want to revoke ${m(D.requestedRole)} role from ${((I=D.userId)==null?void 0:I.name)||"this user"}?`))try{const R=localStorage.getItem("authToken"),Y=`http://localhost:3000/api/admin/users/${D.userId._id}/revoke-role`;console.log(" Request URL:",Y),console.log(" Request body:",{roleToRevoke:D.requestedRole});const q=await fetch(Y,{method:"PATCH",headers:{Authorization:`Bearer ${R}`,"Content-Type":"application/json"},body:JSON.stringify({roleToRevoke:D.requestedRole})});console.log(" Response status:",q.status);const G=await q.json();console.log(" Response data:",G),G.success?(lt.success(`${m(D.requestedRole)} role revoked successfully!`),h()):lt.error(G.message||"Failed to revoke role")}catch(R){console.error(" Error revoking role:",R),lt.error("Failed to revoke role: "+R.message)}},T=n.filter(D=>r==="all"?!0:D.status===r);return t?l("div",{className:"role-requests-container",children:g("div",{className:"loading-spinner",children:[l("div",{className:"spinner"}),l("p",{children:"Loading role requests..."})]})}):g("div",{className:"role-requests-container",children:[g("div",{className:"role-requests-header",children:[l("h2",{children:"Role Upgrade Requests"}),l("p",{children:"Review and manage user role upgrade requests"})]}),g("div",{className:"stats-grid",children:[g("div",{className:"stat-card neu-card",children:[l("div",{className:"stat-icon",style:{background:"#f59e0b"},children:""}),g("div",{className:"stat-details",children:[l("p",{className:"stat-label",children:"Pending"}),l("h3",{className:"stat-value",children:a.pending})]})]}),g("div",{className:"stat-card neu-card",children:[l("div",{className:"stat-icon",style:{background:"#10b981"},children:""}),g("div",{className:"stat-details",children:[l("p",{className:"stat-label",children:"Approved"}),l("h3",{className:"stat-value",children:a.approved})]})]}),g("div",{className:"stat-card neu-card",children:[l("div",{className:"stat-icon",style:{background:"#ef4444"},children:""}),g("div",{className:"stat-details",children:[l("p",{className:"stat-label",children:"Rejected"}),l("h3",{className:"stat-value",children:a.rejected})]})]})]}),g("div",{className:"filter-tabs neu-card",children:[g("button",{className:`filter-tab ${r==="all"?"active":""}`,onClick:()=>s("all"),children:["All (",n.length,")"]}),g("button",{className:`filter-tab ${r==="pending"?"active":""}`,onClick:()=>s("pending"),children:["Pending (",a.pending,")"]}),g("button",{className:`filter-tab ${r==="approved"?"active":""}`,onClick:()=>s("approved"),children:["Approved (",a.approved,")"]}),g("button",{className:`filter-tab ${r==="rejected"?"active":""}`,onClick:()=>s("rejected"),children:["Rejected (",a.rejected,")"]})]}),l("div",{className:"requests-table-container neu-card",children:T.length===0?l("div",{className:"empty-state",children:g("p",{children:["No ",r!=="all"?r:""," requests found"]})}):g("table",{className:"requests-table",children:[l("thead",{children:g("tr",{children:[l("th",{children:"User"}),l("th",{children:"Email"}),l("th",{children:"Requested Role"}),l("th",{children:"Reason"}),l("th",{children:"Status"}),l("th",{children:"Requested Date"}),l("th",{children:"Actions"})]})}),l("tbody",{children:T.map(D=>{var E,A,I,R;return g("tr",{children:[l("td",{children:g("div",{className:"user-cell",children:[l("div",{className:"user-avatar",children:((A=(E=D.userId)==null?void 0:E.name)==null?void 0:A.charAt(0))||"U"}),l("span",{children:((I=D.userId)==null?void 0:I.name)||"Unknown User"})]})}),l("td",{children:((R=D.userId)==null?void 0:R.email)||"N/A"}),l("td",{children:l("span",{className:`role-badge ${w(D.requestedRole)}`,children:m(D.requestedRole)})}),l("td",{children:l("div",{className:"reason-cell",title:D.reason||"No reason provided",children:D.reason?l("span",{className:"reason-text",children:D.reason.length>50?`${D.reason.substring(0,50)}...`:D.reason}):l("span",{className:"no-reason",children:"No reason provided"})})}),l("td",{children:l("span",{className:`status-badge ${b(D.status)}`,children:D.status.toUpperCase()})}),l("td",{children:new Date(D.createdAt).toLocaleDateString()}),g("td",{children:[g("div",{className:"action-buttons",children:[l("button",{className:"neu-btn-info",onClick:()=>y(D),title:"View Full Details",children:" View Details"}),D.status==="pending"&&g(Ft,{children:[l("button",{className:"neu-btn-success",onClick:()=>p(D._id,"approved"),title:"Approve Request",children:" Approve"}),l("button",{className:"neu-btn-danger",onClick:()=>p(D._id,"rejected"),title:"Reject Request",children:" Reject"})]}),D.status==="approved"&&l("button",{className:"neu-btn-warning",onClick:()=>k(D),title:"Revoke Editor Role",children:" Revoke Role"}),l("button",{className:"neu-btn-danger",onClick:()=>v(D),title:"Delete Request",style:{marginLeft:"8px"},children:" Delete"})]}),D.status!=="pending"&&g("span",{className:"reviewed-text",children:[D.status==="approved"?"Approved":"Rejected",D.reviewedAt&&` on ${new Date(D.reviewedAt).toLocaleDateString()}`]})]})]},D._id)})})]})}),u&&c&&l("div",{className:"details-modal-overlay",onClick:_,children:g("div",{className:"details-modal-content",onClick:D=>D.stopPropagation(),children:[g("div",{className:"details-modal-header",children:[l("h2",{children:"Role Request Details"}),l("button",{className:"modal-close-btn",onClick:_,children:""})]}),g("div",{className:"details-modal-body",children:[g("div",{className:"detail-section",children:[l("h3",{children:"User Information"}),g("div",{className:"detail-row",children:[l("span",{className:"detail-label",children:"Name:"}),l("span",{className:"detail-value",children:((C=c.userId)==null?void 0:C.name)||"Unknown User"})]}),g("div",{className:"detail-row",children:[l("span",{className:"detail-label",children:"Email:"}),l("span",{className:"detail-value",children:((P=c.userId)==null?void 0:P.email)||"N/A"})]})]}),g("div",{className:"detail-section",children:[l("h3",{children:"Request Information"}),g("div",{className:"detail-row",children:[l("span",{className:"detail-label",children:"Requested Role:"}),l("span",{className:`role-badge ${w(c.requestedRole)}`,children:m(c.requestedRole)})]}),g("div",{className:"detail-row",children:[l("span",{className:"detail-label",children:"Request Date:"}),l("span",{className:"detail-value",children:new Date(c.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),g("div",{className:"detail-row",children:[l("span",{className:"detail-label",children:"Status:"}),l("span",{className:`status-badge ${b(c.status)}`,children:c.status.toUpperCase()})]})]}),g("div",{className:"detail-section",children:[l("h3",{children:"Why User Wants This Role"}),l("div",{className:"reason-box",children:c.reason&&c.reason.trim()?c.reason:l("div",{style:{color:"#9ca3af",fontStyle:"italic"},children:"No reason provided (This request was submitted before the reason field was required)"})})]}),c.status!=="pending"&&c.reviewedAt&&g("div",{className:"detail-section",children:[l("h3",{children:"Review Information"}),g("div",{className:"detail-row",children:[l("span",{className:"detail-label",children:"Reviewed On:"}),l("span",{className:"detail-value",children:new Date(c.reviewedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),c.adminNotes&&g("div",{className:"detail-row",children:[l("span",{className:"detail-label",children:"Admin Notes:"}),l("span",{className:"detail-value",children:c.adminNotes})]})]})]}),l("div",{className:"details-modal-footer",children:c.status==="pending"?g(Ft,{children:[l("button",{className:"modal-btn-reject",onClick:N,children:" Reject Request"}),l("button",{className:"modal-btn-approve",onClick:x,children:" Approve Request"})]}):c.status==="approved"?g(Ft,{children:[l("button",{className:"modal-btn-close",onClick:_,children:"Close"}),l("button",{className:"modal-btn-revoke",onClick:()=>{k(c),_()},children:" Revoke Editor Role"})]}):l("button",{className:"modal-btn-close",onClick:_,children:"Close"})})]})}),l("style",{jsx:!0,children:`
        .role-requests-container {
          padding: 20px;
        }

        .role-requests-header {
          margin-bottom: 30px;
        }

        .role-requests-header h2 {
          font-size: 28px;
          font-weight: 700;
          color: #1e293b;
          margin-bottom: 8px;
        }

        .role-requests-header p {
          color: #64748b;
          font-size: 14px;
        }

        .stats-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
          gap: 20px;
          margin-bottom: 30px;
        }

        .stat-card {
          padding: 20px;
          display: flex;
          align-items: center;
          gap: 15px;
        }

        .stat-icon {
          width: 50px;
          height: 50px;
          border-radius: 12px;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 24px;
          color: white;
        }

        .stat-details {
          flex: 1;
        }

        .stat-label {
          font-size: 14px;
          color: #64748b;
          margin-bottom: 4px;
        }

        .stat-value {
          font-size: 28px;
          font-weight: 700;
          color: #1e293b;
        }

        .filter-tabs {
          display: flex;
          gap: 10px;
          padding: 15px;
          margin-bottom: 20px;
        }

        .filter-tab {
          padding: 10px 20px;
          border: none;
          background: transparent;
          border-radius: 8px;
          cursor: pointer;
          font-weight: 500;
          color: #64748b;
          transition: all 0.3s;
        }

        .filter-tab:hover {
          background: #f1f5f9;
          color: #1e293b;
        }

        .filter-tab.active {
          background: #8b5cf6;
          color: white;
        }

        .requests-table-container {
          padding: 0;
          overflow-x: auto;
        }

        .requests-table {
          width: 100%;
          border-collapse: collapse;
        }

        .requests-table th,
        .requests-table td {
          padding: 15px;
          text-align: left;
          border-bottom: 1px solid #e2e8f0;
        }

        .requests-table th {
          background: #f8fafc;
          font-weight: 600;
          color: #475569;
          font-size: 14px;
        }

        .user-cell {
          display: flex;
          align-items: center;
          gap: 10px;
        }

        .user-avatar {
          width: 40px;
          height: 40px;
          border-radius: 50%;
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          color: white;
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: 600;
        }

        .role-badge,
        .status-badge {
          padding: 6px 12px;
          border-radius: 20px;
          font-size: 12px;
          font-weight: 600;
          color: white;
          display: inline-block;
        }

        .bg-purple-500 { background: #8b5cf6; }
        .bg-teal-500 { background: #14b8a6; }
        .bg-blue-500 { background: #3b82f6; }
        .bg-yellow-500 { background: #f59e0b; }
        .bg-green-500 { background: #10b981; }
        .bg-red-500 { background: #ef4444; }
        .bg-gray-500 { background: #6b7280; }

        .action-buttons {
          display: flex;
          gap: 10px;
        }

        .neu-btn-success,
        .neu-btn-danger {
          padding: 8px 16px;
          border: none;
          border-radius: 8px;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.3s;
          font-size: 13px;
        }

        .neu-btn-success {
          background: #10b981;
          color: white;
        }

        .neu-btn-success:hover {
          background: #059669;
          transform: translateY(-2px);
        }

        .neu-btn-danger {
          background: #ef4444;
          color: white;
        }

        .neu-btn-danger:hover {
          background: #dc2626;
          transform: translateY(-2px);
        }

        .neu-btn-info {
          padding: 8px 16px;
          border: none;
          border-radius: 8px;
          cursor: pointer;
          font-size: 13px;
          font-weight: 600;
          transition: all 0.2s;
          background: #3b82f6;
          color: white;
        }

        .neu-btn-info:hover {
          background: #2563eb;
          transform: translateY(-2px);
        }

        .neu-btn-warning {
          padding: 8px 16px;
          border: none;
          border-radius: 8px;
          cursor: pointer;
          font-size: 13px;
          font-weight: 600;
          transition: all 0.2s;
          background: #f59e0b;
          color: white;
        }

        .neu-btn-warning:hover {
          background: #d97706;
          transform: translateY(-2px);
        }

        .reviewed-text {
          color: #64748b;
          font-size: 13px;
        }

        .empty-state {
          padding: 60px 20px;
          text-align: center;
          color: #94a3b8;
        }

        .loading-spinner {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          padding: 60px;
          gap: 20px;
        }

        .spinner {
          width: 50px;
          height: 50px;
          border: 4px solid #e2e8f0;
          border-top-color: #8b5cf6;
          border-radius: 50%;
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          to { transform: rotate(360deg); }
        }

        .reason-cell {
          max-width: 250px;
        }

        .reason-text {
          display: block;
          color: #475569;
          font-size: 13px;
          line-height: 1.5;
          overflow: hidden;
          text-overflow: ellipsis;
          white-space: nowrap;
          cursor: help;
        }

        .no-reason {
          color: #94a3b8;
          font-style: italic;
          font-size: 13px;
        }

        /* Details Modal Styles */
        .details-modal-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.7);
          backdrop-filter: blur(8px);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 9999;
          padding: 20px;
          animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }

        .details-modal-content {
          background: white;
          border-radius: 16px;
          max-width: 700px;
          width: 100%;
          max-height: 90vh;
          overflow-y: auto;
          box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
          animation: slideUp 0.4s cubic-bezier(0.16, 1, 0.3, 1);
        }

        @keyframes slideUp {
          from {
            opacity: 0;
            transform: translateY(30px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .details-modal-header {
          padding: 24px 30px;
          border-bottom: 1px solid #e5e7eb;
          display: flex;
          justify-content: space-between;
          align-items: center;
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          color: white;
          border-radius: 16px 16px 0 0;
        }

        .details-modal-header h2 {
          margin: 0;
          font-size: 22px;
          font-weight: 700;
        }

        .modal-close-btn {
          background: rgba(255, 255, 255, 0.2);
          border: none;
          color: white;
          font-size: 28px;
          width: 36px;
          height: 36px;
          border-radius: 8px;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.2s;
        }

        .modal-close-btn:hover {
          background: rgba(255, 255, 255, 0.3);
          transform: rotate(90deg);
        }

        .details-modal-body {
          padding: 30px;
        }

        .detail-section {
          margin-bottom: 28px;
        }

        .detail-section:last-child {
          margin-bottom: 0;
        }

        .detail-section h3 {
          font-size: 16px;
          font-weight: 700;
          color: #1f2937;
          margin-bottom: 16px;
          padding-bottom: 8px;
          border-bottom: 2px solid #e5e7eb;
        }

        .detail-row {
          display: flex;
          align-items: center;
          padding: 12px 0;
          border-bottom: 1px solid #f3f4f6;
        }

        .detail-row:last-child {
          border-bottom: none;
        }

        .detail-label {
          font-weight: 600;
          color: #6b7280;
          min-width: 150px;
          font-size: 14px;
        }

        .detail-value {
          color: #1f2937;
          font-size: 14px;
          flex: 1;
        }

        .reason-box {
          background: #f9fafb;
          border: 1px solid #e5e7eb;
          border-radius: 12px;
          padding: 20px;
          color: #374151;
          font-size: 14px;
          line-height: 1.7;
          white-space: pre-wrap;
          word-wrap: break-word;
          min-height: 100px;
        }

        .details-modal-footer {
          padding: 20px 30px;
          border-top: 1px solid #e5e7eb;
          display: flex;
          gap: 12px;
          justify-content: flex-end;
          background: #f9fafb;
          border-radius: 0 0 16px 16px;
        }

        .modal-btn-approve,
        .modal-btn-reject,
        .modal-btn-close {
          padding: 12px 24px;
          border: none;
          border-radius: 8px;
          font-size: 14px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.2s;
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .modal-btn-approve {
          background: #10b981;
          color: white;
        }

        .modal-btn-approve:hover {
          background: #059669;
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
        }

        .modal-btn-reject {
          background: #ef4444;
          color: white;
        }

        .modal-btn-reject:hover {
          background: #dc2626;
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(239, 68, 68, 0.4);
        }

        .modal-btn-close {
          background: #6b7280;
          color: white;
        }

        .modal-btn-close:hover {
          background: #4b5563;
          transform: translateY(-2px);
        }

        .modal-btn-revoke {
          padding: 12px 24px;
          border: none;
          border-radius: 8px;
          font-size: 14px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.2s;
          display: flex;
          align-items: center;
          gap: 8px;
          background: #f59e0b;
          color: white;
        }

        .modal-btn-revoke:hover {
          background: #d97706;
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(245, 158, 11, 0.4);
        }

        @media (max-width: 768px) {
          .details-modal-content {
            max-width: 95%;
            margin: 10px;
          }

          .details-modal-header,
          .details-modal-body,
          .details-modal-footer {
            padding: 20px;
          }

          .detail-row {
            flex-direction: column;
            align-items: flex-start;
            gap: 8px;
          }

          .detail-label {
            min-width: auto;
          }

          .details-modal-footer {
            flex-direction: column;
          }

          .modal-btn-approve,
          .modal-btn-reject,
          .modal-btn-close {
            width: 100%;
            justify-content: center;
          }
        }
      `})]})},aAe=()=>{var v;const n=or(),[e,t]=ie.useState("dashboard"),[i,r]=ie.useState(!0),[s,a]=ie.useState(null),[o,c]=ie.useState(null);ie.useEffect(()=>{d()},[]),ie.useEffect(()=>{s&&u()},[s]);const d=async()=>{const w=localStorage.getItem("adminToken")||localStorage.getItem("authToken"),b=localStorage.getItem("isAdminSession")==="true";if(!w){console.log("No token found, redirecting to admin login"),n("/admin/login");return}if(!b&&!localStorage.getItem("adminToken")){console.log("Not an admin session, redirecting to admin login"),n("/admin/login");return}try{const m=await fetch(`${{}.VITE_API_BASE_URL||"http://localhost:3000/api"}/auth/me`,{headers:{Authorization:`Bearer ${w}`}});if(!m.ok){console.log("Auth check failed, clearing tokens"),localStorage.removeItem("authToken"),localStorage.removeItem("adminToken"),localStorage.removeItem("isAdminSession"),n("/admin/login");return}const y=await m.json();console.log("User data:",y),y.role==="admin"?a(y):(lt.error("Access denied: Admin privileges required"),localStorage.removeItem("authToken"),localStorage.removeItem("adminToken"),localStorage.removeItem("isAdminSession"),n("/admin/login"))}catch(m){console.error("Auth check failed:",m),lt.error("Authentication failed"),localStorage.removeItem("authToken"),localStorage.removeItem("adminToken"),localStorage.removeItem("isAdminSession"),n("/admin/login")}finally{r(!1)}},u=async()=>{try{const w=await(void 0)();c(w.data.stats)}catch(w){console.error("Failed to load stats:",w),lt.error("Failed to load dashboard statistics")}},f=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("adminToken"),localStorage.removeItem("isAdminSession"),lt.success("Logged out successfully"),n("/login")},h=[{id:"dashboard",label:"Dashboard",icon:""},{id:"users",label:"User Management",icon:""},{id:"role-requests",label:"Role Upgrade Requests",icon:""},{id:"jobs",label:"Job Portal",icon:""},{id:"learning",label:"Learning Center",icon:""},{id:"newsroom",label:"Newsroom",icon:""},{id:"forum",label:"Discussion Forum",icon:""},{id:"publishing",label:"Publishing House",icon:""},{id:"networking",label:"Networking Arena",icon:""},{id:"analytics",label:"Analytics",icon:""}],p=()=>{switch(e){case"dashboard":return l(cz,{stats:o,onNavigate:t});case"users":return l(JNe,{});case"role-requests":return l(sAe,{});case"jobs":return l(ZNe,{});case"learning":return l(QNe,{});case"newsroom":return l(eAe,{});case"forum":return l(tAe,{});case"publishing":return l(nAe,{});case"networking":return l(iAe,{});case"analytics":return l(rAe,{});default:return l(cz,{stats:o,onNavigate:t})}};return i?l("div",{className:"admin-dashboard",children:l("div",{className:"loading-spinner",children:l("div",{className:"spinner"})})}):l("div",{className:"admin-dashboard",children:g("div",{className:"admin-container",children:[g("div",{className:"neu-card admin-header",children:[g("div",{className:"admin-header-left",children:[l("h1",{children:" Admin Control Panel"}),g("p",{className:"admin-header-subtitle",children:["Welcome back, ",((v=s==null?void 0:s.profile)==null?void 0:v.firstName)||(s==null?void 0:s.email)]})]}),g("div",{className:"admin-header-actions",children:[l("button",{className:"neu-btn",onClick:()=>window.location.href="/",children:" Home"}),l("button",{className:"neu-btn-danger neu-btn",onClick:f,children:" Logout"})]})]}),g("div",{className:"admin-layout",children:[l("aside",{className:"admin-sidebar",children:l("nav",{className:"neu-card",children:l("ul",{className:"admin-nav",children:h.map(w=>l("li",{className:"admin-nav-item",children:g("a",{href:"#",className:`admin-nav-link ${e===w.id?"active":""}`,onClick:b=>{b.preventDefault(),t(w.id)},children:[l("span",{className:"admin-nav-icon",children:w.icon}),l("span",{children:w.label})]})},w.id))})})}),l("main",{className:"admin-main",children:p()})]})]})})};function oAe({children:n}){const t=pm().pathname.startsWith("/admin");return g("div",{className:"app",children:[!t&&l(Mhe,{}),l("main",{className:"main-content",children:n}),!t&&l(ffe,{})]})}function lAe(){return l(RQ,{children:l(qle,{children:l(Wle,{children:l(jle,{children:g(Vle,{children:[l(oAe,{children:g(kQ,{children:[l(Vn,{path:"/",element:l(mfe,{})}),l(Vn,{path:"/about",element:l(gfe,{})}),l(Vn,{path:"/login",element:l(vfe,{})}),l(Vn,{path:"/signup",element:l(_fe,{})}),l(Vn,{path:"/auth/forgot-password",element:l(Afe,{})}),l(Vn,{path:"/admin/login",element:l(bfe,{})}),l(Vn,{path:"/admin",element:l(l8,{to:"/admin/dashboard",replace:!0})}),l(Vn,{path:"/admin/*",element:l(pfe,{children:l(aAe,{})})}),l(Vn,{path:"/dashboard",element:l(Ape,{})}),l(Vn,{path:"/profile",element:l(kpe,{})}),l(Vn,{path:"/my-articles",element:l(Efe,{})}),l(Vn,{path:"/editor/dashboard",element:l(Epe,{})}),l(Vn,{path:"/jobs",element:l(Tpe,{})}),l(Vn,{path:"/jobs/:id",element:l(Lpe,{})}),l(Vn,{path:"/learning",element:l(Hpe,{})}),l(Vn,{path:"/learning/enroll",element:l(Xpe,{})}),l(Vn,{path:"/learning/courses/:id",element:l(Vpe,{})}),l(Vn,{path:"/publishing",element:l(FSe,{})}),l(Vn,{path:"/publishing/submit",element:l(USe,{})}),l(Vn,{path:"/news",element:l(MSe,{})}),l(Vn,{path:"/news/submit",element:l(sz,{})}),l(Vn,{path:"/news/edit/:articleId",element:l(sz,{})}),l(Vn,{path:"/news/articles/:articleId",element:l(az,{})}),l(Vn,{path:"/news/:articleId",element:l(az,{})}),l(Vn,{path:"/collaborate-event",element:l(BSe,{})}),l(Vn,{path:"/forum",element:l(JSe,{})}),l(Vn,{path:"/forum/create",element:l(ZSe,{})}),l(Vn,{path:"/forum/:forumId",element:l(QSe,{})}),l(Vn,{path:"/networking-arena",element:l(KNe,{})}),l(Vn,{path:"*",element:l(l8,{to:"/",replace:!0})})]})}),l(Nee,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#10b981",secondary:"#fff"}},error:{duration:4e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})})})})})}const cAe=pD.createRoot(document.getElementById("root"));cAe.render(l(XI.StrictMode,{children:l(lAe,{})}));export{ci as _,nr as c,zE as g};
