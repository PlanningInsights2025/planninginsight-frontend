var Soe=Object.defineProperty;var Aoe=(t,e,n)=>e in t?Soe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var it=(t,e,n)=>(Aoe(t,typeof e!="symbol"?e+"":e,n),n),Y8=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var x=(t,e,n)=>(Y8(t,e,"read from private field"),n?n.call(t):e.get(t)),J=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},ie=(t,e,n,i)=>(Y8(t,e,"write to private field"),i?i.call(t,n):e.set(t,n),n);var Fr=(t,e,n,i)=>({set _(r){ie(t,e,r,n)},get _(){return x(t,e,i)}}),he=(t,e,n)=>(Y8(t,e,"access private method"),n);function Noe(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const a=Object.getOwnPropertyDescriptor(i,r);a&&Object.defineProperty(t,r,a.get?a:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();var zt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function TO(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function koe(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),n}var gX={exports:{}},SD={},yX={exports:{}},un={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yN=Symbol.for("react.element"),Coe=Symbol.for("react.portal"),Eoe=Symbol.for("react.fragment"),Toe=Symbol.for("react.strict_mode"),Doe=Symbol.for("react.profiler"),Poe=Symbol.for("react.provider"),Ioe=Symbol.for("react.context"),Roe=Symbol.for("react.forward_ref"),Loe=Symbol.for("react.suspense"),Foe=Symbol.for("react.memo"),Ooe=Symbol.for("react.lazy"),cz=Symbol.iterator;function Uoe(t){return t===null||typeof t!="object"?null:(t=cz&&t[cz]||t["@@iterator"],typeof t=="function"?t:null)}var vX={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bX=Object.assign,wX={};function vw(t,e,n){this.props=t,this.context=e,this.refs=wX,this.updater=n||vX}vw.prototype.isReactComponent={};vw.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};vw.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function xX(){}xX.prototype=vw.prototype;function DO(t,e,n){this.props=t,this.context=e,this.refs=wX,this.updater=n||vX}var PO=DO.prototype=new xX;PO.constructor=DO;bX(PO,vw.prototype);PO.isPureReactComponent=!0;var uz=Array.isArray,_X=Object.prototype.hasOwnProperty,IO={current:null},SX={key:!0,ref:!0,__self:!0,__source:!0};function AX(t,e,n){var i,r={},a=null,s=null;if(e!=null)for(i in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(a=""+e.key),e)_X.call(e,i)&&!SX.hasOwnProperty(i)&&(r[i]=e[i]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];r.children=c}if(t&&t.defaultProps)for(i in o=t.defaultProps,o)r[i]===void 0&&(r[i]=o[i]);return{$$typeof:yN,type:t,key:a,ref:s,props:r,_owner:IO.current}}function Moe(t,e){return{$$typeof:yN,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function RO(t){return typeof t=="object"&&t!==null&&t.$$typeof===yN}function Boe(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var dz=/\/+/g;function J8(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Boe(""+t.key):e.toString(36)}function Dk(t,e,n,i,r){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case yN:case Coe:s=!0}}if(s)return s=t,r=r(s),t=i===""?"."+J8(s,0):i,uz(r)?(n="",t!=null&&(n=t.replace(dz,"$&/")+"/"),Dk(r,e,n,"",function(u){return u})):r!=null&&(RO(r)&&(r=Moe(r,n+(!r.key||s&&s.key===r.key?"":(""+r.key).replace(dz,"$&/")+"/")+t)),e.push(r)),1;if(s=0,i=i===""?".":i+":",uz(t))for(var o=0;o<t.length;o++){a=t[o];var c=i+J8(a,o);s+=Dk(a,e,n,c,r)}else if(c=Uoe(t),typeof c=="function")for(t=c.call(t),o=0;!(a=t.next()).done;)a=a.value,c=i+J8(a,o++),s+=Dk(a,e,n,c,r);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function N3(t,e,n){if(t==null)return t;var i=[],r=0;return Dk(t,i,"","",function(a){return e.call(n,a,r++)}),i}function zoe(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ms={current:null},Pk={transition:null},joe={ReactCurrentDispatcher:Ms,ReactCurrentBatchConfig:Pk,ReactCurrentOwner:IO};function NX(){throw Error("act(...) is not supported in production builds of React.")}un.Children={map:N3,forEach:function(t,e,n){N3(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return N3(t,function(){e++}),e},toArray:function(t){return N3(t,function(e){return e})||[]},only:function(t){if(!RO(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};un.Component=vw;un.Fragment=Eoe;un.Profiler=Doe;un.PureComponent=DO;un.StrictMode=Toe;un.Suspense=Loe;un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=joe;un.act=NX;un.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=bX({},t.props),r=t.key,a=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,s=IO.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in e)_X.call(e,c)&&!SX.hasOwnProperty(c)&&(i[c]=e[c]===void 0&&o!==void 0?o[c]:e[c])}var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];i.children=o}return{$$typeof:yN,type:t.type,key:r,ref:a,props:i,_owner:s}};un.createContext=function(t){return t={$$typeof:Ioe,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Poe,_context:t},t.Consumer=t};un.createElement=AX;un.createFactory=function(t){var e=AX.bind(null,t);return e.type=t,e};un.createRef=function(){return{current:null}};un.forwardRef=function(t){return{$$typeof:Roe,render:t}};un.isValidElement=RO;un.lazy=function(t){return{$$typeof:Ooe,_payload:{_status:-1,_result:t},_init:zoe}};un.memo=function(t,e){return{$$typeof:Foe,type:t,compare:e===void 0?null:e}};un.startTransition=function(t){var e=Pk.transition;Pk.transition={};try{t()}finally{Pk.transition=e}};un.unstable_act=NX;un.useCallback=function(t,e){return Ms.current.useCallback(t,e)};un.useContext=function(t){return Ms.current.useContext(t)};un.useDebugValue=function(){};un.useDeferredValue=function(t){return Ms.current.useDeferredValue(t)};un.useEffect=function(t,e){return Ms.current.useEffect(t,e)};un.useId=function(){return Ms.current.useId()};un.useImperativeHandle=function(t,e,n){return Ms.current.useImperativeHandle(t,e,n)};un.useInsertionEffect=function(t,e){return Ms.current.useInsertionEffect(t,e)};un.useLayoutEffect=function(t,e){return Ms.current.useLayoutEffect(t,e)};un.useMemo=function(t,e){return Ms.current.useMemo(t,e)};un.useReducer=function(t,e,n){return Ms.current.useReducer(t,e,n)};un.useRef=function(t){return Ms.current.useRef(t)};un.useState=function(t){return Ms.current.useState(t)};un.useSyncExternalStore=function(t,e,n){return Ms.current.useSyncExternalStore(t,e,n)};un.useTransition=function(){return Ms.current.useTransition()};un.version="18.3.1";yX.exports=un;var Z=yX.exports;const LO=TO(Z),VR=Noe({__proto__:null,default:LO},[Z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $oe=Z,Woe=Symbol.for("react.element"),qoe=Symbol.for("react.fragment"),Hoe=Object.prototype.hasOwnProperty,Voe=$oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Goe={key:!0,ref:!0,__self:!0,__source:!0};function kX(t,e,n){var i,r={},a=null,s=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(s=e.ref);for(i in e)Hoe.call(e,i)&&!Goe.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:Woe,type:t,key:a,ref:s,props:r,_owner:Voe.current}}SD.Fragment=qoe;SD.jsx=kX;SD.jsxs=kX;gX.exports=SD;var FO=gX.exports;const vt=FO.Fragment,l=FO.jsx,m=FO.jsxs;var GR={},CX={exports:{}},bl={},EX={exports:{}},TX={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,q){var G=$.length;$.push(q);e:for(;0<G;){var B=G-1>>>1,L=$[B];if(0<r(L,q))$[B]=q,$[G]=L,G=B;else break e}}function n($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var q=$[0],G=$.pop();if(G!==q){$[0]=G;e:for(var B=0,L=$.length,M=L>>>1;B<M;){var K=2*(B+1)-1,Q=$[K],V=K+1,le=$[V];if(0>r(Q,G))V<L&&0>r(le,Q)?($[B]=le,$[V]=G,B=V):($[B]=Q,$[K]=G,B=K);else if(V<L&&0>r(le,G))$[B]=le,$[V]=G,B=V;else break e}}return q}function r($,q){var G=$.sortIndex-q.sortIndex;return G!==0?G:$.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var c=[],u=[],d=1,h=null,f=3,p=!1,w=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _($){for(var q=n(u);q!==null;){if(q.callback===null)i(u);else if(q.startTime<=$)i(u),q.sortIndex=q.expirationTime,e(c,q);else break;q=n(u)}}function S($){if(v=!1,_($),!w)if(n(c)!==null)w=!0,j(N);else{var q=n(u);q!==null&&W(S,q.startTime-$)}}function N($,q){w=!1,v&&(v=!1,g(E),E=-1),p=!0;var G=f;try{for(_(q),h=n(c);h!==null&&(!(h.expirationTime>q)||$&&!k());){var B=h.callback;if(typeof B=="function"){h.callback=null,f=h.priorityLevel;var L=B(h.expirationTime<=q);q=t.unstable_now(),typeof L=="function"?h.callback=L:h===n(c)&&i(c),_(q)}else i(c);h=n(c)}if(h!==null)var M=!0;else{var K=n(u);K!==null&&W(S,K.startTime-q),M=!1}return M}finally{h=null,f=G,p=!1}}var R=!1,D=null,E=-1,C=5,P=-1;function k(){return!(t.unstable_now()-P<C)}function A(){if(D!==null){var $=t.unstable_now();P=$;var q=!0;try{q=D(!0,$)}finally{q?I():(R=!1,D=null)}}else R=!1}var I;if(typeof y=="function")I=function(){y(A)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,z=T.port2;T.port1.onmessage=A,I=function(){z.postMessage(null)}}else I=function(){b(A,0)};function j($){D=$,R||(R=!0,I())}function W($,q){E=b(function(){$(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){w||p||(w=!0,j(N))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function($){switch(f){case 1:case 2:case 3:var q=3;break;default:q=f}var G=f;f=q;try{return $()}finally{f=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,q){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var G=f;f=$;try{return q()}finally{f=G}},t.unstable_scheduleCallback=function($,q,G){var B=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?B+G:B):G=B,$){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=G+L,$={id:d++,callback:q,priorityLevel:$,startTime:G,expirationTime:L,sortIndex:-1},G>B?($.sortIndex=G,e(u,$),n(c)===null&&$===n(u)&&(v?(g(E),E=-1):v=!0,W(S,G-B))):($.sortIndex=L,e(c,$),w||p||(w=!0,j(N))),$},t.unstable_shouldYield=k,t.unstable_wrapCallback=function($){var q=f;return function(){var G=f;f=q;try{return $.apply(this,arguments)}finally{f=G}}}})(TX);EX.exports=TX;var Xoe=EX.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Koe=Z,yl=Xoe;function mt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var DX=new Set,F5={};function Z0(t,e){Vb(t,e),Vb(t+"Capture",e)}function Vb(t,e){for(F5[t]=e,t=0;t<e.length;t++)DX.add(e[t])}var rf=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),XR=Object.prototype.hasOwnProperty,Yoe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hz={},fz={};function Joe(t){return XR.call(fz,t)?!0:XR.call(hz,t)?!1:Yoe.test(t)?fz[t]=!0:(hz[t]=!0,!1)}function Zoe(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Qoe(t,e,n,i){if(e===null||typeof e>"u"||Zoe(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Bs(t,e,n,i,r,a,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=s}var Ra={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ra[t]=new Bs(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ra[e]=new Bs(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ra[t]=new Bs(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ra[t]=new Bs(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ra[t]=new Bs(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ra[t]=new Bs(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ra[t]=new Bs(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ra[t]=new Bs(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ra[t]=new Bs(t,5,!1,t.toLowerCase(),null,!1,!1)});var OO=/[\-:]([a-z])/g;function UO(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(OO,UO);Ra[e]=new Bs(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(OO,UO);Ra[e]=new Bs(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(OO,UO);Ra[e]=new Bs(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ra[t]=new Bs(t,1,!1,t.toLowerCase(),null,!1,!1)});Ra.xlinkHref=new Bs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ra[t]=new Bs(t,1,!1,t.toLowerCase(),null,!0,!0)});function MO(t,e,n,i){var r=Ra.hasOwnProperty(e)?Ra[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Qoe(e,n,r,i)&&(n=null),i||r===null?Joe(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var yf=Koe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k3=Symbol.for("react.element"),tv=Symbol.for("react.portal"),nv=Symbol.for("react.fragment"),BO=Symbol.for("react.strict_mode"),KR=Symbol.for("react.profiler"),PX=Symbol.for("react.provider"),IX=Symbol.for("react.context"),zO=Symbol.for("react.forward_ref"),YR=Symbol.for("react.suspense"),JR=Symbol.for("react.suspense_list"),jO=Symbol.for("react.memo"),Qf=Symbol.for("react.lazy"),RX=Symbol.for("react.offscreen"),pz=Symbol.iterator;function ox(t){return t===null||typeof t!="object"?null:(t=pz&&t[pz]||t["@@iterator"],typeof t=="function"?t:null)}var Vi=Object.assign,Z8;function Ox(t){if(Z8===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Z8=e&&e[1]||""}return`
`+Z8+t}var Q8=!1;function eP(t,e){if(!t||Q8)return"";Q8=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){i=u}t.call(e.prototype)}else{try{throw Error()}catch(u){i=u}t()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),a=i.stack.split(`
`),s=r.length-1,o=a.length-1;1<=s&&0<=o&&r[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(r[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||r[s]!==a[o]){var c=`
`+r[s].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=s&&0<=o);break}}}finally{Q8=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ox(t):""}function ele(t){switch(t.tag){case 5:return Ox(t.type);case 16:return Ox("Lazy");case 13:return Ox("Suspense");case 19:return Ox("SuspenseList");case 0:case 2:case 15:return t=eP(t.type,!1),t;case 11:return t=eP(t.type.render,!1),t;case 1:return t=eP(t.type,!0),t;default:return""}}function ZR(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case nv:return"Fragment";case tv:return"Portal";case KR:return"Profiler";case BO:return"StrictMode";case YR:return"Suspense";case JR:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case IX:return(t.displayName||"Context")+".Consumer";case PX:return(t._context.displayName||"Context")+".Provider";case zO:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case jO:return e=t.displayName||null,e!==null?e:ZR(t.type)||"Memo";case Qf:e=t._payload,t=t._init;try{return ZR(t(e))}catch{}}return null}function tle(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ZR(e);case 8:return e===BO?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Em(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function LX(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nle(t){var e=LX(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(s){i=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(s){i=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function C3(t){t._valueTracker||(t._valueTracker=nle(t))}function FX(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=LX(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Q4(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function QR(t,e){var n=e.checked;return Vi({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function mz(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Em(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function OX(t,e){e=e.checked,e!=null&&MO(t,"checked",e,!1)}function eL(t,e){OX(t,e);var n=Em(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?tL(t,e.type,n):e.hasOwnProperty("defaultValue")&&tL(t,e.type,Em(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function gz(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function tL(t,e,n){(e!=="number"||Q4(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ux=Array.isArray;function _v(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Em(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function nL(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(mt(91));return Vi({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function yz(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(mt(92));if(Ux(n)){if(1<n.length)throw Error(mt(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Em(n)}}function UX(t,e){var n=Em(e.value),i=Em(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function vz(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function MX(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function iL(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?MX(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var E3,BX=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(E3=E3||document.createElement("div"),E3.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=E3.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function O5(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var m5={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ile=["Webkit","ms","Moz","O"];Object.keys(m5).forEach(function(t){ile.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),m5[e]=m5[t]})});function zX(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||m5.hasOwnProperty(t)&&m5[t]?(""+e).trim():e+"px"}function jX(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=zX(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var rle=Vi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rL(t,e){if(e){if(rle[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(mt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(mt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(mt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(mt(62))}}function aL(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sL=null;function $O(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var oL=null,Sv=null,Av=null;function bz(t){if(t=wN(t)){if(typeof oL!="function")throw Error(mt(280));var e=t.stateNode;e&&(e=ED(e),oL(t.stateNode,t.type,e))}}function $X(t){Sv?Av?Av.push(t):Av=[t]:Sv=t}function WX(){if(Sv){var t=Sv,e=Av;if(Av=Sv=null,bz(t),e)for(t=0;t<e.length;t++)bz(e[t])}}function qX(t,e){return t(e)}function HX(){}var tP=!1;function VX(t,e,n){if(tP)return t(e,n);tP=!0;try{return qX(t,e,n)}finally{tP=!1,(Sv!==null||Av!==null)&&(HX(),WX())}}function U5(t,e){var n=t.stateNode;if(n===null)return null;var i=ED(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(mt(231,e,typeof n));return n}var lL=!1;if(rf)try{var lx={};Object.defineProperty(lx,"passive",{get:function(){lL=!0}}),window.addEventListener("test",lx,lx),window.removeEventListener("test",lx,lx)}catch{lL=!1}function ale(t,e,n,i,r,a,s,o,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var g5=!1,eC=null,tC=!1,cL=null,sle={onError:function(t){g5=!0,eC=t}};function ole(t,e,n,i,r,a,s,o,c){g5=!1,eC=null,ale.apply(sle,arguments)}function lle(t,e,n,i,r,a,s,o,c){if(ole.apply(this,arguments),g5){if(g5){var u=eC;g5=!1,eC=null}else throw Error(mt(198));tC||(tC=!0,cL=u)}}function Q0(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function GX(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function wz(t){if(Q0(t)!==t)throw Error(mt(188))}function cle(t){var e=t.alternate;if(!e){if(e=Q0(t),e===null)throw Error(mt(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var a=r.alternate;if(a===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return wz(r),t;if(a===i)return wz(r),e;a=a.sibling}throw Error(mt(188))}if(n.return!==i.return)n=r,i=a;else{for(var s=!1,o=r.child;o;){if(o===n){s=!0,n=r,i=a;break}if(o===i){s=!0,i=r,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,i=r;break}if(o===i){s=!0,i=a,n=r;break}o=o.sibling}if(!s)throw Error(mt(189))}}if(n.alternate!==i)throw Error(mt(190))}if(n.tag!==3)throw Error(mt(188));return n.stateNode.current===n?t:e}function XX(t){return t=cle(t),t!==null?KX(t):null}function KX(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=KX(t);if(e!==null)return e;t=t.sibling}return null}var YX=yl.unstable_scheduleCallback,xz=yl.unstable_cancelCallback,ule=yl.unstable_shouldYield,dle=yl.unstable_requestPaint,fr=yl.unstable_now,hle=yl.unstable_getCurrentPriorityLevel,WO=yl.unstable_ImmediatePriority,JX=yl.unstable_UserBlockingPriority,nC=yl.unstable_NormalPriority,fle=yl.unstable_LowPriority,ZX=yl.unstable_IdlePriority,AD=null,fd=null;function ple(t){if(fd&&typeof fd.onCommitFiberRoot=="function")try{fd.onCommitFiberRoot(AD,t,void 0,(t.current.flags&128)===128)}catch{}}var Zc=Math.clz32?Math.clz32:yle,mle=Math.log,gle=Math.LN2;function yle(t){return t>>>=0,t===0?32:31-(mle(t)/gle|0)|0}var T3=64,D3=4194304;function Mx(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function iC(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,a=t.pingedLanes,s=n&268435455;if(s!==0){var o=s&~r;o!==0?i=Mx(o):(a&=s,a!==0&&(i=Mx(a)))}else s=n&~r,s!==0?i=Mx(s):a!==0&&(i=Mx(a));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,a=e&-e,r>=a||r===16&&(a&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Zc(e),r=1<<n,i|=t[n],e&=~r;return i}function vle(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ble(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,a=t.pendingLanes;0<a;){var s=31-Zc(a),o=1<<s,c=r[s];c===-1?(!(o&n)||o&i)&&(r[s]=vle(o,e)):c<=e&&(t.expiredLanes|=o),a&=~o}}function uL(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function QX(){var t=T3;return T3<<=1,!(T3&4194240)&&(T3=64),t}function nP(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function vN(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Zc(e),t[e]=n}function wle(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Zc(n),a=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~a}}function qO(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Zc(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var Xn=0;function eK(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var tK,HO,nK,iK,rK,dL=!1,P3=[],dm=null,hm=null,fm=null,M5=new Map,B5=new Map,np=[],xle="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _z(t,e){switch(t){case"focusin":case"focusout":dm=null;break;case"dragenter":case"dragleave":hm=null;break;case"mouseover":case"mouseout":fm=null;break;case"pointerover":case"pointerout":M5.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":B5.delete(e.pointerId)}}function cx(t,e,n,i,r,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[r]},e!==null&&(e=wN(e),e!==null&&HO(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function _le(t,e,n,i,r){switch(e){case"focusin":return dm=cx(dm,t,e,n,i,r),!0;case"dragenter":return hm=cx(hm,t,e,n,i,r),!0;case"mouseover":return fm=cx(fm,t,e,n,i,r),!0;case"pointerover":var a=r.pointerId;return M5.set(a,cx(M5.get(a)||null,t,e,n,i,r)),!0;case"gotpointercapture":return a=r.pointerId,B5.set(a,cx(B5.get(a)||null,t,e,n,i,r)),!0}return!1}function aK(t){var e=Dg(t.target);if(e!==null){var n=Q0(e);if(n!==null){if(e=n.tag,e===13){if(e=GX(n),e!==null){t.blockedOn=e,rK(t.priority,function(){nK(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ik(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=hL(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);sL=i,n.target.dispatchEvent(i),sL=null}else return e=wN(n),e!==null&&HO(e),t.blockedOn=n,!1;e.shift()}return!0}function Sz(t,e,n){Ik(t)&&n.delete(e)}function Sle(){dL=!1,dm!==null&&Ik(dm)&&(dm=null),hm!==null&&Ik(hm)&&(hm=null),fm!==null&&Ik(fm)&&(fm=null),M5.forEach(Sz),B5.forEach(Sz)}function ux(t,e){t.blockedOn===e&&(t.blockedOn=null,dL||(dL=!0,yl.unstable_scheduleCallback(yl.unstable_NormalPriority,Sle)))}function z5(t){function e(r){return ux(r,t)}if(0<P3.length){ux(P3[0],t);for(var n=1;n<P3.length;n++){var i=P3[n];i.blockedOn===t&&(i.blockedOn=null)}}for(dm!==null&&ux(dm,t),hm!==null&&ux(hm,t),fm!==null&&ux(fm,t),M5.forEach(e),B5.forEach(e),n=0;n<np.length;n++)i=np[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<np.length&&(n=np[0],n.blockedOn===null);)aK(n),n.blockedOn===null&&np.shift()}var Nv=yf.ReactCurrentBatchConfig,rC=!0;function Ale(t,e,n,i){var r=Xn,a=Nv.transition;Nv.transition=null;try{Xn=1,VO(t,e,n,i)}finally{Xn=r,Nv.transition=a}}function Nle(t,e,n,i){var r=Xn,a=Nv.transition;Nv.transition=null;try{Xn=4,VO(t,e,n,i)}finally{Xn=r,Nv.transition=a}}function VO(t,e,n,i){if(rC){var r=hL(t,e,n,i);if(r===null)hP(t,e,i,aC,n),_z(t,i);else if(_le(r,t,e,n,i))i.stopPropagation();else if(_z(t,i),e&4&&-1<xle.indexOf(t)){for(;r!==null;){var a=wN(r);if(a!==null&&tK(a),a=hL(t,e,n,i),a===null&&hP(t,e,i,aC,n),a===r)break;r=a}r!==null&&i.stopPropagation()}else hP(t,e,i,null,n)}}var aC=null;function hL(t,e,n,i){if(aC=null,t=$O(i),t=Dg(t),t!==null)if(e=Q0(t),e===null)t=null;else if(n=e.tag,n===13){if(t=GX(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return aC=t,null}function sK(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hle()){case WO:return 1;case JX:return 4;case nC:case fle:return 16;case ZX:return 536870912;default:return 16}default:return 16}}var sm=null,GO=null,Rk=null;function oK(){if(Rk)return Rk;var t,e=GO,n=e.length,i,r="value"in sm?sm.value:sm.textContent,a=r.length;for(t=0;t<n&&e[t]===r[t];t++);var s=n-t;for(i=1;i<=s&&e[n-i]===r[a-i];i++);return Rk=r.slice(t,1<i?1-i:void 0)}function Lk(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function I3(){return!0}function Az(){return!1}function wl(t){function e(n,i,r,a,s){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?I3:Az,this.isPropagationStopped=Az,this}return Vi(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=I3)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=I3)},persist:function(){},isPersistent:I3}),e}var bw={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},XO=wl(bw),bN=Vi({},bw,{view:0,detail:0}),kle=wl(bN),iP,rP,dx,ND=Vi({},bN,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:KO,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==dx&&(dx&&t.type==="mousemove"?(iP=t.screenX-dx.screenX,rP=t.screenY-dx.screenY):rP=iP=0,dx=t),iP)},movementY:function(t){return"movementY"in t?t.movementY:rP}}),Nz=wl(ND),Cle=Vi({},ND,{dataTransfer:0}),Ele=wl(Cle),Tle=Vi({},bN,{relatedTarget:0}),aP=wl(Tle),Dle=Vi({},bw,{animationName:0,elapsedTime:0,pseudoElement:0}),Ple=wl(Dle),Ile=Vi({},bw,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Rle=wl(Ile),Lle=Vi({},bw,{data:0}),kz=wl(Lle),Fle={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ole={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ule={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mle(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ule[t])?!!e[t]:!1}function KO(){return Mle}var Ble=Vi({},bN,{key:function(t){if(t.key){var e=Fle[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Lk(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ole[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:KO,charCode:function(t){return t.type==="keypress"?Lk(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Lk(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zle=wl(Ble),jle=Vi({},ND,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cz=wl(jle),$le=Vi({},bN,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:KO}),Wle=wl($le),qle=Vi({},bw,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hle=wl(qle),Vle=Vi({},ND,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Gle=wl(Vle),Xle=[9,13,27,32],YO=rf&&"CompositionEvent"in window,y5=null;rf&&"documentMode"in document&&(y5=document.documentMode);var Kle=rf&&"TextEvent"in window&&!y5,lK=rf&&(!YO||y5&&8<y5&&11>=y5),Ez=String.fromCharCode(32),Tz=!1;function cK(t,e){switch(t){case"keyup":return Xle.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uK(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var iv=!1;function Yle(t,e){switch(t){case"compositionend":return uK(e);case"keypress":return e.which!==32?null:(Tz=!0,Ez);case"textInput":return t=e.data,t===Ez&&Tz?null:t;default:return null}}function Jle(t,e){if(iv)return t==="compositionend"||!YO&&cK(t,e)?(t=oK(),Rk=GO=sm=null,iv=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return lK&&e.locale!=="ko"?null:e.data;default:return null}}var Zle={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dz(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Zle[t.type]:e==="textarea"}function dK(t,e,n,i){$X(i),e=sC(e,"onChange"),0<e.length&&(n=new XO("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var v5=null,j5=null;function Qle(t){_K(t,0)}function kD(t){var e=sv(t);if(FX(e))return t}function ece(t,e){if(t==="change")return e}var hK=!1;if(rf){var sP;if(rf){var oP="oninput"in document;if(!oP){var Pz=document.createElement("div");Pz.setAttribute("oninput","return;"),oP=typeof Pz.oninput=="function"}sP=oP}else sP=!1;hK=sP&&(!document.documentMode||9<document.documentMode)}function Iz(){v5&&(v5.detachEvent("onpropertychange",fK),j5=v5=null)}function fK(t){if(t.propertyName==="value"&&kD(j5)){var e=[];dK(e,j5,t,$O(t)),VX(Qle,e)}}function tce(t,e,n){t==="focusin"?(Iz(),v5=e,j5=n,v5.attachEvent("onpropertychange",fK)):t==="focusout"&&Iz()}function nce(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return kD(j5)}function ice(t,e){if(t==="click")return kD(e)}function rce(t,e){if(t==="input"||t==="change")return kD(e)}function ace(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nu=typeof Object.is=="function"?Object.is:ace;function $5(t,e){if(nu(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!XR.call(e,r)||!nu(t[r],e[r]))return!1}return!0}function Rz(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Lz(t,e){var n=Rz(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Rz(n)}}function pK(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?pK(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function mK(){for(var t=window,e=Q4();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Q4(t.document)}return e}function JO(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function sce(t){var e=mK(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&pK(n.ownerDocument.documentElement,n)){if(i!==null&&JO(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,a=Math.min(i.start,r);i=i.end===void 0?a:Math.min(i.end,r),!t.extend&&a>i&&(r=i,i=a,a=r),r=Lz(n,a);var s=Lz(n,i);r&&s&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),a>i?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var oce=rf&&"documentMode"in document&&11>=document.documentMode,rv=null,fL=null,b5=null,pL=!1;function Fz(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pL||rv==null||rv!==Q4(i)||(i=rv,"selectionStart"in i&&JO(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),b5&&$5(b5,i)||(b5=i,i=sC(fL,"onSelect"),0<i.length&&(e=new XO("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=rv)))}function R3(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var av={animationend:R3("Animation","AnimationEnd"),animationiteration:R3("Animation","AnimationIteration"),animationstart:R3("Animation","AnimationStart"),transitionend:R3("Transition","TransitionEnd")},lP={},gK={};rf&&(gK=document.createElement("div").style,"AnimationEvent"in window||(delete av.animationend.animation,delete av.animationiteration.animation,delete av.animationstart.animation),"TransitionEvent"in window||delete av.transitionend.transition);function CD(t){if(lP[t])return lP[t];if(!av[t])return t;var e=av[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in gK)return lP[t]=e[n];return t}var yK=CD("animationend"),vK=CD("animationiteration"),bK=CD("animationstart"),wK=CD("transitionend"),xK=new Map,Oz="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bm(t,e){xK.set(t,e),Z0(e,[t])}for(var cP=0;cP<Oz.length;cP++){var uP=Oz[cP],lce=uP.toLowerCase(),cce=uP[0].toUpperCase()+uP.slice(1);Bm(lce,"on"+cce)}Bm(yK,"onAnimationEnd");Bm(vK,"onAnimationIteration");Bm(bK,"onAnimationStart");Bm("dblclick","onDoubleClick");Bm("focusin","onFocus");Bm("focusout","onBlur");Bm(wK,"onTransitionEnd");Vb("onMouseEnter",["mouseout","mouseover"]);Vb("onMouseLeave",["mouseout","mouseover"]);Vb("onPointerEnter",["pointerout","pointerover"]);Vb("onPointerLeave",["pointerout","pointerover"]);Z0("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Z0("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Z0("onBeforeInput",["compositionend","keypress","textInput","paste"]);Z0("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Z0("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Z0("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bx="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uce=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bx));function Uz(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,lle(i,e,void 0,t),t.currentTarget=null}function _K(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var a=void 0;if(e)for(var s=i.length-1;0<=s;s--){var o=i[s],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==a&&r.isPropagationStopped())break e;Uz(r,o,u),a=c}else for(s=0;s<i.length;s++){if(o=i[s],c=o.instance,u=o.currentTarget,o=o.listener,c!==a&&r.isPropagationStopped())break e;Uz(r,o,u),a=c}}}if(tC)throw t=cL,tC=!1,cL=null,t}function Pi(t,e){var n=e[bL];n===void 0&&(n=e[bL]=new Set);var i=t+"__bubble";n.has(i)||(SK(e,t,2,!1),n.add(i))}function dP(t,e,n){var i=0;e&&(i|=4),SK(n,t,i,e)}var L3="_reactListening"+Math.random().toString(36).slice(2);function W5(t){if(!t[L3]){t[L3]=!0,DX.forEach(function(n){n!=="selectionchange"&&(uce.has(n)||dP(n,!1,t),dP(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[L3]||(e[L3]=!0,dP("selectionchange",!1,e))}}function SK(t,e,n,i){switch(sK(e)){case 1:var r=Ale;break;case 4:r=Nle;break;default:r=VO}n=r.bind(null,e,n,t),r=void 0,!lL||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function hP(t,e,n,i,r){var a=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var s=i.tag;if(s===3||s===4){var o=i.stateNode.containerInfo;if(o===r||o.nodeType===8&&o.parentNode===r)break;if(s===4)for(s=i.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===r||c.nodeType===8&&c.parentNode===r))return;s=s.return}for(;o!==null;){if(s=Dg(o),s===null)return;if(c=s.tag,c===5||c===6){i=a=s;continue e}o=o.parentNode}}i=i.return}VX(function(){var u=a,d=$O(n),h=[];e:{var f=xK.get(t);if(f!==void 0){var p=XO,w=t;switch(t){case"keypress":if(Lk(n)===0)break e;case"keydown":case"keyup":p=zle;break;case"focusin":w="focus",p=aP;break;case"focusout":w="blur",p=aP;break;case"beforeblur":case"afterblur":p=aP;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Nz;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Ele;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Wle;break;case yK:case vK:case bK:p=Ple;break;case wK:p=Hle;break;case"scroll":p=kle;break;case"wheel":p=Gle;break;case"copy":case"cut":case"paste":p=Rle;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Cz}var v=(e&4)!==0,b=!v&&t==="scroll",g=v?f!==null?f+"Capture":null:f;v=[];for(var y=u,_;y!==null;){_=y;var S=_.stateNode;if(_.tag===5&&S!==null&&(_=S,g!==null&&(S=U5(y,g),S!=null&&v.push(q5(y,S,_)))),b)break;y=y.return}0<v.length&&(f=new p(f,w,null,n,d),h.push({event:f,listeners:v}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==sL&&(w=n.relatedTarget||n.fromElement)&&(Dg(w)||w[af]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(w=n.relatedTarget||n.toElement,p=u,w=w?Dg(w):null,w!==null&&(b=Q0(w),w!==b||w.tag!==5&&w.tag!==6)&&(w=null)):(p=null,w=u),p!==w)){if(v=Nz,S="onMouseLeave",g="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=Cz,S="onPointerLeave",g="onPointerEnter",y="pointer"),b=p==null?f:sv(p),_=w==null?f:sv(w),f=new v(S,y+"leave",p,n,d),f.target=b,f.relatedTarget=_,S=null,Dg(d)===u&&(v=new v(g,y+"enter",w,n,d),v.target=_,v.relatedTarget=b,S=v),b=S,p&&w)t:{for(v=p,g=w,y=0,_=v;_;_=Cy(_))y++;for(_=0,S=g;S;S=Cy(S))_++;for(;0<y-_;)v=Cy(v),y--;for(;0<_-y;)g=Cy(g),_--;for(;y--;){if(v===g||g!==null&&v===g.alternate)break t;v=Cy(v),g=Cy(g)}v=null}else v=null;p!==null&&Mz(h,f,p,v,!1),w!==null&&b!==null&&Mz(h,b,w,v,!0)}}e:{if(f=u?sv(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var N=ece;else if(Dz(f))if(hK)N=rce;else{N=nce;var R=tce}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(N=ice);if(N&&(N=N(t,u))){dK(h,N,n,d);break e}R&&R(t,f,u),t==="focusout"&&(R=f._wrapperState)&&R.controlled&&f.type==="number"&&tL(f,"number",f.value)}switch(R=u?sv(u):window,t){case"focusin":(Dz(R)||R.contentEditable==="true")&&(rv=R,fL=u,b5=null);break;case"focusout":b5=fL=rv=null;break;case"mousedown":pL=!0;break;case"contextmenu":case"mouseup":case"dragend":pL=!1,Fz(h,n,d);break;case"selectionchange":if(oce)break;case"keydown":case"keyup":Fz(h,n,d)}var D;if(YO)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else iv?cK(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(lK&&n.locale!=="ko"&&(iv||E!=="onCompositionStart"?E==="onCompositionEnd"&&iv&&(D=oK()):(sm=d,GO="value"in sm?sm.value:sm.textContent,iv=!0)),R=sC(u,E),0<R.length&&(E=new kz(E,t,null,n,d),h.push({event:E,listeners:R}),D?E.data=D:(D=uK(n),D!==null&&(E.data=D)))),(D=Kle?Yle(t,n):Jle(t,n))&&(u=sC(u,"onBeforeInput"),0<u.length&&(d=new kz("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=D))}_K(h,e)})}function q5(t,e,n){return{instance:t,listener:e,currentTarget:n}}function sC(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,a=r.stateNode;r.tag===5&&a!==null&&(r=a,a=U5(t,n),a!=null&&i.unshift(q5(t,a,r)),a=U5(t,e),a!=null&&i.push(q5(t,a,r))),t=t.return}return i}function Cy(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Mz(t,e,n,i,r){for(var a=e._reactName,s=[];n!==null&&n!==i;){var o=n,c=o.alternate,u=o.stateNode;if(c!==null&&c===i)break;o.tag===5&&u!==null&&(o=u,r?(c=U5(n,a),c!=null&&s.unshift(q5(n,c,o))):r||(c=U5(n,a),c!=null&&s.push(q5(n,c,o)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var dce=/\r\n?/g,hce=/\u0000|\uFFFD/g;function Bz(t){return(typeof t=="string"?t:""+t).replace(dce,`
`).replace(hce,"")}function F3(t,e,n){if(e=Bz(e),Bz(t)!==e&&n)throw Error(mt(425))}function oC(){}var mL=null,gL=null;function yL(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vL=typeof setTimeout=="function"?setTimeout:void 0,fce=typeof clearTimeout=="function"?clearTimeout:void 0,zz=typeof Promise=="function"?Promise:void 0,pce=typeof queueMicrotask=="function"?queueMicrotask:typeof zz<"u"?function(t){return zz.resolve(null).then(t).catch(mce)}:vL;function mce(t){setTimeout(function(){throw t})}function fP(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),z5(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);z5(e)}function pm(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function jz(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ww=Math.random().toString(36).slice(2),ad="__reactFiber$"+ww,H5="__reactProps$"+ww,af="__reactContainer$"+ww,bL="__reactEvents$"+ww,gce="__reactListeners$"+ww,yce="__reactHandles$"+ww;function Dg(t){var e=t[ad];if(e)return e;for(var n=t.parentNode;n;){if(e=n[af]||n[ad]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=jz(t);t!==null;){if(n=t[ad])return n;t=jz(t)}return e}t=n,n=t.parentNode}return null}function wN(t){return t=t[ad]||t[af],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function sv(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(mt(33))}function ED(t){return t[H5]||null}var wL=[],ov=-1;function zm(t){return{current:t}}function Li(t){0>ov||(t.current=wL[ov],wL[ov]=null,ov--)}function Si(t,e){ov++,wL[ov]=t.current,t.current=e}var Tm={},ls=zm(Tm),co=zm(!1),E0=Tm;function Gb(t,e){var n=t.type.contextTypes;if(!n)return Tm;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},a;for(a in n)r[a]=e[a];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function uo(t){return t=t.childContextTypes,t!=null}function lC(){Li(co),Li(ls)}function $z(t,e,n){if(ls.current!==Tm)throw Error(mt(168));Si(ls,e),Si(co,n)}function AK(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(mt(108,tle(t)||"Unknown",r));return Vi({},n,i)}function cC(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Tm,E0=ls.current,Si(ls,t),Si(co,co.current),!0}function Wz(t,e,n){var i=t.stateNode;if(!i)throw Error(mt(169));n?(t=AK(t,e,E0),i.__reactInternalMemoizedMergedChildContext=t,Li(co),Li(ls),Si(ls,t)):Li(co),Si(co,n)}var rh=null,TD=!1,pP=!1;function NK(t){rh===null?rh=[t]:rh.push(t)}function vce(t){TD=!0,NK(t)}function jm(){if(!pP&&rh!==null){pP=!0;var t=0,e=Xn;try{var n=rh;for(Xn=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}rh=null,TD=!1}catch(r){throw rh!==null&&(rh=rh.slice(t+1)),YX(WO,jm),r}finally{Xn=e,pP=!1}}return null}var lv=[],cv=0,uC=null,dC=0,Zl=[],Ql=0,T0=null,Kh=1,Yh="";function gg(t,e){lv[cv++]=dC,lv[cv++]=uC,uC=t,dC=e}function kK(t,e,n){Zl[Ql++]=Kh,Zl[Ql++]=Yh,Zl[Ql++]=T0,T0=t;var i=Kh;t=Yh;var r=32-Zc(i)-1;i&=~(1<<r),n+=1;var a=32-Zc(e)+r;if(30<a){var s=r-r%5;a=(i&(1<<s)-1).toString(32),i>>=s,r-=s,Kh=1<<32-Zc(e)+r|n<<r|i,Yh=a+t}else Kh=1<<a|n<<r|i,Yh=t}function ZO(t){t.return!==null&&(gg(t,1),kK(t,1,0))}function QO(t){for(;t===uC;)uC=lv[--cv],lv[cv]=null,dC=lv[--cv],lv[cv]=null;for(;t===T0;)T0=Zl[--Ql],Zl[Ql]=null,Yh=Zl[--Ql],Zl[Ql]=null,Kh=Zl[--Ql],Zl[Ql]=null}var fl=null,ul=null,zi=!1,Gc=null;function CK(t,e){var n=rc(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function qz(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,fl=t,ul=pm(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,fl=t,ul=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=T0!==null?{id:Kh,overflow:Yh}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=rc(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,fl=t,ul=null,!0):!1;default:return!1}}function xL(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _L(t){if(zi){var e=ul;if(e){var n=e;if(!qz(t,e)){if(xL(t))throw Error(mt(418));e=pm(n.nextSibling);var i=fl;e&&qz(t,e)?CK(i,n):(t.flags=t.flags&-4097|2,zi=!1,fl=t)}}else{if(xL(t))throw Error(mt(418));t.flags=t.flags&-4097|2,zi=!1,fl=t}}}function Hz(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fl=t}function O3(t){if(t!==fl)return!1;if(!zi)return Hz(t),zi=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!yL(t.type,t.memoizedProps)),e&&(e=ul)){if(xL(t))throw EK(),Error(mt(418));for(;e;)CK(t,e),e=pm(e.nextSibling)}if(Hz(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(mt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ul=pm(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ul=null}}else ul=fl?pm(t.stateNode.nextSibling):null;return!0}function EK(){for(var t=ul;t;)t=pm(t.nextSibling)}function Xb(){ul=fl=null,zi=!1}function e9(t){Gc===null?Gc=[t]:Gc.push(t)}var bce=yf.ReactCurrentBatchConfig;function hx(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(mt(309));var i=n.stateNode}if(!i)throw Error(mt(147,t));var r=i,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(s){var o=r.refs;s===null?delete o[a]:o[a]=s},e._stringRef=a,e)}if(typeof t!="string")throw Error(mt(284));if(!n._owner)throw Error(mt(290,t))}return t}function U3(t,e){throw t=Object.prototype.toString.call(e),Error(mt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Vz(t){var e=t._init;return e(t._payload)}function TK(t){function e(g,y){if(t){var _=g.deletions;_===null?(g.deletions=[y],g.flags|=16):_.push(y)}}function n(g,y){if(!t)return null;for(;y!==null;)e(g,y),y=y.sibling;return null}function i(g,y){for(g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function r(g,y){return g=vm(g,y),g.index=0,g.sibling=null,g}function a(g,y,_){return g.index=_,t?(_=g.alternate,_!==null?(_=_.index,_<y?(g.flags|=2,y):_):(g.flags|=2,y)):(g.flags|=1048576,y)}function s(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,y,_,S){return y===null||y.tag!==6?(y=xP(_,g.mode,S),y.return=g,y):(y=r(y,_),y.return=g,y)}function c(g,y,_,S){var N=_.type;return N===nv?d(g,y,_.props.children,S,_.key):y!==null&&(y.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Qf&&Vz(N)===y.type)?(S=r(y,_.props),S.ref=hx(g,y,_),S.return=g,S):(S=jk(_.type,_.key,_.props,null,g.mode,S),S.ref=hx(g,y,_),S.return=g,S)}function u(g,y,_,S){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=_P(_,g.mode,S),y.return=g,y):(y=r(y,_.children||[]),y.return=g,y)}function d(g,y,_,S,N){return y===null||y.tag!==7?(y=b0(_,g.mode,S,N),y.return=g,y):(y=r(y,_),y.return=g,y)}function h(g,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=xP(""+y,g.mode,_),y.return=g,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case k3:return _=jk(y.type,y.key,y.props,null,g.mode,_),_.ref=hx(g,null,y),_.return=g,_;case tv:return y=_P(y,g.mode,_),y.return=g,y;case Qf:var S=y._init;return h(g,S(y._payload),_)}if(Ux(y)||ox(y))return y=b0(y,g.mode,_,null),y.return=g,y;U3(g,y)}return null}function f(g,y,_,S){var N=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return N!==null?null:o(g,y,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case k3:return _.key===N?c(g,y,_,S):null;case tv:return _.key===N?u(g,y,_,S):null;case Qf:return N=_._init,f(g,y,N(_._payload),S)}if(Ux(_)||ox(_))return N!==null?null:d(g,y,_,S,null);U3(g,_)}return null}function p(g,y,_,S,N){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(_)||null,o(y,g,""+S,N);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case k3:return g=g.get(S.key===null?_:S.key)||null,c(y,g,S,N);case tv:return g=g.get(S.key===null?_:S.key)||null,u(y,g,S,N);case Qf:var R=S._init;return p(g,y,_,R(S._payload),N)}if(Ux(S)||ox(S))return g=g.get(_)||null,d(y,g,S,N,null);U3(y,S)}return null}function w(g,y,_,S){for(var N=null,R=null,D=y,E=y=0,C=null;D!==null&&E<_.length;E++){D.index>E?(C=D,D=null):C=D.sibling;var P=f(g,D,_[E],S);if(P===null){D===null&&(D=C);break}t&&D&&P.alternate===null&&e(g,D),y=a(P,y,E),R===null?N=P:R.sibling=P,R=P,D=C}if(E===_.length)return n(g,D),zi&&gg(g,E),N;if(D===null){for(;E<_.length;E++)D=h(g,_[E],S),D!==null&&(y=a(D,y,E),R===null?N=D:R.sibling=D,R=D);return zi&&gg(g,E),N}for(D=i(g,D);E<_.length;E++)C=p(D,g,E,_[E],S),C!==null&&(t&&C.alternate!==null&&D.delete(C.key===null?E:C.key),y=a(C,y,E),R===null?N=C:R.sibling=C,R=C);return t&&D.forEach(function(k){return e(g,k)}),zi&&gg(g,E),N}function v(g,y,_,S){var N=ox(_);if(typeof N!="function")throw Error(mt(150));if(_=N.call(_),_==null)throw Error(mt(151));for(var R=N=null,D=y,E=y=0,C=null,P=_.next();D!==null&&!P.done;E++,P=_.next()){D.index>E?(C=D,D=null):C=D.sibling;var k=f(g,D,P.value,S);if(k===null){D===null&&(D=C);break}t&&D&&k.alternate===null&&e(g,D),y=a(k,y,E),R===null?N=k:R.sibling=k,R=k,D=C}if(P.done)return n(g,D),zi&&gg(g,E),N;if(D===null){for(;!P.done;E++,P=_.next())P=h(g,P.value,S),P!==null&&(y=a(P,y,E),R===null?N=P:R.sibling=P,R=P);return zi&&gg(g,E),N}for(D=i(g,D);!P.done;E++,P=_.next())P=p(D,g,E,P.value,S),P!==null&&(t&&P.alternate!==null&&D.delete(P.key===null?E:P.key),y=a(P,y,E),R===null?N=P:R.sibling=P,R=P);return t&&D.forEach(function(A){return e(g,A)}),zi&&gg(g,E),N}function b(g,y,_,S){if(typeof _=="object"&&_!==null&&_.type===nv&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case k3:e:{for(var N=_.key,R=y;R!==null;){if(R.key===N){if(N=_.type,N===nv){if(R.tag===7){n(g,R.sibling),y=r(R,_.props.children),y.return=g,g=y;break e}}else if(R.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Qf&&Vz(N)===R.type){n(g,R.sibling),y=r(R,_.props),y.ref=hx(g,R,_),y.return=g,g=y;break e}n(g,R);break}else e(g,R);R=R.sibling}_.type===nv?(y=b0(_.props.children,g.mode,S,_.key),y.return=g,g=y):(S=jk(_.type,_.key,_.props,null,g.mode,S),S.ref=hx(g,y,_),S.return=g,g=S)}return s(g);case tv:e:{for(R=_.key;y!==null;){if(y.key===R)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){n(g,y.sibling),y=r(y,_.children||[]),y.return=g,g=y;break e}else{n(g,y);break}else e(g,y);y=y.sibling}y=_P(_,g.mode,S),y.return=g,g=y}return s(g);case Qf:return R=_._init,b(g,y,R(_._payload),S)}if(Ux(_))return w(g,y,_,S);if(ox(_))return v(g,y,_,S);U3(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(n(g,y.sibling),y=r(y,_),y.return=g,g=y):(n(g,y),y=xP(_,g.mode,S),y.return=g,g=y),s(g)):n(g,y)}return b}var Kb=TK(!0),DK=TK(!1),hC=zm(null),fC=null,uv=null,t9=null;function n9(){t9=uv=fC=null}function i9(t){var e=hC.current;Li(hC),t._currentValue=e}function SL(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function kv(t,e){fC=t,t9=uv=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(so=!0),t.firstContext=null)}function cc(t){var e=t._currentValue;if(t9!==t)if(t={context:t,memoizedValue:e,next:null},uv===null){if(fC===null)throw Error(mt(308));uv=t,fC.dependencies={lanes:0,firstContext:t}}else uv=uv.next=t;return e}var Pg=null;function r9(t){Pg===null?Pg=[t]:Pg.push(t)}function PK(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,r9(e)):(n.next=r.next,r.next=n),e.interleaved=n,sf(t,i)}function sf(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ep=!1;function a9(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function IK(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ef(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function mm(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,En&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,sf(t,n)}return r=i.interleaved,r===null?(e.next=e,r9(i)):(e.next=r.next,r.next=e),i.interleaved=e,sf(t,n)}function Fk(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,qO(t,n)}}function Gz(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?r=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?r=a=e:a=a.next=e}else r=a=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:a,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function pC(t,e,n,i){var r=t.updateQueue;ep=!1;var a=r.firstBaseUpdate,s=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var c=o,u=c.next;c.next=null,s===null?a=u:s.next=u,s=c;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=r.baseState;s=0,d=u=c=null,o=a;do{var f=o.lane,p=o.eventTime;if((i&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var w=t,v=o;switch(f=e,p=n,v.tag){case 1:if(w=v.payload,typeof w=="function"){h=w.call(p,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,f=typeof w=="function"?w.call(p,h,f):w,f==null)break e;h=Vi({},h,f);break e;case 2:ep=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=r.effects,f===null?r.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,s|=f;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;f=o,o=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(1);if(d===null&&(c=h),r.baseState=c,r.firstBaseUpdate=u,r.lastBaseUpdate=d,e=r.shared.interleaved,e!==null){r=e;do s|=r.lane,r=r.next;while(r!==e)}else a===null&&(r.shared.lanes=0);P0|=s,t.lanes=s,t.memoizedState=h}}function Xz(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(mt(191,r));r.call(i)}}}var xN={},pd=zm(xN),V5=zm(xN),G5=zm(xN);function Ig(t){if(t===xN)throw Error(mt(174));return t}function s9(t,e){switch(Si(G5,e),Si(V5,t),Si(pd,xN),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:iL(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=iL(e,t)}Li(pd),Si(pd,e)}function Yb(){Li(pd),Li(V5),Li(G5)}function RK(t){Ig(G5.current);var e=Ig(pd.current),n=iL(e,t.type);e!==n&&(Si(V5,t),Si(pd,n))}function o9(t){V5.current===t&&(Li(pd),Li(V5))}var Wi=zm(0);function mC(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var mP=[];function l9(){for(var t=0;t<mP.length;t++)mP[t]._workInProgressVersionPrimary=null;mP.length=0}var Ok=yf.ReactCurrentDispatcher,gP=yf.ReactCurrentBatchConfig,D0=0,qi=null,jr=null,sa=null,gC=!1,w5=!1,X5=0,wce=0;function Wa(){throw Error(mt(321))}function c9(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!nu(t[n],e[n]))return!1;return!0}function u9(t,e,n,i,r,a){if(D0=a,qi=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ok.current=t===null||t.memoizedState===null?Ace:Nce,t=n(i,r),w5){a=0;do{if(w5=!1,X5=0,25<=a)throw Error(mt(301));a+=1,sa=jr=null,e.updateQueue=null,Ok.current=kce,t=n(i,r)}while(w5)}if(Ok.current=yC,e=jr!==null&&jr.next!==null,D0=0,sa=jr=qi=null,gC=!1,e)throw Error(mt(300));return t}function d9(){var t=X5!==0;return X5=0,t}function Pu(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sa===null?qi.memoizedState=sa=t:sa=sa.next=t,sa}function uc(){if(jr===null){var t=qi.alternate;t=t!==null?t.memoizedState:null}else t=jr.next;var e=sa===null?qi.memoizedState:sa.next;if(e!==null)sa=e,jr=t;else{if(t===null)throw Error(mt(310));jr=t,t={memoizedState:jr.memoizedState,baseState:jr.baseState,baseQueue:jr.baseQueue,queue:jr.queue,next:null},sa===null?qi.memoizedState=sa=t:sa=sa.next=t}return sa}function K5(t,e){return typeof e=="function"?e(t):e}function yP(t){var e=uc(),n=e.queue;if(n===null)throw Error(mt(311));n.lastRenderedReducer=t;var i=jr,r=i.baseQueue,a=n.pending;if(a!==null){if(r!==null){var s=r.next;r.next=a.next,a.next=s}i.baseQueue=r=a,n.pending=null}if(r!==null){a=r.next,i=i.baseState;var o=s=null,c=null,u=a;do{var d=u.lane;if((D0&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:t(i,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=h,s=i):c=c.next=h,qi.lanes|=d,P0|=d}u=u.next}while(u!==null&&u!==a);c===null?s=i:c.next=o,nu(i,e.memoizedState)||(so=!0),e.memoizedState=i,e.baseState=s,e.baseQueue=c,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do a=r.lane,qi.lanes|=a,P0|=a,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function vP(t){var e=uc(),n=e.queue;if(n===null)throw Error(mt(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,a=e.memoizedState;if(r!==null){n.pending=null;var s=r=r.next;do a=t(a,s.action),s=s.next;while(s!==r);nu(a,e.memoizedState)||(so=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,i]}function LK(){}function FK(t,e){var n=qi,i=uc(),r=e(),a=!nu(i.memoizedState,r);if(a&&(i.memoizedState=r,so=!0),i=i.queue,h9(MK.bind(null,n,i,t),[t]),i.getSnapshot!==e||a||sa!==null&&sa.memoizedState.tag&1){if(n.flags|=2048,Y5(9,UK.bind(null,n,i,r,e),void 0,null),da===null)throw Error(mt(349));D0&30||OK(n,e,r)}return r}function OK(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=qi.updateQueue,e===null?(e={lastEffect:null,stores:null},qi.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function UK(t,e,n,i){e.value=n,e.getSnapshot=i,BK(e)&&zK(t)}function MK(t,e,n){return n(function(){BK(e)&&zK(t)})}function BK(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!nu(t,n)}catch{return!0}}function zK(t){var e=sf(t,1);e!==null&&Qc(e,t,1,-1)}function Kz(t){var e=Pu();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:K5,lastRenderedState:t},e.queue=t,t=t.dispatch=Sce.bind(null,qi,t),[e.memoizedState,t]}function Y5(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=qi.updateQueue,e===null?(e={lastEffect:null,stores:null},qi.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function jK(){return uc().memoizedState}function Uk(t,e,n,i){var r=Pu();qi.flags|=t,r.memoizedState=Y5(1|e,n,void 0,i===void 0?null:i)}function DD(t,e,n,i){var r=uc();i=i===void 0?null:i;var a=void 0;if(jr!==null){var s=jr.memoizedState;if(a=s.destroy,i!==null&&c9(i,s.deps)){r.memoizedState=Y5(e,n,a,i);return}}qi.flags|=t,r.memoizedState=Y5(1|e,n,a,i)}function Yz(t,e){return Uk(8390656,8,t,e)}function h9(t,e){return DD(2048,8,t,e)}function $K(t,e){return DD(4,2,t,e)}function WK(t,e){return DD(4,4,t,e)}function qK(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function HK(t,e,n){return n=n!=null?n.concat([t]):null,DD(4,4,qK.bind(null,e,t),n)}function f9(){}function VK(t,e){var n=uc();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&c9(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function GK(t,e){var n=uc();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&c9(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function XK(t,e,n){return D0&21?(nu(n,e)||(n=QX(),qi.lanes|=n,P0|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,so=!0),t.memoizedState=n)}function xce(t,e){var n=Xn;Xn=n!==0&&4>n?n:4,t(!0);var i=gP.transition;gP.transition={};try{t(!1),e()}finally{Xn=n,gP.transition=i}}function KK(){return uc().memoizedState}function _ce(t,e,n){var i=ym(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},YK(t))JK(e,n);else if(n=PK(t,e,n,i),n!==null){var r=Ls();Qc(n,t,i,r),ZK(n,e,i)}}function Sce(t,e,n){var i=ym(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(YK(t))JK(e,r);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(r.hasEagerState=!0,r.eagerState=o,nu(o,s)){var c=e.interleaved;c===null?(r.next=r,r9(e)):(r.next=c.next,c.next=r),e.interleaved=r;return}}catch{}finally{}n=PK(t,e,r,i),n!==null&&(r=Ls(),Qc(n,t,i,r),ZK(n,e,i))}}function YK(t){var e=t.alternate;return t===qi||e!==null&&e===qi}function JK(t,e){w5=gC=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ZK(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,qO(t,n)}}var yC={readContext:cc,useCallback:Wa,useContext:Wa,useEffect:Wa,useImperativeHandle:Wa,useInsertionEffect:Wa,useLayoutEffect:Wa,useMemo:Wa,useReducer:Wa,useRef:Wa,useState:Wa,useDebugValue:Wa,useDeferredValue:Wa,useTransition:Wa,useMutableSource:Wa,useSyncExternalStore:Wa,useId:Wa,unstable_isNewReconciler:!1},Ace={readContext:cc,useCallback:function(t,e){return Pu().memoizedState=[t,e===void 0?null:e],t},useContext:cc,useEffect:Yz,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Uk(4194308,4,qK.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Uk(4194308,4,t,e)},useInsertionEffect:function(t,e){return Uk(4,2,t,e)},useMemo:function(t,e){var n=Pu();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Pu();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=_ce.bind(null,qi,t),[i.memoizedState,t]},useRef:function(t){var e=Pu();return t={current:t},e.memoizedState=t},useState:Kz,useDebugValue:f9,useDeferredValue:function(t){return Pu().memoizedState=t},useTransition:function(){var t=Kz(!1),e=t[0];return t=xce.bind(null,t[1]),Pu().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=qi,r=Pu();if(zi){if(n===void 0)throw Error(mt(407));n=n()}else{if(n=e(),da===null)throw Error(mt(349));D0&30||OK(i,e,n)}r.memoizedState=n;var a={value:n,getSnapshot:e};return r.queue=a,Yz(MK.bind(null,i,a,t),[t]),i.flags|=2048,Y5(9,UK.bind(null,i,a,n,e),void 0,null),n},useId:function(){var t=Pu(),e=da.identifierPrefix;if(zi){var n=Yh,i=Kh;n=(i&~(1<<32-Zc(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=X5++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=wce++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Nce={readContext:cc,useCallback:VK,useContext:cc,useEffect:h9,useImperativeHandle:HK,useInsertionEffect:$K,useLayoutEffect:WK,useMemo:GK,useReducer:yP,useRef:jK,useState:function(){return yP(K5)},useDebugValue:f9,useDeferredValue:function(t){var e=uc();return XK(e,jr.memoizedState,t)},useTransition:function(){var t=yP(K5)[0],e=uc().memoizedState;return[t,e]},useMutableSource:LK,useSyncExternalStore:FK,useId:KK,unstable_isNewReconciler:!1},kce={readContext:cc,useCallback:VK,useContext:cc,useEffect:h9,useImperativeHandle:HK,useInsertionEffect:$K,useLayoutEffect:WK,useMemo:GK,useReducer:vP,useRef:jK,useState:function(){return vP(K5)},useDebugValue:f9,useDeferredValue:function(t){var e=uc();return jr===null?e.memoizedState=t:XK(e,jr.memoizedState,t)},useTransition:function(){var t=vP(K5)[0],e=uc().memoizedState;return[t,e]},useMutableSource:LK,useSyncExternalStore:FK,useId:KK,unstable_isNewReconciler:!1};function Dc(t,e){if(t&&t.defaultProps){e=Vi({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function AL(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Vi({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var PD={isMounted:function(t){return(t=t._reactInternals)?Q0(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Ls(),r=ym(t),a=ef(i,r);a.payload=e,n!=null&&(a.callback=n),e=mm(t,a,r),e!==null&&(Qc(e,t,r,i),Fk(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Ls(),r=ym(t),a=ef(i,r);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=mm(t,a,r),e!==null&&(Qc(e,t,r,i),Fk(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ls(),i=ym(t),r=ef(n,i);r.tag=2,e!=null&&(r.callback=e),e=mm(t,r,i),e!==null&&(Qc(e,t,i,n),Fk(e,t,i))}};function Jz(t,e,n,i,r,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,a,s):e.prototype&&e.prototype.isPureReactComponent?!$5(n,i)||!$5(r,a):!0}function QK(t,e,n){var i=!1,r=Tm,a=e.contextType;return typeof a=="object"&&a!==null?a=cc(a):(r=uo(e)?E0:ls.current,i=e.contextTypes,a=(i=i!=null)?Gb(t,r):Tm),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=PD,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=a),e}function Zz(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&PD.enqueueReplaceState(e,e.state,null)}function NL(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},a9(t);var a=e.contextType;typeof a=="object"&&a!==null?r.context=cc(a):(a=uo(e)?E0:ls.current,r.context=Gb(t,a)),r.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(AL(t,e,a,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&PD.enqueueReplaceState(r,r.state,null),pC(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Jb(t,e){try{var n="",i=e;do n+=ele(i),i=i.return;while(i);var r=n}catch(a){r=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:r,digest:null}}function bP(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function kL(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Cce=typeof WeakMap=="function"?WeakMap:Map;function eY(t,e,n){n=ef(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){bC||(bC=!0,OL=i),kL(t,e)},n}function tY(t,e,n){n=ef(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){kL(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){kL(t,e),typeof i!="function"&&(gm===null?gm=new Set([this]):gm.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Qz(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new Cce;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=jce.bind(null,t,e,n),e.then(t,t))}function ej(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function tj(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ef(-1,1),e.tag=2,mm(n,e,1))),n.lanes|=1),t)}var Ece=yf.ReactCurrentOwner,so=!1;function Ds(t,e,n,i){e.child=t===null?DK(e,null,n,i):Kb(e,t.child,n,i)}function nj(t,e,n,i,r){n=n.render;var a=e.ref;return kv(e,r),i=u9(t,e,n,i,a,r),n=d9(),t!==null&&!so?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,of(t,e,r)):(zi&&n&&ZO(e),e.flags|=1,Ds(t,e,i,r),e.child)}function ij(t,e,n,i,r){if(t===null){var a=n.type;return typeof a=="function"&&!x9(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,nY(t,e,a,i,r)):(t=jk(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&r)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:$5,n(s,i)&&t.ref===e.ref)return of(t,e,r)}return e.flags|=1,t=vm(a,i),t.ref=e.ref,t.return=e,e.child=t}function nY(t,e,n,i,r){if(t!==null){var a=t.memoizedProps;if($5(a,i)&&t.ref===e.ref)if(so=!1,e.pendingProps=i=a,(t.lanes&r)!==0)t.flags&131072&&(so=!0);else return e.lanes=t.lanes,of(t,e,r)}return CL(t,e,n,i,r)}function iY(t,e,n){var i=e.pendingProps,r=i.children,a=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Si(hv,ol),ol|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Si(hv,ol),ol|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=a!==null?a.baseLanes:n,Si(hv,ol),ol|=i}else a!==null?(i=a.baseLanes|n,e.memoizedState=null):i=n,Si(hv,ol),ol|=i;return Ds(t,e,r,n),e.child}function rY(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function CL(t,e,n,i,r){var a=uo(n)?E0:ls.current;return a=Gb(e,a),kv(e,r),n=u9(t,e,n,i,a,r),i=d9(),t!==null&&!so?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,of(t,e,r)):(zi&&i&&ZO(e),e.flags|=1,Ds(t,e,n,r),e.child)}function rj(t,e,n,i,r){if(uo(n)){var a=!0;cC(e)}else a=!1;if(kv(e,r),e.stateNode===null)Mk(t,e),QK(e,n,i),NL(e,n,i,r),i=!0;else if(t===null){var s=e.stateNode,o=e.memoizedProps;s.props=o;var c=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=cc(u):(u=uo(n)?E0:ls.current,u=Gb(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==i||c!==u)&&Zz(e,s,i,u),ep=!1;var f=e.memoizedState;s.state=f,pC(e,i,s,r),c=e.memoizedState,o!==i||f!==c||co.current||ep?(typeof d=="function"&&(AL(e,n,d,i),c=e.memoizedState),(o=ep||Jz(e,n,o,i,f,c,u))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=c),s.props=i,s.state=c,s.context=u,i=o):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,IK(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Dc(e.type,o),s.props=u,h=e.pendingProps,f=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=cc(c):(c=uo(n)?E0:ls.current,c=Gb(e,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==h||f!==c)&&Zz(e,s,i,c),ep=!1,f=e.memoizedState,s.state=f,pC(e,i,s,r);var w=e.memoizedState;o!==h||f!==w||co.current||ep?(typeof p=="function"&&(AL(e,n,p,i),w=e.memoizedState),(u=ep||Jz(e,n,u,i,f,w,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,w,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,w,c)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=w),s.props=i,s.state=w,s.context=c,i=u):(typeof s.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),i=!1)}return EL(t,e,n,i,a,r)}function EL(t,e,n,i,r,a){rY(t,e);var s=(e.flags&128)!==0;if(!i&&!s)return r&&Wz(e,n,!1),of(t,e,a);i=e.stateNode,Ece.current=e;var o=s&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&s?(e.child=Kb(e,t.child,null,a),e.child=Kb(e,null,o,a)):Ds(t,e,o,a),e.memoizedState=i.state,r&&Wz(e,n,!0),e.child}function aY(t){var e=t.stateNode;e.pendingContext?$z(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$z(t,e.context,!1),s9(t,e.containerInfo)}function aj(t,e,n,i,r){return Xb(),e9(r),e.flags|=256,Ds(t,e,n,i),e.child}var TL={dehydrated:null,treeContext:null,retryLane:0};function DL(t){return{baseLanes:t,cachePool:null,transitions:null}}function sY(t,e,n){var i=e.pendingProps,r=Wi.current,a=!1,s=(e.flags&128)!==0,o;if((o=s)||(o=t!==null&&t.memoizedState===null?!1:(r&2)!==0),o?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),Si(Wi,r&1),t===null)return _L(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=i.children,t=i.fallback,a?(i=e.mode,a=e.child,s={mode:"hidden",children:s},!(i&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=LD(s,i,0,null),t=b0(t,i,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=DL(n),e.memoizedState=TL,t):p9(e,s));if(r=t.memoizedState,r!==null&&(o=r.dehydrated,o!==null))return Tce(t,e,s,i,o,r,n);if(a){a=i.fallback,s=e.mode,r=t.child,o=r.sibling;var c={mode:"hidden",children:i.children};return!(s&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=c,e.deletions=null):(i=vm(r,c),i.subtreeFlags=r.subtreeFlags&14680064),o!==null?a=vm(o,a):(a=b0(a,s,n,null),a.flags|=2),a.return=e,i.return=e,i.sibling=a,e.child=i,i=a,a=e.child,s=t.child.memoizedState,s=s===null?DL(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=t.childLanes&~n,e.memoizedState=TL,i}return a=t.child,t=a.sibling,i=vm(a,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function p9(t,e){return e=LD({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function M3(t,e,n,i){return i!==null&&e9(i),Kb(e,t.child,null,n),t=p9(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Tce(t,e,n,i,r,a,s){if(n)return e.flags&256?(e.flags&=-257,i=bP(Error(mt(422))),M3(t,e,s,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=i.fallback,r=e.mode,i=LD({mode:"visible",children:i.children},r,0,null),a=b0(a,r,s,null),a.flags|=2,i.return=e,a.return=e,i.sibling=a,e.child=i,e.mode&1&&Kb(e,t.child,null,s),e.child.memoizedState=DL(s),e.memoizedState=TL,a);if(!(e.mode&1))return M3(t,e,s,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var o=i.dgst;return i=o,a=Error(mt(419)),i=bP(a,i,void 0),M3(t,e,s,i)}if(o=(s&t.childLanes)!==0,so||o){if(i=da,i!==null){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|s)?0:r,r!==0&&r!==a.retryLane&&(a.retryLane=r,sf(t,r),Qc(i,t,r,-1))}return w9(),i=bP(Error(mt(421))),M3(t,e,s,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=$ce.bind(null,t),r._reactRetry=e,null):(t=a.treeContext,ul=pm(r.nextSibling),fl=e,zi=!0,Gc=null,t!==null&&(Zl[Ql++]=Kh,Zl[Ql++]=Yh,Zl[Ql++]=T0,Kh=t.id,Yh=t.overflow,T0=e),e=p9(e,i.children),e.flags|=4096,e)}function sj(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),SL(t.return,e,n)}function wP(t,e,n,i,r){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r)}function oY(t,e,n){var i=e.pendingProps,r=i.revealOrder,a=i.tail;if(Ds(t,e,i.children,n),i=Wi.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sj(t,n,e);else if(t.tag===19)sj(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Si(Wi,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&mC(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),wP(e,!1,r,n,a);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&mC(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}wP(e,!0,n,null,a);break;case"together":wP(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Mk(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function of(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),P0|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(mt(153));if(e.child!==null){for(t=e.child,n=vm(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=vm(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Dce(t,e,n){switch(e.tag){case 3:aY(e),Xb();break;case 5:RK(e);break;case 1:uo(e.type)&&cC(e);break;case 4:s9(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Si(hC,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Si(Wi,Wi.current&1),e.flags|=128,null):n&e.child.childLanes?sY(t,e,n):(Si(Wi,Wi.current&1),t=of(t,e,n),t!==null?t.sibling:null);Si(Wi,Wi.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return oY(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Si(Wi,Wi.current),i)break;return null;case 22:case 23:return e.lanes=0,iY(t,e,n)}return of(t,e,n)}var lY,PL,cY,uY;lY=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};PL=function(){};cY=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Ig(pd.current);var a=null;switch(n){case"input":r=QR(t,r),i=QR(t,i),a=[];break;case"select":r=Vi({},r,{value:void 0}),i=Vi({},i,{value:void 0}),a=[];break;case"textarea":r=nL(t,r),i=nL(t,i),a=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=oC)}rL(n,i);var s;n=null;for(u in r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var o=r[u];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(F5.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in i){var c=i[u];if(o=r!=null?r[u]:void 0,i.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&o[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(F5.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Pi("scroll",t),a||o===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};uY=function(t,e,n,i){n!==i&&(e.flags|=4)};function fx(t,e){if(!zi)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function qa(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function Pce(t,e,n){var i=e.pendingProps;switch(QO(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qa(e),null;case 1:return uo(e.type)&&lC(),qa(e),null;case 3:return i=e.stateNode,Yb(),Li(co),Li(ls),l9(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(O3(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gc!==null&&(BL(Gc),Gc=null))),PL(t,e),qa(e),null;case 5:o9(e);var r=Ig(G5.current);if(n=e.type,t!==null&&e.stateNode!=null)cY(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(mt(166));return qa(e),null}if(t=Ig(pd.current),O3(e)){i=e.stateNode,n=e.type;var a=e.memoizedProps;switch(i[ad]=e,i[H5]=a,t=(e.mode&1)!==0,n){case"dialog":Pi("cancel",i),Pi("close",i);break;case"iframe":case"object":case"embed":Pi("load",i);break;case"video":case"audio":for(r=0;r<Bx.length;r++)Pi(Bx[r],i);break;case"source":Pi("error",i);break;case"img":case"image":case"link":Pi("error",i),Pi("load",i);break;case"details":Pi("toggle",i);break;case"input":mz(i,a),Pi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},Pi("invalid",i);break;case"textarea":yz(i,a),Pi("invalid",i)}rL(n,a),r=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?i.textContent!==o&&(a.suppressHydrationWarning!==!0&&F3(i.textContent,o,t),r=["children",o]):typeof o=="number"&&i.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&F3(i.textContent,o,t),r=["children",""+o]):F5.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&Pi("scroll",i)}switch(n){case"input":C3(i),gz(i,a,!0);break;case"textarea":C3(i),vz(i);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(i.onclick=oC)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{s=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=MX(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=s.createElement(n,{is:i.is}):(t=s.createElement(n),n==="select"&&(s=t,i.multiple?s.multiple=!0:i.size&&(s.size=i.size))):t=s.createElementNS(t,n),t[ad]=e,t[H5]=i,lY(t,e,!1,!1),e.stateNode=t;e:{switch(s=aL(n,i),n){case"dialog":Pi("cancel",t),Pi("close",t),r=i;break;case"iframe":case"object":case"embed":Pi("load",t),r=i;break;case"video":case"audio":for(r=0;r<Bx.length;r++)Pi(Bx[r],t);r=i;break;case"source":Pi("error",t),r=i;break;case"img":case"image":case"link":Pi("error",t),Pi("load",t),r=i;break;case"details":Pi("toggle",t),r=i;break;case"input":mz(t,i),r=QR(t,i),Pi("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=Vi({},i,{value:void 0}),Pi("invalid",t);break;case"textarea":yz(t,i),r=nL(t,i),Pi("invalid",t);break;default:r=i}rL(n,r),o=r;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?jX(t,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&BX(t,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&O5(t,c):typeof c=="number"&&O5(t,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(F5.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Pi("scroll",t):c!=null&&MO(t,a,c,s))}switch(n){case"input":C3(t),gz(t,i,!1);break;case"textarea":C3(t),vz(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Em(i.value));break;case"select":t.multiple=!!i.multiple,a=i.value,a!=null?_v(t,!!i.multiple,a,!1):i.defaultValue!=null&&_v(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=oC)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qa(e),null;case 6:if(t&&e.stateNode!=null)uY(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(mt(166));if(n=Ig(G5.current),Ig(pd.current),O3(e)){if(i=e.stateNode,n=e.memoizedProps,i[ad]=e,(a=i.nodeValue!==n)&&(t=fl,t!==null))switch(t.tag){case 3:F3(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&F3(i.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[ad]=e,e.stateNode=i}return qa(e),null;case 13:if(Li(Wi),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(zi&&ul!==null&&e.mode&1&&!(e.flags&128))EK(),Xb(),e.flags|=98560,a=!1;else if(a=O3(e),i!==null&&i.dehydrated!==null){if(t===null){if(!a)throw Error(mt(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(mt(317));a[ad]=e}else Xb(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qa(e),a=!1}else Gc!==null&&(BL(Gc),Gc=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Wi.current&1?$r===0&&($r=3):w9())),e.updateQueue!==null&&(e.flags|=4),qa(e),null);case 4:return Yb(),PL(t,e),t===null&&W5(e.stateNode.containerInfo),qa(e),null;case 10:return i9(e.type._context),qa(e),null;case 17:return uo(e.type)&&lC(),qa(e),null;case 19:if(Li(Wi),a=e.memoizedState,a===null)return qa(e),null;if(i=(e.flags&128)!==0,s=a.rendering,s===null)if(i)fx(a,!1);else{if($r!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=mC(t),s!==null){for(e.flags|=128,fx(a,!1),i=s.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)a=n,t=i,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,t=s.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Si(Wi,Wi.current&1|2),e.child}t=t.sibling}a.tail!==null&&fr()>Zb&&(e.flags|=128,i=!0,fx(a,!1),e.lanes=4194304)}else{if(!i)if(t=mC(s),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),fx(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!zi)return qa(e),null}else 2*fr()-a.renderingStartTime>Zb&&n!==1073741824&&(e.flags|=128,i=!0,fx(a,!1),e.lanes=4194304);a.isBackwards?(s.sibling=e.child,e.child=s):(n=a.last,n!==null?n.sibling=s:e.child=s,a.last=s)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=fr(),e.sibling=null,n=Wi.current,Si(Wi,i?n&1|2:n&1),e):(qa(e),null);case 22:case 23:return b9(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?ol&1073741824&&(qa(e),e.subtreeFlags&6&&(e.flags|=8192)):qa(e),null;case 24:return null;case 25:return null}throw Error(mt(156,e.tag))}function Ice(t,e){switch(QO(e),e.tag){case 1:return uo(e.type)&&lC(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yb(),Li(co),Li(ls),l9(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return o9(e),null;case 13:if(Li(Wi),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(mt(340));Xb()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Li(Wi),null;case 4:return Yb(),null;case 10:return i9(e.type._context),null;case 22:case 23:return b9(),null;case 24:return null;default:return null}}var B3=!1,as=!1,Rce=typeof WeakSet=="function"?WeakSet:Set,Ct=null;function dv(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){ir(t,e,i)}else n.current=null}function IL(t,e,n){try{n()}catch(i){ir(t,e,i)}}var oj=!1;function Lce(t,e){if(mL=rC,t=mK(),JO(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==n||r!==0&&h.nodeType!==3||(o=s+r),h!==a||i!==0&&h.nodeType!==3||(c=s+i),h.nodeType===3&&(s+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++u===r&&(o=s),f===a&&++d===i&&(c=s),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(gL={focusedElem:t,selectionRange:n},rC=!1,Ct=e;Ct!==null;)if(e=Ct,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ct=t;else for(;Ct!==null;){e=Ct;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,b=w.memoizedState,g=e.stateNode,y=g.getSnapshotBeforeUpdate(e.elementType===e.type?v:Dc(e.type,v),b);g.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(mt(163))}}catch(S){ir(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,Ct=t;break}Ct=e.return}return w=oj,oj=!1,w}function x5(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var a=r.destroy;r.destroy=void 0,a!==void 0&&IL(e,n,a)}r=r.next}while(r!==i)}}function ID(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function RL(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function dY(t){var e=t.alternate;e!==null&&(t.alternate=null,dY(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ad],delete e[H5],delete e[bL],delete e[gce],delete e[yce])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function hY(t){return t.tag===5||t.tag===3||t.tag===4}function lj(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hY(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function LL(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=oC));else if(i!==4&&(t=t.child,t!==null))for(LL(t,e,n),t=t.sibling;t!==null;)LL(t,e,n),t=t.sibling}function FL(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(FL(t,e,n),t=t.sibling;t!==null;)FL(t,e,n),t=t.sibling}var ka=null,Hc=!1;function Hf(t,e,n){for(n=n.child;n!==null;)fY(t,e,n),n=n.sibling}function fY(t,e,n){if(fd&&typeof fd.onCommitFiberUnmount=="function")try{fd.onCommitFiberUnmount(AD,n)}catch{}switch(n.tag){case 5:as||dv(n,e);case 6:var i=ka,r=Hc;ka=null,Hf(t,e,n),ka=i,Hc=r,ka!==null&&(Hc?(t=ka,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ka.removeChild(n.stateNode));break;case 18:ka!==null&&(Hc?(t=ka,n=n.stateNode,t.nodeType===8?fP(t.parentNode,n):t.nodeType===1&&fP(t,n),z5(t)):fP(ka,n.stateNode));break;case 4:i=ka,r=Hc,ka=n.stateNode.containerInfo,Hc=!0,Hf(t,e,n),ka=i,Hc=r;break;case 0:case 11:case 14:case 15:if(!as&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var a=r,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&IL(n,e,s),r=r.next}while(r!==i)}Hf(t,e,n);break;case 1:if(!as&&(dv(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(o){ir(n,e,o)}Hf(t,e,n);break;case 21:Hf(t,e,n);break;case 22:n.mode&1?(as=(i=as)||n.memoizedState!==null,Hf(t,e,n),as=i):Hf(t,e,n);break;default:Hf(t,e,n)}}function cj(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Rce),e.forEach(function(i){var r=Wce.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function Nc(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 5:ka=o.stateNode,Hc=!1;break e;case 3:ka=o.stateNode.containerInfo,Hc=!0;break e;case 4:ka=o.stateNode.containerInfo,Hc=!0;break e}o=o.return}if(ka===null)throw Error(mt(160));fY(a,s,r),ka=null,Hc=!1;var c=r.alternate;c!==null&&(c.return=null),r.return=null}catch(u){ir(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)pY(e,t),e=e.sibling}function pY(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Nc(e,t),_u(t),i&4){try{x5(3,t,t.return),ID(3,t)}catch(v){ir(t,t.return,v)}try{x5(5,t,t.return)}catch(v){ir(t,t.return,v)}}break;case 1:Nc(e,t),_u(t),i&512&&n!==null&&dv(n,n.return);break;case 5:if(Nc(e,t),_u(t),i&512&&n!==null&&dv(n,n.return),t.flags&32){var r=t.stateNode;try{O5(r,"")}catch(v){ir(t,t.return,v)}}if(i&4&&(r=t.stateNode,r!=null)){var a=t.memoizedProps,s=n!==null?n.memoizedProps:a,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&OX(r,a),aL(o,s);var u=aL(o,a);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];d==="style"?jX(r,h):d==="dangerouslySetInnerHTML"?BX(r,h):d==="children"?O5(r,h):MO(r,d,h,u)}switch(o){case"input":eL(r,a);break;case"textarea":UX(r,a);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?_v(r,!!a.multiple,p,!1):f!==!!a.multiple&&(a.defaultValue!=null?_v(r,!!a.multiple,a.defaultValue,!0):_v(r,!!a.multiple,a.multiple?[]:"",!1))}r[H5]=a}catch(v){ir(t,t.return,v)}}break;case 6:if(Nc(e,t),_u(t),i&4){if(t.stateNode===null)throw Error(mt(162));r=t.stateNode,a=t.memoizedProps;try{r.nodeValue=a}catch(v){ir(t,t.return,v)}}break;case 3:if(Nc(e,t),_u(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{z5(e.containerInfo)}catch(v){ir(t,t.return,v)}break;case 4:Nc(e,t),_u(t);break;case 13:Nc(e,t),_u(t),r=t.child,r.flags&8192&&(a=r.memoizedState!==null,r.stateNode.isHidden=a,!a||r.alternate!==null&&r.alternate.memoizedState!==null||(y9=fr())),i&4&&cj(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(as=(u=as)||d,Nc(e,t),as=u):Nc(e,t),_u(t),i&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Ct=t,d=t.child;d!==null;){for(h=Ct=d;Ct!==null;){switch(f=Ct,p=f.child,f.tag){case 0:case 11:case 14:case 15:x5(4,f,f.return);break;case 1:dv(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){i=f,n=f.return;try{e=i,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(v){ir(i,n,v)}}break;case 5:dv(f,f.return);break;case 22:if(f.memoizedState!==null){dj(h);continue}}p!==null?(p.return=f,Ct=p):dj(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{r=h.stateNode,u?(a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=h.stateNode,c=h.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=zX("display",s))}catch(v){ir(t,t.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){ir(t,t.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Nc(e,t),_u(t),i&4&&cj(t);break;case 21:break;default:Nc(e,t),_u(t)}}function _u(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(hY(n)){var i=n;break e}n=n.return}throw Error(mt(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(O5(r,""),i.flags&=-33);var a=lj(t);FL(t,a,r);break;case 3:case 4:var s=i.stateNode.containerInfo,o=lj(t);LL(t,o,s);break;default:throw Error(mt(161))}}catch(c){ir(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Fce(t,e,n){Ct=t,mY(t)}function mY(t,e,n){for(var i=(t.mode&1)!==0;Ct!==null;){var r=Ct,a=r.child;if(r.tag===22&&i){var s=r.memoizedState!==null||B3;if(!s){var o=r.alternate,c=o!==null&&o.memoizedState!==null||as;o=B3;var u=as;if(B3=s,(as=c)&&!u)for(Ct=r;Ct!==null;)s=Ct,c=s.child,s.tag===22&&s.memoizedState!==null?hj(r):c!==null?(c.return=s,Ct=c):hj(r);for(;a!==null;)Ct=a,mY(a),a=a.sibling;Ct=r,B3=o,as=u}uj(t)}else r.subtreeFlags&8772&&a!==null?(a.return=r,Ct=a):uj(t)}}function uj(t){for(;Ct!==null;){var e=Ct;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:as||ID(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!as)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Dc(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&Xz(e,a,i);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Xz(e,s,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&z5(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(mt(163))}as||e.flags&512&&RL(e)}catch(f){ir(e,e.return,f)}}if(e===t){Ct=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ct=n;break}Ct=e.return}}function dj(t){for(;Ct!==null;){var e=Ct;if(e===t){Ct=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ct=n;break}Ct=e.return}}function hj(t){for(;Ct!==null;){var e=Ct;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ID(4,e)}catch(c){ir(e,n,c)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(c){ir(e,r,c)}}var a=e.return;try{RL(e)}catch(c){ir(e,a,c)}break;case 5:var s=e.return;try{RL(e)}catch(c){ir(e,s,c)}}}catch(c){ir(e,e.return,c)}if(e===t){Ct=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Ct=o;break}Ct=e.return}}var Oce=Math.ceil,vC=yf.ReactCurrentDispatcher,m9=yf.ReactCurrentOwner,ac=yf.ReactCurrentBatchConfig,En=0,da=null,kr=null,Da=0,ol=0,hv=zm(0),$r=0,J5=null,P0=0,RD=0,g9=0,_5=null,no=null,y9=0,Zb=1/0,th=null,bC=!1,OL=null,gm=null,z3=!1,om=null,wC=0,S5=0,UL=null,Bk=-1,zk=0;function Ls(){return En&6?fr():Bk!==-1?Bk:Bk=fr()}function ym(t){return t.mode&1?En&2&&Da!==0?Da&-Da:bce.transition!==null?(zk===0&&(zk=QX()),zk):(t=Xn,t!==0||(t=window.event,t=t===void 0?16:sK(t.type)),t):1}function Qc(t,e,n,i){if(50<S5)throw S5=0,UL=null,Error(mt(185));vN(t,n,i),(!(En&2)||t!==da)&&(t===da&&(!(En&2)&&(RD|=n),$r===4&&ip(t,Da)),ho(t,i),n===1&&En===0&&!(e.mode&1)&&(Zb=fr()+500,TD&&jm()))}function ho(t,e){var n=t.callbackNode;ble(t,e);var i=iC(t,t===da?Da:0);if(i===0)n!==null&&xz(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&xz(n),e===1)t.tag===0?vce(fj.bind(null,t)):NK(fj.bind(null,t)),pce(function(){!(En&6)&&jm()}),n=null;else{switch(eK(i)){case 1:n=WO;break;case 4:n=JX;break;case 16:n=nC;break;case 536870912:n=ZX;break;default:n=nC}n=SY(n,gY.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function gY(t,e){if(Bk=-1,zk=0,En&6)throw Error(mt(327));var n=t.callbackNode;if(Cv()&&t.callbackNode!==n)return null;var i=iC(t,t===da?Da:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=xC(t,i);else{e=i;var r=En;En|=2;var a=vY();(da!==t||Da!==e)&&(th=null,Zb=fr()+500,v0(t,e));do try{Bce();break}catch(o){yY(t,o)}while(1);n9(),vC.current=a,En=r,kr!==null?e=0:(da=null,Da=0,e=$r)}if(e!==0){if(e===2&&(r=uL(t),r!==0&&(i=r,e=ML(t,r))),e===1)throw n=J5,v0(t,0),ip(t,i),ho(t,fr()),n;if(e===6)ip(t,i);else{if(r=t.current.alternate,!(i&30)&&!Uce(r)&&(e=xC(t,i),e===2&&(a=uL(t),a!==0&&(i=a,e=ML(t,a))),e===1))throw n=J5,v0(t,0),ip(t,i),ho(t,fr()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(mt(345));case 2:yg(t,no,th);break;case 3:if(ip(t,i),(i&130023424)===i&&(e=y9+500-fr(),10<e)){if(iC(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){Ls(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=vL(yg.bind(null,t,no,th),e);break}yg(t,no,th);break;case 4:if(ip(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var s=31-Zc(i);a=1<<s,s=e[s],s>r&&(r=s),i&=~a}if(i=r,i=fr()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Oce(i/1960))-i,10<i){t.timeoutHandle=vL(yg.bind(null,t,no,th),i);break}yg(t,no,th);break;case 5:yg(t,no,th);break;default:throw Error(mt(329))}}}return ho(t,fr()),t.callbackNode===n?gY.bind(null,t):null}function ML(t,e){var n=_5;return t.current.memoizedState.isDehydrated&&(v0(t,e).flags|=256),t=xC(t,e),t!==2&&(e=no,no=n,e!==null&&BL(e)),t}function BL(t){no===null?no=t:no.push.apply(no,t)}function Uce(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],a=r.getSnapshot;r=r.value;try{if(!nu(a(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ip(t,e){for(e&=~g9,e&=~RD,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Zc(e),i=1<<n;t[n]=-1,e&=~i}}function fj(t){if(En&6)throw Error(mt(327));Cv();var e=iC(t,0);if(!(e&1))return ho(t,fr()),null;var n=xC(t,e);if(t.tag!==0&&n===2){var i=uL(t);i!==0&&(e=i,n=ML(t,i))}if(n===1)throw n=J5,v0(t,0),ip(t,e),ho(t,fr()),n;if(n===6)throw Error(mt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,yg(t,no,th),ho(t,fr()),null}function v9(t,e){var n=En;En|=1;try{return t(e)}finally{En=n,En===0&&(Zb=fr()+500,TD&&jm())}}function I0(t){om!==null&&om.tag===0&&!(En&6)&&Cv();var e=En;En|=1;var n=ac.transition,i=Xn;try{if(ac.transition=null,Xn=1,t)return t()}finally{Xn=i,ac.transition=n,En=e,!(En&6)&&jm()}}function b9(){ol=hv.current,Li(hv)}function v0(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,fce(n)),kr!==null)for(n=kr.return;n!==null;){var i=n;switch(QO(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&lC();break;case 3:Yb(),Li(co),Li(ls),l9();break;case 5:o9(i);break;case 4:Yb();break;case 13:Li(Wi);break;case 19:Li(Wi);break;case 10:i9(i.type._context);break;case 22:case 23:b9()}n=n.return}if(da=t,kr=t=vm(t.current,null),Da=ol=e,$r=0,J5=null,g9=RD=P0=0,no=_5=null,Pg!==null){for(e=0;e<Pg.length;e++)if(n=Pg[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,a=n.pending;if(a!==null){var s=a.next;a.next=r,i.next=s}n.pending=i}Pg=null}return t}function yY(t,e){do{var n=kr;try{if(n9(),Ok.current=yC,gC){for(var i=qi.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}gC=!1}if(D0=0,sa=jr=qi=null,w5=!1,X5=0,m9.current=null,n===null||n.return===null){$r=1,J5=e,kr=null;break}e:{var a=t,s=n.return,o=n,c=e;if(e=Da,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ej(s);if(p!==null){p.flags&=-257,tj(p,s,o,a,e),p.mode&1&&Qz(a,u,e),e=p,c=u;var w=e.updateQueue;if(w===null){var v=new Set;v.add(c),e.updateQueue=v}else w.add(c);break e}else{if(!(e&1)){Qz(a,u,e),w9();break e}c=Error(mt(426))}}else if(zi&&o.mode&1){var b=ej(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),tj(b,s,o,a,e),e9(Jb(c,o));break e}}a=c=Jb(c,o),$r!==4&&($r=2),_5===null?_5=[a]:_5.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var g=eY(a,c,e);Gz(a,g);break e;case 1:o=c;var y=a.type,_=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(gm===null||!gm.has(_)))){a.flags|=65536,e&=-e,a.lanes|=e;var S=tY(a,o,e);Gz(a,S);break e}}a=a.return}while(a!==null)}wY(n)}catch(N){e=N,kr===n&&n!==null&&(kr=n=n.return);continue}break}while(1)}function vY(){var t=vC.current;return vC.current=yC,t===null?yC:t}function w9(){($r===0||$r===3||$r===2)&&($r=4),da===null||!(P0&268435455)&&!(RD&268435455)||ip(da,Da)}function xC(t,e){var n=En;En|=2;var i=vY();(da!==t||Da!==e)&&(th=null,v0(t,e));do try{Mce();break}catch(r){yY(t,r)}while(1);if(n9(),En=n,vC.current=i,kr!==null)throw Error(mt(261));return da=null,Da=0,$r}function Mce(){for(;kr!==null;)bY(kr)}function Bce(){for(;kr!==null&&!ule();)bY(kr)}function bY(t){var e=_Y(t.alternate,t,ol);t.memoizedProps=t.pendingProps,e===null?wY(t):kr=e,m9.current=null}function wY(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Ice(n,e),n!==null){n.flags&=32767,kr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$r=6,kr=null;return}}else if(n=Pce(n,e,ol),n!==null){kr=n;return}if(e=e.sibling,e!==null){kr=e;return}kr=e=t}while(e!==null);$r===0&&($r=5)}function yg(t,e,n){var i=Xn,r=ac.transition;try{ac.transition=null,Xn=1,zce(t,e,n,i)}finally{ac.transition=r,Xn=i}return null}function zce(t,e,n,i){do Cv();while(om!==null);if(En&6)throw Error(mt(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(mt(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(wle(t,a),t===da&&(kr=da=null,Da=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||z3||(z3=!0,SY(nC,function(){return Cv(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=ac.transition,ac.transition=null;var s=Xn;Xn=1;var o=En;En|=4,m9.current=null,Lce(t,n),pY(n,t),sce(gL),rC=!!mL,gL=mL=null,t.current=n,Fce(n),dle(),En=o,Xn=s,ac.transition=a}else t.current=n;if(z3&&(z3=!1,om=t,wC=r),a=t.pendingLanes,a===0&&(gm=null),ple(n.stateNode),ho(t,fr()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(bC)throw bC=!1,t=OL,OL=null,t;return wC&1&&t.tag!==0&&Cv(),a=t.pendingLanes,a&1?t===UL?S5++:(S5=0,UL=t):S5=0,jm(),null}function Cv(){if(om!==null){var t=eK(wC),e=ac.transition,n=Xn;try{if(ac.transition=null,Xn=16>t?16:t,om===null)var i=!1;else{if(t=om,om=null,wC=0,En&6)throw Error(mt(331));var r=En;for(En|=4,Ct=t.current;Ct!==null;){var a=Ct,s=a.child;if(Ct.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(Ct=u;Ct!==null;){var d=Ct;switch(d.tag){case 0:case 11:case 15:x5(8,d,a)}var h=d.child;if(h!==null)h.return=d,Ct=h;else for(;Ct!==null;){d=Ct;var f=d.sibling,p=d.return;if(dY(d),d===u){Ct=null;break}if(f!==null){f.return=p,Ct=f;break}Ct=p}}}var w=a.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}Ct=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Ct=s;else e:for(;Ct!==null;){if(a=Ct,a.flags&2048)switch(a.tag){case 0:case 11:case 15:x5(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,Ct=g;break e}Ct=a.return}}var y=t.current;for(Ct=y;Ct!==null;){s=Ct;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,Ct=_;else e:for(s=y;Ct!==null;){if(o=Ct,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:ID(9,o)}}catch(N){ir(o,o.return,N)}if(o===s){Ct=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,Ct=S;break e}Ct=o.return}}if(En=r,jm(),fd&&typeof fd.onPostCommitFiberRoot=="function")try{fd.onPostCommitFiberRoot(AD,t)}catch{}i=!0}return i}finally{Xn=n,ac.transition=e}}return!1}function pj(t,e,n){e=Jb(n,e),e=eY(t,e,1),t=mm(t,e,1),e=Ls(),t!==null&&(vN(t,1,e),ho(t,e))}function ir(t,e,n){if(t.tag===3)pj(t,t,n);else for(;e!==null;){if(e.tag===3){pj(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(gm===null||!gm.has(i))){t=Jb(n,t),t=tY(e,t,1),e=mm(e,t,1),t=Ls(),e!==null&&(vN(e,1,t),ho(e,t));break}}e=e.return}}function jce(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Ls(),t.pingedLanes|=t.suspendedLanes&n,da===t&&(Da&n)===n&&($r===4||$r===3&&(Da&130023424)===Da&&500>fr()-y9?v0(t,0):g9|=n),ho(t,e)}function xY(t,e){e===0&&(t.mode&1?(e=D3,D3<<=1,!(D3&130023424)&&(D3=4194304)):e=1);var n=Ls();t=sf(t,e),t!==null&&(vN(t,e,n),ho(t,n))}function $ce(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),xY(t,n)}function Wce(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(mt(314))}i!==null&&i.delete(e),xY(t,n)}var _Y;_Y=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||co.current)so=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return so=!1,Dce(t,e,n);so=!!(t.flags&131072)}else so=!1,zi&&e.flags&1048576&&kK(e,dC,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Mk(t,e),t=e.pendingProps;var r=Gb(e,ls.current);kv(e,n),r=u9(null,e,i,t,r,n);var a=d9();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,uo(i)?(a=!0,cC(e)):a=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,a9(e),r.updater=PD,e.stateNode=r,r._reactInternals=e,NL(e,i,t,n),e=EL(null,e,i,!0,a,n)):(e.tag=0,zi&&a&&ZO(e),Ds(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Mk(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=Hce(i),t=Dc(i,t),r){case 0:e=CL(null,e,i,t,n);break e;case 1:e=rj(null,e,i,t,n);break e;case 11:e=nj(null,e,i,t,n);break e;case 14:e=ij(null,e,i,Dc(i.type,t),n);break e}throw Error(mt(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Dc(i,r),CL(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Dc(i,r),rj(t,e,i,r,n);case 3:e:{if(aY(e),t===null)throw Error(mt(387));i=e.pendingProps,a=e.memoizedState,r=a.element,IK(t,e),pC(e,i,null,n);var s=e.memoizedState;if(i=s.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){r=Jb(Error(mt(423)),e),e=aj(t,e,i,n,r);break e}else if(i!==r){r=Jb(Error(mt(424)),e),e=aj(t,e,i,n,r);break e}else for(ul=pm(e.stateNode.containerInfo.firstChild),fl=e,zi=!0,Gc=null,n=DK(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xb(),i===r){e=of(t,e,n);break e}Ds(t,e,i,n)}e=e.child}return e;case 5:return RK(e),t===null&&_L(e),i=e.type,r=e.pendingProps,a=t!==null?t.memoizedProps:null,s=r.children,yL(i,r)?s=null:a!==null&&yL(i,a)&&(e.flags|=32),rY(t,e),Ds(t,e,s,n),e.child;case 6:return t===null&&_L(e),null;case 13:return sY(t,e,n);case 4:return s9(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Kb(e,null,i,n):Ds(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Dc(i,r),nj(t,e,i,r,n);case 7:return Ds(t,e,e.pendingProps,n),e.child;case 8:return Ds(t,e,e.pendingProps.children,n),e.child;case 12:return Ds(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,a=e.memoizedProps,s=r.value,Si(hC,i._currentValue),i._currentValue=s,a!==null)if(nu(a.value,s)){if(a.children===r.children&&!co.current){e=of(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var c=o.firstContext;c!==null;){if(c.context===i){if(a.tag===1){c=ef(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),SL(a.return,n,e),o.lanes|=n;break}c=c.next}}else if(a.tag===10)s=a.type===e.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(mt(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),SL(s,n,e),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Ds(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,kv(e,n),r=cc(r),i=i(r),e.flags|=1,Ds(t,e,i,n),e.child;case 14:return i=e.type,r=Dc(i,e.pendingProps),r=Dc(i.type,r),ij(t,e,i,r,n);case 15:return nY(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Dc(i,r),Mk(t,e),e.tag=1,uo(i)?(t=!0,cC(e)):t=!1,kv(e,n),QK(e,i,r),NL(e,i,r,n),EL(null,e,i,!0,t,n);case 19:return oY(t,e,n);case 22:return iY(t,e,n)}throw Error(mt(156,e.tag))};function SY(t,e){return YX(t,e)}function qce(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rc(t,e,n,i){return new qce(t,e,n,i)}function x9(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Hce(t){if(typeof t=="function")return x9(t)?1:0;if(t!=null){if(t=t.$$typeof,t===zO)return 11;if(t===jO)return 14}return 2}function vm(t,e){var n=t.alternate;return n===null?(n=rc(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function jk(t,e,n,i,r,a){var s=2;if(i=t,typeof t=="function")x9(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case nv:return b0(n.children,r,a,e);case BO:s=8,r|=8;break;case KR:return t=rc(12,n,e,r|2),t.elementType=KR,t.lanes=a,t;case YR:return t=rc(13,n,e,r),t.elementType=YR,t.lanes=a,t;case JR:return t=rc(19,n,e,r),t.elementType=JR,t.lanes=a,t;case RX:return LD(n,r,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case PX:s=10;break e;case IX:s=9;break e;case zO:s=11;break e;case jO:s=14;break e;case Qf:s=16,i=null;break e}throw Error(mt(130,t==null?t:typeof t,""))}return e=rc(s,n,e,r),e.elementType=t,e.type=i,e.lanes=a,e}function b0(t,e,n,i){return t=rc(7,t,i,e),t.lanes=n,t}function LD(t,e,n,i){return t=rc(22,t,i,e),t.elementType=RX,t.lanes=n,t.stateNode={isHidden:!1},t}function xP(t,e,n){return t=rc(6,t,null,e),t.lanes=n,t}function _P(t,e,n){return e=rc(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Vce(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nP(0),this.expirationTimes=nP(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nP(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function _9(t,e,n,i,r,a,s,o,c){return t=new Vce(t,e,n,o,c),e===1?(e=1,a===!0&&(e|=8)):e=0,a=rc(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},a9(a),t}function Gce(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:tv,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function AY(t){if(!t)return Tm;t=t._reactInternals;e:{if(Q0(t)!==t||t.tag!==1)throw Error(mt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(uo(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(mt(171))}if(t.tag===1){var n=t.type;if(uo(n))return AK(t,n,e)}return e}function NY(t,e,n,i,r,a,s,o,c){return t=_9(n,i,!0,t,r,a,s,o,c),t.context=AY(null),n=t.current,i=Ls(),r=ym(n),a=ef(i,r),a.callback=e??null,mm(n,a,r),t.current.lanes=r,vN(t,r,i),ho(t,i),t}function FD(t,e,n,i){var r=e.current,a=Ls(),s=ym(r);return n=AY(n),e.context===null?e.context=n:e.pendingContext=n,e=ef(a,s),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=mm(r,e,s),t!==null&&(Qc(t,r,s,a),Fk(t,r,s)),s}function _C(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function mj(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function S9(t,e){mj(t,e),(t=t.alternate)&&mj(t,e)}function Xce(){return null}var kY=typeof reportError=="function"?reportError:function(t){console.error(t)};function A9(t){this._internalRoot=t}OD.prototype.render=A9.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(mt(409));FD(t,e,null,null)};OD.prototype.unmount=A9.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;I0(function(){FD(null,t,null,null)}),e[af]=null}};function OD(t){this._internalRoot=t}OD.prototype.unstable_scheduleHydration=function(t){if(t){var e=iK();t={blockedOn:null,target:t,priority:e};for(var n=0;n<np.length&&e!==0&&e<np[n].priority;n++);np.splice(n,0,t),n===0&&aK(t)}};function N9(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function UD(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function gj(){}function Kce(t,e,n,i,r){if(r){if(typeof i=="function"){var a=i;i=function(){var u=_C(s);a.call(u)}}var s=NY(e,i,t,0,null,!1,!1,"",gj);return t._reactRootContainer=s,t[af]=s.current,W5(t.nodeType===8?t.parentNode:t),I0(),s}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var o=i;i=function(){var u=_C(c);o.call(u)}}var c=_9(t,0,!1,null,null,!1,!1,"",gj);return t._reactRootContainer=c,t[af]=c.current,W5(t.nodeType===8?t.parentNode:t),I0(function(){FD(e,c,n,i)}),c}function MD(t,e,n,i,r){var a=n._reactRootContainer;if(a){var s=a;if(typeof r=="function"){var o=r;r=function(){var c=_C(s);o.call(c)}}FD(e,s,t,r)}else s=Kce(n,e,t,r,i);return _C(s)}tK=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Mx(e.pendingLanes);n!==0&&(qO(e,n|1),ho(e,fr()),!(En&6)&&(Zb=fr()+500,jm()))}break;case 13:I0(function(){var i=sf(t,1);if(i!==null){var r=Ls();Qc(i,t,1,r)}}),S9(t,1)}};HO=function(t){if(t.tag===13){var e=sf(t,134217728);if(e!==null){var n=Ls();Qc(e,t,134217728,n)}S9(t,134217728)}};nK=function(t){if(t.tag===13){var e=ym(t),n=sf(t,e);if(n!==null){var i=Ls();Qc(n,t,e,i)}S9(t,e)}};iK=function(){return Xn};rK=function(t,e){var n=Xn;try{return Xn=t,e()}finally{Xn=n}};oL=function(t,e,n){switch(e){case"input":if(eL(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=ED(i);if(!r)throw Error(mt(90));FX(i),eL(i,r)}}}break;case"textarea":UX(t,n);break;case"select":e=n.value,e!=null&&_v(t,!!n.multiple,e,!1)}};qX=v9;HX=I0;var Yce={usingClientEntryPoint:!1,Events:[wN,sv,ED,$X,WX,v9]},px={findFiberByHostInstance:Dg,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jce={bundleType:px.bundleType,version:px.version,rendererPackageName:px.rendererPackageName,rendererConfig:px.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yf.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=XX(t),t===null?null:t.stateNode},findFiberByHostInstance:px.findFiberByHostInstance||Xce,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var j3=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!j3.isDisabled&&j3.supportsFiber)try{AD=j3.inject(Jce),fd=j3}catch{}}bl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yce;bl.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!N9(e))throw Error(mt(200));return Gce(t,e,null,n)};bl.createRoot=function(t,e){if(!N9(t))throw Error(mt(299));var n=!1,i="",r=kY;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=_9(t,1,!1,null,null,n,!1,i,r),t[af]=e.current,W5(t.nodeType===8?t.parentNode:t),new A9(e)};bl.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(mt(188)):(t=Object.keys(t).join(","),Error(mt(268,t)));return t=XX(e),t=t===null?null:t.stateNode,t};bl.flushSync=function(t){return I0(t)};bl.hydrate=function(t,e,n){if(!UD(e))throw Error(mt(200));return MD(null,t,e,!0,n)};bl.hydrateRoot=function(t,e,n){if(!N9(t))throw Error(mt(405));var i=n!=null&&n.hydratedSources||null,r=!1,a="",s=kY;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=NY(e,null,t,1,n??null,r,!1,a,s),t[af]=e.current,W5(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new OD(e)};bl.render=function(t,e,n){if(!UD(e))throw Error(mt(200));return MD(null,t,e,!1,n)};bl.unmountComponentAtNode=function(t){if(!UD(t))throw Error(mt(40));return t._reactRootContainer?(I0(function(){MD(null,null,t,!1,function(){t._reactRootContainer=null,t[af]=null})}),!0):!1};bl.unstable_batchedUpdates=v9;bl.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!UD(n))throw Error(mt(200));if(t==null||t._reactInternals===void 0)throw Error(mt(38));return MD(t,e,n,!1,i)};bl.version="18.3.1-next-f1338f8080-20240426";function CY(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(CY)}catch(t){console.error(t)}}CY(),CX.exports=bl;var k9=CX.exports;const Zce=TO(k9);var yj=k9;GR.createRoot=yj.createRoot,GR.hydrateRoot=yj.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Z5(){return Z5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Z5.apply(this,arguments)}var lm;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(lm||(lm={}));const vj="popstate";function Qce(t){t===void 0&&(t={});function e(i,r){let{pathname:a,search:s,hash:o}=i.location;return zL("",{pathname:a,search:s,hash:o},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:SC(r)}return tue(e,n,null,t)}function vr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function C9(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eue(){return Math.random().toString(36).substr(2,8)}function bj(t,e){return{usr:t.state,key:t.key,idx:e}}function zL(t,e,n,i){return n===void 0&&(n=null),Z5({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?xw(e):e,{state:n,key:e&&e.key||i||eue()})}function SC(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function xw(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function tue(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:a=!1}=i,s=r.history,o=lm.Pop,c=null,u=d();u==null&&(u=0,s.replaceState(Z5({},s.state,{idx:u}),""));function d(){return(s.state||{idx:null}).idx}function h(){o=lm.Pop;let b=d(),g=b==null?null:b-u;u=b,c&&c({action:o,location:v.location,delta:g})}function f(b,g){o=lm.Push;let y=zL(v.location,b,g);n&&n(y,b),u=d()+1;let _=bj(y,u),S=v.createHref(y);try{s.pushState(_,"",S)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;r.location.assign(S)}a&&c&&c({action:o,location:v.location,delta:1})}function p(b,g){o=lm.Replace;let y=zL(v.location,b,g);n&&n(y,b),u=d();let _=bj(y,u),S=v.createHref(y);s.replaceState(_,"",S),a&&c&&c({action:o,location:v.location,delta:0})}function w(b){let g=r.location.origin!=="null"?r.location.origin:r.location.href,y=typeof b=="string"?b:SC(b);return y=y.replace(/ $/,"%20"),vr(g,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,g)}let v={get action(){return o},get location(){return t(r,s)},listen(b){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(vj,h),c=b,()=>{r.removeEventListener(vj,h),c=null}},createHref(b){return e(r,b)},createURL:w,encodeLocation(b){let g=w(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(b){return s.go(b)}};return v}var wj;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(wj||(wj={}));function nue(t,e,n){return n===void 0&&(n="/"),iue(t,e,n,!1)}function iue(t,e,n,i){let r=typeof e=="string"?xw(e):e,a=E9(r.pathname||"/",n);if(a==null)return null;let s=EY(t);rue(s);let o=null;for(let c=0;o==null&&c<s.length;++c){let u=mue(a);o=fue(s[c],u,i)}return o}function EY(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(a,s,o)=>{let c={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};c.relativePath.startsWith("/")&&(vr(c.relativePath.startsWith(i),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(i.length));let u=bm([i,c.relativePath]),d=n.concat(c);a.children&&a.children.length>0&&(vr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),EY(a.children,e,d,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:due(u,a.index),routesMeta:d})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))r(a,s);else for(let c of TY(a.path))r(a,s,c)}),e}function TY(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return r?[a,""]:[a];let s=TY(i.join("/")),o=[];return o.push(...s.map(c=>c===""?a:[a,c].join("/"))),r&&o.push(...s),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function rue(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:hue(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const aue=/^:[\w-]+$/,sue=3,oue=2,lue=1,cue=10,uue=-2,xj=t=>t==="*";function due(t,e){let n=t.split("/"),i=n.length;return n.some(xj)&&(i+=uue),e&&(i+=oue),n.filter(r=>!xj(r)).reduce((r,a)=>r+(aue.test(a)?sue:a===""?lue:cue),i)}function hue(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function fue(t,e,n){n===void 0&&(n=!1);let{routesMeta:i}=t,r={},a="/",s=[];for(let o=0;o<i.length;++o){let c=i[o],u=o===i.length-1,d=a==="/"?e:e.slice(a.length)||"/",h=_j({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&n&&!i[i.length-1].route.index&&(h=_j({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(r,h.params),s.push({params:r,pathname:bm([a,h.pathname]),pathnameBase:wue(bm([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=bm([a,h.pathnameBase]))}return s}function _j(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=pue(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let a=r[0],s=a.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:i.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let v=o[h]||"";s=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const w=o[h];return p&&!w?u[f]=void 0:u[f]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:s,pattern:t}}function pue(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),C9(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,c)=>(i.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function mue(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return C9(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function E9(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}const gue=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yue=t=>gue.test(t);function vue(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?xw(t):t,a;if(n)if(yue(n))a=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),C9(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+n))}n.startsWith("/")?a=Sj(n.substring(1),"/"):a=Sj(n,e)}else a=e;return{pathname:a,search:xue(i),hash:_ue(r)}}function Sj(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function SP(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bue(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function T9(t,e){let n=bue(t);return e?n.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function D9(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=xw(t):(r=Z5({},t),vr(!r.pathname||!r.pathname.includes("?"),SP("?","pathname","search",r)),vr(!r.pathname||!r.pathname.includes("#"),SP("#","pathname","hash",r)),vr(!r.search||!r.search.includes("#"),SP("#","search","hash",r)));let a=t===""||r.pathname==="",s=a?"/":r.pathname,o;if(s==null)o=n;else{let h=e.length-1;if(!i&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),h-=1;r.pathname=f.join("/")}o=h>=0?e[h]:"/"}let c=vue(r,o),u=s&&s!=="/"&&s.endsWith("/"),d=(a||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const bm=t=>t.join("/").replace(/\/\/+/g,"/"),wue=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xue=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_ue=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Sue(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const DY=["post","put","patch","delete"];new Set(DY);const Aue=["get",...DY];new Set(Aue);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Q5(){return Q5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Q5.apply(this,arguments)}const P9=Z.createContext(null),Nue=Z.createContext(null),$m=Z.createContext(null),BD=Z.createContext(null),vf=Z.createContext({outlet:null,matches:[],isDataRoute:!1}),PY=Z.createContext(null);function kue(t,e){let{relative:n}=e===void 0?{}:e;_w()||vr(!1);let{basename:i,navigator:r}=Z.useContext($m),{hash:a,pathname:s,search:o}=RY(t,{relative:n}),c=s;return i!=="/"&&(c=s==="/"?i:bm([i,s])),r.createHref({pathname:c,search:o,hash:a})}function _w(){return Z.useContext(BD)!=null}function Wm(){return _w()||vr(!1),Z.useContext(BD).location}function IY(t){Z.useContext($m).static||Z.useLayoutEffect(t)}function Gi(){let{isDataRoute:t}=Z.useContext(vf);return t?Bue():Cue()}function Cue(){_w()||vr(!1);let t=Z.useContext(P9),{basename:e,future:n,navigator:i}=Z.useContext($m),{matches:r}=Z.useContext(vf),{pathname:a}=Wm(),s=JSON.stringify(T9(r,n.v7_relativeSplatPath)),o=Z.useRef(!1);return IY(()=>{o.current=!0}),Z.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){i.go(u);return}let h=D9(u,JSON.parse(s),a,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:bm([e,h.pathname])),(d.replace?i.replace:i.push)(h,d.state,d)},[e,i,s,a,t])}function _N(){let{matches:t}=Z.useContext(vf),e=t[t.length-1];return e?e.params:{}}function RY(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=Z.useContext($m),{matches:r}=Z.useContext(vf),{pathname:a}=Wm(),s=JSON.stringify(T9(r,i.v7_relativeSplatPath));return Z.useMemo(()=>D9(t,JSON.parse(s),a,n==="path"),[t,s,a,n])}function Eue(t,e){return Tue(t,e)}function Tue(t,e,n,i){_w()||vr(!1);let{navigator:r}=Z.useContext($m),{matches:a}=Z.useContext(vf),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let u=Wm(),d;if(e){var h;let b=typeof e=="string"?xw(e):e;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||vr(!1),d=b}else d=u;let f=d.pathname||"/",p=f;if(c!=="/"){let b=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let w=nue(t,{pathname:p}),v=Lue(w&&w.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:bm([c,r.encodeLocation?r.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:bm([c,r.encodeLocation?r.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,n,i);return e&&v?Z.createElement(BD.Provider,{value:{location:Q5({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:lm.Pop}},v):v}function Due(){let t=Mue(),e=Sue(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},e),n?Z.createElement("pre",{style:r},n):null,a)}const Pue=Z.createElement(Due,null);class Iue extends Z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?Z.createElement(vf.Provider,{value:this.props.routeContext},Z.createElement(PY.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Rue(t){let{routeContext:e,match:n,children:i}=t,r=Z.useContext(P9);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),Z.createElement(vf.Provider,{value:e},i)}function Lue(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=i)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let d=s.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||vr(!1),s=s.slice(0,Math.min(s.length,d+1))}let c=!1,u=-1;if(n&&i&&i.v7_partialHydration)for(let d=0;d<s.length;d++){let h=s[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=n,w=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||w){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((d,h,f)=>{let p,w=!1,v=null,b=null;n&&(p=o&&h.route.id?o[h.route.id]:void 0,v=h.route.errorElement||Pue,c&&(u<0&&f===0?(zue("route-fallback",!1),w=!0,b=null):u===f&&(w=!0,b=h.route.hydrateFallbackElement||null)));let g=e.concat(s.slice(0,f+1)),y=()=>{let _;return p?_=v:w?_=b:h.route.Component?_=Z.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=d,Z.createElement(Rue,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:_})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?Z.createElement(Iue,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:y(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):y()},null)}var LY=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(LY||{}),AC=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(AC||{});function Fue(t){let e=Z.useContext(P9);return e||vr(!1),e}function Oue(t){let e=Z.useContext(Nue);return e||vr(!1),e}function Uue(t){let e=Z.useContext(vf);return e||vr(!1),e}function FY(t){let e=Uue(),n=e.matches[e.matches.length-1];return n.route.id||vr(!1),n.route.id}function Mue(){var t;let e=Z.useContext(PY),n=Oue(AC.UseRouteError),i=FY(AC.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function Bue(){let{router:t}=Fue(LY.UseNavigateStable),e=FY(AC.UseNavigateStable),n=Z.useRef(!1);return IY(()=>{n.current=!0}),Z.useCallback(function(r,a){a===void 0&&(a={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,Q5({fromRouteId:e},a)))},[t,e])}const Aj={};function zue(t,e,n){!e&&!Aj[t]&&(Aj[t]=!0)}function jue(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function OY(t){let{to:e,replace:n,state:i,relative:r}=t;_w()||vr(!1);let{future:a,static:s}=Z.useContext($m),{matches:o}=Z.useContext(vf),{pathname:c}=Wm(),u=Gi(),d=D9(e,T9(o,a.v7_relativeSplatPath),c,r==="path"),h=JSON.stringify(d);return Z.useEffect(()=>u(JSON.parse(h),{replace:n,state:i,relative:r}),[u,h,r,n,i]),null}function In(t){vr(!1)}function $ue(t){let{basename:e="/",children:n=null,location:i,navigationType:r=lm.Pop,navigator:a,static:s=!1,future:o}=t;_w()&&vr(!1);let c=e.replace(/^\/*/,"/"),u=Z.useMemo(()=>({basename:c,navigator:a,static:s,future:Q5({v7_relativeSplatPath:!1},o)}),[c,o,a,s]);typeof i=="string"&&(i=xw(i));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:w="default"}=i,v=Z.useMemo(()=>{let b=E9(d,c);return b==null?null:{location:{pathname:b,search:h,hash:f,state:p,key:w},navigationType:r}},[c,d,h,f,p,w,r]);return v==null?null:Z.createElement($m.Provider,{value:u},Z.createElement(BD.Provider,{children:n,value:v}))}function Wue(t){let{children:e,location:n}=t;return Eue(jL(e),n)}new Promise(()=>{});function jL(t,e){e===void 0&&(e=[]);let n=[];return Z.Children.forEach(t,(i,r)=>{if(!Z.isValidElement(i))return;let a=[...e,r];if(i.type===Z.Fragment){n.push.apply(n,jL(i.props.children,a));return}i.type!==In&&vr(!1),!i.props.index||!i.props.children||vr(!1);let s={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(s.children=jL(i.props.children,a)),n.push(s)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $L(){return $L=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},$L.apply(this,arguments)}function que(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,a;for(a=0;a<i.length;a++)r=i[a],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function Hue(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Vue(t,e){return t.button===0&&(!e||e==="_self")&&!Hue(t)}const Gue=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Xue="6";try{window.__reactRouterVersion=Xue}catch{}const Kue="startTransition",Nj=VR[Kue];function Yue(t){let{basename:e,children:n,future:i,window:r}=t,a=Z.useRef();a.current==null&&(a.current=Qce({window:r,v5Compat:!0}));let s=a.current,[o,c]=Z.useState({action:s.action,location:s.location}),{v7_startTransition:u}=i||{},d=Z.useCallback(h=>{u&&Nj?Nj(()=>c(h)):c(h)},[c,u]);return Z.useLayoutEffect(()=>s.listen(d),[s,d]),Z.useEffect(()=>jue(i),[i]),Z.createElement($ue,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s,future:i})}const Jue=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Zue=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pn=Z.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:a,replace:s,state:o,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,f=que(e,Gue),{basename:p}=Z.useContext($m),w,v=!1;if(typeof u=="string"&&Zue.test(u)&&(w=u,Jue))try{let _=new URL(window.location.href),S=u.startsWith("//")?new URL(_.protocol+u):new URL(u),N=E9(S.pathname,p);S.origin===_.origin&&N!=null?u=N+S.search+S.hash:v=!0}catch{}let b=kue(u,{relative:r}),g=Que(u,{replace:s,state:o,target:c,preventScrollReset:d,relative:r,viewTransition:h});function y(_){i&&i(_),_.defaultPrevented||g(_)}return Z.createElement("a",$L({},f,{href:w||b,onClick:v||a?i:y,ref:n,target:c}))});var kj;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(kj||(kj={}));var Cj;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Cj||(Cj={}));function Que(t,e){let{target:n,replace:i,state:r,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,c=Gi(),u=Wm(),d=RY(t,{relative:s});return Z.useCallback(h=>{if(Vue(h,n)){h.preventDefault();let f=i!==void 0?i:SC(u)===SC(d);c(t,{replace:f,state:r,preventScrollReset:a,relative:s,viewTransition:o})}},[u,c,d,i,r,n,t,a,s,o])}let ede={data:""},tde=t=>{if(typeof window=="object"){let e=(t?t.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return e.nonce=window.__nonce__,e.parentNode||(t||document.head).appendChild(e),e.firstChild}return t||ede},nde=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,ide=/\/\*[^]*?\*\/|  +/g,Ej=/\n+/g,rp=(t,e)=>{let n="",i="",r="";for(let a in t){let s=t[a];a[0]=="@"?a[1]=="i"?n=a+" "+s+";":i+=a[1]=="f"?rp(s,a):a+"{"+rp(s,a[1]=="k"?"":e)+"}":typeof s=="object"?i+=rp(s,e?e.replace(/([^,])+/g,o=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,o):o?o+" "+c:c)):a):s!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),r+=rp.p?rp.p(a,s):a+":"+s+";")}return n+(e&&r?e+"{"+r+"}":r)+i},qd={},UY=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+UY(t[n]);return e}return t},rde=(t,e,n,i,r)=>{let a=UY(t),s=qd[a]||(qd[a]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(a));if(!qd[s]){let c=a!==t?t:(u=>{let d,h,f=[{}];for(;d=nde.exec(u.replace(ide,""));)d[4]?f.shift():d[3]?(h=d[3].replace(Ej," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][d[1]]=d[2].replace(Ej," ").trim();return f[0]})(t);qd[s]=rp(r?{["@keyframes "+s]:c}:c,n?"":"."+s)}let o=n&&qd.g?qd.g:null;return n&&(qd.g=qd[s]),((c,u,d,h)=>{h?u.data=u.data.replace(h,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(qd[s],e,i,o),s},ade=(t,e,n)=>t.reduce((i,r,a)=>{let s=e[a];if(s&&s.call){let o=s(n),c=o&&o.props&&o.props.className||/^go/.test(o)&&o;s=c?"."+c:o&&typeof o=="object"?o.props?"":rp(o,""):o===!1?"":o}return i+r+(s??"")},"");function zD(t){let e=this||{},n=t.call?t(e.p):t;return rde(n.unshift?n.raw?ade(n,[].slice.call(arguments,1),e.p):n.reduce((i,r)=>Object.assign(i,r&&r.call?r(e.p):r),{}):n,tde(e.target),e.g,e.o,e.k)}let MY,WL,qL;zD.bind({g:1});let lf=zD.bind({k:1});function sde(t,e,n,i){rp.p=e,MY=t,WL=n,qL=i}function qm(t,e){let n=this||{};return function(){let i=arguments;function r(a,s){let o=Object.assign({},a),c=o.className||r.className;n.p=Object.assign({theme:WL&&WL()},o),n.o=/ *go\d+/.test(c),o.className=zD.apply(n,i)+(c?" "+c:""),e&&(o.ref=s);let u=t;return t[0]&&(u=o.as||t,delete o.as),qL&&u[0]&&qL(o),MY(u,o)}return e?e(r):r}}var ode=t=>typeof t=="function",NC=(t,e)=>ode(t)?t(e):t,lde=(()=>{let t=0;return()=>(++t).toString()})(),BY=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),cde=20,I9="default",zY=(t,e)=>{let{toastLimit:n}=t.settings;switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,n)};case 1:return{...t,toasts:t.toasts.map(s=>s.id===e.toast.id?{...s,...e.toast}:s)};case 2:let{toast:i}=e;return zY(t,{type:t.toasts.find(s=>s.id===i.id)?1:0,toast:i});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(s=>s.id===r||r===void 0?{...s,dismissed:!0,visible:!1}:s)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(s=>s.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let a=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(s=>({...s,pauseDuration:s.pauseDuration+a}))}}},$k=[],jY={toasts:[],pausedAt:void 0,settings:{toastLimit:cde}},ud={},$Y=(t,e=I9)=>{ud[e]=zY(ud[e]||jY,t),$k.forEach(([n,i])=>{n===e&&i(ud[e])})},WY=t=>Object.keys(ud).forEach(e=>$Y(t,e)),ude=t=>Object.keys(ud).find(e=>ud[e].toasts.some(n=>n.id===t)),jD=(t=I9)=>e=>{$Y(e,t)},dde={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},hde=(t={},e=I9)=>{let[n,i]=Z.useState(ud[e]||jY),r=Z.useRef(ud[e]);Z.useEffect(()=>(r.current!==ud[e]&&i(ud[e]),$k.push([e,i]),()=>{let s=$k.findIndex(([o])=>o===e);s>-1&&$k.splice(s,1)}),[e]);let a=n.toasts.map(s=>{var o,c,u;return{...t,...t[s.type],...s,removeDelay:s.removeDelay||((o=t[s.type])==null?void 0:o.removeDelay)||(t==null?void 0:t.removeDelay),duration:s.duration||((c=t[s.type])==null?void 0:c.duration)||(t==null?void 0:t.duration)||dde[s.type],style:{...t.style,...(u=t[s.type])==null?void 0:u.style,...s.style}}});return{...n,toasts:a}},fde=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||lde()}),SN=t=>(e,n)=>{let i=fde(e,t,n);return jD(i.toasterId||ude(i.id))({type:2,toast:i}),i.id},He=(t,e)=>SN("blank")(t,e);He.error=SN("error");He.success=SN("success");He.loading=SN("loading");He.custom=SN("custom");He.dismiss=(t,e)=>{let n={type:3,toastId:t};e?jD(e)(n):WY(n)};He.dismissAll=t=>He.dismiss(void 0,t);He.remove=(t,e)=>{let n={type:4,toastId:t};e?jD(e)(n):WY(n)};He.removeAll=t=>He.remove(void 0,t);He.promise=(t,e,n)=>{let i=He.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(r=>{let a=e.success?NC(e.success,r):void 0;return a?He.success(a,{id:i,...n,...n==null?void 0:n.success}):He.dismiss(i),r}).catch(r=>{let a=e.error?NC(e.error,r):void 0;a?He.error(a,{id:i,...n,...n==null?void 0:n.error}):He.dismiss(i)}),t};var pde=1e3,mde=(t,e="default")=>{let{toasts:n,pausedAt:i}=hde(t,e),r=Z.useRef(new Map).current,a=Z.useCallback((h,f=pde)=>{if(r.has(h))return;let p=setTimeout(()=>{r.delete(h),s({type:4,toastId:h})},f);r.set(h,p)},[]);Z.useEffect(()=>{if(i)return;let h=Date.now(),f=n.map(p=>{if(p.duration===1/0)return;let w=(p.duration||0)+p.pauseDuration-(h-p.createdAt);if(w<0){p.visible&&He.dismiss(p.id);return}return setTimeout(()=>He.dismiss(p.id,e),w)});return()=>{f.forEach(p=>p&&clearTimeout(p))}},[n,i,e]);let s=Z.useCallback(jD(e),[e]),o=Z.useCallback(()=>{s({type:5,time:Date.now()})},[s]),c=Z.useCallback((h,f)=>{s({type:1,toast:{id:h,height:f}})},[s]),u=Z.useCallback(()=>{i&&s({type:6,time:Date.now()})},[i,s]),d=Z.useCallback((h,f)=>{let{reverseOrder:p=!1,gutter:w=8,defaultPosition:v}=f||{},b=n.filter(_=>(_.position||v)===(h.position||v)&&_.height),g=b.findIndex(_=>_.id===h.id),y=b.filter((_,S)=>S<g&&_.visible).length;return b.filter(_=>_.visible).slice(...p?[y+1]:[0,y]).reduce((_,S)=>_+(S.height||0)+w,0)},[n]);return Z.useEffect(()=>{n.forEach(h=>{if(h.dismissed)a(h.id,h.removeDelay);else{let f=r.get(h.id);f&&(clearTimeout(f),r.delete(h.id))}})},[n,a]),{toasts:n,handlers:{updateHeight:c,startPause:o,endPause:u,calculateOffset:d}}},gde=lf`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,yde=lf`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,vde=lf`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,bde=qm("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${gde} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${yde} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${vde} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,wde=lf`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,xde=qm("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${wde} 1s linear infinite;
`,_de=lf`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Sde=lf`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Ade=qm("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${_de} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Sde} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Nde=qm("div")`
  position: absolute;
`,kde=qm("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Cde=lf`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Ede=qm("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Cde} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Tde=({toast:t})=>{let{icon:e,type:n,iconTheme:i}=t;return e!==void 0?typeof e=="string"?Z.createElement(Ede,null,e):e:n==="blank"?null:Z.createElement(kde,null,Z.createElement(xde,{...i}),n!=="loading"&&Z.createElement(Nde,null,n==="error"?Z.createElement(bde,{...i}):Z.createElement(Ade,{...i})))},Dde=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Pde=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,Ide="0%{opacity:0;} 100%{opacity:1;}",Rde="0%{opacity:1;} 100%{opacity:0;}",Lde=qm("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Fde=qm("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Ode=(t,e)=>{let n=t.includes("top")?1:-1,[i,r]=BY()?[Ide,Rde]:[Dde(n),Pde(n)];return{animation:e?`${lf(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${lf(r)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Ude=Z.memo(({toast:t,position:e,style:n,children:i})=>{let r=t.height?Ode(t.position||e||"top-center",t.visible):{opacity:0},a=Z.createElement(Tde,{toast:t}),s=Z.createElement(Fde,{...t.ariaProps},NC(t.message,t));return Z.createElement(Lde,{className:t.className,style:{...r,...n,...t.style}},typeof i=="function"?i({icon:a,message:s}):Z.createElement(Z.Fragment,null,a,s))});sde(Z.createElement);var Mde=({id:t,className:e,style:n,onHeightUpdate:i,children:r})=>{let a=Z.useCallback(s=>{if(s){let o=()=>{let c=s.getBoundingClientRect().height;i(t,c)};o(),new MutationObserver(o).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[t,i]);return Z.createElement("div",{ref:a,className:e,style:n},r)},Bde=(t,e)=>{let n=t.includes("top"),i=n?{top:0}:{bottom:0},r=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:BY()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...i,...r}},zde=zD`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,$3=16,jde=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:i,children:r,toasterId:a,containerStyle:s,containerClassName:o})=>{let{toasts:c,handlers:u}=mde(n,a);return Z.createElement("div",{"data-rht-toaster":a||"",style:{position:"fixed",zIndex:9999,top:$3,left:$3,right:$3,bottom:$3,pointerEvents:"none",...s},className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(d=>{let h=d.position||e,f=u.calculateOffset(d,{reverseOrder:t,gutter:i,defaultPosition:e}),p=Bde(h,f);return Z.createElement(Mde,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?zde:"",style:p},d.type==="custom"?NC(d.message,d):r?r(d):Z.createElement(Ude,{toast:d,position:h}))}))},sn=He;function qY(t,e){return function(){return t.apply(e,arguments)}}const{toString:$de}=Object.prototype,{getPrototypeOf:R9}=Object,{iterator:$D,toStringTag:HY}=Symbol,WD=(t=>e=>{const n=$de.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ou=t=>(t=t.toLowerCase(),e=>WD(e)===t),qD=t=>e=>typeof e===t,{isArray:Sw}=Array,Qb=qD("undefined");function AN(t){return t!==null&&!Qb(t)&&t.constructor!==null&&!Qb(t.constructor)&&fo(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const VY=ou("ArrayBuffer");function Wde(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&VY(t.buffer),e}const qde=qD("string"),fo=qD("function"),GY=qD("number"),NN=t=>t!==null&&typeof t=="object",Hde=t=>t===!0||t===!1,Wk=t=>{if(WD(t)!=="object")return!1;const e=R9(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(HY in t)&&!($D in t)},Vde=t=>{if(!NN(t)||AN(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Gde=ou("Date"),Xde=ou("File"),Kde=ou("Blob"),Yde=ou("FileList"),Jde=t=>NN(t)&&fo(t.pipe),Zde=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||fo(t.append)&&((e=WD(t))==="formdata"||e==="object"&&fo(t.toString)&&t.toString()==="[object FormData]"))},Qde=ou("URLSearchParams"),[ehe,the,nhe,ihe]=["ReadableStream","Request","Response","Headers"].map(ou),rhe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function kN(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,r;if(typeof t!="object"&&(t=[t]),Sw(t))for(i=0,r=t.length;i<r;i++)e.call(null,t[i],i,t);else{if(AN(t))return;const a=n?Object.getOwnPropertyNames(t):Object.keys(t),s=a.length;let o;for(i=0;i<s;i++)o=a[i],e.call(null,t[o],o,t)}}function XY(t,e){if(AN(t))return null;e=e.toLowerCase();const n=Object.keys(t);let i=n.length,r;for(;i-- >0;)if(r=n[i],e===r.toLowerCase())return r;return null}const Rg=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),KY=t=>!Qb(t)&&t!==Rg;function HL(){const{caseless:t,skipUndefined:e}=KY(this)&&this||{},n={},i=(r,a)=>{const s=t&&XY(n,a)||a;Wk(n[s])&&Wk(r)?n[s]=HL(n[s],r):Wk(r)?n[s]=HL({},r):Sw(r)?n[s]=r.slice():(!e||!Qb(r))&&(n[s]=r)};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&kN(arguments[r],i);return n}const ahe=(t,e,n,{allOwnKeys:i}={})=>(kN(e,(r,a)=>{n&&fo(r)?t[a]=qY(r,n):t[a]=r},{allOwnKeys:i}),t),she=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),ohe=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},lhe=(t,e,n,i)=>{let r,a,s;const o={};if(e=e||{},t==null)return e;do{for(r=Object.getOwnPropertyNames(t),a=r.length;a-- >0;)s=r[a],(!i||i(s,t,e))&&!o[s]&&(e[s]=t[s],o[s]=!0);t=n!==!1&&R9(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},che=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},uhe=t=>{if(!t)return null;if(Sw(t))return t;let e=t.length;if(!GY(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},dhe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&R9(Uint8Array)),hhe=(t,e)=>{const i=(t&&t[$D]).call(t);let r;for(;(r=i.next())&&!r.done;){const a=r.value;e.call(t,a[0],a[1])}},fhe=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},phe=ou("HTMLFormElement"),mhe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,r){return i.toUpperCase()+r}),Tj=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),ghe=ou("RegExp"),YY=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};kN(n,(r,a)=>{let s;(s=e(r,a,t))!==!1&&(i[a]=s||r)}),Object.defineProperties(t,i)},yhe=t=>{YY(t,(e,n)=>{if(fo(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(fo(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},vhe=(t,e)=>{const n={},i=r=>{r.forEach(a=>{n[a]=!0})};return Sw(t)?i(t):i(String(t).split(e)),n},bhe=()=>{},whe=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function xhe(t){return!!(t&&fo(t.append)&&t[HY]==="FormData"&&t[$D])}const _he=t=>{const e=new Array(10),n=(i,r)=>{if(NN(i)){if(e.indexOf(i)>=0)return;if(AN(i))return i;if(!("toJSON"in i)){e[r]=i;const a=Sw(i)?[]:{};return kN(i,(s,o)=>{const c=n(s,r+1);!Qb(c)&&(a[o]=c)}),e[r]=void 0,a}}return i};return n(t,0)},She=ou("AsyncFunction"),Ahe=t=>t&&(NN(t)||fo(t))&&fo(t.then)&&fo(t.catch),JY=((t,e)=>t?setImmediate:e?((n,i)=>(Rg.addEventListener("message",({source:r,data:a})=>{r===Rg&&a===n&&i.length&&i.shift()()},!1),r=>{i.push(r),Rg.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",fo(Rg.postMessage)),Nhe=typeof queueMicrotask<"u"?queueMicrotask.bind(Rg):typeof process<"u"&&process.nextTick||JY,khe=t=>t!=null&&fo(t[$D]),Je={isArray:Sw,isArrayBuffer:VY,isBuffer:AN,isFormData:Zde,isArrayBufferView:Wde,isString:qde,isNumber:GY,isBoolean:Hde,isObject:NN,isPlainObject:Wk,isEmptyObject:Vde,isReadableStream:ehe,isRequest:the,isResponse:nhe,isHeaders:ihe,isUndefined:Qb,isDate:Gde,isFile:Xde,isBlob:Kde,isRegExp:ghe,isFunction:fo,isStream:Jde,isURLSearchParams:Qde,isTypedArray:dhe,isFileList:Yde,forEach:kN,merge:HL,extend:ahe,trim:rhe,stripBOM:she,inherits:ohe,toFlatObject:lhe,kindOf:WD,kindOfTest:ou,endsWith:che,toArray:uhe,forEachEntry:hhe,matchAll:fhe,isHTMLForm:phe,hasOwnProperty:Tj,hasOwnProp:Tj,reduceDescriptors:YY,freezeMethods:yhe,toObjectSet:vhe,toCamelCase:mhe,noop:bhe,toFiniteNumber:whe,findKey:XY,global:Rg,isContextDefined:KY,isSpecCompliantForm:xhe,toJSONObject:_he,isAsyncFn:She,isThenable:Ahe,setImmediate:JY,asap:Nhe,isIterable:khe};function tn(t,e,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}Je.inherits(tn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Je.toJSONObject(this.config),code:this.code,status:this.status}}});const ZY=tn.prototype,QY={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{QY[t]={value:t}});Object.defineProperties(tn,QY);Object.defineProperty(ZY,"isAxiosError",{value:!0});tn.from=(t,e,n,i,r,a)=>{const s=Object.create(ZY);Je.toFlatObject(t,s,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const o=t&&t.message?t.message:"Error",c=e==null&&t?t.code:e;return tn.call(s,o,c,n,i,r),t&&s.cause==null&&Object.defineProperty(s,"cause",{value:t,configurable:!0}),s.name=t&&t.name||"Error",a&&Object.assign(s,a),s};const Che=null;function VL(t){return Je.isPlainObject(t)||Je.isArray(t)}function eJ(t){return Je.endsWith(t,"[]")?t.slice(0,-2):t}function Dj(t,e,n){return t?t.concat(e).map(function(r,a){return r=eJ(r),!n&&a?"["+r+"]":r}).join(n?".":""):e}function Ehe(t){return Je.isArray(t)&&!t.some(VL)}const The=Je.toFlatObject(Je,{},null,function(e){return/^is[A-Z]/.test(e)});function HD(t,e,n){if(!Je.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Je.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,b){return!Je.isUndefined(b[v])});const i=n.metaTokens,r=n.visitor||d,a=n.dots,s=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&Je.isSpecCompliantForm(e);if(!Je.isFunction(r))throw new TypeError("visitor must be a function");function u(w){if(w===null)return"";if(Je.isDate(w))return w.toISOString();if(Je.isBoolean(w))return w.toString();if(!c&&Je.isBlob(w))throw new tn("Blob is not supported. Use a Buffer instead.");return Je.isArrayBuffer(w)||Je.isTypedArray(w)?c&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function d(w,v,b){let g=w;if(w&&!b&&typeof w=="object"){if(Je.endsWith(v,"{}"))v=i?v:v.slice(0,-2),w=JSON.stringify(w);else if(Je.isArray(w)&&Ehe(w)||(Je.isFileList(w)||Je.endsWith(v,"[]"))&&(g=Je.toArray(w)))return v=eJ(v),g.forEach(function(_,S){!(Je.isUndefined(_)||_===null)&&e.append(s===!0?Dj([v],S,a):s===null?v:v+"[]",u(_))}),!1}return VL(w)?!0:(e.append(Dj(b,v,a),u(w)),!1)}const h=[],f=Object.assign(The,{defaultVisitor:d,convertValue:u,isVisitable:VL});function p(w,v){if(!Je.isUndefined(w)){if(h.indexOf(w)!==-1)throw Error("Circular reference detected in "+v.join("."));h.push(w),Je.forEach(w,function(g,y){(!(Je.isUndefined(g)||g===null)&&r.call(e,g,Je.isString(y)?y.trim():y,v,f))===!0&&p(g,v?v.concat(y):[y])}),h.pop()}}if(!Je.isObject(t))throw new TypeError("data must be an object");return p(t),e}function Pj(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function L9(t,e){this._pairs=[],t&&HD(t,this,e)}const tJ=L9.prototype;tJ.append=function(e,n){this._pairs.push([e,n])};tJ.toString=function(e){const n=e?function(i){return e.call(this,i,Pj)}:Pj;return this._pairs.map(function(r){return n(r[0])+"="+n(r[1])},"").join("&")};function Dhe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function nJ(t,e,n){if(!e)return t;const i=n&&n.encode||Dhe;Je.isFunction(n)&&(n={serialize:n});const r=n&&n.serialize;let a;if(r?a=r(e,n):a=Je.isURLSearchParams(e)?e.toString():new L9(e,n).toString(i),a){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+a}return t}class Phe{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Je.forEach(this.handlers,function(i){i!==null&&e(i)})}}const Ij=Phe,iJ={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ihe=typeof URLSearchParams<"u"?URLSearchParams:L9,Rhe=typeof FormData<"u"?FormData:null,Lhe=typeof Blob<"u"?Blob:null,Fhe={isBrowser:!0,classes:{URLSearchParams:Ihe,FormData:Rhe,Blob:Lhe},protocols:["http","https","file","blob","url","data"]},F9=typeof window<"u"&&typeof document<"u",GL=typeof navigator=="object"&&navigator||void 0,Ohe=F9&&(!GL||["ReactNative","NativeScript","NS"].indexOf(GL.product)<0),Uhe=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Mhe=F9&&window.location.href||"http://localhost",Bhe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:F9,hasStandardBrowserEnv:Ohe,hasStandardBrowserWebWorkerEnv:Uhe,navigator:GL,origin:Mhe},Symbol.toStringTag,{value:"Module"})),ss={...Bhe,...Fhe};function zhe(t,e){return HD(t,new ss.classes.URLSearchParams,{visitor:function(n,i,r,a){return ss.isNode&&Je.isBuffer(n)?(this.append(i,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function jhe(t){return Je.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function $he(t){const e={},n=Object.keys(t);let i;const r=n.length;let a;for(i=0;i<r;i++)a=n[i],e[a]=t[a];return e}function rJ(t){function e(n,i,r,a){let s=n[a++];if(s==="__proto__")return!0;const o=Number.isFinite(+s),c=a>=n.length;return s=!s&&Je.isArray(r)?r.length:s,c?(Je.hasOwnProp(r,s)?r[s]=[r[s],i]:r[s]=i,!o):((!r[s]||!Je.isObject(r[s]))&&(r[s]=[]),e(n,i,r[s],a)&&Je.isArray(r[s])&&(r[s]=$he(r[s])),!o)}if(Je.isFormData(t)&&Je.isFunction(t.entries)){const n={};return Je.forEachEntry(t,(i,r)=>{e(jhe(i),r,n,0)}),n}return null}function Whe(t,e,n){if(Je.isString(t))try{return(e||JSON.parse)(t),Je.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const O9={transitional:iJ,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",r=i.indexOf("application/json")>-1,a=Je.isObject(e);if(a&&Je.isHTMLForm(e)&&(e=new FormData(e)),Je.isFormData(e))return r?JSON.stringify(rJ(e)):e;if(Je.isArrayBuffer(e)||Je.isBuffer(e)||Je.isStream(e)||Je.isFile(e)||Je.isBlob(e)||Je.isReadableStream(e))return e;if(Je.isArrayBufferView(e))return e.buffer;if(Je.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(a){if(i.indexOf("application/x-www-form-urlencoded")>-1)return zhe(e,this.formSerializer).toString();if((o=Je.isFileList(e))||i.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return HD(o?{"files[]":e}:e,c&&new c,this.formSerializer)}}return a||r?(n.setContentType("application/json",!1),Whe(e)):e}],transformResponse:[function(e){const n=this.transitional||O9.transitional,i=n&&n.forcedJSONParsing,r=this.responseType==="json";if(Je.isResponse(e)||Je.isReadableStream(e))return e;if(e&&Je.isString(e)&&(i&&!this.responseType||r)){const s=!(n&&n.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(o){if(s)throw o.name==="SyntaxError"?tn.from(o,tn.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ss.classes.FormData,Blob:ss.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Je.forEach(["delete","get","head","post","put","patch"],t=>{O9.headers[t]={}});const U9=O9,qhe=Je.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Hhe=t=>{const e={};let n,i,r;return t&&t.split(`
`).forEach(function(s){r=s.indexOf(":"),n=s.substring(0,r).trim().toLowerCase(),i=s.substring(r+1).trim(),!(!n||e[n]&&qhe[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},Rj=Symbol("internals");function mx(t){return t&&String(t).trim().toLowerCase()}function qk(t){return t===!1||t==null?t:Je.isArray(t)?t.map(qk):String(t)}function Vhe(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const Ghe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function AP(t,e,n,i,r){if(Je.isFunction(i))return i.call(this,e,n);if(r&&(e=n),!!Je.isString(e)){if(Je.isString(i))return e.indexOf(i)!==-1;if(Je.isRegExp(i))return i.test(e)}}function Xhe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function Khe(t,e){const n=Je.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(r,a,s){return this[i].call(this,e,r,a,s)},configurable:!0})})}class VD{constructor(e){e&&this.set(e)}set(e,n,i){const r=this;function a(o,c,u){const d=mx(c);if(!d)throw new Error("header name must be a non-empty string");const h=Je.findKey(r,d);(!h||r[h]===void 0||u===!0||u===void 0&&r[h]!==!1)&&(r[h||c]=qk(o))}const s=(o,c)=>Je.forEach(o,(u,d)=>a(u,d,c));if(Je.isPlainObject(e)||e instanceof this.constructor)s(e,n);else if(Je.isString(e)&&(e=e.trim())&&!Ghe(e))s(Hhe(e),n);else if(Je.isObject(e)&&Je.isIterable(e)){let o={},c,u;for(const d of e){if(!Je.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[u=d[0]]=(c=o[u])?Je.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}s(o,n)}else e!=null&&a(n,e,i);return this}get(e,n){if(e=mx(e),e){const i=Je.findKey(this,e);if(i){const r=this[i];if(!n)return r;if(n===!0)return Vhe(r);if(Je.isFunction(n))return n.call(this,r,i);if(Je.isRegExp(n))return n.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=mx(e),e){const i=Je.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||AP(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let r=!1;function a(s){if(s=mx(s),s){const o=Je.findKey(i,s);o&&(!n||AP(i,i[o],o,n))&&(delete i[o],r=!0)}}return Je.isArray(e)?e.forEach(a):a(e),r}clear(e){const n=Object.keys(this);let i=n.length,r=!1;for(;i--;){const a=n[i];(!e||AP(this,this[a],a,e,!0))&&(delete this[a],r=!0)}return r}normalize(e){const n=this,i={};return Je.forEach(this,(r,a)=>{const s=Je.findKey(i,a);if(s){n[s]=qk(r),delete n[a];return}const o=e?Xhe(a):String(a).trim();o!==a&&delete n[a],n[o]=qk(r),i[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Je.forEach(this,(i,r)=>{i!=null&&i!==!1&&(n[r]=e&&Je.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(r=>i.set(r)),i}static accessor(e){const i=(this[Rj]=this[Rj]={accessors:{}}).accessors,r=this.prototype;function a(s){const o=mx(s);i[o]||(Khe(r,s),i[o]=!0)}return Je.isArray(e)?e.forEach(a):a(e),this}}VD.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Je.reduceDescriptors(VD.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});Je.freezeMethods(VD);const eu=VD;function NP(t,e){const n=this||U9,i=e||n,r=eu.from(i.headers);let a=i.data;return Je.forEach(t,function(o){a=o.call(n,a,r.normalize(),e?e.status:void 0)}),r.normalize(),a}function aJ(t){return!!(t&&t.__CANCEL__)}function Aw(t,e,n){tn.call(this,t??"canceled",tn.ERR_CANCELED,e,n),this.name="CanceledError"}Je.inherits(Aw,tn,{__CANCEL__:!0});function sJ(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new tn("Request failed with status code "+n.status,[tn.ERR_BAD_REQUEST,tn.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Yhe(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Jhe(t,e){t=t||10;const n=new Array(t),i=new Array(t);let r=0,a=0,s;return e=e!==void 0?e:1e3,function(c){const u=Date.now(),d=i[a];s||(s=u),n[r]=c,i[r]=u;let h=a,f=0;for(;h!==r;)f+=n[h++],h=h%t;if(r=(r+1)%t,r===a&&(a=(a+1)%t),u-s<e)return;const p=d&&u-d;return p?Math.round(f*1e3/p):void 0}}function Zhe(t,e){let n=0,i=1e3/e,r,a;const s=(u,d=Date.now())=>{n=d,r=null,a&&(clearTimeout(a),a=null),t(...u)};return[(...u)=>{const d=Date.now(),h=d-n;h>=i?s(u,d):(r=u,a||(a=setTimeout(()=>{a=null,s(r)},i-h)))},()=>r&&s(r)]}const kC=(t,e,n=3)=>{let i=0;const r=Jhe(50,250);return Zhe(a=>{const s=a.loaded,o=a.lengthComputable?a.total:void 0,c=s-i,u=r(c),d=s<=o;i=s;const h={loaded:s,total:o,progress:o?s/o:void 0,bytes:c,rate:u||void 0,estimated:u&&o&&d?(o-s)/u:void 0,event:a,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(h)},n)},Lj=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},Fj=t=>(...e)=>Je.asap(()=>t(...e)),Qhe=ss.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,ss.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(ss.origin),ss.navigator&&/(msie|trident)/i.test(ss.navigator.userAgent)):()=>!0,efe=ss.hasStandardBrowserEnv?{write(t,e,n,i,r,a,s){if(typeof document>"u")return;const o=[`${t}=${encodeURIComponent(e)}`];Je.isNumber(n)&&o.push(`expires=${new Date(n).toUTCString()}`),Je.isString(i)&&o.push(`path=${i}`),Je.isString(r)&&o.push(`domain=${r}`),a===!0&&o.push("secure"),Je.isString(s)&&o.push(`SameSite=${s}`),document.cookie=o.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function tfe(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function nfe(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function oJ(t,e,n){let i=!tfe(e);return t&&(i||n==!1)?nfe(t,e):e}const Oj=t=>t instanceof eu?{...t}:t;function R0(t,e){e=e||{};const n={};function i(u,d,h,f){return Je.isPlainObject(u)&&Je.isPlainObject(d)?Je.merge.call({caseless:f},u,d):Je.isPlainObject(d)?Je.merge({},d):Je.isArray(d)?d.slice():d}function r(u,d,h,f){if(Je.isUndefined(d)){if(!Je.isUndefined(u))return i(void 0,u,h,f)}else return i(u,d,h,f)}function a(u,d){if(!Je.isUndefined(d))return i(void 0,d)}function s(u,d){if(Je.isUndefined(d)){if(!Je.isUndefined(u))return i(void 0,u)}else return i(void 0,d)}function o(u,d,h){if(h in e)return i(u,d);if(h in t)return i(void 0,u)}const c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(u,d,h)=>r(Oj(u),Oj(d),h,!0)};return Je.forEach(Object.keys({...t,...e}),function(d){const h=c[d]||r,f=h(t[d],e[d],d);Je.isUndefined(f)&&h!==o||(n[d]=f)}),n}const lJ=t=>{const e=R0({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:r,xsrfCookieName:a,headers:s,auth:o}=e;if(e.headers=s=eu.from(s),e.url=nJ(oJ(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&s.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),Je.isFormData(n)){if(ss.hasStandardBrowserEnv||ss.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(Je.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([d,h])=>{u.includes(d.toLowerCase())&&s.set(d,h)})}}if(ss.hasStandardBrowserEnv&&(i&&Je.isFunction(i)&&(i=i(e)),i||i!==!1&&Qhe(e.url))){const c=r&&a&&efe.read(a);c&&s.set(r,c)}return e},ife=typeof XMLHttpRequest<"u",rfe=ife&&function(t){return new Promise(function(n,i){const r=lJ(t);let a=r.data;const s=eu.from(r.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:u}=r,d,h,f,p,w;function v(){p&&p(),w&&w(),r.cancelToken&&r.cancelToken.unsubscribe(d),r.signal&&r.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(r.method.toUpperCase(),r.url,!0),b.timeout=r.timeout;function g(){if(!b)return;const _=eu.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),N={data:!o||o==="text"||o==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:_,config:t,request:b};sJ(function(D){n(D),v()},function(D){i(D),v()},N),b=null}"onloadend"in b?b.onloadend=g:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(g)},b.onabort=function(){b&&(i(new tn("Request aborted",tn.ECONNABORTED,t,b)),b=null)},b.onerror=function(S){const N=S&&S.message?S.message:"Network Error",R=new tn(N,tn.ERR_NETWORK,t,b);R.event=S||null,i(R),b=null},b.ontimeout=function(){let S=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const N=r.transitional||iJ;r.timeoutErrorMessage&&(S=r.timeoutErrorMessage),i(new tn(S,N.clarifyTimeoutError?tn.ETIMEDOUT:tn.ECONNABORTED,t,b)),b=null},a===void 0&&s.setContentType(null),"setRequestHeader"in b&&Je.forEach(s.toJSON(),function(S,N){b.setRequestHeader(N,S)}),Je.isUndefined(r.withCredentials)||(b.withCredentials=!!r.withCredentials),o&&o!=="json"&&(b.responseType=r.responseType),u&&([f,w]=kC(u,!0),b.addEventListener("progress",f)),c&&b.upload&&([h,p]=kC(c),b.upload.addEventListener("progress",h),b.upload.addEventListener("loadend",p)),(r.cancelToken||r.signal)&&(d=_=>{b&&(i(!_||_.type?new Aw(null,t,b):_),b.abort(),b=null)},r.cancelToken&&r.cancelToken.subscribe(d),r.signal&&(r.signal.aborted?d():r.signal.addEventListener("abort",d)));const y=Yhe(r.url);if(y&&ss.protocols.indexOf(y)===-1){i(new tn("Unsupported protocol "+y+":",tn.ERR_BAD_REQUEST,t));return}b.send(a||null)})},afe=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,r;const a=function(u){if(!r){r=!0,o();const d=u instanceof Error?u:this.reason;i.abort(d instanceof tn?d:new Aw(d instanceof Error?d.message:d))}};let s=e&&setTimeout(()=>{s=null,a(new tn(`timeout ${e} of ms exceeded`,tn.ETIMEDOUT))},e);const o=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),t=null)};t.forEach(u=>u.addEventListener("abort",a));const{signal:c}=i;return c.unsubscribe=()=>Je.asap(o),c}},sfe=afe,ofe=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let i=0,r;for(;i<n;)r=i+e,yield t.slice(i,r),i=r},lfe=async function*(t,e){for await(const n of cfe(t))yield*ofe(n,e)},cfe=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},Uj=(t,e,n,i)=>{const r=lfe(t,e);let a=0,s,o=c=>{s||(s=!0,i&&i(c))};return new ReadableStream({async pull(c){try{const{done:u,value:d}=await r.next();if(u){o(),c.close();return}let h=d.byteLength;if(n){let f=a+=h;n(f)}c.enqueue(new Uint8Array(d))}catch(u){throw o(u),u}},cancel(c){return o(c),r.return()}},{highWaterMark:2})},Mj=64*1024,{isFunction:W3}=Je,ufe=(({Request:t,Response:e})=>({Request:t,Response:e}))(Je.global),{ReadableStream:Bj,TextEncoder:zj}=Je.global,jj=(t,...e)=>{try{return!!t(...e)}catch{return!1}},dfe=t=>{t=Je.merge.call({skipUndefined:!0},ufe,t);const{fetch:e,Request:n,Response:i}=t,r=e?W3(e):typeof fetch=="function",a=W3(n),s=W3(i);if(!r)return!1;const o=r&&W3(Bj),c=r&&(typeof zj=="function"?(w=>v=>w.encode(v))(new zj):async w=>new Uint8Array(await new n(w).arrayBuffer())),u=a&&o&&jj(()=>{let w=!1;const v=new n(ss.origin,{body:new Bj,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!v}),d=s&&o&&jj(()=>Je.isReadableStream(new i("").body)),h={stream:d&&(w=>w.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!h[w]&&(h[w]=(v,b)=>{let g=v&&v[w];if(g)return g.call(v);throw new tn(`Response type '${w}' is not supported`,tn.ERR_NOT_SUPPORT,b)})});const f=async w=>{if(w==null)return 0;if(Je.isBlob(w))return w.size;if(Je.isSpecCompliantForm(w))return(await new n(ss.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(Je.isArrayBufferView(w)||Je.isArrayBuffer(w))return w.byteLength;if(Je.isURLSearchParams(w)&&(w=w+""),Je.isString(w))return(await c(w)).byteLength},p=async(w,v)=>{const b=Je.toFiniteNumber(w.getContentLength());return b??f(v)};return async w=>{let{url:v,method:b,data:g,signal:y,cancelToken:_,timeout:S,onDownloadProgress:N,onUploadProgress:R,responseType:D,headers:E,withCredentials:C="same-origin",fetchOptions:P}=lJ(w),k=e||fetch;D=D?(D+"").toLowerCase():"text";let A=sfe([y,_&&_.toAbortSignal()],S),I=null;const T=A&&A.unsubscribe&&(()=>{A.unsubscribe()});let z;try{if(R&&u&&b!=="get"&&b!=="head"&&(z=await p(E,g))!==0){let B=new n(v,{method:"POST",body:g,duplex:"half"}),L;if(Je.isFormData(g)&&(L=B.headers.get("content-type"))&&E.setContentType(L),B.body){const[M,K]=Lj(z,kC(Fj(R)));g=Uj(B.body,Mj,M,K)}}Je.isString(C)||(C=C?"include":"omit");const j=a&&"credentials"in n.prototype,W={...P,signal:A,method:b.toUpperCase(),headers:E.normalize().toJSON(),body:g,duplex:"half",credentials:j?C:void 0};I=a&&new n(v,W);let $=await(a?k(I,P):k(v,W));const q=d&&(D==="stream"||D==="response");if(d&&(N||q&&T)){const B={};["status","statusText","headers"].forEach(Q=>{B[Q]=$[Q]});const L=Je.toFiniteNumber($.headers.get("content-length")),[M,K]=N&&Lj(L,kC(Fj(N),!0))||[];$=new i(Uj($.body,Mj,M,()=>{K&&K(),T&&T()}),B)}D=D||"text";let G=await h[Je.findKey(h,D)||"text"]($,w);return!q&&T&&T(),await new Promise((B,L)=>{sJ(B,L,{data:G,headers:eu.from($.headers),status:$.status,statusText:$.statusText,config:w,request:I})})}catch(j){throw T&&T(),j&&j.name==="TypeError"&&/Load failed|fetch/i.test(j.message)?Object.assign(new tn("Network Error",tn.ERR_NETWORK,w,I),{cause:j.cause||j}):tn.from(j,j&&j.code,w,I)}}},hfe=new Map,cJ=t=>{let e=t&&t.env||{};const{fetch:n,Request:i,Response:r}=e,a=[i,r,n];let s=a.length,o=s,c,u,d=hfe;for(;o--;)c=a[o],u=d.get(c),u===void 0&&d.set(c,u=o?new Map:dfe(e)),d=u;return u};cJ();const M9={http:Che,xhr:rfe,fetch:{get:cJ}};Je.forEach(M9,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const $j=t=>`- ${t}`,ffe=t=>Je.isFunction(t)||t===null||t===!1;function pfe(t,e){t=Je.isArray(t)?t:[t];const{length:n}=t;let i,r;const a={};for(let s=0;s<n;s++){i=t[s];let o;if(r=i,!ffe(i)&&(r=M9[(o=String(i)).toLowerCase()],r===void 0))throw new tn(`Unknown adapter '${o}'`);if(r&&(Je.isFunction(r)||(r=r.get(e))))break;a[o||"#"+s]=r}if(!r){const s=Object.entries(a).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=n?s.length>1?`since :
`+s.map($j).join(`
`):" "+$j(s[0]):"as no adapter specified";throw new tn("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r}const uJ={getAdapter:pfe,adapters:M9};function kP(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Aw(null,t)}function Wj(t){return kP(t),t.headers=eu.from(t.headers),t.data=NP.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),uJ.getAdapter(t.adapter||U9.adapter,t)(t).then(function(i){return kP(t),i.data=NP.call(t,t.transformResponse,i),i.headers=eu.from(i.headers),i},function(i){return aJ(i)||(kP(t),i&&i.response&&(i.response.data=NP.call(t,t.transformResponse,i.response),i.response.headers=eu.from(i.response.headers))),Promise.reject(i)})}const dJ="1.13.2",GD={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{GD[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const qj={};GD.transitional=function(e,n,i){function r(a,s){return"[Axios v"+dJ+"] Transitional option '"+a+"'"+s+(i?". "+i:"")}return(a,s,o)=>{if(e===!1)throw new tn(r(s," has been removed"+(n?" in "+n:"")),tn.ERR_DEPRECATED);return n&&!qj[s]&&(qj[s]=!0,console.warn(r(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(a,s,o):!0}};GD.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function mfe(t,e,n){if(typeof t!="object")throw new tn("options must be an object",tn.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let r=i.length;for(;r-- >0;){const a=i[r],s=e[a];if(s){const o=t[a],c=o===void 0||s(o,a,t);if(c!==!0)throw new tn("option "+a+" must be "+c,tn.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new tn("Unknown option "+a,tn.ERR_BAD_OPTION)}}const Hk={assertOptions:mfe,validators:GD},Su=Hk.validators;class CC{constructor(e){this.defaults=e||{},this.interceptors={request:new Ij,response:new Ij}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const a=r.stack?r.stack.replace(/^.+\n/,""):"";try{i.stack?a&&!String(i.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+a):i.stack=a}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=R0(this.defaults,n);const{transitional:i,paramsSerializer:r,headers:a}=n;i!==void 0&&Hk.assertOptions(i,{silentJSONParsing:Su.transitional(Su.boolean),forcedJSONParsing:Su.transitional(Su.boolean),clarifyTimeoutError:Su.transitional(Su.boolean)},!1),r!=null&&(Je.isFunction(r)?n.paramsSerializer={serialize:r}:Hk.assertOptions(r,{encode:Su.function,serialize:Su.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Hk.assertOptions(n,{baseUrl:Su.spelling("baseURL"),withXsrfToken:Su.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=a&&Je.merge(a.common,a[n.method]);a&&Je.forEach(["delete","get","head","post","put","patch","common"],w=>{delete a[w]}),n.headers=eu.concat(s,a);const o=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(c=c&&v.synchronous,o.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let d,h=0,f;if(!c){const w=[Wj.bind(this),void 0];for(w.unshift(...o),w.push(...u),f=w.length,d=Promise.resolve(n);h<f;)d=d.then(w[h++],w[h++]);return d}f=o.length;let p=n;for(;h<f;){const w=o[h++],v=o[h++];try{p=w(p)}catch(b){v.call(this,b);break}}try{d=Wj.call(this,p)}catch(w){return Promise.reject(w)}for(h=0,f=u.length;h<f;)d=d.then(u[h++],u[h++]);return d}getUri(e){e=R0(this.defaults,e);const n=oJ(e.baseURL,e.url,e.allowAbsoluteUrls);return nJ(n,e.params,e.paramsSerializer)}}Je.forEach(["delete","get","head","options"],function(e){CC.prototype[e]=function(n,i){return this.request(R0(i||{},{method:e,url:n,data:(i||{}).data}))}});Je.forEach(["post","put","patch"],function(e){function n(i){return function(a,s,o){return this.request(R0(o||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:a,data:s}))}}CC.prototype[e]=n(),CC.prototype[e+"Form"]=n(!0)});const Vk=CC;class B9{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const i=this;this.promise.then(r=>{if(!i._listeners)return;let a=i._listeners.length;for(;a-- >0;)i._listeners[a](r);i._listeners=null}),this.promise.then=r=>{let a;const s=new Promise(o=>{i.subscribe(o),a=o}).then(r);return s.cancel=function(){i.unsubscribe(a)},s},e(function(a,s,o){i.reason||(i.reason=new Aw(a,s,o),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new B9(function(r){e=r}),cancel:e}}}const gfe=B9;function yfe(t){return function(n){return t.apply(null,n)}}function vfe(t){return Je.isObject(t)&&t.isAxiosError===!0}const XL={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(XL).forEach(([t,e])=>{XL[e]=t});const bfe=XL;function hJ(t){const e=new Vk(t),n=qY(Vk.prototype.request,e);return Je.extend(n,Vk.prototype,e,{allOwnKeys:!0}),Je.extend(n,e,null,{allOwnKeys:!0}),n.create=function(r){return hJ(R0(t,r))},n}const Tr=hJ(U9);Tr.Axios=Vk;Tr.CanceledError=Aw;Tr.CancelToken=gfe;Tr.isCancel=aJ;Tr.VERSION=dJ;Tr.toFormData=HD;Tr.AxiosError=tn;Tr.Cancel=Tr.CanceledError;Tr.all=function(e){return Promise.all(e)};Tr.spread=yfe;Tr.isAxiosError=vfe;Tr.mergeConfig=R0;Tr.AxiosHeaders=eu;Tr.formToJSON=t=>rJ(Je.isHTMLForm(t)?new FormData(t):t);Tr.getAdapter=uJ.getAdapter;Tr.HttpStatusCode=bfe;Tr.default=Tr;const fJ=Tr,wfe="https://planninginsight-backend.vercel.app",Za=fJ.create({baseURL:wfe,headers:{"Content-Type":"application/json"}});Za.interceptors.request.use(t=>{const e=localStorage.getItem("authToken");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));Za.interceptors.response.use(t=>t,t=>{var e;return((e=t.response)==null?void 0:e.status)===401&&(localStorage.removeItem("authToken"),window.location.href="/login"),Promise.reject(t)});const Ey={login:async t=>(await Za.post("/auth/login",t)).data,signup:async t=>(await Za.post("/auth/signup",t)).data,requestSignupOTP:async t=>(await Za.post("/auth/request-signup-otp",t)).data,verifySignupOTP:async(t,e)=>(await Za.post("/auth/verify-signup",{email:t,otp:e})).data,requestLoginOTP:async t=>(await Za.post("/auth/request-login-otp",{email:t})).data,verifyLoginOTP:async(t,e)=>(await Za.post("/auth/verify-login-otp",{email:t,otp:e})).data,requestOTP:async t=>(await Za.post("/auth/request-otp",{email:t})).data,verifyOTP:async(t,e)=>(await Za.post("/auth/verify-otp",{email:t,otp:e})).data,socialLogin:async(t,e)=>(await Za.post("/auth/social-login",{provider:t,token:e})).data,forgotPassword:async t=>(await Za.post("/auth/forgot-password",{email:t})).data,resetPassword:async(t,e)=>(await Za.post("/auth/reset-password",{token:t,newPassword:e})).data,getCurrentUser:async()=>(await Za.get("/auth/me")).data,updateProfile:async t=>(await Za.put("/auth/profile",t)).data,logout:async()=>(await Za.post("/auth/logout")).data},xfe=()=>{};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pJ=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},_fe=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const a=t[n++];e[i++]=String.fromCharCode((r&31)<<6|a&63)}else if(r>239&&r<365){const a=t[n++],s=t[n++],o=t[n++],c=((r&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[i++]=String.fromCharCode(55296+(c>>10)),e[i++]=String.fromCharCode(56320+(c&1023))}else{const a=t[n++],s=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(a&63)<<6|s&63)}}return e.join("")},mJ={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const a=t[r],s=r+1<t.length,o=s?t[r+1]:0,c=r+2<t.length,u=c?t[r+2]:0,d=a>>2,h=(a&3)<<4|o>>4;let f=(o&15)<<2|u>>6,p=u&63;c||(p=64,s||(f=64)),i.push(n[d],n[h],n[f],n[p])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(pJ(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):_fe(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const a=n[t.charAt(r++)],o=r<t.length?n[t.charAt(r)]:0;++r;const u=r<t.length?n[t.charAt(r)]:64;++r;const h=r<t.length?n[t.charAt(r)]:64;if(++r,a==null||o==null||u==null||h==null)throw new Sfe;const f=a<<2|o>>4;if(i.push(f),u!==64){const p=o<<4&240|u>>2;if(i.push(p),h!==64){const w=u<<6&192|h;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Sfe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Afe=function(t){const e=pJ(t);return mJ.encodeByteArray(e,!0)},EC=function(t){return Afe(t).replace(/\./g,"")},gJ=function(t){try{return mJ.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nfe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kfe=()=>Nfe().__FIREBASE_DEFAULTS__,Cfe=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Efe=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&gJ(t[1]);return e&&JSON.parse(e)},z9=()=>{try{return xfe()||kfe()||Cfe()||Efe()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yJ=t=>{var e,n;return(n=(e=z9())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},vJ=t=>{const e=yJ(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},bJ=()=>{var t;return(t=z9())==null?void 0:t.config},wJ=t=>{var e;return(e=z9())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tfe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function j9(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xJ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t},o="";return[EC(JSON.stringify(n)),EC(JSON.stringify(s)),o].join(".")}const A5={};function Dfe(){const t={prod:[],emulator:[]};for(const e of Object.keys(A5))A5[e]?t.emulator.push(e):t.prod.push(e);return t}function Pfe(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Hj=!1;function $9(t,e){if(typeof window>"u"||typeof document>"u"||!Nw(window.location.host)||A5[t]===e||A5[t]||Hj)return;A5[t]=e;function n(f){return`__firebase__banner__${f}`}const i="__firebase__banner",a=Dfe().prod.length>0;function s(){const f=document.getElementById(i);f&&f.remove()}function o(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function c(f,p){f.setAttribute("width","24"),f.setAttribute("id",p),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function u(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{Hj=!0,s()},f}function d(f,p){f.setAttribute("id",p),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=Pfe(i),p=n("text"),w=document.getElementById(p)||document.createElement("span"),v=n("learnmore"),b=document.getElementById(v)||document.createElement("a"),g=n("preprendIcon"),y=document.getElementById(g)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const _=f.element;o(_),d(b,v);const S=u();c(y,g),_.append(y,w,b,S),document.body.appendChild(_)}a?(w.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Os(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ife(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Os())}function Rfe(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _J(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Lfe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ffe(){const t=Os();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function SJ(){try{return typeof indexedDB=="object"}catch{return!1}}function AJ(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var a;e(((a=r.error)==null?void 0:a.message)||"")}}catch(n){e(n)}})}function Ofe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ufe="FirebaseError";class mc extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=Ufe,Object.setPrototypeOf(this,mc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ey.prototype.create)}}class ey{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,a=this.errors[e],s=a?Mfe(a,i):"Error",o=`${this.serviceName}: ${s} (${r}).`;return new mc(r,o,i)}}function Mfe(t,e){return t.replace(Bfe,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const Bfe=/\{\$([^}]+)}/g;function zfe(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Dm(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const a=t[r],s=e[r];if(Vj(a)&&Vj(s)){if(!Dm(a,s))return!1}else if(a!==s)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function Vj(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function zx(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,a]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(a)}}),e}function jx(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function jfe(t,e){const n=new $fe(t,e);return n.subscribe.bind(n)}class $fe{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");Wfe(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=CP),r.error===void 0&&(r.error=CP),r.complete===void 0&&(r.complete=CP);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wfe(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function CP(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qfe=1e3,Hfe=2,Vfe=4*60*60*1e3,Gfe=.5;function Gj(t,e=qfe,n=Hfe){const i=e*Math.pow(n,t),r=Math.round(Gfe*i*(Math.random()-.5)*2);return Math.min(Vfe,i+r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(t){return t&&t._delegate?t._delegate:t}class dc{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xfe{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Tfe;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Yfe(e))try{this.getOrInitializeService({instanceIdentifier:vg})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:r});i.resolve(a)}catch{}}}}clearInstance(e=vg){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vg){return this.instances.has(e)}getOptions(e=vg){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);i===o&&s.resolve(r)}return r}onInit(e,n){const i=this.normalizeInstanceIdentifier(n),r=this.onInitCallbacks.get(i)??new Set;r.add(e),this.onInitCallbacks.set(i,r);const a=this.instances.get(i);return a&&e(a,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Kfe(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=vg){return this.component?this.component.multipleInstances?e:vg:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Kfe(t){return t===vg?void 0:t}function Yfe(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jfe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Xfe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Mn||(Mn={}));const Zfe={debug:Mn.DEBUG,verbose:Mn.VERBOSE,info:Mn.INFO,warn:Mn.WARN,error:Mn.ERROR,silent:Mn.SILENT},Qfe=Mn.INFO,epe={[Mn.DEBUG]:"log",[Mn.VERBOSE]:"log",[Mn.INFO]:"info",[Mn.WARN]:"warn",[Mn.ERROR]:"error"},tpe=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=epe[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class XD{constructor(e){this.name=e,this._logLevel=Qfe,this._logHandler=tpe,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Mn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Zfe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Mn.DEBUG,...e),this._logHandler(this,Mn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Mn.VERBOSE,...e),this._logHandler(this,Mn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Mn.INFO,...e),this._logHandler(this,Mn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Mn.WARN,...e),this._logHandler(this,Mn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Mn.ERROR,...e),this._logHandler(this,Mn.ERROR,...e)}}const npe=(t,e)=>e.some(n=>t instanceof n);let Xj,Kj;function ipe(){return Xj||(Xj=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rpe(){return Kj||(Kj=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NJ=new WeakMap,KL=new WeakMap,kJ=new WeakMap,EP=new WeakMap,W9=new WeakMap;function ape(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(wm(t.result)),r()},s=()=>{i(t.error),r()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&NJ.set(n,t)}).catch(()=>{}),W9.set(e,t),e}function spe(t){if(KL.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),r()},s=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});KL.set(t,e)}let YL={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return KL.get(t);if(e==="objectStoreNames")return t.objectStoreNames||kJ.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wm(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ope(t){YL=t(YL)}function lpe(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(TP(this),e,...n);return kJ.set(i,e.sort?e.sort():[e]),wm(i)}:rpe().includes(t)?function(...e){return t.apply(TP(this),e),wm(NJ.get(this))}:function(...e){return wm(t.apply(TP(this),e))}}function cpe(t){return typeof t=="function"?lpe(t):(t instanceof IDBTransaction&&spe(t),npe(t,ipe())?new Proxy(t,YL):t)}function wm(t){if(t instanceof IDBRequest)return ape(t);if(EP.has(t))return EP.get(t);const e=cpe(t);return e!==t&&(EP.set(t,e),W9.set(e,t)),e}const TP=t=>W9.get(t);function CJ(t,e,{blocked:n,upgrade:i,blocking:r,terminated:a}={}){const s=indexedDB.open(t,e),o=wm(s);return i&&s.addEventListener("upgradeneeded",c=>{i(wm(s.result),c.oldVersion,c.newVersion,wm(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),o.then(c=>{a&&c.addEventListener("close",()=>a()),r&&c.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const upe=["get","getKey","getAll","getAllKeys","count"],dpe=["put","add","delete","clear"],DP=new Map;function Yj(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(DP.get(e))return DP.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=dpe.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||upe.includes(n)))return;const a=async function(s,...o){const c=this.transaction(s,r?"readwrite":"readonly");let u=c.store;return i&&(u=u.index(o.shift())),(await Promise.all([u[n](...o),r&&c.done]))[0]};return DP.set(e,a),a}ope(t=>({...t,get:(e,n,i)=>Yj(e,n)||t.get(e,n,i),has:(e,n)=>!!Yj(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hpe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fpe(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function fpe(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const JL="@firebase/app",Jj="0.14.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf=new XD("@firebase/app"),ppe="@firebase/app-compat",mpe="@firebase/analytics-compat",gpe="@firebase/analytics",ype="@firebase/app-check-compat",vpe="@firebase/app-check",bpe="@firebase/auth",wpe="@firebase/auth-compat",xpe="@firebase/database",_pe="@firebase/data-connect",Spe="@firebase/database-compat",Ape="@firebase/functions",Npe="@firebase/functions-compat",kpe="@firebase/installations",Cpe="@firebase/installations-compat",Epe="@firebase/messaging",Tpe="@firebase/messaging-compat",Dpe="@firebase/performance",Ppe="@firebase/performance-compat",Ipe="@firebase/remote-config",Rpe="@firebase/remote-config-compat",Lpe="@firebase/storage",Fpe="@firebase/storage-compat",Ope="@firebase/firestore",Upe="@firebase/ai",Mpe="@firebase/firestore-compat",Bpe="firebase",zpe="12.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL="[DEFAULT]",jpe={[JL]:"fire-core",[ppe]:"fire-core-compat",[gpe]:"fire-analytics",[mpe]:"fire-analytics-compat",[vpe]:"fire-app-check",[ype]:"fire-app-check-compat",[bpe]:"fire-auth",[wpe]:"fire-auth-compat",[xpe]:"fire-rtdb",[_pe]:"fire-data-connect",[Spe]:"fire-rtdb-compat",[Ape]:"fire-fn",[Npe]:"fire-fn-compat",[kpe]:"fire-iid",[Cpe]:"fire-iid-compat",[Epe]:"fire-fcm",[Tpe]:"fire-fcm-compat",[Dpe]:"fire-perf",[Ppe]:"fire-perf-compat",[Ipe]:"fire-rc",[Rpe]:"fire-rc-compat",[Lpe]:"fire-gcs",[Fpe]:"fire-gcs-compat",[Ope]:"fire-fst",[Mpe]:"fire-fst-compat",[Upe]:"fire-vertex","fire-js":"fire-js",[Bpe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=new Map,$pe=new Map,QL=new Map;function Zj(t,e){try{t.container.addComponent(e)}catch(n){cf.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function iu(t){const e=t.name;if(QL.has(e))return cf.debug(`There were multiple attempts to register component ${e}.`),!1;QL.set(e,t);for(const n of TC.values())Zj(n,t);for(const n of $pe.values())Zj(n,t);return!0}function Hm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ro(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wpe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xm=new ey("app","Firebase",Wpe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qpe{constructor(e,n,i){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new dc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xm.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty=zpe;function EJ(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i={name:ZL,automaticDataCollectionEnabled:!0,...e},r=i.name;if(typeof r!="string"||!r)throw xm.create("bad-app-name",{appName:String(r)});if(n||(n=bJ()),!n)throw xm.create("no-options");const a=TC.get(r);if(a){if(Dm(n,a.options)&&Dm(i,a.config))return a;throw xm.create("duplicate-app",{appName:r})}const s=new Jfe(r);for(const c of QL.values())s.addComponent(c);const o=new qpe(n,i,s);return TC.set(r,o),o}function KD(t=ZL){const e=TC.get(t);if(!e&&t===ZL&&bJ())return EJ();if(!e)throw xm.create("no-app",{appName:t});return e}function po(t,e,n){let i=jpe[t]??t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),a=e.match(/\s|\//);if(r||a){const s=[`Unable to register library "${i}" with version "${e}":`];r&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cf.warn(s.join(" "));return}iu(new dc(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hpe="firebase-heartbeat-database",Vpe=1,e_="firebase-heartbeat-store";let PP=null;function TJ(){return PP||(PP=CJ(Hpe,Vpe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(e_)}catch(n){console.warn(n)}}}}).catch(t=>{throw xm.create("idb-open",{originalErrorMessage:t.message})})),PP}async function Gpe(t){try{const n=(await TJ()).transaction(e_),i=await n.objectStore(e_).get(DJ(t));return await n.done,i}catch(e){if(e instanceof mc)cf.warn(e.message);else{const n=xm.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});cf.warn(n.message)}}}async function Qj(t,e){try{const i=(await TJ()).transaction(e_,"readwrite");await i.objectStore(e_).put(e,DJ(t)),await i.done}catch(n){if(n instanceof mc)cf.warn(n.message);else{const i=xm.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});cf.warn(i.message)}}}function DJ(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xpe=1024,Kpe=30;class Ype{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Zpe(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=e$();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:r}),this._heartbeatsCache.heartbeats.length>Kpe){const s=Qpe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){cf.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=e$(),{heartbeatsToSend:i,unsentEntries:r}=Jpe(this._heartbeatsCache.heartbeats),a=EC(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return cf.warn(n),""}}}function e$(){return new Date().toISOString().substring(0,10)}function Jpe(t,e=Xpe){const n=[];let i=t.slice();for(const r of t){const a=n.find(s=>s.agent===r.agent);if(a){if(a.dates.push(r.date),t$(n)>e){a.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),t$(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Zpe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SJ()?AJ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Gpe(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Qj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Qj(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function t$(t){return EC(JSON.stringify({version:2,heartbeats:t})).length}function Qpe(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eme(t){iu(new dc("platform-logger",e=>new hpe(e),"PRIVATE")),iu(new dc("heartbeat",e=>new Ype(e),"PRIVATE")),po(JL,Jj,t),po(JL,Jj,"esm2020"),po("fire-js","")}eme("");var tme="firebase",nme="12.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */po(tme,nme,"app");const PJ="@firebase/installations",q9="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IJ=1e4,RJ=`w:${q9}`,LJ="FIS_v2",ime="https://firebaseinstallations.googleapis.com/v1",rme=60*60*1e3,ame="installations",sme="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ome={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},L0=new ey(ame,sme,ome);function FJ(t){return t instanceof mc&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OJ({projectId:t}){return`${ime}/projects/${t}/installations`}function UJ(t){return{token:t.token,requestStatus:2,expiresIn:cme(t.expiresIn),creationTime:Date.now()}}async function MJ(t,e){const i=(await e.json()).error;return L0.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function BJ({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function lme(t,{refreshToken:e}){const n=BJ(t);return n.append("Authorization",ume(e)),n}async function zJ(t){const e=await t();return e.status>=500&&e.status<600?t():e}function cme(t){return Number(t.replace("s","000"))}function ume(t){return`${LJ} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dme({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=OJ(t),r=BJ(t),a=e.getImmediate({optional:!0});if(a){const u=await a.getHeartbeatsHeader();u&&r.append("x-firebase-client",u)}const s={fid:n,authVersion:LJ,appId:t.appId,sdkVersion:RJ},o={method:"POST",headers:r,body:JSON.stringify(s)},c=await zJ(()=>fetch(i,o));if(c.ok){const u=await c.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:UJ(u.authToken)}}else throw await MJ("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jJ(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hme(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fme=/^[cdef][\w-]{21}$/,e7="";function pme(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=mme(t);return fme.test(n)?n:e7}catch{return e7}}function mme(t){return hme(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $J=new Map;function WJ(t,e){const n=YD(t);qJ(n,e),gme(n,e)}function qJ(t,e){const n=$J.get(t);if(n)for(const i of n)i(e)}function gme(t,e){const n=yme();n&&n.postMessage({key:t,fid:e}),vme()}let Lg=null;function yme(){return!Lg&&"BroadcastChannel"in self&&(Lg=new BroadcastChannel("[Firebase] FID Change"),Lg.onmessage=t=>{qJ(t.data.key,t.data.fid)}),Lg}function vme(){$J.size===0&&Lg&&(Lg.close(),Lg=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bme="firebase-installations-database",wme=1,F0="firebase-installations-store";let IP=null;function H9(){return IP||(IP=CJ(bme,wme,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(F0)}}})),IP}async function DC(t,e){const n=YD(t),r=(await H9()).transaction(F0,"readwrite"),a=r.objectStore(F0),s=await a.get(n);return await a.put(e,n),await r.done,(!s||s.fid!==e.fid)&&WJ(t,e.fid),e}async function HJ(t){const e=YD(t),i=(await H9()).transaction(F0,"readwrite");await i.objectStore(F0).delete(e),await i.done}async function JD(t,e){const n=YD(t),r=(await H9()).transaction(F0,"readwrite"),a=r.objectStore(F0),s=await a.get(n),o=e(s);return o===void 0?await a.delete(n):await a.put(o,n),await r.done,o&&(!s||s.fid!==o.fid)&&WJ(t,o.fid),o}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V9(t){let e;const n=await JD(t.appConfig,i=>{const r=xme(i),a=_me(t,r);return e=a.registrationPromise,a.installationEntry});return n.fid===e7?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function xme(t){const e=t||{fid:pme(),registrationStatus:0};return VJ(e)}function _me(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(L0.create("app-offline"));return{installationEntry:e,registrationPromise:r}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=Sme(t,n);return{installationEntry:n,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Ame(t)}:{installationEntry:e}}async function Sme(t,e){try{const n=await dme(t,e);return DC(t.appConfig,n)}catch(n){throw FJ(n)&&n.customData.serverCode===409?await HJ(t.appConfig):await DC(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Ame(t){let e=await n$(t.appConfig);for(;e.registrationStatus===1;)await jJ(100),e=await n$(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:i}=await V9(t);return i||n}return e}function n$(t){return JD(t,e=>{if(!e)throw L0.create("installation-not-found");return VJ(e)})}function VJ(t){return Nme(t)?{fid:t.fid,registrationStatus:0}:t}function Nme(t){return t.registrationStatus===1&&t.registrationTime+IJ<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kme({appConfig:t,heartbeatServiceProvider:e},n){const i=Cme(t,n),r=lme(t,n),a=e.getImmediate({optional:!0});if(a){const u=await a.getHeartbeatsHeader();u&&r.append("x-firebase-client",u)}const s={installation:{sdkVersion:RJ,appId:t.appId}},o={method:"POST",headers:r,body:JSON.stringify(s)},c=await zJ(()=>fetch(i,o));if(c.ok){const u=await c.json();return UJ(u)}else throw await MJ("Generate Auth Token",c)}function Cme(t,{fid:e}){return`${OJ(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G9(t,e=!1){let n;const i=await JD(t.appConfig,a=>{if(!GJ(a))throw L0.create("not-registered");const s=a.authToken;if(!e&&Dme(s))return a;if(s.requestStatus===1)return n=Eme(t,e),a;{if(!navigator.onLine)throw L0.create("app-offline");const o=Ime(a);return n=Tme(t,o),o}});return n?await n:i.authToken}async function Eme(t,e){let n=await i$(t.appConfig);for(;n.authToken.requestStatus===1;)await jJ(100),n=await i$(t.appConfig);const i=n.authToken;return i.requestStatus===0?G9(t,e):i}function i$(t){return JD(t,e=>{if(!GJ(e))throw L0.create("not-registered");const n=e.authToken;return Rme(n)?{...e,authToken:{requestStatus:0}}:e})}async function Tme(t,e){try{const n=await kme(t,e),i={...e,authToken:n};return await DC(t.appConfig,i),n}catch(n){if(FJ(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await HJ(t.appConfig);else{const i={...e,authToken:{requestStatus:0}};await DC(t.appConfig,i)}throw n}}function GJ(t){return t!==void 0&&t.registrationStatus===2}function Dme(t){return t.requestStatus===2&&!Pme(t)}function Pme(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+rme}function Ime(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function Rme(t){return t.requestStatus===1&&t.requestTime+IJ<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lme(t){const e=t,{installationEntry:n,registrationPromise:i}=await V9(e);return i?i.catch(console.error):G9(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fme(t,e=!1){const n=t;return await Ome(n),(await G9(n,e)).token}async function Ome(t){const{registrationPromise:e}=await V9(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ume(t){if(!t||!t.options)throw RP("App Configuration");if(!t.name)throw RP("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw RP(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function RP(t){return L0.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XJ="installations",Mme="installations-internal",Bme=t=>{const e=t.getProvider("app").getImmediate(),n=Ume(e),i=Hm(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},zme=t=>{const e=t.getProvider("app").getImmediate(),n=Hm(e,XJ).getImmediate();return{getId:()=>Lme(n),getToken:r=>Fme(n,r)}};function jme(){iu(new dc(XJ,Bme,"PUBLIC")),iu(new dc(Mme,zme,"PRIVATE"))}jme();po(PJ,q9);po(PJ,q9,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC="analytics",$me="firebase_id",Wme="origin",qme=60*1e3,Hme="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",X9="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new XD("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vme={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},pl=new ey("analytics","Analytics",Vme);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gme(t){if(!t.startsWith(X9)){const e=pl.create("invalid-gtag-resource",{gtagURL:t});return Fs.warn(e.message),""}return t}function KJ(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Xme(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function Kme(t,e){const n=Xme("firebase-js-sdk-policy",{createScriptURL:Gme}),i=document.createElement("script"),r=`${X9}?l=${t}&id=${e}`;i.src=n?n==null?void 0:n.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function Yme(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Jme(t,e,n,i,r,a){const s=i[r];try{if(s)await e[s];else{const c=(await KJ(n)).find(u=>u.measurementId===r);c&&await e[c.appId]}}catch(o){Fs.error(o)}t("config",r,a)}async function Zme(t,e,n,i,r){try{let a=[];if(r&&r.send_to){let s=r.send_to;Array.isArray(s)||(s=[s]);const o=await KJ(n);for(const c of s){const u=o.find(h=>h.measurementId===c),d=u&&e[u.appId];if(d)a.push(d);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",i,r||{})}catch(a){Fs.error(a)}}function Qme(t,e,n,i){async function r(a,...s){try{if(a==="event"){const[o,c]=s;await Zme(t,e,n,o,c)}else if(a==="config"){const[o,c]=s;await Jme(t,e,n,i,o,c)}else if(a==="consent"){const[o,c]=s;t("consent",o,c)}else if(a==="get"){const[o,c,u]=s;t("get",o,c,u)}else if(a==="set"){const[o]=s;t("set",o)}else t(a,...s)}catch(o){Fs.error(o)}}return r}function ege(t,e,n,i,r){let a=function(...s){window[i].push(arguments)};return window[r]&&typeof window[r]=="function"&&(a=window[r]),window[r]=Qme(a,t,e,n),{gtagCore:a,wrappedGtag:window[r]}}function tge(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(X9)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nge=30,ige=1e3;class rge{constructor(e={},n=ige){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const YJ=new rge;function age(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function sge(t){var s;const{appId:e,apiKey:n}=t,i={method:"GET",headers:age(n)},r=Hme.replace("{app-id}",e),a=await fetch(r,i);if(a.status!==200&&a.status!==304){let o="";try{const c=await a.json();(s=c.error)!=null&&s.message&&(o=c.error.message)}catch{}throw pl.create("config-fetch-failed",{httpStatus:a.status,responseMessage:o})}return a.json()}async function oge(t,e=YJ,n){const{appId:i,apiKey:r,measurementId:a}=t.options;if(!i)throw pl.create("no-app-id");if(!r){if(a)return{measurementId:a,appId:i};throw pl.create("no-api-key")}const s=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new uge;return setTimeout(async()=>{o.abort()},n!==void 0?n:qme),JJ({appId:i,apiKey:r,measurementId:a},s,o,e)}async function JJ(t,{throttleEndTimeMillis:e,backoffCount:n},i,r=YJ){var o;const{appId:a,measurementId:s}=t;try{await lge(i,e)}catch(c){if(s)return Fs.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:a,measurementId:s};throw c}try{const c=await sge(t);return r.deleteThrottleMetadata(a),c}catch(c){const u=c;if(!cge(u)){if(r.deleteThrottleMetadata(a),s)return Fs.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:a,measurementId:s};throw c}const d=Number((o=u==null?void 0:u.customData)==null?void 0:o.httpStatus)===503?Gj(n,r.intervalMillis,nge):Gj(n,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return r.setThrottleMetadata(a,h),Fs.debug(`Calling attemptFetch again in ${d} millis`),JJ(t,h,i,r)}}function lge(t,e){return new Promise((n,i)=>{const r=Math.max(e-Date.now(),0),a=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(a),i(pl.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function cge(t){if(!(t instanceof mc)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class uge{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function dge(t,e,n,i,r){if(r&&r.global){t("event",n,i);return}else{const a=await e,s={...i,send_to:a};t("event",n,s)}}async function hge(t,e,n,i){if(i&&i.global){const r={};for(const a of Object.keys(n))r[`user_properties.${a}`]=n[a];return t("set",r),Promise.resolve()}else{const r=await e;t("config",r,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fge(){if(SJ())try{await AJ()}catch(t){return Fs.warn(pl.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Fs.warn(pl.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function pge(t,e,n,i,r,a,s){const o=oge(t);o.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Fs.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Fs.error(f)),e.push(o);const c=fge().then(f=>{if(f)return i.getId()}),[u,d]=await Promise.all([o,c]);tge(a)||Kme(a,u.measurementId),r("js",new Date);const h=(s==null?void 0:s.config)??{};return h[Wme]="firebase",h.update=!0,d!=null&&(h[$me]=d),r("config",u.measurementId,h),u.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mge{constructor(e){this.app=e}_delete(){return delete Ev[this.app.options.appId],Promise.resolve()}}let Ev={},r$=[];const a$={};let LP="dataLayer",gge="gtag",s$,K9,o$=!1;function yge(){const t=[];if(_J()&&t.push("This is a browser extension environment."),Ofe()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,r)=>`(${r+1}) ${i}`).join(" "),n=pl.create("invalid-analytics-context",{errorInfo:e});Fs.warn(n.message)}}function vge(t,e,n){yge();const i=t.options.appId;if(!i)throw pl.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Fs.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw pl.create("no-api-key");if(Ev[i]!=null)throw pl.create("already-exists",{id:i});if(!o$){Yme(LP);const{wrappedGtag:a,gtagCore:s}=ege(Ev,r$,a$,LP,gge);K9=a,s$=s,o$=!0}return Ev[i]=pge(t,r$,a$,e,s$,LP,n),new mge(t)}function bge(t=KD()){t=zs(t);const e=Hm(t,PC);return e.isInitialized()?e.getImmediate():wge(t)}function wge(t,e={}){const n=Hm(t,PC);if(n.isInitialized()){const r=n.getImmediate();if(Dm(e,n.getOptions()))return r;throw pl.create("already-initialized")}return n.initialize({options:e})}function xge(t,e,n){t=zs(t),hge(K9,Ev[t.app.options.appId],e,n).catch(i=>Fs.error(i))}function _ge(t,e,n,i){t=zs(t),dge(K9,Ev[t.app.options.appId],e,n,i).catch(r=>Fs.error(r))}const l$="@firebase/analytics",c$="0.10.19";function Sge(){iu(new dc(PC,(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();return vge(i,r,n)},"PUBLIC")),iu(new dc("analytics-internal",t,"PRIVATE")),po(l$,c$),po(l$,c$,"esm2020");function t(e){try{const n=e.getProvider(PC).getImmediate();return{logEvent:(i,r,a)=>_ge(n,i,r,a),setUserProperties:(i,r)=>xge(n,i,r)}}catch(n){throw pl.create("interop-component-reg-failed",{reason:n})}}}Sge();function ZJ(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Age=ZJ,QJ=new ey("auth","Firebase",ZJ());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC=new XD("@firebase/auth");function Nge(t,...e){IC.logLevel<=Mn.WARN&&IC.warn(`Auth (${ty}): ${t}`,...e)}function Gk(t,...e){IC.logLevel<=Mn.ERROR&&IC.error(`Auth (${ty}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(t,...e){throw J9(t,...e)}function tu(t,...e){return J9(t,...e)}function Y9(t,e,n){const i={...Age(),[e]:n};return new ey("auth","Firebase",i).create(e,{appName:t.name})}function tf(t){return Y9(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kge(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&hc(t,"argument-error"),Y9(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function J9(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return QJ.create(t,...e)}function $t(t,e,...n){if(!t)throw J9(e,...n)}function Jh(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Gk(e),new Error(e)}function uf(t,e){t||Jh(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t7(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function Cge(){return u$()==="http:"||u$()==="https:"}function u$(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ege(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Cge()||_J()||"connection"in navigator)?navigator.onLine:!0}function Tge(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,n){this.shortDelay=e,this.longDelay=n,uf(n>e,"Short delay should be less than long delay!"),this.isMobile=Ife()||Lfe()}get(){return Ege()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z9(t,e){uf(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eZ{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jh("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jh("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jh("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dge={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pge=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Ige=new EN(3e4,6e4);function Vm(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function bf(t,e,n,i,r={}){return tZ(t,r,async()=>{let a={},s={};i&&(e==="GET"?s=i:a={body:JSON.stringify(i)});const o=CN({key:t.config.apiKey,...s}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...a};return Rfe()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Nw(t.emulatorConfig.host)&&(u.credentials="include"),eZ.fetch()(await nZ(t,t.config.apiHost,n,o),u)})}async function tZ(t,e,n){t._canInitEmulator=!1;const i={...Dge,...e};try{const r=new Lge(t),a=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw q3(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[c,u]=o.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw q3(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw q3(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw q3(t,"user-disabled",s);const d=i[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Y9(t,d,u);hc(t,d)}}catch(r){if(r instanceof mc)throw r;hc(t,"network-request-failed",{message:String(r)})}}async function TN(t,e,n,i,r={}){const a=await bf(t,e,n,i,r);return"mfaPendingCredential"in a&&hc(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function nZ(t,e,n,i){const r=`${e}${n}?${i}`,a=t,s=a.config.emulator?Z9(t.config,r):`${t.config.apiScheme}://${r}`;return Pge.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function Rge(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Lge{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(tu(this.auth,"network-request-failed")),Ige.get())})}}function q3(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=tu(t,e,i);return r.customData._tokenResponse=n,r}function d$(t){return t!==void 0&&t.enterprise!==void 0}class Fge{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Rge(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Oge(t,e){return bf(t,"GET","/v2/recaptchaConfig",Vm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uge(t,e){return bf(t,"POST","/v1/accounts:delete",e)}async function RC(t,e){return bf(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N5(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Mge(t,e=!1){const n=zs(t),i=await n.getIdToken(e),r=Q9(i);$t(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const a=typeof r.firebase=="object"?r.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:r,token:i,authTime:N5(FP(r.auth_time)),issuedAtTime:N5(FP(r.iat)),expirationTime:N5(FP(r.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function FP(t){return Number(t)*1e3}function Q9(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Gk("JWT malformed, contained fewer than 3 sections"),null;try{const r=gJ(n);return r?JSON.parse(r):(Gk("Failed to decode base64 JWT payload"),null)}catch(r){return Gk("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function h$(t){const e=Q9(t);return $t(e,"internal-error"),$t(typeof e.exp<"u","internal-error"),$t(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ew(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof mc&&Bge(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function Bge({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zge{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=N5(this.lastLoginAt),this.creationTime=N5(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LC(t){var h;const e=t.auth,n=await t.getIdToken(),i=await ew(t,RC(e,{idToken:n}));$t(i==null?void 0:i.users.length,e,"internal-error");const r=i.users[0];t._notifyReloadListener(r);const a=(h=r.providerUserInfo)!=null&&h.length?iZ(r.providerUserInfo):[],s=$ge(t.providerData,a),o=t.isAnonymous,c=!(t.email&&r.passwordHash)&&!(s!=null&&s.length),u=o?c:!1,d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new n7(r.createdAt,r.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function jge(t){const e=zs(t);await LC(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $ge(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function iZ(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wge(t,e){const n=await tZ(t,{},async()=>{const i=CN({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:a}=t.config,s=await nZ(t,r,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:o,body:i};return t.emulatorConfig&&Nw(t.emulatorConfig.host)&&(c.credentials="include"),eZ.fetch()(s,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function qge(t,e){return bf(t,"POST","/v2/accounts:revokeToken",Vm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$t(e.idToken,"internal-error"),$t(typeof e.idToken<"u","internal-error"),$t(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):h$(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){$t(e.length!==0,"internal-error");const n=h$(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:($t(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:a}=await Wge(e,n);this.updateTokensAndExpiration(i,r,Number(a))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:a}=n,s=new Tv;return i&&($t(typeof i=="string","internal-error",{appName:e}),s.refreshToken=i),r&&($t(typeof r=="string","internal-error",{appName:e}),s.accessToken=r),a&&($t(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Tv,this.toJSON())}_performRefresh(){return Jh("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(t,e){$t(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Kc{constructor({uid:e,auth:n,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new zge(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new n7(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await ew(this,this.stsTokenManager.getToken(this.auth,e));return $t(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Mge(this,e)}reload(){return jge(this)}_assign(e){this!==e&&($t(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Kc({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){$t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await LC(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ro(this.auth.app))return Promise.reject(tf(this.auth));const e=await this.getIdToken();return await ew(this,Uge(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const i=n.displayName??void 0,r=n.email??void 0,a=n.phoneNumber??void 0,s=n.photoURL??void 0,o=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,d=n.lastLoginAt??void 0,{uid:h,emailVerified:f,isAnonymous:p,providerData:w,stsTokenManager:v}=n;$t(h&&v,e,"internal-error");const b=Tv.fromJSON(this.name,v);$t(typeof h=="string",e,"internal-error"),Vf(i,e.name),Vf(r,e.name),$t(typeof f=="boolean",e,"internal-error"),$t(typeof p=="boolean",e,"internal-error"),Vf(a,e.name),Vf(s,e.name),Vf(o,e.name),Vf(c,e.name),Vf(u,e.name),Vf(d,e.name);const g=new Kc({uid:h,auth:e,email:r,emailVerified:f,displayName:i,isAnonymous:p,photoURL:s,phoneNumber:a,tenantId:o,stsTokenManager:b,createdAt:u,lastLoginAt:d});return w&&Array.isArray(w)&&(g.providerData=w.map(y=>({...y}))),c&&(g._redirectEventId=c),g}static async _fromIdTokenResponse(e,n,i=!1){const r=new Tv;r.updateFromServerResponse(n);const a=new Kc({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await LC(a),a}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];$t(r.localId!==void 0,"internal-error");const a=r.providerUserInfo!==void 0?iZ(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(a!=null&&a.length),o=new Tv;o.updateFromIdToken(i);const c=new Kc({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new n7(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(a!=null&&a.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f$=new Map;function Zh(t){uf(t instanceof Function,"Expected a class definition");let e=f$.get(t);return e?(uf(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,f$.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rZ{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}rZ.type="NONE";const p$=rZ;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk(t,e,n){return`firebase:${t}:${e}:${n}`}class Dv{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:a}=this.auth;this.fullUserKey=Xk(this.userKey,r.apiKey,a),this.fullPersistenceKey=Xk("persistence",r.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await RC(this.auth,{idToken:e}).catch(()=>{});return n?Kc._fromGetAccountInfoResponse(this.auth,n,e):null}return Kc._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Dv(Zh(p$),e,i);const r=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let a=r[0]||Zh(p$);const s=Xk(i,e.config.apiKey,e.name);let o=null;for(const u of n)try{const d=await u._get(s);if(d){let h;if(typeof d=="string"){const f=await RC(e,{idToken:d}).catch(()=>{});if(!f)break;h=await Kc._fromGetAccountInfoResponse(e,f,d)}else h=Kc._fromJSON(e,d);u!==a&&(o=h),a=u;break}}catch{}const c=r.filter(u=>u._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Dv(a,e,i):(a=c[0],o&&await a._set(s,o.toJSON()),await Promise.all(n.map(async u=>{if(u!==a)try{await u._remove(s)}catch{}})),new Dv(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m$(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lZ(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aZ(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uZ(e))return"Blackberry";if(dZ(e))return"Webos";if(sZ(e))return"Safari";if((e.includes("chrome/")||oZ(e))&&!e.includes("edge/"))return"Chrome";if(cZ(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function aZ(t=Os()){return/firefox\//i.test(t)}function sZ(t=Os()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oZ(t=Os()){return/crios\//i.test(t)}function lZ(t=Os()){return/iemobile/i.test(t)}function cZ(t=Os()){return/android/i.test(t)}function uZ(t=Os()){return/blackberry/i.test(t)}function dZ(t=Os()){return/webos/i.test(t)}function eU(t=Os()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Hge(t=Os()){var e;return eU(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Vge(){return Ffe()&&document.documentMode===10}function hZ(t=Os()){return eU(t)||cZ(t)||dZ(t)||uZ(t)||/windows phone/i.test(t)||lZ(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fZ(t,e=[]){let n;switch(t){case"Browser":n=m$(Os());break;case"Worker":n=`${m$(Os())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ty}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gge{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=a=>new Promise((s,o)=>{try{const c=e(a);s(c)}catch(c){o(c)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xge(t,e={}){return bf(t,"GET","/v2/passwordPolicy",Vm(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kge=6;class Yge{constructor(e){var i;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??Kge,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((i=e.allowedNonAlphanumericCharacters)==null?void 0:i.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jge{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new g$(this),this.idTokenSubscription=new g$(this),this.beforeStateQueue=new Gge(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QJ,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zh(n)),this._initializationPromise=this.queue(async()=>{var i,r,a;if(!this._deleted&&(this.persistenceManager=await Dv.create(this,e),(i=this._resolvePersistenceManagerAvailable)==null||i.call(this),!this._deleted)){if((r=this._popupRedirectResolver)!=null&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await RC(this,{idToken:e}),i=await Kc._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(ro(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(a=this.redirectUser)==null?void 0:a._redirectEventId,o=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===o)&&(c!=null&&c.user)&&(i=c.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return $t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await LC(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Tge()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ro(this.app))return Promise.reject(tf(this));const n=e?zs(e):null;return n&&$t(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&$t(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ro(this.app)?Promise.reject(tf(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ro(this.app)?Promise.reject(tf(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zh(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Xge(this),n=new Yge(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ey("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await qge(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Zh(e)||this._popupRedirectResolver;$t(n,this,"argument-error"),this.redirectPersistenceManager=await Dv.create(this,[Zh(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)==null?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if($t(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,i,r);return()=>{s=!0,c()}}else{const c=e.addObserver(n);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fZ(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var r;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((r=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){var n;if(ro(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&Nge(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Gm(t){return zs(t)}class g${constructor(e){this.auth=e,this.observer=null,this.addObserver=jfe(n=>this.observer=n)}get next(){return $t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ZD={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Zge(t){ZD=t}function pZ(t){return ZD.loadJS(t)}function Qge(){return ZD.recaptchaEnterpriseScript}function e1e(){return ZD.gapiScript}function t1e(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class n1e{constructor(){this.enterprise=new i1e}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class i1e{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const r1e="recaptcha-enterprise",mZ="NO_RECAPTCHA";class a1e{constructor(e){this.type=r1e,this.auth=Gm(e)}async verify(e="verify",n=!1){async function i(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{Oge(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new Fge(c);return a.tenantId==null?a._agentRecaptchaConfig=u:a._tenantRecaptchaConfigs[a.tenantId]=u,s(u.siteKey)}}).catch(c=>{o(c)})})}function r(a,s,o){const c=window.grecaptcha;d$(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(u=>{s(u)}).catch(()=>{s(mZ)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new n1e().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{i(this.auth).then(o=>{if(!n&&d$(window.grecaptcha))r(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Qge();c.length!==0&&(c+=o),pZ(c).then(()=>{r(o,a,s)}).catch(u=>{s(u)})}}).catch(o=>{s(o)})})}}async function gx(t,e,n,i=!1,r=!1){const a=new a1e(t);let s;if(r)s=mZ;else try{s=await a.verify(n)}catch{s=await a.verify(n,!0)}const o={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const c=o.phoneEnrollmentInfo.phoneNumber,u=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const c=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return i?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function i7(t,e,n,i,r){var a,s;if(r==="EMAIL_PASSWORD_PROVIDER")if((a=t._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await gx(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await gx(t,e,n,n==="getOobCode");return i(t,c)}else return Promise.reject(o)});else if(r==="PHONE_PROVIDER")if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("PHONE_PROVIDER")){const o=await gx(t,e,n);return i(t,o).catch(async c=>{var u;if(((u=t._getRecaptchaConfig())==null?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const d=await gx(t,e,n,!1,!0);return i(t,d)}return Promise.reject(c)})}else{const o=await gx(t,e,n,!1,!0);return i(t,o)}else return Promise.reject(r+" provider is not supported.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1e(t,e){const n=Hm(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),a=n.getOptions();if(Dm(a,e??{}))return r;hc(r,"already-initialized")}return n.initialize({options:e})}function o1e(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Zh);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function l1e(t,e,n){const i=Gm(t);$t(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!(n!=null&&n.disableWarnings),a=gZ(e),{host:s,port:o}=c1e(e),c=o===null?"":`:${o}`,u={url:`${a}//${s}${c}/`},d=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){$t(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),$t(Dm(u,i.config.emulator)&&Dm(d,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=u,i.emulatorConfig=d,i.settings.appVerificationDisabledForTesting=!0,Nw(s)?(j9(`${a}//${s}${c}`),$9("Auth",!0)):r||u1e()}function gZ(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function c1e(t){const e=gZ(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const a=r[1];return{host:a,port:y$(i.substr(a.length+1))}}else{const[a,s]=i.split(":");return{host:a,port:y$(s)}}}function y$(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function u1e(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Jh("not implemented")}_getIdTokenResponse(e){return Jh("not implemented")}_linkToIdToken(e,n){return Jh("not implemented")}_getReauthenticationResolver(e){return Jh("not implemented")}}async function d1e(t,e){return bf(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h1e(t,e){return TN(t,"POST","/v1/accounts:signInWithPassword",Vm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f1e(t,e){return TN(t,"POST","/v1/accounts:signInWithEmailLink",Vm(t,e))}async function p1e(t,e){return TN(t,"POST","/v1/accounts:signInWithEmailLink",Vm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_ extends tU{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new t_(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new t_(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return i7(e,n,"signInWithPassword",h1e,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return f1e(e,{email:this._email,oobCode:this._password});default:hc(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return i7(e,i,"signUpPassword",d1e,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return p1e(e,{idToken:n,email:this._email,oobCode:this._password});default:hc(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pv(t,e){return TN(t,"POST","/v1/accounts:signInWithIdp",Vm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1e="http://localhost";class O0 extends tU{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new O0(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hc("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r,...a}=n;if(!i||!r)return null;const s=new O0(i,r);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Pv(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Pv(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Pv(e,n)}buildRequest(){const e={requestUri:m1e,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=CN(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1e(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function y1e(t){const e=zx(jx(t)).link,n=e?zx(jx(e)).deep_link_id:null,i=zx(jx(t)).deep_link_id;return(i?zx(jx(i)).link:null)||i||n||e||t}class nU{constructor(e){const n=zx(jx(e)),i=n.apiKey??null,r=n.oobCode??null,a=g1e(n.mode??null);$t(i&&r&&a,"argument-error"),this.apiKey=i,this.operation=a,this.code=r,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=y1e(e);try{return new nU(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(){this.providerId=kw.PROVIDER_ID}static credential(e,n){return t_._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=nU.parseLink(n);return $t(i,"argument-error"),t_._fromEmailAndCode(e,i.code,i.tenantId)}}kw.PROVIDER_ID="password";kw.EMAIL_PASSWORD_SIGN_IN_METHOD="password";kw.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iU{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN extends iU{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap extends DN{constructor(){super("facebook.com")}static credential(e){return O0._fromParams({providerId:ap.PROVIDER_ID,signInMethod:ap.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ap.credentialFromTaggedObject(e)}static credentialFromError(e){return ap.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ap.credential(e.oauthAccessToken)}catch{return null}}}ap.FACEBOOK_SIGN_IN_METHOD="facebook.com";ap.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh extends DN{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return O0._fromParams({providerId:qh.PROVIDER_ID,signInMethod:qh.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qh.credentialFromTaggedObject(e)}static credentialFromError(e){return qh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return qh.credential(n,i)}catch{return null}}}qh.GOOGLE_SIGN_IN_METHOD="google.com";qh.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp extends DN{constructor(){super("github.com")}static credential(e){return O0._fromParams({providerId:sp.PROVIDER_ID,signInMethod:sp.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sp.credentialFromTaggedObject(e)}static credentialFromError(e){return sp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sp.credential(e.oauthAccessToken)}catch{return null}}}sp.GITHUB_SIGN_IN_METHOD="github.com";sp.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op extends DN{constructor(){super("twitter.com")}static credential(e,n){return O0._fromParams({providerId:op.PROVIDER_ID,signInMethod:op.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return op.credentialFromTaggedObject(e)}static credentialFromError(e){return op.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return op.credential(n,i)}catch{return null}}}op.TWITTER_SIGN_IN_METHOD="twitter.com";op.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v1e(t,e){return TN(t,"POST","/v1/accounts:signUp",Vm(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const a=await Kc._fromIdTokenResponse(e,i,r),s=v$(i);return new U0({user:a,providerId:s,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=v$(i);return new U0({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function v$(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC extends mc{constructor(e,n,i,r){super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,FC.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new FC(e,n,i,r)}}function yZ(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?FC._fromErrorAndOperation(t,a,e,i):a})}async function b1e(t,e,n=!1){const i=await ew(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return U0._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w1e(t,e,n=!1){const{auth:i}=t;if(ro(i.app))return Promise.reject(tf(i));const r="reauthenticate";try{const a=await ew(t,yZ(i,r,e,t),n);$t(a.idToken,i,"internal-error");const s=Q9(a.idToken);$t(s,i,"internal-error");const{sub:o}=s;return $t(t.uid===o,i,"user-mismatch"),U0._forOperation(t,r,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&hc(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vZ(t,e,n=!1){if(ro(t.app))return Promise.reject(tf(t));const i="signIn",r=await yZ(t,i,e),a=await U0._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(a.user),a}async function x1e(t,e){return vZ(Gm(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bZ(t){const e=Gm(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _1e(t,e,n){if(ro(t.app))return Promise.reject(tf(t));const i=Gm(t),s=await i7(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",v1e,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&bZ(t),c}),o=await U0._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(o.user),o}function S1e(t,e,n){return ro(t.app)?Promise.reject(tf(t)):x1e(zs(t),kw.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&bZ(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A1e(t,e){return bf(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N1e(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=zs(t),a={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=await ew(i,A1e(i.auth,a));i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null;const o=i.providerData.find(({providerId:c})=>c==="password");o&&(o.displayName=i.displayName,o.photoURL=i.photoURL),await i._updateTokensIfNecessary(s)}function k1e(t,e,n,i){return zs(t).onIdTokenChanged(e,n,i)}function C1e(t,e,n){return zs(t).beforeAuthStateChanged(e,n)}function E1e(t,e,n,i){return zs(t).onAuthStateChanged(e,n,i)}function T1e(t){return zs(t).signOut()}const OC="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wZ{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(OC,"1"),this.storage.removeItem(OC),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1e=1e3,P1e=10;class xZ extends wZ{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hZ(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,o,c)=>{this.notifyListeners(s,c)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const s=this.storage.getItem(i);!n&&this.localCache[i]===s||this.notifyListeners(i,s)},a=this.storage.getItem(i);Vge()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,P1e):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},D1e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}xZ.type="LOCAL";const I1e=xZ;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Z extends wZ{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_Z.type="SESSION";const SZ=_Z;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1e(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new QD(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:a}=n.data,s=this.handlersMap[r];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const o=Array.from(s).map(async u=>u(n.origin,a)),c=await R1e(o);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}QD.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rU(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1e{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let a,s;return new Promise((o,c)=>{const u=rU("",20);r.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},i);s={messageChannel:r,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(f.data.response);break;default:clearTimeout(d),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(){return window}function F1e(t){md().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AZ(){return typeof md().WorkerGlobalScope<"u"&&typeof md().importScripts=="function"}async function O1e(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function U1e(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function M1e(){return AZ()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NZ="firebaseLocalStorageDb",B1e=1,UC="firebaseLocalStorage",kZ="fbase_key";class PN{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function e6(t,e){return t.transaction([UC],e?"readwrite":"readonly").objectStore(UC)}function z1e(){const t=indexedDB.deleteDatabase(NZ);return new PN(t).toPromise()}function r7(){const t=indexedDB.open(NZ,B1e);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(UC,{keyPath:kZ})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(UC)?e(i):(i.close(),await z1e(),e(await r7()))})})}async function b$(t,e,n){const i=e6(t,!0).put({[kZ]:e,value:n});return new PN(i).toPromise()}async function j1e(t,e){const n=e6(t,!1).get(e),i=await new PN(n).toPromise();return i===void 0?null:i.value}function w$(t,e){const n=e6(t,!0).delete(e);return new PN(n).toPromise()}const $1e=800,W1e=3;class CZ{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await r7(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>W1e)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AZ()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=QD._getInstance(M1e()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,i;if(this.activeServiceWorker=await O1e(),!this.activeServiceWorker)return;this.sender=new L1e(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(i=e[0])!=null&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||U1e()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await r7();return await b$(e,OC,"1"),await w$(e,OC),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>b$(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>j1e(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>w$(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const a=e6(r,!1).getAll();return new PN(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:a}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(a)&&(this.notifyListeners(r,a),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$1e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CZ.type="LOCAL";const q1e=CZ;new EN(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EZ(t,e){return e?Zh(e):($t(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU extends tU{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Pv(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Pv(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Pv(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function H1e(t){return vZ(t.auth,new aU(t),t.bypassAuthState)}function V1e(t){const{auth:e,user:n}=t;return $t(n,e,"internal-error"),w1e(n,new aU(t),t.bypassAuthState)}async function G1e(t){const{auth:e,user:n}=t;return $t(n,e,"internal-error"),b1e(n,new aU(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TZ{constructor(e,n,i,r,a=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:a,error:s,type:o}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:n,sessionId:i,tenantId:a||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return H1e;case"linkViaPopup":case"linkViaRedirect":return G1e;case"reauthViaPopup":case"reauthViaRedirect":return V1e;default:hc(this.auth,"internal-error")}}resolve(e){uf(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){uf(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1e=new EN(2e3,1e4);async function K1e(t,e,n){if(ro(t.app))return Promise.reject(tu(t,"operation-not-supported-in-this-environment"));const i=Gm(t);kge(t,e,iU);const r=EZ(i,n);return new Fg(i,"signInViaPopup",e,r).executeNotNull()}class Fg extends TZ{constructor(e,n,i,r,a){super(e,n,r,a),this.provider=i,this.authWindow=null,this.pollId=null,Fg.currentPopupAction&&Fg.currentPopupAction.cancel(),Fg.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $t(e,this.auth,"internal-error"),e}async onExecution(){uf(this.filter.length===1,"Popup operations only handle one event");const e=rU();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(tu(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(tu(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fg.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if((i=(n=this.authWindow)==null?void 0:n.window)!=null&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tu(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,X1e.get())};e()}}Fg.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1e="pendingRedirect",Kk=new Map;class J1e extends TZ{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Kk.get(this.auth._key());if(!e){try{const i=await Z1e(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Kk.set(this.auth._key(),e)}return this.bypassAuthState||Kk.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Z1e(t,e){const n=t0e(e),i=e0e(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function Q1e(t,e){Kk.set(t._key(),e)}function e0e(t){return Zh(t._redirectPersistence)}function t0e(t){return Xk(Y1e,t.config.apiKey,t.name)}async function n0e(t,e,n=!1){if(ro(t.app))return Promise.reject(tf(t));const i=Gm(t),r=EZ(i,e),s=await new J1e(i,r,n).execute();return s&&!n&&(delete s.user._redirectEventId,await i._persistUserIfCurrent(s.user),await i._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0e=10*60*1e3;class r0e{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!a0e(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!DZ(e)){const r=((i=e.error.code)==null?void 0:i.split("auth/")[1])||"internal-error";n.onError(tu(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=i0e&&this.cachedEventUids.clear(),this.cachedEventUids.has(x$(e))}saveEventToCache(e){this.cachedEventUids.add(x$(e)),this.lastProcessedEventTime=Date.now()}}function x$(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function DZ({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function a0e(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DZ(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s0e(t,e={}){return bf(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o0e=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,l0e=/^https?/;async function c0e(t){if(t.config.emulator)return;const{authorizedDomains:e}=await s0e(t);for(const n of e)try{if(u0e(n))return}catch{}hc(t,"unauthorized-domain")}function u0e(t){const e=t7(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===i}if(!l0e.test(n))return!1;if(o0e.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0e=new EN(3e4,6e4);function _$(){const t=md().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function h0e(t){return new Promise((e,n)=>{var r,a,s;function i(){_$(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_$(),n(tu(t,"network-request-failed"))},timeout:d0e.get()})}if((a=(r=md().gapi)==null?void 0:r.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((s=md().gapi)!=null&&s.load)i();else{const o=t1e("iframefcb");return md()[o]=()=>{gapi.load?i():n(tu(t,"network-request-failed"))},pZ(`${e1e()}?onload=${o}`).catch(c=>n(c))}}).catch(e=>{throw Yk=null,e})}let Yk=null;function f0e(t){return Yk=Yk||h0e(t),Yk}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0e=new EN(5e3,15e3),m0e="__/auth/iframe",g0e="emulator/auth/iframe",y0e={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},v0e=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function b0e(t){const e=t.config;$t(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Z9(e,g0e):`https://${t.config.authDomain}/${m0e}`,i={apiKey:e.apiKey,appName:t.name,v:ty},r=v0e.get(t.config.apiHost);r&&(i.eid=r);const a=t._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${CN(i).slice(1)}`}async function w0e(t){const e=await f0e(t),n=md().gapi;return $t(n,t,"internal-error"),e.open({where:document.body,url:b0e(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:y0e,dontclear:!0},i=>new Promise(async(r,a)=>{await i.restyle({setHideOnLeave:!1});const s=tu(t,"network-request-failed"),o=md().setTimeout(()=>{a(s)},p0e.get());function c(){md().clearTimeout(o),r(i)}i.ping(c).then(c,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0e={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_0e=500,S0e=600,A0e="_blank",N0e="http://localhost";class S${constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function k0e(t,e,n,i=_0e,r=S0e){const a=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString();let o="";const c={...x0e,width:i.toString(),height:r.toString(),top:a,left:s},u=Os().toLowerCase();n&&(o=oZ(u)?A0e:n),aZ(u)&&(e=e||N0e,c.scrollbars="yes");const d=Object.entries(c).reduce((f,[p,w])=>`${f}${p}=${w},`,"");if(Hge(u)&&o!=="_self")return C0e(e||"",o),new S$(null);const h=window.open(e||"",o,d);$t(h,t,"popup-blocked");try{h.focus()}catch{}return new S$(h)}function C0e(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0e="__/auth/handler",T0e="emulator/auth/handler",D0e=encodeURIComponent("fac");async function A$(t,e,n,i,r,a){$t(t.config.authDomain,t,"auth-domain-config-required"),$t(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:ty,eventId:r};if(e instanceof iU){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",zfe(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(a||{}))s[d]=h}if(e instanceof DN){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(s.scopes=d.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const c=await t._getAppCheckToken(),u=c?`#${D0e}=${encodeURIComponent(c)}`:"";return`${P0e(t)}?${CN(o).slice(1)}${u}`}function P0e({config:t}){return t.emulator?Z9(t,T0e):`https://${t.authDomain}/${E0e}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP="webStorageSupport";class I0e{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SZ,this._completeRedirectFn=n0e,this._overrideRedirectResult=Q1e}async _openPopup(e,n,i,r){var s;uf((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const a=await A$(e,n,i,t7(),r);return k0e(e,a,rU())}async _openRedirect(e,n,i,r){await this._originValidation(e);const a=await A$(e,n,i,t7(),r);return F1e(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:a}=this.eventManagers[n];return r?Promise.resolve(r):(uf(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await w0e(e),i=new r0e(e);return n.register("authEvent",r=>($t(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(OP,{type:OP},r=>{var s;const a=(s=r==null?void 0:r[0])==null?void 0:s[OP];a!==void 0&&n(!!a),hc(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=c0e(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hZ()||sZ()||eU()}}const R0e=I0e;var N$="@firebase/auth",k$="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0e{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){$t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0e(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function O0e(t){iu(new dc("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=i.options;$t(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});const c={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fZ(t)},u=new Jge(i,r,a,c);return o1e(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),iu(new dc("auth-internal",e=>{const n=Gm(e.getProvider("auth").getImmediate());return(i=>new L0e(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),po(N$,k$,F0e(t)),po(N$,k$,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0e=5*60,M0e=wJ("authIdTokenMaxAge")||U0e;let C$=null;const B0e=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>M0e)return;const r=n==null?void 0:n.token;C$!==r&&(C$=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function z0e(t=KD()){const e=Hm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=s1e(t,{popupRedirectResolver:R0e,persistence:[q1e,I1e,SZ]}),i=wJ("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const s=B0e(a.toString());C1e(n,s,()=>s(n.currentUser)),k1e(n,o=>s(o))}}const r=yJ("auth");return r&&l1e(n,`http://${r}`),n}function j0e(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Zge({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const a=tu("internal-error");a.customData=r,n(a)},i.type="text/javascript",i.charset="UTF-8",j0e().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});O0e("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PZ="firebasestorage.googleapis.com",$0e="storageBucket",W0e=2*60*1e3,q0e=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd extends mc{constructor(e,n,i=0){super(UP(e),`Firebase Storage: ${n} (${UP(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Nd.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return UP(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var xd;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(xd||(xd={}));function UP(t){return"storage/"+t}function H0e(){const t="An unknown error occurred, please check the error payload for server response.";return new Nd(xd.UNKNOWN,t)}function V0e(){return new Nd(xd.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function G0e(){return new Nd(xd.CANCELED,"User canceled the upload/download.")}function X0e(t){return new Nd(xd.INVALID_URL,"Invalid URL '"+t+"'.")}function K0e(t){return new Nd(xd.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function E$(t){return new Nd(xd.INVALID_ARGUMENT,t)}function IZ(){return new Nd(xd.APP_DELETED,"The Firebase app was deleted.")}function Y0e(t){return new Nd(xd.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Yc.makeFromUrl(e,n)}catch{return new Yc(e,"")}if(i.path==="")return i;throw K0e(e)}static makeFromUrl(e,n){let i=null;const r="([A-Za-z0-9.\\-_]+)";function a(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const s="(/(.*))?$",o=new RegExp("^gs://"+r+s,"i"),c={bucket:1,path:3};function u(S){S.path_=decodeURIComponent(S.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${d}/b/${r}/o${f}`,"i"),w={bucket:1,path:3},v=n===PZ?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",g=new RegExp(`^https?://${v}/${r}/${b}`,"i"),_=[{regex:o,indices:c,postModify:a},{regex:p,indices:w,postModify:u},{regex:g,indices:{bucket:1,path:2},postModify:u}];for(let S=0;S<_.length;S++){const N=_[S],R=N.regex.exec(e);if(R){const D=R[N.indices.bucket];let E=R[N.indices.path];E||(E=""),i=new Yc(D,E),N.postModify(i);break}}if(i==null)throw X0e(e);return i}}class J0e{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0e(t,e,n){let i=1,r=null,a=null,s=!1,o=0;function c(){return o===2}let u=!1;function d(...b){u||(u=!0,e.apply(null,b))}function h(b){r=setTimeout(()=>{r=null,t(p,c())},b)}function f(){a&&clearTimeout(a)}function p(b,...g){if(u){f();return}if(b){f(),d.call(null,b,...g);return}if(c()||s){f(),d.call(null,b,...g);return}i<64&&(i*=2);let _;o===1?(o=2,_=0):_=(i+Math.random())*1e3,h(_)}let w=!1;function v(b){w||(w=!0,f(),!u&&(r!==null?(b||(o=2),clearTimeout(r),h(0)):b||(o=1)))}return h(0),a=setTimeout(()=>{s=!0,v(!0)},n),v}function Q0e(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eye(t){return t!==void 0}function T$(t,e,n,i){if(i<e)throw E$(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw E$(`Invalid value for '${t}'. Expected ${n} or less.`)}function tye(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const r=e(i)+"="+e(t[i]);n=n+r+"&"}return n=n.slice(0,-1),n}var MC;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(MC||(MC={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nye(t,e){const n=t>=500&&t<600,r=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||r||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iye{constructor(e,n,i,r,a,s,o,c,u,d,h,f=!0,p=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=a,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,v)=>{this.resolve_=w,this.reject_=v,this.start_()})}start_(){const e=(i,r)=>{if(r){i(!1,new H3(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const s=o=>{const c=o.loaded,u=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&a.addUploadProgressListener(s),a.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(s),this.pendingConnection_=null;const o=a.getErrorCode()===MC.NO_ERROR,c=a.getStatus();if(!o||nye(c,this.additionalRetryCodes_)&&this.retry){const d=a.getErrorCode()===MC.ABORT;i(!1,new H3(!1,null,d));return}const u=this.successCodes_.indexOf(c)!==-1;i(!0,new H3(u,a))})},n=(i,r)=>{const a=this.resolve_,s=this.reject_,o=r.connection;if(r.wasSuccessCode)try{const c=this.callback_(o,o.getResponse());eye(c)?a(c):a()}catch(c){s(c)}else if(o!==null){const c=H0e();c.serverResponse=o.getErrorText(),this.errorCallback_?s(this.errorCallback_(o,c)):s(c)}else if(r.canceled){const c=this.appDelete_?IZ():G0e();s(c)}else{const c=V0e();s(c)}};this.canceled_?n(!1,new H3(!1,null,!0)):this.backoffId_=Z0e(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Q0e(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class H3{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function rye(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function aye(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function sye(t,e){e&&(t["X-Firebase-GMPID"]=e)}function oye(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function lye(t,e,n,i,r,a,s=!0,o=!1){const c=tye(t.urlParams),u=t.url+c,d=Object.assign({},t.headers);return sye(d,e),rye(d,n),aye(d,a),oye(d,i),new iye(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cye(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function uye(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,n){this._service=e,n instanceof Yc?this._location=n:this._location=Yc.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new BC(e,n)}get root(){const e=new Yc(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return uye(this._location.path)}get storage(){return this._service}get parent(){const e=cye(this._location.path);if(e===null)return null;const n=new Yc(this._location.bucket,e);return new BC(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Y0e(e)}}function D$(t,e){const n=e==null?void 0:e[$0e];return n==null?null:Yc.makeFromBucketSpec(n,t)}function dye(t,e,n,i={}){t.host=`${e}:${n}`;const r=Nw(e);r&&(j9(`https://${t.host}/b`),$9("Storage",!0)),t._isUsingEmulator=!0,t._protocol=r?"https":"http";const{mockUserToken:a}=i;a&&(t._overrideAuthToken=typeof a=="string"?a:xJ(a,t.app.options.projectId))}class hye{constructor(e,n,i,r,a,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=a,this._isUsingEmulator=s,this._bucket=null,this._host=PZ,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=W0e,this._maxUploadRetryTime=q0e,this._requests=new Set,r!=null?this._bucket=Yc.makeFromBucketSpec(r,this._host):this._bucket=D$(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Yc.makeFromBucketSpec(this._url,e):this._bucket=D$(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){T$("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){T$("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ro(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new BC(this,e)}_makeRequest(e,n,i,r,a=!0){if(this._deleted)return new J0e(IZ());{const s=lye(e,this._appId,i,r,n,this._firebaseVersion,a,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[i,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,r).getPromise()}}const P$="@firebase/storage",I$="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RZ="storage";function fye(t=KD(),e){t=zs(t);const i=Hm(t,RZ).getImmediate({identifier:e}),r=vJ("storage");return r&&pye(i,...r),i}function pye(t,e,n,i={}){dye(t,e,n,i)}function mye(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new hye(n,i,r,e,ty)}function gye(){iu(new dc(RZ,mye,"PUBLIC").setMultipleInstances(!0)),po(P$,I$,""),po(P$,I$,"esm2020")}gye();var R$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sU;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,E){function C(){}C.prototype=E.prototype,D.F=E.prototype,D.prototype=new C,D.prototype.constructor=D,D.D=function(P,k,A){for(var I=Array(arguments.length-2),T=2;T<arguments.length;T++)I[T-2]=arguments[T];return E.prototype[k].apply(P,I)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,n),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(D,E,C){C||(C=0);const P=Array(16);if(typeof E=="string")for(var k=0;k<16;++k)P[k]=E.charCodeAt(C++)|E.charCodeAt(C++)<<8|E.charCodeAt(C++)<<16|E.charCodeAt(C++)<<24;else for(k=0;k<16;++k)P[k]=E[C++]|E[C++]<<8|E[C++]<<16|E[C++]<<24;E=D.g[0],C=D.g[1],k=D.g[2];let A=D.g[3],I;I=E+(A^C&(k^A))+P[0]+3614090360&4294967295,E=C+(I<<7&4294967295|I>>>25),I=A+(k^E&(C^k))+P[1]+3905402710&4294967295,A=E+(I<<12&4294967295|I>>>20),I=k+(C^A&(E^C))+P[2]+606105819&4294967295,k=A+(I<<17&4294967295|I>>>15),I=C+(E^k&(A^E))+P[3]+3250441966&4294967295,C=k+(I<<22&4294967295|I>>>10),I=E+(A^C&(k^A))+P[4]+4118548399&4294967295,E=C+(I<<7&4294967295|I>>>25),I=A+(k^E&(C^k))+P[5]+1200080426&4294967295,A=E+(I<<12&4294967295|I>>>20),I=k+(C^A&(E^C))+P[6]+2821735955&4294967295,k=A+(I<<17&4294967295|I>>>15),I=C+(E^k&(A^E))+P[7]+4249261313&4294967295,C=k+(I<<22&4294967295|I>>>10),I=E+(A^C&(k^A))+P[8]+1770035416&4294967295,E=C+(I<<7&4294967295|I>>>25),I=A+(k^E&(C^k))+P[9]+2336552879&4294967295,A=E+(I<<12&4294967295|I>>>20),I=k+(C^A&(E^C))+P[10]+4294925233&4294967295,k=A+(I<<17&4294967295|I>>>15),I=C+(E^k&(A^E))+P[11]+2304563134&4294967295,C=k+(I<<22&4294967295|I>>>10),I=E+(A^C&(k^A))+P[12]+1804603682&4294967295,E=C+(I<<7&4294967295|I>>>25),I=A+(k^E&(C^k))+P[13]+4254626195&4294967295,A=E+(I<<12&4294967295|I>>>20),I=k+(C^A&(E^C))+P[14]+2792965006&4294967295,k=A+(I<<17&4294967295|I>>>15),I=C+(E^k&(A^E))+P[15]+1236535329&4294967295,C=k+(I<<22&4294967295|I>>>10),I=E+(k^A&(C^k))+P[1]+4129170786&4294967295,E=C+(I<<5&4294967295|I>>>27),I=A+(C^k&(E^C))+P[6]+3225465664&4294967295,A=E+(I<<9&4294967295|I>>>23),I=k+(E^C&(A^E))+P[11]+643717713&4294967295,k=A+(I<<14&4294967295|I>>>18),I=C+(A^E&(k^A))+P[0]+3921069994&4294967295,C=k+(I<<20&4294967295|I>>>12),I=E+(k^A&(C^k))+P[5]+3593408605&4294967295,E=C+(I<<5&4294967295|I>>>27),I=A+(C^k&(E^C))+P[10]+38016083&4294967295,A=E+(I<<9&4294967295|I>>>23),I=k+(E^C&(A^E))+P[15]+3634488961&4294967295,k=A+(I<<14&4294967295|I>>>18),I=C+(A^E&(k^A))+P[4]+3889429448&4294967295,C=k+(I<<20&4294967295|I>>>12),I=E+(k^A&(C^k))+P[9]+568446438&4294967295,E=C+(I<<5&4294967295|I>>>27),I=A+(C^k&(E^C))+P[14]+3275163606&4294967295,A=E+(I<<9&4294967295|I>>>23),I=k+(E^C&(A^E))+P[3]+4107603335&4294967295,k=A+(I<<14&4294967295|I>>>18),I=C+(A^E&(k^A))+P[8]+1163531501&4294967295,C=k+(I<<20&4294967295|I>>>12),I=E+(k^A&(C^k))+P[13]+2850285829&4294967295,E=C+(I<<5&4294967295|I>>>27),I=A+(C^k&(E^C))+P[2]+4243563512&4294967295,A=E+(I<<9&4294967295|I>>>23),I=k+(E^C&(A^E))+P[7]+1735328473&4294967295,k=A+(I<<14&4294967295|I>>>18),I=C+(A^E&(k^A))+P[12]+2368359562&4294967295,C=k+(I<<20&4294967295|I>>>12),I=E+(C^k^A)+P[5]+4294588738&4294967295,E=C+(I<<4&4294967295|I>>>28),I=A+(E^C^k)+P[8]+2272392833&4294967295,A=E+(I<<11&4294967295|I>>>21),I=k+(A^E^C)+P[11]+1839030562&4294967295,k=A+(I<<16&4294967295|I>>>16),I=C+(k^A^E)+P[14]+4259657740&4294967295,C=k+(I<<23&4294967295|I>>>9),I=E+(C^k^A)+P[1]+2763975236&4294967295,E=C+(I<<4&4294967295|I>>>28),I=A+(E^C^k)+P[4]+1272893353&4294967295,A=E+(I<<11&4294967295|I>>>21),I=k+(A^E^C)+P[7]+4139469664&4294967295,k=A+(I<<16&4294967295|I>>>16),I=C+(k^A^E)+P[10]+3200236656&4294967295,C=k+(I<<23&4294967295|I>>>9),I=E+(C^k^A)+P[13]+681279174&4294967295,E=C+(I<<4&4294967295|I>>>28),I=A+(E^C^k)+P[0]+3936430074&4294967295,A=E+(I<<11&4294967295|I>>>21),I=k+(A^E^C)+P[3]+3572445317&4294967295,k=A+(I<<16&4294967295|I>>>16),I=C+(k^A^E)+P[6]+76029189&4294967295,C=k+(I<<23&4294967295|I>>>9),I=E+(C^k^A)+P[9]+3654602809&4294967295,E=C+(I<<4&4294967295|I>>>28),I=A+(E^C^k)+P[12]+3873151461&4294967295,A=E+(I<<11&4294967295|I>>>21),I=k+(A^E^C)+P[15]+530742520&4294967295,k=A+(I<<16&4294967295|I>>>16),I=C+(k^A^E)+P[2]+3299628645&4294967295,C=k+(I<<23&4294967295|I>>>9),I=E+(k^(C|~A))+P[0]+4096336452&4294967295,E=C+(I<<6&4294967295|I>>>26),I=A+(C^(E|~k))+P[7]+1126891415&4294967295,A=E+(I<<10&4294967295|I>>>22),I=k+(E^(A|~C))+P[14]+2878612391&4294967295,k=A+(I<<15&4294967295|I>>>17),I=C+(A^(k|~E))+P[5]+4237533241&4294967295,C=k+(I<<21&4294967295|I>>>11),I=E+(k^(C|~A))+P[12]+1700485571&4294967295,E=C+(I<<6&4294967295|I>>>26),I=A+(C^(E|~k))+P[3]+2399980690&4294967295,A=E+(I<<10&4294967295|I>>>22),I=k+(E^(A|~C))+P[10]+4293915773&4294967295,k=A+(I<<15&4294967295|I>>>17),I=C+(A^(k|~E))+P[1]+2240044497&4294967295,C=k+(I<<21&4294967295|I>>>11),I=E+(k^(C|~A))+P[8]+1873313359&4294967295,E=C+(I<<6&4294967295|I>>>26),I=A+(C^(E|~k))+P[15]+4264355552&4294967295,A=E+(I<<10&4294967295|I>>>22),I=k+(E^(A|~C))+P[6]+2734768916&4294967295,k=A+(I<<15&4294967295|I>>>17),I=C+(A^(k|~E))+P[13]+1309151649&4294967295,C=k+(I<<21&4294967295|I>>>11),I=E+(k^(C|~A))+P[4]+4149444226&4294967295,E=C+(I<<6&4294967295|I>>>26),I=A+(C^(E|~k))+P[11]+3174756917&4294967295,A=E+(I<<10&4294967295|I>>>22),I=k+(E^(A|~C))+P[2]+718787259&4294967295,k=A+(I<<15&4294967295|I>>>17),I=C+(A^(k|~E))+P[9]+3951481745&4294967295,D.g[0]=D.g[0]+E&4294967295,D.g[1]=D.g[1]+(k+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+k&4294967295,D.g[3]=D.g[3]+A&4294967295}i.prototype.v=function(D,E){E===void 0&&(E=D.length);const C=E-this.blockSize,P=this.C;let k=this.h,A=0;for(;A<E;){if(k==0)for(;A<=C;)r(this,D,A),A+=this.blockSize;if(typeof D=="string"){for(;A<E;)if(P[k++]=D.charCodeAt(A++),k==this.blockSize){r(this,P),k=0;break}}else for(;A<E;)if(P[k++]=D[A++],k==this.blockSize){r(this,P),k=0;break}}this.h=k,this.o+=E},i.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var E=1;E<D.length-8;++E)D[E]=0;E=this.o*8;for(var C=D.length-8;C<D.length;++C)D[C]=E&255,E/=256;for(this.v(D),D=Array(16),E=0,C=0;C<4;++C)for(let P=0;P<32;P+=8)D[E++]=this.g[C]>>>P&255;return D};function a(D,E){var C=o;return Object.prototype.hasOwnProperty.call(C,D)?C[D]:C[D]=E(D)}function s(D,E){this.h=E;const C=[];let P=!0;for(let k=D.length-1;k>=0;k--){const A=D[k]|0;P&&A==E||(C[k]=A,P=!1)}this.g=C}var o={};function c(D){return-128<=D&&D<128?a(D,function(E){return new s([E|0],E<0?-1:0)}):new s([D|0],D<0?-1:0)}function u(D){if(isNaN(D)||!isFinite(D))return h;if(D<0)return b(u(-D));const E=[];let C=1;for(let P=0;D>=C;P++)E[P]=D/C|0,C*=4294967296;return new s(E,0)}function d(D,E){if(D.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(D.charAt(0)=="-")return b(d(D.substring(1),E));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=u(Math.pow(E,8));let P=h;for(let A=0;A<D.length;A+=8){var k=Math.min(8,D.length-A);const I=parseInt(D.substring(A,A+k),E);k<8?(k=u(Math.pow(E,k)),P=P.j(k).add(u(I))):(P=P.j(C),P=P.add(u(I)))}return P}var h=c(0),f=c(1),p=c(16777216);t=s.prototype,t.m=function(){if(v(this))return-b(this).m();let D=0,E=1;for(let C=0;C<this.g.length;C++){const P=this.i(C);D+=(P>=0?P:4294967296+P)*E,E*=4294967296}return D},t.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(w(this))return"0";if(v(this))return"-"+b(this).toString(D);const E=u(Math.pow(D,6));var C=this;let P="";for(;;){const k=S(C,E).g;C=g(C,k.j(E));let A=((C.g.length>0?C.g[0]:C.h)>>>0).toString(D);if(C=k,w(C))return A+P;for(;A.length<6;)A="0"+A;P=A+P}},t.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function w(D){if(D.h!=0)return!1;for(let E=0;E<D.g.length;E++)if(D.g[E]!=0)return!1;return!0}function v(D){return D.h==-1}t.l=function(D){return D=g(this,D),v(D)?-1:w(D)?0:1};function b(D){const E=D.g.length,C=[];for(let P=0;P<E;P++)C[P]=~D.g[P];return new s(C,~D.h).add(f)}t.abs=function(){return v(this)?b(this):this},t.add=function(D){const E=Math.max(this.g.length,D.g.length),C=[];let P=0;for(let k=0;k<=E;k++){let A=P+(this.i(k)&65535)+(D.i(k)&65535),I=(A>>>16)+(this.i(k)>>>16)+(D.i(k)>>>16);P=I>>>16,A&=65535,I&=65535,C[k]=I<<16|A}return new s(C,C[C.length-1]&-2147483648?-1:0)};function g(D,E){return D.add(b(E))}t.j=function(D){if(w(this)||w(D))return h;if(v(this))return v(D)?b(this).j(b(D)):b(b(this).j(D));if(v(D))return b(this.j(b(D)));if(this.l(p)<0&&D.l(p)<0)return u(this.m()*D.m());const E=this.g.length+D.g.length,C=[];for(var P=0;P<2*E;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(let k=0;k<D.g.length;k++){const A=this.i(P)>>>16,I=this.i(P)&65535,T=D.i(k)>>>16,z=D.i(k)&65535;C[2*P+2*k]+=I*z,y(C,2*P+2*k),C[2*P+2*k+1]+=A*z,y(C,2*P+2*k+1),C[2*P+2*k+1]+=I*T,y(C,2*P+2*k+1),C[2*P+2*k+2]+=A*T,y(C,2*P+2*k+2)}for(D=0;D<E;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=E;D<2*E;D++)C[D]=0;return new s(C,0)};function y(D,E){for(;(D[E]&65535)!=D[E];)D[E+1]+=D[E]>>>16,D[E]&=65535,E++}function _(D,E){this.g=D,this.h=E}function S(D,E){if(w(E))throw Error("division by zero");if(w(D))return new _(h,h);if(v(D))return E=S(b(D),E),new _(b(E.g),b(E.h));if(v(E))return E=S(D,b(E)),new _(b(E.g),E.h);if(D.g.length>30){if(v(D)||v(E))throw Error("slowDivide_ only works with positive integers.");for(var C=f,P=E;P.l(D)<=0;)C=N(C),P=N(P);var k=R(C,1),A=R(P,1);for(P=R(P,2),C=R(C,2);!w(P);){var I=A.add(P);I.l(D)<=0&&(k=k.add(C),A=I),P=R(P,1),C=R(C,1)}return E=g(D,k.j(E)),new _(k,E)}for(k=h;D.l(E)>=0;){for(C=Math.max(1,Math.floor(D.m()/E.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),A=u(C),I=A.j(E);v(I)||I.l(D)>0;)C-=P,A=u(C),I=A.j(E);w(A)&&(A=f),k=k.add(A),D=g(D,I)}return new _(k,D)}t.B=function(D){return S(this,D).h},t.and=function(D){const E=Math.max(this.g.length,D.g.length),C=[];for(let P=0;P<E;P++)C[P]=this.i(P)&D.i(P);return new s(C,this.h&D.h)},t.or=function(D){const E=Math.max(this.g.length,D.g.length),C=[];for(let P=0;P<E;P++)C[P]=this.i(P)|D.i(P);return new s(C,this.h|D.h)},t.xor=function(D){const E=Math.max(this.g.length,D.g.length),C=[];for(let P=0;P<E;P++)C[P]=this.i(P)^D.i(P);return new s(C,this.h^D.h)};function N(D){const E=D.g.length+1,C=[];for(let P=0;P<E;P++)C[P]=D.i(P)<<1|D.i(P-1)>>>31;return new s(C,D.h)}function R(D,E){const C=E>>5;E%=32;const P=D.g.length-C,k=[];for(let A=0;A<P;A++)k[A]=E>0?D.i(A+C)>>>E|D.i(A+C+1)<<32-E:D.i(A+C);return new s(k,D.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,sU=s}).apply(typeof R$<"u"?R$:typeof self<"u"?self:typeof window<"u"?window:{});var V3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=Object.defineProperty;function n(O){O=[typeof globalThis=="object"&&globalThis,O,typeof window=="object"&&window,typeof self=="object"&&self,typeof V3=="object"&&V3];for(var ee=0;ee<O.length;++ee){var ce=O[ee];if(ce&&ce.Math==Math)return ce}throw Error("Cannot find global object")}var i=n(this);function r(O,ee){if(ee)e:{var ce=i;O=O.split(".");for(var Ae=0;Ae<O.length-1;Ae++){var We=O[Ae];if(!(We in ce))break e;ce=ce[We]}O=O[O.length-1],Ae=ce[O],ee=ee(Ae),ee!=Ae&&ee!=null&&e(ce,O,{configurable:!0,writable:!0,value:ee})}}r("Symbol.dispose",function(O){return O||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(O){return O||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(O){return O||function(ee){var ce=[],Ae;for(Ae in ee)Object.prototype.hasOwnProperty.call(ee,Ae)&&ce.push([Ae,ee[Ae]]);return ce}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function o(O){var ee=typeof O;return ee=="object"&&O!=null||ee=="function"}function c(O,ee,ce){return O.call.apply(O.bind,arguments)}function u(O,ee,ce){return u=c,u.apply(null,arguments)}function d(O,ee){var ce=Array.prototype.slice.call(arguments,1);return function(){var Ae=ce.slice();return Ae.push.apply(Ae,arguments),O.apply(this,Ae)}}function h(O,ee){function ce(){}ce.prototype=ee.prototype,O.Z=ee.prototype,O.prototype=new ce,O.prototype.constructor=O,O.Ob=function(Ae,We,Ke){for(var gt=Array(arguments.length-2),Ht=2;Ht<arguments.length;Ht++)gt[Ht-2]=arguments[Ht];return ee.prototype[We].apply(Ae,gt)}}var f=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?O=>O&&AsyncContext.Snapshot.wrap(O):O=>O;function p(O){const ee=O.length;if(ee>0){const ce=Array(ee);for(let Ae=0;Ae<ee;Ae++)ce[Ae]=O[Ae];return ce}return[]}function w(O,ee){for(let Ae=1;Ae<arguments.length;Ae++){const We=arguments[Ae];var ce=typeof We;if(ce=ce!="object"?ce:We?Array.isArray(We)?"array":ce:"null",ce=="array"||ce=="object"&&typeof We.length=="number"){ce=O.length||0;const Ke=We.length||0;O.length=ce+Ke;for(let gt=0;gt<Ke;gt++)O[ce+gt]=We[gt]}else O.push(We)}}class v{constructor(ee,ce){this.i=ee,this.j=ce,this.h=0,this.g=null}get(){let ee;return this.h>0?(this.h--,ee=this.g,this.g=ee.next,ee.next=null):ee=this.i(),ee}}function b(O){s.setTimeout(()=>{throw O},0)}function g(){var O=D;let ee=null;return O.g&&(ee=O.g,O.g=O.g.next,O.g||(O.h=null),ee.next=null),ee}class y{constructor(){this.h=this.g=null}add(ee,ce){const Ae=_.get();Ae.set(ee,ce),this.h?this.h.next=Ae:this.g=Ae,this.h=Ae}}var _=new v(()=>new S,O=>O.reset());class S{constructor(){this.next=this.g=this.h=null}set(ee,ce){this.h=ee,this.g=ce,this.next=null}reset(){this.next=this.g=this.h=null}}let N,R=!1,D=new y,E=()=>{const O=Promise.resolve(void 0);N=()=>{O.then(C)}};function C(){for(var O;O=g();){try{O.h.call(O.g)}catch(ce){b(ce)}var ee=_;ee.j(O),ee.h<100&&(ee.h++,O.next=ee.g,ee.g=O)}R=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(O,ee){this.type=O,this.g=this.target=ee,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var A=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var O=!1,ee=Object.defineProperty({},"passive",{get:function(){O=!0}});try{const ce=()=>{};s.addEventListener("test",ce,ee),s.removeEventListener("test",ce,ee)}catch{}return O}();function I(O){return/^[\s\xa0]*$/.test(O)}function T(O,ee){k.call(this,O?O.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,O&&this.init(O,ee)}h(T,k),T.prototype.init=function(O,ee){const ce=this.type=O.type,Ae=O.changedTouches&&O.changedTouches.length?O.changedTouches[0]:null;this.target=O.target||O.srcElement,this.g=ee,ee=O.relatedTarget,ee||(ce=="mouseover"?ee=O.fromElement:ce=="mouseout"&&(ee=O.toElement)),this.relatedTarget=ee,Ae?(this.clientX=Ae.clientX!==void 0?Ae.clientX:Ae.pageX,this.clientY=Ae.clientY!==void 0?Ae.clientY:Ae.pageY,this.screenX=Ae.screenX||0,this.screenY=Ae.screenY||0):(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0),this.button=O.button,this.key=O.key||"",this.ctrlKey=O.ctrlKey,this.altKey=O.altKey,this.shiftKey=O.shiftKey,this.metaKey=O.metaKey,this.pointerId=O.pointerId||0,this.pointerType=O.pointerType,this.state=O.state,this.i=O,O.defaultPrevented&&T.Z.h.call(this)},T.prototype.h=function(){T.Z.h.call(this);const O=this.i;O.preventDefault?O.preventDefault():O.returnValue=!1};var z="closure_listenable_"+(Math.random()*1e6|0),j=0;function W(O,ee,ce,Ae,We){this.listener=O,this.proxy=null,this.src=ee,this.type=ce,this.capture=!!Ae,this.ha=We,this.key=++j,this.da=this.fa=!1}function $(O){O.da=!0,O.listener=null,O.proxy=null,O.src=null,O.ha=null}function q(O,ee,ce){for(const Ae in O)ee.call(ce,O[Ae],Ae,O)}function G(O,ee){for(const ce in O)ee.call(void 0,O[ce],ce,O)}function B(O){const ee={};for(const ce in O)ee[ce]=O[ce];return ee}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(O,ee){let ce,Ae;for(let We=1;We<arguments.length;We++){Ae=arguments[We];for(ce in Ae)O[ce]=Ae[ce];for(let Ke=0;Ke<L.length;Ke++)ce=L[Ke],Object.prototype.hasOwnProperty.call(Ae,ce)&&(O[ce]=Ae[ce])}}function K(O){this.src=O,this.g={},this.h=0}K.prototype.add=function(O,ee,ce,Ae,We){const Ke=O.toString();O=this.g[Ke],O||(O=this.g[Ke]=[],this.h++);const gt=V(O,ee,Ae,We);return gt>-1?(ee=O[gt],ce||(ee.fa=!1)):(ee=new W(ee,this.src,Ke,!!Ae,We),ee.fa=ce,O.push(ee)),ee};function Q(O,ee){const ce=ee.type;if(ce in O.g){var Ae=O.g[ce],We=Array.prototype.indexOf.call(Ae,ee,void 0),Ke;(Ke=We>=0)&&Array.prototype.splice.call(Ae,We,1),Ke&&($(ee),O.g[ce].length==0&&(delete O.g[ce],O.h--))}}function V(O,ee,ce,Ae){for(let We=0;We<O.length;++We){const Ke=O[We];if(!Ke.da&&Ke.listener==ee&&Ke.capture==!!ce&&Ke.ha==Ae)return We}return-1}var le="closure_lm_"+(Math.random()*1e6|0),ge={};function ye(O,ee,ce,Ae,We){if(Ae&&Ae.once)return ue(O,ee,ce,Ae,We);if(Array.isArray(ee)){for(let Ke=0;Ke<ee.length;Ke++)ye(O,ee[Ke],ce,Ae,We);return null}return ce=ae(ce),O&&O[z]?O.J(ee,ce,o(Ae)?!!Ae.capture:!!Ae,We):be(O,ee,ce,!1,Ae,We)}function be(O,ee,ce,Ae,We,Ke){if(!ee)throw Error("Invalid event type");const gt=o(We)?!!We.capture:!!We;let Ht=ne(O);if(Ht||(O[le]=Ht=new K(O)),ce=Ht.add(ee,ce,Ae,gt,Ke),ce.proxy)return ce;if(Ae=Le(),ce.proxy=Ae,Ae.src=O,Ae.listener=ce,O.addEventListener)A||(We=gt),We===void 0&&(We=!1),O.addEventListener(ee.toString(),Ae,We);else if(O.attachEvent)O.attachEvent(re(ee.toString()),Ae);else if(O.addListener&&O.removeListener)O.addListener(Ae);else throw Error("addEventListener and attachEvent are unavailable.");return ce}function Le(){function O(ce){return ee.call(O.src,O.listener,ce)}const ee=Ee;return O}function ue(O,ee,ce,Ae,We){if(Array.isArray(ee)){for(let Ke=0;Ke<ee.length;Ke++)ue(O,ee[Ke],ce,Ae,We);return null}return ce=ae(ce),O&&O[z]?O.K(ee,ce,o(Ae)?!!Ae.capture:!!Ae,We):be(O,ee,ce,!0,Ae,We)}function ke(O,ee,ce,Ae,We){if(Array.isArray(ee))for(var Ke=0;Ke<ee.length;Ke++)ke(O,ee[Ke],ce,Ae,We);else Ae=o(Ae)?!!Ae.capture:!!Ae,ce=ae(ce),O&&O[z]?(O=O.i,Ke=String(ee).toString(),Ke in O.g&&(ee=O.g[Ke],ce=V(ee,ce,Ae,We),ce>-1&&($(ee[ce]),Array.prototype.splice.call(ee,ce,1),ee.length==0&&(delete O.g[Ke],O.h--)))):O&&(O=ne(O))&&(ee=O.g[ee.toString()],O=-1,ee&&(O=V(ee,ce,Ae,We)),(ce=O>-1?ee[O]:null)&&X(ce))}function X(O){if(typeof O!="number"&&O&&!O.da){var ee=O.src;if(ee&&ee[z])Q(ee.i,O);else{var ce=O.type,Ae=O.proxy;ee.removeEventListener?ee.removeEventListener(ce,Ae,O.capture):ee.detachEvent?ee.detachEvent(re(ce),Ae):ee.addListener&&ee.removeListener&&ee.removeListener(Ae),(ce=ne(ee))?(Q(ce,O),ce.h==0&&(ce.src=null,ee[le]=null)):$(O)}}}function re(O){return O in ge?ge[O]:ge[O]="on"+O}function Ee(O,ee){if(O.da)O=!0;else{ee=new T(ee,this);const ce=O.listener,Ae=O.ha||O.src;O.fa&&X(O),O=ce.call(Ae,ee)}return O}function ne(O){return O=O[le],O instanceof K?O:null}var te="__closure_events_fn_"+(Math.random()*1e9>>>0);function ae(O){return typeof O=="function"?O:(O[te]||(O[te]=function(ee){return O.handleEvent(ee)}),O[te])}function xe(){P.call(this),this.i=new K(this),this.M=this,this.G=null}h(xe,P),xe.prototype[z]=!0,xe.prototype.removeEventListener=function(O,ee,ce,Ae){ke(this,O,ee,ce,Ae)};function Ce(O,ee){var ce,Ae=O.G;if(Ae)for(ce=[];Ae;Ae=Ae.G)ce.push(Ae);if(O=O.M,Ae=ee.type||ee,typeof ee=="string")ee=new k(ee,O);else if(ee instanceof k)ee.target=ee.target||O;else{var We=ee;ee=new k(Ae,O),M(ee,We)}We=!0;let Ke,gt;if(ce)for(gt=ce.length-1;gt>=0;gt--)Ke=ee.g=ce[gt],We=_e(Ke,Ae,!0,ee)&&We;if(Ke=ee.g=O,We=_e(Ke,Ae,!0,ee)&&We,We=_e(Ke,Ae,!1,ee)&&We,ce)for(gt=0;gt<ce.length;gt++)Ke=ee.g=ce[gt],We=_e(Ke,Ae,!1,ee)&&We}xe.prototype.N=function(){if(xe.Z.N.call(this),this.i){var O=this.i;for(const ee in O.g){const ce=O.g[ee];for(let Ae=0;Ae<ce.length;Ae++)$(ce[Ae]);delete O.g[ee],O.h--}}this.G=null},xe.prototype.J=function(O,ee,ce,Ae){return this.i.add(String(O),ee,!1,ce,Ae)},xe.prototype.K=function(O,ee,ce,Ae){return this.i.add(String(O),ee,!0,ce,Ae)};function _e(O,ee,ce,Ae){if(ee=O.i.g[String(ee)],!ee)return!0;ee=ee.concat();let We=!0;for(let Ke=0;Ke<ee.length;++Ke){const gt=ee[Ke];if(gt&&!gt.da&&gt.capture==ce){const Ht=gt.listener,gi=gt.ha||gt.src;gt.fa&&Q(O.i,gt),We=Ht.call(gi,Ae)!==!1&&We}}return We&&!Ae.defaultPrevented}function oe(O,ee){if(typeof O!="function")if(O&&typeof O.handleEvent=="function")O=u(O.handleEvent,O);else throw Error("Invalid listener argument");return Number(ee)>2147483647?-1:s.setTimeout(O,ee||0)}function pe(O){O.g=oe(()=>{O.g=null,O.i&&(O.i=!1,pe(O))},O.l);const ee=O.h;O.h=null,O.m.apply(null,ee)}class Se extends P{constructor(ee,ce){super(),this.m=ee,this.l=ce,this.h=null,this.i=!1,this.g=null}j(ee){this.h=arguments,this.g?this.i=!0:pe(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function De(O){P.call(this),this.h=O,this.g={}}h(De,P);var Ve=[];function de(O){q(O.g,function(ee,ce){this.g.hasOwnProperty(ce)&&X(ee)},O),O.g={}}De.prototype.N=function(){De.Z.N.call(this),de(this)},De.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Me=s.JSON.stringify,Fe=s.JSON.parse,Ge=class{stringify(O){return s.JSON.stringify(O,void 0)}parse(O){return s.JSON.parse(O,void 0)}};function ut(){}function nt(){}var yt={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Be(){k.call(this,"d")}h(Be,k);function Ze(){k.call(this,"c")}h(Ze,k);var ot={},St=null;function bt(){return St=St||new xe}ot.Ia="serverreachability";function At(O){k.call(this,ot.Ia,O)}h(At,k);function Qt(O){const ee=bt();Ce(ee,new At(ee))}ot.STAT_EVENT="statevent";function Mt(O,ee){k.call(this,ot.STAT_EVENT,O),this.stat=ee}h(Mt,k);function xt(O){const ee=bt();Ce(ee,new Mt(ee,O))}ot.Ja="timingevent";function ln(O,ee){k.call(this,ot.Ja,O),this.size=ee}h(ln,k);function Dr(O,ee){if(typeof O!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){O()},ee)}function Yn(){this.g=!0}Yn.prototype.ua=function(){this.g=!1};function Ao(O,ee,ce,Ae,We,Ke){O.info(function(){if(O.g)if(Ke){var gt="",Ht=Ke.split("&");for(let hn=0;hn<Ht.length;hn++){var gi=Ht[hn].split("=");if(gi.length>1){const yi=gi[0];gi=gi[1];const Kr=yi.split("_");gt=Kr.length>=2&&Kr[1]=="type"?gt+(yi+"="+gi+"&"):gt+(yi+"=redacted&")}}}else gt=null;else gt=Ke;return"XMLHTTP REQ ("+Ae+") [attempt "+We+"]: "+ee+`
`+ce+`
`+gt})}function js(O,ee,ce,Ae,We,Ke,gt){O.info(function(){return"XMLHTTP RESP ("+Ae+") [ attempt "+We+"]: "+ee+`
`+ce+`
`+Ke+" "+gt})}function Lt(O,ee,ce,Ae){O.info(function(){return"XMLHTTP TEXT ("+ee+"): "+No(O,ce)+(Ae?" "+Ae:"")})}function $s(O,ee){O.info(function(){return"TIMEOUT: "+ee})}Yn.prototype.info=function(){};function No(O,ee){if(!O.g)return ee;if(!ee)return null;try{const Ke=JSON.parse(ee);if(Ke){for(O=0;O<Ke.length;O++)if(Array.isArray(Ke[O])){var ce=Ke[O];if(!(ce.length<2)){var Ae=ce[1];if(Array.isArray(Ae)&&!(Ae.length<1)){var We=Ae[0];if(We!="noop"&&We!="stop"&&We!="close")for(let gt=1;gt<Ae.length;gt++)Ae[gt]=""}}}}return Me(Ke)}catch{return ee}}var Vr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ua={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ri;function Ci(){}h(Ci,ut),Ci.prototype.g=function(){return new XMLHttpRequest},ri=new Ci;function pi(O){return encodeURIComponent(String(O))}function st(O){var ee=1;O=O.split(":");const ce=[];for(;ee>0&&O.length;)ce.push(O.shift()),ee--;return O.length&&ce.push(O.join(":")),ce}function ft(O,ee,ce,Ae){this.j=O,this.i=ee,this.l=ce,this.S=Ae||1,this.V=new De(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new on}function on(){this.i=null,this.g="",this.h=!1}var Bt={},ai={};function Jn(O,ee,ce){O.M=1,O.A=pa(Dn(ee)),O.u=ce,O.R=!0,Gr(O,null)}function Gr(O,ee){O.F=Date.now(),bc(O),O.B=Dn(O.A);var ce=O.B,Ae=O.S;Array.isArray(Ae)||(Ae=[String(Ae)]),Ef(ce.i,"t",Ae),O.C=0,ce=O.j.L,O.h=new on,O.g=Dt(O.j,ce?ee:null,!O.u),O.P>0&&(O.O=new Se(u(O.Y,O,O.g),O.P)),ee=O.V,ce=O.g,Ae=O.ba;var We="readystatechange";Array.isArray(We)||(We&&(Ve[0]=We.toString()),We=Ve);for(let Ke=0;Ke<We.length;Ke++){const gt=ye(ce,We[Ke],Ae||ee.handleEvent,!1,ee.h||ee);if(!gt)break;ee.g[gt.key]=gt}ee=O.J?B(O.J):{},O.u?(O.v||(O.v="POST"),ee["Content-Type"]="application/x-www-form-urlencoded",O.g.ea(O.B,O.v,O.u,ee)):(O.v="GET",O.g.ea(O.B,O.v,null,ee)),Qt(),Ao(O.i,O.v,O.B,O.l,O.S,O.u)}ft.prototype.ba=function(O){O=O.target;const ee=this.O;ee&&Ws(O)==3?ee.j():this.Y(O)},ft.prototype.Y=function(O){try{if(O==this.g)e:{const Ht=Ws(this.g),gi=this.g.ya(),hn=this.g.ca();if(!(Ht<3)&&(Ht!=3||this.g&&(this.h.h||this.g.la()||og(this.g)))){this.K||Ht!=4||gi==7||(gi==8||hn<=0?Qt(3):Qt(2)),pu(this);var ee=this.g.ca();this.X=ee;var ce=fu(this);if(this.o=ee==200,js(this.i,this.v,this.B,this.l,this.S,Ht,ee),this.o){if(this.U&&!this.L){t:{if(this.g){var Ae,We=this.g;if((Ae=We.g?We.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(Ae)){var Ke=Ae;break t}}Ke=null}if(O=Ke)Lt(this.i,this.l,O,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Af(this,O);else{this.o=!1,this.m=3,xt(12),ko(this),Dd(this);break e}}if(this.R){O=!0;let yi;for(;!this.K&&this.C<ce.length;)if(yi=Ed(this,ce),yi==ai){Ht==4&&(this.m=4,xt(14),O=!1),Lt(this.i,this.l,null,"[Incomplete Response]");break}else if(yi==Bt){this.m=4,xt(15),Lt(this.i,this.l,ce,"[Invalid Chunk]"),O=!1;break}else Lt(this.i,this.l,yi,null),Af(this,yi);if(Ma(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ht!=4||ce.length!=0||this.h.h||(this.m=1,xt(16),O=!1),this.o=this.o&&O,!O)Lt(this.i,this.l,ce,"[Invalid Chunked Response]"),ko(this),Dd(this);else if(ce.length>0&&!this.W){this.W=!0;var gt=this.j;gt.g==this&&gt.aa&&!gt.P&&(gt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),H(gt),gt.P=!0,xt(11))}}else Lt(this.i,this.l,ce,null),Af(this,ce);Ht==4&&ko(this),this.o&&!this.K&&(Ht==4?Ue(this.j,this):(this.o=!1,bc(this)))}else wc(this.g),ee==400&&ce.indexOf("Unknown SID")>0?(this.m=3,xt(12)):(this.m=0,xt(13)),ko(this),Dd(this)}}}catch{}finally{}};function fu(O){if(!Ma(O))return O.g.la();const ee=og(O.g);if(ee==="")return"";let ce="";const Ae=ee.length,We=Ws(O.g)==4;if(!O.h.i){if(typeof TextDecoder>"u")return ko(O),Dd(O),"";O.h.i=new s.TextDecoder}for(let Ke=0;Ke<Ae;Ke++)O.h.h=!0,ce+=O.h.i.decode(ee[Ke],{stream:!(We&&Ke==Ae-1)});return ee.length=0,O.h.g+=ce,O.C=0,O.h.g}function Ma(O){return O.g?O.v=="GET"&&O.M!=2&&O.j.Aa:!1}function Ed(O,ee){var ce=O.C,Ae=ee.indexOf(`
`,ce);return Ae==-1?ai:(ce=Number(ee.substring(ce,Ae)),isNaN(ce)?Bt:(Ae+=1,Ae+ce>ee.length?ai:(ee=ee.slice(Ae,Ae+ce),O.C=Ae+ce,ee)))}ft.prototype.cancel=function(){this.K=!0,ko(this)};function bc(O){O.T=Date.now()+O.H,Td(O,O.H)}function Td(O,ee){if(O.D!=null)throw Error("WatchDog timer not null");O.D=Dr(u(O.aa,O),ee)}function pu(O){O.D&&(s.clearTimeout(O.D),O.D=null)}ft.prototype.aa=function(){this.D=null;const O=Date.now();O-this.T>=0?($s(this.i,this.B),this.M!=2&&(Qt(),xt(17)),ko(this),this.m=2,Dd(this)):Td(this,this.T-O)};function Dd(O){O.j.I==0||O.K||Ue(O.j,O)}function ko(O){pu(O);var ee=O.O;ee&&typeof ee.dispose=="function"&&ee.dispose(),O.O=null,de(O.V),O.g&&(ee=O.g,O.g=null,ee.abort(),ee.dispose())}function Af(O,ee){try{var ce=O.j;if(ce.I!=0&&(ce.g==O||Pd(ce.h,O))){if(!O.L&&Pd(ce.h,O)&&ce.I==3){try{var Ae=ce.Ba.g.parse(ee)}catch{Ae=null}if(Array.isArray(Ae)&&Ae.length==3){var We=Ae;if(We[0]==0){e:if(!ce.v){if(ce.g)if(ce.g.F+3e3<O.F)Pe(ce),El(ce);else break e;Pf(ce),xt(18)}}else ce.xa=We[1],0<ce.xa-ce.K&&We[2]<37500&&ce.F&&ce.A==0&&!ce.C&&(ce.C=Dr(u(ce.Va,ce),6e3));Qm(ce.h)<=1&&ce.ta&&(ce.ta=void 0)}else Qe(ce,11)}else if((O.L||ce.g==O)&&Pe(ce),!I(ee))for(We=ce.Ba.g.parse(ee),ee=0;ee<We.length;ee++){let hn=We[ee];const yi=hn[0];if(!(yi<=ce.K))if(ce.K=yi,hn=hn[1],ce.I==2)if(hn[0]=="c"){ce.M=hn[1],ce.ba=hn[2];const Kr=hn[3];Kr!=null&&(ce.ka=Kr,ce.j.info("VER="+ce.ka));const za=hn[4];za!=null&&(ce.za=za,ce.j.info("SVER="+ce.za));const vi=hn[5];vi!=null&&typeof vi=="number"&&vi>0&&(Ae=1.5*vi,ce.O=Ae,ce.j.info("backChannelRequestTimeoutMs_="+Ae)),Ae=ce;const ja=O.g;if(ja){const Dl=ja.g?ja.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dl){var Ke=Ae.h;Ke.g||Dl.indexOf("spdy")==-1&&Dl.indexOf("quic")==-1&&Dl.indexOf("h2")==-1||(Ke.j=Ke.l,Ke.g=new Set,Ke.h&&(kf(Ke,Ke.h),Ke.h=null))}if(Ae.G){const Ud=ja.g?ja.g.getResponseHeader("X-HTTP-Session-Id"):null;Ud&&(Ae.wa=Ud,On(Ae.J,Ae.G,Ud))}}ce.I=3,ce.l&&ce.l.ra(),ce.aa&&(ce.T=Date.now()-O.F,ce.j.info("Handshake RTT: "+ce.T+"ms")),Ae=ce;var gt=O;if(Ae.na=kt(Ae,Ae.L?Ae.ba:null,Ae.W),gt.L){eg(Ae.h,gt);var Ht=gt,gi=Ae.O;gi&&(Ht.H=gi),Ht.D&&(pu(Ht),bc(Ht)),Ae.g=gt}else vu(Ae);ce.i.length>0&&Od(ce)}else hn[0]!="stop"&&hn[0]!="close"||Qe(ce,7);else ce.I==3&&(hn[0]=="stop"||hn[0]=="close"?hn[0]=="stop"?Qe(ce,7):Fd(ce):hn[0]!="noop"&&ce.l&&ce.l.qa(hn),ce.A=0)}}Qt(4)}catch{}}var uy=class{constructor(O,ee){this.g=O,this.map=ee}};function fs(O){this.l=O||10,s.PerformanceNavigationTiming?(O=s.performance.getEntriesByType("navigation"),O=O.length>0&&(O[0].nextHopProtocol=="hq"||O[0].nextHopProtocol=="h2")):O=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=O?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Nf(O){return O.h?!0:O.g?O.g.size>=O.j:!1}function Qm(O){return O.h?1:O.g?O.g.size:0}function Pd(O,ee){return O.h?O.h==ee:O.g?O.g.has(ee):!1}function kf(O,ee){O.g?O.g.add(ee):O.h=ee}function eg(O,ee){O.h&&O.h==ee?O.h=null:O.g&&O.g.has(ee)&&O.g.delete(ee)}fs.prototype.cancel=function(){if(this.i=tg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const O of this.g.values())O.cancel();this.g.clear()}};function tg(O){if(O.h!=null)return O.i.concat(O.h.G);if(O.g!=null&&O.g.size!==0){let ee=O.i;for(const ce of O.g.values())ee=ee.concat(ce.G);return ee}return p(O.i)}var Co=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cf(O,ee){if(O){O=O.split("&");for(let ce=0;ce<O.length;ce++){const Ae=O[ce].indexOf("=");let We,Ke=null;Ae>=0?(We=O[ce].substring(0,Ae),Ke=O[ce].substring(Ae+1)):We=O[ce],ee(We,Ke?decodeURIComponent(Ke.replace(/\+/g," ")):"")}}}function Sl(O){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let ee;O instanceof Sl?(this.l=O.l,mu(this,O.j),this.o=O.o,this.g=O.g,Ba(this,O.u),this.h=O.h,gu(this,ng(O.i)),this.m=O.m):O&&(ee=String(O).match(Co))?(this.l=!1,mu(this,ee[1]||"",!0),this.o=Ei(ee[2]||""),this.g=Ei(ee[3]||"",!0),Ba(this,ee[4]),this.h=Ei(ee[5]||"",!0),gu(this,ee[6]||"",!0),this.m=Ei(ee[7]||"")):(this.l=!1,this.i=new Nl(null,this.l))}Sl.prototype.toString=function(){const O=[];var ee=this.j;ee&&O.push(ps(ee,hy,!0),":");var ce=this.g;return(ce||ee=="file")&&(O.push("//"),(ee=this.o)&&O.push(ps(ee,hy,!0),"@"),O.push(pi(ce).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),ce=this.u,ce!=null&&O.push(":",String(ce))),(ce=this.h)&&(this.g&&ce.charAt(0)!="/"&&O.push("/"),O.push(ps(ce,ce.charAt(0)=="/"?Al:qw,!0))),(ce=this.i.toString())&&O.push("?",ce),(ce=this.m)&&O.push("#",ps(ce,py)),O.join("")},Sl.prototype.resolve=function(O){const ee=Dn(this);let ce=!!O.j;ce?mu(ee,O.j):ce=!!O.o,ce?ee.o=O.o:ce=!!O.g,ce?ee.g=O.g:ce=O.u!=null;var Ae=O.h;if(ce)Ba(ee,O.u);else if(ce=!!O.h){if(Ae.charAt(0)!="/")if(this.g&&!this.h)Ae="/"+Ae;else{var We=ee.h.lastIndexOf("/");We!=-1&&(Ae=ee.h.slice(0,We+1)+Ae)}if(We=Ae,We==".."||We==".")Ae="";else if(We.indexOf("./")!=-1||We.indexOf("/.")!=-1){Ae=We.lastIndexOf("/",0)==0,We=We.split("/");const Ke=[];for(let gt=0;gt<We.length;){const Ht=We[gt++];Ht=="."?Ae&&gt==We.length&&Ke.push(""):Ht==".."?((Ke.length>1||Ke.length==1&&Ke[0]!="")&&Ke.pop(),Ae&&gt==We.length&&Ke.push("")):(Ke.push(Ht),Ae=!0)}Ae=Ke.join("/")}else Ae=We}return ce?ee.h=Ae:ce=O.i.toString()!=="",ce?gu(ee,ng(O.i)):ce=!!O.m,ce&&(ee.m=O.m),ee};function Dn(O){return new Sl(O)}function mu(O,ee,ce){O.j=ce?Ei(ee,!0):ee,O.j&&(O.j=O.j.replace(/:$/,""))}function Ba(O,ee){if(ee){if(ee=Number(ee),isNaN(ee)||ee<0)throw Error("Bad port number "+ee);O.u=ee}else O.u=null}function gu(O,ee,ce){ee instanceof Nl?(O.i=ee,Hw(O.i,O.l)):(ce||(ee=ps(ee,fy)),O.i=new Nl(ee,O.l))}function On(O,ee,ce){O.i.set(ee,ce)}function pa(O){return On(O,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),O}function Ei(O,ee){return O?ee?decodeURI(O.replace(/%25/g,"%2525")):decodeURIComponent(O):""}function ps(O,ee,ce){return typeof O=="string"?(O=encodeURI(O).replace(ee,dy),ce&&(O=O.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O):null}function dy(O){return O=O.charCodeAt(0),"%"+(O>>4&15).toString(16)+(O&15).toString(16)}var hy=/[#\/\?@]/g,qw=/[#\?:]/g,Al=/[#\?]/g,fy=/[#\?@]/g,py=/#/g;function Nl(O,ee){this.h=this.g=null,this.i=O||null,this.j=!!ee}function ms(O){O.g||(O.g=new Map,O.h=0,O.i&&Cf(O.i,function(ee,ce){O.add(decodeURIComponent(ee.replace(/\+/g," ")),ce)}))}t=Nl.prototype,t.add=function(O,ee){ms(this),this.i=null,O=Xr(this,O);let ce=this.g.get(O);return ce||this.g.set(O,ce=[]),ce.push(ee),this.h+=1,this};function my(O,ee){ms(O),ee=Xr(O,ee),O.g.has(ee)&&(O.i=null,O.h-=O.g.get(ee).length,O.g.delete(ee))}function gy(O,ee){return ms(O),ee=Xr(O,ee),O.g.has(ee)}t.forEach=function(O,ee){ms(this),this.g.forEach(function(ce,Ae){ce.forEach(function(We){O.call(ee,We,Ae,this)},this)},this)};function yy(O,ee){ms(O);let ce=[];if(typeof ee=="string")gy(O,ee)&&(ce=ce.concat(O.g.get(Xr(O,ee))));else for(O=Array.from(O.g.values()),ee=0;ee<O.length;ee++)ce=ce.concat(O[ee]);return ce}t.set=function(O,ee){return ms(this),this.i=null,O=Xr(this,O),gy(this,O)&&(this.h-=this.g.get(O).length),this.g.set(O,[ee]),this.h+=1,this},t.get=function(O,ee){return O?(O=yy(this,O),O.length>0?String(O[0]):ee):ee};function Ef(O,ee,ce){my(O,ee),ce.length>0&&(O.i=null,O.g.set(Xr(O,ee),p(ce)),O.h+=ce.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const O=[],ee=Array.from(this.g.keys());for(let Ae=0;Ae<ee.length;Ae++){var ce=ee[Ae];const We=pi(ce);ce=yy(this,ce);for(let Ke=0;Ke<ce.length;Ke++){let gt=We;ce[Ke]!==""&&(gt+="="+pi(ce[Ke])),O.push(gt)}}return this.i=O.join("&")};function ng(O){const ee=new Nl;return ee.i=O.i,O.g&&(ee.g=new Map(O.g),ee.h=O.h),ee}function Xr(O,ee){return ee=String(ee),O.j&&(ee=ee.toLowerCase()),ee}function Hw(O,ee){ee&&!O.j&&(ms(O),O.i=null,O.g.forEach(function(ce,Ae){const We=Ae.toLowerCase();Ae!=We&&(my(this,Ae),Ef(this,We,ce))},O)),O.j=ee}function Id(O,ee){const ce=new Yn;if(s.Image){const Ae=new Image;Ae.onload=d(kl,ce,"TestLoadImage: loaded",!0,ee,Ae),Ae.onerror=d(kl,ce,"TestLoadImage: error",!1,ee,Ae),Ae.onabort=d(kl,ce,"TestLoadImage: abort",!1,ee,Ae),Ae.ontimeout=d(kl,ce,"TestLoadImage: timeout",!1,ee,Ae),s.setTimeout(function(){Ae.ontimeout&&Ae.ontimeout()},1e4),Ae.src=O}else ee(!1)}function ig(O,ee){const ce=new Yn,Ae=new AbortController,We=setTimeout(()=>{Ae.abort(),kl(ce,"TestPingServer: timeout",!1,ee)},1e4);fetch(O,{signal:Ae.signal}).then(Ke=>{clearTimeout(We),Ke.ok?kl(ce,"TestPingServer: ok",!0,ee):kl(ce,"TestPingServer: server error",!1,ee)}).catch(()=>{clearTimeout(We),kl(ce,"TestPingServer: error",!1,ee)})}function kl(O,ee,ce,Ae,We){try{We&&(We.onload=null,We.onerror=null,We.onabort=null,We.ontimeout=null),Ae(ce)}catch{}}function Wt(){this.g=new Ge}function rg(O){this.i=O.Sb||null,this.h=O.ab||!1}h(rg,ut),rg.prototype.g=function(){return new Tf(this.i,this.h)};function Tf(O,ee){xe.call(this),this.H=O,this.o=ee,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(Tf,xe),t=Tf.prototype,t.open=function(O,ee){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=O,this.D=ee,this.readyState=1,ys(this)},t.send=function(O){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const ee={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};O&&(ee.body=O),(this.H||s).fetch(new Request(this.D,ee)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,gs(this)),this.readyState=0},t.Pa=function(O){if(this.g&&(this.l=O,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=O.headers,this.readyState=2,ys(this)),this.g&&(this.readyState=3,ys(this),this.g)))if(this.responseType==="arraybuffer")O.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in O){if(this.j=O.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;vy(this)}else O.text().then(this.Oa.bind(this),this.ga.bind(this))};function vy(O){O.j.read().then(O.Ma.bind(O)).catch(O.ga.bind(O))}t.Ma=function(O){if(this.g){if(this.o&&O.value)this.response.push(O.value);else if(!this.o){var ee=O.value?O.value:new Uint8Array(0);(ee=this.B.decode(ee,{stream:!O.done}))&&(this.response=this.responseText+=ee)}O.done?gs(this):ys(this),this.readyState==3&&vy(this)}},t.Oa=function(O){this.g&&(this.response=this.responseText=O,gs(this))},t.Na=function(O){this.g&&(this.response=O,gs(this))},t.ga=function(){this.g&&gs(this)};function gs(O){O.readyState=4,O.l=null,O.j=null,O.B=null,ys(O)}t.setRequestHeader=function(O,ee){this.A.append(O,ee)},t.getResponseHeader=function(O){return this.h&&this.h.get(O.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const O=[],ee=this.h.entries();for(var ce=ee.next();!ce.done;)ce=ce.value,O.push(ce[0]+": "+ce[1]),ce=ee.next();return O.join(`\r
`)};function ys(O){O.onreadystatechange&&O.onreadystatechange.call(O)}Object.defineProperty(Tf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(O){this.m=O?"include":"same-origin"}});function by(O){let ee="";return q(O,function(ce,Ae){ee+=Ae,ee+=":",ee+=ce,ee+=`\r
`}),ee}function ag(O,ee,ce){e:{for(Ae in ce){var Ae=!1;break e}Ae=!0}Ae||(ce=by(ce),typeof O=="string"?ce!=null&&pi(ce):On(O,ee,ce))}function Zn(O){xe.call(this),this.headers=new Map,this.L=O||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(Zn,xe);var sg=/^https?$/i,Rd=["POST","PUT"];t=Zn.prototype,t.Fa=function(O){this.H=O},t.ea=function(O,ee,ce,Ae){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+O);ee=ee?ee.toUpperCase():"GET",this.D=O,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ri.g(),this.g.onreadystatechange=f(u(this.Ca,this));try{this.B=!0,this.g.open(ee,String(O),!0),this.B=!1}catch(Ke){wy(this,Ke);return}if(O=ce||"",ce=new Map(this.headers),Ae)if(Object.getPrototypeOf(Ae)===Object.prototype)for(var We in Ae)ce.set(We,Ae[We]);else if(typeof Ae.keys=="function"&&typeof Ae.get=="function")for(const Ke of Ae.keys())ce.set(Ke,Ae.get(Ke));else throw Error("Unknown input type for opt_headers: "+String(Ae));Ae=Array.from(ce.keys()).find(Ke=>Ke.toLowerCase()=="content-type"),We=s.FormData&&O instanceof s.FormData,!(Array.prototype.indexOf.call(Rd,ee,void 0)>=0)||Ae||We||ce.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ke,gt]of ce)this.g.setRequestHeader(Ke,gt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(O),this.v=!1}catch(Ke){wy(this,Ke)}};function wy(O,ee){O.h=!1,O.g&&(O.j=!0,O.g.abort(),O.j=!1),O.l=ee,O.o=5,Cl(O),yu(O)}function Cl(O){O.A||(O.A=!0,Ce(O,"complete"),Ce(O,"error"))}t.abort=function(O){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=O||7,Ce(this,"complete"),Ce(this,"abort"),yu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yu(this,!0)),Zn.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?xy(this):this.Xa())},t.Xa=function(){xy(this)};function xy(O){if(O.h&&typeof a<"u"){if(O.v&&Ws(O)==4)setTimeout(O.Ca.bind(O),0);else if(Ce(O,"readystatechange"),Ws(O)==4){O.h=!1;try{const Ke=O.ca();e:switch(Ke){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var ee=!0;break e;default:ee=!1}var ce;if(!(ce=ee)){var Ae;if(Ae=Ke===0){let gt=String(O.D).match(Co)[1]||null;!gt&&s.self&&s.self.location&&(gt=s.self.location.protocol.slice(0,-1)),Ae=!sg.test(gt?gt.toLowerCase():"")}ce=Ae}if(ce)Ce(O,"complete"),Ce(O,"success");else{O.o=6;try{var We=Ws(O)>2?O.g.statusText:""}catch{We=""}O.l=We+" ["+O.ca()+"]",Cl(O)}}finally{yu(O)}}}}function yu(O,ee){if(O.g){O.m&&(clearTimeout(O.m),O.m=null);const ce=O.g;O.g=null,ee||Ce(O,"ready");try{ce.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ws(O){return O.g?O.g.readyState:0}t.ca=function(){try{return Ws(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(O){if(this.g){var ee=this.g.responseText;return O&&ee.indexOf(O)==0&&(ee=ee.substring(O.length)),Fe(ee)}};function og(O){try{if(!O.g)return null;if("response"in O.g)return O.g.response;switch(O.F){case"":case"text":return O.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in O.g)return O.g.mozResponseArrayBuffer}return null}catch{return null}}function wc(O){const ee={};O=(O.g&&Ws(O)>=2&&O.g.getAllResponseHeaders()||"").split(`\r
`);for(let Ae=0;Ae<O.length;Ae++){if(I(O[Ae]))continue;var ce=st(O[Ae]);const We=ce[0];if(ce=ce[1],typeof ce!="string")continue;ce=ce.trim();const Ke=ee[We]||[];ee[We]=Ke,Ke.push(ce)}G(ee,function(Ae){return Ae.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function xc(O,ee,ce){return ce&&ce.internalChannelParams&&ce.internalChannelParams[O]||ee}function Ld(O){this.za=0,this.i=[],this.j=new Yn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=xc("failFast",!1,O),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=xc("baseRetryDelayMs",5e3,O),this.Za=xc("retryDelaySeedMs",1e4,O),this.Ta=xc("forwardChannelMaxRetries",2,O),this.va=xc("forwardChannelRequestTimeoutMs",2e4,O),this.ma=O&&O.xmlHttpFactory||void 0,this.Ua=O&&O.Rb||void 0,this.Aa=O&&O.useFetchStreams||!1,this.O=void 0,this.L=O&&O.supportsCrossDomainXhr||!1,this.M="",this.h=new fs(O&&O.concurrentRequestLimit),this.Ba=new Wt,this.S=O&&O.fastHandshake||!1,this.R=O&&O.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=O&&O.Pb||!1,O&&O.ua&&this.j.ua(),O&&O.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&O&&O.detectBufferingProxy||!1,this.ia=void 0,O&&O.longPollingTimeout&&O.longPollingTimeout>0&&(this.ia=O.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ld.prototype,t.ka=8,t.I=1,t.connect=function(O,ee,ce,Ae){xt(0),this.W=O,this.H=ee||{},ce&&Ae!==void 0&&(this.H.OSID=ce,this.H.OAID=Ae),this.F=this.X,this.J=kt(this,null,this.W),Od(this)};function Fd(O){if(Df(O),O.I==3){var ee=O.V++,ce=Dn(O.J);if(On(ce,"SID",O.M),On(ce,"RID",ee),On(ce,"TYPE","terminate"),vs(O,ce),ee=new ft(O,O.j,ee),ee.M=2,ee.A=pa(Dn(ce)),ce=!1,s.navigator&&s.navigator.sendBeacon)try{ce=s.navigator.sendBeacon(ee.A.toString(),"")}catch{}!ce&&s.Image&&(new Image().src=ee.A,ce=!0),ce||(ee.g=Dt(ee.j,null),ee.g.ea(ee.A)),ee.F=Date.now(),bc(ee)}lt(O)}function El(O){O.g&&(H(O),O.g.cancel(),O.g=null)}function Df(O){El(O),O.v&&(s.clearTimeout(O.v),O.v=null),Pe(O),O.h.cancel(),O.m&&(typeof O.m=="number"&&s.clearTimeout(O.m),O.m=null)}function Od(O){if(!Nf(O.h)&&!O.m){O.m=!0;var ee=O.Ea;N||E(),R||(N(),R=!0),D.add(ee,O),O.D=0}}function _y(O,ee){return Qm(O.h)>=O.h.j-(O.m?1:0)?!1:O.m?(O.i=ee.G.concat(O.i),!0):O.I==1||O.I==2||O.D>=(O.Sa?0:O.Ta)?!1:(O.m=Dr(u(O.Ea,O,ee),$e(O,O.D)),O.D++,!0)}t.Ea=function(O){if(this.m)if(this.m=null,this.I==1){if(!O){this.V=Math.floor(Math.random()*1e5),O=this.V++;const We=new ft(this,this.j,O);let Ke=this.o;if(this.U&&(Ke?(Ke=B(Ke),M(Ke,this.U)):Ke=this.U),this.u!==null||this.R||(We.J=Ke,Ke=null),this.S)e:{for(var ee=0,ce=0;ce<this.i.length;ce++){t:{var Ae=this.i[ce];if("__data__"in Ae.map&&(Ae=Ae.map.__data__,typeof Ae=="string")){Ae=Ae.length;break t}Ae=void 0}if(Ae===void 0)break;if(ee+=Ae,ee>4096){ee=ce;break e}if(ee===4096||ce===this.i.length-1){ee=ce+1;break e}}ee=1e3}else ee=1e3;ee=lg(this,We,ee),ce=Dn(this.J),On(ce,"RID",O),On(ce,"CVER",22),this.G&&On(ce,"X-HTTP-Session-Id",this.G),vs(this,ce),Ke&&(this.R?ee="headers="+pi(by(Ke))+"&"+ee:this.u&&ag(ce,this.u,Ke)),kf(this.h,We),this.Ra&&On(ce,"TYPE","init"),this.S?(On(ce,"$req",ee),On(ce,"SID","null"),We.U=!0,Jn(We,ce,null)):Jn(We,ce,ee),this.I=2}}else this.I==3&&(O?Tl(this,O):this.i.length==0||Nf(this.h)||Tl(this))};function Tl(O,ee){var ce;ee?ce=ee.l:ce=O.V++;const Ae=Dn(O.J);On(Ae,"SID",O.M),On(Ae,"RID",ce),On(Ae,"AID",O.K),vs(O,Ae),O.u&&O.o&&ag(Ae,O.u,O.o),ce=new ft(O,O.j,ce,O.D+1),O.u===null&&(ce.J=O.o),ee&&(O.i=ee.G.concat(O.i)),ee=lg(O,ce,1e3),ce.H=Math.round(O.va*.5)+Math.round(O.va*.5*Math.random()),kf(O.h,ce),Jn(ce,Ae,ee)}function vs(O,ee){O.H&&q(O.H,function(ce,Ae){On(ee,Ae,ce)}),O.l&&q({},function(ce,Ae){On(ee,Ae,ce)})}function lg(O,ee,ce){ce=Math.min(O.i.length,ce);const Ae=O.l?u(O.l.Ka,O.l,O):null;e:{var We=O.i;let Ht=-1;for(;;){const gi=["count="+ce];Ht==-1?ce>0?(Ht=We[0].g,gi.push("ofs="+Ht)):Ht=0:gi.push("ofs="+Ht);let hn=!0;for(let yi=0;yi<ce;yi++){var Ke=We[yi].g;const Kr=We[yi].map;if(Ke-=Ht,Ke<0)Ht=Math.max(0,We[yi].g-100),hn=!1;else try{Ke="req"+Ke+"_"||"";try{var gt=Kr instanceof Map?Kr:Object.entries(Kr);for(const[za,vi]of gt){let ja=vi;o(vi)&&(ja=Me(vi)),gi.push(Ke+za+"="+encodeURIComponent(ja))}}catch(za){throw gi.push(Ke+"type="+encodeURIComponent("_badmap")),za}}catch{Ae&&Ae(Kr)}}if(hn){gt=gi.join("&");break e}}gt=void 0}return O=O.i.splice(0,ce),ee.G=O,gt}function vu(O){if(!O.g&&!O.v){O.Y=1;var ee=O.Da;N||E(),R||(N(),R=!0),D.add(ee,O),O.A=0}}function Pf(O){return O.g||O.v||O.A>=3?!1:(O.Y++,O.v=Dr(u(O.Da,O),$e(O,O.A)),O.A++,!0)}t.Da=function(){if(this.v=null,fe(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var O=4*this.T;this.j.info("BP detection timer enabled: "+O),this.B=Dr(u(this.Wa,this),O)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,xt(10),El(this),fe(this))};function H(O){O.B!=null&&(s.clearTimeout(O.B),O.B=null)}function fe(O){O.g=new ft(O,O.j,"rpc",O.Y),O.u===null&&(O.g.J=O.o),O.g.P=0;var ee=Dn(O.na);On(ee,"RID","rpc"),On(ee,"SID",O.M),On(ee,"AID",O.K),On(ee,"CI",O.F?"0":"1"),!O.F&&O.ia&&On(ee,"TO",O.ia),On(ee,"TYPE","xmlhttp"),vs(O,ee),O.u&&O.o&&ag(ee,O.u,O.o),O.O&&(O.g.H=O.O);var ce=O.g;O=O.ba,ce.M=1,ce.A=pa(Dn(ee)),ce.u=null,ce.R=!0,Gr(ce,O)}t.Va=function(){this.C!=null&&(this.C=null,El(this),Pf(this),xt(19))};function Pe(O){O.C!=null&&(s.clearTimeout(O.C),O.C=null)}function Ue(O,ee){var ce=null;if(O.g==ee){Pe(O),H(O),O.g=null;var Ae=2}else if(Pd(O.h,ee))ce=ee.G,eg(O.h,ee),Ae=1;else return;if(O.I!=0){if(ee.o)if(Ae==1){ce=ee.u?ee.u.length:0,ee=Date.now()-ee.F;var We=O.D;Ae=bt(),Ce(Ae,new ln(Ae,ce)),Od(O)}else vu(O);else if(We=ee.m,We==3||We==0&&ee.X>0||!(Ae==1&&_y(O,ee)||Ae==2&&Pf(O)))switch(ce&&ce.length>0&&(ee=O.h,ee.i=ee.i.concat(ce)),We){case 1:Qe(O,5);break;case 4:Qe(O,10);break;case 3:Qe(O,6);break;default:Qe(O,2)}}}function $e(O,ee){let ce=O.Qa+Math.floor(Math.random()*O.Za);return O.isActive()||(ce*=2),ce*ee}function Qe(O,ee){if(O.j.info("Error code "+ee),ee==2){var ce=u(O.bb,O),Ae=O.Ua;const We=!Ae;Ae=new Sl(Ae||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||mu(Ae,"https"),pa(Ae),We?Id(Ae.toString(),ce):ig(Ae.toString(),ce)}else xt(2);O.I=0,O.l&&O.l.pa(ee),lt(O),Df(O)}t.bb=function(O){O?(this.j.info("Successfully pinged google.com"),xt(2)):(this.j.info("Failed to ping google.com"),xt(1))};function lt(O){if(O.I=0,O.ja=[],O.l){const ee=tg(O.h);(ee.length!=0||O.i.length!=0)&&(w(O.ja,ee),w(O.ja,O.i),O.h.i.length=0,p(O.i),O.i.length=0),O.l.oa()}}function kt(O,ee,ce){var Ae=ce instanceof Sl?Dn(ce):new Sl(ce);if(Ae.g!="")ee&&(Ae.g=ee+"."+Ae.g),Ba(Ae,Ae.u);else{var We=s.location;Ae=We.protocol,ee=ee?ee+"."+We.hostname:We.hostname,We=+We.port;const Ke=new Sl(null);Ae&&mu(Ke,Ae),ee&&(Ke.g=ee),We&&Ba(Ke,We),ce&&(Ke.h=ce),Ae=Ke}return ce=O.G,ee=O.wa,ce&&ee&&On(Ae,ce,ee),On(Ae,"VER",O.ka),vs(O,Ae),Ae}function Dt(O,ee,ce){if(ee&&!O.L)throw Error("Can't create secondary domain capable XhrIo object.");return ee=O.Aa&&!O.ma?new Zn(new rg({ab:ce})):new Zn(O.ma),ee.Fa(O.L),ee}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function jt(){}t=jt.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ut(O,ee){xe.call(this),this.g=new Ld(ee),this.l=O,this.h=ee&&ee.messageUrlParams||null,O=ee&&ee.messageHeaders||null,ee&&ee.clientProtocolHeaderRequired&&(O?O["X-Client-Protocol"]="webchannel":O={"X-Client-Protocol":"webchannel"}),this.g.o=O,O=ee&&ee.initMessageHeaders||null,ee&&ee.messageContentType&&(O?O["X-WebChannel-Content-Type"]=ee.messageContentType:O={"X-WebChannel-Content-Type":ee.messageContentType}),ee&&ee.sa&&(O?O["X-WebChannel-Client-Profile"]=ee.sa:O={"X-WebChannel-Client-Profile":ee.sa}),this.g.U=O,(O=ee&&ee.Qb)&&!I(O)&&(this.g.u=O),this.A=ee&&ee.supportsCrossDomainXhr||!1,this.v=ee&&ee.sendRawJson||!1,(ee=ee&&ee.httpSessionIdParam)&&!I(ee)&&(this.g.G=ee,O=this.h,O!==null&&ee in O&&(O=this.h,ee in O&&delete O[ee])),this.j=new si(this)}h(Ut,xe),Ut.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ut.prototype.close=function(){Fd(this.g)},Ut.prototype.o=function(O){var ee=this.g;if(typeof O=="string"){var ce={};ce.__data__=O,O=ce}else this.v&&(ce={},ce.__data__=Me(O),O=ce);ee.i.push(new uy(ee.Ya++,O)),ee.I==3&&Od(ee)},Ut.prototype.N=function(){this.g.l=null,delete this.j,Fd(this.g),delete this.g,Ut.Z.N.call(this)};function dn(O){Be.call(this),O.__headers__&&(this.headers=O.__headers__,this.statusCode=O.__status__,delete O.__headers__,delete O.__status__);var ee=O.__sm__;if(ee){e:{for(const ce in ee){O=ce;break e}O=void 0}(this.i=O)&&(O=this.i,ee=ee!==null&&O in ee?ee[O]:void 0),this.data=ee}else this.data=O}h(dn,Be);function mi(){Ze.call(this),this.status=1}h(mi,Ze);function si(O){this.g=O}h(si,jt),si.prototype.ra=function(){Ce(this.g,"a")},si.prototype.qa=function(O){Ce(this.g,new dn(O))},si.prototype.pa=function(O){Ce(this.g,new mi)},si.prototype.oa=function(){Ce(this.g,"b")},Ut.prototype.send=Ut.prototype.o,Ut.prototype.open=Ut.prototype.m,Ut.prototype.close=Ut.prototype.close,Vr.NO_ERROR=0,Vr.TIMEOUT=8,Vr.HTTP_ERROR=6,Ua.COMPLETE="complete",nt.EventType=yt,yt.OPEN="a",yt.CLOSE="b",yt.ERROR="c",yt.MESSAGE="d",xe.prototype.listen=xe.prototype.J,Zn.prototype.listenOnce=Zn.prototype.K,Zn.prototype.getLastError=Zn.prototype.Ha,Zn.prototype.getLastErrorCode=Zn.prototype.ya,Zn.prototype.getStatus=Zn.prototype.ca,Zn.prototype.getResponseJson=Zn.prototype.La,Zn.prototype.getResponseText=Zn.prototype.la,Zn.prototype.send=Zn.prototype.ea,Zn.prototype.setWithCredentials=Zn.prototype.Fa}).apply(typeof V3<"u"?V3:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ps=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ps.UNAUTHENTICATED=new Ps(null),Ps.GOOGLE_CREDENTIALS=new Ps("google-credentials-uid"),Ps.FIRST_PARTY=new Ps("first-party-uid"),Ps.MOCK_USER=new Ps("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IN="12.8.0";function yye(t){IN=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw=new XD("@firebase/firestore");function Jc(t,...e){if(tw.logLevel<=Mn.DEBUG){const n=e.map(oU);tw.debug(`Firestore (${IN}): ${t}`,...n)}}function LZ(t,...e){if(tw.logLevel<=Mn.ERROR){const n=e.map(oU);tw.error(`Firestore (${IN}): ${t}`,...n)}}function vye(t,...e){if(tw.logLevel<=Mn.WARN){const n=e.map(oU);tw.warn(`Firestore (${IN}): ${t}`,...n)}}function oU(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,FZ(t,i,n)}function FZ(t,e,n){let i=`FIRESTORE (${IN}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw LZ(i),new Error(i)}function k5(t,e,n,i){let r="Unexpected state";typeof n=="string"?r=n:i=n,t||FZ(e,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const An={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Nn extends mc{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OZ{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bye{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ps.UNAUTHENTICATED))}shutdown(){}}class wye{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class xye{constructor(e){this.t=e,this.currentUser=Ps.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){k5(this.o===void 0,42304);let i=this.i;const r=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let a=new C5;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new C5,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const c=a;e.enqueueRetryable(async()=>{await c.promise,await r(this.currentUser)})},o=c=>{Jc("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>o(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?o(c):(Jc("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new C5)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(Jc("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(k5(typeof i.accessToken=="string",31837,{l:i}),new OZ(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return k5(e===null||typeof e=="string",2055,{h:e}),new Ps(e)}}class _ye{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=Ps.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Sye{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new _ye(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ps.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class L${constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Aye{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ro(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){k5(this.o===void 0,3512);const i=a=>{a.error!=null&&Jc("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,Jc("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{Jc("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?r(a):Jc("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new L$(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(k5(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new L$(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nye(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kye{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=Nye(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<n&&(i+=e.charAt(r[a]%62))}return i}}function Pm(t,e){return t<e?-1:t>e?1:0}function Cye(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++){const r=t.charAt(i),a=e.charAt(i);if(r!==a)return MP(r)===MP(a)?Pm(r,a):MP(r)?1:-1}return Pm(t.length,e.length)}const Eye=55296,Tye=57343;function MP(t){const e=t.charCodeAt(0);return e>=Eye&&e<=Tye}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F$="__name__";class Iu{constructor(e,n,i){n===void 0?n=0:n>e.length&&n_(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&n_(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Iu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Iu?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const a=Iu.compareSegments(e.get(r),n.get(r));if(a!==0)return a}return Pm(e.length,n.length)}static compareSegments(e,n){const i=Iu.isNumericId(e),r=Iu.isNumericId(n);return i&&!r?-1:!i&&r?1:i&&r?Iu.extractNumericId(e).compare(Iu.extractNumericId(n)):Cye(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return sU.fromString(e.substring(4,e.length-2))}}class Xc extends Iu{construct(e,n,i){return new Xc(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Nn(An.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Xc(n)}static emptyPath(){return new Xc([])}}const Dye=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ng extends Iu{construct(e,n,i){return new Ng(e,n,i)}static isValidIdentifier(e){return Dye.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ng.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===F$}static keyField(){return new Ng([F$])}static fromServerFormat(e){const n=[];let i="",r=0;const a=()=>{if(i.length===0)throw new Nn(An.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let s=!1;for(;r<e.length;){const o=e[r];if(o==="\\"){if(r+1===e.length)throw new Nn(An.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Nn(An.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=c,r+=2}else o==="`"?(s=!s,r++):o!=="."||s?(i+=o,r++):(a(),r++)}if(a(),s)throw new Nn(An.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ng(n)}static emptyPath(){return new Ng([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e){this.path=e}static fromPath(e){return new Og(Xc.fromString(e))}static fromName(e){return new Og(Xc.fromString(e).popFirst(5))}static empty(){return new Og(Xc.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xc.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xc.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Og(new Xc(e.slice()))}}function Pye(t,e,n,i){if(e===!0&&i===!0)throw new Nn(An.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Iye(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Rye(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":n_(12329,{type:typeof t})}function Lye(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Nn(An.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Rye(t);throw new Nn(An.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(t,e){const n={typeString:t};return e&&(n.value=e),n}function RN(t,e){if(!Iye(t))throw new Nn(An.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in e)if(e[i]){const r=e[i].typeString,a="value"in e[i]?{value:e[i].value}:void 0;if(!(i in t)){n=`JSON missing required field: '${i}'`;break}const s=t[i];if(r&&typeof s!==r){n=`JSON field '${i}' must be a ${r}.`;break}if(a!==void 0&&s!==a.value){n=`Expected '${i}' field to equal '${a.value}'`;break}}if(n)throw new Nn(An.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O$=-62135596800,U$=1e6;class nd{static now(){return nd.fromMillis(Date.now())}static fromDate(e){return nd.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*U$);return new nd(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Nn(An.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Nn(An.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<O$)throw new Nn(An.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Nn(An.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/U$}_compareTo(e){return this.seconds===e.seconds?Pm(this.nanoseconds,e.nanoseconds):Pm(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:nd._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(RN(e,nd._jsonSchema))return new nd(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-O$;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}nd._jsonSchemaVersion="firestore/timestamp/1.0",nd._jsonSchema={type:Cr("string",nd._jsonSchemaVersion),seconds:Cr("number"),nanoseconds:Cr("number")};function Fye(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oye extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Oye("Invalid base64 string: "+a):a}}(e);return new M0(n)}static fromUint8Array(e){const n=function(r){let a="";for(let s=0;s<r.length;++s)a+=String.fromCharCode(r[s]);return a}(e);return new M0(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pm(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}M0.EMPTY_BYTE_STRING=new M0("");const a7="(default)";class zC{constructor(e,n){this.projectId=e,this.database=n||a7}static empty(){return new zC("","")}get isDefaultDatabase(){return this.database===a7}isEqual(e){return e instanceof zC&&e.projectId===this.projectId&&e.database===this.database}}function Uye(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Nn(An.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zC(t.options.projectId,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mye{constructor(e,n=null,i=[],r=[],a=null,s="F",o=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=c,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Bye(t){return new Mye(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var M$,Sn;(Sn=M$||(M$={}))[Sn.OK=0]="OK",Sn[Sn.CANCELLED=1]="CANCELLED",Sn[Sn.UNKNOWN=2]="UNKNOWN",Sn[Sn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Sn[Sn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Sn[Sn.NOT_FOUND=5]="NOT_FOUND",Sn[Sn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Sn[Sn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Sn[Sn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Sn[Sn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Sn[Sn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Sn[Sn.ABORTED=10]="ABORTED",Sn[Sn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Sn[Sn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Sn[Sn.INTERNAL=13]="INTERNAL",Sn[Sn.UNAVAILABLE=14]="UNAVAILABLE",Sn[Sn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new sU([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zye=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jye=1048576;function BP(){return typeof document<"u"?document:null}class $ye{constructor(e,n,i=1e3,r=1.5,a=6e4){this.Ci=e,this.timerId=n,this.R_=i,this.A_=r,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,n-i);r>0&&Jc("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{constructor(e,n,i,r,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new C5,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,a){const s=Date.now()+i,o=new lU(e,n,s,r,a);return o.start(i),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Nn(An.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var B$,z$;(z$=B$||(B$={})).Ma="default",z$.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wye(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qye="ComponentProvider",j$=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UZ="firestore.googleapis.com",$$=!0;class W${constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Nn(An.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=UZ,this.ssl=$$}else this.host=e.host,this.ssl=e.ssl??$$;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zye;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jye)throw new Nn(An.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Pye("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Wye(e.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Nn(An.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Nn(An.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Nn(An.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class MZ{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new W$({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Nn(An.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Nn(An.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new W$(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new bye;switch(i.type){case"firstParty":return new Sye(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Nn(An.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=j$.get(n);i&&(Jc(qye,"Removing Datastore"),j$.delete(n),i.terminate())}(this),Promise.resolve()}}function Hye(t,e,n,i={}){var u;t=Lye(t,MZ);const r=Nw(e),a=t._getSettings(),s={...a,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;r&&(j9(`https://${o}`),$9("Firestore",!0)),a.host!==UZ&&a.host!==o&&vye("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...a,host:o,ssl:r,emulatorOptions:i};if(!Dm(c,s)&&(t._setSettings(c),i.mockUserToken)){let d,h;if(typeof i.mockUserToken=="string")d=i.mockUserToken,h=Ps.MOCK_USER;else{d=xJ(i.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new Nn(An.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ps(f)}t._authCredentials=new wye(new OZ(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new cU(this.firestore,e,this._query)}}class dd{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uU(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dd(this.firestore,e,this._key)}toJSON(){return{type:dd._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,i){if(RN(n,dd._jsonSchema))return new dd(e,i||null,new Og(Xc.fromString(n.referencePath)))}}dd._jsonSchemaVersion="firestore/documentReference/1.0",dd._jsonSchema={type:Cr("string",dd._jsonSchemaVersion),referencePath:Cr("string")};class uU extends cU{constructor(e,n,i){super(e,n,Bye(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dd(this.firestore,null,new Og(e))}withConverter(e){return new uU(this.firestore,e,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q$="AsyncQueue";class H${constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new $ye(this,"async_queue_retry"),this._c=()=>{const i=BP();i&&Jc(q$,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const n=BP();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=BP();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new C5;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Fye(e))throw e;Jc(q$,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(i=>{throw this.nc=i,this.rc=!1,LZ("INTERNAL UNHANDLED ERROR: ",V$(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=n,n}enqueueAfterDelay(e,n,i){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const r=lU.createAndSchedule(this,e,n,i,a=>this.hc(a));return this.tc.push(r),r}uc(){this.nc&&n_(47125,{Pc:V$(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function V$(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Vye extends MZ{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new H$,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new H$(e),this._firestoreClient=void 0,await e}}}function Gye(t,e){const n=typeof t=="object"?t:KD(),i=typeof t=="string"?t:e||a7,r=Hm(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const a=vJ("firestore");a&&Hye(r,...a)}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hh(M0.fromBase64String(e))}catch(n){throw new Nn(An.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hh(M0.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hh._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(RN(e,Hh._jsonSchema))return Hh.fromBase64String(e.bytes)}}Hh._jsonSchemaVersion="firestore/bytes/1.0",Hh._jsonSchema={type:Cr("string",Hh._jsonSchemaVersion),bytes:Cr("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BZ{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Nn(An.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ng(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Nn(An.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Nn(An.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pm(this._lat,e._lat)||Pm(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:w0._jsonSchemaVersion}}static fromJSON(e){if(RN(e,w0._jsonSchema))return new w0(e.latitude,e.longitude)}}w0._jsonSchemaVersion="firestore/geoPoint/1.0",w0._jsonSchema={type:Cr("string",w0._jsonSchemaVersion),latitude:Cr("number"),longitude:Cr("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==r[a])return!1;return!0}(this._values,e._values)}toJSON(){return{type:x0._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(RN(e,x0._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new x0(e.vectorValues);throw new Nn(An.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}x0._jsonSchemaVersion="firestore/vectorValue/1.0",x0._jsonSchema={type:Cr("string",x0._jsonSchemaVersion),vectorValues:Cr("object")};function zZ(t,e,n){if((e=zs(e))instanceof BZ)return e._internalPath;if(typeof e=="string")return Kye(t,e);throw s7("Field path arguments must be of type string or ",t,!1,void 0,n)}const Xye=new RegExp("[~\\*/\\[\\]]");function Kye(t,e,n){if(e.search(Xye)>=0)throw s7(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new BZ(...e.split("."))._internalPath}catch{throw s7(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function s7(t,e,n,i,r){const a=i&&!i.isEmpty(),s=r!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${i}`),s&&(c+=` in document ${r}`),c+=")"),new Nn(An.INVALID_ARGUMENT,o+t+c)}const G$="@firebase/firestore",X$="4.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jZ{constructor(e,n,i,r,a){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new dd(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Yye(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(zZ("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Yye extends jZ{data(){return super.data()}}class G3{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Iv extends jZ{constructor(e,n,i,r,a,s){super(e,n,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jk(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(zZ("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Nn(An.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Iv._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Iv._jsonSchemaVersion="firestore/documentSnapshot/1.0",Iv._jsonSchema={type:Cr("string",Iv._jsonSchemaVersion),bundleSource:Cr("string","DocumentSnapshot"),bundleName:Cr("string"),bundle:Cr("string")};class Jk extends Iv{data(e={}){return super.data(e)}}class E5{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new G3(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Jk(this._firestore,this._userDataWriter,i.key,i,new G3(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Nn(An.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const c=new Jk(r._firestore,r._userDataWriter,o.doc.key,o.doc,new G3(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>a||o.type!==3).map(o=>{const c=new Jk(r._firestore,r._userDataWriter,o.doc.key,o.doc,new G3(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,d=-1;return o.type!==0&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),d=s.indexOf(o.doc.key)),{type:Jye(o.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Nn(An.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=E5._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=kye.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],i=[],r=[];return this.docs.forEach(a=>{a._document!==null&&(n.push(a._document),i.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),r.push(a.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Jye(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return n_(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */E5._jsonSchemaVersion="firestore/querySnapshot/1.0",E5._jsonSchema={type:Cr("string",E5._jsonSchemaVersion),bundleSource:Cr("string","QuerySnapshot"),bundleName:Cr("string"),bundle:Cr("string")};(function(e,n=!0){yye(ty),iu(new dc("firestore",(i,{instanceIdentifier:r,options:a})=>{const s=i.getProvider("app").getImmediate(),o=new Vye(new xye(i.getProvider("auth-internal")),new Aye(s,i.getProvider("app-check-internal")),Uye(s,r),s);return a={useFetchStreams:n,...a},o._setSettings(a),o},"PUBLIC").setMultipleInstances(!0)),po(G$,X$,e),po(G$,X$,"esm2020")})();const Zye={apiKey:"AIzaSyA-T2kCehqBiWDClMzyx6hUwDx7o2uf8lw",authDomain:window.location.hostname==="theplanninginsights.com"?"theplanninginsights.com":"planninginsight-4d5c2.firebaseapp.com",projectId:"planninginsight-4d5c2",storageBucket:"planninginsight-4d5c2.firebasestorage.app",messagingSenderId:"763015079836",appId:"1:763015079836:web:5a5d0c9b1cf89c3f184a59",measurementId:"G-E2MKPKTK90"},t6=EJ(Zye);let K$;try{K$=bge(t6)}catch{K$=null}const LN=z0e(t6),Qye=new qh;let Y$=null,J$=null;try{Y$=fye(t6)}catch{Y$=null}try{J$=Gye(t6)}catch{J$=null}const eve=async(t,e,n={})=>{const i=await _1e(LN,t,e);return n&&(n.displayName||n.photoURL)&&await N1e(i.user,n),i.user},tve=async(t,e)=>(await S1e(LN,t,e)).user,$Z=async()=>(await K1e(LN,Qye)).user,nve=async()=>{await T1e(LN)},ive=t=>E1e(LN,t),WZ=Z.createContext(),Hr=()=>{const t=Z.useContext(WZ);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},rve=({children:t})=>{const[e,n]=Z.useState(null),[i,r]=Z.useState(!0),[a,s]=Z.useState(!1);Z.useEffect(()=>{const g=ive(async y=>{if(y){const _=y.displayName||"",[S,...N]=_.split(" "),R=N.join(" "),D={id:y.uid,email:y.email,firstName:S||y.email,lastName:R||"",displayName:y.displayName||`${S} ${R}`,photoURL:y.photoURL||null,role:"user"};console.log(" Firebase user logged in:",D),n(D),s(!0);try{if(localStorage.getItem("authToken")){const C=await Ey.getCurrentUser();C&&C.role&&(n(P=>({...P,role:C.role,...C})),console.log(" Updated user with backend role:",C.role))}}catch{console.log(" Could not fetch backend user data (using Firebase data only)")}}else await o();r(!1)});return()=>g()},[]);const o=async()=>{try{if(localStorage.getItem("isAdminSession")==="true"){console.log(" Admin session detected, skipping user auth check");return}if(localStorage.getItem("authToken")){const _=await Ey.getCurrentUser();if(_.role==="admin"){console.log(" Admin user detected in user context, clearing session"),localStorage.removeItem("authToken"),localStorage.removeItem("isAdminSession");return}n(_),s(!0);return}}catch(g){console.error("Auth check failed:",g),localStorage.removeItem("authToken")}finally{}},b={user:e,loading:i,isAuthenticated:a,login:async(g,y)=>{try{const _=await tve(g,y),S=_.displayName||"",[N,...R]=S.split(" "),D=R.join(" "),E={id:_.uid,email:_.email,firstName:N||_.email,lastName:D||"",displayName:_.displayName||`${N} ${D}`,photoURL:_.photoURL||null};return n(E),s(!0),{success:!0,user:E}}catch(_){return console.error("Firebase login error",_),{success:!1,error:_.message||"Login failed"}}},signup:async g=>{try{const y={displayName:`${g.firstName||""} ${g.lastName||""}`.trim()},_=await eve(g.email,g.password,y),S=_.displayName||"",[N,...R]=S.split(" "),D=R.join(" "),E={id:_.uid,email:_.email,firstName:N||_.email,lastName:D||"",displayName:_.displayName||`${N} ${D}`,photoURL:_.photoURL||null};return n(E),s(!0),{success:!0,user:E}}catch(y){console.error("Firebase signup error",y);const _=(y==null?void 0:y.code)||"";let S=(y==null?void 0:y.message)||"Signup failed";return _==="auth/operation-not-allowed"?S="Email/password sign-in is not enabled in Firebase. Enable it in the Firebase Console -> Authentication -> Sign-in method.":_==="auth/email-already-in-use"?S="This email is already in use. Try logging in or use a different email.":_==="auth/invalid-email"?S="The email address is invalid. Please enter a valid email.":_==="auth/weak-password"&&(S="The password is too weak. Please use at least 6 characters."),{success:!1,error:S,raw:y}}},logout:async()=>{try{await nve()}catch(g){console.warn("Firebase signOut failed",g)}localStorage.removeItem("authToken"),n(null),s(!1)},requestOTP:async g=>{var y,_;try{return await Ey.requestOTP(g),{success:!0}}catch(S){return{success:!1,error:((_=(y=S.response)==null?void 0:y.data)==null?void 0:_.message)||"OTP request failed"}}},verifyOTP:async(g,y)=>{var _,S;try{return{success:!0,data:await Ey.verifyOTP(g,y)}}catch(N){return{success:!1,error:((S=(_=N.response)==null?void 0:_.data)==null?void 0:S.message)||"OTP verification failed"}}},requestSignupOTP:async g=>{var y,_;try{return{success:!0,data:await Ey.requestSignupOTP(g)}}catch(S){return{success:!1,error:((_=(y=S.response)==null?void 0:y.data)==null?void 0:_.message)||"Failed to send verification code"}}},verifySignupOTP:async(g,y)=>{var _,S,N,R,D,E,C,P,k,A;console.log(" AuthContext: verifySignupOTP called",{email:g,otp:y});try{console.log(" AuthContext: Calling API...");const I=await Ey.verifySignupOTP(g,y);if(console.log(" AuthContext: API Response:",I),I.success&&((_=I.data)!=null&&_.token)){console.log(" AuthContext: Token found, saving...");const T=I.data.token,z=I.data.user;localStorage.setItem("authToken",T);const j={id:z.id||z._id,email:z.email,firstName:((S=z.profile)==null?void 0:S.firstName)||z.firstName||"",lastName:((N=z.profile)==null?void 0:N.lastName)||z.lastName||"",displayName:`${((R=z.profile)==null?void 0:R.firstName)||""} ${((D=z.profile)==null?void 0:D.lastName)||""}`.trim()||z.email,role:z.role||"user",emailVerified:z.emailVerified||!0,status:z.status||"active",photoURL:((E=z.profile)==null?void 0:E.avatar)||null,profile:z.profile||{}};return console.log(" AuthContext: Setting user:",j),n(j),s(!0),console.log(" AuthContext: User authenticated!"),{success:!0,data:I.data}}return console.log(" AuthContext: Invalid response structure"),{success:!1,error:"Invalid response from server"}}catch(I){return console.error(" AuthContext: Error caught:",I),{success:!1,error:((P=(C=I.response)==null?void 0:C.data)==null?void 0:P.message)||"Verification failed",remainingAttempts:(A=(k=I.response)==null?void 0:k.data)==null?void 0:A.remainingAttempts}}},checkAuthStatus:o,setAuthState:g=>{console.log(" AuthContext: Setting auth state manually",g),n(g),s(!0)},refreshUser:o};return l(WZ.Provider,{value:b,children:t})},qZ=Z.createContext(),vo=()=>{const t=Z.useContext(qZ);if(!t)throw new Error("useNotification must be used within a NotificationProvider");return t},ave=({children:t})=>{const[e,n]=Z.useState([]),s={notifications:e,showNotification:(o,c="info")=>{switch(c){case"success":sn.success(o);break;case"error":sn.error(o);break;case"warning":sn(o,{icon:"",style:{background:"#fef3c7",color:"#92400e"}});break;default:sn(o)}const u={id:Date.now(),message:o,type:c,timestamp:new Date};n(d=>[u,...d.slice(0,4)])},clearNotification:o=>{n(c=>c.filter(u=>u.id!==o))},clearAllNotifications:()=>{n([])}};return l(qZ.Provider,{value:s,children:t})},sve=Z.createContext(),ove=({children:t})=>{const[e,n]=Z.useState("light"),[i,r]=Z.useState("light");Z.useEffect(()=>{const p=localStorage.getItem("planning-insights-theme"),w=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";r(w);const v=p||w;n(v),a(v)},[]),Z.useEffect(()=>{const p=window.matchMedia("(prefers-color-scheme: dark)"),w=v=>{const b=v.matches?"dark":"light";r(b),localStorage.getItem("planning-insights-theme")||(n(b),a(b))};return p.addEventListener("change",w),()=>p.removeEventListener("change",w)},[]);const a=p=>{const w=document.documentElement;w.classList.remove("theme-light","theme-dark"),w.classList.add(`theme-${p}`),s(p)},s=p=>{const w=document.documentElement,v={light:{"--background-color":"#ffffff","--surface-color":"#f8fafc","--text-primary":"#1e293b","--text-secondary":"#64748b","--border-color":"#e2e8f0","--shadow":"0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)","--shadow-md":"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)","--shadow-lg":"0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)"},dark:{"--background-color":"#0f172a","--surface-color":"#1e293b","--text-primary":"#f1f5f9","--text-secondary":"#94a3b8","--border-color":"#334155","--shadow":"0 1px 3px 0 rgba(0, 0, 0, 0.3), 0 1px 2px 0 rgba(0, 0, 0, 0.2)","--shadow-md":"0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2)","--shadow-lg":"0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2)"}},b=v[p]||v.light;Object.entries(b).forEach(([g,y])=>{w.style.setProperty(g,y)})},o=()=>{const p=e==="light"?"dark":"light";n(p),localStorage.setItem("planning-insights-theme",p),a(p)},c=p=>{["light","dark"].includes(p)||(console.warn(`Invalid theme: ${p}. Using 'light' instead.`),p="light"),n(p),localStorage.setItem("planning-insights-theme",p),a(p)},u=()=>{localStorage.removeItem("planning-insights-theme"),n(i),a(i)},d=e==="dark",h=!localStorage.getItem("planning-insights-theme"),f={theme:e,systemPreference:i,isDark:d,isSystemTheme:h,toggleTheme:o,setTheme:c,resetToSystem:u};return l(sve.Provider,{value:f,children:t})},lve=Z.createContext(),cve=({children:t})=>{const{user:e,isAuthenticated:n}=Hr(),[i,r]=Z.useState(null),[a,s]=Z.useState({notifications:!0,emailDigest:!0,theme:"light"}),[o,c]=Z.useState({jobs:[],courses:[],articles:[]});Z.useEffect(()=>{n&&e&&u()},[n,e]);const u=async()=>{try{const g=localStorage.getItem("userPreferences");g&&s(JSON.parse(g));const y=localStorage.getItem("savedJobs"),_=localStorage.getItem("savedCourses"),S=localStorage.getItem("savedArticles");c({jobs:y?JSON.parse(y):[],courses:_?JSON.parse(_):[],articles:S?JSON.parse(S):[]})}catch(g){console.error("Error loading user data:",g)}},b={profile:i,setProfile:r,preferences:a,updatePreferences:g=>{const y={...a,...g};s(y),localStorage.setItem("userPreferences",JSON.stringify(y))},savedItems:o,toggleSaveJob:g=>{c(y=>{const _=y.jobs.includes(g)?y.jobs.filter(S=>S!==g):[...y.jobs,g];return localStorage.setItem("savedJobs",JSON.stringify(_)),{...y,jobs:_}})},toggleSaveCourse:g=>{c(y=>{const _=y.courses.includes(g)?y.courses.filter(S=>S!==g):[...y.courses,g];return localStorage.setItem("savedCourses",JSON.stringify(_)),{...y,courses:_}})},toggleSaveArticle:g=>{c(y=>{const _=y.articles.includes(g)?y.articles.filter(S=>S!==g):[...y.articles,g];return localStorage.setItem("savedArticles",JSON.stringify(_)),{...y,articles:_}})},isItemSaved:(g,y)=>{var _;return((_=o[y])==null?void 0:_.includes(g))||!1},clearSavedItems:()=>{c({jobs:[],courses:[],articles:[]}),localStorage.removeItem("savedJobs"),localStorage.removeItem("savedCourses"),localStorage.removeItem("savedArticles")}};return l(lve.Provider,{value:b,children:t})},uve=new URL("/assets/PlanningInsights_logo-dbaf745d.png",self.location).href,dve=new URL("/assets/favicon-1ad85887.jpeg",self.location).href,hve={logo:uve,favicon:dve},Z$=t=>t,fve=()=>{let t=Z$;return{configure(e){t=e},generate(e){return t(e)},reset(){t=Z$}}},pve=fve(),mve=pve;function B0(t,...e){const n=new URL(`https://mui.com/production-error/?code=${t}`);return e.forEach(i=>n.searchParams.append("args[]",i)),`Minified MUI error #${t}; visit ${n} for the full message.`}function nw(t){if(typeof t!="string")throw new Error(B0(7));return t.charAt(0).toUpperCase()+t.slice(1)}function HZ(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=HZ(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function VZ(){for(var t,e,n=0,i="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=HZ(t))&&(i&&(i+=" "),i+=e);return i}function gve(t,e,n=void 0){const i={};for(const r in t){const a=t[r];let s="",o=!0;for(let c=0;c<a.length;c+=1){const u=a[c];u&&(s+=(o===!0?"":" ")+e(u),o=!1,n&&n[u]&&(s+=" "+n[u]))}i[r]=s}return i}var GZ={exports:{}},fi={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dU=Symbol.for("react.transitional.element"),hU=Symbol.for("react.portal"),n6=Symbol.for("react.fragment"),i6=Symbol.for("react.strict_mode"),r6=Symbol.for("react.profiler"),a6=Symbol.for("react.consumer"),s6=Symbol.for("react.context"),o6=Symbol.for("react.forward_ref"),l6=Symbol.for("react.suspense"),c6=Symbol.for("react.suspense_list"),u6=Symbol.for("react.memo"),d6=Symbol.for("react.lazy"),yve=Symbol.for("react.view_transition"),vve=Symbol.for("react.client.reference");function gc(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case dU:switch(t=t.type,t){case n6:case r6:case i6:case l6:case c6:case yve:return t;default:switch(t=t&&t.$$typeof,t){case s6:case o6:case d6:case u6:return t;case a6:return t;default:return e}}case hU:return e}}}fi.ContextConsumer=a6;fi.ContextProvider=s6;fi.Element=dU;fi.ForwardRef=o6;fi.Fragment=n6;fi.Lazy=d6;fi.Memo=u6;fi.Portal=hU;fi.Profiler=r6;fi.StrictMode=i6;fi.Suspense=l6;fi.SuspenseList=c6;fi.isContextConsumer=function(t){return gc(t)===a6};fi.isContextProvider=function(t){return gc(t)===s6};fi.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===dU};fi.isForwardRef=function(t){return gc(t)===o6};fi.isFragment=function(t){return gc(t)===n6};fi.isLazy=function(t){return gc(t)===d6};fi.isMemo=function(t){return gc(t)===u6};fi.isPortal=function(t){return gc(t)===hU};fi.isProfiler=function(t){return gc(t)===r6};fi.isStrictMode=function(t){return gc(t)===i6};fi.isSuspense=function(t){return gc(t)===l6};fi.isSuspenseList=function(t){return gc(t)===c6};fi.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===n6||t===r6||t===i6||t===l6||t===c6||typeof t=="object"&&t!==null&&(t.$$typeof===d6||t.$$typeof===u6||t.$$typeof===s6||t.$$typeof===a6||t.$$typeof===o6||t.$$typeof===vve||t.getModuleId!==void 0)};fi.typeOf=gc;GZ.exports=fi;var XZ=GZ.exports;function Vh(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function KZ(t){if(Z.isValidElement(t)||XZ.isValidElementType(t)||!Vh(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=KZ(t[n])}),e}function ml(t,e,n={clone:!0}){const i=n.clone?{...t}:t;return Vh(t)&&Vh(e)&&Object.keys(e).forEach(r=>{Z.isValidElement(e[r])||XZ.isValidElementType(e[r])?i[r]=e[r]:Vh(e[r])&&Object.prototype.hasOwnProperty.call(t,r)&&Vh(t[r])?i[r]=ml(t[r],e[r],n):n.clone?i[r]=Vh(e[r])?KZ(e[r]):e[r]:i[r]=e[r]}),i}function T5(t,e){return e?ml(t,e,{clone:!1}):t}function Q$(t,e){if(!t.containerQueries)return e;const n=Object.keys(e).filter(i=>i.startsWith("@container")).sort((i,r)=>{var s,o;const a=/min-width:\s*([0-9.]+)/;return+(((s=i.match(a))==null?void 0:s[1])||0)-+(((o=r.match(a))==null?void 0:o[1])||0)});return n.length?n.reduce((i,r)=>{const a=e[r];return delete i[r],i[r]=a,i},{...e}):e}function bve(t,e){return e==="@"||e.startsWith("@")&&(t.some(n=>e.startsWith(`@${n}`))||!!e.match(/^@\d/))}function wve(t,e){const n=e.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,i,r]=n,a=Number.isNaN(+i)?i||0:+i;return t.containerQueries(r).up(a)}function xve(t){const e=(a,s)=>a.replace("@media",s?`@container ${s}`:"@container");function n(a,s){a.up=(...o)=>e(t.breakpoints.up(...o),s),a.down=(...o)=>e(t.breakpoints.down(...o),s),a.between=(...o)=>e(t.breakpoints.between(...o),s),a.only=(...o)=>e(t.breakpoints.only(...o),s),a.not=(...o)=>{const c=e(t.breakpoints.not(...o),s);return c.includes("not all and")?c.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):c}}const i={},r=a=>(n(i,a),i);return n(r),{...t,containerQueries:r}}const h6={xs:0,sm:600,md:900,lg:1200,xl:1536},eW={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${h6[t]}px)`},_ve={containerQueries:t=>({up:e=>{let n=typeof e=="number"?e:h6[e]||e;return typeof n=="number"&&(n=`${n}px`),t?`@container ${t} (min-width:${n})`:`@container (min-width:${n})`}})};function df(t,e,n){const i=t.theme||{};if(Array.isArray(e)){const a=i.breakpoints||eW;return e.reduce((s,o,c)=>(s[a.up(a.keys[c])]=n(e[c]),s),{})}if(typeof e=="object"){const a=i.breakpoints||eW;return Object.keys(e).reduce((s,o)=>{if(bve(a.keys,o)){const c=wve(i.containerQueries?i:_ve,o);c&&(s[c]=n(e[o],o))}else if(Object.keys(a.values||h6).includes(o)){const c=a.up(o);s[c]=n(e[o],o)}else{const c=o;s[c]=e[c]}return s},{})}return n(e)}function Sve(t={}){var n;return((n=t.keys)==null?void 0:n.reduce((i,r)=>{const a=t.up(r);return i[a]={},i},{}))||{}}function tW(t,e){return t.reduce((n,i)=>{const r=n[i];return(!r||Object.keys(r).length===0)&&delete n[i],n},e)}function f6(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const i=`vars.${e}`.split(".").reduce((r,a)=>r&&r[a]?r[a]:null,t);if(i!=null)return i}return e.split(".").reduce((i,r)=>i&&i[r]!=null?i[r]:null,t)}function jC(t,e,n,i=n){let r;return typeof t=="function"?r=t(n):Array.isArray(t)?r=t[n]||i:r=f6(t,n)||i,e&&(r=e(r,i,t)),r}function br(t){const{prop:e,cssProperty:n=t.prop,themeKey:i,transform:r}=t,a=s=>{if(s[e]==null)return null;const o=s[e],c=s.theme,u=f6(c,i)||{};return df(s,o,h=>{let f=jC(u,r,h);return h===f&&typeof h=="string"&&(f=jC(u,r,`${e}${h==="default"?"":nw(h)}`,h)),n===!1?f:{[n]:f}})};return a.propTypes={},a.filterProps=[e],a}function Ave(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const Nve={m:"margin",p:"padding"},kve={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},nW={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Cve=Ave(t=>{if(t.length>2)if(nW[t])t=nW[t];else return[t];const[e,n]=t.split(""),i=Nve[e],r=kve[n]||"";return Array.isArray(r)?r.map(a=>i+a):[i+r]}),fU=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],pU=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...fU,...pU];function FN(t,e,n,i){const r=f6(t,e,!0)??n;return typeof r=="number"||typeof r=="string"?a=>typeof a=="string"?a:typeof r=="string"?r.startsWith("var(")&&a===0?0:r.startsWith("var(")&&a===1?r:`calc(${a} * ${r})`:r*a:Array.isArray(r)?a=>{if(typeof a=="string")return a;const s=Math.abs(a),o=r[s];return a>=0?o:typeof o=="number"?-o:typeof o=="string"&&o.startsWith("var(")?`calc(-1 * ${o})`:`-${o}`}:typeof r=="function"?r:()=>{}}function mU(t){return FN(t,"spacing",8)}function ON(t,e){return typeof e=="string"||e==null?e:t(e)}function Eve(t,e){return n=>t.reduce((i,r)=>(i[r]=ON(e,n),i),{})}function Tve(t,e,n,i){if(!e.includes(n))return null;const r=Cve(n),a=Eve(r,i),s=t[n];return df(t,s,a)}function YZ(t,e){const n=mU(t.theme);return Object.keys(t).map(i=>Tve(t,e,i,n)).reduce(T5,{})}function Yi(t){return YZ(t,fU)}Yi.propTypes={};Yi.filterProps=fU;function Ji(t){return YZ(t,pU)}Ji.propTypes={};Ji.filterProps=pU;function p6(...t){const e=t.reduce((i,r)=>(r.filterProps.forEach(a=>{i[a]=r}),i),{}),n=i=>Object.keys(i).reduce((r,a)=>e[a]?T5(r,e[a](i)):r,{});return n.propTypes={},n.filterProps=t.reduce((i,r)=>i.concat(r.filterProps),[]),n}function ec(t){return typeof t!="number"?t:`${t}px solid`}function yc(t,e){return br({prop:t,themeKey:"borders",transform:e})}const Dve=yc("border",ec),Pve=yc("borderTop",ec),Ive=yc("borderRight",ec),Rve=yc("borderBottom",ec),Lve=yc("borderLeft",ec),Fve=yc("borderColor"),Ove=yc("borderTopColor"),Uve=yc("borderRightColor"),Mve=yc("borderBottomColor"),Bve=yc("borderLeftColor"),zve=yc("outline",ec),jve=yc("outlineColor"),m6=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=FN(t.theme,"shape.borderRadius",4),n=i=>({borderRadius:ON(e,i)});return df(t,t.borderRadius,n)}return null};m6.propTypes={};m6.filterProps=["borderRadius"];p6(Dve,Pve,Ive,Rve,Lve,Fve,Ove,Uve,Mve,Bve,m6,zve,jve);const g6=t=>{if(t.gap!==void 0&&t.gap!==null){const e=FN(t.theme,"spacing",8),n=i=>({gap:ON(e,i)});return df(t,t.gap,n)}return null};g6.propTypes={};g6.filterProps=["gap"];const y6=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=FN(t.theme,"spacing",8),n=i=>({columnGap:ON(e,i)});return df(t,t.columnGap,n)}return null};y6.propTypes={};y6.filterProps=["columnGap"];const v6=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=FN(t.theme,"spacing",8),n=i=>({rowGap:ON(e,i)});return df(t,t.rowGap,n)}return null};v6.propTypes={};v6.filterProps=["rowGap"];const $ve=br({prop:"gridColumn"}),Wve=br({prop:"gridRow"}),qve=br({prop:"gridAutoFlow"}),Hve=br({prop:"gridAutoColumns"}),Vve=br({prop:"gridAutoRows"}),Gve=br({prop:"gridTemplateColumns"}),Xve=br({prop:"gridTemplateRows"}),Kve=br({prop:"gridTemplateAreas"}),Yve=br({prop:"gridArea"});p6(g6,y6,v6,$ve,Wve,qve,Hve,Vve,Gve,Xve,Kve,Yve);function Rv(t,e){return e==="grey"?e:t}const Jve=br({prop:"color",themeKey:"palette",transform:Rv}),Zve=br({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Rv}),Qve=br({prop:"backgroundColor",themeKey:"palette",transform:Rv});p6(Jve,Zve,Qve);function cl(t){return t<=1&&t!==0?`${t*100}%`:t}const e2e=br({prop:"width",transform:cl}),gU=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,a,s,o,c;const i=((s=(a=(r=t.theme)==null?void 0:r.breakpoints)==null?void 0:a.values)==null?void 0:s[n])||h6[n];return i?((c=(o=t.theme)==null?void 0:o.breakpoints)==null?void 0:c.unit)!=="px"?{maxWidth:`${i}${t.theme.breakpoints.unit}`}:{maxWidth:i}:{maxWidth:cl(n)}};return df(t,t.maxWidth,e)}return null};gU.filterProps=["maxWidth"];const t2e=br({prop:"minWidth",transform:cl}),n2e=br({prop:"height",transform:cl}),i2e=br({prop:"maxHeight",transform:cl}),r2e=br({prop:"minHeight",transform:cl});br({prop:"size",cssProperty:"width",transform:cl});br({prop:"size",cssProperty:"height",transform:cl});const a2e=br({prop:"boxSizing"});p6(e2e,gU,t2e,n2e,i2e,r2e,a2e);const s2e={border:{themeKey:"borders",transform:ec},borderTop:{themeKey:"borders",transform:ec},borderRight:{themeKey:"borders",transform:ec},borderBottom:{themeKey:"borders",transform:ec},borderLeft:{themeKey:"borders",transform:ec},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:ec},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:m6},color:{themeKey:"palette",transform:Rv},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Rv},backgroundColor:{themeKey:"palette",transform:Rv},p:{style:Ji},pt:{style:Ji},pr:{style:Ji},pb:{style:Ji},pl:{style:Ji},px:{style:Ji},py:{style:Ji},padding:{style:Ji},paddingTop:{style:Ji},paddingRight:{style:Ji},paddingBottom:{style:Ji},paddingLeft:{style:Ji},paddingX:{style:Ji},paddingY:{style:Ji},paddingInline:{style:Ji},paddingInlineStart:{style:Ji},paddingInlineEnd:{style:Ji},paddingBlock:{style:Ji},paddingBlockStart:{style:Ji},paddingBlockEnd:{style:Ji},m:{style:Yi},mt:{style:Yi},mr:{style:Yi},mb:{style:Yi},ml:{style:Yi},mx:{style:Yi},my:{style:Yi},margin:{style:Yi},marginTop:{style:Yi},marginRight:{style:Yi},marginBottom:{style:Yi},marginLeft:{style:Yi},marginX:{style:Yi},marginY:{style:Yi},marginInline:{style:Yi},marginInlineStart:{style:Yi},marginInlineEnd:{style:Yi},marginBlock:{style:Yi},marginBlockStart:{style:Yi},marginBlockEnd:{style:Yi},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:g6},rowGap:{style:v6},columnGap:{style:y6},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:cl},maxWidth:{style:gU},minWidth:{transform:cl},height:{transform:cl},maxHeight:{transform:cl},minHeight:{transform:cl},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},b6=s2e;function o2e(...t){const e=t.reduce((i,r)=>i.concat(Object.keys(r)),[]),n=new Set(e);return t.every(i=>n.size===Object.keys(i).length)}function l2e(t,e){return typeof t=="function"?t(e):t}function c2e(){function t(n,i,r,a){const s={[n]:i,theme:r},o=a[n];if(!o)return{[n]:i};const{cssProperty:c=n,themeKey:u,transform:d,style:h}=o;if(i==null)return null;if(u==="typography"&&i==="inherit")return{[n]:i};const f=f6(r,u)||{};return h?h(s):df(s,i,w=>{let v=jC(f,d,w);return w===v&&typeof w=="string"&&(v=jC(f,d,`${n}${w==="default"?"":nw(w)}`,w)),c===!1?v:{[c]:v}})}function e(n){const{sx:i,theme:r={},nested:a}=n||{};if(!i)return null;const s=r.unstable_sxConfig??b6;function o(c){let u=c;if(typeof c=="function")u=c(r);else if(typeof c!="object")return c;if(!u)return null;const d=Sve(r.breakpoints),h=Object.keys(d);let f=d;return Object.keys(u).forEach(p=>{const w=l2e(u[p],r);if(w!=null)if(typeof w=="object")if(s[p])f=T5(f,t(p,w,r,s));else{const v=df({theme:r},w,b=>({[p]:b}));o2e(v,w)?f[p]=e({sx:w,theme:r,nested:!0}):f=T5(f,v)}else f=T5(f,t(p,w,r,s))}),!a&&r.modularCssLayers?{"@layer sx":Q$(r,tW(h,f))}:Q$(r,tW(h,f))}return Array.isArray(i)?i.map(o):o(i)}return e}const JZ=c2e();JZ.filterProps=["sx"];const i_=JZ;function o7(){return o7=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},o7.apply(null,arguments)}var u2e=!1;function d2e(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function h2e(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var f2e=function(){function t(n){var i=this;this._insertTag=function(r){var a;i.tags.length===0?i.insertionPoint?a=i.insertionPoint.nextSibling:i.prepend?a=i.container.firstChild:a=i.before:a=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(r,a),i.tags.push(r)},this.isSpeedy=n.speedy===void 0?!u2e:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(h2e(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var a=d2e(r);try{a.insertRule(i,a.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){var r;return(r=i.parentNode)==null?void 0:r.removeChild(i)}),this.tags=[],this.ctr=0},t}(),Ya="-ms-",$C="-moz-",Rn="-webkit-",ZZ="comm",yU="rule",vU="decl",p2e="@import",QZ="@keyframes",m2e="@layer",g2e=Math.abs,w6=String.fromCharCode,y2e=Object.assign;function v2e(t,e){return Ta(t,0)^45?(((e<<2^Ta(t,0))<<2^Ta(t,1))<<2^Ta(t,2))<<2^Ta(t,3):0}function eQ(t){return t.trim()}function b2e(t,e){return(t=e.exec(t))?t[0]:t}function Ln(t,e,n){return t.replace(e,n)}function l7(t,e){return t.indexOf(e)}function Ta(t,e){return t.charCodeAt(e)|0}function r_(t,e,n){return t.slice(e,n)}function id(t){return t.length}function bU(t){return t.length}function X3(t,e){return e.push(t),t}function w2e(t,e){return t.map(e).join("")}var x6=1,iw=1,tQ=0,mo=0,Nr=0,Cw="";function _6(t,e,n,i,r,a,s){return{value:t,root:e,parent:n,type:i,props:r,children:a,line:x6,column:iw,length:s,return:""}}function yx(t,e){return y2e(_6("",null,null,"",null,null,0),t,{length:-t.length},e)}function x2e(){return Nr}function _2e(){return Nr=mo>0?Ta(Cw,--mo):0,iw--,Nr===10&&(iw=1,x6--),Nr}function gl(){return Nr=mo<tQ?Ta(Cw,mo++):0,iw++,Nr===10&&(iw=1,x6++),Nr}function gd(){return Ta(Cw,mo)}function Zk(){return mo}function UN(t,e){return r_(Cw,t,e)}function a_(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function nQ(t){return x6=iw=1,tQ=id(Cw=t),mo=0,[]}function iQ(t){return Cw="",t}function Qk(t){return eQ(UN(mo-1,c7(t===91?t+2:t===40?t+1:t)))}function S2e(t){for(;(Nr=gd())&&Nr<33;)gl();return a_(t)>2||a_(Nr)>3?"":" "}function A2e(t,e){for(;--e&&gl()&&!(Nr<48||Nr>102||Nr>57&&Nr<65||Nr>70&&Nr<97););return UN(t,Zk()+(e<6&&gd()==32&&gl()==32))}function c7(t){for(;gl();)switch(Nr){case t:return mo;case 34:case 39:t!==34&&t!==39&&c7(Nr);break;case 40:t===41&&c7(t);break;case 92:gl();break}return mo}function N2e(t,e){for(;gl()&&t+Nr!==47+10;)if(t+Nr===42+42&&gd()===47)break;return"/*"+UN(e,mo-1)+"*"+w6(t===47?t:gl())}function k2e(t){for(;!a_(gd());)gl();return UN(t,mo)}function C2e(t){return iQ(e4("",null,null,null,[""],t=nQ(t),0,[0],t))}function e4(t,e,n,i,r,a,s,o,c){for(var u=0,d=0,h=s,f=0,p=0,w=0,v=1,b=1,g=1,y=0,_="",S=r,N=a,R=i,D=_;b;)switch(w=y,y=gl()){case 40:if(w!=108&&Ta(D,h-1)==58){l7(D+=Ln(Qk(y),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:D+=Qk(y);break;case 9:case 10:case 13:case 32:D+=S2e(w);break;case 92:D+=A2e(Zk()-1,7);continue;case 47:switch(gd()){case 42:case 47:X3(E2e(N2e(gl(),Zk()),e,n),c);break;default:D+="/"}break;case 123*v:o[u++]=id(D)*g;case 125*v:case 59:case 0:switch(y){case 0:case 125:b=0;case 59+d:g==-1&&(D=Ln(D,/\f/g,"")),p>0&&id(D)-h&&X3(p>32?rW(D+";",i,n,h-1):rW(Ln(D," ","")+";",i,n,h-2),c);break;case 59:D+=";";default:if(X3(R=iW(D,e,n,u,d,r,o,_,S=[],N=[],h),a),y===123)if(d===0)e4(D,e,R,R,S,a,h,o,N);else switch(f===99&&Ta(D,3)===110?100:f){case 100:case 108:case 109:case 115:e4(t,R,R,i&&X3(iW(t,R,R,0,0,r,o,_,r,S=[],h),N),r,N,h,o,i?S:N);break;default:e4(D,R,R,R,[""],N,0,o,N)}}u=d=p=0,v=g=1,_=D="",h=s;break;case 58:h=1+id(D),p=w;default:if(v<1){if(y==123)--v;else if(y==125&&v++==0&&_2e()==125)continue}switch(D+=w6(y),y*v){case 38:g=d>0?1:(D+="\f",-1);break;case 44:o[u++]=(id(D)-1)*g,g=1;break;case 64:gd()===45&&(D+=Qk(gl())),f=gd(),d=h=id(_=D+=k2e(Zk())),y++;break;case 45:w===45&&id(D)==2&&(v=0)}}return a}function iW(t,e,n,i,r,a,s,o,c,u,d){for(var h=r-1,f=r===0?a:[""],p=bU(f),w=0,v=0,b=0;w<i;++w)for(var g=0,y=r_(t,h+1,h=g2e(v=s[w])),_=t;g<p;++g)(_=eQ(v>0?f[g]+" "+y:Ln(y,/&\f/g,f[g])))&&(c[b++]=_);return _6(t,e,n,r===0?yU:o,c,u,d)}function E2e(t,e,n){return _6(t,e,n,ZZ,w6(x2e()),r_(t,2,-2),0)}function rW(t,e,n,i){return _6(t,e,n,vU,r_(t,0,i),r_(t,i+1,-1),i)}function Lv(t,e){for(var n="",i=bU(t),r=0;r<i;r++)n+=e(t[r],r,t,e)||"";return n}function T2e(t,e,n,i){switch(t.type){case m2e:if(t.children.length)break;case p2e:case vU:return t.return=t.return||t.value;case ZZ:return"";case QZ:return t.return=t.value+"{"+Lv(t.children,i)+"}";case yU:t.value=t.props.join(",")}return id(n=Lv(t.children,i))?t.return=t.value+"{"+n+"}":""}function D2e(t){var e=bU(t);return function(n,i,r,a){for(var s="",o=0;o<e;o++)s+=t[o](n,i,r,a)||"";return s}}function P2e(t){return function(e){e.root||(e=e.return)&&t(e)}}function rQ(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var I2e=function(e,n,i){for(var r=0,a=0;r=a,a=gd(),r===38&&a===12&&(n[i]=1),!a_(a);)gl();return UN(e,mo)},R2e=function(e,n){var i=-1,r=44;do switch(a_(r)){case 0:r===38&&gd()===12&&(n[i]=1),e[i]+=I2e(mo-1,n,i);break;case 2:e[i]+=Qk(r);break;case 4:if(r===44){e[++i]=gd()===58?"&\f":"",n[i]=e[i].length;break}default:e[i]+=w6(r)}while(r=gl());return e},L2e=function(e,n){return iQ(R2e(nQ(e),n))},aW=new WeakMap,F2e=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,i=e.parent,r=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!aW.get(i))&&!r){aW.set(e,!0);for(var a=[],s=L2e(n,a),o=i.props,c=0,u=0;c<s.length;c++)for(var d=0;d<o.length;d++,u++)e.props[u]=a[c]?s[c].replace(/&\f/g,o[d]):o[d]+" "+s[c]}}},O2e=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function aQ(t,e){switch(v2e(t,e)){case 5103:return Rn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Rn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Rn+t+$C+t+Ya+t+t;case 6828:case 4268:return Rn+t+Ya+t+t;case 6165:return Rn+t+Ya+"flex-"+t+t;case 5187:return Rn+t+Ln(t,/(\w+).+(:[^]+)/,Rn+"box-$1$2"+Ya+"flex-$1$2")+t;case 5443:return Rn+t+Ya+"flex-item-"+Ln(t,/flex-|-self/,"")+t;case 4675:return Rn+t+Ya+"flex-line-pack"+Ln(t,/align-content|flex-|-self/,"")+t;case 5548:return Rn+t+Ya+Ln(t,"shrink","negative")+t;case 5292:return Rn+t+Ya+Ln(t,"basis","preferred-size")+t;case 6060:return Rn+"box-"+Ln(t,"-grow","")+Rn+t+Ya+Ln(t,"grow","positive")+t;case 4554:return Rn+Ln(t,/([^-])(transform)/g,"$1"+Rn+"$2")+t;case 6187:return Ln(Ln(Ln(t,/(zoom-|grab)/,Rn+"$1"),/(image-set)/,Rn+"$1"),t,"")+t;case 5495:case 3959:return Ln(t,/(image-set\([^]*)/,Rn+"$1$`$1");case 4968:return Ln(Ln(t,/(.+:)(flex-)?(.*)/,Rn+"box-pack:$3"+Ya+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Rn+t+t;case 4095:case 3583:case 4068:case 2532:return Ln(t,/(.+)-inline(.+)/,Rn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(id(t)-1-e>6)switch(Ta(t,e+1)){case 109:if(Ta(t,e+4)!==45)break;case 102:return Ln(t,/(.+:)(.+)-([^]+)/,"$1"+Rn+"$2-$3$1"+$C+(Ta(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~l7(t,"stretch")?aQ(Ln(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Ta(t,e+1)!==115)break;case 6444:switch(Ta(t,id(t)-3-(~l7(t,"!important")&&10))){case 107:return Ln(t,":",":"+Rn)+t;case 101:return Ln(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Rn+(Ta(t,14)===45?"inline-":"")+"box$3$1"+Rn+"$2$3$1"+Ya+"$2box$3")+t}break;case 5936:switch(Ta(t,e+11)){case 114:return Rn+t+Ya+Ln(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Rn+t+Ya+Ln(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Rn+t+Ya+Ln(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Rn+t+Ya+t+t}return t}var U2e=function(e,n,i,r){if(e.length>-1&&!e.return)switch(e.type){case vU:e.return=aQ(e.value,e.length);break;case QZ:return Lv([yx(e,{value:Ln(e.value,"@","@"+Rn)})],r);case yU:if(e.length)return w2e(e.props,function(a){switch(b2e(a,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Lv([yx(e,{props:[Ln(a,/:(read-\w+)/,":"+$C+"$1")]})],r);case"::placeholder":return Lv([yx(e,{props:[Ln(a,/:(plac\w+)/,":"+Rn+"input-$1")]}),yx(e,{props:[Ln(a,/:(plac\w+)/,":"+$C+"$1")]}),yx(e,{props:[Ln(a,/:(plac\w+)/,Ya+"input-$1")]})],r)}return""})}},M2e=[U2e],B2e=function(e){var n=e.key;if(n==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(v){var b=v.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(v),v.setAttribute("data-s",""))})}var r=e.stylisPlugins||M2e,a={},s,o=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(v){for(var b=v.getAttribute("data-emotion").split(" "),g=1;g<b.length;g++)a[b[g]]=!0;o.push(v)});var c,u=[F2e,O2e];{var d,h=[T2e,P2e(function(v){d.insert(v)})],f=D2e(u.concat(r,h)),p=function(b){return Lv(C2e(b),f)};c=function(b,g,y,_){d=y,p(b?b+"{"+g.styles+"}":g.styles),_&&(w.inserted[g.name]=!0)}}var w={key:n,sheet:new f2e({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:c};return w.sheet.hydrate(o),w},z2e=!0;function j2e(t,e,n){var i="";return n.split(" ").forEach(function(r){t[r]!==void 0?e.push(t[r]+";"):r&&(i+=r+" ")}),i}var sQ=function(e,n,i){var r=e.key+"-"+n.name;(i===!1||z2e===!1)&&e.registered[r]===void 0&&(e.registered[r]=n.styles)},$2e=function(e,n,i){sQ(e,n,i);var r=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var a=n;do e.insert(n===a?"."+r:"",a,e.sheet,!0),a=a.next;while(a!==void 0)}};function W2e(t){for(var e=0,n,i=0,r=t.length;r>=4;++i,r-=4)n=t.charCodeAt(i)&255|(t.charCodeAt(++i)&255)<<8|(t.charCodeAt(++i)&255)<<16|(t.charCodeAt(++i)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(t.charCodeAt(i+2)&255)<<16;case 2:e^=(t.charCodeAt(i+1)&255)<<8;case 1:e^=t.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var q2e={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},H2e=!1,V2e=/[A-Z]|^ms/g,G2e=/_EMO_([^_]+?)_([^]*?)_EMO_/g,oQ=function(e){return e.charCodeAt(1)===45},sW=function(e){return e!=null&&typeof e!="boolean"},zP=rQ(function(t){return oQ(t)?t:t.replace(V2e,"-$&").toLowerCase()}),oW=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(G2e,function(i,r,a){return rd={name:r,styles:a,next:rd},r})}return q2e[e]!==1&&!oQ(e)&&typeof n=="number"&&n!==0?n+"px":n},X2e="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function s_(t,e,n){if(n==null)return"";var i=n;if(i.__emotion_styles!==void 0)return i;switch(typeof n){case"boolean":return"";case"object":{var r=n;if(r.anim===1)return rd={name:r.name,styles:r.styles,next:rd},r.name;var a=n;if(a.styles!==void 0){var s=a.next;if(s!==void 0)for(;s!==void 0;)rd={name:s.name,styles:s.styles,next:rd},s=s.next;var o=a.styles+";";return o}return K2e(t,e,n)}case"function":{if(t!==void 0){var c=rd,u=n(t);return rd=c,s_(t,e,u)}break}}var d=n;if(e==null)return d;var h=e[d];return h!==void 0?h:d}function K2e(t,e,n){var i="";if(Array.isArray(n))for(var r=0;r<n.length;r++)i+=s_(t,e,n[r])+";";else for(var a in n){var s=n[a];if(typeof s!="object"){var o=s;e!=null&&e[o]!==void 0?i+=a+"{"+e[o]+"}":sW(o)&&(i+=zP(a)+":"+oW(a,o)+";")}else{if(a==="NO_COMPONENT_SELECTOR"&&H2e)throw new Error(X2e);if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var c=0;c<s.length;c++)sW(s[c])&&(i+=zP(a)+":"+oW(a,s[c])+";");else{var u=s_(t,e,s);switch(a){case"animation":case"animationName":{i+=zP(a)+":"+u+";";break}default:i+=a+"{"+u+"}"}}}}return i}var lW=/label:\s*([^\s;{]+)\s*(;|$)/g,rd;function lQ(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,r="";rd=void 0;var a=t[0];if(a==null||a.raw===void 0)i=!1,r+=s_(n,e,a);else{var s=a;r+=s[0]}for(var o=1;o<t.length;o++)if(r+=s_(n,e,t[o]),i){var c=a;r+=c[o]}lW.lastIndex=0;for(var u="",d;(d=lW.exec(r))!==null;)u+="-"+d[1];var h=W2e(r)+u;return{name:h,styles:r,next:rd}}var Y2e=function(e){return e()},J2e=VR["useInsertionEffect"]?VR["useInsertionEffect"]:!1,Z2e=J2e||Y2e,cQ=Z.createContext(typeof HTMLElement<"u"?B2e({key:"css"}):null);cQ.Provider;var Q2e=function(e){return Z.forwardRef(function(n,i){var r=Z.useContext(cQ);return e(n,r,i)})},ebe=Z.createContext({}),tbe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,nbe=rQ(function(t){return tbe.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),ibe=!1,rbe=nbe,abe=function(e){return e!=="theme"},cW=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?rbe:abe},uW=function(e,n,i){var r;if(n){var a=n.shouldForwardProp;r=e.__emotion_forwardProp&&a?function(s){return e.__emotion_forwardProp(s)&&a(s)}:a}return typeof r!="function"&&i&&(r=e.__emotion_forwardProp),r},sbe=function(e){var n=e.cache,i=e.serialized,r=e.isStringTag;return sQ(n,i,r),Z2e(function(){return $2e(n,i,r)}),null},obe=function t(e,n){var i=e.__emotion_real===e,r=i&&e.__emotion_base||e,a,s;n!==void 0&&(a=n.label,s=n.target);var o=uW(e,n,i),c=o||cW(r),u=!c("as");return function(){var d=arguments,h=i&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(a!==void 0&&h.push("label:"+a+";"),d[0]==null||d[0].raw===void 0)h.push.apply(h,d);else{var f=d[0];h.push(f[0]);for(var p=d.length,w=1;w<p;w++)h.push(d[w],f[w])}var v=Q2e(function(b,g,y){var _=u&&b.as||r,S="",N=[],R=b;if(b.theme==null){R={};for(var D in b)R[D]=b[D];R.theme=Z.useContext(ebe)}typeof b.className=="string"?S=j2e(g.registered,N,b.className):b.className!=null&&(S=b.className+" ");var E=lQ(h.concat(N),g.registered,R);S+=g.key+"-"+E.name,s!==void 0&&(S+=" "+s);var C=u&&o===void 0?cW(_):c,P={};for(var k in b)u&&k==="as"||C(k)&&(P[k]=b[k]);return P.className=S,y&&(P.ref=y),Z.createElement(Z.Fragment,null,Z.createElement(sbe,{cache:g,serialized:E,isStringTag:typeof _=="string"}),Z.createElement(_,P))});return v.displayName=a!==void 0?a:"Styled("+(typeof r=="string"?r:r.displayName||r.name||"Component")+")",v.defaultProps=e.defaultProps,v.__emotion_real=v,v.__emotion_base=r,v.__emotion_styles=h,v.__emotion_forwardProp=o,Object.defineProperty(v,"toString",{value:function(){return s===void 0&&ibe?"NO_COMPONENT_SELECTOR":"."+s}}),v.withComponent=function(b,g){var y=t(b,o7({},n,g,{shouldForwardProp:uW(v,g,!0)}));return y.apply(void 0,h)},v}},lbe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],u7=obe.bind(null);lbe.forEach(function(t){u7[t]=u7(t)});/**
 * @mui/styled-engine v7.3.7
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function cbe(t,e){return u7(t,e)}function ube(t,e){Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}const dW=[];function _0(t){return dW[0]=t,lQ(dW)}const dbe=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,i)=>n.val-i.val),e.reduce((n,i)=>({...n,[i.key]:i.val}),{})};function hbe(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:i=5,...r}=t,a=dbe(e),s=Object.keys(a);function o(f){return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n})`}function c(f){return`@media (max-width:${(typeof e[f]=="number"?e[f]:f)-i/100}${n})`}function u(f,p){const w=s.indexOf(p);return`@media (min-width:${typeof e[f]=="number"?e[f]:f}${n}) and (max-width:${(w!==-1&&typeof e[s[w]]=="number"?e[s[w]]:p)-i/100}${n})`}function d(f){return s.indexOf(f)+1<s.length?u(f,s[s.indexOf(f)+1]):o(f)}function h(f){const p=s.indexOf(f);return p===0?o(s[1]):p===s.length-1?c(s[p]):u(f,s[s.indexOf(f)+1]).replace("@media","@media not all and")}return{keys:s,values:a,up:o,down:c,between:u,only:d,not:h,unit:n,...r}}const fbe={borderRadius:4},pbe=fbe;function uQ(t=8,e=mU({spacing:t})){if(t.mui)return t;const n=(...i)=>(i.length===0?[1]:i).map(a=>{const s=e(a);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function mbe(t,e){var i;const n=this;if(n.vars){if(!((i=n.colorSchemes)!=null&&i[t])||typeof n.getColorSchemeSelector!="function")return{};let r=n.getColorSchemeSelector(t);return r==="&"?e:((r.includes("data-")||r.includes("."))&&(r=`*:where(${r.replace(/\s*&$/,"")}) &`),{[r]:e})}return n.palette.mode===t?e:{}}function dQ(t={},...e){const{breakpoints:n={},palette:i={},spacing:r,shape:a={},...s}=t,o=hbe(n),c=uQ(r);let u=ml({breakpoints:o,direction:"ltr",components:{},palette:{mode:"light",...i},spacing:c,shape:{...pbe,...a}},s);return u=xve(u),u.applyStyles=mbe,u=e.reduce((d,h)=>ml(d,h),u),u.unstable_sxConfig={...b6,...s==null?void 0:s.unstable_sxConfig},u.unstable_sx=function(h){return i_({sx:h,theme:this})},u}const gbe={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function hQ(t,e,n="Mui"){const i=gbe[e];return i?`${n}-${i}`:`${mve.generate(t)}-${e}`}function ybe(t,e,n="Mui"){const i={};return e.forEach(r=>{i[r]=hQ(t,r,n)}),i}function fQ(t){const{variants:e,...n}=t,i={variants:e,style:_0(n),isProcessed:!0};return i.style===n||e&&e.forEach(r=>{typeof r.style!="function"&&(r.style=_0(r.style))}),i}const vbe=dQ();function jP(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}function Ug(t,e){return e&&t&&typeof t=="object"&&t.styles&&!t.styles.startsWith("@layer")&&(t.styles=`@layer ${e}{${String(t.styles)}}`),t}function bbe(t){return t?(e,n)=>n[t]:null}function wbe(t,e,n){t.theme=Sbe(t.theme)?n:t.theme[e]||t.theme}function t4(t,e,n){const i=typeof e=="function"?e(t):e;if(Array.isArray(i))return i.flatMap(r=>t4(t,r,n));if(Array.isArray(i==null?void 0:i.variants)){let r;if(i.isProcessed)r=n?Ug(i.style,n):i.style;else{const{variants:a,...s}=i;r=n?Ug(_0(s),n):s}return pQ(t,i.variants,[r],n)}return i!=null&&i.isProcessed?n?Ug(_0(i.style),n):i.style:n?Ug(_0(i),n):i}function pQ(t,e,n=[],i=void 0){var a;let r;e:for(let s=0;s<e.length;s+=1){const o=e[s];if(typeof o.props=="function"){if(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),!o.props(r))continue}else for(const c in o.props)if(t[c]!==o.props[c]&&((a=t.ownerState)==null?void 0:a[c])!==o.props[c])continue e;typeof o.style=="function"?(r??(r={...t,...t.ownerState,ownerState:t.ownerState}),n.push(i?Ug(_0(o.style(r)),i):o.style(r))):n.push(i?Ug(_0(o.style),i):o.style)}return n}function xbe(t={}){const{themeId:e,defaultTheme:n=vbe,rootShouldForwardProp:i=jP,slotShouldForwardProp:r=jP}=t;function a(o){wbe(o,e,n)}return(o,c={})=>{ube(o,R=>R.filter(D=>D!==i_));const{name:u,slot:d,skipVariantsResolver:h,skipSx:f,overridesResolver:p=bbe(Nbe(d)),...w}=c,v=u&&u.startsWith("Mui")||d?"components":"custom",b=h!==void 0?h:d&&d!=="Root"&&d!=="root"||!1,g=f||!1;let y=jP;d==="Root"||d==="root"?y=i:d?y=r:Abe(o)&&(y=void 0);const _=cbe(o,{shouldForwardProp:y,label:_be(),...w}),S=R=>{if(R.__emotion_real===R)return R;if(typeof R=="function")return function(E){return t4(E,R,E.theme.modularCssLayers?v:void 0)};if(Vh(R)){const D=fQ(R);return function(C){return D.variants?t4(C,D,C.theme.modularCssLayers?v:void 0):C.theme.modularCssLayers?Ug(D.style,v):D.style}}return R},N=(...R)=>{const D=[],E=R.map(S),C=[];if(D.push(a),u&&p&&C.push(function(I){var W,$;const z=($=(W=I.theme.components)==null?void 0:W[u])==null?void 0:$.styleOverrides;if(!z)return null;const j={};for(const q in z)j[q]=t4(I,z[q],I.theme.modularCssLayers?"theme":void 0);return p(I,j)}),u&&!b&&C.push(function(I){var j,W;const T=I.theme,z=(W=(j=T==null?void 0:T.components)==null?void 0:j[u])==null?void 0:W.variants;return z?pQ(I,z,[],I.theme.modularCssLayers?"theme":void 0):null}),g||C.push(i_),Array.isArray(E[0])){const A=E.shift(),I=new Array(D.length).fill(""),T=new Array(C.length).fill("");let z;z=[...I,...A,...T],z.raw=[...I,...A.raw,...T],D.unshift(z)}const P=[...D,...E,...C],k=_(...P);return o.muiName&&(k.muiName=o.muiName),k};return _.withConfig&&(N.withConfig=_.withConfig),N}}function _be(t,e){let n;return n}function Sbe(t){for(const e in t)return!1;return!0}function Abe(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Nbe(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function d7(t,e,n=!1){const i={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const a=r;if(a==="components"||a==="slots")i[a]={...t[a],...i[a]};else if(a==="componentsProps"||a==="slotProps"){const s=t[a],o=e[a];if(!o)i[a]=s||{};else if(!s)i[a]=o;else{i[a]={...o};for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const u=c;i[a][u]=d7(s[u],o[u],n)}}}else a==="className"&&n&&e.className?i.className=VZ(t==null?void 0:t.className,e==null?void 0:e.className):a==="style"&&n&&e.style?i.style={...t==null?void 0:t.style,...e==null?void 0:e.style}:i[a]===void 0&&(i[a]=t[a])}return i}function kbe(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function wU(t,e=0,n=1){return kbe(t,e,n)}function Cbe(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(i=>i+i)),n?`rgb${n.length===4?"a":""}(${n.map((i,r)=>r<3?parseInt(i,16):Math.round(parseInt(i,16)/255*1e3)/1e3).join(", ")})`:""}function Im(t){if(t.type)return t;if(t.charAt(0)==="#")return Im(Cbe(t));const e=t.indexOf("("),n=t.substring(0,e);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(B0(9,t));let i=t.substring(e+1,t.length-1),r;if(n==="color"){if(i=i.split(" "),r=i.shift(),i.length===4&&i[3].charAt(0)==="/"&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(r))throw new Error(B0(10,r))}else i=i.split(",");return i=i.map(a=>parseFloat(a)),{type:n,values:i,colorSpace:r}}const Ebe=t=>{const e=Im(t);return e.values.slice(0,3).map((n,i)=>e.type.includes("hsl")&&i!==0?`${n}%`:n).join(" ")},$x=(t,e)=>{try{return Ebe(t)}catch{return t}};function S6(t){const{type:e,colorSpace:n}=t;let{values:i}=t;return e.includes("rgb")?i=i.map((r,a)=>a<3?parseInt(r,10):r):e.includes("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),e.includes("color")?i=`${n} ${i.join(" ")}`:i=`${i.join(", ")}`,`${e}(${i})`}function mQ(t){t=Im(t);const{values:e}=t,n=e[0],i=e[1]/100,r=e[2]/100,a=i*Math.min(r,1-r),s=(u,d=(u+n/30)%12)=>r-a*Math.max(Math.min(d-3,9-d,1),-1);let o="rgb";const c=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return t.type==="hsla"&&(o+="a",c.push(e[3])),S6({type:o,values:c})}function h7(t){t=Im(t);let e=t.type==="hsl"||t.type==="hsla"?Im(mQ(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Tbe(t,e){const n=h7(t),i=h7(e);return(Math.max(n,i)+.05)/(Math.min(n,i)+.05)}function gQ(t,e){return t=Im(t),e=wU(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,S6(t)}function pg(t,e,n){try{return gQ(t,e)}catch{return t}}function A6(t,e){if(t=Im(t),e=wU(e),t.type.includes("hsl"))t.values[2]*=1-e;else if(t.type.includes("rgb")||t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]*=1-e;return S6(t)}function $n(t,e,n){try{return A6(t,e)}catch{return t}}function N6(t,e){if(t=Im(t),e=wU(e),t.type.includes("hsl"))t.values[2]+=(100-t.values[2])*e;else if(t.type.includes("rgb"))for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.includes("color"))for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return S6(t)}function Wn(t,e,n){try{return N6(t,e)}catch{return t}}function Dbe(t,e=.15){return h7(t)>.5?A6(t,e):N6(t,e)}function K3(t,e,n){try{return Dbe(t,e)}catch{return t}}const Pbe=Z.createContext(void 0);function Ibe(t){const{theme:e,name:n,props:i}=t;if(!e||!e.components||!e.components[n])return i;const r=e.components[n];return r.defaultProps?d7(r.defaultProps,i,e.components.mergeClassNameAndStyle):!r.styleOverrides&&!r.variants?d7(r,i,e.components.mergeClassNameAndStyle):i}function Rbe({props:t,name:e}){const n=Z.useContext(Pbe);return Ibe({props:t,name:e,theme:{components:n}})}const hW={theme:void 0};function Lbe(t){let e,n;return function(r){let a=e;return(a===void 0||r.theme!==n)&&(hW.theme=r.theme,a=fQ(t(hW)),e=a,n=r.theme),a}}function Fbe(t=""){function e(...i){if(!i.length)return"";const r=i[0];return typeof r=="string"&&!r.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${r}${e(...i.slice(1))})`:`, ${r}`}return(i,...r)=>`var(--${t?`${t}-`:""}${i}${e(...r)})`}const fW=(t,e,n,i=[])=>{let r=t;e.forEach((a,s)=>{s===e.length-1?Array.isArray(r)?r[Number(a)]=n:r&&typeof r=="object"&&(r[a]=n):r&&typeof r=="object"&&(r[a]||(r[a]=i.includes(a)?[]:{}),r=r[a])})},Obe=(t,e,n)=>{function i(r,a=[],s=[]){Object.entries(r).forEach(([o,c])=>{(!n||n&&!n([...a,o]))&&c!=null&&(typeof c=="object"&&Object.keys(c).length>0?i(c,[...a,o],Array.isArray(c)?[...s,o]:s):e([...a,o],c,s))})}i(t)},Ube=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(i=>t.includes(i))||t[t.length-1].toLowerCase().includes("opacity")?e:`${e}px`:e;function $P(t,e){const{prefix:n,shouldSkipGeneratingVar:i}=e||{},r={},a={},s={};return Obe(t,(o,c,u)=>{if((typeof c=="string"||typeof c=="number")&&(!i||!i(o,c))){const d=`--${n?`${n}-`:""}${o.join("-")}`,h=Ube(o,c);Object.assign(r,{[d]:h}),fW(a,o,`var(${d})`,u),fW(s,o,`var(${d}, ${h})`,u)}},o=>o[0]==="vars"),{css:r,vars:a,varsWithDefaults:s}}function Mbe(t,e={}){const{getSelector:n=g,disableCssColorScheme:i,colorSchemeSelector:r,enableContrastVars:a}=e,{colorSchemes:s={},components:o,defaultColorScheme:c="light",...u}=t,{vars:d,css:h,varsWithDefaults:f}=$P(u,e);let p=f;const w={},{[c]:v,...b}=s;if(Object.entries(b||{}).forEach(([S,N])=>{const{vars:R,css:D,varsWithDefaults:E}=$P(N,e);p=ml(p,E),w[S]={css:D,vars:R}}),v){const{css:S,vars:N,varsWithDefaults:R}=$P(v,e);p=ml(p,R),w[c]={css:S,vars:N}}function g(S,N){var D,E;let R=r;if(r==="class"&&(R=".%s"),r==="data"&&(R="[data-%s]"),r!=null&&r.startsWith("data-")&&!r.includes("%s")&&(R=`[${r}="%s"]`),S){if(R==="media")return t.defaultColorScheme===S?":root":{[`@media (prefers-color-scheme: ${((E=(D=s[S])==null?void 0:D.palette)==null?void 0:E.mode)||S})`]:{":root":N}};if(R)return t.defaultColorScheme===S?`:root, ${R.replace("%s",String(S))}`:R.replace("%s",String(S))}return":root"}return{vars:p,generateThemeVars:()=>{let S={...d};return Object.entries(w).forEach(([,{vars:N}])=>{S=ml(S,N)}),S},generateStyleSheets:()=>{var C,P;const S=[],N=t.defaultColorScheme||"light";function R(k,A){Object.keys(A).length&&S.push(typeof k=="string"?{[k]:{...A}}:k)}R(n(void 0,{...h}),h);const{[N]:D,...E}=w;if(D){const{css:k}=D,A=(P=(C=s[N])==null?void 0:C.palette)==null?void 0:P.mode,I=!i&&A?{colorScheme:A,...k}:{...k};R(n(N,{...I}),I)}return Object.entries(E).forEach(([k,{css:A}])=>{var z,j;const I=(j=(z=s[k])==null?void 0:z.palette)==null?void 0:j.mode,T=!i&&I?{colorScheme:I,...A}:{...A};R(n(k,{...T}),T)}),a&&S.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),S}}}function Bbe(t){return function(n){return t==="media"?`@media (prefers-color-scheme: ${n})`:t?t.startsWith("data-")&&!t.includes("%s")?`[${t}="${n}"] &`:t==="class"?`.${n} &`:t==="data"?`[data-${n}] &`:`${t.replace("%s",n)} &`:"&"}}const zbe={black:"#000",white:"#fff"},o_=zbe,jbe={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},$be=jbe,Wbe={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Ty=Wbe,qbe={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Dy=qbe,Hbe={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},vx=Hbe,Vbe={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Py=Vbe,Gbe={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Iy=Gbe,Xbe={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Ry=Xbe;function yQ(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:o_.white,default:o_.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const vQ=yQ();function bQ(){return{text:{primary:o_.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:o_.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const f7=bQ();function pW(t,e,n,i){const r=i.light||i,a=i.dark||i*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=N6(t.main,r):e==="dark"&&(t.dark=A6(t.main,a)))}function mW(t,e,n,i,r){const a=r.light||r,s=r.dark||r*1.5;e[n]||(e.hasOwnProperty(i)?e[n]=e[i]:n==="light"?e.light=`color-mix(in ${t}, ${e.main}, #fff ${(a*100).toFixed(0)}%)`:n==="dark"&&(e.dark=`color-mix(in ${t}, ${e.main}, #000 ${(s*100).toFixed(0)}%)`))}function Kbe(t="light"){return t==="dark"?{main:Py[200],light:Py[50],dark:Py[400]}:{main:Py[700],light:Py[400],dark:Py[800]}}function Ybe(t="light"){return t==="dark"?{main:Ty[200],light:Ty[50],dark:Ty[400]}:{main:Ty[500],light:Ty[300],dark:Ty[700]}}function Jbe(t="light"){return t==="dark"?{main:Dy[500],light:Dy[300],dark:Dy[700]}:{main:Dy[700],light:Dy[400],dark:Dy[800]}}function Zbe(t="light"){return t==="dark"?{main:Iy[400],light:Iy[300],dark:Iy[700]}:{main:Iy[700],light:Iy[500],dark:Iy[900]}}function Qbe(t="light"){return t==="dark"?{main:Ry[400],light:Ry[300],dark:Ry[700]}:{main:Ry[800],light:Ry[500],dark:Ry[900]}}function ewe(t="light"){return t==="dark"?{main:vx[400],light:vx[300],dark:vx[700]}:{main:"#ed6c02",light:vx[500],dark:vx[900]}}function twe(t){return`oklch(from ${t} var(--__l) 0 h / var(--__a))`}function xU(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:i=.2,colorSpace:r,...a}=t,s=t.primary||Kbe(e),o=t.secondary||Ybe(e),c=t.error||Jbe(e),u=t.info||Zbe(e),d=t.success||Qbe(e),h=t.warning||ewe(e);function f(b){return r?twe(b):Tbe(b,f7.text.primary)>=n?f7.text.primary:vQ.text.primary}const p=({color:b,name:g,mainShade:y=500,lightShade:_=300,darkShade:S=700})=>{if(b={...b},!b.main&&b[y]&&(b.main=b[y]),!b.hasOwnProperty("main"))throw new Error(B0(11,g?` (${g})`:"",y));if(typeof b.main!="string")throw new Error(B0(12,g?` (${g})`:"",JSON.stringify(b.main)));return r?(mW(r,b,"light",_,i),mW(r,b,"dark",S,i)):(pW(b,"light",_,i),pW(b,"dark",S,i)),b.contrastText||(b.contrastText=f(b.main)),b};let w;return e==="light"?w=yQ():e==="dark"&&(w=bQ()),ml({common:{...o_},mode:e,primary:p({color:s,name:"primary"}),secondary:p({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:c,name:"error"}),warning:p({color:h,name:"warning"}),info:p({color:u,name:"info"}),success:p({color:d,name:"success"}),grey:$be,contrastThreshold:n,getContrastText:f,augmentColor:p,tonalOffset:i,...w},a)}function nwe(t){const e={};return Object.entries(t).forEach(i=>{const[r,a]=i;typeof a=="object"&&(e[r]=`${a.fontStyle?`${a.fontStyle} `:""}${a.fontVariant?`${a.fontVariant} `:""}${a.fontWeight?`${a.fontWeight} `:""}${a.fontStretch?`${a.fontStretch} `:""}${a.fontSize||""}${a.lineHeight?`/${a.lineHeight} `:""}${a.fontFamily||""}`)}),e}function iwe(t,e){return{toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}},...e}}function rwe(t){return Math.round(t*1e5)/1e5}const gW={textTransform:"uppercase"},yW='"Roboto", "Helvetica", "Arial", sans-serif';function awe(t,e){const{fontFamily:n=yW,fontSize:i=14,fontWeightLight:r=300,fontWeightRegular:a=400,fontWeightMedium:s=500,fontWeightBold:o=700,htmlFontSize:c=16,allVariants:u,pxToRem:d,...h}=typeof e=="function"?e(t):e,f=i/14,p=d||(b=>`${b/c*f}rem`),w=(b,g,y,_,S)=>({fontFamily:n,fontWeight:b,fontSize:p(g),lineHeight:y,...n===yW?{letterSpacing:`${rwe(_/g)}em`}:{},...S,...u}),v={h1:w(r,96,1.167,-1.5),h2:w(r,60,1.2,-.5),h3:w(a,48,1.167,0),h4:w(a,34,1.235,.25),h5:w(a,24,1.334,0),h6:w(s,20,1.6,.15),subtitle1:w(a,16,1.75,.15),subtitle2:w(s,14,1.57,.1),body1:w(a,16,1.5,.15),body2:w(a,14,1.43,.15),button:w(s,14,1.75,.4,gW),caption:w(a,12,1.66,.4),overline:w(a,12,2.66,1,gW),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ml({htmlFontSize:c,pxToRem:p,fontFamily:n,fontSize:i,fontWeightLight:r,fontWeightRegular:a,fontWeightMedium:s,fontWeightBold:o,...v},h,{clone:!1})}const swe=.2,owe=.14,lwe=.12;function Fi(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${swe})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${owe})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${lwe})`].join(",")}const cwe=["none",Fi(0,2,1,-1,0,1,1,0,0,1,3,0),Fi(0,3,1,-2,0,2,2,0,0,1,5,0),Fi(0,3,3,-2,0,3,4,0,0,1,8,0),Fi(0,2,4,-1,0,4,5,0,0,1,10,0),Fi(0,3,5,-1,0,5,8,0,0,1,14,0),Fi(0,3,5,-1,0,6,10,0,0,1,18,0),Fi(0,4,5,-2,0,7,10,1,0,2,16,1),Fi(0,5,5,-3,0,8,10,1,0,3,14,2),Fi(0,5,6,-3,0,9,12,1,0,3,16,2),Fi(0,6,6,-3,0,10,14,1,0,4,18,3),Fi(0,6,7,-4,0,11,15,1,0,4,20,3),Fi(0,7,8,-4,0,12,17,2,0,5,22,4),Fi(0,7,8,-4,0,13,19,2,0,5,24,4),Fi(0,7,9,-4,0,14,21,2,0,5,26,4),Fi(0,8,9,-5,0,15,22,2,0,6,28,5),Fi(0,8,10,-5,0,16,24,2,0,6,30,5),Fi(0,8,11,-5,0,17,26,2,0,6,32,5),Fi(0,9,11,-5,0,18,28,2,0,7,34,6),Fi(0,9,12,-6,0,19,29,2,0,7,36,6),Fi(0,10,13,-6,0,20,31,3,0,8,38,7),Fi(0,10,13,-6,0,21,33,3,0,8,40,7),Fi(0,10,14,-6,0,22,35,3,0,8,42,7),Fi(0,11,14,-7,0,23,36,3,0,9,44,8),Fi(0,11,15,-7,0,24,38,3,0,9,46,8)],uwe=cwe,dwe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},hwe={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function vW(t){return`${Math.round(t)}ms`}function fwe(t){if(!t)return 0;const e=t/36;return Math.min(Math.round((4+15*e**.25+e/5)*10),3e3)}function pwe(t){const e={...dwe,...t.easing},n={...hwe,...t.duration};return{getAutoHeightDuration:fwe,create:(r=["all"],a={})=>{const{duration:s=n.standard,easing:o=e.easeInOut,delay:c=0,...u}=a;return(Array.isArray(r)?r:[r]).map(d=>`${d} ${typeof s=="string"?s:vW(s)} ${o} ${typeof c=="string"?c:vW(c)}`).join(",")},...t,easing:e,duration:n}}const mwe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},gwe=mwe;function ywe(t){return Vh(t)||typeof t>"u"||typeof t=="string"||typeof t=="boolean"||typeof t=="number"||Array.isArray(t)}function wQ(t={}){const e={...t};function n(i){const r=Object.entries(i);for(let a=0;a<r.length;a++){const[s,o]=r[a];!ywe(o)||s.startsWith("unstable_")?delete i[s]:Vh(o)&&(i[s]={...o},n(i[s]))}}return n(e),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(e,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function bW(t){return typeof t=="number"?`${(t*100).toFixed(0)}%`:`calc((${t}) * 100%)`}const vwe=t=>{if(!Number.isNaN(+t))return+t;const e=t.match(/\d*\.?\d+/g);if(!e)return 0;let n=0;for(let i=0;i<e.length;i+=1)n+=+e[i];return n};function bwe(t){Object.assign(t,{alpha(e,n){const i=this||t;return i.colorSpace?`oklch(from ${e} l c h / ${typeof n=="string"?`calc(${n})`:n})`:i.vars?`rgba(${e.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof n=="string"?`calc(${n})`:n})`:gQ(e,vwe(n))},lighten(e,n){const i=this||t;return i.colorSpace?`color-mix(in ${i.colorSpace}, ${e}, #fff ${bW(n)})`:N6(e,n)},darken(e,n){const i=this||t;return i.colorSpace?`color-mix(in ${i.colorSpace}, ${e}, #000 ${bW(n)})`:A6(e,n)}})}function p7(t={},...e){const{breakpoints:n,mixins:i={},spacing:r,palette:a={},transitions:s={},typography:o={},shape:c,colorSpace:u,...d}=t;if(t.vars&&t.generateThemeVars===void 0)throw new Error(B0(20));const h=xU({...a,colorSpace:u}),f=dQ(t);let p=ml(f,{mixins:iwe(f.breakpoints,i),palette:h,shadows:uwe.slice(),typography:awe(h,o),transitions:pwe(s),zIndex:{...gwe}});return p=ml(p,d),p=e.reduce((w,v)=>ml(w,v),p),p.unstable_sxConfig={...b6,...d==null?void 0:d.unstable_sxConfig},p.unstable_sx=function(v){return i_({sx:v,theme:this})},p.toRuntimeSource=wQ,bwe(p),p}function wwe(t){let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,Math.round(e*10)/1e3}const xwe=[...Array(25)].map((t,e)=>{if(e===0)return"none";const n=wwe(e);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function xQ(t){return{inputPlaceholder:t==="dark"?.5:.42,inputUnderline:t==="dark"?.7:.42,switchTrackDisabled:t==="dark"?.2:.12,switchTrack:t==="dark"?.3:.38}}function _Q(t){return t==="dark"?xwe:[]}function _we(t){const{palette:e={mode:"light"},opacity:n,overlays:i,colorSpace:r,...a}=t,s=xU({...e,colorSpace:r});return{palette:s,opacity:{...xQ(s.mode),...n},overlays:i||_Q(s.mode),...a}}function Swe(t){var e;return!!t[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/(mode|contrastThreshold|tonalOffset)/))}const Awe=t=>[...[...Array(25)].map((e,n)=>`--${t?`${t}-`:""}overlays-${n}`),`--${t?`${t}-`:""}palette-AppBar-darkBg`,`--${t?`${t}-`:""}palette-AppBar-darkColor`],Nwe=Awe,kwe=t=>(e,n)=>{const i=t.rootSelector||":root",r=t.colorSchemeSelector;let a=r;if(r==="class"&&(a=".%s"),r==="data"&&(a="[data-%s]"),r!=null&&r.startsWith("data-")&&!r.includes("%s")&&(a=`[${r}="%s"]`),t.defaultColorScheme===e){if(e==="dark"){const s={};return Nwe(t.cssVarPrefix).forEach(o=>{s[o]=n[o],delete n[o]}),a==="media"?{[i]:n,"@media (prefers-color-scheme: dark)":{[i]:s}}:a?{[a.replace("%s",e)]:s,[`${i}, ${a.replace("%s",e)}`]:n}:{[i]:{...n,...s}}}if(a&&a!=="media")return`${i}, ${a.replace("%s",String(e))}`}else if(e){if(a==="media")return{[`@media (prefers-color-scheme: ${String(e)})`]:{[i]:n}};if(a)return a.replace("%s",String(e))}return i};function Cwe(t,e){e.forEach(n=>{t[n]||(t[n]={})})}function tt(t,e,n){!t[e]&&n&&(t[e]=n)}function Wx(t){return typeof t!="string"||!t.startsWith("hsl")?t:mQ(t)}function Hd(t,e){`${e}Channel`in t||(t[`${e}Channel`]=$x(Wx(t[e]),`MUI: Can't create \`palette.${e}Channel\` because \`palette.${e}\` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color().
To suppress this warning, you need to explicitly provide the \`palette.${e}Channel\` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.`))}function Ewe(t){return typeof t=="number"?`${t}px`:typeof t=="string"||typeof t=="function"||Array.isArray(t)?t:"8px"}const Au=t=>{try{return t()}catch{}},Twe=(t="mui")=>Fbe(t);function WP(t,e,n,i,r){if(!n)return;n=n===!0?{}:n;const a=r==="dark"?"dark":"light";if(!i){e[r]=_we({...n,palette:{mode:a,...n==null?void 0:n.palette},colorSpace:t});return}const{palette:s,...o}=p7({...i,palette:{mode:a,...n==null?void 0:n.palette},colorSpace:t});return e[r]={...n,palette:s,opacity:{...xQ(a),...n==null?void 0:n.opacity},overlays:(n==null?void 0:n.overlays)||_Q(a)},o}function Dwe(t={},...e){const{colorSchemes:n={light:!0},defaultColorScheme:i,disableCssColorScheme:r=!1,cssVarPrefix:a="mui",nativeColor:s=!1,shouldSkipGeneratingVar:o=Swe,colorSchemeSelector:c=n.light&&n.dark?"media":void 0,rootSelector:u=":root",...d}=t,h=Object.keys(n)[0],f=i||(n.light&&h!=="light"?"light":h),p=Twe(a),{[f]:w,light:v,dark:b,...g}=n,y={...g};let _=w;if((f==="dark"&&!("dark"in n)||f==="light"&&!("light"in n))&&(_=!0),!_)throw new Error(B0(21,f));let S;s&&(S="oklch");const N=WP(S,y,_,d,f);v&&!y.light&&WP(S,y,v,void 0,"light"),b&&!y.dark&&WP(S,y,b,void 0,"dark");let R={defaultColorScheme:f,...N,cssVarPrefix:a,colorSchemeSelector:c,rootSelector:u,getCssVar:p,colorSchemes:y,font:{...nwe(N.typography),...N.font},spacing:Ewe(d.spacing)};Object.keys(R.colorSchemes).forEach(k=>{const A=R.colorSchemes[k].palette,I=z=>{const j=z.split("-"),W=j[1],$=j[2];return p(z,A[W][$])};A.mode==="light"&&(tt(A.common,"background","#fff"),tt(A.common,"onBackground","#000")),A.mode==="dark"&&(tt(A.common,"background","#000"),tt(A.common,"onBackground","#fff"));function T(z,j,W){if(S){let $;return z===pg&&($=`transparent ${((1-W)*100).toFixed(0)}%`),z===$n&&($=`#000 ${(W*100).toFixed(0)}%`),z===Wn&&($=`#fff ${(W*100).toFixed(0)}%`),`color-mix(in ${S}, ${j}, ${$})`}return z(j,W)}if(Cwe(A,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),A.mode==="light"){tt(A.Alert,"errorColor",T($n,A.error.light,.6)),tt(A.Alert,"infoColor",T($n,A.info.light,.6)),tt(A.Alert,"successColor",T($n,A.success.light,.6)),tt(A.Alert,"warningColor",T($n,A.warning.light,.6)),tt(A.Alert,"errorFilledBg",I("palette-error-main")),tt(A.Alert,"infoFilledBg",I("palette-info-main")),tt(A.Alert,"successFilledBg",I("palette-success-main")),tt(A.Alert,"warningFilledBg",I("palette-warning-main")),tt(A.Alert,"errorFilledColor",Au(()=>A.getContrastText(A.error.main))),tt(A.Alert,"infoFilledColor",Au(()=>A.getContrastText(A.info.main))),tt(A.Alert,"successFilledColor",Au(()=>A.getContrastText(A.success.main))),tt(A.Alert,"warningFilledColor",Au(()=>A.getContrastText(A.warning.main))),tt(A.Alert,"errorStandardBg",T(Wn,A.error.light,.9)),tt(A.Alert,"infoStandardBg",T(Wn,A.info.light,.9)),tt(A.Alert,"successStandardBg",T(Wn,A.success.light,.9)),tt(A.Alert,"warningStandardBg",T(Wn,A.warning.light,.9)),tt(A.Alert,"errorIconColor",I("palette-error-main")),tt(A.Alert,"infoIconColor",I("palette-info-main")),tt(A.Alert,"successIconColor",I("palette-success-main")),tt(A.Alert,"warningIconColor",I("palette-warning-main")),tt(A.AppBar,"defaultBg",I("palette-grey-100")),tt(A.Avatar,"defaultBg",I("palette-grey-400")),tt(A.Button,"inheritContainedBg",I("palette-grey-300")),tt(A.Button,"inheritContainedHoverBg",I("palette-grey-A100")),tt(A.Chip,"defaultBorder",I("palette-grey-400")),tt(A.Chip,"defaultAvatarColor",I("palette-grey-700")),tt(A.Chip,"defaultIconColor",I("palette-grey-700")),tt(A.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),tt(A.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),tt(A.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),tt(A.LinearProgress,"primaryBg",T(Wn,A.primary.main,.62)),tt(A.LinearProgress,"secondaryBg",T(Wn,A.secondary.main,.62)),tt(A.LinearProgress,"errorBg",T(Wn,A.error.main,.62)),tt(A.LinearProgress,"infoBg",T(Wn,A.info.main,.62)),tt(A.LinearProgress,"successBg",T(Wn,A.success.main,.62)),tt(A.LinearProgress,"warningBg",T(Wn,A.warning.main,.62)),tt(A.Skeleton,"bg",S?T(pg,A.text.primary,.11):`rgba(${I("palette-text-primaryChannel")} / 0.11)`),tt(A.Slider,"primaryTrack",T(Wn,A.primary.main,.62)),tt(A.Slider,"secondaryTrack",T(Wn,A.secondary.main,.62)),tt(A.Slider,"errorTrack",T(Wn,A.error.main,.62)),tt(A.Slider,"infoTrack",T(Wn,A.info.main,.62)),tt(A.Slider,"successTrack",T(Wn,A.success.main,.62)),tt(A.Slider,"warningTrack",T(Wn,A.warning.main,.62));const z=S?T($n,A.background.default,.6825):K3(A.background.default,.8);tt(A.SnackbarContent,"bg",z),tt(A.SnackbarContent,"color",Au(()=>S?f7.text.primary:A.getContrastText(z))),tt(A.SpeedDialAction,"fabHoverBg",K3(A.background.paper,.15)),tt(A.StepConnector,"border",I("palette-grey-400")),tt(A.StepContent,"border",I("palette-grey-400")),tt(A.Switch,"defaultColor",I("palette-common-white")),tt(A.Switch,"defaultDisabledColor",I("palette-grey-100")),tt(A.Switch,"primaryDisabledColor",T(Wn,A.primary.main,.62)),tt(A.Switch,"secondaryDisabledColor",T(Wn,A.secondary.main,.62)),tt(A.Switch,"errorDisabledColor",T(Wn,A.error.main,.62)),tt(A.Switch,"infoDisabledColor",T(Wn,A.info.main,.62)),tt(A.Switch,"successDisabledColor",T(Wn,A.success.main,.62)),tt(A.Switch,"warningDisabledColor",T(Wn,A.warning.main,.62)),tt(A.TableCell,"border",T(Wn,T(pg,A.divider,1),.88)),tt(A.Tooltip,"bg",T(pg,A.grey[700],.92))}if(A.mode==="dark"){tt(A.Alert,"errorColor",T(Wn,A.error.light,.6)),tt(A.Alert,"infoColor",T(Wn,A.info.light,.6)),tt(A.Alert,"successColor",T(Wn,A.success.light,.6)),tt(A.Alert,"warningColor",T(Wn,A.warning.light,.6)),tt(A.Alert,"errorFilledBg",I("palette-error-dark")),tt(A.Alert,"infoFilledBg",I("palette-info-dark")),tt(A.Alert,"successFilledBg",I("palette-success-dark")),tt(A.Alert,"warningFilledBg",I("palette-warning-dark")),tt(A.Alert,"errorFilledColor",Au(()=>A.getContrastText(A.error.dark))),tt(A.Alert,"infoFilledColor",Au(()=>A.getContrastText(A.info.dark))),tt(A.Alert,"successFilledColor",Au(()=>A.getContrastText(A.success.dark))),tt(A.Alert,"warningFilledColor",Au(()=>A.getContrastText(A.warning.dark))),tt(A.Alert,"errorStandardBg",T($n,A.error.light,.9)),tt(A.Alert,"infoStandardBg",T($n,A.info.light,.9)),tt(A.Alert,"successStandardBg",T($n,A.success.light,.9)),tt(A.Alert,"warningStandardBg",T($n,A.warning.light,.9)),tt(A.Alert,"errorIconColor",I("palette-error-main")),tt(A.Alert,"infoIconColor",I("palette-info-main")),tt(A.Alert,"successIconColor",I("palette-success-main")),tt(A.Alert,"warningIconColor",I("palette-warning-main")),tt(A.AppBar,"defaultBg",I("palette-grey-900")),tt(A.AppBar,"darkBg",I("palette-background-paper")),tt(A.AppBar,"darkColor",I("palette-text-primary")),tt(A.Avatar,"defaultBg",I("palette-grey-600")),tt(A.Button,"inheritContainedBg",I("palette-grey-800")),tt(A.Button,"inheritContainedHoverBg",I("palette-grey-700")),tt(A.Chip,"defaultBorder",I("palette-grey-700")),tt(A.Chip,"defaultAvatarColor",I("palette-grey-300")),tt(A.Chip,"defaultIconColor",I("palette-grey-300")),tt(A.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),tt(A.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),tt(A.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),tt(A.LinearProgress,"primaryBg",T($n,A.primary.main,.5)),tt(A.LinearProgress,"secondaryBg",T($n,A.secondary.main,.5)),tt(A.LinearProgress,"errorBg",T($n,A.error.main,.5)),tt(A.LinearProgress,"infoBg",T($n,A.info.main,.5)),tt(A.LinearProgress,"successBg",T($n,A.success.main,.5)),tt(A.LinearProgress,"warningBg",T($n,A.warning.main,.5)),tt(A.Skeleton,"bg",S?T(pg,A.text.primary,.13):`rgba(${I("palette-text-primaryChannel")} / 0.13)`),tt(A.Slider,"primaryTrack",T($n,A.primary.main,.5)),tt(A.Slider,"secondaryTrack",T($n,A.secondary.main,.5)),tt(A.Slider,"errorTrack",T($n,A.error.main,.5)),tt(A.Slider,"infoTrack",T($n,A.info.main,.5)),tt(A.Slider,"successTrack",T($n,A.success.main,.5)),tt(A.Slider,"warningTrack",T($n,A.warning.main,.5));const z=S?T(Wn,A.background.default,.985):K3(A.background.default,.98);tt(A.SnackbarContent,"bg",z),tt(A.SnackbarContent,"color",Au(()=>S?vQ.text.primary:A.getContrastText(z))),tt(A.SpeedDialAction,"fabHoverBg",K3(A.background.paper,.15)),tt(A.StepConnector,"border",I("palette-grey-600")),tt(A.StepContent,"border",I("palette-grey-600")),tt(A.Switch,"defaultColor",I("palette-grey-300")),tt(A.Switch,"defaultDisabledColor",I("palette-grey-600")),tt(A.Switch,"primaryDisabledColor",T($n,A.primary.main,.55)),tt(A.Switch,"secondaryDisabledColor",T($n,A.secondary.main,.55)),tt(A.Switch,"errorDisabledColor",T($n,A.error.main,.55)),tt(A.Switch,"infoDisabledColor",T($n,A.info.main,.55)),tt(A.Switch,"successDisabledColor",T($n,A.success.main,.55)),tt(A.Switch,"warningDisabledColor",T($n,A.warning.main,.55)),tt(A.TableCell,"border",T($n,T(pg,A.divider,1),.68)),tt(A.Tooltip,"bg",T(pg,A.grey[700],.92))}Hd(A.background,"default"),Hd(A.background,"paper"),Hd(A.common,"background"),Hd(A.common,"onBackground"),Hd(A,"divider"),Object.keys(A).forEach(z=>{const j=A[z];z!=="tonalOffset"&&j&&typeof j=="object"&&(j.main&&tt(A[z],"mainChannel",$x(Wx(j.main))),j.light&&tt(A[z],"lightChannel",$x(Wx(j.light))),j.dark&&tt(A[z],"darkChannel",$x(Wx(j.dark))),j.contrastText&&tt(A[z],"contrastTextChannel",$x(Wx(j.contrastText))),z==="text"&&(Hd(A[z],"primary"),Hd(A[z],"secondary")),z==="action"&&(j.active&&Hd(A[z],"active"),j.selected&&Hd(A[z],"selected")))})}),R=e.reduce((k,A)=>ml(k,A),R);const D={prefix:a,disableCssColorScheme:r,shouldSkipGeneratingVar:o,getSelector:kwe(R),enableContrastVars:s},{vars:E,generateThemeVars:C,generateStyleSheets:P}=Mbe(R,D);return R.vars=E,Object.entries(R.colorSchemes[R.defaultColorScheme]).forEach(([k,A])=>{R[k]=A}),R.generateThemeVars=C,R.generateStyleSheets=P,R.generateSpacing=function(){return uQ(d.spacing,mU(this))},R.getColorSchemeSelector=Bbe(c),R.spacing=R.generateSpacing(),R.shouldSkipGeneratingVar=o,R.unstable_sxConfig={...b6,...d==null?void 0:d.unstable_sxConfig},R.unstable_sx=function(A){return i_({sx:A,theme:this})},R.toRuntimeSource=wQ,R}function wW(t,e,n){t.colorSchemes&&n&&(t.colorSchemes[e]={...n!==!0&&n,palette:xU({...n===!0?{}:n.palette,mode:e})})}function Pwe(t={},...e){const{palette:n,cssVariables:i=!1,colorSchemes:r=n?void 0:{light:!0},defaultColorScheme:a=n==null?void 0:n.mode,...s}=t,o=a||"light",c=r==null?void 0:r[o],u={...r,...n?{[o]:{...typeof c!="boolean"&&c,palette:n}}:void 0};if(i===!1){if(!("colorSchemes"in t))return p7(t,...e);let d=n;"palette"in t||u[o]&&(u[o]!==!0?d=u[o].palette:o==="dark"&&(d={mode:"dark"}));const h=p7({...t,palette:d},...e);return h.defaultColorScheme=o,h.colorSchemes=u,h.palette.mode==="light"&&(h.colorSchemes.light={...u.light!==!0&&u.light,palette:h.palette},wW(h,"dark",u.dark)),h.palette.mode==="dark"&&(h.colorSchemes.dark={...u.dark!==!0&&u.dark,palette:h.palette},wW(h,"light",u.light)),h}return!n&&!("light"in u)&&o==="light"&&(u.light=!0),Dwe({...s,colorSchemes:u,defaultColorScheme:o,...typeof i!="boolean"&&i},...e)}const Iwe=Pwe(),Rwe=Iwe,Lwe="$$material";function Fwe(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Owe=t=>Fwe(t)&&t!=="classes",Uwe=Owe,Mwe=xbe({themeId:Lwe,defaultTheme:Rwe,rootShouldForwardProp:Uwe}),Bwe=Mwe,zwe=Lbe,jwe=zwe;function $we(t){return Rbe(t)}function Wwe(t){return hQ("MuiSvgIcon",t)}ybe("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const qwe=t=>{const{color:e,fontSize:n,classes:i}=t,r={root:["root",e!=="inherit"&&`color${nw(e)}`,`fontSize${nw(n)}`]};return gve(r,Wwe,i)},Hwe=Bwe("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${nw(n.color)}`],e[`fontSize${nw(n.fontSize)}`]]}})(jwe(({theme:t})=>{var e,n,i,r,a,s,o,c,u,d,h,f,p,w;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(r=(e=t.transitions)==null?void 0:e.create)==null?void 0:r.call(e,"fill",{duration:(i=(n=(t.vars??t).transitions)==null?void 0:n.duration)==null?void 0:i.shorter}),variants:[{props:v=>!v.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((s=(a=t.typography)==null?void 0:a.pxToRem)==null?void 0:s.call(a,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((c=(o=t.typography)==null?void 0:o.pxToRem)==null?void 0:c.call(o,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((d=(u=t.typography)==null?void 0:u.pxToRem)==null?void 0:d.call(u,35))||"2.1875rem"}},...Object.entries((t.vars??t).palette).filter(([,v])=>v&&v.main).map(([v])=>{var b,g;return{props:{color:v},style:{color:(g=(b=(t.vars??t).palette)==null?void 0:b[v])==null?void 0:g.main}}}),{props:{color:"action"},style:{color:(f=(h=(t.vars??t).palette)==null?void 0:h.action)==null?void 0:f.active}},{props:{color:"disabled"},style:{color:(w=(p=(t.vars??t).palette)==null?void 0:p.action)==null?void 0:w.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),SQ=Z.forwardRef(function(e,n){const i=$we({props:e,name:"MuiSvgIcon"}),{children:r,className:a,color:s="inherit",component:o="svg",fontSize:c="medium",htmlColor:u,inheritViewBox:d=!1,titleAccess:h,viewBox:f="0 0 24 24",...p}=i,w=Z.isValidElement(r)&&r.type==="svg",v={...i,color:s,component:o,fontSize:c,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:f,hasSvgAsChild:w},b={};d||(b.viewBox=f);const g=qwe(v);return m(Hwe,{as:o,className:VZ(g.root,a),focusable:"false",color:u,"aria-hidden":h?void 0:!0,role:h?"img":void 0,ref:n,...b,...p,...w&&r.props,ownerState:v,children:[w?r.props.children:r,h?l("title",{children:h}):null]})});SQ.muiName="SvgIcon";const xW=SQ;function wf(t,e){function n(i,r){return l(xW,{"data-testid":void 0,ref:r,...i,children:t})}return n.muiName=xW.muiName,Z.memo(Z.forwardRef(n))}const Vwe=wf(l("path",{d:"M12 5.9c1.16 0 2.1.94 2.1 2.1s-.94 2.1-2.1 2.1S9.9 9.16 9.9 8s.94-2.1 2.1-2.1m0 9c2.97 0 6.1 1.46 6.1 2.1v1.1H5.9V17c0-.64 3.13-2.1 6.1-2.1M12 4C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4m0 9c-2.67 0-8 1.34-8 4v2c0 .55.45 1 1 1h14c.55 0 1-.45 1-1v-2c0-2.66-5.33-4-8-4"})),Gwe=wf(l("path",{d:"M3 18c0 .55.45 1 1 1h5v-2H4c-.55 0-1 .45-1 1M3 6c0 .55.45 1 1 1h9V5H4c-.55 0-1 .45-1 1m10 14v-1h7c.55 0 1-.45 1-1s-.45-1-1-1h-7v-1c0-.55-.45-1-1-1s-1 .45-1 1v4c0 .55.45 1 1 1s1-.45 1-1M7 10v1H4c-.55 0-1 .45-1 1s.45 1 1 1h3v1c0 .55.45 1 1 1s1-.45 1-1v-4c0-.55-.45-1-1-1s-1 .45-1 1m14 2c0-.55-.45-1-1-1h-9v2h9c.55 0 1-.45 1-1m-5-3c.55 0 1-.45 1-1V7h3c.55 0 1-.45 1-1s-.45-1-1-1h-3V4c0-.55-.45-1-1-1s-1 .45-1 1v4c0 .55.45 1 1 1"})),Xwe=wf(l("path",{d:"M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10c1.38 0 2.5-1.12 2.5-2.5 0-.61-.23-1.2-.64-1.67-.08-.1-.13-.21-.13-.33 0-.28.22-.5.5-.5H16c3.31 0 6-2.69 6-6 0-4.96-4.49-9-10-9m5.5 11c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m-3-4c-.83 0-1.5-.67-1.5-1.5S13.67 6 14.5 6s1.5.67 1.5 1.5S15.33 9 14.5 9M5 11.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5S7.33 13 6.5 13 5 12.33 5 11.5m6-4c0 .83-.67 1.5-1.5 1.5S8 8.33 8 7.5 8.67 6 9.5 6s1.5.67 1.5 1.5"})),Kwe=wf(l("path",{d:"M19.5 12c0-.23-.01-.45-.03-.68l1.86-1.41c.4-.3.51-.86.26-1.3l-1.87-3.23c-.25-.44-.79-.62-1.25-.42l-2.15.91c-.37-.26-.76-.49-1.17-.68l-.29-2.31c-.06-.5-.49-.88-.99-.88h-3.73c-.51 0-.94.38-1 .88l-.29 2.31c-.41.19-.8.42-1.17.68l-2.15-.91c-.46-.2-1-.02-1.25.42L2.41 8.62c-.25.44-.14.99.26 1.3l1.86 1.41c-.02.22-.03.44-.03.67s.01.45.03.68l-1.86 1.41c-.4.3-.51.86-.26 1.3l1.87 3.23c.25.44.79.62 1.25.42l2.15-.91c.37.26.76.49 1.17.68l.29 2.31c.06.5.49.88.99.88h3.73c.5 0 .93-.38.99-.88l.29-2.31c.41-.19.8-.42 1.17-.68l2.15.91c.46.2 1 .02 1.25-.42l1.87-3.23c.25-.44.14-.99-.26-1.3l-1.86-1.41c.03-.23.04-.45.04-.68m-7.46 3.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5"})),Ywe=wf(l("path",{d:"M19.29 17.29 18 16v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-1.29 1.29c-.63.63-.19 1.71.7 1.71h13.17c.9 0 1.34-1.08.71-1.71M16 17H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5zm-4 5c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2"})),_W=wf(l("path",{d:"M14.07 5.32C16.26 6 18 7.74 18.68 9.93c.19.63.76 1.07 1.41 1.07h.04c1 0 1.72-.96 1.43-1.91-.97-3.18-3.48-5.69-6.66-6.66-.94-.29-1.9.43-1.9 1.43v.04c0 .66.44 1.23 1.07 1.42m4.61 8.75c-.68 2.2-2.42 3.93-4.61 4.61-.63.19-1.07.76-1.07 1.41v.04c0 1 .96 1.72 1.91 1.43 3.18-.97 5.69-3.48 6.66-6.66.29-.95-.43-1.91-1.42-1.91h-.05c-.66.01-1.23.45-1.42 1.08M11 20.11c0-.67-.45-1.24-1.09-1.44C7.07 17.78 5 15.13 5 12s2.07-5.78 4.91-6.67c.64-.2 1.09-.77 1.09-1.44v-.01c0-1-.97-1.74-1.93-1.44C4.98 3.69 2 7.5 2 12s2.98 8.31 7.07 9.56c.96.3 1.93-.44 1.93-1.45"})),Jwe=wf(l("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m-1-4h2v2h-2zm1.61-9.96c-2.06-.3-3.88.97-4.43 2.79-.18.58.26 1.17.87 1.17h.2c.41 0 .74-.29.88-.67.32-.89 1.27-1.5 2.3-1.28.95.2 1.65 1.13 1.57 2.1-.1 1.34-1.62 1.63-2.45 2.88 0 .01-.01.01-.01.02-.01.02-.02.03-.03.05-.09.15-.18.32-.25.5-.01.03-.03.05-.04.08-.01.02-.01.04-.02.07-.12.34-.2.75-.2 1.25h2c0-.42.11-.77.28-1.07.02-.03.03-.06.05-.09.08-.14.18-.27.28-.39.01-.01.02-.03.03-.04.1-.12.21-.23.33-.34.96-.91 2.26-1.65 1.99-3.56-.24-1.74-1.61-3.21-3.35-3.47"})),Zwe=wf([l("path",{d:"M5 5h6c.55 0 1-.45 1-1s-.45-1-1-1H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h6c.55 0 1-.45 1-1s-.45-1-1-1H5z"},"0"),l("path",{d:"m20.65 11.65-2.79-2.79c-.32-.32-.86-.1-.86.35V11h-7c-.55 0-1 .45-1 1s.45 1 1 1h7v1.79c0 .45.54.67.85.35l2.79-2.79c.2-.19.2-.51.01-.7"},"1")]),Qwe=wf(l("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"})),exe=[{key:"dashboard",label:"Dashboard",Icon:_W},{key:"profile",label:"My Profile",Icon:Vwe},{key:"preferences",label:"Preferences",Icon:Gwe},{key:"theme",label:"Theme",Icon:Xwe},{key:"settings",label:"Settings",Icon:Kwe,accent:!0},{key:"notifications",label:"Notifications",Icon:Ywe},{key:"status",label:"Status",Icon:_W},{key:"help",label:"Help",Icon:Jwe},{key:"logout",label:"Logout",Icon:Zwe,danger:!0}],SW=({user:t,onLogout:e,onMyProfile:n,onSettings:i,onNotifications:r,onEditProfile:a,onDashboard:s})=>{const[o,c]=Z.useState(!1),[u,d]=Z.useState("settings"),[h,f]=Z.useState((t==null?void 0:t.status)||"Online"),[p,w]=Z.useState(!1),v=Z.useRef(null),b=Z.useRef(null),g=(t==null?void 0:t.name)||`${(t==null?void 0:t.firstName)??""} ${(t==null?void 0:t.lastName)??""}`.trim()||"User",y=(t==null?void 0:t.email)||"",_=(t==null?void 0:t.avatarUrl)||"",S=LO.useMemo(()=>{if(!g)return"U";const E=g.trim().split(" ");return E.length===1?E[0][0].toUpperCase():(E[0][0]+E[1][0]).toUpperCase()},[g]);Z.useEffect(()=>{const E=()=>{w(window.innerWidth<768)};return E(),window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]),Z.useEffect(()=>{if(!o)return;const E=C=>{b.current&&!b.current.contains(C.target)&&v.current&&!v.current.contains(C.target)&&c(!1)};return document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[o]),Z.useEffect(()=>{const E=C=>{var P;C.target.tagName==="INPUT"||C.target.tagName==="TEXTAREA"||(C.key==="Escape"&&o&&(c(!1),(P=v.current)==null||P.focus()),C.key.toLowerCase()==="p"&&(C.preventDefault(),c(k=>!k)))};return document.addEventListener("keydown",E),()=>{document.removeEventListener("keydown",E)}},[o]);const R={root:{position:"relative",fontFamily:'"Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif'},trigger:{display:"inline-flex",alignItems:"center",gap:p?6:8,padding:p?"4px 8px 4px 4px":"4px 10px 4px 4px",borderRadius:999,border:"1px solid rgba(148,163,184,0.55)",background:"#ffffff",cursor:"pointer",minWidth:0,boxShadow:o?"0 10px 30px rgba(15,23,42,0.18)":"0 4px 16px rgba(15,23,42,0.10)",transition:"border-color 120ms ease, box-shadow 120ms ease, transform 80ms ease"},triggerHover:{borderColor:"rgba(74,222,128,0.8)",transform:"translateY(-1px)"},avatarWrap:{position:"relative",width:p?28:32,height:p?28:32,borderRadius:999,overflow:"hidden",background:"radial-gradient(circle at 0 0, #22c55e, #16a34a 40%, #166534 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#ecfdf3",fontWeight:600,fontSize:p?11:13,flexShrink:0},avatarImg:{width:"100%",height:"100%",objectFit:"cover"},statusDot:{position:"absolute",right:-1,bottom:-1,width:p?8:10,height:p?8:10,borderRadius:999,border:"2px solid #f9fafb",backgroundColor:h==="Online"?"#22c55e":"#9ca3af"},triggerText:{display:p?"none":"flex",flexDirection:"column",alignItems:"flex-start",maxWidth:170,lineHeight:1.1},triggerName:{fontSize:13,fontWeight:600,color:"#020617",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},triggerEmail:{marginTop:1,fontSize:11,color:"#6b7280",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},caret:{marginLeft:p?2:4,fontSize:12,color:"#9ca3af",transform:o?"rotate(-180deg)":"rotate(0deg)",transition:"transform 150ms ease",display:p?"none":"block"},menu:{position:p?"fixed":"absolute",right:p?"50%":0,top:p?"50%":"auto",transform:p?`translate(50%, -50%) scale(${o?1:.97})`:`scale(${o?1:.97})`,marginTop:p?0:10,minWidth:p?"90vw":320,maxWidth:p?"400px":"auto",background:"#ffffff",borderRadius:p?20:28,boxShadow:"0 32px 80px rgba(15,23,42,0.35), 0 0 0 1px rgba(209,213,219,0.5)",padding:p?14:18,zIndex:60,transformOrigin:p?"center":"top right",opacity:o?1:0,pointerEvents:o?"auto":"none",transition:"opacity 120ms ease, transform 120ms cubic-bezier(0.16, 1, 0.3, 1)",maxHeight:p?"85vh":"auto",overflowY:p?"auto":"visible"},header:{display:"flex",alignItems:"center",gap:12,marginBottom:16},headerAvatar:{position:"relative",width:p?36:40,height:p?36:40,borderRadius:999,overflow:"hidden",background:"radial-gradient(circle at 0 0, #22c55e, #16a34a 40%, #166534 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"#ecfdf3",fontWeight:600,fontSize:p?14:16,flexShrink:0},headerText:{flex:1,minWidth:0},headerName:{fontSize:p?13:14,fontWeight:600,color:"#020617"},headerEmail:{marginTop:2,fontSize:p?11:12,color:"#6b7280",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},headerRightIcon:{fontSize:18,color:"#cbd5e1"},subtleDivider:{height:1,width:"100%",margin:"6px 0 10px",background:"linear-gradient(90deg, transparent, rgba(226,232,240,1), transparent)"},list:{display:"flex",flexDirection:"column",gap:4},row:(E,C,P)=>({display:"flex",alignItems:"center",gap:10,borderRadius:14,padding:p?"10px":"8px 10px",cursor:"pointer",background:C?"rgba(187,247,208,0.9)":"transparent",color:P?"#b91c1c":"#111827",transition:"background 120ms ease, transform 80ms ease",minHeight:p?44:"auto"}),rowHoverBg:"rgba(240,253,244,0.9)",iconWrap:(E,C)=>({width:p?32:26,height:p?32:26,borderRadius:999,display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,background:C?"#16a34a":E?"rgba(22,163,74,0.08)":"transparent",color:C?"#f0fdf4":"#111827"}),labelCol:{flex:1,minWidth:0,display:"flex",flexDirection:"column"},label:{fontSize:p?14:13,fontWeight:500},subLabel:{fontSize:p?12:11,color:"#9ca3af",marginTop:1},rightHint:{fontSize:10,color:"#9ca3af"},footerNote:{marginTop:12,fontSize:10,color:"#9ca3af",textAlign:"left"}},D=E=>{if(d(E),E==="dashboard")s&&s();else if(E==="profile")n&&n();else if(E==="preferences")a&&a();else if(E==="settings")i&&i();else if(E==="notifications")r&&r();else if(E==="logout")e&&e();else if(E==="status"){f(C=>C==="Online"?"Away":"Online");return}E!=="status"&&c(!1)};return m("div",{style:R.root,children:[m("button",{ref:v,style:R.trigger,onClick:()=>c(!o),onMouseEnter:E=>Object.assign(E.currentTarget.style,R.triggerHover),onMouseLeave:E=>{E.currentTarget.style.borderColor="rgba(148,163,184,0.55)",E.currentTarget.style.transform="translateY(0)"},"aria-label":"User menu","aria-expanded":o,children:[m("div",{style:R.avatarWrap,children:[_?l("img",{src:_,alt:g,style:R.avatarImg}):l("span",{children:S}),l("div",{style:R.statusDot})]}),m("div",{style:R.triggerText,children:[l("div",{style:R.triggerName,children:g}),l("div",{style:R.triggerEmail,children:y})]}),l("span",{style:R.caret,children:""})]}),m("div",{ref:b,style:R.menu,children:[m("div",{style:R.header,children:[m("div",{style:R.headerAvatar,children:[_?l("img",{src:_,alt:g,style:R.avatarImg}):l("span",{children:S}),l("div",{style:R.statusDot})]}),m("div",{style:R.headerText,children:[l("div",{style:R.headerName,children:g}),l("div",{style:R.headerEmail,children:y})]}),l(Qwe,{style:R.headerRightIcon})]}),l("div",{style:R.subtleDivider}),l("div",{style:R.list,children:exe.map(({key:E,label:C,Icon:P,accent:k,danger:A})=>{const I=E===u;return m("div",{style:R.row(k,I,A),onClick:()=>D(E),onMouseEnter:T=>{!I&&!A&&(T.currentTarget.style.background=R.rowHoverBg)},onMouseLeave:T=>{I||(T.currentTarget.style.background="transparent")},role:"button",tabIndex:0,onKeyDown:T=>{(T.key==="Enter"||T.key===" ")&&(T.preventDefault(),D(E))},children:[l("div",{style:R.iconWrap(k,I),children:l(P,{style:{fontSize:p?20:18}})}),m("div",{style:R.labelCol,children:[l("div",{style:R.label,children:C}),E==="status"&&l("div",{style:R.subLabel,children:h})]}),E==="profile"&&l("span",{style:R.rightHint,children:"P"})]},E)})}),m("div",{style:R.footerNote,children:["Press ",l("strong",{children:"ESC"})," to close  ",l("strong",{children:"P"})," to toggle"]})]})]})},txe=()=>{const[t,e]=Z.useState(!1),[n,i]=Z.useState(!1),[r,a]=Z.useState(!0),[s,o]=Z.useState(0),c=Wm(),u=Gi(),{isAuthenticated:d,user:h,logout:f}=Hr(),p=[{path:"/",label:"Home"},{path:"/news",label:"Newsroom"},{path:"/networking-arena",label:"Networking Arena"},{path:"/jobs",label:"Job Portal"},{path:"/forum",label:"Discussion Forum"},{path:"/learning",label:"Learning Centre"},{path:"/publishing",label:"Publishing House"}],w=()=>h?h.firstName&&h.lastName?`${h.firstName[0]}${h.lastName[0]}`.toUpperCase():h.displayName?h.displayName.trim().split(" ").slice(0,2).map(N=>N[0].toUpperCase()).join(""):h.email?h.email[0].toUpperCase():"U":"U",v=()=>h?h.firstName&&h.lastName?`${h.firstName} ${h.lastName}`:h.displayName?h.displayName:h.email?h.email.split("@")[0]:"User":"";w(),v();const b=S=>S==="/"?c.pathname==="/":c.pathname.startsWith(S);Z.useEffect(()=>{const S=()=>{const N=window.scrollY;i(N>10),N>s&&N>120?a(!1):a(!0),o(N)};return window.addEventListener("scroll",S,{passive:!0}),()=>window.removeEventListener("scroll",S)},[s]),Z.useEffect(()=>(document.body.style.overflow=t?"hidden":"",()=>{document.body.style.overflow=""}),[t]);const g=async()=>{await f(),e(!1),u("/login")},y={navbar:{position:"fixed",top:0,left:0,right:0,zIndex:50,transform:`translateY(${r?"0":"-100%"})`,transition:"transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), background 0.25s ease, box-shadow 0.25s ease"},navbarInner:{background:n?"rgba(248,250,252,0.98)":"rgba(248,250,252,0.95)",backdropFilter:"blur(18px)",WebkitBackdropFilter:"blur(18px)",borderBottom:"1px solid rgba(148,163,184,0.28)",boxShadow:n?"0 16px 35px rgba(15,23,42,0.18)":"0 6px 18px rgba(15,23,42,0.1)"},navContainer:{maxWidth:"1280px",margin:"0 auto",padding:"0 clamp(0.75rem, 3vw, 1.5rem)"},navRow:{display:"flex",alignItems:"center",justifyContent:"flex-start",gap:"1.5rem",height:"70px",width:"100%"},logoLink:{display:"flex",alignItems:"center",gap:"0.75rem",textDecoration:"none",cursor:"pointer",flexShrink:0},logoBadge:{width:"50px",height:"50px",borderRadius:"8px",background:"transparent",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",flexShrink:0},logoImg:{width:"100%",height:"100%",objectFit:"contain"},logoTextGroup:{display:"flex",flexDirection:"column",gap:"2px"},logoTitle:{fontSize:"1rem",fontWeight:700,letterSpacing:"0.01em",background:"linear-gradient(120deg, #4b5563, #111827)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",whiteSpace:"nowrap"},logoSubtitle:{fontSize:"0.625rem",fontWeight:600,letterSpacing:"0.15em",textTransform:"uppercase",color:"#6b7280",whiteSpace:"nowrap"},navLinksDesktop:{display:"flex",flex:1,justifyContent:"center",marginLeft:"2rem",marginRight:"2rem"},navList:{display:"flex",alignItems:"center",gap:"0.25rem",padding:"0.35rem",borderRadius:"999px",background:"rgba(255,255,255,0.95)",border:"1px solid rgba(148,163,184,0.3)",listStyle:"none",margin:0,boxShadow:"0 2px 8px rgba(15,23,42,0.08)"},navLink:S=>({position:"relative",display:"inline-flex",alignItems:"center",justifyContent:"center",padding:"0.5rem 1rem",borderRadius:"999px",fontSize:"0.8125rem",fontWeight:600,letterSpacing:"0.01em",color:S?"#0f172a":"#4b5563",textDecoration:"none",overflow:"hidden",background:S?"#ffffff":"transparent",boxShadow:S?"0 4px 12px rgba(15,23,42,0.15)":"none",transition:"all 0.2s ease",whiteSpace:"nowrap",pointerEvents:"auto",cursor:"pointer"}),navRight:{display:"flex",alignItems:"center",gap:"0.75rem",flexShrink:0,marginLeft:"auto"},authBtn:{borderRadius:"999px",padding:"0.5rem 1.25rem",fontSize:"0.8125rem",fontWeight:600,border:"1px solid transparent",cursor:"pointer",textDecoration:"none",display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",transition:"all 0.2s ease",whiteSpace:"nowrap"},authGhost:{background:"transparent",color:"#4b5563",borderColor:"rgba(148,163,184,0.7)"},authPrimary:{background:"linear-gradient(135deg, #0f172a, #4b5563)",color:"#ffffff",boxShadow:"0 8px 20px rgba(15,23,42,0.55)"},avatar:{width:"clamp(28px, 6vw, 32px)",height:"clamp(28px, 6vw, 32px)",borderRadius:"999px",background:"linear-gradient(135deg, #4b5563, #020617)",display:"flex",alignItems:"center",justifyContent:"center",color:"#ffffff",fontSize:"clamp(0.7rem, 1.4vw, 0.8rem)",fontWeight:700},hamburger:{display:"none",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"40px",height:"40px",background:"rgba(255,255,255,0.95)",border:"1px solid rgba(148,163,184,0.4)",borderRadius:"10px",cursor:"pointer",gap:"5px",padding:0,transition:"all 0.2s ease",flexShrink:0},hamburgerLine:{width:"22px",height:"2.5px",background:"#4b5563",borderRadius:"2px",transition:"all 0.3s ease"},overlay:{position:"fixed",inset:0,background:"rgba(15,23,42,0.45)",backdropFilter:"blur(3px)",zIndex:30},mobileSheet:{position:"fixed",top:"clamp(56px, 12vw, 72px)",left:0,right:0,bottom:0,background:"linear-gradient(135deg, #f8fafc, #e5e7eb)",transform:`translateX(${t?"0":"100%"})`,transition:"transform 0.28s cubic-bezier(0.4, 0, 0.2, 1)",zIndex:40,overflowY:"auto"},mobileInner:{maxWidth:"100%",width:"100%",height:"100%",background:"rgba(255,255,255,0.97)",padding:"clamp(1rem, 3vw, 1.25rem)"},mobileNavList:{listStyle:"none",display:"flex",flexDirection:"column",gap:"clamp(0.5rem, 1.5vw, 0.6rem)",marginTop:"0.75rem"},mobileNavLink:S=>({display:"flex",alignItems:"center",gap:"0.65rem",padding:"clamp(0.5rem, 2vw, 0.65rem) clamp(0.7rem, 2.5vw, 0.9rem)",borderRadius:"0.85rem",textDecoration:"none",fontSize:"clamp(0.8rem, 2vw, 0.86rem)",fontWeight:600,color:S?"#0f172a":"#4b5563",background:"rgba(248,250,252,0.97)",border:S?"1px solid rgba(15,23,42,0.4)":"1px solid transparent",boxShadow:S?"0 6px 18px rgba(15,23,42,0.45)":"none",transition:"all 0.18s ease",pointerEvents:"auto",cursor:"pointer"}),mobileFooter:{marginTop:"1.4rem",borderTop:"1px solid rgba(226,232,240,0.9)",paddingTop:"1rem",display:"flex",flexDirection:"column",gap:"0.6rem"},mobileAuthBtn:{width:"100%",borderRadius:"0.9rem",padding:"clamp(0.5rem, 2vw, 0.65rem) 0.9rem",fontSize:"clamp(0.8rem, 2vw, 0.86rem)",fontWeight:600,border:"1px solid transparent",textAlign:"center",textDecoration:"none",transition:"all 0.2s ease"}};return m(vt,{children:[l("style",{children:`
    @media (min-width: 1200px) {
      .nav-links-desktop {
        display: flex !important;
      }
      .hamburger-btn {
        display: none !important;
      }
      .mobile-only-auth {
        display: none !important;
      }
    }
    
    @media (max-width: 1199px) {
      .nav-links-desktop {
        display: none !important;
      }
      .hamburger-btn {
        display: flex !important;
      }
      .desktop-only-auth {
        display: none !important;
      }
    }
    
    @media (max-width: 768px) {
      .logo-subtitle {
        display: none !important;
      }
    }
    
    @media (max-width: 640px) {
      .logo-text-group {
        display: none !important;
      }
    }
  `}),t&&l("div",{style:y.overlay,onClick:()=>e(!1)}),l("nav",{style:y.navbar,children:l("div",{style:y.navbarInner,children:l("div",{style:y.navContainer,children:m("div",{style:y.navRow,children:[m(pn,{to:"/",style:y.logoLink,children:[l("div",{style:y.logoBadge,children:l("img",{src:hve.logo,alt:"Logo",style:y.logoImg,onError:S=>{S.target.style.display="none"}})}),m("div",{style:y.logoTextGroup,className:"logo-text-group",children:[l("div",{style:y.logoTitle,children:"Planning Insights"}),l("div",{style:y.logoSubtitle,children:"Professional Network"})]})]}),l("div",{className:"nav-links-desktop",children:l("ul",{style:y.navList,children:p.map(S=>l("li",{children:l(pn,{to:S.path,style:y.navLink(b(S.path)),onClick:()=>e(!1),children:S.label})},S.path))})}),m("div",{style:y.navRight,children:[d?l(vt,{children:l("div",{className:"desktop-only-auth",children:l(SW,{user:h,onLogout:g,onDashboard:()=>u("/dashboard"),onMyProfile:()=>u("/profile"),onSettings:()=>u("/settings"),onNotifications:()=>u("/notifications"),onEditProfile:()=>u("/profile/edit")})})}):m("div",{style:{display:"flex",gap:"0.5rem"},className:"desktop-only-auth",children:[l(pn,{to:"/login",style:{...y.authBtn,...y.authGhost},children:"Login"}),l(pn,{to:"/signup",style:{...y.authBtn,...y.authPrimary},children:"Sign Up"})]}),m("button",{style:y.hamburger,className:"hamburger-btn",onClick:()=>e(!t),"aria-label":"Toggle menu",children:[l("span",{style:{...y.hamburgerLine,transform:t?"rotate(45deg) translateY(6px)":"none"}}),l("span",{style:{...y.hamburgerLine,opacity:t?0:1}}),l("span",{style:{...y.hamburgerLine,transform:t?"rotate(-45deg) translateY(-6px)":"none"}})]})]})]})})})}),l("div",{style:y.mobileSheet,children:m("div",{style:y.mobileInner,children:[l("ul",{style:y.mobileNavList,children:p.map(S=>l("li",{children:l(pn,{to:S.path,style:y.mobileNavLink(b(S.path)),onClick:()=>e(!1),children:S.label})},S.path))}),d?l("div",{style:y.mobileFooter,className:"mobile-only-auth",children:l("div",{style:{padding:"0.5rem 0"},children:l(SW,{user:h,onLogout:g,onDashboard:()=>{u("/dashboard"),e(!1)},onMyProfile:()=>{u("/profile"),e(!1)},onSettings:()=>{u("/settings"),e(!1)},onNotifications:()=>{u("/notifications"),e(!1)},onEditProfile:()=>{u("/profile/edit"),e(!1)}})})}):m("div",{style:y.mobileFooter,className:"mobile-only-auth",children:[l(pn,{to:"/login",style:{...y.mobileAuthBtn,...y.authGhost},onClick:()=>e(!1),children:"Login"}),l(pn,{to:"/signup",style:{...y.mobileAuthBtn,...y.authPrimary},onClick:()=>e(!1),children:"Sign Up"})]})]})})]})};var nxe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ixe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rxe=(t,e)=>{const n=Z.forwardRef(({color:i="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:s,children:o,...c},u)=>Z.createElement("svg",{ref:u,...nxe,width:r,height:r,stroke:i,strokeWidth:s?Number(a)*24/Number(r):a,className:`lucide lucide-${ixe(t)}`,...c},[...e.map(([d,h])=>Z.createElement(d,h)),...(Array.isArray(o)?o:[o])||[]]));return n.displayName=`${t}`,n};var dt=rxe;const AW=dt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),z0=dt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),n4=dt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),hf=dt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),Ec=dt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),NW=dt("ArrowUpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]),Rm=dt("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),qP=dt("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),axe=dt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),sxe=dt("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),MN=dt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),rw=dt("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),Gh=dt("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]),WC=dt("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]),Ni=dt("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),oxe=dt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),D5=dt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),ua=dt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),lxe=dt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),cxe=dt("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]),Gn=dt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),qC=dt("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),uxe=dt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),_U=dt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),dxe=dt("ChevronsUp",[["path",{d:"m17 11-5-5-5 5",key:"e8nh98"}],["path",{d:"m17 18-5-5-5 5",key:"2avn1x"}]]),hxe=dt("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]),ar=dt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),fxe=dt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),SU=dt("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),AQ=dt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),kW=dt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),i4=dt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),CW=dt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Pa=dt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),pxe=dt("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),xn=dt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),EW=dt("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]),vc=dt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),NQ=dt("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]),j0=dt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),ff=dt("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]),kQ=dt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),HP=dt("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),AU=dt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),Qh=dt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),mxe=dt("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),gxe=dt("Landmark",[["line",{x1:"3",x2:"21",y1:"22",y2:"22",key:"j8o0r"}],["line",{x1:"6",x2:"6",y1:"18",y2:"11",key:"10tf0k"}],["line",{x1:"10",x2:"10",y1:"18",y2:"11",key:"54lgf6"}],["line",{x1:"14",x2:"14",y1:"18",y2:"11",key:"380y"}],["line",{x1:"18",x2:"18",y1:"18",y2:"11",key:"1kevvc"}],["polygon",{points:"12 2 20 7 4 7",key:"jkujk7"}]]),yxe=dt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),vxe=dt("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]),bxe=dt("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),CQ=dt("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),wxe=dt("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),aw=dt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),xxe=dt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),sw=dt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),sr=dt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),m7=dt("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),TW=dt("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]),sc=dt("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),vl=dt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),_xe=dt("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),Sxe=dt("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),g7=dt("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]),DW=dt("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]),EQ=dt("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]),sd=dt("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),l_=dt("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),HC=dt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),VP=dt("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),ru=dt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),S0=dt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),PW=dt("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]),y7=dt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),TQ=dt("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]),Ia=dt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),BN=dt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),VC=dt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ew=dt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),c_=dt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),GP=dt("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),Axe=dt("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]),DQ=dt("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]),PQ=dt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),ca=dt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Nxe=dt("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),GC=dt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),kxe=dt("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22h0a3.13 3.13 0 0 1-3-3.88Z",key:"s6e0r"}]]),ow=dt("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]),ny=dt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Cxe=dt("Trees",[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16v0H5v0h0a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"yh07w9"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]]),cs=dt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),r4=dt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),Exe=dt("Truck",[["path",{d:"M10 17h4V5H2v12h3",key:"1jq12e"}],["path",{d:"M20 17h2v-3.34a4 4 0 0 0-1.17-2.83L19 9h-5",key:"1xb3ft"}],["path",{d:"M14 17h1",key:"nufu4t"}],["circle",{cx:"7.5",cy:"17.5",r:"2.5",key:"a7aife"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),Xh=dt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),XC=dt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]),_m=dt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Txe=dt("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),Is=dt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Zt=dt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),oo=dt("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),ao=dt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Fn=dt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Dxe=dt("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]),k6=dt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);const Pxe=()=>{const t=new Date().getFullYear(),[e,n]=Z.useState(""),[i,r]=Z.useState(!1);return l("footer",{className:"footer-horizontal",children:m("div",{className:"footer-container-horizontal",children:[m("div",{className:"footer-grid-horizontal",children:[m("div",{className:"footer-column-horizontal",children:[l("h3",{className:"footer-heading-horizontal",children:"About us"}),l("p",{className:"footer-tagline-horizontal",children:"Plan. Learn. Collaborate."}),m("p",{className:"footer-description-horizontal",children:[l("strong",{children:"Planning Insights"})," is a digital knowledge ecosystem for the built environment, designed to connect education, research, and professional practice on a single, integrated platform. We enable collaboration among students, educators, researchers, urban planners, architects, "," ",l(pn,{to:"/about",className:"footer-read-more-horizontal",children:"Read more"})]})]}),m("div",{className:"footer-column-horizontal",children:[l("h3",{className:"footer-heading-horizontal",children:"Important"}),m("ul",{className:"footer-links-horizontal",children:[l("li",{children:l(pn,{to:"/privacy-policy",children:"Privacy Policy"})}),l("li",{children:l(pn,{to:"/terms-of-use",children:"Terms of Use"})}),l("li",{children:l(pn,{to:"/disclaimer",children:"Disclaimer"})})]})]}),m("div",{className:"footer-column-horizontal",children:[l("h3",{className:"footer-heading-horizontal",children:"Contact us"}),m("ul",{className:"footer-contact-list-horizontal",children:[m("li",{className:"footer-contact-item-horizontal",children:[l(sr,{size:16}),l("span",{children:"Nashik"})]}),m("li",{className:"footer-contact-item-horizontal",children:[l(sr,{size:16}),l("span",{children:"Maharashtra(India)"})]}),m("li",{className:"footer-contact-item-horizontal",children:[l(sw,{size:16}),l("a",{href:"mailto:contact@theplanninginsights.com",children:"contact@theplanninginsights.com"})]}),m("li",{className:"footer-contact-item-horizontal",children:[l(HC,{size:16}),l("a",{href:"tel:+919022311897",children:"+91 8600050170"})]})]}),m("div",{className:"footer-social-links-horizontal",children:[l("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"C:\\Users\\Lenovo\\Desktop\\planning insight data\\Planning-Insights 2\\frontend\\public\\assets\\images\\icons\\Facebook.png","aria-label":"Facebook",children:l(pxe,{size:18})}),l("a",{href:"https://www.instagram.com/planninginsights?igsh=MjVsaTlsa29qc2d5",target:"_blank",rel:"noopener noreferrer",className:"C:\\Users\\Lenovo\\Desktop\\planning insight data\\Planning-Insights 2\\frontend\\public\\assets\\images\\icons\\Instagram.png","aria-label":"Instagram",children:l(mxe,{size:18})}),l("a",{href:"https://youtube.com/@planninginsights1969?si=ef2dA70yTeP1cdgW",target:"_blank",rel:"noopener noreferrer",className:"C:\\Users\\Lenovo\\Desktop\\planning insight data\\Planning-Insights 2\\frontend\\public\\assets\\images\\icons\\Youtube.png","aria-label":"YouTube",children:l(Dxe,{size:18})}),l("a",{href:"https://www.linkedin.com/in/planning-insights/?lipi=urn%3Ali%3Apage%3Ad_flagship3_profile_view_base_contact_details%3BZAAfeJV4SyuFw9eJknYnvg%3D%3Dm",target:"_blank",rel:"noopener noreferrer",className:"C:\\Users\\Lenovo\\Desktop\\planning insight data\\Planning-Insights 2\\frontend\\public\\assets\\images\\icons\\Linkedin.png","aria-label":"LinkedIn",children:l(wxe,{size:18})}),l("a",{href:"x.com",target:"_blank",rel:"noopener noreferrer",className:"C:\\Users\\Lenovo\\Desktop\\planning insight data\\Planning-Insights 2\\frontend\\public\\assets\\images\\icons\\X.png","aria-label":"X",children:l(sc,{size:18})})]})]}),m("div",{className:"footer-column-horizontal footer-newsletter-horizontal",children:[l("h3",{className:"footer-heading-horizontal",children:"Subscribe to Our Newsletter"}),i?l("div",{className:"subscribe-success-horizontal",children:" Successfully subscribed!"}):m("form",{onSubmit:s=>{s.preventDefault(),e&&(console.log("Subscribing email:",e),r(!0),n(""),setTimeout(()=>r(!1),3e3))},className:"newsletter-form-horizontal",children:[l("input",{type:"email",placeholder:"email address",value:e,onChange:s=>n(s.target.value),className:"newsletter-input-horizontal",required:!0}),l("button",{type:"submit",className:"newsletter-btn-horizontal",children:"Subscribe"})]})]})]}),l("div",{className:"footer-divider-horizontal"}),l("div",{className:"footer-bottom-horizontal",children:m("div",{className:"footer-bottom-content-horizontal",children:[l("div",{className:"footer-bottom-left",children:m("p",{className:"copyright-text-horizontal",children:["Copyright  ",t," | ",l(pn,{to:"/",className:"copyright-link-horizontal",children:"Planning Insights"})," | All Rights Reserved"]})}),l("div",{className:"footer-bottom-center",children:l("img",{src:"https://i.creativecommons.org/l/by-nc-nd/4.0/88x31.png",alt:"Creative Commons License",className:"license-badge-horizontal"})}),l("div",{className:"footer-bottom-right",children:m("p",{className:"license-text-horizontal",children:["The content on this site is licensed under a"," ",l("a",{href:"https://creativecommons.org/licenses/by-nc-nd/4.0/",target:"_blank",rel:"noopener noreferrer",className:"license-link-horizontal",children:"Creative Commons Attribution Non-Commercial-No-Derivatives 4.0 International License"})," ","except where otherwise noted"]})})]})})]})})},IW=({children:t})=>{const[e,n]=Z.useState(!0),[i,r]=Z.useState(!1);Z.useEffect(()=>{a()},[]);const a=async()=>{const s=localStorage.getItem("adminToken")||localStorage.getItem("authToken");if(console.log(" ProtectedAdminRoute - Checking auth..."),console.log(" Token exists:",!!s),!s){console.log(" No token found - BLOCKING ACCESS"),n(!1),r(!1);return}console.log(" Token found, verifying with backend...");try{const o=await fetch("https://planninginsight-backend.vercel.app/auth/me",{headers:{Authorization:`Bearer ${s}`}});if(console.log(" Backend response status:",o.status),!o.ok){console.log(" Token invalid - BLOCKING ACCESS"),localStorage.removeItem("authToken"),r(!1),n(!1);return}const c=await o.json();console.log(" User role:",c.role),c.role==="admin"?(console.log(" Admin verified - GRANTING ACCESS"),r(!0)):(console.log(" Not admin - BLOCKING ACCESS"),localStorage.removeItem("authToken"),r(!1))}catch(o){console.error(" Auth check failed:",o),localStorage.removeItem("authToken"),r(!1)}finally{n(!1)}};return e?m("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"#EEF3CE"},children:[m("div",{style:{textAlign:"center"},children:[l("div",{style:{width:"50px",height:"50px",border:"4px solid #524393",borderTopColor:"transparent",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 1rem"}}),l("p",{style:{color:"#524393",fontWeight:600},children:"Verifying access..."})]}),l("style",{children:`
          @keyframes spin {
            to { transform: rotate(360deg); }
          }
        `})]}):i?t:l(OY,{to:"/admin/login",replace:!0})};const Ixe=()=>{var oe;const{isAuthenticated:t,user:e}=Hr(),{showNotification:n}=vo(),i=Gi(),[r,a]=Z.useState(""),[s,o]=Z.useState(0),[c,u]=Z.useState(0),[d,h]=Z.useState({x:0,y:0}),[f,p]=Z.useState(!1),[w,v]=Z.useState(!1),[b,g]=Z.useState(null),[y,_]=Z.useState(!1),[S,N]=Z.useState(0),[R,D]=Z.useState(!1),[E,C]=Z.useState(0),[P,k]=Z.useState(0),[A,I]=Z.useState(!1),[T,z]=Z.useState(!1),[j,W]=Z.useState({jobs:0,courses:0,professionals:0,publications:0}),[$,q]=Z.useState([{id:1,name:"Rahul Sharma",points:0,avatar:"",badge:"Expert"},{id:2,name:"Priya Patel",points:10230,avatar:"",badge:"Pro"},{id:3,name:"Amit Kumar",points:9876,avatar:"",badge:"Advanced"},{id:4,name:"Sneha Singh",points:8945,avatar:"",badge:"Expert"},{id:5,name:"Vikas Gupta",points:7654,avatar:"",badge:"Pro"}]),G=Z.useRef(null),B=Z.useRef(null);Z.useEffect(()=>()=>{document.body.style.overflow="auto"},[]),Z.useEffect(()=>{let pe=!1;const Se=()=>{pe||(window.requestAnimationFrame(()=>{const De=document.documentElement.scrollHeight-window.innerHeight,Ve=window.scrollY/De*100;u(Ve),p(window.scrollY>400),pe=!1}),pe=!0)};return window.addEventListener("scroll",Se,{passive:!0}),()=>window.removeEventListener("scroll",Se)},[]),Z.useEffect(()=>{const pe=Se=>{h({x:Se.clientX/window.innerWidth*100,y:Se.clientY/window.innerHeight*100})};return window.addEventListener("mousemove",pe),()=>window.removeEventListener("mousemove",pe)},[]),Z.useEffect(()=>{const pe={threshold:.15,rootMargin:"0px 0px -100px 0px"},Se=de=>{de.forEach((Me,Fe)=>{Me.isIntersecting&&setTimeout(()=>{Me.target.classList.add("animate-in")},Fe*100)})},De=new IntersectionObserver(Se,pe),Ve=document.querySelectorAll(".animate-on-scroll");return Ve.forEach(de=>De.observe(de)),()=>{Ve.forEach(de=>De.unobserve(de))}},[]),Z.useEffect(()=>{const pe=setInterval(()=>{o(Se=>(Se+1)%te.length)},4500);return()=>clearInterval(pe)},[]),Z.useEffect(()=>{if(!A){const pe=setInterval(()=>{N(Se=>(Se+1)%Ce.length)},5e3);return()=>clearInterval(pe)}},[A]);const L=pe=>{pe.preventDefault(),r.trim()&&n(`Searching for "${r}"`,"info")},M=()=>{window.scrollTo({top:0,behavior:"smooth"})},K=pe=>{g(pe),v(!0),document.body.style.overflow="hidden"},Q=()=>{v(!1),g(null),document.body.style.overflow="auto"},V=pe=>{Q(),i(pe)},le=()=>{z(!0),document.body.style.overflow="hidden"},ge=()=>{z(!1),document.body.style.overflow="auto"},ye=pe=>{D(!0),C(pe.touches[0].clientX),I(!0)},be=pe=>{R&&k(pe.touches[0].clientX)},Le=()=>{if(!R)return;D(!1);const pe=E-P,Se=50;Math.abs(pe)>Se&&(pe>0?N(De=>De===Ce.length-1?0:De+1):N(De=>De===0?Ce.length-1:De-1)),C(0),k(0),setTimeout(()=>{I(!1)},3e3)},ue=pe=>{D(!0),C(pe.clientX),I(!0)},ke=pe=>{R&&k(pe.clientX)},X=()=>{if(!R)return;D(!1);const pe=E-P,Se=50;Math.abs(pe)>Se&&(pe>0?N(De=>De===Ce.length-1?0:De+1):N(De=>De===0?Ce.length-1:De-1)),C(0),k(0),setTimeout(()=>{I(!1)},3e3)},re=()=>{I(!0)},Ee=()=>{R||I(!1)},ne=pe=>{N(pe),I(!0),setTimeout(()=>{I(!1)},3e3)},te=[{icon:Ni,title:"Job Portal",description:"Connect with top opportunities in urban planning and built environment sectors",path:"/jobs",color:"#2563eb",stats:"2,500+ Jobs",gradient:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",details:"Access verified job listings from leading companies across urban planning, architecture, and infrastructure sectors.",features:["AI-Powered Job Matching","Resume Builder","Interview Preparation","Salary Insights","Career Path Recommendations"]},{icon:Gh,title:"Learning Centre",description:"Master new skills with expert-led courses and professional certifications",path:"/learning",color:"#059669",stats:"450+ Courses",gradient:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",details:"Upskill with industry-recognized courses taught by leading experts.",features:["Expert Instructors","Hands-On Projects","Industry Certifications","Flexible Learning","Lifetime Access"]},{icon:xn,title:"Publishing House",description:"Access peer-reviewed research and contribute to the knowledge base",path:"/publishing",color:"#dc2626",stats:"890+ Publications",gradient:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",details:"Explore cutting-edge research papers, case studies, and whitepapers.",features:["Peer-Reviewed Content","Research Database","Publish Your Work","Citation Tools","Academic Networking"]},{icon:vl,title:"Newsroom",description:"Stay informed with industry insights and trending discussions",path:"/news",color:"#7c3aed",stats:"Daily Updates",gradient:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)",details:"Get the latest news, trends, and insights from the urban planning industry.",features:["Daily News Updates","Expert Analysis","Industry Reports","Trend Forecasts","Newsletter Subscriptions"]},{icon:Zt,title:"Discussion Forum",description:"Network with professionals and solve real-world challenges together",path:"/forum",color:"#ea580c",stats:"15K+ Members",gradient:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",details:"Join a vibrant community of professionals, students, and experts.",features:["Active Community","Q&A Forums","Expert Mentorship","Networking Events","Private Messaging"]}],ae=[{id:1,title:"Senior Urban Planner",company:"City Development Authority",location:"New Delhi, India",type:"Full-time",salary:"12-18 LPA",deadline:"2025-12-15",logo:"",urgent:!0},{id:2,title:"Sustainability Consultant",company:"GreenBuild Solutions",location:"Bangalore, India",type:"Contract",salary:"10-15 LPA",deadline:"2025-12-20",logo:"",urgent:!1},{id:3,title:"Transportation Engineer",company:"Metro Infrastructure Ltd",location:"Mumbai, India",type:"Full-time",salary:"15-22 LPA",deadline:"2025-12-25",logo:"",urgent:!1}],xe=[{id:1,title:"Smart City Planning & IoT Integration",instructor:"Dr. Priya Sharma",duration:"6 weeks",students:1247,rating:4.8,level:"Intermediate",image:""},{id:2,title:"Sustainable Architecture Practices",instructor:"Prof. Rajesh Kumar",duration:"8 weeks",students:893,rating:4.6,level:"Advanced",image:""},{id:3,title:"Urban Data Analytics with Python",instructor:"Dr. Anjali Patel",duration:"4 weeks",students:567,rating:4.9,level:"Beginner",image:""}],Ce=[{id:1,name:"Rahul Mehta",role:"Urban Planner",company:"Smart Cities Mission",content:"Planning Insights helped me secure my dream role within weeks. The platform's AI-powered matching is incredibly precise.",rating:5,avatar:""},{id:2,name:"Sneha Patel",role:"Architecture Student",company:"IIT Delhi",content:"The courses are comprehensive and taught by industry leaders. I gained practical skills that I apply daily in my projects.",rating:5,avatar:""},{id:3,name:"Amit Singh",role:"Sustainability Consultant",company:"GreenTech India",content:"The publishing house feature allowed me to share my research with a global audience. The peer-review process is exceptional.",rating:5,avatar:""}],_e=[{icon:Gn,title:"Verified Opportunities",description:"Authentic opportunities you can trust"},{icon:Rm,title:"Certified Courses",description:"Courses recognized by industry leaders"},{icon:j0,title:"Global Network",description:"Collaborate with professionals around the world"},{icon:sxe,title:"Career Growth",description:"Unlock your full professional potential"}];return m("div",{className:"homepage",children:[l("div",{className:"scroll-progress-bar",style:{width:`${c}%`},"aria-hidden":"true"}),m("section",{className:"hero-section-enhanced",ref:G,children:[l("div",{className:"hero-background-animated",children:l("div",{className:"hero-parallax-layer",style:{transform:`translate(${d.x*.02}px, ${d.y*.02}px)`}})}),l("div",{className:"container",children:m("div",{className:"hero-content-enhanced",children:[m("div",{className:"hero-text-enhanced",children:[m("div",{className:"hero-badge-enhanced",children:[l(PQ,{size:16}),l("span",{children:"The Next-Gen Urban Planning Starts Here."})]}),l("h1",{className:"hero-title-enhanced",children:"Welcome to a digital workspace built for urban planners, architects, and city innovators"}),l("p",{className:"hero-description-enhanced",children:"Sign in to access powerful planning tools, collaborative design environments, and datadriven insights that shape sustainable and future-ready urban spaces"}),m("div",{className:"hero-search-enhanced",children:[m("form",{onSubmit:L,className:"search-wrapper-enhanced",children:[l(Ia,{className:"search-icon-enhanced",size:22}),l("input",{type:"text",className:"search-input-enhanced",placeholder:"Search jobs, courses, publications...",value:r,onChange:pe=>a(pe.target.value),"aria-label":"Search platform"}),m("button",{type:"submit",className:"search-btn-enhanced",children:[l("span",{children:"Search"}),l(Ec,{size:18})]})]}),m("div",{className:"search-tags-enhanced",children:[l("span",{className:"tags-label",children:"Popular:"}),l("button",{className:"tag-btn",onClick:()=>a("Urban Planner"),children:"Urban Planner"}),l("button",{className:"tag-btn",onClick:()=>a("Smart Cities"),children:"Smart Cities"}),l("button",{className:"tag-btn",onClick:()=>a("Sustainability"),children:"Sustainability"})]})]}),l("div",{className:"hero-actions-enhanced",children:t?m(pn,{to:"/dashboard",className:"btn-enhanced btn-primary-enhanced",children:[l("span",{className:"btn-shine",children:l("span",{children:"Go to Dashboard"})}),l(GC,{size:20})]}):m(vt,{children:[m(pn,{to:"/Signup",className:"btn-enhanced btn-primary-enhanced",children:[l("span",{className:"btn-shine",children:l("span",{children:"Get Started Free"})}),l(PW,{size:20})]}),m(pn,{to:"/login",className:"btn-enhanced btn-outline-enhanced",children:[l("span",{className:"btn-shine",children:l("span",{children:"Sign In"})}),l(Ec,{size:20})]})]})}),m("div",{className:"hero-stats-enhanced",children:[m("div",{className:"stat-item-enhanced",children:[l("div",{className:"stat-number-enhanced",children:j.jobs.toLocaleString()}),l("div",{className:"stat-label-enhanced",children:"Active Jobs"})]}),m("div",{className:"stat-item-enhanced",children:[l("div",{className:"stat-number-enhanced",children:j.courses.toLocaleString()}),l("div",{className:"stat-label-enhanced",children:"Courses"})]}),m("div",{className:"stat-item-enhanced",children:[m("div",{className:"stat-number-enhanced",children:[(j.professionals/1e3).toFixed(0),"K"]}),l("div",{className:"stat-label-enhanced",children:"Professionals"})]}),m("div",{className:"stat-item-enhanced",children:[l("div",{className:"stat-number-enhanced",children:j.publications.toLocaleString()}),l("div",{className:"stat-label-enhanced",children:"Publications"})]})]})]}),l("div",{className:"hero-visual-enhanced",children:m("div",{className:"urban-image-container",children:[m("div",{className:"urban-image-wrapper",children:[l("img",{src:"https://images.unsplash.com/photo-1480714378408-67cf0d13bc1b?q=80&w=1200&auto=format&fit=crop",alt:"Modern Urban Planning",className:"urban-planning-image"}),l("div",{className:"image-overlay-gradient"})]}),m("div",{className:"floating-stats-container",children:[m("div",{className:"floating-stat-card-enhanced card-position-1",children:[l("div",{className:"card-icon-enhanced",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:l(Ni,{size:28,color:"white"})}),m("div",{className:"card-content-enhanced",children:[l("div",{className:"card-number-enhanced",children:j.jobs.toLocaleString()}),l("div",{className:"card-label-enhanced",children:"Jobs Available"})]})]}),m("div",{className:"floating-stat-card-enhanced card-position-2",children:[l("div",{className:"card-icon-enhanced",style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"},children:l(Gh,{size:28,color:"white"})}),m("div",{className:"card-content-enhanced",children:[l("div",{className:"card-number-enhanced",children:j.courses.toLocaleString()}),l("div",{className:"card-label-enhanced",children:"Courses"})]})]}),m("div",{className:"floating-stat-card-enhanced card-position-3 leaderboard-card-clickable",onClick:le,role:"button",tabIndex:0,"aria-label":"View user points leaderboard",children:[l("div",{className:"card-icon-enhanced",style:{background:"linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)"},children:l(r4,{size:28,color:"white"})}),m("div",{className:"card-content-enhanced",children:[l("div",{className:"card-number-enhanced",children:(oe=$[0])==null?void 0:oe.points.toLocaleString()}),l("div",{className:"card-label-enhanced",children:"Top User Points"})]})]})]}),l("div",{className:"decorative-circle circle-1"}),l("div",{className:"decorative-circle circle-2"}),l("div",{className:"decorative-dots"})]})})]})}),m("div",{className:"scroll-indicator",children:[l("div",{className:"scroll-mouse",children:l("div",{className:"scroll-wheel"})}),l("span",{children:"Scroll to explore"})]})]}),T&&l("div",{className:"leaderboard-modal-overlay",onClick:ge,children:m("div",{className:"leaderboard-modal-container",onClick:pe=>pe.stopPropagation(),children:[l("button",{className:"leaderboard-modal-close",onClick:ge,"aria-label":"Close leaderboard",children:l(Fn,{size:24})}),m("div",{className:"leaderboard-modal-header",children:[l("div",{className:"leaderboard-modal-icon",children:l(r4,{size:48,color:"white"})}),l("h2",{children:"Top Users Leaderboard"}),l("p",{children:"Highest Point Earners"})]}),m("div",{className:"leaderboard-modal-body",children:[l("div",{className:"leaderboard-list",children:$.map((pe,Se)=>m("div",{className:`leaderboard-item rank-${Se+1}`,children:[m("div",{className:"leaderboard-rank",children:[Se===0&&l(SU,{size:24,color:"#fbbf24"}),Se===1&&l(TW,{size:24,color:"#c0c0c0"}),Se===2&&l(TW,{size:24,color:"#cd7f32"}),Se>2&&m("span",{className:"rank-number",children:["#",Se+1]})]}),l("div",{className:"leaderboard-avatar",children:pe.avatar}),m("div",{className:"leaderboard-info",children:[l("h4",{children:pe.name}),l("span",{className:"user-badge",children:pe.badge})]}),m("div",{className:"leaderboard-points",children:[l(r4,{size:18,color:"#fbbf24"}),l("span",{children:pe.points.toLocaleString()})]})]},pe.id))}),e&&m("div",{className:"your-rank-section",children:[l("h3",{children:"Your Rank"}),m("div",{className:"your-rank-card",children:[l("div",{className:"your-rank-avatar",children:""}),m("div",{className:"your-rank-info",children:[l("h4",{children:e.name||"Your Name"}),l("p",{children:"Rank: #47  2,340 points"})]})]})]})]}),l("div",{className:"leaderboard-modal-footer",children:l("button",{className:"btn-professional btn-primary-professional",onClick:ge,children:"Close"})})]})}),l("section",{className:"benefits-section animate-on-scroll",children:l("div",{className:"container",children:l("div",{className:"benefits-grid",children:_e.map((pe,Se)=>m("div",{className:"benefit-card",children:[l("div",{className:"benefit-icon",children:l(pe.icon,{size:32})}),l("h3",{children:pe.title}),l("p",{children:pe.description})]},Se))})})}),l("section",{className:"features-section-autoscroll animate-on-scroll",children:m("div",{className:"container-full",children:[m("div",{className:"section-header-professional",children:[l("p",{className:"section-subtitle",children:"EXPLORE OUR PLATFORM"}),m("h2",{children:["Tools That Power Your ",l("span",{className:"text-gradient-professional",children:"Progress"})]}),l("p",{children:"Access powerful tools, curated resources, and opportunities designed for urban planning and the built environment."})]}),l("div",{className:"autoscroll-wrapper",onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1),children:l("div",{className:`autoscroll-track ${y?"paused":""}`,children:[...te,...te].map((pe,Se)=>{const De=pe.icon;return m("div",{className:"feature-card-autoscroll",onClick:()=>K(pe),role:"button",tabIndex:0,"aria-label":`View details for ${pe.title}`,children:[l("div",{className:"feature-card-bg-autoscroll",style:{background:pe.gradient}}),m("div",{className:"feature-card-content-autoscroll",children:[l("div",{className:"feature-icon-autoscroll",style:{background:pe.gradient},children:l(De,{size:40,color:"white"})}),l("div",{className:"feature-badge-autoscroll",children:pe.stats}),l("h3",{children:pe.title}),l("p",{children:pe.description}),m("div",{className:"feature-link-autoscroll",children:[l("span",{children:"Explore More"}),l(Ec,{size:20})]})]})]},`feature-${Se}`)})})})]})}),w&&b&&l("div",{className:"platform-modal-overlay",onClick:Q,children:m("div",{className:"platform-modal-container",onClick:pe=>pe.stopPropagation(),children:[l("button",{className:"platform-modal-close",onClick:Q,"aria-label":"Close modal",children:l(Fn,{size:24})}),m("div",{className:"platform-modal-header",style:{background:b.gradient},children:[l("div",{className:"platform-modal-icon",children:l(b.icon,{size:48,color:"white"})}),l("h2",{children:b.title}),l("div",{className:"platform-modal-badge",children:b.stats})]}),m("div",{className:"platform-modal-body",children:[m("div",{className:"platform-modal-description",children:[l("h3",{children:"Overview"}),l("p",{children:b.details})]}),m("div",{className:"platform-modal-features",children:[l("h3",{children:"Key Features"}),l("ul",{children:b.features.map((pe,Se)=>m("li",{children:[l(Gn,{size:20,style:{color:b.color}}),l("span",{children:pe})]},Se))})]}),l("div",{className:"platform-modal-actions",children:m("button",{onClick:()=>V(b.path),className:"btn-professional btn-primary-professional btn-large-professional btn-block-professional",style:{background:b.color},children:[l("span",{className:"btn-shine",children:m("span",{children:["Explore ",b.title]})}),l(Ec,{size:20})]})})]})]})}),l("section",{className:"jobs-section-professional animate-on-scroll",children:m("div",{className:"container-full",children:[m("div",{className:"section-header-professional",children:[l("p",{className:"section-subtitle",children:"OPPORTUNITIES"}),m("h2",{children:["Your Next Career ",l("span",{className:"text-gradient-professional",children:"Step"})]}),l("p",{children:"Connect with organizations offering roles across planning, design, and development sectors"})]}),l("div",{className:"jobs-autoscroll-wrapper",onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1),children:l("div",{className:`jobs-autoscroll-track ${y?"paused":""}`,children:[...Array(2)].map((pe,Se)=>ae.map(De=>m("div",{className:"job-card-professional",children:[De.urgent&&m("div",{className:"urgent-badge-professional",children:[l(k6,{size:14}),l("span",{children:"Urgent"})]}),m("div",{className:"job-header",children:[l("div",{className:"job-logo",children:De.logo}),l("div",{className:"job-type-badge",children:De.type})]}),l("h3",{children:De.title}),l("p",{className:"company-name",children:De.company}),m("div",{className:"job-details",children:[m("div",{className:"job-detail-item",children:[l(sr,{size:16}),l("span",{children:De.location})]}),m("div",{className:"job-detail-item",children:[l(ua,{size:16}),m("span",{children:["Deadline: ",De.deadline]})]})]}),l("div",{className:"job-salary",children:De.salary}),m(pn,{to:`/jobs/${De.id}`,className:"btn-professional btn-primary-professional btn-block-professional",children:[l("span",{className:"btn-shine",children:l("span",{children:"Apply Now"})}),l(Ec,{size:18})]})]},`${Se}-${De.id}`)))})}),l("div",{className:"section-footer-professional",children:m(pn,{to:"/jobs",className:"btn-professional btn-secondary-professional btn-large-professional",children:[l("span",{className:"btn-shine",children:l("span",{children:"View All Jobs"})}),l(Ec,{size:20})]})})]})}),l("section",{className:"courses-section-professional animate-on-scroll",children:m("div",{className:"container-full",children:[m("div",{className:"section-header-professional",children:[l("p",{className:"section-subtitle",children:"LEARNING"}),m("h2",{children:["Advance Your ",l("span",{className:"text-gradient-professional",children:"Skills"})]}),l("p",{children:"Advance your knowledge through practical, industry-aligned learning."})]}),l("div",{className:"courses-autoscroll-wrapper",onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1),children:l("div",{className:`courses-autoscroll-track ${y?"paused":""}`,children:[...Array(2)].map((pe,Se)=>xe.map(De=>m("div",{className:"course-card-professional",children:[l("div",{className:"course-image",children:De.image}),l("div",{className:"course-level-badge",children:De.level}),l("h3",{children:De.title}),m("p",{className:"course-instructor",children:["By ",De.instructor]}),m("div",{className:"course-meta",children:[m("div",{className:"course-meta-item",children:[l(ar,{size:16}),l("span",{children:De.duration})]}),m("div",{className:"course-meta-item",children:[l(Zt,{size:16}),m("span",{children:[De.students.toLocaleString()," students"]})]}),m("div",{className:"course-meta-item",children:[l(ca,{size:16,fill:"currentColor"}),l("span",{children:De.rating})]})]}),m(pn,{to:`/courses/${De.id}`,className:"btn-professional btn-primary-professional btn-block-professional",children:[l("span",{className:"btn-shine",children:l("span",{children:"Enroll Now"})}),l(Ec,{size:18})]})]},`${Se}-${De.id}`)))})}),l("div",{className:"section-footer-professional",children:m(pn,{to:"/learning",className:"btn-professional btn-secondary-professional btn-large-professional",children:[l("span",{className:"btn-shine",children:l("span",{children:"Browse All Courses"})}),l(Ec,{size:20})]})})]})}),l("section",{className:"testimonials-section-professional animate-on-scroll",children:m("div",{className:"container",children:[m("div",{className:"section-header-professional",children:[l("p",{className:"section-subtitle",children:"SUCCESS STORIES"}),m("h2",{children:["Join Thousands ",l("span",{className:"text-gradient-professional",children:"Shaping Urban Change"})]}),l("p",{children:"Highlighting real achievements shaping better urban environments."})]}),m("div",{className:"testimonials-coverflow-wrapper",ref:B,onTouchStart:ye,onTouchMove:be,onTouchEnd:Le,onMouseDown:ue,onMouseMove:ke,onMouseUp:X,onMouseLeave:X,onMouseEnter:re,onMouseOut:Ee,children:[l("div",{className:"testimonials-coverflow-container",children:l("div",{className:"testimonials-coverflow-track",children:Ce.map((pe,Se)=>{const De=Se-S,Ve=Se===S;return m("div",{className:`testimonial-card-coverflow ${Ve?"active":""} ${De<0?"prev":""} ${De>0?"next":""}`,style:{transform:`translateX(${De*120}%) rotateY(${De*45}deg) scale(${Ve?1:.8}) translateZ(${Ve?0:-200}px)`,opacity:Math.abs(De)>1?0:1,zIndex:Ve?10:5-Math.abs(De)},children:[l("div",{className:"testimonial-rating",children:[...Array(pe.rating)].map((de,Me)=>l(ca,{size:20,fill:"currentColor",style:{color:"#fbbf24"}},Me))}),l("p",{className:"testimonial-content",children:pe.content}),m("div",{className:"testimonial-author",children:[l("div",{className:"author-avatar",children:pe.avatar}),m("div",{className:"author-info",children:[l("h4",{children:pe.name}),m("p",{children:[pe.role," at ",pe.company]})]})]})]},pe.id)})})}),l("div",{className:"testimonial-dots",children:Ce.map((pe,Se)=>l("button",{className:`testimonial-dot ${Se===S?"active":""}`,onClick:()=>ne(Se),"aria-label":`Go to testimonial ${Se+1}`},Se))})]})]})}),l("section",{className:"cta-section-professional animate-on-scroll",children:l("div",{className:"container",children:m("div",{className:"cta-content-professional",children:[l("h2",{children:"Ready to Shape Your Future in Urban Planning?"}),l("p",{children:"Be part of a growing global community turning ideas into impact. Planning Insights helps you unlock new opportunities, sharpen your skills, and connect with professionals shaping cities of tomorrow."}),l("div",{className:"cta-actions-professional",children:t?m(pn,{to:"/dashboard",className:"btn-professional btn-primary-professional btn-large-professional",children:[l("span",{className:"btn-shine",children:l("span",{children:"Go to Dashboard"})}),l(GC,{size:22})]}):m(vt,{children:[m(pn,{to:"/Signup",className:"btn-professional btn-primary-professional btn-large-professional",children:[l("span",{className:"btn-shine",children:l("span",{children:"Get Started Free"})}),l(PW,{size:22})]}),m(pn,{to:"/about",className:"btn-professional btn-outline-professional btn-large-professional",children:[l("span",{className:"btn-shine",children:l("span",{children:"Learn More"})}),l(Ec,{size:22})]})]})}),l("p",{className:"cta-note",children:"Sign in to access verified job opportunities, expert forums, join meaningful discussions, and collaborate with 15,000+ professionals across the built environment."})]})})}),m("button",{className:`scroll-to-top-btn ${f?"show":""}`,onClick:M,"aria-label":"Scroll to top",children:[l(dxe,{size:24}),l("span",{className:"scroll-top-text",children:"TOP"})]})]})};const Rxe=()=>{const t=[{icon:l(Gh,{size:28}),title:"Digital Publishing",description:"Access research papers, case studies, and urban development publications"},{icon:l(ff,{size:28}),title:"Learning Platform",description:"Interactive courses and resources for students and professionals"},{icon:l(g7,{size:28}),title:"Professional Networking",description:"Connect with urban planners, architects, and industry experts"},{icon:l(Ni,{size:28}),title:"Career Opportunities",description:"Job portal and internships for emerging urban professionals"},{icon:l(AQ,{size:28}),title:"Data Sharing",description:"Centralized repository for urban datasets and research"},{icon:l(m7,{size:28}),title:"Geospatial Tools",description:"Interactive mapping and analysis tools for urban planning"}],e=[{icon:l(ff,{}),name:"Students",desc:"Urban planning & architecture students"},{icon:l(Zt,{}),name:"Educators",desc:"University faculty & researchers"},{icon:l(D5,{}),name:"Urban Planners",desc:"Government & private sector planners"},{icon:l(GC,{}),name:"Architects",desc:"Design professionals & firms"},{icon:l(m7,{}),name:"Geospatial Pros",desc:"GIS specialists & analysts"},{icon:l(Ni,{}),name:"Government",desc:"Municipal & planning agencies"},{icon:l(cs,{}),name:"Industry",desc:"Development & construction firms"},{icon:l(g7,{}),name:"Researchers",desc:"Academic & policy researchers"}],n=[{icon:l(bxe,{size:24}),title:"Integrated Knowledge Hub",description:"Seamlessly connects education, research, and professional practice in one platform"},{icon:l(c_,{size:24}),title:"Structured Collaboration",description:"Provides reliable tools for knowledge exchange and professional networking"},{icon:l(k6,{size:24}),title:"Informed Decision-Making",description:"Supports data-driven planning and sustainable urban development"}];return m("div",{className:"about-page",children:[l("section",{className:"hero",children:l("div",{className:"container",children:m("div",{className:"hero-content",children:[m("div",{className:"badge",children:[l(j0,{size:16}),"Digital Knowledge Ecosystem"]}),m("h1",{children:["Connecting the Built Environment: ",l("span",{children:"Education, Research & Practice"})]}),l("p",{className:"hero-description",children:"Planning Insights is a digital knowledge ecosystem for the built environment, designed to connect education, research, and professional practice on a single, integrated platform."}),m("div",{className:"hero-stats",children:[m("div",{className:"stat",children:[l("span",{className:"stat-number",children:"1000+"}),l("span",{className:"stat-label",children:"Active Professionals"})]}),m("div",{className:"stat",children:[l("span",{className:"stat-number",children:"500+"}),l("span",{className:"stat-label",children:"Research Papers"})]}),m("div",{className:"stat",children:[l("span",{className:"stat-number",children:"50+"}),l("span",{className:"stat-label",children:"Universities"})]}),m("div",{className:"stat",children:[l("span",{className:"stat-number",children:"100+"}),l("span",{className:"stat-label",children:"Cities"})]})]})]})})}),l("section",{className:"section",children:m("div",{className:"container",children:[m("div",{className:"section-header",children:[l("div",{className:"section-tag",children:"Our Purpose"}),l("h2",{className:"section-title",children:"Bridging Academia & Practice"}),l("p",{className:"section-subtitle",children:"We enable collaboration across the urban development ecosystem"})]}),m("div",{className:"mission-content",children:[m("div",{className:"mission-text",children:[l("p",{children:"Planning Insights bridges the gap between academia and real-world urban practice, empowering emerging professionals while providing institutions and agencies with a structured, reliable hub for knowledge exchange and collaboration."}),l("p",{children:"Our platform brings together publishing, learning, networking, employment opportunities, and data sharing, supporting informed decision-making and continuous capacity building across the urban development sector."}),l("p",{children:"We enable collaboration among students, educators, researchers, urban planners, architects, geospatial professionals, government bodies, and industry stakeholders."})]}),m("div",{className:"mission-visual",children:[l("h3",{children:"Our Vision"}),l("p",{children:"To build a smart, accessible, and collaborative knowledge platform that supports the creation of sustainable, inclusive, and future-ready cities."})]})]})]})}),l("section",{className:"section light",children:m("div",{className:"container",children:[m("div",{className:"section-header",children:[l("div",{className:"section-tag",children:"Integrated Platform"}),l("h2",{className:"section-title",children:"Complete Knowledge Ecosystem"}),l("p",{className:"section-subtitle",children:"Everything you need for urban development learning and collaboration"})]}),l("div",{className:"ecosystem-grid",children:t.map((i,r)=>m("div",{className:"ecosystem-card",children:[l("div",{className:"card-icon",children:i.icon}),l("h4",{children:i.title}),l("p",{children:i.description})]},r))})]})}),l("section",{className:"section",children:m("div",{className:"container",children:[m("div",{className:"section-header",children:[l("div",{className:"section-tag",children:"Our Community"}),l("h2",{className:"section-title",children:"Connecting Urban Development Stakeholders"}),l("p",{className:"section-subtitle",children:"A diverse community working together for better cities"})]}),l("div",{className:"users-grid",children:e.map((i,r)=>m("div",{className:"user-card",children:[l("div",{className:"user-icon",children:i.icon}),m("div",{className:"user-info",children:[l("h4",{children:i.name}),l("p",{children:i.desc})]})]},r))})]})}),l("section",{className:"section light",children:m("div",{className:"container",children:[m("div",{className:"section-header",children:[l("div",{className:"section-tag",children:"Why Choose Us"}),l("h2",{className:"section-title",children:"Platform Advantages"}),l("p",{className:"section-subtitle",children:"Designed specifically for the built environment sector"})]}),l("div",{className:"features-list",children:n.map((i,r)=>m("div",{className:"feature-item",children:[l("div",{className:"feature-icon",children:i.icon}),m("div",{className:"feature-content",children:[l("h4",{children:i.title}),l("p",{children:i.description})]})]},r))})]})}),l("section",{className:"cta-section",children:l("div",{className:"container",children:m("div",{className:"cta-content",children:[l("h2",{className:"cta-title",children:"Join Our Urban Knowledge Community"}),l("p",{className:"cta-description",children:"Be part of the platform that's transforming how we learn, collaborate, and build sustainable cities together."}),m("div",{className:"cta-buttons",children:[m("a",{href:"/signup",className:"btn btn-primary",children:[l("span",{children:"Get Started Free"}),l(Ec,{size:18})]}),m("a",{href:"/demo",className:"btn btn-secondary",children:[l(ua,{size:18}),l("span",{children:"Book a Demo"})]})]})]})})})]})};function Lxe(){const[t,e]=Z.useState(!1),[n,i]=Z.useState({email:"",password:"",rememberMe:!1}),[r,a]=Z.useState(""),s=Gi(),{login:o}=Hr(),{showNotification:c}=vo(),[u,d]=Z.useState(!1),h=v=>{const{name:b,value:g,type:y,checked:_}=v.target;i({...n,[b]:y==="checkbox"?_:g})},f=async v=>{var b,g,y,_,S,N,R;v.preventDefault(),a(""),d(!0);try{const D="https://planninginsight-backend.vercel.app/auth/login",E={email:n.email,password:n.password,rememberMe:n.rememberMe},C=await fetch(D,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(E)}),P=await C.json();if(!C.ok){a(P.message||"Invalid credentials"),c(P.message||"Login failed","error"),d(!1);return}if(P.token||(b=P.data)!=null&&b.token){const k=P.token||P.data.token;localStorage.removeItem("isAdminSession"),localStorage.removeItem("adminToken"),localStorage.setItem("authToken",k)}if((g=P.data)!=null&&g.user){const k={id:P.data.user.id,email:P.data.user.email,role:P.data.user.role,firstName:((y=P.data.user.profile)==null?void 0:y.firstName)||"",lastName:((_=P.data.user.profile)==null?void 0:_.lastName)||"",displayName:`${((S=P.data.user.profile)==null?void 0:S.firstName)||""} ${((N=P.data.user.profile)==null?void 0:N.lastName)||""}`.trim(),photoURL:((R=P.data.user.profile)==null?void 0:R.photoURL)||null};await o(k)}c("Signed in successfully","success"),setTimeout(()=>{s("/dashboard")},100)}catch(D){console.error("Login error:",D),a("Something went wrong. Please try again."),c((D==null?void 0:D.message)||"Login failed","error")}finally{d(!1)}},p=async()=>{try{d(!0);const v=await $Z();console.log(" Google sign-in successful:",v);try{console.log(" Calling backend for JWT token...");const b="https://planninginsight-backend.vercel.app/auth/google-login";console.log("Backend URL:",b);const g=await fetch(b,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:v.uid,email:v.email,displayName:v.displayName,photoURL:v.photoURL})}),y=await g.json();console.log("Backend response:",y),g.ok&&y.token?(localStorage.setItem("authToken",y.token),console.log(" JWT token stored successfully")):console.error(" Backend did not return token:",y)}catch(b){console.error(" Backend token fetch failed:",b),c("Warning: Backend authentication failed. Some features may be limited.","warning")}c("Signed in with Google","success"),s("/dashboard")}catch(v){console.error("Google sign-in error",v),v.code==="auth/popup-closed-by-user"?c("Sign-in cancelled","info"):v.code==="auth/cancelled-popup-request"||c((v==null?void 0:v.message)||"Google sign-in failed","error")}finally{d(!1)}},w={container:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",fontFamily:"'Poppins', sans-serif",padding:"20px",position:"relative",overflow:"hidden"},backgroundShapes:{position:"absolute",width:"100%",height:"100%",overflow:"hidden",zIndex:0},shape:{position:"absolute",borderRadius:"50%",opacity:.1},shape1:{width:"500px",height:"500px",background:"#fff",top:"-250px",left:"-250px",animation:"float 8s ease-in-out infinite"},shape2:{width:"400px",height:"400px",background:"#fff",bottom:"-200px",right:"-200px",animation:"float 10s ease-in-out infinite reverse"},shape3:{width:"300px",height:"300px",background:"#fff",top:"50%",right:"10%",animation:"float 12s ease-in-out infinite"},card:{background:"#fff",borderRadius:"20px",boxShadow:"0 30px 80px rgba(0, 0, 0, 0.3)",position:"relative",overflow:"hidden",width:"1000px",maxWidth:"100%",minHeight:"650px",display:"flex",zIndex:1},formContainer:{width:"60%",padding:"60px 50px",display:"flex",alignItems:"center",justifyContent:"center",background:"#fff",zIndex:2},form:{width:"100%",maxWidth:"550px"},title:{fontSize:"36px",fontWeight:"700",color:"#333",marginBottom:"8px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textAlign:"center"},subtitle:{fontSize:"15px",color:"#666",marginBottom:"35px",textAlign:"center",fontWeight:"400"},socialContainer:{display:"flex",gap:"15px",marginBottom:"25px",justifyContent:"center"},socialBase:{border:"2px solid",borderRadius:"12px",display:"inline-flex",justifyContent:"center",alignItems:"center",height:"50px",width:"50px",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",fontSize:"20px",fontWeight:"700"},google:{borderColor:"#ea4335",color:"#ea4335",background:"#fff"},facebook:{borderColor:"#1877f2",color:"#1877f2",background:"#fff"},github:{borderColor:"#333",color:"#333",background:"#fff"},linkedin:{borderColor:"#0a66c2",color:"#0a66c2",background:"#fff"},divider:{display:"flex",alignItems:"center",margin:"30px 0",color:"#999",fontSize:"14px"},dividerLine:{flex:1,height:"1px",background:"#e8e8e8"},dividerText:{padding:"0 20px",fontWeight:"500",color:"#888"},label:{fontSize:"14px",fontWeight:"600",color:"#555",marginBottom:"8px",display:"block"},inputGroup:{marginBottom:"20px"},input:{background:"#f7f8fa",border:"2px solid #e8e8e8",padding:"14px 18px",width:"100%",borderRadius:"12px",fontSize:"15px",outline:"none",transition:"all 0.3s ease",fontFamily:"inherit",color:"#333"},passwordContainer:{position:"relative"},eyeButton:{position:"absolute",right:"18px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",fontSize:"20px",padding:"5px",color:"#999",transition:"color 0.3s ease"},rememberRow:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"25px",fontSize:"14px"},checkbox:{display:"flex",alignItems:"center",gap:"8px",color:"#666",cursor:"pointer"},link:{color:"#667eea",textDecoration:"none",fontWeight:"600",transition:"color 0.3s ease"},button:{borderRadius:"12px",border:"none",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"#fff",fontSize:"15px",fontWeight:"700",padding:"16px 40px",width:"100%",letterSpacing:"0.5px",textTransform:"uppercase",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",cursor:"pointer",boxShadow:"0 10px 25px rgba(102, 126, 234, 0.3)"},overlayContainer:{position:"absolute",top:0,left:"60%",width:"40%",height:"100%",overflow:"hidden",zIndex:100},overlay:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"#fff",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",padding:"0 60px",textAlign:"center"},overlayContent:{maxWidth:"400px"},overlayTitle:{fontSize:"42px",fontWeight:"800",marginBottom:"20px",textShadow:"0 2px 10px rgba(0, 0, 0, 0.2)",lineHeight:"1.2"},overlayText:{fontSize:"16px",lineHeight:"28px",marginBottom:"40px",opacity:.95,fontWeight:"400"},ghostButton:{borderRadius:"30px",border:"2px solid #fff",background:"transparent",color:"#fff",fontSize:"14px",fontWeight:"700",padding:"16px 50px",letterSpacing:"0.5px",textTransform:"uppercase",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",cursor:"pointer"},features:{marginTop:"40px",display:"flex",flexDirection:"column",gap:"15px",textAlign:"left"},feature:{display:"flex",alignItems:"center",gap:"12px",fontSize:"15px"},checkIcon:{width:"24px",height:"24px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.25)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",flexShrink:0}};return m("div",{style:w.container,children:[l("style",{children:`
          @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap');
          
          * { box-sizing: border-box; }
          
          @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-30px) rotate(5deg); }
          }

          /* Button spinner */
          .btn-spinner {
            width: 16px;
            height: 16px;
            border: 2px solid rgba(254, 248, 248, 0.45);
            border-top-color: #ffffff;
            border-radius: 50%;
            display: inline-block;
            vertical-align: middle;
            margin-right: 10px;
            animation: spin 1s linear infinite;
          }

          @keyframes spin {
            to { transform: rotate(360deg); }
          }

          input:focus {
            border-color: #667eea !important;
            background: #fff !important;
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1) !important;
          }
          
          .social-google:hover {
            background: #ea4335 !important;
            color: #fff !important;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(234, 67, 53, 0.3);
          }
          
          .social-linkedin:hover {
            background: #0a66c2 !important;
            color: #fff !important;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(10, 102, 194, 0.3);
          }
          
          .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 35px rgba(102, 126, 234, 0.4);
          }
          
          .submit-btn:active {
            transform: translateY(0);
          }
          
          .ghost-btn:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: scale(1.05);
          }
          
          .eye-btn:hover {
            color: #667eea;
          }
          
          @media (max-width: 900px) {
            .form-container {
              width: 100% !important;
              padding: 40px 30px !important;
            }
            .overlay-container {
              display: none !important;
            }
          }
        `}),m("div",{style:w.backgroundShapes,children:[l("div",{style:{...w.shape,...w.shape1}}),l("div",{style:{...w.shape,...w.shape2}}),l("div",{style:{...w.shape,...w.shape3}})]}),m("div",{style:w.card,children:[l("div",{className:"form-container",style:w.formContainer,children:m("form",{style:w.form,onSubmit:f,children:[l("h1",{style:w.title,children:"Welcome Back"}),l("p",{style:w.subtitle,children:"Sign in to continue your journey"}),m("div",{style:w.socialContainer,children:[l("button",{type:"button",className:"social-google",style:{...w.socialBase,...w.google},"aria-label":"Sign in with Google",onClick:async()=>{try{const v=await p();c("Signed in with Google","success"),s("/dashboard")}catch(v){c((v==null?void 0:v.message)||"Google sign-in failed","error")}},children:"G"}),l("button",{type:"button",className:"social-linkedin",style:{...w.socialBase,...w.linkedin},"aria-label":"Sign in with LinkedIn",children:"in"})]}),m("div",{style:w.divider,children:[l("div",{style:w.dividerLine}),l("span",{style:w.dividerText,children:"or use your email"}),l("div",{style:w.dividerLine})]}),r&&l("div",{style:{padding:"12px 16px",background:"rgba(220, 38, 38, 0.1)",borderRadius:"10px",marginBottom:"20px",fontSize:"14px",color:"#dc2626",fontWeight:"500",border:"1px solid rgba(220, 38, 38, 0.25)"},children:r}),m("div",{style:w.inputGroup,children:[l("label",{style:w.label,children:"Email Address"}),l("input",{style:w.input,type:"email",placeholder:"name@example.com",name:"email",value:n.email,onChange:h,required:!0})]}),m("div",{style:w.inputGroup,children:[l("label",{style:w.label,children:"Password"}),m("div",{style:w.passwordContainer,children:[l("input",{style:w.input,type:t?"text":"password",placeholder:"Enter your password",name:"password",value:n.password,onChange:h,required:!0}),l("button",{type:"button",className:"eye-btn",style:w.eyeButton,onClick:()=>e(!t),children:t?"":""})]})]}),m("div",{style:w.rememberRow,children:[m("label",{style:w.checkbox,children:[l("input",{type:"checkbox",name:"rememberMe",checked:n.rememberMe,onChange:h}),l("span",{children:"Remember me"})]}),l("a",{style:w.link,href:"#",onClick:v=>{v.preventDefault(),s("/auth/forgot-password")},children:"Forgot Password?"})]}),l("button",{type:"submit",className:"submit-btn",style:w.button,disabled:u,children:u?m(vt,{children:[l("span",{className:"btn-spinner","aria-hidden":!0}),"Signing in..."]}):"Sign In"}),l("p",{style:{marginTop:"12px",textAlign:"center",fontSize:"12px",color:"#999"},children:"Session: up to 30 days"})]})}),l("div",{className:"overlay-container",style:w.overlayContainer,children:l("div",{style:w.overlay,children:m("div",{style:w.overlayContent,children:[l("h1",{style:w.overlayTitle,children:"Hello, Friend!"}),l("p",{style:w.overlayText,children:"Enter your personal details and start your journey with us"}),l("button",{className:"ghost-btn",style:w.ghostButton,onClick:()=>s("/signup"),children:"Sign Up"}),m("div",{style:w.features,children:[m("div",{style:w.feature,children:[l("span",{style:w.checkIcon,children:""}),l("span",{children:"Access 2,500+ Job Opportunities"})]}),m("div",{style:w.feature,children:[l("span",{style:w.checkIcon,children:""}),l("span",{children:"Join 15,000+ Professionals"})]}),m("div",{style:w.feature,children:[l("span",{style:w.checkIcon,children:""}),l("span",{children:"Premium Learning Resources"})]})]})]})})})]})]})}const Fxe=()=>l("div",{className:"login-page",children:l(Lxe,{})});const Oxe=()=>{const t=Gi(),[e,n]=Z.useState({email:"",password:""}),[i,r]=Z.useState(!1),[a,s]=Z.useState(""),[o,c]=Z.useState(!1),u=f=>{const{name:p,value:w,type:v,checked:b}=f.target;n(g=>({...g,[p]:v==="checkbox"?b:w})),s("")},d=()=>!e.email||!e.password?(s("Email and password are required"),!1):!0;return m("div",{className:"admin-login-page",children:[l("div",{className:"admin-login-background"}),m("div",{className:"admin-login-container",children:[m("div",{className:"admin-login-card",children:[m("div",{className:"admin-login-header",children:[l("div",{className:"admin-icon",children:m("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("path",{d:"M12 2L2 7L12 12L22 7L12 2Z",fill:"#524393",fillOpacity:"0.2",stroke:"#524393",strokeWidth:"2",strokeLinejoin:"round"}),l("path",{d:"M2 17L12 22L22 17",stroke:"#524393",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M2 12L12 17L22 12",stroke:"#524393",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),l("h1",{children:"Admin Access"}),l("p",{children:"Secure administrator authentication"})]}),a&&m("div",{className:"admin-error-alert",children:[l("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l("path",{d:"M12 8V12M12 16H12.01M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),a]}),m("form",{onSubmit:async f=>{var p;if(f.preventDefault(),console.log("Form submitted"),s(""),console.log("Form data:",e),!d()){console.log("Validation failed");return}console.log("Validation passed, making API call"),r(!0);try{const w="https://planninginsight-backend.vercel.app/admin/login";console.log("Calling API:",w);const v=await fetch(w,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:e.email,password:e.password})});console.log("Response status:",v.status);const b=await v.json();if(console.log("Response data:",b),!v.ok){s(b.message||"Invalid admin credentials"),r(!1);return}const g=(p=b.data)==null?void 0:p.token;g?(console.log(" Storing admin token"),localStorage.setItem("adminToken",g),localStorage.setItem("isAdminSession","true"),localStorage.setItem("userRole","admin"),b.data.user&&localStorage.setItem("user",JSON.stringify(b.data.user)),console.log(" Login successful, navigating to admin dashboard"),window.location.href="/admin/dashboard"):(console.error(" No token found in response"),s("Login failed. No authentication token received."),r(!1))}catch(w){console.error(" Admin login error:",w),s("Connection error. Please check if the server is running."),r(!1)}},className:"admin-login-form",children:[m("div",{className:"form-field",children:[l("label",{htmlFor:"email",children:"Email Address"}),l("div",{className:"input-wrapper",children:l("input",{id:"email",name:"email",type:"email",placeholder:"admin@example.com",value:e.email,onChange:u,required:!0,autoComplete:"email"})})]}),m("div",{className:"form-field",children:[l("label",{htmlFor:"password",children:"Password"}),m("div",{className:"input-wrapper password-wrapper",children:[l("input",{id:"password",name:"password",type:o?"text":"password",placeholder:"Enter your password",value:e.password,onChange:u,required:!0,autoComplete:"current-password"}),l("button",{type:"button",className:"toggle-password",onClick:()=>c(!o),"aria-label":o?"Hide password":"Show password",children:o?l("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l("path",{d:"M3 3L21 21M10.5 10.5C10.0353 10.9646 9.75 11.6022 9.75 12.3C9.75 13.6912 10.8588 14.8 12.25 14.8C12.9478 14.8 13.5854 14.5147 14.05 14.05M7.36364 7.36364C5.40091 8.88182 4 11.0909 4 13.5C4 18 9 21 12 21C14.0909 21 15.9091 20.4 17.3636 19.3636M20 16C20.8182 14.9091 21.2727 13.7273 21.2727 12.5C21.2727 8 16.2727 5 13.2727 5C12.5455 5 11.8182 5.09091 11.1818 5.27273",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}):m("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("path",{d:"M12 5C8 5 4.5 7.5 2 12C4.5 16.5 8 19 12 19C16 19 19.5 16.5 22 12C19.5 7.5 16 5 12 5Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})]})]}),l("button",{type:"submit",className:"admin-submit-btn",disabled:i,children:i?m(vt,{children:[l("span",{className:"spinner"}),"Authenticating..."]}):m(vt,{children:[m("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("path",{d:"M15 3H19C19.5304 3 20.0391 3.21071 20.4142 3.58579C20.7893 3.96086 21 4.46957 21 5V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H15",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M10 17L15 12L10 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),l("path",{d:"M15 12H3",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),"Sign In as Admin"]})})]}),l("div",{className:"admin-login-footer",children:l("button",{type:"button",className:"footer-link",onClick:()=>t("/login"),children:" Back to User Login"})})]}),m("div",{className:"security-notice",children:[l("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:l("path",{d:"M12 2L3 7V11C3 16.55 6.84 21.74 12 23C17.16 21.74 21 16.55 21 11V7L12 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),l("span",{children:"This is a secure admin area. All access attempts are logged."})]})]})]})};function Uxe({email:t,onVerify:e,onResend:n,onBack:i,loading:r=!1,error:a="",remainingAttempts:s=null}){const[o,c]=Z.useState(["","","","","",""]),[u,d]=Z.useState(600),[h,f]=Z.useState(!1),[p,w]=Z.useState(60),v=Z.useRef([]);Z.useEffect(()=>{const E=setInterval(()=>{d(C=>C<=1?(clearInterval(E),0):C-1)},1e3);return()=>clearInterval(E)},[]),Z.useEffect(()=>{if(p>0){const E=setTimeout(()=>{w(C=>C-1)},1e3);return()=>clearTimeout(E)}else f(!0)},[p]);const b=(E,C)=>{var A;if(!/^\d*$/.test(C))return;const P=[...o];P[E]=C,c(P);const k=P.every(I=>I!=="");console.log(" OTP changed:",{otp:P.join(""),complete:k,array:P}),C&&E<5&&((A=v.current[E+1])==null||A.focus())},g=(E,C)=>{var P;C.key==="Backspace"&&!o[E]&&E>0&&((P=v.current[E-1])==null||P.focus())},y=E=>{var A;E.preventDefault();const C=E.clipboardData.getData("text").slice(0,6);if(!/^\d+$/.test(C))return;const P=C.split("");c([...P,...Array(6-P.length).fill("")]);const k=Math.min(P.length,5);(A=v.current[k])==null||A.focus()},_=E=>{E.preventDefault();const C=o.join("");console.log(" OTPVerification: handleSubmit called",{otpString:C,length:C.length}),C.length===6?(console.log(" OTPVerification: Valid OTP, calling onVerify..."),e(C)):console.log(" OTPVerification: Invalid OTP length",C.length)},S=()=>{h&&(f(!1),w(60),d(600),c(["","","","","",""]),n())},N=E=>{const C=Math.floor(E/60),P=E%60;return`${C}:${P.toString().padStart(2,"0")}`},R={container:{background:"#fff",borderRadius:"20px",padding:"50px",maxWidth:"500px",width:"100%",boxShadow:"0 30px 80px rgba(0, 0, 0, 0.3)",textAlign:"center"},title:{fontSize:"32px",fontWeight:"700",color:"#333",marginBottom:"12px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},subtitle:{fontSize:"15px",color:"#666",marginBottom:"10px"},email:{fontSize:"16px",fontWeight:"600",color:"#667eea",marginBottom:"30px"},otpContainer:{display:"flex",gap:"12px",justifyContent:"center",marginBottom:"25px"},otpInput:{width:"50px",height:"60px",fontSize:"24px",fontWeight:"700",textAlign:"center",border:"2px solid #e8e8e8",borderRadius:"12px",background:"#f7f8fa",outline:"none",transition:"all 0.3s ease",fontFamily:"'Poppins', monospace"},timer:{fontSize:"14px",color:"#999",marginBottom:"20px"},timerActive:{color:"#667eea",fontWeight:"600"},timerExpired:{color:"#e74c3c",fontWeight:"600"},error:{background:"#fee",border:"1px solid #fcc",borderRadius:"8px",padding:"12px",color:"#c00",fontSize:"14px",marginBottom:"20px"},attemptsWarning:{background:"#fff3cd",border:"1px solid #ffeaa7",borderRadius:"8px",padding:"12px",color:"#856404",fontSize:"14px",marginBottom:"20px"},button:{borderRadius:"12px",border:"none",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"#fff",fontSize:"15px",fontWeight:"700",padding:"16px 40px",width:"100%",letterSpacing:"0.5px",textTransform:"uppercase",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",cursor:"pointer",boxShadow:"0 10px 25px rgba(102, 126, 234, 0.3)",marginBottom:"15px",position:"relative",zIndex:10,pointerEvents:"auto"},buttonDisabled:{opacity:.6,cursor:"not-allowed",pointerEvents:"none"},resendButton:{background:"transparent",border:"2px solid #667eea",color:"#667eea",boxShadow:"none"},backButton:{background:"transparent",border:"2px solid #ddd",color:"#666",boxShadow:"none",marginTop:"10px"},link:{color:"#667eea",textDecoration:"none",fontWeight:"600",cursor:"pointer"}},D=o.every(E=>E!=="");return console.log(" OTPVerification Render State:",{otp:o,otpString:o.join(""),otpComplete:D,loading:r,buttonDisabled:!D||r}),m("div",{style:R.container,children:[l("style",{children:`
          .otp-input:focus {
            border-color: #667eea !important;
            background: #fff !important;
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1) !important;
          }
          
          .verify-btn {
            position: relative !important;
            z-index: 10 !important;
            pointer-events: auto !important;
          }
          
          .verify-btn:disabled {
            pointer-events: none !important;
            cursor: not-allowed !important;
          }
          
          .verify-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 15px 35px rgba(102, 126, 234, 0.4) !important;
          }
          
          .resend-btn:hover:not(:disabled) {
            background: #667eea !important;
            color: #fff !important;
          }
          
          .back-btn:hover {
            background: #f5f5f5 !important;
            border-color: #999 !important;
          }

          .btn-spinner {
            width: 16px;
            height: 16px;
            border: 2px solid rgba(255,255,255,0.3);
            border-top-color: #fff;
            border-radius: 50%;
            display: inline-block;
            vertical-align: middle;
            margin-right: 10px;
            animation: spin 1s linear infinite;
          }

          @keyframes spin {
            to { transform: rotate(360deg); }
          }
        `}),l("h1",{style:R.title,children:"Verify Your Email"}),l("p",{style:R.subtitle,children:"We've sent a 6-digit code to"}),l("p",{style:R.email,children:t}),m("form",{onSubmit:_,children:[l("div",{style:R.otpContainer,children:o.map((E,C)=>l("input",{ref:P=>v.current[C]=P,className:"otp-input",style:R.otpInput,type:"text",inputMode:"numeric",maxLength:1,value:E,onChange:P=>b(C,P.target.value),onKeyDown:P=>g(C,P),onPaste:C===0?y:void 0,autoFocus:C===0},C))}),l("div",{style:R.timer,children:u>0?m("span",{style:R.timerActive,children:["Code expires in ",N(u)]}):l("span",{style:R.timerExpired,children:" Code expired. Please request a new one."})}),a&&l("div",{style:R.error,children:a}),s!==null&&s<=2&&m("div",{style:R.attemptsWarning,children:[" Warning: ",s," attempt",s!==1?"s":""," remaining"]}),l("button",{type:"submit",className:"verify-btn",style:{...R.button,...(!D||r)&&R.buttonDisabled},disabled:!D||r,onClick:E=>{console.log(" BUTTON CLICKED!",{otpComplete:D,loading:r,disabled:!D||r})},children:r?m(vt,{children:[l("span",{className:"btn-spinner","aria-hidden":!0}),"Verifying..."]}):"Verify Email"}),l("button",{type:"button",className:"resend-btn",style:{...R.button,...R.resendButton,...!h&&R.buttonDisabled},onClick:S,disabled:!h,children:h?"Resend Code":`Resend in ${p}s`}),l("button",{type:"button",className:"back-btn",style:{...R.button,...R.backButton},onClick:i,children:"Back to Signup"})]}),m("p",{style:{marginTop:"20px",fontSize:"13px",color:"#999"},children:["Didn't receive the code? Check your spam folder or"," ",l("span",{style:R.link,onClick:h?S:void 0,children:"resend it"})]})]})}function Mxe(){const[t,e]=Z.useState(!1),[n,i]=Z.useState(!1),[r,a]=Z.useState(!1),[s,o]=Z.useState(""),[c,u]=Z.useState(!1),[d,h]=Z.useState(""),[f,p]=Z.useState(!1),[w,v]=Z.useState(null),[b,g]=Z.useState({firstName:"",lastName:"",email:"",phone:"",country:"",password:"",confirmPassword:"",agreeTerms:!1}),y=Gi(),{requestSignupOTP:_,verifySignupOTP:S,checkAuthStatus:N}=Hr(),{showNotification:R}=vo(),D=z=>{const{name:j,value:W,type:$,checked:q}=z.target;g({...b,[j]:$==="checkbox"?q:W})},E=z=>{if(z.preventDefault(),b.password!==b.confirmPassword){o("Passwords don't match!"),R("Passwords don't match!","error");return}if(!b.agreeTerms){o("Please accept the Terms of Service and Privacy Policy"),R("Please accept the Terms of Service and Privacy Policy","error");return}(async()=>{var j,W;o(""),a(!0);try{const $={firstName:b.firstName,lastName:b.lastName,email:b.email,phone:b.phone,country:b.country,password:b.password},q=await _($);if(q.success===!1){o(q.error||"Failed to send verification code"),R(q.error||"Failed to send verification code","error"),a(!1);return}R("Verification code sent to your email!","success"),u(!0),a(!1)}catch($){console.error("Signup OTP request error",$);const q=((W=(j=$==null?void 0:$.response)==null?void 0:j.data)==null?void 0:W.message)||($==null?void 0:$.message)||"Failed to send verification code";o(q),R(q,"error"),a(!1)}})()},C=async z=>{var j,W,$,q;console.log(" Starting OTP verification...",{email:b.email,otp:z}),h(""),p(!0),v(null);try{console.log(" Calling verifySignupOTP...");const G=await S(b.email,z);if(console.log(" Response received:",G),G.success===!1){console.log(" Verification failed:",G.error),h(G.error||"Invalid verification code"),v(G.remainingAttempts),R(G.error||"Invalid verification code","error"),p(!1);return}console.log(" Verification successful!"),R("Email verified! Welcome to Planning Insights!","success"),p(!1),setTimeout(()=>{y("/dashboard")},500)}catch(G){console.error(" OTP verification error:",G),console.error("Error details:",{message:G==null?void 0:G.message,response:(j=G==null?void 0:G.response)==null?void 0:j.data,status:(W=G==null?void 0:G.response)==null?void 0:W.status});const B=((q=($=G==null?void 0:G.response)==null?void 0:$.data)==null?void 0:q.message)||(G==null?void 0:G.message)||"Verification failed";h(B),R(B,"error"),p(!1)}},P=async()=>{var z,j;h("");try{const W={firstName:b.firstName,lastName:b.lastName,email:b.email,phone:b.phone,country:b.country,password:b.password},$=await _(W);$.success?(R("New verification code sent!","success"),v(null)):(h($.error||"Failed to resend code"),R($.error||"Failed to resend code","error"))}catch(W){console.error("Resend OTP error",W);const $=((j=(z=W==null?void 0:W.response)==null?void 0:z.data)==null?void 0:j.message)||(W==null?void 0:W.message)||"Failed to resend code";h($),R($,"error")}},k=()=>{u(!1),h(""),v(null)},A=async()=>{try{const z=await $Z();console.log("Google sign-in user:",z),R("Signed in with Google","success"),y("/dashboard")}catch(z){console.error("Google sign-in error",z),R((z==null?void 0:z.message)||"Google sign-in failed","error")}};Z.useEffect(()=>{const z=new URLSearchParams(window.location.search),j=z.get("token"),W=z.get("social_error"),$=z.get("social_error_description");if(W){R($||W,"error");const q=new URL(window.location.href);q.searchParams.delete("social_error"),q.searchParams.delete("social_error_description"),window.history.replaceState({},document.title,q.pathname+q.search);return}if(j)try{localStorage.setItem("authToken",j);const q=new URL(window.location.href);q.searchParams.delete("token"),window.history.replaceState({},document.title,q.pathname+q.search),N==null||N(),R("Signed in with LinkedIn","success"),y("/dashboard")}catch(q){console.error("LinkedIn token handling failed",q),R("LinkedIn sign-in failed","error")}},[]);const I=["United States","United Kingdom","Canada","Australia","Germany","France","Spain","Italy","Netherlands","Sweden","Norway","Denmark","India","China","Japan","South Korea","Singapore","UAE","Brazil","Mexico","Argentina","South Africa","Nigeria","Kenya","Egypt"],T={container:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",fontFamily:"'Poppins', sans-serif",padding:"20px",position:"relative",overflow:"hidden"},backgroundShapes:{position:"absolute",width:"100%",height:"100%",overflow:"hidden",zIndex:0},shape:{position:"absolute",borderRadius:"50%",opacity:.1},shape1:{width:"500px",height:"500px",background:"#fff",top:"-250px",right:"-250px",animation:"float 8s ease-in-out infinite"},shape2:{width:"400px",height:"400px",background:"#fff",bottom:"-200px",left:"-200px",animation:"float 10s ease-in-out infinite reverse"},shape3:{width:"350px",height:"350px",background:"#fff",top:"40%",left:"15%",animation:"float 12s ease-in-out infinite"},card:{background:"#fff",borderRadius:"20px",boxShadow:"0 30px 80px rgba(0, 0, 0, 0.3)",position:"relative",overflow:"hidden",width:"1000px",maxWidth:"100%",minHeight:"650px",display:"flex",zIndex:1},overlayContainer:{width:"40%",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",padding:"60px 50px",display:"flex",alignItems:"center",justifyContent:"center",color:"#fff",zIndex:100},overlayContent:{maxWidth:"350px",textAlign:"center"},overlayTitle:{fontSize:"42px",fontWeight:"800",marginBottom:"20px",textShadow:"0 2px 10px rgba(0, 0, 0, 0.2)",lineHeight:"1.2"},overlayText:{fontSize:"16px",lineHeight:"28px",marginBottom:"40px",opacity:.95,fontWeight:"400"},ghostButton:{borderRadius:"30px",border:"2px solid #fff",background:"transparent",color:"#fff",fontSize:"14px",fontWeight:"700",padding:"16px 50px",letterSpacing:"0.5px",textTransform:"uppercase",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",cursor:"pointer"},features:{marginTop:"40px",display:"flex",flexDirection:"column",gap:"15px",textAlign:"left"},feature:{display:"flex",alignItems:"center",gap:"12px",fontSize:"15px"},checkIcon:{width:"24px",height:"24px",borderRadius:"50%",background:"rgba(255, 255, 255, 0.25)",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"14px",flexShrink:0},formContainer:{width:"60%",padding:"50px 60px",display:"flex",alignItems:"center",justifyContent:"center",overflowY:"auto",background:"#fff"},form:{width:"100%",maxWidth:"550px"},title:{fontSize:"36px",fontWeight:"700",color:"#333",marginBottom:"8px",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textAlign:"center"},subtitle:{fontSize:"15px",color:"#666",marginBottom:"30px",textAlign:"center",fontWeight:"400"},socialContainer:{display:"flex",gap:"20px",marginBottom:"25px",justifyContent:"center"},socialBase:{border:"2px solid",borderRadius:"12px",display:"inline-flex",justifyContent:"center",alignItems:"center",height:"50px",width:"120px",cursor:"pointer",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",fontSize:"14px",fontWeight:"600",fontFamily:"'Poppins', sans-serif"},google:{borderColor:"#ea4335",color:"#ea4335",background:"#fff"},linkedin:{borderColor:"#0a66c2",color:"#0a66c2",background:"#fff"},divider:{display:"flex",alignItems:"center",margin:"25px 0",color:"#999",fontSize:"14px"},dividerLine:{flex:1,height:"1px",background:"#e8e8e8"},dividerText:{padding:"0 20px",fontWeight:"500",color:"#888"},row:{display:"flex",gap:"20px",marginBottom:"20px"},inputGroup:{flex:1},inputGroupFull:{marginBottom:"20px"},label:{fontSize:"14px",fontWeight:"600",color:"#555",marginBottom:"8px",display:"block"},required:{color:"#e74c3c",marginLeft:"3px"},input:{background:"#f7f8fa",border:"2px solid #e8e8e8",padding:"14px 18px",width:"100%",borderRadius:"12px",fontSize:"15px",outline:"none",transition:"all 0.3s ease",fontFamily:"inherit",color:"#333"},select:{background:"#f7f8fa",border:"2px solid #e8e8e8",padding:"14px 18px",width:"100%",borderRadius:"12px",fontSize:"15px",outline:"none",transition:"all 0.3s ease",fontFamily:"inherit",color:"#333",cursor:"pointer"},passwordContainer:{position:"relative"},eyeButton:{position:"absolute",right:"18px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",fontSize:"20px",padding:"5px",color:"#999",transition:"color 0.3s ease"},checkbox:{display:"flex",alignItems:"flex-start",gap:"10px",color:"#666",fontSize:"14px",marginBottom:"25px",lineHeight:"1.6"},checkboxInput:{marginTop:"3px",cursor:"pointer"},link:{color:"#667eea",textDecoration:"none",fontWeight:"600"},button:{borderRadius:"12px",border:"none",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"#fff",fontSize:"15px",fontWeight:"700",padding:"16px 40px",width:"100%",letterSpacing:"0.5px",textTransform:"uppercase",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)",cursor:"pointer",boxShadow:"0 10px 25px rgba(102, 126, 234, 0.3)"}};return m("div",{style:T.container,children:[l("style",{children:`
          @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap');
          
          * { box-sizing: border-box; }
          
          @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-30px) rotate(5deg); }
          }

          /* Button spinner */
          .btn-spinner {
            width: 16px;
            height: 16px;
            border: 2px solid rgba(240, 226, 226, 0.08);
            border-top-color: rgba(102,126,234,1);
            border-radius: 50%;
            display: inline-block;
            vertical-align: middle;
            margin-right: 10px;
            animation: spin 1s linear infinite;
          }

          @keyframes spin {
            to { transform: rotate(360deg); }
          }
          
          input:focus, select:focus {
            border-color: #667eea !important;
            background: #fff !important;
            box-shadow: 0 0 0 4px rgba(206, 209, 223, 0.1) !important;
          }
          
          .social-google:hover {
            background: #ea4335 !important;
            color: #fff !important;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(234, 67, 53, 0.3);
          }
          
          .social-linkedin:hover {
            background: #0a66c2 !important;
            color: #fff !important;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(10, 102, 194, 0.3);
          }
          
          .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 35px rgba(102, 126, 234, 0.4);
          }
          
          .ghost-btn:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: scale(1.05);
          }
          
          .eye-btn:hover {
            color: #667eea;
          }
          
          ::-webkit-scrollbar {
            width: 8px;
          }
          
          ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
          }
          
          ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 10px;
          }
          
          @media (max-width: 1000px) {
            .overlay-container {
              display: none !important;
            }
            .form-container {
              width: 100% !important;
              padding: 40px 30px !important;
            }
          }
          
          @media (max-width: 600px) {
            .input-row {
              flex-direction: column !important;
            }
            .social-container {
              flex-direction: column !important;
              align-items: center !important;
            }
            .social-button {
              width: 100% !important;
              max-width: 280px !important;
            }
          }
        `}),m("div",{style:T.backgroundShapes,children:[l("div",{style:{...T.shape,...T.shape1}}),l("div",{style:{...T.shape,...T.shape2}}),l("div",{style:{...T.shape,...T.shape3}})]}),c?l(Uxe,{email:b.email,onVerify:C,onResend:P,onBack:k,loading:f,error:d,remainingAttempts:w}):m("div",{style:T.card,children:[l("div",{className:"overlay-container",style:T.overlayContainer,children:m("div",{style:T.overlayContent,children:[l("h1",{style:T.overlayTitle,children:"Have an existing account?"}),l("p",{style:T.overlayText,children:"Signin Here"}),l("button",{className:"ghost-btn",style:T.ghostButton,onClick:()=>y("/login"),children:"Sign In"})]})}),l("div",{className:"form-container",style:T.formContainer,children:m("form",{style:T.form,onSubmit:E,children:[l("h1",{style:T.title,children:"Create Account"}),l("p",{style:T.subtitle,children:"Fill in your details to get started"}),m("div",{style:T.socialContainer,children:[m("button",{type:"button",className:"social-google social-button",style:{...T.socialBase,...T.google},"aria-label":"Sign up with Google",onClick:A,children:[m("svg",{width:"18",height:"18",viewBox:"0 0 24 24",style:{marginRight:"8px"},children:[l("path",{fill:"#ea4335",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),l("path",{fill:"#34a853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),l("path",{fill:"#fbbc05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),l("path",{fill:"#ea4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),m("button",{type:"button",className:"social-linkedin social-button",style:{...T.socialBase,...T.linkedin},"aria-label":"Sign up with LinkedIn",onClick:()=>{try{localStorage.removeItem("authToken")}catch{}const j="https://planninginsight-backend.vercel.app".replace(/\/?api\/?$/i,"");window.location.assign(`${j}/api/auth/linkedin`)},children:[l("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"#0a66c2",style:{marginRight:"8px"},children:l("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),"LinkedIn"]})]}),m("div",{style:{textAlign:"center",marginBottom:20,fontSize:13,color:"#666"},children:["Trouble switching LinkedIn accounts?",l("button",{type:"button",style:{marginLeft:8,color:"#0a66c2",textDecoration:"underline",background:"transparent",border:"none",cursor:"pointer"},onClick:()=>{try{localStorage.removeItem("authToken")}catch{}R('You will be taken to LinkedIn to sign out. Then return here and click "Sign up with LinkedIn" again.',"info"),window.open("https://www.linkedin.com/m/logout/","_blank","noopener,noreferrer")},children:"Sign out of LinkedIn first"})]}),m("div",{style:T.divider,children:[l("div",{style:T.dividerLine}),l("span",{style:T.dividerText,children:"or register with email"}),l("div",{style:T.dividerLine})]}),m("div",{className:"input-row",style:T.row,children:[m("div",{style:T.inputGroup,children:[m("label",{style:T.label,children:["First Name",l("span",{style:T.required,children:"*"})]}),l("input",{style:T.input,type:"text",placeholder:"First Name",name:"firstName",value:b.firstName,onChange:D,required:!0})]}),m("div",{style:T.inputGroup,children:[m("label",{style:T.label,children:["Last Name",l("span",{style:T.required,children:"*"})]}),l("input",{style:T.input,type:"text",placeholder:"Last Name",name:"lastName",value:b.lastName,onChange:D,required:!0})]})]}),m("div",{style:T.inputGroupFull,children:[m("label",{style:T.label,children:["Email Address",l("span",{style:T.required,children:"*"})]}),l("input",{style:T.input,type:"email",placeholder:"Email@Gmail.com",name:"email",value:b.email,onChange:D,required:!0})]}),m("div",{className:"input-row",style:T.row,children:[m("div",{style:T.inputGroup,children:[l("label",{style:T.label,children:"Phone Number"}),l("input",{style:T.input,type:"tel",placeholder:"+91 1234567890",name:"phone",value:b.phone,onChange:D})]}),m("div",{style:T.inputGroup,children:[m("label",{style:T.label,children:["Country",l("span",{style:T.required,children:"*"})]}),m("select",{style:T.select,name:"country",value:b.country,onChange:D,required:!0,children:[l("option",{value:"",children:"Select your country"}),I.map(z=>l("option",{value:z,children:z},z))]})]})]}),m("div",{className:"input-row",style:T.row,children:[m("div",{style:T.inputGroup,children:[m("label",{style:T.label,children:["Password",l("span",{style:T.required,children:"*"})]}),m("div",{style:T.passwordContainer,children:[l("input",{style:T.input,type:t?"text":"password",placeholder:"Min. 8 characters",name:"password",value:b.password,onChange:D,required:!0}),l("button",{type:"button",className:"eye-btn",style:T.eyeButton,onClick:()=>e(!t),children:t?"":""})]})]}),m("div",{style:T.inputGroup,children:[m("label",{style:T.label,children:["Confirm Password",l("span",{style:T.required,children:"*"})]}),m("div",{style:T.passwordContainer,children:[l("input",{style:T.input,type:n?"text":"password",placeholder:"Re-enter password",name:"confirmPassword",value:b.confirmPassword,onChange:D,required:!0}),l("button",{type:"button",className:"eye-btn",style:T.eyeButton,onClick:()=>i(!n),children:n?"":""})]})]})]}),m("label",{style:T.checkbox,children:[l("input",{style:T.checkboxInput,type:"checkbox",name:"agreeTerms",checked:b.agreeTerms,onChange:D,required:!0}),m("span",{children:["I agree to the ",l("a",{style:T.link,href:"#",children:"Terms of Service"})," and"," ",l("a",{style:T.link,href:"#",children:"Privacy Policy"})]})]}),s&&l("div",{style:{color:"#b00020",marginBottom:"12px",textAlign:"center"},children:s}),l("button",{type:"submit",className:"submit-btn",style:T.button,disabled:r,children:r?m(vt,{children:[l("span",{className:"btn-spinner","aria-hidden":!0}),"Sending verification code..."]}):"Create Account"})]})})]})]})}const Bxe=()=>l("div",{className:"signup-page",children:l(Mxe,{})}),zxe=t=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t);const A0=({size:t="md",color:e="primary",text:n="Loading...",overlay:i=!1})=>{const r={sm:"loader-sm",md:"loader-md",lg:"loader-lg"},a={primary:"loader-primary",white:"loader-white",secondary:"loader-secondary"},s=()=>m("div",{className:"loader-container",children:[l("div",{className:`loader-spinner ${r[t]} ${a[e]}`}),n&&l("p",{className:"loader-text",children:n})]});return i?l("div",{className:"loader-overlay",children:s()}):s()},jxe=()=>{const{forgotPassword:t,resetPassword:e,verifyOTP:n}=Hr(),{showNotification:i}=vo(),[r,a]=Z.useState("email"),[s,o]=Z.useState(!1),[c,u]=Z.useState({email:"",otp:["","","","","",""],newPassword:"",confirmPassword:""}),[d,h]=Z.useState({}),[f,p]=Z.useState(!1),[w,v]=Z.useState(!1),b=async k=>{if(k.preventDefault(),!c.email.trim()){h({email:"Email is required"});return}if(!zxe(c.email)){h({email:"Please enter a valid email address"});return}o(!0);try{const A=await t(c.email);A.success?(i("Reset code sent to your email","success"),a("otp"),h({})):i(A.error||"Failed to send reset code","error")}catch{i("Failed to send reset code","error")}finally{o(!1)}},g=(k,A)=>{var T;if(A.length>1&&(A=A[0]),!/^\d*$/.test(A))return;const I=[...c.otp];I[k]=A,u(z=>({...z,otp:I})),A&&k<5&&((T=document.getElementById(`reset-otp-${k+1}`))==null||T.focus())},y=(k,A)=>{var I;A.key==="Backspace"&&!c.otp[k]&&k>0&&((I=document.getElementById(`reset-otp-${k-1}`))==null||I.focus())},_=k=>{var z,j;k.preventDefault();const A=k.clipboardData.getData("text").slice(0,6);if(!/^\d+$/.test(A))return;const I=A.split("").concat(Array(6-A.length).fill(""));u(W=>({...W,otp:I}));const T=I.findIndex(W=>!W);T!==-1?(z=document.getElementById(`reset-otp-${T}`))==null||z.focus():(j=document.getElementById("reset-otp-5"))==null||j.focus()},S=async k=>{k.preventDefault();const A=c.otp.join("");if(A.length!==6){i("Please enter complete 6-digit code","error");return}o(!0);try{const I=await n(c.email,A);I.success?(i("Code verified successfully","success"),a("reset")):i(I.error||"Invalid verification code","error")}catch{i("Verification failed","error")}finally{o(!1)}},N=async k=>{k.preventDefault();const A={};if(c.newPassword?c.newPassword.length<8&&(A.newPassword="Password must be at least 8 characters"):A.newPassword="New password is required",c.confirmPassword?c.newPassword!==c.confirmPassword&&(A.confirmPassword="Passwords do not match"):A.confirmPassword="Please confirm your password",Object.keys(A).length>0){h(A);return}o(!0);try{const I=await e("reset-token",c.newPassword);I.success?(i("Password reset successfully!","success"),a("success")):i(I.error||"Password reset failed","error")}catch{i("Password reset failed","error")}finally{o(!1)}},R=async()=>{var k;try{const A=await t(c.email);A.success?(i("New code sent to your email","success"),u(I=>({...I,otp:["","","","","",""]})),(k=document.getElementById("reset-otp-0"))==null||k.focus()):i(A.error||"Failed to resend code","error")}catch{i("Failed to resend code","error")}},D=()=>m("form",{onSubmit:b,className:"auth-form",children:[m("div",{className:`form-group ${d.email?"error":""}`,children:[m("label",{htmlFor:"email",children:[l(sw,{size:18}),"Email Address"]}),l("input",{id:"email",type:"email",value:c.email,onChange:k=>{u(A=>({...A,email:k.target.value})),h({})},placeholder:"you@example.com",autoComplete:"email",autoFocus:!0}),d.email&&l("span",{className:"error-message slide-in",children:d.email})]}),l("button",{type:"submit",className:"btn btn-primary btn-large",disabled:s,children:s?l(A0,{size:"small"}):m(vt,{children:["Send Reset Code",l(sw,{size:20})]})}),m(pn,{to:"/login",className:"back-link",children:[l(hf,{size:18}),"Back to Sign In"]})]}),E=()=>m("form",{onSubmit:S,className:"auth-form",children:[l("div",{className:"otp-input-group",children:c.otp.map((k,A)=>l("input",{id:`reset-otp-${A}`,type:"text",inputMode:"numeric",maxLength:"1",value:k,onChange:I=>g(A,I.target.value),onKeyDown:I=>y(A,I),onPaste:A===0?_:void 0,className:`otp-input ${k?"filled":""}`,autoFocus:A===0},A))}),l("button",{type:"submit",className:"btn btn-primary btn-large",disabled:s||c.otp.join("").length!==6,children:s?l(A0,{size:"small"}):m(vt,{children:["Verify Code",l(Gn,{size:20})]})}),l("div",{className:"form-footer",children:m("p",{children:["Didn't receive the code?"," ",l("button",{type:"button",onClick:R,className:"link-button",disabled:s,children:"Resend Code"})]})})]}),C=()=>m("form",{onSubmit:N,className:"auth-form",children:[m("div",{className:`form-group ${d.newPassword?"error":""}`,children:[m("label",{htmlFor:"newPassword",children:[l(aw,{size:18}),"New Password"]}),m("div",{className:"input-with-icon",children:[l("input",{id:"newPassword",type:f?"text":"password",value:c.newPassword,onChange:k=>{u(A=>({...A,newPassword:k.target.value})),h(A=>({...A,newPassword:""}))},placeholder:"Enter new password",autoComplete:"new-password"}),l("button",{type:"button",className:"icon-button",onClick:()=>p(!f),children:f?l(CW,{size:18}):l(Pa,{size:18})})]}),d.newPassword&&l("span",{className:"error-message slide-in",children:d.newPassword})]}),m("div",{className:`form-group ${d.confirmPassword?"error":""}`,children:[m("label",{htmlFor:"confirmPassword",children:[l(aw,{size:18}),"Confirm Password"]}),m("div",{className:"input-with-icon",children:[l("input",{id:"confirmPassword",type:w?"text":"password",value:c.confirmPassword,onChange:k=>{u(A=>({...A,confirmPassword:k.target.value})),h(A=>({...A,confirmPassword:""}))},placeholder:"Confirm new password",autoComplete:"new-password"}),l("button",{type:"button",className:"icon-button",onClick:()=>v(!w),children:w?l(CW,{size:18}):l(Pa,{size:18})})]}),d.confirmPassword&&l("span",{className:"error-message slide-in",children:d.confirmPassword})]}),l("button",{type:"submit",className:"btn btn-primary btn-large",disabled:s,children:s?l(A0,{size:"small"}):m(vt,{children:["Reset Password",l(Gn,{size:20})]})})]}),P=()=>m("div",{className:"success-container",children:[l("div",{className:"success-icon",children:l(Gn,{size:64})}),l("h2",{children:"Password Reset Successfully!"}),l("p",{children:"Your password has been reset. You can now sign in with your new password."}),m(pn,{to:"/login",className:"btn btn-primary btn-large",children:["Go to Sign In",l(hf,{size:20})]})]});return m("div",{className:"auth-container",children:[m("div",{className:"auth-background",children:[l("div",{className:"gradient-orb orb-1"}),l("div",{className:"gradient-orb orb-2"}),l("div",{className:"gradient-orb orb-3"})]}),l("div",{className:"auth-content",children:m("div",{className:"auth-card",children:[m("div",{className:"auth-header",children:[l("div",{className:"auth-icon",children:r==="success"?l(Gn,{size:32}):l(c_,{size:32})}),m("h1",{children:[r==="email"&&"Reset Password",r==="otp"&&"Verify Your Identity",r==="reset"&&"Create New Password",r==="success"&&"All Set!"]}),m("p",{children:[r==="email"&&"Enter your email to receive a password reset code",r==="otp"&&`Enter the 6-digit code sent to ${c.email}`,r==="reset"&&"Choose a strong password for your account",r==="success"&&"Your password has been successfully reset"]})]}),r==="email"&&D(),r==="otp"&&E(),r==="reset"&&C(),r==="success"&&P()]})})]})},$xe=()=>l("div",{className:"forgot-password-page",children:l(jxe,{})}),Wxe="https://planninginsight-backend.vercel.app",Oe=fJ.create({baseURL:Wxe,headers:{"Content-Type":"application/json"}});Oe.interceptors.request.use(t=>{const e=localStorage.getItem("adminToken")||localStorage.getItem("authToken");return e&&(t.headers.Authorization=`Bearer ${e}`),t.data instanceof FormData&&delete t.headers["Content-Type"],t},t=>Promise.reject(t));Oe.interceptors.response.use(t=>t,t=>{var e;if(((e=t.response)==null?void 0:e.status)===401){const n=window.location.pathname;localStorage.getItem("isAdminSession")==="true"||n.includes("/admin")?n.includes("/admin/login")||(localStorage.removeItem("adminToken"),localStorage.removeItem("isAdminSession"),window.location.href="/admin/login"):n.includes("/login")||(localStorage.removeItem("authToken"),window.location.href="/login")}return Promise.reject(t)});const la={getArticles:async(t={})=>(await Oe.get("/newsroom/articles",{params:t})).data,getArticle:async t=>(await Oe.get(`/newsroom/articles/${t}`)).data,getPublishedArticles:async(t={})=>(await Oe.get("/newsroom/articles/published",{params:t})).data,getPublicArticles:async(t={})=>(await Oe.get("/newsroom/articles",{params:{...t,status:"published",approvalStatus:"approved"}})).data,searchUsers:async t=>(await Oe.get("/user/search",{params:{q:t,limit:10}})).data,likeArticle:async t=>(await Oe.post(`/newsroom/articles/${t}/like`)).data,dislikeArticle:async t=>(await Oe.post(`/newsroom/articles/${t}/dislike`)).data,flagArticle:async(t,e,n)=>(await Oe.post(`/newsroom/articles/${t}/flag`,{reason:e,description:n})).data,shareArticle:async t=>(await Oe.post(`/newsroom/articles/${t}/share`)).data,getArticleStats:async t=>(await Oe.get(`/newsroom/articles/${t}/stats`)).data,createArticle:async t=>{let e;return t instanceof FormData?e=t:(e=new FormData,Object.keys(t).forEach(i=>{i==="tags"||i==="coAuthors"||i==="plagiarismReport"?e.append(i,JSON.stringify(t[i])):i==="featuredImage"&&t[i]?e.append("featuredImage",t[i]):t[i]!==null&&t[i]!==void 0&&e.append(i,t[i])})),(await Oe.post("/newsroom/articles",e,{headers:{"Content-Type":"multipart/form-data"}})).data},updateArticle:async(t,e)=>{const n=new FormData;return Object.keys(e).forEach(r=>{r==="tags"||r==="coAuthors"||r==="plagiarismReport"?n.append(r,JSON.stringify(e[r])):r==="featuredImage"&&e[r]?n.append("featuredImage",e[r]):e[r]!==null&&e[r]!==void 0&&n.append(r,e[r])}),(await Oe.put(`/newsroom/articles/${t}`,n,{headers:{"Content-Type":"multipart/form-data"}})).data},deleteArticle:async t=>(await Oe.delete(`/newsroom/articles/${t}`)).data,getUserArticles:async(t={})=>(await Oe.get("/newsroom/articles/user/my-articles",{params:t})).data,getMyArticles:async(t={})=>(await Oe.get("/newsroom/articles/user/my-articles",{params:t})).data,bookmarkArticle:async t=>(await Oe.post(`/newsroom/articles/${t}/bookmark`)).data,getBookmarks:async(t={})=>(await Oe.get("/newsroom/bookmarks",{params:t})).data,getComments:async(t,e={})=>(await Oe.get(`/newsroom/articles/${t}/comments`,{params:e})).data,addComment:async(t,e)=>(await Oe.post(`/newsroom/articles/${t}/comments`,e)).data,updateComment:async(t,e)=>(await Oe.put(`/newsroom/comments/${t}`,e)).data,deleteComment:async t=>(await Oe.delete(`/newsroom/comments/${t}`)).data,likeComment:async t=>(await Oe.post(`/newsroom/comments/${t}/like`)).data,reportContent:async t=>(await Oe.post("/newsroom/reports",t)).data,getCategories:async()=>(await Oe.get("/newsroom/categories")).data,getTrendingArticles:async(t={})=>(await Oe.get("/newsroom/articles/trending",{params:t})).data,searchArticles:async(t,e={})=>(await Oe.get("/newsroom/articles/search",{params:{q:t,...e}})).data,getAuthorProfile:async t=>(await Oe.get(`/newsroom/authors/${t}`)).data,followAuthor:async t=>(await Oe.post(`/newsroom/authors/${t}/follow`)).data,unfollowAuthor:async t=>(await Oe.delete(`/newsroom/authors/${t}/follow`)).data,getNewsletterSubscriptions:async()=>(await Oe.get("/newsroom/newsletter/subscriptions")).data,subscribeToNewsletter:async t=>(await Oe.post("/newsroom/newsletter/subscribe",{email:t})).data,unsubscribeFromNewsletter:async t=>(await Oe.delete(`/newsroom/newsletter/subscribe/${t}`)).data,getContentStats:async(t={})=>(await Oe.get("/newsroom/analytics/content-stats",{params:t})).data,getReadingHistory:async(t={})=>(await Oe.get("/newsroom/history",{params:t})).data,clearReadingHistory:async()=>(await Oe.delete("/newsroom/history")).data,checkPlagiarism:async(t,e="")=>(await Oe.post("/newsroom/plagiarism/check",{content:t,title:e})).data,getPlagiarismHistory:async()=>(await Oe.get("/newsroom/plagiarism/history")).data,getPlagiarismStats:async()=>(await Oe.get("/newsroom/plagiarism/stats")).data};const qxe=()=>{Hr();const{showNotification:t}=vo(),e=Gi(),[n,i]=Z.useState([]),[r,a]=Z.useState(!0),[s,o]=Z.useState("all");Z.useEffect(()=>{c()},[]);const c=async()=>{var y;a(!0);try{console.log("=== LOADING USER ARTICLES ===");const _=await la.getUserArticles();console.log("Response:",_);const S=((y=_.data)==null?void 0:y.articles)||_.articles||[];i(S),console.log(`Loaded ${S.length} articles`)}catch(_){console.error("Error loading articles:",_),t("Failed to load articles","error"),i([])}finally{a(!1)}},u=()=>({all:n.length,pending:n.filter(y=>y.approvalStatus==="pending").length,needsModification:n.filter(y=>y.approvalStatus==="needsModification").length,approved:n.filter(y=>y.approvalStatus==="approved").length,rejected:n.filter(y=>y.approvalStatus==="rejected").length}),d=()=>s==="all"?n:n.filter(y=>y.approvalStatus===s),h=u(),f=d(),p=y=>{e(`/news/edit/${y}`)},w=async y=>{if(window.confirm("Are you sure you want to delete this article?"))try{await la.deleteArticle(y),t("Article deleted successfully","success"),c()}catch{t("Failed to delete article","error")}},v=y=>{const{approvalStatus:_,status:S}=y;return _==="approved"?m("span",{className:"status-badge approved",children:[l(Gn,{size:16}),"Approved & Published"]}):_==="rejected"?m("span",{className:"status-badge rejected",children:[l(ao,{size:16}),"Rejected"]}):_==="needsModification"?m("span",{className:"status-badge needs-modification",children:[l(n4,{size:16}),"Needs Modification"]}):_==="pending"?m("span",{className:"status-badge pending",children:[l(ar,{size:16}),"Pending Review"]}):m("span",{className:"status-badge draft",children:[l(xn,{size:16}),"Draft"]})},b=y=>{const{approvalStatus:_}=y;return _==="needsModification"?m("div",{className:"article-alert",children:[l(n4,{size:20}),m("div",{children:[l("strong",{children:"Modification Required"}),l("p",{children:y.modificationNotes||"The admin has requested modifications to this article. Please review and update."}),m("button",{className:"btn-primary",onClick:()=>p(y._id),children:[l(l_,{size:16}),"Edit & Resubmit"]})]})]}):_==="rejected"?m("div",{className:"article-alert rejected-alert",children:[l(ao,{size:20}),m("div",{children:[l("strong",{children:"Article Rejected"}),l("p",{children:y.rejectionReason||"Your article was rejected by the admin."})]})]}):null},g=y=>new Date(y).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return r?l("div",{className:"my-articles-page",children:m("div",{className:"loading-container",children:[l(S0,{className:"spinner",size:32}),l("p",{children:"Loading your articles..."})]})}):m("div",{className:"my-articles-page",children:[m("div",{className:"my-articles-header",children:[m("div",{children:[l("h1",{children:"My Articles"}),l("p",{children:"Manage and track your article submissions"})]}),m("div",{className:"header-actions",children:[m("button",{className:"btn-secondary",onClick:c,disabled:r,title:"Refresh articles",children:[l(S0,{size:20,className:r?"spinner":""}),"Refresh"]}),m("button",{className:"btn-primary",onClick:()=>e("/news/submit"),children:[l(ru,{size:20}),"New Article"]})]})]}),m("div",{className:"articles-filters",children:[m("button",{className:`filter-btn ${s==="all"?"active":""}`,onClick:()=>o("all"),children:["All Articles (",h.all,")"]}),m("button",{className:`filter-btn ${s==="pending"?"active":""}`,onClick:()=>o("pending"),children:[l(ar,{size:16}),"Pending Review",h.pending>0&&l("span",{className:"count-badge",children:h.pending})]}),m("button",{className:`filter-btn ${s==="needsModification"?"active":""}`,onClick:()=>o("needsModification"),children:[l(n4,{size:16}),"Needs Modification",h.needsModification>0&&l("span",{className:"count-badge warning",children:h.needsModification})]}),m("button",{className:`filter-btn ${s==="approved"?"active":""}`,onClick:()=>o("approved"),children:[l(Gn,{size:16}),"Approved",h.approved>0&&l("span",{className:"count-badge success",children:h.approved})]}),m("button",{className:`filter-btn ${s==="rejected"?"active":""}`,onClick:()=>o("rejected"),children:[l(ao,{size:16}),"Rejected",h.rejected>0&&l("span",{className:"count-badge error",children:h.rejected})]})]}),f.length===0?m("div",{className:"empty-state",children:[l(xn,{size:64}),m("h3",{children:[s==="all"&&"No articles found",s==="pending"&&"No pending articles",s==="needsModification"&&"No articles need modification",s==="approved"&&"No approved articles",s==="rejected"&&"No rejected articles"]}),m("p",{children:[s==="all"&&"You haven't submitted any articles yet.",s==="pending"&&"You don't have any articles awaiting review.",s==="needsModification"&&"None of your articles need modifications.",s==="approved"&&"You don't have any approved articles yet.",s==="rejected"&&"None of your articles have been rejected."]}),s==="all"&&m("button",{className:"btn-primary",onClick:()=>e("/news/submit"),children:[l(ru,{size:20}),"Create Your First Article"]})]}):l("div",{className:"articles-list",children:f.map(y=>m("div",{className:"article-card",children:[m("div",{className:"article-header",children:[m("div",{children:[l("h3",{children:y.title}),m("div",{className:"article-meta",children:[m("span",{children:["Category: ",y.category]}),l("span",{children:""}),m("span",{children:["Submitted: ",g(y.createdAt)]}),y.plagiarismScore!==void 0&&m(vt,{children:[l("span",{children:""}),m("span",{className:y.plagiarismScore>30?"plagiarism-high":"plagiarism-ok",children:["Plagiarism: ",y.plagiarismScore,"%"]})]})]})]}),v(y)]}),b(y),l("p",{className:"article-excerpt",children:y.excerpt}),m("div",{className:"article-actions",children:[y.approvalStatus==="approved"&&m("button",{className:"btn-secondary",onClick:()=>e(`/news/${y._id}`),children:[l(Pa,{size:16}),"View Published"]}),(y.approvalStatus==="needsModification"||y.approvalStatus==="pending")&&m("button",{className:"btn-secondary",onClick:()=>p(y._id),children:[l(l_,{size:16}),"Edit"]}),y.approvalStatus!=="approved"&&m("button",{className:"btn-danger",onClick:()=>w(y._id),children:[l(ny,{size:16}),"Delete"]})]})]},y._id))})]})},_d=Object.create(null);_d.open="0";_d.close="1";_d.ping="2";_d.pong="3";_d.message="4";_d.upgrade="5";_d.noop="6";const a4=Object.create(null);Object.keys(_d).forEach(t=>{a4[_d[t]]=t});const v7={type:"error",data:"parser error"},IQ=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",RQ=typeof ArrayBuffer=="function",LQ=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,NU=({type:t,data:e},n,i)=>IQ&&e instanceof Blob?n?i(e):RW(e,i):RQ&&(e instanceof ArrayBuffer||LQ(e))?n?i(e):RW(new Blob([e]),i):i(_d[t]+(e||"")),RW=(t,e)=>{const n=new FileReader;return n.onload=function(){const i=n.result.split(",")[1];e("b"+(i||""))},n.readAsDataURL(t)};function LW(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let XP;function Hxe(t,e){if(IQ&&t.data instanceof Blob)return t.data.arrayBuffer().then(LW).then(e);if(RQ&&(t.data instanceof ArrayBuffer||LQ(t.data)))return e(LW(t.data));NU(t,!1,n=>{XP||(XP=new TextEncoder),e(XP.encode(n))})}const FW="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qx=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<FW.length;t++)qx[FW.charCodeAt(t)]=t;const Vxe=t=>{let e=t.length*.75,n=t.length,i,r=0,a,s,o,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const u=new ArrayBuffer(e),d=new Uint8Array(u);for(i=0;i<n;i+=4)a=qx[t.charCodeAt(i)],s=qx[t.charCodeAt(i+1)],o=qx[t.charCodeAt(i+2)],c=qx[t.charCodeAt(i+3)],d[r++]=a<<2|s>>4,d[r++]=(s&15)<<4|o>>2,d[r++]=(o&3)<<6|c&63;return u},Gxe=typeof ArrayBuffer=="function",kU=(t,e)=>{if(typeof t!="string")return{type:"message",data:FQ(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:Xxe(t.substring(1),e)}:a4[n]?t.length>1?{type:a4[n],data:t.substring(1)}:{type:a4[n]}:v7},Xxe=(t,e)=>{if(Gxe){const n=Vxe(t);return FQ(n,e)}else return{base64:!0,data:t}},FQ=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},OQ=String.fromCharCode(30),Kxe=(t,e)=>{const n=t.length,i=new Array(n);let r=0;t.forEach((a,s)=>{NU(a,!1,o=>{i[s]=o,++r===n&&e(i.join(OQ))})})},Yxe=(t,e)=>{const n=t.split(OQ),i=[];for(let r=0;r<n.length;r++){const a=kU(n[r],e);if(i.push(a),a.type==="error")break}return i};function Jxe(){return new TransformStream({transform(t,e){Hxe(t,n=>{const i=n.length;let r;if(i<126)r=new Uint8Array(1),new DataView(r.buffer).setUint8(0,i);else if(i<65536){r=new Uint8Array(3);const a=new DataView(r.buffer);a.setUint8(0,126),a.setUint16(1,i)}else{r=new Uint8Array(9);const a=new DataView(r.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(i))}t.data&&typeof t.data!="string"&&(r[0]|=128),e.enqueue(r),e.enqueue(n)})}})}let KP;function Y3(t){return t.reduce((e,n)=>e+n.length,0)}function J3(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let i=0;for(let r=0;r<e;r++)n[r]=t[0][i++],i===t[0].length&&(t.shift(),i=0);return t.length&&i<t[0].length&&(t[0]=t[0].slice(i)),n}function Zxe(t,e){KP||(KP=new TextDecoder);const n=[];let i=0,r=-1,a=!1;return new TransformStream({transform(s,o){for(n.push(s);;){if(i===0){if(Y3(n)<1)break;const c=J3(n,1);a=(c[0]&128)===128,r=c[0]&127,r<126?i=3:r===126?i=1:i=2}else if(i===1){if(Y3(n)<2)break;const c=J3(n,2);r=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),i=3}else if(i===2){if(Y3(n)<8)break;const c=J3(n,8),u=new DataView(c.buffer,c.byteOffset,c.length),d=u.getUint32(0);if(d>Math.pow(2,53-32)-1){o.enqueue(v7);break}r=d*Math.pow(2,32)+u.getUint32(4),i=3}else{if(Y3(n)<r)break;const c=J3(n,r);o.enqueue(kU(a?c:KP.decode(c),e)),i=0}if(r===0||r>t){o.enqueue(v7);break}}}})}const UQ=4;function Er(t){if(t)return Qxe(t)}function Qxe(t){for(var e in Er.prototype)t[e]=Er.prototype[e];return t}Er.prototype.on=Er.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};Er.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};Er.prototype.off=Er.prototype.removeListener=Er.prototype.removeAllListeners=Er.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var i,r=0;r<n.length;r++)if(i=n[r],i===e||i.fn===e){n.splice(r,1);break}return n.length===0&&delete this._callbacks["$"+t],this};Er.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(n){n=n.slice(0);for(var i=0,r=n.length;i<r;++i)n[i].apply(this,e)}return this};Er.prototype.emitReserved=Er.prototype.emit;Er.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};Er.prototype.hasListeners=function(t){return!!this.listeners(t).length};const C6=(()=>typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0))(),tc=(()=>typeof self<"u"?self:typeof window<"u"?window:Function("return this")())(),e5e="arraybuffer";function MQ(t,...e){return e.reduce((n,i)=>(t.hasOwnProperty(i)&&(n[i]=t[i]),n),{})}const t5e=tc.setTimeout,n5e=tc.clearTimeout;function E6(t,e){e.useNativeTimers?(t.setTimeoutFn=t5e.bind(tc),t.clearTimeoutFn=n5e.bind(tc)):(t.setTimeoutFn=tc.setTimeout.bind(tc),t.clearTimeoutFn=tc.clearTimeout.bind(tc))}const i5e=1.33;function r5e(t){return typeof t=="string"?a5e(t):Math.ceil((t.byteLength||t.size)*i5e)}function a5e(t){let e=0,n=0;for(let i=0,r=t.length;i<r;i++)e=t.charCodeAt(i),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(i++,n+=4);return n}function BQ(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function s5e(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function o5e(t){let e={},n=t.split("&");for(let i=0,r=n.length;i<r;i++){let a=n[i].split("=");e[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return e}class l5e extends Error{constructor(e,n,i){super(e),this.description=n,this.context=i,this.type="TransportError"}}class CU extends Er{constructor(e){super(),this.writable=!1,E6(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,i){return super.emitReserved("error",new l5e(e,n,i)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=kU(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(this.opts.port)!==443||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=s5e(e);return n.length?"?"+n:""}}class c5e extends CU{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let i=0;this._polling&&(i++,this.once("pollComplete",function(){--i||n()})),this.writable||(i++,this.once("drain",function(){--i||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=i=>{if(this.readyState==="opening"&&i.type==="open"&&this.onOpen(),i.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(i)};Yxe(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Kxe(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=BQ()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let zQ=!1;try{zQ=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const u5e=zQ;function d5e(){}class h5e extends c5e{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let i=location.port;i||(i=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||i!==e.port}}doWrite(e,n){const i=this.request({method:"POST",data:e});i.on("success",n),i.on("error",(r,a)=>{this.onError("xhr post error",r,a)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,i)=>{this.onError("xhr poll error",n,i)}),this.pollXhr=e}}let Fv=class s4 extends Er{constructor(e,n,i){super(),this.createRequest=e,E6(this,i),this._opts=i,this._method=i.method||"GET",this._uri=n,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var e;const n=MQ(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const i=this._xhr=this.createRequest(n);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let r in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(r)&&i.setRequestHeader(r,this._opts.extraHeaders[r])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var r;i.readyState===3&&((r=this._opts.cookieJar)===null||r===void 0||r.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(r){this.setTimeoutFn(()=>{this._onError(r)},0);return}typeof document<"u"&&(this._index=s4.requestsCount++,s4.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=d5e,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete s4.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};Fv.requestsCount=0;Fv.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",OW);else if(typeof addEventListener=="function"){const t="onpagehide"in tc?"pagehide":"unload";addEventListener(t,OW,!1)}}function OW(){for(let t in Fv.requests)Fv.requests.hasOwnProperty(t)&&Fv.requests[t].abort()}const f5e=function(){const t=jQ({xdomain:!1});return t&&t.responseType!==null}();class p5e extends h5e{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=f5e&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Fv(jQ,this.uri(),e)}}function jQ(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||u5e))return new XMLHttpRequest}catch{}if(!e)try{return new tc[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const $Q=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class m5e extends CU{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,i=$Q?{}:MQ(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,i)}catch(r){return this.emitReserved("error",r)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const i=e[n],r=n===e.length-1;NU(i,this.supportsBinary,a=>{try{this.doWrite(i,a)}catch{}r&&C6(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=BQ()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const YP=tc.WebSocket||tc.MozWebSocket;class g5e extends m5e{createSocket(e,n,i){return $Q?new YP(e,n,i):n?new YP(e,n):new YP(e)}doWrite(e,n){this.ws.send(n)}}class y5e extends CU{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=Zxe(Number.MAX_SAFE_INTEGER,this.socket.binaryType),i=e.readable.pipeThrough(n).getReader(),r=Jxe();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const a=()=>{i.read().then(({done:o,value:c})=>{o||(this.onPacket(c),a())}).catch(o=>{})};a();const s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const i=e[n],r=n===e.length-1;this._writer.write(i).then(()=>{r&&C6(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const v5e={websocket:g5e,webtransport:y5e,polling:p5e},b5e=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,w5e=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function b7(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),i=t.indexOf("]");n!=-1&&i!=-1&&(t=t.substring(0,n)+t.substring(n,i).replace(/:/g,";")+t.substring(i,t.length));let r=b5e.exec(t||""),a={},s=14;for(;s--;)a[w5e[s]]=r[s]||"";return n!=-1&&i!=-1&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=x5e(a,a.path),a.queryKey=_5e(a,a.query),a}function x5e(t,e){const n=/\/{2,9}/g,i=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&i.splice(0,1),e.slice(-1)=="/"&&i.splice(i.length-1,1),i}function _5e(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(i,r,a){r&&(n[r]=a)}),n}const w7=typeof addEventListener=="function"&&typeof removeEventListener=="function",o4=[];w7&&addEventListener("offline",()=>{o4.forEach(t=>t())},!1);class Sm extends Er{constructor(e,n){if(super(),this.binaryType=e5e,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const i=b7(e);n.hostname=i.host,n.secure=i.protocol==="https"||i.protocol==="wss",n.port=i.port,i.query&&(n.query=i.query)}else n.host&&(n.hostname=b7(n.host).host);E6(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(i=>{const r=i.prototype.name;this.transports.push(r),this._transportsByName[r]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=o5e(this.opts.query)),w7&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},o4.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=UQ,n.transport=e,this.id&&(n.sid=this.id);const i=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Sm.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Sm.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let i=0;i<this.writeBuffer.length;i++){const r=this.writeBuffer[i].data;if(r&&(n+=r5e(r)),i>0&&n>this._maxPayload)return this.writeBuffer.slice(0,i);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,C6(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,i){return this._sendPacket("message",e,n,i),this}send(e,n,i){return this._sendPacket("message",e,n,i),this}_sendPacket(e,n,i,r){if(typeof n=="function"&&(r=n,n=void 0),typeof i=="function"&&(r=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;const a={type:e,data:n,options:i};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},i=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():e()}):this.upgrading?i():e()),this}_onError(e){if(Sm.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),w7&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const i=o4.indexOf(this._offlineEventListener);i!==-1&&o4.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}Sm.protocol=UQ;class S5e extends Sm{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),i=!1;Sm.priorWebsocketSuccess=!1;const r=()=>{i||(n.send([{type:"ping",data:"probe"}]),n.once("packet",h=>{if(!i)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Sm.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{i||this.readyState!=="closed"&&(d(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=n.name,this.emitReserved("upgradeError",f)}}))};function a(){i||(i=!0,d(),n.close(),n=null)}const s=h=>{const f=new Error("probe error: "+h);f.transport=n.name,a(),this.emitReserved("upgradeError",f)};function o(){s("transport closed")}function c(){s("socket closed")}function u(h){n&&h.name!==n.name&&a()}const d=()=>{n.removeListener("open",r),n.removeListener("error",s),n.removeListener("close",o),this.off("close",c),this.off("upgrading",u)};n.once("open",r),n.once("error",s),n.once("close",o),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{i||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let i=0;i<e.length;i++)~this.transports.indexOf(e[i])&&n.push(e[i]);return n}}let A5e=class extends S5e{constructor(e,n={}){const i=typeof e=="object"?e:n;(!i.transports||i.transports&&typeof i.transports[0]=="string")&&(i.transports=(i.transports||["polling","websocket","webtransport"]).map(r=>v5e[r]).filter(r=>!!r)),super(e,i)}};function N5e(t,e="",n){let i=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),i=b7(t)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";const a=i.host.indexOf(":")!==-1?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+a+":"+i.port+e,i.href=i.protocol+"://"+a+(n&&n.port===i.port?"":":"+i.port),i}const k5e=typeof ArrayBuffer=="function",C5e=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,WQ=Object.prototype.toString,E5e=typeof Blob=="function"||typeof Blob<"u"&&WQ.call(Blob)==="[object BlobConstructor]",T5e=typeof File=="function"||typeof File<"u"&&WQ.call(File)==="[object FileConstructor]";function EU(t){return k5e&&(t instanceof ArrayBuffer||C5e(t))||E5e&&t instanceof Blob||T5e&&t instanceof File}function l4(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,i=t.length;n<i;n++)if(l4(t[n]))return!0;return!1}if(EU(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return l4(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&l4(t[n]))return!0;return!1}function D5e(t){const e=[],n=t.data,i=t;return i.data=x7(n,e),i.attachments=e.length,{packet:i,buffers:e}}function x7(t,e){if(!t)return t;if(EU(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let i=0;i<t.length;i++)n[i]=x7(t[i],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=x7(t[i],e));return n}return t}function P5e(t,e){return t.data=_7(t.data,e),delete t.attachments,t}function _7(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=_7(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=_7(t[n],e));return t}const qQ=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],I5e=5;var an;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(an||(an={}));class R5e{constructor(e){this.replacer=e}encode(e){return(e.type===an.EVENT||e.type===an.ACK)&&l4(e)?this.encodeAsBinary({type:e.type===an.EVENT?an.BINARY_EVENT:an.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===an.BINARY_EVENT||e.type===an.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=D5e(e),i=this.encodeAsString(n.packet),r=n.buffers;return r.unshift(i),r}}class TU extends Er{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const i=n.type===an.BINARY_EVENT;i||n.type===an.BINARY_ACK?(n.type=i?an.EVENT:an.ACK,this.reconstructor=new L5e(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(EU(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const i={type:Number(e.charAt(0))};if(an[i.type]===void 0)throw new Error("unknown packet type "+i.type);if(i.type===an.BINARY_EVENT||i.type===an.BINARY_ACK){const a=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const s=e.substring(a,n);if(s!=Number(s)||e.charAt(n)!=="-")throw new Error("Illegal attachments");i.attachments=Number(s)}if(e.charAt(n+1)==="/"){const a=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););i.nsp=e.substring(a,n)}else i.nsp="/";const r=e.charAt(n+1);if(r!==""&&Number(r)==r){const a=n+1;for(;++n;){const s=e.charAt(n);if(s==null||Number(s)!=s){--n;break}if(n===e.length)break}i.id=Number(e.substring(a,n+1))}if(e.charAt(++n)){const a=this.tryParse(e.substr(n));if(TU.isPayloadValid(i.type,a))i.data=a;else throw new Error("invalid payload")}return i}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case an.CONNECT:return KC(n);case an.DISCONNECT:return n===void 0;case an.CONNECT_ERROR:return typeof n=="string"||KC(n);case an.EVENT:case an.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&qQ.indexOf(n[0])===-1);case an.ACK:case an.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class L5e{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=P5e(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function F5e(t){return typeof t=="string"}const O5e=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t};function U5e(t){return t===void 0||O5e(t)}function KC(t){return Object.prototype.toString.call(t)==="[object Object]"}function M5e(t,e){switch(t){case an.CONNECT:return e===void 0||KC(e);case an.DISCONNECT:return e===void 0;case an.EVENT:return Array.isArray(e)&&(typeof e[0]=="number"||typeof e[0]=="string"&&qQ.indexOf(e[0])===-1);case an.ACK:return Array.isArray(e);case an.CONNECT_ERROR:return typeof e=="string"||KC(e);default:return!1}}function B5e(t){return F5e(t.nsp)&&U5e(t.id)&&M5e(t.type,t.data)}const z5e=Object.freeze(Object.defineProperty({__proto__:null,Decoder:TU,Encoder:R5e,get PacketType(){return an},isPacketValid:B5e,protocol:I5e},Symbol.toStringTag,{value:"Module"}));function Vc(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const j5e=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class HQ extends Er{constructor(e,n,i){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,i&&i.auth&&(this.auth=i.auth),this._opts=Object.assign({},i),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Vc(e,"open",this.onopen.bind(this)),Vc(e,"packet",this.onpacket.bind(this)),Vc(e,"error",this.onerror.bind(this)),Vc(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var i,r,a;if(j5e.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const s={type:an.EVENT,data:n};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const d=this.ids++,h=n.pop();this._registerAckCallback(d,h),s.id=d}const o=(r=(i=this.io.engine)===null||i===void 0?void 0:i.transport)===null||r===void 0?void 0:r.writable,c=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!o||(c?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(e,n){var i;const r=(i=this.flags.timeout)!==null&&i!==void 0?i:this._opts.ackTimeout;if(r===void 0){this.acks[e]=n;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let o=0;o<this.sendBuffer.length;o++)this.sendBuffer[o].id===e&&this.sendBuffer.splice(o,1);n.call(this,new Error("operation has timed out"))},r),s=(...o)=>{this.io.clearTimeoutFn(a),n.apply(this,o)};s.withError=!0,this.acks[e]=s}emitWithAck(e,...n){return new Promise((i,r)=>{const a=(s,o)=>s?r(s):i(o);a.withError=!0,n.push(a),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const i={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((r,...a)=>(this._queue[0],r!==null?i.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(r)):(this._queue.shift(),n&&n(null,...a)),i.pending=!1,this._drainQueue())),this._queue.push(i),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:an.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(i=>String(i.id)===e)){const i=this.acks[e];delete this.acks[e],i.withError&&i.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case an.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case an.EVENT:case an.BINARY_EVENT:this.onevent(e);break;case an.ACK:case an.BINARY_ACK:this.onack(e);break;case an.DISCONNECT:this.ondisconnect();break;case an.CONNECT_ERROR:this.destroy();const i=new Error(e.data.message);i.data=e.data.data,this.emitReserved("connect_error",i);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const i of n)i.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let i=!1;return function(...r){i||(i=!0,n.packet({type:an.ACK,id:e,data:r}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this._drainQueue(!0),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:an.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let i=0;i<n.length;i++)if(e===n[i])return n.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let i=0;i<n.length;i++)if(e===n[i])return n.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const i of n)i.apply(this,e.data)}}}function Tw(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Tw.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};Tw.prototype.reset=function(){this.attempts=0};Tw.prototype.setMin=function(t){this.ms=t};Tw.prototype.setMax=function(t){this.max=t};Tw.prototype.setJitter=function(t){this.jitter=t};class S7 extends Er{constructor(e,n){var i;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,E6(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((i=n.randomizationFactor)!==null&&i!==void 0?i:.5),this.backoff=new Tw({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const r=n.parser||z5e;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new A5e(this.uri,this.opts);const n=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;const r=Vc(n,"open",function(){i.onopen(),e&&e()}),a=o=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",o),e?e(o):this.maybeReconnectOnOpen()},s=Vc(n,"error",a);if(this._timeout!==!1){const o=this._timeout,c=this.setTimeoutFn(()=>{r(),a(new Error("timeout")),n.close()},o);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(r),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Vc(e,"ping",this.onping.bind(this)),Vc(e,"data",this.ondata.bind(this)),Vc(e,"error",this.onerror.bind(this)),Vc(e,"close",this.onclose.bind(this)),Vc(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){C6(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let i=this.nsps[e];return i?this._autoConnect&&!i.active&&i.connect():(i=new HQ(this,e,n),this.nsps[e]=i),i}_destroy(e){const n=Object.keys(this.nsps);for(const i of n)if(this.nsps[i].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let i=0;i<n.length;i++)this.engine.write(n[i],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var i;this.cleanup(),(i=this.engine)===null||i===void 0||i.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const i=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(r=>{r?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",r)):e.onreconnect()}))},n);this.opts.autoUnref&&i.unref(),this.subs.push(()=>{this.clearTimeoutFn(i)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const bx={};function Ov(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=N5e(t,e.path||"/socket.io"),i=n.source,r=n.id,a=n.path,s=bx[r]&&a in bx[r].nsps,o=e.forceNew||e["force new connection"]||e.multiplex===!1||s;let c;return o?c=new S7(i,e):(bx[r]||(bx[r]=new S7(i,e)),c=bx[r]),n.query&&!e.query&&(e.query=n.queryKey),c.socket(n.path,e)}Object.assign(Ov,{Manager:S7,Socket:HQ,io:Ov,connect:Ov});const $5e=()=>{var K,Q;const{user:t,logout:e}=Hr(),{showNotification:n}=vo(),i=Gi(),[r,a]=Z.useState("overview"),[s,o]=Z.useState({articles:0,applications:0,courses:0,forumPosts:0,connections:0,points:0}),[c,u]=Z.useState([]),[d,h]=Z.useState(!0),[f,p]=Z.useState(null),[w,v]=Z.useState(""),[b,g]=Z.useState(!1),[y,_]=Z.useState(!1),[S,N]=Z.useState(!1),[R,D]=Z.useState(null),E=Z.useRef(null),C=Z.useRef(null);Z.useEffect(()=>(t&&(T(),P(),A()),()=>{k(),I()}),[t]);const P=()=>{try{const V=localStorage.getItem("authToken");if(!V)return;const ge="https://planninginsight-backend.vercel.app".replace("/api","");E.current=Ov(ge,{auth:{token:V},transports:["websocket","polling"]}),E.current.on("connect",()=>{console.log(" Real-time connection established"),N(!0),n("Real-time updates enabled","success")}),E.current.on("disconnect",()=>{console.log(" Real-time connection lost"),N(!1)}),E.current.on("stats:updated",ye=>{console.log(" Stats updated:",ye),o(be=>({...be,...ye})),D(new Date)}),E.current.on("activity:new",ye=>{console.log(" New activity:",ye),u(be=>[ye,...be.slice(0,9)]),D(new Date)}),E.current.on("notification",ye=>{console.log(" Notification received:",ye),n(ye.message,ye.type||"info")}),t!=null&&t.id&&E.current.emit("user:join",t.id)}catch(V){console.error(" Socket connection error:",V)}},k=()=>{E.current&&(E.current.disconnect(),E.current=null,N(!1))},A=()=>{C.current=setInterval(()=>{console.log(" Auto-refreshing dashboard data..."),T()},5*60*1e3)},I=()=>{C.current&&(clearInterval(C.current),C.current=null)},T=async()=>{var V,le,ge,ye,be,Le,ue,ke,X,re,Ee,ne;if(!t){h(!1);return}h(!0);try{const te=localStorage.getItem("authToken"),ae="https://planninginsight-backend.vercel.app";try{const xe=await fetch(`${ae}/api/user/stats`,{headers:{Authorization:`Bearer ${te}`}});if(xe.ok){const Ce=await xe.json();o(Ce.stats||{articles:0,applications:0,courses:0,forumPosts:0,connections:0,points:0}),u(Ce.recentActivity||[{type:"info",title:"Welcome to Planning Insights!",date:"Just now",status:"info"}])}else o({articles:((V=t==null?void 0:t.stats)==null?void 0:V.articles)||0,applications:((le=t==null?void 0:t.stats)==null?void 0:le.applications)||0,courses:((ge=t==null?void 0:t.stats)==null?void 0:ge.courses)||0,forumPosts:((ye=t==null?void 0:t.stats)==null?void 0:ye.forumPosts)||0,connections:((be=t==null?void 0:t.stats)==null?void 0:be.connections)||0,points:((Le=t==null?void 0:t.stats)==null?void 0:Le.points)||(t==null?void 0:t.points)||0}),u((t==null?void 0:t.recentActivity)||[{type:"info",title:"Welcome to Planning Insights!",date:"Just now",status:"info"}])}catch(xe){console.log("Using fallback data:",xe.message),o({articles:((ue=t==null?void 0:t.stats)==null?void 0:ue.articles)||0,applications:((ke=t==null?void 0:t.stats)==null?void 0:ke.applications)||0,courses:((X=t==null?void 0:t.stats)==null?void 0:X.courses)||0,forumPosts:((re=t==null?void 0:t.stats)==null?void 0:re.forumPosts)||0,connections:((Ee=t==null?void 0:t.stats)==null?void 0:Ee.connections)||0,points:((ne=t==null?void 0:t.stats)==null?void 0:ne.points)||(t==null?void 0:t.points)||0}),u((t==null?void 0:t.recentActivity)||[{type:"info",title:"Welcome to Planning Insights!",date:"Just now",status:"info"}])}D(new Date),console.log(" Dashboard data loaded for user:",t==null?void 0:t.email)}catch(te){console.error(" Error loading dashboard data:",te),n("Failed to load dashboard data","error")}finally{h(!1)}},z=()=>{n("Refreshing dashboard...","info"),T()},j=[{id:"recruiter",name:"Recruiter",icon:Ni,description:"Post jobs and manage candidate applications.",color:"blue"},{id:"instructor",name:"Instructor",icon:ff,description:"Create and publish educational courses.",color:"green"},{id:"editor",name:"Editor",icon:sd,description:"Review and edit submitted articles.",color:"purple"},{id:"chiefeditor",name:"Chief Editor",icon:sd,description:"Manage editorial team and oversee all content.",color:"orange"}],W=V=>{p(V)},$=async()=>{if(!f){n("Please select a role to request","error");return}if(!w||!w.trim()){n("Please provide a reason for your request","error");return}g(!0);try{const V=localStorage.getItem("authToken");if(!V){n("Please login to submit role requests","error"),g(!1);return}const ge=`${{}.VITE_API_URL||"http://localhost:3000"}/api/user/role-requests`;console.log(" Submitting role request:",{selectedRole:f,reason:w});const ye=await fetch(ge,{method:"POST",headers:{Authorization:`Bearer ${V}`,"Content-Type":"application/json"},body:JSON.stringify({requestedRole:f,reason:w.trim()})}),be=await ye.json();if(console.log(" Response:",be),ye.status===401){n("Your session has expired. Please logout and login again.","error"),localStorage.removeItem("authToken"),setTimeout(()=>{window.location.href="/login"},2e3);return}if(be.success){const Le=j.find(ue=>ue.id===f);n(`Role upgrade request submitted for ${Le.name}!`,"success"),p(null),v("")}else n(be.message||"Failed to submit role request","error")}catch(V){console.error("Error submitting role request:",V),n("Failed to submit role request. Please try again.","error")}finally{g(!1)}},q=V=>{const ge={home:"/",profile:"/profile",articles:"/my-articles",applications:"/jobs",courses:"/learning",forum:"/forum","editor-dashboard":"/editor/dashboard","check-submission":"/editor/dashboard",settings:"/dashboard","role-upgrade":null}[V];ge&&ge!=="/dashboard"?i(ge):(a(V),_(!1))},G=[{id:"home",label:"Back to Home",icon:AU},{id:"overview",label:"Overview",icon:AW},{id:"profile",label:"My Profile",icon:Is},{id:"articles",label:"My Articles",icon:xn},{id:"applications",label:"Job Applications",icon:Ni},{id:"courses",label:"My Courses",icon:rw},{id:"forum",label:"Forum Activity",icon:vl},...(t==null?void 0:t.role)==="editor"||(t==null?void 0:t.role)==="chiefeditor"?[{id:"check-submission",label:"Check Submission",icon:hxe}]:[],{id:"role-upgrade",label:"Role Upgrade",icon:NW},{id:"settings",label:"Settings",icon:VC}],B=[{label:"Published Articles",value:s.articles,icon:xn,color:"blue",change:"+12%"},{label:"Job Applications",value:s.applications,icon:Ni,color:"green",change:"+5%"},{label:"Active Courses",value:s.courses,icon:rw,color:"purple",change:"+2"},{label:"Forum Posts",value:s.forumPosts,icon:vl,color:"orange",change:"+8%"},{label:"Network Connections",value:s.connections,icon:Zt,color:"pink",change:"+15%"},{label:"Points Earned",value:s.points,icon:ca,color:"yellow",change:"+120"}],L=()=>m("div",{className:"role-upgrade-section",children:[m("div",{className:"role-upgrade-header",children:[l("div",{className:"role-upgrade-icon",children:l(NW,{size:36})}),m("div",{children:[l("h2",{className:"role-upgrade-title",children:"Request Role Upgrade"}),l("p",{className:"role-upgrade-subtitle",children:"Choose one role to request. Our team will review and notify you upon approval."})]})]}),l("div",{className:"roles-grid",children:j.map(V=>{const le=V.icon,ge=f===V.id;return m("div",{className:`role-card role-card-${V.color} ${ge?"selected":""}`,onClick:()=>W(V.id),children:[ge&&m("div",{className:"role-selected-badge",children:[l(Gn,{size:16}),l("span",{children:"Selected"})]}),l("div",{className:`role-card-icon role-icon-${V.color}`,children:l(le,{size:42})}),l("h3",{className:"role-card-title",children:V.name}),l("p",{className:"role-card-description",children:V.description})]},V.id)})}),f&&m("div",{className:"role-request-reason",children:[m("label",{htmlFor:"requestReason",className:"reason-label",children:["Why do you want this role? ",l("span",{className:"required",children:"*"})]}),l("textarea",{id:"requestReason",className:"reason-textarea",placeholder:"Please explain why you're requesting this role and how you plan to contribute to the platform...",value:w,onChange:V=>v(V.target.value),rows:4,maxLength:500}),m("div",{className:"character-count",children:[w.length,"/500 characters"]})]}),m("div",{className:"role-upgrade-footer",children:[l("p",{className:"role-upgrade-note",children:"Select a role and provide a reason to enable the request."}),l("button",{className:"role-upgrade-submit-btn",onClick:$,disabled:!f||!w.trim()||b,children:b?m(vt,{children:[l("span",{className:"spinner-small"}),l("span",{children:"Submitting..."})]}):m(vt,{children:[l(BN,{size:20}),l("span",{children:"Submit Request"})]})})]})]}),M=()=>m(vt,{children:[m("div",{className:"welcome-section",children:[m("div",{className:"welcome-content",children:[m("h1",{className:"welcome-title",children:["Welcome back, ",(t==null?void 0:t.firstName)||"User","!"]}),m("p",{className:"welcome-subtitle",children:["Here's what's happening with your account today",S&&m("span",{className:"real-time-badge",children:[l("span",{className:"pulse-dot"}),"Live"]}),R&&m("span",{className:"last-update",children:["Updated: ",new Date(R).toLocaleTimeString()]})]})]}),m("div",{className:"quick-actions",children:[m("button",{className:"quick-action-btn refresh",onClick:z,title:"Refresh Data",children:[l(AW,{size:18}),l("span",{children:"Refresh"})]}),m("button",{className:"quick-action-btn primary",onClick:()=>i("/articles/create"),children:[l(sd,{size:18}),l("span",{children:"Write Article"})]}),m("button",{className:"quick-action-btn secondary",onClick:()=>i("/jobs"),children:[l(Ni,{size:18}),l("span",{children:"Find Jobs"})]}),m("button",{className:"quick-action-btn tertiary",onClick:()=>i("/courses"),children:[l(ff,{size:18}),l("span",{children:"Browse Courses"})]})]})]}),l("div",{className:"stats-grid",children:B.map((V,le)=>{const ge=V.icon;return m("div",{className:`stat-card stat-card-${V.color}`,children:[m("div",{className:"stat-card-header",children:[l("div",{className:`stat-icon stat-icon-${V.color}`,children:l(ge,{size:28})}),l("div",{className:"stat-change stat-change-positive",children:V.change})]}),l("div",{className:"stat-value",children:V.value}),l("div",{className:"stat-label",children:V.label})]},le)})}),m("div",{className:"dashboard-content-grid",children:[m("div",{className:"activity-feed",children:[m("div",{className:"section-header",children:[l("h3",{className:"section-title",children:"Recent Activity"}),l("button",{className:"view-all-btn",children:"View All"})]}),l("div",{className:"activity-list",children:c.length>0?c.map((V,le)=>m("div",{className:"activity-item",children:[l("div",{className:`activity-icon activity-icon-${V.status||"info"}`,children:V.status==="success"?l(Gn,{size:20}):l(ar,{size:20})}),m("div",{className:"activity-content",children:[l("p",{className:"activity-title",children:V.title}),l("span",{className:"activity-date",children:V.date})]})]},le)):m("div",{className:"activity-item",children:[l("div",{className:"activity-icon activity-icon-info",children:l(MN,{size:20})}),m("div",{className:"activity-content",children:[l("p",{className:"activity-title",children:"No recent activity"}),l("span",{className:"activity-date",children:"Start exploring to see updates here"})]})]})})]}),m("div",{className:"progress-section",children:[l("div",{className:"section-header",children:l("h3",{className:"section-title",children:"Your Progress"})}),m("div",{className:"progress-cards",children:[m("div",{className:"progress-card",children:[m("div",{className:"progress-header",children:[l(GC,{size:20}),l("span",{children:"Profile Completion"})]}),l("div",{className:"progress-bar",children:l("div",{className:"progress-fill",style:{width:"75%"}})}),l("p",{className:"progress-text",children:"75% Complete"})]}),m("div",{className:"progress-card",children:[m("div",{className:"progress-header",children:[l(Rm,{size:20}),l("span",{children:"Achievements"})]}),l("div",{className:"progress-bar",children:l("div",{className:"progress-fill",style:{width:"60%"}})}),l("p",{className:"progress-text",children:"12 of 20 Unlocked"})]}),m("div",{className:"progress-card",children:[m("div",{className:"progress-header",children:[l(k6,{size:20}),l("span",{children:"Activity Streak"})]}),l("div",{className:"progress-bar",children:l("div",{className:"progress-fill",style:{width:"85%"}})}),l("p",{className:"progress-text",children:"17 Days Active"})]})]})]})]})]});return d?l("div",{className:"user-dashboard",children:l("div",{className:"dashboard-main",children:m("div",{className:"loading-container",children:[l("div",{className:"loading-spinner"}),l("p",{className:"loading-text",children:"Loading your dashboard..."})]})})}):m("div",{className:"user-dashboard",children:[m("button",{className:"mobile-menu-toggle",onClick:()=>_(!y),"aria-label":"Toggle Menu",children:[l("span",{}),l("span",{}),l("span",{})]}),y&&l("div",{className:"sidebar-overlay",onClick:()=>_(!1)}),m("aside",{className:`dashboard-sidebar ${y?"open":""}`,children:[l("div",{className:"sidebar-header",children:m("div",{className:"user-avatar-section",children:[t!=null&&t.photoURL?l("img",{src:t.photoURL,alt:t.firstName,className:"user-avatar"}):m("div",{className:"user-avatar-placeholder",children:[(K=t==null?void 0:t.firstName)==null?void 0:K.charAt(0),(Q=t==null?void 0:t.lastName)==null?void 0:Q.charAt(0)]}),m("div",{className:"user-info",children:[m("h3",{className:"user-name",children:[t==null?void 0:t.firstName," ",t==null?void 0:t.lastName]}),l("p",{className:"user-role",children:(t==null?void 0:t.role)||"Member"})]})]})}),l("nav",{className:"sidebar-nav",children:G.map(V=>{const le=V.icon;return m("button",{className:`nav-item ${r===V.id?"active":""}`,onClick:()=>q(V.id),children:[l(le,{size:20}),l("span",{children:V.label}),V.badge&&l("span",{className:"nav-badge",children:V.badge})]},V.id)})}),l("div",{className:"sidebar-footer",children:m("button",{className:"logout-btn",onClick:e,children:[l(xxe,{size:20}),l("span",{children:"Logout"})]})})]}),l("main",{className:"dashboard-main",children:m("div",{className:"dashboard-content",children:[r==="overview"&&M(),r==="role-upgrade"&&L(),r==="settings"&&m("div",{className:"coming-soon-section",children:[l(VC,{size:64,className:"coming-soon-icon"}),l("h2",{children:"Settings Coming Soon"}),l("p",{children:"Customize your account preferences"})]})]})})]})};const W5e=()=>{var Ci,pi;const t=Gi(),{user:e,refreshUser:n}=Hr(),{showNotification:i}=vo(),[r,a]=Z.useState("profile"),[s,o]=Z.useState(!1),[c,u]=Z.useState(!1),[d,h]=Z.useState(!1),[f,p]=Z.useState({firstName:"",lastName:"",email:"",phone:"",whatsapp:"",dob:"",sex:"",country:"",state:"",city:"",points:0,consent:!1}),[w,v]=Z.useState({name:"",contactNo:"",sex:"",country:"",state:"",city:"",email:"",whatsappNo:"",dob:""}),[b,g]=Z.useState(null),[y,_]=Z.useState(null),[S,N]=Z.useState(!1),[R,D]=Z.useState(null),[E,C]=Z.useState("user"),[P,k]=Z.useState({highestEducation:"",educationStatus:"pursuing",collegeName:"",collegeContact:"",fieldOfStudy:"",yearOfStudy:"",yearOfPassout:"",percentage:"",internshipExperience:"",jobExperience:"",domain:"",educationConsent:!1}),[A,I]=Z.useState(!1),[T,z]=Z.useState({title:"",description:"",file:null}),[j,W]=Z.useState(""),[$,q]=Z.useState(!1),[G,B]=Z.useState(!1),[L,M]=Z.useState({title:"",description:"",imageFile:null,pdfFile:null}),[K,Q]=Z.useState(""),[V,le]=Z.useState(!1),[ge,ye]=Z.useState(!1),[be,Le]=Z.useState(""),[ue,ke]=Z.useState({title:"",description:"",file:null}),[X,re]=Z.useState(""),[Ee,ne]=Z.useState(!1),te=Z.useRef(null),[ae,xe]=Z.useState(!1),Ce=[{id:"opensource",title:"Open Source Data",count:0,color:"linear-gradient(135deg, #667eea, #764ba2)",icon:AQ},{id:"studymaterial",title:"Study Material/Literature",count:0,color:"linear-gradient(135deg, #f093fb, #f5576c)",icon:rw},{id:"legislation",title:"Legislation",count:0,color:"linear-gradient(135deg, #4facfe, #00f2fe)",icon:TQ},{id:"ebook",title:"E-Book",count:10,color:"linear-gradient(135deg, #43e97b, #38f9d7)",icon:Gh}],[_e]=Z.useState([{id:2,paymentId:"pay_I8QesYJ0prrHqGR",type:"journal",name:"Payment for Journal Paper",amount:"1",date:"2021-10-12 20:13:31"},{id:3,paymentId:"pay_iFVLwDQL5uCa0r",type:"journal",name:"Payment for Journal Paper",amount:"1600",date:"2021-10-30 17:21:39"},{id:4,paymentId:"pay_iFVP1KxgW5xMKS",type:"journal",name:"Payment for Journal Paper",amount:"1600",date:"2021-10-30 17:24:40"},{id:5,paymentId:"pay_iFdyRnjdLces3M",type:"journal",name:"Payment for Journal Paper",amount:"1600",date:"2021-10-31 01:47:28"},{id:6,paymentId:"pay_IN0DXjzTbbxvwq",type:"journal",name:"Payment for Journal Paper",amount:"1600",date:"2021-11-18 16:06:27"}]),oe=[{id:"article",title:"Article",count:0,action:"WRITE ARTICLE"},{id:"thesis",title:"Thesis/Dissertation",count:0,action:"WRITE THESIS/DISSERTATION"},{id:"research",title:"Research Paper",count:0,action:"WRITE RESEARCH PAPER"},{id:"journal",title:"International Journal Paper",count:2,action:"WRITE JOURNAL PAPER"},{id:"project",title:"Project",count:0,action:"WRITE PROJECT"},{id:"scheme",title:"Scheme",count:0,action:"WRITE SCHEME"}];Z.useEffect(()=>{if(e){Se(),De();const st=setInterval(pe,3e4);return()=>{Ve(),clearInterval(st)}}},[e]);const pe=async()=>{var st;try{const ft=localStorage.getItem("authToken");if(!ft)return;console.log(" Checking for role updates...");const on={}.VITE_API_URL||"http://localhost:3000",Bt=await fetch(`${on}/api/auth/me`,{headers:{Authorization:`Bearer ${ft}`,"Content-Type":"application/json"}});if(Bt.ok){const ai=await Bt.json();console.log(" Received user data:",ai);const Jn=((st=ai.data)==null?void 0:st.role)||ai.role;console.log(` Current role in state: ${E}, New role from API: ${Jn}`),Jn&&Jn!==E?(console.log(` Role updated from ${E} to ${Jn}`),C(Jn),i(`Your role has been updated to ${de(Jn)}!`,"success"),n&&await n()):console.log(" Role unchanged")}}catch(ft){console.error(" Error checking role update:",ft)}},Se=()=>{if(!e)return;const st=(e==null?void 0:e.role)||"user";console.log(" Loading profile data - User role:",st),console.log(" Full user object:",e),C(st),p({firstName:(e==null?void 0:e.firstName)||"",lastName:(e==null?void 0:e.lastName)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||(e==null?void 0:e.contactNo)||"",whatsapp:(e==null?void 0:e.whatsapp)||(e==null?void 0:e.whatsappNo)||(e==null?void 0:e.phone)||"",dob:(e==null?void 0:e.dob)||"",sex:(e==null?void 0:e.sex)||(e==null?void 0:e.gender)||"",country:(e==null?void 0:e.country)||"",state:(e==null?void 0:e.state)||"",city:(e==null?void 0:e.city)||"",points:(e==null?void 0:e.points)||0,consent:(e==null?void 0:e.consent)||!1,organization:(e==null?void 0:e.organization)||"",position:(e==null?void 0:e.position)||"",bio:(e==null?void 0:e.bio)||"",photoURL:(e==null?void 0:e.photoURL)||(e==null?void 0:e.avatar)||""}),(e!=null&&e.photoURL||e!=null&&e.avatar)&&D(e.photoURL||e.avatar),v({name:`${(e==null?void 0:e.firstName)||""} ${(e==null?void 0:e.lastName)||""}`.trim()||(e==null?void 0:e.displayName)||"",contactNo:(e==null?void 0:e.phone)||(e==null?void 0:e.contactNo)||"",sex:(e==null?void 0:e.sex)||(e==null?void 0:e.gender)||"",country:(e==null?void 0:e.country)||"",state:(e==null?void 0:e.state)||"",city:(e==null?void 0:e.city)||"",email:(e==null?void 0:e.email)||"",whatsappNo:(e==null?void 0:e.whatsapp)||(e==null?void 0:e.whatsappNo)||(e==null?void 0:e.phone)||"",dob:(e==null?void 0:e.dob)||""}),e!=null&&e.education&&k(ft=>({...ft,highestEducation:e.education.highestEducation||"",educationStatus:e.education.status||"pursuing",collegeName:e.education.collegeName||"",collegeContact:e.education.collegeContact||"",fieldOfStudy:e.education.fieldOfStudy||"",yearOfStudy:e.education.yearOfStudy||"",yearOfPassout:e.education.yearOfPassout||"",percentage:e.education.percentage||"",internshipExperience:e.education.internshipExperience||"",jobExperience:e.education.jobExperience||"",domain:e.education.domain||""})),console.log(" Profile data auto-filled from user:",e)},De=()=>{try{const st=localStorage.getItem("authToken");if(!st)return;const on="https://planninginsight-backend.vercel.app".replace("/api","");te.current=Ov(on,{auth:{token:st},transports:["websocket","polling"]}),te.current.on("connect",()=>{console.log(" Profile real-time connection established"),xe(!0)}),te.current.on("disconnect",()=>{console.log(" Profile real-time connection lost"),xe(!1)}),te.current.on("profile:updated",Bt=>{console.log("Profile updated in real-time:",Bt),Se(),Bt.message&&i(Bt.message,"success")}),te.current.on("role:approved",Bt=>{console.log(" Role approved in real-time:",Bt),Bt.newRole&&(C(Bt.newRole),i(`Congratulations! You are now an ${de(Bt.newRole)}!`,"success")),pe()}),te.current.on("role:revoked",Bt=>{console.log(" Role revoked in real-time:",Bt),Bt.newRole&&(C(Bt.newRole),i(Bt.message||`Your ${Bt.oldRole} role has been revoked.`,"error")),pe()})}catch(st){console.error("Socket connection error:",st)}},Ve=()=>{te.current&&(te.current.disconnect(),te.current=null,xe(!1))},de=st=>({user:"Professional",editor:"Editor",chiefeditor:"Chief Editor",instructor:"Instructor",recruiter:"Recruiter",admin:"Administrator"})[st]||"Professional",Me=st=>{const{name:ft,value:on,type:Bt,checked:ai}=st.target;p(Jn=>({...Jn,[ft]:Bt==="checkbox"?ai:on}))},Fe=st=>{const{name:ft,value:on}=st.target;v(Bt=>({...Bt,[ft]:on}))},Ge=st=>{st.preventDefault(),st.stopPropagation(),N(!0)},ut=st=>{st.preventDefault(),st.stopPropagation(),N(!1)},nt=st=>{st.preventDefault(),st.stopPropagation()},yt=st=>{st.preventDefault(),st.stopPropagation(),N(!1);const ft=st.dataTransfer.files;ft&&ft[0]&&Be({target:{files:ft}},ft[0])},Be=st=>{const ft=st.target.files[0];if(!ft)return;if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(ft.type)){i("Please upload PDF or Word documents only","error");return}if(ft.size>5*1024*1024){i("File size should be less than 5MB","error");return}g(ft),_({name:ft.name,size:(ft.size/(1024*1024)).toFixed(1)+" MB",type:ft.type.includes("pdf")?"PDF":"Word Document"}),i("CV uploaded successfully!","success")},Ze=()=>{g(null),_(null),i("CV removed","info")},ot=()=>{y&&i("Opening CV preview...","info")},St=async()=>{u(!0);try{await new Promise(st=>setTimeout(st,1500)),i("Information saved successfully!","success")}catch(st){console.error("Error saving information:",st),i("Failed to save information","error")}finally{u(!1)}},bt=async st=>{const ft=st.target.files[0];if(!ft)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(ft.type)){i("Please upload a valid image file (JPEG, PNG, GIF, WebP)","error");return}if(ft.size>5*1024*1024){i("Image size should be less than 5MB","error");return}const Bt=URL.createObjectURL(ft);D(Bt);try{const ai=localStorage.getItem("authToken"),Jn="https://planninginsight-backend.vercel.app",Gr=new FormData;Gr.append("avatar",ft);const Ma=await(await fetch(`${Jn}/api/user/profile/avatar`,{method:"POST",headers:{Authorization:`Bearer ${ai}`},body:Gr})).json();Ma.success?(i("Profile picture updated!","success"),await Se()):(i(Ma.message||"Failed to upload avatar","error"),D(f.photoURL))}catch(ai){console.error("Error uploading avatar:",ai),i("Failed to upload avatar","error"),D(f.photoURL)}},At=st=>{const{name:ft,value:on,type:Bt,checked:ai}=st.target;k(Jn=>({...Jn,[ft]:Bt==="checkbox"?ai:on}))},Qt=async st=>{st.preventDefault(),u(!0);try{await new Promise(ft=>setTimeout(ft,1e3)),i("Education details updated successfully!","success")}catch{i("Failed to update education details","error")}finally{u(!1)}},Mt=st=>{const{name:ft,value:on}=st.target;z(Bt=>({...Bt,[ft]:on}))},xt=st=>{const ft=st.target.files[0];if(!ft)return;if(!["video/mp4","video/x-msvideo","video/x-flv","video/x-ms-wmv","video/x-matroska","video/mpeg"].includes(ft.type)){W("Please upload only MP4, AVI, WMV, FLV, MKV videos.");return}if(ft.size>40*1024*1024){W("File size should be less than 40 MB.");return}W(""),z(Bt=>({...Bt,file:ft}))},ln=async st=>{if(st.preventDefault(),!T.title.trim()){W("Title is required.");return}if(!T.file){W("Please select a video file.");return}try{q(!0),W(""),await new Promise(ft=>setTimeout(ft,1500)),I(!1),z({title:"",description:"",file:null}),i("Video uploaded successfully!","success")}catch{W("Failed to upload video. Try again."),i("Failed to upload video.","error")}finally{q(!1)}},Dr=st=>{const{name:ft,value:on}=st.target;M(Bt=>({...Bt,[ft]:on}))},Yn=st=>{const ft=st.target.files[0];if(!ft)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(ft.type)){Q("Please upload only image files (JPEG, PNG, GIF, WebP).");return}if(ft.size>20*1024*1024){Q("Image size should be less than 20 MB.");return}Q(""),M(Bt=>({...Bt,imageFile:ft}))},Ao=st=>{const ft=st.target.files[0];if(ft){if(ft.type!=="application/pdf"){Q("Please upload only PDF files.");return}if(ft.size>40*1024*1024){Q("PDF size should be less than 40 MB.");return}Q(""),M(on=>({...on,pdfFile:ft}))}},js=async st=>{if(st.preventDefault(),!L.title.trim()){Q("Title is required.");return}if(!L.imageFile){Q("Please select an image file.");return}try{le(!0),Q(""),await new Promise(ft=>setTimeout(ft,1500)),B(!1),M({title:"",description:"",imageFile:null,pdfFile:null}),i("Portfolio uploaded successfully!","success")}catch{Q("Failed to upload portfolio. Try again."),i("Failed to upload portfolio.","error")}finally{le(!1)}},Lt=st=>{Le(st),ye(!0),ke({title:"",description:"",file:null}),re("")},$s=st=>{const{name:ft,value:on}=st.target;ke(Bt=>({...Bt,[ft]:on}))},No=st=>{const ft=st.target.files[0];if(!ft)return;if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/csv"].includes(ft.type)){re("Please upload PDF, Word, or Excel files only.");return}if(ft.size>50*1024*1024){re("File size should be less than 50 MB.");return}re(""),ke(Bt=>({...Bt,file:ft}))},Vr=async st=>{if(st.preventDefault(),!ue.title.trim()){re("Title is required.");return}if(!ue.file){re("Please select a file.");return}try{ne(!0),re(""),await new Promise(ft=>setTimeout(ft,1500)),ye(!1),ke({title:"",description:"",file:null}),i("Data uploaded successfully!","success")}catch{re("Failed to upload data. Try again."),i("Failed to upload data.","error")}finally{ne(!1)}},Ua=()=>{const st=Ce.find(ft=>ft.id===be);return st?st.title:"Data Hub"},ri=[{id:"write",label:"Write for Us",icon:xn,size:20,badge:"New"},{id:"video",label:"Video",icon:oo,size:20},{id:"portfolio",label:"Portfolio",icon:Qh,size:20,badge:"12"},{id:"datahub",label:"Data Hub",icon:qP,size:20},{id:"question",label:"Question",icon:HP,size:20},{id:"purchases",label:"My Purchase",icon:GP,size:20,badge:"3"}];return m("div",{className:"user-profile",children:[m("div",{className:"bg-particles",children:[l("div",{className:"particle"}),l("div",{className:"particle"}),l("div",{className:"particle"}),l("div",{className:"particle"}),l("div",{className:"particle"})]}),m("div",{className:"profile-container",children:[m("div",{className:"profile-header animate-slide-up",children:[m("div",{className:"profile-cover",children:[l("div",{className:"cover-gradient"}),l("div",{className:"cover-pattern"})]}),l("div",{className:"profile-header-content",children:m("div",{className:"avatar-section-wrapper",children:[m("div",{className:"avatar-and-info",children:[l("div",{className:"avatar-left-section",children:m("div",{className:"avatar-wrapper",onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),children:[m("div",{className:`profile-avatar-placeholder ${d?"avatar-hover":""}`,children:[R||f.photoURL?l("img",{src:R||f.photoURL,alt:"Profile",className:"profile-avatar-image",onError:st=>{st.target.style.display="none",st.target.nextSibling.style.display="flex"}}):null,m("div",{className:"profile-avatar-initials",style:{display:R||f.photoURL?"none":"flex"},children:[(Ci=f.firstName)==null?void 0:Ci.charAt(0),(pi=f.lastName)==null?void 0:pi.charAt(0)]})]}),l("div",{className:"avatar-ring"}),m("label",{className:"avatar-upload-btn",htmlFor:"avatar-upload",children:[l(lxe,{size:20}),l("input",{id:"avatar-upload",type:"file",accept:"image/*",onChange:bt,style:{display:"none"}})]}),d&&l("div",{className:"avatar-tooltip",children:"Change Photo"})]})}),l("div",{className:"profile-header-info",children:m("div",{className:"profile-info-content",children:[m("h1",{className:"profile-name",children:[f.firstName," ",f.lastName,l(ca,{className:"profile-badge",size:20})]}),m("div",{className:"profile-subtitle",children:[l(Ni,{size:16}),l("span",{children:de(E)}),l("button",{onClick:pe,style:{marginLeft:"10px",padding:"2px 8px",fontSize:"11px",background:"#524393",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},title:"Check for role updates",children:""})]}),m("div",{className:"profile-meta",children:[m("div",{className:"meta-item",children:[l(sr,{size:14}),l("span",{children:f.city?`${f.city}, ${f.state||"Location"}`:f.country||"Country"})]}),m("div",{className:"meta-item",children:[l(sw,{size:14}),l("span",{children:f.email})]})]})]})})]}),l("div",{className:"profile-edit-action",children:m("button",{className:`edit-profile-btn ${s?"btn-editing":""}`,onClick:()=>o(!s),children:[s?m(vt,{children:[l(Fn,{size:18}),l("span",{children:"Cancel Edit"})]}):m(vt,{children:[l(l_,{size:18}),l("span",{children:"Edit Profile"})]}),l("div",{className:"btn-shine"})]})}),m("div",{className:"profile-nav-actions",children:[m("button",{className:"nav-back-btn home-btn",onClick:()=>t("/"),title:"Back to Home",children:[l("span",{className:"btn-icon-wrapper",children:l(AU,{size:20})}),l("span",{className:"btn-text",children:"Home"}),l("span",{className:"btn-ripple"})]}),m("button",{className:"nav-back-btn dashboard-btn",onClick:()=>t("/dashboard"),title:"Back to Dashboard",children:[l("span",{className:"btn-icon-wrapper",children:l(yxe,{size:20})}),l("span",{className:"btn-text",children:"Dashboard"}),l("span",{className:"btn-ripple"})]})]})]})})]}),l("div",{className:"profile-nav animate-slide-up",style:{animationDelay:"0.2s"},children:m("div",{className:"nav-tabs",children:[m("button",{className:`nav-tab ${r==="profile"?"active":""}`,onClick:()=>a("profile"),children:[l("div",{className:"tab-icon",children:l(Is,{size:20})}),l("span",{className:"tab-label",children:"PROFILE"}),r==="profile"&&l("div",{className:"tab-indicator"})]}),m("button",{className:`nav-tab ${r==="education"?"active":""}`,onClick:()=>a("education"),children:[l("div",{className:"tab-icon",children:l(ff,{size:20})}),l("span",{className:"tab-label",children:"EDUCATION"}),r==="education"&&l("div",{className:"tab-indicator"})]}),m("button",{className:`nav-tab ${r==="occupation"?"active":""}`,onClick:()=>a("occupation"),children:[l("div",{className:"tab-icon",children:l(Ni,{size:20})}),l("span",{className:"tab-label",children:"OCCUPATION"}),r==="occupation"&&l("div",{className:"tab-indicator"})]})]})}),m("div",{className:"profile-content-wrapper",children:[m("div",{className:"profile-sidebar animate-slide-left",style:{animationDelay:"0.3s"},children:[m("h3",{className:"sidebar-title",children:[l("span",{children:"Navigation"}),l("div",{className:"title-underline"})]}),l("div",{className:"sidebar-menu",children:ri.map((st,ft)=>m("a",{href:`#${st.id}`,className:`sidebar-item ${r===st.id?"active":""}`,onClick:on=>{on.preventDefault(),a(st.id)},style:{animationDelay:`${.4+ft*.1}s`},children:[l("div",{className:"sidebar-icon",children:l(st.icon,{size:st.size})}),l("span",{className:"sidebar-label",children:st.label}),st.badge&&l("span",{className:"sidebar-badge",children:st.badge}),l("div",{className:"sidebar-item-bg"})]},st.id))})]}),m("div",{className:"tab-content",children:[r==="profile"&&m("div",{className:"profile-form-section animate-fade-in",children:[m("div",{className:"profile-form-header",children:[m("h2",{className:"profile-form-title",children:[l("div",{className:"title-icon",children:l(Is,{size:24})}),l("span",{children:"Profile Information"})]}),m("div",{className:"points-display",children:[l(r4,{size:20}),m("span",{children:["Points: ",f.points]}),l("div",{className:"points-pulse"})]})]}),m("form",{className:"profile-form",children:[m("div",{className:"form-group",children:[m("label",{className:"form-label required",children:[l(Is,{size:14}),"NAME"]}),m("div",{className:"input-wrapper",children:[l("input",{type:"text",name:"name",className:"form-control",value:w.name,onChange:Fe,disabled:!s,placeholder:"Enter your name"}),l("div",{className:"input-line"})]})]}),m("div",{className:"form-group",children:[m("label",{className:"form-label required",children:[l(sw,{size:14}),"EMAIL"]}),m("div",{className:"input-wrapper",children:[l("input",{type:"email",name:"email",className:"form-control",value:w.email,onChange:Fe,disabled:!s,placeholder:"Enter your email"}),l("div",{className:"input-line"})]})]}),m("div",{className:"form-group",children:[m("label",{className:"form-label required",children:[l(HC,{size:14}),"CONTACT NO"]}),m("div",{className:"input-wrapper",children:[l("input",{type:"tel",name:"contactNo",className:"form-control",value:w.contactNo,onChange:Fe,disabled:!s,placeholder:"Enter contact number"}),l("div",{className:"input-line"})]})]}),m("div",{className:"form-group",children:[m("label",{className:"form-label required",children:[l(HC,{size:14}),"WHATSAPP NO"]}),m("div",{className:"input-wrapper",children:[l("input",{type:"tel",name:"whatsappNo",className:"form-control",value:w.whatsappNo,onChange:Fe,disabled:!s,placeholder:"Enter WhatsApp number"}),l("div",{className:"input-line"})]})]}),m("div",{className:"form-group",children:[m("label",{className:"form-label required",children:[l(Is,{size:14}),"SEX"]}),m("div",{className:"radio-group",children:[m("label",{className:"radio-label radio-card",children:[l("input",{type:"radio",name:"sex",value:"male",className:"radio-input",checked:w.sex==="male",onChange:Fe,disabled:!s}),l("span",{className:"radio-custom"}),l("span",{children:"MALE"})]}),m("label",{className:"radio-label radio-card",children:[l("input",{type:"radio",name:"sex",value:"female",className:"radio-input",checked:w.sex==="female",onChange:Fe,disabled:!s}),l("span",{className:"radio-custom"}),l("span",{children:"FEMALE"})]})]})]}),m("div",{className:"form-group",children:[m("label",{className:"form-label required",children:[l(ua,{size:14}),"D.O.B"]}),m("div",{className:"input-wrapper",children:[l("input",{type:"date",name:"dob",className:"form-control",value:w.dob,onChange:Fe,disabled:!s}),l("div",{className:"input-line"})]})]}),m("div",{className:"form-group",children:[m("label",{className:"form-label required",children:[l(j0,{size:14}),"COUNTRY"]}),m("div",{className:"select-wrapper",children:[m("select",{name:"country",className:"select-control",value:w.country,onChange:Fe,disabled:!s,children:[l("option",{value:"",children:"Select Country"}),l("option",{value:"India",children:"India"}),l("option",{value:"USA",children:"USA"}),l("option",{value:"UK",children:"UK"})]}),l("div",{className:"select-arrow"})]})]}),m("div",{className:"form-group",children:[m("label",{className:"form-label required",children:[l(sr,{size:14}),"STATE"]}),m("div",{className:"select-wrapper",children:[m("select",{name:"state",className:"select-control",value:w.state,onChange:Fe,disabled:!s,children:[l("option",{value:"",children:"Select State"}),l("option",{value:"Jammu and Kashmir",children:"Jammu and Kashmir"}),l("option",{value:"Maharashtra",children:"Maharashtra"}),l("option",{value:"Delhi",children:"Delhi"})]}),l("div",{className:"select-arrow"})]})]}),m("div",{className:"form-group",children:[m("label",{className:"form-label required",children:[l(sr,{size:14}),"CITY"]}),m("div",{className:"select-wrapper",children:[m("select",{name:"city",className:"select-control",value:w.city,onChange:Fe,disabled:!s,children:[l("option",{value:"",children:"Select City"}),l("option",{value:"Srinagar",children:"Srinagar"}),l("option",{value:"Jammu",children:"Jammu"}),l("option",{value:"Mumbai",children:"Mumbai"})]}),l("div",{className:"select-arrow"})]})]}),m("div",{className:"cv-upload-section",children:[m("label",{className:"form-label",children:[l(EW,{size:14}),"UPLOAD YOUR CV"]}),y?m("div",{className:"cv-preview animate-scale-in",children:[m("div",{className:"cv-preview-header",children:[l(Gn,{size:20,className:"success-icon"}),l("h4",{children:"CV Uploaded Successfully!"})]}),m("div",{className:"cv-preview-details",children:[l(EW,{size:20,className:"file-icon"}),m("div",{className:"cv-info",children:[l("span",{className:"cv-name",children:y.name}),l("span",{className:"cv-size",children:y.size})]}),m("div",{className:"cv-actions",children:[l("button",{type:"button",className:"btn-icon btn-view",onClick:ot,title:"View CV",children:l(Pa,{size:18})}),l("button",{type:"button",className:"btn-icon btn-remove",onClick:Ze,title:"Remove CV",children:l(Fn,{size:18})})]})]})]}):m("div",{className:`cv-upload-box ${S?"dragging":""}`,onClick:()=>document.getElementById("cv-upload").click(),onDragEnter:Ge,onDragOver:nt,onDragLeave:ut,onDrop:yt,children:[m("div",{className:"cv-upload-content",children:[m("div",{className:"upload-icon-wrapper",children:[l(Xh,{size:48,className:"cv-upload-icon"}),l("div",{className:"upload-icon-circle"})]}),l("div",{className:"cv-upload-text",children:S?"Drop your file here":"Click or drag file to upload"}),l("div",{className:"cv-upload-subtext",children:"PDF or Word document (Max 5MB)"})]}),l("input",{id:"cv-upload",type:"file",accept:".pdf,.doc,.docx",onChange:Be,style:{display:"none"}})]})]}),l("div",{className:"consent-section",children:m("div",{className:"consent-checkbox",children:[l("input",{type:"checkbox",name:"consent",id:"consent",checked:f.consent,onChange:Me,disabled:!s}),m("label",{htmlFor:"consent",className:"consent-text",children:[l("div",{className:"consent-icon",children:l(c_,{size:20})}),m("div",{className:"consent-content",children:[l("span",{className:"consent-highlight",children:"I GIVE MY CONSENT FOR MY DETAILS TO BE VISIBLE IN THE NETWORKING FORUM"}),l("span",{className:"consent-subtext",children:"Please update your education and occupation section to receive further updates."})]})]})]})}),s&&m("div",{className:"form-actions animate-slide-up",children:[m("button",{type:"button",className:"btn-secondary",onClick:()=>o(!1),children:[l(Fn,{size:20}),l("span",{children:"Cancel"})]}),m("button",{type:"button",className:"btn-primary",onClick:St,disabled:c,children:[c?m(vt,{children:[l("span",{className:"spinner"}),l("span",{children:"Updating..."})]}):m(vt,{children:[l(y7,{size:20}),l("span",{children:"UPDATE"})]}),l("div",{className:"btn-ripple"})]})]})]})]}),r==="education"&&m("div",{className:"profile-form-section animate-fade-in",children:[l("div",{className:"profile-form-header",children:m("h2",{className:"profile-form-title",children:[l("div",{className:"title-icon",children:l(ff,{size:24})}),l("span",{children:"Education Details"})]})}),m("form",{className:"profile-form education-form",onSubmit:Qt,children:[m("div",{className:"form-row",children:[m("div",{className:"form-group",children:[l("label",{className:"form-label required",children:"Highest Education"}),m("div",{className:"select-wrapper",children:[m("select",{name:"highestEducation",value:P.highestEducation,onChange:At,className:"form-control select-control",required:!0,children:[l("option",{value:"",children:"Select..."}),l("option",{value:"highschool",children:"High School"}),l("option",{value:"bachelors",children:"Bachelor's Degree"}),l("option",{value:"masters",children:"Master's Degree"}),l("option",{value:"phd",children:"PhD"}),l("option",{value:"diploma",children:"Diploma"}),l("option",{value:"certification",children:"Professional Certification"})]}),l("div",{className:"select-arrow",children:l("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"currentColor",children:l("path",{d:"M1 1L6 6L11 1",stroke:"currentColor",strokeWidth:"2",fill:"none"})})})]})]}),m("div",{className:"form-group",children:[l("label",{className:"form-label required",children:"Education Status"}),m("div",{className:"radio-group",children:[m("label",{className:"radio-card",children:[l("input",{type:"radio",name:"educationStatus",value:"pursuing",checked:P.educationStatus==="pursuing",onChange:At,className:"radio-input"}),l("span",{className:"radio-custom"}),l("span",{children:"Pursuing"})]}),m("label",{className:"radio-card",children:[l("input",{type:"radio",name:"educationStatus",value:"completed",checked:P.educationStatus==="completed",onChange:At,className:"radio-input"}),l("span",{className:"radio-custom"}),l("span",{children:"Completed"})]})]})]})]}),m("div",{className:"form-row",children:[m("div",{className:"form-group",children:[l("label",{className:"form-label required",children:"College Name"}),l("input",{type:"text",name:"collegeName",value:P.collegeName,onChange:At,className:"form-control",placeholder:"Enter your college name",required:!0}),l("div",{className:"input-line"})]}),m("div",{className:"form-group",children:[l("label",{className:"form-label",children:"College Contact"}),l("input",{type:"text",name:"collegeContact",value:P.collegeContact,onChange:At,className:"form-control",placeholder:"College email or phone"}),l("div",{className:"input-line"})]})]}),m("div",{className:"form-row",children:[m("div",{className:"form-group",children:[l("label",{className:"form-label required",children:"Field of Study"}),l("input",{type:"text",name:"fieldOfStudy",value:P.fieldOfStudy,onChange:At,className:"form-control",placeholder:"e.g., Computer Science, Architecture",required:!0}),l("div",{className:"input-line"})]}),m("div",{className:"form-group",children:[l("label",{className:"form-label",children:"Year of Study"}),m("div",{className:"select-wrapper",children:[m("select",{name:"yearOfStudy",value:P.yearOfStudy,onChange:At,className:"form-control select-control",children:[l("option",{value:"",children:"Select..."}),l("option",{value:"1",children:"1st Year"}),l("option",{value:"2",children:"2nd Year"}),l("option",{value:"3",children:"3rd Year"}),l("option",{value:"4",children:"4th Year"}),l("option",{value:"5",children:"5th Year"})]}),l("div",{className:"select-arrow",children:l("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"currentColor",children:l("path",{d:"M1 1L6 6L11 1",stroke:"currentColor",strokeWidth:"2",fill:"none"})})})]})]})]}),m("div",{className:"form-row",children:[m("div",{className:"form-group",children:[l("label",{className:"form-label",children:"Year of Passout"}),l("input",{type:"text",name:"yearOfPassout",value:P.yearOfPassout,onChange:At,className:"form-control",placeholder:"e.g., 1992",maxLength:"4"}),l("div",{className:"input-line"})]}),m("div",{className:"form-group",children:[l("label",{className:"form-label",children:"Percentage"}),l("input",{type:"text",name:"percentage",value:P.percentage,onChange:At,className:"form-control",placeholder:"e.g., 89.50",maxLength:"5"}),l("div",{className:"input-line"})]})]}),m("div",{className:"form-row",children:[m("div",{className:"form-group",children:[l("label",{className:"form-label",children:"Internship Experience"}),m("div",{className:"select-wrapper",children:[m("select",{name:"internshipExperience",value:P.internshipExperience,onChange:At,className:"form-control select-control",children:[l("option",{value:"",children:"Select..."}),l("option",{value:"none",children:"No Experience"}),l("option",{value:"0-6months",children:"0-6 Months"}),l("option",{value:"6-12months",children:"6-12 Months"}),l("option",{value:"1-2years",children:"1-2 Years"}),l("option",{value:"2plus",children:"2+ Years"})]}),l("div",{className:"select-arrow",children:l("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"currentColor",children:l("path",{d:"M1 1L6 6L11 1",stroke:"currentColor",strokeWidth:"2",fill:"none"})})})]})]}),m("div",{className:"form-group",children:[l("label",{className:"form-label",children:"Job Experience"}),m("div",{className:"select-wrapper",children:[m("select",{name:"jobExperience",value:P.jobExperience,onChange:At,className:"form-control select-control",children:[l("option",{value:"",children:"Select..."}),l("option",{value:"none",children:"No Experience"}),l("option",{value:"0-1year",children:"0-1 Year"}),l("option",{value:"1-3years",children:"1-3 Years"}),l("option",{value:"3-5years",children:"3-5 Years"}),l("option",{value:"5plus",children:"5+ Years"})]}),l("div",{className:"select-arrow",children:l("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"currentColor",children:l("path",{d:"M1 1L6 6L11 1",stroke:"currentColor",strokeWidth:"2",fill:"none"})})})]})]})]}),m("div",{className:"form-group",children:[l("label",{className:"form-label",children:"Domain"}),l("textarea",{name:"domain",value:P.domain,onChange:At,className:"form-control textarea-control",placeholder:"Describe your domain of expertise or specialization",rows:"3"}),l("div",{className:"input-line"})]}),m("div",{className:"consent-section",children:[m("div",{className:"consent-notice",children:[l("div",{className:"notice-icon",children:l(c_,{size:20})}),l("p",{children:"Please update your occupation section to receive further updates"})]}),m("label",{className:"consent-checkbox",children:[l("input",{type:"checkbox",name:"educationConsent",checked:P.educationConsent,onChange:At}),l("div",{className:"consent-icon",children:l(Gn,{size:20})}),m("div",{className:"consent-content",children:[l("span",{className:"consent-highlight",children:"I give my consent"}),l("span",{className:"consent-subtext",children:"for my details to be visible in the networking forum"})]})]})]}),l("div",{className:"form-actions",children:m("button",{type:"submit",className:"btn-primary",disabled:c,children:[c?m(vt,{children:[l("div",{className:"spinner"}),l("span",{children:"Updating..."})]}):m(vt,{children:[l(y7,{size:20}),l("span",{children:"Update"})]}),l("div",{className:"btn-ripple"})]})})]})]}),r==="write"&&m("div",{className:"profile-form-section animate-fade-in",children:[l("div",{className:"profile-form-header",children:m("h2",{className:"profile-form-title",children:[l("div",{className:"title-icon",children:l(xn,{size:24})}),l("span",{children:"Write for Us"})]})}),l("div",{className:"write-for-us-grid",children:oe.map((st,ft)=>m("div",{className:"write-card animate-scale-in",style:{animationDelay:`${ft*.1}s`},children:[m("div",{className:"write-card-header",children:[l("h3",{className:"write-card-count",children:st.count}),l("p",{className:"write-card-title",children:st.title})]}),l("button",{className:"write-card-button",onClick:()=>i(`${st.action} - Coming Soon!`,"info"),children:st.action})]},st.id))})]}),r==="video"&&m("div",{className:"profile-form-section animate-fade-in",children:[m("div",{className:"profile-form-header",children:[m("h2",{className:"profile-form-title",children:[l("div",{className:"title-icon",children:l(oo,{size:24})}),l("span",{children:"Video Uploads"})]}),m("button",{type:"button",className:"btn-primary video-upload-open-btn",onClick:()=>I(!0),children:[l(Xh,{size:18}),l("span",{children:"Upload Video"}),l("div",{className:"btn-ripple"})]})]}),m("div",{className:"coming-soon",children:[m("div",{className:"coming-soon-icon-wrapper",children:[l(oo,{size:64,className:"coming-soon-icon"}),l("div",{className:"icon-ring ring-1"}),l("div",{className:"icon-ring ring-2"})]}),l("h3",{children:"Manage Your Videos"}),m("p",{children:["Use the ",l("b",{children:"Upload Video"})," button above to add new tutorial or project videos."]})]})]}),r==="portfolio"&&m("div",{className:"profile-form-section animate-fade-in",children:[m("div",{className:"profile-form-header",children:[m("h2",{className:"profile-form-title",children:[l("div",{className:"title-icon",children:l(Qh,{size:24})}),l("span",{children:"Portfolio"})]}),m("button",{type:"button",className:"btn-primary portfolio-upload-open-btn",onClick:()=>B(!0),children:[l(Xh,{size:18}),l("span",{children:"Upload Portfolio"}),l("div",{className:"btn-ripple"})]})]}),m("div",{className:"coming-soon",children:[m("div",{className:"coming-soon-icon-wrapper",children:[l(Qh,{size:64,className:"coming-soon-icon"}),l("div",{className:"icon-ring ring-1"}),l("div",{className:"icon-ring ring-2"})]}),l("h3",{children:"Showcase Your Work"}),m("p",{children:["Use the ",l("b",{children:"Upload Portfolio"})," button above to add your projects and work samples."]})]})]}),r==="datahub"&&m("div",{className:"profile-form-section animate-fade-in",children:[l("div",{className:"profile-form-header",children:m("h2",{className:"profile-form-title",children:[l("div",{className:"title-icon",children:l(qP,{size:24})}),l("span",{children:"Data Hub"})]})}),l("div",{className:"datahub-grid",children:Ce.map((st,ft)=>m("div",{className:"datahub-card animate-scale-in",style:{animationDelay:`${ft*.1}s`},children:[m("div",{className:"datahub-card-header",style:{background:st.color},children:[l("div",{className:"datahub-icon-wrapper",children:l(st.icon,{size:48,className:"datahub-icon"})}),l("h3",{className:"datahub-count",children:st.count}),l("p",{className:"datahub-title",children:st.title})]}),l("button",{className:"datahub-button",onClick:()=>Lt(st.id),children:"UPLOAD"})]},st.id))})]}),r==="purchases"&&m("div",{className:"profile-form-section animate-fade-in",children:[l("div",{className:"profile-form-header",children:m("h2",{className:"profile-form-title",children:[l("div",{className:"title-icon",children:l(GP,{size:24})}),l("span",{children:"My Purchase Details"})]})}),m("div",{className:"purchase-table-wrapper",children:[l("div",{className:"purchase-table-container",children:m("table",{className:"purchase-table",children:[l("thead",{children:m("tr",{children:[l("th",{children:"ID"}),l("th",{children:"Payment ID"}),l("th",{children:"Type"}),l("th",{children:"Name"}),l("th",{children:"Amount"}),l("th",{children:"Date"})]})}),l("tbody",{children:_e.map(st=>m("tr",{children:[l("td",{children:st.id}),l("td",{className:"payment-id",children:st.paymentId}),l("td",{children:l("span",{className:"purchase-type-badge",children:st.type})}),l("td",{children:st.name}),l("td",{className:"amount-cell",children:st.amount}),l("td",{className:"date-cell",children:st.date})]},st.id))})]})}),_e.length===0&&m("div",{className:"no-purchases",children:[l(GP,{size:64,className:"no-purchases-icon"}),l("h3",{children:"No Purchases Yet"}),l("p",{children:"Your purchase history will appear here"})]})]})]}),r==="occupation"&&m("div",{className:"profile-form-section animate-fade-in",children:[l("div",{className:"profile-form-header",children:m("h2",{className:"profile-form-title",children:[l("div",{className:"title-icon",children:l(Ni,{size:24})}),l("span",{children:"Occupation Details"})]})}),m("div",{className:"coming-soon",children:[m("div",{className:"coming-soon-icon-wrapper",children:[l(Ni,{size:64,className:"coming-soon-icon"}),l("div",{className:"icon-ring ring-1"}),l("div",{className:"icon-ring ring-2"})]}),l("h3",{children:"Coming Soon"}),l("p",{children:"Occupation section is under development"})]})]}),r==="question"&&m("div",{className:"profile-form-section animate-fade-in",children:[l("div",{className:"profile-form-header",children:m("h2",{className:"profile-form-title",children:[l("div",{className:"title-icon",children:l(HP,{size:24})}),l("span",{children:"Questions"})]})}),m("div",{className:"coming-soon",children:[m("div",{className:"coming-soon-icon-wrapper",children:[l(HP,{size:64,className:"coming-soon-icon"}),l("div",{className:"icon-ring ring-1"}),l("div",{className:"icon-ring ring-2"})]}),l("h3",{children:"Coming Soon"}),l("p",{children:"Question section is under development"})]})]})]})]})]}),A&&l("div",{className:"video-modal-overlay",onClick:()=>I(!1),children:m("div",{className:"video-modal",onClick:st=>st.stopPropagation(),children:[m("div",{className:"video-modal-header",children:[m("h3",{children:[l(oo,{size:22}),l("span",{children:"Upload Video"})]}),l("button",{type:"button",className:"video-modal-close",onClick:()=>I(!1),children:l(Fn,{size:20})})]}),m("form",{className:"video-modal-form",onSubmit:ln,children:[m("div",{className:"form-group",children:[l("label",{className:"form-label required",children:"TITLE"}),m("div",{className:"input-wrapper",children:[l("input",{type:"text",name:"title",className:"form-control",placeholder:"Enter video title",value:T.title,onChange:Mt}),l("div",{className:"input-line"})]})]}),m("div",{className:"form-group",children:[l("label",{className:"form-label required",children:"UPLOAD VIDEO (40 MB)"}),m("div",{className:"video-file-row",children:[l("input",{type:"file",accept:".mp4,.avi,.wmv,.flv,.mkv,.mpeg",onChange:xt,className:"video-file-input"}),T.file&&l("span",{className:"video-file-name",children:T.file.name})]}),l("p",{className:"video-file-help",children:"MP4, MPEG-4, WMV, FLV, MKV only. Max size: 40 MB."})]}),m("div",{className:"form-group",children:[l("label",{className:"form-label",children:"DESCRIPTION"}),m("div",{className:"input-wrapper",children:[l("textarea",{name:"description",rows:"6",className:"form-control textarea-control video-description-textarea",placeholder:"Write a brief description of your video, tutorials, project details, etc.",value:T.description,onChange:Mt}),l("div",{className:"input-line"})]})]}),j&&l("div",{className:"video-error-text",children:j}),m("div",{className:"form-actions video-modal-actions",children:[m("button",{type:"button",className:"btn-secondary",onClick:()=>I(!1),disabled:$,children:[l(Fn,{size:18}),l("span",{children:"Cancel"})]}),m("button",{type:"submit",className:"btn-primary",disabled:$,children:[$?m(vt,{children:[l("span",{className:"spinner"}),l("span",{children:"Uploading..."})]}):m(vt,{children:[l(Xh,{size:18}),l("span",{children:"Upload"})]}),l("div",{className:"btn-ripple"})]})]})]})]})}),G&&l("div",{className:"portfolio-modal-overlay",onClick:()=>B(!1),children:m("div",{className:"portfolio-modal",onClick:st=>st.stopPropagation(),children:[m("div",{className:"portfolio-modal-header",children:[m("h3",{children:[l(Qh,{size:22}),l("span",{children:"Portfolio"})]}),l("button",{type:"button",className:"portfolio-modal-close",onClick:()=>B(!1),children:l(Fn,{size:20})})]}),m("form",{className:"portfolio-modal-form",onSubmit:js,children:[m("div",{className:"form-group",children:[l("label",{className:"form-label required",children:"TITLE"}),m("div",{className:"input-wrapper",children:[l("input",{type:"text",name:"title",className:"form-control",placeholder:"Enter title",value:L.title,onChange:Dr}),l("div",{className:"input-line"})]})]}),m("div",{className:"portfolio-file-grid",children:[m("div",{className:"form-group",children:[l("label",{className:"form-label required",children:"UPLOAD IMAGE (20MB)"}),m("div",{className:"portfolio-file-row",children:[l("input",{type:"file",accept:"image/*",onChange:Yn,className:"portfolio-file-input"}),L.imageFile&&l("span",{className:"portfolio-file-name",children:L.imageFile.name})]}),l("p",{className:"portfolio-file-help",children:"Size: 20MB (800x450)"})]}),m("div",{className:"form-group",children:[l("label",{className:"form-label",children:"UPLOAD PDF (40MB)"}),m("div",{className:"portfolio-file-row",children:[l("input",{type:"file",accept:".pdf",onChange:Ao,className:"portfolio-file-input"}),L.pdfFile&&l("span",{className:"portfolio-file-name",children:L.pdfFile.name})]}),l("p",{className:"portfolio-file-help",children:"Max: 40MB"})]})]}),m("div",{className:"form-group",children:[l("label",{className:"form-label",children:"DESCRIPTION"}),m("div",{className:"input-wrapper",children:[l("textarea",{name:"description",rows:"6",className:"form-control textarea-control portfolio-description-textarea",placeholder:"Enter description",value:L.description,onChange:Dr}),l("div",{className:"input-line"})]})]}),K&&l("div",{className:"portfolio-error-text",children:K}),l("div",{className:"form-actions portfolio-modal-actions",children:m("button",{type:"submit",className:"btn-primary btn-submit-portfolio",disabled:V,children:[V?m(vt,{children:[l("span",{className:"spinner"}),l("span",{children:"Uploading..."})]}):l("span",{children:"SUBMIT"}),l("div",{className:"btn-ripple"})]})})]})]})}),ge&&l("div",{className:"datahub-modal-overlay",onClick:()=>ye(!1),children:m("div",{className:"datahub-modal",onClick:st=>st.stopPropagation(),children:[m("div",{className:"datahub-modal-header",children:[m("h3",{children:[l(qP,{size:22}),l("span",{children:Ua()})]}),l("button",{type:"button",className:"datahub-modal-close",onClick:()=>ye(!1),children:l(Fn,{size:20})})]}),m("form",{className:"datahub-modal-form",onSubmit:Vr,children:[m("div",{className:"form-group",children:[l("label",{className:"form-label required",children:"TITLE"}),m("div",{className:"input-wrapper",children:[l("input",{type:"text",name:"title",className:"form-control",placeholder:"Enter title",value:ue.title,onChange:$s}),l("div",{className:"input-line"})]})]}),m("div",{className:"form-group",children:[l("label",{className:"form-label required",children:"UPLOAD FILE (50 MB)"}),m("div",{className:"datahub-file-row",children:[l("input",{type:"file",accept:".pdf,.doc,.docx,.xls,.xlsx,.csv",onChange:No,className:"datahub-file-input"}),ue.file&&l("span",{className:"datahub-file-name",children:ue.file.name})]}),l("p",{className:"datahub-file-help",children:"PDF, Word, or Excel files only. Max size: 50 MB."})]}),m("div",{className:"form-group",children:[l("label",{className:"form-label",children:"DESCRIPTION"}),m("div",{className:"input-wrapper",children:[l("textarea",{name:"description",rows:"6",className:"form-control textarea-control datahub-description-textarea",placeholder:"Provide additional details about this data",value:ue.description,onChange:$s}),l("div",{className:"input-line"})]})]}),X&&l("div",{className:"datahub-error-text",children:X}),m("div",{className:"form-actions datahub-modal-actions",children:[m("button",{type:"button",className:"btn-secondary",onClick:()=>ye(!1),disabled:Ee,children:[l(Fn,{size:18}),l("span",{children:"Cancel"})]}),m("button",{type:"submit",className:"btn-primary",disabled:Ee,children:[Ee?m(vt,{children:[l("span",{className:"spinner"}),l("span",{children:"Uploading..."})]}):m(vt,{children:[l(Xh,{size:18}),l("span",{children:"Upload"})]}),l("div",{className:"btn-ripple"})]})]})]})]})})]})};const q5e=()=>{var ue,ke,X,re,Ee;const{user:t}=Hr(),{showNotification:e}=vo(),n=(t==null?void 0:t.role)==="chiefeditor",[i,r]=Z.useState("manuscripts"),[a,s]=Z.useState([]),[o,c]=Z.useState([]),[u,d]=Z.useState([]),[h,f]=Z.useState({manuscripts:{total:0,pending:0,"under-review":0,accepted:0,rejected:0},researchPapers:{total:0,pending:0,"under-review":0,accepted:0,rejected:0}}),[p,w]=Z.useState(!0),[v,b]=Z.useState(null),[g,y]=Z.useState(!1),[_,S]=Z.useState(!1),[N,R]=Z.useState(!1),[D,E]=Z.useState(""),[C,P]=Z.useState(""),[k,A]=Z.useState(""),[I,T]=Z.useState("all"),[z,j]=Z.useState(""),[W,$]=Z.useState(!1);Z.useEffect(()=>{q(),n&&G()},[i,I,n]);const q=async()=>{w(!0);try{const ne=localStorage.getItem("authToken"),te="https://planninginsight-backend.vercel.app";if(n){const xe=await(await fetch(`${te}/chief-editor/all-submissions?status=${I!=="all"?I:""}`,{headers:{Authorization:`Bearer ${ne}`}})).json();if(xe.success){s(xe.data.manuscripts||[]),c(xe.data.researchPapers||[]);const Ce={total:xe.data.manuscripts.length,pending:xe.data.manuscripts.filter(oe=>oe.status==="pending").length,"under-review":xe.data.manuscripts.filter(oe=>oe.status==="under-review").length,accepted:xe.data.manuscripts.filter(oe=>oe.status==="accepted").length,rejected:xe.data.manuscripts.filter(oe=>oe.status==="rejected").length},_e={total:xe.data.researchPapers.length,pending:xe.data.researchPapers.filter(oe=>oe.status==="pending").length,"under-review":xe.data.researchPapers.filter(oe=>oe.status==="under-review").length,accepted:xe.data.researchPapers.filter(oe=>oe.status==="accepted").length,rejected:xe.data.researchPapers.filter(oe=>oe.status==="rejected").length};f({manuscripts:Ce,researchPapers:_e})}}else{const xe=await(await fetch(`${te}/editor/dashboard-stats`,{headers:{Authorization:`Bearer ${ne}`}})).json();xe.success&&f(xe.data);const Ce=i==="manuscripts"?"manuscripts":"research-papers",_e=I!=="all"?`?status=${I}`:"",pe=await(await fetch(`${te}/editor/${Ce}${_e}`,{headers:{Authorization:`Bearer ${ne}`}})).json();pe.success&&(i==="manuscripts"?s(pe.data.manuscripts||[]):c(pe.data.papers||[]))}}catch(ne){console.error("Error fetching dashboard data:",ne),e("Failed to load dashboard data","error")}finally{w(!1)}},G=async()=>{try{const ne=localStorage.getItem("authToken"),xe=await(await fetch("https://planninginsight-backend.vercel.app/chief-editor/editors",{headers:{Authorization:`Bearer ${ne}`}})).json();xe.success&&d(xe.data||[])}catch(ne){console.error("Error fetching editors:",ne)}},B=ne=>{b(ne),E(""),S(!0)},L=ne=>{var te;b(ne),E(((te=ne.assignedEditor)==null?void 0:te._id)||""),R(!0)},M=async()=>{if(!D){e("Please select an editor","error");return}try{const ne=localStorage.getItem("authToken"),Ce=await(await fetch(`https://planninginsight-backend.vercel.app/chief-editor/${i==="manuscripts"?"assign-manuscript":"assign-paper"}/${v._id}`,{method:"POST",headers:{Authorization:`Bearer ${ne}`,"Content-Type":"application/json"},body:JSON.stringify({editorId:D})})).json();Ce.success?(e("Assignment successful","success"),S(!1),q(),n&&G()):e(Ce.message||"Failed to assign","error")}catch(ne){console.error("Error assigning:",ne),e("Failed to assign","error")}},K=async()=>{if(!D){e("Please select an editor","error");return}try{const ne=localStorage.getItem("authToken"),Ce=await(await fetch(`https://planninginsight-backend.vercel.app/chief-editor/${i==="manuscripts"?"reassign-manuscript":"reassign-paper"}/${v._id}`,{method:"PUT",headers:{Authorization:`Bearer ${ne}`,"Content-Type":"application/json"},body:JSON.stringify({editorId:D})})).json();Ce.success?(e("Reassignment successful","success"),R(!1),q(),n&&G()):e(Ce.message||"Failed to reassign","error")}catch(ne){console.error("Error reassigning:",ne),e("Failed to reassign","error")}},Q=async()=>{if(window.confirm(`Auto-assign all unassigned submissions to available editors?

Distribution: Submissions will be divided evenly among all editors.`)){$(!0);try{const ne=localStorage.getItem("authToken"),xe=await(await fetch("https://planninginsight-backend.vercel.app/chief-editor/auto-assign",{method:"POST",headers:{Authorization:`Bearer ${ne}`}})).json();if(xe.success){const Ce=xe.data.distribution?`

 Distribution: ${xe.data.distribution}`:"";e(xe.message+Ce,"success"),q(),n&&G()}else e(xe.message||"Failed to auto-assign","error")}catch(ne){console.error("Error auto-assigning:",ne),e("Failed to auto-assign","error")}finally{$(!1)}}},V=async ne=>{b(ne),P(ne.status||"under-review"),A(ne.adminRemarks||ne.reviewComments||""),y(!0)},le=async()=>{if(!C){e("Please select a status","error");return}try{const ne=localStorage.getItem("authToken"),Ce=await(await fetch(`https://planninginsight-backend.vercel.app/editor/${i==="manuscripts"?"manuscripts":"research-papers"}/${v._id}/review`,{method:"PATCH",headers:{Authorization:`Bearer ${ne}`,"Content-Type":"application/json"},body:JSON.stringify({status:C,reviewComments:k})})).json();Ce.success?(e("Review submitted successfully","success"),y(!1),q()):e(Ce.message||"Failed to submit review","error")}catch(ne){console.error("Error submitting review:",ne),e("Failed to submit review","error")}},ge=ne=>{const te={pending:{color:"#f59e0b",icon:ar,label:"Pending"},"under-review":{color:"#3b82f6",icon:z0,label:"Under Review"},accepted:{color:"#10b981",icon:Gn,label:"Accepted"},rejected:{color:"#ef4444",icon:ao,label:"Rejected"}},ae=te[ne]||te.pending,xe=ae.icon;return m("span",{style:{display:"inline-flex",alignItems:"center",gap:"4px",padding:"4px 12px",borderRadius:"12px",background:`${ae.color}20`,color:ae.color,fontSize:"13px",fontWeight:"500"},children:[l(xe,{size:14}),ae.label]})},ye=i==="manuscripts"?a:o,be=i==="manuscripts"?h.manuscripts:h.researchPapers,Le=ye.filter(ne=>{var te,ae,xe;return z?((te=ne.title)==null?void 0:te.toLowerCase().includes(z.toLowerCase()))||((xe=(ae=ne.author)==null?void 0:ae.name)==null?void 0:xe.toLowerCase().includes(z.toLowerCase())):!0});return m("div",{className:"editor-dashboard",children:[m("div",{className:"editor-header",children:[m("div",{children:[l("h1",{children:n?"Chief Editor Dashboard":"Editor Dashboard"}),l("p",{children:"Review and manage manuscript and research paper submissions"})]}),n&&m("button",{className:"auto-assign-button",onClick:Q,disabled:W,style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",background:"#524393",color:"white",border:"none",borderRadius:"8px",cursor:W?"not-allowed":"pointer",opacity:W?.6:1,fontWeight:"500"},children:[l(S0,{size:18,className:W?"spinning":""}),W?"Auto-Assigning...":"Auto-Assign All"]})]}),m("div",{className:"stats-grid",children:[m("div",{className:"stat-card",style:{borderLeft:"4px solid #3b82f6"},children:[l("div",{className:"stat-icon",style:{background:"#3b82f620"},children:l(xn,{size:24,color:"#3b82f6"})}),m("div",{children:[l("div",{className:"stat-value",children:be.total}),l("div",{className:"stat-label",children:"Total Submissions"})]})]}),m("div",{className:"stat-card",style:{borderLeft:"4px solid #f59e0b"},children:[l("div",{className:"stat-icon",style:{background:"#f59e0b20"},children:l(ar,{size:24,color:"#f59e0b"})}),m("div",{children:[l("div",{className:"stat-value",children:be.pending}),l("div",{className:"stat-label",children:"Pending Review"})]})]}),m("div",{className:"stat-card",style:{borderLeft:"4px solid #3b82f6"},children:[l("div",{className:"stat-icon",style:{background:"#3b82f620"},children:l(z0,{size:24,color:"#3b82f6"})}),m("div",{children:[l("div",{className:"stat-value",children:be["under-review"]}),l("div",{className:"stat-label",children:"Under Review"})]})]}),m("div",{className:"stat-card",style:{borderLeft:"4px solid #10b981"},children:[l("div",{className:"stat-icon",style:{background:"#10b98120"},children:l(Gn,{size:24,color:"#10b981"})}),m("div",{children:[l("div",{className:"stat-value",children:be.accepted}),l("div",{className:"stat-label",children:"Accepted"})]})]})]}),m("div",{className:"editor-tabs",children:[m("button",{className:`tab-button ${i==="manuscripts"?"active":""}`,onClick:()=>r("manuscripts"),children:[l(xn,{size:18}),"Manuscripts"]}),m("button",{className:`tab-button ${i==="research-papers"?"active":""}`,onClick:()=>r("research-papers"),children:[l(rw,{size:18}),"Research Papers"]}),n&&m("button",{className:`tab-button ${i==="editors"?"active":""}`,onClick:()=>r("editors"),children:[l(Zt,{size:18}),"Editors (",u.length,")"]})]}),m("div",{className:"filters-bar",children:[m("div",{className:"search-box",children:[l(Ia,{size:18}),l("input",{type:"text",placeholder:"Search by title or author...",value:z,onChange:ne=>j(ne.target.value)})]}),m("select",{className:"filter-select",value:I,onChange:ne=>T(ne.target.value),children:[l("option",{value:"all",children:"All Status"}),l("option",{value:"pending",children:"Pending"}),l("option",{value:"under-review",children:"Under Review"}),l("option",{value:"accepted",children:"Accepted"}),l("option",{value:"rejected",children:"Rejected"})]})]}),i==="editors"?l("div",{className:"editors-grid",children:u.length===0?m("div",{className:"empty-state",children:[l(Zt,{size:48,color:"#cbd5e1"}),l("p",{children:"No editors found"})]}):u.map(ne=>{var te,ae,xe,Ce,_e,oe,pe;return m("div",{className:"editor-card",children:[l("div",{className:"editor-avatar",children:(te=ne.profile)!=null&&te.avatar?l("img",{src:ne.profile.avatar,alt:(ae=ne.profile)==null?void 0:ae.firstName}):l(Is,{size:32,color:"#524393"})}),m("div",{className:"editor-info",children:[m("h3",{children:[(xe=ne.profile)==null?void 0:xe.firstName," ",(Ce=ne.profile)==null?void 0:Ce.lastName]}),l("p",{className:"editor-email",children:ne.email}),m("div",{className:"editor-workload",children:[m("div",{className:"workload-item",children:[l(xn,{size:16}),m("span",{children:[((_e=ne.workload)==null?void 0:_e.manuscripts)||0," Manuscripts"]})]}),m("div",{className:"workload-item",children:[l(rw,{size:16}),m("span",{children:[((oe=ne.workload)==null?void 0:oe.papers)||0," Papers"]})]}),m("div",{className:"workload-total",children:["Total: ",((pe=ne.workload)==null?void 0:pe.total)||0]})]})]})]},ne._id)})}):l("div",{className:"submissions-list",children:p?l("div",{className:"loading-state",children:"Loading..."}):Le.length===0?m("div",{className:"empty-state",children:[l(xn,{size:48,color:"#cbd5e1"}),l("p",{children:"No submissions found"}),!n&&l("p",{style:{fontSize:"14px",color:"#94a3b8",marginTop:"8px"},children:"You will see submissions here once they are assigned to you by the Chief Editor."})]}):Le.map(ne=>{var te,ae,xe,Ce;return m("div",{className:"submission-card",children:[m("div",{className:"submission-header",children:[m("div",{children:[l("h3",{children:ne.title}),m("div",{className:"submission-meta",children:[m("span",{children:[l(Is,{size:14}),((te=ne.author)==null?void 0:te.name)||"Unknown"]}),m("span",{children:[l(ua,{size:14}),new Date(ne.createdAt).toLocaleDateString()]}),ne.requirementId&&m("span",{children:[l(xn,{size:14}),ne.requirementId.title]})]})]}),ge(ne.status)]}),ne.abstract&&m("p",{className:"submission-abstract",children:[ne.abstract.substring(0,200),"..."]}),ne.adminRemarks&&m("div",{className:"review-comments",children:[l(vl,{size:16}),l("span",{children:ne.adminRemarks})]}),m("div",{className:"submission-actions",children:[((ae=ne.document)==null?void 0:ae.url)&&m("a",{href:ne.document.url,target:"_blank",rel:"noopener noreferrer",className:"action-button secondary",children:[l(i4,{size:16}),"Download"]}),n&&!ne.assignedEditor&&m("button",{className:"action-button assign",onClick:()=>B(ne),style:{background:"#524393",color:"white"},children:[l(_m,{size:16}),"Assign Editor"]}),ne.assignedEditor&&m("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"13px",color:"#64748b"},children:[l(_m,{size:14}),m("span",{children:["Assigned to: ",(xe=ne.assignedEditor.profile)==null?void 0:xe.firstName," ",(Ce=ne.assignedEditor.profile)==null?void 0:Ce.lastName]}),n&&m("button",{onClick:()=>L(ne),style:{padding:"4px 8px",fontSize:"12px",background:"#f59e0b",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px"},children:[l(S0,{size:12}),"Change"]})]}),m("button",{className:"action-button primary",onClick:()=>V(ne),children:[l(Pa,{size:16}),"Review"]})]})]},ne._id)})}),_&&v&&l("div",{className:"modal-overlay",onClick:()=>S(!1),children:m("div",{className:"modal-content",onClick:ne=>ne.stopPropagation(),children:[m("div",{className:"modal-header",children:[l("h2",{children:"Assign to Editor"}),l("button",{onClick:()=>S(!1),children:""})]}),m("div",{className:"modal-body",children:[m("div",{className:"review-info",children:[l("h3",{children:v.title}),m("p",{children:[l("strong",{children:"Type:"})," ",i==="manuscripts"?"Manuscript":"Research Paper"]}),m("p",{children:[l("strong",{children:"Status:"})," ",v.status]})]}),m("div",{className:"form-group",children:[l("label",{children:"Select Editor *"}),m("select",{value:D,onChange:ne=>E(ne.target.value),required:!0,children:[l("option",{value:"",children:"Choose an editor..."}),u.map(ne=>{var te,ae,xe;return m("option",{value:ne._id,children:[(te=ne.profile)==null?void 0:te.firstName," ",(ae=ne.profile)==null?void 0:ae.lastName," (",ne.email,") - Workload: ",((xe=ne.workload)==null?void 0:xe.total)||0]},ne._id)})]})]}),l("div",{style:{marginTop:"16px",padding:"12px",background:"#f8fafc",borderRadius:"8px",fontSize:"14px",color:"#64748b"},children:m("p",{children:[l("strong",{children:"Tip:"})," Editors with lower workload are recommended for better distribution."]})})]}),m("div",{className:"modal-footer",children:[l("button",{className:"button secondary",onClick:()=>S(!1),children:"Cancel"}),m("button",{className:"button primary",onClick:M,style:{background:"#524393"},children:[l(BN,{size:16}),"Assign"]})]})]})}),N&&v&&l("div",{className:"modal-overlay",onClick:()=>R(!1),children:m("div",{className:"modal-content",onClick:ne=>ne.stopPropagation(),children:[m("div",{className:"modal-header",children:[l("h2",{children:"Change Editor Assignment"}),l("button",{onClick:()=>R(!1),children:""})]}),m("div",{className:"modal-body",children:[m("div",{className:"review-info",children:[l("h3",{children:v.title}),m("p",{children:[l("strong",{children:"Type:"})," ",i==="manuscripts"?"Manuscript":"Research Paper"]}),m("p",{children:[l("strong",{children:"Status:"})," ",v.status]}),m("p",{style:{marginTop:"12px",padding:"8px",background:"#fff3cd",borderRadius:"6px",fontSize:"14px"},children:[l("strong",{children:"Currently assigned to:"})," ",(ke=(ue=v.assignedEditor)==null?void 0:ue.profile)==null?void 0:ke.firstName," ",(re=(X=v.assignedEditor)==null?void 0:X.profile)==null?void 0:re.lastName]})]}),m("div",{className:"form-group",children:[l("label",{children:"Reassign to Different Editor *"}),m("select",{value:D,onChange:ne=>E(ne.target.value),required:!0,children:[l("option",{value:"",children:"Choose an editor..."}),u.map(ne=>{var te,ae,xe,Ce;return m("option",{value:ne._id,children:[(te=ne.profile)==null?void 0:te.firstName," ",(ae=ne.profile)==null?void 0:ae.lastName," (",ne.email,") - Workload: ",((xe=ne.workload)==null?void 0:xe.total)||0,ne._id===((Ce=v.assignedEditor)==null?void 0:Ce._id)?" (Current)":""]},ne._id)})]})]}),l("div",{style:{marginTop:"16px",padding:"12px",background:"#f8fafc",borderRadius:"8px",fontSize:"14px",color:"#64748b"},children:m("p",{children:[l("strong",{children:"Note:"})," Changing the editor will update the workload immediately. The previous editor's workload will decrease by 1, and the new editor's workload will increase by 1."]})})]}),m("div",{className:"modal-footer",children:[l("button",{className:"button secondary",onClick:()=>R(!1),children:"Cancel"}),m("button",{className:"button primary",onClick:K,style:{background:"#f59e0b"},children:[l(S0,{size:16}),"Change Editor"]})]})]})}),g&&v&&l("div",{className:"modal-overlay",onClick:()=>y(!1),children:m("div",{className:"modal-content",onClick:ne=>ne.stopPropagation(),children:[m("div",{className:"modal-header",children:[l("h2",{children:"Review Submission"}),l("button",{onClick:()=>y(!1),children:""})]}),m("div",{className:"modal-body",children:[m("div",{className:"review-info",children:[l("h3",{children:v.title}),m("p",{children:[l("strong",{children:"Author:"})," ",(Ee=v.author)==null?void 0:Ee.name]}),m("p",{children:[l("strong",{children:"Type:"})," ",v.type==="research-paper"?"Research Paper":"Manuscript"]}),v.requirementId&&m("p",{children:[l("strong",{children:"Requirement:"})," ",v.requirementId.title]})]}),m("div",{className:"form-group",children:[l("label",{children:"Status *"}),m("select",{value:C,onChange:ne=>P(ne.target.value),required:!0,children:[l("option",{value:"",children:"Select Status"}),l("option",{value:"under-review",children:"Under Review"}),l("option",{value:"accepted",children:"Accept"}),l("option",{value:"rejected",children:"Reject"})]})]}),m("div",{className:"form-group",children:[l("label",{children:"Review Comments"}),l("textarea",{value:k,onChange:ne=>A(ne.target.value),placeholder:"Enter your review comments...",rows:5})]})]}),m("div",{className:"modal-footer",children:[l("button",{className:"button secondary",onClick:()=>y(!1),children:"Cancel"}),l("button",{className:"button primary",onClick:le,children:"Submit Review"})]})]})})]})},N0=t=>{const[e,n]=Z.useState(!1),[i,r]=Z.useState(null),[a,s]=Z.useState(null),{showNotification:o}=vo(),c=Z.useCallback(async(d=null,h={})=>{var b,g;const{showSuccess:f=!0,showError:p=!0,successMessage:w="Operation completed successfully",errorMessage:v="Something went wrong"}=h;n(!0),r(null);try{const y=await t(d);return s(y),f&&w&&o(w,"success"),y}catch(y){const _=((g=(b=y.response)==null?void 0:b.data)==null?void 0:g.message)||v;throw r(_),p&&o(_,"error"),y}finally{n(!1)}},[t,o]),u=Z.useCallback(()=>{n(!1),r(null),s(null)},[]);return[c,e,i,a,u]};[...Array.from({length:10}).map((t,e)=>({id:`demo-${e+3}`,title:["Project Manager","Environmental Consultant","Urban Designer","Site Engineer","Sustainability Consultant"][e%5]+` ${e+1}`,company:["BuildRight","EcoSolutions","CityScape","GreenBuild","UrbanWorks"][e%5],location:["Singapore","Vancouver, Canada","New York, USA","Barcelona, Spain","London, UK"][e%5],jobType:["Full-time","Contract","Part-time"][e%3],experienceRequired:`${2+e%6}`,salaryRange:5e4+e*5e3,description:"Sample description for demo job. This is a truncated preview of the real job description used to test card layout and spacing.",applicationDeadline:"2026-12-31",applicants:Math.floor(10+Math.random()*120),featured:e%4===0,isPremium:e%6===0}))];const H5e=()=>{const[t,e]=Z.useState([]),[n,i]=Z.useState([]),[r,a]=Z.useState(""),[s,o]=Z.useState(null),[c,u]=Z.useState(!1),[d,h]=Z.useState(!1),[f,p]=Z.useState(!1),[w,v]=Z.useState(!1);Z.useState(!1);const[b,g]=Z.useState(!1);Z.useEffect(()=>(c||d||f?document.body.classList.add("modal-open"):document.body.classList.remove("modal-open"),()=>{document.body.classList.remove("modal-open")}),[c,d,f]);const[y,_]=Z.useState({location:"",jobType:"",experience:"",salaryRange:""}),[S,N]=Z.useState(!0),[R,D]=Z.useState(!1),E=()=>{window.scrollTo({top:0,behavior:"smooth"})};Z.useEffect(()=>{const j=()=>{D(window.scrollY>300)};return window.addEventListener("scroll",j),()=>window.removeEventListener("scroll",j)},[]),Z.useEffect(()=>{const j=setTimeout(()=>{const W=[{id:1,title:"Senior Urban Planner",company:"CityScape Architects",location:"New York, USA",type:"Full-time",experience:"5+ years",salary:"$80,000 - $120,000",deadline:"2026-12-15",description:"We are seeking an experienced Urban Planner to lead our sustainable city development projects. The ideal candidate will have expertise in transit-oriented development and community engagement.",requirements:["Master's degree in Urban Planning","5+ years of professional experience"],recruiter:{name:"Alex Johnson",company:"CityScape Architects",id:"RID-001"},applicants:42,acceptanceProbability:78,isPremium:!0,featured:!0,postedDate:"2025-11-10",customFields:{noticePeriod:"30 days",currentCTC:"$90,000",expectedCTC:"$110,000"}},{id:2,title:"Landscape Architect",company:"GreenSpace Design",location:"Barcelona, Spain",type:"Full-time",experience:"3+ years",salary:"45,000 - 65,000",deadline:"2026-12-20",description:"Join our innovative team to create sustainable and accessible public spaces. We're looking for creative minds with a passion for environmental design.",requirements:["Bachelor's degree in Landscape Architecture","3+ years of professional experience"],recruiter:{name:"Maria Rodriguez",company:"GreenSpace Design",id:"RID-002"},applicants:28,acceptanceProbability:65,isPremium:!1,featured:!1,postedDate:"2025-11-15",customFields:{noticePeriod:"15 days",currentCTC:"50,000",expectedCTC:"60,000"}}],$=Array.from({length:14}).map((G,B)=>{const L=["Project Manager","Environmental Consultant","Urban Designer","Site Engineer","Sustainability Consultant","Transportation Planner","Building Services Engineer"],M=["BuildRight","EcoSolutions Inc.","CityScape Architects","GreenSpace Design","UrbanWorks Ltd"],K=["Singapore","Vancouver, Canada","New York, USA","Barcelona, Spain","London, UK"],Q=["Full-time","Contract","Part-time","Remote"],V=["1+ years","2+ years","3+ years","5+ years","7+ years"],le=B%L.length;return{id:100+B,title:`${L[le]} ${B+1}`,company:M[B%M.length],location:K[B%K.length],type:Q[B%Q.length],experience:V[B%V.length],salary:`$${50+B*5}k - $${60+B*6}k`,deadline:`2026-12-${10+B%20}`,description:"This is a demo job description used to preview the card layout and spacing. Replace with live data from the API.",requirements:["Relevant degree","Experience in role"],recruiter:{name:M[B%M.length]+" HR",company:M[B%M.length],id:`RID-${B+100}`},applicants:Math.floor(5+Math.random()*80),acceptanceProbability:Math.floor(40+Math.random()*40),isPremium:B%6===0,featured:B%5===0,postedDate:"2025-11-01",customFields:{noticePeriod:`${10+B%30} days`,currentCTC:`$${40+B}k`,expectedCTC:`$${45+B}k`}}}),q=[...W,...$];e(q),i(q),N(!1)},400);return()=>clearTimeout(j)},[]),Z.useEffect(()=>{let j=[...t];if(r){const W=r.toLowerCase();j=j.filter($=>$.title.toLowerCase().includes(W)||$.company.toLowerCase().includes(W)||$.location.toLowerCase().includes(W)||$.description.toLowerCase().includes(W))}if(y.location&&(j=j.filter(W=>W.location.includes(y.location))),y.jobType&&(j=j.filter(W=>W.type===y.jobType)),y.experience){const W=y.experience,$=q=>{if(!q)return!1;const G=parseInt(q.replace(/[^0-9]/g,""),10);return isNaN(G)?!1:W==="Entry"?G<=1:W==="1-3 years"?G>=1&&G<=3:W==="3-5 years"?G>=3&&G<=5:W==="5+ years"?G>=5:q.toLowerCase().includes(W.toLowerCase())};j=j.filter(q=>$(q.experience))}if(y.salaryRange){const $=(q=>{const B=q.replace(/\s/g,"").replace(/\$/g,"").split(/-|/),L=M=>{if(!M)return NaN;if(M.toLowerCase().includes("k"))return parseFloat(M.toLowerCase().replace("k",""));const K=parseInt(M.replace(/[^0-9]/g,""),10);return isNaN(K)?NaN:Math.round(K/1e3)};return{min:L(B[0]),max:L(B[1])}})(y.salaryRange);j=j.filter(q=>{if(!q.salary)return!1;const G=q.salary.match(/\$?\s*([0-9,]+)k?|\$?\s*([0-9,]+)/i);let B=NaN;if(G){const L=G[1]||G[2];L?L.toLowerCase().includes("k")?B=parseFloat(L.toLowerCase().replace("k","")):B=Math.round(parseInt(L.replace(/[^0-9]/g,""),10)/1e3):B=NaN}return isNaN(B)?!1:!isNaN($.min)&&!isNaN($.max)?B>=$.min&&B<=$.max:!1})}j.sort((W,$)=>new Date(W.deadline)-new Date($.deadline)),i(j)},[r,y,t]);const C=()=>{g(!0)},P=j=>{o(j),u(!0)},k=j=>{o(j),h(!0)},A=["All Locations","New York, USA","Barcelona, Spain","Vancouver, Canada","London, UK","Singapore","Chicago, USA"],I=["All Types","Full-time","Part-time","Contract","Remote"],T=["All Levels","Entry","1-3 years","3-5 years","5+ years"],z=["All Ranges","$50k-$70k","$70k-$90k","$90k-$120k","$120k+"];return m("div",{className:"jp-page",children:[l("header",{className:"jp-header",children:m("div",{className:"jp-container jp-header-inner",children:[m("div",{children:[l("h1",{className:"jp-title",children:"Job Portal"}),l("p",{className:"jp-sub",children:"Find your next career opportunity in the built environment"})]}),l("div",{className:"jp-actions"})]})}),!b&&w&&l("div",{className:"jp-premium-banner",children:m("div",{className:"jp-container jp-premium-inner",children:[m("div",{children:[l("h2",{children:"Unlock Premium Job Features"}),l("p",{children:"Get your applications featured, access AI compatibility scores, and more"})]}),l("button",{className:"btn white",onClick:C,children:"Upgrade Now"})]})}),m("main",{className:"jp-container jp-main",children:[m("section",{className:"jp-search",children:[l("div",{className:"search-box",children:l("input",{type:"text",placeholder:"Search jobs by title, company, or keywords...",value:r,onChange:j=>a(j.target.value)})}),m("div",{className:"filters",children:[l("select",{value:y.location,onChange:j=>_({...y,location:j.target.value}),children:A.map(j=>l("option",{value:j==="All Locations"?"":j,children:j},j))}),l("select",{value:y.jobType,onChange:j=>_({...y,jobType:j.target.value}),children:I.map(j=>l("option",{value:j==="All Types"?"":j,children:j},j))}),l("select",{value:y.experience,onChange:j=>_({...y,experience:j.target.value}),children:T.map(j=>l("option",{value:j==="All Levels"?"":j,children:j},j))}),l("select",{value:y.salaryRange,onChange:j=>_({...y,salaryRange:j.target.value}),children:z.map(j=>l("option",{value:j==="All Ranges"?"":j,children:j},j))})]})]}),S?l("div",{className:"jp-loading",children:"Loading jobs..."}):m("div",{className:"jp-grid",children:[n.map(j=>l(V5e,{job:j,isLoggedIn:!0,isPremium:b,onViewJob:P,onApply:k},j.id)),n.length===0&&l("div",{className:"jp-no-jobs",children:"No jobs found"})]})]}),c&&l(G5e,{job:s,isPremium:b,onClose:()=>{u(!1),o(null)},onApply:()=>{u(!1),h(!0)}}),d&&l(X5e,{job:s,onClose:()=>{h(!1),o(null)},onSubmit:()=>{h(!1),o(null),alert("Application submitted successfully!")}}),f&&l(Y5e,{onClose:()=>p(!1)}),R&&m("button",{className:"scroll-to-top",onClick:E,"aria-label":"Scroll to top",children:[l("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",children:l("path",{d:"M12 19V5M5 12l7-7 7 7"})}),l("span",{children:"TOP"})]})]})},V5e=({job:t,isLoggedIn:e,isPremium:n,onViewJob:i,onApply:r})=>{const a=Math.ceil((new Date(t.deadline)-new Date)/864e5);return l("div",{className:`jp-card ${t.featured?"featured":""}`,children:m("div",{className:"jp-card-inner",children:[m("div",{className:"jp-card-top",children:[m("div",{children:[l("h3",{className:"jp-card-title",children:t.title}),m("div",{className:"jp-card-sub",children:[t.company,"  ",t.location]})]}),m("div",{className:"jp-badges",children:[t.isPremium&&l("span",{className:"badge premium",children:"PREMIUM"}),t.featured&&l("span",{className:"badge featured",children:"FEATURED"})]})]}),m("div",{className:"jp-tags",children:[l("span",{className:"tag",children:t.type}),l("span",{className:"tag",children:t.experience}),l("span",{className:"tag",children:t.salary})]}),l("p",{className:"jp-desc",children:t.description}),m("div",{className:"jp-card-bottom",children:[m("div",{className:"jp-deadline",children:["Apply by: ",new Date(t.deadline).toLocaleDateString()," ",l("span",{className:`jp-days ${a<3?"urgent":a<7?"soon":"normal"}`,children:a>0?`${a} days left`:"Last day"})]}),m("div",{className:"jp-actions",children:[l("button",{className:"btn secondary",onClick:()=>i(t),children:"View Details"}),l("button",{className:"btn primary",onClick:()=>r(t),children:"Apply Now"})]})]})]})})},G5e=({job:t,isPremium:e,onClose:n,onApply:i})=>{var u,d,h,f,p,w,v;const[r,a]=Z.useState(!1);if(!t)return null;const s=t.education||((u=t.customFields)==null?void 0:u.education)||null,o=t.experience||t.experienceRequired||null,c=Array.isArray(t.skills)?t.skills:t.keySkills||[];return l("div",{className:"jp-modal-overlay",role:"presentation",onClick:b=>{b.target===b.currentTarget&&n()},children:m("section",{className:"jp-modal vertical",role:"dialog","aria-modal":"true","aria-labelledby":"job-title","aria-describedby":"job-desc",children:[m("header",{className:"jp-modal-header",children:[m("div",{children:[l("h2",{id:"job-title",style:{margin:0},children:t.title}),m("div",{className:"jp-company muted",children:[t.company,"  ",t.location]})]}),l("button",{className:"modal-close",onClick:n,"aria-label":"Close job details",children:""})]}),m("main",{className:"jp-modal-body",id:"job-desc",children:[m("article",{className:"jp-main-col",tabIndex:-1,children:[m("section",{className:"detail-section","aria-labelledby":"desc-heading",children:[l("h3",{id:"desc-heading",children:"Job Description"}),l("p",{className:"text",children:t.description}),t.company&&m("p",{className:"text",style:{marginTop:12},children:[m("strong",{children:["About ",t.company,":"]})," ",t.companyOverview||"We are committed to high-quality projects, sustainability, and professional growth for our team."]})]}),m("section",{className:"detail-section","aria-labelledby":"req-heading",children:[l("h3",{id:"req-heading",children:"Requirements"}),m("ul",{className:"text",children:[s&&m("li",{children:[l("strong",{children:"Education:"})," ",s]}),o&&m("li",{children:[l("strong",{children:"Experience:"})," ",o]}),c&&c.length>0&&m("li",{children:[l("strong",{children:"Key skills:"})," ",c.join(", ")]}),!s&&!o&&(!c||c.length===0)&&t.requirements&&t.requirements.map((b,g)=>l("li",{children:b},g))]})]}),m("section",{className:"detail-section additional-info","aria-labelledby":"info-heading",children:[l("h3",{id:"info-heading",children:"Additional Information"}),m("div",{className:"two-col",children:[m("div",{className:"info-pair","aria-label":"Current CTC",children:[l("div",{className:"name",children:"Current CTC"}),l("div",{className:"val",children:((d=t.customFields)==null?void 0:d.currentCTC)||""})]}),m("div",{className:"info-pair","aria-label":"Expected CTC",children:[l("div",{className:"name",children:"Expected CTC"}),l("div",{className:"val",children:((h=t.customFields)==null?void 0:h.expectedCTC)||""})]}),m("div",{className:"info-pair","aria-label":"Notice Period",children:[l("div",{className:"name",children:"Notice Period"}),l("div",{className:"val",children:((f=t.customFields)==null?void 0:f.noticePeriod)||""})]}),m("div",{className:"info-pair","aria-label":"Application Deadline",children:[l("div",{className:"name",children:"Application Deadline"}),l("div",{className:"val",children:t.deadline?new Date(t.deadline).toLocaleDateString():""})]})]})]})]}),m("aside",{className:"jp-side-col","aria-labelledby":"recruiter-heading",children:[m("div",{className:"recruiter-card card",role:"group","aria-label":"Recruiter information",children:[m("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[l("div",{className:"recruiter-avatar","aria-hidden":!0,children:(p=t.recruiter)!=null&&p.name?t.recruiter.name.split(" ").map(b=>b[0]).join(""):"R"}),m("div",{className:"recruiter-info",children:[l("div",{className:"org",children:((w=t.recruiter)==null?void 0:w.company)||"Recruiter"}),l("div",{className:"role",children:((v=t.recruiter)==null?void 0:v.name)||""})]})]}),m("div",{className:"recruiter-actions",children:[l("button",{type:"button",className:"btn outline",onClick:()=>a(!0),children:"View Profile"}),l("button",{type:"button",className:"btn primary",onClick:i,children:"Apply Now"})]})]}),m("div",{className:"stats-card","aria-hidden":!0,children:[l("div",{className:"label",children:"Application Stats"}),m("div",{style:{display:"flex",justifyContent:"space-between",marginTop:10},children:[l("div",{className:"muted",children:"Total Applicants"}),l("div",{className:"value",children:t.applicants??0})]}),e&&m("div",{style:{display:"flex",justifyContent:"space-between",marginTop:8},children:[l("div",{className:"muted",children:"Your Match Score"}),m("div",{className:"value",children:[t.acceptanceProbability??0,"%"]})]}),m("div",{style:{display:"flex",justifyContent:"space-between",marginTop:8},children:[l("div",{className:"muted",children:"Posted"}),l("div",{className:"value",children:t.postedDate?new Date(t.postedDate).toLocaleDateString():""})]})]}),!e&&l("div",{className:"card premium-note",role:"note",children:"Upgrade to see your AI compatibility score and get featured."})]})]}),m("footer",{className:"jp-apply-sticky",role:"region","aria-label":"Job actions",children:[l("button",{type:"button",className:"btn outline",onClick:n,children:"Close"}),l("button",{type:"button",className:"btn primary",onClick:i,children:"Apply for this Job"})]}),r&&l(K5e,{recruiter:t.recruiter,onClose:()=>a(!1)})]})})},X5e=({job:t,onClose:e,onSubmit:n})=>{const[i,r]=Z.useState(""),[a,s]=Z.useState(""),[o,c]=Z.useState(""),[u,d]=Z.useState(""),[h,f]=Z.useState(""),[p,w]=Z.useState(""),[v,b]=Z.useState(""),[g,y]=Z.useState(null),[_,S]=Z.useState(""),[N,R]=Z.useState(""),[D,E]=Z.useState(""),[C,P]=Z.useState(""),[k,A]=Z.useState("email"),[I,T]=Z.useState(!0),[z,j]=Z.useState({});Z.useEffect(()=>{t&&t.customFields&&(R(t.customFields.currentCTC||""),E(t.customFields.expectedCTC||""),P(t.customFields.noticePeriod||""))},[t]);const W=M=>{const K=M.replace(/[^a-zA-Z\s]/g,"");r(K);let Q={...z};M!==K&&M.length>0?Q.fullName="Only letters and spaces are allowed":K.length>0&&K.length<3?Q.fullName="Full name must be at least 3 characters":K.length>=3&&delete Q.fullName,j(Q)},$=M=>{s(M);let K={...z};M.length>0&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(M)?K.email="Please enter a valid email address":M.length>0&&delete K.email,j(K)},q=M=>{const K=M.replace(/\D/g,""),Q=K.substring(0,10);c(Q);let V={...z};M!==K&&M.length>0?V.phone="Only numbers are allowed (10 digits required)":Q.length>0&&Q.length<10?V.phone="Phone number must be exactly 10 digits":Q.length===10&&(/^[6-9]/.test(Q)?delete V.phone:V.phone="Phone number must start with 6, 7, 8, or 9"),j(V)},G=()=>{const M={};if(i.trim()?i.trim().length<3?M.fullName="Full name must be at least 3 characters":/^[a-zA-Z\s]+$/.test(i)||(M.fullName="Full name can only contain letters and spaces"):M.fullName="Full name is required",a.trim()?a.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)||(M.email="Please enter a valid email address"):M.email="Email is required",o.trim()?o.length!==10?M.phone="Phone number must be exactly 10 digits":/^[6-9]\d{9}$/.test(o)||(M.phone="Please enter a valid Indian mobile number"):M.phone="Phone number is required",u.trim()||(M.country="Country/Location is required"),!h)M.dateOfBirth="Date of birth is required";else{const K=new Date,Q=new Date(h),V=K.getFullYear()-Q.getFullYear();V<18?M.dateOfBirth="You must be at least 18 years old":V>100&&(M.dateOfBirth="Please enter a valid date of birth")}return p?parseFloat(p)<0?M.yearsOfExperience="Years of experience cannot be negative":parseFloat(p)>50&&(M.yearsOfExperience="Please enter a valid years of experience"):M.yearsOfExperience="Years of experience is required",D.trim()||(M.expectedCTC="Expected CTC is required"),C.trim()||(M.noticePeriod="Notice period is required"),v.trim()?v.trim().length<100&&(M.coverLetter="Cover letter must be at least 100 characters"):M.coverLetter="Cover letter is required",g||(M.resume="Resume is required"),I||(M.agree="You must agree to terms to apply"),j(M),Object.keys(M).length===0},B=M=>{const K=M.target.files[0];K&&y(K)},L=M=>{if(M.preventDefault(),!G())return;const K={jobId:t==null?void 0:t.id,fullName:i,email:a,phone:o,country:u,dateOfBirth:h,yearsOfExperience:p,coverLetter:v,portfolio:_,currentCTC:N,expectedCTC:D,noticePeriod:C,contactMethod:k};console.log("Submitting application",K,g),n&&n(K),alert("Application submitted. We will contact you soon."),r(""),s(""),c(""),b(""),y(null),S(""),e()};return l("div",{className:"jp-modal-overlay",children:m("div",{className:"jp-modal small vertical",children:[m("div",{className:"jp-modal-header",children:[m("div",{children:[m("h3",{style:{margin:0},children:["Apply for ",t==null?void 0:t.title]}),m("div",{className:"muted",children:[t==null?void 0:t.company,"  ",t==null?void 0:t.location]})]}),l("button",{className:"modal-close",onClick:e,"aria-label":"Close",children:""})]}),m("form",{className:"jp-modal-body application-form",onSubmit:L,children:[m("div",{className:"application-summary",children:[l("h3",{children:"Application Summary"}),m("div",{className:"summary-grid",children:[m("div",{className:"summary-item",children:[l("div",{className:"label",children:"Position"}),l("div",{className:"value",children:t==null?void 0:t.title})]}),m("div",{className:"summary-item",children:[l("div",{className:"label",children:"Company"}),l("div",{className:"value",children:t==null?void 0:t.company})]}),m("div",{className:"summary-item",children:[l("div",{className:"label",children:"Location"}),l("div",{className:"value",children:t==null?void 0:t.location})]}),m("div",{className:"summary-item",children:[l("div",{className:"label",children:"Deadline"}),l("div",{className:"value",children:t?new Date(t.deadline).toLocaleDateString():""})]})]})]}),m("div",{className:"form-section",children:[l("h3",{children:"Personal Details"}),m("div",{className:"form-grid",children:[m("div",{className:"form-group",children:[l("label",{className:"form-label",children:"Full Name *"}),l("input",{type:"text",name:"fullName",className:`form-input ${z.fullName?"error":""}`,value:i,onChange:M=>W(M.target.value),placeholder:"Enter your full name (letters only)",required:!0}),z.fullName&&l("span",{className:"error-message",children:z.fullName})]}),m("div",{className:"form-group",children:[l("label",{className:"form-label",children:"Email *"}),l("input",{type:"email",name:"email",className:`form-input ${z.email?"error":""}`,value:a,onChange:M=>$(M.target.value),placeholder:"you@example.com",required:!0}),z.email&&l("span",{className:"error-message",children:z.email})]}),m("div",{className:"form-group",children:[l("label",{className:"form-label",children:"Phone *"}),l("input",{type:"tel",name:"phone",className:`form-input ${z.phone?"error":""}`,value:o,onChange:M=>q(M.target.value),placeholder:"10-digit mobile number",maxLength:"10",inputMode:"numeric",required:!0}),z.phone&&l("span",{className:"error-message",children:z.phone})]}),m("div",{className:"form-group",children:[l("label",{className:"form-label",children:"Country / Current Location *"}),l("input",{type:"text",name:"country",className:`form-input ${z.country?"error":""}`,value:u,onChange:M=>d(M.target.value),placeholder:"e.g., United States, Singapore, India",required:!0}),z.country&&l("span",{className:"error-message",children:z.country})]}),m("div",{className:"form-group",children:[l("label",{className:"form-label",children:"Date of Birth *"}),l("input",{type:"date",name:"dateOfBirth",className:`form-input ${z.dateOfBirth?"error":""}`,value:h,onChange:M=>f(M.target.value),max:new Date().toISOString().split("T")[0],required:!0}),z.dateOfBirth&&l("span",{className:"error-message",children:z.dateOfBirth})]}),m("div",{className:"form-group",children:[l("label",{className:"form-label",children:"Total Years of Experience *"}),l("input",{type:"number",name:"yearsOfExperience",className:`form-input ${z.yearsOfExperience?"error":""}`,value:p,onChange:M=>w(M.target.value),placeholder:"e.g., 5",min:"0",max:"50",step:"0.5",required:!0}),z.yearsOfExperience&&l("span",{className:"error-message",children:z.yearsOfExperience})]}),m("div",{className:"form-group",children:[l("label",{className:"form-label",children:"Preferred Contact Method"}),m("select",{className:"form-input",value:k,onChange:M=>A(M.target.value),children:[l("option",{value:"email",children:"Email"}),l("option",{value:"phone",children:"Phone"})]})]})]})]}),m("div",{className:"form-section",children:[l("h3",{children:"Application Details"}),m("div",{className:"form-grid",children:[m("div",{className:"form-group",children:[l("label",{className:"form-label",children:"Current CTC"}),l("input",{type:"text",className:"form-input",value:N,onChange:M=>R(M.target.value),placeholder:"e.g., $50,000 or 5,00,000"})]}),m("div",{className:"form-group",children:[l("label",{className:"form-label",children:"Expected CTC *"}),l("input",{type:"text",name:"expectedCTC",className:`form-input ${z.expectedCTC?"error":""}`,value:D,onChange:M=>E(M.target.value),placeholder:"e.g., $60,000 or 6,00,000",required:!0}),z.expectedCTC&&l("span",{className:"error-message",children:z.expectedCTC})]}),m("div",{className:"form-group",children:[l("label",{className:"form-label",children:"Notice Period *"}),l("input",{type:"text",name:"noticePeriod",className:`form-input ${z.noticePeriod?"error":""}`,value:C,onChange:M=>P(M.target.value),placeholder:"e.g., 30 days, Immediate",required:!0}),z.noticePeriod&&l("span",{className:"error-message",children:z.noticePeriod})]}),m("div",{className:"form-group",children:[l("label",{className:"form-label",children:"Portfolio / LinkedIn (optional)"}),l("input",{type:"text",className:"form-input",value:_,onChange:M=>S(M.target.value),placeholder:"https://linkedin.com/in/yourprofile"})]})]}),m("div",{className:"form-group",children:[m("label",{className:"form-label",children:["Cover Letter / Personal Pitch *",m("span",{style:{fontSize:"12px",color:"#6b7280",marginLeft:"8px"},children:["(",v.length,"/1000 characters, min 100)"]})]}),l("textarea",{name:"coverLetter",className:`form-input ${z.coverLetter?"error":""}`,rows:6,value:v,onChange:M=>b(M.target.value),placeholder:"Write a compelling cover letter that highlights your qualifications and enthusiasm for this role (minimum 100 characters)...",minLength:"100",maxLength:"1000",required:!0}),z.coverLetter&&l("span",{className:"error-message",children:z.coverLetter})]})]}),m("div",{className:"form-section",children:[l("h3",{children:"Documents"}),l("div",{className:"documents-grid",children:m("div",{className:"document-upload",children:[l("label",{className:"document-label",children:"Resume / CV *"}),l("input",{className:"file-input",id:"resume-file",type:"file",accept:".pdf,.doc,.docx",onChange:B,required:!0}),l("label",{htmlFor:"resume-file",className:`btn ${z.resume?"error":""}`,children:g?"Change file":"Choose file"}),g&&m("div",{className:"file-info",children:[l("div",{className:"file-name",children:g.name}),m("div",{className:"file-size",children:[(g.size/1024).toFixed(1)," KB"]})]}),z.resume&&l("div",{className:"error-message",children:z.resume}),l("div",{className:"field-note",children:"Accepted: PDF, DOC, DOCX. Max 5MB. Required."})]})})]}),m("div",{className:"form-section",children:[m("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[l("input",{id:"agree",type:"checkbox",checked:I,onChange:M=>T(M.target.checked)}),l("label",{htmlFor:"agree",children:"I confirm that the information provided is accurate and I agree to the processing of my personal data for recruitment purposes."})]}),z.agree&&l("div",{className:"error-message",children:z.agree})]}),m("div",{className:"form-actions",children:[l("button",{type:"button",className:"btn",onClick:e,children:"Cancel"}),l("button",{type:"submit",className:"btn primary",children:"Submit Application"})]})]})]})})},K5e=({recruiter:t,onClose:e})=>l("div",{className:"jp-modal-overlay",children:m("div",{className:"jp-modal small vertical",children:[m("div",{className:"jp-modal-header",children:[l("h3",{children:"Recruiter Profile"}),l("button",{className:"modal-close",onClick:e,"aria-label":"Close",children:""})]}),m("div",{className:"jp-modal-body",children:[m("div",{className:"recruiter-large",children:[l("div",{className:"avatar-lg",children:t.name.split(" ").map(n=>n[0]).join("")}),l("h4",{children:t.name}),l("p",{className:"muted",children:t.company}),m("p",{className:"muted",children:["ID: ",t.id]})]}),m("div",{children:[l("h4",{children:"Hiring History"}),m("p",{children:["Successfully hired ",l("strong",{children:t.hiringHistory})," professionals through this platform"]})]})]})]})}),Y5e=({onClose:t})=>{const[e,n]=Z.useState("dashboard");return l("div",{className:"jp-modal-overlay",children:m("div",{className:"jp-modal large vertical",children:[m("div",{className:"jp-modal-header",children:[l("h3",{children:"Recruiter Portal"}),l("button",{className:"modal-close",onClick:t,"aria-label":"Close",children:""})]}),m("div",{className:"jp-modal-body",children:[m("div",{className:"tabs",children:[l("button",{className:e==="dashboard"?"active":"",onClick:()=>n("dashboard"),children:"Dashboard"}),l("button",{className:e==="post-job"?"active":"",onClick:()=>n("post-job"),children:"Post Job"}),l("button",{className:e==="applicants"?"active":"",onClick:()=>n("applicants"),children:"Applicants"}),l("button",{className:e==="cv-search"?"active":"",onClick:()=>n("cv-search"),children:"CV Search"})]}),l("div",{className:"tab-body",children:e==="dashboard"?l("p",{children:"Dashboard content"}):m("p",{children:[e," content"]})})]})]})})},J5e=()=>m("div",{className:"job-detail-unavailable",style:{padding:24},children:[l("h2",{children:"Job Detail (Unavailable)"}),l("p",{children:"The detailed Job page is temporarily unavailable. Please return to the Jobs list."})]}),Z5e=()=>m("svg",{width:"48",height:"48",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("circle",{cx:"24",cy:"24",r:"24",fill:"rgba(0, 0, 0, 0.6)"}),l("path",{d:"M19 16L31 24L19 32V16Z",fill:"white"})]}),Q5e=({filled:t=!0})=>l("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:t?"#fbbf24":"#e5e7eb",xmlns:"http://www.w3.org/2000/svg",children:l("path",{d:"M12 2L14.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L9.91 8.26L12 2Z"})}),e_e=({filled:t=!1})=>l("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:t?"#2563eb":"none",stroke:t?"#2563eb":"#6b7280",strokeWidth:"2",xmlns:"http://www.w3.org/2000/svg",children:l("path",{d:"M19 21L12 16L5 21V5C5 3.89543 5.89543 3 7 3H17C18.1046 3 19 3.89543 19 5V21Z"})});function t_e({course:t,onEnroll:e,onDetails:n,onToggleSave:i,isSaved:r}){const a=t.rating||4.5,[s,o]=Z.useState(!1),c=async u=>{try{await navigator.clipboard.writeText(u),o(!0),setTimeout(()=>o(!1),2e3)}catch{}};return m("div",{className:"course-card",children:[m("div",{className:"card-thumbnail",children:[t.thumbnail?l("img",{src:t.thumbnail,alt:t.title,className:"card-image"}):l("div",{className:"placeholder-image",children:l("span",{children:t.title})}),l("div",{className:"play-overlay",children:l(Z5e,{})})]}),m("div",{className:"card-content",children:[l("h3",{className:"course-title",children:t.title}),l("p",{className:"course-instructor",children:t.instructor}),m("div",{className:"course-meta",children:[m("span",{className:"course-id",children:["ID: ",t.id]}),l("button",{className:"btn-copy",onClick:()=>c(t.id),title:"Copy course ID",children:s?"Copied":"Copy ID"})]}),m("div",{className:"course-rating",children:[l("div",{className:"stars",children:[1,2,3,4,5].map(u=>l(Q5e,{filled:u<=Math.floor(a)},u))}),l("span",{className:"rating-value",children:a})]}),l("div",{className:"course-price",children:t.fees===0?l("span",{className:"price-free",children:"Free"}):m("span",{className:"price-amount",children:["",t.fees.toLocaleString()]})}),m("div",{className:"card-actions",children:[l("button",{className:"btn-enroll",onClick:()=>e(t),children:"Enroll"}),m("div",{className:"action-buttons",children:[l("button",{className:`btn-save ${r?"saved":""}`,onClick:()=>i(t),title:r?"Remove from saved":"Save course",children:l(e_e,{filled:r})}),l("button",{className:"btn-details",onClick:()=>n(t),children:"Details"})]})]})]})]})}function bg(t="Image",e=600,n=360,i="#f3f4f6",r="#0f172a"){const a=`<svg xmlns='http://www.w3.org/2000/svg' width='${e}' height='${n}' viewBox='0 0 ${e} ${n}'><rect width='100%' height='100%' fill='${i}'/><text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' font-family='Arial, Helvetica, sans-serif' font-size='18' fill='${r}'>${t}</text></svg>`;return`data:image/svg+xml;utf8,${encodeURIComponent(a)}`}const n_e=[{id:"react-101",title:"React for Built Environment",instructor:"Dr. A. Kumar",company:"PI Learning",location:"Mumbai, IN",duration:6,mode:"Live",fees:2999,rating:4.5,excerpt:"Intro to React and component-driven UI for planning tools.",type:"live",tags:["React","Frontend","UI"],posted:"2d",thumbnail:bg("React Course")},{id:"pm-basics",title:"Project Management Essentials",instructor:"M. Sharma",company:"BuildOps",location:"Remote",duration:3,mode:"Pre-recorded",fees:0,rating:4.5,excerpt:"Agile and waterfall techniques for built environment projects.",type:"recorded",tags:["PM","Agile"],posted:"1w",thumbnail:bg("PM Essentials")},{id:"data-vis",title:"Data Visualization for Urban Analytics",instructor:"L. Rao",company:"Urbanlytics",location:"Bengaluru, IN",duration:4.5,mode:"Live",fees:1999,rating:4.5,excerpt:"Charts, maps and dashboards to communicate insights.",type:"live",tags:["Data","Maps"],posted:"4d",thumbnail:bg("Data Visualization")},{id:"cert-workflow",title:"Certification & Assessment Workflow",instructor:"S. Verma",company:"Credify",location:"Delhi, IN",duration:2,mode:"On-site",fees:1499,rating:4.5,excerpt:"Assessment design, digital signatures and verifiable credentials.",type:"offline",tags:["Assessments","Credentials"],posted:"3w",thumbnail:bg("Certification")},{id:"razorpay-demo",title:"Payments & Enrollment (Razorpay)",instructor:"F. Iqbal",company:"PI Learning",location:"Hyderabad, IN",duration:1.5,mode:"Pre-recorded",fees:999,rating:4.2,excerpt:"Integrate Razorpay for course enrollment and invoicing.",type:"recorded",tags:["Payments","Razorpay"],posted:"6d",thumbnail:bg("Payments")},{id:"instr-dashboard",title:"Instructor Dashboard & Revenue",instructor:"R. Singh",company:"TeachDesk",location:"Chennai, IN",duration:3,mode:"Live",fees:2499,rating:4.7,excerpt:"Manage classes, materials, chats and payouts.",type:"live",tags:["Instructor","Revenue"],posted:"2d",thumbnail:bg("Instructor Dashboard")}],i_e=["PI Learning","BuildOps","Urbanlytics"];function r_e(t,e=300){const[n,i]=Z.useState(t);return Z.useEffect(()=>{const r=setTimeout(()=>i(t),e);return()=>clearTimeout(r)},[t,e]),n}const a_e=()=>m("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[l("path",{d:"M21 21l-4.35-4.35",stroke:"#9AA4BF",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"}),l("circle",{cx:"11",cy:"11",r:"6",stroke:"#9AA4BF",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round"})]}),s_e=({value:t,onChange:e,onClear:n,sortBy:i,setSortBy:r})=>m("section",{className:"hero",children:[l("h1",{children:"Learning Centre"}),l("p",{className:"sub",children:"Browse courses like job postings  filter, save and apply."}),m("div",{className:"hero-controls",children:[m("div",{className:"search-wrap",children:[m("label",{className:"search-field",children:[l(a_e,{}),l("input",{"aria-label":"Search courses",value:t,onChange:a=>e(a.target.value),placeholder:"Search courses, instructors, topics..."})]}),l("button",{className:"btn-ghost",onClick:n,children:"Clear"})]}),l("div",{className:"hero-options",children:m("select",{value:i,onChange:a=>r(a.target.value),children:[l("option",{value:"popular",children:"Most Popular"}),l("option",{value:"newest",children:"Newest"}),l("option",{value:"duration",children:"Duration"}),l("option",{value:"price-low",children:"Price: Low  High"})]})})]})]}),o_e=({filters:t,setFilters:e,clearFilters:n,savedCourses:i=[],savedList:r=[],removeSaved:a})=>l("aside",{className:"job-filters",children:m("div",{className:"filters-panel",children:[m("div",{className:"filters-header",children:[l("h3",{children:"Filter Courses"}),l("button",{className:"clear-filters",onClick:n,children:"Clear"})]}),m("div",{className:"filter-group",children:[l("label",{children:"Location"}),m("select",{value:t.location||"",onChange:s=>e(o=>({...o,location:s.target.value})),children:[l("option",{value:"",children:"Any"}),l("option",{children:"Remote"}),l("option",{children:"Mumbai, IN"}),l("option",{children:"Bengaluru, IN"}),l("option",{children:"Delhi, IN"})]})]}),m("div",{className:"filter-group",children:[l("label",{children:"Mode"}),m("select",{value:t.mode||"",onChange:s=>e(o=>({...o,mode:s.target.value})),children:[l("option",{value:"",children:"Any"}),l("option",{children:"Live"}),l("option",{children:"Pre-recorded"}),l("option",{children:"On-site"})]})]}),m("div",{className:"filter-group",children:[l("label",{children:"Company"}),m("select",{value:t.company||"",onChange:s=>e(o=>({...o,company:s.target.value})),children:[l("option",{value:"",children:"Any"}),l("option",{children:"PI Learning"}),l("option",{children:"BuildOps"}),l("option",{children:"Urbanlytics"})]})]}),m("div",{style:{marginTop:12},children:[l("h4",{style:{margin:"8px 0"},children:"Featured Companies"}),l("div",{className:"company-list",children:i_e.map(s=>l("div",{role:"button",tabIndex:0,className:"company"+(t.company===s?" active":""),onClick:()=>e(o=>({...o,company:s})),onKeyDown:o=>{(o.key==="Enter"||o.key===" "||o.key==="Spacebar")&&(o.preventDefault(),e(c=>({...c,company:s})))},children:s},s))})]}),r&&r.length>0&&m("div",{style:{marginTop:16},children:[l("h4",{style:{margin:"8px 0"},children:"Saved Courses"}),l("div",{className:"saved-list",children:r.map(s=>m("div",{className:"saved-item",children:[l("div",{className:"saved-title",children:s.title}),m("div",{className:"saved-actions",children:[l(pn,{to:`/learning/courses/${s.id}`,state:{course:s},className:"btn-link",children:"View"}),l("button",{className:"btn-ghost",onClick:()=>a(s.id),children:"Remove"})]})]},s.id))})]})]})}),Z3=({open:t,onClose:e,title:n,children:i})=>t?l("div",{className:"modal-backdrop",role:"dialog","aria-modal":!0,children:m("div",{className:"modal",children:[m("div",{className:"modal-head",children:[l("h3",{children:n}),l("button",{className:"close",onClick:e,children:""})]}),l("div",{className:"modal-body",children:i})]})}):null;function l_e(){const[t]=Z.useState(n_e),[e,n]=Z.useState(""),i=r_e(e,250),[r,a]=Z.useState("popular"),[s,o]=Z.useState(null),[c,u]=Z.useState(null),[d,h]=Z.useState(null),[f,p]=Z.useState(!1),[w,v]=Z.useState({}),[b,g]=Z.useState([]),[y,_]=Z.useState(null);Z.useState(null);const[S,N]=Z.useState([]);Z.useEffect(()=>{try{const A=localStorage.getItem("pi.savedCourses"),I=localStorage.getItem("pi.enrolledCourses");A&&g(JSON.parse(A)),I&&N(JSON.parse(I))}catch(A){console.warn("Failed to read persisted learning state",A)}},[]),Z.useEffect(()=>{try{localStorage.setItem("pi.savedCourses",JSON.stringify(b))}catch(A){console.warn("Failed to persist saved courses",A)}},[b]),Z.useEffect(()=>{try{localStorage.setItem("pi.enrolledCourses",JSON.stringify(S))}catch(A){console.warn("Failed to persist enrolled courses",A)}},[S]);const R=Z.useMemo(()=>{const A=i.trim().toLowerCase();let I=t.filter(T=>A?T.title.toLowerCase().includes(A)||T.instructor.toLowerCase().includes(A)||T.excerpt.toLowerCase().includes(A)||T.company.toLowerCase().includes(A):!0);return w.location&&(I=I.filter(T=>T.location===w.location)),w.mode&&(I=I.filter(T=>T.mode===w.mode)),w.company&&(I=I.filter(T=>T.company===w.company)),r==="popular"&&(I=I),r==="newest"&&(I=I),r==="duration"&&(I=I.slice().sort((T,z)=>T.duration-z.duration)),r==="price-low"&&(I=I.slice().sort((T,z)=>T.fees-z.fees)),I},[t,i,r,w]),D=Gi();function E(A){D("/learning/enroll",{state:{course:A}})}function C(){v({})}function P(A){g(I=>I.includes(A.id)?I.filter(T=>T!==A.id):[...I,A.id])}function k(A){D(`/learning/courses/${A.id}`,{state:{course:A}})}return m("div",{className:"learning-page-root",children:[m("main",{className:"learning-main container",children:[m("div",{className:"left",children:[l(s_e,{value:e,onChange:n,onClear:()=>n(""),sortBy:r,setSortBy:a}),m("section",{className:"courses-section",children:[m("div",{className:"section-head",children:[l("h2",{children:"Courses"}),m("p",{className:"muted",children:[R.length," results"]})]}),l("div",{className:"courses-grid",children:R.map(A=>l(t_e,{course:A,onEnroll:I=>{E(I)},onDetails:k,onToggleSave:P,isSaved:b.includes(A.id)},A.id))})]})]}),l("div",{className:"right",children:l(o_e,{filters:w,setFilters:v,clearFilters:C,savedCourses:b,savedList:t.filter(A=>b.includes(A.id)),removeSaved:A=>g(I=>I.filter(T=>T!==A))})})]}),m(Z3,{open:f,onClose:()=>p(!1),title:s?`Enroll - ${s.title}`:"Sign In",children:[l("p",{children:"To enroll you must sign in. This demo shows a placeholder flow."}),m("div",{style:{display:"flex",gap:8,marginTop:12},children:[l("button",{className:"btn-primary",onClick:()=>{alert("Simulate redirect to Razorpay (demo)"),p(!1)},children:"Proceed to Payment"}),l("button",{className:"btn-outline",onClick:()=>p(!1),children:"Cancel"})]})]}),l(Z3,{open:!!c,onClose:()=>u(null),title:c?`Enquire - ${c.title}`:"Enquire",children:m("form",{onSubmit:A=>{A.preventDefault(),alert("Enquiry sent to admin (demo)"),u(null)},children:[m("label",{children:["Name ",l("input",{required:!0,placeholder:"Your name"})]}),m("label",{children:["Email ",l("input",{required:!0,type:"email",placeholder:"you@example.com"})]}),m("label",{children:["Message ",l("textarea",{placeholder:"Your question"})]}),m("div",{style:{display:"flex",gap:8,marginTop:8},children:[l("button",{className:"btn-primary",children:"Send Enquiry"}),l("button",{type:"button",className:"btn-outline",onClick:()=>u(null),children:"Cancel"})]})]})}),m(Z3,{open:!!d,onClose:()=>h(null),title:d?`Group Booking - ${d.title}`:"Group Booking",children:[l("p",{children:"Enter participant details. On submit you will be redirected to Razorpay (demo)."}),m("form",{onSubmit:A=>{A.preventDefault(),alert("Group booking: simulate Razorpay redirect"),h(null)},children:[m("label",{children:["Primary contact name ",l("input",{required:!0})]}),m("label",{children:["Primary contact phone ",l("input",{required:!0})]}),m("label",{children:["Participants count ",l("input",{type:"number",min:1,defaultValue:2})]}),m("div",{style:{display:"flex",gap:8,marginTop:8},children:[l("button",{className:"btn-primary",children:"Pay Now"}),l("button",{type:"button",className:"btn-outline",onClick:()=>h(null),children:"Cancel"})]})]})]}),l(Z3,{open:!!y,onClose:()=>_(null),title:y?y.title:"Course Details",children:y&&m("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:12},children:[m("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[l("div",{style:{width:120,height:72,background:"#f3f4f6",borderRadius:8,overflow:"hidden"},children:y.thumbnail?l("img",{src:y.thumbnail,alt:y.title,style:{width:"100%",height:"100%",objectFit:"cover"},onError:A=>{A.currentTarget.src=bg(y.title||"Course")}}):l("div",{style:{padding:12}})}),m("div",{children:[m("div",{style:{fontSize:13,color:"#6b7280"},children:[y.company,"  ",y.location]}),l("div",{style:{fontSize:15,fontWeight:600},children:y.instructor}),l("div",{style:{marginTop:6,color:"#374151"},children:y.excerpt})]})]}),m("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[m("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[l("div",{style:{fontSize:14,color:"#10b981",fontWeight:700},children:y.fees===0?"Free":`${y.fees.toLocaleString()}`}),m("div",{style:{fontSize:13,color:"#6b7280"},children:[y.duration," weeks  ",y.mode]})]}),m("div",{style:{display:"flex",gap:8},children:[l("button",{className:"btn-primary",onClick:()=>{_(null),E(y)},children:"Enroll"}),l("button",{className:"btn-outline",onClick:()=>P(y),children:b.includes(y.id)?"Unsave":"Save"}),l(pn,{to:`/learning/courses/${y.id}`,className:"btn-ghost",onClick:()=>_(null),children:"Open Page"})]})]}),y.tags&&l("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:y.tags.map(A=>l("span",{className:"skill-tag",children:A},A))})]})})]})}const Q3={getCourses:async(t={})=>new Promise(e=>{setTimeout(()=>{let i=[{id:1,title:"Smart City Planning Fundamentals",instructor:"Dr. Priya Sharma",description:"Learn the core principles of smart city planning, including IoT integration, data analytics, and sustainable urban development strategies.",courseType:"recorded",category:"Urban Planning",level:"Beginner",duration:6,fees:0,originalFees:12e3,rating:4.8,reviewCount:1247,enrollments:2847,tags:["Smart Cities","IoT","Sustainability","Urban Analytics"],image:null,nextSession:null,location:null,earlyBird:!1,createdAt:"2024-01-15"},{id:2,title:"Advanced GIS for Urban Planning",instructor:"Prof. Rajesh Kumar",description:"Master Geographic Information Systems for urban analysis, spatial planning, and decision-making in city development projects.",courseType:"live",category:"GIS & Mapping",level:"Intermediate",duration:8,fees:15e3,originalFees:2e4,rating:4.6,reviewCount:893,enrollments:1567,tags:["GIS","Spatial Analysis","Mapping","Urban Data"],image:null,nextSession:"2024-03-20",location:null,earlyBird:!0,createdAt:"2024-02-01"},{id:3,title:"Sustainable Architecture Workshop",instructor:"Ar. Anjali Patel",description:"Hands-on workshop focusing on sustainable building design, green materials, and energy-efficient architectural practices.",courseType:"offline",category:"Sustainable Design",level:"Advanced",duration:4,fees:25e3,originalFees:3e4,rating:4.9,reviewCount:567,enrollments:423,tags:["Sustainability","Architecture","Green Building","Design"],image:null,nextSession:"2024-04-15",location:"Mumbai, India",earlyBird:!0,createdAt:"2024-01-20"},{id:4,title:"Urban Transportation Systems",instructor:"Dr. Sameer Joshi",description:"Comprehensive course covering urban transportation planning, traffic management, and public transit system design.",courseType:"recorded",category:"Transportation",level:"Intermediate",duration:5,fees:8e3,originalFees:12e3,rating:4.5,reviewCount:734,enrollments:1892,tags:["Transportation","Traffic","Public Transit","Mobility"],image:null,nextSession:null,location:null,earlyBird:!1,createdAt:"2024-02-10"},{id:5,title:"Heritage Conservation Techniques",instructor:"Dr. Meera Krishnan",description:"Learn traditional and modern techniques for preserving and restoring historical buildings and urban heritage sites.",courseType:"live",category:"Heritage Conservation",level:"Intermediate",duration:6,fees:12e3,originalFees:15e3,rating:4.7,reviewCount:456,enrollments:892,tags:["Heritage","Conservation","Restoration","History"],image:null,nextSession:"2024-03-25",location:null,earlyBird:!1,createdAt:"2024-02-05"},{id:6,title:"Data Analytics for Urban Planners",instructor:"Prof. Vikram Singh",description:"Practical data analysis techniques specifically tailored for urban planning applications and decision support.",courseType:"recorded",category:"Data Analytics",level:"Beginner",duration:4,fees:0,originalFees:8e3,rating:4.4,reviewCount:623,enrollments:2145,tags:["Data Analytics","Python","Statistics","Urban Data"],image:null,nextSession:null,location:null,earlyBird:!1,createdAt:"2024-01-30"}];t.courseType&&(i=i.filter(r=>r.courseType===t.courseType)),t.category&&(i=i.filter(r=>r.category===t.category)),e(i)},1e3)}),getCourseById:async t=>(await Oe.get(`/courses/${t}`)).data,enrollInCourse:async(t,e={})=>(await Oe.post(`/courses/${t}/enroll`,e)).data,getUserEnrollments:async()=>(await Oe.get("/enrollments")).data,getCourseProgress:async t=>(await Oe.get(`/enrollments/${t}/progress`)).data,updateCourseProgress:async(t,e)=>(await Oe.put(`/enrollments/${t}/progress`,e)).data,toggleSaveCourse:async t=>(await Oe.post(`/courses/${t}/save`)).data,getSavedCourses:async()=>(await Oe.get("/courses/saved")).data,searchCourses:async(t,e={})=>(await Oe.get("/courses/search",{params:{query:t,...e}})).data,createCourse:async t=>(await Oe.post("/instructor/courses",t)).data,updateCourse:async(t,e)=>(await Oe.put(`/instructor/courses/${t}`,e)).data,deleteCourse:async t=>(await Oe.delete(`/instructor/courses/${t}`)).data,getCourseEnrollments:async t=>(await Oe.get(`/instructor/courses/${t}/enrollments`)).data,getCourseReviews:async t=>(await Oe.get(`/courses/${t}/reviews`)).data,submitCourseReview:async(t,e)=>(await Oe.post(`/courses/${t}/reviews`,e)).data,downloadCertificate:async t=>(await Oe.get(`/enrollments/${t}/certificate`,{responseType:"blob"})).data,getSimilarCourses:async t=>(await Oe.get(`/courses/${t}/similar`)).data,getLearningAnalytics:async()=>(await Oe.get("/learning/analytics")).data},c_e=()=>{const{id:t}=_N(),e=Gi(),n=Wm(),{isAuthenticated:i,user:r}=Hr(),{showNotification:a}=vo(),[s,o]=Z.useState(null),[c,u]=Z.useState(!0),[d,h]=Z.useState([]),[f,p]=Z.useState(null),[w,v]=Z.useState("overview"),[b,g]=Z.useState([]),[y]=N0(Q3.getCourseById),[_]=N0(Q3.getSimilarCourses),[S]=N0(Q3.getCourseReviews);Z.useEffect(()=>{t&&N()},[t]);const N=async()=>{var L;try{u(!0);const M=(L=n.state)==null?void 0:L.course;if(M){const Q={...M,description:"This comprehensive course covers the fundamentals of smart city planning, sustainable development, and innovative urban technologies. You'll learn from industry experts and work on real-world case studies.",enrollments:2500,reviewCount:245,originalFees:M.fees>0?M.fees+1e3:0,nextSession:"2024-01-15",courseType:M.type==="live"?"live":M.type==="recorded"?"recorded":"offline",location:M.location,category:"Urban Planning",earlyBird:!0};o(Q);const le=[{title:"Advanced GIS for Urban Planning",instructor:"Prof. Sarah Chen",rating:4.6,fees:3499},{title:"Sustainable Urban Development",instructor:"Dr. Michael Rodriguez",rating:4.4,fees:2799},{title:"IoT Applications in Smart Cities",instructor:"Dr. Raj Patel",rating:4.7,fees:3999}].map((ge,ye)=>({id:`${M.id}-sim-${ye+1}`,...ge,image:null})).filter(ge=>ge.id!==M.id);h(le);try{window.scrollTo({top:0,behavior:"smooth"})}catch{window.scrollTo(0,0)}g([{id:1,reviewerName:"Alex Johnson",rating:5,comment:"Excellent course! Very comprehensive and practical.",date:"2024-01-10"},{id:2,reviewerName:"Priya Sharma",rating:4,comment:"Good content, but could use more hands-on exercises.",date:"2024-01-08"},{id:3,reviewerName:"David Chen",rating:5,comment:"Outstanding instructor and well-structured curriculum.",date:"2024-01-05"}]),R(Q.instructorId||"instructor-1"),u(!1);return}const K=await y(t,{showError:!0,errorMessage:"Failed to load course details"});if(K){o(K);const Q=await _(t);h((Q||[]).filter(le=>le.id!==t));const V=await S(t);g(V||[]),R(K.instructorId)}try{window.scrollTo({top:0,behavior:"smooth"})}catch{window.scrollTo(0,0)}}catch{}finally{u(!1)}},R=L=>{p({id:L,name:"Dr. Priya Sharma",title:"Professor of Urban Planning",bio:"Dr. Sharma has over 15 years of experience in urban planning and smart city development. She has worked with multiple government agencies and international organizations on sustainable urban development projects.",rating:4.8,totalStudents:12500,totalCourses:8,experience:"15+ years",specialization:["Smart Cities","Sustainable Development","Urban Analytics"],achievements:["UN Habitat Advisory Board Member",'Author of "Smart Cities in Developing Economies"',"TEDx Speaker on Urban Innovation"],profilePicture:null})},D=()=>{if(!i){a("Please sign in to enroll in this course","info"),e("/login",{state:{from:"/learning/enroll",course:s}});return}e("/learning/enroll",{state:{course:s}})},E=async()=>{if(!i){a("Please sign in to save courses","info");return}try{await Q3.toggleSaveCourse(t),a("Course saved successfully","success")}catch{a("Failed to save course","error")}},C=()=>{const L=window.location.href;navigator.clipboard.writeText(L),a("Course link copied to clipboard","success")},P=L=>L===0?"Free":`${L.toLocaleString()}`,k=L=>L<4?`${L} weeks`:`${L} weeks`,A=(L,M)=>L<=M?0:Math.round((L-M)/L*100),I=()=>m("div",{className:"course-header",children:[l("div",{className:"back-navigation",children:m("button",{className:"back-button",onClick:()=>e(-1),children:[l(hf,{size:20}),"Back to Courses"]})}),m("div",{className:"course-title-section",children:[m("div",{className:"title-content",children:[l("div",{className:"course-category",children:s.category}),l("h1",{children:s.title}),m("div",{className:"instructor-info",children:[m("span",{children:["By ",s.instructor]}),f&&m("span",{className:"instructor-rating",children:[l(ca,{size:14,fill:"currentColor"}),f.rating]})]})]}),m("div",{className:"course-actions",children:[l("button",{className:"icon-button",onClick:E,title:"Save course",children:l(kQ,{size:20})}),l("button",{className:"icon-button",onClick:C,title:"Share course",children:l(Ew,{size:20})})]})]}),m("div",{className:"course-meta-overview",children:[m("div",{className:"meta-item",children:[l(ar,{size:18}),l("span",{children:k(s.duration)})]}),m("div",{className:"meta-item",children:[l(Zt,{size:18}),m("span",{children:[s.enrollments.toLocaleString()," students"]})]}),m("div",{className:"meta-item",children:[l(ca,{size:18,fill:"currentColor"}),m("span",{children:[s.rating," (",s.reviewCount," reviews)"]})]}),s.courseType==="offline"&&s.location&&m("div",{className:"meta-item",children:[l(sr,{size:18}),l("span",{children:s.location})]}),s.nextSession&&s.courseType==="live"&&m("div",{className:"meta-item",children:[l(ua,{size:18}),m("span",{children:["Starts ",new Date(s.nextSession).toLocaleDateString()]})]})]}),l("div",{className:"enrollment-section",children:i?m("div",{className:"enrollment-actions",children:[m("div",{className:"pricing-info",children:[m("div",{className:"price-display",children:[l("span",{className:"current-price",children:P(s.fees)}),s.originalFees>s.fees&&m(vt,{children:[m("span",{className:"original-price",children:["",s.originalFees.toLocaleString()]}),m("span",{className:"discount-badge",children:[A(s.originalFees,s.fees),"% OFF"]})]})]}),s.earlyBird&&m("div",{className:"early-bird-notice",children:[l(z0,{size:16}),l("span",{children:"Early bird pricing ends soon!"})]})]}),m("button",{className:"btn btn-primary btn-large",onClick:D,children:[l(Gh,{size:20}),"Enroll Now"]})]}):l("div",{className:"login-prompt",children:m("div",{className:"prompt-content",children:[l(Pa,{size:24}),l("p",{children:"Sign in to enroll in this course and access all features"}),l(pn,{to:"/login",className:"btn btn-primary",children:"Sign In to Enroll"})]})})})]}),T=()=>l("nav",{className:"course-tabs",children:l("div",{className:"tabs-container",children:[{id:"overview",label:"Overview"},{id:"curriculum",label:"Curriculum"},{id:"instructor",label:"Instructor"},{id:"reviews",label:`Reviews (${b.length})`}].map(L=>l("button",{className:`tab ${w===L.id?"active":""}`,onClick:()=>v(L.id),children:L.label},L.id))})}),z=()=>m("div",{className:"tab-content",children:[m("div",{className:"course-description",children:[l("h2",{children:"About This Course"}),l("p",{children:s.description})]}),m("div",{className:"learning-objectives",children:[l("h3",{children:"What You'll Learn"}),m("div",{className:"objectives-grid",children:[m("div",{className:"objective-item",children:[l(Gn,{size:16}),l("span",{children:"Understand smart city planning principles"})]}),m("div",{className:"objective-item",children:[l(Gn,{size:16}),l("span",{children:"Implement IoT solutions for urban development"})]}),m("div",{className:"objective-item",children:[l(Gn,{size:16}),l("span",{children:"Analyze urban data for decision making"})]}),m("div",{className:"objective-item",children:[l(Gn,{size:16}),l("span",{children:"Develop sustainable urban development strategies"})]})]})]}),m("div",{className:"course-features",children:[l("h3",{children:"Course Features"}),m("div",{className:"features-grid",children:[m("div",{className:"feature-item",children:[l(VP,{size:24}),m("div",{children:[l("h4",{children:"Video Content"}),m("p",{children:[s.duration*4," hours of on-demand video"]})]})]}),m("div",{className:"feature-item",children:[l(i4,{size:24}),m("div",{children:[l("h4",{children:"Resources"}),l("p",{children:"Downloadable resources and exercises"})]})]}),m("div",{className:"feature-item",children:[l(xn,{size:24}),m("div",{children:[l("h4",{children:"Certificate"}),l("p",{children:"Certificate of completion"})]})]}),m("div",{className:"feature-item",children:[l(ar,{size:24}),m("div",{children:[l("h4",{children:"Lifetime Access"}),l("p",{children:"Full lifetime access to course materials"})]})]})]})]}),s.tags&&s.tags.length>0&&m("div",{className:"course-tags",children:[l("h3",{children:"Skills You'll Gain"}),l("div",{className:"tags-list",children:s.tags.map((L,M)=>l("span",{className:"skill-tag",children:L},M))})]})]}),j=()=>m("div",{className:"tab-content",children:[m("div",{className:"curriculum-header",children:[l("h2",{children:"Course Curriculum"}),m("div",{className:"curriculum-stats",children:[m("span",{children:[s.duration*4," hours of content"]}),m("span",{children:[s.duration," weeks"]}),m("span",{children:[s.duration*2," lessons"]})]})]}),l("div",{className:"curriculum-sections",children:[1,2,3,4,5,6].map(L=>m("div",{className:"curriculum-section",children:[m("div",{className:"section-header",children:[m("h3",{children:["Week ",L,": ",W(L)]}),m("span",{children:[L*4-3,"-",L*4," hours"]})]}),m("div",{className:"section-lessons",children:[[1,2,3,4].map(M=>m("div",{className:"lesson-item",children:[m("div",{className:"lesson-info",children:[l(VP,{size:16}),m("span",{children:["Lesson ",M,": ",$(L,M)]})]}),l("div",{className:"lesson-duration",children:"45 min"})]},M)),m("div",{className:"lesson-item assignment",children:[m("div",{className:"lesson-info",children:[l(xn,{size:16}),l("span",{children:"Weekly Assignment"})]}),l("div",{className:"lesson-duration",children:"1 hour"})]})]})]},L))})]}),W=L=>["Introduction to Smart Cities","IoT and Urban Infrastructure","Data Analytics for Urban Planning","Sustainable Development Strategies","Case Studies and Implementation","Future Trends and Capstone Project"][L-1]||"Advanced Topics",$=(L,M)=>{var Q;return((Q=[["Understanding Smart City Concepts","IoT Applications in Urban Development","Data Collection Methods","Sustainability Principles"],["Sensor Networks and Data Acquisition","Smart Transportation Systems","Energy Management","Waste Management Solutions"],["Urban Data Analysis Techniques","Predictive Modeling","Visualization Tools","Decision Support Systems"],["Green Building Standards","Renewable Energy Integration","Community Engagement","Policy Framework"],["Singapore Smart Nation Case Study","Barcelona Superblocks","Mumbai Urban Development","Dubai Smart City"],["AI in Urban Planning","Blockchain for Governance","5G and Connectivity","Capstone Project Workshop"]][L-1])==null?void 0:Q[M-1])||"Advanced Topic Discussion"},q=()=>l("div",{className:"tab-content",children:f&&m("div",{className:"instructor-profile",children:[m("div",{className:"instructor-header",children:[l("div",{className:"instructor-avatar",children:f.profilePicture?l("img",{src:f.profilePicture,alt:f.name}):l("div",{className:"avatar-placeholder",children:l(Gh,{size:24})})}),m("div",{className:"instructor-details",children:[l("h2",{children:f.name}),l("p",{className:"instructor-title",children:f.title}),m("div",{className:"instructor-stats",children:[m("div",{className:"stat",children:[l(ca,{size:16,fill:"currentColor"}),m("span",{children:[f.rating," Instructor Rating"]})]}),m("div",{className:"stat",children:[l(Zt,{size:16}),m("span",{children:[f.totalStudents.toLocaleString()," Students"]})]}),m("div",{className:"stat",children:[l(Gh,{size:16}),m("span",{children:[f.totalCourses," Courses"]})]})]})]})]}),m("div",{className:"instructor-bio",children:[l("h3",{children:"About the Instructor"}),l("p",{children:f.bio})]}),m("div",{className:"instructor-specialization",children:[l("h3",{children:"Specialization"}),l("div",{className:"specialization-tags",children:f.specialization.map((L,M)=>l("span",{className:"specialization-tag",children:L},M))})]}),f.achievements&&f.achievements.length>0&&m("div",{className:"instructor-achievements",children:[l("h3",{children:"Achievements & Recognition"}),l("ul",{children:f.achievements.map((L,M)=>l("li",{children:L},M))})]})]})}),G=()=>m("div",{className:"tab-content",children:[l("div",{className:"reviews-header",children:l("div",{className:"reviews-summary",children:m("div",{className:"average-rating",children:[l("span",{className:"rating-number",children:s.rating}),l("div",{className:"rating-stars",children:[1,2,3,4,5].map(L=>l(ca,{size:20,fill:L<=Math.floor(s.rating)?"currentColor":"none"},L))}),m("span",{className:"rating-count",children:["Course Rating  ",s.reviewCount," reviews"]})]})})}),l("div",{className:"reviews-list",children:b.length>0?b.slice(0,5).map(L=>m("div",{className:"review-item",children:[m("div",{className:"review-header",children:[m("div",{className:"reviewer-info",children:[l("div",{className:"reviewer-avatar",children:L.reviewerName.charAt(0)}),m("div",{children:[l("h4",{children:L.reviewerName}),l("div",{className:"review-rating",children:[1,2,3,4,5].map(M=>l(ca,{size:14,fill:M<=L.rating?"currentColor":"none"},M))})]})]}),l("span",{className:"review-date",children:new Date(L.date).toLocaleDateString()})]}),l("p",{className:"review-content",children:L.comment})]},L.id)):l("div",{className:"no-reviews",children:l("p",{children:"No reviews yet. Be the first to review this course!"})})}),b.length>5&&l("div",{className:"reviews-footer",children:l("button",{className:"btn btn-outline",children:"Load More Reviews"})})]}),B=()=>m("div",{className:"similar-courses-section",children:[l("h2",{children:"Similar Courses You Might Like"}),l("div",{className:"similar-courses-grid",children:d.slice(0,3).map(L=>m("div",{className:"similar-course-card",role:"link",tabIndex:0,onClick:()=>e(`/learning/courses/${L.id}`,{state:{course:L}}),onKeyDown:M=>{(M.key==="Enter"||M.key===" "||M.key==="Spacebar")&&(M.preventDefault(),e(`/learning/courses/${L.id}`,{state:{course:L}}))},children:[l("div",{className:"similar-course-image",children:L.image?l("img",{src:L.image,alt:L.title}):l("div",{className:"image-placeholder",children:l(Gh,{size:24})})}),m("div",{className:"similar-course-content",children:[l("h4",{children:L.title}),m("div",{className:"similar-course-meta",children:[l("span",{className:"instructor",children:L.instructor}),m("span",{className:"rating",children:[l(ca,{size:14,fill:"currentColor"}),L.rating]})]}),l("div",{className:"similar-course-price",children:P(L.fees)})]}),l("div",{className:"similar-course-actions",children:l("button",{type:"button",className:"btn btn-outline btn-small",onClick:M=>{M.stopPropagation(),e(`/learning/courses/${L.id}`,{state:{course:L}})},children:"View Details"})})]},L.id))}),d.length===0&&m("div",{className:"no-similar-courses",children:[l("p",{children:"No similar courses found at the moment."}),l(pn,{to:"/learning",className:"btn btn-outline",children:"Browse All Courses"})]})]});return c?l("div",{className:"course-detail-loading",children:l("div",{className:"loading-content",children:l(A0,{size:"lg",text:"Loading course details..."})})}):s?l("div",{className:"course-detail-page",children:l("div",{className:"container",children:m("div",{className:"course-detail-content",children:[m("div",{className:"main-content",children:[I(),T(),w==="overview"&&z(),w==="curriculum"&&j(),w==="instructor"&&q(),w==="reviews"&&G(),B()]}),m("div",{className:"sidebar-content",children:[i&&l("div",{className:"quick-enroll-card",children:m("div",{className:"card-content",children:[l("h3",{children:"Ready to Start Learning?"}),m("button",{className:"btn btn-primary w-full",onClick:D,children:[l(Gh,{size:18}),"Enroll Now"]}),m("div",{className:"enrollment-info",children:[m("div",{className:"info-item",children:[l(Gn,{size:14}),l("span",{children:"Lifetime access"})]}),m("div",{className:"info-item",children:[l(i4,{size:14}),l("span",{children:"Certificate included"})]}),m("div",{className:"info-item",children:[l(ar,{size:14}),l("span",{children:"Self-paced learning"})]})]})]})}),m("div",{className:"features-card",children:[l("h3",{children:"This Course Includes"}),m("ul",{className:"features-list",children:[m("li",{children:[l(VP,{size:16}),m("span",{children:[s.duration*4," hours on-demand video"]})]}),m("li",{children:[l(i4,{size:16}),l("span",{children:"Downloadable resources"})]}),m("li",{children:[l(xn,{size:16}),l("span",{children:"Certificate of completion"})]}),m("li",{children:[l(ar,{size:16}),l("span",{children:"Full lifetime access"})]}),m("li",{children:[l(Zt,{size:16}),l("span",{children:"Access on mobile and TV"})]})]})]})]})]})})}):l("div",{className:"course-not-found",children:m("div",{className:"not-found-content",children:[l(z0,{size:48}),l("h2",{children:"Course Not Found"}),l("p",{children:"The course you're looking for doesn't exist or has been removed."}),l(pn,{to:"/learning",className:"btn btn-primary",children:"Browse All Courses"})]})})};function u_e(){const t=Gi(),[e,n]=Z.useState({courseId:"",courseTitle:"",firstName:"",lastName:"",email:"",phone:"",address:"",city:"",state:"",zipCode:"",enrollmentDate:"",studentId:"",emergencyContactName:"",emergencyContactPhone:"",agreeTerms:!1}),[i,r]=Z.useState("card"),[a,s]=Z.useState({cardNumber:"",expiry:"",cvv:"",cardholderName:"",upiId:"",bank:""}),o=h=>{const{name:f,value:p}=h.target;n(w=>({...w,[f]:p}))},c=h=>{const{name:f,value:p}=h.target;s(w=>({...w,[f]:p}))},u=h=>{h.preventDefault();const f={...e,paymentMethod:i,paymentData:a};console.log("Complete Enrollment Data:",f),alert(`Course Enrollment Submitted Successfully!
Check console for full data.`)},d=new Date().toISOString().split("T")[0];return l("div",{className:"enrollment-wrapper",children:m("div",{className:"enrollment-container",children:[l("div",{className:"form-header",children:m("div",{style:{display:"flex",alignItems:"center",gap:12},children:[l("button",{type:"button",className:"btn btn-outline",onClick:()=>t(-1),"aria-label":"Go back",children:" Back"}),m("div",{children:[l("h1",{children:"Course Enrollment Form"}),l("p",{children:"Complete all fields to secure your spot in the course"})]})]})}),m("form",{className:"enrollment-form",onSubmit:u,children:[m("section",{className:"form-section",children:[l("h2",{children:"Course Details"}),m("div",{className:"form-grid",children:[m("div",{className:"input-group",children:[m("label",{htmlFor:"courseId",children:["Course ID * ",l("span",{className:"course-id-hint",children:"(From course card)"})]}),l("input",{id:"courseId",type:"text",name:"courseId",value:e.courseId,onChange:o,required:!0,placeholder:"CS-101-2025",maxLength:"20"}),l("small",{className:"field-hint",children:"Enter the exact Course ID shown on the course card"})]}),m("div",{className:"input-group",children:[l("label",{htmlFor:"courseTitle",children:"Course Title *"}),l("input",{id:"courseTitle",type:"text",name:"courseTitle",value:e.courseTitle,onChange:o,required:!0,placeholder:"e.g., React Developer Bootcamp"})]}),m("div",{className:"input-group",children:[l("label",{htmlFor:"enrollmentDate",children:"Enrollment Date *"}),l("input",{id:"enrollmentDate",type:"date",name:"enrollmentDate",value:e.enrollmentDate,onChange:o,required:!0,min:d})]}),m("div",{className:"input-group",children:[l("label",{htmlFor:"studentId",children:"Student ID (Optional)"}),l("input",{id:"studentId",type:"text",name:"studentId",value:e.studentId,onChange:o,placeholder:"STD-2025-001"})]})]})]}),m("section",{className:"form-section",children:[l("h2",{children:"Personal Information"}),m("div",{className:"form-grid",children:[m("div",{className:"input-group",children:[l("label",{htmlFor:"firstName",children:"First Name *"}),l("input",{id:"firstName",type:"text",name:"firstName",value:e.firstName,onChange:o,required:!0,placeholder:"Enter your first name"})]}),m("div",{className:"input-group",children:[l("label",{htmlFor:"lastName",children:"Last Name *"}),l("input",{id:"lastName",type:"text",name:"lastName",value:e.lastName,onChange:o,required:!0,placeholder:"Enter your last name"})]}),m("div",{className:"input-group",children:[l("label",{htmlFor:"email",children:"Email Address *"}),l("input",{id:"email",type:"email",name:"email",value:e.email,onChange:o,required:!0,placeholder:"your@email.com"})]}),m("div",{className:"input-group",children:[l("label",{htmlFor:"phone",children:"Phone Number *"}),l("input",{id:"phone",type:"tel",name:"phone",value:e.phone,onChange:o,required:!0,placeholder:"+1 (555) 123-4567"})]})]}),m("div",{className:"input-group full-width",children:[l("label",{htmlFor:"address",children:"Street Address *"}),l("input",{id:"address",type:"text",name:"address",value:e.address,onChange:o,required:!0,placeholder:"123 Main St, Apt 4B"})]}),m("div",{className:"form-grid",children:[m("div",{className:"input-group",children:[l("label",{htmlFor:"city",children:"City *"}),l("input",{id:"city",type:"text",name:"city",value:e.city,onChange:o,required:!0,placeholder:"New York"})]}),m("div",{className:"input-group",children:[l("label",{htmlFor:"state",children:"State/Province *"}),l("input",{id:"state",type:"text",name:"state",value:e.state,onChange:o,required:!0,placeholder:"NY"})]}),m("div",{className:"input-group",children:[l("label",{htmlFor:"zipCode",children:"ZIP/Postal Code *"}),l("input",{id:"zipCode",type:"text",name:"zipCode",value:e.zipCode,onChange:o,required:!0,placeholder:"10001",maxLength:"10"})]})]})]}),m("section",{className:"form-section",children:[l("h2",{children:"Emergency Contact"}),m("div",{className:"form-grid",children:[m("div",{className:"input-group",children:[l("label",{htmlFor:"emergencyContactName",children:"Contact Name *"}),l("input",{id:"emergencyContactName",type:"text",name:"emergencyContactName",value:e.emergencyContactName,onChange:o,required:!0,placeholder:"Emergency contact name"})]}),m("div",{className:"input-group",children:[l("label",{htmlFor:"emergencyContactPhone",children:"Phone Number *"}),l("input",{id:"emergencyContactPhone",type:"tel",name:"emergencyContactPhone",value:e.emergencyContactPhone,onChange:o,required:!0,placeholder:"+1 (555) 987-6543"})]})]})]}),m("section",{className:"form-section",children:[l("h2",{children:"Payment Information"}),m("div",{className:"payment-methods",children:[m("div",{className:"method-option",children:[l("input",{id:"card",type:"radio",name:"payment",value:"card",checked:i==="card",onChange:()=>r("card")}),m("label",{htmlFor:"card",className:"method-label",children:[l("div",{className:"method-icon card-icon",children:""}),l("span",{children:"Credit / Debit Card"})]})]}),m("div",{className:"method-option",children:[l("input",{id:"upi",type:"radio",name:"payment",value:"upi",checked:i==="upi",onChange:()=>r("upi")}),m("label",{htmlFor:"upi",className:"method-label",children:[l("div",{className:"method-icon upi-icon",children:""}),l("span",{children:"UPI"})]})]}),m("div",{className:"method-option",children:[l("input",{id:"netbanking",type:"radio",name:"payment",value:"netbanking",checked:i==="netbanking",onChange:()=>r("netbanking")}),m("label",{htmlFor:"netbanking",className:"method-label",children:[l("div",{className:"method-icon bank-icon",children:""}),l("span",{children:"Net Banking"})]})]})]}),i==="card"&&m("div",{className:"payment-fields",children:[m("div",{className:"input-group full-width",children:[l("label",{htmlFor:"cardNumber",children:"Card Number *"}),l("input",{id:"cardNumber",type:"text",name:"cardNumber",value:a.cardNumber,onChange:c,placeholder:"1234 5678 9012 3456",required:!0,maxLength:"19"})]}),m("div",{className:"form-grid",children:[m("div",{className:"input-group",children:[l("label",{htmlFor:"expiry",children:"Expiry Date *"}),l("input",{id:"expiry",type:"text",name:"expiry",value:a.expiry,onChange:c,placeholder:"MM/YY",required:!0,maxLength:"5"})]}),m("div",{className:"input-group",children:[l("label",{htmlFor:"cvv",children:"CVV *"}),l("input",{id:"cvv",type:"text",name:"cvv",value:a.cvv,onChange:c,placeholder:"123",required:!0,maxLength:"4"})]})]}),m("div",{className:"input-group full-width",children:[l("label",{htmlFor:"cardholderName",children:"Cardholder Name *"}),l("input",{id:"cardholderName",type:"text",name:"cardholderName",value:a.cardholderName,onChange:c,placeholder:"John Doe",required:!0})]})]}),i==="upi"&&l("div",{className:"payment-fields",children:m("div",{className:"input-group full-width",children:[l("label",{htmlFor:"upiId",children:"UPI ID *"}),l("input",{id:"upiId",type:"text",name:"upiId",value:a.upiId,onChange:c,placeholder:"yourname@paytm",required:!0})]})}),i==="netbanking"&&l("div",{className:"payment-fields",children:m("div",{className:"input-group full-width",children:[l("label",{htmlFor:"bank",children:"Select Bank *"}),m("select",{id:"bank",name:"bank",value:a.bank,onChange:c,required:!0,children:[l("option",{value:"",children:"Choose your bank"}),l("option",{value:"sbi",children:"State Bank of India"}),l("option",{value:"hdfc",children:"HDFC Bank"}),l("option",{value:"icici",children:"ICICI Bank"}),l("option",{value:"axis",children:"Axis Bank"}),l("option",{value:"pnb",children:"Punjab National Bank"}),l("option",{value:"bob",children:"Bank of Baroda"})]})]})})]}),l("section",{className:"form-section",children:l("div",{className:"checkbox-group",children:m("label",{className:"checkbox-label",children:[l("input",{type:"checkbox",name:"agreeTerms",checked:e.agreeTerms,onChange:h=>n(f=>({...f,agreeTerms:h.target.checked})),required:!0}),l("span",{className:"checkmark"}),m("div",{className:"terms-text",children:["I agree to the ",l("a",{href:"#",className:"terms-link",children:"Terms & Conditions"}),",",l("a",{href:"#",className:"terms-link",children:" Privacy Policy"}),", and confirm all information provided is accurate *"]})]})})}),m("div",{className:"form-actions",children:[l("button",{type:"button",className:"btn-secondary",onClick:()=>t(-1),children:"Cancel"}),l("button",{type:"submit",className:"btn-primary",children:"Complete Enrollment"})]})]})]})})}const d_e=()=>l("div",{children:l(u_e,{})});function h_e(){this.__data__=[],this.size=0}var f_e=h_e;function p_e(t,e){return t===e||t!==t&&e!==e}var VQ=p_e,m_e=VQ;function g_e(t,e){for(var n=t.length;n--;)if(m_e(t[n][0],e))return n;return-1}var T6=g_e,y_e=T6,v_e=Array.prototype,b_e=v_e.splice;function w_e(t){var e=this.__data__,n=y_e(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():b_e.call(e,n,1),--this.size,!0}var x_e=w_e,__e=T6;function S_e(t){var e=this.__data__,n=__e(e,t);return n<0?void 0:e[n][1]}var A_e=S_e,N_e=T6;function k_e(t){return N_e(this.__data__,t)>-1}var C_e=k_e,E_e=T6;function T_e(t,e){var n=this.__data__,i=E_e(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}var D_e=T_e,P_e=f_e,I_e=x_e,R_e=A_e,L_e=C_e,F_e=D_e;function Dw(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Dw.prototype.clear=P_e;Dw.prototype.delete=I_e;Dw.prototype.get=R_e;Dw.prototype.has=L_e;Dw.prototype.set=F_e;var D6=Dw,O_e=D6;function U_e(){this.__data__=new O_e,this.size=0}var M_e=U_e;function B_e(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var z_e=B_e;function j_e(t){return this.__data__.get(t)}var $_e=j_e;function W_e(t){return this.__data__.has(t)}var q_e=W_e,H_e=typeof zt=="object"&&zt&&zt.Object===Object&&zt,GQ=H_e,V_e=GQ,G_e=typeof self=="object"&&self&&self.Object===Object&&self,X_e=V_e||G_e||Function("return this")(),xf=X_e,K_e=xf,Y_e=K_e.Symbol,DU=Y_e,UW=DU,XQ=Object.prototype,J_e=XQ.hasOwnProperty,Z_e=XQ.toString,wx=UW?UW.toStringTag:void 0;function Q_e(t){var e=J_e.call(t,wx),n=t[wx];try{t[wx]=void 0;var i=!0}catch{}var r=Z_e.call(t);return i&&(e?t[wx]=n:delete t[wx]),r}var eSe=Q_e,tSe=Object.prototype,nSe=tSe.toString;function iSe(t){return nSe.call(t)}var rSe=iSe,MW=DU,aSe=eSe,sSe=rSe,oSe="[object Null]",lSe="[object Undefined]",BW=MW?MW.toStringTag:void 0;function cSe(t){return t==null?t===void 0?lSe:oSe:BW&&BW in Object(t)?aSe(t):sSe(t)}var P6=cSe;function uSe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var KQ=uSe,dSe=P6,hSe=KQ,fSe="[object AsyncFunction]",pSe="[object Function]",mSe="[object GeneratorFunction]",gSe="[object Proxy]";function ySe(t){if(!hSe(t))return!1;var e=dSe(t);return e==pSe||e==mSe||e==fSe||e==gSe}var YQ=ySe,vSe=xf,bSe=vSe["__core-js_shared__"],wSe=bSe,JP=wSe,zW=function(){var t=/[^.]+$/.exec(JP&&JP.keys&&JP.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function xSe(t){return!!zW&&zW in t}var _Se=xSe,SSe=Function.prototype,ASe=SSe.toString;function NSe(t){if(t!=null){try{return ASe.call(t)}catch{}try{return t+""}catch{}}return""}var JQ=NSe,kSe=YQ,CSe=_Se,ESe=KQ,TSe=JQ,DSe=/[\\^$.*+?()[\]{}|]/g,PSe=/^\[object .+?Constructor\]$/,ISe=Function.prototype,RSe=Object.prototype,LSe=ISe.toString,FSe=RSe.hasOwnProperty,OSe=RegExp("^"+LSe.call(FSe).replace(DSe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function USe(t){if(!ESe(t)||CSe(t))return!1;var e=kSe(t)?OSe:PSe;return e.test(TSe(t))}var MSe=USe;function BSe(t,e){return t==null?void 0:t[e]}var zSe=BSe,jSe=MSe,$Se=zSe;function WSe(t,e){var n=$Se(t,e);return jSe(n)?n:void 0}var Pw=WSe,qSe=Pw,HSe=xf,VSe=qSe(HSe,"Map"),PU=VSe,GSe=Pw,XSe=GSe(Object,"create"),I6=XSe,jW=I6;function KSe(){this.__data__=jW?jW(null):{},this.size=0}var YSe=KSe;function JSe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var ZSe=JSe,QSe=I6,eAe="__lodash_hash_undefined__",tAe=Object.prototype,nAe=tAe.hasOwnProperty;function iAe(t){var e=this.__data__;if(QSe){var n=e[t];return n===eAe?void 0:n}return nAe.call(e,t)?e[t]:void 0}var rAe=iAe,aAe=I6,sAe=Object.prototype,oAe=sAe.hasOwnProperty;function lAe(t){var e=this.__data__;return aAe?e[t]!==void 0:oAe.call(e,t)}var cAe=lAe,uAe=I6,dAe="__lodash_hash_undefined__";function hAe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=uAe&&e===void 0?dAe:e,this}var fAe=hAe,pAe=YSe,mAe=ZSe,gAe=rAe,yAe=cAe,vAe=fAe;function Iw(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Iw.prototype.clear=pAe;Iw.prototype.delete=mAe;Iw.prototype.get=gAe;Iw.prototype.has=yAe;Iw.prototype.set=vAe;var bAe=Iw,$W=bAe,wAe=D6,xAe=PU;function _Ae(){this.size=0,this.__data__={hash:new $W,map:new(xAe||wAe),string:new $W}}var SAe=_Ae;function AAe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var NAe=AAe,kAe=NAe;function CAe(t,e){var n=t.__data__;return kAe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var R6=CAe,EAe=R6;function TAe(t){var e=EAe(this,t).delete(t);return this.size-=e?1:0,e}var DAe=TAe,PAe=R6;function IAe(t){return PAe(this,t).get(t)}var RAe=IAe,LAe=R6;function FAe(t){return LAe(this,t).has(t)}var OAe=FAe,UAe=R6;function MAe(t,e){var n=UAe(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}var BAe=MAe,zAe=SAe,jAe=DAe,$Ae=RAe,WAe=OAe,qAe=BAe;function Rw(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Rw.prototype.clear=zAe;Rw.prototype.delete=jAe;Rw.prototype.get=$Ae;Rw.prototype.has=WAe;Rw.prototype.set=qAe;var ZQ=Rw,HAe=D6,VAe=PU,GAe=ZQ,XAe=200;function KAe(t,e){var n=this.__data__;if(n instanceof HAe){var i=n.__data__;if(!VAe||i.length<XAe-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new GAe(i)}return n.set(t,e),this.size=n.size,this}var YAe=KAe,JAe=D6,ZAe=M_e,QAe=z_e,eNe=$_e,tNe=q_e,nNe=YAe;function Lw(t){var e=this.__data__=new JAe(t);this.size=e.size}Lw.prototype.clear=ZAe;Lw.prototype.delete=QAe;Lw.prototype.get=eNe;Lw.prototype.has=tNe;Lw.prototype.set=nNe;var iNe=Lw,rNe="__lodash_hash_undefined__";function aNe(t){return this.__data__.set(t,rNe),this}var sNe=aNe;function oNe(t){return this.__data__.has(t)}var lNe=oNe,cNe=ZQ,uNe=sNe,dNe=lNe;function YC(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new cNe;++e<n;)this.add(t[e])}YC.prototype.add=YC.prototype.push=uNe;YC.prototype.has=dNe;var hNe=YC;function fNe(t,e){for(var n=-1,i=t==null?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}var pNe=fNe;function mNe(t,e){return t.has(e)}var gNe=mNe,yNe=hNe,vNe=pNe,bNe=gNe,wNe=1,xNe=2;function _Ne(t,e,n,i,r,a){var s=n&wNe,o=t.length,c=e.length;if(o!=c&&!(s&&c>o))return!1;var u=a.get(t),d=a.get(e);if(u&&d)return u==e&&d==t;var h=-1,f=!0,p=n&xNe?new yNe:void 0;for(a.set(t,e),a.set(e,t);++h<o;){var w=t[h],v=e[h];if(i)var b=s?i(v,w,h,e,t,a):i(w,v,h,t,e,a);if(b!==void 0){if(b)continue;f=!1;break}if(p){if(!vNe(e,function(g,y){if(!bNe(p,y)&&(w===g||r(w,g,n,i,a)))return p.push(y)})){f=!1;break}}else if(!(w===v||r(w,v,n,i,a))){f=!1;break}}return a.delete(t),a.delete(e),f}var QQ=_Ne,SNe=xf,ANe=SNe.Uint8Array,NNe=ANe;function kNe(t){var e=-1,n=Array(t.size);return t.forEach(function(i,r){n[++e]=[r,i]}),n}var CNe=kNe;function ENe(t){var e=-1,n=Array(t.size);return t.forEach(function(i){n[++e]=i}),n}var TNe=ENe,WW=DU,qW=NNe,DNe=VQ,PNe=QQ,INe=CNe,RNe=TNe,LNe=1,FNe=2,ONe="[object Boolean]",UNe="[object Date]",MNe="[object Error]",BNe="[object Map]",zNe="[object Number]",jNe="[object RegExp]",$Ne="[object Set]",WNe="[object String]",qNe="[object Symbol]",HNe="[object ArrayBuffer]",VNe="[object DataView]",HW=WW?WW.prototype:void 0,ZP=HW?HW.valueOf:void 0;function GNe(t,e,n,i,r,a,s){switch(n){case VNe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case HNe:return!(t.byteLength!=e.byteLength||!a(new qW(t),new qW(e)));case ONe:case UNe:case zNe:return DNe(+t,+e);case MNe:return t.name==e.name&&t.message==e.message;case jNe:case WNe:return t==e+"";case BNe:var o=INe;case $Ne:var c=i&LNe;if(o||(o=RNe),t.size!=e.size&&!c)return!1;var u=s.get(t);if(u)return u==e;i|=FNe,s.set(t,e);var d=PNe(o(t),o(e),i,r,a,s);return s.delete(t),d;case qNe:if(ZP)return ZP.call(t)==ZP.call(e)}return!1}var XNe=GNe;function KNe(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}var YNe=KNe,JNe=Array.isArray,IU=JNe,ZNe=YNe,QNe=IU;function e3e(t,e,n){var i=e(t);return QNe(t)?i:ZNe(i,n(t))}var t3e=e3e;function n3e(t,e){for(var n=-1,i=t==null?0:t.length,r=0,a=[];++n<i;){var s=t[n];e(s,n,t)&&(a[r++]=s)}return a}var i3e=n3e;function r3e(){return[]}var a3e=r3e,s3e=i3e,o3e=a3e,l3e=Object.prototype,c3e=l3e.propertyIsEnumerable,VW=Object.getOwnPropertySymbols,u3e=VW?function(t){return t==null?[]:(t=Object(t),s3e(VW(t),function(e){return c3e.call(t,e)}))}:o3e,d3e=u3e;function h3e(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}var f3e=h3e;function p3e(t){return t!=null&&typeof t=="object"}var L6=p3e,m3e=P6,g3e=L6,y3e="[object Arguments]";function v3e(t){return g3e(t)&&m3e(t)==y3e}var b3e=v3e,GW=b3e,w3e=L6,eee=Object.prototype,x3e=eee.hasOwnProperty,_3e=eee.propertyIsEnumerable,S3e=GW(function(){return arguments}())?GW:function(t){return w3e(t)&&x3e.call(t,"callee")&&!_3e.call(t,"callee")},A3e=S3e,JC={exports:{}};function N3e(){return!1}var k3e=N3e;JC.exports;(function(t,e){var n=xf,i=k3e,r=e&&!e.nodeType&&e,a=r&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===r,o=s?n.Buffer:void 0,c=o?o.isBuffer:void 0,u=c||i;t.exports=u})(JC,JC.exports);var tee=JC.exports,C3e=9007199254740991,E3e=/^(?:0|[1-9]\d*)$/;function T3e(t,e){var n=typeof t;return e=e??C3e,!!e&&(n=="number"||n!="symbol"&&E3e.test(t))&&t>-1&&t%1==0&&t<e}var D3e=T3e,P3e=9007199254740991;function I3e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=P3e}var nee=I3e,R3e=P6,L3e=nee,F3e=L6,O3e="[object Arguments]",U3e="[object Array]",M3e="[object Boolean]",B3e="[object Date]",z3e="[object Error]",j3e="[object Function]",$3e="[object Map]",W3e="[object Number]",q3e="[object Object]",H3e="[object RegExp]",V3e="[object Set]",G3e="[object String]",X3e="[object WeakMap]",K3e="[object ArrayBuffer]",Y3e="[object DataView]",J3e="[object Float32Array]",Z3e="[object Float64Array]",Q3e="[object Int8Array]",eke="[object Int16Array]",tke="[object Int32Array]",nke="[object Uint8Array]",ike="[object Uint8ClampedArray]",rke="[object Uint16Array]",ake="[object Uint32Array]",Ii={};Ii[J3e]=Ii[Z3e]=Ii[Q3e]=Ii[eke]=Ii[tke]=Ii[nke]=Ii[ike]=Ii[rke]=Ii[ake]=!0;Ii[O3e]=Ii[U3e]=Ii[K3e]=Ii[M3e]=Ii[Y3e]=Ii[B3e]=Ii[z3e]=Ii[j3e]=Ii[$3e]=Ii[W3e]=Ii[q3e]=Ii[H3e]=Ii[V3e]=Ii[G3e]=Ii[X3e]=!1;function ske(t){return F3e(t)&&L3e(t.length)&&!!Ii[R3e(t)]}var oke=ske;function lke(t){return function(e){return t(e)}}var cke=lke,ZC={exports:{}};ZC.exports;(function(t,e){var n=GQ,i=e&&!e.nodeType&&e,r=i&&!0&&t&&!t.nodeType&&t,a=r&&r.exports===i,s=a&&n.process,o=function(){try{var c=r&&r.require&&r.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();t.exports=o})(ZC,ZC.exports);var uke=ZC.exports,dke=oke,hke=cke,XW=uke,KW=XW&&XW.isTypedArray,fke=KW?hke(KW):dke,iee=fke,pke=f3e,mke=A3e,gke=IU,yke=tee,vke=D3e,bke=iee,wke=Object.prototype,xke=wke.hasOwnProperty;function _ke(t,e){var n=gke(t),i=!n&&mke(t),r=!n&&!i&&yke(t),a=!n&&!i&&!r&&bke(t),s=n||i||r||a,o=s?pke(t.length,String):[],c=o.length;for(var u in t)(e||xke.call(t,u))&&!(s&&(u=="length"||r&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||vke(u,c)))&&o.push(u);return o}var Ske=_ke,Ake=Object.prototype;function Nke(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Ake;return t===n}var kke=Nke;function Cke(t,e){return function(n){return t(e(n))}}var Eke=Cke,Tke=Eke,Dke=Tke(Object.keys,Object),Pke=Dke,Ike=kke,Rke=Pke,Lke=Object.prototype,Fke=Lke.hasOwnProperty;function Oke(t){if(!Ike(t))return Rke(t);var e=[];for(var n in Object(t))Fke.call(t,n)&&n!="constructor"&&e.push(n);return e}var Uke=Oke,Mke=YQ,Bke=nee;function zke(t){return t!=null&&Bke(t.length)&&!Mke(t)}var jke=zke,$ke=Ske,Wke=Uke,qke=jke;function Hke(t){return qke(t)?$ke(t):Wke(t)}var Vke=Hke,Gke=t3e,Xke=d3e,Kke=Vke;function Yke(t){return Gke(t,Kke,Xke)}var Jke=Yke,YW=Jke,Zke=1,Qke=Object.prototype,e4e=Qke.hasOwnProperty;function t4e(t,e,n,i,r,a){var s=n&Zke,o=YW(t),c=o.length,u=YW(e),d=u.length;if(c!=d&&!s)return!1;for(var h=c;h--;){var f=o[h];if(!(s?f in e:e4e.call(e,f)))return!1}var p=a.get(t),w=a.get(e);if(p&&w)return p==e&&w==t;var v=!0;a.set(t,e),a.set(e,t);for(var b=s;++h<c;){f=o[h];var g=t[f],y=e[f];if(i)var _=s?i(y,g,f,e,t,a):i(g,y,f,t,e,a);if(!(_===void 0?g===y||r(g,y,n,i,a):_)){v=!1;break}b||(b=f=="constructor")}if(v&&!b){var S=t.constructor,N=e.constructor;S!=N&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof N=="function"&&N instanceof N)&&(v=!1)}return a.delete(t),a.delete(e),v}var n4e=t4e,i4e=Pw,r4e=xf,a4e=i4e(r4e,"DataView"),s4e=a4e,o4e=Pw,l4e=xf,c4e=o4e(l4e,"Promise"),u4e=c4e,d4e=Pw,h4e=xf,f4e=d4e(h4e,"Set"),p4e=f4e,m4e=Pw,g4e=xf,y4e=m4e(g4e,"WeakMap"),v4e=y4e,A7=s4e,N7=PU,k7=u4e,C7=p4e,E7=v4e,ree=P6,Fw=JQ,JW="[object Map]",b4e="[object Object]",ZW="[object Promise]",QW="[object Set]",eq="[object WeakMap]",tq="[object DataView]",w4e=Fw(A7),x4e=Fw(N7),_4e=Fw(k7),S4e=Fw(C7),A4e=Fw(E7),wg=ree;(A7&&wg(new A7(new ArrayBuffer(1)))!=tq||N7&&wg(new N7)!=JW||k7&&wg(k7.resolve())!=ZW||C7&&wg(new C7)!=QW||E7&&wg(new E7)!=eq)&&(wg=function(t){var e=ree(t),n=e==b4e?t.constructor:void 0,i=n?Fw(n):"";if(i)switch(i){case w4e:return tq;case x4e:return JW;case _4e:return ZW;case S4e:return QW;case A4e:return eq}return e});var N4e=wg,QP=iNe,k4e=QQ,C4e=XNe,E4e=n4e,nq=N4e,iq=IU,rq=tee,T4e=iee,D4e=1,aq="[object Arguments]",sq="[object Array]",ek="[object Object]",P4e=Object.prototype,oq=P4e.hasOwnProperty;function I4e(t,e,n,i,r,a){var s=iq(t),o=iq(e),c=s?sq:nq(t),u=o?sq:nq(e);c=c==aq?ek:c,u=u==aq?ek:u;var d=c==ek,h=u==ek,f=c==u;if(f&&rq(t)){if(!rq(e))return!1;s=!0,d=!1}if(f&&!d)return a||(a=new QP),s||T4e(t)?k4e(t,e,n,i,r,a):C4e(t,e,c,n,i,r,a);if(!(n&D4e)){var p=d&&oq.call(t,"__wrapped__"),w=h&&oq.call(e,"__wrapped__");if(p||w){var v=p?t.value():t,b=w?e.value():e;return a||(a=new QP),r(v,b,n,i,a)}}return f?(a||(a=new QP),E4e(t,e,n,i,r,a)):!1}var R4e=I4e,L4e=R4e,lq=L6;function aee(t,e,n,i,r){return t===e?!0:t==null||e==null||!lq(t)&&!lq(e)?t!==t&&e!==e:L4e(t,e,n,i,aee,r)}var F4e=aee,O4e=F4e;function U4e(t,e){return O4e(t,e)}var M4e=U4e,see={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(i,r){t.exports=r()})(typeof self<"u"?self:zt,function(){return function(n){var i={};function r(a){if(i[a])return i[a].exports;var s=i[a]={i:a,l:!1,exports:{}};return n[a].call(s.exports,s,s.exports,r),s.l=!0,s.exports}return r.m=n,r.c=i,r.d=function(a,s,o){r.o(a,s)||Object.defineProperty(a,s,{configurable:!1,enumerable:!0,get:o})},r.n=function(a){var s=a&&a.__esModule?function(){return a.default}:function(){return a};return r.d(s,"a",s),s},r.o=function(a,s){return Object.prototype.hasOwnProperty.call(a,s)},r.p="",r(r.s=109)}([function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var a=r(17),s=r(18),o=r(19),c=r(45),u=r(46),d=r(47),h=r(48),f=r(49),p=r(12),w=r(32),v=r(33),b=r(31),g=r(1),y={Scope:g.Scope,create:g.create,find:g.find,query:g.query,register:g.register,Container:a.default,Format:s.default,Leaf:o.default,Embed:h.default,Scroll:c.default,Block:d.default,Inline:u.default,Text:f.default,Attributor:{Attribute:p.default,Class:w.default,Style:v.default,Store:b.default}};i.default=y},function(n,i,r){var a=this&&this.__extends||function(){var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,y){g.__proto__=y}||function(g,y){for(var _ in y)y.hasOwnProperty(_)&&(g[_]=y[_])};return function(g,y){b(g,y);function _(){this.constructor=g}g.prototype=y===null?Object.create(y):(_.prototype=y.prototype,new _)}}();Object.defineProperty(i,"__esModule",{value:!0});var s=function(b){a(g,b);function g(y){var _=this;return y="[Parchment] "+y,_=b.call(this,y)||this,_.message=y,_.name=_.constructor.name,_}return g}(Error);i.ParchmentError=s;var o={},c={},u={},d={};i.DATA_KEY="__blot";var h;(function(b){b[b.TYPE=3]="TYPE",b[b.LEVEL=12]="LEVEL",b[b.ATTRIBUTE=13]="ATTRIBUTE",b[b.BLOT=14]="BLOT",b[b.INLINE=7]="INLINE",b[b.BLOCK=11]="BLOCK",b[b.BLOCK_BLOT=10]="BLOCK_BLOT",b[b.INLINE_BLOT=6]="INLINE_BLOT",b[b.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",b[b.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",b[b.ANY=15]="ANY"})(h=i.Scope||(i.Scope={}));function f(b,g){var y=w(b);if(y==null)throw new s("Unable to create "+b+" blot");var _=y,S=b instanceof Node||b.nodeType===Node.TEXT_NODE?b:_.create(g);return new _(S,g)}i.create=f;function p(b,g){return g===void 0&&(g=!1),b==null?null:b[i.DATA_KEY]!=null?b[i.DATA_KEY].blot:g?p(b.parentNode,g):null}i.find=p;function w(b,g){g===void 0&&(g=h.ANY);var y;if(typeof b=="string")y=d[b]||o[b];else if(b instanceof Text||b.nodeType===Node.TEXT_NODE)y=d.text;else if(typeof b=="number")b&h.LEVEL&h.BLOCK?y=d.block:b&h.LEVEL&h.INLINE&&(y=d.inline);else if(b instanceof HTMLElement){var _=(b.getAttribute("class")||"").split(/\s+/);for(var S in _)if(y=c[_[S]],y)break;y=y||u[b.tagName]}return y==null?null:g&h.LEVEL&y.scope&&g&h.TYPE&y.scope?y:null}i.query=w;function v(){for(var b=[],g=0;g<arguments.length;g++)b[g]=arguments[g];if(b.length>1)return b.map(function(S){return v(S)});var y=b[0];if(typeof y.blotName!="string"&&typeof y.attrName!="string")throw new s("Invalid definition");if(y.blotName==="abstract")throw new s("Cannot register abstract class");if(d[y.blotName||y.attrName]=y,typeof y.keyName=="string")o[y.keyName]=y;else if(y.className!=null&&(c[y.className]=y),y.tagName!=null){Array.isArray(y.tagName)?y.tagName=y.tagName.map(function(S){return S.toUpperCase()}):y.tagName=y.tagName.toUpperCase();var _=Array.isArray(y.tagName)?y.tagName:[y.tagName];_.forEach(function(S){(u[S]==null||y.className==null)&&(u[S]=y)})}return y}i.register=v},function(n,i,r){var a=r(51),s=r(11),o=r(3),c=r(20),u=String.fromCharCode(0),d=function(h){Array.isArray(h)?this.ops=h:h!=null&&Array.isArray(h.ops)?this.ops=h.ops:this.ops=[]};d.prototype.insert=function(h,f){var p={};return h.length===0?this:(p.insert=h,f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(p.attributes=f),this.push(p))},d.prototype.delete=function(h){return h<=0?this:this.push({delete:h})},d.prototype.retain=function(h,f){if(h<=0)return this;var p={retain:h};return f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(p.attributes=f),this.push(p)},d.prototype.push=function(h){var f=this.ops.length,p=this.ops[f-1];if(h=o(!0,{},h),typeof p=="object"){if(typeof h.delete=="number"&&typeof p.delete=="number")return this.ops[f-1]={delete:p.delete+h.delete},this;if(typeof p.delete=="number"&&h.insert!=null&&(f-=1,p=this.ops[f-1],typeof p!="object"))return this.ops.unshift(h),this;if(s(h.attributes,p.attributes)){if(typeof h.insert=="string"&&typeof p.insert=="string")return this.ops[f-1]={insert:p.insert+h.insert},typeof h.attributes=="object"&&(this.ops[f-1].attributes=h.attributes),this;if(typeof h.retain=="number"&&typeof p.retain=="number")return this.ops[f-1]={retain:p.retain+h.retain},typeof h.attributes=="object"&&(this.ops[f-1].attributes=h.attributes),this}}return f===this.ops.length?this.ops.push(h):this.ops.splice(f,0,h),this},d.prototype.chop=function(){var h=this.ops[this.ops.length-1];return h&&h.retain&&!h.attributes&&this.ops.pop(),this},d.prototype.filter=function(h){return this.ops.filter(h)},d.prototype.forEach=function(h){this.ops.forEach(h)},d.prototype.map=function(h){return this.ops.map(h)},d.prototype.partition=function(h){var f=[],p=[];return this.forEach(function(w){var v=h(w)?f:p;v.push(w)}),[f,p]},d.prototype.reduce=function(h,f){return this.ops.reduce(h,f)},d.prototype.changeLength=function(){return this.reduce(function(h,f){return f.insert?h+c.length(f):f.delete?h-f.delete:h},0)},d.prototype.length=function(){return this.reduce(function(h,f){return h+c.length(f)},0)},d.prototype.slice=function(h,f){h=h||0,typeof f!="number"&&(f=1/0);for(var p=[],w=c.iterator(this.ops),v=0;v<f&&w.hasNext();){var b;v<h?b=w.next(h-v):(b=w.next(f-v),p.push(b)),v+=c.length(b)}return new d(p)},d.prototype.compose=function(h){var f=c.iterator(this.ops),p=c.iterator(h.ops),w=[],v=p.peek();if(v!=null&&typeof v.retain=="number"&&v.attributes==null){for(var b=v.retain;f.peekType()==="insert"&&f.peekLength()<=b;)b-=f.peekLength(),w.push(f.next());v.retain-b>0&&p.next(v.retain-b)}for(var g=new d(w);f.hasNext()||p.hasNext();)if(p.peekType()==="insert")g.push(p.next());else if(f.peekType()==="delete")g.push(f.next());else{var y=Math.min(f.peekLength(),p.peekLength()),_=f.next(y),S=p.next(y);if(typeof S.retain=="number"){var N={};typeof _.retain=="number"?N.retain=y:N.insert=_.insert;var R=c.attributes.compose(_.attributes,S.attributes,typeof _.retain=="number");if(R&&(N.attributes=R),g.push(N),!p.hasNext()&&s(g.ops[g.ops.length-1],N)){var D=new d(f.rest());return g.concat(D).chop()}}else typeof S.delete=="number"&&typeof _.retain=="number"&&g.push(S)}return g.chop()},d.prototype.concat=function(h){var f=new d(this.ops.slice());return h.ops.length>0&&(f.push(h.ops[0]),f.ops=f.ops.concat(h.ops.slice(1))),f},d.prototype.diff=function(h,f){if(this.ops===h.ops)return new d;var p=[this,h].map(function(y){return y.map(function(_){if(_.insert!=null)return typeof _.insert=="string"?_.insert:u;var S=y===h?"on":"with";throw new Error("diff() called "+S+" non-document")}).join("")}),w=new d,v=a(p[0],p[1],f),b=c.iterator(this.ops),g=c.iterator(h.ops);return v.forEach(function(y){for(var _=y[1].length;_>0;){var S=0;switch(y[0]){case a.INSERT:S=Math.min(g.peekLength(),_),w.push(g.next(S));break;case a.DELETE:S=Math.min(_,b.peekLength()),b.next(S),w.delete(S);break;case a.EQUAL:S=Math.min(b.peekLength(),g.peekLength(),_);var N=b.next(S),R=g.next(S);s(N.insert,R.insert)?w.retain(S,c.attributes.diff(N.attributes,R.attributes)):w.push(R).delete(S);break}_-=S}}),w.chop()},d.prototype.eachLine=function(h,f){f=f||`
`;for(var p=c.iterator(this.ops),w=new d,v=0;p.hasNext();){if(p.peekType()!=="insert")return;var b=p.peek(),g=c.length(b)-p.peekLength(),y=typeof b.insert=="string"?b.insert.indexOf(f,g)-g:-1;if(y<0)w.push(p.next());else if(y>0)w.push(p.next(y));else{if(h(w,p.next(1).attributes||{},v)===!1)return;v+=1,w=new d}}w.length()>0&&h(w,{},v)},d.prototype.transform=function(h,f){if(f=!!f,typeof h=="number")return this.transformPosition(h,f);for(var p=c.iterator(this.ops),w=c.iterator(h.ops),v=new d;p.hasNext()||w.hasNext();)if(p.peekType()==="insert"&&(f||w.peekType()!=="insert"))v.retain(c.length(p.next()));else if(w.peekType()==="insert")v.push(w.next());else{var b=Math.min(p.peekLength(),w.peekLength()),g=p.next(b),y=w.next(b);if(g.delete)continue;y.delete?v.push(y):v.retain(b,c.attributes.transform(g.attributes,y.attributes,f))}return v.chop()},d.prototype.transformPosition=function(h,f){f=!!f;for(var p=c.iterator(this.ops),w=0;p.hasNext()&&w<=h;){var v=p.peekLength(),b=p.peekType();if(p.next(),b==="delete"){h-=Math.min(v,h-w);continue}else b==="insert"&&(w<h||!f)&&(h+=v);w+=v}return h},n.exports=d},function(n,i){var r=Object.prototype.hasOwnProperty,a=Object.prototype.toString,s=Object.defineProperty,o=Object.getOwnPropertyDescriptor,c=function(p){return typeof Array.isArray=="function"?Array.isArray(p):a.call(p)==="[object Array]"},u=function(p){if(!p||a.call(p)!=="[object Object]")return!1;var w=r.call(p,"constructor"),v=p.constructor&&p.constructor.prototype&&r.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!w&&!v)return!1;var b;for(b in p);return typeof b>"u"||r.call(p,b)},d=function(p,w){s&&w.name==="__proto__"?s(p,w.name,{enumerable:!0,configurable:!0,value:w.newValue,writable:!0}):p[w.name]=w.newValue},h=function(p,w){if(w==="__proto__")if(r.call(p,w)){if(o)return o(p,w).value}else return;return p[w]};n.exports=function f(){var p,w,v,b,g,y,_=arguments[0],S=1,N=arguments.length,R=!1;for(typeof _=="boolean"&&(R=_,_=arguments[1]||{},S=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});S<N;++S)if(p=arguments[S],p!=null)for(w in p)v=h(_,w),b=h(p,w),_!==b&&(R&&b&&(u(b)||(g=c(b)))?(g?(g=!1,y=v&&c(v)?v:[]):y=v&&u(v)?v:{},d(_,{name:w,newValue:f(R,y,b)})):typeof b<"u"&&d(_,{name:w,newValue:b}));return _}},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.BlockEmbed=i.bubbleFormats=void 0;var a=function(){function k(A,I){for(var T=0;T<I.length;T++){var z=I[T];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(A,z.key,z)}}return function(A,I,T){return I&&k(A.prototype,I),T&&k(A,T),A}}(),s=function k(A,I,T){A===null&&(A=Function.prototype);var z=Object.getOwnPropertyDescriptor(A,I);if(z===void 0){var j=Object.getPrototypeOf(A);return j===null?void 0:k(j,I,T)}else{if("value"in z)return z.value;var W=z.get;return W===void 0?void 0:W.call(T)}},o=r(3),c=_(o),u=r(2),d=_(u),h=r(0),f=_(h),p=r(16),w=_(p),v=r(6),b=_(v),g=r(7),y=_(g);function _(k){return k&&k.__esModule?k:{default:k}}function S(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")}function N(k,A){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:k}function R(k,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);k.prototype=Object.create(A&&A.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(k,A):k.__proto__=A)}var D=1,E=function(k){R(A,k);function A(){return S(this,A),N(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return a(A,[{key:"attach",value:function(){s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"attach",this).call(this),this.attributes=new f.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new d.default().insert(this.value(),(0,c.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(T,z){var j=f.default.query(T,f.default.Scope.BLOCK_ATTRIBUTE);j!=null&&this.attributes.attribute(j,z)}},{key:"formatAt",value:function(T,z,j,W){this.format(j,W)}},{key:"insertAt",value:function(T,z,j){if(typeof z=="string"&&z.endsWith(`
`)){var W=f.default.create(C.blotName);this.parent.insertBefore(W,T===0?this:this.next),W.insertAt(0,z.slice(0,-1))}else s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,T,z,j)}}]),A}(f.default.Embed);E.scope=f.default.Scope.BLOCK_BLOT;var C=function(k){R(A,k);function A(I){S(this,A);var T=N(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,I));return T.cache={},T}return a(A,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(f.default.Leaf).reduce(function(T,z){return z.length()===0?T:T.insert(z.value(),P(z))},new d.default).insert(`
`,P(this))),this.cache.delta}},{key:"deleteAt",value:function(T,z){s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"deleteAt",this).call(this,T,z),this.cache={}}},{key:"formatAt",value:function(T,z,j,W){z<=0||(f.default.query(j,f.default.Scope.BLOCK)?T+z===this.length()&&this.format(j,W):s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"formatAt",this).call(this,T,Math.min(z,this.length()-T-1),j,W),this.cache={})}},{key:"insertAt",value:function(T,z,j){if(j!=null)return s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,T,z,j);if(z.length!==0){var W=z.split(`
`),$=W.shift();$.length>0&&(T<this.length()-1||this.children.tail==null?s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertAt",this).call(this,Math.min(T,this.length()-1),$):this.children.tail.insertAt(this.children.tail.length(),$),this.cache={});var q=this;W.reduce(function(G,B){return q=q.split(G,!0),q.insertAt(0,B),B.length},T+$.length)}}},{key:"insertBefore",value:function(T,z){var j=this.children.head;s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"insertBefore",this).call(this,T,z),j instanceof w.default&&j.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"length",this).call(this)+D),this.cache.length}},{key:"moveChildren",value:function(T,z){s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"moveChildren",this).call(this,T,z),this.cache={}}},{key:"optimize",value:function(T){s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,T),this.cache={}}},{key:"path",value:function(T){return s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"path",this).call(this,T,!0)}},{key:"removeChild",value:function(T){s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"removeChild",this).call(this,T),this.cache={}}},{key:"split",value:function(T){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(z&&(T===0||T>=this.length()-D)){var j=this.clone();return T===0?(this.parent.insertBefore(j,this),this):(this.parent.insertBefore(j,this.next),j)}else{var W=s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"split",this).call(this,T,z);return this.cache={},W}}}]),A}(f.default.Block);C.blotName="block",C.tagName="P",C.defaultChild="break",C.allowedChildren=[b.default,f.default.Embed,y.default];function P(k){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return k==null||(typeof k.formats=="function"&&(A=(0,c.default)(A,k.formats())),k.parent==null||k.parent.blotName=="scroll"||k.parent.statics.scope!==k.statics.scope)?A:P(k.parent,A)}i.bubbleFormats=P,i.BlockEmbed=E,i.default=C},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.overload=i.expandConfig=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},s=function(){function q(G,B){var L=[],M=!0,K=!1,Q=void 0;try{for(var V=G[Symbol.iterator](),le;!(M=(le=V.next()).done)&&(L.push(le.value),!(B&&L.length===B));M=!0);}catch(ge){K=!0,Q=ge}finally{try{!M&&V.return&&V.return()}finally{if(K)throw Q}}return L}return function(G,B){if(Array.isArray(G))return G;if(Symbol.iterator in Object(G))return q(G,B);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function q(G,B){for(var L=0;L<B.length;L++){var M=B[L];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(G,M.key,M)}}return function(G,B,L){return B&&q(G.prototype,B),L&&q(G,L),G}}();r(50);var c=r(2),u=P(c),d=r(14),h=P(d),f=r(8),p=P(f),w=r(9),v=P(w),b=r(0),g=P(b),y=r(15),_=P(y),S=r(3),N=P(S),R=r(10),D=P(R),E=r(34),C=P(E);function P(q){return q&&q.__esModule?q:{default:q}}function k(q,G,B){return G in q?Object.defineProperty(q,G,{value:B,enumerable:!0,configurable:!0,writable:!0}):q[G]=B,q}function A(q,G){if(!(q instanceof G))throw new TypeError("Cannot call a class as a function")}var I=(0,D.default)("quill"),T=function(){o(q,null,[{key:"debug",value:function(B){B===!0&&(B="log"),D.default.level(B)}},{key:"find",value:function(B){return B.__quill||g.default.find(B)}},{key:"import",value:function(B){return this.imports[B]==null&&I.error("Cannot import "+B+". Are you sure it was registered?"),this.imports[B]}},{key:"register",value:function(B,L){var M=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof B!="string"){var Q=B.attrName||B.blotName;typeof Q=="string"?this.register("formats/"+Q,B,L):Object.keys(B).forEach(function(V){M.register(V,B[V],L)})}else this.imports[B]!=null&&!K&&I.warn("Overwriting "+B+" with",L),this.imports[B]=L,(B.startsWith("blots/")||B.startsWith("formats/"))&&L.blotName!=="abstract"?g.default.register(L):B.startsWith("modules")&&typeof L.register=="function"&&L.register()}}]);function q(G){var B=this,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(A(this,q),this.options=z(G,L),this.container=this.options.container,this.container==null)return I.error("Invalid Quill container",G);this.options.debug&&q.debug(this.options.debug);var M=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=g.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new h.default(this.scroll),this.selection=new _.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(Q){Q===p.default.events.TEXT_CHANGE&&B.root.classList.toggle("ql-blank",B.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(Q,V){var le=B.selection.lastRange,ge=le&&le.length===0?le.index:void 0;j.call(B,function(){return B.editor.update(null,V,ge)},Q)});var K=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+M+"<p><br></p></div>");this.setContents(K),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return o(q,[{key:"addContainer",value:function(B){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof B=="string"){var M=B;B=document.createElement("div"),B.classList.add(M)}return this.container.insertBefore(B,L),B}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(B,L,M){var K=this,Q=W(B,L,M),V=s(Q,4);return B=V[0],L=V[1],M=V[3],j.call(this,function(){return K.editor.deleteText(B,L)},M,B,-1*L)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(B),this.container.classList.toggle("ql-disabled",!B)}},{key:"focus",value:function(){var B=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=B,this.scrollIntoView()}},{key:"format",value:function(B,L){var M=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return j.call(this,function(){var Q=M.getSelection(!0),V=new u.default;if(Q==null)return V;if(g.default.query(B,g.default.Scope.BLOCK))V=M.editor.formatLine(Q.index,Q.length,k({},B,L));else{if(Q.length===0)return M.selection.format(B,L),V;V=M.editor.formatText(Q.index,Q.length,k({},B,L))}return M.setSelection(Q,p.default.sources.SILENT),V},K)}},{key:"formatLine",value:function(B,L,M,K,Q){var V=this,le=void 0,ge=W(B,L,M,K,Q),ye=s(ge,4);return B=ye[0],L=ye[1],le=ye[2],Q=ye[3],j.call(this,function(){return V.editor.formatLine(B,L,le)},Q,B,0)}},{key:"formatText",value:function(B,L,M,K,Q){var V=this,le=void 0,ge=W(B,L,M,K,Q),ye=s(ge,4);return B=ye[0],L=ye[1],le=ye[2],Q=ye[3],j.call(this,function(){return V.editor.formatText(B,L,le)},Q,B,0)}},{key:"getBounds",value:function(B){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,M=void 0;typeof B=="number"?M=this.selection.getBounds(B,L):M=this.selection.getBounds(B.index,B.length);var K=this.container.getBoundingClientRect();return{bottom:M.bottom-K.top,height:M.height,left:M.left-K.left,right:M.right-K.left,top:M.top-K.top,width:M.width}}},{key:"getContents",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-B,M=W(B,L),K=s(M,2);return B=K[0],L=K[1],this.editor.getContents(B,L)}},{key:"getFormat",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof B=="number"?this.editor.getFormat(B,L):this.editor.getFormat(B.index,B.length)}},{key:"getIndex",value:function(B){return B.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(B){return this.scroll.leaf(B)}},{key:"getLine",value:function(B){return this.scroll.line(B)}},{key:"getLines",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof B!="number"?this.scroll.lines(B.index,B.length):this.scroll.lines(B,L)}},{key:"getModule",value:function(B){return this.theme.modules[B]}},{key:"getSelection",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return B&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-B,M=W(B,L),K=s(M,2);return B=K[0],L=K[1],this.editor.getText(B,L)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(B,L,M){var K=this,Q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:q.sources.API;return j.call(this,function(){return K.editor.insertEmbed(B,L,M)},Q,B)}},{key:"insertText",value:function(B,L,M,K,Q){var V=this,le=void 0,ge=W(B,0,M,K,Q),ye=s(ge,4);return B=ye[0],le=ye[2],Q=ye[3],j.call(this,function(){return V.editor.insertText(B,L,le)},Q,B,L.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(B,L,M){this.clipboard.dangerouslyPasteHTML(B,L,M)}},{key:"removeFormat",value:function(B,L,M){var K=this,Q=W(B,L,M),V=s(Q,4);return B=V[0],L=V[1],M=V[3],j.call(this,function(){return K.editor.removeFormat(B,L)},M,B)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(B){var L=this,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return j.call(this,function(){B=new u.default(B);var K=L.getLength(),Q=L.editor.deleteText(0,K),V=L.editor.applyDelta(B),le=V.ops[V.ops.length-1];le!=null&&typeof le.insert=="string"&&le.insert[le.insert.length-1]===`
`&&(L.editor.deleteText(L.getLength()-1,1),V.delete(1));var ge=Q.compose(V);return ge},M)}},{key:"setSelection",value:function(B,L,M){if(B==null)this.selection.setRange(null,L||q.sources.API);else{var K=W(B,L,M),Q=s(K,4);B=Q[0],L=Q[1],M=Q[3],this.selection.setRange(new y.Range(B,L),M),M!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(B){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,M=new u.default().insert(B);return this.setContents(M,L)}},{key:"update",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,L=this.scroll.update(B);return this.selection.update(B),L}},{key:"updateContents",value:function(B){var L=this,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return j.call(this,function(){return B=new u.default(B),L.editor.applyDelta(B,M)},M,!0)}}]),q}();T.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},T.events=p.default.events,T.sources=p.default.sources,T.version="1.3.7",T.imports={delta:u.default,parchment:g.default,"core/module":v.default,"core/theme":C.default};function z(q,G){if(G=(0,N.default)(!0,{container:q,modules:{clipboard:!0,keyboard:!0,history:!0}},G),!G.theme||G.theme===T.DEFAULTS.theme)G.theme=C.default;else if(G.theme=T.import("themes/"+G.theme),G.theme==null)throw new Error("Invalid theme "+G.theme+". Did you register it?");var B=(0,N.default)(!0,{},G.theme.DEFAULTS);[B,G].forEach(function(K){K.modules=K.modules||{},Object.keys(K.modules).forEach(function(Q){K.modules[Q]===!0&&(K.modules[Q]={})})});var L=Object.keys(B.modules).concat(Object.keys(G.modules)),M=L.reduce(function(K,Q){var V=T.import("modules/"+Q);return V==null?I.error("Cannot load "+Q+" module. Are you sure you registered it?"):K[Q]=V.DEFAULTS||{},K},{});return G.modules!=null&&G.modules.toolbar&&G.modules.toolbar.constructor!==Object&&(G.modules.toolbar={container:G.modules.toolbar}),G=(0,N.default)(!0,{},T.DEFAULTS,{modules:M},B,G),["bounds","container","scrollingContainer"].forEach(function(K){typeof G[K]=="string"&&(G[K]=document.querySelector(G[K]))}),G.modules=Object.keys(G.modules).reduce(function(K,Q){return G.modules[Q]&&(K[Q]=G.modules[Q]),K},{}),G}function j(q,G,B,L){if(this.options.strict&&!this.isEnabled()&&G===p.default.sources.USER)return new u.default;var M=B==null?null:this.getSelection(),K=this.editor.delta,Q=q();if(M!=null&&(B===!0&&(B=M.index),L==null?M=$(M,Q,G):L!==0&&(M=$(M,B,L,G)),this.setSelection(M,p.default.sources.SILENT)),Q.length()>0){var V,le=[p.default.events.TEXT_CHANGE,Q,K,G];if((V=this.emitter).emit.apply(V,[p.default.events.EDITOR_CHANGE].concat(le)),G!==p.default.sources.SILENT){var ge;(ge=this.emitter).emit.apply(ge,le)}}return Q}function W(q,G,B,L,M){var K={};return typeof q.index=="number"&&typeof q.length=="number"?typeof G!="number"?(M=L,L=B,B=G,G=q.length,q=q.index):(G=q.length,q=q.index):typeof G!="number"&&(M=L,L=B,B=G,G=0),(typeof B>"u"?"undefined":a(B))==="object"?(K=B,M=L):typeof B=="string"&&(L!=null?K[B]=L:M=B),M=M||p.default.sources.API,[q,G,K,M]}function $(q,G,B,L){if(q==null)return null;var M=void 0,K=void 0;if(G instanceof u.default){var Q=[q.index,q.index+q.length].map(function(ye){return G.transformPosition(ye,L!==p.default.sources.USER)}),V=s(Q,2);M=V[0],K=V[1]}else{var le=[q.index,q.index+q.length].map(function(ye){return ye<G||ye===G&&L===p.default.sources.USER?ye:B>=0?ye+B:Math.max(G,ye+B)}),ge=s(le,2);M=ge[0],K=ge[1]}return new y.Range(M,K-M)}i.expandConfig=z,i.overload=W,i.default=T},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function b(g,y){for(var _=0;_<y.length;_++){var S=y[_];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}return function(g,y,_){return y&&b(g.prototype,y),_&&b(g,_),g}}(),s=function b(g,y,_){g===null&&(g=Function.prototype);var S=Object.getOwnPropertyDescriptor(g,y);if(S===void 0){var N=Object.getPrototypeOf(g);return N===null?void 0:b(N,y,_)}else{if("value"in S)return S.value;var R=S.get;return R===void 0?void 0:R.call(_)}},o=r(7),c=h(o),u=r(0),d=h(u);function h(b){return b&&b.__esModule?b:{default:b}}function f(b,g){if(!(b instanceof g))throw new TypeError("Cannot call a class as a function")}function p(b,g){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:b}function w(b,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);b.prototype=Object.create(g&&g.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(b,g):b.__proto__=g)}var v=function(b){w(g,b);function g(){return f(this,g),p(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,[{key:"formatAt",value:function(_,S,N,R){if(g.compare(this.statics.blotName,N)<0&&d.default.query(N,d.default.Scope.BLOT)){var D=this.isolate(_,S);R&&D.wrap(N,R)}else s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"formatAt",this).call(this,_,S,N,R)}},{key:"optimize",value:function(_){if(s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"optimize",this).call(this,_),this.parent instanceof g&&g.compare(this.statics.blotName,this.parent.statics.blotName)>0){var S=this.parent.isolate(this.offset(),this.length());this.moveChildren(S),S.wrap(this)}}}],[{key:"compare",value:function(_,S){var N=g.order.indexOf(_),R=g.order.indexOf(S);return N>=0||R>=0?N-R:_===S?0:_<S?-1:1}}]),g}(d.default.Inline);v.allowedChildren=[v,d.default.Embed,c.default],v.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],i.default=v},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var a=r(0),s=o(a);function o(f){return f&&f.__esModule?f:{default:f}}function c(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function u(f,p){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:f}function d(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}var h=function(f){d(p,f);function p(){return c(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(s.default.Text);i.default=h},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function y(_,S){for(var N=0;N<S.length;N++){var R=S[N];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(_,R.key,R)}}return function(_,S,N){return S&&y(_.prototype,S),N&&y(_,N),_}}(),s=function y(_,S,N){_===null&&(_=Function.prototype);var R=Object.getOwnPropertyDescriptor(_,S);if(R===void 0){var D=Object.getPrototypeOf(_);return D===null?void 0:y(D,S,N)}else{if("value"in R)return R.value;var E=R.get;return E===void 0?void 0:E.call(N)}},o=r(54),c=h(o),u=r(10),d=h(u);function h(y){return y&&y.__esModule?y:{default:y}}function f(y,_){if(!(y instanceof _))throw new TypeError("Cannot call a class as a function")}function p(y,_){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:y}function w(y,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);y.prototype=Object.create(_&&_.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(y,_):y.__proto__=_)}var v=(0,d.default)("quill:events"),b=["selectionchange","mousedown","mouseup","click"];b.forEach(function(y){document.addEventListener(y,function(){for(var _=arguments.length,S=Array(_),N=0;N<_;N++)S[N]=arguments[N];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(R){if(R.__quill&&R.__quill.emitter){var D;(D=R.__quill.emitter).handleDOM.apply(D,S)}})})});var g=function(y){w(_,y);function _(){f(this,_);var S=p(this,(_.__proto__||Object.getPrototypeOf(_)).call(this));return S.listeners={},S.on("error",v.error),S}return a(_,[{key:"emit",value:function(){v.log.apply(v,arguments),s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(N){for(var R=arguments.length,D=Array(R>1?R-1:0),E=1;E<R;E++)D[E-1]=arguments[E];(this.listeners[N.type]||[]).forEach(function(C){var P=C.node,k=C.handler;(N.target===P||P.contains(N.target))&&k.apply(void 0,[N].concat(D))})}},{key:"listenDOM",value:function(N,R,D){this.listeners[N]||(this.listeners[N]=[]),this.listeners[N].push({node:R,handler:D})}}]),_}(c.default);g.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},g.sources={API:"api",SILENT:"silent",USER:"user"},i.default=g},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});function a(o,c){if(!(o instanceof c))throw new TypeError("Cannot call a class as a function")}var s=function o(c){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(this,o),this.quill=c,this.options=u};s.DEFAULTS={},i.default=s},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var a=["error","warn","log","info"],s="warn";function o(u){if(a.indexOf(u)<=a.indexOf(s)){for(var d,h=arguments.length,f=Array(h>1?h-1:0),p=1;p<h;p++)f[p-1]=arguments[p];(d=console)[u].apply(d,f)}}function c(u){return a.reduce(function(d,h){return d[h]=o.bind(console,h,u),d},{})}o.level=c.level=function(u){s=u},i.default=c},function(n,i,r){var a=Array.prototype.slice,s=r(52),o=r(53),c=n.exports=function(f,p,w){return w||(w={}),f===p?!0:f instanceof Date&&p instanceof Date?f.getTime()===p.getTime():!f||!p||typeof f!="object"&&typeof p!="object"?w.strict?f===p:f==p:h(f,p,w)};function u(f){return f==null}function d(f){return!(!f||typeof f!="object"||typeof f.length!="number"||typeof f.copy!="function"||typeof f.slice!="function"||f.length>0&&typeof f[0]!="number")}function h(f,p,w){var v,b;if(u(f)||u(p)||f.prototype!==p.prototype)return!1;if(o(f))return o(p)?(f=a.call(f),p=a.call(p),c(f,p,w)):!1;if(d(f)){if(!d(p)||f.length!==p.length)return!1;for(v=0;v<f.length;v++)if(f[v]!==p[v])return!1;return!0}try{var g=s(f),y=s(p)}catch{return!1}if(g.length!=y.length)return!1;for(g.sort(),y.sort(),v=g.length-1;v>=0;v--)if(g[v]!=y[v])return!1;for(v=g.length-1;v>=0;v--)if(b=g[v],!c(f[b],p[b],w))return!1;return typeof f==typeof p}},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var a=r(1),s=function(){function o(c,u,d){d===void 0&&(d={}),this.attrName=c,this.keyName=u;var h=a.Scope.TYPE&a.Scope.ATTRIBUTE;d.scope!=null?this.scope=d.scope&a.Scope.LEVEL|h:this.scope=a.Scope.ATTRIBUTE,d.whitelist!=null&&(this.whitelist=d.whitelist)}return o.keys=function(c){return[].map.call(c.attributes,function(u){return u.name})},o.prototype.add=function(c,u){return this.canAdd(c,u)?(c.setAttribute(this.keyName,u),!0):!1},o.prototype.canAdd=function(c,u){var d=a.query(c,a.Scope.BLOT&(this.scope|a.Scope.TYPE));return d==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},o.prototype.remove=function(c){c.removeAttribute(this.keyName)},o.prototype.value=function(c){var u=c.getAttribute(this.keyName);return this.canAdd(c,u)&&u?u:""},o}();i.default=s},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.Code=void 0;var a=function(){function E(C,P){var k=[],A=!0,I=!1,T=void 0;try{for(var z=C[Symbol.iterator](),j;!(A=(j=z.next()).done)&&(k.push(j.value),!(P&&k.length===P));A=!0);}catch(W){I=!0,T=W}finally{try{!A&&z.return&&z.return()}finally{if(I)throw T}}return k}return function(C,P){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return E(C,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function E(C,P){for(var k=0;k<P.length;k++){var A=P[k];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(C,A.key,A)}}return function(C,P,k){return P&&E(C.prototype,P),k&&E(C,k),C}}(),o=function E(C,P,k){C===null&&(C=Function.prototype);var A=Object.getOwnPropertyDescriptor(C,P);if(A===void 0){var I=Object.getPrototypeOf(C);return I===null?void 0:E(I,P,k)}else{if("value"in A)return A.value;var T=A.get;return T===void 0?void 0:T.call(k)}},c=r(2),u=y(c),d=r(0),h=y(d),f=r(4),p=y(f),w=r(6),v=y(w),b=r(7),g=y(b);function y(E){return E&&E.__esModule?E:{default:E}}function _(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")}function S(E,C){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:E}function N(E,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);E.prototype=Object.create(C&&C.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(E,C):E.__proto__=C)}var R=function(E){N(C,E);function C(){return _(this,C),S(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return C}(v.default);R.blotName="code",R.tagName="CODE";var D=function(E){N(C,E);function C(){return _(this,C),S(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return s(C,[{key:"delta",value:function(){var k=this,A=this.domNode.textContent;return A.endsWith(`
`)&&(A=A.slice(0,-1)),A.split(`
`).reduce(function(I,T){return I.insert(T).insert(`
`,k.formats())},new u.default)}},{key:"format",value:function(k,A){if(!(k===this.statics.blotName&&A)){var I=this.descendant(g.default,this.length()-1),T=a(I,1),z=T[0];z!=null&&z.deleteAt(z.length()-1,1),o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"format",this).call(this,k,A)}}},{key:"formatAt",value:function(k,A,I,T){if(A!==0&&!(h.default.query(I,h.default.Scope.BLOCK)==null||I===this.statics.blotName&&T===this.statics.formats(this.domNode))){var z=this.newlineIndex(k);if(!(z<0||z>=k+A)){var j=this.newlineIndex(k,!0)+1,W=z-j+1,$=this.isolate(j,W),q=$.next;$.format(I,T),q instanceof C&&q.formatAt(0,k-j+A-W,I,T)}}}},{key:"insertAt",value:function(k,A,I){if(I==null){var T=this.descendant(g.default,k),z=a(T,2),j=z[0],W=z[1];j.insertAt(W,A)}}},{key:"length",value:function(){var k=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?k:k+1}},{key:"newlineIndex",value:function(k){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(A)return this.domNode.textContent.slice(0,k).lastIndexOf(`
`);var I=this.domNode.textContent.slice(k).indexOf(`
`);return I>-1?k+I:-1}},{key:"optimize",value:function(k){this.domNode.textContent.endsWith(`
`)||this.appendChild(h.default.create("text",`
`)),o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"optimize",this).call(this,k);var A=this.next;A!=null&&A.prev===this&&A.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===A.statics.formats(A.domNode)&&(A.optimize(k),A.moveChildren(this),A.remove())}},{key:"replace",value:function(k){o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"replace",this).call(this,k),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(A){var I=h.default.find(A);I==null?A.parentNode.removeChild(A):I instanceof h.default.Embed?I.remove():I.unwrap()})}}],[{key:"create",value:function(k){var A=o(C.__proto__||Object.getPrototypeOf(C),"create",this).call(this,k);return A.setAttribute("spellcheck",!1),A}},{key:"formats",value:function(){return!0}}]),C}(p.default);D.blotName="code-block",D.tagName="PRE",D.TAB="  ",i.Code=R,i.default=D},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},s=function(){function q(G,B){var L=[],M=!0,K=!1,Q=void 0;try{for(var V=G[Symbol.iterator](),le;!(M=(le=V.next()).done)&&(L.push(le.value),!(B&&L.length===B));M=!0);}catch(ge){K=!0,Q=ge}finally{try{!M&&V.return&&V.return()}finally{if(K)throw Q}}return L}return function(G,B){if(Array.isArray(G))return G;if(Symbol.iterator in Object(G))return q(G,B);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function q(G,B){for(var L=0;L<B.length;L++){var M=B[L];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(G,M.key,M)}}return function(G,B,L){return B&&q(G.prototype,B),L&&q(G,L),G}}(),c=r(2),u=A(c),d=r(20),h=A(d),f=r(0),p=A(f),w=r(13),v=A(w),b=r(24),g=A(b),y=r(4),_=A(y),S=r(16),N=A(S),R=r(21),D=A(R),E=r(11),C=A(E),P=r(3),k=A(P);function A(q){return q&&q.__esModule?q:{default:q}}function I(q,G,B){return G in q?Object.defineProperty(q,G,{value:B,enumerable:!0,configurable:!0,writable:!0}):q[G]=B,q}function T(q,G){if(!(q instanceof G))throw new TypeError("Cannot call a class as a function")}var z=/^[ -~]*$/,j=function(){function q(G){T(this,q),this.scroll=G,this.delta=this.getDelta()}return o(q,[{key:"applyDelta",value:function(B){var L=this,M=!1;this.scroll.update();var K=this.scroll.length();return this.scroll.batchStart(),B=$(B),B.reduce(function(Q,V){var le=V.retain||V.delete||V.insert.length||1,ge=V.attributes||{};if(V.insert!=null){if(typeof V.insert=="string"){var ye=V.insert;ye.endsWith(`
`)&&M&&(M=!1,ye=ye.slice(0,-1)),Q>=K&&!ye.endsWith(`
`)&&(M=!0),L.scroll.insertAt(Q,ye);var be=L.scroll.line(Q),Le=s(be,2),ue=Le[0],ke=Le[1],X=(0,k.default)({},(0,y.bubbleFormats)(ue));if(ue instanceof _.default){var re=ue.descendant(p.default.Leaf,ke),Ee=s(re,1),ne=Ee[0];X=(0,k.default)(X,(0,y.bubbleFormats)(ne))}ge=h.default.attributes.diff(X,ge)||{}}else if(a(V.insert)==="object"){var te=Object.keys(V.insert)[0];if(te==null)return Q;L.scroll.insertAt(Q,te,V.insert[te])}K+=le}return Object.keys(ge).forEach(function(ae){L.scroll.formatAt(Q,le,ae,ge[ae])}),Q+le},0),B.reduce(function(Q,V){return typeof V.delete=="number"?(L.scroll.deleteAt(Q,V.delete),Q):Q+(V.retain||V.insert.length||1)},0),this.scroll.batchEnd(),this.update(B)}},{key:"deleteText",value:function(B,L){return this.scroll.deleteAt(B,L),this.update(new u.default().retain(B).delete(L))}},{key:"formatLine",value:function(B,L){var M=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(K).forEach(function(Q){if(!(M.scroll.whitelist!=null&&!M.scroll.whitelist[Q])){var V=M.scroll.lines(B,Math.max(L,1)),le=L;V.forEach(function(ge){var ye=ge.length();if(!(ge instanceof v.default))ge.format(Q,K[Q]);else{var be=B-ge.offset(M.scroll),Le=ge.newlineIndex(be+le)-be+1;ge.formatAt(be,Le,Q,K[Q])}le-=ye})}}),this.scroll.optimize(),this.update(new u.default().retain(B).retain(L,(0,D.default)(K)))}},{key:"formatText",value:function(B,L){var M=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(K).forEach(function(Q){M.scroll.formatAt(B,L,Q,K[Q])}),this.update(new u.default().retain(B).retain(L,(0,D.default)(K)))}},{key:"getContents",value:function(B,L){return this.delta.slice(B,B+L)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(B,L){return B.concat(L.delta())},new u.default)}},{key:"getFormat",value:function(B){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,M=[],K=[];L===0?this.scroll.path(B).forEach(function(V){var le=s(V,1),ge=le[0];ge instanceof _.default?M.push(ge):ge instanceof p.default.Leaf&&K.push(ge)}):(M=this.scroll.lines(B,L),K=this.scroll.descendants(p.default.Leaf,B,L));var Q=[M,K].map(function(V){if(V.length===0)return{};for(var le=(0,y.bubbleFormats)(V.shift());Object.keys(le).length>0;){var ge=V.shift();if(ge==null)return le;le=W((0,y.bubbleFormats)(ge),le)}return le});return k.default.apply(k.default,Q)}},{key:"getText",value:function(B,L){return this.getContents(B,L).filter(function(M){return typeof M.insert=="string"}).map(function(M){return M.insert}).join("")}},{key:"insertEmbed",value:function(B,L,M){return this.scroll.insertAt(B,L,M),this.update(new u.default().retain(B).insert(I({},L,M)))}},{key:"insertText",value:function(B,L){var M=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return L=L.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(B,L),Object.keys(K).forEach(function(Q){M.scroll.formatAt(B,L.length,Q,K[Q])}),this.update(new u.default().retain(B).insert(L,(0,D.default)(K)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var B=this.scroll.children.head;return B.statics.blotName!==_.default.blotName||B.children.length>1?!1:B.children.head instanceof N.default}},{key:"removeFormat",value:function(B,L){var M=this.getText(B,L),K=this.scroll.line(B+L),Q=s(K,2),V=Q[0],le=Q[1],ge=0,ye=new u.default;V!=null&&(V instanceof v.default?ge=V.newlineIndex(le)-le+1:ge=V.length()-le,ye=V.delta().slice(le,le+ge-1).insert(`
`));var be=this.getContents(B,L+ge),Le=be.diff(new u.default().insert(M).concat(ye)),ue=new u.default().retain(B).concat(Le);return this.applyDelta(ue)}},{key:"update",value:function(B){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,K=this.delta;if(L.length===1&&L[0].type==="characterData"&&L[0].target.data.match(z)&&p.default.find(L[0].target)){var Q=p.default.find(L[0].target),V=(0,y.bubbleFormats)(Q),le=Q.offset(this.scroll),ge=L[0].oldValue.replace(g.default.CONTENTS,""),ye=new u.default().insert(ge),be=new u.default().insert(Q.value()),Le=new u.default().retain(le).concat(ye.diff(be,M));B=Le.reduce(function(ue,ke){return ke.insert?ue.insert(ke.insert,V):ue.push(ke)},new u.default),this.delta=K.compose(B)}else this.delta=this.getDelta(),(!B||!(0,C.default)(K.compose(B),this.delta))&&(B=K.diff(this.delta,M));return B}}]),q}();function W(q,G){return Object.keys(G).reduce(function(B,L){return q[L]==null||(G[L]===q[L]?B[L]=G[L]:Array.isArray(G[L])?G[L].indexOf(q[L])<0&&(B[L]=G[L].concat([q[L]])):B[L]=[G[L],q[L]]),B},{})}function $(q){return q.reduce(function(G,B){if(B.insert===1){var L=(0,D.default)(B.attributes);return delete L.image,G.insert({image:B.attributes.image},L)}if(B.attributes!=null&&(B.attributes.list===!0||B.attributes.bullet===!0)&&(B=(0,D.default)(B),B.attributes.list?B.attributes.list="ordered":(B.attributes.list="bullet",delete B.attributes.bullet)),typeof B.insert=="string"){var M=B.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return G.insert(M,B.attributes)}return G.push(B)},new u.default)}i.default=j},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.Range=void 0;var a=function(){function E(C,P){var k=[],A=!0,I=!1,T=void 0;try{for(var z=C[Symbol.iterator](),j;!(A=(j=z.next()).done)&&(k.push(j.value),!(P&&k.length===P));A=!0);}catch(W){I=!0,T=W}finally{try{!A&&z.return&&z.return()}finally{if(I)throw T}}return k}return function(C,P){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return E(C,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function E(C,P){for(var k=0;k<P.length;k++){var A=P[k];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(C,A.key,A)}}return function(C,P,k){return P&&E(C.prototype,P),k&&E(C,k),C}}(),o=r(0),c=g(o),u=r(21),d=g(u),h=r(11),f=g(h),p=r(8),w=g(p),v=r(10),b=g(v);function g(E){return E&&E.__esModule?E:{default:E}}function y(E){if(Array.isArray(E)){for(var C=0,P=Array(E.length);C<E.length;C++)P[C]=E[C];return P}else return Array.from(E)}function _(E,C){if(!(E instanceof C))throw new TypeError("Cannot call a class as a function")}var S=(0,b.default)("quill:selection"),N=function E(C){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;_(this,E),this.index=C,this.length=P},R=function(){function E(C,P){var k=this;_(this,E),this.emitter=P,this.scroll=C,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=c.default.create("cursor",this),this.lastRange=this.savedRange=new N(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){k.mouseDown||setTimeout(k.update.bind(k,w.default.sources.USER),1)}),this.emitter.on(w.default.events.EDITOR_CHANGE,function(A,I){A===w.default.events.TEXT_CHANGE&&I.length()>0&&k.update(w.default.sources.SILENT)}),this.emitter.on(w.default.events.SCROLL_BEFORE_UPDATE,function(){if(k.hasFocus()){var A=k.getNativeRange();A!=null&&A.start.node!==k.cursor.textNode&&k.emitter.once(w.default.events.SCROLL_UPDATE,function(){try{k.setNativeRange(A.start.node,A.start.offset,A.end.node,A.end.offset)}catch{}})}}),this.emitter.on(w.default.events.SCROLL_OPTIMIZE,function(A,I){if(I.range){var T=I.range,z=T.startNode,j=T.startOffset,W=T.endNode,$=T.endOffset;k.setNativeRange(z,j,W,$)}}),this.update(w.default.sources.SILENT)}return s(E,[{key:"handleComposition",value:function(){var P=this;this.root.addEventListener("compositionstart",function(){P.composing=!0}),this.root.addEventListener("compositionend",function(){if(P.composing=!1,P.cursor.parent){var k=P.cursor.restore();if(!k)return;setTimeout(function(){P.setNativeRange(k.startNode,k.startOffset,k.endNode,k.endOffset)},1)}})}},{key:"handleDragging",value:function(){var P=this;this.emitter.listenDOM("mousedown",document.body,function(){P.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){P.mouseDown=!1,P.update(w.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(P,k){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[P])){this.scroll.update();var A=this.getNativeRange();if(!(A==null||!A.native.collapsed||c.default.query(P,c.default.Scope.BLOCK))){if(A.start.node!==this.cursor.textNode){var I=c.default.find(A.start.node,!1);if(I==null)return;if(I instanceof c.default.Leaf){var T=I.split(A.start.offset);I.parent.insertBefore(this.cursor,T)}else I.insertBefore(this.cursor,A.start.node);this.cursor.attach()}this.cursor.format(P,k),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(P){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,A=this.scroll.length();P=Math.min(P,A-1),k=Math.min(P+k,A-1)-P;var I=void 0,T=this.scroll.leaf(P),z=a(T,2),j=z[0],W=z[1];if(j==null)return null;var $=j.position(W,!0),q=a($,2);I=q[0],W=q[1];var G=document.createRange();if(k>0){G.setStart(I,W);var B=this.scroll.leaf(P+k),L=a(B,2);if(j=L[0],W=L[1],j==null)return null;var M=j.position(W,!0),K=a(M,2);return I=K[0],W=K[1],G.setEnd(I,W),G.getBoundingClientRect()}else{var Q="left",V=void 0;return I instanceof Text?(W<I.data.length?(G.setStart(I,W),G.setEnd(I,W+1)):(G.setStart(I,W-1),G.setEnd(I,W),Q="right"),V=G.getBoundingClientRect()):(V=j.domNode.getBoundingClientRect(),W>0&&(Q="right")),{bottom:V.top+V.height,height:V.height,left:V[Q],right:V[Q],top:V.top,width:0}}}},{key:"getNativeRange",value:function(){var P=document.getSelection();if(P==null||P.rangeCount<=0)return null;var k=P.getRangeAt(0);if(k==null)return null;var A=this.normalizeNative(k);return S.info("getNativeRange",A),A}},{key:"getRange",value:function(){var P=this.getNativeRange();if(P==null)return[null,null];var k=this.normalizedToRange(P);return[k,P]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(P){var k=this,A=[[P.start.node,P.start.offset]];P.native.collapsed||A.push([P.end.node,P.end.offset]);var I=A.map(function(j){var W=a(j,2),$=W[0],q=W[1],G=c.default.find($,!0),B=G.offset(k.scroll);return q===0?B:G instanceof c.default.Container?B+G.length():B+G.index($,q)}),T=Math.min(Math.max.apply(Math,y(I)),this.scroll.length()-1),z=Math.min.apply(Math,[T].concat(y(I)));return new N(z,T-z)}},{key:"normalizeNative",value:function(P){if(!D(this.root,P.startContainer)||!P.collapsed&&!D(this.root,P.endContainer))return null;var k={start:{node:P.startContainer,offset:P.startOffset},end:{node:P.endContainer,offset:P.endOffset},native:P};return[k.start,k.end].forEach(function(A){for(var I=A.node,T=A.offset;!(I instanceof Text)&&I.childNodes.length>0;)if(I.childNodes.length>T)I=I.childNodes[T],T=0;else if(I.childNodes.length===T)I=I.lastChild,T=I instanceof Text?I.data.length:I.childNodes.length+1;else break;A.node=I,A.offset=T}),k}},{key:"rangeToNative",value:function(P){var k=this,A=P.collapsed?[P.index]:[P.index,P.index+P.length],I=[],T=this.scroll.length();return A.forEach(function(z,j){z=Math.min(T-1,z);var W=void 0,$=k.scroll.leaf(z),q=a($,2),G=q[0],B=q[1],L=G.position(B,j!==0),M=a(L,2);W=M[0],B=M[1],I.push(W,B)}),I.length<2&&(I=I.concat(I)),I}},{key:"scrollIntoView",value:function(P){var k=this.lastRange;if(k!=null){var A=this.getBounds(k.index,k.length);if(A!=null){var I=this.scroll.length()-1,T=this.scroll.line(Math.min(k.index,I)),z=a(T,1),j=z[0],W=j;if(k.length>0){var $=this.scroll.line(Math.min(k.index+k.length,I)),q=a($,1);W=q[0]}if(!(j==null||W==null)){var G=P.getBoundingClientRect();A.top<G.top?P.scrollTop-=G.top-A.top:A.bottom>G.bottom&&(P.scrollTop+=A.bottom-G.bottom)}}}}},{key:"setNativeRange",value:function(P,k){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:P,I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:k,T=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(S.info("setNativeRange",P,k,A,I),!(P!=null&&(this.root.parentNode==null||P.parentNode==null||A.parentNode==null))){var z=document.getSelection();if(z!=null)if(P!=null){this.hasFocus()||this.root.focus();var j=(this.getNativeRange()||{}).native;if(j==null||T||P!==j.startContainer||k!==j.startOffset||A!==j.endContainer||I!==j.endOffset){P.tagName=="BR"&&(k=[].indexOf.call(P.parentNode.childNodes,P),P=P.parentNode),A.tagName=="BR"&&(I=[].indexOf.call(A.parentNode.childNodes,A),A=A.parentNode);var W=document.createRange();W.setStart(P,k),W.setEnd(A,I),z.removeAllRanges(),z.addRange(W)}}else z.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(P){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:w.default.sources.API;if(typeof k=="string"&&(A=k,k=!1),S.info("setRange",P),P!=null){var I=this.rangeToNative(P);this.setNativeRange.apply(this,y(I).concat([k]))}else this.setNativeRange(null);this.update(A)}},{key:"update",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:w.default.sources.USER,k=this.lastRange,A=this.getRange(),I=a(A,2),T=I[0],z=I[1];if(this.lastRange=T,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,f.default)(k,this.lastRange)){var j;!this.composing&&z!=null&&z.native.collapsed&&z.start.node!==this.cursor.textNode&&this.cursor.restore();var W=[w.default.events.SELECTION_CHANGE,(0,d.default)(this.lastRange),(0,d.default)(k),P];if((j=this.emitter).emit.apply(j,[w.default.events.EDITOR_CHANGE].concat(W)),P!==w.default.sources.SILENT){var $;($=this.emitter).emit.apply($,W)}}}}]),E}();function D(E,C){try{C.parentNode}catch{return!1}return C instanceof Text&&(C=C.parentNode),E.contains(C)}i.Range=N,i.default=R},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function w(v,b){for(var g=0;g<b.length;g++){var y=b[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(v,y.key,y)}}return function(v,b,g){return b&&w(v.prototype,b),g&&w(v,g),v}}(),s=function w(v,b,g){v===null&&(v=Function.prototype);var y=Object.getOwnPropertyDescriptor(v,b);if(y===void 0){var _=Object.getPrototypeOf(v);return _===null?void 0:w(_,b,g)}else{if("value"in y)return y.value;var S=y.get;return S===void 0?void 0:S.call(g)}},o=r(0),c=u(o);function u(w){return w&&w.__esModule?w:{default:w}}function d(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}function h(w,v){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:w}function f(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(w,v):w.__proto__=v)}var p=function(w){f(v,w);function v(){return d(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return a(v,[{key:"insertInto",value:function(g,y){g.children.length===0?s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"insertInto",this).call(this,g,y):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),v}(c.default.Embed);p.blotName="break",p.tagName="BR",i.default=p},function(n,i,r){var a=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var w in p)p.hasOwnProperty(w)&&(f[w]=p[w])};return function(f,p){h(f,p);function w(){this.constructor=f}f.prototype=p===null?Object.create(p):(w.prototype=p.prototype,new w)}}();Object.defineProperty(i,"__esModule",{value:!0});var s=r(44),o=r(30),c=r(1),u=function(h){a(f,h);function f(p){var w=h.call(this,p)||this;return w.build(),w}return f.prototype.appendChild=function(p){this.insertBefore(p)},f.prototype.attach=function(){h.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},f.prototype.build=function(){var p=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(w){try{var v=d(w);p.insertBefore(v,p.children.head||void 0)}catch(b){if(b instanceof c.ParchmentError)return;throw b}})},f.prototype.deleteAt=function(p,w){if(p===0&&w===this.length())return this.remove();this.children.forEachAt(p,w,function(v,b,g){v.deleteAt(b,g)})},f.prototype.descendant=function(p,w){var v=this.children.find(w),b=v[0],g=v[1];return p.blotName==null&&p(b)||p.blotName!=null&&b instanceof p?[b,g]:b instanceof f?b.descendant(p,g):[null,-1]},f.prototype.descendants=function(p,w,v){w===void 0&&(w=0),v===void 0&&(v=Number.MAX_VALUE);var b=[],g=v;return this.children.forEachAt(w,v,function(y,_,S){(p.blotName==null&&p(y)||p.blotName!=null&&y instanceof p)&&b.push(y),y instanceof f&&(b=b.concat(y.descendants(p,_,g))),g-=S}),b},f.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),h.prototype.detach.call(this)},f.prototype.formatAt=function(p,w,v,b){this.children.forEachAt(p,w,function(g,y,_){g.formatAt(y,_,v,b)})},f.prototype.insertAt=function(p,w,v){var b=this.children.find(p),g=b[0],y=b[1];if(g)g.insertAt(y,w,v);else{var _=v==null?c.create("text",w):c.create(w,v);this.appendChild(_)}},f.prototype.insertBefore=function(p,w){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(v){return p instanceof v}))throw new c.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,w)},f.prototype.length=function(){return this.children.reduce(function(p,w){return p+w.length()},0)},f.prototype.moveChildren=function(p,w){this.children.forEach(function(v){p.insertBefore(v,w)})},f.prototype.optimize=function(p){if(h.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var w=c.create(this.statics.defaultChild);this.appendChild(w),w.optimize(p)}else this.remove()},f.prototype.path=function(p,w){w===void 0&&(w=!1);var v=this.children.find(p,w),b=v[0],g=v[1],y=[[this,p]];return b instanceof f?y.concat(b.path(g,w)):(b!=null&&y.push([b,g]),y)},f.prototype.removeChild=function(p){this.children.remove(p)},f.prototype.replace=function(p){p instanceof f&&p.moveChildren(this),h.prototype.replace.call(this,p)},f.prototype.split=function(p,w){if(w===void 0&&(w=!1),!w){if(p===0)return this;if(p===this.length())return this.next}var v=this.clone();return this.parent.insertBefore(v,this.next),this.children.forEachAt(p,this.length(),function(b,g,y){b=b.split(g,w),v.appendChild(b)}),v},f.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},f.prototype.update=function(p,w){var v=this,b=[],g=[];p.forEach(function(y){y.target===v.domNode&&y.type==="childList"&&(b.push.apply(b,y.addedNodes),g.push.apply(g,y.removedNodes))}),g.forEach(function(y){if(!(y.parentNode!=null&&y.tagName!=="IFRAME"&&document.body.compareDocumentPosition(y)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var _=c.find(y);_!=null&&(_.domNode.parentNode==null||_.domNode.parentNode===v.domNode)&&_.detach()}}),b.filter(function(y){return y.parentNode==v.domNode}).sort(function(y,_){return y===_?0:y.compareDocumentPosition(_)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(y){var _=null;y.nextSibling!=null&&(_=c.find(y.nextSibling));var S=d(y);(S.next!=_||S.next==null)&&(S.parent!=null&&S.parent.removeChild(v),v.insertBefore(S,_||void 0))})},f}(o.default);function d(h){var f=c.find(h);if(f==null)try{f=c.create(h)}catch{f=c.create(c.Scope.INLINE),[].slice.call(h.childNodes).forEach(function(w){f.domNode.appendChild(w)}),h.parentNode&&h.parentNode.replaceChild(f.domNode,h),f.attach()}return f}i.default=u},function(n,i,r){var a=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var w in p)p.hasOwnProperty(w)&&(f[w]=p[w])};return function(f,p){h(f,p);function w(){this.constructor=f}f.prototype=p===null?Object.create(p):(w.prototype=p.prototype,new w)}}();Object.defineProperty(i,"__esModule",{value:!0});var s=r(12),o=r(31),c=r(17),u=r(1),d=function(h){a(f,h);function f(p){var w=h.call(this,p)||this;return w.attributes=new o.default(w.domNode),w}return f.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},f.prototype.format=function(p,w){var v=u.query(p);v instanceof s.default?this.attributes.attribute(v,w):w&&v!=null&&(p!==this.statics.blotName||this.formats()[p]!==w)&&this.replaceWith(p,w)},f.prototype.formats=function(){var p=this.attributes.values(),w=this.statics.formats(this.domNode);return w!=null&&(p[this.statics.blotName]=w),p},f.prototype.replaceWith=function(p,w){var v=h.prototype.replaceWith.call(this,p,w);return this.attributes.copy(v),v},f.prototype.update=function(p,w){var v=this;h.prototype.update.call(this,p,w),p.some(function(b){return b.target===v.domNode&&b.type==="attributes"})&&this.attributes.build()},f.prototype.wrap=function(p,w){var v=h.prototype.wrap.call(this,p,w);return v instanceof f&&v.statics.scope===this.statics.scope&&this.attributes.move(v),v},f}(c.default);i.default=d},function(n,i,r){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var f in h)h.hasOwnProperty(f)&&(d[f]=h[f])};return function(d,h){u(d,h);function f(){this.constructor=d}d.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(i,"__esModule",{value:!0});var s=r(30),o=r(1),c=function(u){a(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.value=function(h){return!0},d.prototype.index=function(h,f){return this.domNode===h||this.domNode.compareDocumentPosition(h)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(f,1):-1},d.prototype.position=function(h,f){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return h>0&&(p+=1),[this.parent.domNode,p]},d.prototype.value=function(){var h;return h={},h[this.statics.blotName]=this.statics.value(this.domNode)||!0,h},d.scope=o.Scope.INLINE_BLOT,d}(s.default);i.default=c},function(n,i,r){var a=r(11),s=r(3),o={attributes:{compose:function(u,d,h){typeof u!="object"&&(u={}),typeof d!="object"&&(d={});var f=s(!0,{},d);h||(f=Object.keys(f).reduce(function(w,v){return f[v]!=null&&(w[v]=f[v]),w},{}));for(var p in u)u[p]!==void 0&&d[p]===void 0&&(f[p]=u[p]);return Object.keys(f).length>0?f:void 0},diff:function(u,d){typeof u!="object"&&(u={}),typeof d!="object"&&(d={});var h=Object.keys(u).concat(Object.keys(d)).reduce(function(f,p){return a(u[p],d[p])||(f[p]=d[p]===void 0?null:d[p]),f},{});return Object.keys(h).length>0?h:void 0},transform:function(u,d,h){if(typeof u!="object")return d;if(typeof d=="object"){if(!h)return d;var f=Object.keys(d).reduce(function(p,w){return u[w]===void 0&&(p[w]=d[w]),p},{});return Object.keys(f).length>0?f:void 0}}},iterator:function(u){return new c(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function c(u){this.ops=u,this.index=0,this.offset=0}c.prototype.hasNext=function(){return this.peekLength()<1/0},c.prototype.next=function(u){u||(u=1/0);var d=this.ops[this.index];if(d){var h=this.offset,f=o.length(d);if(u>=f-h?(u=f-h,this.index+=1,this.offset=0):this.offset+=u,typeof d.delete=="number")return{delete:u};var p={};return d.attributes&&(p.attributes=d.attributes),typeof d.retain=="number"?p.retain=u:typeof d.insert=="string"?p.insert=d.insert.substr(h,u):p.insert=d.insert,p}else return{retain:1/0}},c.prototype.peek=function(){return this.ops[this.index]},c.prototype.peekLength=function(){return this.ops[this.index]?o.length(this.ops[this.index])-this.offset:1/0},c.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},c.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,d=this.index,h=this.next(),f=this.ops.slice(this.index);return this.offset=u,this.index=d,[h].concat(f)}else return[]},n.exports=o},function(n,i){var r=function(){function a(v,b){return b!=null&&v instanceof b}var s;try{s=Map}catch{s=function(){}}var o;try{o=Set}catch{o=function(){}}var c;try{c=Promise}catch{c=function(){}}function u(v,b,g,y,_){typeof b=="object"&&(g=b.depth,y=b.prototype,_=b.includeNonEnumerable,b=b.circular);var S=[],N=[],R=typeof Buffer<"u";typeof b>"u"&&(b=!0),typeof g>"u"&&(g=1/0);function D(E,C){if(E===null)return null;if(C===0)return E;var P,k;if(typeof E!="object")return E;if(a(E,s))P=new s;else if(a(E,o))P=new o;else if(a(E,c))P=new c(function(G,B){E.then(function(L){G(D(L,C-1))},function(L){B(D(L,C-1))})});else if(u.__isArray(E))P=[];else if(u.__isRegExp(E))P=new RegExp(E.source,w(E)),E.lastIndex&&(P.lastIndex=E.lastIndex);else if(u.__isDate(E))P=new Date(E.getTime());else{if(R&&Buffer.isBuffer(E))return Buffer.allocUnsafe?P=Buffer.allocUnsafe(E.length):P=new Buffer(E.length),E.copy(P),P;a(E,Error)?P=Object.create(E):typeof y>"u"?(k=Object.getPrototypeOf(E),P=Object.create(k)):(P=Object.create(y),k=y)}if(b){var A=S.indexOf(E);if(A!=-1)return N[A];S.push(E),N.push(P)}a(E,s)&&E.forEach(function(G,B){var L=D(B,C-1),M=D(G,C-1);P.set(L,M)}),a(E,o)&&E.forEach(function(G){var B=D(G,C-1);P.add(B)});for(var I in E){var T;k&&(T=Object.getOwnPropertyDescriptor(k,I)),!(T&&T.set==null)&&(P[I]=D(E[I],C-1))}if(Object.getOwnPropertySymbols)for(var z=Object.getOwnPropertySymbols(E),I=0;I<z.length;I++){var j=z[I],W=Object.getOwnPropertyDescriptor(E,j);W&&!W.enumerable&&!_||(P[j]=D(E[j],C-1),W.enumerable||Object.defineProperty(P,j,{enumerable:!1}))}if(_)for(var $=Object.getOwnPropertyNames(E),I=0;I<$.length;I++){var q=$[I],W=Object.getOwnPropertyDescriptor(E,q);W&&W.enumerable||(P[q]=D(E[q],C-1),Object.defineProperty(P,q,{enumerable:!1}))}return P}return D(v,g)}u.clonePrototype=function(b){if(b===null)return null;var g=function(){};return g.prototype=b,new g};function d(v){return Object.prototype.toString.call(v)}u.__objToStr=d;function h(v){return typeof v=="object"&&d(v)==="[object Date]"}u.__isDate=h;function f(v){return typeof v=="object"&&d(v)==="[object Array]"}u.__isArray=f;function p(v){return typeof v=="object"&&d(v)==="[object RegExp]"}u.__isRegExp=p;function w(v){var b="";return v.global&&(b+="g"),v.ignoreCase&&(b+="i"),v.multiline&&(b+="m"),b}return u.__getRegExpFlags=w,u}();typeof n=="object"&&n.exports&&(n.exports=r)},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function P(k,A){var I=[],T=!0,z=!1,j=void 0;try{for(var W=k[Symbol.iterator](),$;!(T=($=W.next()).done)&&(I.push($.value),!(A&&I.length===A));T=!0);}catch(q){z=!0,j=q}finally{try{!T&&W.return&&W.return()}finally{if(z)throw j}}return I}return function(k,A){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return P(k,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function P(k,A){for(var I=0;I<A.length;I++){var T=A[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(k,T.key,T)}}return function(k,A,I){return A&&P(k.prototype,A),I&&P(k,I),k}}(),o=function P(k,A,I){k===null&&(k=Function.prototype);var T=Object.getOwnPropertyDescriptor(k,A);if(T===void 0){var z=Object.getPrototypeOf(k);return z===null?void 0:P(z,A,I)}else{if("value"in T)return T.value;var j=T.get;return j===void 0?void 0:j.call(I)}},c=r(0),u=S(c),d=r(8),h=S(d),f=r(4),p=S(f),w=r(16),v=S(w),b=r(13),g=S(b),y=r(25),_=S(y);function S(P){return P&&P.__esModule?P:{default:P}}function N(P,k){if(!(P instanceof k))throw new TypeError("Cannot call a class as a function")}function R(P,k){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:P}function D(P,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);P.prototype=Object.create(k&&k.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(P,k):P.__proto__=k)}function E(P){return P instanceof p.default||P instanceof f.BlockEmbed}var C=function(P){D(k,P);function k(A,I){N(this,k);var T=R(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,A));return T.emitter=I.emitter,Array.isArray(I.whitelist)&&(T.whitelist=I.whitelist.reduce(function(z,j){return z[j]=!0,z},{})),T.domNode.addEventListener("DOMNodeInserted",function(){}),T.optimize(),T.enable(),T}return s(k,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(I,T){var z=this.line(I),j=a(z,2),W=j[0],$=j[1],q=this.line(I+T),G=a(q,1),B=G[0];if(o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"deleteAt",this).call(this,I,T),B!=null&&W!==B&&$>0){if(W instanceof f.BlockEmbed||B instanceof f.BlockEmbed){this.optimize();return}if(W instanceof g.default){var L=W.newlineIndex(W.length(),!0);if(L>-1&&(W=W.split(L+1),W===B)){this.optimize();return}}else if(B instanceof g.default){var M=B.newlineIndex(0);M>-1&&B.split(M+1)}var K=B.children.head instanceof v.default?null:B.children.head;W.moveChildren(B,K),W.remove()}this.optimize()}},{key:"enable",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",I)}},{key:"formatAt",value:function(I,T,z,j){this.whitelist!=null&&!this.whitelist[z]||(o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"formatAt",this).call(this,I,T,z,j),this.optimize())}},{key:"insertAt",value:function(I,T,z){if(!(z!=null&&this.whitelist!=null&&!this.whitelist[T])){if(I>=this.length())if(z==null||u.default.query(T,u.default.Scope.BLOCK)==null){var j=u.default.create(this.statics.defaultChild);this.appendChild(j),z==null&&T.endsWith(`
`)&&(T=T.slice(0,-1)),j.insertAt(0,T,z)}else{var W=u.default.create(T,z);this.appendChild(W)}else o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,I,T,z);this.optimize()}}},{key:"insertBefore",value:function(I,T){if(I.statics.scope===u.default.Scope.INLINE_BLOT){var z=u.default.create(this.statics.defaultChild);z.appendChild(I),I=z}o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,I,T)}},{key:"leaf",value:function(I){return this.path(I).pop()||[null,-1]}},{key:"line",value:function(I){return I===this.length()?this.line(I-1):this.descendant(E,I)}},{key:"lines",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,z=function j(W,$,q){var G=[],B=q;return W.children.forEachAt($,q,function(L,M,K){E(L)?G.push(L):L instanceof u.default.Container&&(G=G.concat(j(L,M,B))),B-=K}),G};return z(this,I,T)}},{key:"optimize",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,I,T),I.length>0&&this.emitter.emit(h.default.events.SCROLL_OPTIMIZE,I,T))}},{key:"path",value:function(I){return o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"path",this).call(this,I).slice(1)}},{key:"update",value:function(I){if(this.batch!==!0){var T=h.default.sources.USER;typeof I=="string"&&(T=I),Array.isArray(I)||(I=this.observer.takeRecords()),I.length>0&&this.emitter.emit(h.default.events.SCROLL_BEFORE_UPDATE,T,I),o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"update",this).call(this,I.concat([])),I.length>0&&this.emitter.emit(h.default.events.SCROLL_UPDATE,T,I)}}}]),k}(u.default.Scroll);C.blotName="scroll",C.className="ql-editor",C.tagName="DIV",C.defaultChild="block",C.allowedChildren=[p.default,f.BlockEmbed,_.default],i.default=C},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.SHORTKEY=i.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},s=function(){function V(le,ge){var ye=[],be=!0,Le=!1,ue=void 0;try{for(var ke=le[Symbol.iterator](),X;!(be=(X=ke.next()).done)&&(ye.push(X.value),!(ge&&ye.length===ge));be=!0);}catch(re){Le=!0,ue=re}finally{try{!be&&ke.return&&ke.return()}finally{if(Le)throw ue}}return ye}return function(le,ge){if(Array.isArray(le))return le;if(Symbol.iterator in Object(le))return V(le,ge);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function V(le,ge){for(var ye=0;ye<ge.length;ye++){var be=ge[ye];be.enumerable=be.enumerable||!1,be.configurable=!0,"value"in be&&(be.writable=!0),Object.defineProperty(le,be.key,be)}}return function(le,ge,ye){return ge&&V(le.prototype,ge),ye&&V(le,ye),le}}(),c=r(21),u=P(c),d=r(11),h=P(d),f=r(3),p=P(f),w=r(2),v=P(w),b=r(20),g=P(b),y=r(0),_=P(y),S=r(5),N=P(S),R=r(10),D=P(R),E=r(9),C=P(E);function P(V){return V&&V.__esModule?V:{default:V}}function k(V,le,ge){return le in V?Object.defineProperty(V,le,{value:ge,enumerable:!0,configurable:!0,writable:!0}):V[le]=ge,V}function A(V,le){if(!(V instanceof le))throw new TypeError("Cannot call a class as a function")}function I(V,le){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return le&&(typeof le=="object"||typeof le=="function")?le:V}function T(V,le){if(typeof le!="function"&&le!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof le);V.prototype=Object.create(le&&le.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),le&&(Object.setPrototypeOf?Object.setPrototypeOf(V,le):V.__proto__=le)}var z=(0,D.default)("quill:keyboard"),j=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",W=function(V){T(le,V),o(le,null,[{key:"match",value:function(ye,be){return be=Q(be),["altKey","ctrlKey","metaKey","shiftKey"].some(function(Le){return!!be[Le]!==ye[Le]&&be[Le]!==null})?!1:be.key===(ye.which||ye.keyCode)}}]);function le(ge,ye){A(this,le);var be=I(this,(le.__proto__||Object.getPrototypeOf(le)).call(this,ge,ye));return be.bindings={},Object.keys(be.options.bindings).forEach(function(Le){Le==="list autofill"&&ge.scroll.whitelist!=null&&!ge.scroll.whitelist.list||be.options.bindings[Le]&&be.addBinding(be.options.bindings[Le])}),be.addBinding({key:le.keys.ENTER,shiftKey:null},L),be.addBinding({key:le.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(be.addBinding({key:le.keys.BACKSPACE},{collapsed:!0},q),be.addBinding({key:le.keys.DELETE},{collapsed:!0},G)):(be.addBinding({key:le.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},q),be.addBinding({key:le.keys.DELETE},{collapsed:!0,suffix:/^.?$/},G)),be.addBinding({key:le.keys.BACKSPACE},{collapsed:!1},B),be.addBinding({key:le.keys.DELETE},{collapsed:!1},B),be.addBinding({key:le.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},q),be.listen(),be}return o(le,[{key:"addBinding",value:function(ye){var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ue=Q(ye);if(ue==null||ue.key==null)return z.warn("Attempted to add invalid keyboard binding",ue);typeof be=="function"&&(be={handler:be}),typeof Le=="function"&&(Le={handler:Le}),ue=(0,p.default)(ue,be,Le),this.bindings[ue.key]=this.bindings[ue.key]||[],this.bindings[ue.key].push(ue)}},{key:"listen",value:function(){var ye=this;this.quill.root.addEventListener("keydown",function(be){if(!be.defaultPrevented){var Le=be.which||be.keyCode,ue=(ye.bindings[Le]||[]).filter(function(Fe){return le.match(be,Fe)});if(ue.length!==0){var ke=ye.quill.getSelection();if(!(ke==null||!ye.quill.hasFocus())){var X=ye.quill.getLine(ke.index),re=s(X,2),Ee=re[0],ne=re[1],te=ye.quill.getLeaf(ke.index),ae=s(te,2),xe=ae[0],Ce=ae[1],_e=ke.length===0?[xe,Ce]:ye.quill.getLeaf(ke.index+ke.length),oe=s(_e,2),pe=oe[0],Se=oe[1],De=xe instanceof _.default.Text?xe.value().slice(0,Ce):"",Ve=pe instanceof _.default.Text?pe.value().slice(Se):"",de={collapsed:ke.length===0,empty:ke.length===0&&Ee.length()<=1,format:ye.quill.getFormat(ke),offset:ne,prefix:De,suffix:Ve},Me=ue.some(function(Fe){if(Fe.collapsed!=null&&Fe.collapsed!==de.collapsed||Fe.empty!=null&&Fe.empty!==de.empty||Fe.offset!=null&&Fe.offset!==de.offset)return!1;if(Array.isArray(Fe.format)){if(Fe.format.every(function(Ge){return de.format[Ge]==null}))return!1}else if(a(Fe.format)==="object"&&!Object.keys(Fe.format).every(function(Ge){return Fe.format[Ge]===!0?de.format[Ge]!=null:Fe.format[Ge]===!1?de.format[Ge]==null:(0,h.default)(Fe.format[Ge],de.format[Ge])}))return!1;return Fe.prefix!=null&&!Fe.prefix.test(de.prefix)||Fe.suffix!=null&&!Fe.suffix.test(de.suffix)?!1:Fe.handler.call(ye,ke,de)!==!0});Me&&be.preventDefault()}}}})}}]),le}(C.default);W.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},W.DEFAULTS={bindings:{bold:K("bold"),italic:K("italic"),underline:K("underline"),indent:{key:W.keys.TAB,format:["blockquote","indent","list"],handler:function(le,ge){if(ge.collapsed&&ge.offset!==0)return!0;this.quill.format("indent","+1",N.default.sources.USER)}},outdent:{key:W.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(le,ge){if(ge.collapsed&&ge.offset!==0)return!0;this.quill.format("indent","-1",N.default.sources.USER)}},"outdent backspace":{key:W.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(le,ge){ge.format.indent!=null?this.quill.format("indent","-1",N.default.sources.USER):ge.format.list!=null&&this.quill.format("list",!1,N.default.sources.USER)}},"indent code-block":M(!0),"outdent code-block":M(!1),"remove tab":{key:W.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(le){this.quill.deleteText(le.index-1,1,N.default.sources.USER)}},tab:{key:W.keys.TAB,handler:function(le){this.quill.history.cutoff();var ge=new v.default().retain(le.index).delete(le.length).insert("	");this.quill.updateContents(ge,N.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(le.index+1,N.default.sources.SILENT)}},"list empty enter":{key:W.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(le,ge){this.quill.format("list",!1,N.default.sources.USER),ge.format.indent&&this.quill.format("indent",!1,N.default.sources.USER)}},"checklist enter":{key:W.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(le){var ge=this.quill.getLine(le.index),ye=s(ge,2),be=ye[0],Le=ye[1],ue=(0,p.default)({},be.formats(),{list:"checked"}),ke=new v.default().retain(le.index).insert(`
`,ue).retain(be.length()-Le-1).retain(1,{list:"unchecked"});this.quill.updateContents(ke,N.default.sources.USER),this.quill.setSelection(le.index+1,N.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:W.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(le,ge){var ye=this.quill.getLine(le.index),be=s(ye,2),Le=be[0],ue=be[1],ke=new v.default().retain(le.index).insert(`
`,ge.format).retain(Le.length()-ue-1).retain(1,{header:null});this.quill.updateContents(ke,N.default.sources.USER),this.quill.setSelection(le.index+1,N.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(le,ge){var ye=ge.prefix.length,be=this.quill.getLine(le.index),Le=s(be,2),ue=Le[0],ke=Le[1];if(ke>ye)return!0;var X=void 0;switch(ge.prefix.trim()){case"[]":case"[ ]":X="unchecked";break;case"[x]":X="checked";break;case"-":case"*":X="bullet";break;default:X="ordered"}this.quill.insertText(le.index," ",N.default.sources.USER),this.quill.history.cutoff();var re=new v.default().retain(le.index-ke).delete(ye+1).retain(ue.length()-2-ke).retain(1,{list:X});this.quill.updateContents(re,N.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(le.index-ye,N.default.sources.SILENT)}},"code exit":{key:W.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(le){var ge=this.quill.getLine(le.index),ye=s(ge,2),be=ye[0],Le=ye[1],ue=new v.default().retain(le.index+be.length()-Le-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ue,N.default.sources.USER)}},"embed left":$(W.keys.LEFT,!1),"embed left shift":$(W.keys.LEFT,!0),"embed right":$(W.keys.RIGHT,!1),"embed right shift":$(W.keys.RIGHT,!0)}};function $(V,le){var ge,ye=V===W.keys.LEFT?"prefix":"suffix";return ge={key:V,shiftKey:le,altKey:null},k(ge,ye,/^$/),k(ge,"handler",function(Le){var ue=Le.index;V===W.keys.RIGHT&&(ue+=Le.length+1);var ke=this.quill.getLeaf(ue),X=s(ke,1),re=X[0];return re instanceof _.default.Embed?(V===W.keys.LEFT?le?this.quill.setSelection(Le.index-1,Le.length+1,N.default.sources.USER):this.quill.setSelection(Le.index-1,N.default.sources.USER):le?this.quill.setSelection(Le.index,Le.length+1,N.default.sources.USER):this.quill.setSelection(Le.index+Le.length+1,N.default.sources.USER),!1):!0}),ge}function q(V,le){if(!(V.index===0||this.quill.getLength()<=1)){var ge=this.quill.getLine(V.index),ye=s(ge,1),be=ye[0],Le={};if(le.offset===0){var ue=this.quill.getLine(V.index-1),ke=s(ue,1),X=ke[0];if(X!=null&&X.length()>1){var re=be.formats(),Ee=this.quill.getFormat(V.index-1,1);Le=g.default.attributes.diff(re,Ee)||{}}}var ne=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(le.prefix)?2:1;this.quill.deleteText(V.index-ne,ne,N.default.sources.USER),Object.keys(Le).length>0&&this.quill.formatLine(V.index-ne,ne,Le,N.default.sources.USER),this.quill.focus()}}function G(V,le){var ge=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(le.suffix)?2:1;if(!(V.index>=this.quill.getLength()-ge)){var ye={},be=0,Le=this.quill.getLine(V.index),ue=s(Le,1),ke=ue[0];if(le.offset>=ke.length()-1){var X=this.quill.getLine(V.index+1),re=s(X,1),Ee=re[0];if(Ee){var ne=ke.formats(),te=this.quill.getFormat(V.index,1);ye=g.default.attributes.diff(ne,te)||{},be=Ee.length()}}this.quill.deleteText(V.index,ge,N.default.sources.USER),Object.keys(ye).length>0&&this.quill.formatLine(V.index+be-1,ge,ye,N.default.sources.USER)}}function B(V){var le=this.quill.getLines(V),ge={};if(le.length>1){var ye=le[0].formats(),be=le[le.length-1].formats();ge=g.default.attributes.diff(be,ye)||{}}this.quill.deleteText(V,N.default.sources.USER),Object.keys(ge).length>0&&this.quill.formatLine(V.index,1,ge,N.default.sources.USER),this.quill.setSelection(V.index,N.default.sources.SILENT),this.quill.focus()}function L(V,le){var ge=this;V.length>0&&this.quill.scroll.deleteAt(V.index,V.length);var ye=Object.keys(le.format).reduce(function(be,Le){return _.default.query(Le,_.default.Scope.BLOCK)&&!Array.isArray(le.format[Le])&&(be[Le]=le.format[Le]),be},{});this.quill.insertText(V.index,`
`,ye,N.default.sources.USER),this.quill.setSelection(V.index+1,N.default.sources.SILENT),this.quill.focus(),Object.keys(le.format).forEach(function(be){ye[be]==null&&(Array.isArray(le.format[be])||be!=="link"&&ge.quill.format(be,le.format[be],N.default.sources.USER))})}function M(V){return{key:W.keys.TAB,shiftKey:!V,format:{"code-block":!0},handler:function(ge){var ye=_.default.query("code-block"),be=ge.index,Le=ge.length,ue=this.quill.scroll.descendant(ye,be),ke=s(ue,2),X=ke[0],re=ke[1];if(X!=null){var Ee=this.quill.getIndex(X),ne=X.newlineIndex(re,!0)+1,te=X.newlineIndex(Ee+re+Le),ae=X.domNode.textContent.slice(ne,te).split(`
`);re=0,ae.forEach(function(xe,Ce){V?(X.insertAt(ne+re,ye.TAB),re+=ye.TAB.length,Ce===0?be+=ye.TAB.length:Le+=ye.TAB.length):xe.startsWith(ye.TAB)&&(X.deleteAt(ne+re,ye.TAB.length),re-=ye.TAB.length,Ce===0?be-=ye.TAB.length:Le-=ye.TAB.length),re+=xe.length+1}),this.quill.update(N.default.sources.USER),this.quill.setSelection(be,Le,N.default.sources.SILENT)}}}}function K(V){return{key:V[0].toUpperCase(),shortKey:!0,handler:function(ge,ye){this.quill.format(V,!ye.format[V],N.default.sources.USER)}}}function Q(V){if(typeof V=="string"||typeof V=="number")return Q({key:V});if((typeof V>"u"?"undefined":a(V))==="object"&&(V=(0,u.default)(V,!1)),typeof V.key=="string")if(W.keys[V.key.toUpperCase()]!=null)V.key=W.keys[V.key.toUpperCase()];else if(V.key.length===1)V.key=V.key.toUpperCase().charCodeAt(0);else return null;return V.shortKey&&(V[j]=V.shortKey,delete V.shortKey),V}i.default=W,i.SHORTKEY=j},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function g(y,_){var S=[],N=!0,R=!1,D=void 0;try{for(var E=y[Symbol.iterator](),C;!(N=(C=E.next()).done)&&(S.push(C.value),!(_&&S.length===_));N=!0);}catch(P){R=!0,D=P}finally{try{!N&&E.return&&E.return()}finally{if(R)throw D}}return S}return function(y,_){if(Array.isArray(y))return y;if(Symbol.iterator in Object(y))return g(y,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function g(y,_,S){y===null&&(y=Function.prototype);var N=Object.getOwnPropertyDescriptor(y,_);if(N===void 0){var R=Object.getPrototypeOf(y);return R===null?void 0:g(R,_,S)}else{if("value"in N)return N.value;var D=N.get;return D===void 0?void 0:D.call(S)}},o=function(){function g(y,_){for(var S=0;S<_.length;S++){var N=_[S];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(y,N.key,N)}}return function(y,_,S){return _&&g(y.prototype,_),S&&g(y,S),y}}(),c=r(0),u=f(c),d=r(7),h=f(d);function f(g){return g&&g.__esModule?g:{default:g}}function p(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function w(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function v(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var b=function(g){v(y,g),o(y,null,[{key:"value",value:function(){}}]);function y(_,S){p(this,y);var N=w(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,_));return N.selection=S,N.textNode=document.createTextNode(y.CONTENTS),N.domNode.appendChild(N.textNode),N._length=0,N}return o(y,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(S,N){if(this._length!==0)return s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,S,N);for(var R=this,D=0;R!=null&&R.statics.scope!==u.default.Scope.BLOCK_BLOT;)D+=R.offset(R.parent),R=R.parent;R!=null&&(this._length=y.CONTENTS.length,R.optimize(),R.formatAt(D,y.CONTENTS.length,S,N),this._length=0)}},{key:"index",value:function(S,N){return S===this.textNode?0:s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"index",this).call(this,S,N)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var S=this.textNode,N=this.selection.getNativeRange(),R=void 0,D=void 0,E=void 0;if(N!=null&&N.start.node===S&&N.end.node===S){var C=[S,N.start.offset,N.end.offset];R=C[0],D=C[1],E=C[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==y.CONTENTS){var P=this.textNode.data.split(y.CONTENTS).join("");this.next instanceof h.default?(R=this.next.domNode,this.next.insertAt(0,P),this.textNode.data=y.CONTENTS):(this.textNode.data=P,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(y.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),D!=null){var k=[D,E].map(function(I){return Math.max(0,Math.min(R.data.length,I-1))}),A=a(k,2);return D=A[0],E=A[1],{startNode:R,startOffset:D,endNode:R,endOffset:E}}}}},{key:"update",value:function(S,N){var R=this;if(S.some(function(E){return E.type==="characterData"&&E.target===R.textNode})){var D=this.restore();D&&(N.range=D)}}},{key:"value",value:function(){return""}}]),y}(u.default.Embed);b.blotName="cursor",b.className="ql-cursor",b.tagName="span",b.CONTENTS="\uFEFF",i.default=b},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var a=r(0),s=u(a),o=r(4),c=u(o);function u(w){return w&&w.__esModule?w:{default:w}}function d(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}function h(w,v){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:w}function f(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(w,v):w.__proto__=v)}var p=function(w){f(v,w);function v(){return d(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return v}(s.default.Container);p.allowedChildren=[c.default,o.BlockEmbed,p],i.default=p},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.ColorStyle=i.ColorClass=i.ColorAttributor=void 0;var a=function(){function b(g,y){for(var _=0;_<y.length;_++){var S=y[_];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}return function(g,y,_){return y&&b(g.prototype,y),_&&b(g,_),g}}(),s=function b(g,y,_){g===null&&(g=Function.prototype);var S=Object.getOwnPropertyDescriptor(g,y);if(S===void 0){var N=Object.getPrototypeOf(g);return N===null?void 0:b(N,y,_)}else{if("value"in S)return S.value;var R=S.get;return R===void 0?void 0:R.call(_)}},o=r(0),c=u(o);function u(b){return b&&b.__esModule?b:{default:b}}function d(b,g){if(!(b instanceof g))throw new TypeError("Cannot call a class as a function")}function h(b,g){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:b}function f(b,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);b.prototype=Object.create(g&&g.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(b,g):b.__proto__=g)}var p=function(b){f(g,b);function g(){return d(this,g),h(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,[{key:"value",value:function(_){var S=s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,_);return S.startsWith("rgb(")?(S=S.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+S.split(",").map(function(N){return("00"+parseInt(N).toString(16)).slice(-2)}).join("")):S}}]),g}(c.default.Attributor.Style),w=new c.default.Attributor.Class("color","ql-color",{scope:c.default.Scope.INLINE}),v=new p("color","color",{scope:c.default.Scope.INLINE});i.ColorAttributor=p,i.ColorClass=w,i.ColorStyle=v},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.sanitize=i.default=void 0;var a=function(){function v(b,g){for(var y=0;y<g.length;y++){var _=g[y];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(b,_.key,_)}}return function(b,g,y){return g&&v(b.prototype,g),y&&v(b,y),b}}(),s=function v(b,g,y){b===null&&(b=Function.prototype);var _=Object.getOwnPropertyDescriptor(b,g);if(_===void 0){var S=Object.getPrototypeOf(b);return S===null?void 0:v(S,g,y)}else{if("value"in _)return _.value;var N=_.get;return N===void 0?void 0:N.call(y)}},o=r(6),c=u(o);function u(v){return v&&v.__esModule?v:{default:v}}function d(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function h(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function f(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var p=function(v){f(b,v);function b(){return d(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,[{key:"format",value:function(y,_){if(y!==this.statics.blotName||!_)return s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,y,_);_=this.constructor.sanitize(_),this.domNode.setAttribute("href",_)}}],[{key:"create",value:function(y){var _=s(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,y);return y=this.sanitize(y),_.setAttribute("href",y),_.setAttribute("rel","noopener noreferrer"),_.setAttribute("target","_blank"),_}},{key:"formats",value:function(y){return y.getAttribute("href")}},{key:"sanitize",value:function(y){return w(y,this.PROTOCOL_WHITELIST)?y:this.SANITIZED_URL}}]),b}(c.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function w(v,b){var g=document.createElement("a");g.href=v;var y=g.href.slice(0,g.href.indexOf(":"));return b.indexOf(y)>-1}i.default=p,i.sanitize=w},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},s=function(){function b(g,y){for(var _=0;_<y.length;_++){var S=y[_];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}return function(g,y,_){return y&&b(g.prototype,y),_&&b(g,_),g}}(),o=r(23),c=h(o),u=r(107),d=h(u);function h(b){return b&&b.__esModule?b:{default:b}}function f(b,g){if(!(b instanceof g))throw new TypeError("Cannot call a class as a function")}var p=0;function w(b,g){b.setAttribute(g,b.getAttribute(g)!=="true")}var v=function(){function b(g){var y=this;f(this,b),this.select=g,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){y.togglePicker()}),this.label.addEventListener("keydown",function(_){switch(_.keyCode){case c.default.keys.ENTER:y.togglePicker();break;case c.default.keys.ESCAPE:y.escape(),_.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(b,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),w(this.label,"aria-expanded"),w(this.options,"aria-hidden")}},{key:"buildItem",value:function(y){var _=this,S=document.createElement("span");return S.tabIndex="0",S.setAttribute("role","button"),S.classList.add("ql-picker-item"),y.hasAttribute("value")&&S.setAttribute("data-value",y.getAttribute("value")),y.textContent&&S.setAttribute("data-label",y.textContent),S.addEventListener("click",function(){_.selectItem(S,!0)}),S.addEventListener("keydown",function(N){switch(N.keyCode){case c.default.keys.ENTER:_.selectItem(S,!0),N.preventDefault();break;case c.default.keys.ESCAPE:_.escape(),N.preventDefault();break}}),S}},{key:"buildLabel",value:function(){var y=document.createElement("span");return y.classList.add("ql-picker-label"),y.innerHTML=d.default,y.tabIndex="0",y.setAttribute("role","button"),y.setAttribute("aria-expanded","false"),this.container.appendChild(y),y}},{key:"buildOptions",value:function(){var y=this,_=document.createElement("span");_.classList.add("ql-picker-options"),_.setAttribute("aria-hidden","true"),_.tabIndex="-1",_.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",_.id),this.options=_,[].slice.call(this.select.options).forEach(function(S){var N=y.buildItem(S);_.appendChild(N),S.selected===!0&&y.selectItem(N)}),this.container.appendChild(_)}},{key:"buildPicker",value:function(){var y=this;[].slice.call(this.select.attributes).forEach(function(_){y.container.setAttribute(_.name,_.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var y=this;this.close(),setTimeout(function(){return y.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(y){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,S=this.container.querySelector(".ql-selected");if(y!==S&&(S!=null&&S.classList.remove("ql-selected"),y!=null&&(y.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(y.parentNode.children,y),y.hasAttribute("data-value")?this.label.setAttribute("data-value",y.getAttribute("data-value")):this.label.removeAttribute("data-value"),y.hasAttribute("data-label")?this.label.setAttribute("data-label",y.getAttribute("data-label")):this.label.removeAttribute("data-label"),_))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":a(Event))==="object"){var N=document.createEvent("Event");N.initEvent("change",!0,!0),this.select.dispatchEvent(N)}this.close()}}},{key:"update",value:function(){var y=void 0;if(this.select.selectedIndex>-1){var _=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];y=this.select.options[this.select.selectedIndex],this.selectItem(_)}else this.selectItem(null);var S=y!=null&&y!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",S)}}]),b}();i.default=v},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var a=r(0),s=z(a),o=r(5),c=z(o),u=r(4),d=z(u),h=r(16),f=z(h),p=r(25),w=z(p),v=r(24),b=z(v),g=r(35),y=z(g),_=r(6),S=z(_),N=r(22),R=z(N),D=r(7),E=z(D),C=r(55),P=z(C),k=r(42),A=z(k),I=r(23),T=z(I);function z(j){return j&&j.__esModule?j:{default:j}}c.default.register({"blots/block":d.default,"blots/block/embed":u.BlockEmbed,"blots/break":f.default,"blots/container":w.default,"blots/cursor":b.default,"blots/embed":y.default,"blots/inline":S.default,"blots/scroll":R.default,"blots/text":E.default,"modules/clipboard":P.default,"modules/history":A.default,"modules/keyboard":T.default}),s.default.register(d.default,f.default,b.default,S.default,R.default,E.default),i.default=c.default},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var a=r(1),s=function(){function o(c){this.domNode=c,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(o.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),o.create=function(c){if(this.tagName==null)throw new a.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof c=="string"&&(c=c.toUpperCase(),parseInt(c).toString()===c&&(c=parseInt(c))),typeof c=="number"?u=document.createElement(this.tagName[c-1]):this.tagName.indexOf(c)>-1?u=document.createElement(c):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},o.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},o.prototype.clone=function(){var c=this.domNode.cloneNode(!1);return a.create(c)},o.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},o.prototype.deleteAt=function(c,u){var d=this.isolate(c,u);d.remove()},o.prototype.formatAt=function(c,u,d,h){var f=this.isolate(c,u);if(a.query(d,a.Scope.BLOT)!=null&&h)f.wrap(d,h);else if(a.query(d,a.Scope.ATTRIBUTE)!=null){var p=a.create(this.statics.scope);f.wrap(p),p.format(d,h)}},o.prototype.insertAt=function(c,u,d){var h=d==null?a.create("text",u):a.create(u,d),f=this.split(c);this.parent.insertBefore(h,f)},o.prototype.insertInto=function(c,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var d=null;c.children.insertBefore(this,u),u!=null&&(d=u.domNode),(this.domNode.parentNode!=c.domNode||this.domNode.nextSibling!=d)&&c.domNode.insertBefore(this.domNode,d),this.parent=c,this.attach()},o.prototype.isolate=function(c,u){var d=this.split(c);return d.split(u),d},o.prototype.length=function(){return 1},o.prototype.offset=function(c){return c===void 0&&(c=this.parent),this.parent==null||this==c?0:this.parent.children.offset(this)+this.parent.offset(c)},o.prototype.optimize=function(c){this.domNode[a.DATA_KEY]!=null&&delete this.domNode[a.DATA_KEY].mutations},o.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},o.prototype.replace=function(c){c.parent!=null&&(c.parent.insertBefore(this,c.next),c.remove())},o.prototype.replaceWith=function(c,u){var d=typeof c=="string"?a.create(c,u):c;return d.replace(this),d},o.prototype.split=function(c,u){return c===0?this:this.next},o.prototype.update=function(c,u){},o.prototype.wrap=function(c,u){var d=typeof c=="string"?a.create(c,u):c;return this.parent!=null&&this.parent.insertBefore(d,this.next),d.appendChild(this),d},o.blotName="abstract",o}();i.default=s},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var a=r(12),s=r(32),o=r(33),c=r(1),u=function(){function d(h){this.attributes={},this.domNode=h,this.build()}return d.prototype.attribute=function(h,f){f?h.add(this.domNode,f)&&(h.value(this.domNode)!=null?this.attributes[h.attrName]=h:delete this.attributes[h.attrName]):(h.remove(this.domNode),delete this.attributes[h.attrName])},d.prototype.build=function(){var h=this;this.attributes={};var f=a.default.keys(this.domNode),p=s.default.keys(this.domNode),w=o.default.keys(this.domNode);f.concat(p).concat(w).forEach(function(v){var b=c.query(v,c.Scope.ATTRIBUTE);b instanceof a.default&&(h.attributes[b.attrName]=b)})},d.prototype.copy=function(h){var f=this;Object.keys(this.attributes).forEach(function(p){var w=f.attributes[p].value(f.domNode);h.format(p,w)})},d.prototype.move=function(h){var f=this;this.copy(h),Object.keys(this.attributes).forEach(function(p){f.attributes[p].remove(f.domNode)}),this.attributes={}},d.prototype.values=function(){var h=this;return Object.keys(this.attributes).reduce(function(f,p){return f[p]=h.attributes[p].value(h.domNode),f},{})},d}();i.default=u},function(n,i,r){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var f in h)h.hasOwnProperty(f)&&(d[f]=h[f])};return function(d,h){u(d,h);function f(){this.constructor=d}d.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(i,"__esModule",{value:!0});var s=r(12);function o(u,d){var h=u.getAttribute("class")||"";return h.split(/\s+/).filter(function(f){return f.indexOf(d+"-")===0})}var c=function(u){a(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.keys=function(h){return(h.getAttribute("class")||"").split(/\s+/).map(function(f){return f.split("-").slice(0,-1).join("-")})},d.prototype.add=function(h,f){return this.canAdd(h,f)?(this.remove(h),h.classList.add(this.keyName+"-"+f),!0):!1},d.prototype.remove=function(h){var f=o(h,this.keyName);f.forEach(function(p){h.classList.remove(p)}),h.classList.length===0&&h.removeAttribute("class")},d.prototype.value=function(h){var f=o(h,this.keyName)[0]||"",p=f.slice(this.keyName.length+1);return this.canAdd(h,p)?p:""},d}(s.default);i.default=c},function(n,i,r){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var f in h)h.hasOwnProperty(f)&&(d[f]=h[f])};return function(d,h){u(d,h);function f(){this.constructor=d}d.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(i,"__esModule",{value:!0});var s=r(12);function o(u){var d=u.split("-"),h=d.slice(1).map(function(f){return f[0].toUpperCase()+f.slice(1)}).join("");return d[0]+h}var c=function(u){a(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.keys=function(h){return(h.getAttribute("style")||"").split(";").map(function(f){var p=f.split(":");return p[0].trim()})},d.prototype.add=function(h,f){return this.canAdd(h,f)?(h.style[o(this.keyName)]=f,!0):!1},d.prototype.remove=function(h){h.style[o(this.keyName)]="",h.getAttribute("style")||h.removeAttribute("style")},d.prototype.value=function(h){var f=h.style[o(this.keyName)];return this.canAdd(h,f)?f:""},d}(s.default);i.default=c},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function c(u,d){for(var h=0;h<d.length;h++){var f=d[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,d,h){return d&&c(u.prototype,d),h&&c(u,h),u}}();function s(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}var o=function(){function c(u,d){s(this,c),this.quill=u,this.options=d,this.modules={}}return a(c,[{key:"init",value:function(){var d=this;Object.keys(this.options.modules).forEach(function(h){d.modules[h]==null&&d.addModule(h)})}},{key:"addModule",value:function(d){var h=this.quill.constructor.import("modules/"+d);return this.modules[d]=new h(this.quill,this.options.modules[d]||{}),this.modules[d]}}]),c}();o.DEFAULTS={modules:{}},o.themes={default:o},i.default=o},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function g(y,_){for(var S=0;S<_.length;S++){var N=_[S];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(y,N.key,N)}}return function(y,_,S){return _&&g(y.prototype,_),S&&g(y,S),y}}(),s=function g(y,_,S){y===null&&(y=Function.prototype);var N=Object.getOwnPropertyDescriptor(y,_);if(N===void 0){var R=Object.getPrototypeOf(y);return R===null?void 0:g(R,_,S)}else{if("value"in N)return N.value;var D=N.get;return D===void 0?void 0:D.call(S)}},o=r(0),c=h(o),u=r(7),d=h(u);function h(g){return g&&g.__esModule?g:{default:g}}function f(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function p(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function w(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var v="\uFEFF",b=function(g){w(y,g);function y(_){f(this,y);var S=p(this,(y.__proto__||Object.getPrototypeOf(y)).call(this,_));return S.contentNode=document.createElement("span"),S.contentNode.setAttribute("contenteditable",!1),[].slice.call(S.domNode.childNodes).forEach(function(N){S.contentNode.appendChild(N)}),S.leftGuard=document.createTextNode(v),S.rightGuard=document.createTextNode(v),S.domNode.appendChild(S.leftGuard),S.domNode.appendChild(S.contentNode),S.domNode.appendChild(S.rightGuard),S}return a(y,[{key:"index",value:function(S,N){return S===this.leftGuard?0:S===this.rightGuard?1:s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"index",this).call(this,S,N)}},{key:"restore",value:function(S){var N=void 0,R=void 0,D=S.data.split(v).join("");if(S===this.leftGuard)if(this.prev instanceof d.default){var E=this.prev.length();this.prev.insertAt(E,D),N={startNode:this.prev.domNode,startOffset:E+D.length}}else R=document.createTextNode(D),this.parent.insertBefore(c.default.create(R),this),N={startNode:R,startOffset:D.length};else S===this.rightGuard&&(this.next instanceof d.default?(this.next.insertAt(0,D),N={startNode:this.next.domNode,startOffset:D.length}):(R=document.createTextNode(D),this.parent.insertBefore(c.default.create(R),this.next),N={startNode:R,startOffset:D.length}));return S.data=v,N}},{key:"update",value:function(S,N){var R=this;S.forEach(function(D){if(D.type==="characterData"&&(D.target===R.leftGuard||D.target===R.rightGuard)){var E=R.restore(D.target);E&&(N.range=E)}})}}]),y}(c.default.Embed);i.default=b},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.AlignStyle=i.AlignClass=i.AlignAttribute=void 0;var a=r(0),s=o(a);function o(f){return f&&f.__esModule?f:{default:f}}var c={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new s.default.Attributor.Attribute("align","align",c),d=new s.default.Attributor.Class("align","ql-align",c),h=new s.default.Attributor.Style("align","text-align",c);i.AlignAttribute=u,i.AlignClass=d,i.AlignStyle=h},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.BackgroundStyle=i.BackgroundClass=void 0;var a=r(0),s=c(a),o=r(26);function c(h){return h&&h.__esModule?h:{default:h}}var u=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),d=new o.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});i.BackgroundClass=u,i.BackgroundStyle=d},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.DirectionStyle=i.DirectionClass=i.DirectionAttribute=void 0;var a=r(0),s=o(a);function o(f){return f&&f.__esModule?f:{default:f}}var c={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},u=new s.default.Attributor.Attribute("direction","dir",c),d=new s.default.Attributor.Class("direction","ql-direction",c),h=new s.default.Attributor.Style("direction","direction",c);i.DirectionAttribute=u,i.DirectionClass=d,i.DirectionStyle=h},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.FontClass=i.FontStyle=void 0;var a=function(){function g(y,_){for(var S=0;S<_.length;S++){var N=_[S];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(y,N.key,N)}}return function(y,_,S){return _&&g(y.prototype,_),S&&g(y,S),y}}(),s=function g(y,_,S){y===null&&(y=Function.prototype);var N=Object.getOwnPropertyDescriptor(y,_);if(N===void 0){var R=Object.getPrototypeOf(y);return R===null?void 0:g(R,_,S)}else{if("value"in N)return N.value;var D=N.get;return D===void 0?void 0:D.call(S)}},o=r(0),c=u(o);function u(g){return g&&g.__esModule?g:{default:g}}function d(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function h(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function f(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var p={scope:c.default.Scope.INLINE,whitelist:["serif","monospace"]},w=new c.default.Attributor.Class("font","ql-font",p),v=function(g){f(y,g);function y(){return d(this,y),h(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,[{key:"value",value:function(S){return s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,S).replace(/["']/g,"")}}]),y}(c.default.Attributor.Style),b=new v("font","font-family",p);i.FontStyle=b,i.FontClass=w},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.SizeStyle=i.SizeClass=void 0;var a=r(0),s=o(a);function o(d){return d&&d.__esModule?d:{default:d}}var c=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});i.SizeClass=c,i.SizeStyle=u},function(n,i,r){n.exports={align:{"":r(76),center:r(77),right:r(78),justify:r(79)},background:r(80),blockquote:r(81),bold:r(82),clean:r(83),code:r(58),"code-block":r(58),color:r(84),direction:{"":r(85),rtl:r(86)},float:{center:r(87),full:r(88),left:r(89),right:r(90)},formula:r(91),header:{1:r(92),2:r(93)},italic:r(94),image:r(95),indent:{"+1":r(96),"-1":r(97)},link:r(98),list:{ordered:r(99),bullet:r(100),check:r(101)},script:{sub:r(102),super:r(103)},strike:r(104),underline:r(105),video:r(106)}},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.getLastChangeIndex=i.default=void 0;var a=function(){function _(S,N){for(var R=0;R<N.length;R++){var D=N[R];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(S,D.key,D)}}return function(S,N,R){return N&&_(S.prototype,N),R&&_(S,R),S}}(),s=r(0),o=f(s),c=r(5),u=f(c),d=r(9),h=f(d);function f(_){return _&&_.__esModule?_:{default:_}}function p(_,S){if(!(_ instanceof S))throw new TypeError("Cannot call a class as a function")}function w(_,S){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:_}function v(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);_.prototype=Object.create(S&&S.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(_,S):_.__proto__=S)}var b=function(_){v(S,_);function S(N,R){p(this,S);var D=w(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,N,R));return D.lastRecorded=0,D.ignoreChange=!1,D.clear(),D.quill.on(u.default.events.EDITOR_CHANGE,function(E,C,P,k){E!==u.default.events.TEXT_CHANGE||D.ignoreChange||(!D.options.userOnly||k===u.default.sources.USER?D.record(C,P):D.transform(C))}),D.quill.keyboard.addBinding({key:"Z",shortKey:!0},D.undo.bind(D)),D.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},D.redo.bind(D)),/Win/i.test(navigator.platform)&&D.quill.keyboard.addBinding({key:"Y",shortKey:!0},D.redo.bind(D)),D}return a(S,[{key:"change",value:function(R,D){if(this.stack[R].length!==0){var E=this.stack[R].pop();this.stack[D].push(E),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(E[R],u.default.sources.USER),this.ignoreChange=!1;var C=y(E[R]);this.quill.setSelection(C)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(R,D){if(R.ops.length!==0){this.stack.redo=[];var E=this.quill.getContents().diff(D),C=Date.now();if(this.lastRecorded+this.options.delay>C&&this.stack.undo.length>0){var P=this.stack.undo.pop();E=E.compose(P.undo),R=P.redo.compose(R)}else this.lastRecorded=C;this.stack.undo.push({redo:R,undo:E}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(R){this.stack.undo.forEach(function(D){D.undo=R.transform(D.undo,!0),D.redo=R.transform(D.redo,!0)}),this.stack.redo.forEach(function(D){D.undo=R.transform(D.undo,!0),D.redo=R.transform(D.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),S}(h.default);b.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function g(_){var S=_.ops[_.ops.length-1];return S==null?!1:S.insert!=null?typeof S.insert=="string"&&S.insert.endsWith(`
`):S.attributes!=null?Object.keys(S.attributes).some(function(N){return o.default.query(N,o.default.Scope.BLOCK)!=null}):!1}function y(_){var S=_.reduce(function(R,D){return R+=D.delete||0,R},0),N=_.length()-S;return g(_)&&(N-=1),N}i.default=b,i.getLastChangeIndex=y},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.BaseTooltip=void 0;var a=function(){function L(M,K){for(var Q=0;Q<K.length;Q++){var V=K[Q];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(M,V.key,V)}}return function(M,K,Q){return K&&L(M.prototype,K),Q&&L(M,Q),M}}(),s=function L(M,K,Q){M===null&&(M=Function.prototype);var V=Object.getOwnPropertyDescriptor(M,K);if(V===void 0){var le=Object.getPrototypeOf(M);return le===null?void 0:L(le,K,Q)}else{if("value"in V)return V.value;var ge=V.get;return ge===void 0?void 0:ge.call(Q)}},o=r(3),c=C(o),u=r(2),d=C(u),h=r(8),f=C(h),p=r(23),w=C(p),v=r(34),b=C(v),g=r(59),y=C(g),_=r(60),S=C(_),N=r(28),R=C(N),D=r(61),E=C(D);function C(L){return L&&L.__esModule?L:{default:L}}function P(L,M){if(!(L instanceof M))throw new TypeError("Cannot call a class as a function")}function k(L,M){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M&&(typeof M=="object"||typeof M=="function")?M:L}function A(L,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);L.prototype=Object.create(M&&M.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(L,M):L.__proto__=M)}var I=[!1,"center","right","justify"],T=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],z=[!1,"serif","monospace"],j=["1","2","3",!1],W=["small",!1,"large","huge"],$=function(L){A(M,L);function M(K,Q){P(this,M);var V=k(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,K,Q)),le=function ge(ye){if(!document.body.contains(K.root))return document.body.removeEventListener("click",ge);V.tooltip!=null&&!V.tooltip.root.contains(ye.target)&&document.activeElement!==V.tooltip.textbox&&!V.quill.hasFocus()&&V.tooltip.hide(),V.pickers!=null&&V.pickers.forEach(function(be){be.container.contains(ye.target)||be.close()})};return K.emitter.listenDOM("click",document.body,le),V}return a(M,[{key:"addModule",value:function(Q){var V=s(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"addModule",this).call(this,Q);return Q==="toolbar"&&this.extendToolbar(V),V}},{key:"buildButtons",value:function(Q,V){Q.forEach(function(le){var ge=le.getAttribute("class")||"";ge.split(/\s+/).forEach(function(ye){if(ye.startsWith("ql-")&&(ye=ye.slice(3),V[ye]!=null))if(ye==="direction")le.innerHTML=V[ye][""]+V[ye].rtl;else if(typeof V[ye]=="string")le.innerHTML=V[ye];else{var be=le.value||"";be!=null&&V[ye][be]&&(le.innerHTML=V[ye][be])}})})}},{key:"buildPickers",value:function(Q,V){var le=this;this.pickers=Q.map(function(ye){if(ye.classList.contains("ql-align"))return ye.querySelector("option")==null&&B(ye,I),new S.default(ye,V.align);if(ye.classList.contains("ql-background")||ye.classList.contains("ql-color")){var be=ye.classList.contains("ql-background")?"background":"color";return ye.querySelector("option")==null&&B(ye,T,be==="background"?"#ffffff":"#000000"),new y.default(ye,V[be])}else return ye.querySelector("option")==null&&(ye.classList.contains("ql-font")?B(ye,z):ye.classList.contains("ql-header")?B(ye,j):ye.classList.contains("ql-size")&&B(ye,W)),new R.default(ye)});var ge=function(){le.pickers.forEach(function(be){be.update()})};this.quill.on(f.default.events.EDITOR_CHANGE,ge)}}]),M}(b.default);$.DEFAULTS=(0,c.default)(!0,{},b.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var M=this,K=this.container.querySelector("input.ql-image[type=file]");K==null&&(K=document.createElement("input"),K.setAttribute("type","file"),K.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),K.classList.add("ql-image"),K.addEventListener("change",function(){if(K.files!=null&&K.files[0]!=null){var Q=new FileReader;Q.onload=function(V){var le=M.quill.getSelection(!0);M.quill.updateContents(new d.default().retain(le.index).delete(le.length).insert({image:V.target.result}),f.default.sources.USER),M.quill.setSelection(le.index+1,f.default.sources.SILENT),K.value=""},Q.readAsDataURL(K.files[0])}}),this.container.appendChild(K)),K.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var q=function(L){A(M,L);function M(K,Q){P(this,M);var V=k(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,K,Q));return V.textbox=V.root.querySelector('input[type="text"]'),V.listen(),V}return a(M,[{key:"listen",value:function(){var Q=this;this.textbox.addEventListener("keydown",function(V){w.default.match(V,"enter")?(Q.save(),V.preventDefault()):w.default.match(V,"escape")&&(Q.cancel(),V.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),V!=null?this.textbox.value=V:Q!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+Q)||""),this.root.setAttribute("data-mode",Q)}},{key:"restoreFocus",value:function(){var Q=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=Q}},{key:"save",value:function(){var Q=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var V=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",Q,f.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",Q,f.default.sources.USER)),this.quill.root.scrollTop=V;break}case"video":Q=G(Q);case"formula":{if(!Q)break;var le=this.quill.getSelection(!0);if(le!=null){var ge=le.index+le.length;this.quill.insertEmbed(ge,this.root.getAttribute("data-mode"),Q,f.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(ge+1," ",f.default.sources.USER),this.quill.setSelection(ge+2,f.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),M}(E.default);function G(L){var M=L.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||L.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return M?(M[1]||"https")+"://www.youtube.com/embed/"+M[2]+"?showinfo=0":(M=L.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(M[1]||"https")+"://player.vimeo.com/video/"+M[2]+"/":L}function B(L,M){var K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;M.forEach(function(Q){var V=document.createElement("option");Q===K?V.setAttribute("selected","selected"):V.setAttribute("value",Q),L.appendChild(V)})}i.BaseTooltip=q,i.default=$},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];this.insertBefore(o[0],null),o.length>1&&this.append.apply(this,o.slice(1))},s.prototype.contains=function(o){for(var c,u=this.iterator();c=u();)if(c===o)return!0;return!1},s.prototype.insertBefore=function(o,c){o&&(o.next=c,c!=null?(o.prev=c.prev,c.prev!=null&&(c.prev.next=o),c.prev=o,c===this.head&&(this.head=o)):this.tail!=null?(this.tail.next=o,o.prev=this.tail,this.tail=o):(o.prev=null,this.head=this.tail=o),this.length+=1)},s.prototype.offset=function(o){for(var c=0,u=this.head;u!=null;){if(u===o)return c;c+=u.length(),u=u.next}return-1},s.prototype.remove=function(o){this.contains(o)&&(o.prev!=null&&(o.prev.next=o.next),o.next!=null&&(o.next.prev=o.prev),o===this.head&&(this.head=o.next),o===this.tail&&(this.tail=o.prev),this.length-=1)},s.prototype.iterator=function(o){return o===void 0&&(o=this.head),function(){var c=o;return o!=null&&(o=o.next),c}},s.prototype.find=function(o,c){c===void 0&&(c=!1);for(var u,d=this.iterator();u=d();){var h=u.length();if(o<h||c&&o===h&&(u.next==null||u.next.length()!==0))return[u,o];o-=h}return[null,0]},s.prototype.forEach=function(o){for(var c,u=this.iterator();c=u();)o(c)},s.prototype.forEachAt=function(o,c,u){if(!(c<=0))for(var d=this.find(o),h=d[0],f=d[1],p,w=o-f,v=this.iterator(h);(p=v())&&w<o+c;){var b=p.length();o>w?u(p,o-w,Math.min(c,w+b-o)):u(p,0,Math.min(b,o+c-w)),w+=b}},s.prototype.map=function(o){return this.reduce(function(c,u){return c.push(o(u)),c},[])},s.prototype.reduce=function(o,c){for(var u,d=this.iterator();u=d();)c=o(c,u);return c},s}();i.default=a},function(n,i,r){var a=this&&this.__extends||function(){var h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,p){f.__proto__=p}||function(f,p){for(var w in p)p.hasOwnProperty(w)&&(f[w]=p[w])};return function(f,p){h(f,p);function w(){this.constructor=f}f.prototype=p===null?Object.create(p):(w.prototype=p.prototype,new w)}}();Object.defineProperty(i,"__esModule",{value:!0});var s=r(17),o=r(1),c={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,d=function(h){a(f,h);function f(p){var w=h.call(this,p)||this;return w.scroll=w,w.observer=new MutationObserver(function(v){w.update(v)}),w.observer.observe(w.domNode,c),w.attach(),w}return f.prototype.detach=function(){h.prototype.detach.call(this),this.observer.disconnect()},f.prototype.deleteAt=function(p,w){this.update(),p===0&&w===this.length()?this.children.forEach(function(v){v.remove()}):h.prototype.deleteAt.call(this,p,w)},f.prototype.formatAt=function(p,w,v,b){this.update(),h.prototype.formatAt.call(this,p,w,v,b)},f.prototype.insertAt=function(p,w,v){this.update(),h.prototype.insertAt.call(this,p,w,v)},f.prototype.optimize=function(p,w){var v=this;p===void 0&&(p=[]),w===void 0&&(w={}),h.prototype.optimize.call(this,w);for(var b=[].slice.call(this.observer.takeRecords());b.length>0;)p.push(b.pop());for(var g=function(N,R){R===void 0&&(R=!0),!(N==null||N===v)&&N.domNode.parentNode!=null&&(N.domNode[o.DATA_KEY].mutations==null&&(N.domNode[o.DATA_KEY].mutations=[]),R&&g(N.parent))},y=function(N){N.domNode[o.DATA_KEY]==null||N.domNode[o.DATA_KEY].mutations==null||(N instanceof s.default&&N.children.forEach(y),N.optimize(w))},_=p,S=0;_.length>0;S+=1){if(S>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(_.forEach(function(N){var R=o.find(N.target,!0);R!=null&&(R.domNode===N.target&&(N.type==="childList"?(g(o.find(N.previousSibling,!1)),[].forEach.call(N.addedNodes,function(D){var E=o.find(D,!1);g(E,!1),E instanceof s.default&&E.children.forEach(function(C){g(C,!1)})})):N.type==="attributes"&&g(R.prev)),g(R))}),this.children.forEach(y),_=[].slice.call(this.observer.takeRecords()),b=_.slice();b.length>0;)p.push(b.pop())}},f.prototype.update=function(p,w){var v=this;w===void 0&&(w={}),p=p||this.observer.takeRecords(),p.map(function(b){var g=o.find(b.target,!0);return g==null?null:g.domNode[o.DATA_KEY].mutations==null?(g.domNode[o.DATA_KEY].mutations=[b],g):(g.domNode[o.DATA_KEY].mutations.push(b),null)}).forEach(function(b){b==null||b===v||b.domNode[o.DATA_KEY]==null||b.update(b.domNode[o.DATA_KEY].mutations||[],w)}),this.domNode[o.DATA_KEY].mutations!=null&&h.prototype.update.call(this,this.domNode[o.DATA_KEY].mutations,w),this.optimize(p,w)},f.blotName="scroll",f.defaultChild="block",f.scope=o.Scope.BLOCK_BLOT,f.tagName="DIV",f}(s.default);i.default=d},function(n,i,r){var a=this&&this.__extends||function(){var d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,f){h.__proto__=f}||function(h,f){for(var p in f)f.hasOwnProperty(p)&&(h[p]=f[p])};return function(h,f){d(h,f);function p(){this.constructor=h}h.prototype=f===null?Object.create(f):(p.prototype=f.prototype,new p)}}();Object.defineProperty(i,"__esModule",{value:!0});var s=r(18),o=r(1);function c(d,h){if(Object.keys(d).length!==Object.keys(h).length)return!1;for(var f in d)if(d[f]!==h[f])return!1;return!0}var u=function(d){a(h,d);function h(){return d!==null&&d.apply(this,arguments)||this}return h.formats=function(f){if(f.tagName!==h.tagName)return d.formats.call(this,f)},h.prototype.format=function(f,p){var w=this;f===this.statics.blotName&&!p?(this.children.forEach(function(v){v instanceof s.default||(v=v.wrap(h.blotName,!0)),w.attributes.copy(v)}),this.unwrap()):d.prototype.format.call(this,f,p)},h.prototype.formatAt=function(f,p,w,v){if(this.formats()[w]!=null||o.query(w,o.Scope.ATTRIBUTE)){var b=this.isolate(f,p);b.format(w,v)}else d.prototype.formatAt.call(this,f,p,w,v)},h.prototype.optimize=function(f){d.prototype.optimize.call(this,f);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var w=this.next;w instanceof h&&w.prev===this&&c(p,w.formats())&&(w.moveChildren(this),w.remove())},h.blotName="inline",h.scope=o.Scope.INLINE_BLOT,h.tagName="SPAN",h}(s.default);i.default=u},function(n,i,r){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var f in h)h.hasOwnProperty(f)&&(d[f]=h[f])};return function(d,h){u(d,h);function f(){this.constructor=d}d.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(i,"__esModule",{value:!0});var s=r(18),o=r(1),c=function(u){a(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.formats=function(h){var f=o.query(d.blotName).tagName;if(h.tagName!==f)return u.formats.call(this,h)},d.prototype.format=function(h,f){o.query(h,o.Scope.BLOCK)!=null&&(h===this.statics.blotName&&!f?this.replaceWith(d.blotName):u.prototype.format.call(this,h,f))},d.prototype.formatAt=function(h,f,p,w){o.query(p,o.Scope.BLOCK)!=null?this.format(p,w):u.prototype.formatAt.call(this,h,f,p,w)},d.prototype.insertAt=function(h,f,p){if(p==null||o.query(f,o.Scope.INLINE)!=null)u.prototype.insertAt.call(this,h,f,p);else{var w=this.split(h),v=o.create(f,p);w.parent.insertBefore(v,w)}},d.prototype.update=function(h,f){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,h,f)},d.blotName="block",d.scope=o.Scope.BLOCK_BLOT,d.tagName="P",d}(s.default);i.default=c},function(n,i,r){var a=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var h in d)d.hasOwnProperty(h)&&(u[h]=d[h])};return function(u,d){c(u,d);function h(){this.constructor=u}u.prototype=d===null?Object.create(d):(h.prototype=d.prototype,new h)}}();Object.defineProperty(i,"__esModule",{value:!0});var s=r(19),o=function(c){a(u,c);function u(){return c!==null&&c.apply(this,arguments)||this}return u.formats=function(d){},u.prototype.format=function(d,h){c.prototype.formatAt.call(this,0,this.length(),d,h)},u.prototype.formatAt=function(d,h,f,p){d===0&&h===this.length()?this.format(f,p):c.prototype.formatAt.call(this,d,h,f,p)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(s.default);i.default=o},function(n,i,r){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,h){d.__proto__=h}||function(d,h){for(var f in h)h.hasOwnProperty(f)&&(d[f]=h[f])};return function(d,h){u(d,h);function f(){this.constructor=d}d.prototype=h===null?Object.create(h):(f.prototype=h.prototype,new f)}}();Object.defineProperty(i,"__esModule",{value:!0});var s=r(19),o=r(1),c=function(u){a(d,u);function d(h){var f=u.call(this,h)||this;return f.text=f.statics.value(f.domNode),f}return d.create=function(h){return document.createTextNode(h)},d.value=function(h){var f=h.data;return f.normalize&&(f=f.normalize()),f},d.prototype.deleteAt=function(h,f){this.domNode.data=this.text=this.text.slice(0,h)+this.text.slice(h+f)},d.prototype.index=function(h,f){return this.domNode===h?f:-1},d.prototype.insertAt=function(h,f,p){p==null?(this.text=this.text.slice(0,h)+f+this.text.slice(h),this.domNode.data=this.text):u.prototype.insertAt.call(this,h,f,p)},d.prototype.length=function(){return this.text.length},d.prototype.optimize=function(h){u.prototype.optimize.call(this,h),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof d&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},d.prototype.position=function(h,f){return[this.domNode,h]},d.prototype.split=function(h,f){if(f===void 0&&(f=!1),!f){if(h===0)return this;if(h===this.length())return this.next}var p=o.create(this.domNode.splitText(h));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},d.prototype.update=function(h,f){var p=this;h.some(function(w){return w.type==="characterData"&&w.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},d.prototype.value=function(){return this.text},d.blotName="text",d.scope=o.Scope.INLINE_BLOT,d}(s.default);i.default=c},function(n,i,r){var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(o,c){return arguments.length>1&&!this.contains(o)==!c?c:s.call(this,o)}}String.prototype.startsWith||(String.prototype.startsWith=function(o,c){return c=c||0,this.substr(c,o.length)===o}),String.prototype.endsWith||(String.prototype.endsWith=function(o,c){var u=this.toString();(typeof c!="number"||!isFinite(c)||Math.floor(c)!==c||c>u.length)&&(c=u.length),c-=o.length;var d=u.indexOf(o,c);return d!==-1&&d===c}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(c){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof c!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),d=u.length>>>0,h=arguments[1],f,p=0;p<d;p++)if(f=u[p],c.call(h,f,p,u))return f}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,i){var r=-1,a=1,s=0;function o(S,N,R){if(S==N)return S?[[s,S]]:[];(R<0||S.length<R)&&(R=null);var D=h(S,N),E=S.substring(0,D);S=S.substring(D),N=N.substring(D),D=f(S,N);var C=S.substring(S.length-D);S=S.substring(0,S.length-D),N=N.substring(0,N.length-D);var P=c(S,N);return E&&P.unshift([s,E]),C&&P.push([s,C]),w(P),R!=null&&(P=g(P,R)),P=y(P),P}function c(S,N){var R;if(!S)return[[a,N]];if(!N)return[[r,S]];var D=S.length>N.length?S:N,E=S.length>N.length?N:S,C=D.indexOf(E);if(C!=-1)return R=[[a,D.substring(0,C)],[s,E],[a,D.substring(C+E.length)]],S.length>N.length&&(R[0][0]=R[2][0]=r),R;if(E.length==1)return[[r,S],[a,N]];var P=p(S,N);if(P){var k=P[0],A=P[1],I=P[2],T=P[3],z=P[4],j=o(k,I),W=o(A,T);return j.concat([[s,z]],W)}return u(S,N)}function u(S,N){for(var R=S.length,D=N.length,E=Math.ceil((R+D)/2),C=E,P=2*E,k=new Array(P),A=new Array(P),I=0;I<P;I++)k[I]=-1,A[I]=-1;k[C+1]=0,A[C+1]=0;for(var T=R-D,z=T%2!=0,j=0,W=0,$=0,q=0,G=0;G<E;G++){for(var B=-G+j;B<=G-W;B+=2){var L=C+B,M;B==-G||B!=G&&k[L-1]<k[L+1]?M=k[L+1]:M=k[L-1]+1;for(var K=M-B;M<R&&K<D&&S.charAt(M)==N.charAt(K);)M++,K++;if(k[L]=M,M>R)W+=2;else if(K>D)j+=2;else if(z){var Q=C+T-B;if(Q>=0&&Q<P&&A[Q]!=-1){var V=R-A[Q];if(M>=V)return d(S,N,M,K)}}}for(var le=-G+$;le<=G-q;le+=2){var Q=C+le,V;le==-G||le!=G&&A[Q-1]<A[Q+1]?V=A[Q+1]:V=A[Q-1]+1;for(var ge=V-le;V<R&&ge<D&&S.charAt(R-V-1)==N.charAt(D-ge-1);)V++,ge++;if(A[Q]=V,V>R)q+=2;else if(ge>D)$+=2;else if(!z){var L=C+T-le;if(L>=0&&L<P&&k[L]!=-1){var M=k[L],K=C+M-L;if(V=R-V,M>=V)return d(S,N,M,K)}}}}return[[r,S],[a,N]]}function d(S,N,R,D){var E=S.substring(0,R),C=N.substring(0,D),P=S.substring(R),k=N.substring(D),A=o(E,C),I=o(P,k);return A.concat(I)}function h(S,N){if(!S||!N||S.charAt(0)!=N.charAt(0))return 0;for(var R=0,D=Math.min(S.length,N.length),E=D,C=0;R<E;)S.substring(C,E)==N.substring(C,E)?(R=E,C=R):D=E,E=Math.floor((D-R)/2+R);return E}function f(S,N){if(!S||!N||S.charAt(S.length-1)!=N.charAt(N.length-1))return 0;for(var R=0,D=Math.min(S.length,N.length),E=D,C=0;R<E;)S.substring(S.length-E,S.length-C)==N.substring(N.length-E,N.length-C)?(R=E,C=R):D=E,E=Math.floor((D-R)/2+R);return E}function p(S,N){var R=S.length>N.length?S:N,D=S.length>N.length?N:S;if(R.length<4||D.length*2<R.length)return null;function E(W,$,q){for(var G=W.substring(q,q+Math.floor(W.length/4)),B=-1,L="",M,K,Q,V;(B=$.indexOf(G,B+1))!=-1;){var le=h(W.substring(q),$.substring(B)),ge=f(W.substring(0,q),$.substring(0,B));L.length<ge+le&&(L=$.substring(B-ge,B)+$.substring(B,B+le),M=W.substring(0,q-ge),K=W.substring(q+le),Q=$.substring(0,B-ge),V=$.substring(B+le))}return L.length*2>=W.length?[M,K,Q,V,L]:null}var C=E(R,D,Math.ceil(R.length/4)),P=E(R,D,Math.ceil(R.length/2)),k;if(!C&&!P)return null;P?C?k=C[4].length>P[4].length?C:P:k=P:k=C;var A,I,T,z;S.length>N.length?(A=k[0],I=k[1],T=k[2],z=k[3]):(T=k[0],z=k[1],A=k[2],I=k[3]);var j=k[4];return[A,I,T,z,j]}function w(S){S.push([s,""]);for(var N=0,R=0,D=0,E="",C="",P;N<S.length;)switch(S[N][0]){case a:D++,C+=S[N][1],N++;break;case r:R++,E+=S[N][1],N++;break;case s:R+D>1?(R!==0&&D!==0&&(P=h(C,E),P!==0&&(N-R-D>0&&S[N-R-D-1][0]==s?S[N-R-D-1][1]+=C.substring(0,P):(S.splice(0,0,[s,C.substring(0,P)]),N++),C=C.substring(P),E=E.substring(P)),P=f(C,E),P!==0&&(S[N][1]=C.substring(C.length-P)+S[N][1],C=C.substring(0,C.length-P),E=E.substring(0,E.length-P))),R===0?S.splice(N-D,R+D,[a,C]):D===0?S.splice(N-R,R+D,[r,E]):S.splice(N-R-D,R+D,[r,E],[a,C]),N=N-R-D+(R?1:0)+(D?1:0)+1):N!==0&&S[N-1][0]==s?(S[N-1][1]+=S[N][1],S.splice(N,1)):N++,D=0,R=0,E="",C="";break}S[S.length-1][1]===""&&S.pop();var k=!1;for(N=1;N<S.length-1;)S[N-1][0]==s&&S[N+1][0]==s&&(S[N][1].substring(S[N][1].length-S[N-1][1].length)==S[N-1][1]?(S[N][1]=S[N-1][1]+S[N][1].substring(0,S[N][1].length-S[N-1][1].length),S[N+1][1]=S[N-1][1]+S[N+1][1],S.splice(N-1,1),k=!0):S[N][1].substring(0,S[N+1][1].length)==S[N+1][1]&&(S[N-1][1]+=S[N+1][1],S[N][1]=S[N][1].substring(S[N+1][1].length)+S[N+1][1],S.splice(N+1,1),k=!0)),N++;k&&w(S)}var v=o;v.INSERT=a,v.DELETE=r,v.EQUAL=s,n.exports=v;function b(S,N){if(N===0)return[s,S];for(var R=0,D=0;D<S.length;D++){var E=S[D];if(E[0]===r||E[0]===s){var C=R+E[1].length;if(N===C)return[D+1,S];if(N<C){S=S.slice();var P=N-R,k=[E[0],E[1].slice(0,P)],A=[E[0],E[1].slice(P)];return S.splice(D,1,k,A),[D+1,S]}else R=C}}throw new Error("cursor_pos is out of bounds!")}function g(S,N){var R=b(S,N),D=R[1],E=R[0],C=D[E],P=D[E+1];if(C==null)return S;if(C[0]!==s)return S;if(P!=null&&C[1]+P[1]===P[1]+C[1])return D.splice(E,2,P,C),_(D,E,2);if(P!=null&&P[1].indexOf(C[1])===0){D.splice(E,2,[P[0],C[1]],[0,C[1]]);var k=P[1].slice(C[1].length);return k.length>0&&D.splice(E+2,0,[P[0],k]),_(D,E,3)}else return S}function y(S){for(var N=!1,R=function(P){return P.charCodeAt(0)>=56320&&P.charCodeAt(0)<=57343},D=function(P){return P.charCodeAt(P.length-1)>=55296&&P.charCodeAt(P.length-1)<=56319},E=2;E<S.length;E+=1)S[E-2][0]===s&&D(S[E-2][1])&&S[E-1][0]===r&&R(S[E-1][1])&&S[E][0]===a&&R(S[E][1])&&(N=!0,S[E-1][1]=S[E-2][1].slice(-1)+S[E-1][1],S[E][1]=S[E-2][1].slice(-1)+S[E][1],S[E-2][1]=S[E-2][1].slice(0,-1));if(!N)return S;for(var C=[],E=0;E<S.length;E+=1)S[E][1].length>0&&C.push(S[E]);return C}function _(S,N,R){for(var D=N+R-1;D>=0&&D>=N-1;D--)if(D+1<S.length){var E=S[D],C=S[D+1];E[0]===C[1]&&S.splice(D,2,[E[0],E[1]+C[1]])}return S}},function(n,i){i=n.exports=typeof Object.keys=="function"?Object.keys:r,i.shim=r;function r(a){var s=[];for(var o in a)s.push(o);return s}},function(n,i){var r=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";i=n.exports=r?a:s,i.supported=a;function a(o){return Object.prototype.toString.call(o)=="[object Arguments]"}i.unsupported=s;function s(o){return o&&typeof o=="object"&&typeof o.length=="number"&&Object.prototype.hasOwnProperty.call(o,"callee")&&!Object.prototype.propertyIsEnumerable.call(o,"callee")||!1}},function(n,i){var r=Object.prototype.hasOwnProperty,a="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(a=!1));function o(u,d,h){this.fn=u,this.context=d,this.once=h||!1}function c(){this._events=new s,this._eventsCount=0}c.prototype.eventNames=function(){var d=[],h,f;if(this._eventsCount===0)return d;for(f in h=this._events)r.call(h,f)&&d.push(a?f.slice(1):f);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},c.prototype.listeners=function(d,h){var f=a?a+d:d,p=this._events[f];if(h)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var w=0,v=p.length,b=new Array(v);w<v;w++)b[w]=p[w].fn;return b},c.prototype.emit=function(d,h,f,p,w,v){var b=a?a+d:d;if(!this._events[b])return!1;var g=this._events[b],y=arguments.length,_,S;if(g.fn){switch(g.once&&this.removeListener(d,g.fn,void 0,!0),y){case 1:return g.fn.call(g.context),!0;case 2:return g.fn.call(g.context,h),!0;case 3:return g.fn.call(g.context,h,f),!0;case 4:return g.fn.call(g.context,h,f,p),!0;case 5:return g.fn.call(g.context,h,f,p,w),!0;case 6:return g.fn.call(g.context,h,f,p,w,v),!0}for(S=1,_=new Array(y-1);S<y;S++)_[S-1]=arguments[S];g.fn.apply(g.context,_)}else{var N=g.length,R;for(S=0;S<N;S++)switch(g[S].once&&this.removeListener(d,g[S].fn,void 0,!0),y){case 1:g[S].fn.call(g[S].context);break;case 2:g[S].fn.call(g[S].context,h);break;case 3:g[S].fn.call(g[S].context,h,f);break;case 4:g[S].fn.call(g[S].context,h,f,p);break;default:if(!_)for(R=1,_=new Array(y-1);R<y;R++)_[R-1]=arguments[R];g[S].fn.apply(g[S].context,_)}}return!0},c.prototype.on=function(d,h,f){var p=new o(h,f||this),w=a?a+d:d;return this._events[w]?this._events[w].fn?this._events[w]=[this._events[w],p]:this._events[w].push(p):(this._events[w]=p,this._eventsCount++),this},c.prototype.once=function(d,h,f){var p=new o(h,f||this,!0),w=a?a+d:d;return this._events[w]?this._events[w].fn?this._events[w]=[this._events[w],p]:this._events[w].push(p):(this._events[w]=p,this._eventsCount++),this},c.prototype.removeListener=function(d,h,f,p){var w=a?a+d:d;if(!this._events[w])return this;if(!h)return--this._eventsCount===0?this._events=new s:delete this._events[w],this;var v=this._events[w];if(v.fn)v.fn===h&&(!p||v.once)&&(!f||v.context===f)&&(--this._eventsCount===0?this._events=new s:delete this._events[w]);else{for(var b=0,g=[],y=v.length;b<y;b++)(v[b].fn!==h||p&&!v[b].once||f&&v[b].context!==f)&&g.push(v[b]);g.length?this._events[w]=g.length===1?g[0]:g:--this._eventsCount===0?this._events=new s:delete this._events[w]}return this},c.prototype.removeAllListeners=function(d){var h;return d?(h=a?a+d:d,this._events[h]&&(--this._eventsCount===0?this._events=new s:delete this._events[h])):(this._events=new s,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prototype.setMaxListeners=function(){return this},c.prefixed=a,c.EventEmitter=c,typeof n<"u"&&(n.exports=c)},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.matchText=i.matchSpacing=i.matchNewline=i.matchBlot=i.matchAttributor=i.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},s=function(){function te(ae,xe){var Ce=[],_e=!0,oe=!1,pe=void 0;try{for(var Se=ae[Symbol.iterator](),De;!(_e=(De=Se.next()).done)&&(Ce.push(De.value),!(xe&&Ce.length===xe));_e=!0);}catch(Ve){oe=!0,pe=Ve}finally{try{!_e&&Se.return&&Se.return()}finally{if(oe)throw pe}}return Ce}return function(ae,xe){if(Array.isArray(ae))return ae;if(Symbol.iterator in Object(ae))return te(ae,xe);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function te(ae,xe){for(var Ce=0;Ce<xe.length;Ce++){var _e=xe[Ce];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(ae,_e.key,_e)}}return function(ae,xe,Ce){return xe&&te(ae.prototype,xe),Ce&&te(ae,Ce),ae}}(),c=r(3),u=A(c),d=r(2),h=A(d),f=r(0),p=A(f),w=r(5),v=A(w),b=r(10),g=A(b),y=r(9),_=A(y),S=r(36),N=r(37),R=r(13),D=A(R),E=r(26),C=r(38),P=r(39),k=r(40);function A(te){return te&&te.__esModule?te:{default:te}}function I(te,ae,xe){return ae in te?Object.defineProperty(te,ae,{value:xe,enumerable:!0,configurable:!0,writable:!0}):te[ae]=xe,te}function T(te,ae){if(!(te instanceof ae))throw new TypeError("Cannot call a class as a function")}function z(te,ae){if(!te)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ae&&(typeof ae=="object"||typeof ae=="function")?ae:te}function j(te,ae){if(typeof ae!="function"&&ae!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ae);te.prototype=Object.create(ae&&ae.prototype,{constructor:{value:te,enumerable:!1,writable:!0,configurable:!0}}),ae&&(Object.setPrototypeOf?Object.setPrototypeOf(te,ae):te.__proto__=ae)}var W=(0,g.default)("quill:clipboard"),$="__ql-matcher",q=[[Node.TEXT_NODE,ne],[Node.TEXT_NODE,X],["br",Le],[Node.ELEMENT_NODE,X],[Node.ELEMENT_NODE,be],[Node.ELEMENT_NODE,re],[Node.ELEMENT_NODE,ye],[Node.ELEMENT_NODE,Ee],["li",ke],["b",ge.bind(ge,"bold")],["i",ge.bind(ge,"italic")],["style",ue]],G=[S.AlignAttribute,C.DirectionAttribute].reduce(function(te,ae){return te[ae.keyName]=ae,te},{}),B=[S.AlignStyle,N.BackgroundStyle,E.ColorStyle,C.DirectionStyle,P.FontStyle,k.SizeStyle].reduce(function(te,ae){return te[ae.keyName]=ae,te},{}),L=function(te){j(ae,te);function ae(xe,Ce){T(this,ae);var _e=z(this,(ae.__proto__||Object.getPrototypeOf(ae)).call(this,xe,Ce));return _e.quill.root.addEventListener("paste",_e.onPaste.bind(_e)),_e.container=_e.quill.addContainer("ql-clipboard"),_e.container.setAttribute("contenteditable",!0),_e.container.setAttribute("tabindex",-1),_e.matchers=[],q.concat(_e.options.matchers).forEach(function(oe){var pe=s(oe,2),Se=pe[0],De=pe[1];!Ce.matchVisual&&De===re||_e.addMatcher(Se,De)}),_e}return o(ae,[{key:"addMatcher",value:function(Ce,_e){this.matchers.push([Ce,_e])}},{key:"convert",value:function(Ce){if(typeof Ce=="string")return this.container.innerHTML=Ce.replace(/\>\r?\n +\</g,"><"),this.convert();var _e=this.quill.getFormat(this.quill.selection.savedRange.index);if(_e[D.default.blotName]){var oe=this.container.innerText;return this.container.innerHTML="",new h.default().insert(oe,I({},D.default.blotName,_e[D.default.blotName]))}var pe=this.prepareMatching(),Se=s(pe,2),De=Se[0],Ve=Se[1],de=le(this.container,De,Ve);return Q(de,`
`)&&de.ops[de.ops.length-1].attributes==null&&(de=de.compose(new h.default().retain(de.length()-1).delete(1))),W.log("convert",this.container.innerHTML,de),this.container.innerHTML="",de}},{key:"dangerouslyPasteHTML",value:function(Ce,_e){var oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof Ce=="string")this.quill.setContents(this.convert(Ce),_e),this.quill.setSelection(0,v.default.sources.SILENT);else{var pe=this.convert(_e);this.quill.updateContents(new h.default().retain(Ce).concat(pe),oe),this.quill.setSelection(Ce+pe.length(),v.default.sources.SILENT)}}},{key:"onPaste",value:function(Ce){var _e=this;if(!(Ce.defaultPrevented||!this.quill.isEnabled())){var oe=this.quill.getSelection(),pe=new h.default().retain(oe.index),Se=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(v.default.sources.SILENT),setTimeout(function(){pe=pe.concat(_e.convert()).delete(oe.length),_e.quill.updateContents(pe,v.default.sources.USER),_e.quill.setSelection(pe.length()-oe.length,v.default.sources.SILENT),_e.quill.scrollingContainer.scrollTop=Se,_e.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Ce=this,_e=[],oe=[];return this.matchers.forEach(function(pe){var Se=s(pe,2),De=Se[0],Ve=Se[1];switch(De){case Node.TEXT_NODE:oe.push(Ve);break;case Node.ELEMENT_NODE:_e.push(Ve);break;default:[].forEach.call(Ce.container.querySelectorAll(De),function(de){de[$]=de[$]||[],de[$].push(Ve)});break}}),[_e,oe]}}]),ae}(_.default);L.DEFAULTS={matchers:[],matchVisual:!0};function M(te,ae,xe){return(typeof ae>"u"?"undefined":a(ae))==="object"?Object.keys(ae).reduce(function(Ce,_e){return M(Ce,_e,ae[_e])},te):te.reduce(function(Ce,_e){return _e.attributes&&_e.attributes[ae]?Ce.push(_e):Ce.insert(_e.insert,(0,u.default)({},I({},ae,xe),_e.attributes))},new h.default)}function K(te){if(te.nodeType!==Node.ELEMENT_NODE)return{};var ae="__ql-computed-style";return te[ae]||(te[ae]=window.getComputedStyle(te))}function Q(te,ae){for(var xe="",Ce=te.ops.length-1;Ce>=0&&xe.length<ae.length;--Ce){var _e=te.ops[Ce];if(typeof _e.insert!="string")break;xe=_e.insert+xe}return xe.slice(-1*ae.length)===ae}function V(te){if(te.childNodes.length===0)return!1;var ae=K(te);return["block","list-item"].indexOf(ae.display)>-1}function le(te,ae,xe){return te.nodeType===te.TEXT_NODE?xe.reduce(function(Ce,_e){return _e(te,Ce)},new h.default):te.nodeType===te.ELEMENT_NODE?[].reduce.call(te.childNodes||[],function(Ce,_e){var oe=le(_e,ae,xe);return _e.nodeType===te.ELEMENT_NODE&&(oe=ae.reduce(function(pe,Se){return Se(_e,pe)},oe),oe=(_e[$]||[]).reduce(function(pe,Se){return Se(_e,pe)},oe)),Ce.concat(oe)},new h.default):new h.default}function ge(te,ae,xe){return M(xe,te,!0)}function ye(te,ae){var xe=p.default.Attributor.Attribute.keys(te),Ce=p.default.Attributor.Class.keys(te),_e=p.default.Attributor.Style.keys(te),oe={};return xe.concat(Ce).concat(_e).forEach(function(pe){var Se=p.default.query(pe,p.default.Scope.ATTRIBUTE);Se!=null&&(oe[Se.attrName]=Se.value(te),oe[Se.attrName])||(Se=G[pe],Se!=null&&(Se.attrName===pe||Se.keyName===pe)&&(oe[Se.attrName]=Se.value(te)||void 0),Se=B[pe],Se!=null&&(Se.attrName===pe||Se.keyName===pe)&&(Se=B[pe],oe[Se.attrName]=Se.value(te)||void 0))}),Object.keys(oe).length>0&&(ae=M(ae,oe)),ae}function be(te,ae){var xe=p.default.query(te);if(xe==null)return ae;if(xe.prototype instanceof p.default.Embed){var Ce={},_e=xe.value(te);_e!=null&&(Ce[xe.blotName]=_e,ae=new h.default().insert(Ce,xe.formats(te)))}else typeof xe.formats=="function"&&(ae=M(ae,xe.blotName,xe.formats(te)));return ae}function Le(te,ae){return Q(ae,`
`)||ae.insert(`
`),ae}function ue(){return new h.default}function ke(te,ae){var xe=p.default.query(te);if(xe==null||xe.blotName!=="list-item"||!Q(ae,`
`))return ae;for(var Ce=-1,_e=te.parentNode;!_e.classList.contains("ql-clipboard");)(p.default.query(_e)||{}).blotName==="list"&&(Ce+=1),_e=_e.parentNode;return Ce<=0?ae:ae.compose(new h.default().retain(ae.length()-1).retain(1,{indent:Ce}))}function X(te,ae){return Q(ae,`
`)||(V(te)||ae.length()>0&&te.nextSibling&&V(te.nextSibling))&&ae.insert(`
`),ae}function re(te,ae){if(V(te)&&te.nextElementSibling!=null&&!Q(ae,`

`)){var xe=te.offsetHeight+parseFloat(K(te).marginTop)+parseFloat(K(te).marginBottom);te.nextElementSibling.offsetTop>te.offsetTop+xe*1.5&&ae.insert(`
`)}return ae}function Ee(te,ae){var xe={},Ce=te.style||{};return Ce.fontStyle&&K(te).fontStyle==="italic"&&(xe.italic=!0),Ce.fontWeight&&(K(te).fontWeight.startsWith("bold")||parseInt(K(te).fontWeight)>=700)&&(xe.bold=!0),Object.keys(xe).length>0&&(ae=M(ae,xe)),parseFloat(Ce.textIndent||0)>0&&(ae=new h.default().insert("	").concat(ae)),ae}function ne(te,ae){var xe=te.data;if(te.parentNode.tagName==="O:P")return ae.insert(xe.trim());if(xe.trim().length===0&&te.parentNode.classList.contains("ql-clipboard"))return ae;if(!K(te.parentNode).whiteSpace.startsWith("pre")){var Ce=function(oe,pe){return pe=pe.replace(/[^\u00a0]/g,""),pe.length<1&&oe?" ":pe};xe=xe.replace(/\r\n/g," ").replace(/\n/g," "),xe=xe.replace(/\s\s+/g,Ce.bind(Ce,!0)),(te.previousSibling==null&&V(te.parentNode)||te.previousSibling!=null&&V(te.previousSibling))&&(xe=xe.replace(/^\s+/,Ce.bind(Ce,!1))),(te.nextSibling==null&&V(te.parentNode)||te.nextSibling!=null&&V(te.nextSibling))&&(xe=xe.replace(/\s+$/,Ce.bind(Ce,!1)))}return ae.insert(xe)}i.default=L,i.matchAttributor=ye,i.matchBlot=be,i.matchNewline=X,i.matchSpacing=re,i.matchText=ne},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function w(v,b){for(var g=0;g<b.length;g++){var y=b[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(v,y.key,y)}}return function(v,b,g){return b&&w(v.prototype,b),g&&w(v,g),v}}(),s=function w(v,b,g){v===null&&(v=Function.prototype);var y=Object.getOwnPropertyDescriptor(v,b);if(y===void 0){var _=Object.getPrototypeOf(v);return _===null?void 0:w(_,b,g)}else{if("value"in y)return y.value;var S=y.get;return S===void 0?void 0:S.call(g)}},o=r(6),c=u(o);function u(w){return w&&w.__esModule?w:{default:w}}function d(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}function h(w,v){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:w}function f(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(w,v):w.__proto__=v)}var p=function(w){f(v,w);function v(){return d(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return a(v,[{key:"optimize",value:function(g){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"optimize",this).call(this,g),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),v}(c.default);p.blotName="bold",p.tagName=["STRONG","B"],i.default=p},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.addControls=i.default=void 0;var a=function(){function k(A,I){var T=[],z=!0,j=!1,W=void 0;try{for(var $=A[Symbol.iterator](),q;!(z=(q=$.next()).done)&&(T.push(q.value),!(I&&T.length===I));z=!0);}catch(G){j=!0,W=G}finally{try{!z&&$.return&&$.return()}finally{if(j)throw W}}return T}return function(A,I){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return k(A,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function k(A,I){for(var T=0;T<I.length;T++){var z=I[T];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(A,z.key,z)}}return function(A,I,T){return I&&k(A.prototype,I),T&&k(A,T),A}}(),o=r(2),c=g(o),u=r(0),d=g(u),h=r(5),f=g(h),p=r(10),w=g(p),v=r(9),b=g(v);function g(k){return k&&k.__esModule?k:{default:k}}function y(k,A,I){return A in k?Object.defineProperty(k,A,{value:I,enumerable:!0,configurable:!0,writable:!0}):k[A]=I,k}function _(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")}function S(k,A){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:k}function N(k,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);k.prototype=Object.create(A&&A.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(k,A):k.__proto__=A)}var R=(0,w.default)("quill:toolbar"),D=function(k){N(A,k);function A(I,T){_(this,A);var z=S(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,I,T));if(Array.isArray(z.options.container)){var j=document.createElement("div");C(j,z.options.container),I.container.parentNode.insertBefore(j,I.container),z.container=j}else typeof z.options.container=="string"?z.container=document.querySelector(z.options.container):z.container=z.options.container;if(!(z.container instanceof HTMLElement)){var W;return W=R.error("Container required for toolbar",z.options),S(z,W)}return z.container.classList.add("ql-toolbar"),z.controls=[],z.handlers={},Object.keys(z.options.handlers).forEach(function($){z.addHandler($,z.options.handlers[$])}),[].forEach.call(z.container.querySelectorAll("button, select"),function($){z.attach($)}),z.quill.on(f.default.events.EDITOR_CHANGE,function($,q){$===f.default.events.SELECTION_CHANGE&&z.update(q)}),z.quill.on(f.default.events.SCROLL_OPTIMIZE,function(){var $=z.quill.selection.getRange(),q=a($,1),G=q[0];z.update(G)}),z}return s(A,[{key:"addHandler",value:function(T,z){this.handlers[T]=z}},{key:"attach",value:function(T){var z=this,j=[].find.call(T.classList,function($){return $.indexOf("ql-")===0});if(j){if(j=j.slice(3),T.tagName==="BUTTON"&&T.setAttribute("type","button"),this.handlers[j]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[j]==null){R.warn("ignoring attaching to disabled format",j,T);return}if(d.default.query(j)==null){R.warn("ignoring attaching to nonexistent format",j,T);return}}var W=T.tagName==="SELECT"?"change":"click";T.addEventListener(W,function($){var q=void 0;if(T.tagName==="SELECT"){if(T.selectedIndex<0)return;var G=T.options[T.selectedIndex];G.hasAttribute("selected")?q=!1:q=G.value||!1}else T.classList.contains("ql-active")?q=!1:q=T.value||!T.hasAttribute("value"),$.preventDefault();z.quill.focus();var B=z.quill.selection.getRange(),L=a(B,1),M=L[0];if(z.handlers[j]!=null)z.handlers[j].call(z,q);else if(d.default.query(j).prototype instanceof d.default.Embed){if(q=prompt("Enter "+j),!q)return;z.quill.updateContents(new c.default().retain(M.index).delete(M.length).insert(y({},j,q)),f.default.sources.USER)}else z.quill.format(j,q,f.default.sources.USER);z.update(M)}),this.controls.push([j,T])}}},{key:"update",value:function(T){var z=T==null?{}:this.quill.getFormat(T);this.controls.forEach(function(j){var W=a(j,2),$=W[0],q=W[1];if(q.tagName==="SELECT"){var G=void 0;if(T==null)G=null;else if(z[$]==null)G=q.querySelector("option[selected]");else if(!Array.isArray(z[$])){var B=z[$];typeof B=="string"&&(B=B.replace(/\"/g,'\\"')),G=q.querySelector('option[value="'+B+'"]')}G==null?(q.value="",q.selectedIndex=-1):G.selected=!0}else if(T==null)q.classList.remove("ql-active");else if(q.hasAttribute("value")){var L=z[$]===q.getAttribute("value")||z[$]!=null&&z[$].toString()===q.getAttribute("value")||z[$]==null&&!q.getAttribute("value");q.classList.toggle("ql-active",L)}else q.classList.toggle("ql-active",z[$]!=null)})}}]),A}(b.default);D.DEFAULTS={};function E(k,A,I){var T=document.createElement("button");T.setAttribute("type","button"),T.classList.add("ql-"+A),I!=null&&(T.value=I),k.appendChild(T)}function C(k,A){Array.isArray(A[0])||(A=[A]),A.forEach(function(I){var T=document.createElement("span");T.classList.add("ql-formats"),I.forEach(function(z){if(typeof z=="string")E(T,z);else{var j=Object.keys(z)[0],W=z[j];Array.isArray(W)?P(T,j,W):E(T,j,W)}}),k.appendChild(T)})}function P(k,A,I){var T=document.createElement("select");T.classList.add("ql-"+A),I.forEach(function(z){var j=document.createElement("option");z!==!1?j.setAttribute("value",z):j.setAttribute("selected","selected"),T.appendChild(j)}),k.appendChild(T)}D.DEFAULTS={container:null,handlers:{clean:function(){var A=this,I=this.quill.getSelection();if(I!=null)if(I.length==0){var T=this.quill.getFormat();Object.keys(T).forEach(function(z){d.default.query(z,d.default.Scope.INLINE)!=null&&A.quill.format(z,!1)})}else this.quill.removeFormat(I,f.default.sources.USER)},direction:function(A){var I=this.quill.getFormat().align;A==="rtl"&&I==null?this.quill.format("align","right",f.default.sources.USER):!A&&I==="right"&&this.quill.format("align",!1,f.default.sources.USER),this.quill.format("direction",A,f.default.sources.USER)},indent:function(A){var I=this.quill.getSelection(),T=this.quill.getFormat(I),z=parseInt(T.indent||0);if(A==="+1"||A==="-1"){var j=A==="+1"?1:-1;T.direction==="rtl"&&(j*=-1),this.quill.format("indent",z+j,f.default.sources.USER)}},link:function(A){A===!0&&(A=prompt("Enter link URL:")),this.quill.format("link",A,f.default.sources.USER)},list:function(A){var I=this.quill.getSelection(),T=this.quill.getFormat(I);A==="check"?T.list==="checked"||T.list==="unchecked"?this.quill.format("list",!1,f.default.sources.USER):this.quill.format("list","unchecked",f.default.sources.USER):this.quill.format("list",A,f.default.sources.USER)}}},i.default=D,i.addControls=C},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function w(v,b){for(var g=0;g<b.length;g++){var y=b[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(v,y.key,y)}}return function(v,b,g){return b&&w(v.prototype,b),g&&w(v,g),v}}(),s=function w(v,b,g){v===null&&(v=Function.prototype);var y=Object.getOwnPropertyDescriptor(v,b);if(y===void 0){var _=Object.getPrototypeOf(v);return _===null?void 0:w(_,b,g)}else{if("value"in y)return y.value;var S=y.get;return S===void 0?void 0:S.call(g)}},o=r(28),c=u(o);function u(w){return w&&w.__esModule?w:{default:w}}function d(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}function h(w,v){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:w}function f(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(w,v):w.__proto__=v)}var p=function(w){f(v,w);function v(b,g){d(this,v);var y=h(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,b));return y.label.innerHTML=g,y.container.classList.add("ql-color-picker"),[].slice.call(y.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(_){_.classList.add("ql-primary")}),y}return a(v,[{key:"buildItem",value:function(g){var y=s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"buildItem",this).call(this,g);return y.style.backgroundColor=g.getAttribute("value")||"",y}},{key:"selectItem",value:function(g,y){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,g,y);var _=this.label.querySelector(".ql-color-label"),S=g&&g.getAttribute("data-value")||"";_&&(_.tagName==="line"?_.style.stroke=S:_.style.fill=S)}}]),v}(c.default);i.default=p},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function w(v,b){for(var g=0;g<b.length;g++){var y=b[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(v,y.key,y)}}return function(v,b,g){return b&&w(v.prototype,b),g&&w(v,g),v}}(),s=function w(v,b,g){v===null&&(v=Function.prototype);var y=Object.getOwnPropertyDescriptor(v,b);if(y===void 0){var _=Object.getPrototypeOf(v);return _===null?void 0:w(_,b,g)}else{if("value"in y)return y.value;var S=y.get;return S===void 0?void 0:S.call(g)}},o=r(28),c=u(o);function u(w){return w&&w.__esModule?w:{default:w}}function d(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}function h(w,v){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:w}function f(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(w,v):w.__proto__=v)}var p=function(w){f(v,w);function v(b,g){d(this,v);var y=h(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,b));return y.container.classList.add("ql-icon-picker"),[].forEach.call(y.container.querySelectorAll(".ql-picker-item"),function(_){_.innerHTML=g[_.getAttribute("data-value")||""]}),y.defaultItem=y.container.querySelector(".ql-selected"),y.selectItem(y.defaultItem),y}return a(v,[{key:"selectItem",value:function(g,y){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"selectItem",this).call(this,g,y),g=g||this.defaultItem,this.label.innerHTML=g.innerHTML}}]),v}(c.default);i.default=p},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function c(u,d){for(var h=0;h<d.length;h++){var f=d[h];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(u,f.key,f)}}return function(u,d,h){return d&&c(u.prototype,d),h&&c(u,h),u}}();function s(c,u){if(!(c instanceof u))throw new TypeError("Cannot call a class as a function")}var o=function(){function c(u,d){var h=this;s(this,c),this.quill=u,this.boundsContainer=d||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){h.root.style.marginTop=-1*h.quill.root.scrollTop+"px"}),this.hide()}return a(c,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(d){var h=d.left+d.width/2-this.root.offsetWidth/2,f=d.bottom+this.quill.root.scrollTop;this.root.style.left=h+"px",this.root.style.top=f+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),w=this.root.getBoundingClientRect(),v=0;if(w.right>p.right&&(v=p.right-w.right,this.root.style.left=h+v+"px"),w.left<p.left&&(v=p.left-w.left,this.root.style.left=h+v+"px"),w.bottom>p.bottom){var b=w.bottom-w.top,g=d.bottom-d.top+b;this.root.style.top=f-g+"px",this.root.classList.add("ql-flip")}return v}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),c}();i.default=o},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function P(k,A){var I=[],T=!0,z=!1,j=void 0;try{for(var W=k[Symbol.iterator](),$;!(T=($=W.next()).done)&&(I.push($.value),!(A&&I.length===A));T=!0);}catch(q){z=!0,j=q}finally{try{!T&&W.return&&W.return()}finally{if(z)throw j}}return I}return function(k,A){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return P(k,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function P(k,A,I){k===null&&(k=Function.prototype);var T=Object.getOwnPropertyDescriptor(k,A);if(T===void 0){var z=Object.getPrototypeOf(k);return z===null?void 0:P(z,A,I)}else{if("value"in T)return T.value;var j=T.get;return j===void 0?void 0:j.call(I)}},o=function(){function P(k,A){for(var I=0;I<A.length;I++){var T=A[I];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(k,T.key,T)}}return function(k,A,I){return A&&P(k.prototype,A),I&&P(k,I),k}}(),c=r(3),u=_(c),d=r(8),h=_(d),f=r(43),p=_(f),w=r(27),v=_(w),b=r(15),g=r(41),y=_(g);function _(P){return P&&P.__esModule?P:{default:P}}function S(P,k){if(!(P instanceof k))throw new TypeError("Cannot call a class as a function")}function N(P,k){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:P}function R(P,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);P.prototype=Object.create(k&&k.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(P,k):P.__proto__=k)}var D=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],E=function(P){R(k,P);function k(A,I){S(this,k),I.modules.toolbar!=null&&I.modules.toolbar.container==null&&(I.modules.toolbar.container=D);var T=N(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,A,I));return T.quill.container.classList.add("ql-snow"),T}return o(k,[{key:"extendToolbar",value:function(I){I.container.classList.add("ql-snow"),this.buildButtons([].slice.call(I.container.querySelectorAll("button")),y.default),this.buildPickers([].slice.call(I.container.querySelectorAll("select")),y.default),this.tooltip=new C(this.quill,this.options.bounds),I.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(T,z){I.handlers.link.call(I,!z.format.link)})}}]),k}(p.default);E.DEFAULTS=(0,u.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(k){if(k){var A=this.quill.getSelection();if(A==null||A.length==0)return;var I=this.quill.getText(A);/^\S+@\S+\.\S+$/.test(I)&&I.indexOf("mailto:")!==0&&(I="mailto:"+I);var T=this.quill.theme.tooltip;T.edit("link",I)}else this.quill.format("link",!1)}}}}});var C=function(P){R(k,P);function k(A,I){S(this,k);var T=N(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,A,I));return T.preview=T.root.querySelector("a.ql-preview"),T}return o(k,[{key:"listen",value:function(){var I=this;s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(T){I.root.classList.contains("ql-editing")?I.save():I.edit("link",I.preview.textContent),T.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(T){if(I.linkRange!=null){var z=I.linkRange;I.restoreFocus(),I.quill.formatText(z,"link",!1,h.default.sources.USER),delete I.linkRange}T.preventDefault(),I.hide()}),this.quill.on(h.default.events.SELECTION_CHANGE,function(T,z,j){if(T!=null){if(T.length===0&&j===h.default.sources.USER){var W=I.quill.scroll.descendant(v.default,T.index),$=a(W,2),q=$[0],G=$[1];if(q!=null){I.linkRange=new b.Range(T.index-G,q.length());var B=v.default.formats(q.domNode);I.preview.textContent=B,I.preview.setAttribute("href",B),I.show(),I.position(I.quill.getBounds(I.linkRange));return}}else delete I.linkRange;I.hide()}})}},{key:"show",value:function(){s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),k}(f.BaseTooltip);C.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),i.default=E},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var a=r(29),s=_e(a),o=r(36),c=r(38),u=r(64),d=r(65),h=_e(d),f=r(66),p=_e(f),w=r(67),v=_e(w),b=r(37),g=r(26),y=r(39),_=r(40),S=r(56),N=_e(S),R=r(68),D=_e(R),E=r(27),C=_e(E),P=r(69),k=_e(P),A=r(70),I=_e(A),T=r(71),z=_e(T),j=r(72),W=_e(j),$=r(73),q=_e($),G=r(13),B=_e(G),L=r(74),M=_e(L),K=r(75),Q=_e(K),V=r(57),le=_e(V),ge=r(41),ye=_e(ge),be=r(28),Le=_e(be),ue=r(59),ke=_e(ue),X=r(60),re=_e(X),Ee=r(61),ne=_e(Ee),te=r(108),ae=_e(te),xe=r(62),Ce=_e(xe);function _e(oe){return oe&&oe.__esModule?oe:{default:oe}}s.default.register({"attributors/attribute/direction":c.DirectionAttribute,"attributors/class/align":o.AlignClass,"attributors/class/background":b.BackgroundClass,"attributors/class/color":g.ColorClass,"attributors/class/direction":c.DirectionClass,"attributors/class/font":y.FontClass,"attributors/class/size":_.SizeClass,"attributors/style/align":o.AlignStyle,"attributors/style/background":b.BackgroundStyle,"attributors/style/color":g.ColorStyle,"attributors/style/direction":c.DirectionStyle,"attributors/style/font":y.FontStyle,"attributors/style/size":_.SizeStyle},!0),s.default.register({"formats/align":o.AlignClass,"formats/direction":c.DirectionClass,"formats/indent":u.IndentClass,"formats/background":b.BackgroundStyle,"formats/color":g.ColorStyle,"formats/font":y.FontClass,"formats/size":_.SizeClass,"formats/blockquote":h.default,"formats/code-block":B.default,"formats/header":p.default,"formats/list":v.default,"formats/bold":N.default,"formats/code":G.Code,"formats/italic":D.default,"formats/link":C.default,"formats/script":k.default,"formats/strike":I.default,"formats/underline":z.default,"formats/image":W.default,"formats/video":q.default,"formats/list/item":w.ListItem,"modules/formula":M.default,"modules/syntax":Q.default,"modules/toolbar":le.default,"themes/bubble":ae.default,"themes/snow":Ce.default,"ui/icons":ye.default,"ui/picker":Le.default,"ui/icon-picker":re.default,"ui/color-picker":ke.default,"ui/tooltip":ne.default},!0),i.default=s.default},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.IndentClass=void 0;var a=function(){function v(b,g){for(var y=0;y<g.length;y++){var _=g[y];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(b,_.key,_)}}return function(b,g,y){return g&&v(b.prototype,g),y&&v(b,y),b}}(),s=function v(b,g,y){b===null&&(b=Function.prototype);var _=Object.getOwnPropertyDescriptor(b,g);if(_===void 0){var S=Object.getPrototypeOf(b);return S===null?void 0:v(S,g,y)}else{if("value"in _)return _.value;var N=_.get;return N===void 0?void 0:N.call(y)}},o=r(0),c=u(o);function u(v){return v&&v.__esModule?v:{default:v}}function d(v,b){if(!(v instanceof b))throw new TypeError("Cannot call a class as a function")}function h(v,b){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:v}function f(v,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);v.prototype=Object.create(b&&b.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(v,b):v.__proto__=b)}var p=function(v){f(b,v);function b(){return d(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,[{key:"add",value:function(y,_){if(_==="+1"||_==="-1"){var S=this.value(y)||0;_=_==="+1"?S+1:S-1}return _===0?(this.remove(y),!0):s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"add",this).call(this,y,_)}},{key:"canAdd",value:function(y,_){return s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"canAdd",this).call(this,y,_)||s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"canAdd",this).call(this,y,parseInt(_))}},{key:"value",value:function(y){return parseInt(s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,y))||void 0}}]),b}(c.default.Attributor.Class),w=new p("indent","ql-indent",{scope:c.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});i.IndentClass=w},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var a=r(4),s=o(a);function o(f){return f&&f.__esModule?f:{default:f}}function c(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function u(f,p){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:f}function d(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}var h=function(f){d(p,f);function p(){return c(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(s.default);h.blotName="blockquote",h.tagName="blockquote",i.default=h},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function p(w,v){for(var b=0;b<v.length;b++){var g=v[b];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(w,g.key,g)}}return function(w,v,b){return v&&p(w.prototype,v),b&&p(w,b),w}}(),s=r(4),o=c(s);function c(p){return p&&p.__esModule?p:{default:p}}function u(p,w){if(!(p instanceof w))throw new TypeError("Cannot call a class as a function")}function d(p,w){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:p}function h(p,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);p.prototype=Object.create(w&&w.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(p,w):p.__proto__=w)}var f=function(p){h(w,p);function w(){return u(this,w),d(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,null,[{key:"formats",value:function(b){return this.tagName.indexOf(b.tagName)+1}}]),w}(o.default);f.blotName="header",f.tagName=["H1","H2","H3","H4","H5","H6"],i.default=f},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.ListItem=void 0;var a=function(){function S(N,R){for(var D=0;D<R.length;D++){var E=R[D];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(N,E.key,E)}}return function(N,R,D){return R&&S(N.prototype,R),D&&S(N,D),N}}(),s=function S(N,R,D){N===null&&(N=Function.prototype);var E=Object.getOwnPropertyDescriptor(N,R);if(E===void 0){var C=Object.getPrototypeOf(N);return C===null?void 0:S(C,R,D)}else{if("value"in E)return E.value;var P=E.get;return P===void 0?void 0:P.call(D)}},o=r(0),c=p(o),u=r(4),d=p(u),h=r(25),f=p(h);function p(S){return S&&S.__esModule?S:{default:S}}function w(S,N,R){return N in S?Object.defineProperty(S,N,{value:R,enumerable:!0,configurable:!0,writable:!0}):S[N]=R,S}function v(S,N){if(!(S instanceof N))throw new TypeError("Cannot call a class as a function")}function b(S,N){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:S}function g(S,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);S.prototype=Object.create(N&&N.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(S,N):S.__proto__=N)}var y=function(S){g(N,S);function N(){return v(this,N),b(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return a(N,[{key:"format",value:function(D,E){D===_.blotName&&!E?this.replaceWith(c.default.create(this.statics.scope)):s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"format",this).call(this,D,E)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(D,E){return this.parent.isolate(this.offset(this.parent),this.length()),D===this.parent.statics.blotName?(this.parent.replaceWith(D,E),this):(this.parent.unwrap(),s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"replaceWith",this).call(this,D,E))}}],[{key:"formats",value:function(D){return D.tagName===this.tagName?void 0:s(N.__proto__||Object.getPrototypeOf(N),"formats",this).call(this,D)}}]),N}(d.default);y.blotName="list-item",y.tagName="LI";var _=function(S){g(N,S),a(N,null,[{key:"create",value:function(D){var E=D==="ordered"?"OL":"UL",C=s(N.__proto__||Object.getPrototypeOf(N),"create",this).call(this,E);return(D==="checked"||D==="unchecked")&&C.setAttribute("data-checked",D==="checked"),C}},{key:"formats",value:function(D){if(D.tagName==="OL")return"ordered";if(D.tagName==="UL")return D.hasAttribute("data-checked")?D.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function N(R){v(this,N);var D=b(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,R)),E=function(P){if(P.target.parentNode===R){var k=D.statics.formats(R),A=c.default.find(P.target);k==="checked"?A.format("list","unchecked"):k==="unchecked"&&A.format("list","checked")}};return R.addEventListener("touchstart",E),R.addEventListener("mousedown",E),D}return a(N,[{key:"format",value:function(D,E){this.children.length>0&&this.children.tail.format(D,E)}},{key:"formats",value:function(){return w({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(D,E){if(D instanceof y)s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"insertBefore",this).call(this,D,E);else{var C=E==null?this.length():E.offset(this),P=this.split(C);P.parent.insertBefore(D,P)}}},{key:"optimize",value:function(D){s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"optimize",this).call(this,D);var E=this.next;E!=null&&E.prev===this&&E.statics.blotName===this.statics.blotName&&E.domNode.tagName===this.domNode.tagName&&E.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(E.moveChildren(this),E.remove())}},{key:"replace",value:function(D){if(D.statics.blotName!==this.statics.blotName){var E=c.default.create(this.statics.defaultChild);D.moveChildren(E),this.appendChild(E)}s(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"replace",this).call(this,D)}}]),N}(f.default);_.blotName="list",_.scope=c.default.Scope.BLOCK_BLOT,_.tagName=["OL","UL"],_.defaultChild="list-item",_.allowedChildren=[y],i.ListItem=y,i.default=_},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var a=r(56),s=o(a);function o(f){return f&&f.__esModule?f:{default:f}}function c(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function u(f,p){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:f}function d(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}var h=function(f){d(p,f);function p(){return c(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(s.default);h.blotName="italic",h.tagName=["EM","I"],i.default=h},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function w(v,b){for(var g=0;g<b.length;g++){var y=b[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(v,y.key,y)}}return function(v,b,g){return b&&w(v.prototype,b),g&&w(v,g),v}}(),s=function w(v,b,g){v===null&&(v=Function.prototype);var y=Object.getOwnPropertyDescriptor(v,b);if(y===void 0){var _=Object.getPrototypeOf(v);return _===null?void 0:w(_,b,g)}else{if("value"in y)return y.value;var S=y.get;return S===void 0?void 0:S.call(g)}},o=r(6),c=u(o);function u(w){return w&&w.__esModule?w:{default:w}}function d(w,v){if(!(w instanceof v))throw new TypeError("Cannot call a class as a function")}function h(w,v){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:w}function f(w,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);w.prototype=Object.create(v&&v.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(w,v):w.__proto__=v)}var p=function(w){f(v,w);function v(){return d(this,v),h(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return a(v,null,[{key:"create",value:function(g){return g==="super"?document.createElement("sup"):g==="sub"?document.createElement("sub"):s(v.__proto__||Object.getPrototypeOf(v),"create",this).call(this,g)}},{key:"formats",value:function(g){if(g.tagName==="SUB")return"sub";if(g.tagName==="SUP")return"super"}}]),v}(c.default);p.blotName="script",p.tagName=["SUB","SUP"],i.default=p},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var a=r(6),s=o(a);function o(f){return f&&f.__esModule?f:{default:f}}function c(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function u(f,p){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:f}function d(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}var h=function(f){d(p,f);function p(){return c(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(s.default);h.blotName="strike",h.tagName="S",i.default=h},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var a=r(6),s=o(a);function o(f){return f&&f.__esModule?f:{default:f}}function c(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}function u(f,p){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:f}function d(f,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}var h=function(f){d(p,f);function p(){return c(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(s.default);h.blotName="underline",h.tagName="U",i.default=h},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function b(g,y){for(var _=0;_<y.length;_++){var S=y[_];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}return function(g,y,_){return y&&b(g.prototype,y),_&&b(g,_),g}}(),s=function b(g,y,_){g===null&&(g=Function.prototype);var S=Object.getOwnPropertyDescriptor(g,y);if(S===void 0){var N=Object.getPrototypeOf(g);return N===null?void 0:b(N,y,_)}else{if("value"in S)return S.value;var R=S.get;return R===void 0?void 0:R.call(_)}},o=r(0),c=d(o),u=r(27);function d(b){return b&&b.__esModule?b:{default:b}}function h(b,g){if(!(b instanceof g))throw new TypeError("Cannot call a class as a function")}function f(b,g){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:b}function p(b,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);b.prototype=Object.create(g&&g.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(b,g):b.__proto__=g)}var w=["alt","height","width"],v=function(b){p(g,b);function g(){return h(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,[{key:"format",value:function(_,S){w.indexOf(_)>-1?S?this.domNode.setAttribute(_,S):this.domNode.removeAttribute(_):s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,_,S)}}],[{key:"create",value:function(_){var S=s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,_);return typeof _=="string"&&S.setAttribute("src",this.sanitize(_)),S}},{key:"formats",value:function(_){return w.reduce(function(S,N){return _.hasAttribute(N)&&(S[N]=_.getAttribute(N)),S},{})}},{key:"match",value:function(_){return/\.(jpe?g|gif|png)$/.test(_)||/^data:image\/.+;base64/.test(_)}},{key:"sanitize",value:function(_){return(0,u.sanitize)(_,["http","https","data"])?_:"//:0"}},{key:"value",value:function(_){return _.getAttribute("src")}}]),g}(c.default.Embed);v.blotName="image",v.tagName="IMG",i.default=v},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function b(g,y){for(var _=0;_<y.length;_++){var S=y[_];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(g,S.key,S)}}return function(g,y,_){return y&&b(g.prototype,y),_&&b(g,_),g}}(),s=function b(g,y,_){g===null&&(g=Function.prototype);var S=Object.getOwnPropertyDescriptor(g,y);if(S===void 0){var N=Object.getPrototypeOf(g);return N===null?void 0:b(N,y,_)}else{if("value"in S)return S.value;var R=S.get;return R===void 0?void 0:R.call(_)}},o=r(4),c=r(27),u=d(c);function d(b){return b&&b.__esModule?b:{default:b}}function h(b,g){if(!(b instanceof g))throw new TypeError("Cannot call a class as a function")}function f(b,g){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:b}function p(b,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);b.prototype=Object.create(g&&g.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(b,g):b.__proto__=g)}var w=["height","width"],v=function(b){p(g,b);function g(){return h(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,[{key:"format",value:function(_,S){w.indexOf(_)>-1?S?this.domNode.setAttribute(_,S):this.domNode.removeAttribute(_):s(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,_,S)}}],[{key:"create",value:function(_){var S=s(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,_);return S.setAttribute("frameborder","0"),S.setAttribute("allowfullscreen",!0),S.setAttribute("src",this.sanitize(_)),S}},{key:"formats",value:function(_){return w.reduce(function(S,N){return _.hasAttribute(N)&&(S[N]=_.getAttribute(N)),S},{})}},{key:"sanitize",value:function(_){return u.default.sanitize(_)}},{key:"value",value:function(_){return _.getAttribute("src")}}]),g}(o.BlockEmbed);v.blotName="video",v.className="ql-video",v.tagName="IFRAME",i.default=v},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.FormulaBlot=void 0;var a=function(){function _(S,N){for(var R=0;R<N.length;R++){var D=N[R];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(S,D.key,D)}}return function(S,N,R){return N&&_(S.prototype,N),R&&_(S,R),S}}(),s=function _(S,N,R){S===null&&(S=Function.prototype);var D=Object.getOwnPropertyDescriptor(S,N);if(D===void 0){var E=Object.getPrototypeOf(S);return E===null?void 0:_(E,N,R)}else{if("value"in D)return D.value;var C=D.get;return C===void 0?void 0:C.call(R)}},o=r(35),c=p(o),u=r(5),d=p(u),h=r(9),f=p(h);function p(_){return _&&_.__esModule?_:{default:_}}function w(_,S){if(!(_ instanceof S))throw new TypeError("Cannot call a class as a function")}function v(_,S){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:_}function b(_,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);_.prototype=Object.create(S&&S.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(_,S):_.__proto__=S)}var g=function(_){b(S,_);function S(){return w(this,S),v(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return a(S,null,[{key:"create",value:function(R){var D=s(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this,R);return typeof R=="string"&&(window.katex.render(R,D,{throwOnError:!1,errorColor:"#f00"}),D.setAttribute("data-value",R)),D}},{key:"value",value:function(R){return R.getAttribute("data-value")}}]),S}(c.default);g.blotName="formula",g.className="ql-formula",g.tagName="SPAN";var y=function(_){b(S,_),a(S,null,[{key:"register",value:function(){d.default.register(g,!0)}}]);function S(){w(this,S);var N=v(this,(S.__proto__||Object.getPrototypeOf(S)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return N}return S}(f.default);i.FormulaBlot=g,i.default=y},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.CodeToken=i.CodeBlock=void 0;var a=function(){function R(D,E){for(var C=0;C<E.length;C++){var P=E[C];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(D,P.key,P)}}return function(D,E,C){return E&&R(D.prototype,E),C&&R(D,C),D}}(),s=function R(D,E,C){D===null&&(D=Function.prototype);var P=Object.getOwnPropertyDescriptor(D,E);if(P===void 0){var k=Object.getPrototypeOf(D);return k===null?void 0:R(k,E,C)}else{if("value"in P)return P.value;var A=P.get;return A===void 0?void 0:A.call(C)}},o=r(0),c=v(o),u=r(5),d=v(u),h=r(9),f=v(h),p=r(13),w=v(p);function v(R){return R&&R.__esModule?R:{default:R}}function b(R,D){if(!(R instanceof D))throw new TypeError("Cannot call a class as a function")}function g(R,D){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:R}function y(R,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);R.prototype=Object.create(D&&D.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(R,D):R.__proto__=D)}var _=function(R){y(D,R);function D(){return b(this,D),g(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return a(D,[{key:"replaceWith",value:function(C){this.domNode.textContent=this.domNode.textContent,this.attach(),s(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"replaceWith",this).call(this,C)}},{key:"highlight",value:function(C){var P=this.domNode.textContent;this.cachedText!==P&&((P.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=C(P),this.domNode.normalize(),this.attach()),this.cachedText=P)}}]),D}(w.default);_.className="ql-syntax";var S=new c.default.Attributor.Class("token","hljs",{scope:c.default.Scope.INLINE}),N=function(R){y(D,R),a(D,null,[{key:"register",value:function(){d.default.register(S,!0),d.default.register(_,!0)}}]);function D(E,C){b(this,D);var P=g(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,E,C));if(typeof P.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var k=null;return P.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(k),k=setTimeout(function(){P.highlight(),k=null},P.options.interval)}),P.highlight(),P}return a(D,[{key:"highlight",value:function(){var C=this;if(!this.quill.selection.composing){this.quill.update(d.default.sources.USER);var P=this.quill.getSelection();this.quill.scroll.descendants(_).forEach(function(k){k.highlight(C.options.highlight)}),this.quill.update(d.default.sources.SILENT),P!=null&&this.quill.setSelection(P,d.default.sources.SILENT)}}}]),D}(f.default);N.DEFAULTS={highlight:function(){return window.hljs==null?null:function(R){var D=window.hljs.highlightAuto(R);return D.value}}(),interval:1e3},i.CodeBlock=_,i.CodeToken=S,i.default=N},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,i){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,i){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,i){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,i){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,i){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,i,r){Object.defineProperty(i,"__esModule",{value:!0}),i.default=i.BubbleTooltip=void 0;var a=function D(E,C,P){E===null&&(E=Function.prototype);var k=Object.getOwnPropertyDescriptor(E,C);if(k===void 0){var A=Object.getPrototypeOf(E);return A===null?void 0:D(A,C,P)}else{if("value"in k)return k.value;var I=k.get;return I===void 0?void 0:I.call(P)}},s=function(){function D(E,C){for(var P=0;P<C.length;P++){var k=C[P];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(E,k.key,k)}}return function(E,C,P){return C&&D(E.prototype,C),P&&D(E,P),E}}(),o=r(3),c=b(o),u=r(8),d=b(u),h=r(43),f=b(h),p=r(15),w=r(41),v=b(w);function b(D){return D&&D.__esModule?D:{default:D}}function g(D,E){if(!(D instanceof E))throw new TypeError("Cannot call a class as a function")}function y(D,E){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:D}function _(D,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);D.prototype=Object.create(E&&E.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(D,E):D.__proto__=E)}var S=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],N=function(D){_(E,D);function E(C,P){g(this,E),P.modules.toolbar!=null&&P.modules.toolbar.container==null&&(P.modules.toolbar.container=S);var k=y(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,C,P));return k.quill.container.classList.add("ql-bubble"),k}return s(E,[{key:"extendToolbar",value:function(P){this.tooltip=new R(this.quill,this.options.bounds),this.tooltip.root.appendChild(P.container),this.buildButtons([].slice.call(P.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(P.container.querySelectorAll("select")),v.default)}}]),E}(f.default);N.DEFAULTS=(0,c.default)(!0,{},f.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(E){E?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var R=function(D){_(E,D);function E(C,P){g(this,E);var k=y(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,C,P));return k.quill.on(d.default.events.EDITOR_CHANGE,function(A,I,T,z){if(A===d.default.events.SELECTION_CHANGE)if(I!=null&&I.length>0&&z===d.default.sources.USER){k.show(),k.root.style.left="0px",k.root.style.width="",k.root.style.width=k.root.offsetWidth+"px";var j=k.quill.getLines(I.index,I.length);if(j.length===1)k.position(k.quill.getBounds(I));else{var W=j[j.length-1],$=k.quill.getIndex(W),q=Math.min(W.length()-1,I.index+I.length-$),G=k.quill.getBounds(new p.Range($,q));k.position(G)}}else document.activeElement!==k.textbox&&k.quill.hasFocus()&&k.hide()}),k}return s(E,[{key:"listen",value:function(){var P=this;a(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){P.root.classList.remove("ql-editing")}),this.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!P.root.classList.contains("ql-hidden")){var k=P.quill.getSelection();k!=null&&P.position(P.quill.getBounds(k))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(P){var k=a(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"position",this).call(this,P),A=this.root.querySelector(".ql-tooltip-arrow");if(A.style.marginLeft="",k===0)return k;A.style.marginLeft=-1*k-A.offsetWidth/2+"px"}}]),E}(h.BaseTooltip);R.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),i.BubbleTooltip=R,i.default=N},function(n,i,r){n.exports=r(63)}]).default})})(see);var B4e=see.exports,z4e=zt&&zt.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var a in r)r.hasOwnProperty(a)&&(i[a]=r[a])},t(e,n)};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=n===null?Object.create(n):(i.prototype=n.prototype,new i)}}(),QC=zt&&zt.__assign||function(){return QC=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++){e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},QC.apply(this,arguments)},j4e=zt&&zt.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var i=Array(t),r=0,e=0;e<n;e++)for(var a=arguments[e],s=0,o=a.length;s<o;s++,r++)i[r]=a[s];return i},F6=zt&&zt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Nu=F6(Z),$4e=F6(k9),xx=F6(M4e),cq=F6(B4e),W4e=function(t){z4e(e,t);function e(n){var i=t.call(this,n)||this;i.dirtyProps=["modules","formats","bounds","theme","children"],i.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],i.state={generation:0},i.selection=null,i.onEditorChange=function(a,s,o,c){var u,d,h,f;a==="text-change"?(d=(u=i).onEditorChangeText)===null||d===void 0||d.call(u,i.editor.root.innerHTML,s,c,i.unprivilegedEditor):a==="selection-change"&&((f=(h=i).onEditorChangeSelection)===null||f===void 0||f.call(h,s,c,i.unprivilegedEditor))};var r=i.isControlled()?n.value:n.defaultValue;return i.value=r??"",i}return e.prototype.validateProps=function(n){var i;if(Nu.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Nu.default.Children.count(n.children)){var r=Nu.default.Children.only(n.children);if(((i=r)===null||i===void 0?void 0:i.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(n,i){var r=this,a;if(this.validateProps(n),!this.editor||this.state.generation!==i.generation)return!0;if("value"in n){var s=this.getEditorContents(),o=(a=n.value,a??"");this.isEqualValue(o,s)||this.setEditorContents(this.editor,o)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),j4e(this.cleanProps,this.dirtyProps).some(function(c){return!xx.default(n[c],r.props[c])})},e.prototype.shouldComponentRegenerate=function(n){var i=this;return this.dirtyProps.some(function(r){return!xx.default(n[r],i.props[r])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(n,i){var r=this;if(this.editor&&this.shouldComponentRegenerate(n)){var a=this.editor.getContents(),s=this.editor.getSelection();this.regenerationSnapshot={delta:a,selection:s},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==i.generation){var o=this.regenerationSnapshot,a=o.delta,c=o.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(a),uq(function(){return r.setEditorSelection(u,c)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(n,i){var r=new cq.default(n,i);return i.tabIndex!=null&&this.setEditorTabIndex(r,i.tabIndex),this.hookEditor(r),r},e.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(n){return n&&n.ops},e.prototype.isEqualValue=function(n,i){return this.isDelta(n)&&this.isDelta(i)?xx.default(n.ops,i.ops):xx.default(n,i)},e.prototype.setEditorContents=function(n,i){var r=this;this.value=i;var a=this.getEditorSelection();typeof i=="string"?n.setContents(n.clipboard.convert(i)):n.setContents(i),uq(function(){return r.setEditorSelection(n,a)})},e.prototype.setEditorSelection=function(n,i){if(this.selection=i,i){var r=n.getLength();i.index=Math.max(0,Math.min(i.index,r-1)),i.length=Math.max(0,Math.min(i.length,r-1-i.index)),n.setSelection(i)}},e.prototype.setEditorTabIndex=function(n,i){var r,a;!((a=(r=n)===null||r===void 0?void 0:r.scroll)===null||a===void 0)&&a.domNode&&(n.scroll.domNode.tabIndex=i)},e.prototype.setEditorReadOnly=function(n,i){i?n.disable():n.enable()},e.prototype.makeUnprivilegedEditor=function(n){var i=n;return{getHTML:function(){return i.root.innerHTML},getLength:i.getLength.bind(i),getText:i.getText.bind(i),getContents:i.getContents.bind(i),getSelection:i.getSelection.bind(i),getBounds:i.getBounds.bind(i)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=$4e.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},e.prototype.renderEditingArea=function(){var n=this,i=this.props,r=i.children,a=i.preserveWhitespace,s=this.state.generation,o={key:s,ref:function(c){n.editingArea=c}};return Nu.default.Children.count(r)?Nu.default.cloneElement(Nu.default.Children.only(r),o):a?Nu.default.createElement("pre",QC({},o)):Nu.default.createElement("div",QC({},o))},e.prototype.render=function(){var n;return Nu.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(n,i,r,a){var s,o;if(this.editor){var c=this.isDelta(this.value)?a.getContents():a.getHTML();c!==this.getEditorContents()&&(this.lastDeltaChangeSet=i,this.value=c,(o=(s=this.props).onChange)===null||o===void 0||o.call(s,n,i,r,a))}},e.prototype.onEditorChangeSelection=function(n,i,r){var a,s,o,c,u,d;if(this.editor){var h=this.getEditorSelection(),f=!h&&n,p=h&&!n;xx.default(n,h)||(this.selection=n,(s=(a=this.props).onChangeSelection)===null||s===void 0||s.call(a,n,i,r),f?(c=(o=this.props).onFocus)===null||c===void 0||c.call(o,n,i,r):p&&((d=(u=this.props).onBlur)===null||d===void 0||d.call(u,h,i,r)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=cq.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(Nu.default.Component);function uq(t){Promise.resolve().then(t)}var q4e=W4e;const Yr=TO(q4e);const H4e="modulepreload",V4e=function(t){return"/"+t},dq={},c4=function(e,n,i){if(!n||n.length===0)return e();const r=document.getElementsByTagName("link");return Promise.all(n.map(a=>{if(a=V4e(a),a in dq)return;dq[a]=!0;const s=a.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(!!i)for(let d=r.length-1;d>=0;d--){const h=r[d];if(h.href===a&&(!s||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${o}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":H4e,s||(u.as="script",u.crossOrigin=""),u.href=a,document.head.appendChild(u),s)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>e()).catch(a=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a})},Es=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),T7=[.001,0,0,.001,0,0],eI=1.35,sl={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},lp={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},u_="pdfjs_internal_editor_",Jt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},bn={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},G4e={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},D7={TRIANGLES:1,LATTICE:2,PATCH:3},Or={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},u4={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},_r={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Hy={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},O6={ERRORS:0,WARNINGS:1,INFOS:5},d_={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},_x={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},X4e={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let U6=O6.WARNINGS;function K4e(t){Number.isInteger(t)&&(U6=t)}function Y4e(){return U6}function M6(t){U6>=O6.INFOS&&console.info(`Info: ${t}`)}function Gt(t){U6>=O6.WARNINGS&&console.warn(`Warning: ${t}`)}function hi(t){throw new Error(t)}function wn(t,e){t||hi(e)}function J4e(t){switch(t==null?void 0:t.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function oee(t,e=null,n=null){if(!t)return null;if(n&&typeof t=="string"){if(n.addDefaultProtocol&&t.startsWith("www.")){const r=t.match(/\./g);(r==null?void 0:r.length)>=2&&(t=`http://${t}`)}if(n.tryConvertEncoding)try{t=nCe(t)}catch{}}const i=e?URL.parse(t,e):URL.parse(t);return J4e(i)?i:null}function lee(t,e,n=!1){const i=URL.parse(t);return i?(i.hash=e,i.href):n&&oee(t,"http://example.com")?t.split("#",1)[0]+`${e?`#${e}`:""}`:""}function Xt(t,e,n,i=!1){return Object.defineProperty(t,e,{value:n,enumerable:!i,configurable:!0,writable:!1}),n}const iy=function(){function e(n,i){this.message=n,this.name=i}return e.prototype=new Error,e.constructor=e,e}();class hq extends iy{constructor(e,n){super(e,"PasswordException"),this.code=n}}class tI extends iy{constructor(e,n){super(e,"UnknownErrorException"),this.details=n}}class P7 extends iy{constructor(e){super(e,"InvalidPDFException")}}class eE extends iy{constructor(e,n,i){super(e,"ResponseException"),this.status=n,this.missing=i}}class Z4e extends iy{constructor(e){super(e,"FormatError")}}class Lm extends iy{constructor(e){super(e,"AbortException")}}function cee(t){(typeof t!="object"||(t==null?void 0:t.length)===void 0)&&hi("Invalid argument for bytesToString");const e=t.length,n=8192;if(e<n)return String.fromCharCode.apply(null,t);const i=[];for(let r=0;r<e;r+=n){const a=Math.min(r+n,e),s=t.subarray(r,a);i.push(String.fromCharCode.apply(null,s))}return i.join("")}function zN(t){typeof t!="string"&&hi("Invalid argument for stringToBytes");const e=t.length,n=new Uint8Array(e);for(let i=0;i<e;++i)n[i]=t.charCodeAt(i)&255;return n}function Q4e(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,t&255)}function eCe(){const t=new Uint8Array(4);return t[0]=1,new Uint32Array(t.buffer,0,1)[0]===1}function tCe(){try{return new Function(""),!0}catch{return!1}}class Wr{static get isLittleEndian(){return Xt(this,"isLittleEndian",eCe())}static get isEvalSupported(){return Xt(this,"isEvalSupported",tCe())}static get isOffscreenCanvasSupported(){return Xt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Xt(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return Xt(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return Xt(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:n}=navigator;return Xt(this,"platform",{isAndroid:n.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:n.includes("Firefox")})}static get isCSSRoundSupported(){var e,n;return Xt(this,"isCSSRoundSupported",(n=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:n.call(e,"width: round(1.5px, 1px)"))}}const nI=Array.from(Array(256).keys(),t=>t.toString(16).padStart(2,"0"));var Hv,d4,O_,I7;class _t{static makeHexColor(e,n,i){return`#${nI[e]}${nI[n]}${nI[i]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,n){let i;e[0]?(e[0]<0&&(i=n[0],n[0]=n[2],n[2]=i),n[0]*=e[0],n[2]*=e[0],e[3]<0&&(i=n[1],n[1]=n[3],n[3]=i),n[1]*=e[3],n[3]*=e[3]):(i=n[0],n[0]=n[1],n[1]=i,i=n[2],n[2]=n[3],n[3]=i,e[1]<0&&(i=n[1],n[1]=n[3],n[3]=i),n[1]*=e[1],n[3]*=e[1],e[2]<0&&(i=n[0],n[0]=n[2],n[2]=i),n[0]*=e[2],n[2]*=e[2]),n[0]+=e[4],n[1]+=e[5],n[2]+=e[4],n[3]+=e[5]}static transform(e,n){return[e[0]*n[0]+e[2]*n[1],e[1]*n[0]+e[3]*n[1],e[0]*n[2]+e[2]*n[3],e[1]*n[2]+e[3]*n[3],e[0]*n[4]+e[2]*n[5]+e[4],e[1]*n[4]+e[3]*n[5]+e[5]]}static multiplyByDOMMatrix(e,n){return[e[0]*n.a+e[2]*n.b,e[1]*n.a+e[3]*n.b,e[0]*n.c+e[2]*n.d,e[1]*n.c+e[3]*n.d,e[0]*n.e+e[2]*n.f+e[4],e[1]*n.e+e[3]*n.f+e[5]]}static applyTransform(e,n,i=0){const r=e[i],a=e[i+1];e[i]=r*n[0]+a*n[2]+n[4],e[i+1]=r*n[1]+a*n[3]+n[5]}static applyTransformToBezier(e,n,i=0){const r=n[0],a=n[1],s=n[2],o=n[3],c=n[4],u=n[5];for(let d=0;d<6;d+=2){const h=e[i+d],f=e[i+d+1];e[i+d]=h*r+f*s+c,e[i+d+1]=h*a+f*o+u}}static applyInverseTransform(e,n){const i=e[0],r=e[1],a=n[0]*n[3]-n[1]*n[2];e[0]=(i*n[3]-r*n[2]+n[2]*n[5]-n[4]*n[3])/a,e[1]=(-i*n[1]+r*n[0]+n[4]*n[1]-n[5]*n[0])/a}static axialAlignedBoundingBox(e,n,i){const r=n[0],a=n[1],s=n[2],o=n[3],c=n[4],u=n[5],d=e[0],h=e[1],f=e[2],p=e[3];let w=r*d+c,v=w,b=r*f+c,g=b,y=o*h+u,_=y,S=o*p+u,N=S;if(a!==0||s!==0){const R=a*d,D=a*f,E=s*h,C=s*p;w+=E,g+=E,b+=C,v+=C,y+=R,N+=R,S+=D,_+=D}i[0]=Math.min(i[0],w,b,v,g),i[1]=Math.min(i[1],y,S,_,N),i[2]=Math.max(i[2],w,b,v,g),i[3]=Math.max(i[3],y,S,_,N)}static inverseTransform(e){const n=e[0]*e[3]-e[1]*e[2];return[e[3]/n,-e[1]/n,-e[2]/n,e[0]/n,(e[2]*e[5]-e[4]*e[3])/n,(e[4]*e[1]-e[5]*e[0])/n]}static singularValueDecompose2dScale(e,n){const i=e[0],r=e[1],a=e[2],s=e[3],o=i**2+r**2,c=i*a+r*s,u=a**2+s**2,d=(o+u)/2,h=Math.sqrt(d**2-(o*u-c**2));n[0]=Math.sqrt(d+h||1),n[1]=Math.sqrt(d-h||1)}static normalizeRect(e){const n=e.slice(0);return e[0]>e[2]&&(n[0]=e[2],n[2]=e[0]),e[1]>e[3]&&(n[1]=e[3],n[3]=e[1]),n}static intersect(e,n){const i=Math.max(Math.min(e[0],e[2]),Math.min(n[0],n[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(n[0],n[2]));if(i>r)return null;const a=Math.max(Math.min(e[1],e[3]),Math.min(n[1],n[3])),s=Math.min(Math.max(e[1],e[3]),Math.max(n[1],n[3]));return a>s?null:[i,a,r,s]}static pointBoundingBox(e,n,i){i[0]=Math.min(i[0],e),i[1]=Math.min(i[1],n),i[2]=Math.max(i[2],e),i[3]=Math.max(i[3],n)}static rectBoundingBox(e,n,i,r,a){a[0]=Math.min(a[0],e,i),a[1]=Math.min(a[1],n,r),a[2]=Math.max(a[2],e,i),a[3]=Math.max(a[3],n,r)}static bezierBoundingBox(e,n,i,r,a,s,o,c,u){u[0]=Math.min(u[0],e,o),u[1]=Math.min(u[1],n,c),u[2]=Math.max(u[2],e,o),u[3]=Math.max(u[3],n,c),he(this,O_,I7).call(this,e,i,a,o,n,r,s,c,3*(-e+3*(i-a)+o),6*(e-2*i+a),3*(i-e),u),he(this,O_,I7).call(this,e,i,a,o,n,r,s,c,3*(-n+3*(r-s)+c),6*(n-2*r+s),3*(r-n),u)}}Hv=new WeakSet,d4=function(e,n,i,r,a,s,o,c,u,d){if(u<=0||u>=1)return;const h=1-u,f=u*u,p=f*u,w=h*(h*(h*e+3*u*n)+3*f*i)+p*r,v=h*(h*(h*a+3*u*s)+3*f*o)+p*c;d[0]=Math.min(d[0],w),d[1]=Math.min(d[1],v),d[2]=Math.max(d[2],w),d[3]=Math.max(d[3],v)},O_=new WeakSet,I7=function(e,n,i,r,a,s,o,c,u,d,h,f){if(Math.abs(u)<1e-12){Math.abs(d)>=1e-12&&he(this,Hv,d4).call(this,e,n,i,r,a,s,o,c,-h/d,f);return}const p=d**2-4*h*u;if(p<0)return;const w=Math.sqrt(p),v=2*u;he(this,Hv,d4).call(this,e,n,i,r,a,s,o,c,(-d+w)/v,f),he(this,Hv,d4).call(this,e,n,i,r,a,s,o,c,(-d-w)/v,f)},J(_t,Hv),J(_t,O_);function nCe(t){return decodeURIComponent(escape(t))}let iI=null,fq=null;function iCe(t){return iI||(iI=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,fq=new Map([["","t"]])),t.replaceAll(iI,(e,n,i)=>n?n.normalize("NFKC"):fq.get(i))}function uee(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const t=new Uint8Array(32);return crypto.getRandomValues(t),cee(t)}const fv="pdfjs_internal_id_";function rCe(t,e,n){if(!Array.isArray(n)||n.length<2)return!1;const[i,r,...a]=n;if(!t(i)&&!Number.isInteger(i)||!e(r))return!1;const s=a.length;let o=!0;switch(r.name){case"XYZ":if(s<2||s>3)return!1;break;case"Fit":case"FitB":return s===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(s>1)return!1;break;case"FitR":if(s!==4)return!1;o=!1;break;default:return!1}for(const c of a)if(!(typeof c=="number"||o&&c===null))return!1;return!0}function Ts(t,e,n){return Math.min(Math.max(t,e),n)}function dee(t){return Uint8Array.prototype.toBase64?t.toBase64():btoa(cee(t))}function aCe(t){return Uint8Array.fromBase64?Uint8Array.fromBase64(t):zN(atob(t))}typeof Promise.try!="function"&&(Promise.try=function(t,...e){return new Promise(n=>{n(t(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(t){return t.reduce((e,n)=>e+n,0)});class h_{static textContent(e){const n=[],i={items:n,styles:Object.create(null)};function r(a){var c;if(!a)return;let s=null;const o=a.name;if(o==="#text")s=a.value;else if(h_.shouldBuildText(o))(c=a==null?void 0:a.attributes)!=null&&c.textContent?s=a.attributes.textContent:a.value&&(s=a.value);else return;if(s!==null&&n.push({str:s}),!!a.children)for(const u of a.children)r(u)}return r(e),i}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class hee{static setupStorage(e,n,i,r,a){const s=r.getValue(n,{value:null});switch(i.name){case"textarea":if(s.value!==null&&(e.textContent=s.value),a==="print")break;e.addEventListener("input",o=>{r.setValue(n,{value:o.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(s.value===i.attributes.xfaOn?e.setAttribute("checked",!0):s.value===i.attributes.xfaOff&&e.removeAttribute("checked"),a==="print")break;e.addEventListener("change",o=>{r.setValue(n,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(s.value!==null&&e.setAttribute("value",s.value),a==="print")break;e.addEventListener("input",o=>{r.setValue(n,{value:o.target.value})})}break;case"select":if(s.value!==null){e.setAttribute("value",s.value);for(const o of i.children)o.attributes.value===s.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const c=o.target.options,u=c.selectedIndex===-1?"":c[c.selectedIndex].value;r.setValue(n,{value:u})});break}}static setAttributes({html:e,element:n,storage:i=null,intent:r,linkService:a}){const{attributes:s}=n,o=e instanceof HTMLAnchorElement;s.type==="radio"&&(s.name=`${s.name}-${r}`);for(const[c,u]of Object.entries(s))if(u!=null)switch(c){case"class":u.length&&e.setAttribute(c,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!o||c!=="href"&&c!=="newWindow")&&e.setAttribute(c,u)}o&&a.addLinkAttributes(e,s.href,s.newWindow),i&&s.dataId&&this.setupStorage(e,s.dataId,n,i)}static render(e){var h,f;const n=e.annotationStorage,i=e.linkService,r=e.xfaHtml,a=e.intent||"display",s=document.createElement(r.name);r.attributes&&this.setAttributes({html:s,element:r,intent:a,linkService:i});const o=a!=="richText",c=e.div;if(c.append(s),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;c.style.transform=p}o&&c.setAttribute("class","xfaLayer xfaFont");const u=[];if(r.children.length===0){if(r.value){const p=document.createTextNode(r.value);s.append(p),o&&h_.shouldBuildText(r.name)&&u.push(p)}return{textDivs:u}}const d=[[r,-1,s]];for(;d.length>0;){const[p,w,v]=d.at(-1);if(w+1===p.children.length){d.pop();continue}const b=p.children[++d.at(-1)[1]];if(b===null)continue;const{name:g}=b;if(g==="#text"){const _=document.createTextNode(b.value);u.push(_),v.append(_);continue}const y=(h=b==null?void 0:b.attributes)!=null&&h.xmlns?document.createElementNS(b.attributes.xmlns,g):document.createElement(g);if(v.append(y),b.attributes&&this.setAttributes({html:y,element:b,storage:n,intent:a,linkService:i}),((f=b.children)==null?void 0:f.length)>0)d.push([b,-1,y]);else if(b.value){const _=document.createTextNode(b.value);o&&h_.shouldBuildText(g)&&u.push(_),y.append(_)}}for(const p of c.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const n=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=n,e.div.hidden=!1}}const Zd="http://www.w3.org/2000/svg",Cg=class Cg{};it(Cg,"CSS",96),it(Cg,"PDF",72),it(Cg,"PDF_TO_CSS_UNITS",Cg.CSS/Cg.PDF);let Fm=Cg;async function jN(t,e="text"){if(Hx(t,document.baseURI)){const n=await fetch(t);if(!n.ok)throw new Error(n.statusText);switch(e){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise((n,i)=>{const r=new XMLHttpRequest;r.open("GET",t,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":n(r.response);return}n(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})}class $N{constructor({viewBox:e,userUnit:n,scale:i,rotation:r,offsetX:a=0,offsetY:s=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=n,this.scale=i,this.rotation=r,this.offsetX=a,this.offsetY=s,i*=n;const c=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let d,h,f,p;switch(r%=360,r<0&&(r+=360),r){case 180:d=-1,h=0,f=0,p=1;break;case 90:d=0,h=1,f=1,p=0;break;case 270:d=0,h=-1,f=-1,p=0;break;case 0:d=1,h=0,f=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(f=-f,p=-p);let w,v,b,g;d===0?(w=Math.abs(u-e[1])*i+a,v=Math.abs(c-e[0])*i+s,b=(e[3]-e[1])*i,g=(e[2]-e[0])*i):(w=Math.abs(c-e[0])*i+a,v=Math.abs(u-e[1])*i+s,b=(e[2]-e[0])*i,g=(e[3]-e[1])*i),this.transform=[d*i,h*i,f*i,p*i,w-d*i*c-f*i*u,v-h*i*c-p*i*u],this.width=b,this.height=g}get rawDims(){const e=this.viewBox;return Xt(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:n=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:a=!1}={}){return new $N({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:n,offsetX:i,offsetY:r,dontFlip:a})}convertToViewportPoint(e,n){const i=[e,n];return _t.applyTransform(i,this.transform),i}convertToViewportRectangle(e){const n=[e[0],e[1]];_t.applyTransform(n,this.transform);const i=[e[2],e[3]];return _t.applyTransform(i,this.transform),[n[0],n[1],i[0],i[1]]}convertToPdfPoint(e,n){const i=[e,n];return _t.applyInverseTransform(i,this.transform),i}}class RU extends iy{constructor(e,n=0){super(e,"RenderingCancelledException"),this.extraDelay=n}}function B6(t){const e=t.length;let n=0;for(;n<e&&t[n].trim()==="";)n++;return t.substring(n,n+5).toLowerCase()==="data:"}function LU(t){return typeof t=="string"&&/\.pdf$/i.test(t)}function sCe(t){return[t]=t.split(/[#?]/,1),t.substring(t.lastIndexOf("/")+1)}function oCe(t,e="document.pdf"){if(typeof t!="string")return e;if(B6(t))return Gt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const i=(o=>{try{return new URL(o)}catch{try{return new URL(decodeURIComponent(o))}catch{try{return new URL(o,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(o),"https://foo.bar")}catch{return null}}}}})(t);if(!i)return e;const r=o=>{try{let c=decodeURIComponent(o);return c.includes("/")?(c=c.split("/").at(-1),c.test(/^\.pdf$/i)?c:o):c}catch{return o}},a=/\.pdf$/i,s=i.pathname.split("/").at(-1);if(a.test(s))return r(s);if(i.searchParams.size>0){const o=Array.from(i.searchParams.values()).reverse();for(const u of o)if(a.test(u))return r(u);const c=Array.from(i.searchParams.keys()).reverse();for(const u of c)if(a.test(u))return r(u)}if(i.hash){const c=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(i.hash);if(c)return r(c[0])}return e}class pq{constructor(){it(this,"started",Object.create(null));it(this,"times",[])}time(e){e in this.started&&Gt(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Gt(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let n=0;for(const{name:i}of this.times)n=Math.max(i.length,n);for(const{name:i,start:r,end:a}of this.times)e.push(`${i.padEnd(n)} ${a-r}ms
`);return e.join("")}}function Hx(t,e){const n=e?URL.parse(t,e):URL.parse(t);return(n==null?void 0:n.protocol)==="http:"||(n==null?void 0:n.protocol)==="https:"}function fc(t){t.preventDefault()}function rr(t){t.preventDefault(),t.stopPropagation()}function lCe(t){console.log("Deprecated API usage: "+t)}var U_;class tE{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;x(this,U_)||ie(this,U_,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const n=x(this,U_).exec(e);if(!n)return null;const i=parseInt(n[1],10);let r=parseInt(n[2],10);r=r>=1&&r<=12?r-1:0;let a=parseInt(n[3],10);a=a>=1&&a<=31?a:1;let s=parseInt(n[4],10);s=s>=0&&s<=23?s:0;let o=parseInt(n[5],10);o=o>=0&&o<=59?o:0;let c=parseInt(n[6],10);c=c>=0&&c<=59?c:0;const u=n[7]||"Z";let d=parseInt(n[8],10);d=d>=0&&d<=23?d:0;let h=parseInt(n[9],10)||0;return h=h>=0&&h<=59?h:0,u==="-"?(s+=d,o+=h):u==="+"&&(s-=d,o-=h),new Date(Date.UTC(i,r,a,s,o,c))}}U_=new WeakMap,J(tE,U_,void 0);function cCe(t,{scale:e=1,rotation:n=0}){const{width:i,height:r}=t.attributes.style,a=[0,0,parseInt(i),parseInt(r)];return new $N({viewBox:a,userUnit:1,scale:e,rotation:n})}function WN(t){if(t.startsWith("#")){const e=parseInt(t.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return t.startsWith("rgb(")?t.slice(4,-1).split(",").map(e=>parseInt(e)):t.startsWith("rgba(")?t.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Gt(`Not a valid color format: "${t}"`),[0,0,0])}function uCe(t){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const n of t.keys()){e.style.color=n;const i=window.getComputedStyle(e).color;t.set(n,WN(i))}e.remove()}function $i(t){const{a:e,b:n,c:i,d:r,e:a,f:s}=t.getTransform();return[e,n,i,r,a,s]}function ku(t){const{a:e,b:n,c:i,d:r,e:a,f:s}=t.getTransform().invertSelf();return[e,n,i,r,a,s]}function $0(t,e,n=!1,i=!0){if(e instanceof $N){const{pageWidth:r,pageHeight:a}=e.rawDims,{style:s}=t,o=Wr.isCSSRoundSupported,c=`var(--total-scale-factor) * ${r}px`,u=`var(--total-scale-factor) * ${a}px`,d=o?`round(down, ${c}, var(--scale-round-x))`:`calc(${c})`,h=o?`round(down, ${u}, var(--scale-round-y))`:`calc(${u})`;!n||e.rotation%180===0?(s.width=d,s.height=h):(s.width=h,s.height=d)}i&&t.setAttribute("data-main-rotation",e.rotation)}class Sd{constructor(){const{pixelRatio:e}=Sd;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,n,i,r,a=-1){let s=1/0,o=1/0,c=1/0;i=Sd.capPixels(i,a),i>0&&(s=Math.sqrt(i/(e*n))),r!==-1&&(o=r/e,c=r/n);const u=Math.min(s,o,c);return this.sx>u||this.sy>u?(this.sx=u,this.sy=u,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,n){if(n>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+n/100));return e>0?Math.min(e,i):i}return e}}const R7=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class dCe{static get isDarkMode(){var e;return Xt(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}class hCe{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:n}=e;n.width=n.height="0",n.display="none",n.color="var(--comment-fg-color)",document.body.append(e);const{color:i}=window.getComputedStyle(e);return e.remove(),Xt(this,"commentForegroundColor",WN(i))}}function fCe(t,e,n,i){i=Math.min(Math.max(i??1,0),1);const r=255*(1-i);return t=Math.round(t*i+r),e=Math.round(e*i+r),n=Math.round(n*i+r),[t,e,n]}function mq(t,e){const n=t[0]/255,i=t[1]/255,r=t[2]/255,a=Math.max(n,i,r),s=Math.min(n,i,r),o=(a+s)/2;if(a===s)e[0]=e[1]=0;else{const c=a-s;switch(e[1]=o<.5?c/(a+s):c/(2-a-s),a){case n:e[0]=((i-r)/c+(i<r?6:0))*60;break;case i:e[0]=((r-n)/c+2)*60;break;case r:e[0]=((n-i)/c+4)*60;break}}e[2]=o}function L7(t,e){const n=t[0],i=t[1],r=t[2],a=(1-Math.abs(2*r-1))*i,s=a*(1-Math.abs(n/60%2-1)),o=r-a/2;switch(Math.floor(n/60)){case 0:e[0]=a+o,e[1]=s+o,e[2]=o;break;case 1:e[0]=s+o,e[1]=a+o,e[2]=o;break;case 2:e[0]=o,e[1]=a+o,e[2]=s+o;break;case 3:e[0]=o,e[1]=s+o,e[2]=a+o;break;case 4:e[0]=s+o,e[1]=o,e[2]=a+o;break;case 5:case 6:e[0]=a+o,e[1]=o,e[2]=s+o;break}}function gq(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function yq(t,e,n){L7(t,n),n.map(gq);const i=.2126*n[0]+.7152*n[1]+.0722*n[2];L7(e,n),n.map(gq);const r=.2126*n[0]+.7152*n[1]+.0722*n[2];return i>r?(i+.05)/(r+.05):(r+.05)/(i+.05)}const vq=new Map;function pCe(t,e){const n=t[0]+t[1]*256+t[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let i=vq.get(n);if(i)return i;const r=new Float32Array(9),a=r.subarray(0,3),s=r.subarray(3,6);mq(t,s);const o=r.subarray(6,9);mq(e,o);const c=o[2]<.5,u=c?12:4.5;if(s[2]=c?Math.sqrt(s[2]):1-Math.sqrt(1-s[2]),yq(s,o,a)<u){let d,h;c?(d=s[2],h=1):(d=0,h=s[2]);const f=.005;for(;h-d>f;){const p=s[2]=(d+h)/2;c===yq(s,o,a)<u?d=p:h=p}s[2]=c?h:d}return L7(s,a),i=_t.makeHexColor(Math.round(a[0]*255),Math.round(a[1]*255),Math.round(a[2]*255)),vq.set(n,i),i}function fee({html:t,dir:e,className:n},i){const r=document.createDocumentFragment();if(typeof t=="string"){const a=document.createElement("p");a.dir=e||"auto";const s=t.split(/(?:\r\n?|\n)/);for(let o=0,c=s.length;o<c;++o){const u=s[o];a.append(document.createTextNode(u)),o<c-1&&a.append(document.createElement("br"))}r.append(a)}else hee.render({xfaHtml:t,div:r,intent:"richText"});r.firstElementChild.classList.add("richText",n),i.append(r)}function pee(t){const e=new Path2D;if(!t)return e;for(let n=0,i=t.length;n<i;)switch(t[n++]){case _x.moveTo:e.moveTo(t[n++],t[n++]);break;case _x.lineTo:e.lineTo(t[n++],t[n++]);break;case _x.curveTo:e.bezierCurveTo(t[n++],t[n++],t[n++],t[n++],t[n++],t[n++]);break;case _x.quadraticCurveTo:e.quadraticCurveTo(t[n++],t[n++],t[n++],t[n++]);break;case _x.closePath:e.closePath();break;default:Gt(`Unrecognized drawing path operator: ${t[n-1]}`);break}return e}var up,dp,Bl,zl,M_,hp,Vv,Gv,B_,PE,mee,IE,gee,RE,yee,fp,Vy,jg,Vx;const nh=class nh{constructor(e){J(this,IE);J(this,RE);J(this,fp);J(this,jg);J(this,up,null);J(this,dp,null);J(this,Bl,void 0);J(this,zl,null);J(this,M_,null);J(this,hp,null);J(this,Vv,null);J(this,Gv,null);ie(this,Bl,e),x(nh,B_)||ie(nh,B_,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=ie(this,up,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const n=x(this,Bl)._uiManager._signal;n instanceof AbortSignal&&!n.aborted&&(e.addEventListener("contextmenu",fc,{signal:n}),e.addEventListener("pointerdown",he(nh,PE,mee),{signal:n}));const i=ie(this,zl,document.createElement("div"));i.className="buttons",e.append(i);const r=x(this,Bl).toolbarPosition;if(r){const{style:a}=e,s=x(this,Bl)._uiManager.direction==="ltr"?1-r[0]:r[0];a.insetInlineEnd=`${100*s}%`,a.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return x(this,up)}hide(){var e;x(this,up).classList.add("hidden"),(e=x(this,dp))==null||e.hideDropdown()}show(){var e,n;x(this,up).classList.remove("hidden"),(e=x(this,M_))==null||e.shown(),(n=x(this,hp))==null||n.shown()}addDeleteButton(){const{editorType:e,_uiManager:n}=x(this,Bl),i=document.createElement("button");i.classList.add("basic","deleteButton"),i.tabIndex=0,i.setAttribute("data-l10n-id",x(nh,B_)[e]),he(this,fp,Vy).call(this,i)&&i.addEventListener("click",r=>{n.delete()},{signal:n._signal}),x(this,zl).append(i)}async addAltText(e){const n=await e.render();he(this,fp,Vy).call(this,n),x(this,zl).append(n,x(this,jg,Vx)),ie(this,M_,e)}addComment(e,n=null){if(x(this,hp))return;const i=e.renderForToolbar();if(!i)return;he(this,fp,Vy).call(this,i);const r=ie(this,Vv,x(this,jg,Vx));n?(x(this,zl).insertBefore(i,n),x(this,zl).insertBefore(r,n)):x(this,zl).append(i,r),ie(this,hp,e),e.toolbar=this}addColorPicker(e){if(x(this,dp))return;ie(this,dp,e);const n=e.renderButton();he(this,fp,Vy).call(this,n),x(this,zl).append(n,x(this,jg,Vx))}async addEditSignatureButton(e){const n=ie(this,Gv,await e.renderEditButton(x(this,Bl)));he(this,fp,Vy).call(this,n),x(this,zl).append(n,x(this,jg,Vx))}removeButton(e){var n,i;switch(e){case"comment":(n=x(this,hp))==null||n.removeToolbarCommentButton(),ie(this,hp,null),(i=x(this,Vv))==null||i.remove(),ie(this,Vv,null);break}}async addButton(e,n){switch(e){case"colorPicker":n&&this.addColorPicker(n);break;case"altText":n&&await this.addAltText(n);break;case"editSignature":n&&await this.addEditSignatureButton(n);break;case"delete":this.addDeleteButton();break;case"comment":n&&this.addComment(n);break}}async addButtonBefore(e,n,i){if(!n&&e==="comment")return;const r=x(this,zl).querySelector(i);r&&e==="comment"&&this.addComment(n,r)}updateEditSignatureButton(e){x(this,Gv)&&(x(this,Gv).title=e)}remove(){var e;x(this,up).remove(),(e=x(this,dp))==null||e.destroy(),ie(this,dp,null)}};up=new WeakMap,dp=new WeakMap,Bl=new WeakMap,zl=new WeakMap,M_=new WeakMap,hp=new WeakMap,Vv=new WeakMap,Gv=new WeakMap,B_=new WeakMap,PE=new WeakSet,mee=function(e){e.stopPropagation()},IE=new WeakSet,gee=function(e){x(this,Bl)._focusEventsAllowed=!1,rr(e)},RE=new WeakSet,yee=function(e){x(this,Bl)._focusEventsAllowed=!0,rr(e)},fp=new WeakSet,Vy=function(e){const n=x(this,Bl)._uiManager._signal;return!(n instanceof AbortSignal)||n.aborted?!1:(e.addEventListener("focusin",he(this,IE,gee).bind(this),{capture:!0,signal:n}),e.addEventListener("focusout",he(this,RE,yee).bind(this),{capture:!0,signal:n}),e.addEventListener("contextmenu",fc,{signal:n}),!0)},jg=new WeakSet,Vx=function(){const e=document.createElement("div");return e.className="divider",e},J(nh,PE),J(nh,B_,null);let F7=nh;var z_,$g,oh,LE,vee,FE,bee,j_,O7;class mCe{constructor(e){J(this,LE);J(this,FE);J(this,j_);J(this,z_,null);J(this,$g,null);J(this,oh,void 0);ie(this,oh,e)}show(e,n,i){const[r,a]=he(this,FE,bee).call(this,n,i),{style:s}=x(this,$g)||ie(this,$g,he(this,LE,vee).call(this));e.append(x(this,$g)),s.insetInlineEnd=`${100*r}%`,s.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){x(this,$g).remove()}}z_=new WeakMap,$g=new WeakMap,oh=new WeakMap,LE=new WeakSet,vee=function(){const e=ie(this,$g,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const n=x(this,oh)._signal;n instanceof AbortSignal&&!n.aborted&&e.addEventListener("contextmenu",fc,{signal:n});const i=ie(this,z_,document.createElement("div"));return i.className="buttons",e.append(i),x(this,oh).hasCommentManager()&&he(this,j_,O7).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{x(this,oh).commentSelection("floating_button")}),he(this,j_,O7).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{x(this,oh).highlightSelection("floating_button")}),e},FE=new WeakSet,bee=function(e,n){let i=0,r=0;for(const a of e){const s=a.y+a.height;if(s<i)continue;const o=a.x+(n?a.width:0);if(s>i){r=o,i=s;continue}n?o>r&&(r=o):o<r&&(r=o)}return[n?1-r:r,i]},j_=new WeakSet,O7=function(e,n,i,r){const a=document.createElement("button");a.classList.add("basic",e),a.tabIndex=0,a.setAttribute("data-l10n-id",n);const s=document.createElement("span");a.append(s),s.className="visuallyHidden",s.setAttribute("data-l10n-id",i);const o=x(this,oh)._signal;o instanceof AbortSignal&&!o.aborted&&(a.addEventListener("contextmenu",fc,{signal:o}),a.addEventListener("click",r,{signal:o})),x(this,z_).append(a)};function wee(t,e,n){for(const i of n)e.addEventListener(i,t[i].bind(t))}var Wg,qg,Xv,Hg;const Qn=class Qn{static initializeAndAddPointerId(e){(x(Qn,qg)||ie(Qn,qg,new Set)).add(e)}static setPointer(e,n){x(Qn,Wg)||ie(Qn,Wg,n),x(Qn,Hg)??ie(Qn,Hg,e)}static setTimeStamp(e){ie(Qn,Xv,e)}static isSamePointerId(e){return x(Qn,Wg)===e}static isSamePointerIdOrRemove(e){var n;return x(Qn,Wg)===e?!0:((n=x(Qn,qg))==null||n.delete(e),!1)}static isSamePointerType(e){return x(Qn,Hg)===e}static isInitializedAndDifferentPointerType(e){return x(Qn,Hg)!==null&&!Qn.isSamePointerType(e)}static isSameTimeStamp(e){return x(Qn,Xv)===e}static isUsingMultiplePointers(){var e;return((e=x(Qn,qg))==null?void 0:e.size)>=1}static clearPointerType(){ie(Qn,Hg,null)}static clearPointerIds(){ie(Qn,Wg,NaN),ie(Qn,qg,null)}static clearTimeStamp(){ie(Qn,Xv,NaN)}};Wg=new WeakMap,qg=new WeakMap,Xv=new WeakMap,Hg=new WeakMap,J(Qn,Wg,NaN),J(Qn,qg,null),J(Qn,Xv,NaN),J(Qn,Hg,null);let Qa=Qn;var OE;class gCe{constructor(){J(this,OE,0)}get id(){return`${u_}${Fr(this,OE)._++}`}}OE=new WeakMap;var Kv,$_,es,Yv,h4;const bB=class bB{constructor(){J(this,Yv);J(this,Kv,uee());J(this,$_,0);J(this,es,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const a=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return Xt(this,"_isSVGFittingCanvas",a)}async getFromFile(e){const{lastModified:n,name:i,size:r,type:a}=e;return he(this,Yv,h4).call(this,`${n}_${i}_${r}_${a}`,e)}async getFromUrl(e){return he(this,Yv,h4).call(this,e,e)}async getFromBlob(e,n){const i=await n;return he(this,Yv,h4).call(this,e,i)}async getFromId(e){x(this,es)||ie(this,es,new Map);const n=x(this,es).get(e);if(!n)return null;if(n.bitmap)return n.refCounter+=1,n;if(n.file)return this.getFromFile(n.file);if(n.blobPromise){const{blobPromise:i}=n;return delete n.blobPromise,this.getFromBlob(n.id,i)}return this.getFromUrl(n.url)}getFromCanvas(e,n){x(this,es)||ie(this,es,new Map);let i=x(this,es).get(e);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const r=new OffscreenCanvas(n.width,n.height);return r.getContext("2d").drawImage(n,0,0),i={bitmap:r.transferToImageBitmap(),id:`image_${x(this,Kv)}_${Fr(this,$_)._++}`,refCounter:1,isSvg:!1},x(this,es).set(e,i),x(this,es).set(i.id,i),i}getSvgUrl(e){const n=x(this,es).get(e);return n!=null&&n.isSvg?n.svgUrl:null}deleteId(e){var r;x(this,es)||ie(this,es,new Map);const n=x(this,es).get(e);if(!n||(n.refCounter-=1,n.refCounter!==0))return;const{bitmap:i}=n;if(!n.url&&!n.file){const a=new OffscreenCanvas(i.width,i.height);a.getContext("bitmaprenderer").transferFromImageBitmap(i),n.blobPromise=a.convertToBlob()}(r=i.close)==null||r.call(i),n.bitmap=null}isValidId(e){return e.startsWith(`image_${x(this,Kv)}_`)}};Kv=new WeakMap,$_=new WeakMap,es=new WeakMap,Yv=new WeakSet,h4=async function(e,n){x(this,es)||ie(this,es,new Map);let i=x(this,es).get(e);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${x(this,Kv)}_${Fr(this,$_)._++}`,refCounter:0,isSvg:!1});let r;if(typeof n=="string"?(i.url=n,r=await jN(n,"blob")):n instanceof File?r=i.file=n:n instanceof Blob&&(r=n),r.type==="image/svg+xml"){const a=bB._isSVGFittingCanvas,s=new FileReader,o=new Image,c=new Promise((u,d)=>{o.onload=()=>{i.bitmap=o,i.isSvg=!0,u()},s.onload=async()=>{const h=i.svgUrl=s.result;o.src=await a?`${h}#svgView(preserveAspectRatio(none))`:h},o.onerror=s.onerror=d});s.readAsDataURL(r),await c}else i.bitmap=await createImageBitmap(r);i.refCounter=1}catch(r){Gt(r),i=null}return x(this,es).set(e,i),i&&x(this,es).set(i.id,i),i};let U7=bB;var dr,pp,W_,ji;class yCe{constructor(e=128){J(this,dr,[]);J(this,pp,!1);J(this,W_,void 0);J(this,ji,-1);ie(this,W_,e)}add({cmd:e,undo:n,post:i,mustExec:r,type:a=NaN,overwriteIfSameType:s=!1,keepUndo:o=!1}){if(r&&e(),x(this,pp))return;const c={cmd:e,undo:n,post:i,type:a};if(x(this,ji)===-1){x(this,dr).length>0&&(x(this,dr).length=0),ie(this,ji,0),x(this,dr).push(c);return}if(s&&x(this,dr)[x(this,ji)].type===a){o&&(c.undo=x(this,dr)[x(this,ji)].undo),x(this,dr)[x(this,ji)]=c;return}const u=x(this,ji)+1;u===x(this,W_)?x(this,dr).splice(0,1):(ie(this,ji,u),u<x(this,dr).length&&x(this,dr).splice(u)),x(this,dr).push(c)}undo(){if(x(this,ji)===-1)return;ie(this,pp,!0);const{undo:e,post:n}=x(this,dr)[x(this,ji)];e(),n==null||n(),ie(this,pp,!1),ie(this,ji,x(this,ji)-1)}redo(){if(x(this,ji)<x(this,dr).length-1){ie(this,ji,x(this,ji)+1),ie(this,pp,!0);const{cmd:e,post:n}=x(this,dr)[x(this,ji)];e(),n==null||n(),ie(this,pp,!1)}}hasSomethingToUndo(){return x(this,ji)!==-1}hasSomethingToRedo(){return x(this,ji)<x(this,dr).length-1}cleanType(e){if(x(this,ji)!==-1){for(let n=x(this,ji);n>=0;n--)if(x(this,dr)[n].type!==e){x(this,dr).splice(n+1,x(this,ji)-n),ie(this,ji,n);return}x(this,dr).length=0,ie(this,ji,-1)}}destroy(){ie(this,dr,null)}}dr=new WeakMap,pp=new WeakMap,W_=new WeakMap,ji=new WeakMap;var UE,xee;class qN{constructor(e){J(this,UE);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:n}=Wr.platform;for(const[i,r,a={}]of e)for(const s of i){const o=s.startsWith("mac+");n&&o?(this.callbacks.set(s.slice(4),{callback:r,options:a}),this.allKeys.add(s.split("+").at(-1))):!n&&!o&&(this.callbacks.set(s,{callback:r,options:a}),this.allKeys.add(s.split("+").at(-1)))}}exec(e,n){if(!this.allKeys.has(n.key))return;const i=this.callbacks.get(he(this,UE,xee).call(this,n));if(!i)return;const{callback:r,options:{bubbles:a=!1,args:s=[],checker:o=null}}=i;o&&!o(e,n)||(r.bind(e,...s,n)(),a||rr(n))}}UE=new WeakSet,xee=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const n=this.buffer.join("+");return this.buffer.length=0,n};const ME=class ME{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return uCe(e),Xt(this,"_colors",e)}convert(e){const n=WN(e);if(!window.matchMedia("(forced-colors: active)").matches)return n;for(const[i,r]of this._colors)if(r.every((a,s)=>a===n[s]))return ME._colorsMapping.get(i);return n}getHexCode(e){const n=this._colors.get(e);return n?_t.makeHexColor(...n):e}};it(ME,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let M7=ME;var Jv,zo,Zv,Zi,Mr,Qv,jl,e2,$l,ts,mp,gp,t2,yp,Ru,Wl,Vg,q_,H_,n2,V_,Lu,vp,i2,bp,Fu,BE,wp,r2,G_,xp,Gg,a2,_p,X_,Ar,qn,lh,Sp,Ap,K_,s2,Y_,Np,Ou,ch,J_,Z_,ql,o2,f4,Q_,B7,zE,_ee,jE,See,Xg,Gx,$E,Aee,WE,Nee,qE,kee,eS,z7,HE,Cee,VE,Eee,GE,Tee,XE,Dee,wa,Ss,Pc,Qd,KE,Pee,YE,Iee,tS,j7,JE,Ree,Kg,Xx,nS,$7;const vv=class vv{constructor(e,n,i,r,a,s,o,c,u,d,h,f,p,w,v,b){J(this,o2);J(this,Q_);J(this,zE);J(this,jE);J(this,Xg);J(this,$E);J(this,WE);J(this,qE);J(this,eS);J(this,HE);J(this,VE);J(this,GE);J(this,XE);J(this,wa);J(this,Pc);J(this,KE);J(this,YE);J(this,tS);J(this,JE);J(this,Kg);J(this,nS);J(this,Jv,new AbortController);J(this,zo,null);J(this,Zv,null);J(this,Zi,new Map);J(this,Mr,new Map);J(this,Qv,null);J(this,jl,null);J(this,e2,null);J(this,$l,new yCe);J(this,ts,null);J(this,mp,null);J(this,gp,null);J(this,t2,0);J(this,yp,new Set);J(this,Ru,null);J(this,Wl,null);J(this,Vg,new Set);it(this,"_editorUndoBar",null);J(this,q_,!1);J(this,H_,!1);J(this,n2,!1);J(this,V_,null);J(this,Lu,null);J(this,vp,null);J(this,i2,null);J(this,bp,!1);J(this,Fu,null);J(this,BE,new gCe);J(this,wp,!1);J(this,r2,!1);J(this,G_,!1);J(this,xp,null);J(this,Gg,null);J(this,a2,null);J(this,_p,null);J(this,X_,null);J(this,Ar,Jt.NONE);J(this,qn,new Set);J(this,lh,null);J(this,Sp,null);J(this,Ap,null);J(this,K_,null);J(this,s2,null);J(this,Y_,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});J(this,Np,[0,0]);J(this,Ou,null);J(this,ch,null);J(this,J_,null);J(this,Z_,null);J(this,ql,null);const g=this._signal=x(this,Jv).signal;ie(this,ch,e),ie(this,J_,n),ie(this,Z_,i),ie(this,Qv,r),ie(this,ts,a),ie(this,Sp,s),ie(this,s2,c),this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:g}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:g}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:g}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:g}),o._on("setpreference",this.onSetPreference.bind(this),{signal:g}),o._on("switchannotationeditorparams",y=>this.updateParams(y.type,y.value),{signal:g}),window.addEventListener("pointerdown",()=>{ie(this,r2,!0)},{capture:!0,signal:g}),window.addEventListener("pointerup",()=>{ie(this,r2,!1)},{capture:!0,signal:g}),he(this,$E,Aee).call(this),he(this,XE,Dee).call(this),he(this,eS,z7).call(this),ie(this,jl,c.annotationStorage),ie(this,V_,c.filterFactory),ie(this,Ap,u),ie(this,i2,d||null),ie(this,q_,h),ie(this,H_,f),ie(this,n2,p),ie(this,X_,w||null),this.viewParameters={realScale:Fm.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=v||null,this._supportsPinchToZoom=b!==!1,a==null||a.setSidebarUiManager(this)}static get _keyboardManager(){const e=vv.prototype,n=s=>x(s,ch).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&s.hasSomethingToControl(),i=(s,{target:o})=>{if(o instanceof HTMLInputElement){const{type:c}=o;return c!=="text"&&c!=="number"}return!0},r=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return Xt(this,"_keyboardManager",new qN([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],e.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:i}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(s,{target:o})=>!(o instanceof HTMLButtonElement)&&x(s,ch).contains(o)&&!s.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(s,{target:o})=>!(o instanceof HTMLButtonElement)&&x(s,ch).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-a,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[a,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-a],checker:n}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,a],checker:n}]]))}destroy(){var e,n,i,r,a,s,o,c,u;(e=x(this,ql))==null||e.resolve(),ie(this,ql,null),(n=x(this,Jv))==null||n.abort(),ie(this,Jv,null),this._signal=null;for(const d of x(this,Mr).values())d.destroy();x(this,Mr).clear(),x(this,Zi).clear(),x(this,Vg).clear(),(i=x(this,_p))==null||i.clear(),ie(this,zo,null),x(this,qn).clear(),x(this,$l).destroy(),(r=x(this,Qv))==null||r.destroy(),(a=x(this,ts))==null||a.destroy(),(s=x(this,Sp))==null||s.destroy(),(o=x(this,Fu))==null||o.hide(),ie(this,Fu,null),(c=x(this,a2))==null||c.destroy(),ie(this,a2,null),ie(this,Zv,null),x(this,Lu)&&(clearTimeout(x(this,Lu)),ie(this,Lu,null)),x(this,Ou)&&(clearTimeout(x(this,Ou)),ie(this,Ou,null)),(u=this._editorUndoBar)==null||u.destroy(),ie(this,s2,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return x(this,X_)}get useNewAltTextFlow(){return x(this,H_)}get useNewAltTextWhenAddingImage(){return x(this,n2)}get hcmFilter(){return Xt(this,"hcmFilter",x(this,Ap)?x(this,V_).addHCMFilter(x(this,Ap).foreground,x(this,Ap).background):"none")}get direction(){return Xt(this,"direction",getComputedStyle(x(this,ch)).direction)}get _highlightColors(){return Xt(this,"_highlightColors",x(this,i2)?new Map(x(this,i2).split(",").map(e=>(e=e.split("=").map(n=>n.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return Xt(this,"highlightColors",null);const n=new Map,i=!!x(this,Ap);for(const[r,a]of e){const s=r.endsWith("_HCM");if(i&&s){n.set(r.replace("_HCM",""),a);continue}!i&&!s&&n.set(r,a)}return Xt(this,"highlightColors",n)}get highlightColorNames(){return Xt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const n=this.highlightColorNames.get(e);return this._highlightColors.get(n)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),ie(this,gp,e)}setMainHighlightColorPicker(e){ie(this,a2,e)}editAltText(e,n=!1){var i;(i=x(this,Qv))==null||i.editAltText(this,e,n)}hasCommentManager(){return!!x(this,ts)}editComment(e,n,i,r){var a;(a=x(this,ts))==null||a.showDialog(this,e,n,i,r)}selectComment(e,n){const i=x(this,Mr).get(e),r=i==null?void 0:i.getEditorByUID(n);r==null||r.toggleComment(!0,!0)}updateComment(e){var n;(n=x(this,ts))==null||n.updateComment(e.getData())}updatePopupColor(e){var n;(n=x(this,ts))==null||n.updatePopupColor(e)}removeComment(e){var n;(n=x(this,ts))==null||n.removeComments([e.uid])}toggleComment(e,n,i=void 0){var r;(r=x(this,ts))==null||r.toggleCommentPopup(e,n,i)}makeCommentColor(e,n){var i;return e&&((i=x(this,ts))==null?void 0:i.makeCommentColor(e,n))||null}getCommentDialogElement(){var e;return((e=x(this,ts))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(x(this,Mr).has(e-1))return;const{resolve:n,promise:i}=Promise.withResolvers(),r=a=>{a.pageNumber===e&&(this._eventBus._off("editorsrendered",r),n())};this._eventBus.on("editorsrendered",r),await i}getSignature(e){var n;(n=x(this,Sp))==null||n.getSignature({uiManager:this,editor:e})}get signatureManager(){return x(this,Sp)}switchToMode(e,n){this._eventBus.on("annotationeditormodechanged",n,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,n){this._eventBus.dispatch("setpreference",{source:this,name:e,value:n})}onSetPreference({name:e,value:n}){switch(e){case"enableNewAltTextWhenAddingImage":ie(this,n2,n);break}}onPageChanging({pageNumber:e}){ie(this,t2,e-1)}focusMainContainer(){x(this,ch).focus()}findParent(e,n){for(const i of x(this,Mr).values()){const{x:r,y:a,width:s,height:o}=i.div.getBoundingClientRect();if(e>=r&&e<=r+s&&n>=a&&n<=a+o)return i}return null}disableUserSelect(e=!1){x(this,J_).classList.toggle("noUserSelect",e)}addShouldRescale(e){x(this,Vg).add(e)}removeShouldRescale(e){x(this,Vg).delete(e)}onScaleChanging({scale:e}){var n;this.commitOrRemove(),this.viewParameters.realScale=e*Fm.PDF_TO_CSS_UNITS;for(const i of x(this,Vg))i.onScaleChanging();(n=x(this,gp))==null||n.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",n=!1){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:r,anchorOffset:a,focusNode:s,focusOffset:o}=i,c=i.toString(),d=he(this,o2,f4).call(this,i).closest(".textLayer"),h=this.getSelectionBoxes(d);if(!h)return;i.empty();const f=he(this,Q_,B7).call(this,d),p=x(this,Ar)===Jt.NONE,w=()=>{const v=f==null?void 0:f.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:r,anchorOffset:a,focusNode:s,focusOffset:o,text:c});p&&this.showAllEditors("highlight",!0,!0),n&&(v==null||v.editComment())};if(p){this.switchToMode(Jt.HIGHLIGHT,w);return}w()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!x(this,jl))return null;const n=`${u_}${e}`,i=x(this,jl).getRawValue(n);return i&&x(this,jl).remove(n),i}addToAnnotationStorage(e){!e.isEmpty()&&x(this,jl)&&!x(this,jl).has(e.id)&&x(this,jl).setValue(e.id,e)}a11yAlert(e,n=null){const i=x(this,Z_);i&&(i.setAttribute("data-l10n-id",e),n?i.setAttribute("data-l10n-args",JSON.stringify(n)):i.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,x(this,bp)&&(ie(this,bp,!1),he(this,Xg,Gx).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const n of x(this,qn))if(n.div.contains(e)){ie(this,Gg,[n,e]),n._focusEventsAllowed=!1;break}}focus(){if(!x(this,Gg))return;const[e,n]=x(this,Gg);ie(this,Gg,null),n.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),n.focus()}addEditListeners(){he(this,eS,z7).call(this),this.setEditingState(!0)}removeEditListeners(){he(this,HE,Cee).call(this),this.setEditingState(!1)}dragOver(e){for(const{type:n}of e.dataTransfer.items)for(const i of x(this,Wl))if(i.isHandlingMimeForPasting(n)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const n of e.dataTransfer.items)for(const i of x(this,Wl))if(i.isHandlingMimeForPasting(n.type)){i.paste(n,this.currentLayer),e.preventDefault();return}}copy(e){var i;if(e.preventDefault(),(i=x(this,zo))==null||i.commitOrRemove(),!this.hasSelection)return;const n=[];for(const r of x(this,qn)){const a=r.serialize(!0);a&&n.push(a)}n.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:n}=e;for(const a of n.items)for(const s of x(this,Wl))if(s.isHandlingMimeForPasting(a.type)){s.paste(a,this.currentLayer);return}let i=n.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(a){Gt(`paste: "${a.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const r=this.currentLayer;try{const a=[];for(const c of i){const u=await r.deserialize(c);if(!u)return;a.push(u)}const s=()=>{for(const c of a)he(this,tS,j7).call(this,c);he(this,nS,$7).call(this,a)},o=()=>{for(const c of a)c.remove()};this.addCommands({cmd:s,undo:o,mustExec:!0})}catch(a){Gt(`paste: "${a.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),x(this,Ar)!==Jt.NONE&&!this.isEditorHandlingKeyboard&&vv._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,x(this,bp)&&(ie(this,bp,!1),he(this,Xg,Gx).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(he(this,WE,Nee).call(this),he(this,VE,Eee).call(this),he(this,wa,Ss).call(this,{isEditing:x(this,Ar)!==Jt.NONE,isEmpty:he(this,Kg,Xx).call(this),hasSomethingToUndo:x(this,$l).hasSomethingToUndo(),hasSomethingToRedo:x(this,$l).hasSomethingToRedo(),hasSelectedEditor:!1})):(he(this,qE,kee).call(this),he(this,GE,Tee).call(this),he(this,wa,Ss).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!x(this,Wl)){ie(this,Wl,e);for(const n of x(this,Wl))he(this,Pc,Qd).call(this,n.defaultPropertiesToUpdate)}}getId(){return x(this,BE).id}get currentLayer(){return x(this,Mr).get(x(this,t2))}getLayer(e){return x(this,Mr).get(e)}get currentPageIndex(){return x(this,t2)}addLayer(e){x(this,Mr).set(e.pageIndex,e),x(this,wp)?e.enable():e.disable()}removeLayer(e){x(this,Mr).delete(e.pageIndex)}async updateMode(e,n=null,i=!1,r=!1,a=!1,s=!1){var o,c,u,d,h,f;if(x(this,Ar)!==e&&!(x(this,ql)&&(await x(this,ql).promise,!x(this,ql)))){if(ie(this,ql,Promise.withResolvers()),(o=x(this,gp))==null||o.commitOrRemove(),x(this,Ar)===Jt.POPUP&&((c=x(this,ts))==null||c.hideSidebar()),(u=x(this,ts))==null||u.destroyPopup(),ie(this,Ar,e),e===Jt.NONE){this.setEditingState(!1),he(this,YE,Iee).call(this);for(const p of x(this,Zi).values())p.hideStandaloneCommentButton();(d=this._editorUndoBar)==null||d.hide(),this.toggleComment(null),x(this,ql).resolve();return}for(const p of x(this,Zi).values())p.addStandaloneCommentButton();e===Jt.SIGNATURE&&await((h=x(this,Sp))==null?void 0:h.loadSignatures()),i&&Qa.clearPointerType(),this.setEditingState(!0),await he(this,KE,Pee).call(this),this.unselectAll();for(const p of x(this,Mr).values())p.updateMode(e);if(e===Jt.POPUP){x(this,Zv)||ie(this,Zv,await x(this,s2).getAnnotationsByType(new Set(x(this,Wl).map(v=>v._editorType))));const p=new Set,w=[];for(const v of x(this,Zi).values()){const{annotationElementId:b,hasComment:g,deleted:y}=v;b&&p.add(b),g&&!y&&w.push(v.getData())}for(const v of x(this,Zv)){const{id:b,popupRef:g,contentsObj:y}=v;g&&(y!=null&&y.str)&&!p.has(b)&&!x(this,yp).has(b)&&w.push(v)}(f=x(this,ts))==null||f.showSidebar(w)}if(!n){r&&this.addNewEditorFromKeyboard(),x(this,ql).resolve();return}for(const p of x(this,Zi).values())p.uid===n?(this.setSelected(p),s?p.editComment():a?p.enterInEditMode():p.focus()):p.unselect();x(this,ql).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==x(this,Ar)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,n){if(x(this,Wl)){switch(e){case bn.CREATE:this.currentLayer.addNewEditor(n);return;case bn.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(x(this,K_)||ie(this,K_,new Map)).set(e,n),this.showAllEditors("highlight",n);break}if(this.hasSelection)for(const i of x(this,qn))i.updateParams(e,n);else for(const i of x(this,Wl))i.updateDefaultParams(e,n)}}showAllEditors(e,n,i=!1){var a;for(const s of x(this,Zi).values())s.editorType===e&&s.show(n);(((a=x(this,K_))==null?void 0:a.get(bn.HIGHLIGHT_SHOW_ALL))??!0)!==n&&he(this,Pc,Qd).call(this,[[bn.HIGHLIGHT_SHOW_ALL,n]])}enableWaiting(e=!1){if(x(this,G_)!==e){ie(this,G_,e);for(const n of x(this,Mr).values())e?n.disableClick():n.enableClick(),n.div.classList.toggle("waiting",e)}}*getEditors(e){for(const n of x(this,Zi).values())n.pageIndex===e&&(yield n)}getEditor(e){return x(this,Zi).get(e)}addEditor(e){x(this,Zi).set(e.id,e)}removeEditor(e){var n,i;e.div.contains(document.activeElement)&&(x(this,Lu)&&clearTimeout(x(this,Lu)),ie(this,Lu,setTimeout(()=>{this.focusMainContainer(),ie(this,Lu,null)},0))),x(this,Zi).delete(e.id),e.annotationElementId&&((n=x(this,_p))==null||n.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!x(this,yp).has(e.annotationElementId))&&((i=x(this,jl))==null||i.remove(e.id))}addDeletedAnnotationElement(e){x(this,yp).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return x(this,yp).has(e)}removeDeletedAnnotationElement(e){x(this,yp).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){x(this,zo)!==e&&(ie(this,zo,e),e&&he(this,Pc,Qd).call(this,e.propertiesToUpdate))}updateUI(e){x(this,JE,Ree)===e&&he(this,Pc,Qd).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){he(this,Pc,Qd).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(x(this,qn).has(e)){x(this,qn).delete(e),e.unselect(),he(this,wa,Ss).call(this,{hasSelectedEditor:this.hasSelection});return}x(this,qn).add(e),e.select(),he(this,Pc,Qd).call(this,e.propertiesToUpdate),he(this,wa,Ss).call(this,{hasSelectedEditor:!0})}setSelected(e){var n;this.updateToolbar({mode:e.mode,editId:e.uid}),(n=x(this,gp))==null||n.commitOrRemove();for(const i of x(this,qn))i!==e&&i.unselect();x(this,qn).clear(),x(this,qn).add(e),e.select(),he(this,Pc,Qd).call(this,e.propertiesToUpdate),he(this,wa,Ss).call(this,{hasSelectedEditor:!0})}isSelected(e){return x(this,qn).has(e)}get firstSelectedEditor(){return x(this,qn).values().next().value}unselect(e){e.unselect(),x(this,qn).delete(e),he(this,wa,Ss).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return x(this,qn).size!==0}get isEnterHandled(){return x(this,qn).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;x(this,$l).undo(),he(this,wa,Ss).call(this,{hasSomethingToUndo:x(this,$l).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:he(this,Kg,Xx).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){x(this,$l).redo(),he(this,wa,Ss).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:x(this,$l).hasSomethingToRedo(),isEmpty:he(this,Kg,Xx).call(this)})}addCommands(e){x(this,$l).add(e),he(this,wa,Ss).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:he(this,Kg,Xx).call(this)})}cleanUndoStack(e){x(this,$l).cleanType(e)}delete(){var a;this.commitOrRemove();const e=(a=this.currentLayer)==null?void 0:a.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const n=e?[e]:[...x(this,qn)],i=()=>{var s;(s=this._editorUndoBar)==null||s.show(r,n.length===1?n[0].editorType:n.length);for(const o of n)o.remove()},r=()=>{for(const s of n)he(this,tS,j7).call(this,s)};this.addCommands({cmd:i,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=x(this,zo))==null||e.commitOrRemove()}hasSomethingToControl(){return x(this,zo)||this.hasSelection}selectAll(){for(const e of x(this,qn))e.commit();he(this,nS,$7).call(this,x(this,Zi).values())}unselectAll(){var e;if(!(x(this,zo)&&(x(this,zo).commitOrRemove(),x(this,Ar)!==Jt.NONE))&&!((e=x(this,gp))!=null&&e.commitOrRemove())&&this.hasSelection){for(const n of x(this,qn))n.unselect();x(this,qn).clear(),he(this,wa,Ss).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,n,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;x(this,Np)[0]+=e,x(this,Np)[1]+=n;const[r,a]=x(this,Np),s=[...x(this,qn)],o=1e3;x(this,Ou)&&clearTimeout(x(this,Ou)),ie(this,Ou,setTimeout(()=>{ie(this,Ou,null),x(this,Np)[0]=x(this,Np)[1]=0,this.addCommands({cmd:()=>{for(const c of s)x(this,Zi).has(c.id)&&(c.translateInPage(r,a),c.translationDone())},undo:()=>{for(const c of s)x(this,Zi).has(c.id)&&(c.translateInPage(-r,-a),c.translationDone())},mustExec:!1})},o));for(const c of s)c.translateInPage(e,n),c.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),ie(this,Ru,new Map);for(const e of x(this,qn))x(this,Ru).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!x(this,Ru))return!1;this.disableUserSelect(!1);const e=x(this,Ru);ie(this,Ru,null);let n=!1;for(const[{x:r,y:a,pageIndex:s},o]of e)o.newX=r,o.newY=a,o.newPageIndex=s,n||(n=r!==o.savedX||a!==o.savedY||s!==o.savedPageIndex);if(!n)return!1;const i=(r,a,s,o)=>{if(x(this,Zi).has(r.id)){const c=x(this,Mr).get(o);c?r._setParentAndPosition(c,a,s):(r.pageIndex=o,r.x=a,r.y=s)}};return this.addCommands({cmd:()=>{for(const[r,{newX:a,newY:s,newPageIndex:o}]of e)i(r,a,s,o)},undo:()=>{for(const[r,{savedX:a,savedY:s,savedPageIndex:o}]of e)i(r,a,s,o)},mustExec:!0}),!0}dragSelectedEditors(e,n){if(x(this,Ru))for(const i of x(this,Ru).keys())i.drag(e,n)}rebuild(e){if(e.parent===null){const n=this.getLayer(e.pageIndex);n?(n.changeParent(e),n.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||x(this,qn).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return x(this,zo)===e}getActive(){return x(this,zo)}getMode(){return x(this,Ar)}isEditingMode(){return x(this,Ar)!==Jt.NONE}get imageManager(){return Xt(this,"imageManager",new U7)}getSelectionBoxes(e){if(!e)return null;const n=document.getSelection();for(let u=0,d=n.rangeCount;u<d;u++)if(!e.contains(n.getRangeAt(u).commonAncestorContainer))return null;const{x:i,y:r,width:a,height:s}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(u,d,h,f)=>({x:(d-r)/s,y:1-(u+h-i)/a,width:f/s,height:h/a});break;case"180":o=(u,d,h,f)=>({x:1-(u+h-i)/a,y:1-(d+f-r)/s,width:h/a,height:f/s});break;case"270":o=(u,d,h,f)=>({x:1-(d+f-r)/s,y:(u-i)/a,width:f/s,height:h/a});break;default:o=(u,d,h,f)=>({x:(u-i)/a,y:(d-r)/s,width:h/a,height:f/s});break}const c=[];for(let u=0,d=n.rangeCount;u<d;u++){const h=n.getRangeAt(u);if(!h.collapsed)for(const{x:f,y:p,width:w,height:v}of h.getClientRects())w===0||v===0||c.push(o(f,p,w,v))}return c.length===0?null:c}addChangedExistingAnnotation({annotationElementId:e,id:n}){(x(this,e2)||ie(this,e2,new Map)).set(e,n)}removeChangedExistingAnnotation({annotationElementId:e}){var n;(n=x(this,e2))==null||n.delete(e)}renderAnnotationElement(e){var r;const n=(r=x(this,e2))==null?void 0:r.get(e.data.id);if(!n)return;const i=x(this,jl).getRawValue(n);i&&(x(this,Ar)===Jt.NONE&&!i.hasBeenModified||i.renderAnnotationElement(e))}setMissingCanvas(e,n,i){var a;const r=(a=x(this,_p))==null?void 0:a.get(e);r&&(r.setCanvas(n,i),x(this,_p).delete(e))}addMissingCanvas(e,n){(x(this,_p)||ie(this,_p,new Map)).set(e,n)}};Jv=new WeakMap,zo=new WeakMap,Zv=new WeakMap,Zi=new WeakMap,Mr=new WeakMap,Qv=new WeakMap,jl=new WeakMap,e2=new WeakMap,$l=new WeakMap,ts=new WeakMap,mp=new WeakMap,gp=new WeakMap,t2=new WeakMap,yp=new WeakMap,Ru=new WeakMap,Wl=new WeakMap,Vg=new WeakMap,q_=new WeakMap,H_=new WeakMap,n2=new WeakMap,V_=new WeakMap,Lu=new WeakMap,vp=new WeakMap,i2=new WeakMap,bp=new WeakMap,Fu=new WeakMap,BE=new WeakMap,wp=new WeakMap,r2=new WeakMap,G_=new WeakMap,xp=new WeakMap,Gg=new WeakMap,a2=new WeakMap,_p=new WeakMap,X_=new WeakMap,Ar=new WeakMap,qn=new WeakMap,lh=new WeakMap,Sp=new WeakMap,Ap=new WeakMap,K_=new WeakMap,s2=new WeakMap,Y_=new WeakMap,Np=new WeakMap,Ou=new WeakMap,ch=new WeakMap,J_=new WeakMap,Z_=new WeakMap,ql=new WeakMap,o2=new WeakSet,f4=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Q_=new WeakSet,B7=function(e){const{currentLayer:n}=this;if(n.hasTextLayer(e))return n;for(const i of x(this,Mr).values())if(i.hasTextLayer(e))return i;return null},zE=new WeakSet,_ee=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const i=he(this,o2,f4).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(i);r&&(x(this,Fu)||ie(this,Fu,new mCe(this)),x(this,Fu).show(i,r,this.direction==="ltr"))},jE=new WeakSet,See=function(){var a,s,o;const e=document.getSelection();if(!e||e.isCollapsed){x(this,lh)&&((a=x(this,Fu))==null||a.hide(),ie(this,lh,null),he(this,wa,Ss).call(this,{hasSelectedText:!1}));return}const{anchorNode:n}=e;if(n===x(this,lh))return;const r=he(this,o2,f4).call(this,e).closest(".textLayer");if(!r){x(this,lh)&&((s=x(this,Fu))==null||s.hide(),ie(this,lh,null),he(this,wa,Ss).call(this,{hasSelectedText:!1}));return}if((o=x(this,Fu))==null||o.hide(),ie(this,lh,n),he(this,wa,Ss).call(this,{hasSelectedText:!0}),!(x(this,Ar)!==Jt.HIGHLIGHT&&x(this,Ar)!==Jt.NONE)&&(x(this,Ar)===Jt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),ie(this,bp,this.isShiftKeyDown),!this.isShiftKeyDown)){const c=x(this,Ar)===Jt.HIGHLIGHT?he(this,Q_,B7).call(this,r):null;if(c==null||c.toggleDrawing(),x(this,r2)){const u=new AbortController,d=this.combinedSignal(u),h=f=>{f.type==="pointerup"&&f.button!==0||(u.abort(),c==null||c.toggleDrawing(!0),f.type==="pointerup"&&he(this,Xg,Gx).call(this,"main_toolbar"))};window.addEventListener("pointerup",h,{signal:d}),window.addEventListener("blur",h,{signal:d})}else c==null||c.toggleDrawing(!0),he(this,Xg,Gx).call(this,"main_toolbar")}},Xg=new WeakSet,Gx=function(e=""){x(this,Ar)===Jt.HIGHLIGHT?this.highlightSelection(e):x(this,q_)&&he(this,zE,_ee).call(this)},$E=new WeakSet,Aee=function(){document.addEventListener("selectionchange",he(this,jE,See).bind(this),{signal:this._signal})},WE=new WeakSet,Nee=function(){if(x(this,vp))return;ie(this,vp,new AbortController);const e=this.combinedSignal(x(this,vp));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},qE=new WeakSet,kee=function(){var e;(e=x(this,vp))==null||e.abort(),ie(this,vp,null)},eS=new WeakSet,z7=function(){if(x(this,xp))return;ie(this,xp,new AbortController);const e=this.combinedSignal(x(this,xp));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},HE=new WeakSet,Cee=function(){var e;(e=x(this,xp))==null||e.abort(),ie(this,xp,null)},VE=new WeakSet,Eee=function(){if(x(this,mp))return;ie(this,mp,new AbortController);const e=this.combinedSignal(x(this,mp));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},GE=new WeakSet,Tee=function(){var e;(e=x(this,mp))==null||e.abort(),ie(this,mp,null)},XE=new WeakSet,Dee=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},wa=new WeakSet,Ss=function(e){Object.entries(e).some(([i,r])=>x(this,Y_)[i]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(x(this,Y_),e)}),x(this,Ar)===Jt.HIGHLIGHT&&e.hasSelectedEditor===!1&&he(this,Pc,Qd).call(this,[[bn.HIGHLIGHT_FREE,!0]]))},Pc=new WeakSet,Qd=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},KE=new WeakSet,Pee=async function(){if(!x(this,wp)){ie(this,wp,!0);const e=[];for(const n of x(this,Mr).values())e.push(n.enable());await Promise.all(e);for(const n of x(this,Zi).values())n.enable()}},YE=new WeakSet,Iee=function(){if(this.unselectAll(),x(this,wp)){ie(this,wp,!1);for(const e of x(this,Mr).values())e.disable();for(const e of x(this,Zi).values())e.disable()}},tS=new WeakSet,j7=function(e){const n=x(this,Mr).get(e.pageIndex);n?n.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},JE=new WeakSet,Ree=function(){let e=null;for(e of x(this,qn));return e},Kg=new WeakSet,Xx=function(){if(x(this,Zi).size===0)return!0;if(x(this,Zi).size===1)for(const e of x(this,Zi).values())return e.isEmpty();return!1},nS=new WeakSet,$7=function(e){for(const n of x(this,qn))n.unselect();x(this,qn).clear();for(const n of e)n.isEmpty()||(x(this,qn).add(n),n.select());he(this,wa,Ss).call(this,{hasSelectedEditor:this.hasSelection})},it(vv,"TRANSLATE_SMALL",1),it(vv,"TRANSLATE_BIG",10);let W0=vv;var Jr,Uu,Ic,l2,Mu,jo,c2,Bu,Xs,uh,Yg,zu,kp,Jg,Kx,u2,p4;const As=class As{constructor(e){J(this,Jg);J(this,u2);J(this,Jr,null);J(this,Uu,!1);J(this,Ic,null);J(this,l2,null);J(this,Mu,null);J(this,jo,null);J(this,c2,!1);J(this,Bu,null);J(this,Xs,null);J(this,uh,null);J(this,Yg,null);J(this,zu,!1);ie(this,Xs,e),ie(this,zu,e._uiManager.useNewAltTextFlow),x(As,kp)||ie(As,kp,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){As._l10n??(As._l10n=e)}async render(){const e=ie(this,Ic,document.createElement("button"));e.className="altText",e.tabIndex="0";const n=ie(this,l2,document.createElement("span"));e.append(n),x(this,zu)?(e.classList.add("new"),e.setAttribute("data-l10n-id",x(As,kp).missing),n.setAttribute("data-l10n-id",x(As,kp)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=x(this,Xs)._uiManager._signal;e.addEventListener("contextmenu",fc,{signal:i}),e.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:i});const r=a=>{a.preventDefault(),x(this,Xs)._uiManager.editAltText(x(this,Xs)),x(this,zu)&&x(this,Xs)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:x(this,Jg,Kx)}})};return e.addEventListener("click",r,{capture:!0,signal:i}),e.addEventListener("keydown",a=>{a.target===e&&a.key==="Enter"&&(ie(this,c2,!0),r(a))},{signal:i}),await he(this,u2,p4).call(this),e}finish(){x(this,Ic)&&(x(this,Ic).focus({focusVisible:x(this,c2)}),ie(this,c2,!1))}isEmpty(){return x(this,zu)?x(this,Jr)===null:!x(this,Jr)&&!x(this,Uu)}hasData(){return x(this,zu)?x(this,Jr)!==null||!!x(this,uh):this.isEmpty()}get guessedText(){return x(this,uh)}async setGuessedText(e){x(this,Jr)===null&&(ie(this,uh,e),ie(this,Yg,await As._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),he(this,u2,p4).call(this))}toggleAltTextBadge(e=!1){var n;if(!x(this,zu)||x(this,Jr)){(n=x(this,Bu))==null||n.remove(),ie(this,Bu,null);return}if(!x(this,Bu)){const i=ie(this,Bu,document.createElement("div"));i.className="noAltTextBadge",x(this,Xs).div.append(i)}x(this,Bu).classList.toggle("hidden",!e)}serialize(e){let n=x(this,Jr);return!e&&x(this,uh)===n&&(n=x(this,Yg)),{altText:n,decorative:x(this,Uu),guessedText:x(this,uh),textWithDisclaimer:x(this,Yg)}}get data(){return{altText:x(this,Jr),decorative:x(this,Uu)}}set data({altText:e,decorative:n,guessedText:i,textWithDisclaimer:r,cancel:a=!1}){i&&(ie(this,uh,i),ie(this,Yg,r)),!(x(this,Jr)===e&&x(this,Uu)===n)&&(a||(ie(this,Jr,e),ie(this,Uu,n)),he(this,u2,p4).call(this))}toggle(e=!1){x(this,Ic)&&(!e&&x(this,jo)&&(clearTimeout(x(this,jo)),ie(this,jo,null)),x(this,Ic).disabled=!e)}shown(){x(this,Xs)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:x(this,Jg,Kx)}})}destroy(){var e,n;(e=x(this,Ic))==null||e.remove(),ie(this,Ic,null),ie(this,l2,null),ie(this,Mu,null),(n=x(this,Bu))==null||n.remove(),ie(this,Bu,null)}};Jr=new WeakMap,Uu=new WeakMap,Ic=new WeakMap,l2=new WeakMap,Mu=new WeakMap,jo=new WeakMap,c2=new WeakMap,Bu=new WeakMap,Xs=new WeakMap,uh=new WeakMap,Yg=new WeakMap,zu=new WeakMap,kp=new WeakMap,Jg=new WeakSet,Kx=function(){return x(this,Jr)&&"added"||x(this,Jr)===null&&this.guessedText&&"review"||"missing"},u2=new WeakSet,p4=async function(){var r,a,s;const e=x(this,Ic);if(!e)return;if(x(this,zu)){if(e.classList.toggle("done",!!x(this,Jr)),e.setAttribute("data-l10n-id",x(As,kp)[x(this,Jg,Kx)]),(r=x(this,l2))==null||r.setAttribute("data-l10n-id",x(As,kp)[`${x(this,Jg,Kx)}-label`]),!x(this,Jr)){(a=x(this,Mu))==null||a.remove();return}}else{if(!x(this,Jr)&&!x(this,Uu)){e.classList.remove("done"),(s=x(this,Mu))==null||s.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let n=x(this,Mu);if(!n){ie(this,Mu,n=document.createElement("span")),n.className="tooltip",n.setAttribute("role","tooltip"),n.id=`alt-text-tooltip-${x(this,Xs).id}`;const o=100,c=x(this,Xs)._uiManager._signal;c.addEventListener("abort",()=>{clearTimeout(x(this,jo)),ie(this,jo,null)},{once:!0}),e.addEventListener("mouseenter",()=>{ie(this,jo,setTimeout(()=>{ie(this,jo,null),x(this,Mu).classList.add("show"),x(this,Xs)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:c}),e.addEventListener("mouseleave",()=>{var u;x(this,jo)&&(clearTimeout(x(this,jo)),ie(this,jo,null)),(u=x(this,Mu))==null||u.classList.remove("show")},{signal:c})}x(this,Uu)?n.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(n.removeAttribute("data-l10n-id"),n.textContent=x(this,Jr)),n.parentNode||e.append(n);const i=x(this,Xs).getElementForAltText();i==null||i.setAttribute("aria-describedby",n.id)},J(As,kp,null),it(As,"_l10n",null);let nE=As;var xa,Hl,Zg,_i,iS,Qg,Rc,e1,t1,n1,rS,W7,pX;let tk=(pX=class{constructor(e){J(this,rS);J(this,xa,null);J(this,Hl,null);J(this,Zg,!1);J(this,_i,null);J(this,iS,null);J(this,Qg,null);J(this,Rc,null);J(this,e1,null);J(this,t1,!1);J(this,n1,null);ie(this,_i,e)}renderForToolbar(){const e=ie(this,Hl,document.createElement("button"));return e.className="comment",he(this,rS,W7).call(this,e,!1)}renderForStandalone(){const e=ie(this,xa,document.createElement("button"));e.className="annotationCommentButton";const n=x(this,_i).commentButtonPosition;if(n){const{style:i}=e;i.insetInlineEnd=`calc(${100*(x(this,_i)._uiManager.direction==="ltr"?1-n[0]:n[0])}% - var(--comment-button-dim))`,i.top=`calc(${100*n[1]}% - var(--comment-button-dim))`;const r=x(this,_i).commentButtonColor;r&&(i.backgroundColor=r)}return he(this,rS,W7).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=x(this,xa)??x(this,Hl))==null||e.focus()},0)}onUpdatedColor(){if(!x(this,xa))return;const e=x(this,_i).commentButtonColor;e&&(x(this,xa).style.backgroundColor=e),x(this,_i)._uiManager.updatePopupColor(x(this,_i))}get commentButtonWidth(){var e;return(((e=x(this,xa))==null?void 0:e.getBoundingClientRect().width)??0)/x(this,_i).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(x(this,n1))return x(this,n1);if(!x(this,xa))return null;const{x:e,y:n,height:i}=x(this,xa).getBoundingClientRect(),{x:r,y:a,width:s,height:o}=x(this,_i).parent.boundingClientRect;return[(e-r)/s,(n+i-a)/o]}set commentPopupPositionInLayer(e){ie(this,n1,e)}hasDefaultPopupPosition(){return x(this,n1)===null}removeStandaloneCommentButton(){var e;(e=x(this,xa))==null||e.remove(),ie(this,xa,null)}removeToolbarCommentButton(){var e;(e=x(this,Hl))==null||e.remove(),ie(this,Hl,null)}setCommentButtonStates({selected:e,hasPopup:n}){x(this,xa)&&(x(this,xa).classList.toggle("selected",e),x(this,xa).ariaExpanded=n)}edit(e){const n=this.commentPopupPositionInLayer;let i,r;if(n)[i,r]=n;else{[i,r]=x(this,_i).commentButtonPosition;const{width:d,height:h,x:f,y:p}=x(this,_i);i=f+i*d,r=p+r*h}const a=x(this,_i).parent.boundingClientRect,{x:s,y:o,width:c,height:u}=a;x(this,_i)._uiManager.editComment(x(this,_i),s+i*c,o+r*u,{...e,parentDimensions:a})}finish(){x(this,Hl)&&(x(this,Hl).focus({focusVisible:x(this,Zg)}),ie(this,Zg,!1))}isDeleted(){return x(this,t1)||x(this,Rc)===""}isEmpty(){return x(this,Rc)===null}hasBeenEdited(){return this.isDeleted()||x(this,Rc)!==x(this,iS)}serialize(){return this.data}get data(){return{text:x(this,Rc),richText:x(this,Qg),date:x(this,e1),deleted:this.isDeleted()}}set data(e){if(e!==x(this,Rc)&&ie(this,Qg,null),e===null){ie(this,Rc,""),ie(this,t1,!0);return}ie(this,Rc,e),ie(this,e1,new Date),ie(this,t1,!1)}setInitialText(e,n=null){ie(this,iS,e),this.data=e,ie(this,e1,null),ie(this,Qg,n)}shown(){}destroy(){var e,n;(e=x(this,Hl))==null||e.remove(),ie(this,Hl,null),(n=x(this,xa))==null||n.remove(),ie(this,xa,null),ie(this,Rc,""),ie(this,Qg,null),ie(this,e1,null),ie(this,_i,null),ie(this,Zg,!1),ie(this,t1,!1)}},xa=new WeakMap,Hl=new WeakMap,Zg=new WeakMap,_i=new WeakMap,iS=new WeakMap,Qg=new WeakMap,Rc=new WeakMap,e1=new WeakMap,t1=new WeakMap,n1=new WeakMap,rS=new WeakSet,W7=function(e,n){if(!x(this,_i)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",n?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[x(this,_i)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const i=x(this,_i)._uiManager._signal;if(!(i instanceof AbortSignal)||i.aborted)return e;e.addEventListener("contextmenu",fc,{signal:i}),n&&(e.addEventListener("focusin",a=>{x(this,_i)._focusEventsAllowed=!1,rr(a)},{capture:!0,signal:i}),e.addEventListener("focusout",a=>{x(this,_i)._focusEventsAllowed=!0,rr(a)},{capture:!0,signal:i})),e.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:i});const r=a=>{a.preventDefault(),e===x(this,Hl)?this.edit():x(this,_i).toggleComment(!0)};return e.addEventListener("click",r,{capture:!0,signal:i}),e.addEventListener("keydown",a=>{a.target===e&&a.key==="Enter"&&(ie(this,Zg,!0),r(a))},{signal:i}),e.addEventListener("pointerenter",()=>{x(this,_i).toggleComment(!1,!0)},{signal:i}),e.addEventListener("pointerleave",()=>{x(this,_i).toggleComment(!1,!1)},{signal:i}),e},pX);var d2,i1,aS,sS,oS,lS,cS,dh,r1,hh,a1,fh,ZE,Lee,QE,Fee,eT,Oee;const wB=class wB{constructor({container:e,isPinchingDisabled:n=null,isPinchingStopped:i=null,onPinchStart:r=null,onPinching:a=null,onPinchEnd:s=null,signal:o}){J(this,ZE);J(this,QE);J(this,eT);J(this,d2,void 0);J(this,i1,!1);J(this,aS,null);J(this,sS,void 0);J(this,oS,void 0);J(this,lS,void 0);J(this,cS,void 0);J(this,dh,null);J(this,r1,void 0);J(this,hh,null);J(this,a1,void 0);J(this,fh,null);ie(this,d2,e),ie(this,aS,i),ie(this,sS,n),ie(this,oS,r),ie(this,lS,a),ie(this,cS,s),ie(this,a1,new AbortController),ie(this,r1,AbortSignal.any([o,x(this,a1).signal])),e.addEventListener("touchstart",he(this,ZE,Lee).bind(this),{passive:!1,signal:x(this,r1)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Sd.pixelRatio}destroy(){var e,n;(e=x(this,a1))==null||e.abort(),ie(this,a1,null),(n=x(this,dh))==null||n.abort(),ie(this,dh,null)}};d2=new WeakMap,i1=new WeakMap,aS=new WeakMap,sS=new WeakMap,oS=new WeakMap,lS=new WeakMap,cS=new WeakMap,dh=new WeakMap,r1=new WeakMap,hh=new WeakMap,a1=new WeakMap,fh=new WeakMap,ZE=new WeakSet,Lee=function(e){var r,a,s;if((r=x(this,sS))!=null&&r.call(this))return;if(e.touches.length===1){if(x(this,dh))return;const o=ie(this,dh,new AbortController),c=AbortSignal.any([x(this,r1),o.signal]),u=x(this,d2),d={capture:!0,signal:c,passive:!1},h=f=>{var p;f.pointerType==="touch"&&((p=x(this,dh))==null||p.abort(),ie(this,dh,null))};u.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(rr(f),h(f))},d),u.addEventListener("pointerup",h,d),u.addEventListener("pointercancel",h,d);return}if(!x(this,fh)){ie(this,fh,new AbortController);const o=AbortSignal.any([x(this,r1),x(this,fh).signal]),c=x(this,d2),u={signal:o,capture:!1,passive:!1};c.addEventListener("touchmove",he(this,QE,Fee).bind(this),u);const d=he(this,eT,Oee).bind(this);c.addEventListener("touchend",d,u),c.addEventListener("touchcancel",d,u),u.capture=!0,c.addEventListener("pointerdown",rr,u),c.addEventListener("pointermove",rr,u),c.addEventListener("pointercancel",rr,u),c.addEventListener("pointerup",rr,u),(a=x(this,oS))==null||a.call(this)}if(rr(e),e.touches.length!==2||(s=x(this,aS))!=null&&s.call(this)){ie(this,hh,null);return}let[n,i]=e.touches;n.identifier>i.identifier&&([n,i]=[i,n]),ie(this,hh,{touch0X:n.screenX,touch0Y:n.screenY,touch1X:i.screenX,touch1Y:i.screenY})},QE=new WeakSet,Fee=function(e){var S;if(!x(this,hh)||e.touches.length!==2)return;rr(e);let[n,i]=e.touches;n.identifier>i.identifier&&([n,i]=[i,n]);const{screenX:r,screenY:a}=n,{screenX:s,screenY:o}=i,c=x(this,hh),{touch0X:u,touch0Y:d,touch1X:h,touch1Y:f}=c,p=h-u,w=f-d,v=s-r,b=o-a,g=Math.hypot(v,b)||1,y=Math.hypot(p,w)||1;if(!x(this,i1)&&Math.abs(y-g)<=wB.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(c.touch0X=r,c.touch0Y=a,c.touch1X=s,c.touch1Y=o,!x(this,i1)){ie(this,i1,!0);return}const _=[(r+s)/2,(a+o)/2];(S=x(this,lS))==null||S.call(this,_,y,g)},eT=new WeakSet,Oee=function(e){var n;e.touches.length>=2||(x(this,fh)&&(x(this,fh).abort(),ie(this,fh,null),(n=x(this,cS))==null||n.call(this)),x(this,hh)&&(rr(e),ie(this,hh,null),ie(this,i1,!1)))};let iE=wB;var s1,Lc,Mi,ci,ph,h2,Cp,uS,_a,o1,mh,Vl,Ep,dS,l1,$o,hS,c1,gh,ju,f2,p2,Gl,u1,fS,tT,pS,q7,mS,H7,m2,m4,nT,Uee,iT,Mee,gS,V7,g2,g4,yS,G7,rT,Bee,aT,zee,sT,jee,vS,X7,oT,$ee,bS,K7,lT,Wee,cT,qee,uT,Hee,wS,Y7,d1,Yx;const Yt=class Yt{constructor(e){J(this,pS);J(this,m2);J(this,nT);J(this,iT);J(this,gS);J(this,g2);J(this,yS);J(this,rT);J(this,aT);J(this,sT);J(this,vS);J(this,oT);J(this,bS);J(this,lT);J(this,cT);J(this,uT);J(this,wS);J(this,d1);J(this,s1,null);J(this,Lc,null);J(this,Mi,null);J(this,ci,null);J(this,ph,null);J(this,h2,!1);J(this,Cp,null);J(this,uS,"");J(this,_a,null);J(this,o1,null);J(this,mh,null);J(this,Vl,null);J(this,Ep,null);J(this,dS,"");J(this,l1,!1);J(this,$o,null);J(this,hS,!1);J(this,c1,!1);J(this,gh,!1);J(this,ju,null);J(this,f2,0);J(this,p2,0);J(this,Gl,null);J(this,u1,null);it(this,"isSelected",!1);it(this,"_isCopy",!1);it(this,"_editToolbar",null);it(this,"_initialOptions",Object.create(null));it(this,"_initialData",null);it(this,"_isVisible",!0);it(this,"_uiManager",null);it(this,"_focusEventsAllowed",!0);J(this,fS,!1);J(this,tT,Yt._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:n,rawDims:{pageWidth:i,pageHeight:r,pageX:a,pageY:s}}=this.parent.viewport;this.rotation=n,this.pageRotation=(360+n-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[a,s];const[o,c]=this.parentDimensions;this.x=e.x/o,this.y=e.y/c,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Yt.prototype._resizeWithKeyboard,n=W0.TRANSLATE_SMALL,i=W0.TRANSLATE_BIG;return Xt(this,"_resizerKeyboardManager",new qN([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-n,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[n,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-n]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,n]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,i]}],[["Escape","mac+Escape"],Yt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Xt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const n=new vCe({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});n.annotationElementId=e.annotationElementId,n.deleted=!0,n._uiManager.addToAnnotationStorage(n)}static initialize(e,n){if(Yt._l10n??(Yt._l10n=e),Yt._l10nResizer||(Yt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Yt._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);Yt._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,n){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,n){hi("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return x(this,fS)}set _isDraggable(e){var n;ie(this,fS,e),(n=this.div)==null||n.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,n]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*n/(e*2),this.y+=this.width*e/(n*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*n/(e*2),this.y-=this.width*e/(n*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=x(this,tT)}setParent(e){var n;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(he(this,d1,Yx).call(this),(n=x(this,Vl))==null||n.remove(),ie(this,Vl,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(x(this,l1)?ie(this,l1,!1):this.parent.setSelected(this))}focusout(e){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const n=e.relatedTarget;n!=null&&n.closest(`#${this.id}`)||(e.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,n,i,r){const[a,s]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(e+i)/a,this.y=(n+r)/s,this.fixAndSetPosition()}_moveAfterPaste(e,n){const[i,r]=this.parentDimensions;this.setAt(e*i,n*r,this.width*i,this.height*r),this._onTranslated()}translate(e,n){he(this,pS,q7).call(this,this.parentDimensions,e,n)}translateInPage(e,n){x(this,$o)||ie(this,$o,[this.x,this.y,this.width,this.height]),he(this,pS,q7).call(this,this.pageDimensions,e,n),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,n){x(this,$o)||ie(this,$o,[this.x,this.y,this.width,this.height]);const{div:i,parentDimensions:[r,a]}=this;if(this.x+=e/r,this.y+=n/a,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:h,y:f}=this.div.getBoundingClientRect();this.parent.findNewParent(this,h,f)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:s,y:o}=this;const[c,u]=this.getBaseTranslation();s+=c,o+=u;const{style:d}=i;d.left=`${(100*s).toFixed(2)}%`,d.top=`${(100*o).toFixed(2)}%`,this._onTranslating(s,o),i.scrollIntoView({block:"nearest"})}_onTranslating(e,n){}_onTranslated(e,n){}get _hasBeenMoved(){return!!x(this,$o)&&(x(this,$o)[0]!==this.x||x(this,$o)[1]!==this.y)}get _hasBeenResized(){return!!x(this,$o)&&(x(this,$o)[2]!==this.width||x(this,$o)[3]!==this.height)}getBaseTranslation(){const[e,n]=this.parentDimensions,{_borderLineWidth:i}=Yt,r=i/e,a=i/n;switch(this.rotation){case 90:return[-r,a];case 180:return[r,a];case 270:return[r,-a];default:return[-r,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:n},pageDimensions:[i,r]}=this;let{x:a,y:s,width:o,height:c}=this;if(o*=i,c*=r,a*=i,s*=r,this._mustFixPosition)switch(e){case 0:a=Ts(a,0,i-o),s=Ts(s,0,r-c);break;case 90:a=Ts(a,0,i-c),s=Ts(s,o,r);break;case 180:a=Ts(a,o,i),s=Ts(s,c,r);break;case 270:a=Ts(a,c,i),s=Ts(s,0,r-o);break}this.x=a/=i,this.y=s/=r;const[u,d]=this.getBaseTranslation();a+=u,s+=d,n.left=`${(100*a).toFixed(2)}%`,n.top=`${(100*s).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,n){var i;return he(i=Yt,mS,H7).call(i,e,n,this.parentRotation)}pageTranslationToScreen(e,n){var i;return he(i=Yt,mS,H7).call(i,e,n,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[n,i]}=this;return[n*e,i*e]}setDims(){const{div:{style:e},width:n,height:i}=this;e.width=`${(100*n).toFixed(2)}%`,e.height=`${(100*i).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=x(this,Mi))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||x(this,c1))return this._editToolbar;this._editToolbar=new F7(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[n,i]of e)await this._editToolbar.addButton(n,i);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,n;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(n=x(this,Mi))==null||n.destroy()}addContainer(e){var i;const n=(i=this._editToolbar)==null?void 0:i.div;n?n.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return x(this,Mi)||(nE.initialize(Yt._l10n),ie(this,Mi,new nE(this)),x(this,s1)&&(x(this,Mi).data=x(this,s1),ie(this,s1,null))),x(this,Mi)}get altTextData(){var e;return(e=x(this,Mi))==null?void 0:e.data}set altTextData(e){x(this,Mi)&&(x(this,Mi).data=e)}get guessedAltText(){var e;return(e=x(this,Mi))==null?void 0:e.guessedText}async setGuessedAltText(e){var n;await((n=x(this,Mi))==null?void 0:n.setGuessedText(e))}serializeAltText(e){var n;return(n=x(this,Mi))==null?void 0:n.serialize(e)}hasAltText(){return!!x(this,Mi)&&!x(this,Mi).isEmpty()}hasAltTextData(){var e;return((e=x(this,Mi))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=x(this,ci))==null||e.focusButton()}addCommentButton(){return this.canAddComment?x(this,ci)||ie(this,ci,new tk(this)):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(x(this,ph)){this._uiManager.isEditingMode()&&x(this,ph).classList.remove("hidden");return}this.hasComment&&(ie(this,ph,x(this,ci).renderForStandalone()),this.div.append(x(this,ph)))}}removeStandaloneCommentButton(){x(this,ci).removeStandaloneCommentButton(),ie(this,ph,null)}hideStandaloneCommentButton(){var e;(e=x(this,ph))==null||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:n,date:i,deleted:r}}=x(this,ci);return{text:n,richText:e,date:i,deleted:r,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){x(this,ci)||ie(this,ci,new tk(this)),x(this,ci).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:n,richText:i}){if(!n||(x(this,ci)||ie(this,ci,new tk(this)),x(this,ci).setInitialText(e,i),!this.annotationElementId))return;const r=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);r&&this.updateFromAnnotationLayer(r)}get hasEditedComment(){var e;return(e=x(this,ci))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=x(this,ci))==null?void 0:e.isDeleted()}get hasComment(){return!!x(this,ci)&&!x(this,ci).isEmpty()&&!x(this,ci).isDeleted()}async editComment(e){x(this,ci)||ie(this,ci,new tk(this)),x(this,ci).edit(e)}toggleComment(e,n=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,n)}setSelectedCommentButton(e){x(this,ci).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,r]=e.rect,[a]=this.pageDimensions,[s]=this.pageTranslation,o=s+a+1,c=r-100,u=o+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[o,c,u,r]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:n}}){x(this,ci).data=n?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var s;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=x(this,h2)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),he(this,bS,K7).call(this);const[n,i]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*i/n).toFixed(2)}%`,e.style.maxHeight=`${(100*n/i).toFixed(2)}%`);const[r,a]=this.getInitialTranslation();return this.translate(r,a),wee(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(x(this,u1)||ie(this,u1,new iE({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:he(this,rT,Bee).bind(this),onPinching:he(this,aT,zee).bind(this),onPinchEnd:he(this,sT,jee).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(s=this._uiManager._editorUndoBar)==null||s.hide(),e}pointerdown(e){const{isMac:n}=Wr.platform;if(e.button!==0||e.ctrlKey&&n){e.preventDefault();return}if(ie(this,l1,!0),this._isDraggable){he(this,oT,$ee).call(this,e);return}he(this,vS,X7).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){x(this,ju)&&clearTimeout(x(this,ju)),ie(this,ju,setTimeout(()=>{var e;ie(this,ju,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,n,i){e.changeParent(this),this.x=n,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(e,n,i=this.rotation){const r=this.parentScale,[a,s]=this.pageDimensions,[o,c]=this.pageTranslation,u=e/r,d=n/r,h=this.x*a,f=this.y*s,p=this.width*a,w=this.height*s;switch(i){case 0:return[h+u+o,s-f-d-w+c,h+u+p+o,s-f-d+c];case 90:return[h+d+o,s-f+u+c,h+d+w+o,s-f+u+p+c];case 180:return[h-u-p+o,s-f+d+c,h-u+o,s-f+d+w+c];case 270:return[h-d-w+o,s-f-u-p+c,h-d+o,s-f-u+c];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,n){const[i,r,a,s]=e,o=a-i,c=s-r;switch(this.rotation){case 0:return[i,n-s,o,c];case 90:return[i,n-r,c,o];case 180:return[a,n-r,o,c];case 270:return[a,n-s,c,o];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&Yt._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=x(this,ci))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:n,date:i,opacity:r,deleted:a,richText:s},uid:o,pageIndex:c,creationDate:u,modificationDate:d}=this;return{id:o,pageIndex:c,rect:this.getPDFRect(),richText:s,contentsObj:{str:e},creationDate:u,modificationDate:i||d,popupRef:!a,color:n,opacity:r}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),ie(this,c1,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),ie(this,c1,!1),!0):!1}isInEditMode(){return x(this,c1)}shouldGetKeyboardEvents(){return x(this,gh)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:n,bottom:i,right:r}=this.getClientDimensions(),{innerHeight:a,innerWidth:s}=window;return n<s&&r>0&&e<a&&i>0}rebuild(){he(this,bS,K7).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,n=null){var i;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((i=this._initialData)==null?void 0:i.popupRef)||""}}static async deserialize(e,n,i){const r=new this.prototype.constructor({parent:n,id:n.getNextId(),uiManager:i,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});r.rotation=e.rotation,ie(r,s1,e.accessibilityData),r._isCopy=e.isCopy||!1;const[a,s]=r.pageDimensions,[o,c,u,d]=r.getRectInCurrentCoords(e.rect,s);return r.x=o/a,r.y=c/s,r.width=u/a,r.height=d/s,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,n,i;if((e=x(this,Ep))==null||e.abort(),ie(this,Ep,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),x(this,ju)&&(clearTimeout(x(this,ju)),ie(this,ju,null)),he(this,d1,Yx).call(this),this.removeEditToolbar(),x(this,Gl)){for(const r of x(this,Gl).values())clearTimeout(r);ie(this,Gl,null)}this.parent=null,(n=x(this,u1))==null||n.destroy(),ie(this,u1,null),(i=x(this,Vl))==null||i.remove(),ie(this,Vl,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(he(this,nT,Uee).call(this),x(this,_a).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,n]}=this,[i,r,a,s]=this.getPDFRect();return[Yt._round(i+(a-i)*e),Yt._round(r+(s-r)*(1-n))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return x(this,ci).commentPopupPositionInLayer}set commentPopupPosition(e){x(this,ci).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return x(this,ci).hasDefaultPopupPosition()}get commentButtonWidth(){return x(this,ci).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){var n;(n=x(this,ci))==null||n.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),ie(this,mh,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const n=x(this,_a).children;if(!x(this,Lc)){ie(this,Lc,Array.from(n));const s=he(this,lT,Wee).bind(this),o=he(this,cT,qee).bind(this),c=this._uiManager._signal;for(const u of x(this,Lc)){const d=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",s,{signal:c}),u.addEventListener("blur",o,{signal:c}),u.addEventListener("focus",he(this,uT,Hee).bind(this,d),{signal:c}),u.setAttribute("data-l10n-id",Yt._l10nResizer[d])}}const i=x(this,Lc)[0];let r=0;for(const s of n){if(s===i)break;r++}const a=(360-this.rotation+this.parentRotation)%360/90*(x(this,Lc).length/4);if(a!==r){if(a<r)for(let o=0;o<r-a;o++)x(this,_a).append(x(this,_a).firstElementChild);else if(a>r)for(let o=0;o<a-r;o++)x(this,_a).firstElementChild.before(x(this,_a).lastElementChild);let s=0;for(const o of n){const u=x(this,Lc)[s++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",Yt._l10nResizer[u])}}he(this,wS,Y7).call(this,0),ie(this,gh,!0),x(this,_a).firstElementChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,n){x(this,gh)&&he(this,yS,G7).call(this,x(this,dS),{deltaX:e,deltaY:n,fromKeyboard:!0})}_stopResizingWithKeyboard(){he(this,d1,Yx).call(this),this.div.focus()}select(){var e,n,i;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,a;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((a=this._editToolbar)==null||a.show())});return}(n=this._editToolbar)==null||n.show(),(i=x(this,Mi))==null||i.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,n,i,r,a;this.isSelected&&(this.isSelected=!1,(e=x(this,_a))==null||e.classList.add("hidden"),(n=this.div)==null||n.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(a=x(this,Mi))==null||a.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,n){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return x(this,hS)}set isEditing(e){ie(this,hS,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,n=!1){if(n){x(this,Gl)||ie(this,Gl,new Map);const{action:i}=e;let r=x(this,Gl).get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),x(this,Gl).delete(i),x(this,Gl).size===0&&ie(this,Gl,null)},Yt._telemetryTimeout),x(this,Gl).set(i,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),ie(this,h2,!1)}disable(){this.div&&(this.div.tabIndex=-1),ie(this,h2,!0)}updateFakeAnnotationElement(e){if(!x(this,Vl)&&!this.deleted){ie(this,Vl,e.addFakeAnnotation(this));return}if(this.deleted){x(this,Vl).remove(),ie(this,Vl,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&x(this,Vl).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let n=e.container.querySelector(".annotationContent");if(!n)n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),e.container.prepend(n);else if(n.nodeName==="CANVAS"){const i=n;n=document.createElement("div"),n.classList.add("annotationContent",this.editorType),i.before(n)}return n}resetAnnotationElement(e){const{firstElementChild:n}=e.container;(n==null?void 0:n.nodeName)==="DIV"&&n.classList.contains("annotationContent")&&n.remove()}};s1=new WeakMap,Lc=new WeakMap,Mi=new WeakMap,ci=new WeakMap,ph=new WeakMap,h2=new WeakMap,Cp=new WeakMap,uS=new WeakMap,_a=new WeakMap,o1=new WeakMap,mh=new WeakMap,Vl=new WeakMap,Ep=new WeakMap,dS=new WeakMap,l1=new WeakMap,$o=new WeakMap,hS=new WeakMap,c1=new WeakMap,gh=new WeakMap,ju=new WeakMap,f2=new WeakMap,p2=new WeakMap,Gl=new WeakMap,u1=new WeakMap,fS=new WeakMap,tT=new WeakMap,pS=new WeakSet,q7=function([e,n],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/e,this.y+=r/n,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},mS=new WeakSet,H7=function(e,n,i){switch(i){case 90:return[n,-e];case 180:return[-e,-n];case 270:return[-n,e];default:return[e,n]}},m2=new WeakSet,m4=function(e){switch(e){case 90:{const[n,i]=this.pageDimensions;return[0,-n/i,i/n,0]}case 180:return[-1,0,0,-1];case 270:{const[n,i]=this.pageDimensions;return[0,n/i,-i/n,0]}default:return[1,0,0,1]}},nT=new WeakSet,Uee=function(){if(x(this,_a))return;ie(this,_a,document.createElement("div")),x(this,_a).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],n=this._uiManager._signal;for(const i of e){const r=document.createElement("div");x(this,_a).append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",he(this,iT,Mee).bind(this,i),{signal:n}),r.addEventListener("contextmenu",fc,{signal:n}),r.tabIndex=-1}this.div.prepend(x(this,_a))},iT=new WeakSet,Mee=function(e,n){var d;n.preventDefault();const{isMac:i}=Wr.platform;if(n.button!==0||n.ctrlKey&&i)return;(d=x(this,Mi))==null||d.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,ie(this,o1,[n.screenX,n.screenY]);const a=new AbortController,s=this._uiManager.combinedSignal(a);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",he(this,yS,G7).bind(this,e),{passive:!0,capture:!0,signal:s}),window.addEventListener("touchmove",rr,{passive:!1,signal:s}),window.addEventListener("contextmenu",fc,{signal:s}),ie(this,mh,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,c=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(n.target).cursor;const u=()=>{var h;a.abort(),this.parent.togglePointerEvents(!0),(h=x(this,Mi))==null||h.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=o,this.div.style.cursor=c,he(this,g2,g4).call(this)};window.addEventListener("pointerup",u,{signal:s}),window.addEventListener("blur",u,{signal:s})},gS=new WeakSet,V7=function(e,n,i,r){this.width=i,this.height=r,this.x=e,this.y=n,this.setDims(),this.fixAndSetPosition(),this._onResized()},g2=new WeakSet,g4=function(){if(!x(this,mh))return;const{savedX:e,savedY:n,savedWidth:i,savedHeight:r}=x(this,mh);ie(this,mh,null);const a=this.x,s=this.y,o=this.width,c=this.height;a===e&&s===n&&o===i&&c===r||this.addCommands({cmd:he(this,gS,V7).bind(this,a,s,o,c),undo:he(this,gS,V7).bind(this,e,n,i,r),mustExec:!0})},yS=new WeakSet,G7=function(e,n){const[i,r]=this.parentDimensions,a=this.x,s=this.y,o=this.width,c=this.height,u=Yt.MIN_SIZE/i,d=Yt.MIN_SIZE/r,h=he(this,m2,m4).call(this,this.rotation),f=(j,W)=>[h[0]*j+h[2]*W,h[1]*j+h[3]*W],p=he(this,m2,m4).call(this,360-this.rotation),w=(j,W)=>[p[0]*j+p[2]*W,p[1]*j+p[3]*W];let v,b,g=!1,y=!1;switch(e){case"topLeft":g=!0,v=(j,W)=>[0,0],b=(j,W)=>[j,W];break;case"topMiddle":v=(j,W)=>[j/2,0],b=(j,W)=>[j/2,W];break;case"topRight":g=!0,v=(j,W)=>[j,0],b=(j,W)=>[0,W];break;case"middleRight":y=!0,v=(j,W)=>[j,W/2],b=(j,W)=>[0,W/2];break;case"bottomRight":g=!0,v=(j,W)=>[j,W],b=(j,W)=>[0,0];break;case"bottomMiddle":v=(j,W)=>[j/2,W],b=(j,W)=>[j/2,0];break;case"bottomLeft":g=!0,v=(j,W)=>[0,W],b=(j,W)=>[j,0];break;case"middleLeft":y=!0,v=(j,W)=>[0,W/2],b=(j,W)=>[j,W/2];break}const _=v(o,c),S=b(o,c);let N=f(...S);const R=Yt._round(a+N[0]),D=Yt._round(s+N[1]);let E=1,C=1,P,k;if(n.fromKeyboard)({deltaX:P,deltaY:k}=n);else{const{screenX:j,screenY:W}=n,[$,q]=x(this,o1);[P,k]=this.screenToPageTranslation(j-$,W-q),x(this,o1)[0]=j,x(this,o1)[1]=W}if([P,k]=w(P/i,k/r),g){const j=Math.hypot(o,c);E=C=Math.max(Math.min(Math.hypot(S[0]-_[0]-P,S[1]-_[1]-k)/j,1/o,1/c),u/o,d/c)}else y?E=Ts(Math.abs(S[0]-_[0]-P),u,1)/o:C=Ts(Math.abs(S[1]-_[1]-k),d,1)/c;const A=Yt._round(o*E),I=Yt._round(c*C);N=f(...b(A,I));const T=R-N[0],z=D-N[1];x(this,$o)||ie(this,$o,[this.x,this.y,this.width,this.height]),this.width=A,this.height=I,this.x=T,this.y=z,this.setDims(),this.fixAndSetPosition(),this._onResizing()},rT=new WeakSet,Bee=function(){var e;ie(this,mh,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=x(this,Mi))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},aT=new WeakSet,zee=function(e,n,i){let a=.7*(i/n)+1-.7;if(a===1)return;const s=he(this,m2,m4).call(this,this.rotation),o=(R,D)=>[s[0]*R+s[2]*D,s[1]*R+s[3]*D],[c,u]=this.parentDimensions,d=this.x,h=this.y,f=this.width,p=this.height,w=Yt.MIN_SIZE/c,v=Yt.MIN_SIZE/u;a=Math.max(Math.min(a,1/f,1/p),w/f,v/p);const b=Yt._round(f*a),g=Yt._round(p*a);if(b===f&&g===p)return;x(this,$o)||ie(this,$o,[d,h,f,p]);const y=o(f/2,p/2),_=Yt._round(d+y[0]),S=Yt._round(h+y[1]),N=o(b/2,g/2);this.x=_-N[0],this.y=S-N[1],this.width=b,this.height=g,this.setDims(),this.fixAndSetPosition(),this._onResizing()},sT=new WeakSet,jee=function(){var e;(e=x(this,Mi))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),he(this,g2,g4).call(this)},vS=new WeakSet,X7=function(e){const{isMac:n}=Wr.platform;e.ctrlKey&&!n||e.shiftKey||e.metaKey&&n?this.parent.toggleSelected(this):this.parent.setSelected(this)},oT=new WeakSet,$ee=function(e){const{isSelected:n}=this;this._uiManager.setUpDragSession();let i=!1;const r=new AbortController,a=this._uiManager.combinedSignal(r),s={capture:!0,passive:!1,signal:a},o=u=>{r.abort(),ie(this,Cp,null),ie(this,l1,!1),this._uiManager.endDragSession()||he(this,vS,X7).call(this,u),i&&this._onStopDragging()};n&&(ie(this,f2,e.clientX),ie(this,p2,e.clientY),ie(this,Cp,e.pointerId),ie(this,uS,e.pointerType),window.addEventListener("pointermove",u=>{i||(i=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:d,clientY:h,pointerId:f}=u;if(f!==x(this,Cp)){rr(u);return}const[p,w]=this.screenToPageTranslation(d-x(this,f2),h-x(this,p2));ie(this,f2,d),ie(this,p2,h),this._uiManager.dragSelectedEditors(p,w)},s),window.addEventListener("touchmove",rr,s),window.addEventListener("pointerdown",u=>{u.pointerType===x(this,uS)&&(x(this,u1)||u.isPrimary)&&o(u),rr(u)},s));const c=u=>{if(!x(this,Cp)||x(this,Cp)===u.pointerId){o(u);return}rr(u)};window.addEventListener("pointerup",c,{signal:a}),window.addEventListener("blur",c,{signal:a})},bS=new WeakSet,K7=function(){if(x(this,Ep)||!this.div)return;ie(this,Ep,new AbortController);const e=this._uiManager.combinedSignal(x(this,Ep));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},lT=new WeakSet,Wee=function(e){Yt._resizerKeyboardManager.exec(this,e)},cT=new WeakSet,qee=function(e){var n;x(this,gh)&&((n=e.relatedTarget)==null?void 0:n.parentNode)!==x(this,_a)&&he(this,d1,Yx).call(this)},uT=new WeakSet,Hee=function(e){ie(this,dS,x(this,gh)?e:"")},wS=new WeakSet,Y7=function(e){if(x(this,Lc))for(const n of x(this,Lc))n.tabIndex=e},d1=new WeakSet,Yx=function(){ie(this,gh,!1),he(this,wS,Y7).call(this,-1),he(this,g2,g4).call(this)},J(Yt,mS),it(Yt,"_l10n",null),it(Yt,"_l10nResizer",null),it(Yt,"_borderLineWidth",-1),it(Yt,"_colorManager",new M7),it(Yt,"_zIndex",1),it(Yt,"_telemetryTimeout",1e3);let Ai=Yt;class vCe extends Ai{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const bq=3285377520,Fl=4294901760,Cu=65535;class Vee{constructor(e){this.h1=e?e&4294967295:bq,this.h2=e?e&4294967295:bq}update(e){let n,i;if(typeof e=="string"){n=new Uint8Array(e.length*2),i=0;for(let v=0,b=e.length;v<b;v++){const g=e.charCodeAt(v);g<=255?n[i++]=g:(n[i++]=g>>>8,n[i++]=g&255)}}else if(ArrayBuffer.isView(e))n=e.slice(),i=n.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=i>>2,a=i-r*4,s=new Uint32Array(n.buffer,0,r);let o=0,c=0,u=this.h1,d=this.h2;const h=3432918353,f=461845907,p=h&Cu,w=f&Cu;for(let v=0;v<r;v++)v&1?(o=s[v],o=o*h&Fl|o*p&Cu,o=o<<15|o>>>17,o=o*f&Fl|o*w&Cu,u^=o,u=u<<13|u>>>19,u=u*5+3864292196):(c=s[v],c=c*h&Fl|c*p&Cu,c=c<<15|c>>>17,c=c*f&Fl|c*w&Cu,d^=c,d=d<<13|d>>>19,d=d*5+3864292196);switch(o=0,a){case 3:o^=n[r*4+2]<<16;case 2:o^=n[r*4+1]<<8;case 1:o^=n[r*4],o=o*h&Fl|o*p&Cu,o=o<<15|o>>>17,o=o*f&Fl|o*w&Cu,r&1?u^=o:d^=o}this.h1=u,this.h2=d}hexdigest(){let e=this.h1,n=this.h2;return e^=n>>>1,e=e*3981806797&Fl|e*36045&Cu,n=n*4283543511&Fl|((n<<16|e>>>16)*2950163797&Fl)>>>16,e^=n>>>1,e=e*444984403&Fl|e*60499&Cu,n=n*3301882366&Fl|((n<<16|e>>>16)*3120437893&Fl)>>>16,e^=n>>>1,(e>>>0).toString(16).padStart(8,"0")+(n>>>0).toString(16).padStart(8,"0")}}const J7=Object.freeze({map:null,hash:"",transfer:void 0});var h1,f1,yh,Sa,dT,Gee;class FU{constructor(){J(this,dT);J(this,h1,!1);J(this,f1,null);J(this,yh,null);J(this,Sa,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,n){const i=x(this,Sa).get(e);return i===void 0?n:Object.assign(n,i)}getRawValue(e){return x(this,Sa).get(e)}remove(e){const n=x(this,Sa).get(e);if(n!==void 0&&(n instanceof Ai&&x(this,yh).delete(n.annotationElementId),x(this,Sa).delete(e),x(this,Sa).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const i of x(this,Sa).values())if(i instanceof Ai)return;this.onAnnotationEditor(null)}}setValue(e,n){const i=x(this,Sa).get(e);let r=!1;if(i!==void 0)for(const[a,s]of Object.entries(n))i[a]!==s&&(r=!0,i[a]=s);else r=!0,x(this,Sa).set(e,n);r&&he(this,dT,Gee).call(this),n instanceof Ai&&((x(this,yh)||ie(this,yh,new Map)).set(n.annotationElementId,n),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(n.constructor._type))}has(e){return x(this,Sa).has(e)}get size(){return x(this,Sa).size}resetModified(){x(this,h1)&&(ie(this,h1,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Xee(this)}get serializable(){if(x(this,Sa).size===0)return J7;const e=new Map,n=new Vee,i=[],r=Object.create(null);let a=!1;for(const[s,o]of x(this,Sa)){const c=o instanceof Ai?o.serialize(!1,r):o;c&&(e.set(s,c),n.update(`${s}:${JSON.stringify(c)}`),a||(a=!!c.bitmap))}if(a)for(const s of e.values())s.bitmap&&i.push(s.bitmap);return e.size>0?{map:e,hash:n.hexdigest(),transfer:i}:J7}get editorStats(){let e=null;const n=new Map;let i=0,r=0;for(const a of x(this,Sa).values()){if(!(a instanceof Ai)){a.popup&&(a.popup.deleted?r+=1:i+=1);continue}a.isCommentDeleted?r+=1:a.hasEditedComment&&(i+=1);const s=a.telemetryFinalData;if(!s)continue;const{type:o}=s;n.has(o)||n.set(o,Object.getPrototypeOf(a).constructor),e||(e=Object.create(null));const c=e[o]||(e[o]=new Map);for(const[u,d]of Object.entries(s)){if(u==="type")continue;let h=c.get(u);h||(h=new Map,c.set(u,h));const f=h.get(d)??0;h.set(d,f+1)}}if((r>0||i>0)&&(e||(e=Object.create(null)),e.comments={deleted:r,edited:i}),!e)return null;for(const[a,s]of n)e[a]=s.computeTelemetryFinalData(e[a]);return e}resetModifiedIds(){ie(this,f1,null)}updateEditor(e,n){var r;const i=(r=x(this,yh))==null?void 0:r.get(e);return i?(i.updateFromAnnotationLayer(n),!0):!1}getEditor(e){var n;return((n=x(this,yh))==null?void 0:n.get(e))||null}get modifiedIds(){if(x(this,f1))return x(this,f1);const e=[];if(x(this,yh))for(const n of x(this,yh).values())n.serialize()&&e.push(n.annotationElementId);return ie(this,f1,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return x(this,Sa).entries()}}h1=new WeakMap,f1=new WeakMap,yh=new WeakMap,Sa=new WeakMap,dT=new WeakSet,Gee=function(){x(this,h1)||(ie(this,h1,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var xS;class Xee extends FU{constructor(n){super();J(this,xS,void 0);const{map:i,hash:r,transfer:a}=n.serializable,s=structuredClone(i,a?{transfer:a}:null);ie(this,xS,{map:s,hash:r,transfer:a})}get print(){hi("Should not call PrintAnnotationStorage.print")}get serializable(){return x(this,xS)}get modifiedIds(){return Xt(this,"modifiedIds",{ids:new Set,hash:""})}}xS=new WeakMap;var y2;class bCe{constructor({ownerDocument:e=globalThis.document,styleElement:n=null}){J(this,y2,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const n=this.styleElement.sheet;n.insertRule(e,n.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),x(this,y2).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:n,_inspectFont:i}){if(!(!e||x(this,y2).has(e.loadedName))){if(wn(!n,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:a,style:s}=e,o=new FontFace(r,a,s);this.addNativeFontFace(o);try{await o.load(),x(this,y2).add(r),i==null||i(e)}catch{Gt(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(o)}return}hi("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const i=e.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(r){throw Gt(`Failed to load font '${i.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const n=e.createFontFaceRule();if(n){if(this.insertRule(n),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var n;const e=!!((n=this._document)!=null&&n.fonts);return Xt(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return Xt(this,"isSyncFontLoadingSupported",Es||Wr.platform.isFirefox)}_queueLoadingCallback(e){function n(){for(wn(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const a=i.shift();setTimeout(a.callback,0)}}const{loadingRequests:i}=this,r={done:!1,complete:n,callback:e};return i.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Xt(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,n){function i(S,N){return S.charCodeAt(N)<<24|S.charCodeAt(N+1)<<16|S.charCodeAt(N+2)<<8|S.charCodeAt(N+3)&255}function r(S,N,R,D){const E=S.substring(0,N),C=S.substring(N+R);return E+D+C}let a,s;const o=this._document.createElement("canvas");o.width=1,o.height=1;const c=o.getContext("2d");let u=0;function d(S,N){if(++u>30){Gt("Load test font never loaded."),N();return}if(c.font="30px "+S,c.fillText(".",0,20),c.getImageData(0,0,1,1).data[3]>0){N();return}setTimeout(d.bind(null,S,N))}const h=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=r(f,976,h.length,h);const w=16,v=1482184792;let b=i(f,w);for(a=0,s=h.length-3;a<s;a+=4)b=b-v+i(h,a)|0;a<h.length&&(b=b-v+i(h+"XXX",a)|0),f=r(f,w,4,Q4e(b));const g=`url(data:font/opentype;base64,${btoa(f)});`,y=`@font-face {font-family:"${h}";src:${g}}`;this.insertRule(y);const _=this._document.createElement("div");_.style.visibility="hidden",_.style.width=_.style.height="10px",_.style.position="absolute",_.style.top=_.style.left="0px";for(const S of[e.loadedName,h]){const N=this._document.createElement("span");N.textContent="Hi",N.style.fontFamily=S,_.append(N)}this._document.body.append(_),d(h,()=>{_.remove(),n.complete()})}}y2=new WeakMap;var ei;class wCe{constructor(e,n=null,i,r){J(this,ei,void 0);this.compiledGlyphs=Object.create(null),ie(this,ei,e),this._inspectFont=n,i&&Object.assign(this,i),r&&(this.charProcOperatorList=r)}createNativeFontFace(){var n;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(n=this._inspectFont)==null||n.call(this,this),e}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${dee(this.data)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return(i=this._inspectFont)==null||i.call(this,this,e),n}getPathGenerator(e,n){if(this.compiledGlyphs[n]!==void 0)return this.compiledGlyphs[n];const i=this.loadedName+"_path_"+n;let r;try{r=e.get(i)}catch(s){Gt(`getPathGenerator - ignoring character: "${s}".`)}const a=pee(r==null?void 0:r.path);return this.fontExtraProperties||e.delete(i),this.compiledGlyphs[n]=a}get black(){return x(this,ei).black}get bold(){return x(this,ei).bold}get disableFontFace(){return x(this,ei).disableFontFace??!1}set disableFontFace(e){Xt(this,"disableFontFace",!!e)}get fontExtraProperties(){return x(this,ei).fontExtraProperties??!1}get isInvalidPDFjsFont(){return x(this,ei).isInvalidPDFjsFont}get isType3Font(){return x(this,ei).isType3Font}get italic(){return x(this,ei).italic}get missingFile(){return x(this,ei).missingFile}get remeasure(){return x(this,ei).remeasure}get vertical(){return x(this,ei).vertical}get ascent(){return x(this,ei).ascent}get defaultWidth(){return x(this,ei).defaultWidth}get descent(){return x(this,ei).descent}get bbox(){return x(this,ei).bbox}set bbox(e){Xt(this,"bbox",e)}get fontMatrix(){return x(this,ei).fontMatrix}get fallbackName(){return x(this,ei).fallbackName}get loadedName(){return x(this,ei).loadedName}get mimetype(){return x(this,ei).mimetype}get name(){return x(this,ei).name}get data(){return x(this,ei).data}clearData(){x(this,ei).clearData()}get cssFontInfo(){return x(this,ei).cssFontInfo}get systemFontInfo(){return x(this,ei).systemFontInfo}get defaultVMetrics(){return x(this,ei).defaultVMetrics}}ei=new WeakMap;var v2,b2,_S,w2,y4;const bv=class bv{constructor(e){J(this,w2);J(this,v2,void 0);J(this,b2,void 0);J(this,_S,void 0);ie(this,v2,e),ie(this,b2,new DataView(x(this,v2))),ie(this,_S,new TextDecoder)}static write(e){const n=new TextEncoder,i={};let r=0;for(const u of bv.strings){const d=n.encode(e[u]);i[u]=d,r+=4+d.length}const a=new ArrayBuffer(r),s=new Uint8Array(a),o=new DataView(a);let c=0;for(const u of bv.strings){const d=i[u],h=d.length;o.setUint32(c,h),s.set(d,c+4),c+=4+h}return wn(c===a.byteLength,"CssFontInfo.write: Buffer overflow"),a}get fontFamily(){return he(this,w2,y4).call(this,0)}get fontWeight(){return he(this,w2,y4).call(this,1)}get italicAngle(){return he(this,w2,y4).call(this,2)}};v2=new WeakMap,b2=new WeakMap,_S=new WeakMap,w2=new WeakSet,y4=function(e){wn(e<bv.strings.length,"Invalid string index");let n=0;for(let r=0;r<e;r++)n+=x(this,b2).getUint32(n)+4;const i=x(this,b2).getUint32(n);return x(this,_S).decode(new Uint8Array(x(this,v2),n+4,i))},it(bv,"strings",["fontFamily","fontWeight","italicAngle"]);let rE=bv;var Tp,$u,p1,m1,Jx;const wv=class wv{constructor(e){J(this,m1);J(this,Tp,void 0);J(this,$u,void 0);J(this,p1,void 0);ie(this,Tp,e),ie(this,$u,new DataView(x(this,Tp))),ie(this,p1,new TextDecoder)}static write(e){const n=new TextEncoder,i={};let r=0;for(const f of wv.strings){const p=n.encode(e[f]);i[f]=p,r+=4+p.length}r+=4;let a,s,o=1+r;e.style&&(a=n.encode(e.style.style),s=n.encode(e.style.weight),o+=4+a.length+4+s.length);const c=new ArrayBuffer(o),u=new Uint8Array(c),d=new DataView(c);let h=0;d.setUint8(h++,e.guessFallback?1:0),d.setUint32(h,0),h+=4,r=0;for(const f of wv.strings){const p=i[f],w=p.length;r+=4+w,d.setUint32(h,w),u.set(p,h+4),h+=4+w}return d.setUint32(h-r-4,r),e.style&&(d.setUint32(h,a.length),u.set(a,h+4),h+=4+a.length,d.setUint32(h,s.length),u.set(s,h+4),h+=4+s.length),wn(h<=c.byteLength,"SubstitionInfo.write: Buffer overflow"),c.transferToFixedLength(h)}get guessFallback(){return x(this,$u).getUint8(0)!==0}get css(){return he(this,m1,Jx).call(this,0)}get loadedName(){return he(this,m1,Jx).call(this,1)}get baseFontName(){return he(this,m1,Jx).call(this,2)}get src(){return he(this,m1,Jx).call(this,3)}get style(){let e=1;e+=4+x(this,$u).getUint32(e);const n=x(this,$u).getUint32(e),i=x(this,p1).decode(new Uint8Array(x(this,Tp),e+4,n));e+=4+n;const r=x(this,$u).getUint32(e),a=x(this,p1).decode(new Uint8Array(x(this,Tp),e+4,r));return{style:i,weight:a}}};Tp=new WeakMap,$u=new WeakMap,p1=new WeakMap,m1=new WeakSet,Jx=function(e){wn(e<wv.strings.length,"Invalid string index");let n=5;for(let r=0;r<e;r++)n+=x(this,$u).getUint32(n)+4;const i=x(this,$u).getUint32(n);return x(this,p1).decode(new Uint8Array(x(this,Tp),n+4,i))},it(wv,"strings",["css","loadedName","baseFontName","src"]);let aE=wv;var x2,_2,S2,A2,Wo,Wu,SS,ti,qo,Cc,N2,v4,g1,Zx;const en=class en{constructor({data:e,extra:n}){J(this,qo);J(this,N2);J(this,g1);J(this,Wu,void 0);J(this,SS,void 0);J(this,ti,void 0);ie(this,Wu,e),ie(this,SS,new TextDecoder),ie(this,ti,new DataView(x(this,Wu))),n&&Object.assign(this,n)}get black(){return he(this,qo,Cc).call(this,0)}get bold(){return he(this,qo,Cc).call(this,1)}get disableFontFace(){return he(this,qo,Cc).call(this,2)}get fontExtraProperties(){return he(this,qo,Cc).call(this,3)}get isInvalidPDFjsFont(){return he(this,qo,Cc).call(this,4)}get isType3Font(){return he(this,qo,Cc).call(this,5)}get italic(){return he(this,qo,Cc).call(this,6)}get missingFile(){return he(this,qo,Cc).call(this,7)}get remeasure(){return he(this,qo,Cc).call(this,8)}get vertical(){return he(this,qo,Cc).call(this,9)}get ascent(){return he(this,N2,v4).call(this,0)}get defaultWidth(){return he(this,N2,v4).call(this,1)}get descent(){return he(this,N2,v4).call(this,2)}get bbox(){let e=x(en,_2);if(x(this,ti).getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<4;r++)i.push(x(this,ti).getInt16(e,!0)),e+=2;return i}get fontMatrix(){let e=x(en,S2);if(x(this,ti).getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<6;r++)i.push(x(this,ti).getFloat64(e,!0)),e+=8;return i}get defaultVMetrics(){let e=x(en,A2);if(x(this,ti).getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<3;r++)i.push(x(this,ti).getInt16(e,!0)),e+=2;return i}get fallbackName(){return he(this,g1,Zx).call(this,0)}get loadedName(){return he(this,g1,Zx).call(this,1)}get mimetype(){return he(this,g1,Zx).call(this,2)}get name(){return he(this,g1,Zx).call(this,3)}get data(){let e=x(en,Wo);const n=x(this,ti).getUint32(e);e+=4+n;const i=x(this,ti).getUint32(e);e+=4+i;const r=x(this,ti).getUint32(e);e+=4+r;const a=x(this,ti).getUint32(e);if(a!==0)return new Uint8Array(x(this,Wu),e+4,a)}clearData(){let e=x(en,Wo);const n=x(this,ti).getUint32(e);e+=4+n;const i=x(this,ti).getUint32(e);e+=4+i;const r=x(this,ti).getUint32(e);e+=4+r;const a=x(this,ti).getUint32(e);new Uint8Array(x(this,Wu),e+4,a).fill(0),x(this,ti).setUint32(e,0)}get cssFontInfo(){let e=x(en,Wo);const n=x(this,ti).getUint32(e);e+=4+n;const i=x(this,ti).getUint32(e);e+=4+i;const r=x(this,ti).getUint32(e);if(r===0)return null;const a=new Uint8Array(r);return a.set(new Uint8Array(x(this,Wu),e+4,r)),new rE(a.buffer)}get systemFontInfo(){let e=x(en,Wo);const n=x(this,ti).getUint32(e);e+=4+n;const i=x(this,ti).getUint32(e);if(i===0)return null;const r=new Uint8Array(i);return r.set(new Uint8Array(x(this,Wu),e+4,i)),new aE(r.buffer)}static write(e){const n=e.systemFontInfo?aE.write(e.systemFontInfo):null,i=e.cssFontInfo?rE.write(e.cssFontInfo):null,r=new TextEncoder,a={};let s=0;for(const v of en.strings)a[v]=r.encode(e[v]),s+=4+a[v].length;const o=x(en,Wo)+4+s+4+(n?n.byteLength:0)+4+(i?i.byteLength:0)+4+(e.data?e.data.length:0),c=new ArrayBuffer(o),u=new Uint8Array(c),d=new DataView(c);let h=0;const f=en.bools.length;let p=0,w=0;for(let v=0;v<f;v++){const b=e[en.bools[v]];p|=(b===void 0?0:b?2:1)<<w,w+=2,(w===8||v===f-1)&&(d.setUint8(h++,p),p=0,w=0)}wn(h===x(en,x2),"FontInfo.write: Boolean properties offset mismatch");for(const v of en.numbers)d.setFloat64(h,e[v]),h+=8;if(wn(h===x(en,_2),"FontInfo.write: Number properties offset mismatch"),e.bbox){d.setUint8(h++,4);for(const v of e.bbox)d.setInt16(h,v,!0),h+=2}else d.setUint8(h++,0),h+=2*4;if(wn(h===x(en,S2),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){d.setUint8(h++,6);for(const v of e.fontMatrix)d.setFloat64(h,v,!0),h+=8}else d.setUint8(h++,0),h+=8*6;if(wn(h===x(en,A2),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){d.setUint8(h++,1);for(const v of e.defaultVMetrics)d.setInt16(h,v,!0),h+=2}else d.setUint8(h++,0),h+=3*2;wn(h===x(en,Wo),"FontInfo.write: DefaultVMetrics properties offset mismatch"),d.setUint32(x(en,Wo),0),h+=4;for(const v of en.strings){const b=a[v],g=b.length;d.setUint32(h,g),u.set(b,h+4),h+=4+g}if(d.setUint32(x(en,Wo),h-x(en,Wo)-4),!n)d.setUint32(h,0),h+=4;else{const v=n.byteLength;d.setUint32(h,v),wn(h+4+v<=c.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),u.set(new Uint8Array(n),h+4),h+=4+v}if(!i)d.setUint32(h,0),h+=4;else{const v=i.byteLength;d.setUint32(h,v),wn(h+4+v<=c.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),u.set(new Uint8Array(i),h+4),h+=4+v}return e.data===void 0?(d.setUint32(h,0),h+=4):(d.setUint32(h,e.data.length),u.set(e.data,h+4),h+=4+e.data.length),wn(h<=c.byteLength,"FontInfo.write: Buffer overflow"),c.transferToFixedLength(h)}};x2=new WeakMap,_2=new WeakMap,S2=new WeakMap,A2=new WeakMap,Wo=new WeakMap,Wu=new WeakMap,SS=new WeakMap,ti=new WeakMap,qo=new WeakSet,Cc=function(e){wn(e<en.bools.length,"Invalid boolean index");const n=Math.floor(e/4),i=e*2%8,r=x(this,ti).getUint8(n)>>i&3;return r===0?void 0:r===2},N2=new WeakSet,v4=function(e){return wn(e<en.numbers.length,"Invalid number index"),x(this,ti).getFloat64(x(en,x2)+e*8)},g1=new WeakSet,Zx=function(e){wn(e<en.strings.length,"Invalid string index");let n=x(en,Wo)+4;for(let a=0;a<e;a++)n+=x(this,ti).getUint32(n)+4;const i=x(this,ti).getUint32(n),r=new Uint8Array(i);return r.set(new Uint8Array(x(this,Wu),n+4,i)),x(this,SS).decode(r)},it(en,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),it(en,"numbers",["ascent","defaultWidth","descent"]),it(en,"strings",["fallbackName","loadedName","mimetype","name"]),J(en,x2,Math.ceil(en.bools.length*2/8)),J(en,_2,x(en,x2)+en.numbers.length*8),J(en,S2,x(en,_2)+1+2*4),J(en,A2,x(en,S2)+1+8*6),J(en,Wo,x(en,A2)+1+2*3);let Z7=en;var AS,NS,kS,CS,ES,TS,DS,PS;const wi=class wi{constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let n,i=null,r=[],a=[],s=[],o=[],c=null,u=null;switch(e[0]){case"RadialAxial":n=e[1]==="axial"?1:2,i=e[2],s=e[3],n===1?r.push(...e[4],...e[5]):r.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":n=3,c=e[1],r=e[2],a=e[3],o=e[4]||[],i=e[6],u=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const d=Math.floor(r.length/2),h=Math.floor(a.length/3),f=s.length,p=o.length;let w=0;for(const N of o)w+=1,w=Math.ceil(w/4)*4,w+=4+N.coords.length*4,w+=4+N.colors.length*4,N.verticesPerRow!==void 0&&(w+=4);const v=20+d*8+h*3+f*8+(i?16:0)+(u?3:0)+w,b=new ArrayBuffer(v),g=new DataView(b),y=new Uint8Array(b);g.setUint8(x(wi,AS),n),g.setUint8(x(wi,NS),i?1:0),g.setUint8(x(wi,kS),u?1:0),g.setUint8(x(wi,CS),c),g.setUint32(x(wi,ES),d,!0),g.setUint32(x(wi,TS),h,!0),g.setUint32(x(wi,DS),f,!0),g.setUint32(x(wi,PS),p,!0);let _=20;new Float32Array(b,_,d*2).set(r),_+=d*8,y.set(a,_),_+=h*3;for(const[N,R]of s)g.setFloat32(_,N,!0),_+=4,g.setUint32(_,parseInt(R.slice(1),16),!0),_+=4;if(i)for(const N of i)g.setFloat32(_,N,!0),_+=4;u&&(y.set(u,_),_+=3);for(let N=0;N<o.length;N++){const R=o[N];g.setUint8(_,R.type),_+=1,_=Math.ceil(_/4)*4,g.setUint32(_,R.coords.length,!0),_+=4,new Int32Array(b,_,R.coords.length).set(R.coords),_+=R.coords.length*4,g.setUint32(_,R.colors.length,!0),_+=4,new Int32Array(b,_,R.colors.length).set(R.colors),_+=R.colors.length*4,R.verticesPerRow!==void 0&&(g.setUint32(_,R.verticesPerRow,!0),_+=4)}return b}getIR(){const e=this.view,n=this.data[x(wi,AS)],i=!!this.data[x(wi,NS)],r=!!this.data[x(wi,kS)],a=e.getUint32(x(wi,ES),!0),s=e.getUint32(x(wi,TS),!0),o=e.getUint32(x(wi,DS),!0),c=e.getUint32(x(wi,PS),!0);let u=20;const d=new Float32Array(this.buffer,u,a*2);u+=a*8;const h=new Uint8Array(this.buffer,u,s*3);u+=s*3;const f=[];for(let b=0;b<o;++b){const g=e.getFloat32(u,!0);u+=4;const y=e.getUint32(u,!0);u+=4,f.push([g,`#${y.toString(16).padStart(6,"0")}`])}let p=null;if(i){p=[];for(let b=0;b<4;++b)p.push(e.getFloat32(u,!0)),u+=4}let w=null;r&&(w=new Uint8Array(this.buffer,u,3),u+=3);const v=[];for(let b=0;b<c;++b){const g=e.getUint8(u);u+=1,u=Math.ceil(u/4)*4;const y=e.getUint32(u,!0);u+=4;const _=new Int32Array(this.buffer,u,y);u+=y*4;const S=e.getUint32(u,!0);u+=4;const N=new Int32Array(this.buffer,u,S);u+=S*4;const R={type:g,coords:_,colors:N};g===D7.LATTICE&&(R.verticesPerRow=e.getUint32(u,!0),u+=4),v.push(R)}if(n===1)return["RadialAxial","axial",p,f,Array.from(d.slice(0,2)),Array.from(d.slice(2,4)),null,null];if(n===2)return["RadialAxial","radial",p,f,[d[0],d[1]],[d[3],d[4]],d[2],d[5]];if(n===3){const b=this.data[x(wi,CS)];let g=null;if(d.length>0){let y=d[0],_=d[0],S=d[1],N=d[1];for(let R=0;R<d.length;R+=2){const D=d[R],E=d[R+1];y=y>D?D:y,S=S>E?E:S,_=_<D?D:_,N=N<E?E:N}g=[y,S,_,N]}return["Mesh",b,d,h,v,g,p,w]}throw new Error(`Unsupported pattern kind: ${n}`)}};AS=new WeakMap,NS=new WeakMap,kS=new WeakMap,CS=new WeakMap,ES=new WeakMap,TS=new WeakMap,DS=new WeakMap,PS=new WeakMap,J(wi,AS,0),J(wi,NS,1),J(wi,kS,2),J(wi,CS,3),J(wi,ES,4),J(wi,TS,8),J(wi,DS,12),J(wi,PS,16);let Q7=wi;var k2;class xCe{constructor(e){J(this,k2,void 0);ie(this,k2,e)}static write(e){let n,i;return Wr.isFloat16ArraySupported?(i=new ArrayBuffer(e.length*2),n=new Float16Array(i)):(i=new ArrayBuffer(e.length*4),n=new Float32Array(i)),n.set(e),i}get path(){return Wr.isFloat16ArraySupported?new Float16Array(x(this,k2)):new Float32Array(x(this,k2))}}k2=new WeakMap;function _Ce(t){if(t instanceof URL)return t.href;if(typeof t=="string"){if(Es)return t;const e=URL.parse(t,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function SCe(t){if(Es&&typeof Buffer<"u"&&t instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength)return t;if(typeof t=="string")return zN(t);if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)||typeof t=="object"&&!isNaN(t==null?void 0:t.length))return new Uint8Array(t);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function nk(t){if(typeof t!="string")return null;if(t.endsWith("/"))return t;throw new Error(`Invalid factory url: "${t}" must include trailing slash.`)}const eF=t=>typeof t=="object"&&Number.isInteger(t==null?void 0:t.num)&&t.num>=0&&Number.isInteger(t==null?void 0:t.gen)&&t.gen>=0,ACe=t=>typeof t=="object"&&typeof(t==null?void 0:t.name)=="string",NCe=rCe.bind(null,eF,ACe);var vh,hT;class kCe{constructor(){J(this,vh,new Map);J(this,hT,Promise.resolve())}postMessage(e,n){const i={data:structuredClone(e,n?{transfer:n}:null)};x(this,hT).then(()=>{for(const[r]of x(this,vh))r.call(this,i)})}addEventListener(e,n,i=null){let r=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:a}=i;if(a.aborted){Gt("LoopbackPort - cannot use an `aborted` signal.");return}const s=()=>this.removeEventListener(e,n);r=()=>a.removeEventListener("abort",s),a.addEventListener("abort",s)}x(this,vh).set(n,r)}removeEventListener(e,n){const i=x(this,vh).get(n);i==null||i(),x(this,vh).delete(n)}terminate(){for(const[,e]of x(this,vh))e==null||e();x(this,vh).clear()}}vh=new WeakMap,hT=new WeakMap;const ik={DATA:1,ERROR:2},xr={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function wq(){}function Vs(t){if(t instanceof Lm||t instanceof P7||t instanceof hq||t instanceof eE||t instanceof tI)return t;switch(t instanceof Error||typeof t=="object"&&t!==null||hi('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),t.name){case"AbortException":return new Lm(t.message);case"InvalidPDFException":return new P7(t.message);case"PasswordException":return new hq(t.message,t.code);case"ResponseException":return new eE(t.message,t.status,t.missing);case"UnknownErrorException":return new tI(t.message,t.details)}return new tI(t.message,t.toString())}var C2,fT,Kee,pT,Yee,mT,Jee,E2,b4;class Qx{constructor(e,n,i){J(this,fT);J(this,pT);J(this,mT);J(this,E2);J(this,C2,new AbortController);this.sourceName=e,this.targetName=n,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",he(this,fT,Kee).bind(this),{signal:x(this,C2).signal})}on(e,n){const i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=n}send(e,n,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:n},i)}sendWithPromise(e,n,i){const r=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[r]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:n},i)}catch(s){a.reject(s)}return a.promise}sendWithStream(e,n,i,r){const a=this.streamId++,s=this.sourceName,o=this.targetName,c=this.comObj;return new ReadableStream({start:u=>{const d=Promise.withResolvers();return this.streamControllers[a]={controller:u,startCall:d,pullCall:null,cancelCall:null,isClosed:!1},c.postMessage({sourceName:s,targetName:o,action:e,streamId:a,data:n,desiredSize:u.desiredSize},r),d.promise},pull:u=>{const d=Promise.withResolvers();return this.streamControllers[a].pullCall=d,c.postMessage({sourceName:s,targetName:o,stream:xr.PULL,streamId:a,desiredSize:u.desiredSize}),d.promise},cancel:u=>{wn(u instanceof Error,"cancel must have a valid reason");const d=Promise.withResolvers();return this.streamControllers[a].cancelCall=d,this.streamControllers[a].isClosed=!0,c.postMessage({sourceName:s,targetName:o,stream:xr.CANCEL,streamId:a,reason:Vs(u)}),d.promise}},i)}destroy(){var e;(e=x(this,C2))==null||e.abort(),ie(this,C2,null)}}C2=new WeakMap,fT=new WeakSet,Kee=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){he(this,mT,Jee).call(this,e);return}if(e.callback){const i=e.callbackId,r=this.callbackCapabilities[i];if(!r)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],e.callback===ik.DATA)r.resolve(e.data);else if(e.callback===ik.ERROR)r.reject(Vs(e.reason));else throw new Error("Unexpected callback case");return}const n=this.actionHandler[e.action];if(!n)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const i=this.sourceName,r=e.sourceName,a=this.comObj;Promise.try(n,e.data).then(function(s){a.postMessage({sourceName:i,targetName:r,callback:ik.DATA,callbackId:e.callbackId,data:s})},function(s){a.postMessage({sourceName:i,targetName:r,callback:ik.ERROR,callbackId:e.callbackId,reason:Vs(s)})});return}if(e.streamId){he(this,pT,Yee).call(this,e);return}n(e.data)},pT=new WeakSet,Yee=function(e){const n=e.streamId,i=this.sourceName,r=e.sourceName,a=this.comObj,s=this,o=this.actionHandler[e.action],c={enqueue(u,d=1,h){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=d,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:i,targetName:r,stream:xr.ENQUEUE,streamId:n,chunk:u},h)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:i,targetName:r,stream:xr.CLOSE,streamId:n}),delete s.streamSinks[n])},error(u){wn(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:i,targetName:r,stream:xr.ERROR,streamId:n,reason:Vs(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};c.sinkCapability.resolve(),c.ready=c.sinkCapability.promise,this.streamSinks[n]=c,Promise.try(o,e.data,c).then(function(){a.postMessage({sourceName:i,targetName:r,stream:xr.START_COMPLETE,streamId:n,success:!0})},function(u){a.postMessage({sourceName:i,targetName:r,stream:xr.START_COMPLETE,streamId:n,reason:Vs(u)})})},mT=new WeakSet,Jee=function(e){const n=e.streamId,i=this.sourceName,r=e.sourceName,a=this.comObj,s=this.streamControllers[n],o=this.streamSinks[n];switch(e.stream){case xr.START_COMPLETE:e.success?s.startCall.resolve():s.startCall.reject(Vs(e.reason));break;case xr.PULL_COMPLETE:e.success?s.pullCall.resolve():s.pullCall.reject(Vs(e.reason));break;case xr.PULL:if(!o){a.postMessage({sourceName:i,targetName:r,stream:xr.PULL_COMPLETE,streamId:n,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||wq).then(function(){a.postMessage({sourceName:i,targetName:r,stream:xr.PULL_COMPLETE,streamId:n,success:!0})},function(u){a.postMessage({sourceName:i,targetName:r,stream:xr.PULL_COMPLETE,streamId:n,reason:Vs(u)})});break;case xr.ENQUEUE:if(wn(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(e.chunk);break;case xr.CLOSE:if(wn(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),he(this,E2,b4).call(this,s,n);break;case xr.ERROR:wn(s,"error should have stream controller"),s.controller.error(Vs(e.reason)),he(this,E2,b4).call(this,s,n);break;case xr.CANCEL_COMPLETE:e.success?s.cancelCall.resolve():s.cancelCall.reject(Vs(e.reason)),he(this,E2,b4).call(this,s,n);break;case xr.CANCEL:if(!o)break;const c=Vs(e.reason);Promise.try(o.onCancel||wq,c).then(function(){a.postMessage({sourceName:i,targetName:r,stream:xr.CANCEL_COMPLETE,streamId:n,success:!0})},function(u){a.postMessage({sourceName:i,targetName:r,stream:xr.CANCEL_COMPLETE,streamId:n,reason:Vs(u)})}),o.sinkCapability.reject(c),o.isCancelled=!0,delete this.streamSinks[n];break;default:throw new Error("Unexpected stream case")}},E2=new WeakSet,b4=async function(e,n){var i,r,a;await Promise.allSettled([(i=e.startCall)==null?void 0:i.promise,(r=e.pullCall)==null?void 0:r.promise,(a=e.cancelCall)==null?void 0:a.promise]),delete this.streamControllers[n]};var IS;class Zee{constructor({enableHWA:e=!1}){J(this,IS,!1);ie(this,IS,e)}create(e,n){if(e<=0||n<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(e,n);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!x(this,IS)})}}reset(e,n,i){if(!e.canvas)throw new Error("Canvas is not specified");if(n<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=n,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,n){hi("Abstract method `_createCanvas` called.")}}IS=new WeakMap;class CCe extends Zee{constructor({ownerDocument:e=globalThis.document,enableHWA:n=!1}){super({enableHWA:n}),this._document=e}_createCanvas(e,n){const i=this._document.createElement("canvas");return i.width=e,i.height=n,i}}class Qee{constructor({baseUrl:e=null,isCompressed:n=!0}){this.baseUrl=e,this.isCompressed=n}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const n=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(n).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${n}`)})}async _fetch(e){hi("Abstract method `_fetch` called.")}}class xq extends Qee{async _fetch(e){const n=await jN(e,this.isCompressed?"arraybuffer":"text");return n instanceof ArrayBuffer?new Uint8Array(n):zN(n)}}class ete{addFilter(e){return"none"}addHCMFilter(e,n){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,n,i,r,a){return"none"}destroy(e=!1){}}var y1,T2,bh,wh,ns,v1,b1,Zr,Ja,w1,e5,Dp,Gy,D2,w4,Pp,Xy,gT,tte,RS,tF,Ip,Ky,x1,t5,_1,n5,LS,nF,S1,i5;class ECe extends ete{constructor({docId:n,ownerDocument:i=globalThis.document}){super();J(this,Zr);J(this,w1);J(this,Dp);J(this,D2);J(this,Pp);J(this,gT);J(this,RS);J(this,Ip);J(this,x1);J(this,_1);J(this,LS);J(this,S1);J(this,y1,void 0);J(this,T2,void 0);J(this,bh,void 0);J(this,wh,void 0);J(this,ns,void 0);J(this,v1,void 0);J(this,b1,0);ie(this,wh,n),ie(this,ns,i)}addFilter(n){if(!n)return"none";let i=x(this,Zr,Ja).get(n);if(i)return i;const[r,a,s]=he(this,D2,w4).call(this,n),o=n.length===1?r:`${r}${a}${s}`;if(i=x(this,Zr,Ja).get(o),i)return x(this,Zr,Ja).set(n,i),i;const c=`g_${x(this,wh)}_transfer_map_${Fr(this,b1)._++}`,u=he(this,Pp,Xy).call(this,c);x(this,Zr,Ja).set(n,u),x(this,Zr,Ja).set(o,u);const d=he(this,Ip,Ky).call(this,c);return he(this,_1,n5).call(this,r,a,s,d),u}addHCMFilter(n,i){var w;const r=`${n}-${i}`,a="base";let s=x(this,w1,e5).get(a);if((s==null?void 0:s.key)===r||(s?((w=s.filter)==null||w.remove(),s.key=r,s.url="none",s.filter=null):(s={key:r,url:"none",filter:null},x(this,w1,e5).set(a,s)),!n||!i))return s.url;const o=he(this,S1,i5).call(this,n);n=_t.makeHexColor(...o);const c=he(this,S1,i5).call(this,i);if(i=_t.makeHexColor(...c),x(this,Dp,Gy).style.color="",n==="#000000"&&i==="#ffffff"||n===i)return s.url;const u=new Array(256);for(let v=0;v<=255;v++){const b=v/255;u[v]=b<=.03928?b/12.92:((b+.055)/1.055)**2.4}const d=u.join(","),h=`g_${x(this,wh)}_hcm_filter`,f=s.filter=he(this,Ip,Ky).call(this,h);he(this,_1,n5).call(this,d,d,d,f),he(this,RS,tF).call(this,f);const p=(v,b)=>{const g=o[v]/255,y=c[v]/255,_=new Array(b+1);for(let S=0;S<=b;S++)_[S]=g+S/b*(y-g);return _.join(",")};return he(this,_1,n5).call(this,p(0,5),p(1,5),p(2,5),f),s.url=he(this,Pp,Xy).call(this,h),s.url}addAlphaFilter(n){let i=x(this,Zr,Ja).get(n);if(i)return i;const[r]=he(this,D2,w4).call(this,[n]),a=`alpha_${r}`;if(i=x(this,Zr,Ja).get(a),i)return x(this,Zr,Ja).set(n,i),i;const s=`g_${x(this,wh)}_alpha_map_${Fr(this,b1)._++}`,o=he(this,Pp,Xy).call(this,s);x(this,Zr,Ja).set(n,o),x(this,Zr,Ja).set(a,o);const c=he(this,Ip,Ky).call(this,s);return he(this,LS,nF).call(this,r,c),o}addLuminosityFilter(n){let i=x(this,Zr,Ja).get(n||"luminosity");if(i)return i;let r,a;if(n?([r]=he(this,D2,w4).call(this,[n]),a=`luminosity_${r}`):a="luminosity",i=x(this,Zr,Ja).get(a),i)return x(this,Zr,Ja).set(n,i),i;const s=`g_${x(this,wh)}_luminosity_map_${Fr(this,b1)._++}`,o=he(this,Pp,Xy).call(this,s);x(this,Zr,Ja).set(n,o),x(this,Zr,Ja).set(a,o);const c=he(this,Ip,Ky).call(this,s);return he(this,gT,tte).call(this,c),n&&he(this,LS,nF).call(this,r,c),o}addHighlightHCMFilter(n,i,r,a,s){var y;const o=`${i}-${r}-${a}-${s}`;let c=x(this,w1,e5).get(n);if((c==null?void 0:c.key)===o||(c?((y=c.filter)==null||y.remove(),c.key=o,c.url="none",c.filter=null):(c={key:o,url:"none",filter:null},x(this,w1,e5).set(n,c)),!i||!r))return c.url;const[u,d]=[i,r].map(he(this,S1,i5).bind(this));let h=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),f=Math.round(.2126*d[0]+.7152*d[1]+.0722*d[2]),[p,w]=[a,s].map(he(this,S1,i5).bind(this));f<h&&([h,f,p,w]=[f,h,w,p]),x(this,Dp,Gy).style.color="";const v=(_,S,N)=>{const R=new Array(256),D=(f-h)/N,E=_/255,C=(S-_)/(255*N);let P=0;for(let k=0;k<=N;k++){const A=Math.round(h+k*D),I=E+k*C;for(let T=P;T<=A;T++)R[T]=I;P=A+1}for(let k=P;k<256;k++)R[k]=R[P-1];return R.join(",")},b=`g_${x(this,wh)}_hcm_${n}_filter`,g=c.filter=he(this,Ip,Ky).call(this,b);return he(this,RS,tF).call(this,g),he(this,_1,n5).call(this,v(p[0],w[0],5),v(p[1],w[1],5),v(p[2],w[2],5),g),c.url=he(this,Pp,Xy).call(this,b),c.url}destroy(n=!1){var i,r,a,s;n&&((i=x(this,v1))!=null&&i.size)||((r=x(this,bh))==null||r.parentNode.parentNode.remove(),ie(this,bh,null),(a=x(this,T2))==null||a.clear(),ie(this,T2,null),(s=x(this,v1))==null||s.clear(),ie(this,v1,null),ie(this,b1,0))}}y1=new WeakMap,T2=new WeakMap,bh=new WeakMap,wh=new WeakMap,ns=new WeakMap,v1=new WeakMap,b1=new WeakMap,Zr=new WeakSet,Ja=function(){return x(this,T2)||ie(this,T2,new Map)},w1=new WeakSet,e5=function(){return x(this,v1)||ie(this,v1,new Map)},Dp=new WeakSet,Gy=function(){if(!x(this,bh)){const n=x(this,ns).createElement("div"),{style:i}=n;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const r=x(this,ns).createElementNS(Zd,"svg");r.setAttribute("width",0),r.setAttribute("height",0),ie(this,bh,x(this,ns).createElementNS(Zd,"defs")),n.append(r),r.append(x(this,bh)),x(this,ns).body.append(n)}return x(this,bh)},D2=new WeakSet,w4=function(n){if(n.length===1){const u=n[0],d=new Array(256);for(let f=0;f<256;f++)d[f]=u[f]/255;const h=d.join(",");return[h,h,h]}const[i,r,a]=n,s=new Array(256),o=new Array(256),c=new Array(256);for(let u=0;u<256;u++)s[u]=i[u]/255,o[u]=r[u]/255,c[u]=a[u]/255;return[s.join(","),o.join(","),c.join(",")]},Pp=new WeakSet,Xy=function(n){if(x(this,y1)===void 0){ie(this,y1,"");const i=x(this,ns).URL;i!==x(this,ns).baseURI&&(B6(i)?Gt('#createUrl: ignore "data:"-URL for performance reasons.'):ie(this,y1,lee(i,"")))}return`url(${x(this,y1)}#${n})`},gT=new WeakSet,tte=function(n){const i=x(this,ns).createElementNS(Zd,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),n.append(i)},RS=new WeakSet,tF=function(n){const i=x(this,ns).createElementNS(Zd,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),n.append(i)},Ip=new WeakSet,Ky=function(n){const i=x(this,ns).createElementNS(Zd,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",n),x(this,Dp,Gy).append(i),i},x1=new WeakSet,t5=function(n,i,r){const a=x(this,ns).createElementNS(Zd,i);a.setAttribute("type","discrete"),a.setAttribute("tableValues",r),n.append(a)},_1=new WeakSet,n5=function(n,i,r,a){const s=x(this,ns).createElementNS(Zd,"feComponentTransfer");a.append(s),he(this,x1,t5).call(this,s,"feFuncR",n),he(this,x1,t5).call(this,s,"feFuncG",i),he(this,x1,t5).call(this,s,"feFuncB",r)},LS=new WeakSet,nF=function(n,i){const r=x(this,ns).createElementNS(Zd,"feComponentTransfer");i.append(r),he(this,x1,t5).call(this,r,"feFuncA",n)},S1=new WeakSet,i5=function(n){return x(this,Dp,Gy).style.color=n,WN(getComputedStyle(x(this,Dp,Gy)).getPropertyValue("color"))};class nte{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(i=>{throw new Error(`Unable to load font data at: ${n}`)})}async _fetch(e){hi("Abstract method `_fetch` called.")}}class _q extends nte{async _fetch(e){const n=await jN(e,"arraybuffer");return new Uint8Array(n)}}class ite{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const n=`${this.baseUrl}${e}`;return this._fetch(n).catch(i=>{throw new Error(`Unable to load wasm data at: ${n}`)})}async _fetch(e){hi("Abstract method `_fetch` called.")}}class Sq extends ite{async _fetch(e){const n=await jN(e,"arraybuffer");return new Uint8Array(n)}}Es&&Gt("Please use the `legacy` build in Node.js environments.");async function OU(t){const n=await process.getBuiltinModule("fs").promises.readFile(t);return new Uint8Array(n)}class TCe extends ete{}class DCe extends Zee{_createCanvas(e,n){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,n)}}class PCe extends Qee{async _fetch(e){return OU(e)}}class ICe extends nte{async _fetch(e){return OU(e)}}class RCe extends ite{async _fetch(e){return OU(e)}}const Ly="__forcedDependency",{floor:Aq,ceil:Nq}=Math;function rk(t,e,n,i,r,a){t[e*4+0]=Math.min(t[e*4+0],n),t[e*4+1]=Math.min(t[e*4+1],i),t[e*4+2]=Math.max(t[e*4+2],r),t[e*4+3]=Math.max(t[e*4+3],a)}const iF=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var P2,Rp;class LCe{constructor(e,n){J(this,P2,void 0);J(this,Rp,void 0);ie(this,P2,e),ie(this,Rp,n)}get length(){return x(this,P2).length}isEmpty(e){return x(this,P2)[e]===iF}minX(e){return x(this,Rp)[e*4+0]/256}minY(e){return x(this,Rp)[e*4+1]/256}maxX(e){return(x(this,Rp)[e*4+2]+1)/256}maxY(e){return(x(this,Rp)[e*4+3]+1)/256}}P2=new WeakMap,Rp=new WeakMap;const ak=(t,e)=>{if(!t)return;let n=t.get(e);return n||(n={dependencies:new Set,isRenderingOperation:!1},t.set(e,n)),n};var Ks,Ys,A1,Fc,N1,xh,Hn,ni,_h,Js,FS,I2,k1,C1,Sh,is,qu,OS,rF;class FCe{constructor(e,n,i=!1){J(this,OS);J(this,Ks,{__proto__:null});J(this,Ys,{__proto__:null,transform:[],moveText:[],sameLineText:[],[Ly]:[]});J(this,A1,new Map);J(this,Fc,[]);J(this,N1,[]);J(this,xh,[[1,0,0,1,0,0]]);J(this,Hn,[-1/0,-1/0,1/0,1/0]);J(this,ni,new Float64Array([1/0,1/0,-1/0,-1/0]));J(this,_h,-1);J(this,Js,new Set);J(this,FS,new Map);J(this,I2,new Map);J(this,k1,void 0);J(this,C1,void 0);J(this,Sh,void 0);J(this,is,void 0);J(this,qu,void 0);ie(this,k1,e.width),ie(this,C1,e.height),he(this,OS,rF).call(this,n),i&&ie(this,qu,new Map)}growOperationsCount(e){e>=x(this,is).length&&he(this,OS,rF).call(this,e,x(this,is))}save(e){return ie(this,Ks,{__proto__:x(this,Ks)}),ie(this,Ys,{__proto__:x(this,Ys),transform:{__proto__:x(this,Ys).transform},moveText:{__proto__:x(this,Ys).moveText},sameLineText:{__proto__:x(this,Ys).sameLineText},[Ly]:{__proto__:x(this,Ys)[Ly]}}),ie(this,Hn,{__proto__:x(this,Hn)}),x(this,Fc).push(e),this}restore(e){var r;const n=Object.getPrototypeOf(x(this,Ks));if(n===null)return this;ie(this,Ks,n),ie(this,Ys,Object.getPrototypeOf(x(this,Ys))),ie(this,Hn,Object.getPrototypeOf(x(this,Hn)));const i=x(this,Fc).pop();return i!==void 0&&((r=ak(x(this,qu),e))==null||r.dependencies.add(i),x(this,is)[e]=x(this,is)[i]),this}recordOpenMarker(e){return x(this,Fc).push(e),this}getOpenMarker(){return x(this,Fc).length===0?null:x(this,Fc).at(-1)}recordCloseMarker(e){var i;const n=x(this,Fc).pop();return n!==void 0&&((i=ak(x(this,qu),e))==null||i.dependencies.add(n),x(this,is)[e]=x(this,is)[n]),this}beginMarkedContent(e){return x(this,N1).push(e),this}endMarkedContent(e){var i;const n=x(this,N1).pop();return n!==void 0&&((i=ak(x(this,qu),e))==null||i.dependencies.add(n),x(this,is)[e]=x(this,is)[n]),this}pushBaseTransform(e){return x(this,xh).push(_t.multiplyByDOMMatrix(x(this,xh).at(-1),e.getTransform())),this}popBaseTransform(){return x(this,xh).length>1&&x(this,xh).pop(),this}recordSimpleData(e,n){return x(this,Ks)[e]=n,this}recordIncrementalData(e,n){return x(this,Ys)[e].push(n),this}resetIncrementalData(e,n){return x(this,Ys)[e].length=0,this}recordNamedData(e,n){return x(this,A1).set(e,n),this}recordSimpleDataFromNamed(e,n,i){x(this,Ks)[e]=x(this,A1).get(n)??i}recordFutureForcedDependency(e,n){return this.recordIncrementalData(Ly,n),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const n of e)n in x(this,Ks)&&this.recordFutureForcedDependency(n,x(this,Ks)[n]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of x(this,Js))this.recordFutureForcedDependency(Ly,e);return this}resetBBox(e){return x(this,_h)!==e&&(ie(this,_h,e),x(this,ni)[0]=1/0,x(this,ni)[1]=1/0,x(this,ni)[2]=-1/0,x(this,ni)[3]=-1/0),this}recordClipBox(e,n,i,r,a,s){const o=_t.multiplyByDOMMatrix(x(this,xh).at(-1),n.getTransform()),c=[1/0,1/0,-1/0,-1/0];_t.axialAlignedBoundingBox([i,a,r,s],o,c);const u=_t.intersect(x(this,Hn),c);return u?(x(this,Hn)[0]=u[0],x(this,Hn)[1]=u[1],x(this,Hn)[2]=u[2],x(this,Hn)[3]=u[3]):(x(this,Hn)[0]=x(this,Hn)[1]=1/0,x(this,Hn)[2]=x(this,Hn)[3]=-1/0),this}recordBBox(e,n,i,r,a,s){const o=x(this,Hn);if(o[0]===1/0)return this;const c=_t.multiplyByDOMMatrix(x(this,xh).at(-1),n.getTransform());if(o[0]===-1/0)return _t.axialAlignedBoundingBox([i,a,r,s],c,x(this,ni)),this;const u=[1/0,1/0,-1/0,-1/0];return _t.axialAlignedBoundingBox([i,a,r,s],c,u),x(this,ni)[0]=Math.min(x(this,ni)[0],Math.max(u[0],o[0])),x(this,ni)[1]=Math.min(x(this,ni)[1],Math.max(u[1],o[1])),x(this,ni)[2]=Math.max(x(this,ni)[2],Math.min(u[2],o[2])),x(this,ni)[3]=Math.max(x(this,ni)[3],Math.min(u[3],o[3])),this}recordCharacterBBox(e,n,i,r=1,a=0,s=0,o){const c=i.bbox;let u,d;if(c&&(u=c[2]!==c[0]&&c[3]!==c[1]&&x(this,I2).get(i),u!==!1&&(d=[0,0,0,0],_t.axialAlignedBoundingBox(c,i.fontMatrix,d),(r!==1||a!==0||s!==0)&&_t.scaleMinMax([r,0,0,-r,a,s],d),u)))return this.recordBBox(e,n,d[0],d[2],d[1],d[3]);if(!o)return this.recordFullPageBBox(e);const h=o();return c&&d&&u===void 0&&(u=d[0]<=a-h.actualBoundingBoxLeft&&d[2]>=a+h.actualBoundingBoxRight&&d[1]<=s-h.actualBoundingBoxAscent&&d[3]>=s+h.actualBoundingBoxDescent,x(this,I2).set(i,u),u)?this.recordBBox(e,n,d[0],d[2],d[1],d[3]):this.recordBBox(e,n,a-h.actualBoundingBoxLeft,a+h.actualBoundingBoxRight,s-h.actualBoundingBoxAscent,s+h.actualBoundingBoxDescent)}recordFullPageBBox(e){return x(this,ni)[0]=Math.max(0,x(this,Hn)[0]),x(this,ni)[1]=Math.max(0,x(this,Hn)[1]),x(this,ni)[2]=Math.min(x(this,k1),x(this,Hn)[2]),x(this,ni)[3]=Math.min(x(this,C1),x(this,Hn)[3]),this}getSimpleIndex(e){return x(this,Ks)[e]}recordDependencies(e,n){const i=x(this,Js),r=x(this,Ks),a=x(this,Ys);for(const s of n)s in x(this,Ks)?i.add(r[s]):s in a&&a[s].forEach(i.add,i);return this}recordNamedDependency(e,n){return x(this,A1).has(n)&&x(this,Js).add(x(this,A1).get(n)),this}recordOperation(e,n=!1){if(this.recordDependencies(e,[Ly]),x(this,qu)){const i=ak(x(this,qu),e),{dependencies:r}=i;x(this,Js).forEach(r.add,r),x(this,Fc).forEach(r.add,r),x(this,N1).forEach(r.add,r),r.delete(e),i.isRenderingOperation=!0}if(x(this,_h)===e){const i=Aq(x(this,ni)[0]*256/x(this,k1)),r=Aq(x(this,ni)[1]*256/x(this,C1)),a=Nq(x(this,ni)[2]*256/x(this,k1)),s=Nq(x(this,ni)[3]*256/x(this,C1));rk(x(this,Sh),e,i,r,a,s);for(const o of x(this,Js))o!==e&&rk(x(this,Sh),o,i,r,a,s);for(const o of x(this,Fc))o!==e&&rk(x(this,Sh),o,i,r,a,s);for(const o of x(this,N1))o!==e&&rk(x(this,Sh),o,i,r,a,s);n||(x(this,Js).clear(),ie(this,_h,-1))}return this}recordShowTextOperation(e,n=!1){const i=Array.from(x(this,Js));this.recordOperation(e,n),this.recordIncrementalData("sameLineText",e);for(const r of i)this.recordIncrementalData("sameLineText",r);return this}bboxToClipBoxDropOperation(e,n=!1){return x(this,_h)===e&&(ie(this,_h,-1),x(this,Hn)[0]=Math.max(x(this,Hn)[0],x(this,ni)[0]),x(this,Hn)[1]=Math.max(x(this,Hn)[1],x(this,ni)[1]),x(this,Hn)[2]=Math.min(x(this,Hn)[2],x(this,ni)[2]),x(this,Hn)[3]=Math.min(x(this,Hn)[3],x(this,ni)[3]),n||x(this,Js).clear()),this}_takePendingDependencies(){const e=x(this,Js);return ie(this,Js,new Set),e}_extractOperation(e){const n=x(this,FS).get(e);return x(this,FS).delete(e),n}_pushPendingDependencies(e){for(const n of e)x(this,Js).add(n)}take(){return x(this,I2).clear(),new LCe(x(this,is),x(this,Sh))}takeDebugMetadata(){return x(this,qu)}}Ks=new WeakMap,Ys=new WeakMap,A1=new WeakMap,Fc=new WeakMap,N1=new WeakMap,xh=new WeakMap,Hn=new WeakMap,ni=new WeakMap,_h=new WeakMap,Js=new WeakMap,FS=new WeakMap,I2=new WeakMap,k1=new WeakMap,C1=new WeakMap,Sh=new WeakMap,is=new WeakMap,qu=new WeakMap,OS=new WeakSet,rF=function(e,n){const i=new ArrayBuffer(e*4);ie(this,Sh,new Uint8ClampedArray(i)),ie(this,is,new Uint32Array(i)),n&&n.length>0?(x(this,is).set(n),x(this,is).fill(iF,n.length)):x(this,is).fill(iF)};var ui,Qi,Oc,R2,L2;const xB=class xB{constructor(e,n,i){J(this,ui,void 0);J(this,Qi,void 0);J(this,Oc,void 0);J(this,R2,0);J(this,L2,0);if(e instanceof xB&&x(e,Oc)===!!i)return e;ie(this,ui,e),ie(this,Qi,n),ie(this,Oc,!!i)}growOperationsCount(){throw new Error("Unreachable")}save(e){return Fr(this,L2)._++,x(this,ui).save(x(this,Qi)),this}restore(e){return x(this,L2)>0&&(x(this,ui).restore(x(this,Qi)),Fr(this,L2)._--),this}recordOpenMarker(e){return Fr(this,R2)._++,this}getOpenMarker(){return x(this,R2)>0?x(this,Qi):x(this,ui).getOpenMarker()}recordCloseMarker(e){return Fr(this,R2)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return x(this,ui).pushBaseTransform(e),this}popBaseTransform(){return x(this,ui).popBaseTransform(),this}recordSimpleData(e,n){return x(this,ui).recordSimpleData(e,x(this,Qi)),this}recordIncrementalData(e,n){return x(this,ui).recordIncrementalData(e,x(this,Qi)),this}resetIncrementalData(e,n){return x(this,ui).resetIncrementalData(e,x(this,Qi)),this}recordNamedData(e,n){return this}recordSimpleDataFromNamed(e,n,i){return x(this,ui).recordSimpleDataFromNamed(e,n,x(this,Qi)),this}recordFutureForcedDependency(e,n){return x(this,ui).recordFutureForcedDependency(e,x(this,Qi)),this}inheritSimpleDataAsFutureForcedDependencies(e){return x(this,ui).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return x(this,ui).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return x(this,Oc)||x(this,ui).resetBBox(x(this,Qi)),this}recordClipBox(e,n,i,r,a,s){return x(this,Oc)||x(this,ui).recordClipBox(x(this,Qi),n,i,r,a,s),this}recordBBox(e,n,i,r,a,s){return x(this,Oc)||x(this,ui).recordBBox(x(this,Qi),n,i,r,a,s),this}recordCharacterBBox(e,n,i,r,a,s,o){return x(this,Oc)||x(this,ui).recordCharacterBBox(x(this,Qi),n,i,r,a,s,o),this}recordFullPageBBox(e){return x(this,Oc)||x(this,ui).recordFullPageBBox(x(this,Qi)),this}getSimpleIndex(e){return x(this,ui).getSimpleIndex(e)}recordDependencies(e,n){return x(this,ui).recordDependencies(x(this,Qi),n),this}recordNamedDependency(e,n){return x(this,ui).recordNamedDependency(x(this,Qi),n),this}recordOperation(e){return x(this,ui).recordOperation(x(this,Qi),!0),this}recordShowTextOperation(e){return x(this,ui).recordShowTextOperation(x(this,Qi),!0),this}bboxToClipBoxDropOperation(e){return x(this,Oc)||x(this,ui).bboxToClipBoxDropOperation(x(this,Qi),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};ui=new WeakMap,Qi=new WeakMap,Oc=new WeakMap,R2=new WeakMap,L2=new WeakMap;let sE=xB;const Ol={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},Ea={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function aF(t,e){if(!e)return;const n=e[2]-e[0],i=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],n,i),t.clip(r)}class UU{isModifyingCurrentTransform(){return!1}getPattern(){hi("Abstract method `getPattern` called.")}}class OCe extends UU{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}isOriginBased(){return this._p0[0]===0&&this._p0[1]===0&&(!this.isRadial()||this._p1[0]===0&&this._p1[1]===0)}isRadial(){return this._type==="radial"}_createGradient(e,n=null){let i,r=this._p0,a=this._p1;if(n&&(r=r.slice(),a=a.slice(),_t.applyTransform(r,n),_t.applyTransform(a,n)),this._type==="axial")i=e.createLinearGradient(r[0],r[1],a[0],a[1]);else if(this._type==="radial"){let s=this._r0,o=this._r1;if(n){const c=new Float32Array(2);_t.singularValueDecompose2dScale(n,c),s*=c[0],o*=c[0]}i=e.createRadialGradient(r[0],r[1],s,a[0],a[1],o)}for(const s of this._colorStops)i.addColorStop(s[0],s[1]);return i}getPattern(e,n,i,r){let a;if(r===Ea.STROKE||r===Ea.FILL){if(this.isOriginBased()){let f=_t.transform(i,n.baseTransform);this.matrix&&(f=_t.transform(f,this.matrix));const p=.001,w=Math.hypot(f[0],f[1]),v=Math.hypot(f[2],f[3]),b=(f[0]*f[2]+f[1]*f[3])/(w*v);if(Math.abs(b)<p)if(this.isRadial()){if(Math.abs(w-v)<p)return this._createGradient(e,f)}else return this._createGradient(e,f)}const s=n.current.getClippedPathBoundingBox(r,$i(e))||[0,0,0,0],o=Math.ceil(s[2]-s[0])||1,c=Math.ceil(s[3]-s[1])||1,u=n.cachedCanvases.getCanvas("pattern",o,c),d=u.context;d.clearRect(0,0,d.canvas.width,d.canvas.height),d.beginPath(),d.rect(0,0,d.canvas.width,d.canvas.height),d.translate(-s[0],-s[1]),i=_t.transform(i,[1,0,0,1,s[0],s[1]]),d.transform(...n.baseTransform),this.matrix&&d.transform(...this.matrix),aF(d,this._bbox),d.fillStyle=this._createGradient(d),d.fill(),a=e.createPattern(u.canvas,"no-repeat");const h=new DOMMatrix(i);a.setTransform(h)}else aF(e,this._bbox),a=this._createGradient(e);return a}}function rI(t,e,n,i,r,a,s,o){const c=e.coords,u=e.colors,d=t.data,h=t.width*4;let f;c[n+1]>c[i+1]&&(f=n,n=i,i=f,f=a,a=s,s=f),c[i+1]>c[r+1]&&(f=i,i=r,r=f,f=s,s=o,o=f),c[n+1]>c[i+1]&&(f=n,n=i,i=f,f=a,a=s,s=f);const p=(c[n]+e.offsetX)*e.scaleX,w=(c[n+1]+e.offsetY)*e.scaleY,v=(c[i]+e.offsetX)*e.scaleX,b=(c[i+1]+e.offsetY)*e.scaleY,g=(c[r]+e.offsetX)*e.scaleX,y=(c[r+1]+e.offsetY)*e.scaleY;if(w>=y)return;const _=u[a],S=u[a+1],N=u[a+2],R=u[s],D=u[s+1],E=u[s+2],C=u[o],P=u[o+1],k=u[o+2],A=Math.round(w),I=Math.round(y);let T,z,j,W,$,q,G,B;for(let L=A;L<=I;L++){if(L<b){const le=L<w?0:(w-L)/(w-b);T=p-(p-v)*le,z=_-(_-R)*le,j=S-(S-D)*le,W=N-(N-E)*le}else{let le;L>y?le=1:b===y?le=0:le=(b-L)/(b-y),T=v-(v-g)*le,z=R-(R-C)*le,j=D-(D-P)*le,W=E-(E-k)*le}let M;L<w?M=0:L>y?M=1:M=(w-L)/(w-y),$=p-(p-g)*M,q=_-(_-C)*M,G=S-(S-P)*M,B=N-(N-k)*M;const K=Math.round(Math.min(T,$)),Q=Math.round(Math.max(T,$));let V=h*L+K*4;for(let le=K;le<=Q;le++)M=(T-le)/(T-$),M<0?M=0:M>1&&(M=1),d[V++]=z-(z-q)*M|0,d[V++]=j-(j-G)*M|0,d[V++]=W-(W-B)*M|0,d[V++]=255}}function UCe(t,e,n){const i=e.coords,r=e.colors;let a,s;switch(e.type){case D7.LATTICE:const o=e.verticesPerRow,c=Math.floor(i.length/o)-1,u=o-1;for(a=0;a<c;a++){let d=a*o;for(let h=0;h<u;h++,d++)rI(t,n,i[d],i[d+1],i[d+o],r[d],r[d+1],r[d+o]),rI(t,n,i[d+o+1],i[d+1],i[d+o],r[d+o+1],r[d+1],r[d+o])}break;case D7.TRIANGLES:for(a=0,s=i.length;a<s;a+=3)rI(t,n,i[a],i[a+1],i[a+2],r[a],r[a+1],r[a+2]);break;default:throw new Error("illegal figure")}}class MCe extends UU{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,n,i){const o=Math.floor(this._bounds[0]),c=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-o,d=Math.ceil(this._bounds[3])-c,h=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(d*e[1]*1.1)),3e3),p=u/h,w=d/f,v={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-c,scaleX:1/p,scaleY:1/w},b=h+2*2,g=f+2*2,y=i.getCanvas("mesh",b,g),_=y.context,S=_.createImageData(h,f);if(n){const R=S.data;for(let D=0,E=R.length;D<E;D+=4)R[D]=n[0],R[D+1]=n[1],R[D+2]=n[2],R[D+3]=255}for(const R of this._figures)UCe(S,R,v);return _.putImageData(S,2,2),{canvas:y.canvas,offsetX:o-2*p,offsetY:c-2*w,scaleX:p,scaleY:w}}isModifyingCurrentTransform(){return!0}getPattern(e,n,i,r){aF(e,this._bbox);const a=new Float32Array(2);if(r===Ea.SHADING)_t.singularValueDecompose2dScale($i(e),a);else if(this.matrix){_t.singularValueDecompose2dScale(this.matrix,a);const[o,c]=a;_t.singularValueDecompose2dScale(n.baseTransform,a),a[0]*=o,a[1]*=c}else _t.singularValueDecompose2dScale(n.baseTransform,a);const s=this._createMeshCanvas(a,r===Ea.SHADING?null:this._background,n.cachedCanvases);return r!==Ea.SHADING&&(e.setTransform(...n.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(s.offsetX,s.offsetY),e.scale(s.scaleX,s.scaleY),e.createPattern(s.canvas,"no-repeat")}}class BCe extends UU{getPattern(){return"hotpink"}}function zCe(t){switch(t[0]){case"RadialAxial":return new OCe(t);case"Mesh":return new MCe(t);case"Dummy":return new BCe}throw new Error(`Unknown IR type: ${t[0]}`)}const kq={COLORED:1,UNCOLORED:2},yT=class yT{constructor(e,n,i,r){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=n,this.canvasGraphicsFactory=i,this.baseTransform=r}createPatternCanvas(e,n){var q,G;const{bbox:i,operatorList:r,paintType:a,tilingType:s,color:o,canvasGraphicsFactory:c}=this;let{xstep:u,ystep:d}=this;u=Math.abs(u),d=Math.abs(d),M6("TilingType: "+s);const h=i[0],f=i[1],p=i[2],w=i[3],v=p-h,b=w-f,g=new Float32Array(2);_t.singularValueDecompose2dScale(this.matrix,g);const[y,_]=g;_t.singularValueDecompose2dScale(this.baseTransform,g);const S=y*g[0],N=_*g[1];let R=v,D=b,E=!1,C=!1;const P=Math.ceil(u*S),k=Math.ceil(d*N),A=Math.ceil(v*S),I=Math.ceil(b*N);P>=A?R=u:E=!0,k>=I?D=d:C=!0;const T=this.getSizeAndScale(R,this.ctx.canvas.width,S),z=this.getSizeAndScale(D,this.ctx.canvas.height,N),j=e.cachedCanvases.getCanvas("pattern",T.size,z.size),W=j.context,$=c.createCanvasGraphics(W,n);if($.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext($,a,o),W.translate(-T.scale*h,-z.scale*f),$.transform(0,T.scale,0,0,z.scale,0,0),W.save(),(q=$.dependencyTracker)==null||q.save(),this.clipBbox($,h,f,p,w),$.baseTransform=$i($.ctx),$.executeOperatorList(r),$.endDrawing(),(G=$.dependencyTracker)==null||G.restore(),W.restore(),E||C){const B=j.canvas;E&&(R=u),C&&(D=d);const L=this.getSizeAndScale(R,this.ctx.canvas.width,S),M=this.getSizeAndScale(D,this.ctx.canvas.height,N),K=L.size,Q=M.size,V=e.cachedCanvases.getCanvas("pattern-workaround",K,Q),le=V.context,ge=E?Math.floor(v/u):0,ye=C?Math.floor(b/d):0;for(let be=0;be<=ge;be++)for(let Le=0;Le<=ye;Le++)le.drawImage(B,K*be,Q*Le,K,Q,0,0,K,Q);return{canvas:V.canvas,scaleX:L.scale,scaleY:M.scale,offsetX:h,offsetY:f}}return{canvas:j.canvas,scaleX:T.scale,scaleY:z.scale,offsetX:h,offsetY:f}}getSizeAndScale(e,n,i){const r=Math.max(yT.MAX_PATTERN_SIZE,n);let a=Math.ceil(e*i);return a>=r?a=r:i=a/e,{scale:i,size:a}}clipBbox(e,n,i,r,a){const s=r-n,o=a-i;e.ctx.rect(n,i,s,o),_t.axialAlignedBoundingBox([n,i,r,a],$i(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,n,i){const r=e.ctx,a=e.current;switch(n){case kq.COLORED:const{fillStyle:s,strokeStyle:o}=this.ctx;r.fillStyle=a.fillColor=s,r.strokeStyle=a.strokeColor=o;break;case kq.UNCOLORED:r.fillStyle=r.strokeStyle=i,a.fillColor=a.strokeColor=i;break;default:throw new Z4e(`Unsupported paint type: ${n}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,n,i,r,a){let s=i;r!==Ea.SHADING&&(s=_t.transform(s,n.baseTransform),this.matrix&&(s=_t.transform(s,this.matrix)));const o=this.createPatternCanvas(n,a);let c=new DOMMatrix(s);c=c.translate(o.offsetX,o.offsetY),c=c.scale(1/o.scaleX,1/o.scaleY);const u=e.createPattern(o.canvas,"repeat");return u.setTransform(c),u}};it(yT,"MAX_PATTERN_SIZE",3e3);let sF=yT;function jCe({src:t,srcPos:e=0,dest:n,width:i,height:r,nonBlackColor:a=4294967295,inverseDecode:s=!1}){const o=Wr.isLittleEndian?4278190080:255,[c,u]=s?[a,o]:[o,a],d=i>>3,h=i&7,f=t.length;n=new Uint32Array(n.buffer);let p=0;for(let w=0;w<r;w++){for(const b=e+d;e<b;e++){const g=e<f?t[e]:255;n[p++]=g&128?u:c,n[p++]=g&64?u:c,n[p++]=g&32?u:c,n[p++]=g&16?u:c,n[p++]=g&8?u:c,n[p++]=g&4?u:c,n[p++]=g&2?u:c,n[p++]=g&1?u:c}if(h===0)continue;const v=e<f?t[e++]:255;for(let b=0;b<h;b++)n[p++]=v&1<<7-b?u:c}return{srcPos:e,destPos:p}}const Cq=16,Eq=100,$Ce=15,Tq=10,to=16,aI=new DOMMatrix,ll=new Float32Array(2),pv=new Float32Array([1/0,1/0,-1/0,-1/0]);function WCe(t,e){if(t._removeMirroring)throw new Error("Context is already forwarding operations.");t.__originalSave=t.save,t.__originalRestore=t.restore,t.__originalRotate=t.rotate,t.__originalScale=t.scale,t.__originalTranslate=t.translate,t.__originalTransform=t.transform,t.__originalSetTransform=t.setTransform,t.__originalResetTransform=t.resetTransform,t.__originalClip=t.clip,t.__originalMoveTo=t.moveTo,t.__originalLineTo=t.lineTo,t.__originalBezierCurveTo=t.bezierCurveTo,t.__originalRect=t.rect,t.__originalClosePath=t.closePath,t.__originalBeginPath=t.beginPath,t._removeMirroring=()=>{t.save=t.__originalSave,t.restore=t.__originalRestore,t.rotate=t.__originalRotate,t.scale=t.__originalScale,t.translate=t.__originalTranslate,t.transform=t.__originalTransform,t.setTransform=t.__originalSetTransform,t.resetTransform=t.__originalResetTransform,t.clip=t.__originalClip,t.moveTo=t.__originalMoveTo,t.lineTo=t.__originalLineTo,t.bezierCurveTo=t.__originalBezierCurveTo,t.rect=t.__originalRect,t.closePath=t.__originalClosePath,t.beginPath=t.__originalBeginPath,delete t._removeMirroring},t.save=function(){e.save(),this.__originalSave()},t.restore=function(){e.restore(),this.__originalRestore()},t.translate=function(n,i){e.translate(n,i),this.__originalTranslate(n,i)},t.scale=function(n,i){e.scale(n,i),this.__originalScale(n,i)},t.transform=function(n,i,r,a,s,o){e.transform(n,i,r,a,s,o),this.__originalTransform(n,i,r,a,s,o)},t.setTransform=function(n,i,r,a,s,o){e.setTransform(n,i,r,a,s,o),this.__originalSetTransform(n,i,r,a,s,o)},t.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},t.rotate=function(n){e.rotate(n),this.__originalRotate(n)},t.clip=function(n){e.clip(n),this.__originalClip(n)},t.moveTo=function(n,i){e.moveTo(n,i),this.__originalMoveTo(n,i)},t.lineTo=function(n,i){e.lineTo(n,i),this.__originalLineTo(n,i)},t.bezierCurveTo=function(n,i,r,a,s,o){e.bezierCurveTo(n,i,r,a,s,o),this.__originalBezierCurveTo(n,i,r,a,s,o)},t.rect=function(n,i,r,a){e.rect(n,i,r,a),this.__originalRect(n,i,r,a)},t.closePath=function(){e.closePath(),this.__originalClosePath()},t.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class qCe{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,n,i){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,n,i)):(r=this.canvasFactory.create(n,i),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const n=this.cache[e];this.canvasFactory.destroy(n),delete this.cache[e]}}}function sk(t,e,n,i,r,a,s,o,c,u){const[d,h,f,p,w,v]=$i(t);if(h===0&&f===0){const y=s*d+w,_=Math.round(y),S=o*p+v,N=Math.round(S),R=(s+c)*d+w,D=Math.abs(Math.round(R)-_)||1,E=(o+u)*p+v,C=Math.abs(Math.round(E)-N)||1;return t.setTransform(Math.sign(d),0,0,Math.sign(p),_,N),t.drawImage(e,n,i,r,a,0,0,D,C),t.setTransform(d,h,f,p,w,v),[D,C]}if(d===0&&p===0){const y=o*f+w,_=Math.round(y),S=s*h+v,N=Math.round(S),R=(o+u)*f+w,D=Math.abs(Math.round(R)-_)||1,E=(s+c)*h+v,C=Math.abs(Math.round(E)-N)||1;return t.setTransform(0,Math.sign(h),Math.sign(f),0,_,N),t.drawImage(e,n,i,r,a,0,0,C,D),t.setTransform(d,h,f,p,w,v),[C,D]}t.drawImage(e,n,i,r,a,s,o,c,u);const b=Math.hypot(d,h),g=Math.hypot(f,p);return[b*c,g*u]}class Dq{constructor(e,n,i){it(this,"alphaIsShape",!1);it(this,"fontSize",0);it(this,"fontSizeScale",1);it(this,"textMatrix",null);it(this,"textMatrixScale",1);it(this,"fontMatrix",T7);it(this,"leading",0);it(this,"x",0);it(this,"y",0);it(this,"lineX",0);it(this,"lineY",0);it(this,"charSpacing",0);it(this,"wordSpacing",0);it(this,"textHScale",1);it(this,"textRenderingMode",Or.FILL);it(this,"textRise",0);it(this,"fillColor","#000000");it(this,"strokeColor","#000000");it(this,"patternFill",!1);it(this,"patternStroke",!1);it(this,"fillAlpha",1);it(this,"strokeAlpha",1);it(this,"lineWidth",1);it(this,"activeSMask",null);it(this,"transferMaps","none");i==null||i(this),this.clipBox=new Float32Array([0,0,e,n]),this.minMax=pv.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Ea.FILL,n=null){const i=this.minMax.slice();if(e===Ea.STROKE){n||hi("Stroke bounding box must include transform."),_t.singularValueDecompose2dScale(n,ll);const r=ll[0]*this.lineWidth/2,a=ll[1]*this.lineWidth/2;i[0]-=r,i[1]-=a,i[2]+=r,i[3]+=a}return i}updateClipFromPath(){const e=_t.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(pv,0)}getClippedPathBoundingBox(e=Ea.FILL,n=null){return _t.intersect(this.clipBox,this.getPathBoundingBox(e,n))}}function Pq(t,e){if(e instanceof ImageData){t.putImageData(e,0,0);return}const n=e.height,i=e.width,r=n%to,a=(n-r)/to,s=r===0?a:a+1,o=t.createImageData(i,to);let c=0,u;const d=e.data,h=o.data;let f,p,w,v;if(e.kind===u4.GRAYSCALE_1BPP){const b=d.byteLength,g=new Uint32Array(h.buffer,0,h.byteLength>>2),y=g.length,_=i+7>>3,S=4294967295,N=Wr.isLittleEndian?4278190080:255;for(f=0;f<s;f++){for(w=f<a?to:r,u=0,p=0;p<w;p++){const R=b-c;let D=0;const E=R>_?i:R*8-7,C=E&-8;let P=0,k=0;for(;D<C;D+=8)k=d[c++],g[u++]=k&128?S:N,g[u++]=k&64?S:N,g[u++]=k&32?S:N,g[u++]=k&16?S:N,g[u++]=k&8?S:N,g[u++]=k&4?S:N,g[u++]=k&2?S:N,g[u++]=k&1?S:N;for(;D<E;D++)P===0&&(k=d[c++],P=128),g[u++]=k&P?S:N,P>>=1}for(;u<y;)g[u++]=0;t.putImageData(o,0,f*to)}}else if(e.kind===u4.RGBA_32BPP){for(p=0,v=i*to*4,f=0;f<a;f++)h.set(d.subarray(c,c+v)),c+=v,t.putImageData(o,0,p),p+=to;f<s&&(v=i*r*4,h.set(d.subarray(c,c+v)),t.putImageData(o,0,p))}else if(e.kind===u4.RGB_24BPP)for(w=to,v=i*w,f=0;f<s;f++){for(f>=a&&(w=r,v=i*w),u=0,p=v;p--;)h[u++]=d[c++],h[u++]=d[c++],h[u++]=d[c++],h[u++]=255;t.putImageData(o,0,f*to)}else throw new Error(`bad image kind: ${e.kind}`)}function Iq(t,e){if(e.bitmap){t.drawImage(e.bitmap,0,0);return}const n=e.height,i=e.width,r=n%to,a=(n-r)/to,s=r===0?a:a+1,o=t.createImageData(i,to);let c=0;const u=e.data,d=o.data;for(let h=0;h<s;h++){const f=h<a?to:r;({srcPos:c}=jCe({src:u,srcPos:c,dest:d,width:i,height:f,nonBlackColor:0})),t.putImageData(o,0,h*to)}}function Sx(t,e){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of n)t[i]!==void 0&&(e[i]=t[i]);t.setLineDash!==void 0&&(e.setLineDash(t.getLineDash()),e.lineDashOffset=t.lineDashOffset)}function ok(t){t.strokeStyle=t.fillStyle="#000000",t.fillRule="nonzero",t.globalAlpha=1,t.lineWidth=1,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=10,t.globalCompositeOperation="source-over",t.font="10px sans-serif",t.setLineDash!==void 0&&(t.setLineDash([]),t.lineDashOffset=0);const{filter:e}=t;e!=="none"&&e!==""&&(t.filter="none")}function Rq(t,e){if(e)return!0;_t.singularValueDecompose2dScale(t,ll);const n=Math.fround(Sd.pixelRatio*Fm.PDF_TO_CSS_UNITS);return ll[0]<=n&&ll[1]<=n}const HCe=["butt","round","square"],VCe=["miter","round","bevel"],GCe={},Lq={};var US,oF,MS,lF,BS,cF;const _B=class _B{constructor(e,n,i,r,a,{optionalContentConfig:s,markedContentStack:o=null},c,u,d){J(this,US);J(this,MS);J(this,BS);this.ctx=e,this.current=new Dq(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=n,this.objs=i,this.canvasFactory=r,this.filterFactory=a,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=s,this.cachedCanvases=new qCe(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=c,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=d??null}getObject(e,n,i=null){var r;return typeof n=="string"?((r=this.dependencyTracker)==null||r.recordNamedDependency(e,n),n.startsWith("g_")?this.commonObjs.get(n):this.objs.get(n)):i}beginDrawing({transform:e,viewport:n,transparency:i=!1,background:r=null}){const a=this.ctx.canvas.width,s=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,a,s),this.ctx.fillStyle=o,i){const c=this.cachedCanvases.getCanvas("transparent",a,s);this.compositeCtx=this.ctx,this.transparentCanvas=c.canvas,this.ctx=c.context,this.ctx.save(),this.ctx.transform(...$i(this.compositeCtx))}this.ctx.save(),ok(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=$i(this.ctx)}executeOperatorList(e,n,i,r,a){var g;const s=e.argsArray,o=e.fnArray;let c=n||0;const u=s.length;if(u===c)return c;const d=u-c>Tq&&typeof i=="function",h=d?Date.now()+$Ce:0;let f=0;const p=this.commonObjs,w=this.objs;let v,b;for(;;){if(r!==void 0&&c===r.nextBreakPoint)return r.breakIt(c,i),c;if(!a||a(c))if(v=o[c],b=s[c]??null,v!==d_.dependency)b===null?this[v](c):this[v](c,...b);else for(const y of b){(g=this.dependencyTracker)==null||g.recordNamedData(y,c);const _=y.startsWith("g_")?p:w;if(!_.has(y))return _.get(y,i),c}if(c++,c===u)return c;if(d&&++f>Tq){if(Date.now()>h)return i(),c;f=0}}}endDrawing(){he(this,US,oF).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const n of e.values())typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&(n.width=n.height=0);e.clear()}this._cachedBitmapsMap.clear(),he(this,MS,lF).call(this)}_scaleImage(e,n){const i=e.width??e.displayWidth,r=e.height??e.displayHeight;let a=Math.max(Math.hypot(n[0],n[1]),1),s=Math.max(Math.hypot(n[2],n[3]),1),o=i,c=r,u="prescale1",d,h;for(;a>2&&o>1||s>2&&c>1;){let f=o,p=c;a>2&&o>1&&(f=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),a/=o/f),s>2&&c>1&&(p=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c)/2,s/=c/p),d=this.cachedCanvases.getCanvas(u,f,p),h=d.context,h.clearRect(0,0,f,p),h.drawImage(e,0,0,o,c,0,0,f,p),e=d.canvas,o=f,c=p,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:c}}_createMaskCanvas(e,n){var P,k;const i=this.ctx,{width:r,height:a}=n,s=this.current.fillColor,o=this.current.patternFill,c=$i(i);let u,d,h,f;if((n.bitmap||n.data)&&n.count>1){const A=n.bitmap||n.data.buffer;d=JSON.stringify(o?c:[c.slice(0,4),s]),u=this._cachedBitmapsMap.get(A),u||(u=new Map,this._cachedBitmapsMap.set(A,u));const I=u.get(d);if(I&&!o){const T=Math.round(Math.min(c[0],c[2])+c[4]),z=Math.round(Math.min(c[1],c[3])+c[5]);return(P=this.dependencyTracker)==null||P.recordDependencies(e,Ol.transformAndFill),{canvas:I,offsetX:T,offsetY:z}}h=I}h||(f=this.cachedCanvases.getCanvas("maskCanvas",r,a),Iq(f.context,n));let p=_t.transform(c,[1/r,0,0,-1/a,0,0]);p=_t.transform(p,[1,0,0,1,0,-a]);const w=pv.slice();_t.axialAlignedBoundingBox([0,0,r,a],p,w);const[v,b,g,y]=w,_=Math.round(g-v)||1,S=Math.round(y-b)||1,N=this.cachedCanvases.getCanvas("fillCanvas",_,S),R=N.context,D=v,E=b;R.translate(-D,-E),R.transform(...p),h||(h=this._scaleImage(f.canvas,ku(R)),h=h.img,u&&o&&u.set(d,h)),R.imageSmoothingEnabled=Rq($i(R),n.interpolate),sk(R,h,0,0,h.width,h.height,0,0,r,a),R.globalCompositeOperation="source-in";const C=_t.transform(ku(R),[1,0,0,1,-D,-E]);return R.fillStyle=o?s.getPattern(i,this,C,Ea.FILL,e):s,R.fillRect(0,0,r,a),u&&!o&&(this.cachedCanvases.delete("fillCanvas"),u.set(d,N.canvas)),(k=this.dependencyTracker)==null||k.recordDependencies(e,Ol.transformAndFill),{canvas:N.canvas,offsetX:Math.round(D),offsetY:Math.round(E)}}setLineWidth(e,n){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineWidth",e),n!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=n,this.ctx.lineWidth=n}setLineCap(e,n){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineCap",e),this.ctx.lineCap=HCe[n]}setLineJoin(e,n){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineJoin",e),this.ctx.lineJoin=VCe[n]}setMiterLimit(e,n){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("miterLimit",e),this.ctx.miterLimit=n}setDash(e,n,i){var a;(a=this.dependencyTracker)==null||a.recordSimpleData("dash",e);const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(n),r.lineDashOffset=i)}setRenderingIntent(e,n){}setFlatness(e,n){}setGState(e,n){var i,r,a,s,o;for(const[c,u]of n)switch(c){case"LW":this.setLineWidth(e,u);break;case"LC":this.setLineCap(e,u);break;case"LJ":this.setLineJoin(e,u);break;case"ML":this.setMiterLimit(e,u);break;case"D":this.setDash(e,u[0],u[1]);break;case"RI":this.setRenderingIntent(e,u);break;case"FL":this.setFlatness(e,u);break;case"Font":this.setFont(e,u[0],u[1]);break;case"CA":(i=this.dependencyTracker)==null||i.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=u;break;case"ca":(r=this.dependencyTracker)==null||r.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=u;break;case"BM":(a=this.dependencyTracker)==null||a.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=u;break;case"SMask":(s=this.dependencyTracker)==null||s.recordSimpleData("SMask",e),this.current.activeSMask=u?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(o=this.dependencyTracker)==null||o.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(u);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const n=this.ctx.canvas.width,i=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(r,n,i);this.suspendedCtx=this.ctx;const s=this.ctx=a.context;s.setTransform(this.suspendedCtx.getTransform()),Sx(this.suspendedCtx,s),WCe(s,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Sx(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const n=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,n,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,n,i,r){const a=r[0],s=r[1],o=r[2]-a,c=r[3]-s;o===0||c===0||(this.genericComposeSMask(n.context,i,o,c,n.subtype,n.backdrop,n.transferMap,a,s,n.offsetX,n.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}genericComposeSMask(e,n,i,r,a,s,o,c,u,d,h){let f=e.canvas,p=c-d,w=u-h;if(s)if(p<0||w<0||p+i>f.width||w+r>f.height){const b=this.cachedCanvases.getCanvas("maskExtension",i,r),g=b.context;g.drawImage(f,-p,-w),g.globalCompositeOperation="destination-atop",g.fillStyle=s,g.fillRect(0,0,i,r),g.globalCompositeOperation="source-over",f=b.canvas,p=w=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const b=new Path2D;b.rect(p,w,i,r),e.clip(b),e.globalCompositeOperation="destination-atop",e.fillStyle=s,e.fillRect(p,w,i,r),e.restore()}n.save(),n.globalAlpha=1,n.setTransform(1,0,0,1,0,0),a==="Alpha"&&o?n.filter=this.filterFactory.addAlphaFilter(o):a==="Luminosity"&&(n.filter=this.filterFactory.addLuminosityFilter(o));const v=new Path2D;v.rect(c,u,i,r),n.clip(v),n.globalCompositeOperation="destination-in",n.drawImage(f,p,w,i,r,c,u,i,r),n.restore()}save(e){var i;this.inSMaskMode&&Sx(this.ctx,this.suspendedCtx),this.ctx.save();const n=this.current;this.stateStack.push(n),this.current=n.clone(),(i=this.dependencyTracker)==null||i.save(e)}restore(e){var n;if((n=this.dependencyTracker)==null||n.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Sx(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,n,i,r,a,s,o){var c;(c=this.dependencyTracker)==null||c.recordIncrementalData("transform",e),this.ctx.transform(n,i,r,a,s,o),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,n,i,r){let[a]=i;if(!r){a||(a=i[0]=new Path2D),this[n](e,a);return}if(this.dependencyTracker!==null){const s=n===d_.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,r[0]-s,r[2]+s,r[1]-s,r[3]+s).recordDependencies(e,["transform"])}a instanceof Path2D||(a=i[0]=pee(a)),_t.axialAlignedBoundingBox(r,$i(this.ctx),this.current.minMax),this[n](e,a),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,n,i=!0){var s;const r=this.ctx,a=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof a=="object"&&(a!=null&&a.getPattern)){const o=a.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=a.getPattern(r,this,ku(r),Ea.STROKE,e),o){const c=new Path2D;c.addPath(n,r.getTransform().invertSelf().multiplySelf(o)),n=c}this.rescaleAndStroke(n,!1),r.restore()}else this.rescaleAndStroke(n,!0);(s=this.dependencyTracker)==null||s.recordDependencies(e,Ol.stroke),i&&this.consumePath(e,n,this.current.getClippedPathBoundingBox(Ea.STROKE,$i(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(e,n){this.stroke(e,n)}fill(e,n,i=!0){var u,d,h;const r=this.ctx,a=this.current.fillColor,s=this.current.patternFill;let o=!1;if(s){const f=a.isModifyingCurrentTransform()?r.getTransform():null;if((u=this.dependencyTracker)==null||u.save(e),r.save(),r.fillStyle=a.getPattern(r,this,ku(r),Ea.FILL,e),f){const p=new Path2D;p.addPath(n,r.getTransform().invertSelf().multiplySelf(f)),n=p}o=!0}const c=this.current.getClippedPathBoundingBox();this.contentVisible&&c!==null&&(this.pendingEOFill?(r.fill(n,"evenodd"),this.pendingEOFill=!1):r.fill(n)),(d=this.dependencyTracker)==null||d.recordDependencies(e,Ol.fill),o&&(r.restore(),(h=this.dependencyTracker)==null||h.restore(e)),i&&this.consumePath(e,n,c)}eoFill(e,n){this.pendingEOFill=!0,this.fill(e,n)}fillStroke(e,n){this.fill(e,n,!1),this.stroke(e,n,!1),this.consumePath(e,n)}eoFillStroke(e,n){this.pendingEOFill=!0,this.fillStroke(e,n)}closeFillStroke(e,n){this.fillStroke(e,n)}closeEOFillStroke(e,n){this.pendingEOFill=!0,this.fillStroke(e,n)}endPath(e,n){this.consumePath(e,n)}rawFillPath(e,n){var i;this.ctx.fill(n),(i=this.dependencyTracker)==null||i.recordDependencies(e,Ol.rawFillPath).recordOperation(e)}clip(e){var n;(n=this.dependencyTracker)==null||n.recordFutureForcedDependency("clipMode",e),this.pendingClip=GCe}eoClip(e){var n;(n=this.dependencyTracker)==null||n.recordFutureForcedDependency("clipMode",e),this.pendingClip=Lq}beginText(e){var n;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(n=this.dependencyTracker)==null||n.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const n=this.pendingTextPaths,i=this.ctx;if(this.dependencyTracker){const{dependencyTracker:r}=this;n!==void 0&&r.recordFutureForcedDependency("textClip",r.getOpenMarker()).recordFutureForcedDependency("textClip",e),r.recordCloseMarker(e)}if(n!==void 0){const r=new Path2D,a=i.getTransform().invertSelf();for(const{transform:s,x:o,y:c,fontSize:u,path:d}of n)d&&r.addPath(d,new DOMMatrix(s).preMultiplySelf(a).translate(o,c).scale(u,-u));i.clip(r)}delete this.pendingTextPaths}setCharSpacing(e,n){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("charSpacing",e),this.current.charSpacing=n}setWordSpacing(e,n){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("wordSpacing",e),this.current.wordSpacing=n}setHScale(e,n){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("hScale",e),this.current.textHScale=n/100}setLeading(e,n){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("leading",e),this.current.leading=-n}setFont(e,n,i){var h,f;(h=this.dependencyTracker)==null||h.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",n,e);const r=this.commonObjs.get(n),a=this.current;if(!r)throw new Error(`Can't find font for ${n}`);if(a.fontMatrix=r.fontMatrix||T7,(a.fontMatrix[0]===0||a.fontMatrix[3]===0)&&Gt("Invalid font matrix for font "+n),i<0?(i=-i,a.fontDirection=-1):a.fontDirection=1,this.current.font=r,this.current.fontSize=i,r.isType3Font)return;const s=r.loadedName||"sans-serif",o=((f=r.systemFontInfo)==null?void 0:f.css)||`"${s}", ${r.fallbackName}`;let c="normal";r.black?c="900":r.bold&&(c="bold");const u=r.italic?"italic":"normal";let d=i;i<Cq?d=Cq:i>Eq&&(d=Eq),this.current.fontSizeScale=i/d,this.ctx.font=`${u} ${c} ${d}px ${o}`}setTextRenderingMode(e,n){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=n}setTextRise(e,n){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textRise",e),this.current.textRise=n}moveText(e,n,i){var r;(r=this.dependencyTracker)==null||r.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=n,this.current.y=this.current.lineY+=i}setLeadingMoveText(e,n,i){this.setLeading(e,-i),this.moveText(e,n,i)}setTextMatrix(e,n){var r;(r=this.dependencyTracker)==null||r.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:i}=this;i.textMatrix=n,i.textMatrixScale=Math.hypot(n[0],n[1]),i.x=i.lineX=0,i.y=i.lineY=0}nextLine(e){var n;this.moveText(e,0,this.current.leading),(n=this.dependencyTracker)==null||n.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,n,i,r,a,s){var g,y,_,S;const o=this.ctx,c=this.current,u=c.font,d=c.textRenderingMode,h=c.fontSize/c.fontSizeScale,f=d&Or.FILL_STROKE_MASK,p=!!(d&Or.ADD_TO_PATH_FLAG),w=c.patternFill&&!u.missingFile,v=c.patternStroke&&!u.missingFile;let b;if((u.disableFontFace||p||w||v)&&!u.missingFile&&(b=u.getPathGenerator(this.commonObjs,n)),b&&(u.disableFontFace||w||v)){o.save(),o.translate(i,r),o.scale(h,-h),(g=this.dependencyTracker)==null||g.recordCharacterBBox(e,o,u);let N;if(f===Or.FILL||f===Or.FILL_STROKE)if(a){N=o.getTransform(),o.setTransform(...a);const R=he(this,BS,cF).call(this,b,N,a);o.fill(R)}else o.fill(b);if(f===Or.STROKE||f===Or.FILL_STROKE)if(s){N||(N=o.getTransform()),o.setTransform(...s);const{a:R,b:D,c:E,d:C}=N,P=_t.inverseTransform(s),k=_t.transform([R,D,E,C,0,0],P);_t.singularValueDecompose2dScale(k,ll),o.lineWidth*=Math.max(ll[0],ll[1])/h,o.stroke(he(this,BS,cF).call(this,b,N,s))}else o.lineWidth/=h,o.stroke(b);o.restore()}else(f===Or.FILL||f===Or.FILL_STROKE)&&(o.fillText(n,i,r),(y=this.dependencyTracker)==null||y.recordCharacterBBox(e,o,u,h,i,r,()=>o.measureText(n))),(f===Or.STROKE||f===Or.FILL_STROKE)&&(this.dependencyTracker&&((_=this.dependencyTracker)==null||_.recordCharacterBBox(e,o,u,h,i,r,()=>o.measureText(n)).recordDependencies(e,Ol.stroke)),o.strokeText(n,i,r));p&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:$i(o),x:i,y:r,fontSize:h,path:b}),(S=this.dependencyTracker)==null||S.recordCharacterBBox(e,o,u,h,i,r))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const n=e.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<n.length;r+=4)if(n[r]>0&&n[r]<255){i=!0;break}return Xt(this,"isFontSubpixelAAEnabled",i)}showText(e,n){var k,A,I,T;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,Ol.showText).resetBBox(e),this.current.textRenderingMode&Or.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const i=this.current,r=i.font;if(r.isType3Font){this.showType3Text(e,n),(k=this.dependencyTracker)==null||k.recordShowTextOperation(e);return}const a=i.fontSize;if(a===0){(A=this.dependencyTracker)==null||A.recordOperation(e);return}const s=this.ctx,o=i.fontSizeScale,c=i.charSpacing,u=i.wordSpacing,d=i.fontDirection,h=i.textHScale*d,f=n.length,p=r.vertical,w=p?1:-1,v=r.defaultVMetrics,b=a*i.fontMatrix[0],g=i.textRenderingMode===Or.FILL&&!r.disableFontFace&&!i.patternFill;s.save(),i.textMatrix&&s.transform(...i.textMatrix),s.translate(i.x,i.y+i.textRise),d>0?s.scale(h,-1):s.scale(h,1);let y,_;const S=i.textRenderingMode&Or.FILL_STROKE_MASK,N=S===Or.FILL||S===Or.FILL_STROKE,R=S===Or.STROKE||S===Or.FILL_STROKE;if(N&&i.patternFill){s.save();const z=i.fillColor.getPattern(s,this,ku(s),Ea.FILL,e);y=$i(s),s.restore(),s.fillStyle=z}if(R&&i.patternStroke){s.save();const z=i.strokeColor.getPattern(s,this,ku(s),Ea.STROKE,e);_=$i(s),s.restore(),s.strokeStyle=z}let D=i.lineWidth;const E=i.textMatrixScale;if(E===0||D===0?R&&(D=this.getSinglePixelWidth()):D/=E,o!==1&&(s.scale(o,o),D/=o),s.lineWidth=D,r.isInvalidPDFjsFont){const z=[];let j=0;for(const $ of n)z.push($.unicode),j+=$.width;const W=z.join("");if(s.fillText(W,0,0),this.dependencyTracker!==null){const $=s.measureText(W);this.dependencyTracker.recordBBox(e,this.ctx,-$.actualBoundingBoxLeft,$.actualBoundingBoxRight,-$.actualBoundingBoxAscent,$.actualBoundingBoxDescent).recordShowTextOperation(e)}i.x+=j*b*h,s.restore(),this.compose();return}let C=0,P;for(P=0;P<f;++P){const z=n[P];if(typeof z=="number"){C+=w*z*a/1e3;continue}let j=!1;const W=(z.isSpace?u:0)+c,$=z.fontChar,q=z.accent;let G,B,L=z.width;if(p){const Q=z.vmetric||v,V=-(z.vmetric?Q[1]:L*.5)*b,le=Q[2]*b;L=Q?-Q[0]:L,G=V/o,B=(C+le)/o}else G=C/o,B=0;let M;if(r.remeasure&&L>0){M=s.measureText($);const Q=M.width*1e3/a*o;if(L<Q&&this.isFontSubpixelAAEnabled){const V=L/Q;j=!0,s.save(),s.scale(V,1),G/=V}else L!==Q&&(G+=(L-Q)/2e3*a/o)}if(this.contentVisible&&(z.isInFont||r.missingFile)){if(g&&!q)s.fillText($,G,B),(I=this.dependencyTracker)==null||I.recordCharacterBBox(e,s,M?{bbox:null}:r,a/o,G,B,()=>M??s.measureText($));else if(this.paintChar(e,$,G,B,y,_),q){const Q=G+a*q.offset.x/o,V=B-a*q.offset.y/o;this.paintChar(e,q.fontChar,Q,V,y,_)}}const K=p?L*b-W*d:L*b+W*d;C+=K,j&&s.restore()}p?i.y-=C:i.x+=C*h,s.restore(),this.compose(),(T=this.dependencyTracker)==null||T.recordShowTextOperation(e)}showType3Text(e,n){const i=this.ctx,r=this.current,a=r.font,s=r.fontSize,o=r.fontDirection,c=a.vertical?1:-1,u=r.charSpacing,d=r.wordSpacing,h=r.textHScale*o,f=r.fontMatrix||T7,p=n.length,w=r.textRenderingMode===Or.INVISIBLE;let v,b,g,y;if(w||s===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),r.textMatrix&&i.transform(...r.textMatrix),i.translate(r.x,r.y+r.textRise),i.scale(h,o);const _=this.dependencyTracker;for(this.dependencyTracker=_?new sE(_,e):null,v=0;v<p;++v){if(b=n[v],typeof b=="number"){y=c*b*s/1e3,this.ctx.translate(y,0),r.x+=y*h;continue}const S=(b.isSpace?d:0)+u,N=a.charProcOperatorList[b.operatorListId];N?this.contentVisible&&(this.save(),i.scale(s,s),i.transform(...f),this.executeOperatorList(N),this.restore()):Gt(`Type3 character "${b.operatorListId}" is not available.`);const R=[b.width,0];_t.applyTransform(R,f),g=R[0]*s+S,i.translate(g,0),r.x+=g*h}i.restore(),_&&(this.dependencyTracker=_)}setCharWidth(e,n,i){}setCharWidthAndBounds(e,n,i,r,a,s,o){var u;const c=new Path2D;c.rect(r,a,s-r,o-a),this.ctx.clip(c),(u=this.dependencyTracker)==null||u.recordBBox(e,this.ctx,r,s,a,o).recordClipBox(e,this.ctx,r,s,a,o),this.endPath(e)}getColorN_Pattern(e,n){let i;if(n[0]==="TilingPattern"){const r=this.baseTransform||$i(this.ctx),a={createCanvasGraphics:(s,o)=>new _B(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new sE(this.dependencyTracker,o,!0):null)};i=new sF(n,this.ctx,a,r)}else i=this._getPattern(e,n[1],n[2]);return i}setStrokeColorN(e,...n){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,n),this.current.patternStroke=!0}setFillColorN(e,...n){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,n),this.current.patternFill=!0}setStrokeRGBColor(e,n){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=n,this.current.patternStroke=!1}setStrokeTransparent(e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,n){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=n,this.current.patternFill=!1}setFillTransparent(e){var n;(n=this.dependencyTracker)==null||n.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,n,i=null){let r;return this.cachedPatterns.has(n)?r=this.cachedPatterns.get(n):(r=zCe(this.getObject(e,n)),this.cachedPatterns.set(n,r)),i&&(r.matrix=i),r}shadingFill(e,n){var s;if(!this.contentVisible)return;const i=this.ctx;this.save(e);const r=this._getPattern(e,n);i.fillStyle=r.getPattern(i,this,ku(i),Ea.SHADING,e);const a=ku(i);if(a){const{width:o,height:c}=i.canvas,u=pv.slice();_t.axialAlignedBoundingBox([0,0,o,c],a,u);const[d,h,f,p]=u;this.ctx.fillRect(d,h,f-d,p-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(s=this.dependencyTracker)==null||s.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,Ol.transform).recordDependencies(e,Ol.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){hi("Should not call beginInlineImage")}beginImageData(){hi("Should not call beginImageData")}paintFormXObjectBegin(e,n,i){var r;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),n&&this.transform(e,...n),this.baseTransform=$i(this.ctx),i)){_t.axialAlignedBoundingBox(i,this.baseTransform,this.current.minMax);const[a,s,o,c]=i,u=new Path2D;u.rect(a,s,o-a,c-s),this.ctx.clip(u),(r=this.dependencyTracker)==null||r.recordClipBox(e,this.ctx,a,o,s,c),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,n){var _;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;n.isolated||M6("TODO: Support non-isolated groups."),n.knockout&&Gt("Knockout groups not supported.");const r=$i(i);if(n.matrix&&i.transform(...n.matrix),!n.bbox)throw new Error("Bounding box is required.");let a=pv.slice();_t.axialAlignedBoundingBox(n.bbox,$i(i),a);const s=[0,0,i.canvas.width,i.canvas.height];a=_t.intersect(a,s)||[0,0,0,0];const o=Math.floor(a[0]),c=Math.floor(a[1]),u=Math.max(Math.ceil(a[2])-o,1),d=Math.max(Math.ceil(a[3])-c,1);this.current.startNewPathAndClipBox([0,0,u,d]);let h="groupAt"+this.groupLevel;n.smask&&(h+="_smask_"+this.smaskCounter++%2);const f=this.cachedCanvases.getCanvas(h,u,d),p=f.context;p.translate(-o,-c),p.transform(...r);let w=new Path2D;const[v,b,g,y]=n.bbox;if(w.rect(v,b,g-v,y-b),n.matrix){const S=new Path2D;S.addPath(w,new DOMMatrix(n.matrix)),w=S}p.clip(w),n.smask&&this.smaskStack.push({canvas:f.canvas,context:p,offsetX:o,offsetY:c,subtype:n.smask.subtype,backdrop:n.smask.backdrop,transferMap:n.smask.transferMap||null,startTransformInverse:null}),(!n.smask||this.dependencyTracker)&&(i.setTransform(1,0,0,1,0,0),i.translate(o,c),i.save()),Sx(i,p),this.ctx=p,(_=this.dependencyTracker)==null||_.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(i),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(e,n){var a;if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,(a=this.dependencyTracker)==null||a.popBaseTransform(),n.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const s=$i(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...s);const o=pv.slice();_t.axialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],s,o),this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,n,i,r,a,s){if(he(this,US,oF).call(this),ok(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const o=i[2]-i[0],c=i[3]-i[1];if(s&&this.annotationCanvasMap){r=r.slice(),r[4]-=i[0],r[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=o,i[3]=c,_t.singularValueDecompose2dScale($i(this.ctx),ll);const{viewportScale:u}=this,d=Math.ceil(o*this.outputScaleX*u),h=Math.ceil(c*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(d,h);const{canvas:f,context:p}=this.annotationCanvas;this.annotationCanvasMap.set(n,f),this.annotationCanvas.savedCtx=this.ctx,this.ctx=p,this.ctx.save(),this.ctx.setTransform(ll[0],0,0,-ll[1],0,c*ll[1]),ok(this.ctx)}else{ok(this.ctx),this.endPath(e);const u=new Path2D;u.rect(i[0],i[1],o,c),this.ctx.clip(u)}}this.current=new Dq(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...r),this.transform(e,...a)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),he(this,MS,lF).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,n){var o;if(!this.contentVisible)return;const i=n.count;n=this.getObject(e,n.data,n),n.count=i;const r=this.ctx,a=this._createMaskCanvas(e,n),s=a.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(s,a.offsetX,a.offsetY),(o=this.dependencyTracker)==null||o.resetBBox(e).recordBBox(e,this.ctx,a.offsetX,a.offsetX+s.width,a.offsetY,a.offsetY+s.height).recordOperation(e),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,n,i,r=0,a=0,s,o){var h,f,p;if(!this.contentVisible)return;n=this.getObject(e,n.data,n);const c=this.ctx;c.save();const u=$i(c);c.transform(i,r,a,s,0,0);const d=this._createMaskCanvas(e,n);c.setTransform(1,0,0,1,d.offsetX-u[4],d.offsetY-u[5]),(h=this.dependencyTracker)==null||h.resetBBox(e);for(let w=0,v=o.length;w<v;w+=2){const b=_t.transform(u,[i,r,a,s,o[w],o[w+1]]);c.drawImage(d.canvas,b[4],b[5]),(f=this.dependencyTracker)==null||f.recordBBox(e,this.ctx,b[4],b[4]+d.canvas.width,b[5],b[5]+d.canvas.height)}c.restore(),this.compose(),(p=this.dependencyTracker)==null||p.recordOperation(e)}paintImageMaskXObjectGroup(e,n){var s,o,c;if(!this.contentVisible)return;const i=this.ctx,r=this.current.fillColor,a=this.current.patternFill;(s=this.dependencyTracker)==null||s.resetBBox(e).recordDependencies(e,Ol.transformAndFill);for(const u of n){const{data:d,width:h,height:f,transform:p}=u,w=this.cachedCanvases.getCanvas("maskCanvas",h,f),v=w.context;v.save();const b=this.getObject(e,d,u);Iq(v,b),v.globalCompositeOperation="source-in",v.fillStyle=a?r.getPattern(v,this,ku(i),Ea.FILL,e):r,v.fillRect(0,0,h,f),v.restore(),i.save(),i.transform(...p),i.scale(1,-1),sk(i,w.canvas,0,0,h,f,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,i,0,h,0,f),i.restore()}this.compose(),(c=this.dependencyTracker)==null||c.recordOperation(e)}paintImageXObject(e,n){if(!this.contentVisible)return;const i=this.getObject(e,n);if(!i){Gt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,i)}paintImageXObjectRepeat(e,n,i,r,a){if(!this.contentVisible)return;const s=this.getObject(e,n);if(!s){Gt("Dependent image isn't ready yet");return}const o=s.width,c=s.height,u=[];for(let d=0,h=a.length;d<h;d+=2)u.push({transform:[i,0,0,r,a[d],a[d+1]],x:0,y:0,w:o,h:c});this.paintInlineImageXObjectGroup(e,s,u)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:n,width:i,height:r}=e,a=this.cachedCanvases.getCanvas("inlineImage",i,r),s=a.context;return s.filter=this.current.transferMaps,s.drawImage(n,0,0),s.filter="none",a.canvas}paintInlineImageXObject(e,n){var u;if(!this.contentVisible)return;const i=n.width,r=n.height,a=this.ctx;this.save(e);const{filter:s}=a;s!=="none"&&s!==""&&(a.filter="none"),a.scale(1/i,-1/r);let o;if(n.bitmap)o=this.applyTransferMapsToBitmap(n);else if(typeof HTMLElement=="function"&&n instanceof HTMLElement||!n.data)o=n;else{const h=this.cachedCanvases.getCanvas("inlineImage",i,r).context;Pq(h,n),o=this.applyTransferMapsToCanvas(h)}const c=this._scaleImage(o,ku(a));a.imageSmoothingEnabled=Rq($i(a),n.interpolate),(u=this.dependencyTracker)==null||u.resetBBox(e).recordBBox(e,a,0,i,-r,0).recordDependencies(e,Ol.imageXObject).recordOperation(e),sk(a,c.img,0,0,c.paintWidth,c.paintHeight,0,-r,i,r),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,n,i){var s,o,c;if(!this.contentVisible)return;const r=this.ctx;let a;if(n.bitmap)a=n.bitmap;else{const u=n.width,d=n.height,f=this.cachedCanvases.getCanvas("inlineImage",u,d).context;Pq(f,n),a=this.applyTransferMapsToCanvas(f)}(s=this.dependencyTracker)==null||s.resetBBox(e);for(const u of i)r.save(),r.transform(...u.transform),r.scale(1,-1),sk(r,a,u.x,u.y,u.w,u.h,0,-1,1,1),(o=this.dependencyTracker)==null||o.recordBBox(e,r,0,1,-1,0),r.restore();(c=this.dependencyTracker)==null||c.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var n;this.contentVisible&&((n=this.dependencyTracker)==null||n.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,Ol.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,n){}markPointProps(e,n,i){}beginMarkedContent(e,n){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,n,i){var r;(r=this.dependencyTracker)==null||r.beginMarkedContent(e),n==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var n;(n=this.dependencyTracker)==null||n.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,n,i){var s,o;const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(i);const a=this.ctx;this.pendingClip?(r||(this.pendingClip===Lq?a.clip(n,"evenodd"):a.clip(n)),this.pendingClip=null,(s=this.dependencyTracker)==null||s.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(o=this.dependencyTracker)==null||o.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=$i(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const n=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/n}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:n,b:i,c:r,d:a}=this.ctx.getTransform();let s,o;if(i===0&&r===0){const c=Math.abs(n),u=Math.abs(a);if(c===u)if(e===0)s=o=1/c;else{const d=c*e;s=o=d<1?1/d:1}else if(e===0)s=1/c,o=1/u;else{const d=c*e,h=u*e;s=d<1?1/d:1,o=h<1?1/h:1}}else{const c=Math.abs(n*a-i*r),u=Math.hypot(n,i),d=Math.hypot(r,a);if(e===0)s=d/c,o=u/c;else{const h=e*c;s=d>h?d/h:1,o=u>h?u/h:1}}this._cachedScaleForStroking[0]=s,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e,n){const{ctx:i,current:{lineWidth:r}}=this,[a,s]=this.getScaleForStroking();if(a===s){i.lineWidth=(r||1)*a,i.stroke(e);return}const o=i.getLineDash();n&&i.save(),i.scale(a,s),aI.a=1/a,aI.d=1/s;const c=new Path2D;if(c.addPath(e,aI),o.length>0){const u=Math.max(a,s);i.setLineDash(o.map(d=>d/u)),i.lineDashOffset/=u}i.lineWidth=r||1,i.stroke(c),n&&i.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};US=new WeakSet,oF=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},MS=new WeakSet,lF=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const n=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=n}}},BS=new WeakSet,cF=function(e,n,i){const r=new Path2D;return r.addPath(e,new DOMMatrix(i).invertSelf().multiplySelf(n)),r};let Uv=_B;for(const t in d_)Uv.prototype[t]!==void 0&&(Uv.prototype[d_[t]]=Uv.prototype[t]);var zS,jS;class od{static get workerPort(){return x(this,zS)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");ie(this,zS,e)}static get workerSrc(){return x(this,jS)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");ie(this,jS,e)}}zS=new WeakMap,jS=new WeakMap,J(od,zS,null),J(od,jS,"");var F2,$S;class XCe{constructor({parsedData:e,rawData:n}){J(this,F2,void 0);J(this,$S,void 0);ie(this,F2,e),ie(this,$S,n)}getRaw(){return x(this,$S)}get(e){return x(this,F2).get(e)??null}[Symbol.iterator](){return x(this,F2).entries()}}F2=new WeakMap,$S=new WeakMap;const Yy=Symbol("INTERNAL");var WS,qS,HS,O2;class KCe{constructor(e,{name:n,intent:i,usage:r,rbGroups:a}){J(this,WS,!1);J(this,qS,!1);J(this,HS,!1);J(this,O2,!0);ie(this,WS,!!(e&sl.DISPLAY)),ie(this,qS,!!(e&sl.PRINT)),this.name=n,this.intent=i,this.usage=r,this.rbGroups=a}get visible(){if(x(this,HS))return x(this,O2);if(!x(this,O2))return!1;const{print:e,view:n}=this.usage;return x(this,WS)?(n==null?void 0:n.viewState)!=="OFF":x(this,qS)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,n,i=!1){e!==Yy&&hi("Internal method `_setVisible` called."),ie(this,HS,i),ie(this,O2,n)}}WS=new WeakMap,qS=new WeakMap,HS=new WeakMap,O2=new WeakMap;var Lp,ii,U2,M2,VS,uF;class YCe{constructor(e,n=sl.DISPLAY){J(this,VS);J(this,Lp,null);J(this,ii,new Map);J(this,U2,null);J(this,M2,null);if(this.renderingIntent=n,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,ie(this,M2,e.order);for(const i of e.groups)x(this,ii).set(i.id,new KCe(n,i));if(e.baseState==="OFF")for(const i of x(this,ii).values())i._setVisible(Yy,!1);for(const i of e.on)x(this,ii).get(i)._setVisible(Yy,!0);for(const i of e.off)x(this,ii).get(i)._setVisible(Yy,!1);ie(this,U2,this.getHash())}}isVisible(e){if(x(this,ii).size===0)return!0;if(!e)return M6("Optional content group not defined."),!0;if(e.type==="OCG")return x(this,ii).has(e.id)?x(this,ii).get(e.id).visible:(Gt(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return he(this,VS,uF).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const n of e.ids){if(!x(this,ii).has(n))return Gt(`Optional content group not found: ${n}`),!0;if(x(this,ii).get(n).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const n of e.ids){if(!x(this,ii).has(n))return Gt(`Optional content group not found: ${n}`),!0;if(!x(this,ii).get(n).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const n of e.ids){if(!x(this,ii).has(n))return Gt(`Optional content group not found: ${n}`),!0;if(!x(this,ii).get(n).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const n of e.ids){if(!x(this,ii).has(n))return Gt(`Optional content group not found: ${n}`),!0;if(x(this,ii).get(n).visible)return!1}return!0}return Gt(`Unknown optional content policy ${e.policy}.`),!0}return Gt(`Unknown group type ${e.type}.`),!0}setVisibility(e,n=!0,i=!0){var a;const r=x(this,ii).get(e);if(!r){Gt(`Optional content group not found: ${e}`);return}if(i&&n&&r.rbGroups.length)for(const s of r.rbGroups)for(const o of s)o!==e&&((a=x(this,ii).get(o))==null||a._setVisible(Yy,!1,!0));r._setVisible(Yy,!!n,!0),ie(this,Lp,null)}setOCGState({state:e,preserveRB:n}){let i;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const a=x(this,ii).get(r);if(a)switch(i){case"ON":this.setVisibility(r,!0,n);break;case"OFF":this.setVisibility(r,!1,n);break;case"Toggle":this.setVisibility(r,!a.visible,n);break}}ie(this,Lp,null)}get hasInitialVisibility(){return x(this,U2)===null||this.getHash()===x(this,U2)}getOrder(){return x(this,ii).size?x(this,M2)?x(this,M2).slice():[...x(this,ii).keys()]:null}getGroup(e){return x(this,ii).get(e)||null}getHash(){if(x(this,Lp)!==null)return x(this,Lp);const e=new Vee;for(const[n,i]of x(this,ii))e.update(`${n}:${i.visible}`);return ie(this,Lp,e.hexdigest())}[Symbol.iterator](){return x(this,ii).entries()}}Lp=new WeakMap,ii=new WeakMap,U2=new WeakMap,M2=new WeakMap,VS=new WeakSet,uF=function(e){const n=e.length;if(n<2)return!0;const i=e[0];for(let r=1;r<n;r++){const a=e[r];let s;if(Array.isArray(a))s=he(this,VS,uF).call(this,a);else if(x(this,ii).has(a))s=x(this,ii).get(a).visible;else return Gt(`Optional content group not found: ${a}`),!0;switch(i){case"And":if(!s)return!1;break;case"Or":if(s)return!0;break;case"Not":return!s;default:return!0}}return i==="And"};class JCe{constructor(e,{disableRange:n=!1,disableStream:i=!1}){wn(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:a,progressiveDone:s,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=s,this._contentDispositionFilename=o,(a==null?void 0:a.length)>0){const c=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(c)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!n,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((c,u)=>{this._onReceiveData({begin:c,chunk:u})}),e.addProgressListener((c,u)=>{this._onProgress({loaded:c,total:u})}),e.addProgressiveReadListener(c=>{this._onReceiveData({chunk:c})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:n}){const i=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const r=this._rangeReaders.some(function(a){return a._begin!==e?!1:(a._enqueue(i),!0)});wn(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var n,i,r,a;e.total===void 0?(i=(n=this._rangeReaders[0])==null?void 0:n.onProgress)==null||i.call(n,{loaded:e.loaded}):(a=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||a.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const n=this._rangeReaders.indexOf(e);n>=0&&this._rangeReaders.splice(n,1)}getFullReader(){wn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new ZCe(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const i=new QCe(this,e,n);return this._pdfDataRangeTransport.requestDataRange(e,n),this._rangeReaders.push(i),i}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const i of this._rangeReaders.slice(0))i.cancel(e);this._pdfDataRangeTransport.abort()}}class ZCe{constructor(e,n,i=!1,r=null){this._stream=e,this._done=i||!1,this._filename=LU(r)?r:null,this._queuedChunks=n||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class QCe{constructor(e,n,i){this._stream=e,this._begin=n,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function eEe(t){let e=!0,n=i("filename\\*","i").exec(t);if(n){n=n[1];let d=o(n);return d=unescape(d),d=c(d),d=u(d),a(d)}if(n=s(t),n){const d=u(n);return a(d)}if(n=i("filename","i").exec(t),n){n=n[1];let d=o(n);return d=u(d),a(d)}function i(d,h){return new RegExp("(?:^|;)\\s*"+d+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',h)}function r(d,h){if(d){if(!/^[\x00-\xFF]+$/.test(h))return h;try{const f=new TextDecoder(d,{fatal:!0}),p=zN(h);h=f.decode(p),e=!1}catch{}}return h}function a(d){return e&&/[\x80-\xff]/.test(d)&&(d=r("utf-8",d),e&&(d=r("iso-8859-1",d))),d}function s(d){const h=[];let f;const p=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(d))!==null;){let[,v,b,g]=f;if(v=parseInt(v,10),v in h){if(v===0)break;continue}h[v]=[b,g]}const w=[];for(let v=0;v<h.length&&v in h;++v){let[b,g]=h[v];g=o(g),b&&(g=unescape(g),v===0&&(g=c(g))),w.push(g)}return w.join("")}function o(d){if(d.startsWith('"')){const h=d.slice(1).split('\\"');for(let f=0;f<h.length;++f){const p=h[f].indexOf('"');p!==-1&&(h[f]=h[f].slice(0,p),h.length=f+1),h[f]=h[f].replaceAll(/\\(.)/g,"$1")}d=h.join('"')}return d}function c(d){const h=d.indexOf("'");if(h===-1)return d;const f=d.slice(0,h),w=d.slice(h+1).replace(/^[^']*'/,"");return r(f,w)}function u(d){return!d.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(d)?d:d.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(h,f,p,w){if(p==="q"||p==="Q")return w=w.replaceAll("_"," "),w=w.replaceAll(/=([0-9a-fA-F]{2})/g,function(v,b){return String.fromCharCode(parseInt(b,16))}),r(f,w);try{w=atob(w)}catch{}return r(f,w)})}return""}function rte(t,e){const n=new Headers;if(!t||!e||typeof e!="object")return n;for(const i in e){const r=e[i];r!==void 0&&n.append(i,r)}return n}function z6(t){var e;return((e=URL.parse(t))==null?void 0:e.origin)??null}function ate({responseHeaders:t,isHttp:e,rangeChunkSize:n,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(t.get("Content-Length"),10);return!Number.isInteger(a)||(r.suggestedLength=a,a<=2*n)||i||!e||t.get("Accept-Ranges")!=="bytes"||(t.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function ste(t){const e=t.get("Content-Disposition");if(e){let n=eEe(e);if(n.includes("%"))try{n=decodeURIComponent(n)}catch{}if(LU(n))return n}return null}function HN(t,e){return new eE(`Unexpected server response (${t}) while retrieving PDF "${e}".`,t,t===404||t===0&&e.startsWith("file:"))}function ote(t){return t===200||t===206}function lte(t,e,n){return{method:"GET",headers:t,signal:n.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function cte(t){return t instanceof Uint8Array?t.buffer:t instanceof ArrayBuffer?t:(Gt(`getArrayBuffer - unexpected data format: ${t}`),new Uint8Array(t).buffer)}class tEe{constructor(e){it(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=rte(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return wn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new nEe(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const i=new iEe(this,e,n);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class nEe{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const n=e.source;this._withCredentials=n.withCredentials||!1,this._contentLength=n.length,this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange;const i=new Headers(e.headers),r=n.url;fetch(r,lte(i,this._withCredentials,this._abortController)).then(a=>{if(e._responseOrigin=z6(a.url),!ote(a.status))throw HN(a.status,r);this._reader=a.body.getReader(),this._headersCapability.resolve();const s=a.headers,{allowRangeRequests:o,suggestedLength:c}=ate({responseHeaders:s,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=c||this._contentLength,this._filename=ste(s),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Lm("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:cte(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}class iEe{constructor(e,n,i){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const a=new Headers(e.headers);a.append("Range",`bytes=${n}-${i-1}`);const s=r.url;fetch(s,lte(a,this._withCredentials,this._abortController)).then(o=>{const c=z6(o.url);if(c!==e._responseOrigin)throw new Error(`Expected range response-origin "${c}" to match "${e._responseOrigin}".`);if(!ote(o.status))throw HN(o.status,s);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:e,done:n}=await this._reader.read();return n?{value:e,done:n}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:cte(e),done:!1})}cancel(e){var n;(n=this._reader)==null||n.cancel(e),this._abortController.abort()}}const sI=200,oI=206;function rEe(t){const e=t.response;return typeof e!="string"?e:zN(e).buffer}class aEe{constructor({url:e,httpHeaders:n,withCredentials:i}){it(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=rte(this.isHttp,n),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const n=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:n};n.open("GET",this.url),n.withCredentials=this.withCredentials;for(const[a,s]of this.headers)n.setRequestHeader(a,s);return this.isHttp&&"begin"in e&&"end"in e?(n.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=oI):r.expectedStatus=sI,n.responseType="arraybuffer",wn(e.onError,"Expected `onError` callback to be provided."),n.onerror=()=>{e.onError(n.status)},n.onreadystatechange=this.onStateChange.bind(this,i),n.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,n.send(null),i}onProgress(e,n){var r;const i=this.pendingRequests[e];i&&((r=i.onProgress)==null||r.call(i,n))}onStateChange(e,n){const i=this.pendingRequests[e];if(!i)return;const r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){i.onError(r.status);return}const a=r.status||sI;if(!(a===sI&&i.expectedStatus===oI)&&a!==i.expectedStatus){i.onError(r.status);return}const o=rEe(r);if(a===oI){const c=r.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);u?i.onDone({begin:parseInt(u[1],10),chunk:o}):(Gt('Missing or invalid "Content-Range" header.'),i.onError(0))}else o?i.onDone({begin:0,chunk:o}):i.onError(r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const n=this.pendingRequests[e].xhr;delete this.pendingRequests[e],n.abort()}}class sEe{constructor(e){this._source=e,this._manager=new aEe(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const n=this._rangeRequestReaders.indexOf(e);n>=0&&this._rangeRequestReaders.splice(n,1)}getFullReader(){return wn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new oEe(this._manager,this._source),this._fullRequestReader}getRangeReader(e,n){const i=new lEe(this._manager,e,n);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class oEe{constructor(e,n){this._manager=e,this._url=n.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,n=this._manager.getRequestXhr(e);this._manager._responseOrigin=z6(n.responseURL);const i=n.getAllResponseHeaders(),r=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[c,...u]=o.split(": ");return[c,u.join(": ")]}):[]),{allowRangeRequests:a,suggestedLength:s}=ate({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});a&&(this._isRangeSupported=!0),this._contentLength=s||this._contentLength,this._filename=ste(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=HN(e,this._url),this._headersCapability.reject(this._storedError);for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var n;(n=this.onProgress)==null||n.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class lEe{constructor(e,n,i){this._manager=e,this._url=e.url,this._requestId=e.request({begin:n,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var n;const e=z6((n=this._manager.getRequestXhr(this._requestId))==null?void 0:n.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const n=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:n,done:!1}):this._queuedChunk=n,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=HN(e,this._url));for(const n of this._requests)n.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var n;this.isStreamingSupported||(n=this.onProgress)==null||n.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const n=this._queuedChunk;return this._queuedChunk=null,{value:n,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const cEe=/^[a-z][a-z0-9\-+.]+:/i;function uEe(t){if(cEe.test(t))return new URL(t);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(t))}class dEe{constructor(e){this.source=e,this.url=uEe(e.url),wn(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return wn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new hEe(this),this._fullRequestReader}getRangeReader(e,n){if(n<=this._progressiveDataLength)return null;const i=new fEe(this,e,n);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var n;(n=this._fullRequestReader)==null||n.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class hEe{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=e.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=HN(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Lm("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class fEe{constructor(e,n,i){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=e.source;this._isStreamingSupported=!r.disableStream;const a=process.getBuiltinModule("fs");this._setReadableStream(a.createReadStream(this._url,{start:n,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const Ax=Symbol("INITIAL_DATA");var Ho,GS,dF;class ute{constructor(){J(this,GS);J(this,Ho,Object.create(null))}get(e,n=null){if(n){const r=he(this,GS,dF).call(this,e);return r.promise.then(()=>n(r.data)),null}const i=x(this,Ho)[e];if(!i||i.data===Ax)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){const n=x(this,Ho)[e];return!!n&&n.data!==Ax}delete(e){const n=x(this,Ho)[e];return!n||n.data===Ax?!1:(delete x(this,Ho)[e],!0)}resolve(e,n=null){const i=he(this,GS,dF).call(this,e);i.data=n,i.resolve()}clear(){var e;for(const n in x(this,Ho)){const{data:i}=x(this,Ho)[n];(e=i==null?void 0:i.bitmap)==null||e.close()}ie(this,Ho,Object.create(null))}*[Symbol.iterator](){for(const e in x(this,Ho)){const{data:n}=x(this,Ho)[e];n!==Ax&&(yield[e,n])}}}Ho=new WeakMap,GS=new WeakSet,dF=function(e){var n;return(n=x(this,Ho))[e]||(n[e]={...Promise.withResolvers(),data:Ax})};const pEe=1e5,Fq=30;var mX,Fp,Vo,XS,KS,E1,Ah,YS,JS,T1,ZS,B2,Op,z2,QS,j2,D1,eA,tA,$2,P1,nA,W2,q2,vT,dte,bT,hte,iA,hF,H2,x4,rA,fF,wT,fte,xT,pte;const Sr=class Sr{constructor({textContentSource:e,container:n,viewport:i}){J(this,vT);J(this,bT);J(this,iA);J(this,Fp,Promise.withResolvers());J(this,Vo,null);J(this,XS,!1);J(this,KS,!!((mX=globalThis.FontInspector)!=null&&mX.enabled));J(this,E1,null);J(this,Ah,null);J(this,YS,0);J(this,JS,0);J(this,T1,null);J(this,ZS,null);J(this,B2,0);J(this,Op,0);J(this,z2,Object.create(null));J(this,QS,[]);J(this,j2,null);J(this,D1,[]);J(this,eA,new WeakMap);J(this,tA,null);var c;if(e instanceof ReadableStream)ie(this,j2,e);else if(typeof e=="object")ie(this,j2,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');ie(this,Vo,ie(this,ZS,n)),ie(this,Op,i.scale*Sd.pixelRatio),ie(this,B2,i.rotation),ie(this,Ah,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:a,pageX:s,pageY:o}=i.rawDims;ie(this,tA,[1,0,0,-1,-s,o+a]),ie(this,JS,r),ie(this,YS,a),he(c=Sr,wT,fte).call(c),n.style.setProperty("--min-font-size",x(Sr,W2)),$0(n,i),x(this,Fp).promise.finally(()=>{x(Sr,q2).delete(this),ie(this,Ah,null),ie(this,z2,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:n}=Wr.platform;return Xt(this,"fontFamilyMap",new Map([["sans-serif",`${e&&n?"Calibri, ":""}sans-serif`],["monospace",`${e&&n?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{x(this,T1).read().then(({value:n,done:i})=>{if(i){x(this,Fp).resolve();return}x(this,E1)??ie(this,E1,n.lang),Object.assign(x(this,z2),n.styles),he(this,vT,dte).call(this,n.items),e()},x(this,Fp).reject)};return ie(this,T1,x(this,j2).getReader()),x(Sr,q2).add(this),e(),x(this,Fp).promise}update({viewport:e,onBefore:n=null}){var a;const i=e.scale*Sd.pixelRatio,r=e.rotation;if(r!==x(this,B2)&&(n==null||n(),ie(this,B2,r),$0(x(this,ZS),{rotation:r})),i!==x(this,Op)){n==null||n(),ie(this,Op,i);const s={div:null,properties:null,ctx:he(a=Sr,H2,x4).call(a,x(this,E1))};for(const o of x(this,D1))s.properties=x(this,eA).get(o),s.div=o,he(this,iA,hF).call(this,s)}}cancel(){var n;const e=new Lm("TextLayer task cancelled.");(n=x(this,T1))==null||n.cancel(e).catch(()=>{}),ie(this,T1,null),x(this,Fp).reject(e)}get textDivs(){return x(this,D1)}get textContentItemsStr(){return x(this,QS)}static cleanup(){if(!(x(this,q2).size>0)){x(this,$2).clear();for(const{canvas:e}of x(this,P1).values())e.remove();x(this,P1).clear()}}};Fp=new WeakMap,Vo=new WeakMap,XS=new WeakMap,KS=new WeakMap,E1=new WeakMap,Ah=new WeakMap,YS=new WeakMap,JS=new WeakMap,T1=new WeakMap,ZS=new WeakMap,B2=new WeakMap,Op=new WeakMap,z2=new WeakMap,QS=new WeakMap,j2=new WeakMap,D1=new WeakMap,eA=new WeakMap,tA=new WeakMap,$2=new WeakMap,P1=new WeakMap,nA=new WeakMap,W2=new WeakMap,q2=new WeakMap,vT=new WeakSet,dte=function(e){var r,a;if(x(this,XS))return;(a=x(this,Ah)).ctx??(a.ctx=he(r=Sr,H2,x4).call(r,x(this,E1)));const n=x(this,D1),i=x(this,QS);for(const s of e){if(n.length>pEe){Gt("Ignoring additional textDivs for performance reasons."),ie(this,XS,!0);return}if(s.str===void 0){if(s.type==="beginMarkedContentProps"||s.type==="beginMarkedContent"){const o=x(this,Vo);ie(this,Vo,document.createElement("span")),x(this,Vo).classList.add("markedContent"),s.id&&x(this,Vo).setAttribute("id",`${s.id}`),o.append(x(this,Vo))}else s.type==="endMarkedContent"&&ie(this,Vo,x(this,Vo).parentNode);continue}i.push(s.str),he(this,bT,hte).call(this,s)}},bT=new WeakSet,hte=function(e){var w;const n=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};x(this,D1).push(n);const r=_t.transform(x(this,tA),e.transform);let a=Math.atan2(r[1],r[0]);const s=x(this,z2)[e.fontName];s.vertical&&(a+=Math.PI/2);let o=x(this,KS)&&s.fontSubstitution||s.fontFamily;o=Sr.fontFamilyMap.get(o)||o;const c=Math.hypot(r[2],r[3]),u=c*he(w=Sr,xT,pte).call(w,o,s,x(this,E1));let d,h;a===0?(d=r[4],h=r[5]-u):(d=r[4]+u*Math.sin(a),h=r[5]-u*Math.cos(a));const f=n.style;f.left=`${(100*d/x(this,JS)).toFixed(2)}%`,f.top=`${(100*h/x(this,YS)).toFixed(2)}%`,f.setProperty("--font-height",`${c.toFixed(2)}px`),f.fontFamily=o,i.fontSize=c,n.setAttribute("role","presentation"),n.textContent=e.str,n.dir=e.dir,x(this,KS)&&(n.dataset.fontName=s.fontSubstitutionLoadedName||e.fontName),a!==0&&(i.angle=a*(180/Math.PI));let p=!1;if(e.str.length>1)p=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const v=Math.abs(e.transform[0]),b=Math.abs(e.transform[3]);v!==b&&Math.max(v,b)/Math.min(v,b)>1.5&&(p=!0)}if(p&&(i.canvasWidth=s.vertical?e.height:e.width),x(this,eA).set(n,i),x(this,Ah).div=n,x(this,Ah).properties=i,he(this,iA,hF).call(this,x(this,Ah)),i.hasText&&x(this,Vo).append(n),i.hasEOL){const v=document.createElement("br");v.setAttribute("role","presentation"),x(this,Vo).append(v)}},iA=new WeakSet,hF=function(e){var s;const{div:n,properties:i,ctx:r}=e,{style:a}=n;if(i.canvasWidth!==0&&i.hasText){const{fontFamily:o}=a,{canvasWidth:c,fontSize:u}=i;he(s=Sr,rA,fF).call(s,r,u*x(this,Op),o);const{width:d}=r.measureText(n.textContent);d>0&&a.setProperty("--scale-x",c*x(this,Op)/d)}i.angle!==0&&a.setProperty("--rotate",`${i.angle}deg`)},H2=new WeakSet,x4=function(e=null){let n=x(this,P1).get(e||(e=""));if(!n){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=e,document.body.append(i),n=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),x(this,P1).set(e,n),x(this,nA).set(n,{size:0,family:""})}return n},rA=new WeakSet,fF=function(e,n,i){const r=x(this,nA).get(e);n===r.size&&i===r.family||(e.font=`${n}px ${i}`,r.size=n,r.family=i)},wT=new WeakSet,fte=function(){if(x(this,W2)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),ie(this,W2,e.getBoundingClientRect().height),e.remove()},xT=new WeakSet,pte=function(e,n,i){const r=x(this,$2).get(e);if(r)return r;const a=he(this,H2,x4).call(this,i);a.canvas.width=a.canvas.height=Fq,he(this,rA,fF).call(this,a,Fq,e);const s=a.measureText(""),o=s.fontBoundingBoxAscent,c=Math.abs(s.fontBoundingBoxDescent);a.canvas.width=a.canvas.height=0;let u=.8;return o?u=o/(o+c):(Wr.platform.isFirefox&&Gt("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),n.ascent?u=n.ascent:n.descent&&(u=1+n.descent)),x(this,$2).set(e,u),u},J(Sr,H2),J(Sr,rA),J(Sr,wT),J(Sr,xT),J(Sr,$2,new Map),J(Sr,P1,new Map),J(Sr,nA,new WeakMap),J(Sr,W2,null),J(Sr,q2,new Set);let f_=Sr;const mEe=100;function mte(t={}){typeof t=="string"||t instanceof URL?t={url:t}:(t instanceof ArrayBuffer||ArrayBuffer.isView(t))&&(t={data:t});const e=new pF,{docId:n}=e,i=t.url?_Ce(t.url):null,r=t.data?SCe(t.data):null,a=t.httpHeaders||null,s=t.withCredentials===!0,o=t.password??null,c=t.range instanceof gte?t.range:null,u=Number.isInteger(t.rangeChunkSize)&&t.rangeChunkSize>0?t.rangeChunkSize:2**16;let d=t.worker instanceof p_?t.worker:null;const h=t.verbosity,f=typeof t.docBaseUrl=="string"&&!B6(t.docBaseUrl)?t.docBaseUrl:null,p=nk(t.cMapUrl),w=t.cMapPacked!==!1,v=t.CMapReaderFactory||(Es?PCe:xq),b=nk(t.iccUrl),g=nk(t.standardFontDataUrl),y=t.StandardFontDataFactory||(Es?ICe:_q),_=nk(t.wasmUrl),S=t.WasmFactory||(Es?RCe:Sq),N=t.stopAtErrors!==!0,R=Number.isInteger(t.maxImageSize)&&t.maxImageSize>-1?t.maxImageSize:-1,D=t.isEvalSupported!==!1,E=typeof t.isOffscreenCanvasSupported=="boolean"?t.isOffscreenCanvasSupported:!Es,C=typeof t.isImageDecoderSupported=="boolean"?t.isImageDecoderSupported:!Es&&(Wr.platform.isFirefox||!globalThis.chrome),P=Number.isInteger(t.canvasMaxAreaInBytes)?t.canvasMaxAreaInBytes:-1,k=typeof t.disableFontFace=="boolean"?t.disableFontFace:Es,A=t.fontExtraProperties===!0,I=t.enableXfa===!0,T=t.ownerDocument||globalThis.document,z=t.disableRange===!0,j=t.disableStream===!0,W=t.disableAutoFetch===!0,$=t.pdfBug===!0,q=t.CanvasFactory||(Es?DCe:CCe),G=t.FilterFactory||(Es?TCe:ECe),B=t.enableHWA===!0,L=t.useWasm!==!1,M=c?c.length:t.length??NaN,K=typeof t.useSystemFonts=="boolean"?t.useSystemFonts:!Es&&!k,Q=typeof t.useWorkerFetch=="boolean"?t.useWorkerFetch:!!(v===xq&&y===_q&&S===Sq&&p&&g&&_&&Hx(p,document.baseURI)&&Hx(g,document.baseURI)&&Hx(_,document.baseURI)),V=null;K4e(h);const le={canvasFactory:new q({ownerDocument:T,enableHWA:B}),filterFactory:new G({docId:n,ownerDocument:T}),cMapReaderFactory:Q?null:new v({baseUrl:p,isCompressed:w}),standardFontDataFactory:Q?null:new y({baseUrl:g}),wasmFactory:Q?null:new S({baseUrl:_})};d||(d=p_.create({verbosity:h,port:od.workerPort}),e._worker=d);const ge={docId:n,apiVersion:"5.4.530",data:r,password:o,disableAutoFetch:W,rangeChunkSize:u,length:M,docBaseUrl:f,enableXfa:I,evaluatorOptions:{maxImageSize:R,disableFontFace:k,ignoreErrors:N,isEvalSupported:D,isOffscreenCanvasSupported:E,isImageDecoderSupported:C,canvasMaxAreaInBytes:P,fontExtraProperties:A,useSystemFonts:K,useWasm:L,useWorkerFetch:Q,cMapUrl:p,iccUrl:b,standardFontDataUrl:g,wasmUrl:_}},ye={ownerDocument:T,pdfBug:$,styleElement:V,loadingParams:{disableAutoFetch:W,enableXfa:I}};return d.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const be=d.messageHandler.sendWithPromise("GetDocRequest",ge,r?[r.buffer]:null);let Le;if(c)Le=new JCe(c,{disableRange:z,disableStream:j});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");const ue=Hx(i)?tEe:Es?dEe:sEe;Le=new ue({url:i,length:M,httpHeaders:a,withCredentials:s,rangeChunkSize:u,disableRange:z,disableStream:j})}return be.then(ue=>{if(e.destroyed)throw new Error("Loading aborted");if(d.destroyed)throw new Error("Worker was destroyed");const ke=new Qx(n,ue,d.port),X=new vEe(ke,e,Le,ye,le,B);e._transport=X,ke.send("Ready",null)})}).catch(e._capability.reject),e}var _T;const ST=class ST{constructor(){it(this,"_capability",Promise.withResolvers());it(this,"_transport",null);it(this,"_worker",null);it(this,"docId",`d${Fr(ST,_T)._++}`);it(this,"destroyed",!1);it(this,"onPassword",null);it(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,n,i,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((n=this._transport)==null?void 0:n.destroy())}catch(a){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,a}this._transport=null,(r=this._worker)==null||r.destroy(),this._worker=null}async getData(){return this._transport.getData()}};_T=new WeakMap,J(ST,_T,0);let pF=ST;var I1,aA,sA,oA,lA;class gte{constructor(e,n,i=!1,r=null){J(this,I1,Promise.withResolvers());J(this,aA,[]);J(this,sA,[]);J(this,oA,[]);J(this,lA,[]);this.length=e,this.initialData=n,this.progressiveDone=i,this.contentDispositionFilename=r}addRangeListener(e){x(this,lA).push(e)}addProgressListener(e){x(this,oA).push(e)}addProgressiveReadListener(e){x(this,sA).push(e)}addProgressiveDoneListener(e){x(this,aA).push(e)}onDataRange(e,n){for(const i of x(this,lA))i(e,n)}onDataProgress(e,n){x(this,I1).promise.then(()=>{for(const i of x(this,oA))i(e,n)})}onDataProgressiveRead(e){x(this,I1).promise.then(()=>{for(const n of x(this,sA))n(e)})}onDataProgressiveDone(){x(this,I1).promise.then(()=>{for(const e of x(this,aA))e()})}transportReady(){x(this,I1).resolve()}requestDataRange(e,n){hi("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}I1=new WeakMap,aA=new WeakMap,sA=new WeakMap,oA=new WeakMap,lA=new WeakMap;class gEe{constructor(e,n){this._pdfInfo=e,this._transport=n}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Xt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,n){return this._transport.getAnnotationsByType(e,n)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(n)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(e){return this._transport.extractPages(e)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Nh,R1,r5;class yEe{constructor(e,n,i,r=!1){J(this,R1);J(this,Nh,!1);this._pageIndex=e,this._pageInfo=n,this._transport=i,this._stats=r?new pq:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new ute,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:n=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:a=!1}={}){return new $N({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:n,offsetX:i,offsetY:r,dontFlip:a})}getAnnotations({intent:e="display"}={}){const{renderingIntent:n}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,n)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Xt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:n=e.canvas,viewport:i,intent:r="display",annotationMode:a=lp.ENABLE,transform:s=null,background:o=null,optionalContentConfigPromise:c=null,annotationCanvasMap:u=null,pageColors:d=null,printAnnotationStorage:h=null,isEditing:f=!1,recordOperations:p=!1,operationsFilter:w=null}){var C,P,k;(C=this._stats)==null||C.time("Overall");const v=this._transport.getRenderingIntent(r,a,h,f),{renderingIntent:b,cacheKey:g}=v;ie(this,Nh,!1),c||(c=this._transport.getOptionalContentConfig(b));let y=this._intentStates.get(g);y||(y=Object.create(null),this._intentStates.set(g,y)),y.streamReaderCancelTimeout&&(clearTimeout(y.streamReaderCancelTimeout),y.streamReaderCancelTimeout=null);const _=!!(b&sl.PRINT);y.displayReadyCapability||(y.displayReadyCapability=Promise.withResolvers(),y.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(P=this._stats)==null||P.time("Page Request"),this._pumpOperatorList(v));const S=!!(this._pdfBug&&((k=globalThis.StepperManager)!=null&&k.enabled)),N=!this.recordedBBoxes&&(p||S),R=A=>{var I,T;if(y.renderTasks.delete(D),N){const z=(I=D.gfx)==null?void 0:I.dependencyTracker.take();z&&(D.stepper&&D.stepper.setOperatorBBoxes(z,D.gfx.dependencyTracker.takeDebugMetadata()),p&&(this.recordedBBoxes=z))}_&&ie(this,Nh,!0),he(this,R1,r5).call(this),A?(D.capability.reject(A),this._abortOperatorList({intentState:y,reason:A instanceof Error?A:new Error(A)})):D.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(T=globalThis.Stats)!=null&&T.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},D=new mF({callback:R,params:{canvas:n,canvasContext:e,dependencyTracker:N?new FCe(n,y.operatorList.length,S):null,viewport:i,transform:s,background:o},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:y.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!_,pdfBug:this._pdfBug,pageColors:d,enableHWA:this._transport.enableHWA,operationsFilter:w});(y.renderTasks||(y.renderTasks=new Set)).add(D);const E=D.task;return Promise.all([y.displayReadyCapability.promise,c]).then(([A,I])=>{var T;if(this.destroyed){R();return}if((T=this._stats)==null||T.time("Rendering"),!(I.renderingIntent&b))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");D.initializeGraphics({transparency:A,optionalContentConfig:I}),D.operatorListChanged()}).catch(R),E}getOperatorList({intent:e="display",annotationMode:n=lp.ENABLE,printAnnotationStorage:i=null,isEditing:r=!1}={}){var u;function a(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(c))}const s=this._transport.getRenderingIntent(e,n,i,r,!0);let o=this._intentStates.get(s.cacheKey);o||(o=Object.create(null),this._intentStates.set(s.cacheKey,o));let c;return o.opListReadCapability||(c=Object.create(null),c.operatorListChanged=a,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(c),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(s)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:n=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:n===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>h_.textContent(i));const n=this.streamTextContent(e);return new Promise(function(i,r){function a(){s.read().then(function({value:c,done:u}){if(u){i(o);return}o.lang??(o.lang=c.lang),Object.assign(o.styles,c.styles),o.items.push(...c.items),a()},r)}const s=n.getReader(),o={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const n of this._intentStates.values())if(this._abortOperatorList({intentState:n,reason:new Error("Page was destroyed."),force:!0}),!n.opListReadCapability)for(const i of n.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),ie(this,Nh,!1),Promise.all(e)}cleanup(e=!1){ie(this,Nh,!0);const n=he(this,R1,r5).call(this);return e&&n&&this._stats&&(this._stats=new pq),n}_startRenderPage(e,n){var r,a;const i=this._intentStates.get(n);i&&((r=this._stats)==null||r.timeEnd("Page Request"),(a=i.displayReadyCapability)==null||a.resolve(e))}_renderPageChunk(e,n){for(let i=0,r=e.length;i<r;i++)n.operatorList.fnArray.push(e.fnArray[i]),n.operatorList.argsArray.push(e.argsArray[i]);n.operatorList.lastChunk=e.lastChunk,n.operatorList.separateAnnots=e.separateAnnots;for(const i of n.renderTasks)i.operatorListChanged();e.lastChunk&&he(this,R1,r5).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:n,annotationStorageSerializable:i,modifiedIds:r}){const{map:a,transfer:s}=i,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:n,annotationStorage:a,modifiedIds:r},s).getReader(),u=this._intentStates.get(n);u.streamReader=c;const d=()=>{c.read().then(({value:h,done:f})=>{if(f){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(h,u),d())},h=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const f of u.renderTasks)f.operatorListChanged();he(this,R1,r5).call(this)}if(u.displayReadyCapability)u.displayReadyCapability.reject(h);else if(u.opListReadCapability)u.opListReadCapability.reject(h);else throw h}})};d()}_abortOperatorList({intentState:e,reason:n,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(n instanceof RU){let r=mEe;n.extraDelay>0&&n.extraDelay<1e3&&(r+=n.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:n,force:!0})},r);return}}if(e.streamReader.cancel(new Lm(n.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,a]of this._intentStates)if(a===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}Nh=new WeakMap,R1=new WeakSet,r5=function(){if(!x(this,Nh)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),ie(this,Nh,!1),!0};var Up,Uc,kh,L1,AT,F1,O1,V2,_4,NT,yte,kT,vte,U1,a5,G2,S4;const Ui=class Ui{constructor({name:e=null,port:n=null,verbosity:i=Y4e()}={}){J(this,V2);J(this,NT);J(this,kT);J(this,U1);J(this,Up,Promise.withResolvers());J(this,Uc,null);J(this,kh,null);J(this,L1,null);if(this.name=e,this.destroyed=!1,this.verbosity=i,n){if(x(Ui,O1).has(n))throw new Error("Cannot use more than one PDFWorker per port.");x(Ui,O1).set(n,this),he(this,NT,yte).call(this,n)}else he(this,kT,vte).call(this)}get promise(){return x(this,Up).promise}get port(){return x(this,kh)}get messageHandler(){return x(this,Uc)}destroy(){var e,n;this.destroyed=!0,(e=x(this,L1))==null||e.terminate(),ie(this,L1,null),x(Ui,O1).delete(x(this,kh)),ie(this,kh,null),(n=x(this,Uc))==null||n.destroy(),ie(this,Uc,null)}static create(e){const n=x(this,O1).get(e==null?void 0:e.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new Ui(e)}static get workerSrc(){if(od.workerSrc)return od.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Xt(this,"_setupFakeWorkerGlobal",(async()=>x(this,G2,S4)?x(this,G2,S4):(await c4(()=>import(this.workerSrc),[])).WorkerMessageHandler)())}};Up=new WeakMap,Uc=new WeakMap,kh=new WeakMap,L1=new WeakMap,AT=new WeakMap,F1=new WeakMap,O1=new WeakMap,V2=new WeakSet,_4=function(){x(this,Up).resolve(),x(this,Uc).send("configure",{verbosity:this.verbosity})},NT=new WeakSet,yte=function(e){ie(this,kh,e),ie(this,Uc,new Qx("main","worker",e)),x(this,Uc).on("ready",()=>{}),he(this,V2,_4).call(this)},kT=new WeakSet,vte=function(){if(x(Ui,F1)||x(Ui,G2,S4)){he(this,U1,a5).call(this);return}let{workerSrc:e}=Ui;try{Ui._isSameOrigin(window.location,e)||(e=Ui._createCDNWrapper(new URL(e,window.location).href));const n=new Worker(e,{type:"module"}),i=new Qx("main","worker",n),r=()=>{a.abort(),i.destroy(),n.terminate(),this.destroyed?x(this,Up).reject(new Error("Worker was destroyed")):he(this,U1,a5).call(this)},a=new AbortController;n.addEventListener("error",()=>{x(this,L1)||r()},{signal:a.signal}),i.on("test",o=>{if(a.abort(),this.destroyed||!o){r();return}ie(this,Uc,i),ie(this,kh,n),ie(this,L1,n),he(this,V2,_4).call(this)}),i.on("ready",o=>{if(a.abort(),this.destroyed){r();return}try{s()}catch{he(this,U1,a5).call(this)}});const s=()=>{const o=new Uint8Array;i.send("test",o,[o.buffer])};s();return}catch{M6("The worker has been disabled.")}he(this,U1,a5).call(this)},U1=new WeakSet,a5=function(){x(Ui,F1)||(Gt("Setting up fake worker."),ie(Ui,F1,!0)),Ui._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){x(this,Up).reject(new Error("Worker was destroyed"));return}const n=new kCe;ie(this,kh,n);const i=`fake${Fr(Ui,AT)._++}`,r=new Qx(i+"_worker",i,n);e.setup(r,n),ie(this,Uc,new Qx(i,i+"_worker",n)),he(this,V2,_4).call(this)}).catch(e=>{x(this,Up).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},G2=new WeakSet,S4=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},J(Ui,G2),J(Ui,AT,0),J(Ui,F1,!1),J(Ui,O1,new WeakMap),Es&&(ie(Ui,F1,!0),od.workerSrc||(od.workerSrc="./pdf.worker.mjs")),Ui._isSameOrigin=(e,n)=>{const i=URL.parse(e);if(!(i!=null&&i.origin)||i.origin==="null")return!1;const r=new URL(n,i);return i.origin===r.origin},Ui._createCDNWrapper=e=>{const n=`await import("${e}");`;return URL.createObjectURL(new Blob([n],{type:"text/javascript"}))},Ui.fromPort=e=>{if(lCe("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Ui.create(e)};let p_=Ui;var Ch,Hu,X2,K2,Eh,M1,s5;class vEe{constructor(e,n,i,r,a,s){J(this,M1);J(this,Ch,new Map);J(this,Hu,new Map);J(this,X2,new Map);J(this,K2,new Map);J(this,Eh,null);this.messageHandler=e,this.loadingTask=n,this.commonObjs=new ute,this.fontLoader=new bCe({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.wasmFactory=a.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=s,this.setupMessageHandler()}get annotationStorage(){return Xt(this,"annotationStorage",new FU)}getRenderingIntent(e,n=lp.ENABLE,i=null,r=!1,a=!1){let s=sl.DISPLAY,o=J7;switch(e){case"any":s=sl.ANY;break;case"display":break;case"print":s=sl.PRINT;break;default:Gt(`getRenderingIntent - invalid intent: ${e}`)}const c=s&sl.PRINT&&i instanceof Xee?i:this.annotationStorage;switch(n){case lp.DISABLE:s+=sl.ANNOTATIONS_DISABLE;break;case lp.ENABLE:break;case lp.ENABLE_FORMS:s+=sl.ANNOTATIONS_FORMS;break;case lp.ENABLE_STORAGE:s+=sl.ANNOTATIONS_STORAGE,o=c.serializable;break;default:Gt(`getRenderingIntent - invalid annotationMode: ${n}`)}r&&(s+=sl.IS_EDITING),a&&(s+=sl.OPLIST);const{ids:u,hash:d}=c.modifiedIds,h=[s,o.hash,d];return{renderingIntent:s,cacheKey:h.join("_"),annotationStorageSerializable:o,modifiedIds:u}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=x(this,Eh))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of x(this,Hu).values())e.push(r._destroy());x(this,Hu).clear(),x(this,X2).clear(),x(this,K2).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return e.push(n),Promise.all(e).then(()=>{var r,a;this.commonObjs.clear(),this.fontLoader.clear(),x(this,Ch).clear(),this.filterFactory.destroy(),f_.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new Lm("Worker was terminated.")),(a=this.messageHandler)==null||a.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:n}=this;e.on("GetReader",(i,r)=>{wn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},r.onPull=()=>{this._fullReader.read().then(function({value:a,done:s}){if(s){r.close();return}wn(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{r.error(a)})},r.onCancel=a=>{this._fullReader.cancel(a),r.ready.catch(s=>{if(!this.destroyed)throw s})}}),e.on("ReaderHeadersReady",async i=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:a,contentLength:s}=this._fullReader;return(!r||!a)&&(this._lastProgress&&((o=n.onProgress)==null||o.call(n,this._lastProgress)),this._fullReader.onProgress=c=>{var u;(u=n.onProgress)==null||u.call(n,{loaded:c.loaded,total:c.total})}),{isStreamingSupported:r,isRangeSupported:a,contentLength:s}}),e.on("GetRangeReader",(i,r)=>{wn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(i.begin,i.end);if(!a){r.close();return}r.onPull=()=>{a.read().then(function({value:s,done:o}){if(o){r.close();return}wn(s instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{a.cancel(s),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,n._capability.resolve(new gEe(i,this))}),e.on("DocException",i=>{n._capability.reject(Vs(i))}),e.on("PasswordRequest",i=>{ie(this,Eh,Promise.withResolvers());try{if(!n.onPassword)throw Vs(i);const r=a=>{a instanceof Error?x(this,Eh).reject(a):x(this,Eh).resolve({password:a})};n.onPassword(r,i.code)}catch(r){x(this,Eh).reject(r)}return x(this,Eh).promise}),e.on("DataLoaded",i=>{var r;(r=n.onProgress)==null||r.call(n,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{if(this.destroyed)return;x(this,Hu).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,r,a])=>{var s;if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":if("error"in a){const f=a.error;Gt(`Error during font loading: ${f}`),this.commonObjs.resolve(i,f);break}const o=new Z7(a),c=this._params.pdfBug&&((s=globalThis.FontInspector)!=null&&s.enabled)?(f,p)=>globalThis.FontInspector.fontAdded(f,p):null,u=new wCe(o,c,a.extra,a.charProcOperatorList);this.fontLoader.bind(u).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!u.fontExtraProperties&&u.data&&u.clearData(),this.commonObjs.resolve(i,u)});break;case"CopyLocalImage":const{imageRef:d}=a;wn(d,"The imageRef must be defined.");for(const f of x(this,Hu).values())for(const[,p]of f.objs)if((p==null?void 0:p.ref)===d)return p.dataLen?(this.commonObjs.resolve(i,structuredClone(p)),p.dataLen):null;break;case"FontPath":this.commonObjs.resolve(i,new xCe(a));break;case"Image":this.commonObjs.resolve(i,a);break;case"Pattern":const h=new Q7(a);this.commonObjs.resolve(i,h.getIR());break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([i,r,a,s])=>{var c;if(this.destroyed)return;const o=x(this,Hu).get(r);if(!o.objs.has(i)){if(o._intentStates.size===0){(c=s==null?void 0:s.bitmap)==null||c.close();return}switch(a){case"Image":case"Pattern":o.objs.resolve(i,s);break;default:throw new Error(`Got unknown object type ${a}`)}}}),e.on("DocProgress",i=>{var r;this.destroyed||(r=n.onProgress)==null||r.call(n,{loaded:i.loaded,total:i.total})}),e.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[i.type];if(!r)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&Gt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:n}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((i=this._fullReader)==null?void 0:i.filename)??null},n).finally(()=>{this.annotationStorage.resetModified()})}extractPages(e){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:e})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const n=e-1,i=x(this,X2).get(n);if(i)return i;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&x(this,K2).set(a.refStr,e);const s=new yEe(n,a,this,this._params.pdfBug);return x(this,Hu).set(n,s),s});return x(this,X2).set(n,r),r}getPageIndex(e){return eF(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,n){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:n})}getFieldObjects(){return he(this,M1,s5).call(this,"GetFieldObjects")}hasJSActions(){return he(this,M1,s5).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,n){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:n})}getDocJSActions(){return he(this,M1,s5).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return he(this,M1,s5).call(this,"GetOptionalContentConfig").then(n=>new YCe(n,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",n=x(this,Ch).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,null).then(r=>{var a,s;return{info:r[0],metadata:r[1]?new XCe(r[1]):null,contentDispositionFilename:((a=this._fullReader)==null?void 0:a.filename)??null,contentLength:((s=this._fullReader)==null?void 0:s.contentLength)??null,hasStructTree:r[2]}});return x(this,Ch).set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const n of x(this,Hu).values())if(!n.cleanup())throw new Error(`startCleanup: Page ${n.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),x(this,Ch).clear(),this.filterFactory.destroy(!0),f_.cleanup()}}cachedPageNumber(e){if(!eF(e))return null;const n=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return x(this,K2).get(n)??null}}Ch=new WeakMap,Hu=new WeakMap,X2=new WeakMap,K2=new WeakMap,Eh=new WeakMap,M1=new WeakSet,s5=function(e,n=null){const i=x(this,Ch).get(e);if(i)return i;const r=this.messageHandler.sendWithPromise(e,n);return x(this,Ch).set(e,r),r};var Mp;class bEe{constructor(e){J(this,Mp,null);it(this,"onContinue",null);it(this,"onError",null);ie(this,Mp,e)}get promise(){return x(this,Mp).capability.promise}cancel(e=0){x(this,Mp).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=x(this,Mp).operatorList;if(!e)return!1;const{annotationCanvasMap:n}=x(this,Mp);return e.form||e.canvas&&(n==null?void 0:n.size)>0}}Mp=new WeakMap;var Bp,B1;const Eg=class Eg{constructor({callback:e,params:n,objs:i,commonObjs:r,annotationCanvasMap:a,operatorList:s,pageIndex:o,canvasFactory:c,filterFactory:u,useRequestAnimationFrame:d=!1,pdfBug:h=!1,pageColors:f=null,enableHWA:p=!1,operationsFilter:w=null}){J(this,Bp,null);this.callback=e,this.params=n,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=s,this._pageIndex=o,this.canvasFactory=c,this.filterFactory=u,this._pdfBug=h,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=d===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new bEe(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvas,this._canvasContext=n.canvas?null:n.canvasContext,this._enableHWA=p,this._dependencyTracker=n.dependencyTracker,this._operationsFilter=w}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:n}){var c,u;if(this.cancelled)return;if(this._canvas){if(x(Eg,B1).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");x(Eg,B1).add(this._canvas)}this._pdfBug&&((c=globalThis.StepperManager)!=null&&c.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:i,transform:r,background:a,dependencyTracker:s}=this.params,o=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new Uv(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:n},this.annotationCanvasMap,this.pageColors,s),this.gfx.beginDrawing({transform:r,viewport:i,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,(u=this.graphicsReadyCallback)==null||u.call(this)}cancel(e=null,n=0){var i,r,a;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),x(this,Bp)&&(window.cancelAnimationFrame(x(this,Bp)),ie(this,Bp,null)),x(Eg,B1).delete(this._canvas),e||(e=new RU(`Rendering cancelled, page ${this._pageIndex+1}`,n)),this.callback(e),(a=(r=this.task).onError)==null||a.call(r,e)}operatorListChanged(){var e,n;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(n=this.stepper)==null||n.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?ie(this,Bp,window.requestAnimationFrame(()=>{ie(this,Bp,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),x(Eg,B1).delete(this._canvas),this.callback())))}};Bp=new WeakMap,B1=new WeakMap,J(Eg,B1,new WeakSet);let mF=Eg;const bte="5.4.530",wEe="50cc4adac";var Go,z1,Y2,Br,cA,J2,Th,uA,zp,Mc,dA,hA,gF,fA,yF,pA,vF,Dh,xg,CT,wte,Vu,Zf;const Gs=class Gs{constructor({editor:e=null,uiManager:n=null}){J(this,hA);J(this,fA);J(this,pA);J(this,Dh);J(this,CT);J(this,Vu);J(this,Go,null);J(this,z1,null);J(this,Y2,void 0);J(this,Br,null);J(this,cA,!1);J(this,J2,!1);J(this,Th,null);J(this,uA,void 0);J(this,zp,null);J(this,Mc,null);var i,r;e?(ie(this,J2,!1),ie(this,Th,e)):ie(this,J2,!0),ie(this,Mc,(e==null?void 0:e._uiManager)||n),ie(this,uA,x(this,Mc)._eventBus),ie(this,Y2,((i=e==null?void 0:e.color)==null?void 0:i.toUpperCase())||((r=x(this,Mc))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),x(Gs,dA)||ie(Gs,dA,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Xt(this,"_keyboardManager",new qN([[["Escape","mac+Escape"],Gs.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Gs.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Gs.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Gs.prototype._moveToPrevious],[["Home","mac+Home"],Gs.prototype._moveToBeginning],[["End","mac+End"],Gs.prototype._moveToEnd]]))}renderButton(){const e=ie(this,Go,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",x(this,Th)&&(e.ariaControls=`${x(this,Th).id}_colorpicker_dropdown`);const n=x(this,Mc)._signal;e.addEventListener("click",he(this,Dh,xg).bind(this),{signal:n}),e.addEventListener("keydown",he(this,pA,vF).bind(this),{signal:n});const i=ie(this,z1,document.createElement("span"));return i.className="swatch",i.ariaHidden="true",i.style.backgroundColor=x(this,Y2),e.append(i),e}renderMainDropdown(){const e=ie(this,Br,he(this,hA,gF).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===x(this,Go)){he(this,Dh,xg).call(this,e);return}const n=e.target.getAttribute("data-color");n&&he(this,fA,yF).call(this,n,e)}_moveToNext(e){var n,i;if(!x(this,Vu,Zf)){he(this,Dh,xg).call(this,e);return}if(e.target===x(this,Go)){(n=x(this,Br).firstElementChild)==null||n.focus();return}(i=e.target.nextSibling)==null||i.focus()}_moveToPrevious(e){var n,i;if(e.target===((n=x(this,Br))==null?void 0:n.firstElementChild)||e.target===x(this,Go)){x(this,Vu,Zf)&&this._hideDropdownFromKeyboard();return}x(this,Vu,Zf)||he(this,Dh,xg).call(this,e),(i=e.target.previousSibling)==null||i.focus()}_moveToBeginning(e){var n;if(!x(this,Vu,Zf)){he(this,Dh,xg).call(this,e);return}(n=x(this,Br).firstElementChild)==null||n.focus()}_moveToEnd(e){var n;if(!x(this,Vu,Zf)){he(this,Dh,xg).call(this,e);return}(n=x(this,Br).lastElementChild)==null||n.focus()}hideDropdown(){var e,n;(e=x(this,Br))==null||e.classList.add("hidden"),x(this,Go).ariaExpanded="false",(n=x(this,zp))==null||n.abort(),ie(this,zp,null)}_hideDropdownFromKeyboard(){var e;if(!x(this,J2)){if(!x(this,Vu,Zf)){(e=x(this,Th))==null||e.unselect();return}this.hideDropdown(),x(this,Go).focus({preventScroll:!0,focusVisible:x(this,cA)})}}updateColor(e){if(x(this,z1)&&(x(this,z1).style.backgroundColor=e),!x(this,Br))return;const n=x(this,Mc).highlightColors.values();for(const i of x(this,Br).children)i.ariaSelected=n.next().value===e.toUpperCase()}destroy(){var e,n;(e=x(this,Go))==null||e.remove(),ie(this,Go,null),ie(this,z1,null),(n=x(this,Br))==null||n.remove(),ie(this,Br,null)}};Go=new WeakMap,z1=new WeakMap,Y2=new WeakMap,Br=new WeakMap,cA=new WeakMap,J2=new WeakMap,Th=new WeakMap,uA=new WeakMap,zp=new WeakMap,Mc=new WeakMap,dA=new WeakMap,hA=new WeakSet,gF=function(){const e=document.createElement("div"),n=x(this,Mc)._signal;e.addEventListener("contextmenu",fc,{signal:n}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),x(this,Th)&&(e.id=`${x(this,Th).id}_colorpicker_dropdown`);for(const[i,r]of x(this,Mc).highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",r),a.title=i,a.setAttribute("data-l10n-id",x(Gs,dA)[i]);const s=document.createElement("span");a.append(s),s.className="swatch",s.style.backgroundColor=r,a.ariaSelected=r===x(this,Y2),a.addEventListener("click",he(this,fA,yF).bind(this,r),{signal:n}),e.append(a)}return e.addEventListener("keydown",he(this,pA,vF).bind(this),{signal:n}),e},fA=new WeakSet,yF=function(e,n){n.stopPropagation(),x(this,uA).dispatch("switchannotationeditorparams",{source:this,type:bn.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},pA=new WeakSet,vF=function(e){Gs._keyboardManager.exec(this,e)},Dh=new WeakSet,xg=function(e){if(x(this,Vu,Zf)){this.hideDropdown();return}if(ie(this,cA,e.detail===0),x(this,zp)||(ie(this,zp,new AbortController),window.addEventListener("pointerdown",he(this,CT,wte).bind(this),{signal:x(this,Mc).combinedSignal(x(this,zp))})),x(this,Go).ariaExpanded="true",x(this,Br)){x(this,Br).classList.remove("hidden");return}const n=ie(this,Br,he(this,hA,gF).call(this));x(this,Go).append(n)},CT=new WeakSet,wte=function(e){var n;(n=x(this,Br))!=null&&n.contains(e.target)||this.hideDropdown()},Vu=new WeakSet,Zf=function(){return x(this,Br)&&!x(this,Br).classList.contains("hidden")},J(Gs,dA,null);let oE=Gs;var Gu,mA,Z2,gA;const Tg=class Tg{constructor(e){J(this,Gu,null);J(this,mA,null);J(this,Z2,null);ie(this,mA,e),ie(this,Z2,e._uiManager),x(Tg,gA)||ie(Tg,gA,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(x(this,Gu))return x(this,Gu);const{editorType:e,colorType:n,color:i}=x(this,mA),r=ie(this,Gu,document.createElement("input"));return r.type="color",r.value=i||"#000000",r.className="basicColorPicker",r.tabIndex=0,r.setAttribute("data-l10n-id",x(Tg,gA)[e]),r.addEventListener("input",()=>{x(this,Z2).updateParams(n,r.value)},{signal:x(this,Z2)._signal}),r}update(e){x(this,Gu)&&(x(this,Gu).value=e)}destroy(){var e;(e=x(this,Gu))==null||e.remove(),ie(this,Gu,null)}hideDropdown(){}};Gu=new WeakMap,mA=new WeakMap,Z2=new WeakMap,gA=new WeakMap,J(Tg,gA,null);let lE=Tg;function Oq(t){return Math.floor(Math.max(0,Math.min(1,t))*255).toString(16).padStart(2,"0")}function Nx(t){return Math.max(0,Math.min(255,255*t))}class Uq{static CMYK_G([e,n,i,r]){return["G",1-Math.min(1,.3*e+.59*i+.11*n+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Nx(e),[e,e,e]}static G_HTML([e]){const n=Oq(e);return`#${n}${n}${n}`}static RGB_G([e,n,i]){return["G",.3*e+.59*n+.11*i]}static RGB_rgb(e){return e.map(Nx)}static RGB_HTML(e){return`#${e.map(Oq).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,n,i,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,i+r),1-Math.min(1,n+r)]}static CMYK_rgb([e,n,i,r]){return[Nx(1-Math.min(1,e+r)),Nx(1-Math.min(1,i+r)),Nx(1-Math.min(1,n+r))]}static CMYK_HTML(e){const n=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(n)}static RGB_CMYK([e,n,i]){const r=1-e,a=1-n,s=1-i,o=Math.min(r,a,s);return["CMYK",r,a,s,o]}}class xEe{create(e,n,i=!1){if(e<=0||n<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${n}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${n}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){hi("Abstract method `_createSVG` called.")}}class cE extends xEe{_createSVG(e){return document.createElementNS(Zd,e)}}const _Ee=9,q0=new WeakSet,SEe=new Date().getTimezoneOffset()*60*1e3;class lI{static create(e){switch(e.data.annotationType){case _r.LINK:return new MU(e);case _r.TEXT:return new NEe(e);case _r.WIDGET:switch(e.data.fieldType){case"Tx":return new kEe(e);case"Btn":return e.data.radioButton?new Ste(e):e.data.checkBox?new EEe(e):new TEe(e);case"Ch":return new DEe(e);case"Sig":return new CEe(e)}return new ry(e);case _r.POPUP:return new wF(e);case _r.FREETEXT:return new Ete(e);case _r.LINE:return new IEe(e);case _r.SQUARE:return new REe(e);case _r.CIRCLE:return new LEe(e);case _r.POLYLINE:return new Tte(e);case _r.CARET:return new OEe(e);case _r.INK:return new BU(e);case _r.POLYGON:return new FEe(e);case _r.HIGHLIGHT:return new Dte(e);case _r.UNDERLINE:return new UEe(e);case _r.SQUIGGLY:return new MEe(e);case _r.STRIKEOUT:return new BEe(e);case _r.STAMP:return new Pte(e);case _r.FILEATTACHMENT:return new zEe(e);default:return new Hi(e)}}}var j1,Q2,Xl,yA,bF;const SB=class SB{constructor(e,{isRenderable:n=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){J(this,yA);J(this,j1,null);J(this,Q2,!1);J(this,Xl,null);this.isRenderable=n,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,n&&(this.contentElement=this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:n}){return!!(e!=null&&e.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return SB._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var i;const{data:e}=this,n=(i=this.annotationStorage)==null?void 0:i.getEditor(e.id);return n?n.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var o;const e=(o=this.annotationStorage)==null?void 0:o.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:n,inkLists:i,rect:r}=this.data;let a=-1/0,s=-1/0;if((n==null?void 0:n.length)>=8){for(let c=0;c<n.length;c+=8)n[c+1]>s?(s=n[c+1],a=n[c+2]):n[c+1]===s&&(a=Math.max(a,n[c+2]));return[a,s]}if((i==null?void 0:i.length)>=1){for(const c of i)for(let u=0,d=c.length;u<d;u+=2)c[u+1]>s?(s=c[u+1],a=c[u]):c[u+1]===s&&(a=Math.max(a,c[u]));if(a!==1/0)return[a,s]}return r?[r[2],r[3]]:null}_normalizePoint(e){const{page:{view:n},viewport:{rawDims:{pageWidth:i,pageHeight:r,pageX:a,pageY:s}}}=this.parent;return e[1]=n[3]-e[1]+n[1],e[0]=100*(e[0]-a)/i,e[1]=100*(e[1]-s)/r,e}get commentText(){var n,i,r;const{data:e}=this;return((i=(n=this.annotationStorage.getRawValue(`${u_}${e.id}`))==null?void 0:n.popup)==null?void 0:i.contents)||((r=e.contentsObj)==null?void 0:r.str)||""}set commentText(e){const{data:n}=this,i={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(n.id,{popup:i})||this.annotationStorage.setValue(`${u_}${n.id}`,{id:n.id,annotationType:n.annotationType,pageIndex:this.parent.page._pageIndex,popup:i,popupRef:n.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,n;(n=((e=x(this,Xl))==null?void 0:e.popup)||this.popup)==null||n.remove(),ie(this,Xl,this.popup=null)}updateEdited(e){var a;if(!this.container)return;e.rect&&(x(this,j1)||ie(this,j1,{rect:this.data.rect.slice(0)}));const{rect:n,popup:i}=e;n&&he(this,yA,bF).call(this,n);let r=((a=x(this,Xl))==null?void 0:a.popup)||this.popup;!r&&(i!=null&&i.text)&&(this._createPopup(i),r=x(this,Xl).popup),r&&(r.updateEdited(e),i!=null&&i.deleted&&(r.remove(),ie(this,Xl,null),this.popup=null))}resetEdited(){var e;x(this,j1)&&(he(this,yA,bF).call(this,x(this,j1).rect),(e=x(this,Xl))==null||e.popup.resetEdited(),ie(this,j1,null))}_createContainer(e){const{data:n,parent:{page:i,viewport:r}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",n.id),!(this instanceof ry)&&!(this instanceof MU)&&(a.tabIndex=0);const{style:s}=a;if(s.zIndex=this.parent.zIndex,this.parent.zIndex+=2,n.alternativeText&&(a.title=n.alternativeText),n.noRotate&&a.classList.add("norotate"),!n.rect||this instanceof wF){const{rotation:v}=n;return!n.hasOwnCanvas&&v!==0&&this.setRotation(v,a),a}const{width:o,height:c}=this;if(!e&&n.borderStyle.width>0){s.borderWidth=`${n.borderStyle.width}px`;const v=n.borderStyle.horizontalCornerRadius,b=n.borderStyle.verticalCornerRadius;if(v>0||b>0){const y=`calc(${v}px * var(--total-scale-factor)) / calc(${b}px * var(--total-scale-factor))`;s.borderRadius=y}else if(this instanceof Ste){const y=`calc(${o}px * var(--total-scale-factor)) / calc(${c}px * var(--total-scale-factor))`;s.borderRadius=y}switch(n.borderStyle.style){case Hy.SOLID:s.borderStyle="solid";break;case Hy.DASHED:s.borderStyle="dashed";break;case Hy.BEVELED:Gt("Unimplemented border style: beveled");break;case Hy.INSET:Gt("Unimplemented border style: inset");break;case Hy.UNDERLINE:s.borderBottomStyle="solid";break}const g=n.borderColor||null;g?(ie(this,Q2,!0),s.borderColor=_t.makeHexColor(g[0]|0,g[1]|0,g[2]|0)):s.borderWidth=0}const u=_t.normalizeRect([n.rect[0],i.view[3]-n.rect[1]+i.view[1],n.rect[2],i.view[3]-n.rect[3]+i.view[1]]),{pageWidth:d,pageHeight:h,pageX:f,pageY:p}=r.rawDims;s.left=`${100*(u[0]-f)/d}%`,s.top=`${100*(u[1]-p)/h}%`;const{rotation:w}=n;return n.hasOwnCanvas||w===0?(s.width=`${100*o/d}%`,s.height=`${100*c/h}%`):this.setRotation(w,a),a}setRotation(e,n=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims;let{width:a,height:s}=this;e%180!==0&&([a,s]=[s,a]),n.style.width=`${100*a/i}%`,n.style.height=`${100*s/r}%`,n.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(n,i,r)=>{const a=r.detail[n],s=a[0],o=a.slice(1);r.target.style[i]=Uq[`${s}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[i]:Uq[`${s}_rgb`](o)})};return Xt(this,"_commonActions",{display:n=>{const{display:i}=n.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:n=>{this.annotationStorage.setValue(this.data.id,{noPrint:!n.detail.print})},hidden:n=>{const{hidden:i}=n.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:n=>{setTimeout(()=>n.target.focus({preventScroll:!1}),0)},userName:n=>{n.target.title=n.detail.userName},readonly:n=>{n.target.disabled=n.detail.readonly},required:n=>{this._setRequired(n.target,n.detail.required)},bgColor:n=>{e("bgColor","backgroundColor",n)},fillColor:n=>{e("fillColor","backgroundColor",n)},fgColor:n=>{e("fgColor","color",n)},textColor:n=>{e("textColor","color",n)},borderColor:n=>{e("borderColor","borderColor",n)},strokeColor:n=>{e("strokeColor","borderColor",n)},rotation:n=>{const i=n.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(e,n){const i=this._commonActions;for(const r of Object.keys(n.detail)){const a=e[r]||i[r];a==null||a(n)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const n=this.annotationStorage.getRawValue(this.data.id);if(!n)return;const i=this._commonActions;for(const[r,a]of Object.entries(n)){const s=i[r];if(s){const o={detail:{[r]:a},target:e};s(o),delete n[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[n,i,r,a]=this.data.rect.map(v=>Math.fround(v));if(e.length===8){const[v,b,g,y]=e.subarray(2,6);if(r===v&&a===b&&n===g&&i===y)return}const{style:s}=this.container;let o;if(x(this,Q2)){const{borderColor:v,borderWidth:b}=s;s.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${v}" stroke-width="${b}">`],this.container.classList.add("hasBorder")}const c=r-n,u=a-i,{svgFactory:d}=this,h=d.createElement("svg");h.classList.add("quadrilateralsContainer"),h.setAttribute("width",0),h.setAttribute("height",0),h.role="none";const f=d.createElement("defs");h.append(f);const p=d.createElement("clipPath"),w=`clippath_${this.data.id}`;p.setAttribute("id",w),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let v=2,b=e.length;v<b;v+=8){const g=e[v],y=e[v+1],_=e[v+2],S=e[v+3],N=d.createElement("rect"),R=(_-n)/c,D=(a-y)/u,E=(g-_)/c,C=(y-S)/u;N.setAttribute("x",R),N.setAttribute("y",D),N.setAttribute("width",E),N.setAttribute("height",C),p.append(N),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${R}" y="${D}" width="${E}" height="${C}"/>`)}x(this,Q2)&&(o.push("</g></svg>')"),s.backgroundImage=o.join("")),this.container.append(h),this.container.style.clipPath=`url(#${w})`}_createPopup(e=null){const{data:n}=this;let i,r;e?(i={str:e.text},r=e.date):(i=n.contentsObj,r=n.modificationDate),ie(this,Xl,new wF({data:{color:n.color,titleObj:n.titleObj,modificationDate:r,contentsObj:i,richText:n.richText,parentRect:n.rect,borderStyle:0,id:`popup_${n.id}`,rotation:n.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}))}get hasPopupElement(){return!!(x(this,Xl)||this.popup||this.data.popupRef)}get extraPopupElement(){return x(this,Xl)}render(){hi("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,n=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:a,id:s,exportValues:o}of r){if(a===-1||s===n)continue;const c=typeof o=="string"?o:null,u=document.querySelector(`[data-element-id="${s}"]`);if(u&&!q0.has(u)){Gt(`_getElementsByName - element not allowed: ${s}`);continue}i.push({id:s,exportValue:c,domElement:u})}return i}for(const r of document.getElementsByName(e)){const{exportValue:a}=r,s=r.getAttribute("data-element-id");s!==n&&q0.has(r)&&i.push({id:s,exportValue:a,domElement:r})}return i}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const n of e)n.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:n}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:e,editId:n,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};j1=new WeakMap,Q2=new WeakMap,Xl=new WeakMap,yA=new WeakSet,bF=function(e){const{container:{style:n},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:s,pageX:o,pageY:c}}}}=this;i==null||i.splice(0,4,...e),n.left=`${100*(e[0]-o)/a}%`,n.top=`${100*(s-e[3]+c)/s}%`,r===0?(n.width=`${100*(e[2]-e[0])/a}%`,n.height=`${100*(e[3]-e[1])/s}%`):this.setRotation(r)};let Hi=SB;class AEe extends Hi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}var Ph,_g,ET,xte,TT,_te;class MU extends Hi{constructor(n,i=null){super(n,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});J(this,Ph);J(this,ET);J(this,TT);this.isTooltipOnly=n.data.isTooltipOnly}render(){const{data:n,linkService:i}=this,r=document.createElement("a");r.setAttribute("data-element-id",n.id);let a=!1;return n.url?(i.addLinkAttributes(r,n.url,n.newWindow),a=!0):n.action?(this._bindNamedAction(r,n.action,n.overlaidText),a=!0):n.attachment?(he(this,ET,xte).call(this,r,n.attachment,n.overlaidText,n.attachmentDest),a=!0):n.setOCGState?(he(this,TT,_te).call(this,r,n.setOCGState,n.overlaidText),a=!0):n.dest?(this._bindLink(r,n.dest,n.overlaidText),a=!0):(n.actions&&(n.actions.Action||n.actions["Mouse Up"]||n.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,n),a=!0),n.resetForm?(this._bindResetFormAction(r,n.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(r,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&(this.contentElement=r,this.container.append(r)),this.container}_bindLink(n,i,r=""){n.href=this.linkService.getDestinationHash(i),n.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&he(this,Ph,_g).call(this),r&&(n.title=r)}_bindNamedAction(n,i,r=""){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeNamedAction(i),!1),r&&(n.title=r),he(this,Ph,_g).call(this)}_bindJSAction(n,i){n.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(i.actions)){const s=r.get(a);s&&(n[s]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:a}}),!1})}i.overlaidText&&(n.title=i.overlaidText),n.onclick||(n.onclick=()=>!1),he(this,Ph,_g).call(this)}_bindResetFormAction(n,i){const r=n.onclick;if(r||(n.href=this.linkService.getAnchorUrl("")),he(this,Ph,_g).call(this),!this._fieldObjects){Gt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(n.onclick=()=>!1);return}n.onclick=()=>{var h;r==null||r();const{fields:a,refs:s,include:o}=i,c=[];if(a.length!==0||s.length!==0){const f=new Set(s);for(const p of a){const w=this._fieldObjects[p]||[];for(const{id:v}of w)f.add(v)}for(const p of Object.values(this._fieldObjects))for(const w of p)f.has(w.id)===o&&c.push(w)}else for(const f of Object.values(this._fieldObjects))c.push(...f);const u=this.annotationStorage,d=[];for(const f of c){const{id:p}=f;switch(d.push(p),f.type){case"text":{const v=f.defaultValue||"";u.setValue(p,{value:v});break}case"checkbox":case"radiobutton":{const v=f.defaultValue===f.exportValues;u.setValue(p,{value:v});break}case"combobox":case"listbox":{const v=f.defaultValue||"";u.setValue(p,{value:v});break}default:continue}const w=document.querySelector(`[data-element-id="${p}"]`);if(w){if(!q0.has(w)){Gt(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;w.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((h=this.linkService.eventBus)==null||h.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:d,name:"ResetForm"}})),!1}}}Ph=new WeakSet,_g=function(){this.container.setAttribute("data-internal-link","")},ET=new WeakSet,xte=function(n,i,r="",a=null){n.href=this.linkService.getAnchorUrl(""),i.description?n.title=i.description:r&&(n.title=r),n.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(i.content,i.filename,a),!1},he(this,Ph,_g).call(this)},TT=new WeakSet,_te=function(n,i,r=""){n.href=this.linkService.getAnchorUrl(""),n.onclick=()=>(this.linkService.executeSetOCGState(i),!1),r&&(n.title=r),he(this,Ph,_g).call(this)};class NEe extends Hi{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class ry extends Hi{render(){return this.container}showElementAndHideCanvas(e){var n;this.data.hasOwnCanvas&&(((n=e.previousSibling)==null?void 0:n.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Wr.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,n,i,r,a){i.includes("mouse")?e.addEventListener(i,s=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:a(s),shift:s.shiftKey,modifier:this._getKeyModifier(s)}})}):e.addEventListener(i,s=>{var o;if(i==="blur"){if(!n.focused||!s.relatedTarget)return;n.focused=!1}else if(i==="focus"){if(n.focused)return;n.focused=!0}a&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:a(s)}}))})}_setEventListeners(e,n,i,r){var a,s,o;for(const[c,u]of i)(u==="Action"||(a=this.data.actions)!=null&&a[u])&&((u==="Focus"||u==="Blur")&&(n||(n={focused:!1})),this._setEventListener(e,n,c,u,r),u==="Focus"&&!((s=this.data.actions)!=null&&s.Blur)?this._setEventListener(e,n,"blur","Blur",null):u==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,n,"focus","Focus",null))}_setBackgroundColor(e){const n=this.data.backgroundColor||null;e.style.backgroundColor=n===null?"transparent":_t.makeHexColor(n[0],n[1],n[2])}_setTextStyle(e){const n=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||_Ee,a=e.style;let s;const o=2,c=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o),d=Math.round(u/(eI*r))||1,h=u/d;s=Math.min(r,c(h/eI))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o);s=Math.min(r,c(u/eI))}a.fontSize=`calc(${s}px * var(--total-scale-factor))`,a.color=_t.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(a.textAlign=n[this.data.textAlignment])}_setRequired(e,n){n?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",n)}}class kEe extends ry{constructor(e){const n=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:n})}setPropertyOnSiblings(e,n,i,r){const a=this.annotationStorage;for(const s of this._getElementsByName(e.name,e.id))s.domElement&&(s.domElement[n]=i),a.setValue(s.id,{[r]:i})}render(){var r,a;const e=this.annotationStorage,n=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const s=e.getValue(n,{value:this.data.fieldValue});let o=s.value||"";const c=e.getValue(n,{charLimit:this.data.maxLen}).charLimit;c&&o.length>c&&(o=o.slice(0,c));let u=s.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const d={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=u??o,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",u??o),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),q0.add(i),this.contentElement=i,i.setAttribute("data-element-id",n),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=0;const{datetimeFormat:h,datetimeType:f,timeStep:p}=this.data,w=!!f&&this.enableScripting;h&&(i.title=h),this._setRequired(i,this.data.required),c&&(i.maxLength=c),i.addEventListener("input",b=>{e.setValue(n,{value:b.target.value}),this.setPropertyOnSiblings(i,"value",b.target.value,"value"),d.formattedValue=null}),i.addEventListener("resetform",b=>{const g=this.data.defaultFieldValue??"";i.value=d.userValue=g,d.formattedValue=null});let v=b=>{const{formattedValue:g}=d;g!=null&&(b.target.value=g),b.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",g=>{var _;if(d.focused)return;const{target:y}=g;if(w&&(y.type=f,p&&(y.step=p)),d.userValue){const S=d.userValue;if(w)if(f==="time"){const N=new Date(S),R=[N.getHours(),N.getMinutes(),N.getSeconds()];y.value=R.map(D=>D.toString().padStart(2,"0")).join(":")}else y.value=new Date(S-SEe).toISOString().split(f==="date"?"T":".",1)[0];else y.value=S}d.lastCommittedValue=y.value,d.commitKey=1,(_=this.data.actions)!=null&&_.Focus||(d.focused=!0)}),i.addEventListener("updatefromsandbox",g=>{this.showElementAndHideCanvas(g.target);const y={value(_){d.userValue=_.detail.value??"",w||e.setValue(n,{value:d.userValue.toString()}),_.target.value=d.userValue},formattedValue(_){const{formattedValue:S}=_.detail;d.formattedValue=S,S!=null&&_.target!==document.activeElement&&(_.target.value=S);const N={formattedValue:S};w&&(N.value=S),e.setValue(n,N)},selRange(_){_.target.setSelectionRange(..._.detail.selRange)},charLimit:_=>{var D;const{charLimit:S}=_.detail,{target:N}=_;if(S===0){N.removeAttribute("maxLength");return}N.setAttribute("maxLength",S);let R=d.userValue;!R||R.length<=S||(R=R.slice(0,S),N.value=d.userValue=R,e.setValue(n,{value:R}),(D=this.linkService.eventBus)==null||D.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:R,willCommit:!0,commitKey:1,selStart:N.selectionStart,selEnd:N.selectionEnd}}))}};this._dispatchEventFromSandbox(y,g)}),i.addEventListener("keydown",g=>{var S;d.commitKey=1;let y=-1;if(g.key==="Escape"?y=0:g.key==="Enter"&&!this.data.multiLine?y=2:g.key==="Tab"&&(d.commitKey=3),y===-1)return;const{value:_}=g.target;d.lastCommittedValue!==_&&(d.lastCommittedValue=_,d.userValue=_,(S=this.linkService.eventBus)==null||S.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:_,willCommit:!0,commitKey:y,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}}))});const b=v;v=null,i.addEventListener("blur",g=>{var S,N;if(!d.focused||!g.relatedTarget)return;(S=this.data.actions)!=null&&S.Blur||(d.focused=!1);const{target:y}=g;let{value:_}=y;if(w){if(_&&f==="time"){const R=_.split(":").map(D=>parseInt(D,10));_=new Date(2e3,0,1,R[0],R[1],R[2]||0).valueOf(),y.step=""}else _.includes("T")||(_=`${_}T00:00`),_=new Date(_).valueOf();y.type="text"}d.userValue=_,d.lastCommittedValue!==_&&((N=this.linkService.eventBus)==null||N.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:_,willCommit:!0,commitKey:d.commitKey,selStart:g.target.selectionStart,selEnd:g.target.selectionEnd}})),b(g)}),(a=this.data.actions)!=null&&a.Keystroke&&i.addEventListener("beforeinput",g=>{var C;d.lastCommittedValue=null;const{data:y,target:_}=g,{value:S,selectionStart:N,selectionEnd:R}=_;let D=N,E=R;switch(g.inputType){case"deleteWordBackward":{const P=S.substring(0,N).match(/\w*[^\w]*$/);P&&(D-=P[0].length);break}case"deleteWordForward":{const P=S.substring(N).match(/^[^\w]*\w*/);P&&(E+=P[0].length);break}case"deleteContentBackward":N===R&&(D-=1);break;case"deleteContentForward":N===R&&(E+=1);break}g.preventDefault(),(C=this.linkService.eventBus)==null||C.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:S,change:y||"",willCommit:!1,selStart:D,selEnd:E}})}),this._setEventListeners(i,d,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],g=>g.target.value)}if(v&&i.addEventListener("blur",v),this.data.comb){const g=(this.data.rect[2]-this.data.rect[0])/c;i.classList.add("comb"),i.style.letterSpacing=`calc(${g}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class CEe extends ry{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class EEe extends ry{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,n=this.data,i=n.id;let r=e.getValue(i,{value:n.exportValue===n.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return q0.add(a),a.setAttribute("data-element-id",i),a.disabled=n.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=n.fieldName,r&&a.setAttribute("checked",!0),a.setAttribute("exportValue",n.exportValue),a.tabIndex=0,a.addEventListener("change",s=>{const{name:o,checked:c}=s.target;for(const u of this._getElementsByName(o,i)){const d=c&&u.exportValue===n.exportValue;u.domElement&&(u.domElement.checked=d),e.setValue(u.id,{value:d})}e.setValue(i,{value:c})}),a.addEventListener("resetform",s=>{const o=n.defaultFieldValue||"Off";s.target.checked=o===n.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",s=>{const o={value(c){c.target.checked=c.detail.value!=="Off",e.setValue(i,{value:c.target.checked})}};this._dispatchEventFromSandbox(o,s)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],s=>s.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class Ste extends ry{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,n=this.data,i=n.id;let r=e.getValue(i,{value:n.fieldValue===n.buttonValue}).value;if(typeof r=="string"&&(r=r!==n.buttonValue,e.setValue(i,{value:r})),r)for(const s of this._getElementsByName(n.fieldName,i))e.setValue(s.id,{value:!1});const a=document.createElement("input");if(q0.add(a),a.setAttribute("data-element-id",i),a.disabled=n.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=n.fieldName,r&&a.setAttribute("checked",!0),a.tabIndex=0,a.addEventListener("change",s=>{const{name:o,checked:c}=s.target;for(const u of this._getElementsByName(o,i))e.setValue(u.id,{value:!1});e.setValue(i,{value:c})}),a.addEventListener("resetform",s=>{const o=n.defaultFieldValue;s.target.checked=o!=null&&o===n.buttonValue}),this.enableScripting&&this.hasJSActions){const s=n.buttonValue;a.addEventListener("updatefromsandbox",o=>{const c={value:u=>{const d=s===u.detail.value;for(const h of this._getElementsByName(u.target.name)){const f=d&&h.id===i;h.domElement&&(h.domElement.checked=f),e.setValue(h.id,{value:f})}}};this._dispatchEventFromSandbox(c,o)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class TEe extends MU{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const n=e.lastChild;return this.enableScripting&&this.hasJSActions&&n&&(this._setDefaultPropertiesFromJS(n),n.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),e}}class DEe extends ry{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,n=this.data.id,i=e.getValue(n,{value:this.data.fieldValue}),r=document.createElement("select");q0.add(r),r.setAttribute("data-element-id",n),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",d=>{const h=this.data.defaultFieldValue;for(const f of r.options)f.selected=f.value===h});for(const d of this.data.options){const h=document.createElement("option");h.textContent=d.displayValue,h.value=d.exportValue,i.value.includes(d.exportValue)&&(h.setAttribute("selected",!0),a=!1),r.append(h)}let s=null;if(a){const d=document.createElement("option");d.value=" ",d.setAttribute("hidden",!0),d.setAttribute("selected",!0),r.prepend(d),s=()=>{d.remove(),r.removeEventListener("input",s),s=null},r.addEventListener("input",s)}const o=d=>{const h=d?"value":"textContent",{options:f,multiple:p}=r;return p?Array.prototype.filter.call(f,w=>w.selected).map(w=>w[h]):f.selectedIndex===-1?null:f[f.selectedIndex][h]};let c=o(!1);const u=d=>{const h=d.target.options;return Array.prototype.map.call(h,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",d=>{const h={value(f){s==null||s();const p=f.detail.value,w=new Set(Array.isArray(p)?p:[p]);for(const v of r.options)v.selected=w.has(v.value);e.setValue(n,{value:o(!0)}),c=o(!1)},multipleSelection(f){r.multiple=!0},remove(f){const p=r.options,w=f.detail.remove;p[w].selected=!1,r.remove(w),p.length>0&&Array.prototype.findIndex.call(p,b=>b.selected)===-1&&(p[0].selected=!0),e.setValue(n,{value:o(!0),items:u(f)}),c=o(!1)},clear(f){for(;r.length!==0;)r.remove(0);e.setValue(n,{value:null,items:[]}),c=o(!1)},insert(f){const{index:p,displayValue:w,exportValue:v}=f.detail.insert,b=r.children[p],g=document.createElement("option");g.textContent=w,g.value=v,b?b.before(g):r.append(g),e.setValue(n,{value:o(!0),items:u(f)}),c=o(!1)},items(f){const{items:p}=f.detail;for(;r.length!==0;)r.remove(0);for(const w of p){const{displayValue:v,exportValue:b}=w,g=document.createElement("option");g.textContent=v,g.value=b,r.append(g)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(n,{value:o(!0),items:u(f)}),c=o(!1)},indices(f){const p=new Set(f.detail.indices);for(const w of f.target.options)w.selected=p.has(w.index);e.setValue(n,{value:o(!0)}),c=o(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(h,d)}),r.addEventListener("input",d=>{var p;const h=o(!0),f=o(!1);e.setValue(n,{value:h}),d.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n,name:"Keystroke",value:c,change:f,changeEx:h,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],d=>d.target.value)):r.addEventListener("input",function(d){e.setValue(n,{value:o(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}var vA,xF;class wF extends Hi{constructor(n){const{data:i,elements:r,parent:a}=n,s=!!a._commentManager;super(n,{isRenderable:!s&&Hi._hasPopupData(i)});J(this,vA);if(this.elements=r,s&&Hi._hasPopupData(i)){const o=this.popup=he(this,vA,xF).call(this);for(const c of r)c.popup=o}else this.popup=null}render(){const{container:n}=this;n.classList.add("popupAnnotation"),n.role="comment";const i=this.popup=he(this,vA,xF).call(this),r=[];for(const a of this.elements)a.popup=i,a.container.ariaHasPopup="dialog",r.push(a.data.id),a.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(a=>`${fv}${a}`).join(",")),this.container}}vA=new WeakSet,xF=function(){return new PEe({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var Xo,jp,DT,PT,eb,tb,er,Xu,$p,$1,nb,ib,Ku,Ko,Ih,Rh,tr,Lh,Wp,bA,Fh,rb,W1,qp,Qr,Hp,ab,A4,wA,_F,xA,SF,_A,AF,sb,N4,SA,NF,IT,Ate,RT,Nte,LT,kte,FT,Cte,ob,k4,lb,C4,AA,kF;class PEe{constructor({container:e,color:n,elements:i,titleObj:r,modificationDate:a,contentsObj:s,richText:o,parent:c,rect:u,parentRect:d,open:h,commentManager:f=null}){J(this,ab);J(this,wA);J(this,xA);J(this,_A);J(this,sb);J(this,SA);J(this,IT);J(this,RT);J(this,LT);J(this,FT);J(this,ob);J(this,lb);J(this,AA);J(this,Xo,null);J(this,jp,he(this,LT,kte).bind(this));J(this,DT,he(this,AA,kF).bind(this));J(this,PT,he(this,lb,C4).bind(this));J(this,eb,he(this,ob,k4).bind(this));J(this,tb,null);J(this,er,null);J(this,Xu,null);J(this,$p,null);J(this,$1,null);J(this,nb,null);J(this,ib,null);J(this,Ku,!1);J(this,Ko,null);J(this,Ih,null);J(this,Rh,null);J(this,tr,null);J(this,Lh,null);J(this,Wp,null);J(this,bA,null);J(this,Fh,null);J(this,rb,null);J(this,W1,null);J(this,qp,!1);J(this,Qr,null);J(this,Hp,null);ie(this,er,e),ie(this,rb,r),ie(this,Xu,s),ie(this,Fh,o),ie(this,nb,c),ie(this,tb,n),ie(this,bA,u),ie(this,ib,d),ie(this,$1,i),ie(this,Xo,f),ie(this,Qr,i[0]),ie(this,$p,tE.toDateObject(a)),this.trigger=i.flatMap(p=>p.getElementsToTriggerPopup()),f||(he(this,ab,A4).call(this),x(this,er).hidden=!0,h&&he(this,ob,k4).call(this))}renderCommentButton(){if(x(this,tr)){x(this,tr).parentNode||x(this,Qr).container.after(x(this,tr));return}if(x(this,Lh)||he(this,wA,_F).call(this),!x(this,Lh))return;const{signal:e}=ie(this,Ih,new AbortController),n=x(this,Qr).hasOwnCommentButton,i=()=>{x(this,Xo).toggleCommentPopup(this,!0,void 0,!n)},r=()=>{x(this,Xo).toggleCommentPopup(this,!1,!0,!n)},a=()=>{x(this,Xo).toggleCommentPopup(this,!1,!1)};if(n){ie(this,tr,x(this,Qr).container);for(const s of this.trigger)s.ariaHasPopup="dialog",s.ariaControls="commentPopup",s.addEventListener("keydown",x(this,jp),{signal:e}),s.addEventListener("click",i,{signal:e}),s.addEventListener("pointerenter",r,{signal:e}),s.addEventListener("pointerleave",a,{signal:e}),s.classList.add("popupTriggerArea")}else{const s=ie(this,tr,document.createElement("button"));s.className="annotationCommentButton";const o=x(this,Qr).container;s.style.zIndex=o.style.zIndex+1,s.tabIndex=0,s.ariaHasPopup="dialog",s.ariaControls="commentPopup",s.setAttribute("data-l10n-id","pdfjs-show-comment-button"),he(this,_A,AF).call(this),he(this,xA,SF).call(this),s.addEventListener("keydown",x(this,jp),{signal:e}),s.addEventListener("click",i,{signal:e}),s.addEventListener("pointerenter",r,{signal:e}),s.addEventListener("pointerleave",a,{signal:e}),o.after(s)}}get commentButtonColor(){const{color:e,opacity:n}=x(this,Qr).commentData;return e?x(this,nb)._commentManager.makeCommentColor(e,n):null}focusCommentButton(){setTimeout(()=>{var e;(e=x(this,tr))==null||e.focus()},0)}getData(){const{richText:e,color:n,opacity:i,creationDate:r,modificationDate:a}=x(this,Qr).commentData;return{contentsObj:{str:this.comment},richText:e,color:n,opacity:i,creationDate:r,modificationDate:a}}get elementBeforePopup(){return x(this,tr)}get comment(){return x(this,Hp)||ie(this,Hp,x(this,Qr).commentText),x(this,Hp)}set comment(e){e!==this.comment&&(x(this,Qr).commentText=ie(this,Hp,e))}focus(){var e;(e=x(this,Qr).container)==null||e.focus()}get parentBoundingClientRect(){return x(this,Qr).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:n}){x(this,tr)&&(x(this,tr).classList.toggle("selected",e),x(this,tr).ariaExpanded=n)}setSelectedCommentButton(e){x(this,tr).classList.toggle("selected",e)}get commentPopupPosition(){if(x(this,Wp))return x(this,Wp);const{x:e,y:n,height:i}=x(this,tr).getBoundingClientRect(),{x:r,y:a,width:s,height:o}=x(this,Qr).layer.getBoundingClientRect();return[(e-r)/s,(n+i-a)/o]}set commentPopupPosition(e){ie(this,Wp,e)}hasDefaultPopupPosition(){return x(this,Wp)===null}get commentButtonPosition(){return x(this,Lh)}get commentButtonWidth(){return x(this,tr).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[n,i]=x(this,Wp)||this.commentButtonPosition.map(u=>u/100),r=this.parentBoundingClientRect,{x:a,y:s,width:o,height:c}=r;x(this,Xo).showDialog(null,this,a+n*o,s+i*c,{...e,parentDimensions:r})}render(){var i,r;if(x(this,Ko))return;const e=ie(this,Ko,document.createElement("div"));if(e.className="popup",x(this,tb)){const a=e.style.outlineColor=_t.makeHexColor(...x(this,tb));e.style.backgroundColor=`color-mix(in srgb, ${a} 30%, white)`}const n=document.createElement("span");if(n.className="header",(i=x(this,rb))!=null&&i.str){const a=document.createElement("span");a.className="title",n.append(a),{dir:a.dir,str:a.textContent}=x(this,rb)}if(e.append(n),x(this,$p)){const a=document.createElement("time");a.className="popupDate",a.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),a.setAttribute("data-l10n-args",JSON.stringify({dateObj:x(this,$p).valueOf()})),a.dateTime=x(this,$p).toISOString(),n.append(a)}fee({html:x(this,sb,N4)||x(this,Xu).str,dir:(r=x(this,Xu))==null?void 0:r.dir,className:"popupContent"},e),x(this,er).append(e)}updateEdited({rect:e,popup:n,deleted:i}){var r;if(x(this,Xo)){i?(this.remove(),ie(this,Hp,null)):n&&(n.deleted?this.remove():(he(this,_A,AF).call(this),ie(this,Hp,n.text))),e&&(ie(this,Lh,null),he(this,wA,_F).call(this),he(this,xA,SF).call(this));return}if(i||n!=null&&n.deleted){this.remove();return}he(this,ab,A4).call(this),x(this,W1)||ie(this,W1,{contentsObj:x(this,Xu),richText:x(this,Fh)}),e&&ie(this,Rh,null),n&&n.text&&(ie(this,Fh,he(this,RT,Nte).call(this,n.text)),ie(this,$p,tE.toDateObject(n.date)),ie(this,Xu,null)),(r=x(this,Ko))==null||r.remove(),ie(this,Ko,null)}resetEdited(){var e;x(this,W1)&&({contentsObj:Fr(this,Xu)._,richText:Fr(this,Fh)._}=x(this,W1),ie(this,W1,null),(e=x(this,Ko))==null||e.remove(),ie(this,Ko,null),ie(this,Rh,null))}remove(){var e,n,i;if((e=x(this,Ih))==null||e.abort(),ie(this,Ih,null),(n=x(this,Ko))==null||n.remove(),ie(this,Ko,null),ie(this,qp,!1),ie(this,Ku,!1),(i=x(this,tr))==null||i.remove(),ie(this,tr,null),this.trigger)for(const r of this.trigger)r.classList.remove("popupTriggerArea")}forceHide(){ie(this,qp,this.isVisible),x(this,qp)&&(x(this,er).hidden=!0)}maybeShow(){x(this,Xo)||(he(this,ab,A4).call(this),x(this,qp)&&(x(this,Ko)||he(this,lb,C4).call(this),ie(this,qp,!1),x(this,er).hidden=!1))}get isVisible(){return x(this,Xo)?!1:x(this,er).hidden===!1}}Xo=new WeakMap,jp=new WeakMap,DT=new WeakMap,PT=new WeakMap,eb=new WeakMap,tb=new WeakMap,er=new WeakMap,Xu=new WeakMap,$p=new WeakMap,$1=new WeakMap,nb=new WeakMap,ib=new WeakMap,Ku=new WeakMap,Ko=new WeakMap,Ih=new WeakMap,Rh=new WeakMap,tr=new WeakMap,Lh=new WeakMap,Wp=new WeakMap,bA=new WeakMap,Fh=new WeakMap,rb=new WeakMap,W1=new WeakMap,qp=new WeakMap,Qr=new WeakMap,Hp=new WeakMap,ab=new WeakSet,A4=function(){var n;if(x(this,Ih))return;ie(this,Ih,new AbortController);const{signal:e}=x(this,Ih);for(const i of this.trigger)i.addEventListener("click",x(this,eb),{signal:e}),i.addEventListener("pointerenter",x(this,PT),{signal:e}),i.addEventListener("pointerleave",x(this,DT),{signal:e}),i.classList.add("popupTriggerArea");for(const i of x(this,$1))(n=i.container)==null||n.addEventListener("keydown",x(this,jp),{signal:e})},wA=new WeakSet,_F=function(){const e=x(this,$1).find(n=>n.hasCommentButton);e&&ie(this,Lh,e._normalizePoint(e.commentButtonPosition))},xA=new WeakSet,SF=function(){if(x(this,Qr).extraPopupElement&&!x(this,Qr).editor)return;x(this,tr)||this.renderCommentButton();const[e,n]=x(this,Lh),{style:i}=x(this,tr);i.left=`calc(${e}%)`,i.top=`calc(${n}% - var(--comment-button-dim))`},_A=new WeakSet,AF=function(){x(this,Qr).extraPopupElement||(x(this,tr)||this.renderCommentButton(),x(this,tr).style.backgroundColor=this.commentButtonColor||"")},sb=new WeakSet,N4=function(){const e=x(this,Fh),n=x(this,Xu);return e!=null&&e.str&&(!(n!=null&&n.str)||n.str===e.str)&&x(this,Fh).html||null},SA=new WeakSet,NF=function(){var e,n,i;return((i=(n=(e=x(this,sb,N4))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:i.fontSize)||0},IT=new WeakSet,Ate=function(){var e,n,i;return((i=(n=(e=x(this,sb,N4))==null?void 0:e.attributes)==null?void 0:n.style)==null?void 0:i.color)||null},RT=new WeakSet,Nte=function(e){const n=[],i={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:n}]}},r={style:{color:x(this,IT,Ate),fontSize:x(this,SA,NF)?`calc(${x(this,SA,NF)}px * var(--total-scale-factor))`:""}};for(const a of e.split(`
`))n.push({name:"span",value:a,attributes:r});return i},LT=new WeakSet,kte=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&x(this,Ku))&&he(this,ob,k4).call(this)},FT=new WeakSet,Cte=function(){if(x(this,Rh)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:n,pageHeight:i,pageX:r,pageY:a}}}=x(this,nb);let s=!!x(this,ib),o=s?x(this,ib):x(this,bA);for(const w of x(this,$1))if(!o||_t.intersect(w.data.rect,o)!==null){o=w.data.rect,s=!0;break}const c=_t.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),u=5,d=s?o[2]-o[0]+u:0,h=c[0]+d,f=c[1];ie(this,Rh,[100*(h-r)/n,100*(f-a)/i]);const{style:p}=x(this,er);p.left=`${x(this,Rh)[0]}%`,p.top=`${x(this,Rh)[1]}%`},ob=new WeakSet,k4=function(){if(x(this,Xo)){x(this,Xo).toggleCommentPopup(this,!1);return}ie(this,Ku,!x(this,Ku)),x(this,Ku)?(he(this,lb,C4).call(this),x(this,er).addEventListener("click",x(this,eb)),x(this,er).addEventListener("keydown",x(this,jp))):(he(this,AA,kF).call(this),x(this,er).removeEventListener("click",x(this,eb)),x(this,er).removeEventListener("keydown",x(this,jp)))},lb=new WeakSet,C4=function(){x(this,Ko)||this.render(),this.isVisible?x(this,Ku)&&x(this,er).classList.add("focused"):(he(this,FT,Cte).call(this),x(this,er).hidden=!1,x(this,er).style.zIndex=parseInt(x(this,er).style.zIndex)+1e3)},AA=new WeakSet,kF=function(){x(this,er).classList.remove("focused"),!(x(this,Ku)||!this.isVisible)&&(x(this,er).hidden=!0,x(this,er).style.zIndex=parseInt(x(this,er).style.zIndex)-1e3)};class Ete extends Hi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Jt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const n of this.textContent){const i=document.createElement("span");i.textContent=n,e.append(i)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var NA;class IEe extends Hi{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});J(this,NA,null)}render(){this.container.classList.add("lineAnnotation");const{data:n,width:i,height:r}=this,a=this.svgFactory.create(i,r,!0),s=ie(this,NA,this.svgFactory.createElement("svg:line"));return s.setAttribute("x1",n.rect[2]-n.lineCoordinates[0]),s.setAttribute("y1",n.rect[3]-n.lineCoordinates[1]),s.setAttribute("x2",n.rect[2]-n.lineCoordinates[2]),s.setAttribute("y2",n.rect[3]-n.lineCoordinates[3]),s.setAttribute("stroke-width",n.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),a.append(s),this.container.append(a),!n.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return x(this,NA)}addHighlightArea(){this.container.classList.add("highlightArea")}}NA=new WeakMap;var kA;class REe extends Hi{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});J(this,kA,null)}render(){this.container.classList.add("squareAnnotation");const{data:n,width:i,height:r}=this,a=this.svgFactory.create(i,r,!0),s=n.borderStyle.width,o=ie(this,kA,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",s/2),o.setAttribute("y",s/2),o.setAttribute("width",i-s),o.setAttribute("height",r-s),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!n.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return x(this,kA)}addHighlightArea(){this.container.classList.add("highlightArea")}}kA=new WeakMap;var CA;class LEe extends Hi{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});J(this,CA,null)}render(){this.container.classList.add("circleAnnotation");const{data:n,width:i,height:r}=this,a=this.svgFactory.create(i,r,!0),s=n.borderStyle.width,o=ie(this,CA,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",i/2),o.setAttribute("cy",r/2),o.setAttribute("rx",i/2-s/2),o.setAttribute("ry",r/2-s/2),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),a.append(o),this.container.append(a),!n.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return x(this,CA)}addHighlightArea(){this.container.classList.add("highlightArea")}}CA=new WeakMap;var EA;class Tte extends Hi{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});J(this,EA,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,vertices:i,borderStyle:r,popupRef:a},width:s,height:o}=this;if(!i)return this.container;const c=this.svgFactory.create(s,o,!0);let u=[];for(let h=0,f=i.length;h<f;h+=2){const p=i[h]-n[0],w=n[3]-i[h+1];u.push(`${p},${w}`)}u=u.join(" ");const d=ie(this,EA,this.svgFactory.createElement(this.svgElementName));return d.setAttribute("points",u),d.setAttribute("stroke-width",r.width||1),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),c.append(d),this.container.append(c),!a&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return x(this,EA)}addHighlightArea(){this.container.classList.add("highlightArea")}}EA=new WeakMap;class FEe extends Tte{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class OEe extends Hi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}var TA,q1,DA,CF;class BU extends Hi{constructor(n){super(n,{isRenderable:!0,ignoreBorder:!0});J(this,DA);J(this,TA,null);J(this,q1,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Jt.HIGHLIGHT:Jt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:n,rotation:i,inkLists:r,borderStyle:a,popupRef:s}}=this,{transform:o,width:c,height:u}=he(this,DA,CF).call(this,i,n),d=this.svgFactory.create(c,u,!0),h=ie(this,TA,this.svgFactory.createElement("svg:g"));d.append(h),h.setAttribute("stroke-width",a.width||1),h.setAttribute("stroke-linecap","round"),h.setAttribute("stroke-linejoin","round"),h.setAttribute("stroke-miterlimit",10),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),h.setAttribute("transform",o);for(let f=0,p=r.length;f<p;f++){const w=this.svgFactory.createElement(this.svgElementName);x(this,q1).push(w),w.setAttribute("points",r[f].join(",")),h.append(w)}return!s&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(d),this._editOnDoubleClick(),this.container}updateEdited(n){super.updateEdited(n);const{thickness:i,points:r,rect:a}=n,s=x(this,TA);if(i>=0&&s.setAttribute("stroke-width",i||1),r)for(let o=0,c=x(this,q1).length;o<c;o++)x(this,q1)[o].setAttribute("points",r[o].join(","));if(a){const{transform:o,width:c,height:u}=he(this,DA,CF).call(this,this.data.rotation,a);s.parentElement.setAttribute("viewBox",`0 0 ${c} ${u}`),s.setAttribute("transform",o)}}getElementsToTriggerPopup(){return x(this,q1)}addHighlightArea(){this.container.classList.add("highlightArea")}}TA=new WeakMap,q1=new WeakMap,DA=new WeakSet,CF=function(n,i){switch(n){case 90:return{transform:`rotate(90) translate(${-i[0]},${i[1]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};case 180:return{transform:`rotate(180) translate(${-i[2]},${i[1]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]};case 270:return{transform:`rotate(270) translate(${-i[2]},${i[3]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};default:return{transform:`translate(${-i[0]},${i[3]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]}}};class Dte extends Hi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Jt.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const i=document.createElement("mark");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class UEe extends Hi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class MEe extends Hi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class BEe extends Hi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:n}}=this;if(!n&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const i=document.createElement("s");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class Pte extends Hi{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Jt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}var PA,IA,EF;class zEe extends Hi{constructor(n){var r;super(n,{isRenderable:!0});J(this,IA);J(this,PA,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:n,data:i}=this;let r;i.hasAppearance||i.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),r.addEventListener("dblclick",he(this,IA,EF).bind(this)),ie(this,PA,r);const{isMac:a}=Wr.platform;return n.addEventListener("keydown",s=>{s.key==="Enter"&&(a?s.metaKey:s.ctrlKey)&&he(this,IA,EF).call(this)}),!i.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):r.classList.add("popupTriggerArea"),n.append(r),n}getElementsToTriggerPopup(){return x(this,PA)}addHighlightArea(){this.container.classList.add("highlightArea")}}PA=new WeakMap,IA=new WeakSet,EF=function(){var n;(n=this.downloadManager)==null||n.openOrDownloadData(this.content,this.filename)};var H1,V1,cb,Vp,RA,G1,Yo,LA,ub,E4,FA,DF;const AB=class AB{constructor({div:e,accessibilityManager:n,annotationCanvasMap:i,annotationEditorUIManager:r,page:a,viewport:s,structTreeLayer:o,commentManager:c,linkService:u,annotationStorage:d}){J(this,ub);J(this,FA);J(this,H1,null);J(this,V1,null);J(this,cb,null);J(this,Vp,new Map);J(this,RA,null);J(this,G1,null);J(this,Yo,[]);J(this,LA,!1);this.div=e,ie(this,H1,n),ie(this,V1,i),ie(this,RA,o||null),ie(this,G1,u||null),ie(this,cb,d||new FU),this.page=a,this.viewport=s,this.zIndex=0,this._annotationEditorUIManager=r,this._commentManager=c||null}hasEditableAnnotations(){return x(this,Vp).size>0}async render(e){var o;const{annotations:n}=e,i=this.div;$0(i,this.viewport);const r=new Map,a=[],s={data:null,layer:i,linkService:x(this,G1),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new cE,annotationStorage:x(this,cb),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const c of n){if(c.noHTML)continue;const u=c.annotationType===_r.POPUP;if(u){const f=r.get(c.id);if(!f)continue;if(!this._commentManager){a.push(c);continue}s.elements=f}else if(c.rect[2]===c.rect[0]||c.rect[3]===c.rect[1])continue;s.data=c;const d=lI.create(s);if(!d.isRenderable)continue;if(!u&&(x(this,Yo).push(d),c.popupRef)){const f=r.get(c.popupRef);f?f.push(d):r.set(c.popupRef,[d])}const h=d.render();c.hidden&&(h.style.visibility="hidden"),d._isEditable&&(x(this,Vp).set(d.data.id,d),(o=this._annotationEditorUIManager)==null||o.renderAnnotationElement(d))}await he(this,ub,E4).call(this);for(const c of a){const u=s.elements=r.get(c.id);s.data=c;const d=lI.create(s);if(!d.isRenderable)continue;const h=d.render();d.contentElement.id=`${fv}${c.id}`,c.hidden&&(h.style.visibility="hidden"),u.at(-1).container.after(h)}he(this,FA,DF).call(this)}async addLinkAnnotations(e){const n={data:null,layer:this.div,linkService:x(this,G1),svgFactory:new cE,parent:this};for(const i of e){i.borderStyle||(i.borderStyle=AB._defaultBorderStyle),n.data=i;const r=lI.create(n);r.isRenderable&&(r.render(),r.contentElement.id=`${fv}${i.id}`,x(this,Yo).push(r))}await he(this,ub,E4).call(this)}update({viewport:e}){const n=this.div;this.viewport=e,$0(n,{rotation:e.rotation}),he(this,FA,DF).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(x(this,Vp).values())}getEditableAnnotation(e){return x(this,Vp).get(e)}addFakeAnnotation(e){const{div:n}=this,{id:i,rotation:r}=e,a=new AEe({data:{id:i,rect:e.getPDFRect(),rotation:r},editor:e,layer:n,parent:this,enableComment:!!this._commentManager,linkService:x(this,G1),annotationStorage:x(this,cb)});return a.render(),a.contentElement.id=`${fv}${i}`,a.createOrUpdatePopup(),x(this,Yo).push(a),a}removeAnnotation(e){var r;const n=x(this,Yo).findIndex(a=>a.data.id===e);if(n<0)return;const[i]=x(this,Yo).splice(n,1);(r=x(this,H1))==null||r.removePointerInTextLayer(i.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const n of e)n.updateFakeAnnotationElement(this);he(this,ub,E4).call(this)}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return Xt(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Hy.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};H1=new WeakMap,V1=new WeakMap,cb=new WeakMap,Vp=new WeakMap,RA=new WeakMap,G1=new WeakMap,Yo=new WeakMap,LA=new WeakMap,ub=new WeakSet,E4=async function(){var i,r,a;if(x(this,Yo).length===0)return;this.div.replaceChildren();const e=[];if(!x(this,LA)){ie(this,LA,!0);for(const{contentElement:s,data:{id:o}}of x(this,Yo)){const c=s.id=`${fv}${o}`;e.push((i=x(this,RA))==null?void 0:i.getAriaAttributes(c).then(u=>{if(u)for(const[d,h]of u)s.setAttribute(d,h)}))}}x(this,Yo).sort(({data:{rect:[s,o,c,u]}},{data:{rect:[d,h,f,p]}})=>{if(s===c&&o===u)return 1;if(d===f&&h===p)return-1;const w=u,v=o,b=(o+u)/2,g=p,y=h,_=(h+p)/2;if(b>=g&&_<=v)return-1;if(_>=w&&b<=y)return 1;const S=(s+c)/2,N=(d+f)/2;return S-N});const n=document.createDocumentFragment();for(const s of x(this,Yo))n.append(s.container),this._commentManager?(a=((r=s.extraPopupElement)==null?void 0:r.popup)||s.popup)==null||a.renderCommentButton():s.extraPopupElement&&n.append(s.extraPopupElement.render());if(this.div.append(n),await Promise.all(e),x(this,H1))for(const s of x(this,Yo))x(this,H1).addPointerInTextLayer(s.contentElement,!1)},FA=new WeakSet,DF=function(){var n;if(!x(this,V1))return;const e=this.div;for(const[i,r]of x(this,V1)){const a=e.querySelector(`[data-annotation-id="${i}"]`);if(!a)continue;r.className="annotationContent";const{firstChild:s}=a;s?s.nodeName==="CANVAS"?s.replaceWith(r):s.classList.contains("annotationContent")?s.after(r):s.before(r):a.append(r);const o=x(this,Vp).get(i);o&&(o._hasNoCanvas?((n=this._annotationEditorUIManager)==null||n.setMissingCanvas(i,a.id,r),o._hasNoCanvas=!1):o.canvas=r)}x(this,V1).clear()};let TF=AB;const lk=/\r\n?|\n/g;var Jo,OA,X1,Zo,OT,Ite,UT,Rte,MT,Lte,db,T4,hb,D4,fb,P4,BT,Fte,UA,IF,zT,Ote;const xi=class xi extends Ai{constructor(n){super({...n,name:"freeTextEditor"});J(this,OT);J(this,UT);J(this,MT);J(this,db);J(this,fb);J(this,BT);J(this,zT);J(this,Jo,"");J(this,OA,`${this.id}-editor`);J(this,X1,null);J(this,Zo,void 0);it(this,"_colorPicker",null);this.color=n.color||xi._defaultColor||Ai._defaultLineColor,ie(this,Zo,n.fontSize||xi._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static get _keyboardManager(){const n=xi.prototype,i=s=>s.isEmpty(),r=W0.TRANSLATE_SMALL,a=W0.TRANSLATE_BIG;return Xt(this,"_keyboardManager",new qN([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],n.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],n.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],n._translateEmpty,{args:[-r,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],n._translateEmpty,{args:[-a,0],checker:i}],[["ArrowRight","mac+ArrowRight"],n._translateEmpty,{args:[r,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],n._translateEmpty,{args:[a,0],checker:i}],[["ArrowUp","mac+ArrowUp"],n._translateEmpty,{args:[0,-r],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],n._translateEmpty,{args:[0,-a],checker:i}],[["ArrowDown","mac+ArrowDown"],n._translateEmpty,{args:[0,r],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],n._translateEmpty,{args:[0,a],checker:i}]]))}static initialize(n,i){Ai.initialize(n,i);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(n,i){switch(n){case bn.FREETEXT_SIZE:xi._defaultFontSize=i;break;case bn.FREETEXT_COLOR:xi._defaultColor=i;break}}updateParams(n,i){switch(n){case bn.FREETEXT_SIZE:he(this,OT,Ite).call(this,i);break;case bn.FREETEXT_COLOR:he(this,UT,Rte).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[bn.FREETEXT_SIZE,xi._defaultFontSize],[bn.FREETEXT_COLOR,xi._defaultColor||Ai._defaultLineColor]]}get propertiesToUpdate(){return[[bn.FREETEXT_SIZE,x(this,Zo)],[bn.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new lE(this)),[["colorPicker",this._colorPicker]]}get colorType(){return bn.FREETEXT_COLOR}onUpdatedColor(){var n;this.editorDiv.style.color=this.color,(n=this._colorPicker)==null||n.update(this.color),super.onUpdatedColor()}_translateEmpty(n,i){this._uiManager.translateSelectedEditors(n,i,!0)}getInitialTranslation(){const n=this.parentScale;return[-xi._internalPadding*n,-(xi._internalPadding+x(this,Zo))*n]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),ie(this,X1,new AbortController);const n=this._uiManager.combinedSignal(x(this,X1));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:n}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:n}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:n}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:n}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:n}),!0}disableEditMode(){var n;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",x(this,OA)),this._isDraggable=!0,(n=x(this,X1))==null||n.abort(),ie(this,X1,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(n){this._focusEventsAllowed&&(super.focusin(n),n.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(n){var i;this.width||(this.enableEditMode(),n&&this.editorDiv.focus(),(i=this._initialOptions)!=null&&i.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const n=x(this,Jo),i=ie(this,Jo,he(this,MT,Lte).call(this).trimEnd());if(n===i)return;const r=a=>{if(ie(this,Jo,a),!a){this.remove();return}he(this,fb,P4).call(this),this._uiManager.rebuild(this),he(this,db,T4).call(this)};this.addCommands({cmd:()=>{r(i)},undo:()=>{r(n)},mustExec:!1}),he(this,db,T4).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(n){n.target===this.div&&n.key==="Enter"&&(this.enterInEditMode(),n.preventDefault())}editorDivKeydown(n){xi._keyboardManager.exec(this,n)}editorDivFocus(n){this.isEditing=!0}editorDivBlur(n){this.isEditing=!1}editorDivInput(n){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let n,i;(this._isCopy||this.annotationElementId)&&(n=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",x(this,OA)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${x(this,Zo)}px * var(--total-scale-factor))`,r.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[a,s]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[c,u]=this.getInitialTranslation();[c,u]=this.pageTranslationToScreen(c,u);const[d,h]=this.pageDimensions,[f,p]=this.pageTranslation;let w,v;switch(this.rotation){case 0:w=n+(o[0]-f)/d,v=i+this.height-(o[1]-p)/h;break;case 90:w=n+(o[0]-f)/d,v=i-(o[1]-p)/h,[c,u]=[u,-c];break;case 180:w=n-this.width+(o[0]-f)/d,v=i-(o[1]-p)/h,[c,u]=[-c,-u];break;case 270:w=n+(o[0]-f-this.height*h)/d,v=i+(o[1]-p-this.width*d)/h,[c,u]=[-u,c];break}this.setAt(w*a,v*s,c,u)}else this._moveAfterPaste(n,i);he(this,fb,P4).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(n){var w,v,b;const i=n.clipboardData||window.clipboardData,{types:r}=i;if(r.length===1&&r[0]==="text/plain")return;n.preventDefault();const a=he(w=xi,UA,IF).call(w,i.getData("text")||"").replaceAll(lk,`
`);if(!a)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const o=s.getRangeAt(0);if(!a.includes(`
`)){o.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:c,startOffset:u}=o,d=[],h=[];if(c.nodeType===Node.TEXT_NODE){const g=c.parentElement;if(h.push(c.nodeValue.slice(u).replaceAll(lk,"")),g!==this.editorDiv){let y=d;for(const _ of this.editorDiv.childNodes){if(_===g){y=h;continue}y.push(he(v=xi,hb,D4).call(v,_))}}d.push(c.nodeValue.slice(0,u).replaceAll(lk,""))}else if(c===this.editorDiv){let g=d,y=0;for(const _ of this.editorDiv.childNodes)y++===u&&(g=h),g.push(he(b=xi,hb,D4).call(b,_))}ie(this,Jo,`${d.join(`
`)}${a}${h.join(`
`)}`),he(this,fb,P4).call(this);const f=new Range;let p=Math.sumPrecise(d.map(g=>g.length));for(const{firstChild:g}of this.editorDiv.childNodes)if(g.nodeType===Node.TEXT_NODE){const y=g.nodeValue.length;if(p<=y){f.setStart(g,p),f.setEnd(g,p);break}p-=y}s.removeAllRanges(),s.addRange(f)}get contentDiv(){return this.editorDiv}getPDFRect(){const n=xi._internalPadding*this.parentScale;return this.getRect(n,n)}static async deserialize(n,i,r){var o;let a=null;if(n instanceof Ete){const{data:{defaultAppearanceData:{fontSize:c,fontColor:u},rect:d,rotation:h,id:f,popupRef:p,richText:w,contentsObj:v,creationDate:b,modificationDate:g},textContent:y,textPosition:_,parent:{page:{pageNumber:S}}}=n;if(!y||y.length===0)return null;a=n={annotationType:Jt.FREETEXT,color:Array.from(u),fontSize:c,value:y.join(`
`),position:_,pageIndex:S-1,rect:d.slice(0),rotation:h,annotationElementId:f,id:f,deleted:!1,popupRef:p,comment:(v==null?void 0:v.str)||null,richText:w,creationDate:b,modificationDate:g}}const s=await super.deserialize(n,i,r);return ie(s,Zo,n.fontSize),s.color=_t.makeHexColor(...n.color),ie(s,Jo,he(o=xi,UA,IF).call(o,n.value)),s._initialData=a,n.comment&&s.setCommentData(n),s}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Ai._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),r=Object.assign(super.serialize(n),{color:i,fontSize:x(this,Zo),value:he(this,BT,Fte).call(this)});return this.addComment(r),n?(r.isCopy=!0,r):this.annotationElementId&&!he(this,zT,Ote).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(n){const i=super.renderAnnotationElement(n);if(!i)return null;const{style:r}=i;r.fontSize=`calc(${x(this,Zo)}px * var(--total-scale-factor))`,r.color=this.color,i.replaceChildren();for(const a of x(this,Jo).split(`
`)){const s=document.createElement("div");s.append(a?document.createTextNode(a):document.createElement("br")),i.append(s)}return n.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:x(this,Jo)}}),i}resetAnnotationElement(n){super.resetAnnotationElement(n),n.resetEdited()}};Jo=new WeakMap,OA=new WeakMap,X1=new WeakMap,Zo=new WeakMap,OT=new WeakSet,Ite=function(n){const i=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--total-scale-factor))`,this.translate(0,-(a-x(this,Zo))*this.parentScale),ie(this,Zo,a),he(this,db,T4).call(this)},r=x(this,Zo);this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:bn.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},UT=new WeakSet,Rte=function(n){const i=a=>{this.color=a,this.onUpdatedColor()},r=this.color;this.addCommands({cmd:i.bind(this,n),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:bn.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},MT=new WeakSet,Lte=function(){var r;const n=[];this.editorDiv.normalize();let i=null;for(const a of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&a.nodeName==="BR"||(n.push(he(r=xi,hb,D4).call(r,a)),i=a);return n.join(`
`)},db=new WeakSet,T4=function(){const[n,i]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:a,div:s}=this,o=s.style.display,c=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",a.div.append(this.div),r=s.getBoundingClientRect(),s.remove(),s.style.display=o,s.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=r.width/n,this.height=r.height/i):(this.width=r.height/n,this.height=r.width/i),this.fixAndSetPosition()},hb=new WeakSet,D4=function(n){return(n.nodeType===Node.TEXT_NODE?n.nodeValue:n.innerText).replaceAll(lk,"")},fb=new WeakSet,P4=function(){if(this.editorDiv.replaceChildren(),!!x(this,Jo))for(const n of x(this,Jo).split(`
`)){const i=document.createElement("div");i.append(n?document.createTextNode(n):document.createElement("br")),this.editorDiv.append(i)}},BT=new WeakSet,Fte=function(){return x(this,Jo).replaceAll(""," ")},UA=new WeakSet,IF=function(n){return n.replaceAll(" ","")},zT=new WeakSet,Ote=function(n){const{value:i,fontSize:r,color:a,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||n.value!==i||n.fontSize!==r||n.color.some((o,c)=>o!==a[c])||n.pageIndex!==s},J(xi,hb),J(xi,UA),it(xi,"_freeTextDefaultContent",""),it(xi,"_internalPadding",0),it(xi,"_defaultColor",null),it(xi,"_defaultFontSize",10),it(xi,"_type","freetext"),it(xi,"_editorType",Jt.FREETEXT);let PF=xi;class Nt{toSVGPath(){hi("Abstract method `toSVGPath` must be implemented.")}get box(){hi("Abstract getter `box` must be implemented.")}serialize(e,n){hi("Abstract method `serialize` must be implemented.")}static _rescale(e,n,i,r,a,s){s||(s=new Float32Array(e.length));for(let o=0,c=e.length;o<c;o+=2)s[o]=n+e[o]*r,s[o+1]=i+e[o+1]*a;return s}static _rescaleAndSwap(e,n,i,r,a,s){s||(s=new Float32Array(e.length));for(let o=0,c=e.length;o<c;o+=2)s[o]=n+e[o+1]*r,s[o+1]=i+e[o]*a;return s}static _translate(e,n,i,r){r||(r=new Float32Array(e.length));for(let a=0,s=e.length;a<s;a+=2)r[a]=n+e[a],r[a+1]=i+e[a+1];return r}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,n,i,r,a){switch(a){case 90:return[1-n/i,e/r];case 180:return[1-e/i,1-n/r];case 270:return[n/i,1-e/r];default:return[e/i,n/r]}}static _normalizePagePoint(e,n,i){switch(i){case 90:return[1-n,e];case 180:return[1-e,1-n];case 270:return[n,1-e];default:return[e,n]}}static createBezierPoints(e,n,i,r,a,s){return[(e+5*i)/6,(n+5*r)/6,(5*i+a)/6,(5*r+s)/6,(i+a)/2,(r+s)/2]}}it(Nt,"PRECISION",1e-4);var Qo,Bc,pb,mb,Yu,cn,K1,Y1,MA,BA,gb,yb,Gp,zA,jT,$T,J1,o5,WT,Ute,qT,Mte,HT,Bte,VT,zte,GT,jte,XT,$te;const ih=class ih{constructor({x:e,y:n},i,r,a,s,o=0){J(this,J1);J(this,WT);J(this,qT);J(this,HT);J(this,VT);J(this,GT);J(this,XT);J(this,Qo,void 0);J(this,Bc,[]);J(this,pb,void 0);J(this,mb,void 0);J(this,Yu,[]);J(this,cn,new Float32Array(18));J(this,K1,void 0);J(this,Y1,void 0);J(this,MA,void 0);J(this,BA,void 0);J(this,gb,void 0);J(this,yb,void 0);J(this,Gp,[]);ie(this,Qo,i),ie(this,yb,a*r),ie(this,mb,s),x(this,cn).set([NaN,NaN,NaN,NaN,e,n],6),ie(this,pb,o),ie(this,BA,x(ih,zA)*r),ie(this,MA,x(ih,$T)*r),ie(this,gb,r),x(this,Gp).push(e,n)}isEmpty(){return isNaN(x(this,cn)[8])}add({x:e,y:n}){var C;ie(this,K1,e),ie(this,Y1,n);const[i,r,a,s]=x(this,Qo);let[o,c,u,d]=x(this,cn).subarray(8,12);const h=e-u,f=n-d,p=Math.hypot(h,f);if(p<x(this,MA))return!1;const w=p-x(this,BA),v=w/p,b=v*h,g=v*f;let y=o,_=c;o=u,c=d,u+=b,d+=g,(C=x(this,Gp))==null||C.push(e,n);const S=-g/w,N=b/w,R=S*x(this,yb),D=N*x(this,yb);return x(this,cn).set(x(this,cn).subarray(2,8),0),x(this,cn).set([u+R,d+D],4),x(this,cn).set(x(this,cn).subarray(14,18),12),x(this,cn).set([u-R,d-D],16),isNaN(x(this,cn)[6])?(x(this,Yu).length===0&&(x(this,cn).set([o+R,c+D],2),x(this,Yu).push(NaN,NaN,NaN,NaN,(o+R-i)/a,(c+D-r)/s),x(this,cn).set([o-R,c-D],14),x(this,Bc).push(NaN,NaN,NaN,NaN,(o-R-i)/a,(c-D-r)/s)),x(this,cn).set([y,_,o,c,u,d],6),!this.isEmpty()):(x(this,cn).set([y,_,o,c,u,d],6),Math.abs(Math.atan2(_-c,y-o)-Math.atan2(g,b))<Math.PI/2?([o,c,u,d]=x(this,cn).subarray(2,6),x(this,Yu).push(NaN,NaN,NaN,NaN,((o+u)/2-i)/a,((c+d)/2-r)/s),[o,c,y,_]=x(this,cn).subarray(14,18),x(this,Bc).push(NaN,NaN,NaN,NaN,((y+o)/2-i)/a,((_+c)/2-r)/s),!0):([y,_,o,c,u,d]=x(this,cn).subarray(0,6),x(this,Yu).push(((y+5*o)/6-i)/a,((_+5*c)/6-r)/s,((5*o+u)/6-i)/a,((5*c+d)/6-r)/s,((o+u)/2-i)/a,((c+d)/2-r)/s),[u,d,o,c,y,_]=x(this,cn).subarray(12,18),x(this,Bc).push(((y+5*o)/6-i)/a,((_+5*c)/6-r)/s,((5*o+u)/6-i)/a,((5*c+d)/6-r)/s,((o+u)/2-i)/a,((c+d)/2-r)/s),!0))}toSVGPath(){if(this.isEmpty())return"";const e=x(this,Yu),n=x(this,Bc);if(isNaN(x(this,cn)[6])&&!this.isEmpty())return he(this,WT,Ute).call(this);const i=[];i.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?i.push(`L${e[r+4]} ${e[r+5]}`):i.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);he(this,HT,Bte).call(this,i);for(let r=n.length-6;r>=6;r-=6)isNaN(n[r])?i.push(`L${n[r+4]} ${n[r+5]}`):i.push(`C${n[r]} ${n[r+1]} ${n[r+2]} ${n[r+3]} ${n[r+4]} ${n[r+5]}`);return he(this,qT,Mte).call(this,i),i.join(" ")}newFreeDrawOutline(e,n,i,r,a,s){return new Wte(e,n,i,r,a,s)}getOutlines(){var h;const e=x(this,Yu),n=x(this,Bc),i=x(this,cn),[r,a,s,o]=x(this,Qo),c=new Float32Array((((h=x(this,Gp))==null?void 0:h.length)??0)+2);for(let f=0,p=c.length-2;f<p;f+=2)c[f]=(x(this,Gp)[f]-r)/s,c[f+1]=(x(this,Gp)[f+1]-a)/o;if(c[c.length-2]=(x(this,K1)-r)/s,c[c.length-1]=(x(this,Y1)-a)/o,isNaN(i[6])&&!this.isEmpty())return he(this,VT,zte).call(this,c);const u=new Float32Array(x(this,Yu).length+24+x(this,Bc).length);let d=e.length;for(let f=0;f<d;f+=2){if(isNaN(e[f])){u[f]=u[f+1]=NaN;continue}u[f]=e[f],u[f+1]=e[f+1]}d=he(this,XT,$te).call(this,u,d);for(let f=n.length-6;f>=6;f-=6)for(let p=0;p<6;p+=2){if(isNaN(n[f+p])){u[d]=u[d+1]=NaN,d+=2;continue}u[d]=n[f+p],u[d+1]=n[f+p+1],d+=2}return he(this,GT,jte).call(this,u,d),this.newFreeDrawOutline(u,c,x(this,Qo),x(this,gb),x(this,pb),x(this,mb))}};Qo=new WeakMap,Bc=new WeakMap,pb=new WeakMap,mb=new WeakMap,Yu=new WeakMap,cn=new WeakMap,K1=new WeakMap,Y1=new WeakMap,MA=new WeakMap,BA=new WeakMap,gb=new WeakMap,yb=new WeakMap,Gp=new WeakMap,zA=new WeakMap,jT=new WeakMap,$T=new WeakMap,J1=new WeakSet,o5=function(){const e=x(this,cn).subarray(4,6),n=x(this,cn).subarray(16,18),[i,r,a,s]=x(this,Qo);return[(x(this,K1)+(e[0]-n[0])/2-i)/a,(x(this,Y1)+(e[1]-n[1])/2-r)/s,(x(this,K1)+(n[0]-e[0])/2-i)/a,(x(this,Y1)+(n[1]-e[1])/2-r)/s]},WT=new WeakSet,Ute=function(){const[e,n,i,r]=x(this,Qo),[a,s,o,c]=he(this,J1,o5).call(this);return`M${(x(this,cn)[2]-e)/i} ${(x(this,cn)[3]-n)/r} L${(x(this,cn)[4]-e)/i} ${(x(this,cn)[5]-n)/r} L${a} ${s} L${o} ${c} L${(x(this,cn)[16]-e)/i} ${(x(this,cn)[17]-n)/r} L${(x(this,cn)[14]-e)/i} ${(x(this,cn)[15]-n)/r} Z`},qT=new WeakSet,Mte=function(e){const n=x(this,Bc);e.push(`L${n[4]} ${n[5]} Z`)},HT=new WeakSet,Bte=function(e){const[n,i,r,a]=x(this,Qo),s=x(this,cn).subarray(4,6),o=x(this,cn).subarray(16,18),[c,u,d,h]=he(this,J1,o5).call(this);e.push(`L${(s[0]-n)/r} ${(s[1]-i)/a} L${c} ${u} L${d} ${h} L${(o[0]-n)/r} ${(o[1]-i)/a}`)},VT=new WeakSet,zte=function(e){const n=x(this,cn),[i,r,a,s]=x(this,Qo),[o,c,u,d]=he(this,J1,o5).call(this),h=new Float32Array(36);return h.set([NaN,NaN,NaN,NaN,(n[2]-i)/a,(n[3]-r)/s,NaN,NaN,NaN,NaN,(n[4]-i)/a,(n[5]-r)/s,NaN,NaN,NaN,NaN,o,c,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,(n[16]-i)/a,(n[17]-r)/s,NaN,NaN,NaN,NaN,(n[14]-i)/a,(n[15]-r)/s],0),this.newFreeDrawOutline(h,e,x(this,Qo),x(this,gb),x(this,pb),x(this,mb))},GT=new WeakSet,jte=function(e,n){const i=x(this,Bc);return e.set([NaN,NaN,NaN,NaN,i[4],i[5]],n),n+=6},XT=new WeakSet,$te=function(e,n){const i=x(this,cn).subarray(4,6),r=x(this,cn).subarray(16,18),[a,s,o,c]=x(this,Qo),[u,d,h,f]=he(this,J1,o5).call(this);return e.set([NaN,NaN,NaN,NaN,(i[0]-a)/o,(i[1]-s)/c,NaN,NaN,NaN,NaN,u,d,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,(r[0]-a)/o,(r[1]-s)/c],n),n+=24},J(ih,zA,8),J(ih,jT,2),J(ih,$T,x(ih,zA)+x(ih,jT));let uE=ih;var vb,Z1,Oh,jA,el,$A,hr,KT,qte;class Wte extends Nt{constructor(n,i,r,a,s,o){super();J(this,KT);J(this,vb,void 0);J(this,Z1,new Float32Array(4));J(this,Oh,void 0);J(this,jA,void 0);J(this,el,void 0);J(this,$A,void 0);J(this,hr,void 0);ie(this,hr,n),ie(this,el,i),ie(this,vb,r),ie(this,$A,a),ie(this,Oh,s),ie(this,jA,o),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],he(this,KT,qte).call(this,o);const[c,u,d,h]=x(this,Z1);for(let f=0,p=n.length;f<p;f+=2)n[f]=(n[f]-c)/d,n[f+1]=(n[f+1]-u)/h;for(let f=0,p=i.length;f<p;f+=2)i[f]=(i[f]-c)/d,i[f+1]=(i[f+1]-u)/h}toSVGPath(){const n=[`M${x(this,hr)[4]} ${x(this,hr)[5]}`];for(let i=6,r=x(this,hr).length;i<r;i+=6){if(isNaN(x(this,hr)[i])){n.push(`L${x(this,hr)[i+4]} ${x(this,hr)[i+5]}`);continue}n.push(`C${x(this,hr)[i]} ${x(this,hr)[i+1]} ${x(this,hr)[i+2]} ${x(this,hr)[i+3]} ${x(this,hr)[i+4]} ${x(this,hr)[i+5]}`)}return n.push("Z"),n.join(" ")}serialize([n,i,r,a],s){const o=r-n,c=a-i;let u,d;switch(s){case 0:u=Nt._rescale(x(this,hr),n,a,o,-c),d=Nt._rescale(x(this,el),n,a,o,-c);break;case 90:u=Nt._rescaleAndSwap(x(this,hr),n,i,o,c),d=Nt._rescaleAndSwap(x(this,el),n,i,o,c);break;case 180:u=Nt._rescale(x(this,hr),r,i,-o,c),d=Nt._rescale(x(this,el),r,i,-o,c);break;case 270:u=Nt._rescaleAndSwap(x(this,hr),r,a,-o,-c),d=Nt._rescaleAndSwap(x(this,el),r,a,-o,-c);break}return{outline:Array.from(u),points:[Array.from(d)]}}get box(){return x(this,Z1)}newOutliner(n,i,r,a,s,o=0){return new uE(n,i,r,a,s,o)}getNewOutline(n,i){const[r,a,s,o]=x(this,Z1),[c,u,d,h]=x(this,vb),f=s*d,p=o*h,w=r*d+c,v=a*h+u,b=this.newOutliner({x:x(this,el)[0]*f+w,y:x(this,el)[1]*p+v},x(this,vb),x(this,$A),n,x(this,jA),i??x(this,Oh));for(let g=2;g<x(this,el).length;g+=2)b.add({x:x(this,el)[g]*f+w,y:x(this,el)[g+1]*p+v});return b.getOutlines()}}vb=new WeakMap,Z1=new WeakMap,Oh=new WeakMap,jA=new WeakMap,el=new WeakMap,$A=new WeakMap,hr=new WeakMap,KT=new WeakSet,qte=function(n){const i=x(this,hr);let r=i[4],a=i[5];const s=[r,a,r,a];let o=r,c=a,u=r,d=a;const h=n?Math.max:Math.min,f=new Float32Array(4);for(let w=6,v=i.length;w<v;w+=6){const b=i[w+4],g=i[w+5];isNaN(i[w])?(_t.pointBoundingBox(b,g,s),c>g?(o=b,c=g):c===g&&(o=h(o,b)),d<g?(u=b,d=g):d===g&&(u=h(u,b))):(f[0]=f[1]=1/0,f[2]=f[3]=-1/0,_t.bezierBoundingBox(r,a,...i.slice(w,w+6),f),_t.rectBoundingBox(f[0],f[1],f[2],f[3],s),c>f[1]?(o=f[0],c=f[1]):c===f[1]&&(o=h(o,f[0])),d<f[3]?(u=f[2],d=f[3]):d===f[3]&&(u=h(u,f[2]))),r=b,a=g}const p=x(this,Z1);p[0]=s[0]-x(this,Oh),p[1]=s[1]-x(this,Oh),p[2]=s[2]-s[0]+2*x(this,Oh),p[3]=s[3]-s[1]+2*x(this,Oh),this.firstPoint=[o,c],this.lastPoint=[u,d]};var WA,qA,HA,Xp,zc,YT,Hte,bb,I4,JT,Vte,ZT,Gte,VA,LF;class RF{constructor(e,n=0,i=0,r=!0){J(this,YT);J(this,bb);J(this,JT);J(this,ZT);J(this,VA);J(this,WA,void 0);J(this,qA,void 0);J(this,HA,void 0);J(this,Xp,[]);J(this,zc,[]);const a=[1/0,1/0,-1/0,-1/0],o=10**-4;for(const{x:b,y:g,width:y,height:_}of e){const S=Math.floor((b-n)/o)*o,N=Math.ceil((b+y+n)/o)*o,R=Math.floor((g-n)/o)*o,D=Math.ceil((g+_+n)/o)*o,E=[S,R,D,!0],C=[N,R,D,!1];x(this,Xp).push(E,C),_t.rectBoundingBox(S,R,N,D,a)}const c=a[2]-a[0]+2*i,u=a[3]-a[1]+2*i,d=a[0]-i,h=a[1]-i;let f=r?-1/0:1/0,p=1/0;const w=x(this,Xp).at(r?-1:-2),v=[w[0],w[2]];for(const b of x(this,Xp)){const[g,y,_,S]=b;!S&&r?y<p?(p=y,f=g):y===p&&(f=Math.max(f,g)):S&&!r&&(y<p?(p=y,f=g):y===p&&(f=Math.min(f,g))),b[0]=(g-d)/c,b[1]=(y-h)/u,b[2]=(_-h)/u}ie(this,WA,new Float32Array([d,h,c,u])),ie(this,qA,[f,p]),ie(this,HA,v)}getOutlines(){x(this,Xp).sort((n,i)=>n[0]-i[0]||n[1]-i[1]||n[2]-i[2]);const e=[];for(const n of x(this,Xp))n[3]?(e.push(...he(this,VA,LF).call(this,n)),he(this,JT,Vte).call(this,n)):(he(this,ZT,Gte).call(this,n),e.push(...he(this,VA,LF).call(this,n)));return he(this,YT,Hte).call(this,e)}}WA=new WeakMap,qA=new WeakMap,HA=new WeakMap,Xp=new WeakMap,zc=new WeakMap,YT=new WeakSet,Hte=function(e){const n=[],i=new Set;for(const s of e){const[o,c,u]=s;n.push([o,c,s],[o,u,s])}n.sort((s,o)=>s[1]-o[1]||s[0]-o[0]);for(let s=0,o=n.length;s<o;s+=2){const c=n[s][2],u=n[s+1][2];c.push(u),u.push(c),i.add(c),i.add(u)}const r=[];let a;for(;i.size>0;){const s=i.values().next().value;let[o,c,u,d,h]=s;i.delete(s);let f=o,p=c;for(a=[o,u],r.push(a);;){let w;if(i.has(d))w=d;else if(i.has(h))w=h;else break;i.delete(w),[o,c,u,d,h]=w,f!==o&&(a.push(f,p,o,p===c?c:u),f=o),p=p===c?u:c}a.push(f,p)}return new jEe(r,x(this,WA),x(this,qA),x(this,HA))},bb=new WeakSet,I4=function(e){const n=x(this,zc);let i=0,r=n.length-1;for(;i<=r;){const a=i+r>>1,s=n[a][0];if(s===e)return a;s<e?i=a+1:r=a-1}return r+1},JT=new WeakSet,Vte=function([,e,n]){const i=he(this,bb,I4).call(this,e);x(this,zc).splice(i,0,[e,n])},ZT=new WeakSet,Gte=function([,e,n]){const i=he(this,bb,I4).call(this,e);for(let r=i;r<x(this,zc).length;r++){const[a,s]=x(this,zc)[r];if(a!==e)break;if(a===e&&s===n){x(this,zc).splice(r,1);return}}for(let r=i-1;r>=0;r--){const[a,s]=x(this,zc)[r];if(a!==e)break;if(a===e&&s===n){x(this,zc).splice(r,1);return}}},VA=new WeakSet,LF=function(e){const[n,i,r]=e,a=[[n,i,r]],s=he(this,bb,I4).call(this,r);for(let o=0;o<s;o++){const[c,u]=x(this,zc)[o];for(let d=0,h=a.length;d<h;d++){const[,f,p]=a[d];if(!(u<=f||p<=c)){if(f>=c){if(p>u)a[d][1]=u;else{if(h===1)return[];a.splice(d,1),d--,h--}continue}a[d][2]=c,p>u&&a.push([n,u,p])}}}return a};var GA,wb;class jEe extends Nt{constructor(n,i,r,a){super();J(this,GA,void 0);J(this,wb,void 0);ie(this,wb,n),ie(this,GA,i),this.firstPoint=r,this.lastPoint=a}toSVGPath(){const n=[];for(const i of x(this,wb)){let[r,a]=i;n.push(`M${r} ${a}`);for(let s=2;s<i.length;s+=2){const o=i[s],c=i[s+1];o===r?(n.push(`V${c}`),a=c):c===a&&(n.push(`H${o}`),r=o)}n.push("Z")}return n.join(" ")}serialize([n,i,r,a],s){const o=[],c=r-n,u=a-i;for(const d of x(this,wb)){const h=new Array(d.length);for(let f=0;f<d.length;f+=2)h[f]=n+d[f]*c,h[f+1]=a-d[f+1]*u;o.push(h)}return o}get box(){return x(this,GA)}get classNamesForOutlining(){return["highlightOutline"]}}GA=new WeakMap,wb=new WeakMap;class FF extends uE{newFreeDrawOutline(e,n,i,r,a,s){return new $Ee(e,n,i,r,a,s)}}class $Ee extends Wte{newOutliner(e,n,i,r,a,s=0){return new FF(e,n,i,r,a,s)}}var xb,XA,Uh,Q1,KA,Zs,YA,JA,e0,tl,nl,Aa,_b,Sb,rs,Ab,Kl,ZA,QA,OF,Nb,R4,QT,Xte,eD,Kte,tD,Yte,eN,UF,Mh,Sg,Kp,Jy,nD,Jte,kb,L4,Cb,F4,iD,Zte,rD,Qte,aD,ene,sD,tne,oD,nne;const Cn=class Cn extends Ai{constructor(n){super({...n,name:"highlightEditor"});J(this,QA);J(this,Nb);J(this,QT);J(this,eD);J(this,tD);J(this,eN);J(this,Mh);J(this,nD);J(this,kb);J(this,Cb);J(this,iD);J(this,rD);J(this,oD);J(this,xb,null);J(this,XA,0);J(this,Uh,void 0);J(this,Q1,null);J(this,KA,null);J(this,Zs,null);J(this,YA,null);J(this,JA,0);J(this,e0,null);J(this,tl,null);J(this,nl,null);J(this,Aa,!1);J(this,_b,null);J(this,Sb,null);J(this,rs,null);J(this,Ab,"");J(this,Kl,void 0);J(this,ZA,"");this.color=n.color||Cn._defaultColor,ie(this,Kl,n.thickness||Cn._defaultThickness),this.opacity=n.opacity||Cn._defaultOpacity,ie(this,Uh,n.boxes||null),ie(this,ZA,n.methodOfCreation||""),ie(this,Ab,n.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",n.highlightId>-1?(ie(this,Aa,!0),he(this,Nb,R4).call(this,n),he(this,Mh,Sg).call(this)):x(this,Uh)&&(ie(this,xb,n.anchorNode),ie(this,XA,n.anchorOffset),ie(this,YA,n.focusNode),ie(this,JA,n.focusOffset),he(this,QA,OF).call(this),he(this,Mh,Sg).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const n=Cn.prototype;return Xt(this,"_keyboardManager",new qN([[["ArrowLeft","mac+ArrowLeft"],n._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],n._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],n._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],n._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:x(this,Aa)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:x(this,Kl),methodOfCreation:x(this,ZA)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(n){return{numberOfColors:n.get("color").size}}static initialize(n,i){var r;Ai.initialize(n,i),Cn._defaultColor||(Cn._defaultColor=((r=i.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(n,i){switch(n){case bn.HIGHLIGHT_COLOR:Cn._defaultColor=i;break;case bn.HIGHLIGHT_THICKNESS:Cn._defaultThickness=i;break}}translateInPage(n,i){}get toolbarPosition(){return x(this,Sb)}get commentButtonPosition(){return x(this,_b)}updateParams(n,i){switch(n){case bn.HIGHLIGHT_COLOR:he(this,QT,Xte).call(this,i);break;case bn.HIGHLIGHT_THICKNESS:he(this,eD,Kte).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[bn.HIGHLIGHT_COLOR,Cn._defaultColor],[bn.HIGHLIGHT_THICKNESS,Cn._defaultThickness]]}get propertiesToUpdate(){return[[bn.HIGHLIGHT_COLOR,this.color||Cn._defaultColor],[bn.HIGHLIGHT_THICKNESS,x(this,Kl)||Cn._defaultThickness],[bn.HIGHLIGHT_FREE,x(this,Aa)]]}onUpdatedColor(){var n,i;(n=this.parent)==null||n.drawLayer.updateProperties(x(this,nl),{root:{fill:this.color,"fill-opacity":this.opacity}}),(i=x(this,KA))==null||i.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",ie(this,KA,new oE({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(he(this,Cb,F4).call(this))}getBaseTranslation(){return[0,0]}getRect(n,i){return super.getRect(n,i,he(this,Cb,F4).call(this))}onceAdded(n){this.annotationElementId||this.parent.addUndoableEditor(this),n&&this.div.focus()}remove(){he(this,eN,UF).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(he(this,Mh,Sg).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var r;let i=!1;this.parent&&!n?he(this,eN,UF).call(this):n&&(he(this,Mh,Sg).call(this,n),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(n),this.show(this._isVisible),i&&this.select()}rotate(n){var a,s,o;const{drawLayer:i}=this.parent;let r;x(this,Aa)?(n=(n-this.rotation+360)%360,r=he(a=Cn,Kp,Jy).call(a,x(this,tl).box,n)):r=he(s=Cn,Kp,Jy).call(s,[this.x,this.y,this.width,this.height],n),i.updateProperties(x(this,nl),{bbox:r,root:{"data-main-rotation":n}}),i.updateProperties(x(this,rs),{bbox:he(o=Cn,Kp,Jy).call(o,x(this,Zs).box,n),root:{"data-main-rotation":n}})}render(){if(this.div)return this.div;const n=super.render();x(this,Ab)&&(n.setAttribute("aria-label",x(this,Ab)),n.setAttribute("role","mark")),x(this,Aa)?n.classList.add("free"):this.div.addEventListener("keydown",he(this,nD,Jte).bind(this),{signal:this._uiManager._signal});const i=ie(this,e0,document.createElement("div"));return n.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=x(this,Q1),this.setDims(),wee(this,x(this,e0),["pointerover","pointerleave"]),this.enableEditing(),n}pointerover(){var n;this.isSelected||(n=this.parent)==null||n.drawLayer.updateProperties(x(this,rs),{rootClass:{hovered:!0}})}pointerleave(){var n;this.isSelected||(n=this.parent)==null||n.drawLayer.updateProperties(x(this,rs),{rootClass:{hovered:!1}})}_moveCaret(n){switch(this.parent.unselect(this),n){case 0:case 2:he(this,kb,L4).call(this,!0);break;case 1:case 3:he(this,kb,L4).call(this,!1);break}}select(){var n;super.select(),x(this,rs)&&((n=this.parent)==null||n.drawLayer.updateProperties(x(this,rs),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var n;super.unselect(),x(this,rs)&&((n=this.parent)==null||n.drawLayer.updateProperties(x(this,rs),{rootClass:{selected:!1}}),x(this,Aa)||he(this,kb,L4).call(this,!1))}get _mustFixPosition(){return!x(this,Aa)}show(n=this._isVisible){super.show(n),this.parent&&(this.parent.drawLayer.updateProperties(x(this,nl),{rootClass:{hidden:!n}}),this.parent.drawLayer.updateProperties(x(this,rs),{rootClass:{hidden:!n}}))}static startHighlighting(n,i,{target:r,x:a,y:s}){const{x:o,y:c,width:u,height:d}=r.getBoundingClientRect(),h=new AbortController,f=n.combinedSignal(h),p=w=>{h.abort(),he(this,sD,tne).call(this,n,w)};window.addEventListener("blur",p,{signal:f}),window.addEventListener("pointerup",p,{signal:f}),window.addEventListener("pointerdown",rr,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",fc,{signal:f}),r.addEventListener("pointermove",he(this,aD,ene).bind(this,n),{signal:f}),this._freeHighlight=new FF({x:a,y:s},[o,c,u,d],n.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(n,i,r){var v,b,g,y;let a=null;if(n instanceof Dte){const{data:{quadPoints:_,rect:S,rotation:N,id:R,color:D,opacity:E,popupRef:C,richText:P,contentsObj:k,creationDate:A,modificationDate:I},parent:{page:{pageNumber:T}}}=n;a=n={annotationType:Jt.HIGHLIGHT,color:Array.from(D),opacity:E,quadPoints:_,boxes:null,pageIndex:T-1,rect:S.slice(0),rotation:N,annotationElementId:R,id:R,deleted:!1,popupRef:C,richText:P,comment:(k==null?void 0:k.str)||null,creationDate:A,modificationDate:I}}else if(n instanceof BU){const{data:{inkLists:_,rect:S,rotation:N,id:R,color:D,borderStyle:{rawWidth:E},popupRef:C,richText:P,contentsObj:k,creationDate:A,modificationDate:I},parent:{page:{pageNumber:T}}}=n;a=n={annotationType:Jt.HIGHLIGHT,color:Array.from(D),thickness:E,inkLists:_,boxes:null,pageIndex:T-1,rect:S.slice(0),rotation:N,annotationElementId:R,id:R,deleted:!1,popupRef:C,richText:P,comment:(k==null?void 0:k.str)||null,creationDate:A,modificationDate:I}}const{color:s,quadPoints:o,inkLists:c,opacity:u}=n,d=await super.deserialize(n,i,r);d.color=_t.makeHexColor(...s),d.opacity=u||1,c&&ie(d,Kl,n.thickness),d._initialData=a,n.comment&&d.setCommentData(n);const[h,f]=d.pageDimensions,[p,w]=d.pageTranslation;if(o){const _=ie(d,Uh,[]);for(let S=0;S<o.length;S+=8)_.push({x:(o[S]-p)/h,y:1-(o[S+1]-w)/f,width:(o[S+2]-o[S])/h,height:(o[S+1]-o[S+5])/f});he(v=d,QA,OF).call(v),he(b=d,Mh,Sg).call(b),d.rotate(d.rotation)}else if(c){ie(d,Aa,!0);const _=c[0],S={x:_[0]-p,y:f-(_[1]-w)},N=new FF(S,[0,0,h,f],1,x(d,Kl)/2,!0,.001);for(let E=0,C=_.length;E<C;E+=2)S.x=_[E]-p,S.y=f-(_[E+1]-w),N.add(S);const{id:R,clipPathId:D}=i.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:d.color,"fill-opacity":d._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:N.toSVGPath()}},!0,!0);he(g=d,Nb,R4).call(g,{highlightOutlines:N.getOutlines(),highlightId:R,clipPathId:D}),he(y=d,Mh,Sg).call(y),d.rotate(d.parentRotation)}return d}serialize(n=!1){if(this.isEmpty()||n)return null;if(this.deleted)return this.serializeDeleted();const i=Ai._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),r=super.serialize(n);return Object.assign(r,{color:i,opacity:this.opacity,thickness:x(this,Kl),quadPoints:he(this,iD,Zte).call(this),outlines:he(this,rD,Qte).call(this,r.rect)}),this.addComment(r),this.annotationElementId&&!he(this,oD,nne).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(n){return this.deleted?(n.hide(),null):(n.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};xb=new WeakMap,XA=new WeakMap,Uh=new WeakMap,Q1=new WeakMap,KA=new WeakMap,Zs=new WeakMap,YA=new WeakMap,JA=new WeakMap,e0=new WeakMap,tl=new WeakMap,nl=new WeakMap,Aa=new WeakMap,_b=new WeakMap,Sb=new WeakMap,rs=new WeakMap,Ab=new WeakMap,Kl=new WeakMap,ZA=new WeakMap,QA=new WeakSet,OF=function(){const n=new RF(x(this,Uh),.001);ie(this,tl,n.getOutlines()),[this.x,this.y,this.width,this.height]=x(this,tl).box;const i=new RF(x(this,Uh),.0025,.001,this._uiManager.direction==="ltr");ie(this,Zs,i.getOutlines());const{firstPoint:r}=x(this,tl);ie(this,_b,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height]);const{lastPoint:a}=x(this,Zs);ie(this,Sb,[(a[0]-this.x)/this.width,(a[1]-this.y)/this.height])},Nb=new WeakSet,R4=function({highlightOutlines:n,highlightId:i,clipPathId:r}){var f,p;ie(this,tl,n);const a=1.5;if(ie(this,Zs,n.getNewOutline(x(this,Kl)/2+a,.0025)),i>=0)ie(this,nl,i),ie(this,Q1,r),this.parent.drawLayer.finalizeDraw(i,{bbox:n.box,path:{d:n.toSVGPath()}}),ie(this,rs,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:x(this,Zs).box,path:{d:x(this,Zs).toSVGPath()}},!0));else if(this.parent){const w=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(x(this,nl),{bbox:he(f=Cn,Kp,Jy).call(f,x(this,tl).box,(w-this.rotation+360)%360),path:{d:n.toSVGPath()}}),this.parent.drawLayer.updateProperties(x(this,rs),{bbox:he(p=Cn,Kp,Jy).call(p,x(this,Zs).box,w),path:{d:x(this,Zs).toSVGPath()}})}const[s,o,c,u]=n.box;switch(this.rotation){case 0:this.x=s,this.y=o,this.width=c,this.height=u;break;case 90:{const[w,v]=this.parentDimensions;this.x=o,this.y=1-s,this.width=c*v/w,this.height=u*w/v;break}case 180:this.x=1-s,this.y=1-o,this.width=c,this.height=u;break;case 270:{const[w,v]=this.parentDimensions;this.x=1-o,this.y=s,this.width=c*v/w,this.height=u*w/v;break}}const{firstPoint:d}=n;ie(this,_b,[(d[0]-s)/c,(d[1]-o)/u]);const{lastPoint:h}=x(this,Zs);ie(this,Sb,[(h[0]-s)/c,(h[1]-o)/u])},QT=new WeakSet,Xte=function(n){const i=(s,o)=>{this.color=s,this.opacity=o,this.onUpdatedColor()},r=this.color,a=this.opacity;this.addCommands({cmd:i.bind(this,n,Cn._defaultOpacity),undo:i.bind(this,r,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:bn.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(n)},!0)},eD=new WeakSet,Kte=function(n){const i=x(this,Kl),r=a=>{ie(this,Kl,a),he(this,tD,Yte).call(this,a)};this.addCommands({cmd:r.bind(this,n),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:bn.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:n},!0)},tD=new WeakSet,Yte=function(n){x(this,Aa)&&(he(this,Nb,R4).call(this,{highlightOutlines:x(this,tl).getNewOutline(n/2)}),this.fixAndSetPosition(),this.setDims())},eN=new WeakSet,UF=function(){x(this,nl)===null||!this.parent||(this.parent.drawLayer.remove(x(this,nl)),ie(this,nl,null),this.parent.drawLayer.remove(x(this,rs)),ie(this,rs,null))},Mh=new WeakSet,Sg=function(n=this.parent){x(this,nl)===null&&({id:Fr(this,nl)._,clipPathId:Fr(this,Q1)._}=n.drawLayer.draw({bbox:x(this,tl).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:x(this,Aa)},path:{d:x(this,tl).toSVGPath()}},!1,!0),ie(this,rs,n.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:x(this,Aa)},bbox:x(this,Zs).box,path:{d:x(this,Zs).toSVGPath()}},x(this,Aa))),x(this,e0)&&(x(this,e0).style.clipPath=x(this,Q1)))},Kp=new WeakSet,Jy=function([n,i,r,a],s){switch(s){case 90:return[1-i-a,n,a,r];case 180:return[1-n-r,1-i-a,r,a];case 270:return[i,1-n-r,a,r]}return[n,i,r,a]},nD=new WeakSet,Jte=function(n){Cn._keyboardManager.exec(this,n)},kb=new WeakSet,L4=function(n){if(!x(this,xb))return;const i=window.getSelection();n?i.setPosition(x(this,xb),x(this,XA)):i.setPosition(x(this,YA),x(this,JA))},Cb=new WeakSet,F4=function(){return x(this,Aa)?this.rotation:0},iD=new WeakSet,Zte=function(){if(x(this,Aa))return null;const[n,i]=this.pageDimensions,[r,a]=this.pageTranslation,s=x(this,Uh),o=new Float32Array(s.length*8);let c=0;for(const{x:u,y:d,width:h,height:f}of s){const p=u*n+r,w=(1-d)*i+a;o[c]=o[c+4]=p,o[c+1]=o[c+3]=w,o[c+2]=o[c+6]=p+h*n,o[c+5]=o[c+7]=w-f*i,c+=8}return o},rD=new WeakSet,Qte=function(n){return x(this,tl).serialize(n,he(this,Cb,F4).call(this))},aD=new WeakSet,ene=function(n,i){this._freeHighlight.add(i)&&n.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},sD=new WeakSet,tne=function(n,i){this._freeHighlight.isEmpty()?n.drawLayer.remove(this._freeHighlightId):n.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},oD=new WeakSet,nne=function(n){const{color:i}=this._initialData;return this.hasEditedComment||n.color.some((r,a)=>r!==i[a])},J(Cn,Kp),J(Cn,aD),J(Cn,sD),it(Cn,"_defaultColor",null),it(Cn,"_defaultOpacity",1),it(Cn,"_defaultThickness",12),it(Cn,"_type","highlight"),it(Cn,"_editorType",Jt.HIGHLIGHT),it(Cn,"_freeHighlightId",-1),it(Cn,"_freeHighlight",null),it(Cn,"_freeHighlightClipId","");let dE=Cn;var t0;class ine{constructor(){J(this,t0,Object.create(null))}updateProperty(e,n){this[e]=n,this.updateSVGProperty(e,n)}updateProperties(e){if(e)for(const[n,i]of Object.entries(e))n.startsWith("_")||this.updateProperty(n,i)}updateSVGProperty(e,n){x(this,t0)[e]=n}toSVGProperties(){const e=x(this,t0);return ie(this,t0,Object.create(null)),{root:e}}reset(){ie(this,t0,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){hi("Not implemented")}}t0=new WeakMap;var il,Eb,ea,n0,i0,tN,MF,nN,BF,iN,zF,r0,l5,lD,rne,Tb,O4,a0,c5,Yp,Zy;const fn=class fn extends Ai{constructor(n){super(n);J(this,tN);J(this,nN);J(this,iN);J(this,r0);J(this,lD);J(this,Tb);J(this,a0);J(this,Yp);J(this,il,null);J(this,Eb,void 0);it(this,"_colorPicker",null);it(this,"_drawId",null);ie(this,Eb,n.mustBeCommitted||!1),this._addOutlines(n)}onUpdatedColor(){var n;(n=this._colorPicker)==null||n.update(this.color),super.onUpdatedColor()}_addOutlines(n){n.drawOutlines&&(he(this,tN,MF).call(this,n),he(this,r0,l5).call(this))}static _mergeSVGProperties(n,i){const r=new Set(Object.keys(n));for(const[a,s]of Object.entries(i))r.has(a)?Object.assign(n[a],s):n[a]=s;return n}static getDefaultDrawingOptions(n){hi("Not implemented")}static get typesMap(){hi("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(n,i){const r=this.typesMap.get(n);r&&this._defaultDrawingOptions.updateProperty(r,i),this._currentParent&&(x(fn,ea).updateProperty(r,i),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(n,i){const r=this.constructor.typesMap.get(n);r&&this._updateProperty(n,r,i)}static get defaultPropertiesToUpdate(){const n=[],i=this._defaultDrawingOptions;for(const[r,a]of this.typesMap)n.push([r,i[a]]);return n}get propertiesToUpdate(){const n=[],{_drawingOptions:i}=this;for(const[r,a]of this.constructor.typesMap)n.push([r,i[a]]);return n}_updateProperty(n,i,r){const a=this._drawingOptions,s=a[i],o=c=>{var d;a.updateProperty(i,c);const u=x(this,il).updateProperty(i,c);u&&he(this,a0,c5).call(this,u),(d=this.parent)==null||d.drawLayer.updateProperties(this._drawId,a.toSVGProperties()),n===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:o.bind(this,r),undo:o.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:n,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,fn._mergeSVGProperties(x(this,il).getPathResizingSVGProperties(he(this,Tb,O4).call(this)),{bbox:he(this,Yp,Zy).call(this)}))}_onResized(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,fn._mergeSVGProperties(x(this,il).getPathResizedSVGProperties(he(this,Tb,O4).call(this)),{bbox:he(this,Yp,Zy).call(this)}))}_onTranslating(n,i){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,{bbox:he(this,Yp,Zy).call(this)})}_onTranslated(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,fn._mergeSVGProperties(x(this,il).getPathTranslatedSVGProperties(he(this,Tb,O4).call(this),this.parentDimensions),{bbox:he(this,Yp,Zy).call(this)}))}_onStartDragging(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var n;(n=this.parent)==null||n.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(n){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,x(this,Eb)&&(ie(this,Eb,!1),this.commit(),this.parent.setSelected(this),n&&this.isOnScreen&&this.div.focus())}remove(){he(this,iN,zF).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(he(this,r0,l5).call(this),he(this,a0,c5).call(this,x(this,il).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(n){var r;let i=!1;this.parent&&!n?(this._uiManager.removeShouldRescale(this),he(this,iN,zF).call(this)):n&&(this._uiManager.addShouldRescale(this),he(this,r0,l5).call(this,n),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(n),i&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,fn._mergeSVGProperties({bbox:he(this,Yp,Zy).call(this)},x(this,il).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&he(this,a0,c5).call(this,x(this,il).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let n,i;this._isCopy&&(n=this.x,i=this.y);const r=super.render();r.classList.add("draw");const a=document.createElement("div");return r.append(a),a.setAttribute("aria-hidden","true"),a.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(n,i),r}static createDrawerInstance(n,i,r,a,s){hi("Not implemented")}static startDrawing(n,i,r,a){var b;const{target:s,offsetX:o,offsetY:c,pointerId:u,pointerType:d}=a;if(Qa.isInitializedAndDifferentPointerType(d))return;const{viewport:{rotation:h}}=n,{width:f,height:p}=s.getBoundingClientRect(),w=ie(fn,n0,new AbortController),v=n.combinedSignal(w);if(Qa.setPointer(d,u),window.addEventListener("pointerup",g=>{Qa.isSamePointerIdOrRemove(g.pointerId)&&this._endDraw(g)},{signal:v}),window.addEventListener("pointercancel",g=>{Qa.isSamePointerIdOrRemove(g.pointerId)&&this._currentParent.endDrawingSession()},{signal:v}),window.addEventListener("pointerdown",g=>{Qa.isSamePointerType(g.pointerType)&&(Qa.initializeAndAddPointerId(g.pointerId),x(fn,ea).isCancellable()&&(x(fn,ea).removeLastElement(),x(fn,ea).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",fc,{signal:v}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:v}),s.addEventListener("touchmove",g=>{Qa.isSameTimeStamp(g.timeStamp)&&rr(g)},{signal:v}),n.toggleDrawing(),(b=i._editorUndoBar)==null||b.hide(),x(fn,ea)){n.drawLayer.updateProperties(this._currentDrawId,x(fn,ea).startNew(o,c,f,p,h));return}i.updateUIForDefaultProperties(this),ie(fn,ea,this.createDrawerInstance(o,c,f,p,h)),ie(fn,i0,this.getDefaultDrawingOptions()),this._currentParent=n,{id:this._currentDrawId}=n.drawLayer.draw(this._mergeSVGProperties(x(fn,i0).toSVGProperties(),x(fn,ea).defaultSVGProperties),!0,!1)}static _drawMove(n){if(Qa.isSameTimeStamp(n.timeStamp),!x(fn,ea))return;const{offsetX:i,offsetY:r,pointerId:a}=n;if(Qa.isSamePointerId(a)){if(Qa.isUsingMultiplePointers()){this._endDraw(n);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,x(fn,ea).add(i,r)),Qa.setTimeStamp(n.timeStamp),rr(n)}}static _cleanup(n){n&&(this._currentDrawId=-1,this._currentParent=null,ie(fn,ea,null),ie(fn,i0,null),Qa.clearTimeStamp()),x(fn,n0)&&(x(fn,n0).abort(),ie(fn,n0,null),Qa.clearPointerIds())}static _endDraw(n){const i=this._currentParent;if(i){if(i.toggleDrawing(!0),this._cleanup(!1),(n==null?void 0:n.target)===i.div&&i.drawLayer.updateProperties(this._currentDrawId,x(fn,ea).end(n.offsetX,n.offsetY)),this.supportMultipleDrawings){const r=x(fn,ea),a=this._currentDrawId,s=r.getLastElement();i.addCommands({cmd:()=>{i.drawLayer.updateProperties(a,r.setLastElement(s))},undo:()=>{i.drawLayer.updateProperties(a,r.removeLastElement())},mustExec:!1,type:bn.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(n){const i=this._currentParent;if(!i)return null;if(i.toggleDrawing(!0),i.cleanUndoStack(bn.DRAW_STEP),!x(fn,ea).isEmpty()){const{pageDimensions:[r,a],scale:s}=i,o=i.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:x(fn,ea).getOutlines(r*s,a*s,s,this._INNER_MARGIN),drawingOptions:x(fn,i0),mustBeCommitted:!n});return this._cleanup(!0),o}return i.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(n){}static deserializeDraw(n,i,r,a,s,o){hi("Not implemented")}static async deserialize(n,i,r){var h,f;const{rawDims:{pageWidth:a,pageHeight:s,pageX:o,pageY:c}}=i.viewport,u=this.deserializeDraw(o,c,a,s,this._INNER_MARGIN,n),d=await super.deserialize(n,i,r);return d.createDrawingOptions(n),he(h=d,tN,MF).call(h,{drawOutlines:u}),he(f=d,r0,l5).call(f),d.onScaleChanging(),d.rotate(),d}serializeDraw(n){const[i,r]=this.pageTranslation,[a,s]=this.pageDimensions;return x(this,il).serialize([i,r,a,s],n)}renderAnnotationElement(n){return n.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};il=new WeakMap,Eb=new WeakMap,ea=new WeakMap,n0=new WeakMap,i0=new WeakMap,tN=new WeakSet,MF=function({drawOutlines:n,drawId:i,drawingOptions:r}){ie(this,il,n),this._drawingOptions||(this._drawingOptions=r),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),i>=0?(this._drawId=i,this.parent.drawLayer.finalizeDraw(i,n.defaultProperties)):this._drawId=he(this,nN,BF).call(this,n,this.parent),he(this,a0,c5).call(this,n.box)},nN=new WeakSet,BF=function(n,i){const{id:r}=i.drawLayer.draw(fn._mergeSVGProperties(this._drawingOptions.toSVGProperties(),n.defaultSVGProperties),!1,!1);return r},iN=new WeakSet,zF=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},r0=new WeakSet,l5=function(n=this.parent){if(!(this._drawId!==null&&this.parent===n)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,n.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=he(this,nN,BF).call(this,x(this,il),n)}},lD=new WeakSet,rne=function([n,i,r,a]){const{parentDimensions:[s,o],rotation:c}=this;switch(c){case 90:return[i,1-n,r*(o/s),a*(s/o)];case 180:return[1-n,1-i,r,a];case 270:return[1-i,n,r*(o/s),a*(s/o)];default:return[n,i,r,a]}},Tb=new WeakSet,O4=function(){const{x:n,y:i,width:r,height:a,parentDimensions:[s,o],rotation:c}=this;switch(c){case 90:return[1-i,n,r*(s/o),a*(o/s)];case 180:return[1-n,1-i,r,a];case 270:return[i,1-n,r*(s/o),a*(o/s)];default:return[n,i,r,a]}},a0=new WeakSet,c5=function(n){[this.x,this.y,this.width,this.height]=he(this,lD,rne).call(this,n),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},Yp=new WeakSet,Zy=function(){const{x:n,y:i,width:r,height:a,rotation:s,parentRotation:o,parentDimensions:[c,u]}=this;switch((s*4+o)/90){case 1:return[1-i-a,n,a,r];case 2:return[1-n-r,1-i-a,r,a];case 3:return[i,1-n-r,a,r];case 4:return[n,i-r*(c/u),a*(u/c),r*(c/u)];case 5:return[1-i,n,r*(c/u),a*(u/c)];case 6:return[1-n-a*(u/c),1-i,a*(u/c),r*(c/u)];case 7:return[i-r*(c/u),1-n-a*(u/c),r*(c/u),a*(u/c)];case 8:return[n-r,i-a,r,a];case 9:return[1-i,n-r,a,r];case 10:return[1-n,1-i,r,a];case 11:return[i-a,1-n,a,r];case 12:return[n-a*(u/c),i,a*(u/c),r*(c/u)];case 13:return[1-i-r*(c/u),n-a*(u/c),r*(c/u),a*(u/c)];case 14:return[1-n,1-i-r*(c/u),a*(u/c),r*(c/u)];case 15:return[i,1-n,r*(c/u),a*(u/c)];default:return[n,i,r,a]}},it(fn,"_currentDrawId",-1),it(fn,"_currentParent",null),J(fn,ea,null),J(fn,n0,null),J(fn,i0,null),it(fn,"_INNER_MARGIN",3);let hE=fn;var Ju,ta,na,s0,Db,Ns,Na,Yl,o0,l0,c0,Pb,U4;class WEe{constructor(e,n,i,r,a,s){J(this,Pb);J(this,Ju,new Float64Array(6));J(this,ta,void 0);J(this,na,void 0);J(this,s0,void 0);J(this,Db,void 0);J(this,Ns,void 0);J(this,Na,"");J(this,Yl,0);J(this,o0,new VN);J(this,l0,void 0);J(this,c0,void 0);ie(this,l0,i),ie(this,c0,r),ie(this,s0,a),ie(this,Db,s),[e,n]=he(this,Pb,U4).call(this,e,n);const o=ie(this,ta,[NaN,NaN,NaN,NaN,e,n]);ie(this,Ns,[e,n]),ie(this,na,[{line:o,points:x(this,Ns)}]),x(this,Ju).set(o,0)}updateProperty(e,n){e==="stroke-width"&&ie(this,Db,n)}isEmpty(){return!x(this,na)||x(this,na).length===0}isCancellable(){return x(this,Ns).length<=10}add(e,n){[e,n]=he(this,Pb,U4).call(this,e,n);const[i,r,a,s]=x(this,Ju).subarray(2,6),o=e-a,c=n-s;return Math.hypot(x(this,l0)*o,x(this,c0)*c)<=2?null:(x(this,Ns).push(e,n),isNaN(i)?(x(this,Ju).set([a,s,e,n],2),x(this,ta).push(NaN,NaN,NaN,NaN,e,n),{path:{d:this.toSVGPath()}}):(isNaN(x(this,Ju)[0])&&x(this,ta).splice(6,6),x(this,Ju).set([i,r,a,s,e,n],0),x(this,ta).push(...Nt.createBezierPoints(i,r,a,s,e,n)),{path:{d:this.toSVGPath()}}))}end(e,n){const i=this.add(e,n);return i||(x(this,Ns).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,n,i,r,a){ie(this,l0,i),ie(this,c0,r),ie(this,s0,a),[e,n]=he(this,Pb,U4).call(this,e,n);const s=ie(this,ta,[NaN,NaN,NaN,NaN,e,n]);ie(this,Ns,[e,n]);const o=x(this,na).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),x(this,na).push({line:s,points:x(this,Ns)}),x(this,Ju).set(s,0),ie(this,Yl,0),this.toSVGPath(),null}getLastElement(){return x(this,na).at(-1)}setLastElement(e){return x(this,na)?(x(this,na).push(e),ie(this,ta,e.line),ie(this,Ns,e.points),ie(this,Yl,0),{path:{d:this.toSVGPath()}}):x(this,o0).setLastElement(e)}removeLastElement(){if(!x(this,na))return x(this,o0).removeLastElement();x(this,na).pop(),ie(this,Na,"");for(let e=0,n=x(this,na).length;e<n;e++){const{line:i,points:r}=x(this,na)[e];ie(this,ta,i),ie(this,Ns,r),ie(this,Yl,0),this.toSVGPath()}return{path:{d:x(this,Na)}}}toSVGPath(){const e=Nt.svgRound(x(this,ta)[4]),n=Nt.svgRound(x(this,ta)[5]);if(x(this,Ns).length===2)return ie(this,Na,`${x(this,Na)} M ${e} ${n} Z`),x(this,Na);if(x(this,Ns).length<=6){const r=x(this,Na).lastIndexOf("M");ie(this,Na,`${x(this,Na).slice(0,r)} M ${e} ${n}`),ie(this,Yl,6)}if(x(this,Ns).length===4){const r=Nt.svgRound(x(this,ta)[10]),a=Nt.svgRound(x(this,ta)[11]);return ie(this,Na,`${x(this,Na)} L ${r} ${a}`),ie(this,Yl,12),x(this,Na)}const i=[];x(this,Yl)===0&&(i.push(`M ${e} ${n}`),ie(this,Yl,6));for(let r=x(this,Yl),a=x(this,ta).length;r<a;r+=6){const[s,o,c,u,d,h]=x(this,ta).slice(r,r+6).map(Nt.svgRound);i.push(`C${s} ${o} ${c} ${u} ${d} ${h}`)}return ie(this,Na,x(this,Na)+i.join(" ")),ie(this,Yl,x(this,ta).length),x(this,Na)}getOutlines(e,n,i,r){const a=x(this,na).at(-1);return a.line=new Float32Array(a.line),a.points=new Float32Array(a.points),x(this,o0).build(x(this,na),e,n,i,x(this,s0),x(this,Db),r),ie(this,Ju,null),ie(this,ta,null),ie(this,na,null),ie(this,Na,null),x(this,o0)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}Ju=new WeakMap,ta=new WeakMap,na=new WeakMap,s0=new WeakMap,Db=new WeakMap,Ns=new WeakMap,Na=new WeakMap,Yl=new WeakMap,o0=new WeakMap,l0=new WeakMap,c0=new WeakMap,Pb=new WeakSet,U4=function(e,n){return Nt._normalizePoint(e,n,x(this,l0),x(this,c0),x(this,s0))};var ks,rN,aN,rl,Zu,Qu,Ib,Rb,u0,jc,eh,cD,ane,uD,sne,dD,one;class VN extends Nt{constructor(){super(...arguments);J(this,jc);J(this,cD);J(this,uD);J(this,dD);J(this,ks,void 0);J(this,rN,0);J(this,aN,void 0);J(this,rl,void 0);J(this,Zu,void 0);J(this,Qu,void 0);J(this,Ib,void 0);J(this,Rb,void 0);J(this,u0,void 0)}build(n,i,r,a,s,o,c){ie(this,Zu,i),ie(this,Qu,r),ie(this,Ib,a),ie(this,Rb,s),ie(this,u0,o),ie(this,aN,c??0),ie(this,rl,n),he(this,uD,sne).call(this)}get thickness(){return x(this,u0)}setLastElement(n){return x(this,rl).push(n),{path:{d:this.toSVGPath()}}}removeLastElement(){return x(this,rl).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const n=[];for(const{line:i}of x(this,rl)){if(n.push(`M${Nt.svgRound(i[4])} ${Nt.svgRound(i[5])}`),i.length===6){n.push("Z");continue}if(i.length===12&&isNaN(i[6])){n.push(`L${Nt.svgRound(i[10])} ${Nt.svgRound(i[11])}`);continue}for(let r=6,a=i.length;r<a;r+=6){const[s,o,c,u,d,h]=i.subarray(r,r+6).map(Nt.svgRound);n.push(`C${s} ${o} ${c} ${u} ${d} ${h}`)}}return n.join("")}serialize([n,i,r,a],s){const o=[],c=[],[u,d,h,f]=he(this,cD,ane).call(this);let p,w,v,b,g,y,_,S,N;switch(x(this,Rb)){case 0:N=Nt._rescale,p=n,w=i+a,v=r,b=-a,g=n+u*r,y=i+(1-d-f)*a,_=n+(u+h)*r,S=i+(1-d)*a;break;case 90:N=Nt._rescaleAndSwap,p=n,w=i,v=r,b=a,g=n+d*r,y=i+u*a,_=n+(d+f)*r,S=i+(u+h)*a;break;case 180:N=Nt._rescale,p=n+r,w=i,v=-r,b=a,g=n+(1-u-h)*r,y=i+d*a,_=n+(1-u)*r,S=i+(d+f)*a;break;case 270:N=Nt._rescaleAndSwap,p=n+r,w=i+a,v=-r,b=-a,g=n+(1-d-f)*r,y=i+(1-u-h)*a,_=n+(1-d)*r,S=i+(1-u)*a;break}for(const{line:R,points:D}of x(this,rl))o.push(N(R,p,w,v,b,s?new Array(R.length):null)),c.push(N(D,p,w,v,b,s?new Array(D.length):null));return{lines:o,points:c,rect:[g,y,_,S]}}static deserialize(n,i,r,a,s,{paths:{lines:o,points:c},rotation:u,thickness:d}){const h=[];let f,p,w,v,b;switch(u){case 0:b=Nt._rescale,f=-n/r,p=i/a+1,w=1/r,v=-1/a;break;case 90:b=Nt._rescaleAndSwap,f=-i/a,p=-n/r,w=1/a,v=1/r;break;case 180:b=Nt._rescale,f=n/r+1,p=-i/a,w=-1/r,v=1/a;break;case 270:b=Nt._rescaleAndSwap,f=i/a+1,p=n/r+1,w=-1/a,v=-1/r;break}if(!o){o=[];for(const y of c){const _=y.length;if(_===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,y[0],y[1]]));continue}if(_===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,y[0],y[1],NaN,NaN,NaN,NaN,y[2],y[3]]));continue}const S=new Float32Array(3*(_-2));o.push(S);let[N,R,D,E]=y.subarray(0,4);S.set([NaN,NaN,NaN,NaN,N,R],0);for(let C=4;C<_;C+=2){const P=y[C],k=y[C+1];S.set(Nt.createBezierPoints(N,R,D,E,P,k),(C-2)*3),[N,R,D,E]=[D,E,P,k]}}}for(let y=0,_=o.length;y<_;y++)h.push({line:b(o[y].map(S=>S??NaN),f,p,w,v),points:b(c[y].map(S=>S??NaN),f,p,w,v)});const g=new this.prototype.constructor;return g.build(h,r,a,1,u,d,s),g}get box(){return x(this,ks)}updateProperty(n,i){return n==="stroke-width"?he(this,dD,one).call(this,i):null}updateParentDimensions([n,i],r){const[a,s]=he(this,jc,eh).call(this);ie(this,Zu,n),ie(this,Qu,i),ie(this,Ib,r);const[o,c]=he(this,jc,eh).call(this),u=o-a,d=c-s,h=x(this,ks);return h[0]-=u,h[1]-=d,h[2]+=2*u,h[3]+=2*d,h}updateRotation(n){return ie(this,rN,n),{path:{transform:this.rotationTransform}}}get viewBox(){return x(this,ks).map(Nt.svgRound).join(" ")}get defaultProperties(){const[n,i]=x(this,ks);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Nt.svgRound(n)} ${Nt.svgRound(i)}`}}}get rotationTransform(){const[,,n,i]=x(this,ks);let r=0,a=0,s=0,o=0,c=0,u=0;switch(x(this,rN)){case 90:a=i/n,s=-n/i,c=n;break;case 180:r=-1,o=-1,c=n,u=i;break;case 270:a=-i/n,s=n/i,u=i;break;default:return""}return`matrix(${r} ${a} ${s} ${o} ${Nt.svgRound(c)} ${Nt.svgRound(u)})`}getPathResizingSVGProperties([n,i,r,a]){const[s,o]=he(this,jc,eh).call(this),[c,u,d,h]=x(this,ks);if(Math.abs(d-s)<=Nt.PRECISION||Math.abs(h-o)<=Nt.PRECISION){const b=n+r/2-(c+d/2),g=i+a/2-(u+h/2);return{path:{"transform-origin":`${Nt.svgRound(n)} ${Nt.svgRound(i)}`,transform:`${this.rotationTransform} translate(${b} ${g})`}}}const f=(r-2*s)/(d-2*s),p=(a-2*o)/(h-2*o),w=d/r,v=h/a;return{path:{"transform-origin":`${Nt.svgRound(c)} ${Nt.svgRound(u)}`,transform:`${this.rotationTransform} scale(${w} ${v}) translate(${Nt.svgRound(s)} ${Nt.svgRound(o)}) scale(${f} ${p}) translate(${Nt.svgRound(-s)} ${Nt.svgRound(-o)})`}}}getPathResizedSVGProperties([n,i,r,a]){const[s,o]=he(this,jc,eh).call(this),c=x(this,ks),[u,d,h,f]=c;if(c[0]=n,c[1]=i,c[2]=r,c[3]=a,Math.abs(h-s)<=Nt.PRECISION||Math.abs(f-o)<=Nt.PRECISION){const g=n+r/2-(u+h/2),y=i+a/2-(d+f/2);for(const{line:_,points:S}of x(this,rl))Nt._translate(_,g,y,_),Nt._translate(S,g,y,S);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Nt.svgRound(n)} ${Nt.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const p=(r-2*s)/(h-2*s),w=(a-2*o)/(f-2*o),v=-p*(u+s)+n+s,b=-w*(d+o)+i+o;if(p!==1||w!==1||v!==0||b!==0)for(const{line:g,points:y}of x(this,rl))Nt._rescale(g,v,b,p,w,g),Nt._rescale(y,v,b,p,w,y);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Nt.svgRound(n)} ${Nt.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([n,i],r){const[a,s]=r,o=x(this,ks),c=n-o[0],u=i-o[1];if(x(this,Zu)===a&&x(this,Qu)===s)for(const{line:d,points:h}of x(this,rl))Nt._translate(d,c,u,d),Nt._translate(h,c,u,h);else{const d=x(this,Zu)/a,h=x(this,Qu)/s;ie(this,Zu,a),ie(this,Qu,s);for(const{line:f,points:p}of x(this,rl))Nt._rescale(f,c,u,d,h,f),Nt._rescale(p,c,u,d,h,p);o[2]*=d,o[3]*=h}return o[0]=n,o[1]=i,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Nt.svgRound(n)} ${Nt.svgRound(i)}`}}}get defaultSVGProperties(){const n=x(this,ks);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Nt.svgRound(n[0])} ${Nt.svgRound(n[1])}`,transform:this.rotationTransform||null},bbox:n}}}ks=new WeakMap,rN=new WeakMap,aN=new WeakMap,rl=new WeakMap,Zu=new WeakMap,Qu=new WeakMap,Ib=new WeakMap,Rb=new WeakMap,u0=new WeakMap,jc=new WeakSet,eh=function(n=x(this,u0)){const i=x(this,aN)+n/2*x(this,Ib);return x(this,Rb)%180===0?[i/x(this,Zu),i/x(this,Qu)]:[i/x(this,Qu),i/x(this,Zu)]},cD=new WeakSet,ane=function(){const[n,i,r,a]=x(this,ks),[s,o]=he(this,jc,eh).call(this,0);return[n+s,i+o,r-2*s,a-2*o]},uD=new WeakSet,sne=function(){const n=ie(this,ks,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:a}of x(this,rl)){if(a.length<=12){for(let c=4,u=a.length;c<u;c+=6)_t.pointBoundingBox(a[c],a[c+1],n);continue}let s=a[4],o=a[5];for(let c=6,u=a.length;c<u;c+=6){const[d,h,f,p,w,v]=a.subarray(c,c+6);_t.bezierBoundingBox(s,o,d,h,f,p,w,v,n),s=w,o=v}}const[i,r]=he(this,jc,eh).call(this);n[0]=Ts(n[0]-i,0,1),n[1]=Ts(n[1]-r,0,1),n[2]=Ts(n[2]+i,0,1),n[3]=Ts(n[3]+r,0,1),n[2]-=n[0],n[3]-=n[1]},dD=new WeakSet,one=function(n){const[i,r]=he(this,jc,eh).call(this);ie(this,u0,n);const[a,s]=he(this,jc,eh).call(this),[o,c]=[a-i,s-r],u=x(this,ks);return u[0]-=o,u[1]-=c,u[2]+=2*o,u[3]+=2*c,u};class j6 extends ine{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Ai._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,n){e==="stroke-width"&&(n??(n=this["stroke-width"]),n*=this._viewParameters.realScale),super.updateSVGProperty(e,n)}clone(){const e=new j6(this._viewParameters);return e.updateAll(this),e}}var hD,lne;const xv=class xv extends hE{constructor(n){super({...n,name:"inkEditor"});J(this,hD);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(n,i){Ai.initialize(n,i),this._defaultDrawingOptions=new j6(i.viewParameters)}static getDefaultDrawingOptions(n){const i=this._defaultDrawingOptions.clone();return i.updateProperties(n),i}static get supportMultipleDrawings(){return!0}static get typesMap(){return Xt(this,"typesMap",new Map([[bn.INK_THICKNESS,"stroke-width"],[bn.INK_COLOR,"stroke"],[bn.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(n,i,r,a,s){return new WEe(n,i,r,a,s,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(n,i,r,a,s,o){return VN.deserialize(n,i,r,a,s,o)}static async deserialize(n,i,r){let a=null;if(n instanceof BU){const{data:{inkLists:o,rect:c,rotation:u,id:d,color:h,opacity:f,borderStyle:{rawWidth:p},popupRef:w,richText:v,contentsObj:b,creationDate:g,modificationDate:y},parent:{page:{pageNumber:_}}}=n;a=n={annotationType:Jt.INK,color:Array.from(h),thickness:p,opacity:f,paths:{points:o},boxes:null,pageIndex:_-1,rect:c.slice(0),rotation:u,annotationElementId:d,id:d,deleted:!1,popupRef:w,richText:v,comment:(b==null?void 0:b.str)||null,creationDate:g,modificationDate:y}}const s=await super.deserialize(n,i,r);return s._initialData=a,n.comment&&s.setCommentData(n),s}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new lE(this)),[["colorPicker",this._colorPicker]]}get colorType(){return bn.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:n,_drawingOptions:i,parent:r}=this;i.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(n,i.toSVGProperties())}static onScaleChangingWhenDrawing(){const n=this._currentParent;n&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),n.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:n,thickness:i,opacity:r}){this._drawingOptions=xv.getDefaultDrawingOptions({stroke:_t.makeHexColor(...n),"stroke-width":i,"stroke-opacity":r})}serialize(n=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:i,points:r}=this.serializeDraw(n),{_drawingOptions:{stroke:a,"stroke-opacity":s,"stroke-width":o}}=this,c=Object.assign(super.serialize(n),{color:Ai._colorManager.convert(a),opacity:s,thickness:o,paths:{lines:i,points:r}});return this.addComment(c),n?(c.isCopy=!0,c):this.annotationElementId&&!he(this,hD,lne).call(this,c)?null:(c.id=this.annotationElementId,c)}renderAnnotationElement(n){if(this.deleted)return n.hide(),null;const{points:i,rect:r}=this.serializeDraw(!1);return n.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:i,popup:this.comment}),null}};hD=new WeakSet,lne=function(n){const{color:i,thickness:r,opacity:a,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||n.color.some((o,c)=>o!==i[c])||n.thickness!==r||n.opacity!==a||n.pageIndex!==s},it(xv,"_type","ink"),it(xv,"_editorType",Jt.INK),it(xv,"_defaultDrawingOptions",null);let jF=xv;class $F extends VN{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const ck=8,kx=3;var d0,sN,WF,$c,fD,cne,pD,une,oN,qF,Lb,M4,mD,dne,gD,hne,yD,fne,lN,HF,cN,VF,vD,pne;class zr{static extractContoursFromText(e,{fontFamily:n,fontStyle:i,fontWeight:r},a,s,o,c){let u=new OffscreenCanvas(1,1),d=u.getContext("2d",{alpha:!1});const h=200,f=d.font=`${i} ${r} ${h}px ${n}`,{actualBoundingBoxLeft:p,actualBoundingBoxRight:w,actualBoundingBoxAscent:v,actualBoundingBoxDescent:b,fontBoundingBoxAscent:g,fontBoundingBoxDescent:y,width:_}=d.measureText(e),S=1.5,N=Math.ceil(Math.max(Math.abs(p)+Math.abs(w)||0,_)*S),R=Math.ceil(Math.max(Math.abs(v)+Math.abs(b)||h,Math.abs(g)+Math.abs(y)||h)*S);u=new OffscreenCanvas(N,R),d=u.getContext("2d",{alpha:!0,willReadFrequently:!0}),d.font=f,d.filter="grayscale(1)",d.fillStyle="white",d.fillRect(0,0,N,R),d.fillStyle="black",d.fillText(e,N*(S-1)/2,R*(3-S)/2);const D=he(this,lN,HF).call(this,d.getImageData(0,0,N,R).data),E=he(this,yD,fne).call(this,D),C=he(this,cN,VF).call(this,E),P=he(this,oN,qF).call(this,D,N,R,C);return this.processDrawnLines({lines:{curves:P,width:N,height:R},pageWidth:a,pageHeight:s,rotation:o,innerMargin:c,mustSmooth:!0,areContours:!0})}static process(e,n,i,r,a){const[s,o,c]=he(this,vD,pne).call(this,e),[u,d]=he(this,gD,hne).call(this,s,o,c,Math.hypot(o,c)*x(this,d0).sigmaSFactor,x(this,d0).sigmaR,x(this,d0).kernelSize),h=he(this,cN,VF).call(this,d),f=he(this,oN,qF).call(this,u,o,c,h);return this.processDrawnLines({lines:{curves:f,width:o,height:c},pageWidth:n,pageHeight:i,rotation:r,innerMargin:a,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:n,pageHeight:i,rotation:r,innerMargin:a,mustSmooth:s,areContours:o}){r%180!==0&&([n,i]=[i,n]);const{curves:c,width:u,height:d}=e,h=e.thickness??0,f=[],p=Math.min(n/u,i/d),w=p/n,v=p/i,b=[];for(const{points:y}of c){const _=s?he(this,mD,dne).call(this,y):y;if(!_)continue;b.push(_);const S=_.length,N=new Float32Array(S),R=new Float32Array(3*(S===2?2:S-2));if(f.push({line:R,points:N}),S===2){N[0]=_[0]*w,N[1]=_[1]*v,R.set([NaN,NaN,NaN,NaN,N[0],N[1]],0);continue}let[D,E,C,P]=_;D*=w,E*=v,C*=w,P*=v,N.set([D,E,C,P],0),R.set([NaN,NaN,NaN,NaN,D,E],0);for(let k=4;k<S;k+=2){const A=N[k]=_[k]*w,I=N[k+1]=_[k+1]*v;R.set(Nt.createBezierPoints(D,E,C,P,A,I),(k-2)*3),[D,E,C,P]=[C,P,A,I]}}if(f.length===0)return null;const g=o?new $F:new VN;return g.build(f,n,i,1,r,o?0:h,a),{outline:g,newCurves:b,areContours:o,thickness:h,width:u,height:d}}static async compressSignature({outlines:e,areContours:n,thickness:i,width:r,height:a}){let s=1/0,o=-1/0,c=0;for(const _ of e){c+=_.length;for(let S=2,N=_.length;S<N;S++){const R=_[S]-_[S-2];s=Math.min(s,R),o=Math.max(o,R)}}let u;s>=-128&&o<=127?u=Int8Array:s>=-32768&&o<=32767?u=Int16Array:u=Int32Array;const d=e.length,h=ck+kx*d,f=new Uint32Array(h);let p=0;f[p++]=h*Uint32Array.BYTES_PER_ELEMENT+(c-2*d)*u.BYTES_PER_ELEMENT,f[p++]=0,f[p++]=r,f[p++]=a,f[p++]=n?0:1,f[p++]=Math.max(0,Math.floor(i??0)),f[p++]=d,f[p++]=u.BYTES_PER_ELEMENT;for(const _ of e)f[p++]=_.length-2,f[p++]=_[0],f[p++]=_[1];const w=new CompressionStream("deflate-raw"),v=w.writable.getWriter();await v.ready,v.write(f);const b=u.prototype.constructor;for(const _ of e){const S=new b(_.length-2);for(let N=2,R=_.length;N<R;N++)S[N-2]=_[N]-_[N-2];v.write(S)}v.close();const g=await new Response(w.readable).arrayBuffer(),y=new Uint8Array(g);return dee(y)}static async decompressSignature(e){try{const n=aCe(e),{readable:i,writable:r}=new DecompressionStream("deflate-raw"),a=r.getWriter();await a.ready,a.write(n).then(async()=>{await a.ready,await a.close()}).catch(()=>{});let s=null,o=0;for await(const _ of i)s||(s=new Uint8Array(new Uint32Array(_.buffer,0,4)[0])),s.set(_,o),o+=_.length;const c=new Uint32Array(s.buffer,0,s.length>>2),u=c[1];if(u!==0)throw new Error(`Invalid version: ${u}`);const d=c[2],h=c[3],f=c[4]===0,p=c[5],w=c[6],v=c[7],b=[],g=(ck+kx*w)*Uint32Array.BYTES_PER_ELEMENT;let y;switch(v){case Int8Array.BYTES_PER_ELEMENT:y=new Int8Array(s.buffer,g);break;case Int16Array.BYTES_PER_ELEMENT:y=new Int16Array(s.buffer,g);break;case Int32Array.BYTES_PER_ELEMENT:y=new Int32Array(s.buffer,g);break}o=0;for(let _=0;_<w;_++){const S=c[kx*_+ck],N=new Float32Array(S+2);b.push(N);for(let R=0;R<kx-1;R++)N[R]=c[kx*_+ck+R+1];for(let R=0;R<S;R++)N[R+2]=N[R]+y[o++]}return{areContours:f,thickness:p,outlines:b,width:d,height:h}}catch(n){return Gt(`decompressSignature: ${n}`),null}}}d0=new WeakMap,sN=new WeakSet,WF=function(e,n,i,r){return i-=e,r-=n,i===0?r>0?0:4:i===1?r+6:2-r},$c=new WeakMap,fD=new WeakSet,cne=function(e,n,i,r,a,s,o){const c=he(this,sN,WF).call(this,i,r,a,s);for(let u=0;u<8;u++){const d=(-u+c-o+16)%8,h=x(this,$c)[2*d],f=x(this,$c)[2*d+1];if(e[(i+h)*n+(r+f)]!==0)return d}return-1},pD=new WeakSet,une=function(e,n,i,r,a,s,o){const c=he(this,sN,WF).call(this,i,r,a,s);for(let u=0;u<8;u++){const d=(u+c+o+16)%8,h=x(this,$c)[2*d],f=x(this,$c)[2*d+1];if(e[(i+h)*n+(r+f)]!==0)return d}return-1},oN=new WeakSet,qF=function(e,n,i,r){const a=e.length,s=new Int32Array(a);for(let d=0;d<a;d++)s[d]=e[d]<=r?1:0;for(let d=1;d<i-1;d++)s[d*n]=s[d*n+n-1]=0;for(let d=0;d<n;d++)s[d]=s[n*i-1-d]=0;let o=1,c;const u=[];for(let d=1;d<i-1;d++){c=1;for(let h=1;h<n-1;h++){const f=d*n+h,p=s[f];if(p===0)continue;let w=d,v=h;if(p===1&&s[f-1]===0)o+=1,v-=1;else if(p>=1&&s[f+1]===0)o+=1,v+=1,p>1&&(c=p);else{p!==1&&(c=Math.abs(p));continue}const b=[h,d],g=v===h+1,y={isHole:g,points:b,id:o,parent:0};u.push(y);let _;for(const k of u)if(k.id===c){_=k;break}_?_.isHole?y.parent=g?_.parent:c:y.parent=g?c:_.parent:y.parent=g?c:0;const S=he(this,fD,cne).call(this,s,n,d,h,w,v,0);if(S===-1){s[f]=-o,s[f]!==1&&(c=Math.abs(s[f]));continue}let N=x(this,$c)[2*S],R=x(this,$c)[2*S+1];const D=d+N,E=h+R;w=D,v=E;let C=d,P=h;for(;;){const k=he(this,pD,une).call(this,s,n,C,P,w,v,1);N=x(this,$c)[2*k],R=x(this,$c)[2*k+1];const A=C+N,I=P+R;b.push(I,A);const T=C*n+P;if(s[T+1]===0?s[T]=-o:s[T]===1&&(s[T]=o),A===d&&I===h&&C===D&&P===E){s[f]!==1&&(c=Math.abs(s[f]));break}else w=C,v=P,C=A,P=I}}}return u},Lb=new WeakSet,M4=function(e,n,i,r){if(i-n<=4){for(let D=n;D<i-2;D+=2)r.push(e[D],e[D+1]);return}const a=e[n],s=e[n+1],o=e[i-4]-a,c=e[i-3]-s,u=Math.hypot(o,c),d=o/u,h=c/u,f=d*s-h*a,p=c/o,w=1/u,v=Math.atan(p),b=Math.cos(v),g=Math.sin(v),y=w*(Math.abs(b)+Math.abs(g)),_=w*(1-y+y**2),S=Math.max(Math.atan(Math.abs(g+b)*_),Math.atan(Math.abs(g-b)*_));let N=0,R=n;for(let D=n+2;D<i-2;D+=2){const E=Math.abs(f-d*e[D+1]+h*e[D]);E>N&&(R=D,N=E)}N>(u*S)**2?(he(this,Lb,M4).call(this,e,n,R+2,r),he(this,Lb,M4).call(this,e,R,i,r)):r.push(a,s)},mD=new WeakSet,dne=function(e){const n=[],i=e.length;return he(this,Lb,M4).call(this,e,0,i,n),n.push(e[i-2],e[i-1]),n.length<=4?null:n},gD=new WeakSet,hne=function(e,n,i,r,a,s){const o=new Float32Array(s**2),c=-2*r**2,u=s>>1;for(let v=0;v<s;v++){const b=(v-u)**2;for(let g=0;g<s;g++)o[v*s+g]=Math.exp((b+(g-u)**2)/c)}const d=new Float32Array(256),h=-2*a**2;for(let v=0;v<256;v++)d[v]=Math.exp(v**2/h);const f=e.length,p=new Uint8Array(f),w=new Uint32Array(256);for(let v=0;v<i;v++)for(let b=0;b<n;b++){const g=v*n+b,y=e[g];let _=0,S=0;for(let R=0;R<s;R++){const D=v+R-u;if(!(D<0||D>=i))for(let E=0;E<s;E++){const C=b+E-u;if(C<0||C>=n)continue;const P=e[D*n+C],k=o[R*s+E]*d[Math.abs(P-y)];_+=P*k,S+=k}}const N=p[g]=Math.round(_/S);w[N]++}return[p,w]},yD=new WeakSet,fne=function(e){const n=new Uint32Array(256);for(const i of e)n[i]++;return n},lN=new WeakSet,HF=function(e){const n=e.length,i=new Uint8ClampedArray(n>>2);let r=-1/0,a=1/0;for(let o=0,c=i.length;o<c;o++){const u=i[o]=e[o<<2];r=Math.max(r,u),a=Math.min(a,u)}const s=255/(r-a);for(let o=0,c=i.length;o<c;o++)i[o]=(i[o]-a)*s;return i},cN=new WeakSet,VF=function(e){let n,i=-1/0,r=-1/0;const a=e.findIndex(c=>c!==0);let s=a,o=a;for(n=a;n<256;n++){const c=e[n];c>i&&(n-s>r&&(r=n-s,o=n-1),i=c,s=n)}for(n=o-1;n>=0&&!(e[n]>e[n+1]);n--);return n},vD=new WeakSet,pne=function(e){const n=e,{width:i,height:r}=e,{maxDim:a}=x(this,d0);let s=i,o=r;if(i>a||r>a){let f=i,p=r,w=Math.log2(Math.max(i,r)/a);const v=Math.floor(w);w=w===v?v-1:v;for(let g=0;g<w;g++){s=Math.ceil(f/2),o=Math.ceil(p/2);const y=new OffscreenCanvas(s,o);y.getContext("2d").drawImage(e,0,0,f,p,0,0,s,o),f=s,p=o,e!==n&&e.close(),e=y.transferToImageBitmap()}const b=Math.min(a/s,a/o);s=Math.round(s*b),o=Math.round(o*b)}const u=new OffscreenCanvas(s,o).getContext("2d",{willReadFrequently:!0});u.fillStyle="white",u.fillRect(0,0,s,o),u.filter="grayscale(1)",u.drawImage(e,0,0,e.width,e.height,0,0,s,o);const d=u.getImageData(0,0,s,o).data;return[he(this,lN,HF).call(this,d),s,o]},J(zr,sN),J(zr,fD),J(zr,pD),J(zr,oN),J(zr,Lb),J(zr,mD),J(zr,gD),J(zr,yD),J(zr,lN),J(zr,cN),J(zr,vD),J(zr,d0,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),J(zr,$c,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class zU extends ine{constructor(){super(),super.updateProperties({fill:Ai._defaultLineColor,"stroke-width":0})}clone(){const e=new zU;return e.updateAll(this),e}}class jU extends j6{constructor(e){super(e),super.updateProperties({stroke:Ai._defaultLineColor,"stroke-width":1})}clone(){const e=new jU(this._viewParameters);return e.updateAll(this),e}}var Jp,ed,Zp,h0;const Mo=class Mo extends hE{constructor(n){super({...n,mustBeCommitted:!0,name:"signatureEditor"});J(this,Jp,!1);J(this,ed,null);J(this,Zp,null);J(this,h0,null);this._willKeepAspectRatio=!0,ie(this,Zp,n.signatureData||null),ie(this,ed,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(n,i){Ai.initialize(n,i),this._defaultDrawingOptions=new zU,this._defaultDrawnSignatureOptions=new jU(i.viewParameters)}static getDefaultDrawingOptions(n){const i=this._defaultDrawingOptions.clone();return i.updateProperties(n),i}static get supportMultipleDrawings(){return!1}static get typesMap(){return Xt(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!x(this,ed)}}static computeTelemetryFinalData(n){const i=n.get("hasDescription");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let n,i;const{_isCopy:r}=this;if(r&&(this._isCopy=!1,n=this.x,i=this.y),super.render(),this._drawId===null)if(x(this,Zp)){const{lines:a,mustSmooth:s,areContours:o,description:c,uuid:u,heightInPage:d}=x(this,Zp),{rawDims:{pageWidth:h,pageHeight:f},rotation:p}=this.parent.viewport,w=zr.processDrawnLines({lines:a,pageWidth:h,pageHeight:f,rotation:p,innerMargin:Mo._INNER_MARGIN,mustSmooth:s,areContours:o});this.addSignature(w,d,c,u)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:x(this,ed)||""}));return r&&(this._isCopy=!0,this._moveAfterPaste(n,i)),this.div}setUuid(n){ie(this,h0,n),this.addEditToolbar()}getUuid(){return x(this,h0)}get description(){return x(this,ed)}set description(n){ie(this,ed,n),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:n})),super.addEditToolbar().then(i=>{i==null||i.updateEditSignatureButton(n)}))}getSignaturePreview(){const{newCurves:n,areContours:i,thickness:r,width:a,height:s}=x(this,Zp),o=Math.max(a,s),c=zr.processDrawnLines({lines:{curves:n.map(u=>({points:u})),thickness:r,width:a,height:s},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:i});return{areContours:i,outline:c.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(n,i,r,a){const{x:s,y:o}=this,{outline:c}=ie(this,Zp,n);ie(this,Jp,c instanceof $F),this.description=r;let u;x(this,Jp)?u=Mo.getDefaultDrawingOptions():(u=Mo._defaultDrawnSignatureOptions.clone(),u.updateProperties({"stroke-width":c.thickness})),this._addOutlines({drawOutlines:c,drawingOptions:u});const[,d]=this.pageDimensions;let h=i/d;h=h>=1?.5:h,this.width*=h/this.height,this.width>=1&&(h*=.9/this.width,this.width=.9),this.height=h,this.setDims(),this.x=s,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(a),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!a,hasDescription:!!r}}),this.div.hidden=!1}getFromImage(n){const{rawDims:{pageWidth:i,pageHeight:r},rotation:a}=this.parent.viewport;return zr.process(n,i,r,a,Mo._INNER_MARGIN)}getFromText(n,i){const{rawDims:{pageWidth:r,pageHeight:a},rotation:s}=this.parent.viewport;return zr.extractContoursFromText(n,i,r,a,s,Mo._INNER_MARGIN)}getDrawnSignature(n){const{rawDims:{pageWidth:i,pageHeight:r},rotation:a}=this.parent.viewport;return zr.processDrawnLines({lines:n,pageWidth:i,pageHeight:r,rotation:a,innerMargin:Mo._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:n,thickness:i}){n?this._drawingOptions=Mo.getDefaultDrawingOptions():(this._drawingOptions=Mo._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":i}))}serialize(n=!1){if(this.isEmpty())return null;const{lines:i,points:r}=this.serializeDraw(n),{_drawingOptions:{"stroke-width":a}}=this,s=Object.assign(super.serialize(n),{isSignature:!0,areContours:x(this,Jp),color:[0,0,0],thickness:x(this,Jp)?0:a});return this.addComment(s),n?(s.paths={lines:i,points:r},s.uuid=x(this,h0),s.isCopy=!0):s.lines=i,x(this,ed)&&(s.accessibilityData={type:"Figure",alt:x(this,ed)}),s}static deserializeDraw(n,i,r,a,s,o){return o.areContours?$F.deserialize(n,i,r,a,s,o):VN.deserialize(n,i,r,a,s,o)}static async deserialize(n,i,r){var s;const a=await super.deserialize(n,i,r);return ie(a,Jp,n.areContours),a.description=((s=n.accessibilityData)==null?void 0:s.alt)||"",ie(a,h0,n.uuid),a}};Jp=new WeakMap,ed=new WeakMap,Zp=new WeakMap,h0=new WeakMap,it(Mo,"_type","signature"),it(Mo,"_editorType",Jt.SIGNATURE),it(Mo,"_defaultDrawingOptions",null);let GF=Mo;var Bi,ia,Qp,Bh,em,Fb,zh,f0,td,al,Ob,p0,u5,m0,d5,Ub,B4,Mb,z4,Bb,j4,uN,KF,zb,$4,bD,mne;class XF extends Ai{constructor(n){super({...n,name:"stampEditor"});J(this,p0);J(this,m0);J(this,Ub);J(this,Mb);J(this,Bb);J(this,uN);J(this,zb);J(this,bD);J(this,Bi,null);J(this,ia,null);J(this,Qp,null);J(this,Bh,null);J(this,em,null);J(this,Fb,"");J(this,zh,null);J(this,f0,!1);J(this,td,null);J(this,al,!1);J(this,Ob,!1);ie(this,Bh,n.bitmapUrl),ie(this,em,n.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(n,i){Ai.initialize(n,i)}static isHandlingMimeForPasting(n){return R7.includes(n)}static paste(n,i){i.pasteEditor({mode:Jt.STAMP},{bitmapFile:n.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var n;return{type:"stamp",hasAltText:!!((n=this.altTextData)!=null&&n.altText)}}static computeTelemetryFinalData(n){const i=n.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(n=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:s,height:o}=n||this.copyCanvas(null,null,!0).imageData,c=await r.guess({name:"altText",request:{data:a,width:s,height:o,channels:a.length/(s*o)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const u=c.output;return await this.setGuessedAltText(u),i&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var n;x(this,ia)&&(ie(this,Bi,null),this._uiManager.imageManager.deleteId(x(this,ia)),(n=x(this,zh))==null||n.remove(),ie(this,zh,null),x(this,td)&&(clearTimeout(x(this,td)),ie(this,td,null))),super.remove()}rebuild(){if(!this.parent){x(this,ia)&&he(this,Ub,B4).call(this);return}super.rebuild(),this.div!==null&&(x(this,ia)&&x(this,zh)===null&&he(this,Ub,B4).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(n){this._isDraggable=!0,n&&this.div.focus()}isEmpty(){return!(x(this,Qp)||x(this,Bi)||x(this,Bh)||x(this,em)||x(this,ia)||x(this,f0))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let n,i;return this._isCopy&&(n=this.x,i=this.y),super.render(),this.div.hidden=!0,this.createAltText(),x(this,f0)||(x(this,Bi)?he(this,Mb,z4).call(this):he(this,Ub,B4).call(this)),this._isCopy&&this._moveAfterPaste(n,i),this._uiManager.addShouldRescale(this),this.div}setCanvas(n,i){const{id:r,bitmap:a}=this._uiManager.imageManager.getFromCanvas(n,i);i.remove(),r&&this._uiManager.imageManager.isValidId(r)&&(ie(this,ia,r),a&&ie(this,Bi,a),ie(this,f0,!1),he(this,Mb,z4).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;x(this,td)!==null&&clearTimeout(x(this,td)),ie(this,td,setTimeout(()=>{ie(this,td,null),he(this,uN,KF).call(this)},200))}copyCanvas(n,i,r=!1){n||(n=224);const{width:a,height:s}=x(this,Bi),o=new Sd;let c=x(this,Bi),u=a,d=s,h=null;if(i){if(a>i||s>i){const D=Math.min(i/a,i/s);u=Math.floor(a*D),d=Math.floor(s*D)}h=document.createElement("canvas");const p=h.width=Math.ceil(u*o.sx),w=h.height=Math.ceil(d*o.sy);x(this,al)||(c=he(this,Bb,j4).call(this,p,w));const v=h.getContext("2d");v.filter=this._uiManager.hcmFilter;let b="white",g="#cfcfd8";this._uiManager.hcmFilter!=="none"?g="black":dCe.isDarkMode&&(b="#8f8f9d",g="#42414d");const y=15,_=y*o.sx,S=y*o.sy,N=new OffscreenCanvas(_*2,S*2),R=N.getContext("2d");R.fillStyle=b,R.fillRect(0,0,_*2,S*2),R.fillStyle=g,R.fillRect(0,0,_,S),R.fillRect(_,S,_,S),v.fillStyle=v.createPattern(N,"repeat"),v.fillRect(0,0,p,w),v.drawImage(c,0,0,c.width,c.height,0,0,p,w)}let f=null;if(r){let p,w;if(o.symmetric&&c.width<n&&c.height<n)p=c.width,w=c.height;else if(c=x(this,Bi),a>n||s>n){const g=Math.min(n/a,n/s);p=Math.floor(a*g),w=Math.floor(s*g),x(this,al)||(c=he(this,Bb,j4).call(this,p,w))}const b=new OffscreenCanvas(p,w).getContext("2d",{willReadFrequently:!0});b.drawImage(c,0,0,c.width,c.height,0,0,p,w),f={width:p,height:w,data:b.getImageData(0,0,p,w).data}}return{canvas:h,width:u,height:d,imageData:f}}static async deserialize(n,i,r){var b;let a=null,s=!1;if(n instanceof Pte){const{data:{rect:g,rotation:y,id:_,structParent:S,popupRef:N,richText:R,contentsObj:D,creationDate:E,modificationDate:C},container:P,parent:{page:{pageNumber:k}},canvas:A}=n;let I,T;A?(delete n.canvas,{id:I,bitmap:T}=r.imageManager.getFromCanvas(P.id,A),A.remove()):(s=!0,n._hasNoCanvas=!0);const z=((b=await i._structTree.getAriaAttributes(`${fv}${_}`))==null?void 0:b.get("aria-label"))||"";a=n={annotationType:Jt.STAMP,bitmapId:I,bitmap:T,pageIndex:k-1,rect:g.slice(0),rotation:y,annotationElementId:_,id:_,deleted:!1,accessibilityData:{decorative:!1,altText:z},isSvg:!1,structParent:S,popupRef:N,richText:R,comment:(D==null?void 0:D.str)||null,creationDate:E,modificationDate:C}}const o=await super.deserialize(n,i,r),{rect:c,bitmap:u,bitmapUrl:d,bitmapId:h,isSvg:f,accessibilityData:p}=n;s?(r.addMissingCanvas(n.id,o),ie(o,f0,!0)):h&&r.imageManager.isValidId(h)?(ie(o,ia,h),u&&ie(o,Bi,u)):ie(o,Bh,d),ie(o,al,f);const[w,v]=o.pageDimensions;return o.width=(c[2]-c[0])/w,o.height=(c[3]-c[1])/v,p&&(o.altTextData=p),o._initialData=a,n.comment&&o.setCommentData(n),ie(o,Ob,!!a),o}serialize(n=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Object.assign(super.serialize(n),{bitmapId:x(this,ia),isSvg:x(this,al)});if(this.addComment(r),n)return r.bitmapUrl=he(this,zb,$4).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r.isCopy=!0,r;const{decorative:a,altText:s}=this.serializeAltText(!1);if(!a&&s&&(r.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const c=he(this,bD,mne).call(this,r);return c.isSame?null:(c.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1,r.id=this.annotationElementId,delete r.bitmapId,r)}if(i===null)return r;i.stamps||(i.stamps=new Map);const o=x(this,al)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!i.stamps.has(x(this,ia)))i.stamps.set(x(this,ia),{area:o,serialized:r}),r.bitmap=he(this,zb,$4).call(this,!1);else if(x(this,al)){const c=i.stamps.get(x(this,ia));o>c.area&&(c.area=o,c.serialized.bitmap.close(),c.serialized.bitmap=he(this,zb,$4).call(this,!1))}return r}renderAnnotationElement(n){return this.deleted?(n.hide(),null):(n.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}Bi=new WeakMap,ia=new WeakMap,Qp=new WeakMap,Bh=new WeakMap,em=new WeakMap,Fb=new WeakMap,zh=new WeakMap,f0=new WeakMap,td=new WeakMap,al=new WeakMap,Ob=new WeakMap,p0=new WeakSet,u5=function(n,i=!1){if(!n){this.remove();return}ie(this,Bi,n.bitmap),i||(ie(this,ia,n.id),ie(this,al,n.isSvg)),n.file&&ie(this,Fb,n.file.name),he(this,Mb,z4).call(this)},m0=new WeakSet,d5=function(){if(ie(this,Qp,null),this._uiManager.enableWaiting(!1),!!x(this,zh)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&x(this,Bi)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&x(this,Bi)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Ub=new WeakSet,B4=function(){if(x(this,ia)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(x(this,ia)).then(r=>he(this,p0,u5).call(this,r,!0)).finally(()=>he(this,m0,d5).call(this));return}if(x(this,Bh)){const r=x(this,Bh);ie(this,Bh,null),this._uiManager.enableWaiting(!0),ie(this,Qp,this._uiManager.imageManager.getFromUrl(r).then(a=>he(this,p0,u5).call(this,a)).finally(()=>he(this,m0,d5).call(this)));return}if(x(this,em)){const r=x(this,em);ie(this,em,null),this._uiManager.enableWaiting(!0),ie(this,Qp,this._uiManager.imageManager.getFromFile(r).then(a=>he(this,p0,u5).call(this,a)).finally(()=>he(this,m0,d5).call(this)));return}const n=document.createElement("input");n.type="file",n.accept=R7.join(",");const i=this._uiManager._signal;ie(this,Qp,new Promise(r=>{n.addEventListener("change",async()=>{if(!n.files||n.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(n.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),he(this,p0,u5).call(this,a)}r()},{signal:i}),n.addEventListener("cancel",()=>{this.remove(),r()},{signal:i})}).finally(()=>he(this,m0,d5).call(this))),n.click()},Mb=new WeakSet,z4=function(){var u;const{div:n}=this;let{width:i,height:r}=x(this,Bi);const[a,s]=this.pageDimensions,o=.75;if(this.width)i=this.width*a,r=this.height*s;else if(i>o*a||r>o*s){const d=Math.min(o*a/i,o*s/r);i*=d,r*=d}this._uiManager.enableWaiting(!1);const c=ie(this,zh,document.createElement("canvas"));c.setAttribute("role","img"),this.addContainer(c),this.width=i/a,this.height=r/s,this.setDims(),(u=this._initialOptions)!=null&&u.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(n.hidden=!1),he(this,uN,KF).call(this),x(this,Ob)||(this.parent.addUndoableEditor(this),ie(this,Ob,!0)),this._reportTelemetry({action:"inserted_image"}),x(this,Fb)&&this.div.setAttribute("aria-description",x(this,Fb)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},Bb=new WeakSet,j4=function(n,i){const{width:r,height:a}=x(this,Bi);let s=r,o=a,c=x(this,Bi);for(;s>2*n||o>2*i;){const u=s,d=o;s>2*n&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),o>2*i&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const h=new OffscreenCanvas(s,o);h.getContext("2d").drawImage(c,0,0,u,d,0,0,s,o),c=h.transferToImageBitmap()}return c},uN=new WeakSet,KF=function(){const[n,i]=this.parentDimensions,{width:r,height:a}=this,s=new Sd,o=Math.ceil(r*n*s.sx),c=Math.ceil(a*i*s.sy),u=x(this,zh);if(!u||u.width===o&&u.height===c)return;u.width=o,u.height=c;const d=x(this,al)?x(this,Bi):he(this,Bb,j4).call(this,o,c),h=u.getContext("2d");h.filter=this._uiManager.hcmFilter,h.drawImage(d,0,0,d.width,d.height,0,0,o,c)},zb=new WeakSet,$4=function(n){if(n){if(x(this,al)){const a=this._uiManager.imageManager.getSvgUrl(x(this,ia));if(a)return a}const i=document.createElement("canvas");return{width:i.width,height:i.height}=x(this,Bi),i.getContext("2d").drawImage(x(this,Bi),0,0),i.toDataURL()}if(x(this,al)){const[i,r]=this.pageDimensions,a=Math.round(this.width*i*Fm.PDF_TO_CSS_UNITS),s=Math.round(this.height*r*Fm.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(a,s);return o.getContext("2d").drawImage(x(this,Bi),0,0,x(this,Bi).width,x(this,Bi).height,0,0,a,s),o.transferToImageBitmap()}return structuredClone(x(this,Bi))},bD=new WeakSet,mne=function(n){var o;const{pageIndex:i,accessibilityData:{altText:r}}=this._initialData,a=n.pageIndex===i,s=(((o=n.accessibilityData)==null?void 0:o.alt)||"")===r;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&a&&s,isSameAltText:s}},it(XF,"_type","stamp"),it(XF,"_editorType",Jt.STAMP);var g0,jb,tm,nm,jh,Qs,im,$b,Wb,Wc,$h,ra,Wh,rm,qb,Rt,am,dN,JF,wD,gne,Jl,Tu,hN,ZF,fN,QF,Hb,W4;const Tc=class Tc{constructor({uiManager:e,pageIndex:n,div:i,structTreeLayer:r,accessibilityManager:a,annotationLayer:s,drawLayer:o,textLayer:c,viewport:u,l10n:d}){J(this,dN);J(this,wD);J(this,Jl);J(this,hN);J(this,fN);J(this,Hb);J(this,g0,void 0);J(this,jb,!1);J(this,tm,null);J(this,nm,null);J(this,jh,null);J(this,Qs,new Map);J(this,im,!1);J(this,$b,!1);J(this,Wb,!1);J(this,Wc,null);J(this,$h,null);J(this,ra,null);J(this,Wh,null);J(this,rm,null);J(this,qb,-1);J(this,Rt,void 0);const h=[...x(Tc,am).values()];if(!Tc._initialized){Tc._initialized=!0;for(const f of h)f.initialize(d,e)}e.registerEditorTypes(h),ie(this,Rt,e),this.pageIndex=n,this.div=i,ie(this,g0,a),ie(this,tm,s),this.viewport=u,ie(this,ra,c),this.drawLayer=o,this._structTree=r,x(this,Rt).addLayer(this)}get isEmpty(){return x(this,Qs).size===0}get isInvisible(){return this.isEmpty&&x(this,Rt).getMode()===Jt.NONE}updateToolbar(e){x(this,Rt).updateToolbar(e)}updateMode(e=x(this,Rt).getMode()){switch(he(this,Hb,W4).call(this),e){case Jt.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Jt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Jt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:n}=this.div;if(n.toggle("nonEditing",!1),e===Jt.POPUP)n.toggle("commentEditing",!0);else{n.toggle("commentEditing",!1);for(const i of x(Tc,am).values())n.toggle(`${i._type}Editing`,e===i._editorType)}this.div.hidden=!1}hasTextLayer(e){var n;return e===((n=x(this,ra))==null?void 0:n.div)}setEditingState(e){x(this,Rt).setEditingState(e)}addCommands(e){x(this,Rt).addCommands(e)}cleanUndoStack(e){x(this,Rt).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var n;(n=x(this,tm))==null||n.togglePointerEvents(e)}async enable(){var i;ie(this,Wb,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(i=x(this,rm))==null||i.abort(),ie(this,rm,null);const e=new Set;for(const r of x(this,dN,JF))r.enableEditing(),r.show(!0),r.annotationElementId&&(x(this,Rt).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));const n=x(this,tm);if(n)for(const r of n.getEditableAnnotations()){if(r.hide(),x(this,Rt).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const a=await this.deserialize(r);a&&(this.addOrRebuild(a),a.enableEditing())}ie(this,Wb,!1),x(this,Rt)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var r;if(ie(this,$b,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),x(this,ra)&&!x(this,rm)){ie(this,rm,new AbortController);const a=x(this,Rt).combinedSignal(x(this,rm));x(this,ra).div.addEventListener("pointerdown",s=>{const{clientX:c,clientY:u,timeStamp:d}=s,h=x(this,qb);if(d-h>500){ie(this,qb,d);return}ie(this,qb,-1);const{classList:f}=this.div;f.toggle("getElements",!0);const p=document.elementsFromPoint(c,u);if(f.toggle("getElements",!1),!this.div.contains(p[0]))return;let w;const v=new RegExp(`^${u_}[0-9]+$`);for(const g of p)if(v.test(g.id)){w=g.id;break}if(!w)return;const b=x(this,Qs).get(w);(b==null?void 0:b.annotationElementId)===null&&(s.stopPropagation(),s.preventDefault(),b.dblclick(s))},{signal:a,capture:!0})}const e=x(this,tm),n=[];if(e){const a=new Map,s=new Map;for(const c of x(this,dN,JF)){if(c.disableEditing(),!c.annotationElementId){n.push(c);continue}if(c.serialize()!==null){a.set(c.annotationElementId,c);continue}else s.set(c.annotationElementId,c);(r=this.getEditableAnnotation(c.annotationElementId))==null||r.show(),c.remove()}const o=e.getEditableAnnotations();for(const c of o){const{id:u}=c.data;if(x(this,Rt).isDeletedAnnotationElement(u)){c.updateEdited({deleted:!0});continue}let d=s.get(u);if(d){d.resetAnnotationElement(c),d.show(!1),c.show();continue}d=a.get(u),d&&(x(this,Rt).addChangedExistingAnnotation(d),d.renderAnnotationElement(c)&&d.show(!1)),c.show()}}he(this,Hb,W4).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const a of x(Tc,am).values())i.remove(`${a._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e==null||e.updateFakeAnnotations(n),ie(this,$b,!1)}getEditableAnnotation(e){var n;return((n=x(this,tm))==null?void 0:n.getEditableAnnotation(e))||null}setActiveEditor(e){x(this,Rt).getActive()!==e&&x(this,Rt).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=x(this,ra))!=null&&e.div&&!x(this,Wh)){ie(this,Wh,new AbortController);const n=x(this,Rt).combinedSignal(x(this,Wh));x(this,ra).div.addEventListener("pointerdown",he(this,wD,gne).bind(this),{signal:n}),x(this,ra).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=x(this,ra))!=null&&e.div&&x(this,Wh)&&(x(this,Wh).abort(),ie(this,Wh,null),x(this,ra).div.classList.remove("highlighting"))}enableClick(){if(x(this,nm))return;ie(this,nm,new AbortController);const e=x(this,Rt).combinedSignal(x(this,nm));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const n=this.pointerup.bind(this);this.div.addEventListener("pointerup",n,{signal:e}),this.div.addEventListener("pointercancel",n,{signal:e})}disableClick(){var e;(e=x(this,nm))==null||e.abort(),ie(this,nm,null)}attach(e){x(this,Qs).set(e.id,e);const{annotationElementId:n}=e;n&&x(this,Rt).isDeletedAnnotationElement(n)&&x(this,Rt).removeDeletedAnnotationElement(e)}detach(e){var n;x(this,Qs).delete(e.id),(n=x(this,g0))==null||n.removePointerInTextLayer(e.contentDiv),!x(this,$b)&&e.annotationElementId&&x(this,Rt).addDeletedAnnotationElement(e)}remove(e){this.detach(e),x(this,Rt).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var n;e.parent!==this&&(e.parent&&e.annotationElementId&&(x(this,Rt).addDeletedAnnotationElement(e),Ai.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(n=e.parent)==null||n.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),x(this,Rt).addEditor(e),this.attach(e),!e.isAttachedToDOM){const n=e.render();this.div.append(n),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!x(this,Wb)),x(this,Rt).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var i;if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!x(this,jh)&&(e._focusEventsAllowed=!1,ie(this,jh,setTimeout(()=>{ie(this,jh,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:x(this,Rt)._signal}),n.focus())},0))),e._structTreeParentId=(i=x(this,g0))==null?void 0:i.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const n=()=>e._uiManager.rebuild(e),i=()=>{e.remove()};this.addCommands({cmd:n,undo:i,mustExec:!1})}getEditorByUID(e){for(const n of x(this,Qs).values())if(n.uid===e)return n;return null}getNextId(){return x(this,Rt).getId()}combinedSignal(e){return x(this,Rt).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=x(this,Jl,Tu))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,n){this.updateToolbar(e),await x(this,Rt).updateMode(e.mode);const{offsetX:i,offsetY:r}=he(this,fN,QF).call(this),a=this.getNextId(),s=he(this,hN,ZF).call(this,{parent:this,id:a,x:i,y:r,uiManager:x(this,Rt),isCentered:!0,...n});s&&this.add(s)}async deserialize(e){var n;return await((n=x(Tc,am).get(e.annotationType??e.annotationEditorType))==null?void 0:n.deserialize(e,this,x(this,Rt)))||null}createAndAddNewEditor(e,n,i={}){const r=this.getNextId(),a=he(this,hN,ZF).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:x(this,Rt),isCentered:n,...i});return a&&this.add(a),a}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(he(this,fN,QF).call(this),!0,e)}setSelected(e){x(this,Rt).setSelected(e)}toggleSelected(e){x(this,Rt).toggleSelected(e)}unselect(e){x(this,Rt).unselect(e)}pointerup(e){var r;const{isMac:n}=Wr.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div||!x(this,im)||(ie(this,im,!1),(r=x(this,Jl,Tu))!=null&&r.isDrawer&&x(this,Jl,Tu).supportMultipleDrawings))return;if(!x(this,jb)){ie(this,jb,!0);return}const i=x(this,Rt).getMode();if(i===Jt.STAMP||i===Jt.SIGNATURE){x(this,Rt).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var r;if(x(this,Rt).getMode()===Jt.HIGHLIGHT&&this.enableTextSelection(),x(this,im)){ie(this,im,!1);return}const{isMac:n}=Wr.platform;if(e.button!==0||e.ctrlKey&&n||e.target!==this.div)return;if(ie(this,im,!0),(r=x(this,Jl,Tu))!=null&&r.isDrawer){this.startDrawingSession(e);return}const i=x(this,Rt).getActive();ie(this,jb,!i||i.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),x(this,Wc)){x(this,Jl,Tu).startDrawing(this,x(this,Rt),!1,e);return}x(this,Rt).setCurrentDrawingSession(this),ie(this,Wc,new AbortController);const n=x(this,Rt).combinedSignal(x(this,Wc));this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(ie(this,$h,null),this.commitOrRemove())},{signal:n}),x(this,Jl,Tu).startDrawing(this,x(this,Rt),!1,e)}pause(e){if(e){const{activeElement:n}=document;this.div.contains(n)&&ie(this,$h,n);return}x(this,$h)&&setTimeout(()=>{var n;(n=x(this,$h))==null||n.focus(),ie(this,$h,null)},0)}endDrawingSession(e=!1){return x(this,Wc)?(x(this,Rt).setCurrentDrawingSession(null),x(this,Wc).abort(),ie(this,Wc,null),ie(this,$h,null),x(this,Jl,Tu).endDrawing(e)):null}findNewParent(e,n,i){const r=x(this,Rt).findParent(n,i);return r===null||r===this?!1:(r.changeParent(e),!0)}commitOrRemove(){return x(this,Wc)?(this.endDrawingSession(),!0):!1}onScaleChanging(){x(this,Wc)&&x(this,Jl,Tu).onScaleChangingWhenDrawing(this)}destroy(){var e,n;this.commitOrRemove(),((e=x(this,Rt).getActive())==null?void 0:e.parent)===this&&(x(this,Rt).commitOrRemove(),x(this,Rt).setActiveEditor(null)),x(this,jh)&&(clearTimeout(x(this,jh)),ie(this,jh,null));for(const i of x(this,Qs).values())(n=x(this,g0))==null||n.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,x(this,Qs).clear(),x(this,Rt).removeLayer(this)}render({viewport:e}){this.viewport=e,$0(this.div,e);for(const n of x(this,Rt).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update({viewport:e}){x(this,Rt).commitOrRemove(),he(this,Hb,W4).call(this);const n=this.viewport.rotation,i=e.rotation;if(this.viewport=e,$0(this.div,{rotation:i}),n!==i)for(const r of x(this,Qs).values())r.rotate(i)}get pageDimensions(){const{pageWidth:e,pageHeight:n}=this.viewport.rawDims;return[e,n]}get scale(){return x(this,Rt).viewParameters.realScale}};g0=new WeakMap,jb=new WeakMap,tm=new WeakMap,nm=new WeakMap,jh=new WeakMap,Qs=new WeakMap,im=new WeakMap,$b=new WeakMap,Wb=new WeakMap,Wc=new WeakMap,$h=new WeakMap,ra=new WeakMap,Wh=new WeakMap,rm=new WeakMap,qb=new WeakMap,Rt=new WeakMap,am=new WeakMap,dN=new WeakSet,JF=function(){return x(this,Qs).size!==0?x(this,Qs).values():x(this,Rt).getEditors(this.pageIndex)},wD=new WeakSet,gne=function(e){x(this,Rt).unselectAll();const{target:n}=e;if(n===x(this,ra).div||(n.getAttribute("role")==="img"||n.classList.contains("endOfContent"))&&x(this,ra).div.contains(n)){const{isMac:i}=Wr.platform;if(e.button!==0||e.ctrlKey&&i)return;x(this,Rt).showAllEditors("highlight",!0,!0),x(this,ra).div.classList.add("free"),this.toggleDrawing(),dE.startHighlighting(this,x(this,Rt).direction==="ltr",{target:x(this,ra).div,x:e.x,y:e.y}),x(this,ra).div.addEventListener("pointerup",()=>{x(this,ra).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:x(this,Rt)._signal}),e.preventDefault()}},Jl=new WeakSet,Tu=function(){return x(Tc,am).get(x(this,Rt).getMode())},hN=new WeakSet,ZF=function(e){const n=x(this,Jl,Tu);return n?new n.prototype.constructor(e):null},fN=new WeakSet,QF=function(){const{x:e,y:n,width:i,height:r}=this.boundingClientRect,a=Math.max(0,e),s=Math.max(0,n),o=Math.min(window.innerWidth,e+i),c=Math.min(window.innerHeight,n+r),u=(a+o)/2-e,d=(s+c)/2-n,[h,f]=this.viewport.rotation%180===0?[u,d]:[d,u];return{offsetX:h,offsetY:f}},Hb=new WeakSet,W4=function(){for(const e of x(this,Qs).values())e.isEmpty()&&e.remove()},it(Tc,"_initialized",!1),J(Tc,am,new Map([PF,jF,XF,dE,GF].map(e=>[e._editorType,e])));let YF=Tc;var qc,Cs,y0,pN,xD,yne,mN,tO,_D,vne,gN,nO;const Ur=class Ur{constructor({pageIndex:e}){J(this,mN);J(this,_D);J(this,gN);J(this,qc,null);J(this,Cs,new Map);J(this,y0,new Map);this.pageIndex=e}setParent(e){if(!x(this,qc)){ie(this,qc,e);return}if(x(this,qc)!==e){if(x(this,Cs).size>0)for(const n of x(this,Cs).values())n.remove(),e.append(n);ie(this,qc,e)}}static get _svgFactory(){return Xt(this,"_svgFactory",new cE)}draw(e,n=!1,i=!1){const r=Fr(Ur,pN)._++,a=he(this,mN,tO).call(this),s=Ur._svgFactory.createElement("defs");a.append(s);const o=Ur._svgFactory.createElement("path");s.append(o);const c=`path_p${this.pageIndex}_${r}`;o.setAttribute("id",c),o.setAttribute("vector-effect","non-scaling-stroke"),n&&x(this,y0).set(r,o);const u=i?he(this,_D,vne).call(this,s,c):null,d=Ur._svgFactory.createElement("use");return a.append(d),d.setAttribute("href",`#${c}`),this.updateProperties(a,e),x(this,Cs).set(r,a),{id:r,clipPathId:`url(#${u})`}}drawOutline(e,n){const i=Fr(Ur,pN)._++,r=he(this,mN,tO).call(this),a=Ur._svgFactory.createElement("defs");r.append(a);const s=Ur._svgFactory.createElement("path");a.append(s);const o=`path_p${this.pageIndex}_${i}`;s.setAttribute("id",o),s.setAttribute("vector-effect","non-scaling-stroke");let c;if(n){const h=Ur._svgFactory.createElement("mask");a.append(h),c=`mask_p${this.pageIndex}_${i}`,h.setAttribute("id",c),h.setAttribute("maskUnits","objectBoundingBox");const f=Ur._svgFactory.createElement("rect");h.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const p=Ur._svgFactory.createElement("use");h.append(p),p.setAttribute("href",`#${o}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const u=Ur._svgFactory.createElement("use");r.append(u),u.setAttribute("href",`#${o}`),c&&u.setAttribute("mask",`url(#${c})`);const d=u.cloneNode();return r.append(d),u.classList.add("mainOutline"),d.classList.add("secondaryOutline"),this.updateProperties(r,e),x(this,Cs).set(i,r),i}finalizeDraw(e,n){x(this,y0).delete(e),this.updateProperties(e,n)}updateProperties(e,n){var c;if(!n)return;const{root:i,bbox:r,rootClass:a,path:s}=n,o=typeof e=="number"?x(this,Cs).get(e):e;if(o){if(i&&he(this,gN,nO).call(this,o,i),r&&he(c=Ur,xD,yne).call(c,o,r),a){const{classList:u}=o;for(const[d,h]of Object.entries(a))u.toggle(d,h)}if(s){const d=o.firstElementChild.firstElementChild;he(this,gN,nO).call(this,d,s)}}}updateParent(e,n){if(n===this)return;const i=x(this,Cs).get(e);i&&(x(n,qc).append(i),x(this,Cs).delete(e),x(n,Cs).set(e,i))}remove(e){x(this,y0).delete(e),x(this,qc)!==null&&(x(this,Cs).get(e).remove(),x(this,Cs).delete(e))}destroy(){ie(this,qc,null);for(const e of x(this,Cs).values())e.remove();x(this,Cs).clear(),x(this,y0).clear()}};qc=new WeakMap,Cs=new WeakMap,y0=new WeakMap,pN=new WeakMap,xD=new WeakSet,yne=function(e,[n,i,r,a]){const{style:s}=e;s.top=`${100*i}%`,s.left=`${100*n}%`,s.width=`${100*r}%`,s.height=`${100*a}%`},mN=new WeakSet,tO=function(){const e=Ur._svgFactory.create(1,1,!0);return x(this,qc).append(e),e.setAttribute("aria-hidden",!0),e},_D=new WeakSet,vne=function(e,n){const i=Ur._svgFactory.createElement("clipPath");e.append(i);const r=`clip_${n}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");const a=Ur._svgFactory.createElement("use");return i.append(a),a.setAttribute("href",`#${n}`),a.classList.add("clip"),r},gN=new WeakSet,nO=function(e,n){for(const[i,r]of Object.entries(n))r===null?e.removeAttribute(i):e.setAttribute(i,r)},J(Ur,xD),J(Ur,pN,0);let eO=Ur;globalThis._pdfjsTestingUtils={HighlightOutliner:RF};globalThis.pdfjsLib={AbortException:Lm,AnnotationEditorLayer:YF,AnnotationEditorParamsType:bn,AnnotationEditorType:Jt,AnnotationEditorUIManager:W0,AnnotationLayer:TF,AnnotationMode:lp,AnnotationType:_r,applyOpacity:fCe,build:wEe,ColorPicker:oE,createValidAbsoluteUrl:oee,CSSConstants:hCe,DOMSVGFactory:cE,DrawLayer:eO,FeatureTest:Wr,fetchData:jN,findContrastColor:pCe,getDocument:mte,getFilenameFromUrl:sCe,getPdfFilenameFromUrl:oCe,getRGB:WN,getUuid:uee,getXfaPageViewport:cCe,GlobalWorkerOptions:od,ImageKind:u4,InvalidPDFException:P7,isDataScheme:B6,isPdfFile:LU,isValidExplicitDest:NCe,MathClamp:Ts,noContextMenu:fc,normalizeUnicode:iCe,OPS:d_,OutputScale:Sd,PasswordResponses:X4e,PDFDataRangeTransport:gte,PDFDateString:tE,PDFWorker:p_,PermissionFlag:G4e,PixelsPerInch:Fm,RenderingCancelledException:RU,renderRichText:fee,ResponseException:eE,setLayerDimensions:$0,shadow:Xt,SignatureExtractor:zr,stopEvent:rr,SupportedImageMimeTypes:R7,TextLayer:f_,TouchManager:iE,updateUrlHash:lee,Util:_t,VerbosityLevel:O6,version:bte,XfaLayer:hee};var lu={},$U="1.13.7",Mq=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},$6=Array.prototype,WU=Object.prototype,Bq=typeof Symbol<"u"?Symbol.prototype:null,qEe=$6.push,GN=$6.slice,m_=WU.toString,HEe=WU.hasOwnProperty,bne=typeof ArrayBuffer<"u",VEe=typeof DataView<"u",GEe=Array.isArray,zq=Object.keys,jq=Object.create,$q=bne&&ArrayBuffer.isView,XEe=isNaN,KEe=isFinite,wne=!{toString:null}.propertyIsEnumerable("toString"),Wq=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],YEe=Math.pow(2,53)-1;function Us(t,e){return e=e==null?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),i=Array(n),r=0;r<n;r++)i[r]=arguments[r+e];switch(e){case 0:return t.call(this,i);case 1:return t.call(this,arguments[0],i);case 2:return t.call(this,arguments[0],arguments[1],i)}var a=Array(e+1);for(r=0;r<e;r++)a[r]=arguments[r];return a[e]=i,t.apply(this,a)}}function Xm(t){var e=typeof t;return e==="function"||e==="object"&&!!t}function xne(t){return t===null}function qU(t){return t===void 0}function HU(t){return t===!0||t===!1||m_.call(t)==="[object Boolean]"}function _ne(t){return!!(t&&t.nodeType===1)}function ds(t){var e="[object "+t+"]";return function(n){return m_.call(n)===e}}const W6=ds("String"),VU=ds("Number"),Sne=ds("Date"),Ane=ds("RegExp"),Nne=ds("Error"),GU=ds("Symbol"),XU=ds("ArrayBuffer");var kne=ds("Function"),JEe=Mq.document&&Mq.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof JEe!="function"&&(kne=function(t){return typeof t=="function"||!1});const us=kne,Cne=ds("Object");var Ene=VEe&&(!/\[native code\]/.test(String(DataView))||Cne(new DataView(new ArrayBuffer(8)))),KU=typeof Map<"u"&&Cne(new Map),ZEe=ds("DataView");function QEe(t){return t!=null&&us(t.getInt8)&&XU(t.buffer)}const g_=Ene?QEe:ZEe,Km=GEe||ds("Array");function Ym(t,e){return t!=null&&HEe.call(t,e)}var iO=ds("Arguments");(function(){iO(arguments)||(iO=function(t){return Ym(t,"callee")})})();const q6=iO;function Tne(t){return!GU(t)&&KEe(t)&&!isNaN(parseFloat(t))}function YU(t){return VU(t)&&XEe(t)}function JU(t){return function(){return t}}function Dne(t){return function(e){var n=t(e);return typeof n=="number"&&n>=0&&n<=YEe}}function Pne(t){return function(e){return e==null?void 0:e[t]}}const fE=Pne("byteLength"),eTe=Dne(fE);var tTe=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function nTe(t){return $q?$q(t)&&!g_(t):eTe(t)&&tTe.test(m_.call(t))}const ZU=bne?nTe:JU(!1),go=Pne("length");function iTe(t){for(var e={},n=t.length,i=0;i<n;++i)e[t[i]]=!0;return{contains:function(r){return e[r]===!0},push:function(r){return e[r]=!0,t.push(r)}}}function Ine(t,e){e=iTe(e);var n=Wq.length,i=t.constructor,r=us(i)&&i.prototype||WU,a="constructor";for(Ym(t,a)&&!e.contains(a)&&e.push(a);n--;)a=Wq[n],a in t&&t[a]!==r[a]&&!e.contains(a)&&e.push(a)}function qr(t){if(!Xm(t))return[];if(zq)return zq(t);var e=[];for(var n in t)Ym(t,n)&&e.push(n);return wne&&Ine(t,e),e}function Rne(t){if(t==null)return!0;var e=go(t);return typeof e=="number"&&(Km(t)||W6(t)||q6(t))?e===0:go(qr(t))===0}function QU(t,e){var n=qr(e),i=n.length;if(t==null)return!i;for(var r=Object(t),a=0;a<i;a++){var s=n[a];if(e[s]!==r[s]||!(s in r))return!1}return!0}function Bn(t){if(t instanceof Bn)return t;if(!(this instanceof Bn))return new Bn(t);this._wrapped=t}Bn.VERSION=$U;Bn.prototype.value=function(){return this._wrapped};Bn.prototype.valueOf=Bn.prototype.toJSON=Bn.prototype.value;Bn.prototype.toString=function(){return String(this._wrapped)};function qq(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,fE(t))}var Hq="[object DataView]";function rO(t,e,n,i){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var r=typeof t;return r!=="function"&&r!=="object"&&typeof e!="object"?!1:Lne(t,e,n,i)}function Lne(t,e,n,i){t instanceof Bn&&(t=t._wrapped),e instanceof Bn&&(e=e._wrapped);var r=m_.call(t);if(r!==m_.call(e))return!1;if(Ene&&r=="[object Object]"&&g_(t)){if(!g_(e))return!1;r=Hq}switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return Bq.valueOf.call(t)===Bq.valueOf.call(e);case"[object ArrayBuffer]":case Hq:return Lne(qq(t),qq(e),n,i)}var a=r==="[object Array]";if(!a&&ZU(t)){var s=fE(t);if(s!==fE(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;a=!0}if(!a){if(typeof t!="object"||typeof e!="object")return!1;var o=t.constructor,c=e.constructor;if(o!==c&&!(us(o)&&o instanceof o&&us(c)&&c instanceof c)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],i=i||[];for(var u=n.length;u--;)if(n[u]===t)return i[u]===e;if(n.push(t),i.push(e),a){if(u=t.length,u!==e.length)return!1;for(;u--;)if(!rO(t[u],e[u],n,i))return!1}else{var d=qr(t),h;if(u=d.length,qr(e).length!==u)return!1;for(;u--;)if(h=d[u],!(Ym(e,h)&&rO(t[h],e[h],n,i)))return!1}return n.pop(),i.pop(),!0}function Fne(t,e){return rO(t,e)}function Ow(t){if(!Xm(t))return[];var e=[];for(var n in t)e.push(n);return wne&&Ine(t,e),e}function eM(t){var e=go(t);return function(n){if(n==null)return!1;var i=Ow(n);if(go(i))return!1;for(var r=0;r<e;r++)if(!us(n[t[r]]))return!1;return t!==Mne||!us(n[tM])}}var tM="forEach",One="has",nM=["clear","delete"],Une=["get",One,"set"],rTe=nM.concat(tM,Une),Mne=nM.concat(Une),aTe=["add"].concat(nM,tM,One);const Bne=KU?eM(rTe):ds("Map"),zne=KU?eM(Mne):ds("WeakMap"),jne=KU?eM(aTe):ds("Set"),$ne=ds("WeakSet");function ay(t){for(var e=qr(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i}function Wne(t){for(var e=qr(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=[e[r],t[e[r]]];return i}function iM(t){for(var e={},n=qr(t),i=0,r=n.length;i<r;i++)e[t[n[i]]]=n[i];return e}function y_(t){var e=[];for(var n in t)us(t[n])&&e.push(n);return e.sort()}function rM(t,e){return function(n){var i=arguments.length;if(e&&(n=Object(n)),i<2||n==null)return n;for(var r=1;r<i;r++)for(var a=arguments[r],s=t(a),o=s.length,c=0;c<o;c++){var u=s[c];(!e||n[u]===void 0)&&(n[u]=a[u])}return n}}const aM=rM(Ow),lw=rM(qr),sM=rM(Ow,!0);function sTe(){return function(){}}function qne(t){if(!Xm(t))return{};if(jq)return jq(t);var e=sTe();e.prototype=t;var n=new e;return e.prototype=null,n}function Hne(t,e){var n=qne(t);return e&&lw(n,e),n}function Vne(t){return Xm(t)?Km(t)?t.slice():aM({},t):t}function Gne(t,e){return e(t),t}function oM(t){return Km(t)?t:[t]}Bn.toPath=oM;function XN(t){return Bn.toPath(t)}function lM(t,e){for(var n=e.length,i=0;i<n;i++){if(t==null)return;t=t[e[i]]}return n?t:void 0}function cM(t,e,n){var i=lM(t,XN(e));return qU(i)?n:i}function Xne(t,e){e=XN(e);for(var n=e.length,i=0;i<n;i++){var r=e[i];if(!Ym(t,r))return!1;t=t[r]}return!!n}function H6(t){return t}function H0(t){return t=lw({},t),function(e){return QU(e,t)}}function V6(t){return t=XN(t),function(e){return lM(e,t)}}function KN(t,e,n){if(e===void 0)return t;switch(n??3){case 1:return function(i){return t.call(e,i)};case 3:return function(i,r,a){return t.call(e,i,r,a)};case 4:return function(i,r,a,s){return t.call(e,i,r,a,s)}}return function(){return t.apply(e,arguments)}}function Kne(t,e,n){return t==null?H6:us(t)?KN(t,e,n):Xm(t)&&!Km(t)?H0(t):V6(t)}function G6(t,e){return Kne(t,e,1/0)}Bn.iteratee=G6;function bo(t,e,n){return Bn.iteratee!==G6?Bn.iteratee(t,e):Kne(t,e,n)}function Yne(t,e,n){e=bo(e,n);for(var i=qr(t),r=i.length,a={},s=0;s<r;s++){var o=i[s];a[o]=e(t[o],o,t)}return a}function uM(){}function Jne(t){return t==null?uM:function(e){return cM(t,e)}}function Zne(t,e,n){var i=Array(Math.max(0,t));e=KN(e,n,1);for(var r=0;r<t;r++)i[r]=e(r);return i}function pE(t,e){return e==null&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}const cw=Date.now||function(){return new Date().getTime()};function Qne(t){var e=function(a){return t[a]},n="(?:"+qr(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(a){return a=a==null?"":""+a,i.test(a)?a.replace(r,e):a}}const eie={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},tie=Qne(eie),oTe=iM(eie),nie=Qne(oTe),iie=Bn.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var cI=/(.)^/,lTe={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},cTe=/\\|'|\r|\n|\u2028|\u2029/g;function uTe(t){return"\\"+lTe[t]}var dTe=/^\s*(\w|\$)+\s*$/;function rie(t,e,n){!e&&n&&(e=n),e=sM({},e,Bn.templateSettings);var i=RegExp([(e.escape||cI).source,(e.interpolate||cI).source,(e.evaluate||cI).source].join("|")+"|$","g"),r=0,a="__p+='";t.replace(i,function(u,d,h,f,p){return a+=t.slice(r,p).replace(cTe,uTe),r=p+u.length,d?a+=`'+
((__t=(`+d+`))==null?'':_.escape(__t))+
'`:h?a+=`'+
((__t=(`+h+`))==null?'':__t)+
'`:f&&(a+=`';
`+f+`
__p+='`),u}),a+=`';
`;var s=e.variable;if(s){if(!dTe.test(s))throw new Error("variable is not a bare identifier: "+s)}else a=`with(obj||{}){
`+a+`}
`,s="obj";a=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+a+`return __p;
`;var o;try{o=new Function(s,"_",a)}catch(u){throw u.source=a,u}var c=function(u){return o.call(this,u,Bn)};return c.source="function("+s+`){
`+a+"}",c}function aie(t,e,n){e=XN(e);var i=e.length;if(!i)return us(n)?n.call(t):n;for(var r=0;r<i;r++){var a=t==null?void 0:t[e[r]];a===void 0&&(a=n,r=i),t=us(a)?a.call(t):a}return t}var hTe=0;function sie(t){var e=++hTe+"";return t?t+e:e}function oie(t){var e=Bn(t);return e._chain=!0,e}function lie(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var a=qne(t.prototype),s=t.apply(a,r);return Xm(s)?s:a}var sy=Us(function(t,e){var n=sy.placeholder,i=function(){for(var r=0,a=e.length,s=Array(a),o=0;o<a;o++)s[o]=e[o]===n?arguments[r++]:e[o];for(;r<arguments.length;)s.push(arguments[r++]);return lie(t,i,this,this,s)};return i});sy.placeholder=Bn;const dM=Us(function(t,e,n){if(!us(t))throw new TypeError("Bind must be called on a function");var i=Us(function(r){return lie(t,i,e,this,n.concat(r))});return i}),xl=Dne(go);function oy(t,e,n,i){if(i=i||[],!e&&e!==0)e=1/0;else if(e<=0)return i.concat(t);for(var r=i.length,a=0,s=go(t);a<s;a++){var o=t[a];if(xl(o)&&(Km(o)||q6(o)))if(e>1)oy(o,e-1,n,i),r=i.length;else for(var c=0,u=o.length;c<u;)i[r++]=o[c++];else n||(i[r++]=o)}return i}const cie=Us(function(t,e){e=oy(e,!1,!1);var n=e.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var i=e[n];t[i]=dM(t[i],t)}return t});function uie(t,e){var n=function(i){var r=n.cache,a=""+(e?e.apply(this,arguments):i);return Ym(r,a)||(r[a]=t.apply(this,arguments)),r[a]};return n.cache={},n}const hM=Us(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)}),die=sy(hM,Bn,1);function hie(t,e,n){var i,r,a,s,o=0;n||(n={});var c=function(){o=n.leading===!1?0:cw(),i=null,s=t.apply(r,a),i||(r=a=null)},u=function(){var d=cw();!o&&n.leading===!1&&(o=d);var h=e-(d-o);return r=this,a=arguments,h<=0||h>e?(i&&(clearTimeout(i),i=null),o=d,s=t.apply(r,a),i||(r=a=null)):!i&&n.trailing!==!1&&(i=setTimeout(c,h)),s};return u.cancel=function(){clearTimeout(i),o=0,i=r=a=null},u}function fie(t,e,n){var i,r,a,s,o,c=function(){var d=cw()-r;e>d?i=setTimeout(c,e-d):(i=null,n||(s=t.apply(o,a)),i||(a=o=null))},u=Us(function(d){return o=this,a=d,r=cw(),i||(i=setTimeout(c,e),n&&(s=t.apply(o,a))),s});return u.cancel=function(){clearTimeout(i),i=a=o=null},u}function pie(t,e){return sy(e,t)}function X6(t){return function(){return!t.apply(this,arguments)}}function mie(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}}function gie(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}function fM(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}const yie=sy(fM,2);function pM(t,e,n){e=bo(e,n);for(var i=qr(t),r,a=0,s=i.length;a<s;a++)if(r=i[a],e(t[r],r,t))return r}function vie(t){return function(e,n,i){n=bo(n,i);for(var r=go(e),a=t>0?0:r-1;a>=0&&a<r;a+=t)if(n(e[a],a,e))return a;return-1}}const K6=vie(1),mM=vie(-1);function gM(t,e,n,i){n=bo(n,i,1);for(var r=n(e),a=0,s=go(t);a<s;){var o=Math.floor((a+s)/2);n(t[o])<r?a=o+1:s=o}return a}function bie(t,e,n){return function(i,r,a){var s=0,o=go(i);if(typeof a=="number")t>0?s=a>=0?a:Math.max(a+o,s):o=a>=0?Math.min(a+1,o):a+o+1;else if(n&&a&&o)return a=n(i,r),i[a]===r?a:-1;if(r!==r)return a=e(GN.call(i,s,o),YU),a>=0?a+s:-1;for(a=t>0?s:o-1;a>=0&&a<o;a+=t)if(i[a]===r)return a;return-1}}const yM=bie(1,K6,gM),wie=bie(-1,mM);function v_(t,e,n){var i=xl(t)?K6:pM,r=i(t,e,n);if(r!==void 0&&r!==-1)return t[r]}function xie(t,e){return v_(t,H0(e))}function au(t,e,n){e=KN(e,n);var i,r;if(xl(t))for(i=0,r=t.length;i<r;i++)e(t[i],i,t);else{var a=qr(t);for(i=0,r=a.length;i<r;i++)e(t[a[i]],a[i],t)}return t}function pf(t,e,n){e=bo(e,n);for(var i=!xl(t)&&qr(t),r=(i||t).length,a=Array(r),s=0;s<r;s++){var o=i?i[s]:s;a[s]=e(t[o],o,t)}return a}function _ie(t){var e=function(n,i,r,a){var s=!xl(n)&&qr(n),o=(s||n).length,c=t>0?0:o-1;for(a||(r=n[s?s[c]:c],c+=t);c>=0&&c<o;c+=t){var u=s?s[c]:c;r=i(r,n[u],u,n)}return r};return function(n,i,r,a){var s=arguments.length>=3;return e(n,KN(i,a,4),r,s)}}const Mv=_ie(1),mE=_ie(-1);function Om(t,e,n){var i=[];return e=bo(e,n),au(t,function(r,a,s){e(r,a,s)&&i.push(r)}),i}function Sie(t,e,n){return Om(t,X6(bo(e)),n)}function gE(t,e,n){e=bo(e,n);for(var i=!xl(t)&&qr(t),r=(i||t).length,a=0;a<r;a++){var s=i?i[a]:a;if(!e(t[s],s,t))return!1}return!0}function yE(t,e,n){e=bo(e,n);for(var i=!xl(t)&&qr(t),r=(i||t).length,a=0;a<r;a++){var s=i?i[a]:a;if(e(t[s],s,t))return!0}return!1}function oc(t,e,n,i){return xl(t)||(t=ay(t)),(typeof n!="number"||i)&&(n=0),yM(t,e,n)>=0}const Aie=Us(function(t,e,n){var i,r;return us(e)?r=e:(e=XN(e),i=e.slice(0,-1),e=e[e.length-1]),pf(t,function(a){var s=r;if(!s){if(i&&i.length&&(a=lM(a,i)),a==null)return;s=a[e]}return s==null?s:s.apply(a,n)})});function Y6(t,e){return pf(t,V6(e))}function Nie(t,e){return Om(t,H0(e))}function vM(t,e,n){var i=-1/0,r=-1/0,a,s;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=xl(t)?t:ay(t);for(var o=0,c=t.length;o<c;o++)a=t[o],a!=null&&a>i&&(i=a)}else e=bo(e,n),au(t,function(u,d,h){s=e(u,d,h),(s>r||s===-1/0&&i===-1/0)&&(i=u,r=s)});return i}function kie(t,e,n){var i=1/0,r=1/0,a,s;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=xl(t)?t:ay(t);for(var o=0,c=t.length;o<c;o++)a=t[o],a!=null&&a<i&&(i=a)}else e=bo(e,n),au(t,function(u,d,h){s=e(u,d,h),(s<r||s===1/0&&i===1/0)&&(i=u,r=s)});return i}var fTe=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function bM(t){return t?Km(t)?GN.call(t):W6(t)?t.match(fTe):xl(t)?pf(t,H6):ay(t):[]}function wM(t,e,n){if(e==null||n)return xl(t)||(t=ay(t)),t[pE(t.length-1)];var i=bM(t),r=go(i);e=Math.max(Math.min(e,r),0);for(var a=r-1,s=0;s<e;s++){var o=pE(s,a),c=i[s];i[s]=i[o],i[o]=c}return i.slice(0,e)}function Cie(t){return wM(t,1/0)}function Eie(t,e,n){var i=0;return e=bo(e,n),Y6(pf(t,function(r,a,s){return{value:r,index:i++,criteria:e(r,a,s)}}).sort(function(r,a){var s=r.criteria,o=a.criteria;if(s!==o){if(s>o||s===void 0)return 1;if(s<o||o===void 0)return-1}return r.index-a.index}),"value")}function J6(t,e){return function(n,i,r){var a=e?[[],[]]:{};return i=bo(i,r),au(n,function(s,o){var c=i(s,o,n);t(a,s,c)}),a}}const Tie=J6(function(t,e,n){Ym(t,n)?t[n].push(e):t[n]=[e]}),Die=J6(function(t,e,n){t[n]=e}),Pie=J6(function(t,e,n){Ym(t,n)?t[n]++:t[n]=1}),Iie=J6(function(t,e,n){t[n?0:1].push(e)},!0);function Rie(t){return t==null?0:xl(t)?t.length:qr(t).length}function pTe(t,e,n){return e in n}const xM=Us(function(t,e){var n={},i=e[0];if(t==null)return n;us(i)?(e.length>1&&(i=KN(i,e[1])),e=Ow(t)):(i=pTe,e=oy(e,!1,!1),t=Object(t));for(var r=0,a=e.length;r<a;r++){var s=e[r],o=t[s];i(o,s,t)&&(n[s]=o)}return n}),Lie=Us(function(t,e){var n=e[0],i;return us(n)?(n=X6(n),e.length>1&&(i=e[1])):(e=pf(oy(e,!1,!1),String),n=function(r,a){return!oc(e,a)}),xM(t,n,i)});function _M(t,e,n){return GN.call(t,0,Math.max(0,t.length-(e==null||n?1:e)))}function Bv(t,e,n){return t==null||t.length<1?e==null||n?void 0:[]:e==null||n?t[0]:_M(t,t.length-e)}function k0(t,e,n){return GN.call(t,e==null||n?1:e)}function Fie(t,e,n){return t==null||t.length<1?e==null||n?void 0:[]:e==null||n?t[t.length-1]:k0(t,Math.max(0,t.length-e))}function Oie(t){return Om(t,Boolean)}function Uie(t,e){return oy(t,e,!1)}const SM=Us(function(t,e){return e=oy(e,!0,!0),Om(t,function(n){return!oc(e,n)})}),Mie=Us(function(t,e){return SM(t,e)});function b_(t,e,n,i){HU(e)||(i=n,n=e,e=!1),n!=null&&(n=bo(n,i));for(var r=[],a=[],s=0,o=go(t);s<o;s++){var c=t[s],u=n?n(c,s,t):c;e&&!n?((!s||a!==u)&&r.push(c),a=u):n?oc(a,u)||(a.push(u),r.push(c)):oc(r,c)||r.push(c)}return r}const Bie=Us(function(t){return b_(oy(t,!0,!0))});function zie(t){for(var e=[],n=arguments.length,i=0,r=go(t);i<r;i++){var a=t[i];if(!oc(e,a)){var s;for(s=1;s<n&&oc(arguments[s],a);s++);s===n&&e.push(a)}}return e}function w_(t){for(var e=t&&vM(t,go).length||0,n=Array(e),i=0;i<e;i++)n[i]=Y6(t,i);return n}const jie=Us(w_);function $ie(t,e){for(var n={},i=0,r=go(t);i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n}function Wie(t,e,n){e==null&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),a=0;a<i;a++,t+=n)r[a]=t;return r}function qie(t,e){if(e==null||e<1)return[];for(var n=[],i=0,r=t.length;i<r;)n.push(GN.call(t,i,i+=e));return n}function AM(t,e){return t._chain?Bn(e).chain():e}function NM(t){return au(y_(t),function(e){var n=Bn[e]=t[e];Bn.prototype[e]=function(){var i=[this._wrapped];return qEe.apply(i,arguments),AM(this,n.apply(Bn,i))}}),Bn}au(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=$6[t];Bn.prototype[t]=function(){var n=this._wrapped;return n!=null&&(e.apply(n,arguments),(t==="shift"||t==="splice")&&n.length===0&&delete n[0]),AM(this,n)}});au(["concat","join","slice"],function(t){var e=$6[t];Bn.prototype[t]=function(){var n=this._wrapped;return n!=null&&(n=e.apply(n,arguments)),AM(this,n)}});const mTe=Object.freeze(Object.defineProperty({__proto__:null,VERSION:$U,after:gie,all:gE,allKeys:Ow,any:yE,assign:lw,before:fM,bind:dM,bindAll:cie,chain:oie,chunk:qie,clone:Vne,collect:pf,compact:Oie,compose:mie,constant:JU,contains:oc,countBy:Pie,create:Hne,debounce:fie,default:Bn,defaults:sM,defer:die,delay:hM,detect:v_,difference:SM,drop:k0,each:au,escape:tie,every:gE,extend:aM,extendOwn:lw,filter:Om,find:v_,findIndex:K6,findKey:pM,findLastIndex:mM,findWhere:xie,first:Bv,flatten:Uie,foldl:Mv,foldr:mE,forEach:au,functions:y_,get:cM,groupBy:Tie,has:Xne,head:Bv,identity:H6,include:oc,includes:oc,indexBy:Die,indexOf:yM,initial:_M,inject:Mv,intersection:zie,invert:iM,invoke:Aie,isArguments:q6,isArray:Km,isArrayBuffer:XU,isBoolean:HU,isDataView:g_,isDate:Sne,isElement:_ne,isEmpty:Rne,isEqual:Fne,isError:Nne,isFinite:Tne,isFunction:us,isMap:Bne,isMatch:QU,isNaN:YU,isNull:xne,isNumber:VU,isObject:Xm,isRegExp:Ane,isSet:jne,isString:W6,isSymbol:GU,isTypedArray:ZU,isUndefined:qU,isWeakMap:zne,isWeakSet:$ne,iteratee:G6,keys:qr,last:Fie,lastIndexOf:wie,map:pf,mapObject:Yne,matcher:H0,matches:H0,max:vM,memoize:uie,methods:y_,min:kie,mixin:NM,negate:X6,noop:uM,now:cw,object:$ie,omit:Lie,once:yie,pairs:Wne,partial:sy,partition:Iie,pick:xM,pluck:Y6,property:V6,propertyOf:Jne,random:pE,range:Wie,reduce:Mv,reduceRight:mE,reject:Sie,rest:k0,restArguments:Us,result:aie,sample:wM,select:Om,shuffle:Cie,size:Rie,some:yE,sortBy:Eie,sortedIndex:gM,tail:k0,take:Bv,tap:Gne,template:rie,templateSettings:iie,throttle:hie,times:Zne,toArray:bM,toPath:oM,transpose:w_,unescape:nie,union:Bie,uniq:b_,unique:b_,uniqueId:sie,unzip:w_,values:ay,where:Nie,without:Mie,wrap:pie,zip:jie},Symbol.toStringTag,{value:"Module"}));var aO=NM(mTe);aO._=aO;const gTe=Object.freeze(Object.defineProperty({__proto__:null,VERSION:$U,after:gie,all:gE,allKeys:Ow,any:yE,assign:lw,before:fM,bind:dM,bindAll:cie,chain:oie,chunk:qie,clone:Vne,collect:pf,compact:Oie,compose:mie,constant:JU,contains:oc,countBy:Pie,create:Hne,debounce:fie,default:aO,defaults:sM,defer:die,delay:hM,detect:v_,difference:SM,drop:k0,each:au,escape:tie,every:gE,extend:aM,extendOwn:lw,filter:Om,find:v_,findIndex:K6,findKey:pM,findLastIndex:mM,findWhere:xie,first:Bv,flatten:Uie,foldl:Mv,foldr:mE,forEach:au,functions:y_,get:cM,groupBy:Tie,has:Xne,head:Bv,identity:H6,include:oc,includes:oc,indexBy:Die,indexOf:yM,initial:_M,inject:Mv,intersection:zie,invert:iM,invoke:Aie,isArguments:q6,isArray:Km,isArrayBuffer:XU,isBoolean:HU,isDataView:g_,isDate:Sne,isElement:_ne,isEmpty:Rne,isEqual:Fne,isError:Nne,isFinite:Tne,isFunction:us,isMap:Bne,isMatch:QU,isNaN:YU,isNull:xne,isNumber:VU,isObject:Xm,isRegExp:Ane,isSet:jne,isString:W6,isSymbol:GU,isTypedArray:ZU,isUndefined:qU,isWeakMap:zne,isWeakSet:$ne,iteratee:G6,keys:qr,last:Fie,lastIndexOf:wie,map:pf,mapObject:Yne,matcher:H0,matches:H0,max:vM,memoize:uie,methods:y_,min:kie,mixin:NM,negate:X6,noop:uM,now:cw,object:$ie,omit:Lie,once:yie,pairs:Wne,partial:sy,partition:Iie,pick:xM,pluck:Y6,property:V6,propertyOf:Jne,random:pE,range:Wie,reduce:Mv,reduceRight:mE,reject:Sie,rest:k0,restArguments:Us,result:aie,sample:wM,select:Om,shuffle:Cie,size:Rie,some:yE,sortBy:Eie,sortedIndex:gM,tail:k0,take:Bv,tap:Gne,template:rie,templateSettings:iie,throttle:hie,times:Zne,toArray:bM,toPath:oM,transpose:w_,unescape:nie,union:Bie,uniq:b_,unique:b_,uniqueId:sie,unzip:w_,values:ay,where:Nie,without:Mie,wrap:pie,zip:jie},Symbol.toStringTag,{value:"Module"})),wr=koe(gTe);var kM={},fa={},Hie={exports:{}},uk={exports:{}},Vq;function Uw(){if(Vq)return uk.exports;Vq=1;var t=function(){return this===void 0}();if(t)uk.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:t,propertyIsWritable:function(d,h){var f=Object.getOwnPropertyDescriptor(d,h);return!!(!f||f.writable||f.set)}};else{var e={}.hasOwnProperty,n={}.toString,i={}.constructor.prototype,r=function(d){var h=[];for(var f in d)e.call(d,f)&&h.push(f);return h},a=function(d,h){return{value:d[h]}},s=function(d,h,f){return d[h]=f.value,d},o=function(d){return d},c=function(d){try{return Object(d).constructor.prototype}catch{return i}},u=function(d){try{return n.call(d)==="[object Array]"}catch{return!1}};uk.exports={isArray:u,keys:r,names:r,defineProperty:s,getDescriptor:a,freeze:o,getPrototypeOf:c,isES5:t,propertyIsWritable:function(){return!0}}}return uk.exports}var uI,Gq;function ki(){if(Gq)return uI;Gq=1;var t=Uw(),e=typeof navigator>"u",n={e:{}},i,r=typeof self<"u"?self:typeof window<"u"?window:typeof zt<"u"||zt!==void 0?zt:null;function a(){try{var L=i;return i=null,L.apply(this,arguments)}catch(M){return n.e=M,n}}function s(L){return i=L,a}var o=function(L,M){var K={}.hasOwnProperty;function Q(){this.constructor=L,this.constructor$=M;for(var V in M.prototype)K.call(M.prototype,V)&&V.charAt(V.length-1)!=="$"&&(this[V+"$"]=M.prototype[V])}return Q.prototype=M.prototype,L.prototype=new Q,L.prototype};function c(L){return L==null||L===!0||L===!1||typeof L=="string"||typeof L=="number"}function u(L){return typeof L=="function"||typeof L=="object"&&L!==null}function d(L){return c(L)?new Error(R(L)):L}function h(L,M){var K=L.length,Q=new Array(K+1),V;for(V=0;V<K;++V)Q[V]=L[V];return Q[V]=M,Q}function f(L,M,K){if(t.isES5){var Q=Object.getOwnPropertyDescriptor(L,M);if(Q!=null)return Q.get==null&&Q.set==null?Q.value:K}else return{}.hasOwnProperty.call(L,M)?L[M]:void 0}function p(L,M,K){if(c(L))return L;var Q={value:K,configurable:!0,enumerable:!1,writable:!0};return t.defineProperty(L,M,Q),L}function w(L){throw L}var v=function(){var L=[Array.prototype,Object.prototype,Function.prototype],M=function(V){for(var le=0;le<L.length;++le)if(L[le]===V)return!0;return!1};if(t.isES5){var K=Object.getOwnPropertyNames;return function(V){for(var le=[],ge=Object.create(null);V!=null&&!M(V);){var ye;try{ye=K(V)}catch{return le}for(var be=0;be<ye.length;++be){var Le=ye[be];if(!ge[Le]){ge[Le]=!0;var ue=Object.getOwnPropertyDescriptor(V,Le);ue!=null&&ue.get==null&&ue.set==null&&le.push(Le)}}V=t.getPrototypeOf(V)}return le}}else{var Q={}.hasOwnProperty;return function(V){if(M(V))return[];var le=[];e:for(var ge in V)if(Q.call(V,ge))le.push(ge);else{for(var ye=0;ye<L.length;++ye)if(Q.call(L[ye],ge))continue e;le.push(ge)}return le}}}(),b=/this\s*\.\s*\S+\s*=/;function g(L){try{if(typeof L=="function"){var M=t.names(L.prototype),K=t.isES5&&M.length>1,Q=M.length>0&&!(M.length===1&&M[0]==="constructor"),V=b.test(L+"")&&t.names(L).length>0;if(K||Q||V)return!0}return!1}catch{return!1}}function y(L){return L}var _=/^[a-z$_][a-z$_0-9]*$/i;function S(L){return _.test(L)}function N(L,M,K){for(var Q=new Array(L),V=0;V<L;++V)Q[V]=M+V+K;return Q}function R(L){try{return L+""}catch{return"[no string representation]"}}function D(L){return L!==null&&typeof L=="object"&&typeof L.message=="string"&&typeof L.name=="string"}function E(L){try{p(L,"isOperational",!0)}catch{}}function C(L){return L==null?!1:L instanceof Error.__BluebirdErrorTypes__.OperationalError||L.isOperational===!0}function P(L){return D(L)&&t.propertyIsWritable(L,"stack")}var k=function(){return"stack"in new Error?function(L){return P(L)?L:new Error(R(L))}:function(L){if(P(L))return L;try{throw new Error(R(L))}catch(M){return M}}}();function A(L){return{}.toString.call(L)}function I(L,M,K){for(var Q=t.names(L),V=0;V<Q.length;++V){var le=Q[V];if(K(le))try{t.defineProperty(M,le,t.getDescriptor(L,le))}catch{}}}var T=function(L){return t.isArray(L)?L:null};if(typeof Symbol<"u"&&Symbol.iterator){var z=typeof Array.from=="function"?function(L){return Array.from(L)}:function(L){for(var M=[],K=L[Symbol.iterator](),Q;!(Q=K.next()).done;)M.push(Q.value);return M};T=function(L){return t.isArray(L)?L:L!=null&&typeof L[Symbol.iterator]=="function"?z(L):null}}var j=typeof process<"u"&&A(process).toLowerCase()==="[object process]",W=typeof process<"u"&&typeof process.env<"u";function $(L){return W?process.env[L]:void 0}function q(){if(typeof Promise=="function")try{var L=new Promise(function(){});if({}.toString.call(L)==="[object Promise]")return Promise}catch{}}function G(L,M){return L.bind(M)}var B={isClass:g,isIdentifier:S,inheritedDataKeys:v,getDataPropertyOrDefault:f,thrower:w,isArray:t.isArray,asArray:T,notEnumerableProp:p,isPrimitive:c,isObject:u,isError:D,canEvaluate:e,errorObj:n,tryCatch:s,inherits:o,withAppended:h,maybeWrapAsError:d,toFastProperties:y,filledRange:N,toString:R,canAttachTrace:P,ensureErrorObject:k,originatesFromRejection:C,markAsOriginatingFromRejection:E,classString:A,copyDescriptors:I,hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode:j,hasEnvVariables:W,env:$,global:r,getNativePromise:q,domainBind:G};B.isRecentNode=B.isNode&&function(){var L=process.versions.node.split(".").map(Number);return L[0]===0&&L[1]>10||L[0]>0}(),B.isNode&&B.toFastProperties(process);try{throw new Error}catch(L){B.lastLineError=L}return uI=B,uI}var dk={exports:{}},dI,Xq;function yTe(){if(Xq)return dI;Xq=1;var t=ki(),e,n=function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)},i=t.getNativePromise();if(t.isNode&&typeof MutationObserver>"u"){var r=zt.setImmediate,a=process.nextTick;e=t.isRecentNode?function(o){r.call(zt,o)}:function(o){a.call(process,o)}}else if(typeof i=="function"&&typeof i.resolve=="function"){var s=i.resolve();e=function(o){s.then(o)}}else typeof MutationObserver<"u"&&!(typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova))?e=function(){var o=document.createElement("div"),c={attributes:!0},u=!1,d=document.createElement("div"),h=new MutationObserver(function(){o.classList.toggle("foo"),u=!1});h.observe(d,c);var f=function(){u||(u=!0,d.classList.toggle("foo"))};return function(w){var v=new MutationObserver(function(){v.disconnect(),w()});v.observe(o,c),f()}}():typeof setImmediate<"u"?e=function(o){setImmediate(o)}:typeof setTimeout<"u"?e=function(o){setTimeout(o,0)}:e=n;return dI=e,dI}var hI,Kq;function vTe(){if(Kq)return hI;Kq=1;function t(n,i,r,a,s){for(var o=0;o<s;++o)r[o+a]=n[o+i],n[o+i]=void 0}function e(n){this._capacity=n,this._length=0,this._front=0}return e.prototype._willBeOverCapacity=function(n){return this._capacity<n},e.prototype._pushOne=function(n){var i=this.length();this._checkCapacity(i+1);var r=this._front+i&this._capacity-1;this[r]=n,this._length=i+1},e.prototype.push=function(n,i,r){var a=this.length()+3;if(this._willBeOverCapacity(a)){this._pushOne(n),this._pushOne(i),this._pushOne(r);return}var s=this._front+a-3;this._checkCapacity(a);var o=this._capacity-1;this[s+0&o]=n,this[s+1&o]=i,this[s+2&o]=r,this._length=a},e.prototype.shift=function(){var n=this._front,i=this[n];return this[n]=void 0,this._front=n+1&this._capacity-1,this._length--,i},e.prototype.length=function(){return this._length},e.prototype._checkCapacity=function(n){this._capacity<n&&this._resizeTo(this._capacity<<1)},e.prototype._resizeTo=function(n){var i=this._capacity;this._capacity=n;var r=this._front,a=this._length,s=r+a&i-1;t(this,0,this,i,s)},hI=e,hI}var Yq;function bTe(){if(Yq)return dk.exports;Yq=1;var t;try{throw new Error}catch(c){t=c}var e=yTe(),n=vTe(),i=ki();function r(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new n(16),this._normalQueue=new n(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var c=this;this.drainQueues=function(){c._drainQueues()},this._schedule=e}r.prototype.setScheduler=function(c){var u=this._schedule;return this._schedule=c,this._customScheduler=!0,u},r.prototype.hasCustomScheduler=function(){return this._customScheduler},r.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},r.prototype.disableTrampolineIfNecessary=function(){i.hasDevTools&&(this._trampolineEnabled=!1)},r.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},r.prototype.fatalError=function(c,u){u?(process.stderr.write("Fatal "+(c instanceof Error?c.stack:c)+`
`),process.exit(2)):this.throwLater(c)},r.prototype.throwLater=function(c,u){if(arguments.length===1&&(u=c,c=function(){throw u}),typeof setTimeout<"u")setTimeout(function(){c(u)},0);else try{this._schedule(function(){c(u)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}};function a(c,u,d){this._lateQueue.push(c,u,d),this._queueTick()}function s(c,u,d){this._normalQueue.push(c,u,d),this._queueTick()}function o(c){this._normalQueue._pushOne(c),this._queueTick()}return i.hasDevTools?(r.prototype.invokeLater=function(c,u,d){this._trampolineEnabled?a.call(this,c,u,d):this._schedule(function(){setTimeout(function(){c.call(u,d)},100)})},r.prototype.invoke=function(c,u,d){this._trampolineEnabled?s.call(this,c,u,d):this._schedule(function(){c.call(u,d)})},r.prototype.settlePromises=function(c){this._trampolineEnabled?o.call(this,c):this._schedule(function(){c._settlePromises()})}):(r.prototype.invokeLater=a,r.prototype.invoke=s,r.prototype.settlePromises=o),r.prototype._drainQueue=function(c){for(;c.length()>0;){var u=c.shift();if(typeof u!="function"){u._settlePromises();continue}var d=c.shift(),h=c.shift();u.call(d,h)}},r.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},r.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},r.prototype._reset=function(){this._isTickUsed=!1},dk.exports=r,dk.exports.firstLineError=t,dk.exports}var fI,Jq;function Um(){if(Jq)return fI;Jq=1;var t=Uw(),e=t.freeze,n=ki(),i=n.inherits,r=n.notEnumerableProp;function a(g,y){function _(S){if(!(this instanceof _))return new _(S);r(this,"message",typeof S=="string"?S:y),r(this,"name",g),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return i(_,Error),_}var s,o,c=a("Warning","warning"),u=a("CancellationError","cancellation error"),d=a("TimeoutError","timeout error"),h=a("AggregateError","aggregate error");try{s=TypeError,o=RangeError}catch{s=a("TypeError","type error"),o=a("RangeError","range error")}for(var f="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),p=0;p<f.length;++p)typeof Array.prototype[f[p]]=="function"&&(h.prototype[f[p]]=Array.prototype[f[p]]);t.defineProperty(h.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),h.prototype.isOperational=!0;var w=0;h.prototype.toString=function(){var g=Array(w*4+1).join(" "),y=`
`+g+`AggregateError of:
`;w++,g=Array(w*4+1).join(" ");for(var _=0;_<this.length;++_){for(var S=this[_]===this?"[Circular AggregateError]":this[_]+"",N=S.split(`
`),R=0;R<N.length;++R)N[R]=g+N[R];S=N.join(`
`),y+=S+`
`}return w--,y};function v(g){if(!(this instanceof v))return new v(g);r(this,"name","OperationalError"),r(this,"message",g),this.cause=g,this.isOperational=!0,g instanceof Error?(r(this,"message",g.message),r(this,"stack",g.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}i(v,Error);var b=Error.__BluebirdErrorTypes__;return b||(b=e({CancellationError:u,TimeoutError:d,OperationalError:v,RejectionError:v,AggregateError:h}),t.defineProperty(Error,"__BluebirdErrorTypes__",{value:b,writable:!1,enumerable:!1,configurable:!1})),fI={Error,TypeError:s,RangeError:o,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:c},fI}var pI,Zq;function wTe(){return Zq||(Zq=1,pI=function(t,e){var n=ki(),i=n.errorObj,r=n.isObject;function a(h,f){if(r(h)){if(h instanceof t)return h;var p=o(h);if(p===i){f&&f._pushContext();var w=t.reject(p.e);return f&&f._popContext(),w}else if(typeof p=="function"){if(u(h)){var w=new t(e);return h._then(w._fulfill,w._reject,void 0,w,null),w}return d(h,p,f)}}return h}function s(h){return h.then}function o(h){try{return s(h)}catch(f){return i.e=f,i}}var c={}.hasOwnProperty;function u(h){try{return c.call(h,"_promise0")}catch{return!1}}function d(h,f,p){var w=new t(e),v=w;p&&p._pushContext(),w._captureStackTrace(),p&&p._popContext();var b=!0,g=n.tryCatch(f).call(h,y,_);b=!1,w&&g===i&&(w._rejectCallback(g.e,!0,!0),w=null);function y(S){w&&(w._resolveCallback(S),w=null)}function _(S){w&&(w._rejectCallback(S,b,!0),w=null)}return v}return a}),pI}var mI,Qq;function xTe(){return Qq||(Qq=1,mI=function(t,e,n,i,r){var a=ki();a.isArray;function s(c){switch(c){case-2:return[];case-3:return{}}}function o(c){var u=this._promise=new t(e);c instanceof t&&u._propagateFrom(c,3),u._setOnCancel(this),this._values=c,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return a.inherits(o,r),o.prototype.length=function(){return this._length},o.prototype.promise=function(){return this._promise},o.prototype._init=function c(u,d){var h=n(this._values,this._promise);if(h instanceof t){h=h._target();var f=h._bitField;if(this._values=h,f&50397184)if(f&33554432)h=h._value();else return f&16777216?this._reject(h._reason()):this._cancel();else return this._promise._setAsyncGuaranteed(),h._then(c,this._reject,void 0,this,d)}if(h=a.asArray(h),h===null){var p=i("expecting an array or an iterable object but got "+a.classString(h)).reason();this._promise._rejectCallback(p,!1);return}if(h.length===0){d===-5?this._resolveEmptyArray():this._resolve(s(d));return}this._iterate(h)},o.prototype._iterate=function(c){var u=this.getActualLength(c.length);this._length=u,this._values=this.shouldCopyValues()?new Array(u):this._values;for(var d=this._promise,h=!1,f=null,p=0;p<u;++p){var w=n(c[p],d);w instanceof t?(w=w._target(),f=w._bitField):f=null,h?f!==null&&w.suppressUnhandledRejections():f!==null?f&50397184?f&33554432?h=this._promiseFulfilled(w._value(),p):f&16777216?h=this._promiseRejected(w._reason(),p):h=this._promiseCancelled(p):(w._proxy(this,p),this._values[p]=w):h=this._promiseFulfilled(w,p)}h||d._setAsyncGuaranteed()},o.prototype._isResolved=function(){return this._values===null},o.prototype._resolve=function(c){this._values=null,this._promise._fulfill(c)},o.prototype._cancel=function(){this._isResolved()||!this._promise._isCancellable()||(this._values=null,this._promise._cancel())},o.prototype._reject=function(c){this._values=null,this._promise._rejectCallback(c,!1)},o.prototype._promiseFulfilled=function(c,u){this._values[u]=c;var d=++this._totalResolved;return d>=this._length?(this._resolve(this._values),!0):!1},o.prototype._promiseCancelled=function(){return this._cancel(),!0},o.prototype._promiseRejected=function(c){return this._totalResolved++,this._reject(c),!0},o.prototype._resultCancelled=function(){if(!this._isResolved()){var c=this._values;if(this._cancel(),c instanceof t)c.cancel();else for(var u=0;u<c.length;++u)c[u]instanceof t&&c[u].cancel()}},o.prototype.shouldCopyValues=function(){return!0},o.prototype.getActualLength=function(c){return c},o}),mI}var gI,eH;function _Te(){return eH||(eH=1,gI=function(t){var e=!1,n=[];t.prototype._promiseCreated=function(){},t.prototype._pushContext=function(){},t.prototype._popContext=function(){return null},t._peekContext=t.prototype._peekContext=function(){};function i(){this._trace=new i.CapturedTrace(a())}i.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,n.push(this._trace))},i.prototype._popContext=function(){if(this._trace!==void 0){var s=n.pop(),o=s._promiseCreated;return s._promiseCreated=null,o}return null};function r(){if(e)return new i}function a(){var s=n.length-1;if(s>=0)return n[s]}return i.CapturedTrace=null,i.create=r,i.deactivateLongStackTraces=function(){},i.activateLongStackTraces=function(){var s=t.prototype._pushContext,o=t.prototype._popContext,c=t._peekContext,u=t.prototype._peekContext,d=t.prototype._promiseCreated;i.deactivateLongStackTraces=function(){t.prototype._pushContext=s,t.prototype._popContext=o,t._peekContext=c,t.prototype._peekContext=u,t.prototype._promiseCreated=d,e=!1},e=!0,t.prototype._pushContext=i.prototype._pushContext,t.prototype._popContext=i.prototype._popContext,t._peekContext=t.prototype._peekContext=a,t.prototype._promiseCreated=function(){var h=this._peekContext();h&&h._promiseCreated==null&&(h._promiseCreated=this)}},i}),gI}var yI,tH;function STe(){return tH||(tH=1,yI=function(t,e){var n=t._getDomain,i=t._async,r=Um().Warning,a=ki(),s=a.canAttachTrace,o,c,u=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,d=/\((?:timers\.js):\d+:\d+\)/,h=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,f=null,p=null,w=!1,v,b=!!(a.env("BLUEBIRD_DEBUG")!=0&&(a.env("BLUEBIRD_DEBUG")||a.env("NODE_ENV")==="development")),g=!!(a.env("BLUEBIRD_WARNINGS")!=0&&(b||a.env("BLUEBIRD_WARNINGS"))),y=!!(a.env("BLUEBIRD_LONG_STACK_TRACES")!=0&&(b||a.env("BLUEBIRD_LONG_STACK_TRACES"))),_=a.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(g||!!a.env("BLUEBIRD_W_FORGOTTEN_RETURN"));t.prototype.suppressUnhandledRejections=function(){var oe=this._target();oe._bitField=oe._bitField&-1048577|524288},t.prototype._ensurePossibleRejectionHandled=function(){this._bitField&524288||(this._setRejectionIsUnhandled(),i.invokeLater(this._notifyUnhandledRejection,this,void 0))},t.prototype._notifyUnhandledRejectionIsHandled=function(){ue("rejectionHandled",o,void 0,this)},t.prototype._setReturnedNonUndefined=function(){this._bitField=this._bitField|268435456},t.prototype._returnedNonUndefined=function(){return(this._bitField&268435456)!==0},t.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var oe=this._settledValue();this._setUnhandledRejectionIsNotified(),ue("unhandledRejection",c,oe,this)}},t.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=this._bitField|262144},t.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},t.prototype._isUnhandledRejectionNotified=function(){return(this._bitField&262144)>0},t.prototype._setRejectionIsUnhandled=function(){this._bitField=this._bitField|1048576},t.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},t.prototype._isRejectionUnhandled=function(){return(this._bitField&1048576)>0},t.prototype._warn=function(oe,pe,Se){return K(oe,pe,Se||this)},t.onPossiblyUnhandledRejection=function(oe){var pe=n();c=typeof oe=="function"?pe===null?oe:a.domainBind(pe,oe):void 0},t.onUnhandledRejectionHandled=function(oe){var pe=n();o=typeof oe=="function"?pe===null?oe:a.domainBind(pe,oe):void 0};var S=function(){};t.longStackTraces=function(){if(i.haveItemsQueued()&&!_e.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!_e.longStackTraces&&re()){var oe=t.prototype._captureStackTrace,pe=t.prototype._attachExtraTrace;_e.longStackTraces=!0,S=function(){if(i.haveItemsQueued()&&!_e.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);t.prototype._captureStackTrace=oe,t.prototype._attachExtraTrace=pe,e.deactivateLongStackTraces(),i.enableTrampoline(),_e.longStackTraces=!1},t.prototype._captureStackTrace=G,t.prototype._attachExtraTrace=B,e.activateLongStackTraces(),i.disableTrampolineIfNecessary()}},t.hasLongStackTraces=function(){return _e.longStackTraces&&re()};var N=function(){try{if(typeof CustomEvent=="function"){var oe=new CustomEvent("CustomEvent");return a.global.dispatchEvent(oe),function(pe,Se){var De=new CustomEvent(pe.toLowerCase(),{detail:Se,cancelable:!0});return!a.global.dispatchEvent(De)}}else if(typeof Event=="function"){var oe=new Event("CustomEvent");return a.global.dispatchEvent(oe),function(Se,De){var Ve=new Event(Se.toLowerCase(),{cancelable:!0});return Ve.detail=De,!a.global.dispatchEvent(Ve)}}else{var oe=document.createEvent("CustomEvent");return oe.initCustomEvent("testingtheevent",!1,!0,{}),a.global.dispatchEvent(oe),function(Se,De){var Ve=document.createEvent("CustomEvent");return Ve.initCustomEvent(Se.toLowerCase(),!1,!0,De),!a.global.dispatchEvent(Ve)}}}catch{}return function(){return!1}}(),R=function(){return a.isNode?function(){return process.emit.apply(process,arguments)}:a.global?function(oe){var pe="on"+oe.toLowerCase(),Se=a.global[pe];return Se?(Se.apply(a.global,[].slice.call(arguments,1)),!0):!1}:function(){return!1}}();function D(oe,pe){return{promise:pe}}var E={promiseCreated:D,promiseFulfilled:D,promiseRejected:D,promiseResolved:D,promiseCancelled:D,promiseChained:function(oe,pe,Se){return{promise:pe,child:Se}},warning:function(oe,pe){return{warning:pe}},unhandledRejection:function(oe,pe,Se){return{reason:pe,promise:Se}},rejectionHandled:D},C=function(oe){var pe=!1;try{pe=R.apply(null,arguments)}catch(De){i.throwLater(De),pe=!0}var Se=!1;try{Se=N(oe,E[oe].apply(null,arguments))}catch(De){i.throwLater(De),Se=!0}return Se||pe};t.config=function(oe){if(oe=Object(oe),"longStackTraces"in oe&&(oe.longStackTraces?t.longStackTraces():!oe.longStackTraces&&t.hasLongStackTraces()&&S()),"warnings"in oe){var pe=oe.warnings;_e.warnings=!!pe,_=_e.warnings,a.isObject(pe)&&"wForgottenReturn"in pe&&(_=!!pe.wForgottenReturn)}if("cancellation"in oe&&oe.cancellation&&!_e.cancellation){if(i.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");t.prototype._clearCancellationData=z,t.prototype._propagateFrom=j,t.prototype._onCancel=I,t.prototype._setOnCancel=T,t.prototype._attachCancellationCallback=A,t.prototype._execute=k,$=j,_e.cancellation=!0}return"monitoring"in oe&&(oe.monitoring&&!_e.monitoring?(_e.monitoring=!0,t.prototype._fireEvent=C):!oe.monitoring&&_e.monitoring&&(_e.monitoring=!1,t.prototype._fireEvent=P)),t};function P(){return!1}t.prototype._fireEvent=P,t.prototype._execute=function(oe,pe,Se){try{oe(pe,Se)}catch(De){return De}},t.prototype._onCancel=function(){},t.prototype._setOnCancel=function(oe){},t.prototype._attachCancellationCallback=function(oe){},t.prototype._captureStackTrace=function(){},t.prototype._attachExtraTrace=function(){},t.prototype._clearCancellationData=function(){},t.prototype._propagateFrom=function(oe,pe){};function k(oe,pe,Se){var De=this;try{oe(pe,Se,function(Ve){if(typeof Ve!="function")throw new TypeError("onCancel must be a function, got: "+a.toString(Ve));De._attachCancellationCallback(Ve)})}catch(Ve){return Ve}}function A(oe){if(!this._isCancellable())return this;var pe=this._onCancel();pe!==void 0?a.isArray(pe)?pe.push(oe):this._setOnCancel([pe,oe]):this._setOnCancel(oe)}function I(){return this._onCancelField}function T(oe){this._onCancelField=oe}function z(){this._cancellationParent=void 0,this._onCancelField=void 0}function j(oe,pe){if(pe&1){this._cancellationParent=oe;var Se=oe._branchesRemainingToCancel;Se===void 0&&(Se=0),oe._branchesRemainingToCancel=Se+1}pe&2&&oe._isBound()&&this._setBoundTo(oe._boundTo)}function W(oe,pe){pe&2&&oe._isBound()&&this._setBoundTo(oe._boundTo)}var $=W;function q(){var oe=this._boundTo;return oe!==void 0&&oe instanceof t?oe.isFulfilled()?oe.value():void 0:oe}function G(){this._trace=new xe(this._peekContext())}function B(oe,pe){if(s(oe)){var Se=this._trace;if(Se!==void 0&&pe&&(Se=Se._parent),Se!==void 0)Se.attachExtraTrace(oe);else if(!oe.__stackCleaned__){var De=be(oe);a.notEnumerableProp(oe,"stack",De.message+`
`+De.stack.join(`
`)),a.notEnumerableProp(oe,"__stackCleaned__",!0)}}}function L(oe,pe,Se,De,Ve){if(oe===void 0&&pe!==null&&_){if(Ve!==void 0&&Ve._returnedNonUndefined()||!(De._bitField&65535))return;Se&&(Se=Se+" ");var de="",Me="";if(pe._trace){for(var Fe=pe._trace.stack.split(`
`),Ge=ge(Fe),ut=Ge.length-1;ut>=0;--ut){var nt=Ge[ut];if(!d.test(nt)){var yt=nt.match(h);yt&&(de="at "+yt[1]+":"+yt[2]+":"+yt[3]+" ");break}}if(Ge.length>0){for(var Be=Ge[0],ut=0;ut<Fe.length;++ut)if(Fe[ut]===Be){ut>0&&(Me=`
`+Fe[ut-1]);break}}}var Ze="a promise was created in a "+Se+"handler "+de+"but was not returned from it, see http://goo.gl/rRqMUw"+Me;De._warn(Ze,!0,pe)}}function M(oe,pe){var Se=oe+" is deprecated and will be removed in a future version.";return pe&&(Se+=" Use "+pe+" instead."),K(Se)}function K(oe,pe,Se){if(_e.warnings){var De=new r(oe),Ve;if(pe)Se._attachExtraTrace(De);else if(_e.longStackTraces&&(Ve=t._peekContext()))Ve.attachExtraTrace(De);else{var de=be(De);De.stack=de.message+`
`+de.stack.join(`
`)}C("warning",De)||Le(De,"",!0)}}function Q(oe,pe){for(var Se=0;Se<pe.length-1;++Se)pe[Se].push("From previous event:"),pe[Se]=pe[Se].join(`
`);return Se<pe.length&&(pe[Se]=pe[Se].join(`
`)),oe+`
`+pe.join(`
`)}function V(oe){for(var pe=0;pe<oe.length;++pe)(oe[pe].length===0||pe+1<oe.length&&oe[pe][0]===oe[pe+1][0])&&(oe.splice(pe,1),pe--)}function le(oe){for(var pe=oe[0],Se=1;Se<oe.length;++Se){for(var De=oe[Se],Ve=pe.length-1,de=pe[Ve],Me=-1,Fe=De.length-1;Fe>=0;--Fe)if(De[Fe]===de){Me=Fe;break}for(var Fe=Me;Fe>=0;--Fe){var Ge=De[Fe];if(pe[Ve]===Ge)pe.pop(),Ve--;else break}pe=De}}function ge(oe){for(var pe=[],Se=0;Se<oe.length;++Se){var De=oe[Se],Ve=De==="    (No stack trace)"||f.test(De),de=Ve&&Ee(De);Ve&&!de&&(w&&De.charAt(0)!==" "&&(De="    "+De),pe.push(De))}return pe}function ye(oe){for(var pe=oe.stack.replace(/\s+$/g,"").split(`
`),Se=0;Se<pe.length;++Se){var De=pe[Se];if(De==="    (No stack trace)"||f.test(De))break}return Se>0&&oe.name!="SyntaxError"&&(pe=pe.slice(Se)),pe}function be(oe){var pe=oe.stack,Se=oe.toString();return pe=typeof pe=="string"&&pe.length>0?ye(oe):["    (No stack trace)"],{message:Se,stack:oe.name=="SyntaxError"?pe:ge(pe)}}function Le(oe,pe,Se){if(typeof console<"u"){var De;if(a.isObject(oe)){var Ve=oe.stack;De=pe+p(Ve,oe)}else De=pe+String(oe);typeof v=="function"?v(De,Se):(typeof console.log=="function"||typeof console.log=="object")&&console.log(De)}}function ue(oe,pe,Se,De){var Ve=!1;try{typeof pe=="function"&&(Ve=!0,oe==="rejectionHandled"?pe(De):pe(Se,De))}catch(de){i.throwLater(de)}oe==="unhandledRejection"?!C(oe,Se,De)&&!Ve&&Le(Se,"Unhandled rejection "):C(oe,De)}function ke(oe){var pe;if(typeof oe=="function")pe="[function "+(oe.name||"anonymous")+"]";else{pe=oe&&typeof oe.toString=="function"?oe.toString():a.toString(oe);var Se=/\[object [a-zA-Z0-9$_]+\]/;if(Se.test(pe))try{var De=JSON.stringify(oe);pe=De}catch{}pe.length===0&&(pe="(empty array)")}return"(<"+X(pe)+">, no stack trace)"}function X(oe){var pe=41;return oe.length<pe?oe:oe.substr(0,pe-3)+"..."}function re(){return typeof Ce=="function"}var Ee=function(){return!1},ne=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function te(oe){var pe=oe.match(ne);if(pe)return{fileName:pe[1],line:parseInt(pe[2],10)}}function ae(oe,pe){if(re()){for(var Se=oe.stack.split(`
`),De=pe.stack.split(`
`),Ve=-1,de=-1,Me,Fe,Ge=0;Ge<Se.length;++Ge){var ut=te(Se[Ge]);if(ut){Me=ut.fileName,Ve=ut.line;break}}for(var Ge=0;Ge<De.length;++Ge){var ut=te(De[Ge]);if(ut){Fe=ut.fileName,de=ut.line;break}}Ve<0||de<0||!Me||!Fe||Me!==Fe||Ve>=de||(Ee=function(nt){if(u.test(nt))return!0;var yt=te(nt);return!!(yt&&yt.fileName===Me&&Ve<=yt.line&&yt.line<=de)})}}function xe(oe){this._parent=oe,this._promisesCreated=0;var pe=this._length=1+(oe===void 0?0:oe._length);Ce(this,xe),pe>32&&this.uncycle()}a.inherits(xe,Error),e.CapturedTrace=xe,xe.prototype.uncycle=function(){var oe=this._length;if(!(oe<2)){for(var pe=[],Se={},De=0,Ve=this;Ve!==void 0;++De)pe.push(Ve),Ve=Ve._parent;oe=this._length=De;for(var De=oe-1;De>=0;--De){var de=pe[De].stack;Se[de]===void 0&&(Se[de]=De)}for(var De=0;De<oe;++De){var Me=pe[De].stack,Fe=Se[Me];if(Fe!==void 0&&Fe!==De){Fe>0&&(pe[Fe-1]._parent=void 0,pe[Fe-1]._length=1),pe[De]._parent=void 0,pe[De]._length=1;var Ge=De>0?pe[De-1]:this;Fe<oe-1?(Ge._parent=pe[Fe+1],Ge._parent.uncycle(),Ge._length=Ge._parent._length+1):(Ge._parent=void 0,Ge._length=1);for(var ut=Ge._length+1,nt=De-2;nt>=0;--nt)pe[nt]._length=ut,ut++;return}}}},xe.prototype.attachExtraTrace=function(oe){if(!oe.__stackCleaned__){this.uncycle();for(var pe=be(oe),Se=pe.message,De=[pe.stack],Ve=this;Ve!==void 0;)De.push(ge(Ve.stack.split(`
`))),Ve=Ve._parent;le(De),V(De),a.notEnumerableProp(oe,"stack",Q(Se,De)),a.notEnumerableProp(oe,"__stackCleaned__",!0)}};var Ce=function(){var pe=/^\s*at\s*/,Se=function(Me,Fe){return typeof Me=="string"?Me:Fe.name!==void 0&&Fe.message!==void 0?Fe.toString():ke(Fe)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,f=pe,p=Se;var De=Error.captureStackTrace;return Ee=function(Me){return u.test(Me)},function(Me,Fe){Error.stackTraceLimit+=6,De(Me,Fe),Error.stackTraceLimit-=6}}var Ve=new Error;if(typeof Ve.stack=="string"&&Ve.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return f=/@/,p=Se,w=!0,function(Fe){Fe.stack=new Error().stack};var de;try{throw new Error}catch(Me){de="stack"in Me}return!("stack"in Ve)&&de&&typeof Error.stackTraceLimit=="number"?(f=pe,p=Se,function(Fe){Error.stackTraceLimit+=6;try{throw new Error}catch(Ge){Fe.stack=Ge.stack}Error.stackTraceLimit-=6}):(p=function(Me,Fe){return typeof Me=="string"?Me:(typeof Fe=="object"||typeof Fe=="function")&&Fe.name!==void 0&&Fe.message!==void 0?Fe.toString():ke(Fe)},null)}();typeof console<"u"&&typeof console.warn<"u"&&(v=function(oe){console.warn(oe)},a.isNode&&process.stderr.isTTY?v=function(oe,pe){var Se=pe?"\x1B[33m":"\x1B[31m";console.warn(Se+oe+`\x1B[0m
`)}:!a.isNode&&typeof new Error().stack=="string"&&(v=function(oe,pe){console.warn("%c"+oe,pe?"color: darkorange":"color: red")}));var _e={warnings:g,longStackTraces:!1,cancellation:!1,monitoring:!1};return y&&t.longStackTraces(),{longStackTraces:function(){return _e.longStackTraces},warnings:function(){return _e.warnings},cancellation:function(){return _e.cancellation},monitoring:function(){return _e.monitoring},propagateFromFunction:function(){return $},boundValueFunction:function(){return q},checkForgottenReturns:L,setBounds:ae,warn:K,deprecated:M,CapturedTrace:xe,fireDomEvent:N,fireGlobalEvent:R}}),yI}var vI,nH;function ATe(){return nH||(nH=1,vI=function(t,e){var n=ki(),i=t.CancellationError,r=n.errorObj;function a(h,f,p){this.promise=h,this.type=f,this.handler=p,this.called=!1,this.cancelPromise=null}a.prototype.isFinallyHandler=function(){return this.type===0};function s(h){this.finallyHandler=h}s.prototype._resultCancelled=function(){o(this.finallyHandler)};function o(h,f){return h.cancelPromise!=null?(arguments.length>1?h.cancelPromise._reject(f):h.cancelPromise._cancel(),h.cancelPromise=null,!0):!1}function c(){return d.call(this,this.promise._target()._settledValue())}function u(h){if(!o(this,h))return r.e=h,r}function d(h){var f=this.promise,p=this.handler;if(!this.called){this.called=!0;var w=this.isFinallyHandler()?p.call(f._boundValue()):p.call(f._boundValue(),h);if(w!==void 0){f._setReturnedNonUndefined();var v=e(w,f);if(v instanceof t){if(this.cancelPromise!=null)if(v._isCancelled()){var b=new i("late cancellation observer");return f._attachExtraTrace(b),r.e=b,r}else v.isPending()&&v._attachCancellationCallback(new s(this));return v._then(c,u,void 0,this,void 0)}}}return f.isRejected()?(o(this),r.e=h,r):(o(this),h)}return t.prototype._passThrough=function(h,f,p,w){return typeof h!="function"?this.then():this._then(p,w,void 0,new a(this,f,h),void 0)},t.prototype.lastly=t.prototype.finally=function(h){return this._passThrough(h,0,d,d)},t.prototype.tap=function(h){return this._passThrough(h,1,d)},a}),vI}var bI,iH;function NTe(){return iH||(iH=1,bI=function(t){var e=ki(),n=Uw().keys,i=e.tryCatch,r=e.errorObj;function a(s,o,c){return function(u){var d=c._boundValue();e:for(var h=0;h<s.length;++h){var f=s[h];if(f===Error||f!=null&&f.prototype instanceof Error){if(u instanceof f)return i(o).call(d,u)}else if(typeof f=="function"){var p=i(f).call(d,u);if(p===r)return p;if(p)return i(o).call(d,u)}else if(e.isObject(u)){for(var w=n(f),v=0;v<w.length;++v){var b=w[v];if(f[b]!=u[b])continue e}return i(o).call(d,u)}}return t}}return a}),bI}var wI,rH;function Vie(){if(rH)return wI;rH=1;var t=ki(),e=t.maybeWrapAsError,n=Um(),i=n.OperationalError,r=Uw();function a(u){return u instanceof Error&&r.getPrototypeOf(u)===Error.prototype}var s=/^(?:name|message|stack|cause)$/;function o(u){var d;if(a(u)){d=new i(u),d.name=u.name,d.message=u.message,d.stack=u.stack;for(var h=r.keys(u),f=0;f<h.length;++f){var p=h[f];s.test(p)||(d[p]=u[p])}return d}return t.markAsOriginatingFromRejection(u),u}function c(u,d){return function(h,f){if(u!==null){if(h){var p=o(e(h));u._attachExtraTrace(p),u._reject(p)}else if(!d)u._fulfill(f);else{for(var w=arguments.length,v=new Array(Math.max(w-1,0)),b=1;b<w;++b)v[b-1]=arguments[b];u._fulfill(v)}u=null}}}return wI=c,wI}var xI,aH;function kTe(){return aH||(aH=1,xI=function(t,e,n,i,r){var a=ki(),s=a.tryCatch;t.method=function(o){if(typeof o!="function")throw new t.TypeError("expecting a function but got "+a.classString(o));return function(){var c=new t(e);c._captureStackTrace(),c._pushContext();var u=s(o).apply(this,arguments),d=c._popContext();return r.checkForgottenReturns(u,d,"Promise.method",c),c._resolveFromSyncValue(u),c}},t.attempt=t.try=function(o){if(typeof o!="function")return i("expecting a function but got "+a.classString(o));var c=new t(e);c._captureStackTrace(),c._pushContext();var u;if(arguments.length>1){r.deprecated("calling Promise.try with more than 1 argument");var d=arguments[1],h=arguments[2];u=a.isArray(d)?s(o).apply(h,d):s(o).call(h,d)}else u=s(o)();var f=c._popContext();return r.checkForgottenReturns(u,f,"Promise.try",c),c._resolveFromSyncValue(u),c},t.prototype._resolveFromSyncValue=function(o){o===a.errorObj?this._rejectCallback(o.e,!1):this._resolveCallback(o,!0)}}),xI}var _I,sH;function CTe(){return sH||(sH=1,_I=function(t,e,n,i){var r=!1,a=function(u,d){this._reject(d)},s=function(u,d){d.promiseRejectionQueued=!0,d.bindingPromise._then(a,a,null,this,u)},o=function(u,d){this._bitField&50397184||this._resolveCallback(d.target)},c=function(u,d){d.promiseRejectionQueued||this._reject(u)};t.prototype.bind=function(u){r||(r=!0,t.prototype._propagateFrom=i.propagateFromFunction(),t.prototype._boundValue=i.boundValueFunction());var d=n(u),h=new t(e);h._propagateFrom(this,1);var f=this._target();if(h._setBoundTo(d),d instanceof t){var p={promiseRejectionQueued:!1,promise:h,target:f,bindingPromise:d};f._then(e,s,void 0,h,p),d._then(o,c,void 0,h,p),h._setOnCancel(d)}else h._resolveCallback(f);return h},t.prototype._setBoundTo=function(u){u!==void 0?(this._bitField=this._bitField|2097152,this._boundTo=u):this._bitField=this._bitField&-2097153},t.prototype._isBound=function(){return(this._bitField&2097152)===2097152},t.bind=function(u,d){return t.resolve(d).bind(u)}}),_I}var SI,oH;function ETe(){return oH||(oH=1,SI=function(t,e,n,i){var r=ki(),a=r.tryCatch,s=r.errorObj,o=t._async;t.prototype.break=t.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var c=this,u=c;c._isCancellable();){if(!c._cancelBy(u)){u._isFollowing()?u._followee().cancel():u._cancelBranched();break}var d=c._cancellationParent;if(d==null||!d._isCancellable()){c._isFollowing()?c._followee().cancel():c._cancelBranched();break}else c._isFollowing()&&c._followee().cancel(),c._setWillBeCancelled(),u=c,c=d}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(c){return c===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),this._enoughBranchesHaveCancelled()?(this._invokeOnCancel(),!0):!1)},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),o.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(c,u){if(r.isArray(c))for(var d=0;d<c.length;++d)this._doInvokeOnCancel(c[d],u);else if(c!==void 0)if(typeof c=="function"){if(!u){var h=a(c).call(this._boundValue());h===s&&(this._attachExtraTrace(h.e),o.throwLater(h.e))}}else c._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var c=this._onCancel();this._unsetOnCancel(),o.invoke(this._doInvokeOnCancel,this,c)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}),SI}var AI,lH;function TTe(){return lH||(lH=1,AI=function(t){function e(){return this.value}function n(){throw this.reason}t.prototype.return=t.prototype.thenReturn=function(i){return i instanceof t&&i.suppressUnhandledRejections(),this._then(e,void 0,void 0,{value:i},void 0)},t.prototype.throw=t.prototype.thenThrow=function(i){return this._then(n,void 0,void 0,{reason:i},void 0)},t.prototype.catchThrow=function(i){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:i},void 0);var r=arguments[1],a=function(){throw r};return this.caught(i,a)},t.prototype.catchReturn=function(i){if(arguments.length<=1)return i instanceof t&&i.suppressUnhandledRejections(),this._then(void 0,e,void 0,{value:i},void 0);var r=arguments[1];r instanceof t&&r.suppressUnhandledRejections();var a=function(){return r};return this.caught(i,a)}}),AI}var NI,cH;function DTe(){return cH||(cH=1,NI=function(t){function e(c){c!==void 0?(c=c._target(),this._bitField=c._bitField,this._settledValueField=c._isFateSealed()?c._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}e.prototype._settledValue=function(){return this._settledValueField};var n=e.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},i=e.prototype.error=e.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},r=e.prototype.isFulfilled=function(){return(this._bitField&33554432)!==0},a=e.prototype.isRejected=function(){return(this._bitField&16777216)!==0},s=e.prototype.isPending=function(){return(this._bitField&50397184)===0},o=e.prototype.isResolved=function(){return(this._bitField&50331648)!==0};e.prototype.isCancelled=function(){return(this._bitField&8454144)!==0},t.prototype.__isCancelled=function(){return(this._bitField&65536)===65536},t.prototype._isCancelled=function(){return this._target().__isCancelled()},t.prototype.isCancelled=function(){return(this._target()._bitField&8454144)!==0},t.prototype.isPending=function(){return s.call(this._target())},t.prototype.isRejected=function(){return a.call(this._target())},t.prototype.isFulfilled=function(){return r.call(this._target())},t.prototype.isResolved=function(){return o.call(this._target())},t.prototype.value=function(){return n.call(this._target())},t.prototype.reason=function(){var c=this._target();return c._unsetRejectionIsUnhandled(),i.call(c)},t.prototype._value=function(){return this._settledValue()},t.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},t.PromiseInspection=e}),NI}var kI,uH;function PTe(){return uH||(uH=1,kI=function(t,e,n,i,r,a){var s=ki(),o=s.canEvaluate,c=s.tryCatch,u=s.errorObj,d;if(o){for(var h=function(y){return new Function("value","holder",`                             
	            'use strict';                                                    
	            holder.pIndex = value;                                           
	            holder.checkFulfillment(this);                                   
	            `.replace(/Index/g,y))},f=function(y){return new Function("promise","holder",`                           
	            'use strict';                                                    
	            holder.pIndex = promise;                                         
	            `.replace(/Index/g,y))},p=function(y){for(var _=new Array(y),S=0;S<_.length;++S)_[S]="this.p"+(S+1);var N=_.join(" = ")+" = null;",R=`var promise;
`+_.map(function(P){return`                                                         
	                promise = `+P+`;                                      
	                if (promise instanceof Promise) {                            
	                    promise.cancel();                                        
	                }                                                            
	            `}).join(`
`),D=_.join(", "),E="Holder$"+y,C=`return function(tryCatch, errorObj, Promise, async) {    
	            'use strict';                                                    
	            function [TheName](fn) {                                         
	                [TheProperties]                                              
	                this.fn = fn;                                                
	                this.asyncNeeded = true;                                     
	                this.now = 0;                                                
	            }                                                                
	                                                                             
	            [TheName].prototype._callFunction = function(promise) {          
	                promise._pushContext();                                      
	                var ret = tryCatch(this.fn)([ThePassedArguments]);           
	                promise._popContext();                                       
	                if (ret === errorObj) {                                      
	                    promise._rejectCallback(ret.e, false);                   
	                } else {                                                     
	                    promise._resolveCallback(ret);                           
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype.checkFulfillment = function(promise) {       
	                var now = ++this.now;                                        
	                if (now === [TheTotal]) {                                    
	                    if (this.asyncNeeded) {                                  
	                        async.invoke(this._callFunction, this, promise);     
	                    } else {                                                 
	                        this._callFunction(promise);                         
	                    }                                                        
	                                                                             
	                }                                                            
	            };                                                               
	                                                                             
	            [TheName].prototype._resultCancelled = function() {              
	                [CancellationCode]                                           
	            };                                                               
	                                                                             
	            return [TheName];                                                
	        }(tryCatch, errorObj, Promise, async);                               
	        `;return C=C.replace(/\[TheName\]/g,E).replace(/\[TheTotal\]/g,y).replace(/\[ThePassedArguments\]/g,D).replace(/\[TheProperties\]/g,N).replace(/\[CancellationCode\]/g,R),new Function("tryCatch","errorObj","Promise","async",C)(c,u,t,r)},w=[],v=[],b=[],g=0;g<8;++g)w.push(p(g+1)),v.push(h(g+1)),b.push(f(g+1));d=function(y){this._reject(y)}}t.join=function(){var y=arguments.length-1,_;if(y>0&&typeof arguments[y]=="function"&&(_=arguments[y],y<=8&&o)){var T=new t(i);T._captureStackTrace();for(var S=w[y-1],N=new S(_),R=v,D=0;D<y;++D){var E=n(arguments[D],T);if(E instanceof t){E=E._target();var C=E._bitField;C&50397184?C&33554432?R[D].call(T,E._value(),N):C&16777216?T._reject(E._reason()):T._cancel():(E._then(R[D],d,void 0,T,N),b[D](E,N),N.asyncNeeded=!1)}else R[D].call(T,E,N)}if(!T._isFateSealed()){if(N.asyncNeeded){var P=a();P!==null&&(N.fn=s.domainBind(P,N.fn))}T._setAsyncGuaranteed(),T._setOnCancel(N)}return T}for(var k=arguments.length,A=new Array(k),I=0;I<k;++I)A[I]=arguments[I];_&&A.pop();var T=new e(A).promise();return _!==void 0?T.spread(_):T}}),kI}var CI,dH;function ITe(){return dH||(dH=1,CI=function(t,e,n,i,r,a){var s=t._getDomain,o=ki(),c=o.tryCatch,u=o.errorObj,d=t._async;function h(p,w,v,b){this.constructor$(p),this._promise._captureStackTrace();var g=s();this._callback=g===null?w:o.domainBind(g,w),this._preservedValues=b===r?new Array(this.length()):null,this._limit=v,this._inFlight=0,this._queue=[],d.invoke(this._asyncInit,this,void 0)}o.inherits(h,e),h.prototype._asyncInit=function(){this._init$(void 0,-2)},h.prototype._init=function(){},h.prototype._promiseFulfilled=function(p,w){var v=this._values,b=this.length(),g=this._preservedValues,y=this._limit;if(w<0){if(w=w*-1-1,v[w]=p,y>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(y>=1&&this._inFlight>=y)return v[w]=p,this._queue.push(w),!1;g!==null&&(g[w]=p);var _=this._promise,S=this._callback,N=_._boundValue();_._pushContext();var R=c(S).call(N,p,w,b),D=_._popContext();if(a.checkForgottenReturns(R,D,g!==null?"Promise.filter":"Promise.map",_),R===u)return this._reject(R.e),!0;var E=i(R,this._promise);if(E instanceof t){E=E._target();var C=E._bitField;if(C&50397184)if(C&33554432)R=E._value();else return C&16777216?(this._reject(E._reason()),!0):(this._cancel(),!0);else return y>=1&&this._inFlight++,v[w]=E,E._proxy(this,(w+1)*-1),!1}v[w]=R}var P=++this._totalResolved;return P>=b?(g!==null?this._filter(v,g):this._resolve(v),!0):!1},h.prototype._drainQueue=function(){for(var p=this._queue,w=this._limit,v=this._values;p.length>0&&this._inFlight<w;){if(this._isResolved())return;var b=p.pop();this._promiseFulfilled(v[b],b)}},h.prototype._filter=function(p,w){for(var v=w.length,b=new Array(v),g=0,y=0;y<v;++y)p[y]&&(b[g++]=w[y]);b.length=g,this._resolve(b)},h.prototype.preservedValues=function(){return this._preservedValues};function f(p,w,v,b){if(typeof w!="function")return n("expecting a function but got "+o.classString(w));var g=0;if(v!==void 0)if(typeof v=="object"&&v!==null){if(typeof v.concurrency!="number")return t.reject(new TypeError("'concurrency' must be a number but it is "+o.classString(v.concurrency)));g=v.concurrency}else return t.reject(new TypeError("options argument must be an object but it is "+o.classString(v)));return g=typeof g=="number"&&isFinite(g)&&g>=1?g:0,new h(p,w,g,b).promise()}t.prototype.map=function(p,w){return f(this,p,w,null)},t.map=function(p,w,v,b){return f(p,w,v,b)}}),CI}var EI,hH;function RTe(){if(hH)return EI;hH=1;var t=Object.create;if(t){var e=t(null),n=t(null);e[" size"]=n[" size"]=0}return EI=function(i){var r=ki(),a=r.canEvaluate,s=r.isIdentifier,o,c;{var u=function(b){return new Function("ensureMethod",`                                    
	        return function(obj) {                                               
	            'use strict'                                                     
	            var len = this.length;                                           
	            ensureMethod(obj, 'methodName');                                 
	            switch(len) {                                                    
	                case 1: return obj.methodName(this[0]);                      
	                case 2: return obj.methodName(this[0], this[1]);             
	                case 3: return obj.methodName(this[0], this[1], this[2]);    
	                case 0: return obj.methodName();                             
	                default:                                                     
	                    return obj.methodName.apply(obj, this);                  
	            }                                                                
	        };                                                                   
	        `.replace(/methodName/g,b))(f)},d=function(b){return new Function("obj",`                                             
	        'use strict';                                                        
	        return obj.propertyName;                                             
	        `.replace("propertyName",b))},h=function(b,g,y){var _=y[b];if(typeof _!="function"){if(!s(b))return null;if(_=g(b),y[b]=_,y[" size"]++,y[" size"]>512){for(var S=Object.keys(y),N=0;N<256;++N)delete y[S[N]];y[" size"]=S.length-256}}return _};o=function(b){return h(b,u,e)},c=function(b){return h(b,d,n)}}function f(b,g){var y;if(b!=null&&(y=b[g]),typeof y!="function"){var _="Object "+r.classString(b)+" has no method '"+r.toString(g)+"'";throw new i.TypeError(_)}return y}function p(b){var g=this.pop(),y=f(b,g);return y.apply(b,this)}i.prototype.call=function(b){for(var g=arguments.length,y=new Array(Math.max(g-1,0)),_=1;_<g;++_)y[_-1]=arguments[_];if(a){var S=o(b);if(S!==null)return this._then(S,void 0,void 0,y,void 0)}return y.push(b),this._then(p,void 0,void 0,y,void 0)};function w(b){return b[this]}function v(b){var g=+this;return g<0&&(g=Math.max(0,g+b.length)),b[g]}i.prototype.get=function(b){var g=typeof b=="number",y;if(g)y=v;else if(a){var _=c(b);y=_!==null?_:w}else y=w;return this._then(y,void 0,void 0,b,void 0)}},EI}var TI,fH;function LTe(){return fH||(fH=1,TI=function(t,e,n,i,r,a){var s=ki(),o=Um().TypeError,c=ki().inherits,u=s.errorObj,d=s.tryCatch,h={};function f(_){setTimeout(function(){throw _},0)}function p(_){var S=n(_);return S!==_&&typeof _._isDisposable=="function"&&typeof _._getDisposer=="function"&&_._isDisposable()&&S._setDisposable(_._getDisposer()),S}function w(_,S){var N=0,R=_.length,D=new t(r);function E(){if(N>=R)return D._fulfill();var C=p(_[N++]);if(C instanceof t&&C._isDisposable()){try{C=n(C._getDisposer().tryDispose(S),_.promise)}catch(P){return f(P)}if(C instanceof t)return C._then(E,f,null,null,null)}E()}return E(),D}function v(_,S,N){this._data=_,this._promise=S,this._context=N}v.prototype.data=function(){return this._data},v.prototype.promise=function(){return this._promise},v.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():h},v.prototype.tryDispose=function(_){var S=this.resource(),N=this._context;N!==void 0&&N._pushContext();var R=S!==h?this.doDispose(S,_):null;return N!==void 0&&N._popContext(),this._promise._unsetDisposable(),this._data=null,R},v.isDisposer=function(_){return _!=null&&typeof _.resource=="function"&&typeof _.tryDispose=="function"};function b(_,S,N){this.constructor$(_,S,N)}c(b,v),b.prototype.doDispose=function(_,S){var N=this.data();return N.call(_,_,S)};function g(_){return v.isDisposer(_)?(this.resources[this.index]._setDisposable(_),_.promise()):_}function y(_){this.length=_,this.promise=null,this[_-1]=null}y.prototype._resultCancelled=function(){for(var _=this.length,S=0;S<_;++S){var N=this[S];N instanceof t&&N.cancel()}},t.using=function(){var _=arguments.length;if(_<2)return e("you must pass at least 2 arguments to Promise.using");var S=arguments[_-1];if(typeof S!="function")return e("expecting a function but got "+s.classString(S));var N,R=!0;_===2&&Array.isArray(arguments[0])?(N=arguments[0],_=N.length,R=!1):(N=arguments,_--);for(var D=new y(_),E=0;E<_;++E){var C=N[E];if(v.isDisposer(C)){var P=C;C=C.promise(),C._setDisposable(P)}else{var k=n(C);k instanceof t&&(C=k._then(g,null,null,{resources:D,index:E},void 0))}D[E]=C}for(var A=new Array(D.length),E=0;E<A.length;++E)A[E]=t.resolve(D[E]).reflect();var I=t.all(A).then(function(z){for(var j=0;j<z.length;++j){var W=z[j];if(W.isRejected())return u.e=W.error(),u;if(!W.isFulfilled()){I.cancel();return}z[j]=W.value()}T._pushContext(),S=d(S);var $=R?S.apply(void 0,z):S(z),q=T._popContext();return a.checkForgottenReturns($,q,"Promise.using",T),$}),T=I.lastly(function(){var z=new t.PromiseInspection(I);return w(D,z)});return D.promise=T,T._setOnCancel(D),T},t.prototype._setDisposable=function(_){this._bitField=this._bitField|131072,this._disposer=_},t.prototype._isDisposable=function(){return(this._bitField&131072)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},t.prototype.disposer=function(_){if(typeof _=="function")return new b(_,this,i());throw new o}}),TI}var DI,pH;function FTe(){return pH||(pH=1,DI=function(t,e,n){var i=ki(),r=t.TimeoutError;function a(h){this.handle=h}a.prototype._resultCancelled=function(){clearTimeout(this.handle)};var s=function(h){return o(+this).thenReturn(h)},o=t.delay=function(h,f){var p,w;return f!==void 0?(p=t.resolve(f)._then(s,null,null,h,void 0),n.cancellation()&&f instanceof t&&p._setOnCancel(f)):(p=new t(e),w=setTimeout(function(){p._fulfill()},+h),n.cancellation()&&p._setOnCancel(new a(w)),p._captureStackTrace()),p._setAsyncGuaranteed(),p};t.prototype.delay=function(h){return o(h,this)};var c=function(h,f,p){var w;typeof f!="string"?f instanceof Error?w=f:w=new r("operation timed out"):w=new r(f),i.markAsOriginatingFromRejection(w),h._attachExtraTrace(w),h._reject(w),p!=null&&p.cancel()};function u(h){return clearTimeout(this.handle),h}function d(h){throw clearTimeout(this.handle),h}t.prototype.timeout=function(h,f){h=+h;var p,w,v=new a(setTimeout(function(){p.isPending()&&c(p,f,w)},h));return n.cancellation()?(w=this.then(),p=w._then(u,d,void 0,v,void 0),p._setOnCancel(v)):p=this._then(u,d,void 0,v,void 0),p}}),DI}var PI,mH;function OTe(){return mH||(mH=1,PI=function(t,e,n,i,r,a){var s=Um(),o=s.TypeError,c=ki(),u=c.errorObj,d=c.tryCatch,h=[];function f(w,v,b){for(var g=0;g<v.length;++g){b._pushContext();var y=d(v[g])(w);if(b._popContext(),y===u){b._pushContext();var _=t.reject(u.e);return b._popContext(),_}var S=i(y,b);if(S instanceof t)return S}return null}function p(w,v,b,g){if(a.cancellation()){var y=new t(n),_=this._finallyPromise=new t(n);this._promise=y.lastly(function(){return _}),y._captureStackTrace(),y._setOnCancel(this)}else{var S=this._promise=new t(n);S._captureStackTrace()}this._stack=g,this._generatorFunction=w,this._receiver=v,this._generator=void 0,this._yieldHandlers=typeof b=="function"?[b].concat(h):h,this._yieldedPromise=null,this._cancellationPhase=!1}c.inherits(p,r),p.prototype._isResolved=function(){return this._promise===null},p.prototype._cleanup=function(){this._promise=this._generator=null,a.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},p.prototype._promiseCancelled=function(){if(!this._isResolved()){var w=typeof this._generator.return<"u",v;if(w)this._promise._pushContext(),v=d(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var b=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=b,this._promise._attachExtraTrace(b),this._promise._pushContext(),v=d(this._generator.throw).call(this._generator,b),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(v)}},p.prototype._promiseFulfilled=function(w){this._yieldedPromise=null,this._promise._pushContext();var v=d(this._generator.next).call(this._generator,w);this._promise._popContext(),this._continue(v)},p.prototype._promiseRejected=function(w){this._yieldedPromise=null,this._promise._attachExtraTrace(w),this._promise._pushContext();var v=d(this._generator.throw).call(this._generator,w);this._promise._popContext(),this._continue(v)},p.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var w=this._yieldedPromise;this._yieldedPromise=null,w.cancel()}},p.prototype.promise=function(){return this._promise},p.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},p.prototype._continue=function(w){var v=this._promise;if(w===u)return this._cleanup(),this._cancellationPhase?v.cancel():v._rejectCallback(w.e,!1);var b=w.value;if(w.done===!0)return this._cleanup(),this._cancellationPhase?v.cancel():v._resolveCallback(b);var g=i(b,this._promise);if(!(g instanceof t)&&(g=f(g,this._yieldHandlers,this._promise),g===null)){this._promiseRejected(new o(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",b)+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)));return}g=g._target();var y=g._bitField;y&50397184?y&33554432?t._async.invoke(this._promiseFulfilled,this,g._value()):y&16777216?t._async.invoke(this._promiseRejected,this,g._reason()):this._promiseCancelled():(this._yieldedPromise=g,g._proxy(this,null))},t.coroutine=function(w,v){if(typeof w!="function")throw new o(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var b=Object(v).yieldHandler,g=p,y=new Error().stack;return function(){var _=w.apply(this,arguments),S=new g(void 0,void 0,b,y),N=S.promise();return S._generator=_,S._promiseFulfilled(void 0),N}},t.coroutine.addYieldHandler=function(w){if(typeof w!="function")throw new o("expecting a function but got "+c.classString(w));h.push(w)},t.spawn=function(w){if(a.deprecated("Promise.spawn()","Promise.coroutine()"),typeof w!="function")return e(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var v=new p(w,this),b=v.promise();return v._run(t.spawn),b}}),PI}var II,gH;function UTe(){return gH||(gH=1,II=function(t){var e=ki(),n=t._async,i=e.tryCatch,r=e.errorObj;function a(c,u){var d=this;if(!e.isArray(c))return s.call(d,c,u);var h=i(u).apply(d._boundValue(),[null].concat(c));h===r&&n.throwLater(h.e)}function s(c,u){var d=this,h=d._boundValue(),f=c===void 0?i(u).call(h,null):i(u).call(h,null,c);f===r&&n.throwLater(f.e)}function o(c,u){var d=this;if(!c){var h=new Error(c+"");h.cause=c,c=h}var f=i(u).call(d._boundValue(),c);f===r&&n.throwLater(f.e)}t.prototype.asCallback=t.prototype.nodeify=function(c,u){if(typeof c=="function"){var d=s;u!==void 0&&Object(u).spread&&(d=a),this._then(d,o,void 0,this,c)}return this}}),II}var RI,yH;function MTe(){return yH||(yH=1,RI=function(t,e){var n={},i=ki(),r=Vie(),a=i.withAppended,s=i.maybeWrapAsError,o=i.canEvaluate,c=Um().TypeError,u="Async",d={__isPromisified__:!0},h=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],f=new RegExp("^(?:"+h.join("|")+")$"),p=function(I){return i.isIdentifier(I)&&I.charAt(0)!=="_"&&I!=="constructor"};function w(I){return!f.test(I)}function v(I){try{return I.__isPromisified__===!0}catch{return!1}}function b(I,T,z){var j=i.getDataPropertyOrDefault(I,T+z,d);return j?v(j):!1}function g(I,T,z){for(var j=0;j<I.length;j+=2){var W=I[j];if(z.test(W)){for(var $=W.replace(z,""),q=0;q<I.length;q+=2)if(I[q]===$)throw new c(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",T))}}}function y(I,T,z,j){for(var W=i.inheritedDataKeys(I),$=[],q=0;q<W.length;++q){var G=W[q],B=I[G],L=j===p?!0:p(G);typeof B=="function"&&!v(B)&&!b(I,G,T)&&j(G,B,I,L)&&$.push(G,B)}return g($,T,z),$}var _=function(I){return I.replace(/([$])/,"\\$")},S;{var N=function(I){for(var T=[I],z=Math.max(0,I-1-3),j=I-1;j>=z;--j)T.push(j);for(var j=I+1;j<=3;++j)T.push(j);return T},R=function(I){return i.filledRange(I,"_arg","")},D=function(I){return i.filledRange(Math.max(I,3),"_arg","")},E=function(I){return typeof I.length=="number"?Math.max(Math.min(I.length,1024),0):0};S=function(I,T,z,j,W,$){var q=Math.max(0,E(j)-1),G=N(q),B=typeof I=="string"||T===n;function L(V){var le=R(V).join(", "),ge=V>0?", ":"",ye;return B?ye=`ret = callback.call(this, {{args}}, nodeback); break;
`:ye=T===void 0?`ret = callback({{args}}, nodeback); break;
`:`ret = callback.call(receiver, {{args}}, nodeback); break;
`,ye.replace("{{args}}",le).replace(", ",ge)}function M(){for(var V="",le=0;le<G.length;++le)V+="case "+G[le]+":"+L(G[le]);return V+=`                                                             
	        default:                                                             
	            var args = new Array(len + 1);                                   
	            var i = 0;                                                       
	            for (var i = 0; i < len; ++i) {                                  
	               args[i] = arguments[i];                                       
	            }                                                                
	            args[i] = nodeback;                                              
	            [CodeForCall]                                                    
	            break;                                                           
	        `.replace("[CodeForCall]",B?`ret = callback.apply(this, args);
`:`ret = callback.apply(receiver, args);
`),V}var K=typeof I=="string"?"this != null ? this['"+I+"'] : fn":"fn",Q=`'use strict';                                                
	        var ret = function (Parameters) {                                    
	            'use strict';                                                    
	            var len = arguments.length;                                      
	            var promise = new Promise(INTERNAL);                             
	            promise._captureStackTrace();                                    
	            var nodeback = nodebackForPromise(promise, `+$+`);   
	            var ret;                                                         
	            var callback = tryCatch([GetFunctionCode]);                      
	            switch(len) {                                                    
	                [CodeForSwitchCase]                                          
	            }                                                                
	            if (ret === errorObj) {                                          
	                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);
	            }                                                                
	            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     
	            return promise;                                                  
	        };                                                                   
	        notEnumerableProp(ret, '__isPromisified__', true);                   
	        return ret;                                                          
	    `.replace("[CodeForSwitchCase]",M()).replace("[GetFunctionCode]",K);return Q=Q.replace("Parameters",D(q)),new Function("Promise","fn","receiver","withAppended","maybeWrapAsError","nodebackForPromise","tryCatch","errorObj","notEnumerableProp","INTERNAL",Q)(t,j,T,a,s,r,i.tryCatch,i.errorObj,i.notEnumerableProp,e)}}function C(I,T,z,j,W,$){var q=function(){return this}(),G=I;typeof G=="string"&&(I=j);function B(){var L=T;T===n&&(L=this);var M=new t(e);M._captureStackTrace();var K=typeof G=="string"&&this!==q?this[G]:I,Q=r(M,$);try{K.apply(L,a(arguments,Q))}catch(V){M._rejectCallback(s(V),!0,!0)}return M._isFateSealed()||M._setAsyncGuaranteed(),M}return i.notEnumerableProp(B,"__isPromisified__",!0),B}var P=o?S:C;function k(I,T,z,j,W){for(var $=new RegExp(_(T)+"$"),q=y(I,T,$,z),G=0,B=q.length;G<B;G+=2){var L=q[G],M=q[G+1],K=L+T;if(j===P)I[K]=P(L,n,L,M,T,W);else{var Q=j(M,function(){return P(L,n,L,M,T,W)});i.notEnumerableProp(Q,"__isPromisified__",!0),I[K]=Q}}return i.toFastProperties(I),I}function A(I,T,z){return P(I,T,void 0,I,null,z)}t.promisify=function(I,T){if(typeof I!="function")throw new c("expecting a function but got "+i.classString(I));if(v(I))return I;T=Object(T);var z=T.context===void 0?n:T.context,j=!!T.multiArgs,W=A(I,z,j);return i.copyDescriptors(I,W,w),W},t.promisifyAll=function(I,T){if(typeof I!="function"&&typeof I!="object")throw new c(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);T=Object(T);var z=!!T.multiArgs,j=T.suffix;typeof j!="string"&&(j=u);var W=T.filter;typeof W!="function"&&(W=p);var $=T.promisifier;if(typeof $!="function"&&($=P),!i.isIdentifier(j))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var q=i.inheritedDataKeys(I),G=0;G<q.length;++G){var B=I[q[G]];q[G]!=="constructor"&&i.isClass(B)&&(k(B.prototype,j,W,$,z),k(B,j,W,$,z))}return k(I,j,W,$,z)}}),RI}var LI,vH;function BTe(){return vH||(vH=1,LI=function(t,e,n,i){var r=ki(),a=r.isObject,s=Uw(),o;typeof Map=="function"&&(o=Map);var c=function(){var f=0,p=0;function w(v,b){this[f]=v,this[f+p]=b,f++}return function(b){p=b.size,f=0;var g=new Array(b.size*2);return b.forEach(w,g),g}}(),u=function(f){for(var p=new o,w=f.length/2|0,v=0;v<w;++v){var b=f[w+v],g=f[v];p.set(b,g)}return p};function d(f){var p=!1,w;if(o!==void 0&&f instanceof o)w=c(f),p=!0;else{var v=s.keys(f),b=v.length;w=new Array(b*2);for(var g=0;g<b;++g){var y=v[g];w[g]=f[y],w[g+b]=y}}this.constructor$(w),this._isMap=p,this._init$(void 0,-3)}r.inherits(d,e),d.prototype._init=function(){},d.prototype._promiseFulfilled=function(f,p){this._values[p]=f;var w=++this._totalResolved;if(w>=this._length){var v;if(this._isMap)v=u(this._values);else{v={};for(var b=this.length(),g=0,y=this.length();g<y;++g)v[this._values[g+b]]=this._values[g]}return this._resolve(v),!0}return!1},d.prototype.shouldCopyValues=function(){return!1},d.prototype.getActualLength=function(f){return f>>1};function h(f){var p,w=n(f);if(a(w))w instanceof t?p=w._then(t.props,void 0,void 0,void 0,void 0):p=new d(w).promise();else return i(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`);return w instanceof t&&p._propagateFrom(w,2),p}t.prototype.props=function(){return h(this)},t.props=function(f){return h(f)}}),LI}var FI,bH;function zTe(){return bH||(bH=1,FI=function(t,e,n,i){var r=ki(),a=function(o){return o.then(function(c){return s(c,o)})};function s(o,c){var u=n(o);if(u instanceof t)return a(u);if(o=r.asArray(o),o===null)return i("expecting an array or an iterable object but got "+r.classString(o));var d=new t(e);c!==void 0&&d._propagateFrom(c,3);for(var h=d._fulfill,f=d._reject,p=0,w=o.length;p<w;++p){var v=o[p];v===void 0&&!(p in o)||t.cast(v)._then(h,f,void 0,d,null)}return d}t.race=function(o){return s(o,void 0)},t.prototype.race=function(){return s(this,void 0)}}),FI}var OI,wH;function jTe(){return wH||(wH=1,OI=function(t,e,n,i,r,a){var s=t._getDomain,o=ki(),c=o.tryCatch;function u(w,v,b,g){this.constructor$(w);var y=s();this._fn=y===null?v:o.domainBind(y,v),b!==void 0&&(b=t.resolve(b),b._attachCancellationCallback(this)),this._initialValue=b,this._currentCancellable=null,g===r?this._eachValues=Array(this._length):g===0?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}o.inherits(u,e),u.prototype._gotAccum=function(w){this._eachValues!==void 0&&this._eachValues!==null&&w!==r&&this._eachValues.push(w)},u.prototype._eachComplete=function(w){return this._eachValues!==null&&this._eachValues.push(w),this._eachValues},u.prototype._init=function(){},u.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},u.prototype.shouldCopyValues=function(){return!1},u.prototype._resolve=function(w){this._promise._resolveCallback(w),this._values=null},u.prototype._resultCancelled=function(w){if(w===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel())},u.prototype._iterate=function(w){this._values=w;var v,b,g=w.length;if(this._initialValue!==void 0?(v=this._initialValue,b=0):(v=t.resolve(w[0]),b=1),this._currentCancellable=v,!v.isRejected())for(;b<g;++b){var y={accum:null,value:w[b],index:b,length:g,array:this};v=v._then(f,void 0,void 0,y,void 0)}this._eachValues!==void 0&&(v=v._then(this._eachComplete,void 0,void 0,this,void 0)),v._then(d,d,void 0,v,this)},t.prototype.reduce=function(w,v){return h(this,w,v,null)},t.reduce=function(w,v,b,g){return h(w,v,b,g)};function d(w,v){this.isFulfilled()?v._resolve(w):v._reject(w)}function h(w,v,b,g){if(typeof v!="function")return n("expecting a function but got "+o.classString(v));var y=new u(w,v,b,g);return y.promise()}function f(w){this.accum=w,this.array._gotAccum(w);var v=i(this.value,this.array._promise);return v instanceof t?(this.array._currentCancellable=v,v._then(p,void 0,void 0,this,void 0)):p.call(this,v)}function p(w){var v=this.array,b=v._promise,g=c(v._fn);b._pushContext();var y;v._eachValues!==void 0?y=g.call(b._boundValue(),w,this.index,this.length):y=g.call(b._boundValue(),this.accum,w,this.index,this.length),y instanceof t&&(v._currentCancellable=y);var _=b._popContext();return a.checkForgottenReturns(y,_,v._eachValues!==void 0?"Promise.each":"Promise.reduce",b),y}}),OI}var UI,xH;function $Te(){return xH||(xH=1,UI=function(t,e,n){var i=t.PromiseInspection,r=ki();function a(s){this.constructor$(s)}r.inherits(a,e),a.prototype._promiseResolved=function(s,o){this._values[s]=o;var c=++this._totalResolved;return c>=this._length?(this._resolve(this._values),!0):!1},a.prototype._promiseFulfilled=function(s,o){var c=new i;return c._bitField=33554432,c._settledValueField=s,this._promiseResolved(o,c)},a.prototype._promiseRejected=function(s,o){var c=new i;return c._bitField=16777216,c._settledValueField=s,this._promiseResolved(o,c)},t.settle=function(s){return n.deprecated(".settle()",".reflect()"),new a(s).promise()},t.prototype.settle=function(){return t.settle(this)}}),UI}var MI,_H;function WTe(){return _H||(_H=1,MI=function(t,e,n){var i=ki(),r=Um().RangeError,a=Um().AggregateError,s=i.isArray,o={};function c(d){this.constructor$(d),this._howMany=0,this._unwrap=!1,this._initialized=!1}i.inherits(c,e),c.prototype._init=function(){if(this._initialized){if(this._howMany===0){this._resolve([]);return}this._init$(void 0,-5);var d=s(this._values);!this._isResolved()&&d&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},c.prototype.init=function(){this._initialized=!0,this._init()},c.prototype.setUnwrap=function(){this._unwrap=!0},c.prototype.howMany=function(){return this._howMany},c.prototype.setHowMany=function(d){this._howMany=d},c.prototype._promiseFulfilled=function(d){return this._addFulfilled(d),this._fulfilled()===this.howMany()?(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0):!1},c.prototype._promiseRejected=function(d){return this._addRejected(d),this._checkOutcome()},c.prototype._promiseCancelled=function(){return this._values instanceof t||this._values==null?this._cancel():(this._addRejected(o),this._checkOutcome())},c.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var d=new a,h=this.length();h<this._values.length;++h)this._values[h]!==o&&d.push(this._values[h]);return d.length>0?this._reject(d):this._cancel(),!0}return!1},c.prototype._fulfilled=function(){return this._totalResolved},c.prototype._rejected=function(){return this._values.length-this.length()},c.prototype._addRejected=function(d){this._values.push(d)},c.prototype._addFulfilled=function(d){this._values[this._totalResolved++]=d},c.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},c.prototype._getRangeError=function(d){var h="Input array must contain at least "+this._howMany+" items but contains only "+d+" items";return new r(h)},c.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))};function u(d,h){if((h|0)!==h||h<0)return n(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var f=new c(d),p=f.promise();return f.setHowMany(h),f.init(),p}t.some=function(d,h){return u(d,h)},t.prototype.some=function(d){return u(this,d)},t._SomePromiseArray=c}),MI}var BI,SH;function qTe(){return SH||(SH=1,BI=function(t,e){var n=t.map;t.prototype.filter=function(i,r){return n(this,i,r,e)},t.filter=function(i,r,a){return n(i,r,a,e)}}),BI}var zI,AH;function HTe(){return AH||(AH=1,zI=function(t,e){var n=t.reduce,i=t.all;function r(){return i(this)}function a(s,o){return n(s,o,e,e)}t.prototype.each=function(s){return n(this,s,e,0)._then(r,void 0,void 0,this,void 0)},t.prototype.mapSeries=function(s){return n(this,s,e,e)},t.each=function(s,o){return n(s,o,e,0)._then(r,void 0,void 0,s,void 0)},t.mapSeries=a}),zI}var jI,NH;function VTe(){return NH||(NH=1,jI=function(t){var e=t._SomePromiseArray;function n(i){var r=new e(i),a=r.promise();return r.setHowMany(1),r.setUnwrap(),r.init(),a}t.any=function(i){return n(i)},t.prototype.any=function(){return n(this)}}),jI}(function(t){t.exports=function(){var e=function(){return new f(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},n=function(){return new A.PromiseInspection(this._target())},i=function(j){return A.reject(new f(j))};function r(){}var a={},s=ki(),o;s.isNode?o=function(){var j=process.domain;return j===void 0&&(j=null),j}:o=function(){return null},s.notEnumerableProp(A,"_getDomain",o);var c=Uw(),u=bTe(),d=new u;c.defineProperty(A,"_async",{value:d});var h=Um(),f=A.TypeError=h.TypeError;A.RangeError=h.RangeError;var p=A.CancellationError=h.CancellationError;A.TimeoutError=h.TimeoutError,A.OperationalError=h.OperationalError,A.RejectionError=h.OperationalError,A.AggregateError=h.AggregateError;var w=function(){},v={},b={},g=wTe()(A,w),y=xTe()(A,w,g,i,r),_=_Te()(A),S=_.create,N=STe()(A,_);N.CapturedTrace;var R=ATe()(A,g),D=NTe()(b),E=Vie(),C=s.errorObj,P=s.tryCatch;function k(j,W){if(typeof W!="function")throw new f("expecting a function but got "+s.classString(W));if(j.constructor!==A)throw new f(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`)}function A(j){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,j!==w&&(k(this,j),this._resolveFromExecutor(j)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}A.prototype.toString=function(){return"[object Promise]"},A.prototype.caught=A.prototype.catch=function(j){var W=arguments.length;if(W>1){var $=new Array(W-1),q=0,G;for(G=0;G<W-1;++G){var B=arguments[G];if(s.isObject(B))$[q++]=B;else return i("expecting an object but got A catch statement predicate "+s.classString(B))}return $.length=q,j=arguments[G],this.then(void 0,D($,j,this))}return this.then(void 0,j)},A.prototype.reflect=function(){return this._then(n,n,void 0,this,void 0)},A.prototype.then=function(j,W){if(N.warnings()&&arguments.length>0&&typeof j!="function"&&typeof W!="function"){var $=".then() only accepts functions but was passed: "+s.classString(j);arguments.length>1&&($+=", "+s.classString(W)),this._warn($)}return this._then(j,W,void 0,void 0,void 0)},A.prototype.done=function(j,W){var $=this._then(j,W,void 0,void 0,void 0);$._setIsFinal()},A.prototype.spread=function(j){return typeof j!="function"?i("expecting a function but got "+s.classString(j)):this.all()._then(j,void 0,void 0,v,void 0)},A.prototype.toJSON=function(){var j={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(j.fulfillmentValue=this.value(),j.isFulfilled=!0):this.isRejected()&&(j.rejectionReason=this.reason(),j.isRejected=!0),j},A.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new y(this).promise()},A.prototype.error=function(j){return this.caught(s.originatesFromRejection,j)},A.getNewLibraryCopy=t.exports,A.is=function(j){return j instanceof A},A.fromNode=A.fromCallback=function(j){var W=new A(w);W._captureStackTrace();var $=arguments.length>1?!!Object(arguments[1]).multiArgs:!1,q=P(j)(E(W,$));return q===C&&W._rejectCallback(q.e,!0),W._isFateSealed()||W._setAsyncGuaranteed(),W},A.all=function(j){return new y(j).promise()},A.cast=function(j){var W=g(j);return W instanceof A||(W=new A(w),W._captureStackTrace(),W._setFulfilled(),W._rejectionHandler0=j),W},A.resolve=A.fulfilled=A.cast,A.reject=A.rejected=function(j){var W=new A(w);return W._captureStackTrace(),W._rejectCallback(j,!0),W},A.setScheduler=function(j){if(typeof j!="function")throw new f("expecting a function but got "+s.classString(j));return d.setScheduler(j)},A.prototype._then=function(j,W,$,q,G){var B=G!==void 0,L=B?G:new A(w),M=this._target(),K=M._bitField;B||(L._propagateFrom(this,3),L._captureStackTrace(),q===void 0&&this._bitField&2097152&&(K&50397184?q=this._boundValue():q=M===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,L));var Q=o();if(K&50397184){var V,le,ge=M._settlePromiseCtx;K&33554432?(le=M._rejectionHandler0,V=j):K&16777216?(le=M._fulfillmentHandler0,V=W,M._unsetRejectionIsUnhandled()):(ge=M._settlePromiseLateCancellationObserver,le=new p("late cancellation observer"),M._attachExtraTrace(le),V=W),d.invoke(ge,M,{handler:Q===null?V:typeof V=="function"&&s.domainBind(Q,V),promise:L,receiver:q,value:le})}else M._addCallbacks(j,W,L,q,Q);return L},A.prototype._length=function(){return this._bitField&65535},A.prototype._isFateSealed=function(){return(this._bitField&117506048)!==0},A.prototype._isFollowing=function(){return(this._bitField&67108864)===67108864},A.prototype._setLength=function(j){this._bitField=this._bitField&-65536|j&65535},A.prototype._setFulfilled=function(){this._bitField=this._bitField|33554432,this._fireEvent("promiseFulfilled",this)},A.prototype._setRejected=function(){this._bitField=this._bitField|16777216,this._fireEvent("promiseRejected",this)},A.prototype._setFollowing=function(){this._bitField=this._bitField|67108864,this._fireEvent("promiseResolved",this)},A.prototype._setIsFinal=function(){this._bitField=this._bitField|4194304},A.prototype._isFinal=function(){return(this._bitField&4194304)>0},A.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},A.prototype._setCancelled=function(){this._bitField=this._bitField|65536,this._fireEvent("promiseCancelled",this)},A.prototype._setWillBeCancelled=function(){this._bitField=this._bitField|8388608},A.prototype._setAsyncGuaranteed=function(){d.hasCustomScheduler()||(this._bitField=this._bitField|134217728)},A.prototype._receiverAt=function(j){var W=j===0?this._receiver0:this[j*4-4+3];if(W!==a)return W===void 0&&this._isBound()?this._boundValue():W},A.prototype._promiseAt=function(j){return this[j*4-4+2]},A.prototype._fulfillmentHandlerAt=function(j){return this[j*4-4+0]},A.prototype._rejectionHandlerAt=function(j){return this[j*4-4+1]},A.prototype._boundValue=function(){},A.prototype._migrateCallback0=function(j){j._bitField;var W=j._fulfillmentHandler0,$=j._rejectionHandler0,q=j._promise0,G=j._receiverAt(0);G===void 0&&(G=a),this._addCallbacks(W,$,q,G,null)},A.prototype._migrateCallbackAt=function(j,W){var $=j._fulfillmentHandlerAt(W),q=j._rejectionHandlerAt(W),G=j._promiseAt(W),B=j._receiverAt(W);B===void 0&&(B=a),this._addCallbacks($,q,G,B,null)},A.prototype._addCallbacks=function(j,W,$,q,G){var B=this._length();if(B>=65535-4&&(B=0,this._setLength(0)),B===0)this._promise0=$,this._receiver0=q,typeof j=="function"&&(this._fulfillmentHandler0=G===null?j:s.domainBind(G,j)),typeof W=="function"&&(this._rejectionHandler0=G===null?W:s.domainBind(G,W));else{var L=B*4-4;this[L+2]=$,this[L+3]=q,typeof j=="function"&&(this[L+0]=G===null?j:s.domainBind(G,j)),typeof W=="function"&&(this[L+1]=G===null?W:s.domainBind(G,W))}return this._setLength(B+1),B},A.prototype._proxy=function(j,W){this._addCallbacks(void 0,void 0,W,j,null)},A.prototype._resolveCallback=function(j,W){if(!(this._bitField&117506048)){if(j===this)return this._rejectCallback(e(),!1);var $=g(j,this);if(!($ instanceof A))return this._fulfill(j);W&&this._propagateFrom($,2);var q=$._target();if(q===this){this._reject(e());return}var G=q._bitField;if(G&50397184)if(G&33554432)this._fulfill(q._value());else if(G&16777216)this._reject(q._reason());else{var M=new p("late cancellation observer");q._attachExtraTrace(M),this._reject(M)}else{var B=this._length();B>0&&q._migrateCallback0(this);for(var L=1;L<B;++L)q._migrateCallbackAt(this,L);this._setFollowing(),this._setLength(0),this._setFollowee(q)}}},A.prototype._rejectCallback=function(j,W,$){var q=s.ensureErrorObject(j),G=q===j;if(!G&&!$&&N.warnings()){var B="a promise was rejected with a non-error: "+s.classString(j);this._warn(B,!0)}this._attachExtraTrace(q,W?G:!1),this._reject(j)},A.prototype._resolveFromExecutor=function(j){var W=this;this._captureStackTrace(),this._pushContext();var $=!0,q=this._execute(j,function(G){W._resolveCallback(G)},function(G){W._rejectCallback(G,$)});$=!1,this._popContext(),q!==void 0&&W._rejectCallback(q,!0)},A.prototype._settlePromiseFromHandler=function(j,W,$,q){var G=q._bitField;if(!(G&65536)){q._pushContext();var B;W===v?!$||typeof $.length!="number"?(B=C,B.e=new f("cannot .spread() a non-array: "+s.classString($))):B=P(j).apply(this._boundValue(),$):B=P(j).call(W,$);var L=q._popContext();G=q._bitField,!(G&65536)&&(B===b?q._reject($):B===C?q._rejectCallback(B.e,!1):(N.checkForgottenReturns(B,L,"",q,this),q._resolveCallback(B)))}},A.prototype._target=function(){for(var j=this;j._isFollowing();)j=j._followee();return j},A.prototype._followee=function(){return this._rejectionHandler0},A.prototype._setFollowee=function(j){this._rejectionHandler0=j},A.prototype._settlePromise=function(j,W,$,q){var G=j instanceof A,B=this._bitField,L=(B&134217728)!==0;B&65536?(G&&j._invokeInternalOnCancel(),$ instanceof R&&$.isFinallyHandler()?($.cancelPromise=j,P(W).call($,q)===C&&j._reject(C.e)):W===n?j._fulfill(n.call($)):$ instanceof r?$._promiseCancelled(j):G||j instanceof y?j._cancel():$.cancel()):typeof W=="function"?G?(L&&j._setAsyncGuaranteed(),this._settlePromiseFromHandler(W,$,q,j)):W.call($,q,j):$ instanceof r?$._isResolved()||(B&33554432?$._promiseFulfilled(q,j):$._promiseRejected(q,j)):G&&(L&&j._setAsyncGuaranteed(),B&33554432?j._fulfill(q):j._reject(q))},A.prototype._settlePromiseLateCancellationObserver=function(j){var W=j.handler,$=j.promise,q=j.receiver,G=j.value;typeof W=="function"?$ instanceof A?this._settlePromiseFromHandler(W,q,G,$):W.call(q,G,$):$ instanceof A&&$._reject(G)},A.prototype._settlePromiseCtx=function(j){this._settlePromise(j.promise,j.handler,j.receiver,j.value)},A.prototype._settlePromise0=function(j,W,$){var q=this._promise0,G=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(q,j,G,W)},A.prototype._clearCallbackDataAtIndex=function(j){var W=j*4-4;this[W+2]=this[W+3]=this[W+0]=this[W+1]=void 0},A.prototype._fulfill=function(j){var W=this._bitField;if(!((W&117506048)>>>16)){if(j===this){var $=e();return this._attachExtraTrace($),this._reject($)}this._setFulfilled(),this._rejectionHandler0=j,(W&65535)>0&&(W&134217728?this._settlePromises():d.settlePromises(this))}},A.prototype._reject=function(j){var W=this._bitField;if(!((W&117506048)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=j,this._isFinal())return d.fatalError(j,s.isNode);(W&65535)>0?d.settlePromises(this):this._ensurePossibleRejectionHandled()}},A.prototype._fulfillPromises=function(j,W){for(var $=1;$<j;$++){var q=this._fulfillmentHandlerAt($),G=this._promiseAt($),B=this._receiverAt($);this._clearCallbackDataAtIndex($),this._settlePromise(G,q,B,W)}},A.prototype._rejectPromises=function(j,W){for(var $=1;$<j;$++){var q=this._rejectionHandlerAt($),G=this._promiseAt($),B=this._receiverAt($);this._clearCallbackDataAtIndex($),this._settlePromise(G,q,B,W)}},A.prototype._settlePromises=function(){var j=this._bitField,W=j&65535;if(W>0){if(j&16842752){var $=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,$,j),this._rejectPromises(W,$)}else{var q=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,q,j),this._fulfillPromises(W,q)}this._setLength(0)}this._clearCancellationData()},A.prototype._settledValue=function(){var j=this._bitField;if(j&33554432)return this._rejectionHandler0;if(j&16777216)return this._fulfillmentHandler0};function I(j){this.promise._resolveCallback(j)}function T(j){this.promise._rejectCallback(j,!1)}A.defer=A.pending=function(){N.deprecated("Promise.defer","new Promise");var j=new A(w);return{promise:j,resolve:I,reject:T}},s.notEnumerableProp(A,"_makeSelfResolutionError",e),kTe()(A,w,g,i,N),CTe()(A,w,g,N),ETe()(A,y,i,N),TTe()(A),DTe()(A),PTe()(A,y,g,w,d,o),A.Promise=A,A.version="3.4.7",ITe()(A,y,i,g,w,N),RTe()(A),LTe()(A,i,g,S,w,N),FTe()(A,w,N),OTe()(A,i,w,g,r,N),UTe()(A),MTe()(A,w),BTe()(A,y,g,i),zTe()(A,w,g,i),jTe()(A,y,i,g,w,N),$Te()(A,y,N),WTe()(A,y,i),qTe()(A,w),HTe()(A,w),VTe()(A),s.toFastProperties(A),s.toFastProperties(A.prototype);function z(j){var W=new A(w);W._fulfillmentHandler0=j,W._rejectionHandler0=j,W._promise0=j,W._receiver0=j}return z({a:1}),z({b:2}),z({c:3}),z(1),z(function(){}),z(void 0),z(!1),z(new A(w)),N.setBounds(u.firstLineError,s.lastLineError),A}})(Hie);var GTe=Hie.exports,XTe=wr,yo=GTe();fa.defer=KTe;fa.when=yo.resolve;fa.resolve=yo.resolve;fa.all=yo.all;fa.props=yo.props;fa.reject=yo.reject;fa.promisify=yo.promisify;fa.mapSeries=yo.mapSeries;fa.attempt=yo.attempt;fa.nfcall=function(t){var e=Array.prototype.slice.call(arguments,1),n=yo.promisify(t);return n.apply(null,e)};yo.prototype.fail=yo.prototype.caught;yo.prototype.also=function(t){return this.then(function(e){var n=XTe.extend({},e,t(e));return yo.props(n)})};function KTe(){var t,e,n=new yo.Promise(function(i,r){t=i,e=r});return{resolve:t,reject:e,promise:n}}var mn={},YTe=wr,Fa=mn.types={document:"document",paragraph:"paragraph",run:"run",text:"text",tab:"tab",checkbox:"checkbox",hyperlink:"hyperlink",noteReference:"noteReference",image:"image",note:"note",commentReference:"commentReference",comment:"comment",table:"table",tableRow:"tableRow",tableCell:"tableCell",break:"break",bookmarkStart:"bookmarkStart"};function JTe(t,e){return e=e||{},{type:Fa.document,children:t,notes:e.notes||new Z6({}),comments:e.comments||[]}}function ZTe(t,e){e=e||{};var n=e.indent||{};return{type:Fa.paragraph,children:t,styleId:e.styleId||null,styleName:e.styleName||null,numbering:e.numbering||null,alignment:e.alignment||null,indent:{start:n.start||null,end:n.end||null,firstLine:n.firstLine||null,hanging:n.hanging||null}}}function QTe(t,e){return e=e||{},{type:Fa.run,children:t,styleId:e.styleId||null,styleName:e.styleName||null,isBold:!!e.isBold,isUnderline:!!e.isUnderline,isItalic:!!e.isItalic,isStrikethrough:!!e.isStrikethrough,isAllCaps:!!e.isAllCaps,isSmallCaps:!!e.isSmallCaps,verticalAlignment:e.verticalAlignment||Gie.baseline,font:e.font||null,fontSize:e.fontSize||null,highlight:e.highlight||null}}var Gie={baseline:"baseline",superscript:"superscript",subscript:"subscript"};function eDe(t){return{type:Fa.text,value:t}}function tDe(){return{type:Fa.tab}}function nDe(t){return{type:Fa.checkbox,checked:t.checked}}function iDe(t,e){return{type:Fa.hyperlink,children:t,href:e.href,anchor:e.anchor,targetFrame:e.targetFrame}}function rDe(t){return{type:Fa.noteReference,noteType:t.noteType,noteId:t.noteId}}function Z6(t){this._notes=YTe.indexBy(t,function(e){return Xie(e.noteType,e.noteId)})}Z6.prototype.resolve=function(t){return this.findNoteByKey(Xie(t.noteType,t.noteId))};Z6.prototype.findNoteByKey=function(t){return this._notes[t]||null};function aDe(t){return{type:Fa.note,noteType:t.noteType,noteId:t.noteId,body:t.body}}function sDe(t){return{type:Fa.commentReference,commentId:t.commentId}}function oDe(t){return{type:Fa.comment,commentId:t.commentId,body:t.body,authorName:t.authorName,authorInitials:t.authorInitials}}function Xie(t,e){return t+"-"+e}function lDe(t){return{type:Fa.image,read:function(e){return e?t.readImage(e):t.readImage().then(function(n){return Buffer.from(n)})},readAsArrayBuffer:function(){return t.readImage()},readAsBase64String:function(){return t.readImage("base64")},readAsBuffer:function(){return t.readImage().then(function(e){return Buffer.from(e)})},altText:t.altText,contentType:t.contentType}}function cDe(t,e){return e=e||{},{type:Fa.table,children:t,styleId:e.styleId||null,styleName:e.styleName||null}}function uDe(t,e){return e=e||{},{type:Fa.tableRow,children:t,isHeader:e.isHeader||!1}}function dDe(t,e){return e=e||{},{type:Fa.tableCell,children:t,colSpan:e.colSpan==null?1:e.colSpan,rowSpan:e.rowSpan==null?1:e.rowSpan}}function CM(t){return{type:Fa.break,breakType:t}}function hDe(t){return{type:Fa.bookmarkStart,name:t.name}}mn.document=mn.Document=JTe;mn.paragraph=mn.Paragraph=ZTe;mn.run=mn.Run=QTe;mn.text=mn.Text=eDe;mn.tab=mn.Tab=tDe;mn.checkbox=mn.Checkbox=nDe;mn.Hyperlink=iDe;mn.noteReference=mn.NoteReference=rDe;mn.Notes=Z6;mn.Note=aDe;mn.commentReference=sDe;mn.comment=oDe;mn.Image=lDe;mn.Table=cDe;mn.TableRow=uDe;mn.TableCell=dDe;mn.lineBreak=CM("line");mn.pageBreak=CM("page");mn.columnBreak=CM("column");mn.BookmarkStart=hDe;mn.verticalAlignment=Gie;var _l={},x_=wr;_l.Result=Ad;_l.success=fDe;_l.warning=pDe;_l.error=mDe;function Ad(t,e){this.value=t,this.messages=e||[]}Ad.prototype.map=function(t){return new Ad(t(this.value),this.messages)};Ad.prototype.flatMap=function(t){var e=t(this.value);return new Ad(e.value,EM([this,e]))};Ad.prototype.flatMapThen=function(t){var e=this;return t(this.value).then(function(n){return new Ad(n.value,EM([e,n]))})};Ad.combine=function(t){var e=x_.flatten(x_.pluck(t,"value")),n=EM(t);return new Ad(e,n)};function fDe(t){return new Ad(t,[])}function pDe(t){return{type:"warning",message:t}}function mDe(t){return{type:"error",message:t.message,error:t}}function EM(t){var e=[];return x_.flatten(x_.pluck(t,"messages"),!0).forEach(function(n){gDe(e,n)||e.push(n)}),e}function gDe(t,e){return x_.find(t,yDe.bind(null,e))!==void 0}function yDe(t,e){return t.type===e.type&&t.message===e.message}var YN={},Q6={};Q6.byteLength=wDe;Q6.toByteArray=_De;Q6.fromByteArray=NDe;var ld=[],Ml=[],vDe=typeof Uint8Array<"u"?Uint8Array:Array,$I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Fy=0,bDe=$I.length;Fy<bDe;++Fy)ld[Fy]=$I[Fy],Ml[$I.charCodeAt(Fy)]=Fy;Ml["-".charCodeAt(0)]=62;Ml["_".charCodeAt(0)]=63;function Kie(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var i=n===e?0:4-n%4;return[n,i]}function wDe(t){var e=Kie(t),n=e[0],i=e[1];return(n+i)*3/4-i}function xDe(t,e,n){return(e+n)*3/4-n}function _De(t){var e,n=Kie(t),i=n[0],r=n[1],a=new vDe(xDe(t,i,r)),s=0,o=r>0?i-4:i,c;for(c=0;c<o;c+=4)e=Ml[t.charCodeAt(c)]<<18|Ml[t.charCodeAt(c+1)]<<12|Ml[t.charCodeAt(c+2)]<<6|Ml[t.charCodeAt(c+3)],a[s++]=e>>16&255,a[s++]=e>>8&255,a[s++]=e&255;return r===2&&(e=Ml[t.charCodeAt(c)]<<2|Ml[t.charCodeAt(c+1)]>>4,a[s++]=e&255),r===1&&(e=Ml[t.charCodeAt(c)]<<10|Ml[t.charCodeAt(c+1)]<<4|Ml[t.charCodeAt(c+2)]>>2,a[s++]=e>>8&255,a[s++]=e&255),a}function SDe(t){return ld[t>>18&63]+ld[t>>12&63]+ld[t>>6&63]+ld[t&63]}function ADe(t,e,n){for(var i,r=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(t[a+2]&255),r.push(SDe(i));return r.join("")}function NDe(t){for(var e,n=t.length,i=n%3,r=[],a=16383,s=0,o=n-i;s<o;s+=a)r.push(ADe(t,s,s+a>o?o:s+a));return i===1?(e=t[n-1],r.push(ld[e>>2]+ld[e<<4&63]+"==")):i===2&&(e=(t[n-2]<<8)+t[n-1],r.push(ld[e>>10]+ld[e>>4&63]+ld[e<<2&63]+"=")),r.join("")}function hk(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Yie={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(i,r,a){function s(u,d){if(!r[u]){if(!i[u]){var h=typeof hk=="function"&&hk;if(!d&&h)return h(u,!0);if(o)return o(u,!0);var f=new Error("Cannot find module '"+u+"'");throw f.code="MODULE_NOT_FOUND",f}var p=r[u]={exports:{}};i[u][0].call(p.exports,function(w){var v=i[u][1][w];return s(v||w)},p,p.exports,n,i,r,a)}return r[u].exports}for(var o=typeof hk=="function"&&hk,c=0;c<a.length;c++)s(a[c]);return s}({1:[function(n,i,r){var a=n("./utils"),s=n("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(c){for(var u,d,h,f,p,w,v,b=[],g=0,y=c.length,_=y,S=a.getTypeOf(c)!=="string";g<c.length;)_=y-g,h=S?(u=c[g++],d=g<y?c[g++]:0,g<y?c[g++]:0):(u=c.charCodeAt(g++),d=g<y?c.charCodeAt(g++):0,g<y?c.charCodeAt(g++):0),f=u>>2,p=(3&u)<<4|d>>4,w=1<_?(15&d)<<2|h>>6:64,v=2<_?63&h:64,b.push(o.charAt(f)+o.charAt(p)+o.charAt(w)+o.charAt(v));return b.join("")},r.decode=function(c){var u,d,h,f,p,w,v=0,b=0,g="data:";if(c.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var y,_=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===o.charAt(64)&&_--,c.charAt(c.length-2)===o.charAt(64)&&_--,_%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=s.uint8array?new Uint8Array(0|_):new Array(0|_);v<c.length;)u=o.indexOf(c.charAt(v++))<<2|(f=o.indexOf(c.charAt(v++)))>>4,d=(15&f)<<4|(p=o.indexOf(c.charAt(v++)))>>2,h=(3&p)<<6|(w=o.indexOf(c.charAt(v++))),y[b++]=u,p!==64&&(y[b++]=d),w!==64&&(y[b++]=h);return y}},{"./support":30,"./utils":32}],2:[function(n,i,r){var a=n("./external"),s=n("./stream/DataWorker"),o=n("./stream/Crc32Probe"),c=n("./stream/DataLengthProbe");function u(d,h,f,p,w){this.compressedSize=d,this.uncompressedSize=h,this.crc32=f,this.compression=p,this.compressedContent=w}u.prototype={getContentWorker:function(){var d=new s(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),h=this;return d.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new s(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(d,h,f){return d.pipe(new o).pipe(new c("uncompressedSize")).pipe(h.compressWorker(f)).pipe(new c("compressedSize")).withStreamInfo("compression",h)},i.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,i,r){var a=n("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},r.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,i,r){var a=n("./utils"),s=function(){for(var o,c=[],u=0;u<256;u++){o=u;for(var d=0;d<8;d++)o=1&o?3988292384^o>>>1:o>>>1;c[u]=o}return c}();i.exports=function(o,c){return o!==void 0&&o.length?a.getTypeOf(o)!=="string"?function(u,d,h,f){var p=s,w=f+h;u^=-1;for(var v=f;v<w;v++)u=u>>>8^p[255&(u^d[v])];return-1^u}(0|c,o,o.length,0):function(u,d,h,f){var p=s,w=f+h;u^=-1;for(var v=f;v<w;v++)u=u>>>8^p[255&(u^d.charCodeAt(v))];return-1^u}(0|c,o,o.length,0):0}},{"./utils":32}],5:[function(n,i,r){r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(n,i,r){var a=null;a=typeof Promise<"u"?Promise:n("lie"),i.exports={Promise:a}},{lie:37}],7:[function(n,i,r){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=n("pako"),o=n("./utils"),c=n("./stream/GenericWorker"),u=a?"uint8array":"array";function d(h,f){c.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=f,this.meta={}}r.magic="\b\0",o.inherits(d,c),d.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(u,h.data),!1)},d.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(f){h.push({data:f,meta:h.meta})}},r.compressWorker=function(h){return new d("Deflate",h)},r.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,i,r){function a(p,w){var v,b="";for(v=0;v<w;v++)b+=String.fromCharCode(255&p),p>>>=8;return b}function s(p,w,v,b,g,y){var _,S,N=p.file,R=p.compression,D=y!==u.utf8encode,E=o.transformTo("string",y(N.name)),C=o.transformTo("string",u.utf8encode(N.name)),P=N.comment,k=o.transformTo("string",y(P)),A=o.transformTo("string",u.utf8encode(P)),I=C.length!==N.name.length,T=A.length!==P.length,z="",j="",W="",$=N.dir,q=N.date,G={crc32:0,compressedSize:0,uncompressedSize:0};w&&!v||(G.crc32=p.crc32,G.compressedSize=p.compressedSize,G.uncompressedSize=p.uncompressedSize);var B=0;w&&(B|=8),D||!I&&!T||(B|=2048);var L=0,M=0;$&&(L|=16),g==="UNIX"?(M=798,L|=function(Q,V){var le=Q;return Q||(le=V?16893:33204),(65535&le)<<16}(N.unixPermissions,$)):(M=20,L|=function(Q){return 63&(Q||0)}(N.dosPermissions)),_=q.getUTCHours(),_<<=6,_|=q.getUTCMinutes(),_<<=5,_|=q.getUTCSeconds()/2,S=q.getUTCFullYear()-1980,S<<=4,S|=q.getUTCMonth()+1,S<<=5,S|=q.getUTCDate(),I&&(j=a(1,1)+a(d(E),4)+C,z+="up"+a(j.length,2)+j),T&&(W=a(1,1)+a(d(k),4)+A,z+="uc"+a(W.length,2)+W);var K="";return K+=`
\0`,K+=a(B,2),K+=R.magic,K+=a(_,2),K+=a(S,2),K+=a(G.crc32,4),K+=a(G.compressedSize,4),K+=a(G.uncompressedSize,4),K+=a(E.length,2),K+=a(z.length,2),{fileRecord:h.LOCAL_FILE_HEADER+K+E+z,dirRecord:h.CENTRAL_FILE_HEADER+a(M,2)+K+a(k.length,2)+"\0\0\0\0"+a(L,4)+a(b,4)+E+z+k}}var o=n("../utils"),c=n("../stream/GenericWorker"),u=n("../utf8"),d=n("../crc32"),h=n("../signature");function f(p,w,v,b){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=w,this.zipPlatform=v,this.encodeFileName=b,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(f,c),f.prototype.push=function(p){var w=p.meta.percent||0,v=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,c.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:v?(w+100*(v-b-1))/v:100}}))},f.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var w=this.streamFiles&&!p.file.dir;if(w){var v=s(p,w,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:v.fileRecord,meta:{percent:0}})}else this.accumulate=!0},f.prototype.closedSource=function(p){this.accumulate=!1;var w=this.streamFiles&&!p.file.dir,v=s(p,w,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(v.dirRecord),w)this.push({data:function(b){return h.DATA_DESCRIPTOR+a(b.crc32,4)+a(b.compressedSize,4)+a(b.uncompressedSize,4)}(p),meta:{percent:100}});else for(this.push({data:v.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},f.prototype.flush=function(){for(var p=this.bytesWritten,w=0;w<this.dirRecords.length;w++)this.push({data:this.dirRecords[w],meta:{percent:100}});var v=this.bytesWritten-p,b=function(g,y,_,S,N){var R=o.transformTo("string",N(S));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(g,2)+a(g,2)+a(y,4)+a(_,4)+a(R.length,2)+R}(this.dirRecords.length,v,p,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},f.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},f.prototype.registerPrevious=function(p){this._sources.push(p);var w=this;return p.on("data",function(v){w.processChunk(v)}),p.on("end",function(){w.closedSource(w.previous.streamInfo),w._sources.length?w.prepareNextSource():w.end()}),p.on("error",function(v){w.error(v)}),this},f.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},f.prototype.error=function(p){var w=this._sources;if(!c.prototype.error.call(this,p))return!1;for(var v=0;v<w.length;v++)try{w[v].error(p)}catch{}return!0},f.prototype.lock=function(){c.prototype.lock.call(this);for(var p=this._sources,w=0;w<p.length;w++)p[w].lock()},i.exports=f},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,i,r){var a=n("../compressions"),s=n("./ZipFileWorker");r.generateWorker=function(o,c,u){var d=new s(c.streamFiles,u,c.platform,c.encodeFileName),h=0;try{o.forEach(function(f,p){h++;var w=function(y,_){var S=y||_,N=a[S];if(!N)throw new Error(S+" is not a valid compression method !");return N}(p.options.compression,c.compression),v=p.options.compressionOptions||c.compressionOptions||{},b=p.dir,g=p.date;p._compressWorker(w,v).withStreamInfo("file",{name:f,dir:b,date:g,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(d)}),d.entriesCount=h}catch(f){d.error(f)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,i,r){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new a;for(var o in this)typeof this[o]!="function"&&(s[o]=this[o]);return s}}(a.prototype=n("./object")).loadAsync=n("./load"),a.support=n("./support"),a.defaults=n("./defaults"),a.version="3.10.1",a.loadAsync=function(s,o){return new a().loadAsync(s,o)},a.external=n("./external"),i.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,i,r){var a=n("./utils"),s=n("./external"),o=n("./utf8"),c=n("./zipEntries"),u=n("./stream/Crc32Probe"),d=n("./nodejsUtils");function h(f){return new s.Promise(function(p,w){var v=f.decompressed.getContentWorker().pipe(new u);v.on("error",function(b){w(b)}).on("end",function(){v.streamInfo.crc32!==f.decompressed.crc32?w(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}i.exports=function(f,p){var w=this;return p=a.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),d.isNode&&d.isStream(f)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",f,!0,p.optimizedBinaryString,p.base64).then(function(v){var b=new c(p);return b.load(v),b}).then(function(v){var b=[s.Promise.resolve(v)],g=v.files;if(p.checkCRC32)for(var y=0;y<g.length;y++)b.push(h(g[y]));return s.Promise.all(b)}).then(function(v){for(var b=v.shift(),g=b.files,y=0;y<g.length;y++){var _=g[y],S=_.fileNameStr,N=a.resolve(_.fileNameStr);w.file(N,_.decompressed,{binary:!0,optimizedBinaryString:!0,date:_.date,dir:_.dir,comment:_.fileCommentStr.length?_.fileCommentStr:null,unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions,createFolders:p.createFolders}),_.dir||(w.file(N).unsafeOriginalName=S)}return b.zipComment.length&&(w.comment=b.zipComment),w})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,i,r){var a=n("../utils"),s=n("../stream/GenericWorker");function o(c,u){s.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(u)}a.inherits(o,s),o.prototype._bindStream=function(c){var u=this;(this._stream=c).pause(),c.on("data",function(d){u.push({data:d,meta:{percent:0}})}).on("error",function(d){u.isPaused?this.generatedError=d:u.error(d)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},o.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},i.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,i,r){var a=n("readable-stream").Readable;function s(o,c,u){a.call(this,c),this._helper=o;var d=this;o.on("data",function(h,f){d.push(h)||d._helper.pause(),u&&u(f)}).on("error",function(h){d.emit("error",h)}).on("end",function(){d.push(null)})}n("../utils").inherits(s,a),s.prototype._read=function(){this._helper.resume()},i.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,i,r){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,s);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,s)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var s=new Buffer(a);return s.fill(0),s},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(n,i,r){function a(N,R,D){var E,C=o.getTypeOf(R),P=o.extend(D||{},d);P.date=P.date||new Date,P.compression!==null&&(P.compression=P.compression.toUpperCase()),typeof P.unixPermissions=="string"&&(P.unixPermissions=parseInt(P.unixPermissions,8)),P.unixPermissions&&16384&P.unixPermissions&&(P.dir=!0),P.dosPermissions&&16&P.dosPermissions&&(P.dir=!0),P.dir&&(N=g(N)),P.createFolders&&(E=b(N))&&y.call(this,E,!0);var k=C==="string"&&P.binary===!1&&P.base64===!1;D&&D.binary!==void 0||(P.binary=!k),(R instanceof h&&R.uncompressedSize===0||P.dir||!R||R.length===0)&&(P.base64=!1,P.binary=!0,R="",P.compression="STORE",C="string");var A=null;A=R instanceof h||R instanceof c?R:w.isNode&&w.isStream(R)?new v(N,R):o.prepareContent(N,R,P.binary,P.optimizedBinaryString,P.base64);var I=new f(N,A,P);this.files[N]=I}var s=n("./utf8"),o=n("./utils"),c=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),d=n("./defaults"),h=n("./compressedObject"),f=n("./zipObject"),p=n("./generate"),w=n("./nodejsUtils"),v=n("./nodejs/NodejsStreamInputAdapter"),b=function(N){N.slice(-1)==="/"&&(N=N.substring(0,N.length-1));var R=N.lastIndexOf("/");return 0<R?N.substring(0,R):""},g=function(N){return N.slice(-1)!=="/"&&(N+="/"),N},y=function(N,R){return R=R!==void 0?R:d.createFolders,N=g(N),this.files[N]||a.call(this,N,null,{dir:!0,createFolders:R}),this.files[N]};function _(N){return Object.prototype.toString.call(N)==="[object RegExp]"}var S={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(N){var R,D,E;for(R in this.files)E=this.files[R],(D=R.slice(this.root.length,R.length))&&R.slice(0,this.root.length)===this.root&&N(D,E)},filter:function(N){var R=[];return this.forEach(function(D,E){N(D,E)&&R.push(E)}),R},file:function(N,R,D){if(arguments.length!==1)return N=this.root+N,a.call(this,N,R,D),this;if(_(N)){var E=N;return this.filter(function(P,k){return!k.dir&&E.test(P)})}var C=this.files[this.root+N];return C&&!C.dir?C:null},folder:function(N){if(!N)return this;if(_(N))return this.filter(function(C,P){return P.dir&&N.test(C)});var R=this.root+N,D=y.call(this,R),E=this.clone();return E.root=D.name,E},remove:function(N){N=this.root+N;var R=this.files[N];if(R||(N.slice(-1)!=="/"&&(N+="/"),R=this.files[N]),R&&!R.dir)delete this.files[N];else for(var D=this.filter(function(C,P){return P.name.slice(0,N.length)===N}),E=0;E<D.length;E++)delete this.files[D[E].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(N){var R,D={};try{if((D=o.extend(N||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=D.type.toLowerCase(),D.compression=D.compression.toUpperCase(),D.type==="binarystring"&&(D.type="string"),!D.type)throw new Error("No output type specified.");o.checkSupport(D.type),D.platform!=="darwin"&&D.platform!=="freebsd"&&D.platform!=="linux"&&D.platform!=="sunos"||(D.platform="UNIX"),D.platform==="win32"&&(D.platform="DOS");var E=D.comment||this.comment||"";R=p.generateWorker(this,D,E)}catch(C){(R=new c("error")).error(C)}return new u(R,D.type||"string",D.mimeType)},generateAsync:function(N,R){return this.generateInternalStream(N).accumulate(R)},generateNodeStream:function(N,R){return(N=N||{}).type||(N.type="nodebuffer"),this.generateInternalStream(N).toNodejsStream(R)}};i.exports=S},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,i,r){i.exports=n("stream")},{stream:void 0}],17:[function(n,i,r){var a=n("./DataReader");function s(o){a.call(this,o);for(var c=0;c<this.data.length;c++)o[c]=255&o[c]}n("../utils").inherits(s,a),s.prototype.byteAt=function(o){return this.data[this.zero+o]},s.prototype.lastIndexOfSignature=function(o){for(var c=o.charCodeAt(0),u=o.charCodeAt(1),d=o.charCodeAt(2),h=o.charCodeAt(3),f=this.length-4;0<=f;--f)if(this.data[f]===c&&this.data[f+1]===u&&this.data[f+2]===d&&this.data[f+3]===h)return f-this.zero;return-1},s.prototype.readAndCheckSignature=function(o){var c=o.charCodeAt(0),u=o.charCodeAt(1),d=o.charCodeAt(2),h=o.charCodeAt(3),f=this.readData(4);return c===f[0]&&u===f[1]&&d===f[2]&&h===f[3]},s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},i.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,i,r){var a=n("../utils");function s(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var c,u=0;for(this.checkOffset(o),c=this.index+o-1;c>=this.index;c--)u=(u<<8)+this.byteAt(c);return this.index+=o,u},readString:function(o){return a.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},i.exports=s},{"../utils":32}],19:[function(n,i,r){var a=n("./Uint8ArrayReader");function s(o){a.call(this,o)}n("../utils").inherits(s,a),s.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},i.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,i,r){var a=n("./DataReader");function s(o){a.call(this,o)}n("../utils").inherits(s,a),s.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},s.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},s.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},s.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},i.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,i,r){var a=n("./ArrayReader");function s(o){a.call(this,o)}n("../utils").inherits(s,a),s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},i.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,i,r){var a=n("../utils"),s=n("../support"),o=n("./ArrayReader"),c=n("./StringReader"),u=n("./NodeBufferReader"),d=n("./Uint8ArrayReader");i.exports=function(h){var f=a.getTypeOf(h);return a.checkSupport(f),f!=="string"||s.uint8array?f==="nodebuffer"?new u(h):s.uint8array?new d(a.transformTo("uint8array",h)):new o(a.transformTo("array",h)):new c(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,i,r){r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,i,r){var a=n("./GenericWorker"),s=n("../utils");function o(c){a.call(this,"ConvertWorker to "+c),this.destType=c}s.inherits(o,a),o.prototype.processChunk=function(c){this.push({data:s.transformTo(this.destType,c.data),meta:c.meta})},i.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(n,i,r){var a=n("./GenericWorker"),s=n("../crc32");function o(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(o,a),o.prototype.processChunk=function(c){this.streamInfo.crc32=s(c.data,this.streamInfo.crc32||0),this.push(c)},i.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,i,r){var a=n("../utils"),s=n("./GenericWorker");function o(c){s.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}a.inherits(o,s),o.prototype.processChunk=function(c){if(c){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+c.data.length}s.prototype.processChunk.call(this,c)},i.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(n,i,r){var a=n("../utils"),s=n("./GenericWorker");function o(c){s.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(d){u.dataIsReady=!0,u.data=d,u.max=d&&d.length||0,u.type=a.getTypeOf(d),u.isPaused||u._tickAndRepeat()},function(d){u.error(d)})}a.inherits(o,s),o.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,u);break;case"uint8array":c=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":c=this.data.slice(this.index,u)}return this.index=u,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(n,i,r){function a(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,o){return this._listeners[s].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,o){if(this._listeners[s])for(var c=0;c<this._listeners[s].length;c++)this._listeners[s][c].call(this,o)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var o=this;return s.on("data",function(c){o.processChunk(c)}),s.on("end",function(){o.end()}),s.on("error",function(c){o.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,o){return this.extraStreamInfo[s]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},i.exports=a},{}],29:[function(n,i,r){var a=n("../utils"),s=n("./ConvertWorker"),o=n("./GenericWorker"),c=n("../base64"),u=n("../support"),d=n("../external"),h=null;if(u.nodestream)try{h=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function f(w,v){return new d.Promise(function(b,g){var y=[],_=w._internalType,S=w._outputType,N=w._mimeType;w.on("data",function(R,D){y.push(R),v&&v(D)}).on("error",function(R){y=[],g(R)}).on("end",function(){try{var R=function(D,E,C){switch(D){case"blob":return a.newBlob(a.transformTo("arraybuffer",E),C);case"base64":return c.encode(E);default:return a.transformTo(D,E)}}(S,function(D,E){var C,P=0,k=null,A=0;for(C=0;C<E.length;C++)A+=E[C].length;switch(D){case"string":return E.join("");case"array":return Array.prototype.concat.apply([],E);case"uint8array":for(k=new Uint8Array(A),C=0;C<E.length;C++)k.set(E[C],P),P+=E[C].length;return k;case"nodebuffer":return Buffer.concat(E);default:throw new Error("concat : unsupported type '"+D+"'")}}(_,y),N);b(R)}catch(D){g(D)}y=[]}).resume()})}function p(w,v,b){var g=v;switch(v){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=v,this._mimeType=b,a.checkSupport(g),this._worker=w.pipe(new s(g)),w.lock()}catch(y){this._worker=new o("error"),this._worker.error(y)}}p.prototype={accumulate:function(w){return f(this,w)},on:function(w,v){var b=this;return w==="data"?this._worker.on(w,function(g){v.call(b,g.data,g.meta)}):this._worker.on(w,function(){a.delay(v,arguments,b)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(w){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},w)}},i.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,i,r){if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",r.nodebuffer=typeof Buffer<"u",r.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")r.blob=!1;else{var a=new ArrayBuffer(0);try{r.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(a),r.blob=s.getBlob("application/zip").size===0}catch{r.blob=!1}}}try{r.nodestream=!!n("readable-stream").Readable}catch{r.nodestream=!1}},{"readable-stream":16}],31:[function(n,i,r){for(var a=n("./utils"),s=n("./support"),o=n("./nodejsUtils"),c=n("./stream/GenericWorker"),u=new Array(256),d=0;d<256;d++)u[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;u[254]=u[254]=1;function h(){c.call(this,"utf-8 decode"),this.leftOver=null}function f(){c.call(this,"utf-8 encode")}r.utf8encode=function(p){return s.nodebuffer?o.newBufferFrom(p,"utf-8"):function(w){var v,b,g,y,_,S=w.length,N=0;for(y=0;y<S;y++)(64512&(b=w.charCodeAt(y)))==55296&&y+1<S&&(64512&(g=w.charCodeAt(y+1)))==56320&&(b=65536+(b-55296<<10)+(g-56320),y++),N+=b<128?1:b<2048?2:b<65536?3:4;for(v=s.uint8array?new Uint8Array(N):new Array(N),y=_=0;_<N;y++)(64512&(b=w.charCodeAt(y)))==55296&&y+1<S&&(64512&(g=w.charCodeAt(y+1)))==56320&&(b=65536+(b-55296<<10)+(g-56320),y++),b<128?v[_++]=b:(b<2048?v[_++]=192|b>>>6:(b<65536?v[_++]=224|b>>>12:(v[_++]=240|b>>>18,v[_++]=128|b>>>12&63),v[_++]=128|b>>>6&63),v[_++]=128|63&b);return v}(p)},r.utf8decode=function(p){return s.nodebuffer?a.transformTo("nodebuffer",p).toString("utf-8"):function(w){var v,b,g,y,_=w.length,S=new Array(2*_);for(v=b=0;v<_;)if((g=w[v++])<128)S[b++]=g;else if(4<(y=u[g]))S[b++]=65533,v+=y-1;else{for(g&=y===2?31:y===3?15:7;1<y&&v<_;)g=g<<6|63&w[v++],y--;1<y?S[b++]=65533:g<65536?S[b++]=g:(g-=65536,S[b++]=55296|g>>10&1023,S[b++]=56320|1023&g)}return S.length!==b&&(S.subarray?S=S.subarray(0,b):S.length=b),a.applyFromCharCode(S)}(p=a.transformTo(s.uint8array?"uint8array":"array",p))},a.inherits(h,c),h.prototype.processChunk=function(p){var w=a.transformTo(s.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var v=w;(w=new Uint8Array(v.length+this.leftOver.length)).set(this.leftOver,0),w.set(v,this.leftOver.length)}else w=this.leftOver.concat(w);this.leftOver=null}var b=function(y,_){var S;for((_=_||y.length)>y.length&&(_=y.length),S=_-1;0<=S&&(192&y[S])==128;)S--;return S<0||S===0?_:S+u[y[S]]>_?S:_}(w),g=w;b!==w.length&&(s.uint8array?(g=w.subarray(0,b),this.leftOver=w.subarray(b,w.length)):(g=w.slice(0,b),this.leftOver=w.slice(b,w.length))),this.push({data:r.utf8decode(g),meta:p.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=h,a.inherits(f,c),f.prototype.processChunk=function(p){this.push({data:r.utf8encode(p.data),meta:p.meta})},r.Utf8EncodeWorker=f},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,i,r){var a=n("./support"),s=n("./base64"),o=n("./nodejsUtils"),c=n("./external");function u(v){return v}function d(v,b){for(var g=0;g<v.length;++g)b[g]=255&v.charCodeAt(g);return b}n("setimmediate"),r.newBlob=function(v,b){r.checkSupport("blob");try{return new Blob([v],{type:b})}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(v),g.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(v,b,g){var y=[],_=0,S=v.length;if(S<=g)return String.fromCharCode.apply(null,v);for(;_<S;)b==="array"||b==="nodebuffer"?y.push(String.fromCharCode.apply(null,v.slice(_,Math.min(_+g,S)))):y.push(String.fromCharCode.apply(null,v.subarray(_,Math.min(_+g,S)))),_+=g;return y.join("")},stringifyByChar:function(v){for(var b="",g=0;g<v.length;g++)b+=String.fromCharCode(v[g]);return b},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function f(v){var b=65536,g=r.getTypeOf(v),y=!0;if(g==="uint8array"?y=h.applyCanBeUsed.uint8array:g==="nodebuffer"&&(y=h.applyCanBeUsed.nodebuffer),y)for(;1<b;)try{return h.stringifyByChunk(v,g,b)}catch{b=Math.floor(b/2)}return h.stringifyByChar(v)}function p(v,b){for(var g=0;g<v.length;g++)b[g]=v[g];return b}r.applyFromCharCode=f;var w={};w.string={string:u,array:function(v){return d(v,new Array(v.length))},arraybuffer:function(v){return w.string.uint8array(v).buffer},uint8array:function(v){return d(v,new Uint8Array(v.length))},nodebuffer:function(v){return d(v,o.allocBuffer(v.length))}},w.array={string:f,array:u,arraybuffer:function(v){return new Uint8Array(v).buffer},uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return o.newBufferFrom(v)}},w.arraybuffer={string:function(v){return f(new Uint8Array(v))},array:function(v){return p(new Uint8Array(v),new Array(v.byteLength))},arraybuffer:u,uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return o.newBufferFrom(new Uint8Array(v))}},w.uint8array={string:f,array:function(v){return p(v,new Array(v.length))},arraybuffer:function(v){return v.buffer},uint8array:u,nodebuffer:function(v){return o.newBufferFrom(v)}},w.nodebuffer={string:f,array:function(v){return p(v,new Array(v.length))},arraybuffer:function(v){return w.nodebuffer.uint8array(v).buffer},uint8array:function(v){return p(v,new Uint8Array(v.length))},nodebuffer:u},r.transformTo=function(v,b){if(b=b||"",!v)return b;r.checkSupport(v);var g=r.getTypeOf(b);return w[g][v](b)},r.resolve=function(v){for(var b=v.split("/"),g=[],y=0;y<b.length;y++){var _=b[y];_==="."||_===""&&y!==0&&y!==b.length-1||(_===".."?g.pop():g.push(_))}return g.join("/")},r.getTypeOf=function(v){return typeof v=="string"?"string":Object.prototype.toString.call(v)==="[object Array]"?"array":a.nodebuffer&&o.isBuffer(v)?"nodebuffer":a.uint8array&&v instanceof Uint8Array?"uint8array":a.arraybuffer&&v instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(v){if(!a[v.toLowerCase()])throw new Error(v+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(v){var b,g,y="";for(g=0;g<(v||"").length;g++)y+="\\x"+((b=v.charCodeAt(g))<16?"0":"")+b.toString(16).toUpperCase();return y},r.delay=function(v,b,g){setImmediate(function(){v.apply(g||null,b||[])})},r.inherits=function(v,b){function g(){}g.prototype=b.prototype,v.prototype=new g},r.extend=function(){var v,b,g={};for(v=0;v<arguments.length;v++)for(b in arguments[v])Object.prototype.hasOwnProperty.call(arguments[v],b)&&g[b]===void 0&&(g[b]=arguments[v][b]);return g},r.prepareContent=function(v,b,g,y,_){return c.Promise.resolve(b).then(function(S){return a.blob&&(S instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(S))!==-1)&&typeof FileReader<"u"?new c.Promise(function(N,R){var D=new FileReader;D.onload=function(E){N(E.target.result)},D.onerror=function(E){R(E.target.error)},D.readAsArrayBuffer(S)}):S}).then(function(S){var N=r.getTypeOf(S);return N?(N==="arraybuffer"?S=r.transformTo("uint8array",S):N==="string"&&(_?S=s.decode(S):g&&y!==!0&&(S=function(R){return d(R,a.uint8array?new Uint8Array(R.length):new Array(R.length))}(S))),S):c.Promise.reject(new Error("Can't read the data of '"+v+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,i,r){var a=n("./reader/readerFor"),s=n("./utils"),o=n("./signature"),c=n("./zipEntry"),u=n("./support");function d(h){this.files=[],this.loadOptions=h}d.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var f=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(f)+", expected "+s.pretty(h)+")")}},isSignature:function(h,f){var p=this.reader.index;this.reader.setIndex(h);var w=this.reader.readString(4)===f;return this.reader.setIndex(p),w},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),f=u.uint8array?"uint8array":"array",p=s.transformTo(f,h);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,f,p,w=this.zip64EndOfCentralSize-44;0<w;)h=this.reader.readInt(2),f=this.reader.readInt(4),p=this.reader.readData(f),this.zip64ExtensibleData[h]={id:h,length:f,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,f;for(h=0;h<this.files.length;h++)f=this.files[h],this.reader.setIndex(f.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),f.readLocalPart(this.reader),f.handleUTF8(),f.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(h=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var f=h;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var w=f-p;if(0<w)this.isSignature(f,o.CENTRAL_FILE_HEADER)||(this.reader.zero=w);else if(w<0)throw new Error("Corrupted zip: missing "+Math.abs(w)+" bytes.")},prepareReader:function(h){this.reader=a(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,i,r){var a=n("./reader/readerFor"),s=n("./utils"),o=n("./compressedObject"),c=n("./crc32"),u=n("./utf8"),d=n("./compressions"),h=n("./support");function f(p,w){this.options=p,this.loadOptions=w}f.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var w,v;if(p.skip(22),this.fileNameLength=p.readInt(2),v=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((w=function(b){for(var g in d)if(Object.prototype.hasOwnProperty.call(d,g)&&d[g].magic===b)return d[g];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,w,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var w=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(w),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=a(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var w,v,b,g=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<g;)w=p.readInt(2),v=p.readInt(2),b=p.readData(v),this.extraFields[w]={id:w,length:v,value:b};p.setIndex(g)},handleUTF8:function(){var p=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var w=this.findExtraFieldUnicodePath();if(w!==null)this.fileNameStr=w;else{var v=s.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var g=s.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var w=a(p.value);return w.readInt(1)!==1||c(this.fileName)!==w.readInt(4)?null:u.utf8decode(w.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var w=a(p.value);return w.readInt(1)!==1||c(this.fileComment)!==w.readInt(4)?null:u.utf8decode(w.readData(p.length-5))}return null}},i.exports=f},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,i,r){function a(w,v,b){this.name=w,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=v,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var s=n("./stream/StreamHelper"),o=n("./stream/DataWorker"),c=n("./utf8"),u=n("./compressedObject"),d=n("./stream/GenericWorker");a.prototype={internalStream:function(w){var v=null,b="string";try{if(!w)throw new Error("No output type specified.");var g=(b=w.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),v=this._decompressWorker();var y=!this._dataBinary;y&&!g&&(v=v.pipe(new c.Utf8EncodeWorker)),!y&&g&&(v=v.pipe(new c.Utf8DecodeWorker))}catch(_){(v=new d("error")).error(_)}return new s(v,b,"")},async:function(w,v){return this.internalStream(w).accumulate(v)},nodeStream:function(w,v){return this.internalStream(w||"nodebuffer").toNodejsStream(v)},_compressWorker:function(w,v){if(this._data instanceof u&&this._data.compression.magic===w.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new c.Utf8EncodeWorker)),u.createWorkerFrom(b,w,v)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof d?this._data:new o(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],f=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<h.length;p++)a.prototype[h[p]]=f;i.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,i,r){(function(a){var s,o,c=a.MutationObserver||a.WebKitMutationObserver;if(c){var u=0,d=new c(w),h=a.document.createTextNode("");d.observe(h,{characterData:!0}),s=function(){h.data=u=++u%2}}else if(a.setImmediate||a.MessageChannel===void 0)s="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var v=a.document.createElement("script");v.onreadystatechange=function(){w(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},a.document.documentElement.appendChild(v)}:function(){setTimeout(w,0)};else{var f=new a.MessageChannel;f.port1.onmessage=w,s=function(){f.port2.postMessage(0)}}var p=[];function w(){var v,b;o=!0;for(var g=p.length;g;){for(b=p,p=[],v=-1;++v<g;)b[v]();g=p.length}o=!1}i.exports=function(v){p.push(v)!==1||o||s()}}).call(this,typeof zt<"u"?zt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,i,r){var a=n("immediate");function s(){}var o={},c=["REJECTED"],u=["FULFILLED"],d=["PENDING"];function h(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,g!==s&&v(this,g)}function f(g,y,_){this.promise=g,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof _=="function"&&(this.onRejected=_,this.callRejected=this.otherCallRejected)}function p(g,y,_){a(function(){var S;try{S=y(_)}catch(N){return o.reject(g,N)}S===g?o.reject(g,new TypeError("Cannot resolve promise with itself")):o.resolve(g,S)})}function w(g){var y=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof y=="function")return function(){y.apply(g,arguments)}}function v(g,y){var _=!1;function S(D){_||(_=!0,o.reject(g,D))}function N(D){_||(_=!0,o.resolve(g,D))}var R=b(function(){y(N,S)});R.status==="error"&&S(R.value)}function b(g,y){var _={};try{_.value=g(y),_.status="success"}catch(S){_.status="error",_.value=S}return _}(i.exports=h).prototype.finally=function(g){if(typeof g!="function")return this;var y=this.constructor;return this.then(function(_){return y.resolve(g()).then(function(){return _})},function(_){return y.resolve(g()).then(function(){throw _})})},h.prototype.catch=function(g){return this.then(null,g)},h.prototype.then=function(g,y){if(typeof g!="function"&&this.state===u||typeof y!="function"&&this.state===c)return this;var _=new this.constructor(s);return this.state!==d?p(_,this.state===u?g:y,this.outcome):this.queue.push(new f(_,g,y)),_},f.prototype.callFulfilled=function(g){o.resolve(this.promise,g)},f.prototype.otherCallFulfilled=function(g){p(this.promise,this.onFulfilled,g)},f.prototype.callRejected=function(g){o.reject(this.promise,g)},f.prototype.otherCallRejected=function(g){p(this.promise,this.onRejected,g)},o.resolve=function(g,y){var _=b(w,y);if(_.status==="error")return o.reject(g,_.value);var S=_.value;if(S)v(g,S);else{g.state=u,g.outcome=y;for(var N=-1,R=g.queue.length;++N<R;)g.queue[N].callFulfilled(y)}return g},o.reject=function(g,y){g.state=c,g.outcome=y;for(var _=-1,S=g.queue.length;++_<S;)g.queue[_].callRejected(y);return g},h.resolve=function(g){return g instanceof this?g:o.resolve(new this(s),g)},h.reject=function(g){var y=new this(s);return o.reject(y,g)},h.all=function(g){var y=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=g.length,S=!1;if(!_)return this.resolve([]);for(var N=new Array(_),R=0,D=-1,E=new this(s);++D<_;)C(g[D],D);return E;function C(P,k){y.resolve(P).then(function(A){N[k]=A,++R!==_||S||(S=!0,o.resolve(E,N))},function(A){S||(S=!0,o.reject(E,A))})}},h.race=function(g){var y=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=g.length,S=!1;if(!_)return this.resolve([]);for(var N=-1,R=new this(s);++N<_;)D=g[N],y.resolve(D).then(function(E){S||(S=!0,o.resolve(R,E))},function(E){S||(S=!0,o.reject(R,E))});var D;return R}},{immediate:36}],38:[function(n,i,r){var a={};(0,n("./lib/utils/common").assign)(a,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),i.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,i,r){var a=n("./zlib/deflate"),s=n("./utils/common"),o=n("./utils/strings"),c=n("./zlib/messages"),u=n("./zlib/zstream"),d=Object.prototype.toString,h=0,f=-1,p=0,w=8;function v(g){if(!(this instanceof v))return new v(g);this.options=s.assign({level:f,method:w,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},g||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var _=a.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(_!==h)throw new Error(c[_]);if(y.header&&a.deflateSetHeader(this.strm,y.header),y.dictionary){var S;if(S=typeof y.dictionary=="string"?o.string2buf(y.dictionary):d.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(_=a.deflateSetDictionary(this.strm,S))!==h)throw new Error(c[_]);this._dict_set=!0}}function b(g,y){var _=new v(y);if(_.push(g,!0),_.err)throw _.msg||c[_.err];return _.result}v.prototype.push=function(g,y){var _,S,N=this.strm,R=this.options.chunkSize;if(this.ended)return!1;S=y===~~y?y:y===!0?4:0,typeof g=="string"?N.input=o.string2buf(g):d.call(g)==="[object ArrayBuffer]"?N.input=new Uint8Array(g):N.input=g,N.next_in=0,N.avail_in=N.input.length;do{if(N.avail_out===0&&(N.output=new s.Buf8(R),N.next_out=0,N.avail_out=R),(_=a.deflate(N,S))!==1&&_!==h)return this.onEnd(_),!(this.ended=!0);N.avail_out!==0&&(N.avail_in!==0||S!==4&&S!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(s.shrinkBuf(N.output,N.next_out))):this.onData(s.shrinkBuf(N.output,N.next_out)))}while((0<N.avail_in||N.avail_out===0)&&_!==1);return S===4?(_=a.deflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===h):S!==2||(this.onEnd(h),!(N.avail_out=0))},v.prototype.onData=function(g){this.chunks.push(g)},v.prototype.onEnd=function(g){g===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},r.Deflate=v,r.deflate=b,r.deflateRaw=function(g,y){return(y=y||{}).raw=!0,b(g,y)},r.gzip=function(g,y){return(y=y||{}).gzip=!0,b(g,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,i,r){var a=n("./zlib/inflate"),s=n("./utils/common"),o=n("./utils/strings"),c=n("./zlib/constants"),u=n("./zlib/messages"),d=n("./zlib/zstream"),h=n("./zlib/gzheader"),f=Object.prototype.toString;function p(v){if(!(this instanceof p))return new p(v);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},v||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||v&&v.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&!(15&b.windowBits)&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var g=a.inflateInit2(this.strm,b.windowBits);if(g!==c.Z_OK)throw new Error(u[g]);this.header=new h,a.inflateGetHeader(this.strm,this.header)}function w(v,b){var g=new p(b);if(g.push(v,!0),g.err)throw g.msg||u[g.err];return g.result}p.prototype.push=function(v,b){var g,y,_,S,N,R,D=this.strm,E=this.options.chunkSize,C=this.options.dictionary,P=!1;if(this.ended)return!1;y=b===~~b?b:b===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof v=="string"?D.input=o.binstring2buf(v):f.call(v)==="[object ArrayBuffer]"?D.input=new Uint8Array(v):D.input=v,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new s.Buf8(E),D.next_out=0,D.avail_out=E),(g=a.inflate(D,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&C&&(R=typeof C=="string"?o.string2buf(C):f.call(C)==="[object ArrayBuffer]"?new Uint8Array(C):C,g=a.inflateSetDictionary(this.strm,R)),g===c.Z_BUF_ERROR&&P===!0&&(g=c.Z_OK,P=!1),g!==c.Z_STREAM_END&&g!==c.Z_OK)return this.onEnd(g),!(this.ended=!0);D.next_out&&(D.avail_out!==0&&g!==c.Z_STREAM_END&&(D.avail_in!==0||y!==c.Z_FINISH&&y!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(_=o.utf8border(D.output,D.next_out),S=D.next_out-_,N=o.buf2string(D.output,_),D.next_out=S,D.avail_out=E-S,S&&s.arraySet(D.output,D.output,_,S,0),this.onData(N)):this.onData(s.shrinkBuf(D.output,D.next_out)))),D.avail_in===0&&D.avail_out===0&&(P=!0)}while((0<D.avail_in||D.avail_out===0)&&g!==c.Z_STREAM_END);return g===c.Z_STREAM_END&&(y=c.Z_FINISH),y===c.Z_FINISH?(g=a.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===c.Z_OK):y!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(D.avail_out=0))},p.prototype.onData=function(v){this.chunks.push(v)},p.prototype.onEnd=function(v){v===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},r.Inflate=p,r.inflate=w,r.inflateRaw=function(v,b){return(b=b||{}).raw=!0,w(v,b)},r.ungzip=w},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,i,r){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";r.assign=function(c){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var d=u.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var h in d)d.hasOwnProperty(h)&&(c[h]=d[h])}}return c},r.shrinkBuf=function(c,u){return c.length===u?c:c.subarray?c.subarray(0,u):(c.length=u,c)};var s={arraySet:function(c,u,d,h,f){if(u.subarray&&c.subarray)c.set(u.subarray(d,d+h),f);else for(var p=0;p<h;p++)c[f+p]=u[d+p]},flattenChunks:function(c){var u,d,h,f,p,w;for(u=h=0,d=c.length;u<d;u++)h+=c[u].length;for(w=new Uint8Array(h),u=f=0,d=c.length;u<d;u++)p=c[u],w.set(p,f),f+=p.length;return w}},o={arraySet:function(c,u,d,h,f){for(var p=0;p<h;p++)c[f+p]=u[d+p]},flattenChunks:function(c){return[].concat.apply([],c)}};r.setTyped=function(c){c?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,s)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,o))},r.setTyped(a)},{}],42:[function(n,i,r){var a=n("./common"),s=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var c=new a.Buf8(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function d(h,f){if(f<65537&&(h.subarray&&o||!h.subarray&&s))return String.fromCharCode.apply(null,a.shrinkBuf(h,f));for(var p="",w=0;w<f;w++)p+=String.fromCharCode(h[w]);return p}c[254]=c[254]=1,r.string2buf=function(h){var f,p,w,v,b,g=h.length,y=0;for(v=0;v<g;v++)(64512&(p=h.charCodeAt(v)))==55296&&v+1<g&&(64512&(w=h.charCodeAt(v+1)))==56320&&(p=65536+(p-55296<<10)+(w-56320),v++),y+=p<128?1:p<2048?2:p<65536?3:4;for(f=new a.Buf8(y),v=b=0;b<y;v++)(64512&(p=h.charCodeAt(v)))==55296&&v+1<g&&(64512&(w=h.charCodeAt(v+1)))==56320&&(p=65536+(p-55296<<10)+(w-56320),v++),p<128?f[b++]=p:(p<2048?f[b++]=192|p>>>6:(p<65536?f[b++]=224|p>>>12:(f[b++]=240|p>>>18,f[b++]=128|p>>>12&63),f[b++]=128|p>>>6&63),f[b++]=128|63&p);return f},r.buf2binstring=function(h){return d(h,h.length)},r.binstring2buf=function(h){for(var f=new a.Buf8(h.length),p=0,w=f.length;p<w;p++)f[p]=h.charCodeAt(p);return f},r.buf2string=function(h,f){var p,w,v,b,g=f||h.length,y=new Array(2*g);for(p=w=0;p<g;)if((v=h[p++])<128)y[w++]=v;else if(4<(b=c[v]))y[w++]=65533,p+=b-1;else{for(v&=b===2?31:b===3?15:7;1<b&&p<g;)v=v<<6|63&h[p++],b--;1<b?y[w++]=65533:v<65536?y[w++]=v:(v-=65536,y[w++]=55296|v>>10&1023,y[w++]=56320|1023&v)}return d(y,w)},r.utf8border=function(h,f){var p;for((f=f||h.length)>h.length&&(f=h.length),p=f-1;0<=p&&(192&h[p])==128;)p--;return p<0||p===0?f:p+c[h[p]]>f?p:f}},{"./common":41}],43:[function(n,i,r){i.exports=function(a,s,o,c){for(var u=65535&a|0,d=a>>>16&65535|0,h=0;o!==0;){for(o-=h=2e3<o?2e3:o;d=d+(u=u+s[c++]|0)|0,--h;);u%=65521,d%=65521}return u|d<<16|0}},{}],44:[function(n,i,r){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,i,r){var a=function(){for(var s,o=[],c=0;c<256;c++){s=c;for(var u=0;u<8;u++)s=1&s?3988292384^s>>>1:s>>>1;o[c]=s}return o}();i.exports=function(s,o,c,u){var d=a,h=u+c;s^=-1;for(var f=u;f<h;f++)s=s>>>8^d[255&(s^o[f])];return-1^s}},{}],46:[function(n,i,r){var a,s=n("../utils/common"),o=n("./trees"),c=n("./adler32"),u=n("./crc32"),d=n("./messages"),h=0,f=4,p=0,w=-2,v=-1,b=4,g=2,y=8,_=9,S=286,N=30,R=19,D=2*S+1,E=15,C=3,P=258,k=P+C+1,A=42,I=113,T=1,z=2,j=3,W=4;function $(X,re){return X.msg=d[re],re}function q(X){return(X<<1)-(4<X?9:0)}function G(X){for(var re=X.length;0<=--re;)X[re]=0}function B(X){var re=X.state,Ee=re.pending;Ee>X.avail_out&&(Ee=X.avail_out),Ee!==0&&(s.arraySet(X.output,re.pending_buf,re.pending_out,Ee,X.next_out),X.next_out+=Ee,re.pending_out+=Ee,X.total_out+=Ee,X.avail_out-=Ee,re.pending-=Ee,re.pending===0&&(re.pending_out=0))}function L(X,re){o._tr_flush_block(X,0<=X.block_start?X.block_start:-1,X.strstart-X.block_start,re),X.block_start=X.strstart,B(X.strm)}function M(X,re){X.pending_buf[X.pending++]=re}function K(X,re){X.pending_buf[X.pending++]=re>>>8&255,X.pending_buf[X.pending++]=255&re}function Q(X,re){var Ee,ne,te=X.max_chain_length,ae=X.strstart,xe=X.prev_length,Ce=X.nice_match,_e=X.strstart>X.w_size-k?X.strstart-(X.w_size-k):0,oe=X.window,pe=X.w_mask,Se=X.prev,De=X.strstart+P,Ve=oe[ae+xe-1],de=oe[ae+xe];X.prev_length>=X.good_match&&(te>>=2),Ce>X.lookahead&&(Ce=X.lookahead);do if(oe[(Ee=re)+xe]===de&&oe[Ee+xe-1]===Ve&&oe[Ee]===oe[ae]&&oe[++Ee]===oe[ae+1]){ae+=2,Ee++;do;while(oe[++ae]===oe[++Ee]&&oe[++ae]===oe[++Ee]&&oe[++ae]===oe[++Ee]&&oe[++ae]===oe[++Ee]&&oe[++ae]===oe[++Ee]&&oe[++ae]===oe[++Ee]&&oe[++ae]===oe[++Ee]&&oe[++ae]===oe[++Ee]&&ae<De);if(ne=P-(De-ae),ae=De-P,xe<ne){if(X.match_start=re,Ce<=(xe=ne))break;Ve=oe[ae+xe-1],de=oe[ae+xe]}}while((re=Se[re&pe])>_e&&--te!=0);return xe<=X.lookahead?xe:X.lookahead}function V(X){var re,Ee,ne,te,ae,xe,Ce,_e,oe,pe,Se=X.w_size;do{if(te=X.window_size-X.lookahead-X.strstart,X.strstart>=Se+(Se-k)){for(s.arraySet(X.window,X.window,Se,Se,0),X.match_start-=Se,X.strstart-=Se,X.block_start-=Se,re=Ee=X.hash_size;ne=X.head[--re],X.head[re]=Se<=ne?ne-Se:0,--Ee;);for(re=Ee=Se;ne=X.prev[--re],X.prev[re]=Se<=ne?ne-Se:0,--Ee;);te+=Se}if(X.strm.avail_in===0)break;if(xe=X.strm,Ce=X.window,_e=X.strstart+X.lookahead,oe=te,pe=void 0,pe=xe.avail_in,oe<pe&&(pe=oe),Ee=pe===0?0:(xe.avail_in-=pe,s.arraySet(Ce,xe.input,xe.next_in,pe,_e),xe.state.wrap===1?xe.adler=c(xe.adler,Ce,pe,_e):xe.state.wrap===2&&(xe.adler=u(xe.adler,Ce,pe,_e)),xe.next_in+=pe,xe.total_in+=pe,pe),X.lookahead+=Ee,X.lookahead+X.insert>=C)for(ae=X.strstart-X.insert,X.ins_h=X.window[ae],X.ins_h=(X.ins_h<<X.hash_shift^X.window[ae+1])&X.hash_mask;X.insert&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[ae+C-1])&X.hash_mask,X.prev[ae&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=ae,ae++,X.insert--,!(X.lookahead+X.insert<C)););}while(X.lookahead<k&&X.strm.avail_in!==0)}function le(X,re){for(var Ee,ne;;){if(X.lookahead<k){if(V(X),X.lookahead<k&&re===h)return T;if(X.lookahead===0)break}if(Ee=0,X.lookahead>=C&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+C-1])&X.hash_mask,Ee=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart),Ee!==0&&X.strstart-Ee<=X.w_size-k&&(X.match_length=Q(X,Ee)),X.match_length>=C)if(ne=o._tr_tally(X,X.strstart-X.match_start,X.match_length-C),X.lookahead-=X.match_length,X.match_length<=X.max_lazy_match&&X.lookahead>=C){for(X.match_length--;X.strstart++,X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+C-1])&X.hash_mask,Ee=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart,--X.match_length!=0;);X.strstart++}else X.strstart+=X.match_length,X.match_length=0,X.ins_h=X.window[X.strstart],X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+1])&X.hash_mask;else ne=o._tr_tally(X,0,X.window[X.strstart]),X.lookahead--,X.strstart++;if(ne&&(L(X,!1),X.strm.avail_out===0))return T}return X.insert=X.strstart<C-1?X.strstart:C-1,re===f?(L(X,!0),X.strm.avail_out===0?j:W):X.last_lit&&(L(X,!1),X.strm.avail_out===0)?T:z}function ge(X,re){for(var Ee,ne,te;;){if(X.lookahead<k){if(V(X),X.lookahead<k&&re===h)return T;if(X.lookahead===0)break}if(Ee=0,X.lookahead>=C&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+C-1])&X.hash_mask,Ee=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart),X.prev_length=X.match_length,X.prev_match=X.match_start,X.match_length=C-1,Ee!==0&&X.prev_length<X.max_lazy_match&&X.strstart-Ee<=X.w_size-k&&(X.match_length=Q(X,Ee),X.match_length<=5&&(X.strategy===1||X.match_length===C&&4096<X.strstart-X.match_start)&&(X.match_length=C-1)),X.prev_length>=C&&X.match_length<=X.prev_length){for(te=X.strstart+X.lookahead-C,ne=o._tr_tally(X,X.strstart-1-X.prev_match,X.prev_length-C),X.lookahead-=X.prev_length-1,X.prev_length-=2;++X.strstart<=te&&(X.ins_h=(X.ins_h<<X.hash_shift^X.window[X.strstart+C-1])&X.hash_mask,Ee=X.prev[X.strstart&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=X.strstart),--X.prev_length!=0;);if(X.match_available=0,X.match_length=C-1,X.strstart++,ne&&(L(X,!1),X.strm.avail_out===0))return T}else if(X.match_available){if((ne=o._tr_tally(X,0,X.window[X.strstart-1]))&&L(X,!1),X.strstart++,X.lookahead--,X.strm.avail_out===0)return T}else X.match_available=1,X.strstart++,X.lookahead--}return X.match_available&&(ne=o._tr_tally(X,0,X.window[X.strstart-1]),X.match_available=0),X.insert=X.strstart<C-1?X.strstart:C-1,re===f?(L(X,!0),X.strm.avail_out===0?j:W):X.last_lit&&(L(X,!1),X.strm.avail_out===0)?T:z}function ye(X,re,Ee,ne,te){this.good_length=X,this.max_lazy=re,this.nice_length=Ee,this.max_chain=ne,this.func=te}function be(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*D),this.dyn_dtree=new s.Buf16(2*(2*N+1)),this.bl_tree=new s.Buf16(2*(2*R+1)),G(this.dyn_ltree),G(this.dyn_dtree),G(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(E+1),this.heap=new s.Buf16(2*S+1),G(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*S+1),G(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Le(X){var re;return X&&X.state?(X.total_in=X.total_out=0,X.data_type=g,(re=X.state).pending=0,re.pending_out=0,re.wrap<0&&(re.wrap=-re.wrap),re.status=re.wrap?A:I,X.adler=re.wrap===2?0:1,re.last_flush=h,o._tr_init(re),p):$(X,w)}function ue(X){var re=Le(X);return re===p&&function(Ee){Ee.window_size=2*Ee.w_size,G(Ee.head),Ee.max_lazy_match=a[Ee.level].max_lazy,Ee.good_match=a[Ee.level].good_length,Ee.nice_match=a[Ee.level].nice_length,Ee.max_chain_length=a[Ee.level].max_chain,Ee.strstart=0,Ee.block_start=0,Ee.lookahead=0,Ee.insert=0,Ee.match_length=Ee.prev_length=C-1,Ee.match_available=0,Ee.ins_h=0}(X.state),re}function ke(X,re,Ee,ne,te,ae){if(!X)return w;var xe=1;if(re===v&&(re=6),ne<0?(xe=0,ne=-ne):15<ne&&(xe=2,ne-=16),te<1||_<te||Ee!==y||ne<8||15<ne||re<0||9<re||ae<0||b<ae)return $(X,w);ne===8&&(ne=9);var Ce=new be;return(X.state=Ce).strm=X,Ce.wrap=xe,Ce.gzhead=null,Ce.w_bits=ne,Ce.w_size=1<<Ce.w_bits,Ce.w_mask=Ce.w_size-1,Ce.hash_bits=te+7,Ce.hash_size=1<<Ce.hash_bits,Ce.hash_mask=Ce.hash_size-1,Ce.hash_shift=~~((Ce.hash_bits+C-1)/C),Ce.window=new s.Buf8(2*Ce.w_size),Ce.head=new s.Buf16(Ce.hash_size),Ce.prev=new s.Buf16(Ce.w_size),Ce.lit_bufsize=1<<te+6,Ce.pending_buf_size=4*Ce.lit_bufsize,Ce.pending_buf=new s.Buf8(Ce.pending_buf_size),Ce.d_buf=1*Ce.lit_bufsize,Ce.l_buf=3*Ce.lit_bufsize,Ce.level=re,Ce.strategy=ae,Ce.method=Ee,ue(X)}a=[new ye(0,0,0,0,function(X,re){var Ee=65535;for(Ee>X.pending_buf_size-5&&(Ee=X.pending_buf_size-5);;){if(X.lookahead<=1){if(V(X),X.lookahead===0&&re===h)return T;if(X.lookahead===0)break}X.strstart+=X.lookahead,X.lookahead=0;var ne=X.block_start+Ee;if((X.strstart===0||X.strstart>=ne)&&(X.lookahead=X.strstart-ne,X.strstart=ne,L(X,!1),X.strm.avail_out===0)||X.strstart-X.block_start>=X.w_size-k&&(L(X,!1),X.strm.avail_out===0))return T}return X.insert=0,re===f?(L(X,!0),X.strm.avail_out===0?j:W):(X.strstart>X.block_start&&(L(X,!1),X.strm.avail_out),T)}),new ye(4,4,8,4,le),new ye(4,5,16,8,le),new ye(4,6,32,32,le),new ye(4,4,16,16,ge),new ye(8,16,32,32,ge),new ye(8,16,128,128,ge),new ye(8,32,128,256,ge),new ye(32,128,258,1024,ge),new ye(32,258,258,4096,ge)],r.deflateInit=function(X,re){return ke(X,re,y,15,8,0)},r.deflateInit2=ke,r.deflateReset=ue,r.deflateResetKeep=Le,r.deflateSetHeader=function(X,re){return X&&X.state?X.state.wrap!==2?w:(X.state.gzhead=re,p):w},r.deflate=function(X,re){var Ee,ne,te,ae;if(!X||!X.state||5<re||re<0)return X?$(X,w):w;if(ne=X.state,!X.output||!X.input&&X.avail_in!==0||ne.status===666&&re!==f)return $(X,X.avail_out===0?-5:w);if(ne.strm=X,Ee=ne.last_flush,ne.last_flush=re,ne.status===A)if(ne.wrap===2)X.adler=0,M(ne,31),M(ne,139),M(ne,8),ne.gzhead?(M(ne,(ne.gzhead.text?1:0)+(ne.gzhead.hcrc?2:0)+(ne.gzhead.extra?4:0)+(ne.gzhead.name?8:0)+(ne.gzhead.comment?16:0)),M(ne,255&ne.gzhead.time),M(ne,ne.gzhead.time>>8&255),M(ne,ne.gzhead.time>>16&255),M(ne,ne.gzhead.time>>24&255),M(ne,ne.level===9?2:2<=ne.strategy||ne.level<2?4:0),M(ne,255&ne.gzhead.os),ne.gzhead.extra&&ne.gzhead.extra.length&&(M(ne,255&ne.gzhead.extra.length),M(ne,ne.gzhead.extra.length>>8&255)),ne.gzhead.hcrc&&(X.adler=u(X.adler,ne.pending_buf,ne.pending,0)),ne.gzindex=0,ne.status=69):(M(ne,0),M(ne,0),M(ne,0),M(ne,0),M(ne,0),M(ne,ne.level===9?2:2<=ne.strategy||ne.level<2?4:0),M(ne,3),ne.status=I);else{var xe=y+(ne.w_bits-8<<4)<<8;xe|=(2<=ne.strategy||ne.level<2?0:ne.level<6?1:ne.level===6?2:3)<<6,ne.strstart!==0&&(xe|=32),xe+=31-xe%31,ne.status=I,K(ne,xe),ne.strstart!==0&&(K(ne,X.adler>>>16),K(ne,65535&X.adler)),X.adler=1}if(ne.status===69)if(ne.gzhead.extra){for(te=ne.pending;ne.gzindex<(65535&ne.gzhead.extra.length)&&(ne.pending!==ne.pending_buf_size||(ne.gzhead.hcrc&&ne.pending>te&&(X.adler=u(X.adler,ne.pending_buf,ne.pending-te,te)),B(X),te=ne.pending,ne.pending!==ne.pending_buf_size));)M(ne,255&ne.gzhead.extra[ne.gzindex]),ne.gzindex++;ne.gzhead.hcrc&&ne.pending>te&&(X.adler=u(X.adler,ne.pending_buf,ne.pending-te,te)),ne.gzindex===ne.gzhead.extra.length&&(ne.gzindex=0,ne.status=73)}else ne.status=73;if(ne.status===73)if(ne.gzhead.name){te=ne.pending;do{if(ne.pending===ne.pending_buf_size&&(ne.gzhead.hcrc&&ne.pending>te&&(X.adler=u(X.adler,ne.pending_buf,ne.pending-te,te)),B(X),te=ne.pending,ne.pending===ne.pending_buf_size)){ae=1;break}ae=ne.gzindex<ne.gzhead.name.length?255&ne.gzhead.name.charCodeAt(ne.gzindex++):0,M(ne,ae)}while(ae!==0);ne.gzhead.hcrc&&ne.pending>te&&(X.adler=u(X.adler,ne.pending_buf,ne.pending-te,te)),ae===0&&(ne.gzindex=0,ne.status=91)}else ne.status=91;if(ne.status===91)if(ne.gzhead.comment){te=ne.pending;do{if(ne.pending===ne.pending_buf_size&&(ne.gzhead.hcrc&&ne.pending>te&&(X.adler=u(X.adler,ne.pending_buf,ne.pending-te,te)),B(X),te=ne.pending,ne.pending===ne.pending_buf_size)){ae=1;break}ae=ne.gzindex<ne.gzhead.comment.length?255&ne.gzhead.comment.charCodeAt(ne.gzindex++):0,M(ne,ae)}while(ae!==0);ne.gzhead.hcrc&&ne.pending>te&&(X.adler=u(X.adler,ne.pending_buf,ne.pending-te,te)),ae===0&&(ne.status=103)}else ne.status=103;if(ne.status===103&&(ne.gzhead.hcrc?(ne.pending+2>ne.pending_buf_size&&B(X),ne.pending+2<=ne.pending_buf_size&&(M(ne,255&X.adler),M(ne,X.adler>>8&255),X.adler=0,ne.status=I)):ne.status=I),ne.pending!==0){if(B(X),X.avail_out===0)return ne.last_flush=-1,p}else if(X.avail_in===0&&q(re)<=q(Ee)&&re!==f)return $(X,-5);if(ne.status===666&&X.avail_in!==0)return $(X,-5);if(X.avail_in!==0||ne.lookahead!==0||re!==h&&ne.status!==666){var Ce=ne.strategy===2?function(_e,oe){for(var pe;;){if(_e.lookahead===0&&(V(_e),_e.lookahead===0)){if(oe===h)return T;break}if(_e.match_length=0,pe=o._tr_tally(_e,0,_e.window[_e.strstart]),_e.lookahead--,_e.strstart++,pe&&(L(_e,!1),_e.strm.avail_out===0))return T}return _e.insert=0,oe===f?(L(_e,!0),_e.strm.avail_out===0?j:W):_e.last_lit&&(L(_e,!1),_e.strm.avail_out===0)?T:z}(ne,re):ne.strategy===3?function(_e,oe){for(var pe,Se,De,Ve,de=_e.window;;){if(_e.lookahead<=P){if(V(_e),_e.lookahead<=P&&oe===h)return T;if(_e.lookahead===0)break}if(_e.match_length=0,_e.lookahead>=C&&0<_e.strstart&&(Se=de[De=_e.strstart-1])===de[++De]&&Se===de[++De]&&Se===de[++De]){Ve=_e.strstart+P;do;while(Se===de[++De]&&Se===de[++De]&&Se===de[++De]&&Se===de[++De]&&Se===de[++De]&&Se===de[++De]&&Se===de[++De]&&Se===de[++De]&&De<Ve);_e.match_length=P-(Ve-De),_e.match_length>_e.lookahead&&(_e.match_length=_e.lookahead)}if(_e.match_length>=C?(pe=o._tr_tally(_e,1,_e.match_length-C),_e.lookahead-=_e.match_length,_e.strstart+=_e.match_length,_e.match_length=0):(pe=o._tr_tally(_e,0,_e.window[_e.strstart]),_e.lookahead--,_e.strstart++),pe&&(L(_e,!1),_e.strm.avail_out===0))return T}return _e.insert=0,oe===f?(L(_e,!0),_e.strm.avail_out===0?j:W):_e.last_lit&&(L(_e,!1),_e.strm.avail_out===0)?T:z}(ne,re):a[ne.level].func(ne,re);if(Ce!==j&&Ce!==W||(ne.status=666),Ce===T||Ce===j)return X.avail_out===0&&(ne.last_flush=-1),p;if(Ce===z&&(re===1?o._tr_align(ne):re!==5&&(o._tr_stored_block(ne,0,0,!1),re===3&&(G(ne.head),ne.lookahead===0&&(ne.strstart=0,ne.block_start=0,ne.insert=0))),B(X),X.avail_out===0))return ne.last_flush=-1,p}return re!==f?p:ne.wrap<=0?1:(ne.wrap===2?(M(ne,255&X.adler),M(ne,X.adler>>8&255),M(ne,X.adler>>16&255),M(ne,X.adler>>24&255),M(ne,255&X.total_in),M(ne,X.total_in>>8&255),M(ne,X.total_in>>16&255),M(ne,X.total_in>>24&255)):(K(ne,X.adler>>>16),K(ne,65535&X.adler)),B(X),0<ne.wrap&&(ne.wrap=-ne.wrap),ne.pending!==0?p:1)},r.deflateEnd=function(X){var re;return X&&X.state?(re=X.state.status)!==A&&re!==69&&re!==73&&re!==91&&re!==103&&re!==I&&re!==666?$(X,w):(X.state=null,re===I?$(X,-3):p):w},r.deflateSetDictionary=function(X,re){var Ee,ne,te,ae,xe,Ce,_e,oe,pe=re.length;if(!X||!X.state||(ae=(Ee=X.state).wrap)===2||ae===1&&Ee.status!==A||Ee.lookahead)return w;for(ae===1&&(X.adler=c(X.adler,re,pe,0)),Ee.wrap=0,pe>=Ee.w_size&&(ae===0&&(G(Ee.head),Ee.strstart=0,Ee.block_start=0,Ee.insert=0),oe=new s.Buf8(Ee.w_size),s.arraySet(oe,re,pe-Ee.w_size,Ee.w_size,0),re=oe,pe=Ee.w_size),xe=X.avail_in,Ce=X.next_in,_e=X.input,X.avail_in=pe,X.next_in=0,X.input=re,V(Ee);Ee.lookahead>=C;){for(ne=Ee.strstart,te=Ee.lookahead-(C-1);Ee.ins_h=(Ee.ins_h<<Ee.hash_shift^Ee.window[ne+C-1])&Ee.hash_mask,Ee.prev[ne&Ee.w_mask]=Ee.head[Ee.ins_h],Ee.head[Ee.ins_h]=ne,ne++,--te;);Ee.strstart=ne,Ee.lookahead=C-1,V(Ee)}return Ee.strstart+=Ee.lookahead,Ee.block_start=Ee.strstart,Ee.insert=Ee.lookahead,Ee.lookahead=0,Ee.match_length=Ee.prev_length=C-1,Ee.match_available=0,X.next_in=Ce,X.input=_e,X.avail_in=xe,Ee.wrap=ae,p},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,i,r){i.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,i,r){i.exports=function(a,s){var o,c,u,d,h,f,p,w,v,b,g,y,_,S,N,R,D,E,C,P,k,A,I,T,z;o=a.state,c=a.next_in,T=a.input,u=c+(a.avail_in-5),d=a.next_out,z=a.output,h=d-(s-a.avail_out),f=d+(a.avail_out-257),p=o.dmax,w=o.wsize,v=o.whave,b=o.wnext,g=o.window,y=o.hold,_=o.bits,S=o.lencode,N=o.distcode,R=(1<<o.lenbits)-1,D=(1<<o.distbits)-1;e:do{_<15&&(y+=T[c++]<<_,_+=8,y+=T[c++]<<_,_+=8),E=S[y&R];t:for(;;){if(y>>>=C=E>>>24,_-=C,(C=E>>>16&255)===0)z[d++]=65535&E;else{if(!(16&C)){if(!(64&C)){E=S[(65535&E)+(y&(1<<C)-1)];continue t}if(32&C){o.mode=12;break e}a.msg="invalid literal/length code",o.mode=30;break e}P=65535&E,(C&=15)&&(_<C&&(y+=T[c++]<<_,_+=8),P+=y&(1<<C)-1,y>>>=C,_-=C),_<15&&(y+=T[c++]<<_,_+=8,y+=T[c++]<<_,_+=8),E=N[y&D];n:for(;;){if(y>>>=C=E>>>24,_-=C,!(16&(C=E>>>16&255))){if(!(64&C)){E=N[(65535&E)+(y&(1<<C)-1)];continue n}a.msg="invalid distance code",o.mode=30;break e}if(k=65535&E,_<(C&=15)&&(y+=T[c++]<<_,(_+=8)<C&&(y+=T[c++]<<_,_+=8)),p<(k+=y&(1<<C)-1)){a.msg="invalid distance too far back",o.mode=30;break e}if(y>>>=C,_-=C,(C=d-h)<k){if(v<(C=k-C)&&o.sane){a.msg="invalid distance too far back",o.mode=30;break e}if(I=g,(A=0)===b){if(A+=w-C,C<P){for(P-=C;z[d++]=g[A++],--C;);A=d-k,I=z}}else if(b<C){if(A+=w+b-C,(C-=b)<P){for(P-=C;z[d++]=g[A++],--C;);if(A=0,b<P){for(P-=C=b;z[d++]=g[A++],--C;);A=d-k,I=z}}}else if(A+=b-C,C<P){for(P-=C;z[d++]=g[A++],--C;);A=d-k,I=z}for(;2<P;)z[d++]=I[A++],z[d++]=I[A++],z[d++]=I[A++],P-=3;P&&(z[d++]=I[A++],1<P&&(z[d++]=I[A++]))}else{for(A=d-k;z[d++]=z[A++],z[d++]=z[A++],z[d++]=z[A++],2<(P-=3););P&&(z[d++]=z[A++],1<P&&(z[d++]=z[A++]))}break}}break}}while(c<u&&d<f);c-=P=_>>3,y&=(1<<(_-=P<<3))-1,a.next_in=c,a.next_out=d,a.avail_in=c<u?u-c+5:5-(c-u),a.avail_out=d<f?f-d+257:257-(d-f),o.hold=y,o.bits=_}},{}],49:[function(n,i,r){var a=n("../utils/common"),s=n("./adler32"),o=n("./crc32"),c=n("./inffast"),u=n("./inftrees"),d=1,h=2,f=0,p=-2,w=1,v=852,b=592;function g(A){return(A>>>24&255)+(A>>>8&65280)+((65280&A)<<8)+((255&A)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _(A){var I;return A&&A.state?(I=A.state,A.total_in=A.total_out=I.total=0,A.msg="",I.wrap&&(A.adler=1&I.wrap),I.mode=w,I.last=0,I.havedict=0,I.dmax=32768,I.head=null,I.hold=0,I.bits=0,I.lencode=I.lendyn=new a.Buf32(v),I.distcode=I.distdyn=new a.Buf32(b),I.sane=1,I.back=-1,f):p}function S(A){var I;return A&&A.state?((I=A.state).wsize=0,I.whave=0,I.wnext=0,_(A)):p}function N(A,I){var T,z;return A&&A.state?(z=A.state,I<0?(T=0,I=-I):(T=1+(I>>4),I<48&&(I&=15)),I&&(I<8||15<I)?p:(z.window!==null&&z.wbits!==I&&(z.window=null),z.wrap=T,z.wbits=I,S(A))):p}function R(A,I){var T,z;return A?(z=new y,(A.state=z).window=null,(T=N(A,I))!==f&&(A.state=null),T):p}var D,E,C=!0;function P(A){if(C){var I;for(D=new a.Buf32(512),E=new a.Buf32(32),I=0;I<144;)A.lens[I++]=8;for(;I<256;)A.lens[I++]=9;for(;I<280;)A.lens[I++]=7;for(;I<288;)A.lens[I++]=8;for(u(d,A.lens,0,288,D,0,A.work,{bits:9}),I=0;I<32;)A.lens[I++]=5;u(h,A.lens,0,32,E,0,A.work,{bits:5}),C=!1}A.lencode=D,A.lenbits=9,A.distcode=E,A.distbits=5}function k(A,I,T,z){var j,W=A.state;return W.window===null&&(W.wsize=1<<W.wbits,W.wnext=0,W.whave=0,W.window=new a.Buf8(W.wsize)),z>=W.wsize?(a.arraySet(W.window,I,T-W.wsize,W.wsize,0),W.wnext=0,W.whave=W.wsize):(z<(j=W.wsize-W.wnext)&&(j=z),a.arraySet(W.window,I,T-z,j,W.wnext),(z-=j)?(a.arraySet(W.window,I,T-z,z,0),W.wnext=z,W.whave=W.wsize):(W.wnext+=j,W.wnext===W.wsize&&(W.wnext=0),W.whave<W.wsize&&(W.whave+=j))),0}r.inflateReset=S,r.inflateReset2=N,r.inflateResetKeep=_,r.inflateInit=function(A){return R(A,15)},r.inflateInit2=R,r.inflate=function(A,I){var T,z,j,W,$,q,G,B,L,M,K,Q,V,le,ge,ye,be,Le,ue,ke,X,re,Ee,ne,te=0,ae=new a.Buf8(4),xe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!A||!A.state||!A.output||!A.input&&A.avail_in!==0)return p;(T=A.state).mode===12&&(T.mode=13),$=A.next_out,j=A.output,G=A.avail_out,W=A.next_in,z=A.input,q=A.avail_in,B=T.hold,L=T.bits,M=q,K=G,re=f;e:for(;;)switch(T.mode){case w:if(T.wrap===0){T.mode=13;break}for(;L<16;){if(q===0)break e;q--,B+=z[W++]<<L,L+=8}if(2&T.wrap&&B===35615){ae[T.check=0]=255&B,ae[1]=B>>>8&255,T.check=o(T.check,ae,2,0),L=B=0,T.mode=2;break}if(T.flags=0,T.head&&(T.head.done=!1),!(1&T.wrap)||(((255&B)<<8)+(B>>8))%31){A.msg="incorrect header check",T.mode=30;break}if((15&B)!=8){A.msg="unknown compression method",T.mode=30;break}if(L-=4,X=8+(15&(B>>>=4)),T.wbits===0)T.wbits=X;else if(X>T.wbits){A.msg="invalid window size",T.mode=30;break}T.dmax=1<<X,A.adler=T.check=1,T.mode=512&B?10:12,L=B=0;break;case 2:for(;L<16;){if(q===0)break e;q--,B+=z[W++]<<L,L+=8}if(T.flags=B,(255&T.flags)!=8){A.msg="unknown compression method",T.mode=30;break}if(57344&T.flags){A.msg="unknown header flags set",T.mode=30;break}T.head&&(T.head.text=B>>8&1),512&T.flags&&(ae[0]=255&B,ae[1]=B>>>8&255,T.check=o(T.check,ae,2,0)),L=B=0,T.mode=3;case 3:for(;L<32;){if(q===0)break e;q--,B+=z[W++]<<L,L+=8}T.head&&(T.head.time=B),512&T.flags&&(ae[0]=255&B,ae[1]=B>>>8&255,ae[2]=B>>>16&255,ae[3]=B>>>24&255,T.check=o(T.check,ae,4,0)),L=B=0,T.mode=4;case 4:for(;L<16;){if(q===0)break e;q--,B+=z[W++]<<L,L+=8}T.head&&(T.head.xflags=255&B,T.head.os=B>>8),512&T.flags&&(ae[0]=255&B,ae[1]=B>>>8&255,T.check=o(T.check,ae,2,0)),L=B=0,T.mode=5;case 5:if(1024&T.flags){for(;L<16;){if(q===0)break e;q--,B+=z[W++]<<L,L+=8}T.length=B,T.head&&(T.head.extra_len=B),512&T.flags&&(ae[0]=255&B,ae[1]=B>>>8&255,T.check=o(T.check,ae,2,0)),L=B=0}else T.head&&(T.head.extra=null);T.mode=6;case 6:if(1024&T.flags&&(q<(Q=T.length)&&(Q=q),Q&&(T.head&&(X=T.head.extra_len-T.length,T.head.extra||(T.head.extra=new Array(T.head.extra_len)),a.arraySet(T.head.extra,z,W,Q,X)),512&T.flags&&(T.check=o(T.check,z,Q,W)),q-=Q,W+=Q,T.length-=Q),T.length))break e;T.length=0,T.mode=7;case 7:if(2048&T.flags){if(q===0)break e;for(Q=0;X=z[W+Q++],T.head&&X&&T.length<65536&&(T.head.name+=String.fromCharCode(X)),X&&Q<q;);if(512&T.flags&&(T.check=o(T.check,z,Q,W)),q-=Q,W+=Q,X)break e}else T.head&&(T.head.name=null);T.length=0,T.mode=8;case 8:if(4096&T.flags){if(q===0)break e;for(Q=0;X=z[W+Q++],T.head&&X&&T.length<65536&&(T.head.comment+=String.fromCharCode(X)),X&&Q<q;);if(512&T.flags&&(T.check=o(T.check,z,Q,W)),q-=Q,W+=Q,X)break e}else T.head&&(T.head.comment=null);T.mode=9;case 9:if(512&T.flags){for(;L<16;){if(q===0)break e;q--,B+=z[W++]<<L,L+=8}if(B!==(65535&T.check)){A.msg="header crc mismatch",T.mode=30;break}L=B=0}T.head&&(T.head.hcrc=T.flags>>9&1,T.head.done=!0),A.adler=T.check=0,T.mode=12;break;case 10:for(;L<32;){if(q===0)break e;q--,B+=z[W++]<<L,L+=8}A.adler=T.check=g(B),L=B=0,T.mode=11;case 11:if(T.havedict===0)return A.next_out=$,A.avail_out=G,A.next_in=W,A.avail_in=q,T.hold=B,T.bits=L,2;A.adler=T.check=1,T.mode=12;case 12:if(I===5||I===6)break e;case 13:if(T.last){B>>>=7&L,L-=7&L,T.mode=27;break}for(;L<3;){if(q===0)break e;q--,B+=z[W++]<<L,L+=8}switch(T.last=1&B,L-=1,3&(B>>>=1)){case 0:T.mode=14;break;case 1:if(P(T),T.mode=20,I!==6)break;B>>>=2,L-=2;break e;case 2:T.mode=17;break;case 3:A.msg="invalid block type",T.mode=30}B>>>=2,L-=2;break;case 14:for(B>>>=7&L,L-=7&L;L<32;){if(q===0)break e;q--,B+=z[W++]<<L,L+=8}if((65535&B)!=(B>>>16^65535)){A.msg="invalid stored block lengths",T.mode=30;break}if(T.length=65535&B,L=B=0,T.mode=15,I===6)break e;case 15:T.mode=16;case 16:if(Q=T.length){if(q<Q&&(Q=q),G<Q&&(Q=G),Q===0)break e;a.arraySet(j,z,W,Q,$),q-=Q,W+=Q,G-=Q,$+=Q,T.length-=Q;break}T.mode=12;break;case 17:for(;L<14;){if(q===0)break e;q--,B+=z[W++]<<L,L+=8}if(T.nlen=257+(31&B),B>>>=5,L-=5,T.ndist=1+(31&B),B>>>=5,L-=5,T.ncode=4+(15&B),B>>>=4,L-=4,286<T.nlen||30<T.ndist){A.msg="too many length or distance symbols",T.mode=30;break}T.have=0,T.mode=18;case 18:for(;T.have<T.ncode;){for(;L<3;){if(q===0)break e;q--,B+=z[W++]<<L,L+=8}T.lens[xe[T.have++]]=7&B,B>>>=3,L-=3}for(;T.have<19;)T.lens[xe[T.have++]]=0;if(T.lencode=T.lendyn,T.lenbits=7,Ee={bits:T.lenbits},re=u(0,T.lens,0,19,T.lencode,0,T.work,Ee),T.lenbits=Ee.bits,re){A.msg="invalid code lengths set",T.mode=30;break}T.have=0,T.mode=19;case 19:for(;T.have<T.nlen+T.ndist;){for(;ye=(te=T.lencode[B&(1<<T.lenbits)-1])>>>16&255,be=65535&te,!((ge=te>>>24)<=L);){if(q===0)break e;q--,B+=z[W++]<<L,L+=8}if(be<16)B>>>=ge,L-=ge,T.lens[T.have++]=be;else{if(be===16){for(ne=ge+2;L<ne;){if(q===0)break e;q--,B+=z[W++]<<L,L+=8}if(B>>>=ge,L-=ge,T.have===0){A.msg="invalid bit length repeat",T.mode=30;break}X=T.lens[T.have-1],Q=3+(3&B),B>>>=2,L-=2}else if(be===17){for(ne=ge+3;L<ne;){if(q===0)break e;q--,B+=z[W++]<<L,L+=8}L-=ge,X=0,Q=3+(7&(B>>>=ge)),B>>>=3,L-=3}else{for(ne=ge+7;L<ne;){if(q===0)break e;q--,B+=z[W++]<<L,L+=8}L-=ge,X=0,Q=11+(127&(B>>>=ge)),B>>>=7,L-=7}if(T.have+Q>T.nlen+T.ndist){A.msg="invalid bit length repeat",T.mode=30;break}for(;Q--;)T.lens[T.have++]=X}}if(T.mode===30)break;if(T.lens[256]===0){A.msg="invalid code -- missing end-of-block",T.mode=30;break}if(T.lenbits=9,Ee={bits:T.lenbits},re=u(d,T.lens,0,T.nlen,T.lencode,0,T.work,Ee),T.lenbits=Ee.bits,re){A.msg="invalid literal/lengths set",T.mode=30;break}if(T.distbits=6,T.distcode=T.distdyn,Ee={bits:T.distbits},re=u(h,T.lens,T.nlen,T.ndist,T.distcode,0,T.work,Ee),T.distbits=Ee.bits,re){A.msg="invalid distances set",T.mode=30;break}if(T.mode=20,I===6)break e;case 20:T.mode=21;case 21:if(6<=q&&258<=G){A.next_out=$,A.avail_out=G,A.next_in=W,A.avail_in=q,T.hold=B,T.bits=L,c(A,K),$=A.next_out,j=A.output,G=A.avail_out,W=A.next_in,z=A.input,q=A.avail_in,B=T.hold,L=T.bits,T.mode===12&&(T.back=-1);break}for(T.back=0;ye=(te=T.lencode[B&(1<<T.lenbits)-1])>>>16&255,be=65535&te,!((ge=te>>>24)<=L);){if(q===0)break e;q--,B+=z[W++]<<L,L+=8}if(ye&&!(240&ye)){for(Le=ge,ue=ye,ke=be;ye=(te=T.lencode[ke+((B&(1<<Le+ue)-1)>>Le)])>>>16&255,be=65535&te,!(Le+(ge=te>>>24)<=L);){if(q===0)break e;q--,B+=z[W++]<<L,L+=8}B>>>=Le,L-=Le,T.back+=Le}if(B>>>=ge,L-=ge,T.back+=ge,T.length=be,ye===0){T.mode=26;break}if(32&ye){T.back=-1,T.mode=12;break}if(64&ye){A.msg="invalid literal/length code",T.mode=30;break}T.extra=15&ye,T.mode=22;case 22:if(T.extra){for(ne=T.extra;L<ne;){if(q===0)break e;q--,B+=z[W++]<<L,L+=8}T.length+=B&(1<<T.extra)-1,B>>>=T.extra,L-=T.extra,T.back+=T.extra}T.was=T.length,T.mode=23;case 23:for(;ye=(te=T.distcode[B&(1<<T.distbits)-1])>>>16&255,be=65535&te,!((ge=te>>>24)<=L);){if(q===0)break e;q--,B+=z[W++]<<L,L+=8}if(!(240&ye)){for(Le=ge,ue=ye,ke=be;ye=(te=T.distcode[ke+((B&(1<<Le+ue)-1)>>Le)])>>>16&255,be=65535&te,!(Le+(ge=te>>>24)<=L);){if(q===0)break e;q--,B+=z[W++]<<L,L+=8}B>>>=Le,L-=Le,T.back+=Le}if(B>>>=ge,L-=ge,T.back+=ge,64&ye){A.msg="invalid distance code",T.mode=30;break}T.offset=be,T.extra=15&ye,T.mode=24;case 24:if(T.extra){for(ne=T.extra;L<ne;){if(q===0)break e;q--,B+=z[W++]<<L,L+=8}T.offset+=B&(1<<T.extra)-1,B>>>=T.extra,L-=T.extra,T.back+=T.extra}if(T.offset>T.dmax){A.msg="invalid distance too far back",T.mode=30;break}T.mode=25;case 25:if(G===0)break e;if(Q=K-G,T.offset>Q){if((Q=T.offset-Q)>T.whave&&T.sane){A.msg="invalid distance too far back",T.mode=30;break}V=Q>T.wnext?(Q-=T.wnext,T.wsize-Q):T.wnext-Q,Q>T.length&&(Q=T.length),le=T.window}else le=j,V=$-T.offset,Q=T.length;for(G<Q&&(Q=G),G-=Q,T.length-=Q;j[$++]=le[V++],--Q;);T.length===0&&(T.mode=21);break;case 26:if(G===0)break e;j[$++]=T.length,G--,T.mode=21;break;case 27:if(T.wrap){for(;L<32;){if(q===0)break e;q--,B|=z[W++]<<L,L+=8}if(K-=G,A.total_out+=K,T.total+=K,K&&(A.adler=T.check=T.flags?o(T.check,j,K,$-K):s(T.check,j,K,$-K)),K=G,(T.flags?B:g(B))!==T.check){A.msg="incorrect data check",T.mode=30;break}L=B=0}T.mode=28;case 28:if(T.wrap&&T.flags){for(;L<32;){if(q===0)break e;q--,B+=z[W++]<<L,L+=8}if(B!==(4294967295&T.total)){A.msg="incorrect length check",T.mode=30;break}L=B=0}T.mode=29;case 29:re=1;break e;case 30:re=-3;break e;case 31:return-4;case 32:default:return p}return A.next_out=$,A.avail_out=G,A.next_in=W,A.avail_in=q,T.hold=B,T.bits=L,(T.wsize||K!==A.avail_out&&T.mode<30&&(T.mode<27||I!==4))&&k(A,A.output,A.next_out,K-A.avail_out)?(T.mode=31,-4):(M-=A.avail_in,K-=A.avail_out,A.total_in+=M,A.total_out+=K,T.total+=K,T.wrap&&K&&(A.adler=T.check=T.flags?o(T.check,j,K,A.next_out-K):s(T.check,j,K,A.next_out-K)),A.data_type=T.bits+(T.last?64:0)+(T.mode===12?128:0)+(T.mode===20||T.mode===15?256:0),(M==0&&K===0||I===4)&&re===f&&(re=-5),re)},r.inflateEnd=function(A){if(!A||!A.state)return p;var I=A.state;return I.window&&(I.window=null),A.state=null,f},r.inflateGetHeader=function(A,I){var T;return A&&A.state&&2&(T=A.state).wrap?((T.head=I).done=!1,f):p},r.inflateSetDictionary=function(A,I){var T,z=I.length;return A&&A.state?(T=A.state).wrap!==0&&T.mode!==11?p:T.mode===11&&s(1,I,z,0)!==T.check?-3:k(A,I,z,z)?(T.mode=31,-4):(T.havedict=1,f):p},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,i,r){var a=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(d,h,f,p,w,v,b,g){var y,_,S,N,R,D,E,C,P,k=g.bits,A=0,I=0,T=0,z=0,j=0,W=0,$=0,q=0,G=0,B=0,L=null,M=0,K=new a.Buf16(16),Q=new a.Buf16(16),V=null,le=0;for(A=0;A<=15;A++)K[A]=0;for(I=0;I<p;I++)K[h[f+I]]++;for(j=k,z=15;1<=z&&K[z]===0;z--);if(z<j&&(j=z),z===0)return w[v++]=20971520,w[v++]=20971520,g.bits=1,0;for(T=1;T<z&&K[T]===0;T++);for(j<T&&(j=T),A=q=1;A<=15;A++)if(q<<=1,(q-=K[A])<0)return-1;if(0<q&&(d===0||z!==1))return-1;for(Q[1]=0,A=1;A<15;A++)Q[A+1]=Q[A]+K[A];for(I=0;I<p;I++)h[f+I]!==0&&(b[Q[h[f+I]]++]=I);if(D=d===0?(L=V=b,19):d===1?(L=s,M-=257,V=o,le-=257,256):(L=c,V=u,-1),A=T,R=v,$=I=B=0,S=-1,N=(G=1<<(W=j))-1,d===1&&852<G||d===2&&592<G)return 1;for(;;){for(E=A-$,P=b[I]<D?(C=0,b[I]):b[I]>D?(C=V[le+b[I]],L[M+b[I]]):(C=96,0),y=1<<A-$,T=_=1<<W;w[R+(B>>$)+(_-=y)]=E<<24|C<<16|P|0,_!==0;);for(y=1<<A-1;B&y;)y>>=1;if(y!==0?(B&=y-1,B+=y):B=0,I++,--K[A]==0){if(A===z)break;A=h[f+b[I]]}if(j<A&&(B&N)!==S){for($===0&&($=j),R+=T,q=1<<(W=A-$);W+$<z&&!((q-=K[W+$])<=0);)W++,q<<=1;if(G+=1<<W,d===1&&852<G||d===2&&592<G)return 1;w[S=B&N]=j<<24|W<<16|R-v|0}}return B!==0&&(w[R+B]=A-$<<24|64<<16|0),g.bits=j,0}},{"../utils/common":41}],51:[function(n,i,r){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,i,r){var a=n("../utils/common"),s=0,o=1;function c(te){for(var ae=te.length;0<=--ae;)te[ae]=0}var u=0,d=29,h=256,f=h+1+d,p=30,w=19,v=2*f+1,b=15,g=16,y=7,_=256,S=16,N=17,R=18,D=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],E=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],C=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],P=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],k=new Array(2*(f+2));c(k);var A=new Array(2*p);c(A);var I=new Array(512);c(I);var T=new Array(256);c(T);var z=new Array(d);c(z);var j,W,$,q=new Array(p);function G(te,ae,xe,Ce,_e){this.static_tree=te,this.extra_bits=ae,this.extra_base=xe,this.elems=Ce,this.max_length=_e,this.has_stree=te&&te.length}function B(te,ae){this.dyn_tree=te,this.max_code=0,this.stat_desc=ae}function L(te){return te<256?I[te]:I[256+(te>>>7)]}function M(te,ae){te.pending_buf[te.pending++]=255&ae,te.pending_buf[te.pending++]=ae>>>8&255}function K(te,ae,xe){te.bi_valid>g-xe?(te.bi_buf|=ae<<te.bi_valid&65535,M(te,te.bi_buf),te.bi_buf=ae>>g-te.bi_valid,te.bi_valid+=xe-g):(te.bi_buf|=ae<<te.bi_valid&65535,te.bi_valid+=xe)}function Q(te,ae,xe){K(te,xe[2*ae],xe[2*ae+1])}function V(te,ae){for(var xe=0;xe|=1&te,te>>>=1,xe<<=1,0<--ae;);return xe>>>1}function le(te,ae,xe){var Ce,_e,oe=new Array(b+1),pe=0;for(Ce=1;Ce<=b;Ce++)oe[Ce]=pe=pe+xe[Ce-1]<<1;for(_e=0;_e<=ae;_e++){var Se=te[2*_e+1];Se!==0&&(te[2*_e]=V(oe[Se]++,Se))}}function ge(te){var ae;for(ae=0;ae<f;ae++)te.dyn_ltree[2*ae]=0;for(ae=0;ae<p;ae++)te.dyn_dtree[2*ae]=0;for(ae=0;ae<w;ae++)te.bl_tree[2*ae]=0;te.dyn_ltree[2*_]=1,te.opt_len=te.static_len=0,te.last_lit=te.matches=0}function ye(te){8<te.bi_valid?M(te,te.bi_buf):0<te.bi_valid&&(te.pending_buf[te.pending++]=te.bi_buf),te.bi_buf=0,te.bi_valid=0}function be(te,ae,xe,Ce){var _e=2*ae,oe=2*xe;return te[_e]<te[oe]||te[_e]===te[oe]&&Ce[ae]<=Ce[xe]}function Le(te,ae,xe){for(var Ce=te.heap[xe],_e=xe<<1;_e<=te.heap_len&&(_e<te.heap_len&&be(ae,te.heap[_e+1],te.heap[_e],te.depth)&&_e++,!be(ae,Ce,te.heap[_e],te.depth));)te.heap[xe]=te.heap[_e],xe=_e,_e<<=1;te.heap[xe]=Ce}function ue(te,ae,xe){var Ce,_e,oe,pe,Se=0;if(te.last_lit!==0)for(;Ce=te.pending_buf[te.d_buf+2*Se]<<8|te.pending_buf[te.d_buf+2*Se+1],_e=te.pending_buf[te.l_buf+Se],Se++,Ce===0?Q(te,_e,ae):(Q(te,(oe=T[_e])+h+1,ae),(pe=D[oe])!==0&&K(te,_e-=z[oe],pe),Q(te,oe=L(--Ce),xe),(pe=E[oe])!==0&&K(te,Ce-=q[oe],pe)),Se<te.last_lit;);Q(te,_,ae)}function ke(te,ae){var xe,Ce,_e,oe=ae.dyn_tree,pe=ae.stat_desc.static_tree,Se=ae.stat_desc.has_stree,De=ae.stat_desc.elems,Ve=-1;for(te.heap_len=0,te.heap_max=v,xe=0;xe<De;xe++)oe[2*xe]!==0?(te.heap[++te.heap_len]=Ve=xe,te.depth[xe]=0):oe[2*xe+1]=0;for(;te.heap_len<2;)oe[2*(_e=te.heap[++te.heap_len]=Ve<2?++Ve:0)]=1,te.depth[_e]=0,te.opt_len--,Se&&(te.static_len-=pe[2*_e+1]);for(ae.max_code=Ve,xe=te.heap_len>>1;1<=xe;xe--)Le(te,oe,xe);for(_e=De;xe=te.heap[1],te.heap[1]=te.heap[te.heap_len--],Le(te,oe,1),Ce=te.heap[1],te.heap[--te.heap_max]=xe,te.heap[--te.heap_max]=Ce,oe[2*_e]=oe[2*xe]+oe[2*Ce],te.depth[_e]=(te.depth[xe]>=te.depth[Ce]?te.depth[xe]:te.depth[Ce])+1,oe[2*xe+1]=oe[2*Ce+1]=_e,te.heap[1]=_e++,Le(te,oe,1),2<=te.heap_len;);te.heap[--te.heap_max]=te.heap[1],function(de,Me){var Fe,Ge,ut,nt,yt,Be,Ze=Me.dyn_tree,ot=Me.max_code,St=Me.stat_desc.static_tree,bt=Me.stat_desc.has_stree,At=Me.stat_desc.extra_bits,Qt=Me.stat_desc.extra_base,Mt=Me.stat_desc.max_length,xt=0;for(nt=0;nt<=b;nt++)de.bl_count[nt]=0;for(Ze[2*de.heap[de.heap_max]+1]=0,Fe=de.heap_max+1;Fe<v;Fe++)Mt<(nt=Ze[2*Ze[2*(Ge=de.heap[Fe])+1]+1]+1)&&(nt=Mt,xt++),Ze[2*Ge+1]=nt,ot<Ge||(de.bl_count[nt]++,yt=0,Qt<=Ge&&(yt=At[Ge-Qt]),Be=Ze[2*Ge],de.opt_len+=Be*(nt+yt),bt&&(de.static_len+=Be*(St[2*Ge+1]+yt)));if(xt!==0){do{for(nt=Mt-1;de.bl_count[nt]===0;)nt--;de.bl_count[nt]--,de.bl_count[nt+1]+=2,de.bl_count[Mt]--,xt-=2}while(0<xt);for(nt=Mt;nt!==0;nt--)for(Ge=de.bl_count[nt];Ge!==0;)ot<(ut=de.heap[--Fe])||(Ze[2*ut+1]!==nt&&(de.opt_len+=(nt-Ze[2*ut+1])*Ze[2*ut],Ze[2*ut+1]=nt),Ge--)}}(te,ae),le(oe,Ve,te.bl_count)}function X(te,ae,xe){var Ce,_e,oe=-1,pe=ae[1],Se=0,De=7,Ve=4;for(pe===0&&(De=138,Ve=3),ae[2*(xe+1)+1]=65535,Ce=0;Ce<=xe;Ce++)_e=pe,pe=ae[2*(Ce+1)+1],++Se<De&&_e===pe||(Se<Ve?te.bl_tree[2*_e]+=Se:_e!==0?(_e!==oe&&te.bl_tree[2*_e]++,te.bl_tree[2*S]++):Se<=10?te.bl_tree[2*N]++:te.bl_tree[2*R]++,oe=_e,Ve=(Se=0)===pe?(De=138,3):_e===pe?(De=6,3):(De=7,4))}function re(te,ae,xe){var Ce,_e,oe=-1,pe=ae[1],Se=0,De=7,Ve=4;for(pe===0&&(De=138,Ve=3),Ce=0;Ce<=xe;Ce++)if(_e=pe,pe=ae[2*(Ce+1)+1],!(++Se<De&&_e===pe)){if(Se<Ve)for(;Q(te,_e,te.bl_tree),--Se!=0;);else _e!==0?(_e!==oe&&(Q(te,_e,te.bl_tree),Se--),Q(te,S,te.bl_tree),K(te,Se-3,2)):Se<=10?(Q(te,N,te.bl_tree),K(te,Se-3,3)):(Q(te,R,te.bl_tree),K(te,Se-11,7));oe=_e,Ve=(Se=0)===pe?(De=138,3):_e===pe?(De=6,3):(De=7,4)}}c(q);var Ee=!1;function ne(te,ae,xe,Ce){K(te,(u<<1)+(Ce?1:0),3),function(_e,oe,pe,Se){ye(_e),Se&&(M(_e,pe),M(_e,~pe)),a.arraySet(_e.pending_buf,_e.window,oe,pe,_e.pending),_e.pending+=pe}(te,ae,xe,!0)}r._tr_init=function(te){Ee||(function(){var ae,xe,Ce,_e,oe,pe=new Array(b+1);for(_e=Ce=0;_e<d-1;_e++)for(z[_e]=Ce,ae=0;ae<1<<D[_e];ae++)T[Ce++]=_e;for(T[Ce-1]=_e,_e=oe=0;_e<16;_e++)for(q[_e]=oe,ae=0;ae<1<<E[_e];ae++)I[oe++]=_e;for(oe>>=7;_e<p;_e++)for(q[_e]=oe<<7,ae=0;ae<1<<E[_e]-7;ae++)I[256+oe++]=_e;for(xe=0;xe<=b;xe++)pe[xe]=0;for(ae=0;ae<=143;)k[2*ae+1]=8,ae++,pe[8]++;for(;ae<=255;)k[2*ae+1]=9,ae++,pe[9]++;for(;ae<=279;)k[2*ae+1]=7,ae++,pe[7]++;for(;ae<=287;)k[2*ae+1]=8,ae++,pe[8]++;for(le(k,f+1,pe),ae=0;ae<p;ae++)A[2*ae+1]=5,A[2*ae]=V(ae,5);j=new G(k,D,h+1,f,b),W=new G(A,E,0,p,b),$=new G(new Array(0),C,0,w,y)}(),Ee=!0),te.l_desc=new B(te.dyn_ltree,j),te.d_desc=new B(te.dyn_dtree,W),te.bl_desc=new B(te.bl_tree,$),te.bi_buf=0,te.bi_valid=0,ge(te)},r._tr_stored_block=ne,r._tr_flush_block=function(te,ae,xe,Ce){var _e,oe,pe=0;0<te.level?(te.strm.data_type===2&&(te.strm.data_type=function(Se){var De,Ve=4093624447;for(De=0;De<=31;De++,Ve>>>=1)if(1&Ve&&Se.dyn_ltree[2*De]!==0)return s;if(Se.dyn_ltree[18]!==0||Se.dyn_ltree[20]!==0||Se.dyn_ltree[26]!==0)return o;for(De=32;De<h;De++)if(Se.dyn_ltree[2*De]!==0)return o;return s}(te)),ke(te,te.l_desc),ke(te,te.d_desc),pe=function(Se){var De;for(X(Se,Se.dyn_ltree,Se.l_desc.max_code),X(Se,Se.dyn_dtree,Se.d_desc.max_code),ke(Se,Se.bl_desc),De=w-1;3<=De&&Se.bl_tree[2*P[De]+1]===0;De--);return Se.opt_len+=3*(De+1)+5+5+4,De}(te),_e=te.opt_len+3+7>>>3,(oe=te.static_len+3+7>>>3)<=_e&&(_e=oe)):_e=oe=xe+5,xe+4<=_e&&ae!==-1?ne(te,ae,xe,Ce):te.strategy===4||oe===_e?(K(te,2+(Ce?1:0),3),ue(te,k,A)):(K(te,4+(Ce?1:0),3),function(Se,De,Ve,de){var Me;for(K(Se,De-257,5),K(Se,Ve-1,5),K(Se,de-4,4),Me=0;Me<de;Me++)K(Se,Se.bl_tree[2*P[Me]+1],3);re(Se,Se.dyn_ltree,De-1),re(Se,Se.dyn_dtree,Ve-1)}(te,te.l_desc.max_code+1,te.d_desc.max_code+1,pe+1),ue(te,te.dyn_ltree,te.dyn_dtree)),ge(te),Ce&&ye(te)},r._tr_tally=function(te,ae,xe){return te.pending_buf[te.d_buf+2*te.last_lit]=ae>>>8&255,te.pending_buf[te.d_buf+2*te.last_lit+1]=255&ae,te.pending_buf[te.l_buf+te.last_lit]=255&xe,te.last_lit++,ae===0?te.dyn_ltree[2*xe]++:(te.matches++,ae--,te.dyn_ltree[2*(T[xe]+h+1)]++,te.dyn_dtree[2*L(ae)]++),te.last_lit===te.lit_bufsize-1},r._tr_align=function(te){K(te,2,3),Q(te,_,k),function(ae){ae.bi_valid===16?(M(ae,ae.bi_buf),ae.bi_buf=0,ae.bi_valid=0):8<=ae.bi_valid&&(ae.pending_buf[ae.pending++]=255&ae.bi_buf,ae.bi_buf>>=8,ae.bi_valid-=8)}(te)}},{"../utils/common":41}],53:[function(n,i,r){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,i,r){(function(a){(function(s,o){if(!s.setImmediate){var c,u,d,h,f=1,p={},w=!1,v=s.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(s);b=b&&b.setTimeout?b:s,c={}.toString.call(s.process)==="[object process]"?function(S){process.nextTick(function(){y(S)})}:function(){if(s.postMessage&&!s.importScripts){var S=!0,N=s.onmessage;return s.onmessage=function(){S=!1},s.postMessage("","*"),s.onmessage=N,S}}()?(h="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",_,!1):s.attachEvent("onmessage",_),function(S){s.postMessage(h+S,"*")}):s.MessageChannel?((d=new MessageChannel).port1.onmessage=function(S){y(S.data)},function(S){d.port2.postMessage(S)}):v&&"onreadystatechange"in v.createElement("script")?(u=v.documentElement,function(S){var N=v.createElement("script");N.onreadystatechange=function(){y(S),N.onreadystatechange=null,u.removeChild(N),N=null},u.appendChild(N)}):function(S){setTimeout(y,0,S)},b.setImmediate=function(S){typeof S!="function"&&(S=new Function(""+S));for(var N=new Array(arguments.length-1),R=0;R<N.length;R++)N[R]=arguments[R+1];var D={callback:S,args:N};return p[f]=D,c(f),f++},b.clearImmediate=g}function g(S){delete p[S]}function y(S){if(w)setTimeout(y,0,S);else{var N=p[S];if(N){w=!0;try{(function(R){var D=R.callback,E=R.args;switch(E.length){case 0:D();break;case 1:D(E[0]);break;case 2:D(E[0],E[1]);break;case 3:D(E[0],E[1],E[2]);break;default:D.apply(o,E)}})(N)}finally{g(S),w=!1}}}}function _(S){S.source===s&&typeof S.data=="string"&&S.data.indexOf(h)===0&&y(+S.data.slice(h.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof zt<"u"?zt:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Yie);var kDe=Yie.exports,CDe=Q6,EDe=kDe;YN.openArrayBuffer=TDe;YN.splitPath=DDe;YN.joinPath=PDe;function TDe(t){return EDe.loadAsync(t).then(function(e){function n(s){return e.file(s)!==null}function i(s,o){return e.file(s).async("uint8array").then(function(c){if(o==="base64")return CDe.fromByteArray(c);if(o){var u=new TextDecoder(o);return u.decode(c)}else return c})}function r(s,o){e.file(s,o)}function a(){return e.generateAsync({type:"arraybuffer"})}return{exists:n,read:i,write:r,toArrayBuffer:a}})}function DDe(t){var e=t.lastIndexOf("/");return e===-1?{dirname:"",basename:t}:{dirname:t.substring(0,e),basename:t.substring(e+1)}}function PDe(){var t=Array.prototype.filter.call(arguments,function(n){return n}),e=[];return t.forEach(function(n){/^\//.test(n)?e=[n]:e.push(n)}),e.join("/")}var TM={},_f={},Mw={},e8=wr;Mw.Element=Bw;Mw.element=function(t,e,n){return new Bw(t,e,n)};Mw.text=function(t){return{type:"text",value:t}};var Jie=Mw.emptyElement={first:function(){return null},firstOrEmpty:function(){return Jie},attributes:{},children:[]};function Bw(t,e,n){this.type="element",this.name=t,this.attributes=e||{},this.children=n||[]}Bw.prototype.first=function(t){return e8.find(this.children,function(e){return e.name===t})};Bw.prototype.firstOrEmpty=function(t){return this.first(t)||Jie};Bw.prototype.getElementsByTagName=function(t){var e=e8.filter(this.children,function(n){return n.name===t});return Zie(e)};Bw.prototype.text=function(){if(this.children.length===0)return"";if(this.children.length!==1||this.children[0].type!=="text")throw new Error("Not implemented");return this.children[0].value};var IDe={getElementsByTagName:function(t){return Zie(e8.flatten(this.map(function(e){return e.getElementsByTagName(t)},!0)))}};function Zie(t){return e8.extend(t,IDe)}var Qie={},DM={},t8={},kd={},Sf={};function RDe(t,e,n){if(n===void 0&&(n=Array.prototype),t&&typeof n.find=="function")return n.find.call(t,e);for(var i=0;i<t.length;i++)if(Object.prototype.hasOwnProperty.call(t,i)){var r=t[i];if(e.call(void 0,r,i,t))return r}}function PM(t,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(t):t}function LDe(t,e){if(t===null||typeof t!="object")throw new TypeError("target is not an object");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}var ere=PM({HTML:"text/html",isHTML:function(t){return t===ere.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),tre=PM({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===tre.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});Sf.assign=LDe;Sf.find=RDe;Sf.freeze=PM;Sf.MIME_TYPE=ere;Sf.NAMESPACE=tre;var nre=Sf,yd=nre.find,__=nre.NAMESPACE;function FDe(t){return t!==""}function ODe(t){return t?t.split(/[\t\n\f\r ]+/).filter(FDe):[]}function UDe(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function kH(t){if(!t)return[];var e=ODe(t);return Object.keys(e.reduce(UDe,{}))}function MDe(t){return function(e){return t&&t.indexOf(e)!==-1}}function JN(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}function wo(t,e){var n=t.prototype;if(!(n instanceof e)){let i=function(){};i.prototype=e.prototype,i=new i,JN(n,i),t.prototype=n=i}n.constructor!=t&&(typeof t!="function"&&console.error("unknown Class:"+t),n.constructor=t)}var xo={},lc=xo.ELEMENT_NODE=1,uw=xo.ATTRIBUTE_NODE=2,vE=xo.TEXT_NODE=3,ire=xo.CDATA_SECTION_NODE=4,rre=xo.ENTITY_REFERENCE_NODE=5,BDe=xo.ENTITY_NODE=6,are=xo.PROCESSING_INSTRUCTION_NODE=7,sre=xo.COMMENT_NODE=8,ore=xo.DOCUMENT_NODE=9,lre=xo.DOCUMENT_TYPE_NODE=10,mf=xo.DOCUMENT_FRAGMENT_NODE=11,zDe=xo.NOTATION_NODE=12,hs={},ha={};hs.INDEX_SIZE_ERR=(ha[1]="Index size error",1);hs.DOMSTRING_SIZE_ERR=(ha[2]="DOMString size error",2);var io=hs.HIERARCHY_REQUEST_ERR=(ha[3]="Hierarchy request error",3);hs.WRONG_DOCUMENT_ERR=(ha[4]="Wrong document",4);hs.INVALID_CHARACTER_ERR=(ha[5]="Invalid character",5);hs.NO_DATA_ALLOWED_ERR=(ha[6]="No data allowed",6);hs.NO_MODIFICATION_ALLOWED_ERR=(ha[7]="No modification allowed",7);var cre=hs.NOT_FOUND_ERR=(ha[8]="Not found",8);hs.NOT_SUPPORTED_ERR=(ha[9]="Not supported",9);var CH=hs.INUSE_ATTRIBUTE_ERR=(ha[10]="Attribute in use",10);hs.INVALID_STATE_ERR=(ha[11]="Invalid state",11);hs.SYNTAX_ERR=(ha[12]="Syntax error",12);hs.INVALID_MODIFICATION_ERR=(ha[13]="Invalid modification",13);hs.NAMESPACE_ERR=(ha[14]="Invalid namespace",14);hs.INVALID_ACCESS_ERR=(ha[15]="Invalid access",15);function pr(t,e){if(e instanceof Error)var n=e;else n=this,Error.call(this,ha[t]),this.message=ha[t],Error.captureStackTrace&&Error.captureStackTrace(this,pr);return n.code=t,e&&(this.message=this.message+": "+e),n}pr.prototype=Error.prototype;JN(hs,pr);function nf(){}nf.prototype={length:0,item:function(t){return t>=0&&t<this.length?this[t]:null},toString:function(t,e){for(var n=[],i=0;i<this.length;i++)mv(this[i],n,t,e);return n.join("")},filter:function(t){return Array.prototype.filter.call(this,t)},indexOf:function(t){return Array.prototype.indexOf.call(this,t)}};function dw(t,e){this._node=t,this._refresh=e,IM(this)}function IM(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!==e){var n=t._refresh(t._node);if(xre(t,"length",n.length),!t.$$length||n.length<t.$$length)for(var i=n.length;i in t;i++)Object.prototype.hasOwnProperty.call(t,i)&&delete t[i];JN(n,t),t._inc=e}}dw.prototype.item=function(t){return IM(this),this[t]||null};wo(dw,nf);function bE(){}function ure(t,e){for(var n=t.length;n--;)if(t[n]===e)return n}function EH(t,e,n,i){if(i?e[ure(e,i)]=n:e[e.length++]=n,t){n.ownerElement=t;var r=t.ownerDocument;r&&(i&&fre(r,t,i),jDe(r,t,n))}}function TH(t,e,n){var i=ure(e,n);if(i>=0){for(var r=e.length-1;i<r;)e[i]=e[++i];if(e.length=r,t){var a=t.ownerDocument;a&&(fre(a,t,n),n.ownerElement=null)}}else throw new pr(cre,new Error(t.tagName+"@"+n))}bE.prototype={length:0,item:nf.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var n=this[e];if(n.nodeName==t)return n}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new pr(CH);var n=this.getNamedItem(t.nodeName);return EH(this._ownerElement,this,t,n),n},setNamedItemNS:function(t){var e=t.ownerElement,n;if(e&&e!=this._ownerElement)throw new pr(CH);return n=this.getNamedItemNS(t.namespaceURI,t.localName),EH(this._ownerElement,this,t,n),n},removeNamedItem:function(t){var e=this.getNamedItem(t);return TH(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var n=this.getNamedItemNS(t,e);return TH(this._ownerElement,this,n),n},getNamedItemNS:function(t,e){for(var n=this.length;n--;){var i=this[n];if(i.localName==e&&i.namespaceURI==t)return i}return null}};function dre(){}dre.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,n){var i=new ZN;if(i.implementation=this,i.childNodes=new nf,i.doctype=n||null,n&&i.appendChild(n),e){var r=i.createElementNS(t,e);i.appendChild(r)}return i},createDocumentType:function(t,e,n){var i=new n8;return i.name=t,i.nodeName=t,i.publicId=e||"",i.systemId=n||"",i}};function Kn(){}Kn.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return wE(this,t,e)},replaceChild:function(t,e){wE(this,t,e,mre),e&&this.removeChild(e)},removeChild:function(t){return pre(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return sO(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==vE&&t.nodeType==vE?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var n=e._nsMap;if(n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)&&n[i]===t)return i}e=e.nodeType==uw?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var n=e._nsMap;if(n&&Object.prototype.hasOwnProperty.call(n,t))return n[t];e=e.nodeType==uw?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function hre(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}JN(xo,Kn);JN(xo,Kn.prototype);function S_(t,e){if(e(t))return!0;if(t=t.firstChild)do if(S_(t,e))return!0;while(t=t.nextSibling)}function ZN(){this.ownerDocument=this}function jDe(t,e,n){t&&t._inc++;var i=n.namespaceURI;i===__.XMLNS&&(e._nsMap[n.prefix?n.localName:""]=n.value)}function fre(t,e,n,i){t&&t._inc++;var r=n.namespaceURI;r===__.XMLNS&&delete e._nsMap[n.prefix?n.localName:""]}function RM(t,e,n){if(t&&t._inc){t._inc++;var i=e.childNodes;if(n)i[i.length++]=n;else{for(var r=e.firstChild,a=0;r;)i[a++]=r,r=r.nextSibling;i.length=a,delete i[i.length]}}}function pre(t,e){var n=e.previousSibling,i=e.nextSibling;return n?n.nextSibling=i:t.firstChild=i,i?i.previousSibling=n:t.lastChild=n,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,RM(t.ownerDocument,t),e}function $De(t){return t&&(t.nodeType===Kn.DOCUMENT_NODE||t.nodeType===Kn.DOCUMENT_FRAGMENT_NODE||t.nodeType===Kn.ELEMENT_NODE)}function WDe(t){return t&&(vd(t)||LM(t)||gf(t)||t.nodeType===Kn.DOCUMENT_FRAGMENT_NODE||t.nodeType===Kn.COMMENT_NODE||t.nodeType===Kn.PROCESSING_INSTRUCTION_NODE)}function gf(t){return t&&t.nodeType===Kn.DOCUMENT_TYPE_NODE}function vd(t){return t&&t.nodeType===Kn.ELEMENT_NODE}function LM(t){return t&&t.nodeType===Kn.TEXT_NODE}function DH(t,e){var n=t.childNodes||[];if(yd(n,vd)||gf(e))return!1;var i=yd(n,gf);return!(e&&i&&n.indexOf(i)>n.indexOf(e))}function PH(t,e){var n=t.childNodes||[];function i(a){return vd(a)&&a!==e}if(yd(n,i))return!1;var r=yd(n,gf);return!(e&&r&&n.indexOf(r)>n.indexOf(e))}function qDe(t,e,n){if(!$De(t))throw new pr(io,"Unexpected parent node type "+t.nodeType);if(n&&n.parentNode!==t)throw new pr(cre,"child not in parent");if(!WDe(e)||gf(e)&&t.nodeType!==Kn.DOCUMENT_NODE)throw new pr(io,"Unexpected node type "+e.nodeType+" for parent node type "+t.nodeType)}function HDe(t,e,n){var i=t.childNodes||[],r=e.childNodes||[];if(e.nodeType===Kn.DOCUMENT_FRAGMENT_NODE){var a=r.filter(vd);if(a.length>1||yd(r,LM))throw new pr(io,"More than one element or text in fragment");if(a.length===1&&!DH(t,n))throw new pr(io,"Element in fragment can not be inserted before doctype")}if(vd(e)&&!DH(t,n))throw new pr(io,"Only one element can be added and only after doctype");if(gf(e)){if(yd(i,gf))throw new pr(io,"Only one doctype is allowed");var s=yd(i,vd);if(n&&i.indexOf(s)<i.indexOf(n))throw new pr(io,"Doctype can only be inserted before an element");if(!n&&s)throw new pr(io,"Doctype can not be appended since element is present")}}function mre(t,e,n){var i=t.childNodes||[],r=e.childNodes||[];if(e.nodeType===Kn.DOCUMENT_FRAGMENT_NODE){var a=r.filter(vd);if(a.length>1||yd(r,LM))throw new pr(io,"More than one element or text in fragment");if(a.length===1&&!PH(t,n))throw new pr(io,"Element in fragment can not be inserted before doctype")}if(vd(e)&&!PH(t,n))throw new pr(io,"Only one element can be added and only after doctype");if(gf(e)){if(yd(i,function(c){return gf(c)&&c!==n}))throw new pr(io,"Only one doctype is allowed");var s=yd(i,vd);if(n&&i.indexOf(s)<i.indexOf(n))throw new pr(io,"Doctype can only be inserted before an element")}}function wE(t,e,n,i){qDe(t,e,n),t.nodeType===Kn.DOCUMENT_NODE&&(i||HDe)(t,e,n);var r=e.parentNode;if(r&&r.removeChild(e),e.nodeType===mf){var a=e.firstChild;if(a==null)return e;var s=e.lastChild}else a=s=e;var o=n?n.previousSibling:t.lastChild;a.previousSibling=o,s.nextSibling=n,o?o.nextSibling=a:t.firstChild=a,n==null?t.lastChild=s:n.previousSibling=s;do{a.parentNode=t;var c=t.ownerDocument||t;A_(a,c)}while(a!==s&&(a=a.nextSibling));return RM(t.ownerDocument||t,t),e.nodeType==mf&&(e.firstChild=e.lastChild=null),e}function A_(t,e){if(t.ownerDocument!==e){if(t.ownerDocument=e,t.nodeType===lc&&t.attributes)for(var n=0;n<t.attributes.length;n++){var i=t.attributes.item(n);i&&(i.ownerDocument=e)}for(var r=t.firstChild;r;)A_(r,e),r=r.nextSibling}}function VDe(t,e){e.parentNode&&e.parentNode.removeChild(e),e.parentNode=t,e.previousSibling=t.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:t.firstChild=e,t.lastChild=e,RM(t.ownerDocument,t,e);var n=t.ownerDocument||t;return A_(e,n),e}ZN.prototype={nodeName:"#document",nodeType:ore,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==mf){for(var n=t.firstChild;n;){var i=n.nextSibling;this.insertBefore(n,e),n=i}return t}return wE(this,t,e),A_(t,this),this.documentElement===null&&t.nodeType===lc&&(this.documentElement=t),t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),pre(this,t)},replaceChild:function(t,e){wE(this,t,e,mre),A_(t,this),e&&this.removeChild(e),vd(t)&&(this.documentElement=t)},importNode:function(t,e){return wre(this,t,e)},getElementById:function(t){var e=null;return S_(this.documentElement,function(n){if(n.nodeType==lc&&n.getAttribute("id")==t)return e=n,!0}),e},getElementsByClassName:function(t){var e=kH(t);return new dw(this,function(n){var i=[];return e.length>0&&S_(n.documentElement,function(r){if(r!==n&&r.nodeType===lc){var a=r.getAttribute("class");if(a){var s=t===a;if(!s){var o=kH(a);s=e.every(MDe(o))}s&&i.push(r)}}}),i})},createElement:function(t){var e=new V0;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new nf;var n=e.attributes=new bE;return n._ownerElement=e,e},createDocumentFragment:function(){var t=new i8;return t.ownerDocument=this,t.childNodes=new nf,t},createTextNode:function(t){var e=new FM;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new OM;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new UM;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var n=new BM;return n.ownerDocument=this,n.tagName=n.nodeName=n.target=t,n.nodeValue=n.data=e,n},createAttribute:function(t){var e=new xE;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new MM;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var n=new V0,i=e.split(":"),r=n.attributes=new bE;return n.childNodes=new nf,n.ownerDocument=this,n.nodeName=e,n.tagName=e,n.namespaceURI=t,i.length==2?(n.prefix=i[0],n.localName=i[1]):n.localName=e,r._ownerElement=n,n},createAttributeNS:function(t,e){var n=new xE,i=e.split(":");return n.ownerDocument=this,n.nodeName=e,n.name=e,n.namespaceURI=t,n.specified=!0,i.length==2?(n.prefix=i[0],n.localName=i[1]):n.localName=e,n}};wo(ZN,Kn);function V0(){this._nsMap={}}V0.prototype={nodeType:lc,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var n=this.ownerDocument.createAttribute(t);n.value=n.nodeValue=""+e,this.setAttributeNode(n)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===mf?this.insertBefore(t,null):VDe(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);n&&this.removeAttributeNode(n)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);return n&&n.value||""},setAttributeNS:function(t,e,n){var i=this.ownerDocument.createAttributeNS(t,e);i.value=i.nodeValue=""+n,this.setAttributeNode(i)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new dw(this,function(e){var n=[];return S_(e,function(i){i!==e&&i.nodeType==lc&&(t==="*"||i.tagName==t)&&n.push(i)}),n})},getElementsByTagNameNS:function(t,e){return new dw(this,function(n){var i=[];return S_(n,function(r){r!==n&&r.nodeType===lc&&(t==="*"||r.namespaceURI===t)&&(e==="*"||r.localName==e)&&i.push(r)}),i})}};ZN.prototype.getElementsByTagName=V0.prototype.getElementsByTagName;ZN.prototype.getElementsByTagNameNS=V0.prototype.getElementsByTagNameNS;wo(V0,Kn);function xE(){}xE.prototype.nodeType=uw;wo(xE,Kn);function QN(){}QN.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(ha[io])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,n){var i=this.data.substring(0,t),r=this.data.substring(t+e);n=i+n+r,this.nodeValue=this.data=n,this.length=n.length}};wo(QN,Kn);function FM(){}FM.prototype={nodeName:"#text",nodeType:vE,splitText:function(t){var e=this.data,n=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var i=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}};wo(FM,QN);function OM(){}OM.prototype={nodeName:"#comment",nodeType:sre};wo(OM,QN);function UM(){}UM.prototype={nodeName:"#cdata-section",nodeType:ire};wo(UM,QN);function n8(){}n8.prototype.nodeType=lre;wo(n8,Kn);function gre(){}gre.prototype.nodeType=zDe;wo(gre,Kn);function yre(){}yre.prototype.nodeType=BDe;wo(yre,Kn);function MM(){}MM.prototype.nodeType=rre;wo(MM,Kn);function i8(){}i8.prototype.nodeName="#document-fragment";i8.prototype.nodeType=mf;wo(i8,Kn);function BM(){}BM.prototype.nodeType=are;wo(BM,Kn);function vre(){}vre.prototype.serializeToString=function(t,e,n){return bre.call(t,e,n)};Kn.prototype.toString=bre;function bre(t,e){var n=[],i=this.nodeType==9&&this.documentElement||this,r=i.prefix,a=i.namespaceURI;if(a&&r==null){var r=i.lookupPrefix(a);if(r==null)var s=[{namespace:a,prefix:null}]}return mv(this,n,t,e,s),n.join("")}function IH(t,e,n){var i=t.prefix||"",r=t.namespaceURI;if(!r||i==="xml"&&r===__.XML||r===__.XMLNS)return!1;for(var a=n.length;a--;){var s=n[a];if(s.prefix===i)return s.namespace!==r}return!0}function WI(t,e,n){t.push(" ",e,'="',n.replace(/[<>&"\t\n\r]/g,hre),'"')}function mv(t,e,n,i,r){if(r||(r=[]),i)if(t=i(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case lc:var a=t.attributes,s=a.length,g=t.firstChild,o=t.tagName;n=__.isHTML(t.namespaceURI)||n;var c=o;if(!n&&!t.prefix&&t.namespaceURI){for(var u,d=0;d<a.length;d++)if(a.item(d).name==="xmlns"){u=a.item(d).value;break}if(!u)for(var h=r.length-1;h>=0;h--){var f=r[h];if(f.prefix===""&&f.namespace===t.namespaceURI){u=f.namespace;break}}if(u!==t.namespaceURI)for(var h=r.length-1;h>=0;h--){var f=r[h];if(f.namespace===t.namespaceURI){f.prefix&&(c=f.prefix+":"+o);break}}}e.push("<",c);for(var p=0;p<s;p++){var w=a.item(p);w.prefix=="xmlns"?r.push({prefix:w.localName,namespace:w.value}):w.nodeName=="xmlns"&&r.push({prefix:"",namespace:w.value})}for(var p=0;p<s;p++){var w=a.item(p);if(IH(w,n,r)){var v=w.prefix||"",b=w.namespaceURI;WI(e,v?"xmlns:"+v:"xmlns",b),r.push({prefix:v,namespace:b})}mv(w,e,n,i,r)}if(o===c&&IH(t,n,r)){var v=t.prefix||"",b=t.namespaceURI;WI(e,v?"xmlns:"+v:"xmlns",b),r.push({prefix:v,namespace:b})}if(g||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(o)){if(e.push(">"),n&&/^script$/i.test(o))for(;g;)g.data?e.push(g.data):mv(g,e,n,i,r.slice()),g=g.nextSibling;else for(;g;)mv(g,e,n,i,r.slice()),g=g.nextSibling;e.push("</",c,">")}else e.push("/>");return;case ore:case mf:for(var g=t.firstChild;g;)mv(g,e,n,i,r.slice()),g=g.nextSibling;return;case uw:return WI(e,t.name,t.value);case vE:return e.push(t.data.replace(/[<&>]/g,hre));case ire:return e.push("<![CDATA[",t.data,"]]>");case sre:return e.push("<!--",t.data,"-->");case lre:var y=t.publicId,_=t.systemId;if(e.push("<!DOCTYPE ",t.name),y)e.push(" PUBLIC ",y),_&&_!="."&&e.push(" ",_),e.push(">");else if(_&&_!=".")e.push(" SYSTEM ",_,">");else{var S=t.internalSubset;S&&e.push(" [",S,"]"),e.push(">")}return;case are:return e.push("<?",t.target," ",t.data,"?>");case rre:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function wre(t,e,n){var i;switch(e.nodeType){case lc:i=e.cloneNode(!1),i.ownerDocument=t;case mf:break;case uw:n=!0;break}if(i||(i=e.cloneNode(!1)),i.ownerDocument=t,i.parentNode=null,n)for(var r=e.firstChild;r;)i.appendChild(wre(t,r,n)),r=r.nextSibling;return i}function sO(t,e,n){var i=new e.constructor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=e[r];typeof a!="object"&&a!=i[r]&&(i[r]=a)}switch(e.childNodes&&(i.childNodes=new nf),i.ownerDocument=t,i.nodeType){case lc:var s=e.attributes,o=i.attributes=new bE,c=s.length;o._ownerElement=i;for(var u=0;u<c;u++)i.setAttributeNode(sO(t,s.item(u),!0));break;case uw:n=!0}if(n)for(var d=e.firstChild;d;)i.appendChild(sO(t,d,n)),d=d.nextSibling;return i}function xre(t,e,n){t[e]=n}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case lc:case mf:var n=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&n.push(t(e)),e=e.nextSibling;return n.join("");default:return e.nodeValue}};Object.defineProperty(dw.prototype,"length",{get:function(){return IM(this),this.$$length}}),Object.defineProperty(Kn.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case lc:case mf:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),xre=function(e,n,i){e["$$"+n]=i}}}catch{}kd.DocumentType=n8;kd.DOMException=pr;kd.DOMImplementation=dre;kd.Element=V0;kd.Node=Kn;kd.NodeList=nf;kd.XMLSerializer=vre;var r8={},_re={};(function(t){var e=Sf.freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),t.entityMap=t.HTML_ENTITIES})(_re);var zM={},N_=Sf.NAMESPACE,oO=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,RH=new RegExp("[\\-\\.0-9"+oO.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),LH=new RegExp("^"+oO.source+RH.source+"*(?::"+oO.source+RH.source+"*)?$"),Cx=0,Gf=1,Oy=2,Ex=3,Uy=4,My=5,Tx=6,fk=7;function hw(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,hw)}hw.prototype=new Error;hw.prototype.name=hw.name;function Sre(){}Sre.prototype={parse:function(t,e,n){var i=this.domBuilder;i.startDocument(),Are(e,e={}),GDe(t,e,n,i,this.errorHandler),i.endDocument()}};function GDe(t,e,n,i,r){function a(j){if(j>65535){j-=65536;var W=55296+(j>>10),$=56320+(j&1023);return String.fromCharCode(W,$)}else return String.fromCharCode(j)}function s(j){var W=j.slice(1,-1);return Object.hasOwnProperty.call(n,W)?n[W]:W.charAt(0)==="#"?a(parseInt(W.substr(1).replace("x","0x"))):(r.error("entity not found:"+j),j)}function o(j){if(j>v){var W=t.substring(v,j).replace(/&#?\w+;/g,s);f&&c(v),i.characters(W,0,j-v),v=j}}function c(j,W){for(;j>=d&&(W=h.exec(t));)u=W.index,d=u+W[0].length,f.lineNumber++;f.columnNumber=j-u+1}for(var u=0,d=0,h=/.*(?:\r\n?|\n)|.*$/g,f=i.locator,p=[{currentNSMap:e}],w={},v=0;;){try{var b=t.indexOf("<",v);if(b<0){if(!t.substr(v).match(/^\s*$/)){var g=i.doc,y=g.createTextNode(t.substr(v));g.appendChild(y),i.currentElement=y}return}switch(b>v&&o(b),t.charAt(b+1)){case"/":var k=t.indexOf(">",b+3),_=t.substring(b+2,k).replace(/[ \t\n\r]+$/g,""),S=p.pop();k<0?(_=t.substring(b+2).replace(/[\s<].*/,""),r.error("end tag name: "+_+" is not complete:"+S.tagName),k=b+1+_.length):_.match(/\s</)&&(_=_.replace(/[\s<].*/,""),r.error("end tag name: "+_+" maybe not complete"),k=b+1+_.length);var N=S.localNSMap,R=S.tagName==_,D=R||S.tagName&&S.tagName.toLowerCase()==_.toLowerCase();if(D){if(i.endElement(S.uri,S.localName,_),N)for(var E in N)Object.prototype.hasOwnProperty.call(N,E)&&i.endPrefixMapping(E);R||r.fatalError("end tag name: "+_+" is not match the current start tagName:"+S.tagName)}else p.push(S);k++;break;case"?":f&&c(b),k=ZDe(t,b,i);break;case"!":f&&c(b),k=JDe(t,b,i,r);break;default:f&&c(b);var C=new Nre,P=p[p.length-1].currentNSMap,k=XDe(t,b,C,P,s,r),A=C.length;if(!C.closed&&YDe(t,k,C.tagName,w)&&(C.closed=!0,n.nbsp||r.warning("unclosed xml attribute")),f&&A){for(var I=FH(f,{}),T=0;T<A;T++){var z=C[T];c(z.offset),z.locator=FH(f,{})}i.locator=I,OH(C,i,P)&&p.push(C),i.locator=f}else OH(C,i,P)&&p.push(C);N_.isHTML(C.uri)&&!C.closed?k=KDe(t,k,C.tagName,s,i):k++}}catch(j){if(j instanceof hw)throw j;r.error("element parse error: "+j),k=-1}k>v?v=k:o(Math.max(b,v)+1)}}function FH(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function XDe(t,e,n,i,r,a){function s(f,p,w){n.attributeNames.hasOwnProperty(f)&&a.fatalError("Attribute "+f+" redefined"),n.addValue(f,p.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,r),w)}for(var o,c,u=++e,d=Cx;;){var h=t.charAt(u);switch(h){case"=":if(d===Gf)o=t.slice(e,u),d=Ex;else if(d===Oy)d=Ex;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(d===Ex||d===Gf)if(d===Gf&&(a.warning('attribute value must after "="'),o=t.slice(e,u)),e=u+1,u=t.indexOf(h,e),u>0)c=t.slice(e,u),s(o,c,e-1),d=My;else throw new Error("attribute value no end '"+h+"' match");else if(d==Uy)c=t.slice(e,u),s(o,c,e),a.warning('attribute "'+o+'" missed start quot('+h+")!!"),e=u+1,d=My;else throw new Error('attribute value must after "="');break;case"/":switch(d){case Cx:n.setTagName(t.slice(e,u));case My:case Tx:case fk:d=fk,n.closed=!0;case Uy:case Gf:break;case Oy:n.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),d==Cx&&n.setTagName(t.slice(e,u)),u;case">":switch(d){case Cx:n.setTagName(t.slice(e,u));case My:case Tx:case fk:break;case Uy:case Gf:c=t.slice(e,u),c.slice(-1)==="/"&&(n.closed=!0,c=c.slice(0,-1));case Oy:d===Oy&&(c=o),d==Uy?(a.warning('attribute "'+c+'" missed quot(")!'),s(o,c,e)):((!N_.isHTML(i[""])||!c.match(/^(?:disabled|checked|selected)$/i))&&a.warning('attribute "'+c+'" missed value!! "'+c+'" instead!!'),s(c,c,e));break;case Ex:throw new Error("attribute value missed!!")}return u;case"":h=" ";default:if(h<=" ")switch(d){case Cx:n.setTagName(t.slice(e,u)),d=Tx;break;case Gf:o=t.slice(e,u),d=Oy;break;case Uy:var c=t.slice(e,u);a.warning('attribute "'+c+'" missed quot(")!!'),s(o,c,e);case My:d=Tx;break}else switch(d){case Oy:n.tagName,(!N_.isHTML(i[""])||!o.match(/^(?:disabled|checked|selected)$/i))&&a.warning('attribute "'+o+'" missed value!! "'+o+'" instead2!!'),s(o,o,e),e=u,d=Gf;break;case My:a.warning('attribute space is required"'+o+'"!!');case Tx:d=Gf,e=u;break;case Ex:d=Uy,e=u;break;case fk:throw new Error("elements closed character '/' and '>' must be connected to")}}u++}}function OH(t,e,n){for(var i=t.tagName,r=null,h=t.length;h--;){var a=t[h],s=a.qName,o=a.value,f=s.indexOf(":");if(f>0)var c=a.prefix=s.slice(0,f),u=s.slice(f+1),d=c==="xmlns"&&u;else u=s,c=null,d=s==="xmlns"&&"";a.localName=u,d!==!1&&(r==null&&(r={},Are(n,n={})),n[d]=r[d]=o,a.uri=N_.XMLNS,e.startPrefixMapping(d,o))}for(var h=t.length;h--;){a=t[h];var c=a.prefix;c&&(c==="xml"&&(a.uri=N_.XML),c!=="xmlns"&&(a.uri=n[c||""]))}var f=i.indexOf(":");f>0?(c=t.prefix=i.slice(0,f),u=t.localName=i.slice(f+1)):(c=null,u=t.localName=i);var p=t.uri=n[c||""];if(e.startElement(p,u,i,t),t.closed){if(e.endElement(p,u,i),r)for(c in r)Object.prototype.hasOwnProperty.call(r,c)&&e.endPrefixMapping(c)}else return t.currentNSMap=n,t.localNSMap=r,!0}function KDe(t,e,n,i,r){if(/^(?:script|textarea)$/i.test(n)){var a=t.indexOf("</"+n+">",e),s=t.substring(e+1,a);if(/[&<]/.test(s))return/^script$/i.test(n)?(r.characters(s,0,s.length),a):(s=s.replace(/&#?\w+;/g,i),r.characters(s,0,s.length),a)}return e+1}function YDe(t,e,n,i){var r=i[n];return r==null&&(r=t.lastIndexOf("</"+n+">"),r<e&&(r=t.lastIndexOf("</"+n)),i[n]=r),r<e}function Are(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}function JDe(t,e,n,i){var r=t.charAt(e+2);switch(r){case"-":if(t.charAt(e+3)==="-"){var a=t.indexOf("-->",e+4);return a>e?(n.comment(t,e+4,a-e-4),a+3):(i.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var a=t.indexOf("]]>",e+9);return n.startCDATA(),n.characters(t,e+9,a-e-9),n.endCDATA(),a+3}var s=QDe(t,e),o=s.length;if(o>1&&/!doctype/i.test(s[0][0])){var c=s[1][0],u=!1,d=!1;o>3&&(/^public$/i.test(s[2][0])?(u=s[3][0],d=o>4&&s[4][0]):/^system$/i.test(s[2][0])&&(d=s[3][0]));var h=s[o-1];return n.startDTD(c,u,d),n.endDTD(),h.index+h[0].length}}return-1}function ZDe(t,e,n){var i=t.indexOf("?>",e);if(i){var r=t.substring(e,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return r?(r[0].length,n.processingInstruction(r[1],r[2]),i+2):-1}return-1}function Nre(){this.attributeNames={}}Nre.prototype={setTagName:function(t){if(!LH.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,n){if(!LH.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:n}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function QDe(t,e){var n,i=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(r.lastIndex=e,r.exec(t);n=r.exec(t);)if(i.push(n),n[1])return i}zM.XMLReader=Sre;zM.ParseError=hw;var e6e=Sf,t6e=kd,UH=_re,kre=zM,n6e=t6e.DOMImplementation,MH=e6e.NAMESPACE,i6e=kre.ParseError,r6e=kre.XMLReader;function Cre(t){return t.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function Ere(t){this.options=t||{locator:{}}}Ere.prototype.parseFromString=function(t,e){var n=this.options,i=new r6e,r=n.domBuilder||new e3,a=n.errorHandler,s=n.locator,o=n.xmlns||{},c=/\/x?html?$/.test(e),u=c?UH.HTML_ENTITIES:UH.XML_ENTITIES;s&&r.setDocumentLocator(s),i.errorHandler=a6e(a,r,s),i.domBuilder=n.domBuilder||r,c&&(o[""]=MH.HTML),o.xml=o.xml||MH.XML;var d=n.normalizeLineEndings||Cre;return t&&typeof t=="string"?i.parse(d(t),o,u):i.errorHandler.error("invalid doc source"),r.doc};function a6e(t,e,n){if(!t){if(e instanceof e3)return e;t=e}var i={},r=t instanceof Function;n=n||{};function a(s){var o=t[s];!o&&r&&(o=t.length==2?function(c){t(s,c)}:t),i[s]=o&&function(c){o("[xmldom "+s+"]	"+c+lO(n))}||function(){}}return a("warning"),a("error"),a("fatalError"),i}function e3(){this.cdata=!1}function By(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}e3.prototype={startDocument:function(){this.doc=new n6e().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,n,i){var r=this.doc,a=r.createElementNS(t,n||e),s=i.length;pk(this,a),this.currentElement=a,this.locator&&By(this.locator,a);for(var o=0;o<s;o++){var t=i.getURI(o),c=i.getValue(o),n=i.getQName(o),u=r.createAttributeNS(t,n);this.locator&&By(i.getLocator(o),u),u.value=u.nodeValue=c,a.setAttributeNode(u)}},endElement:function(t,e,n){var i=this.currentElement;i.tagName,this.currentElement=i.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var n=this.doc.createProcessingInstruction(t,e);this.locator&&By(this.locator,n),pk(this,n)},ignorableWhitespace:function(t,e,n){},characters:function(t,e,n){if(t=BH.apply(this,arguments),t){if(this.cdata)var i=this.doc.createCDATASection(t);else var i=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(t)&&this.doc.appendChild(i),this.locator&&By(this.locator,i)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,n){t=BH.apply(this,arguments);var i=this.doc.createComment(t);this.locator&&By(this.locator,i),pk(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,n){var i=this.doc.implementation;if(i&&i.createDocumentType){var r=i.createDocumentType(t,e,n);this.locator&&By(this.locator,r),pk(this,r),this.doc.doctype=r}},warning:function(t){console.warn("[xmldom warning]	"+t,lO(this.locator))},error:function(t){console.error("[xmldom error]	"+t,lO(this.locator))},fatalError:function(t){throw new i6e(t,this.locator)}};function lO(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function BH(t,e,n){return typeof t=="string"?t.substr(e,n):t.length>=e+n||e?new java.lang.String(t,e,n)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){e3.prototype[t]=function(){return null}});function pk(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}r8.__DOMHandler=e3;r8.normalizeLineEndings=Cre;r8.DOMParser=Ere;var Tre=kd;t8.DOMImplementation=Tre.DOMImplementation;t8.XMLSerializer=Tre.XMLSerializer;t8.DOMParser=r8.DOMParser;var s6e=t8,o6e=kd;function l6e(t){var e=null,n=new s6e.DOMParser({errorHandler:function(r,a){e={level:r,message:a}}}),i=n.parseFromString(t);if(e===null)return i;throw new Error(e.level+": "+e.message)}DM.parseFromString=l6e;DM.Node=o6e.Node;var qI=fa,zH=wr,Dre=DM,Pre=Mw,c6e=Pre.Element;Qie.readString=u6e;var jH=Dre.Node;function u6e(t,e){e=e||{};try{var n=Dre.parseFromString(t,"text/xml")}catch(s){return qI.reject(s)}if(n.documentElement.tagName==="parsererror")return qI.resolve(new Error(n.documentElement.textContent));function i(s){switch(s.nodeType){case jH.ELEMENT_NODE:return r(s);case jH.TEXT_NODE:return Pre.text(s.nodeValue)}}function r(s){var o=a(s),c=[];zH.forEach(s.childNodes,function(d){var h=i(d);h&&c.push(h)});var u={};return zH.forEach(s.attributes,function(d){u[a(d)]=d.value}),new c6e(o,u,c)}function a(s){if(s.namespaceURI){var o=e[s.namespaceURI],c;return o?c=o+":":c="{"+s.namespaceURI+"}",c+s.localName}else return s.localName}return qI.resolve(i(n.documentElement))}var Ire={},h5={},Vd={},$H;function Jm(){return $H||($H=1,(function(){var t,e,n,i,r,a,s,o=[].slice,c={}.hasOwnProperty;t=function(){var u,d,h,f,p,w;if(w=arguments[0],p=2<=arguments.length?o.call(arguments,1):[],r(Object.assign))Object.assign.apply(null,arguments);else for(u=0,h=p.length;u<h;u++)if(f=p[u],f!=null)for(d in f)c.call(f,d)&&(w[d]=f[d]);return w},r=function(u){return!!u&&Object.prototype.toString.call(u)==="[object Function]"},a=function(u){var d;return!!u&&((d=typeof u)=="function"||d==="object")},n=function(u){return r(Array.isArray)?Array.isArray(u):Object.prototype.toString.call(u)==="[object Array]"},i=function(u){var d;if(n(u))return!u.length;for(d in u)if(c.call(u,d))return!1;return!0},s=function(u){var d,h;return a(u)&&(h=Object.getPrototypeOf(u))&&(d=h.constructor)&&typeof d=="function"&&d instanceof d&&Function.prototype.toString.call(d)===Function.prototype.toString.call(Object)},e=function(u){return r(u.valueOf)?u.valueOf():u},Vd.assign=t,Vd.isFunction=r,Vd.isObject=a,Vd.isArray=n,Vd.isEmpty=i,Vd.isPlainObject=s,Vd.getValue=e}).call(zt)),Vd}var HI={exports:{}},VI={exports:{}},GI={exports:{}},XI={exports:{}},WH;function Rre(){return WH||(WH=1,(function(){XI.exports=function(){function t(e,n,i){if(this.options=e.options,this.stringify=e.stringify,this.parent=e,n==null)throw new Error("Missing attribute name. "+this.debugInfo(n));if(i==null)throw new Error("Missing attribute value. "+this.debugInfo(n));this.name=this.stringify.attName(n),this.value=this.stringify.attValue(i)}return t.prototype.clone=function(){return Object.create(this)},t.prototype.toString=function(e){return this.options.writer.set(e).attribute(this)},t.prototype.debugInfo=function(e){return e=e||this.name,e==null?"parent: <"+this.parent.name+">":"attribute: {"+e+"}, parent: <"+this.parent.name+">"},t}()}).call(zt)),XI.exports}var qH;function a8(){return qH||(qH=1,(function(){var t,e,n,i,r,a,s=function(c,u){for(var d in u)o.call(u,d)&&(c[d]=u[d]);function h(){this.constructor=c}return h.prototype=u.prototype,c.prototype=new h,c.__super__=u.prototype,c},o={}.hasOwnProperty;a=Jm(),r=a.isObject,i=a.isFunction,n=a.getValue,e=_o(),t=Rre(),GI.exports=function(c){s(u,c);function u(d,h,f){if(u.__super__.constructor.call(this,d),h==null)throw new Error("Missing element name. "+this.debugInfo());this.name=this.stringify.eleName(h),this.attributes={},f!=null&&this.attribute(f),d.isDocument&&(this.isRoot=!0,this.documentObject=d,d.rootObject=this)}return u.prototype.clone=function(){var d,h,f,p;f=Object.create(this),f.isRoot&&(f.documentObject=null),f.attributes={},p=this.attributes;for(h in p)o.call(p,h)&&(d=p[h],f.attributes[h]=d.clone());return f.children=[],this.children.forEach(function(w){var v;return v=w.clone(),v.parent=f,f.children.push(v)}),f},u.prototype.attribute=function(d,h){var f,p;if(d!=null&&(d=n(d)),r(d))for(f in d)o.call(d,f)&&(p=d[f],this.attribute(f,p));else i(h)&&(h=h.apply()),(!this.options.skipNullAttributes||h!=null)&&(this.attributes[d]=new t(this,d,h));return this},u.prototype.removeAttribute=function(d){var h,f,p;if(d==null)throw new Error("Missing attribute name. "+this.debugInfo());if(d=n(d),Array.isArray(d))for(f=0,p=d.length;f<p;f++)h=d[f],delete this.attributes[h];else delete this.attributes[d];return this},u.prototype.toString=function(d){return this.options.writer.set(d).element(this)},u.prototype.att=function(d,h){return this.attribute(d,h)},u.prototype.a=function(d,h){return this.attribute(d,h)},u}(e)}).call(zt)),GI.exports}var KI={exports:{}},HH;function s8(){return HH||(HH=1,(function(){var t,e=function(i,r){for(var a in r)n.call(r,a)&&(i[a]=r[a]);function s(){this.constructor=i}return s.prototype=r.prototype,i.prototype=new s,i.__super__=r.prototype,i},n={}.hasOwnProperty;t=_o(),KI.exports=function(i){e(r,i);function r(a,s){if(r.__super__.constructor.call(this,a),s==null)throw new Error("Missing CDATA text. "+this.debugInfo());this.text=this.stringify.cdata(s)}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(a){return this.options.writer.set(a).cdata(this)},r}(t)}).call(zt)),KI.exports}var YI={exports:{}},VH;function o8(){return VH||(VH=1,(function(){var t,e=function(i,r){for(var a in r)n.call(r,a)&&(i[a]=r[a]);function s(){this.constructor=i}return s.prototype=r.prototype,i.prototype=new s,i.__super__=r.prototype,i},n={}.hasOwnProperty;t=_o(),YI.exports=function(i){e(r,i);function r(a,s){if(r.__super__.constructor.call(this,a),s==null)throw new Error("Missing comment text. "+this.debugInfo());this.text=this.stringify.comment(s)}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(a){return this.options.writer.set(a).comment(this)},r}(t)}).call(zt)),YI.exports}var JI={exports:{}},GH;function l8(){return GH||(GH=1,(function(){var t,e,n=function(r,a){for(var s in a)i.call(a,s)&&(r[s]=a[s]);function o(){this.constructor=r}return o.prototype=a.prototype,r.prototype=new o,r.__super__=a.prototype,r},i={}.hasOwnProperty;e=Jm().isObject,t=_o(),JI.exports=function(r){n(a,r);function a(s,o,c,u){var d;a.__super__.constructor.call(this,s),e(o)&&(d=o,o=d.version,c=d.encoding,u=d.standalone),o||(o="1.0"),this.version=this.stringify.xmlVersion(o),c!=null&&(this.encoding=this.stringify.xmlEncoding(c)),u!=null&&(this.standalone=this.stringify.xmlStandalone(u))}return a.prototype.toString=function(s){return this.options.writer.set(s).declaration(this)},a}(t)}).call(zt)),JI.exports}var ZI={exports:{}},QI={exports:{}},XH;function c8(){return XH||(XH=1,(function(){var t,e=function(i,r){for(var a in r)n.call(r,a)&&(i[a]=r[a]);function s(){this.constructor=i}return s.prototype=r.prototype,i.prototype=new s,i.__super__=r.prototype,i},n={}.hasOwnProperty;t=_o(),QI.exports=function(i){e(r,i);function r(a,s,o,c,u,d){if(r.__super__.constructor.call(this,a),s==null)throw new Error("Missing DTD element name. "+this.debugInfo());if(o==null)throw new Error("Missing DTD attribute name. "+this.debugInfo(s));if(!c)throw new Error("Missing DTD attribute type. "+this.debugInfo(s));if(!u)throw new Error("Missing DTD attribute default. "+this.debugInfo(s));if(u.indexOf("#")!==0&&(u="#"+u),!u.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(s));if(d&&!u.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(s));this.elementName=this.stringify.eleName(s),this.attributeName=this.stringify.attName(o),this.attributeType=this.stringify.dtdAttType(c),this.defaultValue=this.stringify.dtdAttDefault(d),this.defaultValueType=u}return r.prototype.toString=function(a){return this.options.writer.set(a).dtdAttList(this)},r}(t)}).call(zt)),QI.exports}var eR={exports:{}},KH;function u8(){return KH||(KH=1,(function(){var t,e,n=function(r,a){for(var s in a)i.call(a,s)&&(r[s]=a[s]);function o(){this.constructor=r}return o.prototype=a.prototype,r.prototype=new o,r.__super__=a.prototype,r},i={}.hasOwnProperty;e=Jm().isObject,t=_o(),eR.exports=function(r){n(a,r);function a(s,o,c,u){if(a.__super__.constructor.call(this,s),c==null)throw new Error("Missing DTD entity name. "+this.debugInfo(c));if(u==null)throw new Error("Missing DTD entity value. "+this.debugInfo(c));if(this.pe=!!o,this.name=this.stringify.eleName(c),!e(u))this.value=this.stringify.dtdEntityValue(u);else{if(!u.pubID&&!u.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(c));if(u.pubID&&!u.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(c));if(u.pubID!=null&&(this.pubID=this.stringify.dtdPubID(u.pubID)),u.sysID!=null&&(this.sysID=this.stringify.dtdSysID(u.sysID)),u.nData!=null&&(this.nData=this.stringify.dtdNData(u.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(c))}}return a.prototype.toString=function(s){return this.options.writer.set(s).dtdEntity(this)},a}(t)}).call(zt)),eR.exports}var tR={exports:{}},YH;function d8(){return YH||(YH=1,(function(){var t,e=function(i,r){for(var a in r)n.call(r,a)&&(i[a]=r[a]);function s(){this.constructor=i}return s.prototype=r.prototype,i.prototype=new s,i.__super__=r.prototype,i},n={}.hasOwnProperty;t=_o(),tR.exports=function(i){e(r,i);function r(a,s,o){if(r.__super__.constructor.call(this,a),s==null)throw new Error("Missing DTD element name. "+this.debugInfo());o||(o="(#PCDATA)"),Array.isArray(o)&&(o="("+o.join(",")+")"),this.name=this.stringify.eleName(s),this.value=this.stringify.dtdElementValue(o)}return r.prototype.toString=function(a){return this.options.writer.set(a).dtdElement(this)},r}(t)}).call(zt)),tR.exports}var nR={exports:{}},JH;function h8(){return JH||(JH=1,(function(){var t,e=function(i,r){for(var a in r)n.call(r,a)&&(i[a]=r[a]);function s(){this.constructor=i}return s.prototype=r.prototype,i.prototype=new s,i.__super__=r.prototype,i},n={}.hasOwnProperty;t=_o(),nR.exports=function(i){e(r,i);function r(a,s,o){if(r.__super__.constructor.call(this,a),s==null)throw new Error("Missing DTD notation name. "+this.debugInfo(s));if(!o.pubID&&!o.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(s));this.name=this.stringify.eleName(s),o.pubID!=null&&(this.pubID=this.stringify.dtdPubID(o.pubID)),o.sysID!=null&&(this.sysID=this.stringify.dtdSysID(o.sysID))}return r.prototype.toString=function(a){return this.options.writer.set(a).dtdNotation(this)},r}(t)}).call(zt)),nR.exports}var ZH;function f8(){return ZH||(ZH=1,(function(){var t,e,n,i,r,a,s=function(c,u){for(var d in u)o.call(u,d)&&(c[d]=u[d]);function h(){this.constructor=c}return h.prototype=u.prototype,c.prototype=new h,c.__super__=u.prototype,c},o={}.hasOwnProperty;a=Jm().isObject,r=_o(),t=c8(),n=u8(),e=d8(),i=h8(),ZI.exports=function(c){s(u,c);function u(d,h,f){var p,w;u.__super__.constructor.call(this,d),this.name="!DOCTYPE",this.documentObject=d,a(h)&&(p=h,h=p.pubID,f=p.sysID),f==null&&(w=[h,f],f=w[0],h=w[1]),h!=null&&(this.pubID=this.stringify.dtdPubID(h)),f!=null&&(this.sysID=this.stringify.dtdSysID(f))}return u.prototype.element=function(d,h){var f;return f=new e(this,d,h),this.children.push(f),this},u.prototype.attList=function(d,h,f,p,w){var v;return v=new t(this,d,h,f,p,w),this.children.push(v),this},u.prototype.entity=function(d,h){var f;return f=new n(this,!1,d,h),this.children.push(f),this},u.prototype.pEntity=function(d,h){var f;return f=new n(this,!0,d,h),this.children.push(f),this},u.prototype.notation=function(d,h){var f;return f=new i(this,d,h),this.children.push(f),this},u.prototype.toString=function(d){return this.options.writer.set(d).docType(this)},u.prototype.ele=function(d,h){return this.element(d,h)},u.prototype.att=function(d,h,f,p,w){return this.attList(d,h,f,p,w)},u.prototype.ent=function(d,h){return this.entity(d,h)},u.prototype.pent=function(d,h){return this.pEntity(d,h)},u.prototype.not=function(d,h){return this.notation(d,h)},u.prototype.up=function(){return this.root()||this.documentObject},u}(r)}).call(zt)),ZI.exports}var iR={exports:{}},QH;function p8(){return QH||(QH=1,(function(){var t,e=function(i,r){for(var a in r)n.call(r,a)&&(i[a]=r[a]);function s(){this.constructor=i}return s.prototype=r.prototype,i.prototype=new s,i.__super__=r.prototype,i},n={}.hasOwnProperty;t=_o(),iR.exports=function(i){e(r,i);function r(a,s){if(r.__super__.constructor.call(this,a),s==null)throw new Error("Missing raw text. "+this.debugInfo());this.value=this.stringify.raw(s)}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(a){return this.options.writer.set(a).raw(this)},r}(t)}).call(zt)),iR.exports}var rR={exports:{}},eV;function m8(){return eV||(eV=1,(function(){var t,e=function(i,r){for(var a in r)n.call(r,a)&&(i[a]=r[a]);function s(){this.constructor=i}return s.prototype=r.prototype,i.prototype=new s,i.__super__=r.prototype,i},n={}.hasOwnProperty;t=_o(),rR.exports=function(i){e(r,i);function r(a,s){if(r.__super__.constructor.call(this,a),s==null)throw new Error("Missing element text. "+this.debugInfo());this.value=this.stringify.eleText(s)}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(a){return this.options.writer.set(a).text(this)},r}(t)}).call(zt)),rR.exports}var aR={exports:{}},tV;function g8(){return tV||(tV=1,(function(){var t,e=function(i,r){for(var a in r)n.call(r,a)&&(i[a]=r[a]);function s(){this.constructor=i}return s.prototype=r.prototype,i.prototype=new s,i.__super__=r.prototype,i},n={}.hasOwnProperty;t=_o(),aR.exports=function(i){e(r,i);function r(a,s,o){if(r.__super__.constructor.call(this,a),s==null)throw new Error("Missing instruction target. "+this.debugInfo());this.target=this.stringify.insTarget(s),o&&(this.value=this.stringify.insValue(o))}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(a){return this.options.writer.set(a).processingInstruction(this)},r}(t)}).call(zt)),aR.exports}var sR={exports:{}},nV;function jM(){return nV||(nV=1,(function(){var t,e=function(i,r){for(var a in r)n.call(r,a)&&(i[a]=r[a]);function s(){this.constructor=i}return s.prototype=r.prototype,i.prototype=new s,i.__super__=r.prototype,i},n={}.hasOwnProperty;t=_o(),sR.exports=function(i){e(r,i);function r(a){r.__super__.constructor.call(this,a),this.isDummy=!0}return r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(a){return""},r}(t)}).call(zt)),sR.exports}var iV;function _o(){return iV||(iV=1,(function(){var t,e,n,i,r,a,s,o,c,u,d,h,f,p,w={}.hasOwnProperty;p=Jm(),f=p.isObject,h=p.isFunction,d=p.isEmpty,u=p.getValue,a=null,t=null,e=null,n=null,i=null,o=null,c=null,s=null,r=null,VI.exports=function(){function v(b){this.parent=b,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.children=[],a||(a=a8(),t=s8(),e=o8(),n=l8(),i=f8(),o=p8(),c=m8(),s=g8(),r=jM())}return v.prototype.element=function(b,g,y){var _,S,N,R,D,E,C,P,k,A,I;if(E=null,g===null&&y==null&&(k=[{},null],g=k[0],y=k[1]),g==null&&(g={}),g=u(g),f(g)||(A=[g,y],y=A[0],g=A[1]),b!=null&&(b=u(b)),Array.isArray(b))for(N=0,C=b.length;N<C;N++)S=b[N],E=this.element(S);else if(h(b))E=this.element(b.apply());else if(f(b)){for(D in b)if(w.call(b,D))if(I=b[D],h(I)&&(I=I.apply()),f(I)&&d(I)&&(I=null),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&D.indexOf(this.stringify.convertAttKey)===0)E=this.attribute(D.substr(this.stringify.convertAttKey.length),I);else if(!this.options.separateArrayItems&&Array.isArray(I))for(R=0,P=I.length;R<P;R++)S=I[R],_={},_[D]=S,E=this.element(_);else f(I)?(E=this.element(D),E.element(I)):E=this.element(D,I)}else this.options.skipNullNodes&&y===null?E=this.dummy():!this.options.ignoreDecorators&&this.stringify.convertTextKey&&b.indexOf(this.stringify.convertTextKey)===0?E=this.text(y):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&b.indexOf(this.stringify.convertCDataKey)===0?E=this.cdata(y):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&b.indexOf(this.stringify.convertCommentKey)===0?E=this.comment(y):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&b.indexOf(this.stringify.convertRawKey)===0?E=this.raw(y):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&b.indexOf(this.stringify.convertPIKey)===0?E=this.instruction(b.substr(this.stringify.convertPIKey.length),y):E=this.node(b,g,y);if(E==null)throw new Error("Could not create any elements with: "+b+". "+this.debugInfo());return E},v.prototype.insertBefore=function(b,g,y){var _,S,N;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(b));return S=this.parent.children.indexOf(this),N=this.parent.children.splice(S),_=this.parent.element(b,g,y),Array.prototype.push.apply(this.parent.children,N),_},v.prototype.insertAfter=function(b,g,y){var _,S,N;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(b));return S=this.parent.children.indexOf(this),N=this.parent.children.splice(S+1),_=this.parent.element(b,g,y),Array.prototype.push.apply(this.parent.children,N),_},v.prototype.remove=function(){var b;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return b=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[b,b-b+1].concat([])),this.parent},v.prototype.node=function(b,g,y){var _,S;return b!=null&&(b=u(b)),g||(g={}),g=u(g),f(g)||(S=[g,y],y=S[0],g=S[1]),_=new a(this,b,g),y!=null&&_.text(y),this.children.push(_),_},v.prototype.text=function(b){var g;return g=new c(this,b),this.children.push(g),this},v.prototype.cdata=function(b){var g;return g=new t(this,b),this.children.push(g),this},v.prototype.comment=function(b){var g;return g=new e(this,b),this.children.push(g),this},v.prototype.commentBefore=function(b){var g,y;return g=this.parent.children.indexOf(this),y=this.parent.children.splice(g),this.parent.comment(b),Array.prototype.push.apply(this.parent.children,y),this},v.prototype.commentAfter=function(b){var g,y;return g=this.parent.children.indexOf(this),y=this.parent.children.splice(g+1),this.parent.comment(b),Array.prototype.push.apply(this.parent.children,y),this},v.prototype.raw=function(b){var g;return g=new o(this,b),this.children.push(g),this},v.prototype.dummy=function(){var b;return b=new r(this),this.children.push(b),b},v.prototype.instruction=function(b,g){var y,_,S,N,R;if(b!=null&&(b=u(b)),g!=null&&(g=u(g)),Array.isArray(b))for(N=0,R=b.length;N<R;N++)y=b[N],this.instruction(y);else if(f(b))for(y in b)w.call(b,y)&&(_=b[y],this.instruction(y,_));else h(g)&&(g=g.apply()),S=new s(this,b,g),this.children.push(S);return this},v.prototype.instructionBefore=function(b,g){var y,_;return y=this.parent.children.indexOf(this),_=this.parent.children.splice(y),this.parent.instruction(b,g),Array.prototype.push.apply(this.parent.children,_),this},v.prototype.instructionAfter=function(b,g){var y,_;return y=this.parent.children.indexOf(this),_=this.parent.children.splice(y+1),this.parent.instruction(b,g),Array.prototype.push.apply(this.parent.children,_),this},v.prototype.declaration=function(b,g,y){var _,S;return _=this.document(),S=new n(_,b,g,y),_.children[0]instanceof n?_.children[0]=S:_.children.unshift(S),_.root()||_},v.prototype.doctype=function(b,g){var y,_,S,N,R,D,E,C,P,k;for(_=this.document(),S=new i(_,b,g),P=_.children,N=R=0,E=P.length;R<E;N=++R)if(y=P[N],y instanceof i)return _.children[N]=S,S;for(k=_.children,N=D=0,C=k.length;D<C;N=++D)if(y=k[N],y.isRoot)return _.children.splice(N,0,S),S;return _.children.push(S),S},v.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},v.prototype.root=function(){var b;for(b=this;b;){if(b.isDocument)return b.rootObject;if(b.isRoot)return b;b=b.parent}},v.prototype.document=function(){var b;for(b=this;b;){if(b.isDocument)return b;b=b.parent}},v.prototype.end=function(b){return this.document().end(b)},v.prototype.prev=function(){var b;for(b=this.parent.children.indexOf(this);b>0&&this.parent.children[b-1].isDummy;)b=b-1;if(b<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[b-1]},v.prototype.next=function(){var b;for(b=this.parent.children.indexOf(this);b<this.parent.children.length-1&&this.parent.children[b+1].isDummy;)b=b+1;if(b===-1||b===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[b+1]},v.prototype.importDocument=function(b){var g;return g=b.root().clone(),g.parent=this,g.isRoot=!1,this.children.push(g),this},v.prototype.debugInfo=function(b){var g,y;return b=b||this.name,b==null&&!((g=this.parent)!=null&&g.name)?"":b==null?"parent: <"+this.parent.name+">":(y=this.parent)!=null&&y.name?"node: <"+b+">, parent: <"+this.parent.name+">":"node: <"+b+">"},v.prototype.ele=function(b,g,y){return this.element(b,g,y)},v.prototype.nod=function(b,g,y){return this.node(b,g,y)},v.prototype.txt=function(b){return this.text(b)},v.prototype.dat=function(b){return this.cdata(b)},v.prototype.com=function(b){return this.comment(b)},v.prototype.ins=function(b,g){return this.instruction(b,g)},v.prototype.doc=function(){return this.document()},v.prototype.dec=function(b,g,y){return this.declaration(b,g,y)},v.prototype.dtd=function(b,g){return this.doctype(b,g)},v.prototype.e=function(b,g,y){return this.element(b,g,y)},v.prototype.n=function(b,g,y){return this.node(b,g,y)},v.prototype.t=function(b){return this.text(b)},v.prototype.d=function(b){return this.cdata(b)},v.prototype.c=function(b){return this.comment(b)},v.prototype.r=function(b){return this.raw(b)},v.prototype.i=function(b,g){return this.instruction(b,g)},v.prototype.u=function(){return this.up()},v.prototype.importXMLBuilder=function(b){return this.importDocument(b)},v}()}).call(zt)),VI.exports}var oR={exports:{}},rV;function Lre(){return rV||(rV=1,(function(){var t=function(n,i){return function(){return n.apply(i,arguments)}},e={}.hasOwnProperty;oR.exports=function(){function n(i){this.assertLegalChar=t(this.assertLegalChar,this);var r,a,s;i||(i={}),this.noDoubleEncoding=i.noDoubleEncoding,a=i.stringify||{};for(r in a)e.call(a,r)&&(s=a[r],this[r]=s)}return n.prototype.eleName=function(i){return i=""+i||"",this.assertLegalChar(i)},n.prototype.eleText=function(i){return i=""+i||"",this.assertLegalChar(this.elEscape(i))},n.prototype.cdata=function(i){return i=""+i||"",i=i.replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(i)},n.prototype.comment=function(i){if(i=""+i||"",i.match(/--/))throw new Error("Comment text cannot contain double-hypen: "+i);return this.assertLegalChar(i)},n.prototype.raw=function(i){return""+i||""},n.prototype.attName=function(i){return i=""+i||""},n.prototype.attValue=function(i){return i=""+i||"",this.attEscape(i)},n.prototype.insTarget=function(i){return""+i||""},n.prototype.insValue=function(i){if(i=""+i||"",i.match(/\?>/))throw new Error("Invalid processing instruction value: "+i);return i},n.prototype.xmlVersion=function(i){if(i=""+i||"",!i.match(/1\.[0-9]+/))throw new Error("Invalid version number: "+i);return i},n.prototype.xmlEncoding=function(i){if(i=""+i||"",!i.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+i);return i},n.prototype.xmlStandalone=function(i){return i?"yes":"no"},n.prototype.dtdPubID=function(i){return""+i||""},n.prototype.dtdSysID=function(i){return""+i||""},n.prototype.dtdElementValue=function(i){return""+i||""},n.prototype.dtdAttType=function(i){return""+i||""},n.prototype.dtdAttDefault=function(i){return i!=null?""+i||"":i},n.prototype.dtdEntityValue=function(i){return""+i||""},n.prototype.dtdNData=function(i){return""+i||""},n.prototype.convertAttKey="@",n.prototype.convertPIKey="?",n.prototype.convertTextKey="#text",n.prototype.convertCDataKey="#cdata",n.prototype.convertCommentKey="#comment",n.prototype.convertRawKey="#raw",n.prototype.assertLegalChar=function(i){var r;if(r=i.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/),r)throw new Error("Invalid character in string: "+i+" at index "+r.index);return i},n.prototype.elEscape=function(i){var r;return r=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,i.replace(r,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;")},n.prototype.attEscape=function(i){var r;return r=this.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,i.replace(r,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")},n}()}).call(zt)),oR.exports}var lR={exports:{}},cR={exports:{}},aV;function Fre(){return aV||(aV=1,(function(){var t={}.hasOwnProperty;cR.exports=function(){function e(n){var i,r,a,s,o,c,u,d,h;n||(n={}),this.pretty=n.pretty||!1,this.allowEmpty=(r=n.allowEmpty)!=null?r:!1,this.pretty?(this.indent=(a=n.indent)!=null?a:"  ",this.newline=(s=n.newline)!=null?s:`
`,this.offset=(o=n.offset)!=null?o:0,this.dontprettytextnodes=(c=n.dontprettytextnodes)!=null?c:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash=(u=n.spacebeforeslash)!=null?u:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,d=n.writer||{};for(i in d)t.call(d,i)&&(h=d[i],this[i]=h)}return e.prototype.set=function(n){var i,r,a;n||(n={}),"pretty"in n&&(this.pretty=n.pretty),"allowEmpty"in n&&(this.allowEmpty=n.allowEmpty),this.pretty?(this.indent="indent"in n?n.indent:"  ",this.newline="newline"in n?n.newline:`
`,this.offset="offset"in n?n.offset:0,this.dontprettytextnodes="dontprettytextnodes"in n?n.dontprettytextnodes:0):(this.indent="",this.newline="",this.offset=0,this.dontprettytextnodes=0),this.spacebeforeslash="spacebeforeslash"in n?n.spacebeforeslash:"",this.spacebeforeslash===!0&&(this.spacebeforeslash=" "),this.newlinedefault=this.newline,this.prettydefault=this.pretty,r=n.writer||{};for(i in r)t.call(r,i)&&(a=r[i],this[i]=a);return this},e.prototype.space=function(n){var i;return this.pretty?(i=(n||0)+this.offset+1,i>0?new Array(i).join(this.indent):""):""},e}()}).call(zt)),cR.exports}var sV;function $M(){return sV||(sV=1,(function(){var t,e,n,i,r,a,s,o,c,u,d,h,f,p,w=function(b,g){for(var y in g)v.call(g,y)&&(b[y]=g[y]);function _(){this.constructor=b}return _.prototype=g.prototype,b.prototype=new _,b.__super__=g.prototype,b},v={}.hasOwnProperty;s=l8(),o=f8(),t=s8(),e=o8(),u=a8(),h=p8(),f=m8(),d=g8(),c=jM(),n=c8(),i=d8(),r=u8(),a=h8(),p=Fre(),lR.exports=function(b){w(g,b);function g(y){g.__super__.constructor.call(this,y)}return g.prototype.document=function(y){var _,S,N,R,D;for(this.textispresent=!1,R="",D=y.children,S=0,N=D.length;S<N;S++)_=D[S],!(_ instanceof c)&&(R+=(function(){switch(!1){case!(_ instanceof s):return this.declaration(_);case!(_ instanceof o):return this.docType(_);case!(_ instanceof e):return this.comment(_);case!(_ instanceof d):return this.processingInstruction(_);default:return this.element(_,0)}}).call(this));return this.pretty&&R.slice(-this.newline.length)===this.newline&&(R=R.slice(0,-this.newline.length)),R},g.prototype.attribute=function(y){return" "+y.name+'="'+y.value+'"'},g.prototype.cdata=function(y,_){return this.space(_)+"<![CDATA["+y.text+"]]>"+this.newline},g.prototype.comment=function(y,_){return this.space(_)+"<!-- "+y.text+" -->"+this.newline},g.prototype.declaration=function(y,_){var S;return S=this.space(_),S+='<?xml version="'+y.version+'"',y.encoding!=null&&(S+=' encoding="'+y.encoding+'"'),y.standalone!=null&&(S+=' standalone="'+y.standalone+'"'),S+=this.spacebeforeslash+"?>",S+=this.newline,S},g.prototype.docType=function(y,_){var S,N,R,D,E;if(_||(_=0),D=this.space(_),D+="<!DOCTYPE "+y.root().name,y.pubID&&y.sysID?D+=' PUBLIC "'+y.pubID+'" "'+y.sysID+'"':y.sysID&&(D+=' SYSTEM "'+y.sysID+'"'),y.children.length>0){for(D+=" [",D+=this.newline,E=y.children,N=0,R=E.length;N<R;N++)S=E[N],D+=(function(){switch(!1){case!(S instanceof n):return this.dtdAttList(S,_+1);case!(S instanceof i):return this.dtdElement(S,_+1);case!(S instanceof r):return this.dtdEntity(S,_+1);case!(S instanceof a):return this.dtdNotation(S,_+1);case!(S instanceof t):return this.cdata(S,_+1);case!(S instanceof e):return this.comment(S,_+1);case!(S instanceof d):return this.processingInstruction(S,_+1);default:throw new Error("Unknown DTD node type: "+S.constructor.name)}}).call(this);D+="]"}return D+=this.spacebeforeslash+">",D+=this.newline,D},g.prototype.element=function(y,_){var S,N,R,D,E,C,P,k,A,I,T,z,j;_||(_=0),j=!1,this.textispresent?(this.newline="",this.pretty=!1):(this.newline=this.newlinedefault,this.pretty=this.prettydefault),z=this.space(_),k="",k+=z+"<"+y.name,A=y.attributes;for(P in A)v.call(A,P)&&(S=A[P],k+=this.attribute(S));if(y.children.length===0||y.children.every(function(W){return W.value===""}))this.allowEmpty?k+="></"+y.name+">"+this.newline:k+=this.spacebeforeslash+"/>"+this.newline;else if(this.pretty&&y.children.length===1&&y.children[0].value!=null)k+=">",k+=y.children[0].value,k+="</"+y.name+">"+this.newline;else{if(this.dontprettytextnodes){for(I=y.children,R=0,E=I.length;R<E;R++)if(N=I[R],N.value!=null){this.textispresent++,j=!0;break}}for(this.textispresent&&(this.newline="",this.pretty=!1,z=this.space(_)),k+=">"+this.newline,T=y.children,D=0,C=T.length;D<C;D++)N=T[D],k+=(function(){switch(!1){case!(N instanceof t):return this.cdata(N,_+1);case!(N instanceof e):return this.comment(N,_+1);case!(N instanceof u):return this.element(N,_+1);case!(N instanceof h):return this.raw(N,_+1);case!(N instanceof f):return this.text(N,_+1);case!(N instanceof d):return this.processingInstruction(N,_+1);case!(N instanceof c):return"";default:throw new Error("Unknown XML node type: "+N.constructor.name)}}).call(this);j&&this.textispresent--,this.textispresent||(this.newline=this.newlinedefault,this.pretty=this.prettydefault),k+=z+"</"+y.name+">"+this.newline}return k},g.prototype.processingInstruction=function(y,_){var S;return S=this.space(_)+"<?"+y.target,y.value&&(S+=" "+y.value),S+=this.spacebeforeslash+"?>"+this.newline,S},g.prototype.raw=function(y,_){return this.space(_)+y.value+this.newline},g.prototype.text=function(y,_){return this.space(_)+y.value+this.newline},g.prototype.dtdAttList=function(y,_){var S;return S=this.space(_)+"<!ATTLIST "+y.elementName+" "+y.attributeName+" "+y.attributeType,y.defaultValueType!=="#DEFAULT"&&(S+=" "+y.defaultValueType),y.defaultValue&&(S+=' "'+y.defaultValue+'"'),S+=this.spacebeforeslash+">"+this.newline,S},g.prototype.dtdElement=function(y,_){return this.space(_)+"<!ELEMENT "+y.name+" "+y.value+this.spacebeforeslash+">"+this.newline},g.prototype.dtdEntity=function(y,_){var S;return S=this.space(_)+"<!ENTITY",y.pe&&(S+=" %"),S+=" "+y.name,y.value?S+=' "'+y.value+'"':(y.pubID&&y.sysID?S+=' PUBLIC "'+y.pubID+'" "'+y.sysID+'"':y.sysID&&(S+=' SYSTEM "'+y.sysID+'"'),y.nData&&(S+=" NDATA "+y.nData)),S+=this.spacebeforeslash+">"+this.newline,S},g.prototype.dtdNotation=function(y,_){var S;return S=this.space(_)+"<!NOTATION "+y.name,y.pubID&&y.sysID?S+=' PUBLIC "'+y.pubID+'" "'+y.sysID+'"':y.pubID?S+=' PUBLIC "'+y.pubID+'"':y.sysID&&(S+=' SYSTEM "'+y.sysID+'"'),S+=this.spacebeforeslash+">"+this.newline,S},g.prototype.openNode=function(y,_){var S,N,R,D;if(_||(_=0),y instanceof u){R=this.space(_)+"<"+y.name,D=y.attributes;for(N in D)v.call(D,N)&&(S=D[N],R+=this.attribute(S));return R+=(y.children?">":"/>")+this.newline,R}else return R=this.space(_)+"<!DOCTYPE "+y.rootNodeName,y.pubID&&y.sysID?R+=' PUBLIC "'+y.pubID+'" "'+y.sysID+'"':y.sysID&&(R+=' SYSTEM "'+y.sysID+'"'),R+=(y.children?" [":">")+this.newline,R},g.prototype.closeNode=function(y,_){switch(_||(_=0),!1){case!(y instanceof u):return this.space(_)+"</"+y.name+">"+this.newline;case!(y instanceof o):return this.space(_)+"]>"+this.newline}},g}(p)}).call(zt)),lR.exports}var oV;function d6e(){return oV||(oV=1,(function(){var t,e,n,i,r=function(s,o){for(var c in o)a.call(o,c)&&(s[c]=o[c]);function u(){this.constructor=s}return u.prototype=o.prototype,s.prototype=new u,s.__super__=o.prototype,s},a={}.hasOwnProperty;i=Jm().isPlainObject,t=_o(),n=Lre(),e=$M(),HI.exports=function(s){r(o,s);function o(c){o.__super__.constructor.call(this,null),this.name="?xml",c||(c={}),c.writer||(c.writer=new e),this.options=c,this.stringify=new n(c),this.isDocument=!0}return o.prototype.end=function(c){var u;return c?i(c)&&(u=c,c=this.options.writer.set(u)):c=this.options.writer,c.document(this)},o.prototype.toString=function(c){return this.options.writer.set(c).document(this)},o}(t)}).call(zt)),HI.exports}var uR={exports:{}},lV;function h6e(){return lV||(lV=1,(function(){var t,e,n,i,r,a,s,o,c,u,d,h,f,p,w,v,b,g,y,_,S={}.hasOwnProperty;_=Jm(),g=_.isObject,b=_.isFunction,y=_.isPlainObject,v=_.getValue,u=a8(),e=s8(),n=o8(),h=p8(),w=m8(),d=g8(),o=l8(),c=f8(),i=c8(),a=u8(),r=d8(),s=h8(),t=Rre(),p=Lre(),f=$M(),uR.exports=function(){function N(R,D,E){var C;this.name="?xml",R||(R={}),R.writer?y(R.writer)&&(C=R.writer,R.writer=new f(C)):R.writer=new f(R),this.options=R,this.writer=R.writer,this.stringify=new p(R),this.onDataCallback=D||function(){},this.onEndCallback=E||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return N.prototype.node=function(R,D,E){var C,P;if(R==null)throw new Error("Missing node name.");if(this.root&&this.currentLevel===-1)throw new Error("Document can only have one root node. "+this.debugInfo(R));return this.openCurrent(),R=v(R),D===null&&E==null&&(C=[{},null],D=C[0],E=C[1]),D==null&&(D={}),D=v(D),g(D)||(P=[D,E],E=P[0],D=P[1]),this.currentNode=new u(this,R,D),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,E!=null&&this.text(E),this},N.prototype.element=function(R,D,E){return this.currentNode&&this.currentNode instanceof c?this.dtdElement.apply(this,arguments):this.node(R,D,E)},N.prototype.attribute=function(R,D){var E,C;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(R));if(R!=null&&(R=v(R)),g(R))for(E in R)S.call(R,E)&&(C=R[E],this.attribute(E,C));else b(D)&&(D=D.apply()),(!this.options.skipNullAttributes||D!=null)&&(this.currentNode.attributes[R]=new t(this,R,D));return this},N.prototype.text=function(R){var D;return this.openCurrent(),D=new w(this,R),this.onData(this.writer.text(D,this.currentLevel+1),this.currentLevel+1),this},N.prototype.cdata=function(R){var D;return this.openCurrent(),D=new e(this,R),this.onData(this.writer.cdata(D,this.currentLevel+1),this.currentLevel+1),this},N.prototype.comment=function(R){var D;return this.openCurrent(),D=new n(this,R),this.onData(this.writer.comment(D,this.currentLevel+1),this.currentLevel+1),this},N.prototype.raw=function(R){var D;return this.openCurrent(),D=new h(this,R),this.onData(this.writer.raw(D,this.currentLevel+1),this.currentLevel+1),this},N.prototype.instruction=function(R,D){var E,C,P,k,A;if(this.openCurrent(),R!=null&&(R=v(R)),D!=null&&(D=v(D)),Array.isArray(R))for(E=0,k=R.length;E<k;E++)C=R[E],this.instruction(C);else if(g(R))for(C in R)S.call(R,C)&&(P=R[C],this.instruction(C,P));else b(D)&&(D=D.apply()),A=new d(this,R,D),this.onData(this.writer.processingInstruction(A,this.currentLevel+1),this.currentLevel+1);return this},N.prototype.declaration=function(R,D,E){var C;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return C=new o(this,R,D,E),this.onData(this.writer.declaration(C,this.currentLevel+1),this.currentLevel+1),this},N.prototype.doctype=function(R,D,E){if(this.openCurrent(),R==null)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new c(this,D,E),this.currentNode.rootNodeName=R,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},N.prototype.dtdElement=function(R,D){var E;return this.openCurrent(),E=new r(this,R,D),this.onData(this.writer.dtdElement(E,this.currentLevel+1),this.currentLevel+1),this},N.prototype.attList=function(R,D,E,C,P){var k;return this.openCurrent(),k=new i(this,R,D,E,C,P),this.onData(this.writer.dtdAttList(k,this.currentLevel+1),this.currentLevel+1),this},N.prototype.entity=function(R,D){var E;return this.openCurrent(),E=new a(this,!1,R,D),this.onData(this.writer.dtdEntity(E,this.currentLevel+1),this.currentLevel+1),this},N.prototype.pEntity=function(R,D){var E;return this.openCurrent(),E=new a(this,!0,R,D),this.onData(this.writer.dtdEntity(E,this.currentLevel+1),this.currentLevel+1),this},N.prototype.notation=function(R,D){var E;return this.openCurrent(),E=new s(this,R,D),this.onData(this.writer.dtdNotation(E,this.currentLevel+1),this.currentLevel+1),this},N.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},N.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},N.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},N.prototype.openNode=function(R){if(!R.isOpen)return!this.root&&this.currentLevel===0&&R instanceof u&&(this.root=R),this.onData(this.writer.openNode(R,this.currentLevel),this.currentLevel),R.isOpen=!0},N.prototype.closeNode=function(R){if(!R.isClosed)return this.onData(this.writer.closeNode(R,this.currentLevel),this.currentLevel),R.isClosed=!0},N.prototype.onData=function(R,D){return this.documentStarted=!0,this.onDataCallback(R,D+1)},N.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},N.prototype.debugInfo=function(R){return R==null?"":"node: <"+R+">"},N.prototype.ele=function(){return this.element.apply(this,arguments)},N.prototype.nod=function(R,D,E){return this.node(R,D,E)},N.prototype.txt=function(R){return this.text(R)},N.prototype.dat=function(R){return this.cdata(R)},N.prototype.com=function(R){return this.comment(R)},N.prototype.ins=function(R,D){return this.instruction(R,D)},N.prototype.dec=function(R,D,E){return this.declaration(R,D,E)},N.prototype.dtd=function(R,D,E){return this.doctype(R,D,E)},N.prototype.e=function(R,D,E){return this.element(R,D,E)},N.prototype.n=function(R,D,E){return this.node(R,D,E)},N.prototype.t=function(R){return this.text(R)},N.prototype.d=function(R){return this.cdata(R)},N.prototype.c=function(R){return this.comment(R)},N.prototype.r=function(R){return this.raw(R)},N.prototype.i=function(R,D){return this.instruction(R,D)},N.prototype.att=function(){return this.currentNode&&this.currentNode instanceof c?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},N.prototype.a=function(){return this.currentNode&&this.currentNode instanceof c?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},N.prototype.ent=function(R,D){return this.entity(R,D)},N.prototype.pent=function(R,D){return this.pEntity(R,D)},N.prototype.not=function(R,D){return this.notation(R,D)},N}()}).call(zt)),uR.exports}var dR={exports:{}},cV;function f6e(){return cV||(cV=1,(function(){var t,e,n,i,r,a,s,o,c,u,d,h,f,p,w=function(b,g){for(var y in g)v.call(g,y)&&(b[y]=g[y]);function _(){this.constructor=b}return _.prototype=g.prototype,b.prototype=new _,b.__super__=g.prototype,b},v={}.hasOwnProperty;s=l8(),o=f8(),t=s8(),e=o8(),u=a8(),h=p8(),f=m8(),d=g8(),c=jM(),n=c8(),i=d8(),r=u8(),a=h8(),p=Fre(),dR.exports=function(b){w(g,b);function g(y,_){g.__super__.constructor.call(this,_),this.stream=y}return g.prototype.document=function(y){var _,S,N,R,D,E,C,P;for(E=y.children,S=0,R=E.length;S<R;S++)_=E[S],_.isLastRootNode=!1;for(y.children[y.children.length-1].isLastRootNode=!0,C=y.children,P=[],N=0,D=C.length;N<D;N++)if(_=C[N],!(_ instanceof c))switch(!1){case!(_ instanceof s):P.push(this.declaration(_));break;case!(_ instanceof o):P.push(this.docType(_));break;case!(_ instanceof e):P.push(this.comment(_));break;case!(_ instanceof d):P.push(this.processingInstruction(_));break;default:P.push(this.element(_))}return P},g.prototype.attribute=function(y){return this.stream.write(" "+y.name+'="'+y.value+'"')},g.prototype.cdata=function(y,_){return this.stream.write(this.space(_)+"<![CDATA["+y.text+"]]>"+this.endline(y))},g.prototype.comment=function(y,_){return this.stream.write(this.space(_)+"<!-- "+y.text+" -->"+this.endline(y))},g.prototype.declaration=function(y,_){return this.stream.write(this.space(_)),this.stream.write('<?xml version="'+y.version+'"'),y.encoding!=null&&this.stream.write(' encoding="'+y.encoding+'"'),y.standalone!=null&&this.stream.write(' standalone="'+y.standalone+'"'),this.stream.write(this.spacebeforeslash+"?>"),this.stream.write(this.endline(y))},g.prototype.docType=function(y,_){var S,N,R,D;if(_||(_=0),this.stream.write(this.space(_)),this.stream.write("<!DOCTYPE "+y.root().name),y.pubID&&y.sysID?this.stream.write(' PUBLIC "'+y.pubID+'" "'+y.sysID+'"'):y.sysID&&this.stream.write(' SYSTEM "'+y.sysID+'"'),y.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(y)),D=y.children,N=0,R=D.length;N<R;N++)switch(S=D[N],!1){case!(S instanceof n):this.dtdAttList(S,_+1);break;case!(S instanceof i):this.dtdElement(S,_+1);break;case!(S instanceof r):this.dtdEntity(S,_+1);break;case!(S instanceof a):this.dtdNotation(S,_+1);break;case!(S instanceof t):this.cdata(S,_+1);break;case!(S instanceof e):this.comment(S,_+1);break;case!(S instanceof d):this.processingInstruction(S,_+1);break;default:throw new Error("Unknown DTD node type: "+S.constructor.name)}this.stream.write("]")}return this.stream.write(this.spacebeforeslash+">"),this.stream.write(this.endline(y))},g.prototype.element=function(y,_){var S,N,R,D,E,C,P,k;_||(_=0),k=this.space(_),this.stream.write(k+"<"+y.name),C=y.attributes;for(E in C)v.call(C,E)&&(S=C[E],this.attribute(S));if(y.children.length===0||y.children.every(function(A){return A.value===""}))this.allowEmpty?this.stream.write("></"+y.name+">"):this.stream.write(this.spacebeforeslash+"/>");else if(this.pretty&&y.children.length===1&&y.children[0].value!=null)this.stream.write(">"),this.stream.write(y.children[0].value),this.stream.write("</"+y.name+">");else{for(this.stream.write(">"+this.newline),P=y.children,R=0,D=P.length;R<D;R++)switch(N=P[R],!1){case!(N instanceof t):this.cdata(N,_+1);break;case!(N instanceof e):this.comment(N,_+1);break;case!(N instanceof u):this.element(N,_+1);break;case!(N instanceof h):this.raw(N,_+1);break;case!(N instanceof f):this.text(N,_+1);break;case!(N instanceof d):this.processingInstruction(N,_+1);break;case!(N instanceof c):break;default:throw new Error("Unknown XML node type: "+N.constructor.name)}this.stream.write(k+"</"+y.name+">")}return this.stream.write(this.endline(y))},g.prototype.processingInstruction=function(y,_){return this.stream.write(this.space(_)+"<?"+y.target),y.value&&this.stream.write(" "+y.value),this.stream.write(this.spacebeforeslash+"?>"+this.endline(y))},g.prototype.raw=function(y,_){return this.stream.write(this.space(_)+y.value+this.endline(y))},g.prototype.text=function(y,_){return this.stream.write(this.space(_)+y.value+this.endline(y))},g.prototype.dtdAttList=function(y,_){return this.stream.write(this.space(_)+"<!ATTLIST "+y.elementName+" "+y.attributeName+" "+y.attributeType),y.defaultValueType!=="#DEFAULT"&&this.stream.write(" "+y.defaultValueType),y.defaultValue&&this.stream.write(' "'+y.defaultValue+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(y))},g.prototype.dtdElement=function(y,_){return this.stream.write(this.space(_)+"<!ELEMENT "+y.name+" "+y.value),this.stream.write(this.spacebeforeslash+">"+this.endline(y))},g.prototype.dtdEntity=function(y,_){return this.stream.write(this.space(_)+"<!ENTITY"),y.pe&&this.stream.write(" %"),this.stream.write(" "+y.name),y.value?this.stream.write(' "'+y.value+'"'):(y.pubID&&y.sysID?this.stream.write(' PUBLIC "'+y.pubID+'" "'+y.sysID+'"'):y.sysID&&this.stream.write(' SYSTEM "'+y.sysID+'"'),y.nData&&this.stream.write(" NDATA "+y.nData)),this.stream.write(this.spacebeforeslash+">"+this.endline(y))},g.prototype.dtdNotation=function(y,_){return this.stream.write(this.space(_)+"<!NOTATION "+y.name),y.pubID&&y.sysID?this.stream.write(' PUBLIC "'+y.pubID+'" "'+y.sysID+'"'):y.pubID?this.stream.write(' PUBLIC "'+y.pubID+'"'):y.sysID&&this.stream.write(' SYSTEM "'+y.sysID+'"'),this.stream.write(this.spacebeforeslash+">"+this.endline(y))},g.prototype.endline=function(y){return y.isLastRootNode?"":this.newline},g}(p)}).call(zt)),dR.exports}(function(){var t,e,n,i,r,a,s;s=Jm(),r=s.assign,a=s.isFunction,t=d6e(),e=h6e(),i=$M(),n=f6e(),h5.create=function(o,c,u,d){var h,f;if(o==null)throw new Error("Root element needs a name.");return d=r({},c,u,d),h=new t(d),f=h.element(o),d.headless||(h.declaration(d),(d.pubID!=null||d.sysID!=null)&&h.doctype(d)),f},h5.begin=function(o,c,u){var d;return a(o)&&(d=[o,c],c=d[0],u=d[1],o={}),c?new e(o,c,u):new t(o)},h5.stringWriter=function(o){return new i(o)},h5.streamWriter=function(o,c){return new n(o,c)}}).call(zt);var uV=wr,p6e=h5;Ire.writeString=m6e;function m6e(t,e){var n=uV.invert(e),i={element:a,text:g6e};function r(c,u){return i[u.type](c,u)}function a(c,u){var d=c.element(s(u.name),u.attributes);u.children.forEach(function(h){r(d,h)})}function s(c){var u=/^\{(.*)\}(.*)$/.exec(c);if(u){var d=n[u[1]];return d+(d===""?"":":")+u[2]}else return c}function o(c){var u=p6e.create(s(c.name),{version:"1.0",encoding:"UTF-8",standalone:!0});return uV.forEach(e,function(d,h){var f="xmlns"+(h===""?"":":"+h);u.attribute(f,d)}),c.children.forEach(function(d){r(u,d)}),u.end()}return o(t)}function g6e(t,e){t.text(e.value)}var y8=Mw;_f.Element=y8.Element;_f.element=y8.element;_f.emptyElement=y8.emptyElement;_f.text=y8.text;_f.readString=Qie.readString;_f.writeString=Ire.writeString;var y6e=wr,v6e=fa,b6e=_f;TM.read=Ore;TM.readXmlFromZipFile=x6e;var w6e={"http://schemas.openxmlformats.org/wordprocessingml/2006/main":"w","http://schemas.openxmlformats.org/officeDocument/2006/relationships":"r","http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing":"wp","http://schemas.openxmlformats.org/drawingml/2006/main":"a","http://schemas.openxmlformats.org/drawingml/2006/picture":"pic","http://purl.oclc.org/ooxml/wordprocessingml/main":"w","http://purl.oclc.org/ooxml/officeDocument/relationships":"r","http://purl.oclc.org/ooxml/drawingml/wordprocessingDrawing":"wp","http://purl.oclc.org/ooxml/drawingml/main":"a","http://purl.oclc.org/ooxml/drawingml/picture":"pic","http://schemas.openxmlformats.org/package/2006/content-types":"content-types","http://schemas.openxmlformats.org/package/2006/relationships":"relationships","http://schemas.openxmlformats.org/markup-compatibility/2006":"mc","urn:schemas-microsoft-com:vml":"v","urn:schemas-microsoft-com:office:word":"office-word","http://schemas.microsoft.com/office/word/2010/wordml":"wordml"};function Ore(t){return b6e.readString(t,w6e).then(function(e){return Ure(e)[0]})}function x6e(t,e){return t.exists(e)?t.read(e,"utf-8").then(_6e).then(Ore):v6e.resolve(null)}function _6e(t){return t.replace(/^\uFEFF/g,"")}function Ure(t){return t.type==="element"?t.name==="mc:AlternateContent"?t.firstOrEmpty("mc:Fallback").children:(t.children=y6e.flatten(t.children.map(Ure,!0)),[t]):[t]}var WM={},Am={},qM={};Object.defineProperty(qM,"__esModule",{value:!0});var S6e=[{"Typeface name":"Symbol","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Symbol","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"33","Unicode hex":"21"},{"Typeface name":"Symbol","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"8704","Unicode hex":"2200"},{"Typeface name":"Symbol","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"35","Unicode hex":"23"},{"Typeface name":"Symbol","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"8707","Unicode hex":"2203"},{"Typeface name":"Symbol","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"37","Unicode hex":"25"},{"Typeface name":"Symbol","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"38","Unicode hex":"26"},{"Typeface name":"Symbol","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"8717","Unicode hex":"220D"},{"Typeface name":"Symbol","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"40","Unicode hex":"28"},{"Typeface name":"Symbol","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"41","Unicode hex":"29"},{"Typeface name":"Symbol","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"42","Unicode hex":"2A"},{"Typeface name":"Symbol","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"43","Unicode hex":"2B"},{"Typeface name":"Symbol","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"44","Unicode hex":"2C"},{"Typeface name":"Symbol","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"8722","Unicode hex":"2212"},{"Typeface name":"Symbol","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"46","Unicode hex":"2E"},{"Typeface name":"Symbol","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"47","Unicode hex":"2F"},{"Typeface name":"Symbol","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"48","Unicode hex":"30"},{"Typeface name":"Symbol","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"49","Unicode hex":"31"},{"Typeface name":"Symbol","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"50","Unicode hex":"32"},{"Typeface name":"Symbol","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"51","Unicode hex":"33"},{"Typeface name":"Symbol","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"52","Unicode hex":"34"},{"Typeface name":"Symbol","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"53","Unicode hex":"35"},{"Typeface name":"Symbol","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"54","Unicode hex":"36"},{"Typeface name":"Symbol","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"55","Unicode hex":"37"},{"Typeface name":"Symbol","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"56","Unicode hex":"38"},{"Typeface name":"Symbol","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"57","Unicode hex":"39"},{"Typeface name":"Symbol","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"58","Unicode hex":"3A"},{"Typeface name":"Symbol","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"59","Unicode hex":"3B"},{"Typeface name":"Symbol","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"60","Unicode hex":"3C"},{"Typeface name":"Symbol","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"61","Unicode hex":"3D"},{"Typeface name":"Symbol","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"62","Unicode hex":"3E"},{"Typeface name":"Symbol","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"63","Unicode hex":"3F"},{"Typeface name":"Symbol","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"8773","Unicode hex":"2245"},{"Typeface name":"Symbol","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"913","Unicode hex":"391"},{"Typeface name":"Symbol","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"914","Unicode hex":"392"},{"Typeface name":"Symbol","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"935","Unicode hex":"3A7"},{"Typeface name":"Symbol","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"916","Unicode hex":"394"},{"Typeface name":"Symbol","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"917","Unicode hex":"395"},{"Typeface name":"Symbol","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"934","Unicode hex":"3A6"},{"Typeface name":"Symbol","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"915","Unicode hex":"393"},{"Typeface name":"Symbol","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"919","Unicode hex":"397"},{"Typeface name":"Symbol","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"921","Unicode hex":"399"},{"Typeface name":"Symbol","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"977","Unicode hex":"3D1"},{"Typeface name":"Symbol","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"922","Unicode hex":"39A"},{"Typeface name":"Symbol","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"923","Unicode hex":"39B"},{"Typeface name":"Symbol","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"924","Unicode hex":"39C"},{"Typeface name":"Symbol","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"925","Unicode hex":"39D"},{"Typeface name":"Symbol","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"927","Unicode hex":"39F"},{"Typeface name":"Symbol","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"928","Unicode hex":"3A0"},{"Typeface name":"Symbol","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"920","Unicode hex":"398"},{"Typeface name":"Symbol","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"929","Unicode hex":"3A1"},{"Typeface name":"Symbol","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"931","Unicode hex":"3A3"},{"Typeface name":"Symbol","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"932","Unicode hex":"3A4"},{"Typeface name":"Symbol","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"933","Unicode hex":"3A5"},{"Typeface name":"Symbol","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"962","Unicode hex":"3C2"},{"Typeface name":"Symbol","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"937","Unicode hex":"3A9"},{"Typeface name":"Symbol","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"926","Unicode hex":"39E"},{"Typeface name":"Symbol","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"936","Unicode hex":"3A8"},{"Typeface name":"Symbol","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"918","Unicode hex":"396"},{"Typeface name":"Symbol","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"91","Unicode hex":"5B"},{"Typeface name":"Symbol","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"8756","Unicode hex":"2234"},{"Typeface name":"Symbol","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"93","Unicode hex":"5D"},{"Typeface name":"Symbol","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"8869","Unicode hex":"22A5"},{"Typeface name":"Symbol","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"95","Unicode hex":"5F"},{"Typeface name":"Symbol","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"8254","Unicode hex":"203E"},{"Typeface name":"Symbol","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"945","Unicode hex":"3B1"},{"Typeface name":"Symbol","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"946","Unicode hex":"3B2"},{"Typeface name":"Symbol","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"967","Unicode hex":"3C7"},{"Typeface name":"Symbol","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"948","Unicode hex":"3B4"},{"Typeface name":"Symbol","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"949","Unicode hex":"3B5"},{"Typeface name":"Symbol","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"966","Unicode hex":"3C6"},{"Typeface name":"Symbol","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"947","Unicode hex":"3B3"},{"Typeface name":"Symbol","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"951","Unicode hex":"3B7"},{"Typeface name":"Symbol","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"953","Unicode hex":"3B9"},{"Typeface name":"Symbol","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"981","Unicode hex":"3D5"},{"Typeface name":"Symbol","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"954","Unicode hex":"3BA"},{"Typeface name":"Symbol","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"955","Unicode hex":"3BB"},{"Typeface name":"Symbol","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"956","Unicode hex":"3BC"},{"Typeface name":"Symbol","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"957","Unicode hex":"3BD"},{"Typeface name":"Symbol","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"959","Unicode hex":"3BF"},{"Typeface name":"Symbol","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"960","Unicode hex":"3C0"},{"Typeface name":"Symbol","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"952","Unicode hex":"3B8"},{"Typeface name":"Symbol","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"961","Unicode hex":"3C1"},{"Typeface name":"Symbol","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"963","Unicode hex":"3C3"},{"Typeface name":"Symbol","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"964","Unicode hex":"3C4"},{"Typeface name":"Symbol","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"965","Unicode hex":"3C5"},{"Typeface name":"Symbol","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"982","Unicode hex":"3D6"},{"Typeface name":"Symbol","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"969","Unicode hex":"3C9"},{"Typeface name":"Symbol","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"958","Unicode hex":"3BE"},{"Typeface name":"Symbol","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"968","Unicode hex":"3C8"},{"Typeface name":"Symbol","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"950","Unicode hex":"3B6"},{"Typeface name":"Symbol","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"123","Unicode hex":"7B"},{"Typeface name":"Symbol","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"124","Unicode hex":"7C"},{"Typeface name":"Symbol","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"125","Unicode hex":"7D"},{"Typeface name":"Symbol","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"126","Unicode hex":"7E"},{"Typeface name":"Symbol","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"8364","Unicode hex":"20AC"},{"Typeface name":"Symbol","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"978","Unicode hex":"3D2"},{"Typeface name":"Symbol","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"8242","Unicode hex":"2032"},{"Typeface name":"Symbol","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"8804","Unicode hex":"2264"},{"Typeface name":"Symbol","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"8260","Unicode hex":"2044"},{"Typeface name":"Symbol","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"8734","Unicode hex":"221E"},{"Typeface name":"Symbol","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"402","Unicode hex":"192"},{"Typeface name":"Symbol","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9827","Unicode hex":"2663"},{"Typeface name":"Symbol","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9830","Unicode hex":"2666"},{"Typeface name":"Symbol","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"9829","Unicode hex":"2665"},{"Typeface name":"Symbol","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"9824","Unicode hex":"2660"},{"Typeface name":"Symbol","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"8596","Unicode hex":"2194"},{"Typeface name":"Symbol","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"8592","Unicode hex":"2190"},{"Typeface name":"Symbol","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"8593","Unicode hex":"2191"},{"Typeface name":"Symbol","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"8594","Unicode hex":"2192"},{"Typeface name":"Symbol","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"8595","Unicode hex":"2193"},{"Typeface name":"Symbol","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"176","Unicode hex":"B0"},{"Typeface name":"Symbol","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"177","Unicode hex":"B1"},{"Typeface name":"Symbol","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"8243","Unicode hex":"2033"},{"Typeface name":"Symbol","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"8805","Unicode hex":"2265"},{"Typeface name":"Symbol","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"215","Unicode hex":"D7"},{"Typeface name":"Symbol","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"8733","Unicode hex":"221D"},{"Typeface name":"Symbol","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"8706","Unicode hex":"2202"},{"Typeface name":"Symbol","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Symbol","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"247","Unicode hex":"F7"},{"Typeface name":"Symbol","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"8800","Unicode hex":"2260"},{"Typeface name":"Symbol","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"8801","Unicode hex":"2261"},{"Typeface name":"Symbol","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"8776","Unicode hex":"2248"},{"Typeface name":"Symbol","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"8230","Unicode hex":"2026"},{"Typeface name":"Symbol","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Symbol","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"9135","Unicode hex":"23AF"},{"Typeface name":"Symbol","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"8629","Unicode hex":"21B5"},{"Typeface name":"Symbol","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"8501","Unicode hex":"2135"},{"Typeface name":"Symbol","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"8465","Unicode hex":"2111"},{"Typeface name":"Symbol","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"8476","Unicode hex":"211C"},{"Typeface name":"Symbol","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"8472","Unicode hex":"2118"},{"Typeface name":"Symbol","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"8855","Unicode hex":"2297"},{"Typeface name":"Symbol","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"8853","Unicode hex":"2295"},{"Typeface name":"Symbol","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"8709","Unicode hex":"2205"},{"Typeface name":"Symbol","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"8745","Unicode hex":"2229"},{"Typeface name":"Symbol","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"8746","Unicode hex":"222A"},{"Typeface name":"Symbol","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"8835","Unicode hex":"2283"},{"Typeface name":"Symbol","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"8839","Unicode hex":"2287"},{"Typeface name":"Symbol","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"8836","Unicode hex":"2284"},{"Typeface name":"Symbol","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"8834","Unicode hex":"2282"},{"Typeface name":"Symbol","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"8838","Unicode hex":"2286"},{"Typeface name":"Symbol","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"8712","Unicode hex":"2208"},{"Typeface name":"Symbol","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"8713","Unicode hex":"2209"},{"Typeface name":"Symbol","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"8736","Unicode hex":"2220"},{"Typeface name":"Symbol","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"8711","Unicode hex":"2207"},{"Typeface name":"Symbol","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"8719","Unicode hex":"220F"},{"Typeface name":"Symbol","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8730","Unicode hex":"221A"},{"Typeface name":"Symbol","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Symbol","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"172","Unicode hex":"AC"},{"Typeface name":"Symbol","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"8743","Unicode hex":"2227"},{"Typeface name":"Symbol","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"8744","Unicode hex":"2228"},{"Typeface name":"Symbol","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"8660","Unicode hex":"21D4"},{"Typeface name":"Symbol","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"8656","Unicode hex":"21D0"},{"Typeface name":"Symbol","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"8657","Unicode hex":"21D1"},{"Typeface name":"Symbol","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"8658","Unicode hex":"21D2"},{"Typeface name":"Symbol","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"8659","Unicode hex":"21D3"},{"Typeface name":"Symbol","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Symbol","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"12296","Unicode hex":"3008"},{"Typeface name":"Symbol","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"174","Unicode hex":"AE"},{"Typeface name":"Symbol","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"169","Unicode hex":"A9"},{"Typeface name":"Symbol","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"8482","Unicode hex":"2122"},{"Typeface name":"Symbol","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"8721","Unicode hex":"2211"},{"Typeface name":"Symbol","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"9115","Unicode hex":"239B"},{"Typeface name":"Symbol","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"9116","Unicode hex":"239C"},{"Typeface name":"Symbol","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9117","Unicode hex":"239D"},{"Typeface name":"Symbol","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9121","Unicode hex":"23A1"},{"Typeface name":"Symbol","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"9122","Unicode hex":"23A2"},{"Typeface name":"Symbol","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"9123","Unicode hex":"23A3"},{"Typeface name":"Symbol","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"9127","Unicode hex":"23A7"},{"Typeface name":"Symbol","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"9128","Unicode hex":"23A8"},{"Typeface name":"Symbol","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"9129","Unicode hex":"23A9"},{"Typeface name":"Symbol","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"9130","Unicode hex":"23AA"},{"Typeface name":"Symbol","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"63743","Unicode hex":"F8FF"},{"Typeface name":"Symbol","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"12297","Unicode hex":"3009"},{"Typeface name":"Symbol","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8747","Unicode hex":"222B"},{"Typeface name":"Symbol","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"8992","Unicode hex":"2320"},{"Typeface name":"Symbol","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"9134","Unicode hex":"23AE"},{"Typeface name":"Symbol","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"8993","Unicode hex":"2321"},{"Typeface name":"Symbol","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"9118","Unicode hex":"239E"},{"Typeface name":"Symbol","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"9119","Unicode hex":"239F"},{"Typeface name":"Symbol","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"9120","Unicode hex":"23A0"},{"Typeface name":"Symbol","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"9124","Unicode hex":"23A4"},{"Typeface name":"Symbol","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"9125","Unicode hex":"23A5"},{"Typeface name":"Symbol","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"9126","Unicode hex":"23A6"},{"Typeface name":"Symbol","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"9131","Unicode hex":"23AB"},{"Typeface name":"Symbol","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"9132","Unicode hex":"23AC"},{"Typeface name":"Symbol","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"9133","Unicode hex":"23AD"},{"Typeface name":"Webdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Webdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128375","Unicode hex":"1F577"},{"Typeface name":"Webdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128376","Unicode hex":"1F578"},{"Typeface name":"Webdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128370","Unicode hex":"1F572"},{"Typeface name":"Webdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128374","Unicode hex":"1F576"},{"Typeface name":"Webdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"127942","Unicode hex":"1F3C6"},{"Typeface name":"Webdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"127894","Unicode hex":"1F396"},{"Typeface name":"Webdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128391","Unicode hex":"1F587"},{"Typeface name":"Webdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128488","Unicode hex":"1F5E8"},{"Typeface name":"Webdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128489","Unicode hex":"1F5E9"},{"Typeface name":"Webdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128496","Unicode hex":"1F5F0"},{"Typeface name":"Webdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128497","Unicode hex":"1F5F1"},{"Typeface name":"Webdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"127798","Unicode hex":"1F336"},{"Typeface name":"Webdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"127895","Unicode hex":"1F397"},{"Typeface name":"Webdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128638","Unicode hex":"1F67E"},{"Typeface name":"Webdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128636","Unicode hex":"1F67C"},{"Typeface name":"Webdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128469","Unicode hex":"1F5D5"},{"Typeface name":"Webdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128470","Unicode hex":"1F5D6"},{"Typeface name":"Webdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128471","Unicode hex":"1F5D7"},{"Typeface name":"Webdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"9204","Unicode hex":"23F4"},{"Typeface name":"Webdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"9205","Unicode hex":"23F5"},{"Typeface name":"Webdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"9206","Unicode hex":"23F6"},{"Typeface name":"Webdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"9207","Unicode hex":"23F7"},{"Typeface name":"Webdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"9194","Unicode hex":"23EA"},{"Typeface name":"Webdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"9193","Unicode hex":"23E9"},{"Typeface name":"Webdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"9198","Unicode hex":"23EE"},{"Typeface name":"Webdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"9197","Unicode hex":"23ED"},{"Typeface name":"Webdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"9208","Unicode hex":"23F8"},{"Typeface name":"Webdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"9209","Unicode hex":"23F9"},{"Typeface name":"Webdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"9210","Unicode hex":"23FA"},{"Typeface name":"Webdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128474","Unicode hex":"1F5DA"},{"Typeface name":"Webdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128499","Unicode hex":"1F5F3"},{"Typeface name":"Webdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128736","Unicode hex":"1F6E0"},{"Typeface name":"Webdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"127959","Unicode hex":"1F3D7"},{"Typeface name":"Webdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"127960","Unicode hex":"1F3D8"},{"Typeface name":"Webdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"127961","Unicode hex":"1F3D9"},{"Typeface name":"Webdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"127962","Unicode hex":"1F3DA"},{"Typeface name":"Webdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"127964","Unicode hex":"1F3DC"},{"Typeface name":"Webdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"127981","Unicode hex":"1F3ED"},{"Typeface name":"Webdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"127963","Unicode hex":"1F3DB"},{"Typeface name":"Webdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"127968","Unicode hex":"1F3E0"},{"Typeface name":"Webdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"127958","Unicode hex":"1F3D6"},{"Typeface name":"Webdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"127965","Unicode hex":"1F3DD"},{"Typeface name":"Webdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128739","Unicode hex":"1F6E3"},{"Typeface name":"Webdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128269","Unicode hex":"1F50D"},{"Typeface name":"Webdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"127956","Unicode hex":"1F3D4"},{"Typeface name":"Webdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128065","Unicode hex":"1F441"},{"Typeface name":"Webdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128066","Unicode hex":"1F442"},{"Typeface name":"Webdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127966","Unicode hex":"1F3DE"},{"Typeface name":"Webdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"127957","Unicode hex":"1F3D5"},{"Typeface name":"Webdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"128740","Unicode hex":"1F6E4"},{"Typeface name":"Webdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127967","Unicode hex":"1F3DF"},{"Typeface name":"Webdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"128755","Unicode hex":"1F6F3"},{"Typeface name":"Webdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128364","Unicode hex":"1F56C"},{"Typeface name":"Webdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"128363","Unicode hex":"1F56B"},{"Typeface name":"Webdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128360","Unicode hex":"1F568"},{"Typeface name":"Webdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"128264","Unicode hex":"1F508"},{"Typeface name":"Webdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"127892","Unicode hex":"1F394"},{"Typeface name":"Webdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"127893","Unicode hex":"1F395"},{"Typeface name":"Webdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128492","Unicode hex":"1F5EC"},{"Typeface name":"Webdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128637","Unicode hex":"1F67D"},{"Typeface name":"Webdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"128493","Unicode hex":"1F5ED"},{"Typeface name":"Webdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128490","Unicode hex":"1F5EA"},{"Typeface name":"Webdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128491","Unicode hex":"1F5EB"},{"Typeface name":"Webdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"11156","Unicode hex":"2B94"},{"Typeface name":"Webdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"10004","Unicode hex":"2714"},{"Typeface name":"Webdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128690","Unicode hex":"1F6B2"},{"Typeface name":"Webdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"11036","Unicode hex":"2B1C"},{"Typeface name":"Webdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128737","Unicode hex":"1F6E1"},{"Typeface name":"Webdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128230","Unicode hex":"1F4E6"},{"Typeface name":"Webdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128753","Unicode hex":"1F6F1"},{"Typeface name":"Webdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"11035","Unicode hex":"2B1B"},{"Typeface name":"Webdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128657","Unicode hex":"1F691"},{"Typeface name":"Webdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"128712","Unicode hex":"1F6C8"},{"Typeface name":"Webdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128745","Unicode hex":"1F6E9"},{"Typeface name":"Webdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128752","Unicode hex":"1F6F0"},{"Typeface name":"Webdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"128968","Unicode hex":"1F7C8"},{"Typeface name":"Webdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128372","Unicode hex":"1F574"},{"Typeface name":"Webdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"11044","Unicode hex":"2B24"},{"Typeface name":"Webdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128741","Unicode hex":"1F6E5"},{"Typeface name":"Webdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128660","Unicode hex":"1F694"},{"Typeface name":"Webdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"128472","Unicode hex":"1F5D8"},{"Typeface name":"Webdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"128473","Unicode hex":"1F5D9"},{"Typeface name":"Webdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"10067","Unicode hex":"2753"},{"Typeface name":"Webdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"128754","Unicode hex":"1F6F2"},{"Typeface name":"Webdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"128647","Unicode hex":"1F687"},{"Typeface name":"Webdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"128653","Unicode hex":"1F68D"},{"Typeface name":"Webdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9971","Unicode hex":"26F3"},{"Typeface name":"Webdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Webdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"8854","Unicode hex":"2296"},{"Typeface name":"Webdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"128685","Unicode hex":"1F6AD"},{"Typeface name":"Webdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"128494","Unicode hex":"1F5EE"},{"Typeface name":"Webdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"9168","Unicode hex":"23D0"},{"Typeface name":"Webdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128495","Unicode hex":"1F5EF"},{"Typeface name":"Webdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128498","Unicode hex":"1F5F2"},{"Typeface name":"Webdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128697","Unicode hex":"1F6B9"},{"Typeface name":"Webdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"128698","Unicode hex":"1F6BA"},{"Typeface name":"Webdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"128713","Unicode hex":"1F6C9"},{"Typeface name":"Webdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"128714","Unicode hex":"1F6CA"},{"Typeface name":"Webdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"128700","Unicode hex":"1F6BC"},{"Typeface name":"Webdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"128125","Unicode hex":"1F47D"},{"Typeface name":"Webdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"127947","Unicode hex":"1F3CB"},{"Typeface name":"Webdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"9975","Unicode hex":"26F7"},{"Typeface name":"Webdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"127938","Unicode hex":"1F3C2"},{"Typeface name":"Webdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"127948","Unicode hex":"1F3CC"},{"Typeface name":"Webdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"127946","Unicode hex":"1F3CA"},{"Typeface name":"Webdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127940","Unicode hex":"1F3C4"},{"Typeface name":"Webdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"127949","Unicode hex":"1F3CD"},{"Typeface name":"Webdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"127950","Unicode hex":"1F3CE"},{"Typeface name":"Webdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128664","Unicode hex":"1F698"},{"Typeface name":"Webdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128480","Unicode hex":"1F5E0"},{"Typeface name":"Webdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128738","Unicode hex":"1F6E2"},{"Typeface name":"Webdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128176","Unicode hex":"1F4B0"},{"Typeface name":"Webdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"127991","Unicode hex":"1F3F7"},{"Typeface name":"Webdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128179","Unicode hex":"1F4B3"},{"Typeface name":"Webdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128106","Unicode hex":"1F46A"},{"Typeface name":"Webdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"128481","Unicode hex":"1F5E1"},{"Typeface name":"Webdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128482","Unicode hex":"1F5E2"},{"Typeface name":"Webdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128483","Unicode hex":"1F5E3"},{"Typeface name":"Webdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Webdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128388","Unicode hex":"1F584"},{"Typeface name":"Webdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128389","Unicode hex":"1F585"},{"Typeface name":"Webdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Webdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128390","Unicode hex":"1F586"},{"Typeface name":"Webdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128441","Unicode hex":"1F5B9"},{"Typeface name":"Webdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"128442","Unicode hex":"1F5BA"},{"Typeface name":"Webdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128443","Unicode hex":"1F5BB"},{"Typeface name":"Webdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128373","Unicode hex":"1F575"},{"Typeface name":"Webdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"128368","Unicode hex":"1F570"},{"Typeface name":"Webdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128445","Unicode hex":"1F5BD"},{"Typeface name":"Webdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128446","Unicode hex":"1F5BE"},{"Typeface name":"Webdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Webdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128466","Unicode hex":"1F5D2"},{"Typeface name":"Webdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128467","Unicode hex":"1F5D3"},{"Typeface name":"Webdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Webdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128218","Unicode hex":"1F4DA"},{"Typeface name":"Webdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128478","Unicode hex":"1F5DE"},{"Typeface name":"Webdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128479","Unicode hex":"1F5DF"},{"Typeface name":"Webdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128451","Unicode hex":"1F5C3"},{"Typeface name":"Webdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128450","Unicode hex":"1F5C2"},{"Typeface name":"Webdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128444","Unicode hex":"1F5BC"},{"Typeface name":"Webdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"127917","Unicode hex":"1F3AD"},{"Typeface name":"Webdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"127900","Unicode hex":"1F39C"},{"Typeface name":"Webdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"127896","Unicode hex":"1F398"},{"Typeface name":"Webdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"127897","Unicode hex":"1F399"},{"Typeface name":"Webdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"127911","Unicode hex":"1F3A7"},{"Typeface name":"Webdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128191","Unicode hex":"1F4BF"},{"Typeface name":"Webdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"127902","Unicode hex":"1F39E"},{"Typeface name":"Webdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128247","Unicode hex":"1F4F7"},{"Typeface name":"Webdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"127903","Unicode hex":"1F39F"},{"Typeface name":"Webdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"127916","Unicode hex":"1F3AC"},{"Typeface name":"Webdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128253","Unicode hex":"1F4FD"},{"Typeface name":"Webdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128249","Unicode hex":"1F4F9"},{"Typeface name":"Webdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128254","Unicode hex":"1F4FE"},{"Typeface name":"Webdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128251","Unicode hex":"1F4FB"},{"Typeface name":"Webdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"127898","Unicode hex":"1F39A"},{"Typeface name":"Webdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"127899","Unicode hex":"1F39B"},{"Typeface name":"Webdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128250","Unicode hex":"1F4FA"},{"Typeface name":"Webdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128187","Unicode hex":"1F4BB"},{"Typeface name":"Webdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128421","Unicode hex":"1F5A5"},{"Typeface name":"Webdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128422","Unicode hex":"1F5A6"},{"Typeface name":"Webdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128423","Unicode hex":"1F5A7"},{"Typeface name":"Webdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"128377","Unicode hex":"1F579"},{"Typeface name":"Webdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"127918","Unicode hex":"1F3AE"},{"Typeface name":"Webdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"128379","Unicode hex":"1F57B"},{"Typeface name":"Webdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128380","Unicode hex":"1F57C"},{"Typeface name":"Webdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128223","Unicode hex":"1F4DF"},{"Typeface name":"Webdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128385","Unicode hex":"1F581"},{"Typeface name":"Webdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128384","Unicode hex":"1F580"},{"Typeface name":"Webdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128424","Unicode hex":"1F5A8"},{"Typeface name":"Webdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128425","Unicode hex":"1F5A9"},{"Typeface name":"Webdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128447","Unicode hex":"1F5BF"},{"Typeface name":"Webdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128426","Unicode hex":"1F5AA"},{"Typeface name":"Webdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128476","Unicode hex":"1F5DC"},{"Typeface name":"Webdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128274","Unicode hex":"1F512"},{"Typeface name":"Webdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128275","Unicode hex":"1F513"},{"Typeface name":"Webdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128477","Unicode hex":"1F5DD"},{"Typeface name":"Webdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128229","Unicode hex":"1F4E5"},{"Typeface name":"Webdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128228","Unicode hex":"1F4E4"},{"Typeface name":"Webdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128371","Unicode hex":"1F573"},{"Typeface name":"Webdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"127779","Unicode hex":"1F323"},{"Typeface name":"Webdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"127780","Unicode hex":"1F324"},{"Typeface name":"Webdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"127781","Unicode hex":"1F325"},{"Typeface name":"Webdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"127782","Unicode hex":"1F326"},{"Typeface name":"Webdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"9729","Unicode hex":"2601"},{"Typeface name":"Webdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"127784","Unicode hex":"1F328"},{"Typeface name":"Webdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"127783","Unicode hex":"1F327"},{"Typeface name":"Webdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"127785","Unicode hex":"1F329"},{"Typeface name":"Webdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"127786","Unicode hex":"1F32A"},{"Typeface name":"Webdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"127788","Unicode hex":"1F32C"},{"Typeface name":"Webdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"127787","Unicode hex":"1F32B"},{"Typeface name":"Webdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"127772","Unicode hex":"1F31C"},{"Typeface name":"Webdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"127777","Unicode hex":"1F321"},{"Typeface name":"Webdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128715","Unicode hex":"1F6CB"},{"Typeface name":"Webdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128719","Unicode hex":"1F6CF"},{"Typeface name":"Webdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"127869","Unicode hex":"1F37D"},{"Typeface name":"Webdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"127864","Unicode hex":"1F378"},{"Typeface name":"Webdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128718","Unicode hex":"1F6CE"},{"Typeface name":"Webdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128717","Unicode hex":"1F6CD"},{"Typeface name":"Webdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"9413","Unicode hex":"24C5"},{"Typeface name":"Webdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"9855","Unicode hex":"267F"},{"Typeface name":"Webdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128710","Unicode hex":"1F6C6"},{"Typeface name":"Webdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"128392","Unicode hex":"1F588"},{"Typeface name":"Webdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"127891","Unicode hex":"1F393"},{"Typeface name":"Webdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128484","Unicode hex":"1F5E4"},{"Typeface name":"Webdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128485","Unicode hex":"1F5E5"},{"Typeface name":"Webdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128486","Unicode hex":"1F5E6"},{"Typeface name":"Webdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"128487","Unicode hex":"1F5E7"},{"Typeface name":"Webdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128746","Unicode hex":"1F6EA"},{"Typeface name":"Webdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128063","Unicode hex":"1F43F"},{"Typeface name":"Webdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"128038","Unicode hex":"1F426"},{"Typeface name":"Webdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128031","Unicode hex":"1F41F"},{"Typeface name":"Webdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128021","Unicode hex":"1F415"},{"Typeface name":"Webdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"128008","Unicode hex":"1F408"},{"Typeface name":"Webdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"128620","Unicode hex":"1F66C"},{"Typeface name":"Webdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"128622","Unicode hex":"1F66E"},{"Typeface name":"Webdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"128621","Unicode hex":"1F66D"},{"Typeface name":"Webdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"128623","Unicode hex":"1F66F"},{"Typeface name":"Webdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128506","Unicode hex":"1F5FA"},{"Typeface name":"Webdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"127757","Unicode hex":"1F30D"},{"Typeface name":"Webdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"127759","Unicode hex":"1F30F"},{"Typeface name":"Webdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"127758","Unicode hex":"1F30E"},{"Typeface name":"Webdings","Dingbat dec":"255","Dingbat hex":"FF","Unicode dec":"128330","Unicode hex":"1F54A"},{"Typeface name":"Wingdings","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128393","Unicode hex":"1F589"},{"Typeface name":"Wingdings","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"9986","Unicode hex":"2702"},{"Typeface name":"Wingdings","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"9985","Unicode hex":"2701"},{"Typeface name":"Wingdings","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128083","Unicode hex":"1F453"},{"Typeface name":"Wingdings","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"128365","Unicode hex":"1F56D"},{"Typeface name":"Wingdings","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"128366","Unicode hex":"1F56E"},{"Typeface name":"Wingdings","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128367","Unicode hex":"1F56F"},{"Typeface name":"Wingdings","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128383","Unicode hex":"1F57F"},{"Typeface name":"Wingdings","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"9990","Unicode hex":"2706"},{"Typeface name":"Wingdings","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128386","Unicode hex":"1F582"},{"Typeface name":"Wingdings","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128387","Unicode hex":"1F583"},{"Typeface name":"Wingdings","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128234","Unicode hex":"1F4EA"},{"Typeface name":"Wingdings","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128235","Unicode hex":"1F4EB"},{"Typeface name":"Wingdings","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128236","Unicode hex":"1F4EC"},{"Typeface name":"Wingdings","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128237","Unicode hex":"1F4ED"},{"Typeface name":"Wingdings","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128448","Unicode hex":"1F5C0"},{"Typeface name":"Wingdings","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128449","Unicode hex":"1F5C1"},{"Typeface name":"Wingdings","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128462","Unicode hex":"1F5CE"},{"Typeface name":"Wingdings","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128463","Unicode hex":"1F5CF"},{"Typeface name":"Wingdings","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128464","Unicode hex":"1F5D0"},{"Typeface name":"Wingdings","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128452","Unicode hex":"1F5C4"},{"Typeface name":"Wingdings","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"8987","Unicode hex":"231B"},{"Typeface name":"Wingdings","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128430","Unicode hex":"1F5AE"},{"Typeface name":"Wingdings","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128432","Unicode hex":"1F5B0"},{"Typeface name":"Wingdings","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128434","Unicode hex":"1F5B2"},{"Typeface name":"Wingdings","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128435","Unicode hex":"1F5B3"},{"Typeface name":"Wingdings","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128436","Unicode hex":"1F5B4"},{"Typeface name":"Wingdings","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128427","Unicode hex":"1F5AB"},{"Typeface name":"Wingdings","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128428","Unicode hex":"1F5AC"},{"Typeface name":"Wingdings","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"9991","Unicode hex":"2707"},{"Typeface name":"Wingdings","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"9997","Unicode hex":"270D"},{"Typeface name":"Wingdings","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128398","Unicode hex":"1F58E"},{"Typeface name":"Wingdings","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"9996","Unicode hex":"270C"},{"Typeface name":"Wingdings","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128399","Unicode hex":"1F58F"},{"Typeface name":"Wingdings","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128077","Unicode hex":"1F44D"},{"Typeface name":"Wingdings","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128078","Unicode hex":"1F44E"},{"Typeface name":"Wingdings","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"9756","Unicode hex":"261C"},{"Typeface name":"Wingdings","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"9758","Unicode hex":"261E"},{"Typeface name":"Wingdings","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"9757","Unicode hex":"261D"},{"Typeface name":"Wingdings","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"9759","Unicode hex":"261F"},{"Typeface name":"Wingdings","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128400","Unicode hex":"1F590"},{"Typeface name":"Wingdings","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"9786","Unicode hex":"263A"},{"Typeface name":"Wingdings","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128528","Unicode hex":"1F610"},{"Typeface name":"Wingdings","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"9785","Unicode hex":"2639"},{"Typeface name":"Wingdings","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128163","Unicode hex":"1F4A3"},{"Typeface name":"Wingdings","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128369","Unicode hex":"1F571"},{"Typeface name":"Wingdings","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"127987","Unicode hex":"1F3F3"},{"Typeface name":"Wingdings","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"127985","Unicode hex":"1F3F1"},{"Typeface name":"Wingdings","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"9992","Unicode hex":"2708"},{"Typeface name":"Wingdings","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9788","Unicode hex":"263C"},{"Typeface name":"Wingdings","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"127778","Unicode hex":"1F322"},{"Typeface name":"Wingdings","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"10052","Unicode hex":"2744"},{"Typeface name":"Wingdings","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"128326","Unicode hex":"1F546"},{"Typeface name":"Wingdings","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"10014","Unicode hex":"271E"},{"Typeface name":"Wingdings","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128328","Unicode hex":"1F548"},{"Typeface name":"Wingdings","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10016","Unicode hex":"2720"},{"Typeface name":"Wingdings","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"10017","Unicode hex":"2721"},{"Typeface name":"Wingdings","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"9770","Unicode hex":"262A"},{"Typeface name":"Wingdings","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"9775","Unicode hex":"262F"},{"Typeface name":"Wingdings","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128329","Unicode hex":"1F549"},{"Typeface name":"Wingdings","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"9784","Unicode hex":"2638"},{"Typeface name":"Wingdings","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"9800","Unicode hex":"2648"},{"Typeface name":"Wingdings","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"9801","Unicode hex":"2649"},{"Typeface name":"Wingdings","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"9802","Unicode hex":"264A"},{"Typeface name":"Wingdings","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"9803","Unicode hex":"264B"},{"Typeface name":"Wingdings","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"9804","Unicode hex":"264C"},{"Typeface name":"Wingdings","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"9805","Unicode hex":"264D"},{"Typeface name":"Wingdings","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"9806","Unicode hex":"264E"},{"Typeface name":"Wingdings","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"9807","Unicode hex":"264F"},{"Typeface name":"Wingdings","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"9808","Unicode hex":"2650"},{"Typeface name":"Wingdings","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"9809","Unicode hex":"2651"},{"Typeface name":"Wingdings","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"9810","Unicode hex":"2652"},{"Typeface name":"Wingdings","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9811","Unicode hex":"2653"},{"Typeface name":"Wingdings","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"128624","Unicode hex":"1F670"},{"Typeface name":"Wingdings","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"128629","Unicode hex":"1F675"},{"Typeface name":"Wingdings","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9899","Unicode hex":"26AB"},{"Typeface name":"Wingdings","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"128318","Unicode hex":"1F53E"},{"Typeface name":"Wingdings","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9724","Unicode hex":"25FC"},{"Typeface name":"Wingdings","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"128911","Unicode hex":"1F78F"},{"Typeface name":"Wingdings","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"128912","Unicode hex":"1F790"},{"Typeface name":"Wingdings","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"10065","Unicode hex":"2751"},{"Typeface name":"Wingdings","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"10066","Unicode hex":"2752"},{"Typeface name":"Wingdings","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"128927","Unicode hex":"1F79F"},{"Typeface name":"Wingdings","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"10731","Unicode hex":"29EB"},{"Typeface name":"Wingdings","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9670","Unicode hex":"25C6"},{"Typeface name":"Wingdings","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10070","Unicode hex":"2756"},{"Typeface name":"Wingdings","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"8999","Unicode hex":"2327"},{"Typeface name":"Wingdings","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"11193","Unicode hex":"2BB9"},{"Typeface name":"Wingdings","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"8984","Unicode hex":"2318"},{"Typeface name":"Wingdings","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"127989","Unicode hex":"1F3F5"},{"Typeface name":"Wingdings","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"127990","Unicode hex":"1F3F6"},{"Typeface name":"Wingdings","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128630","Unicode hex":"1F676"},{"Typeface name":"Wingdings","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128631","Unicode hex":"1F677"},{"Typeface name":"Wingdings","Dingbat dec":"127","Dingbat hex":"7F","Unicode dec":"9647","Unicode hex":"25AF"},{"Typeface name":"Wingdings","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"127243","Unicode hex":"1F10B"},{"Typeface name":"Wingdings","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"10112","Unicode hex":"2780"},{"Typeface name":"Wingdings","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"10113","Unicode hex":"2781"},{"Typeface name":"Wingdings","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"10114","Unicode hex":"2782"},{"Typeface name":"Wingdings","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"10115","Unicode hex":"2783"},{"Typeface name":"Wingdings","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10116","Unicode hex":"2784"},{"Typeface name":"Wingdings","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"10117","Unicode hex":"2785"},{"Typeface name":"Wingdings","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"10118","Unicode hex":"2786"},{"Typeface name":"Wingdings","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"10119","Unicode hex":"2787"},{"Typeface name":"Wingdings","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"10120","Unicode hex":"2788"},{"Typeface name":"Wingdings","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"10121","Unicode hex":"2789"},{"Typeface name":"Wingdings","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"127244","Unicode hex":"1F10C"},{"Typeface name":"Wingdings","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"10122","Unicode hex":"278A"},{"Typeface name":"Wingdings","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"10123","Unicode hex":"278B"},{"Typeface name":"Wingdings","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"10124","Unicode hex":"278C"},{"Typeface name":"Wingdings","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"10125","Unicode hex":"278D"},{"Typeface name":"Wingdings","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"10126","Unicode hex":"278E"},{"Typeface name":"Wingdings","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"10127","Unicode hex":"278F"},{"Typeface name":"Wingdings","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"10128","Unicode hex":"2790"},{"Typeface name":"Wingdings","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"10129","Unicode hex":"2791"},{"Typeface name":"Wingdings","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"10130","Unicode hex":"2792"},{"Typeface name":"Wingdings","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"10131","Unicode hex":"2793"},{"Typeface name":"Wingdings","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128610","Unicode hex":"1F662"},{"Typeface name":"Wingdings","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"128608","Unicode hex":"1F660"},{"Typeface name":"Wingdings","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"128609","Unicode hex":"1F661"},{"Typeface name":"Wingdings","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"128611","Unicode hex":"1F663"},{"Typeface name":"Wingdings","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128606","Unicode hex":"1F65E"},{"Typeface name":"Wingdings","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128604","Unicode hex":"1F65C"},{"Typeface name":"Wingdings","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128605","Unicode hex":"1F65D"},{"Typeface name":"Wingdings","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"128607","Unicode hex":"1F65F"},{"Typeface name":"Wingdings","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"8729","Unicode hex":"2219"},{"Typeface name":"Wingdings","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"8226","Unicode hex":"2022"},{"Typeface name":"Wingdings","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"11037","Unicode hex":"2B1D"},{"Typeface name":"Wingdings","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"11096","Unicode hex":"2B58"},{"Typeface name":"Wingdings","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"128902","Unicode hex":"1F786"},{"Typeface name":"Wingdings","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"128904","Unicode hex":"1F788"},{"Typeface name":"Wingdings","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128906","Unicode hex":"1F78A"},{"Typeface name":"Wingdings","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128907","Unicode hex":"1F78B"},{"Typeface name":"Wingdings","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128319","Unicode hex":"1F53F"},{"Typeface name":"Wingdings","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"9642","Unicode hex":"25AA"},{"Typeface name":"Wingdings","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"128910","Unicode hex":"1F78E"},{"Typeface name":"Wingdings","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128961","Unicode hex":"1F7C1"},{"Typeface name":"Wingdings","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128965","Unicode hex":"1F7C5"},{"Typeface name":"Wingdings","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"9733","Unicode hex":"2605"},{"Typeface name":"Wingdings","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128971","Unicode hex":"1F7CB"},{"Typeface name":"Wingdings","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"128975","Unicode hex":"1F7CF"},{"Typeface name":"Wingdings","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"128979","Unicode hex":"1F7D3"},{"Typeface name":"Wingdings","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"128977","Unicode hex":"1F7D1"},{"Typeface name":"Wingdings","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"11216","Unicode hex":"2BD0"},{"Typeface name":"Wingdings","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"8982","Unicode hex":"2316"},{"Typeface name":"Wingdings","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"11214","Unicode hex":"2BCE"},{"Typeface name":"Wingdings","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"11215","Unicode hex":"2BCF"},{"Typeface name":"Wingdings","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"11217","Unicode hex":"2BD1"},{"Typeface name":"Wingdings","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"10026","Unicode hex":"272A"},{"Typeface name":"Wingdings","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"10032","Unicode hex":"2730"},{"Typeface name":"Wingdings","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"128336","Unicode hex":"1F550"},{"Typeface name":"Wingdings","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"128337","Unicode hex":"1F551"},{"Typeface name":"Wingdings","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128338","Unicode hex":"1F552"},{"Typeface name":"Wingdings","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"128339","Unicode hex":"1F553"},{"Typeface name":"Wingdings","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"128340","Unicode hex":"1F554"},{"Typeface name":"Wingdings","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"128341","Unicode hex":"1F555"},{"Typeface name":"Wingdings","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"128342","Unicode hex":"1F556"},{"Typeface name":"Wingdings","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"128343","Unicode hex":"1F557"},{"Typeface name":"Wingdings","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"128344","Unicode hex":"1F558"},{"Typeface name":"Wingdings","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"128345","Unicode hex":"1F559"},{"Typeface name":"Wingdings","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"128346","Unicode hex":"1F55A"},{"Typeface name":"Wingdings","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"128347","Unicode hex":"1F55B"},{"Typeface name":"Wingdings","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11184","Unicode hex":"2BB0"},{"Typeface name":"Wingdings","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11185","Unicode hex":"2BB1"},{"Typeface name":"Wingdings","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11186","Unicode hex":"2BB2"},{"Typeface name":"Wingdings","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"11187","Unicode hex":"2BB3"},{"Typeface name":"Wingdings","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"11188","Unicode hex":"2BB4"},{"Typeface name":"Wingdings","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"11189","Unicode hex":"2BB5"},{"Typeface name":"Wingdings","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11190","Unicode hex":"2BB6"},{"Typeface name":"Wingdings","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11191","Unicode hex":"2BB7"},{"Typeface name":"Wingdings","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128618","Unicode hex":"1F66A"},{"Typeface name":"Wingdings","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128619","Unicode hex":"1F66B"},{"Typeface name":"Wingdings","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128597","Unicode hex":"1F655"},{"Typeface name":"Wingdings","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128596","Unicode hex":"1F654"},{"Typeface name":"Wingdings","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128599","Unicode hex":"1F657"},{"Typeface name":"Wingdings","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128598","Unicode hex":"1F656"},{"Typeface name":"Wingdings","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128592","Unicode hex":"1F650"},{"Typeface name":"Wingdings","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128593","Unicode hex":"1F651"},{"Typeface name":"Wingdings","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128594","Unicode hex":"1F652"},{"Typeface name":"Wingdings","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128595","Unicode hex":"1F653"},{"Typeface name":"Wingdings","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"9003","Unicode hex":"232B"},{"Typeface name":"Wingdings","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"8998","Unicode hex":"2326"},{"Typeface name":"Wingdings","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"11160","Unicode hex":"2B98"},{"Typeface name":"Wingdings","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"11162","Unicode hex":"2B9A"},{"Typeface name":"Wingdings","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"11161","Unicode hex":"2B99"},{"Typeface name":"Wingdings","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"11163","Unicode hex":"2B9B"},{"Typeface name":"Wingdings","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"11144","Unicode hex":"2B88"},{"Typeface name":"Wingdings","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"11146","Unicode hex":"2B8A"},{"Typeface name":"Wingdings","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"11145","Unicode hex":"2B89"},{"Typeface name":"Wingdings","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"11147","Unicode hex":"2B8B"},{"Typeface name":"Wingdings","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129128","Unicode hex":"1F868"},{"Typeface name":"Wingdings","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129130","Unicode hex":"1F86A"},{"Typeface name":"Wingdings","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129129","Unicode hex":"1F869"},{"Typeface name":"Wingdings","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129131","Unicode hex":"1F86B"},{"Typeface name":"Wingdings","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129132","Unicode hex":"1F86C"},{"Typeface name":"Wingdings","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129133","Unicode hex":"1F86D"},{"Typeface name":"Wingdings","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129135","Unicode hex":"1F86F"},{"Typeface name":"Wingdings","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129134","Unicode hex":"1F86E"},{"Typeface name":"Wingdings","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129144","Unicode hex":"1F878"},{"Typeface name":"Wingdings","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129146","Unicode hex":"1F87A"},{"Typeface name":"Wingdings","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129145","Unicode hex":"1F879"},{"Typeface name":"Wingdings","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129147","Unicode hex":"1F87B"},{"Typeface name":"Wingdings","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129148","Unicode hex":"1F87C"},{"Typeface name":"Wingdings","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129149","Unicode hex":"1F87D"},{"Typeface name":"Wingdings","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129151","Unicode hex":"1F87F"},{"Typeface name":"Wingdings","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129150","Unicode hex":"1F87E"},{"Typeface name":"Wingdings","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"8678","Unicode hex":"21E6"},{"Typeface name":"Wingdings","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"8680","Unicode hex":"21E8"},{"Typeface name":"Wingdings","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"8679","Unicode hex":"21E7"},{"Typeface name":"Wingdings","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"8681","Unicode hex":"21E9"},{"Typeface name":"Wingdings","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"11012","Unicode hex":"2B04"},{"Typeface name":"Wingdings","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"8691","Unicode hex":"21F3"},{"Typeface name":"Wingdings","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"11009","Unicode hex":"2B01"},{"Typeface name":"Wingdings","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11008","Unicode hex":"2B00"},{"Typeface name":"Wingdings","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11011","Unicode hex":"2B03"},{"Typeface name":"Wingdings","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"11010","Unicode hex":"2B02"},{"Typeface name":"Wingdings","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"129196","Unicode hex":"1F8AC"},{"Typeface name":"Wingdings","Dingbat dec":"250","Dingbat hex":"FA","Unicode dec":"129197","Unicode hex":"1F8AD"},{"Typeface name":"Wingdings","Dingbat dec":"251","Dingbat hex":"FB","Unicode dec":"128502","Unicode hex":"1F5F6"},{"Typeface name":"Wingdings","Dingbat dec":"252","Dingbat hex":"FC","Unicode dec":"10003","Unicode hex":"2713"},{"Typeface name":"Wingdings","Dingbat dec":"253","Dingbat hex":"FD","Unicode dec":"128503","Unicode hex":"1F5F7"},{"Typeface name":"Wingdings","Dingbat dec":"254","Dingbat hex":"FE","Unicode dec":"128505","Unicode hex":"1F5F9"},{"Typeface name":"Wingdings 2","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 2","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"128394","Unicode hex":"1F58A"},{"Typeface name":"Wingdings 2","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"128395","Unicode hex":"1F58B"},{"Typeface name":"Wingdings 2","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"128396","Unicode hex":"1F58C"},{"Typeface name":"Wingdings 2","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"128397","Unicode hex":"1F58D"},{"Typeface name":"Wingdings 2","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"9988","Unicode hex":"2704"},{"Typeface name":"Wingdings 2","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"9984","Unicode hex":"2700"},{"Typeface name":"Wingdings 2","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"128382","Unicode hex":"1F57E"},{"Typeface name":"Wingdings 2","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"128381","Unicode hex":"1F57D"},{"Typeface name":"Wingdings 2","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"128453","Unicode hex":"1F5C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"128454","Unicode hex":"1F5C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"128455","Unicode hex":"1F5C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"128456","Unicode hex":"1F5C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"128457","Unicode hex":"1F5C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"128458","Unicode hex":"1F5CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"128459","Unicode hex":"1F5CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"128460","Unicode hex":"1F5CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"128461","Unicode hex":"1F5CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"128203","Unicode hex":"1F4CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"128465","Unicode hex":"1F5D1"},{"Typeface name":"Wingdings 2","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"128468","Unicode hex":"1F5D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"128437","Unicode hex":"1F5B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"128438","Unicode hex":"1F5B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"128439","Unicode hex":"1F5B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"128440","Unicode hex":"1F5B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"128429","Unicode hex":"1F5AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"128431","Unicode hex":"1F5AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"128433","Unicode hex":"1F5B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"128402","Unicode hex":"1F592"},{"Typeface name":"Wingdings 2","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"128403","Unicode hex":"1F593"},{"Typeface name":"Wingdings 2","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"128408","Unicode hex":"1F598"},{"Typeface name":"Wingdings 2","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"128409","Unicode hex":"1F599"},{"Typeface name":"Wingdings 2","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"128410","Unicode hex":"1F59A"},{"Typeface name":"Wingdings 2","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"128411","Unicode hex":"1F59B"},{"Typeface name":"Wingdings 2","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"128072","Unicode hex":"1F448"},{"Typeface name":"Wingdings 2","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"128073","Unicode hex":"1F449"},{"Typeface name":"Wingdings 2","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"128412","Unicode hex":"1F59C"},{"Typeface name":"Wingdings 2","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"128413","Unicode hex":"1F59D"},{"Typeface name":"Wingdings 2","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"128414","Unicode hex":"1F59E"},{"Typeface name":"Wingdings 2","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"128415","Unicode hex":"1F59F"},{"Typeface name":"Wingdings 2","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"128416","Unicode hex":"1F5A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"128417","Unicode hex":"1F5A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"128070","Unicode hex":"1F446"},{"Typeface name":"Wingdings 2","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"128071","Unicode hex":"1F447"},{"Typeface name":"Wingdings 2","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"128418","Unicode hex":"1F5A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"128419","Unicode hex":"1F5A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"128401","Unicode hex":"1F591"},{"Typeface name":"Wingdings 2","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"128500","Unicode hex":"1F5F4"},{"Typeface name":"Wingdings 2","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"128504","Unicode hex":"1F5F8"},{"Typeface name":"Wingdings 2","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"128501","Unicode hex":"1F5F5"},{"Typeface name":"Wingdings 2","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9745","Unicode hex":"2611"},{"Typeface name":"Wingdings 2","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"11197","Unicode hex":"2BBD"},{"Typeface name":"Wingdings 2","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"9746","Unicode hex":"2612"},{"Typeface name":"Wingdings 2","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"11198","Unicode hex":"2BBE"},{"Typeface name":"Wingdings 2","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"11199","Unicode hex":"2BBF"},{"Typeface name":"Wingdings 2","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"128711","Unicode hex":"1F6C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"10680","Unicode hex":"29B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"128625","Unicode hex":"1F671"},{"Typeface name":"Wingdings 2","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"128628","Unicode hex":"1F674"},{"Typeface name":"Wingdings 2","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"128626","Unicode hex":"1F672"},{"Typeface name":"Wingdings 2","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"128627","Unicode hex":"1F673"},{"Typeface name":"Wingdings 2","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"8253","Unicode hex":"203D"},{"Typeface name":"Wingdings 2","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"128633","Unicode hex":"1F679"},{"Typeface name":"Wingdings 2","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"128634","Unicode hex":"1F67A"},{"Typeface name":"Wingdings 2","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"128635","Unicode hex":"1F67B"},{"Typeface name":"Wingdings 2","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"128614","Unicode hex":"1F666"},{"Typeface name":"Wingdings 2","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"128612","Unicode hex":"1F664"},{"Typeface name":"Wingdings 2","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"128613","Unicode hex":"1F665"},{"Typeface name":"Wingdings 2","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"128615","Unicode hex":"1F667"},{"Typeface name":"Wingdings 2","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"128602","Unicode hex":"1F65A"},{"Typeface name":"Wingdings 2","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"128600","Unicode hex":"1F658"},{"Typeface name":"Wingdings 2","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"128601","Unicode hex":"1F659"},{"Typeface name":"Wingdings 2","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"128603","Unicode hex":"1F65B"},{"Typeface name":"Wingdings 2","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"9450","Unicode hex":"24EA"},{"Typeface name":"Wingdings 2","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"9312","Unicode hex":"2460"},{"Typeface name":"Wingdings 2","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"9313","Unicode hex":"2461"},{"Typeface name":"Wingdings 2","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"9314","Unicode hex":"2462"},{"Typeface name":"Wingdings 2","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"9315","Unicode hex":"2463"},{"Typeface name":"Wingdings 2","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"9316","Unicode hex":"2464"},{"Typeface name":"Wingdings 2","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"9317","Unicode hex":"2465"},{"Typeface name":"Wingdings 2","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9318","Unicode hex":"2466"},{"Typeface name":"Wingdings 2","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9319","Unicode hex":"2467"},{"Typeface name":"Wingdings 2","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9320","Unicode hex":"2468"},{"Typeface name":"Wingdings 2","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9321","Unicode hex":"2469"},{"Typeface name":"Wingdings 2","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9471","Unicode hex":"24FF"},{"Typeface name":"Wingdings 2","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"10102","Unicode hex":"2776"},{"Typeface name":"Wingdings 2","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"10103","Unicode hex":"2777"},{"Typeface name":"Wingdings 2","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"10104","Unicode hex":"2778"},{"Typeface name":"Wingdings 2","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"10105","Unicode hex":"2779"},{"Typeface name":"Wingdings 2","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"10106","Unicode hex":"277A"},{"Typeface name":"Wingdings 2","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"10107","Unicode hex":"277B"},{"Typeface name":"Wingdings 2","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"10108","Unicode hex":"277C"},{"Typeface name":"Wingdings 2","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"10109","Unicode hex":"277D"},{"Typeface name":"Wingdings 2","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"10110","Unicode hex":"277E"},{"Typeface name":"Wingdings 2","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"10111","Unicode hex":"277F"},{"Typeface name":"Wingdings 2","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"9737","Unicode hex":"2609"},{"Typeface name":"Wingdings 2","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"127765","Unicode hex":"1F315"},{"Typeface name":"Wingdings 2","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"9789","Unicode hex":"263D"},{"Typeface name":"Wingdings 2","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"9790","Unicode hex":"263E"},{"Typeface name":"Wingdings 2","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11839","Unicode hex":"2E3F"},{"Typeface name":"Wingdings 2","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"10013","Unicode hex":"271D"},{"Typeface name":"Wingdings 2","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"128327","Unicode hex":"1F547"},{"Typeface name":"Wingdings 2","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"128348","Unicode hex":"1F55C"},{"Typeface name":"Wingdings 2","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"128349","Unicode hex":"1F55D"},{"Typeface name":"Wingdings 2","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"128350","Unicode hex":"1F55E"},{"Typeface name":"Wingdings 2","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"128351","Unicode hex":"1F55F"},{"Typeface name":"Wingdings 2","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"128352","Unicode hex":"1F560"},{"Typeface name":"Wingdings 2","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"128353","Unicode hex":"1F561"},{"Typeface name":"Wingdings 2","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"128354","Unicode hex":"1F562"},{"Typeface name":"Wingdings 2","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"128355","Unicode hex":"1F563"},{"Typeface name":"Wingdings 2","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"128356","Unicode hex":"1F564"},{"Typeface name":"Wingdings 2","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"128357","Unicode hex":"1F565"},{"Typeface name":"Wingdings 2","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"128358","Unicode hex":"1F566"},{"Typeface name":"Wingdings 2","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"128359","Unicode hex":"1F567"},{"Typeface name":"Wingdings 2","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"128616","Unicode hex":"1F668"},{"Typeface name":"Wingdings 2","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"128617","Unicode hex":"1F669"},{"Typeface name":"Wingdings 2","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"8901","Unicode hex":"22C5"},{"Typeface name":"Wingdings 2","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"128900","Unicode hex":"1F784"},{"Typeface name":"Wingdings 2","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"10625","Unicode hex":"2981"},{"Typeface name":"Wingdings 2","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"9679","Unicode hex":"25CF"},{"Typeface name":"Wingdings 2","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"9675","Unicode hex":"25CB"},{"Typeface name":"Wingdings 2","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"128901","Unicode hex":"1F785"},{"Typeface name":"Wingdings 2","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"128903","Unicode hex":"1F787"},{"Typeface name":"Wingdings 2","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"128905","Unicode hex":"1F789"},{"Typeface name":"Wingdings 2","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"8857","Unicode hex":"2299"},{"Typeface name":"Wingdings 2","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"10687","Unicode hex":"29BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"128908","Unicode hex":"1F78C"},{"Typeface name":"Wingdings 2","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"128909","Unicode hex":"1F78D"},{"Typeface name":"Wingdings 2","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"9726","Unicode hex":"25FE"},{"Typeface name":"Wingdings 2","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"9632","Unicode hex":"25A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"9633","Unicode hex":"25A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"128913","Unicode hex":"1F791"},{"Typeface name":"Wingdings 2","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"128914","Unicode hex":"1F792"},{"Typeface name":"Wingdings 2","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"128915","Unicode hex":"1F793"},{"Typeface name":"Wingdings 2","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"128916","Unicode hex":"1F794"},{"Typeface name":"Wingdings 2","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"9635","Unicode hex":"25A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"128917","Unicode hex":"1F795"},{"Typeface name":"Wingdings 2","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"128918","Unicode hex":"1F796"},{"Typeface name":"Wingdings 2","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"128919","Unicode hex":"1F797"},{"Typeface name":"Wingdings 2","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"128920","Unicode hex":"1F798"},{"Typeface name":"Wingdings 2","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"11049","Unicode hex":"2B29"},{"Typeface name":"Wingdings 2","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"11045","Unicode hex":"2B25"},{"Typeface name":"Wingdings 2","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"9671","Unicode hex":"25C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"128922","Unicode hex":"1F79A"},{"Typeface name":"Wingdings 2","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"9672","Unicode hex":"25C8"},{"Typeface name":"Wingdings 2","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"128923","Unicode hex":"1F79B"},{"Typeface name":"Wingdings 2","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"128924","Unicode hex":"1F79C"},{"Typeface name":"Wingdings 2","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"128925","Unicode hex":"1F79D"},{"Typeface name":"Wingdings 2","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"128926","Unicode hex":"1F79E"},{"Typeface name":"Wingdings 2","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"11050","Unicode hex":"2B2A"},{"Typeface name":"Wingdings 2","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"11047","Unicode hex":"2B27"},{"Typeface name":"Wingdings 2","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"9674","Unicode hex":"25CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"128928","Unicode hex":"1F7A0"},{"Typeface name":"Wingdings 2","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"9686","Unicode hex":"25D6"},{"Typeface name":"Wingdings 2","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"9687","Unicode hex":"25D7"},{"Typeface name":"Wingdings 2","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"11210","Unicode hex":"2BCA"},{"Typeface name":"Wingdings 2","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"11211","Unicode hex":"2BCB"},{"Typeface name":"Wingdings 2","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"11200","Unicode hex":"2BC0"},{"Typeface name":"Wingdings 2","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"11201","Unicode hex":"2BC1"},{"Typeface name":"Wingdings 2","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"11039","Unicode hex":"2B1F"},{"Typeface name":"Wingdings 2","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"11202","Unicode hex":"2BC2"},{"Typeface name":"Wingdings 2","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"11043","Unicode hex":"2B23"},{"Typeface name":"Wingdings 2","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"11042","Unicode hex":"2B22"},{"Typeface name":"Wingdings 2","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"11203","Unicode hex":"2BC3"},{"Typeface name":"Wingdings 2","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"11204","Unicode hex":"2BC4"},{"Typeface name":"Wingdings 2","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"128929","Unicode hex":"1F7A1"},{"Typeface name":"Wingdings 2","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"128930","Unicode hex":"1F7A2"},{"Typeface name":"Wingdings 2","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"128931","Unicode hex":"1F7A3"},{"Typeface name":"Wingdings 2","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"128932","Unicode hex":"1F7A4"},{"Typeface name":"Wingdings 2","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"128933","Unicode hex":"1F7A5"},{"Typeface name":"Wingdings 2","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"128934","Unicode hex":"1F7A6"},{"Typeface name":"Wingdings 2","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"128935","Unicode hex":"1F7A7"},{"Typeface name":"Wingdings 2","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"128936","Unicode hex":"1F7A8"},{"Typeface name":"Wingdings 2","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"128937","Unicode hex":"1F7A9"},{"Typeface name":"Wingdings 2","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"128938","Unicode hex":"1F7AA"},{"Typeface name":"Wingdings 2","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"128939","Unicode hex":"1F7AB"},{"Typeface name":"Wingdings 2","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"128940","Unicode hex":"1F7AC"},{"Typeface name":"Wingdings 2","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"128941","Unicode hex":"1F7AD"},{"Typeface name":"Wingdings 2","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"128942","Unicode hex":"1F7AE"},{"Typeface name":"Wingdings 2","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"128943","Unicode hex":"1F7AF"},{"Typeface name":"Wingdings 2","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"128944","Unicode hex":"1F7B0"},{"Typeface name":"Wingdings 2","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"128945","Unicode hex":"1F7B1"},{"Typeface name":"Wingdings 2","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"128946","Unicode hex":"1F7B2"},{"Typeface name":"Wingdings 2","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"128947","Unicode hex":"1F7B3"},{"Typeface name":"Wingdings 2","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"128948","Unicode hex":"1F7B4"},{"Typeface name":"Wingdings 2","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"128949","Unicode hex":"1F7B5"},{"Typeface name":"Wingdings 2","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"128950","Unicode hex":"1F7B6"},{"Typeface name":"Wingdings 2","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"128951","Unicode hex":"1F7B7"},{"Typeface name":"Wingdings 2","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"128952","Unicode hex":"1F7B8"},{"Typeface name":"Wingdings 2","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"128953","Unicode hex":"1F7B9"},{"Typeface name":"Wingdings 2","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"128954","Unicode hex":"1F7BA"},{"Typeface name":"Wingdings 2","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"128955","Unicode hex":"1F7BB"},{"Typeface name":"Wingdings 2","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"128956","Unicode hex":"1F7BC"},{"Typeface name":"Wingdings 2","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"128957","Unicode hex":"1F7BD"},{"Typeface name":"Wingdings 2","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"128958","Unicode hex":"1F7BE"},{"Typeface name":"Wingdings 2","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"128959","Unicode hex":"1F7BF"},{"Typeface name":"Wingdings 2","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"128960","Unicode hex":"1F7C0"},{"Typeface name":"Wingdings 2","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"128962","Unicode hex":"1F7C2"},{"Typeface name":"Wingdings 2","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"128964","Unicode hex":"1F7C4"},{"Typeface name":"Wingdings 2","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"128966","Unicode hex":"1F7C6"},{"Typeface name":"Wingdings 2","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"128969","Unicode hex":"1F7C9"},{"Typeface name":"Wingdings 2","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"128970","Unicode hex":"1F7CA"},{"Typeface name":"Wingdings 2","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"10038","Unicode hex":"2736"},{"Typeface name":"Wingdings 2","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"128972","Unicode hex":"1F7CC"},{"Typeface name":"Wingdings 2","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"128974","Unicode hex":"1F7CE"},{"Typeface name":"Wingdings 2","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"128976","Unicode hex":"1F7D0"},{"Typeface name":"Wingdings 2","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"128978","Unicode hex":"1F7D2"},{"Typeface name":"Wingdings 2","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"10041","Unicode hex":"2739"},{"Typeface name":"Wingdings 2","Dingbat dec":"241","Dingbat hex":"F1","Unicode dec":"128963","Unicode hex":"1F7C3"},{"Typeface name":"Wingdings 2","Dingbat dec":"242","Dingbat hex":"F2","Unicode dec":"128967","Unicode hex":"1F7C7"},{"Typeface name":"Wingdings 2","Dingbat dec":"243","Dingbat hex":"F3","Unicode dec":"10031","Unicode hex":"272F"},{"Typeface name":"Wingdings 2","Dingbat dec":"244","Dingbat hex":"F4","Unicode dec":"128973","Unicode hex":"1F7CD"},{"Typeface name":"Wingdings 2","Dingbat dec":"245","Dingbat hex":"F5","Unicode dec":"128980","Unicode hex":"1F7D4"},{"Typeface name":"Wingdings 2","Dingbat dec":"246","Dingbat hex":"F6","Unicode dec":"11212","Unicode hex":"2BCC"},{"Typeface name":"Wingdings 2","Dingbat dec":"247","Dingbat hex":"F7","Unicode dec":"11213","Unicode hex":"2BCD"},{"Typeface name":"Wingdings 2","Dingbat dec":"248","Dingbat hex":"F8","Unicode dec":"8251","Unicode hex":"203B"},{"Typeface name":"Wingdings 2","Dingbat dec":"249","Dingbat hex":"F9","Unicode dec":"8258","Unicode hex":"2042"},{"Typeface name":"Wingdings 3","Dingbat dec":"32","Dingbat hex":"20","Unicode dec":"32","Unicode hex":"20"},{"Typeface name":"Wingdings 3","Dingbat dec":"33","Dingbat hex":"21","Unicode dec":"11104","Unicode hex":"2B60"},{"Typeface name":"Wingdings 3","Dingbat dec":"34","Dingbat hex":"22","Unicode dec":"11106","Unicode hex":"2B62"},{"Typeface name":"Wingdings 3","Dingbat dec":"35","Dingbat hex":"23","Unicode dec":"11105","Unicode hex":"2B61"},{"Typeface name":"Wingdings 3","Dingbat dec":"36","Dingbat hex":"24","Unicode dec":"11107","Unicode hex":"2B63"},{"Typeface name":"Wingdings 3","Dingbat dec":"37","Dingbat hex":"25","Unicode dec":"11110","Unicode hex":"2B66"},{"Typeface name":"Wingdings 3","Dingbat dec":"38","Dingbat hex":"26","Unicode dec":"11111","Unicode hex":"2B67"},{"Typeface name":"Wingdings 3","Dingbat dec":"39","Dingbat hex":"27","Unicode dec":"11113","Unicode hex":"2B69"},{"Typeface name":"Wingdings 3","Dingbat dec":"40","Dingbat hex":"28","Unicode dec":"11112","Unicode hex":"2B68"},{"Typeface name":"Wingdings 3","Dingbat dec":"41","Dingbat hex":"29","Unicode dec":"11120","Unicode hex":"2B70"},{"Typeface name":"Wingdings 3","Dingbat dec":"42","Dingbat hex":"2A","Unicode dec":"11122","Unicode hex":"2B72"},{"Typeface name":"Wingdings 3","Dingbat dec":"43","Dingbat hex":"2B","Unicode dec":"11121","Unicode hex":"2B71"},{"Typeface name":"Wingdings 3","Dingbat dec":"44","Dingbat hex":"2C","Unicode dec":"11123","Unicode hex":"2B73"},{"Typeface name":"Wingdings 3","Dingbat dec":"45","Dingbat hex":"2D","Unicode dec":"11126","Unicode hex":"2B76"},{"Typeface name":"Wingdings 3","Dingbat dec":"46","Dingbat hex":"2E","Unicode dec":"11128","Unicode hex":"2B78"},{"Typeface name":"Wingdings 3","Dingbat dec":"47","Dingbat hex":"2F","Unicode dec":"11131","Unicode hex":"2B7B"},{"Typeface name":"Wingdings 3","Dingbat dec":"48","Dingbat hex":"30","Unicode dec":"11133","Unicode hex":"2B7D"},{"Typeface name":"Wingdings 3","Dingbat dec":"49","Dingbat hex":"31","Unicode dec":"11108","Unicode hex":"2B64"},{"Typeface name":"Wingdings 3","Dingbat dec":"50","Dingbat hex":"32","Unicode dec":"11109","Unicode hex":"2B65"},{"Typeface name":"Wingdings 3","Dingbat dec":"51","Dingbat hex":"33","Unicode dec":"11114","Unicode hex":"2B6A"},{"Typeface name":"Wingdings 3","Dingbat dec":"52","Dingbat hex":"34","Unicode dec":"11116","Unicode hex":"2B6C"},{"Typeface name":"Wingdings 3","Dingbat dec":"53","Dingbat hex":"35","Unicode dec":"11115","Unicode hex":"2B6B"},{"Typeface name":"Wingdings 3","Dingbat dec":"54","Dingbat hex":"36","Unicode dec":"11117","Unicode hex":"2B6D"},{"Typeface name":"Wingdings 3","Dingbat dec":"55","Dingbat hex":"37","Unicode dec":"11085","Unicode hex":"2B4D"},{"Typeface name":"Wingdings 3","Dingbat dec":"56","Dingbat hex":"38","Unicode dec":"11168","Unicode hex":"2BA0"},{"Typeface name":"Wingdings 3","Dingbat dec":"57","Dingbat hex":"39","Unicode dec":"11169","Unicode hex":"2BA1"},{"Typeface name":"Wingdings 3","Dingbat dec":"58","Dingbat hex":"3A","Unicode dec":"11170","Unicode hex":"2BA2"},{"Typeface name":"Wingdings 3","Dingbat dec":"59","Dingbat hex":"3B","Unicode dec":"11171","Unicode hex":"2BA3"},{"Typeface name":"Wingdings 3","Dingbat dec":"60","Dingbat hex":"3C","Unicode dec":"11172","Unicode hex":"2BA4"},{"Typeface name":"Wingdings 3","Dingbat dec":"61","Dingbat hex":"3D","Unicode dec":"11173","Unicode hex":"2BA5"},{"Typeface name":"Wingdings 3","Dingbat dec":"62","Dingbat hex":"3E","Unicode dec":"11174","Unicode hex":"2BA6"},{"Typeface name":"Wingdings 3","Dingbat dec":"63","Dingbat hex":"3F","Unicode dec":"11175","Unicode hex":"2BA7"},{"Typeface name":"Wingdings 3","Dingbat dec":"64","Dingbat hex":"40","Unicode dec":"11152","Unicode hex":"2B90"},{"Typeface name":"Wingdings 3","Dingbat dec":"65","Dingbat hex":"41","Unicode dec":"11153","Unicode hex":"2B91"},{"Typeface name":"Wingdings 3","Dingbat dec":"66","Dingbat hex":"42","Unicode dec":"11154","Unicode hex":"2B92"},{"Typeface name":"Wingdings 3","Dingbat dec":"67","Dingbat hex":"43","Unicode dec":"11155","Unicode hex":"2B93"},{"Typeface name":"Wingdings 3","Dingbat dec":"68","Dingbat hex":"44","Unicode dec":"11136","Unicode hex":"2B80"},{"Typeface name":"Wingdings 3","Dingbat dec":"69","Dingbat hex":"45","Unicode dec":"11139","Unicode hex":"2B83"},{"Typeface name":"Wingdings 3","Dingbat dec":"70","Dingbat hex":"46","Unicode dec":"11134","Unicode hex":"2B7E"},{"Typeface name":"Wingdings 3","Dingbat dec":"71","Dingbat hex":"47","Unicode dec":"11135","Unicode hex":"2B7F"},{"Typeface name":"Wingdings 3","Dingbat dec":"72","Dingbat hex":"48","Unicode dec":"11140","Unicode hex":"2B84"},{"Typeface name":"Wingdings 3","Dingbat dec":"73","Dingbat hex":"49","Unicode dec":"11142","Unicode hex":"2B86"},{"Typeface name":"Wingdings 3","Dingbat dec":"74","Dingbat hex":"4A","Unicode dec":"11141","Unicode hex":"2B85"},{"Typeface name":"Wingdings 3","Dingbat dec":"75","Dingbat hex":"4B","Unicode dec":"11143","Unicode hex":"2B87"},{"Typeface name":"Wingdings 3","Dingbat dec":"76","Dingbat hex":"4C","Unicode dec":"11151","Unicode hex":"2B8F"},{"Typeface name":"Wingdings 3","Dingbat dec":"77","Dingbat hex":"4D","Unicode dec":"11149","Unicode hex":"2B8D"},{"Typeface name":"Wingdings 3","Dingbat dec":"78","Dingbat hex":"4E","Unicode dec":"11150","Unicode hex":"2B8E"},{"Typeface name":"Wingdings 3","Dingbat dec":"79","Dingbat hex":"4F","Unicode dec":"11148","Unicode hex":"2B8C"},{"Typeface name":"Wingdings 3","Dingbat dec":"80","Dingbat hex":"50","Unicode dec":"11118","Unicode hex":"2B6E"},{"Typeface name":"Wingdings 3","Dingbat dec":"81","Dingbat hex":"51","Unicode dec":"11119","Unicode hex":"2B6F"},{"Typeface name":"Wingdings 3","Dingbat dec":"82","Dingbat hex":"52","Unicode dec":"9099","Unicode hex":"238B"},{"Typeface name":"Wingdings 3","Dingbat dec":"83","Dingbat hex":"53","Unicode dec":"8996","Unicode hex":"2324"},{"Typeface name":"Wingdings 3","Dingbat dec":"84","Dingbat hex":"54","Unicode dec":"8963","Unicode hex":"2303"},{"Typeface name":"Wingdings 3","Dingbat dec":"85","Dingbat hex":"55","Unicode dec":"8997","Unicode hex":"2325"},{"Typeface name":"Wingdings 3","Dingbat dec":"86","Dingbat hex":"56","Unicode dec":"9251","Unicode hex":"2423"},{"Typeface name":"Wingdings 3","Dingbat dec":"87","Dingbat hex":"57","Unicode dec":"9085","Unicode hex":"237D"},{"Typeface name":"Wingdings 3","Dingbat dec":"88","Dingbat hex":"58","Unicode dec":"8682","Unicode hex":"21EA"},{"Typeface name":"Wingdings 3","Dingbat dec":"89","Dingbat hex":"59","Unicode dec":"11192","Unicode hex":"2BB8"},{"Typeface name":"Wingdings 3","Dingbat dec":"90","Dingbat hex":"5A","Unicode dec":"129184","Unicode hex":"1F8A0"},{"Typeface name":"Wingdings 3","Dingbat dec":"91","Dingbat hex":"5B","Unicode dec":"129185","Unicode hex":"1F8A1"},{"Typeface name":"Wingdings 3","Dingbat dec":"92","Dingbat hex":"5C","Unicode dec":"129186","Unicode hex":"1F8A2"},{"Typeface name":"Wingdings 3","Dingbat dec":"93","Dingbat hex":"5D","Unicode dec":"129187","Unicode hex":"1F8A3"},{"Typeface name":"Wingdings 3","Dingbat dec":"94","Dingbat hex":"5E","Unicode dec":"129188","Unicode hex":"1F8A4"},{"Typeface name":"Wingdings 3","Dingbat dec":"95","Dingbat hex":"5F","Unicode dec":"129189","Unicode hex":"1F8A5"},{"Typeface name":"Wingdings 3","Dingbat dec":"96","Dingbat hex":"60","Unicode dec":"129190","Unicode hex":"1F8A6"},{"Typeface name":"Wingdings 3","Dingbat dec":"97","Dingbat hex":"61","Unicode dec":"129191","Unicode hex":"1F8A7"},{"Typeface name":"Wingdings 3","Dingbat dec":"98","Dingbat hex":"62","Unicode dec":"129192","Unicode hex":"1F8A8"},{"Typeface name":"Wingdings 3","Dingbat dec":"99","Dingbat hex":"63","Unicode dec":"129193","Unicode hex":"1F8A9"},{"Typeface name":"Wingdings 3","Dingbat dec":"100","Dingbat hex":"64","Unicode dec":"129194","Unicode hex":"1F8AA"},{"Typeface name":"Wingdings 3","Dingbat dec":"101","Dingbat hex":"65","Unicode dec":"129195","Unicode hex":"1F8AB"},{"Typeface name":"Wingdings 3","Dingbat dec":"102","Dingbat hex":"66","Unicode dec":"129104","Unicode hex":"1F850"},{"Typeface name":"Wingdings 3","Dingbat dec":"103","Dingbat hex":"67","Unicode dec":"129106","Unicode hex":"1F852"},{"Typeface name":"Wingdings 3","Dingbat dec":"104","Dingbat hex":"68","Unicode dec":"129105","Unicode hex":"1F851"},{"Typeface name":"Wingdings 3","Dingbat dec":"105","Dingbat hex":"69","Unicode dec":"129107","Unicode hex":"1F853"},{"Typeface name":"Wingdings 3","Dingbat dec":"106","Dingbat hex":"6A","Unicode dec":"129108","Unicode hex":"1F854"},{"Typeface name":"Wingdings 3","Dingbat dec":"107","Dingbat hex":"6B","Unicode dec":"129109","Unicode hex":"1F855"},{"Typeface name":"Wingdings 3","Dingbat dec":"108","Dingbat hex":"6C","Unicode dec":"129111","Unicode hex":"1F857"},{"Typeface name":"Wingdings 3","Dingbat dec":"109","Dingbat hex":"6D","Unicode dec":"129110","Unicode hex":"1F856"},{"Typeface name":"Wingdings 3","Dingbat dec":"110","Dingbat hex":"6E","Unicode dec":"129112","Unicode hex":"1F858"},{"Typeface name":"Wingdings 3","Dingbat dec":"111","Dingbat hex":"6F","Unicode dec":"129113","Unicode hex":"1F859"},{"Typeface name":"Wingdings 3","Dingbat dec":"112","Dingbat hex":"70","Unicode dec":"9650","Unicode hex":"25B2"},{"Typeface name":"Wingdings 3","Dingbat dec":"113","Dingbat hex":"71","Unicode dec":"9660","Unicode hex":"25BC"},{"Typeface name":"Wingdings 3","Dingbat dec":"114","Dingbat hex":"72","Unicode dec":"9651","Unicode hex":"25B3"},{"Typeface name":"Wingdings 3","Dingbat dec":"115","Dingbat hex":"73","Unicode dec":"9661","Unicode hex":"25BD"},{"Typeface name":"Wingdings 3","Dingbat dec":"116","Dingbat hex":"74","Unicode dec":"9664","Unicode hex":"25C0"},{"Typeface name":"Wingdings 3","Dingbat dec":"117","Dingbat hex":"75","Unicode dec":"9654","Unicode hex":"25B6"},{"Typeface name":"Wingdings 3","Dingbat dec":"118","Dingbat hex":"76","Unicode dec":"9665","Unicode hex":"25C1"},{"Typeface name":"Wingdings 3","Dingbat dec":"119","Dingbat hex":"77","Unicode dec":"9655","Unicode hex":"25B7"},{"Typeface name":"Wingdings 3","Dingbat dec":"120","Dingbat hex":"78","Unicode dec":"9699","Unicode hex":"25E3"},{"Typeface name":"Wingdings 3","Dingbat dec":"121","Dingbat hex":"79","Unicode dec":"9698","Unicode hex":"25E2"},{"Typeface name":"Wingdings 3","Dingbat dec":"122","Dingbat hex":"7A","Unicode dec":"9700","Unicode hex":"25E4"},{"Typeface name":"Wingdings 3","Dingbat dec":"123","Dingbat hex":"7B","Unicode dec":"9701","Unicode hex":"25E5"},{"Typeface name":"Wingdings 3","Dingbat dec":"124","Dingbat hex":"7C","Unicode dec":"128896","Unicode hex":"1F780"},{"Typeface name":"Wingdings 3","Dingbat dec":"125","Dingbat hex":"7D","Unicode dec":"128898","Unicode hex":"1F782"},{"Typeface name":"Wingdings 3","Dingbat dec":"126","Dingbat hex":"7E","Unicode dec":"128897","Unicode hex":"1F781"},{"Typeface name":"Wingdings 3","Dingbat dec":"128","Dingbat hex":"80","Unicode dec":"128899","Unicode hex":"1F783"},{"Typeface name":"Wingdings 3","Dingbat dec":"129","Dingbat hex":"81","Unicode dec":"11205","Unicode hex":"2BC5"},{"Typeface name":"Wingdings 3","Dingbat dec":"130","Dingbat hex":"82","Unicode dec":"11206","Unicode hex":"2BC6"},{"Typeface name":"Wingdings 3","Dingbat dec":"131","Dingbat hex":"83","Unicode dec":"11207","Unicode hex":"2BC7"},{"Typeface name":"Wingdings 3","Dingbat dec":"132","Dingbat hex":"84","Unicode dec":"11208","Unicode hex":"2BC8"},{"Typeface name":"Wingdings 3","Dingbat dec":"133","Dingbat hex":"85","Unicode dec":"11164","Unicode hex":"2B9C"},{"Typeface name":"Wingdings 3","Dingbat dec":"134","Dingbat hex":"86","Unicode dec":"11166","Unicode hex":"2B9E"},{"Typeface name":"Wingdings 3","Dingbat dec":"135","Dingbat hex":"87","Unicode dec":"11165","Unicode hex":"2B9D"},{"Typeface name":"Wingdings 3","Dingbat dec":"136","Dingbat hex":"88","Unicode dec":"11167","Unicode hex":"2B9F"},{"Typeface name":"Wingdings 3","Dingbat dec":"137","Dingbat hex":"89","Unicode dec":"129040","Unicode hex":"1F810"},{"Typeface name":"Wingdings 3","Dingbat dec":"138","Dingbat hex":"8A","Unicode dec":"129042","Unicode hex":"1F812"},{"Typeface name":"Wingdings 3","Dingbat dec":"139","Dingbat hex":"8B","Unicode dec":"129041","Unicode hex":"1F811"},{"Typeface name":"Wingdings 3","Dingbat dec":"140","Dingbat hex":"8C","Unicode dec":"129043","Unicode hex":"1F813"},{"Typeface name":"Wingdings 3","Dingbat dec":"141","Dingbat hex":"8D","Unicode dec":"129044","Unicode hex":"1F814"},{"Typeface name":"Wingdings 3","Dingbat dec":"142","Dingbat hex":"8E","Unicode dec":"129046","Unicode hex":"1F816"},{"Typeface name":"Wingdings 3","Dingbat dec":"143","Dingbat hex":"8F","Unicode dec":"129045","Unicode hex":"1F815"},{"Typeface name":"Wingdings 3","Dingbat dec":"144","Dingbat hex":"90","Unicode dec":"129047","Unicode hex":"1F817"},{"Typeface name":"Wingdings 3","Dingbat dec":"145","Dingbat hex":"91","Unicode dec":"129048","Unicode hex":"1F818"},{"Typeface name":"Wingdings 3","Dingbat dec":"146","Dingbat hex":"92","Unicode dec":"129050","Unicode hex":"1F81A"},{"Typeface name":"Wingdings 3","Dingbat dec":"147","Dingbat hex":"93","Unicode dec":"129049","Unicode hex":"1F819"},{"Typeface name":"Wingdings 3","Dingbat dec":"148","Dingbat hex":"94","Unicode dec":"129051","Unicode hex":"1F81B"},{"Typeface name":"Wingdings 3","Dingbat dec":"149","Dingbat hex":"95","Unicode dec":"129052","Unicode hex":"1F81C"},{"Typeface name":"Wingdings 3","Dingbat dec":"150","Dingbat hex":"96","Unicode dec":"129054","Unicode hex":"1F81E"},{"Typeface name":"Wingdings 3","Dingbat dec":"151","Dingbat hex":"97","Unicode dec":"129053","Unicode hex":"1F81D"},{"Typeface name":"Wingdings 3","Dingbat dec":"152","Dingbat hex":"98","Unicode dec":"129055","Unicode hex":"1F81F"},{"Typeface name":"Wingdings 3","Dingbat dec":"153","Dingbat hex":"99","Unicode dec":"129024","Unicode hex":"1F800"},{"Typeface name":"Wingdings 3","Dingbat dec":"154","Dingbat hex":"9A","Unicode dec":"129026","Unicode hex":"1F802"},{"Typeface name":"Wingdings 3","Dingbat dec":"155","Dingbat hex":"9B","Unicode dec":"129025","Unicode hex":"1F801"},{"Typeface name":"Wingdings 3","Dingbat dec":"156","Dingbat hex":"9C","Unicode dec":"129027","Unicode hex":"1F803"},{"Typeface name":"Wingdings 3","Dingbat dec":"157","Dingbat hex":"9D","Unicode dec":"129028","Unicode hex":"1F804"},{"Typeface name":"Wingdings 3","Dingbat dec":"158","Dingbat hex":"9E","Unicode dec":"129030","Unicode hex":"1F806"},{"Typeface name":"Wingdings 3","Dingbat dec":"159","Dingbat hex":"9F","Unicode dec":"129029","Unicode hex":"1F805"},{"Typeface name":"Wingdings 3","Dingbat dec":"160","Dingbat hex":"A0","Unicode dec":"129031","Unicode hex":"1F807"},{"Typeface name":"Wingdings 3","Dingbat dec":"161","Dingbat hex":"A1","Unicode dec":"129032","Unicode hex":"1F808"},{"Typeface name":"Wingdings 3","Dingbat dec":"162","Dingbat hex":"A2","Unicode dec":"129034","Unicode hex":"1F80A"},{"Typeface name":"Wingdings 3","Dingbat dec":"163","Dingbat hex":"A3","Unicode dec":"129033","Unicode hex":"1F809"},{"Typeface name":"Wingdings 3","Dingbat dec":"164","Dingbat hex":"A4","Unicode dec":"129035","Unicode hex":"1F80B"},{"Typeface name":"Wingdings 3","Dingbat dec":"165","Dingbat hex":"A5","Unicode dec":"129056","Unicode hex":"1F820"},{"Typeface name":"Wingdings 3","Dingbat dec":"166","Dingbat hex":"A6","Unicode dec":"129058","Unicode hex":"1F822"},{"Typeface name":"Wingdings 3","Dingbat dec":"167","Dingbat hex":"A7","Unicode dec":"129060","Unicode hex":"1F824"},{"Typeface name":"Wingdings 3","Dingbat dec":"168","Dingbat hex":"A8","Unicode dec":"129062","Unicode hex":"1F826"},{"Typeface name":"Wingdings 3","Dingbat dec":"169","Dingbat hex":"A9","Unicode dec":"129064","Unicode hex":"1F828"},{"Typeface name":"Wingdings 3","Dingbat dec":"170","Dingbat hex":"AA","Unicode dec":"129066","Unicode hex":"1F82A"},{"Typeface name":"Wingdings 3","Dingbat dec":"171","Dingbat hex":"AB","Unicode dec":"129068","Unicode hex":"1F82C"},{"Typeface name":"Wingdings 3","Dingbat dec":"172","Dingbat hex":"AC","Unicode dec":"129180","Unicode hex":"1F89C"},{"Typeface name":"Wingdings 3","Dingbat dec":"173","Dingbat hex":"AD","Unicode dec":"129181","Unicode hex":"1F89D"},{"Typeface name":"Wingdings 3","Dingbat dec":"174","Dingbat hex":"AE","Unicode dec":"129182","Unicode hex":"1F89E"},{"Typeface name":"Wingdings 3","Dingbat dec":"175","Dingbat hex":"AF","Unicode dec":"129183","Unicode hex":"1F89F"},{"Typeface name":"Wingdings 3","Dingbat dec":"176","Dingbat hex":"B0","Unicode dec":"129070","Unicode hex":"1F82E"},{"Typeface name":"Wingdings 3","Dingbat dec":"177","Dingbat hex":"B1","Unicode dec":"129072","Unicode hex":"1F830"},{"Typeface name":"Wingdings 3","Dingbat dec":"178","Dingbat hex":"B2","Unicode dec":"129074","Unicode hex":"1F832"},{"Typeface name":"Wingdings 3","Dingbat dec":"179","Dingbat hex":"B3","Unicode dec":"129076","Unicode hex":"1F834"},{"Typeface name":"Wingdings 3","Dingbat dec":"180","Dingbat hex":"B4","Unicode dec":"129078","Unicode hex":"1F836"},{"Typeface name":"Wingdings 3","Dingbat dec":"181","Dingbat hex":"B5","Unicode dec":"129080","Unicode hex":"1F838"},{"Typeface name":"Wingdings 3","Dingbat dec":"182","Dingbat hex":"B6","Unicode dec":"129082","Unicode hex":"1F83A"},{"Typeface name":"Wingdings 3","Dingbat dec":"183","Dingbat hex":"B7","Unicode dec":"129081","Unicode hex":"1F839"},{"Typeface name":"Wingdings 3","Dingbat dec":"184","Dingbat hex":"B8","Unicode dec":"129083","Unicode hex":"1F83B"},{"Typeface name":"Wingdings 3","Dingbat dec":"185","Dingbat hex":"B9","Unicode dec":"129176","Unicode hex":"1F898"},{"Typeface name":"Wingdings 3","Dingbat dec":"186","Dingbat hex":"BA","Unicode dec":"129178","Unicode hex":"1F89A"},{"Typeface name":"Wingdings 3","Dingbat dec":"187","Dingbat hex":"BB","Unicode dec":"129177","Unicode hex":"1F899"},{"Typeface name":"Wingdings 3","Dingbat dec":"188","Dingbat hex":"BC","Unicode dec":"129179","Unicode hex":"1F89B"},{"Typeface name":"Wingdings 3","Dingbat dec":"189","Dingbat hex":"BD","Unicode dec":"129084","Unicode hex":"1F83C"},{"Typeface name":"Wingdings 3","Dingbat dec":"190","Dingbat hex":"BE","Unicode dec":"129086","Unicode hex":"1F83E"},{"Typeface name":"Wingdings 3","Dingbat dec":"191","Dingbat hex":"BF","Unicode dec":"129085","Unicode hex":"1F83D"},{"Typeface name":"Wingdings 3","Dingbat dec":"192","Dingbat hex":"C0","Unicode dec":"129087","Unicode hex":"1F83F"},{"Typeface name":"Wingdings 3","Dingbat dec":"193","Dingbat hex":"C1","Unicode dec":"129088","Unicode hex":"1F840"},{"Typeface name":"Wingdings 3","Dingbat dec":"194","Dingbat hex":"C2","Unicode dec":"129090","Unicode hex":"1F842"},{"Typeface name":"Wingdings 3","Dingbat dec":"195","Dingbat hex":"C3","Unicode dec":"129089","Unicode hex":"1F841"},{"Typeface name":"Wingdings 3","Dingbat dec":"196","Dingbat hex":"C4","Unicode dec":"129091","Unicode hex":"1F843"},{"Typeface name":"Wingdings 3","Dingbat dec":"197","Dingbat hex":"C5","Unicode dec":"129092","Unicode hex":"1F844"},{"Typeface name":"Wingdings 3","Dingbat dec":"198","Dingbat hex":"C6","Unicode dec":"129094","Unicode hex":"1F846"},{"Typeface name":"Wingdings 3","Dingbat dec":"199","Dingbat hex":"C7","Unicode dec":"129093","Unicode hex":"1F845"},{"Typeface name":"Wingdings 3","Dingbat dec":"200","Dingbat hex":"C8","Unicode dec":"129095","Unicode hex":"1F847"},{"Typeface name":"Wingdings 3","Dingbat dec":"201","Dingbat hex":"C9","Unicode dec":"11176","Unicode hex":"2BA8"},{"Typeface name":"Wingdings 3","Dingbat dec":"202","Dingbat hex":"CA","Unicode dec":"11177","Unicode hex":"2BA9"},{"Typeface name":"Wingdings 3","Dingbat dec":"203","Dingbat hex":"CB","Unicode dec":"11178","Unicode hex":"2BAA"},{"Typeface name":"Wingdings 3","Dingbat dec":"204","Dingbat hex":"CC","Unicode dec":"11179","Unicode hex":"2BAB"},{"Typeface name":"Wingdings 3","Dingbat dec":"205","Dingbat hex":"CD","Unicode dec":"11180","Unicode hex":"2BAC"},{"Typeface name":"Wingdings 3","Dingbat dec":"206","Dingbat hex":"CE","Unicode dec":"11181","Unicode hex":"2BAD"},{"Typeface name":"Wingdings 3","Dingbat dec":"207","Dingbat hex":"CF","Unicode dec":"11182","Unicode hex":"2BAE"},{"Typeface name":"Wingdings 3","Dingbat dec":"208","Dingbat hex":"D0","Unicode dec":"11183","Unicode hex":"2BAF"},{"Typeface name":"Wingdings 3","Dingbat dec":"209","Dingbat hex":"D1","Unicode dec":"129120","Unicode hex":"1F860"},{"Typeface name":"Wingdings 3","Dingbat dec":"210","Dingbat hex":"D2","Unicode dec":"129122","Unicode hex":"1F862"},{"Typeface name":"Wingdings 3","Dingbat dec":"211","Dingbat hex":"D3","Unicode dec":"129121","Unicode hex":"1F861"},{"Typeface name":"Wingdings 3","Dingbat dec":"212","Dingbat hex":"D4","Unicode dec":"129123","Unicode hex":"1F863"},{"Typeface name":"Wingdings 3","Dingbat dec":"213","Dingbat hex":"D5","Unicode dec":"129124","Unicode hex":"1F864"},{"Typeface name":"Wingdings 3","Dingbat dec":"214","Dingbat hex":"D6","Unicode dec":"129125","Unicode hex":"1F865"},{"Typeface name":"Wingdings 3","Dingbat dec":"215","Dingbat hex":"D7","Unicode dec":"129127","Unicode hex":"1F867"},{"Typeface name":"Wingdings 3","Dingbat dec":"216","Dingbat hex":"D8","Unicode dec":"129126","Unicode hex":"1F866"},{"Typeface name":"Wingdings 3","Dingbat dec":"217","Dingbat hex":"D9","Unicode dec":"129136","Unicode hex":"1F870"},{"Typeface name":"Wingdings 3","Dingbat dec":"218","Dingbat hex":"DA","Unicode dec":"129138","Unicode hex":"1F872"},{"Typeface name":"Wingdings 3","Dingbat dec":"219","Dingbat hex":"DB","Unicode dec":"129137","Unicode hex":"1F871"},{"Typeface name":"Wingdings 3","Dingbat dec":"220","Dingbat hex":"DC","Unicode dec":"129139","Unicode hex":"1F873"},{"Typeface name":"Wingdings 3","Dingbat dec":"221","Dingbat hex":"DD","Unicode dec":"129140","Unicode hex":"1F874"},{"Typeface name":"Wingdings 3","Dingbat dec":"222","Dingbat hex":"DE","Unicode dec":"129141","Unicode hex":"1F875"},{"Typeface name":"Wingdings 3","Dingbat dec":"223","Dingbat hex":"DF","Unicode dec":"129143","Unicode hex":"1F877"},{"Typeface name":"Wingdings 3","Dingbat dec":"224","Dingbat hex":"E0","Unicode dec":"129142","Unicode hex":"1F876"},{"Typeface name":"Wingdings 3","Dingbat dec":"225","Dingbat hex":"E1","Unicode dec":"129152","Unicode hex":"1F880"},{"Typeface name":"Wingdings 3","Dingbat dec":"226","Dingbat hex":"E2","Unicode dec":"129154","Unicode hex":"1F882"},{"Typeface name":"Wingdings 3","Dingbat dec":"227","Dingbat hex":"E3","Unicode dec":"129153","Unicode hex":"1F881"},{"Typeface name":"Wingdings 3","Dingbat dec":"228","Dingbat hex":"E4","Unicode dec":"129155","Unicode hex":"1F883"},{"Typeface name":"Wingdings 3","Dingbat dec":"229","Dingbat hex":"E5","Unicode dec":"129156","Unicode hex":"1F884"},{"Typeface name":"Wingdings 3","Dingbat dec":"230","Dingbat hex":"E6","Unicode dec":"129157","Unicode hex":"1F885"},{"Typeface name":"Wingdings 3","Dingbat dec":"231","Dingbat hex":"E7","Unicode dec":"129159","Unicode hex":"1F887"},{"Typeface name":"Wingdings 3","Dingbat dec":"232","Dingbat hex":"E8","Unicode dec":"129158","Unicode hex":"1F886"},{"Typeface name":"Wingdings 3","Dingbat dec":"233","Dingbat hex":"E9","Unicode dec":"129168","Unicode hex":"1F890"},{"Typeface name":"Wingdings 3","Dingbat dec":"234","Dingbat hex":"EA","Unicode dec":"129170","Unicode hex":"1F892"},{"Typeface name":"Wingdings 3","Dingbat dec":"235","Dingbat hex":"EB","Unicode dec":"129169","Unicode hex":"1F891"},{"Typeface name":"Wingdings 3","Dingbat dec":"236","Dingbat hex":"EC","Unicode dec":"129171","Unicode hex":"1F893"},{"Typeface name":"Wingdings 3","Dingbat dec":"237","Dingbat hex":"ED","Unicode dec":"129172","Unicode hex":"1F894"},{"Typeface name":"Wingdings 3","Dingbat dec":"238","Dingbat hex":"EE","Unicode dec":"129174","Unicode hex":"1F896"},{"Typeface name":"Wingdings 3","Dingbat dec":"239","Dingbat hex":"EF","Unicode dec":"129173","Unicode hex":"1F895"},{"Typeface name":"Wingdings 3","Dingbat dec":"240","Dingbat hex":"F0","Unicode dec":"129175","Unicode hex":"1F897"}];qM.default=S6e;var A6e=zt&&zt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Am,"__esModule",{value:!0});Am.hex=Am.dec=Am.codePoint=void 0;var N6e=A6e(qM),Mre={},k6e=String.fromCodePoint?String.fromCodePoint:D6e;for(var hR=0,dV=N6e.default;hR<dV.length;hR++){var fR=dV[hR],hV=parseInt(fR["Unicode dec"],10),C6e={codePoint:hV,string:k6e(hV)};Mre[fR["Typeface name"].toUpperCase()+"_"+fR["Dingbat dec"]]=C6e}function HM(t,e){return Mre[t.toUpperCase()+"_"+e]}Am.codePoint=HM;function E6e(t,e){return HM(t,parseInt(e,10))}Am.dec=E6e;function T6e(t,e){return HM(t,parseInt(e,16))}Am.hex=T6e;function D6e(t){if(t<=65535)return String.fromCharCode(t);var e=Math.floor((t-65536)/1024)+55296,n=(t-65536)%1024+56320;return String.fromCharCode(e,n)}var Zm={},fV=wr;Zm.paragraph=P6e;Zm.run=I6e;Zm._elements=Bre;Zm._elementsOfType=VM;Zm.getDescendantsOfType=R6e;Zm.getDescendants=zre;function P6e(t){return VM("paragraph",t)}function I6e(t){return VM("run",t)}function VM(t,e){return Bre(function(n){return n.type===t?e(n):n})}function Bre(t){return function e(n){if(n.children){var i=fV.map(n.children,e);n=fV.extend(n,{children:i})}return t(n)}}function R6e(t,e){return zre(t).filter(function(n){return n.type===e})}function zre(t){var e=[];return jre(t,function(n){e.push(n)}),e}function jre(t,e){t.children&&t.children.forEach(function(n){jre(n,e),e(n)})}var GM={};GM.uriToZipEntryName=L6e;GM.replaceFragment=F6e;function L6e(t,e){return e.charAt(0)==="/"?e.substr(1):t+"/"+e}function F6e(t,e){var n=t.indexOf("#");return n!==-1&&(t=t.substring(0,n)),t+"#"+e}WM.createBodyReader=U6e;WM._readNumberingProperties=Wre;var pV=Am,nc=wr,Di=mn,$re=_l.Result,Gd=_l.warning,O6e=_f,mV=Zm,gV=GM;function U6e(t){return{readXmlElement:function(e){return new yV(t).readXmlElement(e)},readXmlElements:function(e){return new yV(t).readXmlElements(e)}}}function yV(t){var e=[],n=[],i=[],r=t.relationships,a=t.contentTypes,s=t.docxFile,o=t.files,c=t.numbering,u=t.styles;function d(ue){var ke=ue.map(h);return vV(ke)}function h(ue){if(ue.type==="element"){var ke=j[ue.name];if(ke)return ke(ue);if(!Object.prototype.hasOwnProperty.call(B6e,ue.name)){var X=Gd("An unrecognised element was ignored: "+ue.name);return Dx([X])}}return zy()}function f(ue){return _(ue).map(function(ke){return{type:"paragraphProperties",styleId:ke.styleId,styleName:ke.name,alignment:ue.firstOrEmpty("w:jc").attributes["w:val"],numbering:Wre(ke.styleId,ue.firstOrEmpty("w:numPr"),c),indent:p(ue.firstOrEmpty("w:ind"))}})}function p(ue){return{start:ue.attributes["w:start"]||ue.attributes["w:left"],end:ue.attributes["w:end"]||ue.attributes["w:right"],firstLine:ue.attributes["w:firstLine"],hanging:ue.attributes["w:hanging"]}}function w(ue){return S(ue).map(function(ke){var X=ue.firstOrEmpty("w:sz").attributes["w:val"],re=/^[0-9]+$/.test(X)?parseInt(X,10)/2:null;return{type:"runProperties",styleId:ke.styleId,styleName:ke.name,verticalAlignment:ue.firstOrEmpty("w:vertAlign").attributes["w:val"],font:ue.firstOrEmpty("w:rFonts").attributes["w:ascii"],fontSize:re,isBold:b(ue.first("w:b")),isUnderline:v(ue.first("w:u")),isItalic:b(ue.first("w:i")),isStrikethrough:b(ue.first("w:strike")),isAllCaps:b(ue.first("w:caps")),isSmallCaps:b(ue.first("w:smallCaps")),highlight:y(ue.firstOrEmpty("w:highlight").attributes["w:val"])}})}function v(ue){if(ue){var ke=ue.attributes["w:val"];return ke!==void 0&&ke!=="false"&&ke!=="0"&&ke!=="none"}else return!1}function b(ue){if(ue){var ke=ue.attributes["w:val"];return ke!=="false"&&ke!=="0"}else return!1}function g(ue){return ue!=="false"&&ue!=="0"}function y(ue){return!ue||ue==="none"?null:ue}function _(ue){return R(ue,"w:pStyle","Paragraph",u.findParagraphStyleById)}function S(ue){return R(ue,"w:rStyle","Run",u.findCharacterStyleById)}function N(ue){return R(ue,"w:tblStyle","Table",u.findTableStyleById)}function R(ue,ke,X,re){var Ee=[],ne=ue.first(ke),te=null,ae=null;if(ne&&(te=ne.attributes["w:val"],te)){var xe=re(te);xe?ae=xe.name:Ee.push(Le(X,te))}return mk({styleId:te,name:ae},Ee)}function D(ue){var ke=ue.attributes["w:fldCharType"];if(ke==="begin")e.push({type:"begin",fldChar:ue}),n=[];else if(ke==="end"){var X=e.pop();if(X.type==="begin"&&(X=C(X)),X.type==="checkbox")return Oo(Di.checkbox({checked:X.checked}))}else if(ke==="separate"){var re=e.pop(),Ee=C(re);e.push(Ee)}return zy()}function E(){var ue=nc.last(e.filter(function(ke){return ke.type==="hyperlink"}));return ue?ue.options:null}function C(ue){return P(n.join(""),ue.type==="begin"?ue.fldChar:O6e.emptyElement)}function P(ue,ke){var X=/\s*HYPERLINK "(.*)"/.exec(ue);if(X)return{type:"hyperlink",options:{href:X[1]}};var re=/\s*HYPERLINK\s+\\l\s+"(.*)"/.exec(ue);if(re)return{type:"hyperlink",options:{anchor:re[1]}};var Ee=/\s*FORMCHECKBOX\s*/.exec(ue);if(Ee){var ne=ke.firstOrEmpty("w:ffData").firstOrEmpty("w:checkBox"),te=ne.first("w:checked"),ae=te==null?b(ne.first("w:default")):b(te);return{type:"checkbox",checked:ae}}return{type:"unknown"}}function k(ue){return n.push(ue.text()),zy()}function A(ue){var ke=ue.attributes["w:font"],X=ue.attributes["w:char"],re=pV.hex(ke,X);return re==null&&/^F0..$/.test(X)&&(re=pV.hex(ke,X.substring(2))),re==null?Dx([Gd("A w:sym element with an unsupported character was ignored: char "+X+" in font "+ke)]):Oo(new Di.Text(re.string))}function I(ue){return function(ke){var X=ke.attributes["w:id"];return Oo(new Di.NoteReference({noteType:ue,noteId:X}))}}function T(ue){return Oo(Di.commentReference({commentId:ue.attributes["w:id"]}))}function z(ue){return d(ue.children)}var j={"w:p":function(ue){var ke=ue.firstOrEmpty("w:pPr"),X=!!ke.firstOrEmpty("w:rPr").first("w:del");if(X)return ue.children.forEach(function(Ee){i.push(Ee)}),zy();var re=ue.children;return i.length>0&&(re=i.concat(re),i=[]),La.map(f(ke),d(re),function(Ee,ne){return new Di.Paragraph(ne,Ee)}).insertExtra()},"w:r":function(ue){return La.map(w(ue.firstOrEmpty("w:rPr")),d(ue.children),function(ke,X){var re=E();return re!==null&&(X=[new Di.Hyperlink(X,re)]),new Di.Run(X,ke)})},"w:fldChar":D,"w:instrText":k,"w:t":function(ue){return Oo(new Di.Text(ue.text()))},"w:tab":function(ue){return Oo(new Di.Tab)},"w:noBreakHyphen":function(){return Oo(new Di.Text(""))},"w:softHyphen":function(ue){return Oo(new Di.Text(""))},"w:sym":A,"w:hyperlink":function(ue){var ke=ue.attributes["r:id"],X=ue.attributes["w:anchor"];return d(ue.children).map(function(re){function Ee(te){var ae=ue.attributes["w:tgtFrame"]||null;return new Di.Hyperlink(re,nc.extend({targetFrame:ae},te))}if(ke){var ne=r.findTargetByRelationshipId(ke);return X&&(ne=gV.replaceFragment(ne,X)),Ee({href:ne})}else return X?Ee({anchor:X}):re})},"w:tbl":W,"w:tr":q,"w:tc":G,"w:footnoteReference":I("footnote"),"w:endnoteReference":I("endnote"),"w:commentReference":T,"w:br":function(ue){var ke=ue.attributes["w:type"];return ke==null||ke==="textWrapping"?Oo(Di.lineBreak):ke==="page"?Oo(Di.pageBreak):ke==="column"?Oo(Di.columnBreak):Dx([Gd("Unsupported break type: "+ke)])},"w:bookmarkStart":function(ue){var ke=ue.attributes["w:name"];return ke==="_GoBack"?zy():Oo(new Di.BookmarkStart({name:ke}))},"mc:AlternateContent":function(ue){return z(ue.firstOrEmpty("mc:Fallback"))},"w:sdt":function(ue){var ke=d(ue.firstOrEmpty("w:sdtContent").children);return ke.map(function(X){var re=ue.firstOrEmpty("w:sdtPr").first("wordml:checkbox");if(re){var Ee=re.first("wordml:checked"),ne=!!Ee&&g(Ee.attributes["wordml:val"]),te=Di.checkbox({checked:ne}),ae=!1,xe=X.map(mV._elementsOfType(Di.types.text,function(Ce){return Ce.value.length>0&&!ae?(ae=!0,te):Ce}));return ae?xe:te}else return X})},"w:ins":z,"w:object":z,"w:smartTag":z,"w:drawing":z,"w:pict":function(ue){return z(ue).toExtra()},"v:roundrect":z,"v:shape":z,"v:textbox":z,"w:txbxContent":z,"wp:inline":K,"wp:anchor":K,"v:imagedata":ge,"v:group":z,"v:rect":z};return{readXmlElement:h,readXmlElements:d};function W(ue){var ke=$(ue.firstOrEmpty("w:tblPr"));return d(ue.children).flatMap(L).flatMap(function(X){return ke.map(function(re){return Di.Table(X,re)})})}function $(ue){return N(ue).map(function(ke){return{styleId:ke.styleId,styleName:ke.name}})}function q(ue){var ke=ue.firstOrEmpty("w:trPr"),X=!!ke.first("w:del");if(X)return zy();var re=!!ke.first("w:tblHeader");return d(ue.children).map(function(Ee){return Di.TableRow(Ee,{isHeader:re})})}function G(ue){return d(ue.children).map(function(ke){var X=ue.firstOrEmpty("w:tcPr"),re=X.firstOrEmpty("w:gridSpan").attributes["w:val"],Ee=re?parseInt(re,10):1,ne=Di.TableCell(ke,{colSpan:Ee});return ne._vMerge=B(X),ne})}function B(ue){var ke=ue.first("w:vMerge");if(ke){var X=ke.attributes["w:val"];return X==="continue"||!X}else return null}function L(ue){var ke=nc.any(ue,function(Ee){return Ee.type!==Di.types.tableRow});if(ke)return M(ue),mk(ue,[Gd("unexpected non-row element in table, cell merging may be incorrect")]);var X=nc.any(ue,function(Ee){return nc.any(Ee.children,function(ne){return ne.type!==Di.types.tableCell})});if(X)return M(ue),mk(ue,[Gd("unexpected non-cell element in table row, cell merging may be incorrect")]);var re={};return ue.forEach(function(Ee){var ne=0;Ee.children.forEach(function(te){te._vMerge&&re[ne]?re[ne].rowSpan++:(re[ne]=te,te._vMerge=!1),ne+=te.colSpan})}),ue.forEach(function(Ee){Ee.children=Ee.children.filter(function(ne){return!ne._vMerge}),Ee.children.forEach(function(ne){delete ne._vMerge})}),Oo(ue)}function M(ue){ue.forEach(function(ke){var X=mV.getDescendantsOfType(ke,Di.types.tableCell);X.forEach(function(re){delete re._vMerge})})}function K(ue){var ke=ue.getElementsByTagName("a:graphic").getElementsByTagName("a:graphicData").getElementsByTagName("pic:pic").getElementsByTagName("pic:blipFill").getElementsByTagName("a:blip");return vV(ke.map(Q.bind(null,ue)))}function Q(ue,ke){var X=ue.first("wp:docPr").attributes,re=V(X.descr)?X.title:X.descr,Ee=le(ke);return Ee===null?Dx([Gd("Could not find image file for a:blip element")]):be(Ee,re)}function V(ue){return ue==null||/^\s*$/.test(ue)}function le(ue){var ke=ue.attributes["r:embed"],X=ue.attributes["r:link"];if(ke)return ye(ke);if(X){var re=r.findTargetByRelationshipId(X);return{path:re,read:o.read.bind(o,re)}}else return null}function ge(ue){var ke=ue.attributes["r:id"];return ke?be(ye(ke),ue.attributes["o:title"]):Dx([Gd("A v:imagedata element without a relationship ID was ignored")])}function ye(ue){var ke=gV.uriToZipEntryName("word",r.findTargetByRelationshipId(ue));return{path:ke,read:s.read.bind(s,ke)}}function be(ue,ke){var X=a.findContentType(ue.path),re=Di.Image({readImage:ue.read,altText:ke,contentType:X}),Ee=M6e[X]?[]:Gd("Image of type "+X+" is unlikely to display in web browsers");return mk(re,Ee)}function Le(ue,ke){return Gd(ue+" style with ID "+ke+" was referenced but not defined in the document")}}function Wre(t,e,n){var i=e.firstOrEmpty("w:ilvl").attributes["w:val"],r=e.firstOrEmpty("w:numId").attributes["w:val"];if(i!==void 0&&r!==void 0)return n.findLevel(r,i);if(t!=null){var a=n.findLevelByParagraphStyleId(t);if(a!=null)return a}return r!==void 0?n.findLevel(r,"0"):null}var M6e={"image/png":!0,"image/gif":!0,"image/jpeg":!0,"image/svg+xml":!0,"image/tiff":!0},B6e={"office-word:wrap":!0,"v:shadow":!0,"v:shapetype":!0,"w:annotationRef":!0,"w:bookmarkEnd":!0,"w:sectPr":!0,"w:proofErr":!0,"w:lastRenderedPageBreak":!0,"w:commentRangeStart":!0,"w:commentRangeEnd":!0,"w:del":!0,"w:footnoteRef":!0,"w:endnoteRef":!0,"w:pPr":!0,"w:rPr":!0,"w:tblPr":!0,"w:tblGrid":!0,"w:trPr":!0,"w:tcPr":!0};function Dx(t){return new La(null,null,t)}function zy(){return new La(null)}function Oo(t){return new La(t)}function mk(t,e){return new La(t,null,e)}function La(t,e,n){this.value=t||[],this.extra=e||[],this._result=new $re({element:this.value,extra:e},n),this.messages=this._result.messages}La.prototype.toExtra=function(){return new La(null,v8(this.extra,this.value),this.messages)};La.prototype.insertExtra=function(){var t=this.extra;return t&&t.length?new La(v8(this.value,t),null,this.messages):this};La.prototype.map=function(t){var e=this._result.map(function(n){return t(n.element)});return new La(e.value,this.extra,e.messages)};La.prototype.flatMap=function(t){var e=this._result.flatMap(function(n){return t(n.element)._result});return new La(e.value.element,v8(this.extra,e.value.extra),e.messages)};La.map=function(t,e,n){return new La(n(t.value,e.value),v8(t.extra,e.extra),t.messages.concat(e.messages))};function vV(t){var e=$re.combine(nc.pluck(t,"_result"));return new La(nc.flatten(nc.pluck(e.value,"element")),nc.filter(nc.flatten(nc.pluck(e.value,"extra")),z6e),e.messages)}function v8(t,e){return nc.flatten([t,e])}function z6e(t){return t}var qre={};qre.DocumentXmlReader=W6e;var j6e=mn,$6e=_l.Result;function W6e(t){var e=t.bodyReader;function n(i){var r=i.first("w:body");if(r==null)throw new Error("Could not find the body element: are you sure this is a docx file?");var a=e.readXmlElements(r.children).map(function(s){return new j6e.Document(s,{notes:t.notes,comments:t.comments})});return new $6e(a.value,a.messages)}return{convertXmlToDocument:n}}var b8={};b8.readRelationships=q6e;b8.defaultValue=new XM([]);b8.Relationships=XM;function q6e(t){var e=[];return t.children.forEach(function(n){if(n.name==="relationships:Relationship"){var i={relationshipId:n.attributes.Id,target:n.attributes.Target,type:n.attributes.Type};e.push(i)}}),new XM(e)}function XM(t){var e={};t.forEach(function(i){e[i.relationshipId]=i.target});var n={};return t.forEach(function(i){n[i.type]||(n[i.type]=[]),n[i.type].push(i.target)}),{findTargetByRelationshipId:function(i){return e[i]},findTargetsByType:function(i){return n[i]||[]}}}var KM={};KM.readContentTypesFromXml=V6e;var H6e={png:"png",gif:"gif",jpeg:"jpeg",jpg:"jpeg",tif:"tiff",tiff:"tiff",bmp:"bmp"};KM.defaultContentTypes=Hre({},{});function V6e(t){var e={},n={};return t.children.forEach(function(i){if(i.name==="content-types:Default"&&(e[i.attributes.Extension]=i.attributes.ContentType),i.name==="content-types:Override"){var r=i.attributes.PartName;r.charAt(0)==="/"&&(r=r.substring(1)),n[r]=i.attributes.ContentType}}),Hre(n,e)}function Hre(t,e){return{findContentType:function(n){var i=t[n];if(i)return i;var r=n.split("."),a=r[r.length-1];if(e.hasOwnProperty(a))return e[a];var s=H6e[a.toLowerCase()];return s?"image/"+s:null}}}var w8={},gk=wr;w8.readNumberingXml=G6e;w8.Numbering=YM;w8.defaultNumbering=new YM({},{});function YM(t,e,n){var i=gk.flatten(gk.values(e).map(function(o){return gk.values(o.levels)})),r=gk.indexBy(i.filter(function(o){return o.paragraphStyleId!=null}),"paragraphStyleId");function a(o,c){var u=t[o];if(u){var d=e[u.abstractNumId];if(d){if(d.numStyleLink==null)return e[u.abstractNumId].levels[c];var h=n.findNumberingStyleById(d.numStyleLink);return a(h.numId,c)}else return null}else return null}function s(o){return r[o]||null}return{findLevel:a,findLevelByParagraphStyleId:s}}function G6e(t,e){if(!e||!e.styles)throw new Error("styles is missing");var n=X6e(t),i=Y6e(t);return new YM(i,n,e.styles)}function X6e(t){var e={};return t.getElementsByTagName("w:abstractNum").forEach(function(n){var i=n.attributes["w:abstractNumId"];e[i]=K6e(n)}),e}function K6e(t){var e={},n=null;t.getElementsByTagName("w:lvl").forEach(function(r){var a=r.attributes["w:ilvl"],s=r.firstOrEmpty("w:numFmt").attributes["w:val"],o=s!=="bullet",c=r.firstOrEmpty("w:pStyle").attributes["w:val"];a===void 0?n={isOrdered:o,level:"0",paragraphStyleId:c}:e[a]={isOrdered:o,level:a,paragraphStyleId:c}}),n!==null&&e[n.level]===void 0&&(e[n.level]=n);var i=t.firstOrEmpty("w:numStyleLink").attributes["w:val"];return{levels:e,numStyleLink:i}}function Y6e(t){var e={};return t.getElementsByTagName("w:num").forEach(function(n){var i=n.attributes["w:numId"],r=n.first("w:abstractNumId").attributes["w:val"];e[i]={abstractNumId:r}}),e}var x8={};x8.readStylesXml=J6e;x8.Styles=k_;x8.defaultStyles=new k_({},{});function k_(t,e,n,i){return{findParagraphStyleById:function(r){return t[r]},findCharacterStyleById:function(r){return e[r]},findTableStyleById:function(r){return n[r]},findNumberingStyleById:function(r){return i[r]}}}k_.EMPTY=new k_({},{},{},{});function J6e(t){var e={},n={},i={},r={},a={paragraph:e,character:n,table:i,numbering:r};return t.getElementsByTagName("w:style").forEach(function(s){var o=Z6e(s),c=a[o.type];c&&c[o.styleId]===void 0&&(c[o.styleId]=o)}),new k_(e,n,i,r)}function Z6e(t){var e=t.attributes["w:type"];if(e==="numbering")return e8e(e,t);var n=Vre(t),i=Q6e(t);return{type:e,styleId:n,name:i}}function Q6e(t){var e=t.first("w:name");return e?e.attributes["w:val"]:null}function e8e(t,e){var n=Vre(e),i=e.firstOrEmpty("w:pPr").firstOrEmpty("w:numPr").firstOrEmpty("w:numId").attributes["w:val"];return{type:t,numId:i,styleId:n}}function Vre(t){return t.attributes["w:styleId"]}var JM={},t8e=mn,n8e=_l.Result;JM.createFootnotesReader=Gre.bind(zt,"footnote");JM.createEndnotesReader=Gre.bind(zt,"endnote");function Gre(t,e){function n(a){return n8e.combine(a.getElementsByTagName("w:"+t).filter(i).map(r))}function i(a){var s=a.attributes["w:type"];return s!=="continuationSeparator"&&s!=="separator"}function r(a){var s=a.attributes["w:id"];return e.readXmlElements(a.children).map(function(o){return t8e.Note({noteType:t,noteId:s,body:o})})}return n}var Xre={},i8e=mn,r8e=_l.Result;function a8e(t){function e(i){return r8e.combine(i.getElementsByTagName("w:comment").map(n))}function n(i){var r=i.attributes["w:id"];function a(s){return(i.attributes[s]||"").trim()||null}return t.readXmlElements(i.children).map(function(s){return i8e.comment({commentId:r,body:s,authorName:a("w:author"),authorInitials:a("w:initials")})})}return e}Xre.createCommentsReader=a8e;var Kre={},s8e=fa;Kre.Files=o8e;function o8e(){function t(e){return s8e.reject(new Error("could not open external image: '"+e+`'
cannot open linked files from a web browser`))}return{read:t}}kM.read=p8e;kM._findPartPaths=Jre;var l8e=fa,c8e=mn,pR=_l.Result,_E=YN,Yre=TM.readXmlFromZipFile,u8e=WM.createBodyReader,d8e=qre.DocumentXmlReader,fw=b8,bV=KM,wV=w8,xV=x8,_V=JM,h8e=Xre,f8e=Kre.Files;function p8e(t,e,n){e=e||{},n=n||{};var i=new f8e({externalFileAccess:n.externalFileAccess,relativeToFile:e.path});return l8e.props({contentTypes:g8e(t),partPaths:Jre(t),docxFile:t,files:i}).also(function(r){return{styles:v8e(t,r.partPaths.styles)}}).also(function(r){return{numbering:y8e(t,r.partPaths.numbering,r.styles)}}).also(function(r){return{footnotes:yk(r.partPaths.footnotes,r,function(a,s){return s?_V.createFootnotesReader(a)(s):new pR([])}),endnotes:yk(r.partPaths.endnotes,r,function(a,s){return s?_V.createEndnotesReader(a)(s):new pR([])}),comments:yk(r.partPaths.comments,r,function(a,s){return s?h8e.createCommentsReader(a)(s):new pR([])})}}).also(function(r){return{notes:r.footnotes.flatMap(function(a){return r.endnotes.map(function(s){return new c8e.Notes(a.concat(s))})})}}).then(function(r){return yk(r.partPaths.mainDocument,r,function(a,s){return r.notes.flatMap(function(o){return r.comments.flatMap(function(c){var u=new d8e({bodyReader:a,notes:o,comments:c});return u.convertXmlToDocument(s)})})})})}function Jre(t){return b8e(t).then(function(e){var n=SV({docxFile:t,relationships:e,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",basePath:"",fallbackPath:"word/document.xml"});if(!t.exists(n))throw new Error("Could not find main document part. Are you sure this is a valid .docx file?");return zw({filename:Zre(n),readElement:fw.readRelationships,defaultValue:fw.defaultValue})(t).then(function(i){function r(a){return SV({docxFile:t,relationships:i,relationshipType:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/"+a,basePath:_E.splitPath(n).dirname,fallbackPath:"word/"+a+".xml"})}return{mainDocument:n,comments:r("comments"),endnotes:r("endnotes"),footnotes:r("footnotes"),numbering:r("numbering"),styles:r("styles")}})})}function SV(t){var e=t.docxFile,n=t.relationships,i=t.relationshipType,r=t.basePath,a=t.fallbackPath,s=n.findTargetsByType(i),o=s.map(function(u){return m8e(_E.joinPath(r,u),"/")}),c=o.filter(function(u){return e.exists(u)});return c.length===0?a:c[0]}function m8e(t,e){return t.substring(0,e.length)===e?t.substring(e.length):t}function zw(t){return function(e){return Yre(e,t.filename).then(function(n){return n?t.readElement(n):t.defaultValue})}}function yk(t,e,n){var i=zw({filename:Zre(t),readElement:fw.readRelationships,defaultValue:fw.defaultValue});return i(e.docxFile).then(function(r){var a=new u8e({relationships:r,contentTypes:e.contentTypes,docxFile:e.docxFile,numbering:e.numbering,styles:e.styles,files:e.files});return Yre(e.docxFile,t).then(function(s){return n(a,s)})})}function Zre(t){var e=_E.splitPath(t);return _E.joinPath(e.dirname,"_rels",e.basename+".rels")}var g8e=zw({filename:"[Content_Types].xml",readElement:bV.readContentTypesFromXml,defaultValue:bV.defaultContentTypes});function y8e(t,e,n){return zw({filename:e,readElement:function(i){return wV.readNumberingXml(i,{styles:n})},defaultValue:wV.defaultNumbering})(t)}function v8e(t,e){return zw({filename:e,readElement:xV.readStylesXml,defaultValue:xV.defaultStyles})(t)}var b8e=zw({filename:"_rels/.rels",readElement:fw.readRelationships,defaultValue:fw.defaultValue}),ZM={},w8e=wr,x8e=fa,C_=_f;ZM.writeStyleMap=S8e;ZM.readStyleMap=k8e;var _8e="http://schemas.zwobble.org/mammoth/style-map",SE="mammoth/style-map",Qre="/"+SE;function S8e(t,e){return t.write(SE,e),A8e(t).then(function(){return N8e(t)})}function A8e(t){var e="word/_rels/document.xml.rels",n="http://schemas.openxmlformats.org/package/2006/relationships",i="{"+n+"}Relationship";return t.read(e,"utf8").then(C_.readString).then(function(r){var a=r.children;eae(a,i,"Id",{Id:"rMammothStyleMap",Type:_8e,Target:Qre});var s={"":n};return t.write(e,C_.writeString(r,s))})}function N8e(t){var e="[Content_Types].xml",n="http://schemas.openxmlformats.org/package/2006/content-types",i="{"+n+"}Override";return t.read(e,"utf8").then(C_.readString).then(function(r){var a=r.children;eae(a,i,"PartName",{PartName:Qre,ContentType:"text/prs.mammoth.style-map"});var s={"":n};return t.write(e,C_.writeString(r,s))})}function eae(t,e,n,i){var r=w8e.find(t,function(a){return a.name===e&&a.attributes[n]===i[n]});r?r.attributes=i:t.push(C_.element(e,i))}function k8e(t){return t.exists(SE)?t.read(SE,"utf8"):x8e.resolve(null)}var QM={},mg={},Xd={},Xf={},AV;function tae(){if(AV)return Xf;AV=1;var t=S8();function e(c,u,d){return i(t.element(c,u,{fresh:!1}),d)}function n(c,u,d){var h=t.element(c,u,{fresh:!0});return i(h,d)}function i(c,u){return{type:"element",tag:c,children:u||[]}}function r(c){return{type:"text",value:c}}var a={type:"forceWrite"};Xf.freshElement=n,Xf.nonFreshElement=e,Xf.elementWithTag=i,Xf.text=r,Xf.forceWrite=a;var s={br:!0,hr:!0,img:!0,input:!0};function o(c){return c.children.length===0&&s[c.tag.tagName]}return Xf.isVoidElement=o,Xf}var mR,NV;function C8e(){if(NV)return mR;NV=1;var t=wr,e=tae();function n(v){return i(u(v))}function i(v){var b=[];return v.map(r).forEach(function(g){c(b,g)}),b}function r(v){return a[v.type](v)}var a={element:s,text:o,forceWrite:o};function s(v){return e.elementWithTag(v.tag,i(v.children))}function o(v){return v}function c(v,b){var g=v[v.length-1];b.type==="element"&&!b.tag.fresh&&g&&g.type==="element"&&b.tag.matchesElement(g.tag)?(b.tag.separator&&c(g.children,e.text(b.tag.separator)),b.children.forEach(function(y){c(g.children,y)})):v.push(b)}function u(v){return d(v,function(b){return h[b.type](b)})}function d(v,b){return t.flatten(t.map(v,b),!0)}var h={element:p,text:w,forceWrite:f};function f(v){return[v]}function p(v){var b=u(v.children);return b.length===0&&!e.isVoidElement(v)?[]:[e.elementWithTag(v.tag,b)]}function w(v){return v.value.length===0?[]:[v]}return mR=n,mR}var kV;function _8(){if(kV)return Xd;kV=1;var t=tae();Xd.freshElement=t.freshElement,Xd.nonFreshElement=t.nonFreshElement,Xd.elementWithTag=t.elementWithTag,Xd.text=t.text,Xd.forceWrite=t.forceWrite,Xd.simplify=C8e();function e(s,o){o.forEach(function(c){n(s,c)})}function n(s,o){i[o.type](s,o)}var i={element:r,text:a,forceWrite:function(){}};function r(s,o){t.isVoidElement(o)?s.selfClosing(o.tag.tagName,o.tag.attributes):(s.open(o.tag.tagName,o.tag.attributes),e(s,o.children),s.close(o.tag.tagName))}function a(s,o){s.text(o.value)}return Xd.write=e,Xd}var CV;function S8(){if(CV)return mg;CV=1;var t=wr,e=_8();mg.topLevelElement=n,mg.elements=i,mg.element=a;function n(o,c){return i([a(o,c,{fresh:!0})])}function i(o){return new r(o.map(function(c){return t.isString(c)?a(c):c}))}function r(o){this._elements=o}r.prototype.wrap=function(c){for(var u=c(),d=this._elements.length-1;d>=0;d--)u=this._elements[d].wrapNodes(u);return u};function a(o,c,u){return u=u||{},new s(o,c,u)}function s(o,c,u){var d={};t.isArray(o)?(o.forEach(function(h){d[h]=!0}),o=o[0]):d[o]=!0,this.tagName=o,this.tagNames=d,this.attributes=c||{},this.fresh=u.fresh,this.separator=u.separator}return s.prototype.matchesElement=function(o){return this.tagNames[o.tagName]&&t.isEqual(this.attributes||{},o.attributes||{})},s.prototype.wrap=function(c){return this.wrapNodes(c())},s.prototype.wrapNodes=function(c){return[e.elementWithTag(this,c)]},mg.empty=i([]),mg.ignore={wrap:function(){return[]}},mg}var eB={};(function(t){var e=wr,n=fa,i=_8();t.imgElement=r;function r(a){return function(s,o){return n.when(a(s)).then(function(c){var u={};return s.altText&&(u.alt=s.altText),e.extend(u,c),[i.freshElement("img",u)]})}}t.inline=t.imgElement,t.dataUri=r(function(a){return a.readAsBase64String().then(function(s){return{src:"data:"+a.contentType+";base64,"+s}})})})(eB);var nae={},iae={},rae=wr;iae.writer=E8e;function E8e(t){return t=t||{},t.prettyPrint?T8e():aae()}var vk={div:!0,p:!0,ul:!0,li:!0};function T8e(){var t=0,e="  ",n=[],i=!0,r=!1,a=aae();function s(w,v){vk[w]&&f(),n.push(w),a.open(w,v),vk[w]&&t++,i=!1}function o(w){vk[w]&&(t--,f()),n.pop(),a.close(w)}function c(w){h();var v=p()?w:w.replace(`
`,`
`+e);a.text(v)}function u(w,v){f(),a.selfClosing(w,v)}function d(){return n.length===0||vk[n[n.length-1]]}function h(){r||(f(),r=!0)}function f(){if(r=!1,!i&&d()&&!p()){a._append(`
`);for(var w=0;w<t;w++)a._append(e)}}function p(){return rae.some(n,function(w){return w==="pre"})}return{asString:a.asString,open:s,close:o,text:c,selfClosing:u}}function aae(){var t=[];function e(c,u){var d=r(u);t.push("<"+c+d+">")}function n(c){t.push("</"+c+">")}function i(c,u){var d=r(u);t.push("<"+c+d+" />")}function r(c){return rae.map(c,function(u,d){return" "+d+'="'+P8e(u)+'"'}).join("")}function a(c){t.push(D8e(c))}function s(c){t.push(c)}function o(){return t.join("")}return{asString:o,open:e,close:n,text:a,selfClosing:i,_append:s}}function D8e(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function P8e(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var sae={},I8e=wr;function EV(t){return AE(t,t)}function AE(t,e){return function(){return{start:t,end:e}}}function R8e(t){var e=t.href||"";return e?{start:"[",end:"]("+e+")",anchorPosition:"before"}:{}}function L8e(t){var e=t.src||"",n=t.alt||"";return e||n?{start:"!["+n+"]("+e+")"}:{}}function TV(t){return function(e,n){return{start:n?`
`:"",end:n?"":`
`,list:{isOrdered:t.isOrdered,indent:n?n.indent+1:0,count:0}}}}function F8e(t,e,n){e=e||{indent:0,isOrdered:!1,count:0},e.count++,n.hasClosed=!1;var i=e.isOrdered?e.count+".":"-",r=lae("	",e.indent)+i+" ";return{start:r,end:function(){if(!n.hasClosed)return n.hasClosed=!0,`
`}}}var oae={p:AE("",`

`),br:AE("",`  
`),ul:TV({isOrdered:!1}),ol:TV({isOrdered:!0}),li:F8e,strong:EV("__"),em:EV("*"),a:R8e,img:L8e};(function(){for(var t=1;t<=6;t++)oae["h"+t]=AE(lae("#",t)+" ",`

`)})();function lae(t,e){return new Array(e+1).join(t)}function O8e(){var t=[],e=[],n=null,i={};function r(d,h){h=h||{};var f=oae[d]||function(){return{}},p=f(h,n,i);e.push({end:p.end,list:n}),p.list&&(n=p.list);var w=p.anchorPosition==="before";w&&a(h),t.push(p.start||""),w||a(h)}function a(d){d.id&&t.push('<a id="'+d.id+'"></a>')}function s(d){var h=e.pop();n=h.list;var f=I8e.isFunction(h.end)?h.end():h.end;t.push(f||"")}function o(d,h){r(d,h),s()}function c(d){t.push(U8e(d))}function u(){return t.join("")}return{asString:u,open:r,close:s,text:c,selfClosing:o}}sae.writer=O8e;function U8e(t){return t.replace(/\\/g,"\\\\").replace(/([\`\*_\{\}\[\]\(\)\#\+\-\.\!])/g,"\\$1")}var M8e=iae,B8e=sae;nae.writer=z8e;function z8e(t){return t=t||{},t.outputFormat==="markdown"?B8e.writer():M8e.writer(t)}var tp=wr,DV=fa,q4=mn,Ul=S8(),cO=_l,j8e=eB,yn=_8(),$8e=nae;QM.DocumentConverter=W8e;function W8e(t){return{convertToHtml:function(e){var n=tp.indexBy(e.type===q4.types.document?e.comments:[],"commentId"),i=new q8e(t,n);return i.convertToHtml(e)}}}function q8e(t,e){var n=1,i=[],r=[];t=tp.extend({ignoreEmptyParagraphs:!0},t);var a=t.idPrefix===void 0?"":t.idPrefix,s=t.ignoreEmptyParagraphs,o=Ul.topLevelElement("p"),c=t.styleMap||[];function u($){var q=[],G=h($,q,{}),B=[];cae(G,function(M){M.type==="deferred"&&B.push(M)});var L={};return DV.mapSeries(B,function(M){return M.value().then(function(K){L[M.id]=K})}).then(function(){function M(Q){return gR(Q,function(V){return V.type==="deferred"?L[V.id]:V.children?[tp.extend({},V,{children:M(V.children)})]:[V]})}var K=$8e.writer({prettyPrint:t.prettyPrint,outputFormat:t.outputFormat});return yn.write(K,yn.simplify(M(G))),new cO.Result(K.asString(),q)})}function d($,q,G){return gR($,function(B){return h(B,q,G)})}function h($,q,G){if(!G)throw new Error("options not set");var B=W[$.type];return B?B($,q,G):[]}function f($,q,G){return p($,q).wrap(function(){var B=d($.children,q,G);return s?B:[yn.forceWrite].concat(B)})}function p($,q){var G=g($);return G?G.to:($.styleId&&q.push(PV("paragraph",$)),o)}function w($,q,G){var B=function(){return d($.children,q,G)},L=[];if($.highlight!==null){var M=b({type:"highlight",color:$.highlight});M&&L.push(M)}$.isSmallCaps&&L.push(v("smallCaps")),$.isAllCaps&&L.push(v("allCaps")),$.isStrikethrough&&L.push(v("strikethrough","s")),$.isUnderline&&L.push(v("underline")),$.verticalAlignment===q4.verticalAlignment.subscript&&L.push(Ul.element("sub",{},{fresh:!1})),$.verticalAlignment===q4.verticalAlignment.superscript&&L.push(Ul.element("sup",{},{fresh:!1})),$.isItalic&&L.push(v("italic","em")),$.isBold&&L.push(v("bold","strong"));var K=Ul.empty,Q=g($);return Q?K=Q.to:$.styleId&&q.push(PV("run",$)),L.push(K),L.forEach(function(V){B=V.wrap.bind(V,B)}),B()}function v($,q){var G=b({type:$});return G||(q?Ul.element(q,{},{fresh:!1}):Ul.empty)}function b($,q){var G=g($);return G?G.to:q}function g($){for(var q=0;q<c.length;q++)if(c[q].from.matches($))return c[q]}function y($){return function(q,G){return DV.attempt(function(){return $(q,G)}).caught(function(B){return G.push(cO.error(B)),[]})}}function _($){return N($.noteType,$.noteId)}function S($){return R($.noteType,$.noteId)}function N($,q){return D($+"-"+q)}function R($,q){return D($+"-ref-"+q)}function D($){return a+$}var E=Ul.elements([Ul.element("table",{},{fresh:!0})]);function C($,q,G){return b($,E).wrap(function(){return P($,q,G)})}function P($,q,G){var B=tp.findIndex($.children,function(Q){return!Q.type===q4.types.tableRow||!Q.isHeader});B===-1&&(B=$.children.length);var L;if(B===0)L=d($.children,q,tp.extend({},G,{isTableHeader:!1}));else{var M=d($.children.slice(0,B),q,tp.extend({},G,{isTableHeader:!0})),K=d($.children.slice(B),q,tp.extend({},G,{isTableHeader:!1}));L=[yn.freshElement("thead",{},M),yn.freshElement("tbody",{},K)]}return[yn.forceWrite].concat(L)}function k($,q,G){var B=d($.children,q,G);return[yn.freshElement("tr",{},[yn.forceWrite].concat(B))]}function A($,q,G){var B=G.isTableHeader?"th":"td",L=d($.children,q,G),M={};return $.colSpan!==1&&(M.colspan=$.colSpan.toString()),$.rowSpan!==1&&(M.rowspan=$.rowSpan.toString()),[yn.freshElement(B,M,[yn.forceWrite].concat(L))]}function I($,q,G){return b($,Ul.ignore).wrap(function(){var B=e[$.commentId],L=r.length+1,M="["+G8e(B)+L+"]";return r.push({label:M,comment:B}),[yn.freshElement("a",{href:"#"+N("comment",$.commentId),id:R("comment",$.commentId)},[yn.text(M)])]})}function T($,q,G){var B=$.label,L=$.comment,M=d(L.body,q,G).concat([yn.nonFreshElement("p",{},[yn.text(" "),yn.freshElement("a",{href:"#"+R("comment",L.commentId)},[yn.text("")])])]);return[yn.freshElement("dt",{id:N("comment",L.commentId)},[yn.text("Comment "+B)]),yn.freshElement("dd",{},M)]}function z($,q,G){return j($).wrap(function(){return[]})}function j($){var q=g($);return q?q.to:$.breakType==="line"?Ul.topLevelElement("br"):Ul.empty}var W={document:function($,q,G){var B=d($.children,q,G),L=i.map(function(K){return $.notes.resolve(K)}),M=d(L,q,G);return B.concat([yn.freshElement("ol",{},M),yn.freshElement("dl",{},gR(r,function(K){return T(K,q,G)}))])},paragraph:f,run:w,text:function($,q,G){return[yn.text($.value)]},tab:function($,q,G){return[yn.text("	")]},hyperlink:function($,q,G){var B=$.anchor?"#"+D($.anchor):$.href,L={href:B};$.targetFrame!=null&&(L.target=$.targetFrame);var M=d($.children,q,G);return[yn.nonFreshElement("a",L,M)]},checkbox:function($){var q={type:"checkbox"};return $.checked&&(q.checked="checked"),[yn.freshElement("input",q)]},bookmarkStart:function($,q,G){var B=yn.freshElement("a",{id:D($.name)},[yn.forceWrite]);return[B]},noteReference:function($,q,G){i.push($);var B=yn.freshElement("a",{href:"#"+_($),id:S($)},[yn.text("["+n+++"]")]);return[yn.freshElement("sup",{},[B])]},note:function($,q,G){var B=d($.body,q,G),L=yn.elementWithTag(Ul.element("p",{},{fresh:!1}),[yn.text(" "),yn.freshElement("a",{href:"#"+S($)},[yn.text("")])]),M=B.concat([L]);return yn.freshElement("li",{id:_($)},M)},commentReference:I,comment:T,image:V8e(y(t.convertImage||j8e.dataUri)),table:C,tableRow:k,tableCell:A,break:z};return{convertToHtml:u}}var H8e=1;function V8e(t){return function(e,n,i){return[{type:"deferred",id:H8e++,value:function(){return t(e,n,i)}}]}}function PV(t,e){return cO.warning("Unrecognised "+t+" style: '"+e.styleName+"' (Style ID: "+e.styleId+")")}function gR(t,e){return tp.flatten(t.map(e),!0)}function cae(t,e){t.forEach(function(n){e(n),n.children&&cae(n.children,e)})}var G8e=QM.commentAuthorLabel=function(e){return e.authorInitials||""},uae={},X8e=mn;function dae(t){if(t.type==="text")return t.value;if(t.type===X8e.types.tab)return"	";var e=t.type==="paragraph"?`

`:"";return(t.children||[]).map(dae).join("")+e}uae.convertElementToRawText=dae;var A8={},cu={},hae={},fae={exports:{}},pw=fae.exports=function(t,e){this._tokens=t,this._startIndex=e||0};pw.prototype.head=function(){return this._tokens[this._startIndex]};pw.prototype.tail=function(t){return new pw(this._tokens,this._startIndex+1)};pw.prototype.toArray=function(){return this._tokens.slice(this._startIndex)};pw.prototype.end=function(){return this._tokens[this._tokens.length-1]};pw.prototype.to=function(t){var e=this.head().source,n=t.head()||t.end();return e.to(n.source)};var K8e=fae.exports,Y8e=K8e;hae.Parser=function(t){var e=function(n,i){return n(new Y8e(i))};return{parseTokens:e}};var tB={},pae={};(function(t){t.none=Object.create({value:function(){throw new Error("Called value on none")},isNone:function(){return!0},isSome:function(){return!1},map:function(){return t.none},flatMap:function(){return t.none},filter:function(){return t.none},toArray:function(){return[]},orElse:e,valueOrElse:e});function e(i){return typeof i=="function"?i():i}t.some=function(i){return new n(i)};var n=function(i){this._value=i};n.prototype.value=function(){return this._value},n.prototype.isNone=function(){return!1},n.prototype.isSome=function(){return!0},n.prototype.map=function(i){return new n(i(this._value))},n.prototype.flatMap=function(i){return i(this._value)},n.prototype.filter=function(i){return i(this._value)?this:t.none},n.prototype.toArray=function(){return[this._value]},n.prototype.orElse=function(i){return this},n.prototype.valueOrElse=function(i){return this._value},t.isOption=function(i){return i===t.none||i instanceof n},t.fromNullable=function(i){return i==null?t.none:new n(i)}})(pae);var nB={failure:function(t,e){if(t.length<1)throw new Error("Failure must have errors");return new os({status:"failure",remaining:e,errors:t})},error:function(t,e){if(t.length<1)throw new Error("Failure must have errors");return new os({status:"error",remaining:e,errors:t})},success:function(t,e,n){return new os({status:"success",value:t,source:n,remaining:e,errors:[]})},cut:function(t){return new os({status:"cut",remaining:t,errors:[]})}},os=function(t){this._value=t.value,this._status=t.status,this._hasValue=t.value!==void 0,this._remaining=t.remaining,this._source=t.source,this._errors=t.errors};os.prototype.map=function(t){return this._hasValue?new os({value:t(this._value,this._source),status:this._status,remaining:this._remaining,source:this._source,errors:this._errors}):this};os.prototype.changeRemaining=function(t){return new os({value:this._value,status:this._status,remaining:t,source:this._source,errors:this._errors})};os.prototype.isSuccess=function(){return this._status==="success"||this._status==="cut"};os.prototype.isFailure=function(){return this._status==="failure"};os.prototype.isError=function(){return this._status==="error"};os.prototype.isCut=function(){return this._status==="cut"};os.prototype.value=function(){return this._value};os.prototype.remaining=function(){return this._remaining};os.prototype.source=function(){return this._source};os.prototype.errors=function(){return this._errors};var iB={};iB.error=function(t){return new N8(t)};var N8=function(t){this.expected=t.expected,this.actual=t.actual,this._location=t.location};N8.prototype.describe=function(){var t=this._location?this._location.describe()+`:
`:"";return t+"Expected "+this.expected+`
but got `+this.actual};N8.prototype.lineNumber=function(){return this._location.lineNumber()};N8.prototype.characterNumber=function(){return this._location.characterNumber()};var mae={};mae.fromArray=function(t){var e=0,n=function(){return e<t.length};return new G0({hasNext:n,next:function(){if(n())return t[e++];throw new Error("No more elements")}})};var G0=function(t){this._iterator=t};G0.prototype.map=function(t){var e=this._iterator;return new G0({hasNext:function(){return e.hasNext()},next:function(){return t(e.next())}})};G0.prototype.filter=function(t){var e=this._iterator,n=!1,i=!1,r,a=function(){if(!n)for(n=!0,i=!1;e.hasNext()&&!i;)r=e.next(),i=t(r)};return new G0({hasNext:function(){return a(),i},next:function(){a();var s=r;return n=!1,s}})};G0.prototype.first=function(){var t=this._iterator;return this._iterator.hasNext()?t.next():null};G0.prototype.toArray=function(){for(var t=[];this._iterator.hasNext();)t.push(this._iterator.next());return t};(function(t){var e=wr,n=pae,i=nB,r=iB,a=mae;t.token=function(f,p){var w=p!==void 0;return function(v){var b=v.head();if(b&&b.name===f&&(!w||b.value===p))return i.success(b.value,v.tail(),b.source);var g=d({name:f,value:p});return h(v,g)}},t.tokenOfType=function(f){return t.token(f)},t.firstOf=function(f,p){return e.isArray(p)||(p=Array.prototype.slice.call(arguments,1)),function(w){return a.fromArray(p).map(function(v){return v(w)}).filter(function(v){return v.isSuccess()||v.isError()}).first()||h(w,f)}},t.then=function(f,p){return function(w){var v=f(w);return v.map||console.log(v),v.map(p)}},t.sequence=function(){var f=Array.prototype.slice.call(arguments,0),p=function(v){var b=e.foldl(f,function(y,_){var S=y.result,N=y.hasCut;if(!S.isSuccess())return{result:S,hasCut:N};var R=_(S.remaining());if(R.isCut())return{result:S,hasCut:!0};if(R.isSuccess()){var D;_.isCaptured?D=S.value().withValue(_,R.value()):D=S.value();var E=R.remaining(),C=v.to(E);return{result:i.success(D,E,C),hasCut:N}}else return N?{result:i.error(R.errors(),R.remaining()),hasCut:N}:{result:R,hasCut:N}},{result:i.success(new s,v),hasCut:!1}).result,g=v.to(b.remaining());return b.map(function(y){return y.withValue(t.sequence.source,g)})};p.head=function(){var v=e.find(f,w);return t.then(p,t.sequence.extract(v))},p.map=function(v){return t.then(p,function(b){return v.apply(this,b.toArray())})};function w(v){return v.isCaptured}return p};var s=function(f,p){this._values=f||{},this._valuesArray=p||[]};s.prototype.withValue=function(f,p){if(f.captureName&&f.captureName in this._values)throw new Error('Cannot add second value for capture "'+f.captureName+'"');var w=e.clone(this._values);w[f.captureName]=p;var v=this._valuesArray.concat([p]);return new s(w,v)},s.prototype.get=function(f){if(f.captureName in this._values)return this._values[f.captureName];throw new Error('No value for capture "'+f.captureName+'"')},s.prototype.toArray=function(){return this._valuesArray},t.sequence.capture=function(f,p){var w=function(){return f.apply(this,arguments)};return w.captureName=p,w.isCaptured=!0,w},t.sequence.extract=function(f){return function(p){return p.get(f)}},t.sequence.applyValues=function(f){var p=Array.prototype.slice.call(arguments,1);return function(w){var v=p.map(function(b){return w.get(b)});return f.apply(this,v)}},t.sequence.source={captureName:"source"},t.sequence.cut=function(){return function(f){return i.cut(f)}},t.optional=function(f){return function(p){var w=f(p);return w.isSuccess()?w.map(n.some):w.isFailure()?i.success(n.none,p):w}},t.zeroOrMoreWithSeparator=function(f,p){return u(f,p,!1)},t.oneOrMoreWithSeparator=function(f,p){return u(f,p,!0)};var o=t.zeroOrMore=function(f){return function(p){for(var w=[],v;(v=f(p))&&v.isSuccess();)p=v.remaining(),w.push(v.value());return v.isError()?v:i.success(w,p)}};t.oneOrMore=function(f){return t.oneOrMoreWithSeparator(f,c)};function c(f){return i.success(null,f)}var u=function(f,p,w){return function(v){var b=f(v);if(b.isSuccess()){var g=t.sequence.capture(f,"main"),y=o(t.then(t.sequence(p,g),t.sequence.extract(g))),_=y(b.remaining());return i.success([b.value()].concat(_.value()),_.remaining())}else return w||b.isError()?b:i.success([],v)}};t.leftAssociative=function(f,p,w){var v;w?v=[{func:w,rule:p}]:v=p,v=v.map(function(g){return t.then(g.rule,function(y){return function(_,S){return g.func(_,y,S)}})});var b=t.firstOf.apply(null,["rules"].concat(v));return function(g){var y=g,_=f(g);if(!_.isSuccess())return _;for(var S=b(_.remaining());S.isSuccess();){var N=S.remaining(),R=y.to(S.remaining()),D=S.value();_=i.success(D(_.value(),R),N,R),S=b(_.remaining())}return S.isError()?S:_}},t.leftAssociative.firstOf=function(){return Array.prototype.slice.call(arguments,0)},t.nonConsuming=function(f){return function(p){return f(p).changeRemaining(p)}};var d=function(f){return f.value?f.name+' "'+f.value+'"':f.name};function h(f,p){var w,v=f.head();return v?w=r.error({expected:p,actual:d(v),location:v.source}):w=r.error({expected:p,actual:"end of tokens"}),i.failure([w],f)}})(tB);var gae={exports:{}};gae.exports=function(t,e){var n={asString:function(){return t},range:function(i,r){return new X0(t,e,i,r)}};return n};var X0=function(t,e,n,i){this._string=t,this._description=e,this._startIndex=n,this._endIndex=i};X0.prototype.to=function(t){return new X0(this._string,this._description,this._startIndex,t._endIndex)};X0.prototype.describe=function(){var t=this._position(),e=this._description?this._description+`
`:"";return e+"Line number: "+t.lineNumber+`
Character number: `+t.characterNumber};X0.prototype.lineNumber=function(){return this._position().lineNumber};X0.prototype.characterNumber=function(){return this._position().characterNumber};X0.prototype._position=function(){for(var t=this,e=0,n=function(){return t._string.indexOf(`
`,e)},i=1;n()!==-1&&n()<this._startIndex;)e=n()+1,i+=1;var r=this._startIndex-e+1;return{lineNumber:i,characterNumber:r}};var yae=gae.exports,vae=function(t,e,n){this.name=t,this.value=e,n&&(this.source=n)},bae={};(function(t){var e=tB,n=nB;t.parser=function(a,s,o){var c={rule:f,leftAssociative:p,rightAssociative:w},u=new i(o.map(h)),d=e.firstOf(a,s);function h(g){return{name:g.name,rule:r(g.ruleBuilder.bind(null,c))}}function f(){return v(u)}function p(g){return v(u.untilExclusive(g))}function w(g){return v(u.untilInclusive(g))}function v(g){return b.bind(null,g)}function b(g,y){var _=d(y);return _.isSuccess()?g.apply(_):_}return c};function i(a){function s(h){return new i(a.slice(0,c().indexOf(h)))}function o(h){return new i(a.slice(0,c().indexOf(h)+1))}function c(){return a.map(function(h){return h.name})}function u(h){for(var f,p;;)if(f=d(h.remaining()),f.isSuccess())p=h.source().to(f.source()),h=n.success(f.value()(h.value(),p),f.remaining(),p);else return f.isFailure()?h:f}function d(h){return e.firstOf("infix",a.map(function(f){return f.rule}))(h)}return{apply:u,untilExclusive:s,untilInclusive:o}}t.infix=function(a,s){function o(c){return t.infix(a,function(u){var d=s(u);return function(h){var f=d(h);return f.map(function(p){return function(w,v){return c(w,p,v)}})}})}return{name:a,ruleBuilder:s,map:o}};var r=function(a){var s;return function(o){return s||(s=a()),s(o)}}})(bae);var wae={},yR=vae,J8e=yae;wae.RegexTokeniser=Z8e;function Z8e(t){t=t.map(function(r){return{name:r.name,regex:new RegExp(r.regex.source,"g")}});function e(r,a){for(var s=new J8e(r,a),o=0,c=[];o<r.length;){var u=n(r,o,s);o=u.endIndex,c.push(u.token)}return c.push(i(r,s)),c}function n(r,a,s){for(var o=0;o<t.length;o++){var c=t[o].regex;c.lastIndex=a;var u=c.exec(r);if(u){var h=a+u[0].length;if(u.index===a&&h>a){var d=u[1],f=new yR(t[o].name,d,s.range(a,h));return{token:f,endIndex:h}}}}var h=a+1,f=new yR("unrecognisedCharacter",r.substring(a,h),s.range(a,h));return{token:f,endIndex:h}}function i(r,a){return new yR("end",null,a.range(r.length,r.length))}return{tokenise:e}}cu.Parser=hae.Parser;cu.rules=tB;cu.errors=iB;cu.results=nB;cu.StringSource=yae;cu.Token=vae;cu.bottomUp=bae;cu.RegexTokeniser=wae.RegexTokeniser;cu.rule=function(t){var e;return function(n){return e||(e=t()),e(n)}};var Oa={};Oa.paragraph=Q8e;Oa.run=ePe;Oa.table=tPe;Oa.bold=new uu("bold");Oa.italic=new uu("italic");Oa.underline=new uu("underline");Oa.strikethrough=new uu("strikethrough");Oa.allCaps=new uu("allCaps");Oa.smallCaps=new uu("smallCaps");Oa.highlight=nPe;Oa.commentReference=new uu("commentReference");Oa.lineBreak=new k8({breakType:"line"});Oa.pageBreak=new k8({breakType:"page"});Oa.columnBreak=new k8({breakType:"column"});Oa.equalTo=rPe;Oa.startsWith=aPe;function Q8e(t){return new uu("paragraph",t)}function ePe(t){return new uu("run",t)}function tPe(t){return new uu("table",t)}function nPe(t){return new xae(t)}function uu(t,e){e=e||{},this._elementType=t,this._styleId=e.styleId,this._styleName=e.styleName,e.list&&(this._listIndex=e.list.levelIndex,this._listIsOrdered=e.list.isOrdered)}uu.prototype.matches=function(t){return t.type===this._elementType&&(this._styleId===void 0||t.styleId===this._styleId)&&(this._styleName===void 0||t.styleName&&this._styleName.operator(this._styleName.operand,t.styleName))&&(this._listIndex===void 0||iPe(t,this._listIndex,this._listIsOrdered))&&(this._breakType===void 0||this._breakType===t.breakType)};function xae(t){t=t||{},this._color=t.color}xae.prototype.matches=function(t){return t.type==="highlight"&&(this._color===void 0||t.color===this._color)};function k8(t){t=t||{},this._breakType=t.breakType}k8.prototype.matches=function(t){return t.type==="break"&&(this._breakType===void 0||t.breakType===this._breakType)};function iPe(t,e,n){return t.numbering&&t.numbering.level==e&&t.numbering.isOrdered==n}function rPe(t){return{operator:sPe,operand:t}}function aPe(t){return{operator:oPe,operand:t}}function sPe(t,e){return t.toUpperCase()===e.toUpperCase()}function oPe(t,e){return e.toUpperCase().indexOf(t.toUpperCase())===0}var _ae={},lPe=cu,cPe=lPe.RegexTokeniser;_ae.tokenise=uPe;var IV="'((?:\\\\.|[^'])*)";function uPe(t){var e="(?:[a-zA-Z\\-_]|\\\\.)",n=new cPe([{name:"identifier",regex:new RegExp("("+e+"(?:"+e+"|[0-9])*)")},{name:"dot",regex:/\./},{name:"colon",regex:/:/},{name:"gt",regex:/>/},{name:"whitespace",regex:/\s+/},{name:"arrow",regex:/=>/},{name:"equals",regex:/=/},{name:"startsWith",regex:/\^=/},{name:"open-paren",regex:/\(/},{name:"close-paren",regex:/\)/},{name:"open-square-bracket",regex:/\[/},{name:"close-square-bracket",regex:/\]/},{name:"string",regex:new RegExp(IV+"'")},{name:"unterminated-string",regex:new RegExp(IV)},{name:"integer",regex:/([0-9]+)/},{name:"choice",regex:/\|/},{name:"bang",regex:/(!)/}]);return n.tokenise(t)}var dPe=wr,ht=cu,Ha=Oa,H4=S8(),hPe=_ae.tokenise,vR=_l;A8.readHtmlPath=gPe;A8.readDocumentMatcher=mPe;A8.readStyle=fPe;function fPe(t){return rB(APe,t)}function pPe(){return ht.rules.sequence(ht.rules.sequence.capture(Sae()),ht.rules.tokenOfType("whitespace"),ht.rules.tokenOfType("arrow"),ht.rules.sequence.capture(ht.rules.optional(ht.rules.sequence(ht.rules.tokenOfType("whitespace"),ht.rules.sequence.capture(Aae())).head())),ht.rules.tokenOfType("end")).map(function(t,e){return{from:t,to:e.valueOrElse(H4.empty)}})}function mPe(t){return rB(Sae(),t)}function Sae(){var t=ht.rules.sequence,e=function(R,D){return ht.rules.then(ht.rules.token("identifier",R),function(){return D})},n=e("p",Ha.paragraph),i=e("r",Ha.run),r=ht.rules.firstOf("p or r or table",n,i),a=ht.rules.sequence(ht.rules.tokenOfType("dot"),ht.rules.sequence.cut(),ht.rules.sequence.capture(C8)).map(function(R){return{styleId:R}}),s=ht.rules.firstOf("style name matcher",ht.rules.then(ht.rules.sequence(ht.rules.tokenOfType("equals"),ht.rules.sequence.cut(),ht.rules.sequence.capture(gv)).head(),function(R){return{styleName:Ha.equalTo(R)}}),ht.rules.then(ht.rules.sequence(ht.rules.tokenOfType("startsWith"),ht.rules.sequence.cut(),ht.rules.sequence.capture(gv)).head(),function(R){return{styleName:Ha.startsWith(R)}})),o=ht.rules.sequence(ht.rules.tokenOfType("open-square-bracket"),ht.rules.sequence.cut(),ht.rules.token("identifier","style-name"),ht.rules.sequence.capture(s),ht.rules.tokenOfType("close-square-bracket")).head(),c=ht.rules.firstOf("list type",e("ordered-list",{isOrdered:!0}),e("unordered-list",{isOrdered:!1})),u=t(ht.rules.tokenOfType("colon"),t.capture(c),t.cut(),ht.rules.tokenOfType("open-paren"),t.capture(yPe),ht.rules.tokenOfType("close-paren")).map(function(R,D){return{list:{isOrdered:R.isOrdered,levelIndex:D-1}}});function d(R){var D=ht.rules.firstOf.apply(ht.rules.firstOf,["matcher suffix"].concat(R)),E=ht.rules.zeroOrMore(D);return ht.rules.then(E,function(C){var P={};return C.forEach(function(k){dPe.extend(P,k)}),P})}var h=t(t.capture(r),t.capture(d([a,o,u]))).map(function(R,D){return R(D)}),f=t(ht.rules.token("identifier","table"),t.capture(d([a,o]))).map(function(R){return Ha.table(R)}),p=e("b",Ha.bold),w=e("i",Ha.italic),v=e("u",Ha.underline),b=e("strike",Ha.strikethrough),g=e("all-caps",Ha.allCaps),y=e("small-caps",Ha.smallCaps),_=t(ht.rules.token("identifier","highlight"),ht.rules.sequence.capture(ht.rules.optional(ht.rules.sequence(ht.rules.tokenOfType("open-square-bracket"),ht.rules.sequence.cut(),ht.rules.token("identifier","color"),ht.rules.tokenOfType("equals"),ht.rules.sequence.capture(gv),ht.rules.tokenOfType("close-square-bracket")).head()))).map(function(R){return Ha.highlight({color:R.valueOrElse(void 0)})}),S=e("comment-reference",Ha.commentReference),N=t(ht.rules.token("identifier","br"),t.cut(),ht.rules.tokenOfType("open-square-bracket"),ht.rules.token("identifier","type"),ht.rules.tokenOfType("equals"),t.capture(gv),ht.rules.tokenOfType("close-square-bracket")).map(function(R){switch(R){case"line":return Ha.lineBreak;case"page":return Ha.pageBreak;case"column":return Ha.columnBreak}});return ht.rules.firstOf("element type",h,f,p,w,v,b,g,y,_,S,N)}function gPe(t){return rB(Aae(),t)}function Aae(){var t=ht.rules.sequence.capture,e=ht.rules.tokenOfType("whitespace"),n=ht.rules.then(ht.rules.optional(ht.rules.sequence(ht.rules.tokenOfType("colon"),ht.rules.token("identifier","fresh"))),function(s){return s.map(function(){return!0}).valueOrElse(!1)}),i=ht.rules.then(ht.rules.optional(ht.rules.sequence(ht.rules.tokenOfType("colon"),ht.rules.token("identifier","separator"),ht.rules.tokenOfType("open-paren"),t(gv),ht.rules.tokenOfType("close-paren")).head()),function(s){return s.valueOrElse("")}),r=ht.rules.oneOrMoreWithSeparator(C8,ht.rules.tokenOfType("choice")),a=ht.rules.sequence(t(r),t(ht.rules.zeroOrMore(xPe)),t(n),t(i)).map(function(s,o,c,u){var d={},h={};return o.forEach(function(f){f.append&&d[f.name]?d[f.name]+=" "+f.value:d[f.name]=f.value}),c&&(h.fresh=!0),u&&(h.separator=u),H4.element(s,d,h)});return ht.rules.firstOf("html path",ht.rules.then(ht.rules.tokenOfType("bang"),function(){return H4.ignore}),ht.rules.then(ht.rules.zeroOrMoreWithSeparator(a,ht.rules.sequence(e,ht.rules.tokenOfType("gt"),e)),H4.elements))}var C8=ht.rules.then(ht.rules.tokenOfType("identifier"),Nae),yPe=ht.rules.tokenOfType("integer"),gv=ht.rules.then(ht.rules.tokenOfType("string"),Nae),vPe={n:`
`,r:"\r",t:"	"};function Nae(t){return t.replace(/\\(.)/g,function(e,n){return vPe[n]||n})}var bPe=ht.rules.sequence(ht.rules.tokenOfType("open-square-bracket"),ht.rules.sequence.cut(),ht.rules.sequence.capture(C8),ht.rules.tokenOfType("equals"),ht.rules.sequence.capture(gv),ht.rules.tokenOfType("close-square-bracket")).map(function(t,e){return{name:t,value:e,append:!1}}),wPe=ht.rules.sequence(ht.rules.tokenOfType("dot"),ht.rules.sequence.cut(),ht.rules.sequence.capture(C8)).map(function(t){return{name:"class",value:t,append:!0}}),xPe=ht.rules.firstOf("attribute or class",bPe,wPe);function rB(t,e){var n=hPe(e),i=ht.Parser(),r=i.parseTokens(t,n);return r.isSuccess()?vR.success(r.value()):new vR.Result(null,[vR.warning(_Pe(e,r))])}function _Pe(t,e){return"Did not understand this style mapping, so ignored it: "+t+`
`+e.errors().map(SPe).join(`
`)}function SPe(t){return"Error was at character number "+t.characterNumber()+": Expected "+t.expected+" but got "+t.actual}var APe=pPe(),E8={};E8.readOptions=CPe;var kae=wr,NPe=E8._defaultStyleMap=["p.Heading1 => h1:fresh","p.Heading2 => h2:fresh","p.Heading3 => h3:fresh","p.Heading4 => h4:fresh","p.Heading5 => h5:fresh","p.Heading6 => h6:fresh","p[style-name='Heading 1'] => h1:fresh","p[style-name='Heading 2'] => h2:fresh","p[style-name='Heading 3'] => h3:fresh","p[style-name='Heading 4'] => h4:fresh","p[style-name='Heading 5'] => h5:fresh","p[style-name='Heading 6'] => h6:fresh","p[style-name='heading 1'] => h1:fresh","p[style-name='heading 2'] => h2:fresh","p[style-name='heading 3'] => h3:fresh","p[style-name='heading 4'] => h4:fresh","p[style-name='heading 5'] => h5:fresh","p[style-name='heading 6'] => h6:fresh","p.Heading => h1:fresh","p[style-name='Heading'] => h1:fresh","r[style-name='Strong'] => strong","p[style-name='footnote text'] => p:fresh","r[style-name='footnote reference'] =>","p[style-name='endnote text'] => p:fresh","r[style-name='endnote reference'] =>","p[style-name='annotation text'] => p:fresh","r[style-name='annotation reference'] =>","p[style-name='Footnote'] => p:fresh","r[style-name='Footnote anchor'] =>","p[style-name='Endnote'] => p:fresh","r[style-name='Endnote anchor'] =>","p:unordered-list(1) => ul > li:fresh","p:unordered-list(2) => ul|ol > li > ul > li:fresh","p:unordered-list(3) => ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:unordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ul > li:fresh","p:ordered-list(1) => ol > li:fresh","p:ordered-list(2) => ul|ol > li > ol > li:fresh","p:ordered-list(3) => ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(4) => ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","p:ordered-list(5) => ul|ol > li > ul|ol > li > ul|ol > li > ul|ol > li > ol > li:fresh","r[style-name='Hyperlink'] =>","p[style-name='Normal'] => p:fresh","p.Body => p:fresh","p[style-name='Body'] => p:fresh"],kPe=E8._standardOptions={externalFileAccess:!1,transformDocument:EPe,includeDefaultStyleMap:!0,includeEmbeddedStyleMap:!0};function CPe(t){return t=t||{},kae.extend({},kPe,t,{customStyleMap:RV(t.styleMap),readStyleMap:function(){var e=this.customStyleMap;return this.includeEmbeddedStyleMap&&(e=e.concat(RV(this.embeddedStyleMap))),this.includeDefaultStyleMap&&(e=e.concat(NPe)),e}})}function RV(t){return t?kae.isString(t)?t.split(`
`).map(function(e){return e.trim()}).filter(function(e){return e!==""&&e.charAt(0)!=="#"}):t:[]}function EPe(t){return t}var Cae={},LV=fa,TPe=YN;Cae.openZip=DPe;function DPe(t){return t.arrayBuffer?LV.resolve(TPe.openArrayBuffer(t.arrayBuffer)):LV.reject(new Error("Could not find file in options"))}var Eae={},PPe=S8(),IPe=_8();Eae.element=RPe;function RPe(t){return function(e){return IPe.elementWithTag(PPe.element(t),[e])}}var LPe=wr,Tae=kM,aB=ZM,FPe=QM.DocumentConverter,OPe=uae.convertElementToRawText,UPe=A8.readStyle,MPe=E8.readOptions,T8=Cae,BPe=_l.Result;lu.convertToHtml=zPe;lu.convertToMarkdown=jPe;lu.convert=sB;lu.extractRawText=HPe;lu.images=eB;lu.transforms=Zm;lu.underline=Eae;lu.embedStyleMap=VPe;lu.readEmbeddedStyleMap=$Pe;function zPe(t,e){return sB(t,e)}function jPe(t,e){var n=Object.create(e||{});return n.outputFormat="markdown",sB(t,n)}function sB(t,e){return e=MPe(e),T8.openZip(t).tap(function(n){return aB.readStyleMap(n).then(function(i){e.embeddedStyleMap=i})}).then(function(n){return Tae.read(n,t,e).then(function(i){return i.map(e.transformDocument)}).then(function(i){return WPe(i,e)})})}function $Pe(t){return T8.openZip(t).then(aB.readStyleMap)}function WPe(t,e){var n=qPe(e.readStyleMap()),i=LPe.extend({},e,{styleMap:n.value}),r=new FPe(i);return t.flatMapThen(function(a){return n.flatMapThen(function(s){return r.convertToHtml(a)})})}function qPe(t){return BPe.combine((t||[]).map(UPe)).map(function(e){return e.filter(function(n){return!!n})})}function HPe(t){return T8.openZip(t).then(Tae.read).then(function(e){return e.map(OPe)})}function VPe(t,e){return T8.openZip(t).tap(function(n){return aB.writeStyleMap(n,e)}).then(function(n){return n.toArrayBuffer()}).then(function(n){return{toArrayBuffer:function(){return n},toBuffer:function(){return Buffer.from(n)}}})}lu.styleMapping=function(){throw new Error(`Use a raw string instead of mammoth.styleMapping e.g. "p[style-name='Title'] => h1" instead of mammoth.styleMapping("p[style-name='Title'] => h1")`)};const t3={getPublications:async(t={})=>new Promise(e=>{setTimeout(()=>{let i=[{id:1,title:"Journal of Urban Planning and Development",publisher:"American Society of Civil Engineers",description:"A peer-reviewed journal focusing on urban planning, development, and infrastructure management in growing cities.",accessType:"open",category:"Urban Planning",year:2024,volume:150,issue:1,issn:"0733-9488",publicationDate:"2024-01-15",downloads:1247,citations:89,status:"published",keywords:["Urban Planning","Infrastructure","Sustainable Development","City Management"]},{id:2,title:"Sustainable Cities and Society",publisher:"Elsevier",description:"International journal focusing on fundamental and applied research on sustainable development and smart city technologies.",accessType:"paid",category:"Sustainable Development",year:2024,volume:45,issue:null,issn:"2210-6707",publicationDate:"2024-02-01",downloads:2893,citations:156,status:"published",keywords:["Sustainability","Smart Cities","Energy Efficiency","Urban Analytics"]},{id:3,title:"Transportation Research Part A: Policy and Practice",publisher:"Elsevier",description:"Covers policy and practice in passenger and freight transportation across all modes from local to international.",accessType:"sso",category:"Transportation",year:2023,volume:178,issue:3,issn:"0965-8564",publicationDate:"2023-12-10",downloads:1876,citations:234,status:"published",keywords:["Transportation","Policy","Mobility","Infrastructure"]},{id:4,title:"Heritage and Sustainable Urban Development",publisher:"Taylor & Francis",description:"Explores the intersection of cultural heritage preservation and contemporary urban development challenges.",accessType:"open",category:"Heritage Conservation",year:2023,volume:12,issue:2,issn:"2470-8536",publicationDate:"2023-11-20",downloads:892,citations:45,status:"published",keywords:["Heritage","Conservation","Urban Development","Cultural Preservation"]},{id:5,title:"GIS for Urban Planning and Management",publisher:"Springer",description:"Comprehensive guide to GIS applications in urban planning, spatial analysis, and decision support systems.",accessType:"paid",category:"GIS & Mapping",year:2023,volume:1,issue:null,issn:"2520-8520",publicationDate:"2023-10-05",downloads:1567,citations:78,status:"published",keywords:["GIS","Spatial Analysis","Urban Planning","Mapping"]},{id:6,title:"Urban Data Science and Analytics",publisher:"MIT Press",description:"Advanced techniques in data science applied to urban problems, including machine learning and predictive modeling.",accessType:"sso",category:"Data Analytics",year:2023,volume:8,issue:4,issn:"2691-5237",publicationDate:"2023-09-15",downloads:2134,citations:112,status:"published",keywords:["Data Science","Urban Analytics","Machine Learning","Predictive Modeling"]}];t.accessType&&(i=i.filter(r=>r.accessType===t.accessType)),t.category&&(i=i.filter(r=>r.category===t.category)),e(i)},1e3)}),getPublicationById:async t=>(await Oe.get(`/publications/${t}`)).data,submitManuscript:async t=>{console.log(" API Service: Sending manuscript to backend...");const e=await Oe.post("/publishing/manuscripts/submit",t);return console.log(" API Service: Response received:",e.data),e.data},getUserManuscripts:async()=>(await Oe.get("/manuscripts")).data,getManuscriptById:async t=>(await Oe.get(`/manuscripts/${t}`)).data,updateManuscript:async(t,e)=>(await Oe.put(`/manuscripts/${t}`,e)).data,withdrawManuscript:async t=>(await Oe.delete(`/manuscripts/${t}`)).data,downloadPublication:async t=>(await Oe.get(`/publications/${t}/download`,{responseType:"blob"})).data,viewPublication:async t=>(await Oe.get(`/publications/${t}/view`)).data,getPublishingRequirements:async(t={})=>(await Oe.get("/publishing/requirements",{params:t})).data,getMyManuscripts:async()=>{console.log(" API Service: Fetching my manuscripts...");const t=await Oe.get("/publishing/my-manuscripts");return console.log(" API Service: Manuscripts response:",t.data),t.data},deleteManuscript:async t=>{console.log(" API Service: Deleting manuscript:",t);const e=await Oe.delete(`/publishing/manuscripts/${t}`);return console.log(" API Service: Delete response:",e.data),e.data},getManuscriptDetails:async t=>(await Oe.get(`/publishing/manuscripts/${t}`)).data,updateManuscriptStatus:async(t,e)=>(await Oe.patch(`/publishing/manuscripts/${t}/status`,{status:e})).data,getPublicationCitations:async t=>(await Oe.get(`/publications/${t}/citations`)).data,searchPublications:async(t,e={})=>(await Oe.get("/publications/search",{params:{query:t,...e}})).data,getSimilarPublications:async t=>(await Oe.get(`/publications/${t}/similar`)).data,getPublicationAnalytics:async()=>(await Oe.get("/publications/analytics")).data,getManuscriptsForReview:async()=>(await Oe.get("/editor/manuscripts")).data,assignManuscript:async(t,e)=>(await Oe.post(`/editor/manuscripts/${t}/assign`,{reviewerId:e})).data,makeDecision:async(t,e,n="")=>(await Oe.post(`/editor/manuscripts/${t}/decision`,{decision:e,comments:n})).data,getAssignedManuscripts:async()=>(await Oe.get("/reviewer/manuscripts")).data,submitReview:async(t,e)=>(await Oe.post(`/reviewer/manuscripts/${t}/review`,e)).data},GPe=t3.getPublishingRequirements,XPe=t3.submitManuscript,KPe=t3.getMyManuscripts,YPe=t3.deleteManuscript,FV=async t=>(await Oe.post("/research-papers",t)).data,JPe=async()=>(await Oe.get("/research-papers")).data,OV=async(t,e)=>(await Oe.put(`/research-papers/${t}`,e)).data,UV=async t=>(await Oe.delete(`/research-papers/${t}`)).data;function Vn(t){"@babel/helpers - typeof";return Vn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vn(t)}var su=Uint8Array,dl=Uint16Array,oB=Int32Array,lB=new su([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),cB=new su([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),MV=new su([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Dae=function(t,e){for(var n=new dl(31),i=0;i<31;++i)n[i]=e+=1<<t[i-1];for(var r=new oB(n[30]),i=1;i<30;++i)for(var a=n[i];a<n[i+1];++a)r[a]=a-n[i]<<5|i;return{b:n,r}},Pae=Dae(lB,2),ZPe=Pae.b,uO=Pae.r;ZPe[28]=258,uO[258]=28;var QPe=Dae(cB,0),BV=QPe.r,dO=new dl(32768);for(var Ri=0;Ri<32768;++Ri){var Kf=(Ri&43690)>>1|(Ri&21845)<<1;Kf=(Kf&52428)>>2|(Kf&13107)<<2,Kf=(Kf&61680)>>4|(Kf&3855)<<4,dO[Ri]=((Kf&65280)>>8|(Kf&255)<<8)>>1}var P5=function(t,e,n){for(var i=t.length,r=0,a=new dl(e);r<i;++r)t[r]&&++a[t[r]-1];var s=new dl(e);for(r=1;r<e;++r)s[r]=s[r-1]+a[r-1]<<1;var o;if(n){o=new dl(1<<e);var c=15-e;for(r=0;r<i;++r)if(t[r])for(var u=r<<4|t[r],d=e-t[r],h=s[t[r]-1]++<<d,f=h|(1<<d)-1;h<=f;++h)o[dO[h]>>c]=u}else for(o=new dl(i),r=0;r<i;++r)t[r]&&(o[r]=dO[s[t[r]-1]++]>>15-t[r]);return o},K0=new su(288);for(var Ri=0;Ri<144;++Ri)K0[Ri]=8;for(var Ri=144;Ri<256;++Ri)K0[Ri]=9;for(var Ri=256;Ri<280;++Ri)K0[Ri]=7;for(var Ri=280;Ri<288;++Ri)K0[Ri]=8;var NE=new su(32);for(var Ri=0;Ri<32;++Ri)NE[Ri]=5;var eIe=P5(K0,9,0),tIe=P5(NE,5,0),Iae=function(t){return(t+7)/8|0},nIe=function(t,e,n){return(e==null||e<0)&&(e=0),(n==null||n>t.length)&&(n=t.length),new su(t.subarray(e,n))},Kd=function(t,e,n){n<<=e&7;var i=e/8|0;t[i]|=n,t[i+1]|=n>>8},Px=function(t,e,n){n<<=e&7;var i=e/8|0;t[i]|=n,t[i+1]|=n>>8,t[i+2]|=n>>16},bR=function(t,e){for(var n=[],i=0;i<t.length;++i)t[i]&&n.push({s:i,f:t[i]});var r=n.length,a=n.slice();if(!r)return{t:Lae,l:0};if(r==1){var s=new su(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(N,R){return N.f-R.f}),n.push({s:-1,f:25001});var o=n[0],c=n[1],u=0,d=1,h=2;for(n[0]={s:-1,f:o.f+c.f,l:o,r:c};d!=r-1;)o=n[n[u].f<n[h].f?u++:h++],c=n[u!=d&&n[u].f<n[h].f?u++:h++],n[d++]={s:-1,f:o.f+c.f,l:o,r:c};for(var f=a[0].s,i=1;i<r;++i)a[i].s>f&&(f=a[i].s);var p=new dl(f+1),w=hO(n[d-1],p,0);if(w>e){var i=0,v=0,b=w-e,g=1<<b;for(a.sort(function(R,D){return p[D.s]-p[R.s]||R.f-D.f});i<r;++i){var y=a[i].s;if(p[y]>e)v+=g-(1<<w-p[y]),p[y]=e;else break}for(v>>=b;v>0;){var _=a[i].s;p[_]<e?v-=1<<e-p[_]++-1:++i}for(;i>=0&&v;--i){var S=a[i].s;p[S]==e&&(--p[S],++v)}w=e}return{t:new su(p),l:w}},hO=function(t,e,n){return t.s==-1?Math.max(hO(t.l,e,n+1),hO(t.r,e,n+1)):e[t.s]=n},zV=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new dl(++e),i=0,r=t[0],a=1,s=function(c){n[i++]=c},o=1;o<=e;++o)if(t[o]==r&&o!=e)++a;else{if(!r&&a>2){for(;a>138;a-=138)s(32754);a>2&&(s(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(s(r),--a;a>6;a-=6)s(8304);a>2&&(s(a-3<<5|8208),a=0)}for(;a--;)s(r);a=1,r=t[o]}return{c:n.subarray(0,i),n:e}},Ix=function(t,e){for(var n=0,i=0;i<e.length;++i)n+=t[i]*e[i];return n},Rae=function(t,e,n){var i=n.length,r=Iae(e+2);t[r]=i&255,t[r+1]=i>>8,t[r+2]=t[r]^255,t[r+3]=t[r+1]^255;for(var a=0;a<i;++a)t[r+a+4]=n[a];return(r+4+i)*8},jV=function(t,e,n,i,r,a,s,o,c,u,d){Kd(e,d++,n),++r[256];for(var h=bR(r,15),f=h.t,p=h.l,w=bR(a,15),v=w.t,b=w.l,g=zV(f),y=g.c,_=g.n,S=zV(v),N=S.c,R=S.n,D=new dl(19),E=0;E<y.length;++E)++D[y[E]&31];for(var E=0;E<N.length;++E)++D[N[E]&31];for(var C=bR(D,7),P=C.t,k=C.l,A=19;A>4&&!P[MV[A-1]];--A);var I=u+5<<3,T=Ix(r,K0)+Ix(a,NE)+s,z=Ix(r,f)+Ix(a,v)+s+14+3*A+Ix(D,P)+2*D[16]+3*D[17]+7*D[18];if(c>=0&&I<=T&&I<=z)return Rae(e,d,t.subarray(c,c+u));var j,W,$,q;if(Kd(e,d,1+(z<T)),d+=2,z<T){j=P5(f,p,0),W=f,$=P5(v,b,0),q=v;var G=P5(P,k,0);Kd(e,d,_-257),Kd(e,d+5,R-1),Kd(e,d+10,A-4),d+=14;for(var E=0;E<A;++E)Kd(e,d+3*E,P[MV[E]]);d+=3*A;for(var B=[y,N],L=0;L<2;++L)for(var M=B[L],E=0;E<M.length;++E){var K=M[E]&31;Kd(e,d,G[K]),d+=P[K],K>15&&(Kd(e,d,M[E]>>5&127),d+=M[E]>>12)}}else j=eIe,W=K0,$=tIe,q=NE;for(var E=0;E<o;++E){var Q=i[E];if(Q>255){var K=Q>>18&31;Px(e,d,j[K+257]),d+=W[K+257],K>7&&(Kd(e,d,Q>>23&31),d+=lB[K]);var V=Q&31;Px(e,d,$[V]),d+=q[V],V>3&&(Px(e,d,Q>>5&8191),d+=cB[V])}else Px(e,d,j[Q]),d+=W[Q]}return Px(e,d,j[256]),d+W[256]},iIe=new oB([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Lae=new su(0),rIe=function(t,e,n,i,r,a){var s=a.z||t.length,o=new su(i+s+5*(1+Math.ceil(s/7e3))+r),c=o.subarray(i,o.length-r),u=a.l,d=(a.r||0)&7;if(e){d&&(c[0]=a.r>>3);for(var h=iIe[e-1],f=h>>13,p=h&8191,w=(1<<n)-1,v=a.p||new dl(32768),b=a.h||new dl(w+1),g=Math.ceil(n/3),y=2*g,_=function(X){return(t[X]^t[X+1]<<g^t[X+2]<<y)&w},S=new oB(25e3),N=new dl(288),R=new dl(32),D=0,E=0,C=a.i||0,P=0,k=a.w||0,A=0;C+2<s;++C){var I=_(C),T=C&32767,z=b[I];if(v[T]=z,b[I]=T,k<=C){var j=s-C;if((D>7e3||P>24576)&&(j>423||!u)){d=jV(t,c,0,S,N,R,E,P,A,C-A,d),P=D=E=0,A=C;for(var W=0;W<286;++W)N[W]=0;for(var W=0;W<30;++W)R[W]=0}var $=2,q=0,G=p,B=T-z&32767;if(j>2&&I==_(C-B))for(var L=Math.min(f,j)-1,M=Math.min(32767,C),K=Math.min(258,j);B<=M&&--G&&T!=z;){if(t[C+$]==t[C+$-B]){for(var Q=0;Q<K&&t[C+Q]==t[C+Q-B];++Q);if(Q>$){if($=Q,q=B,Q>L)break;for(var V=Math.min(B,Q-2),le=0,W=0;W<V;++W){var ge=C-B+W&32767,ye=v[ge],be=ge-ye&32767;be>le&&(le=be,z=ge)}}}T=z,z=v[T],B+=T-z&32767}if(q){S[P++]=268435456|uO[$]<<18|BV[q];var Le=uO[$]&31,ue=BV[q]&31;E+=lB[Le]+cB[ue],++N[257+Le],++R[ue],k=C+$,++D}else S[P++]=t[C],++N[t[C]]}}for(C=Math.max(C,k);C<s;++C)S[P++]=t[C],++N[t[C]];d=jV(t,c,u,S,N,R,E,P,A,C-A,d),u||(a.r=d&7|c[d/8|0]<<3,d-=7,a.h=b,a.p=v,a.i=C,a.w=k)}else{for(var C=a.w||0;C<s+u;C+=65535){var ke=C+65535;ke>=s&&(c[d/8|0]=u,ke=s),d=Rae(c,d+1,t.subarray(C,ke))}a.i=s}return nIe(o,0,i+Iae(d)+r)},Fae=function(){var t=1,e=0;return{p:function(n){for(var i=t,r=e,a=n.length|0,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)r+=i+=n[s];i=(i&65535)+15*(i>>16),r=(r&65535)+15*(r>>16)}t=i,e=r},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},aIe=function(t,e,n,i,r){if(!r&&(r={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),s=new su(a.length+t.length);s.set(a),s.set(t,a.length),t=s,r.w=a.length}return rIe(t,e.level==null?6:e.level,e.mem==null?r.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,i,r)},Oae=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},sIe=function(t,e){var n=e.level,i=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=i<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var r=Fae();r.p(e.dictionary),Oae(t,2,r.d())}};function fO(t,e){e||(e={});var n=Fae();n.p(t);var i=aIe(t,e,e.dictionary?6:2,4);return sIe(i,e),Oae(i,i.length-4,n.d()),i}var oIe=typeof TextDecoder<"u"&&new TextDecoder,lIe=0;try{oIe.decode(Lae,{stream:!0}),lIe=1}catch{}function cIe(t){if(Array.isArray(t))return t}function uIe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i,r,a,s,o=[],c=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=a.call(n)).done)&&(o.push(i.value),o.length!==e);c=!0);}catch(d){u=!0,r=d}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw r}}return o}}function $V(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function dIe(t,e){if(t){if(typeof t=="string")return $V(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$V(t,e):void 0}}function hIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WV(t,e){return cIe(t)||uIe(t,e)||dIe(t,e)||hIe()}function qV(t,e="utf8"){return new TextDecoder(e).decode(t)}const fIe=new TextEncoder;function pIe(t){return fIe.encode(t)}const mIe=1024*8,gIe=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),wR={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class uB{constructor(e=mIe,n={}){it(this,"buffer");it(this,"byteLength");it(this,"byteOffset");it(this,"length");it(this,"offset");it(this,"lastWrittenByte");it(this,"littleEndian");it(this,"_data");it(this,"_mark");it(this,"_marks");let i=!1;typeof e=="number"?e=new ArrayBuffer(e):(i=!0,this.lastWrittenByte=e.byteLength);const r=n.offset?n.offset>>>0:0,a=e.byteLength-r;let s=r;(ArrayBuffer.isView(e)||e instanceof uB)&&(e.byteLength!==e.buffer.byteLength&&(s=e.byteOffset+r),e=e.buffer),i?this.lastWrittenByte=a:this.lastWrittenByte=0,this.buffer=e,this.length=a,this.byteLength=a,this.byteOffset=s,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,s,a),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const i=(this.offset+e)*2,r=new Uint8Array(i);r.set(new Uint8Array(this.buffer)),this.buffer=r.buffer,this.length=i,this.byteLength=i,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,n){const i=wR[n].BYTES_PER_ELEMENT*e,r=this.byteOffset+this.offset,a=this.buffer.slice(r,r+i);if(this.littleEndian===gIe&&n!=="uint8"&&n!=="int8"){const o=new Uint8Array(this.buffer.slice(r,r+i));o.reverse();const c=new wR[n](o.buffer);return this.offset+=i,c.reverse(),c}const s=new wR[n](a);return this.offset+=i,s}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let n="";for(let i=0;i<e;i++)n+=this.readChar();return n}readUtf8(e=1){return qV(this.readBytes(e))}decodeText(e=1,n="utf8"){return qV(this.readBytes(e),n)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let n=0;n<e.length;n++)this._data.setUint8(this.offset++,e[n]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let n=0;n<e.length;n++)this.writeUint8(e.charCodeAt(n));return this}writeUtf8(e){return this.writeBytes(pIe(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const yIe=4,HV=0,VV=1,vIe=2;function jw(t){let e=t.length;for(;--e>=0;)t[e]=0}const bIe=0,Uae=1,wIe=2,xIe=3,_Ie=258,dB=29,n3=256,E_=n3+1+dB,zv=30,hB=19,Mae=2*E_+1,Mg=15,xR=16,SIe=7,fB=256,Bae=16,zae=17,jae=18,pO=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),V4=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),AIe=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),$ae=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),NIe=512,ah=new Array((E_+2)*2);jw(ah);const I5=new Array(zv*2);jw(I5);const T_=new Array(NIe);jw(T_);const D_=new Array(_Ie-xIe+1);jw(D_);const pB=new Array(dB);jw(pB);const kE=new Array(zv);jw(kE);function _R(t,e,n,i,r){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=t&&t.length}let Wae,qae,Hae;function SR(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const Vae=t=>t<256?T_[t]:T_[256+(t>>>7)],P_=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},lo=(t,e,n)=>{t.bi_valid>xR-n?(t.bi_buf|=e<<t.bi_valid&65535,P_(t,t.bi_buf),t.bi_buf=e>>xR-t.bi_valid,t.bi_valid+=n-xR):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},cd=(t,e,n)=>{lo(t,n[e*2],n[e*2+1])},Gae=(t,e)=>{let n=0;do n|=t&1,t>>>=1,n<<=1;while(--e>0);return n>>>1},kIe=t=>{t.bi_valid===16?(P_(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},CIe=(t,e)=>{const n=e.dyn_tree,i=e.max_code,r=e.stat_desc.static_tree,a=e.stat_desc.has_stree,s=e.stat_desc.extra_bits,o=e.stat_desc.extra_base,c=e.stat_desc.max_length;let u,d,h,f,p,w,v=0;for(f=0;f<=Mg;f++)t.bl_count[f]=0;for(n[t.heap[t.heap_max]*2+1]=0,u=t.heap_max+1;u<Mae;u++)d=t.heap[u],f=n[n[d*2+1]*2+1]+1,f>c&&(f=c,v++),n[d*2+1]=f,!(d>i)&&(t.bl_count[f]++,p=0,d>=o&&(p=s[d-o]),w=n[d*2],t.opt_len+=w*(f+p),a&&(t.static_len+=w*(r[d*2+1]+p)));if(v!==0){do{for(f=c-1;t.bl_count[f]===0;)f--;t.bl_count[f]--,t.bl_count[f+1]+=2,t.bl_count[c]--,v-=2}while(v>0);for(f=c;f!==0;f--)for(d=t.bl_count[f];d!==0;)h=t.heap[--u],!(h>i)&&(n[h*2+1]!==f&&(t.opt_len+=(f-n[h*2+1])*n[h*2],n[h*2+1]=f),d--)}},Xae=(t,e,n)=>{const i=new Array(Mg+1);let r=0,a,s;for(a=1;a<=Mg;a++)r=r+n[a-1]<<1,i[a]=r;for(s=0;s<=e;s++){let o=t[s*2+1];o!==0&&(t[s*2]=Gae(i[o]++,o))}},EIe=()=>{let t,e,n,i,r;const a=new Array(Mg+1);for(n=0,i=0;i<dB-1;i++)for(pB[i]=n,t=0;t<1<<pO[i];t++)D_[n++]=i;for(D_[n-1]=i,r=0,i=0;i<16;i++)for(kE[i]=r,t=0;t<1<<V4[i];t++)T_[r++]=i;for(r>>=7;i<zv;i++)for(kE[i]=r<<7,t=0;t<1<<V4[i]-7;t++)T_[256+r++]=i;for(e=0;e<=Mg;e++)a[e]=0;for(t=0;t<=143;)ah[t*2+1]=8,t++,a[8]++;for(;t<=255;)ah[t*2+1]=9,t++,a[9]++;for(;t<=279;)ah[t*2+1]=7,t++,a[7]++;for(;t<=287;)ah[t*2+1]=8,t++,a[8]++;for(Xae(ah,E_+1,a),t=0;t<zv;t++)I5[t*2+1]=5,I5[t*2]=Gae(t,5);Wae=new _R(ah,pO,n3+1,E_,Mg),qae=new _R(I5,V4,0,zv,Mg),Hae=new _R(new Array(0),AIe,0,hB,SIe)},Kae=t=>{let e;for(e=0;e<E_;e++)t.dyn_ltree[e*2]=0;for(e=0;e<zv;e++)t.dyn_dtree[e*2]=0;for(e=0;e<hB;e++)t.bl_tree[e*2]=0;t.dyn_ltree[fB*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},Yae=t=>{t.bi_valid>8?P_(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},GV=(t,e,n,i)=>{const r=e*2,a=n*2;return t[r]<t[a]||t[r]===t[a]&&i[e]<=i[n]},AR=(t,e,n)=>{const i=t.heap[n];let r=n<<1;for(;r<=t.heap_len&&(r<t.heap_len&&GV(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!GV(e,i,t.heap[r],t.depth));)t.heap[n]=t.heap[r],n=r,r<<=1;t.heap[n]=i},XV=(t,e,n)=>{let i,r,a=0,s,o;if(t.sym_next!==0)do i=t.pending_buf[t.sym_buf+a++]&255,i+=(t.pending_buf[t.sym_buf+a++]&255)<<8,r=t.pending_buf[t.sym_buf+a++],i===0?cd(t,r,e):(s=D_[r],cd(t,s+n3+1,e),o=pO[s],o!==0&&(r-=pB[s],lo(t,r,o)),i--,s=Vae(i),cd(t,s,n),o=V4[s],o!==0&&(i-=kE[s],lo(t,i,o)));while(a<t.sym_next);cd(t,fB,e)},mO=(t,e)=>{const n=e.dyn_tree,i=e.stat_desc.static_tree,r=e.stat_desc.has_stree,a=e.stat_desc.elems;let s,o,c=-1,u;for(t.heap_len=0,t.heap_max=Mae,s=0;s<a;s++)n[s*2]!==0?(t.heap[++t.heap_len]=c=s,t.depth[s]=0):n[s*2+1]=0;for(;t.heap_len<2;)u=t.heap[++t.heap_len]=c<2?++c:0,n[u*2]=1,t.depth[u]=0,t.opt_len--,r&&(t.static_len-=i[u*2+1]);for(e.max_code=c,s=t.heap_len>>1;s>=1;s--)AR(t,n,s);u=a;do s=t.heap[1],t.heap[1]=t.heap[t.heap_len--],AR(t,n,1),o=t.heap[1],t.heap[--t.heap_max]=s,t.heap[--t.heap_max]=o,n[u*2]=n[s*2]+n[o*2],t.depth[u]=(t.depth[s]>=t.depth[o]?t.depth[s]:t.depth[o])+1,n[s*2+1]=n[o*2+1]=u,t.heap[1]=u++,AR(t,n,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],CIe(t,e),Xae(n,c,t.bl_count)},KV=(t,e,n)=>{let i,r=-1,a,s=e[0*2+1],o=0,c=7,u=4;for(s===0&&(c=138,u=3),e[(n+1)*2+1]=65535,i=0;i<=n;i++)a=s,s=e[(i+1)*2+1],!(++o<c&&a===s)&&(o<u?t.bl_tree[a*2]+=o:a!==0?(a!==r&&t.bl_tree[a*2]++,t.bl_tree[Bae*2]++):o<=10?t.bl_tree[zae*2]++:t.bl_tree[jae*2]++,o=0,r=a,s===0?(c=138,u=3):a===s?(c=6,u=3):(c=7,u=4))},YV=(t,e,n)=>{let i,r=-1,a,s=e[0*2+1],o=0,c=7,u=4;for(s===0&&(c=138,u=3),i=0;i<=n;i++)if(a=s,s=e[(i+1)*2+1],!(++o<c&&a===s)){if(o<u)do cd(t,a,t.bl_tree);while(--o!==0);else a!==0?(a!==r&&(cd(t,a,t.bl_tree),o--),cd(t,Bae,t.bl_tree),lo(t,o-3,2)):o<=10?(cd(t,zae,t.bl_tree),lo(t,o-3,3)):(cd(t,jae,t.bl_tree),lo(t,o-11,7));o=0,r=a,s===0?(c=138,u=3):a===s?(c=6,u=3):(c=7,u=4)}},TIe=t=>{let e;for(KV(t,t.dyn_ltree,t.l_desc.max_code),KV(t,t.dyn_dtree,t.d_desc.max_code),mO(t,t.bl_desc),e=hB-1;e>=3&&t.bl_tree[$ae[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},DIe=(t,e,n,i)=>{let r;for(lo(t,e-257,5),lo(t,n-1,5),lo(t,i-4,4),r=0;r<i;r++)lo(t,t.bl_tree[$ae[r]*2+1],3);YV(t,t.dyn_ltree,e-1),YV(t,t.dyn_dtree,n-1)},PIe=t=>{let e=4093624447,n;for(n=0;n<=31;n++,e>>>=1)if(e&1&&t.dyn_ltree[n*2]!==0)return HV;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return VV;for(n=32;n<n3;n++)if(t.dyn_ltree[n*2]!==0)return VV;return HV};let JV=!1;const IIe=t=>{JV||(EIe(),JV=!0),t.l_desc=new SR(t.dyn_ltree,Wae),t.d_desc=new SR(t.dyn_dtree,qae),t.bl_desc=new SR(t.bl_tree,Hae),t.bi_buf=0,t.bi_valid=0,Kae(t)},Jae=(t,e,n,i)=>{lo(t,(bIe<<1)+(i?1:0),3),Yae(t),P_(t,n),P_(t,~n),n&&t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n},RIe=t=>{lo(t,Uae<<1,3),cd(t,fB,ah),kIe(t)},LIe=(t,e,n,i)=>{let r,a,s=0;t.level>0?(t.strm.data_type===vIe&&(t.strm.data_type=PIe(t)),mO(t,t.l_desc),mO(t,t.d_desc),s=TIe(t),r=t.opt_len+3+7>>>3,a=t.static_len+3+7>>>3,a<=r&&(r=a)):r=a=n+5,n+4<=r&&e!==-1?Jae(t,e,n,i):t.strategy===yIe||a===r?(lo(t,(Uae<<1)+(i?1:0),3),XV(t,ah,I5)):(lo(t,(wIe<<1)+(i?1:0),3),DIe(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),XV(t,t.dyn_ltree,t.dyn_dtree)),Kae(t),i&&Yae(t)},FIe=(t,e,n)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=n,e===0?t.dyn_ltree[n*2]++:(t.matches++,e--,t.dyn_ltree[(D_[n]+n3+1)*2]++,t.dyn_dtree[Vae(e)*2]++),t.sym_next===t.sym_end);var OIe=IIe,UIe=Jae,MIe=LIe,BIe=FIe,zIe=RIe,jIe={_tr_init:OIe,_tr_stored_block:UIe,_tr_flush_block:MIe,_tr_tally:BIe,_tr_align:zIe};const $Ie=(t,e,n,i)=>{let r=t&65535|0,a=t>>>16&65535|0,s=0;for(;n!==0;){s=n>2e3?2e3:n,n-=s;do r=r+e[i++]|0,a=a+r|0;while(--s);r%=65521,a%=65521}return r|a<<16|0};var I_=$Ie;const WIe=()=>{let t,e=[];for(var n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=t&1?3988292384^t>>>1:t>>>1;e[n]=t}return e},qIe=new Uint32Array(WIe()),HIe=(t,e,n,i)=>{const r=qIe,a=i+n;t^=-1;for(let s=i;s<a;s++)t=t>>>8^r[(t^e[s])&255];return t^-1};var aa=HIe,mw={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},i3={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:VIe,_tr_stored_block:gO,_tr_flush_block:GIe,_tr_tally:Nm,_tr_align:XIe}=jIe,{Z_NO_FLUSH:km,Z_PARTIAL_FLUSH:KIe,Z_FULL_FLUSH:YIe,Z_FINISH:ic,Z_BLOCK:ZV,Z_OK:Ca,Z_STREAM_END:QV,Z_STREAM_ERROR:bd,Z_DATA_ERROR:JIe,Z_BUF_ERROR:NR,Z_DEFAULT_COMPRESSION:ZIe,Z_FILTERED:QIe,Z_HUFFMAN_ONLY:bk,Z_RLE:eRe,Z_FIXED:tRe,Z_DEFAULT_STRATEGY:nRe,Z_UNKNOWN:iRe,Z_DEFLATED:D8}=i3,rRe=9,aRe=15,sRe=8,oRe=29,lRe=256,yO=lRe+1+oRe,cRe=30,uRe=19,dRe=2*yO+1,hRe=15,vn=3,cm=258,wd=cm+vn+1,fRe=32,gw=42,mB=57,vO=69,bO=73,wO=91,xO=103,Bg=113,f5=666,Rs=1,$w=2,Y0=3,Ww=4,pRe=3,zg=(t,e)=>(t.msg=mw[e],e),eG=t=>t*2-(t>4?9:0),cp=t=>{let e=t.length;for(;--e>=0;)t[e]=0},mRe=t=>{let e,n,i,r=t.w_size;e=t.hash_size,i=e;do n=t.head[--i],t.head[i]=n>=r?n-r:0;while(--e);e=r,i=e;do n=t.prev[--i],t.prev[i]=n>=r?n-r:0;while(--e)};let gRe=(t,e,n)=>(e<<t.hash_shift^n)&t.hash_mask,Cm=gRe;const Bo=t=>{const e=t.state;let n=e.pending;n>t.avail_out&&(n=t.avail_out),n!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,e.pending===0&&(e.pending_out=0))},hl=(t,e)=>{GIe(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,Bo(t.strm)},Pn=(t,e)=>{t.pending_buf[t.pending++]=e},Rx=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},_O=(t,e,n,i)=>{let r=t.avail_in;return r>i&&(r=i),r===0?0:(t.avail_in-=r,e.set(t.input.subarray(t.next_in,t.next_in+r),n),t.state.wrap===1?t.adler=I_(t.adler,e,r,n):t.state.wrap===2&&(t.adler=aa(t.adler,e,r,n)),t.next_in+=r,t.total_in+=r,r)},Zae=(t,e)=>{let n=t.max_chain_length,i=t.strstart,r,a,s=t.prev_length,o=t.nice_match;const c=t.strstart>t.w_size-wd?t.strstart-(t.w_size-wd):0,u=t.window,d=t.w_mask,h=t.prev,f=t.strstart+cm;let p=u[i+s-1],w=u[i+s];t.prev_length>=t.good_match&&(n>>=2),o>t.lookahead&&(o=t.lookahead);do if(r=e,!(u[r+s]!==w||u[r+s-1]!==p||u[r]!==u[i]||u[++r]!==u[i+1])){i+=2,r++;do;while(u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&u[++i]===u[++r]&&i<f);if(a=cm-(f-i),i=f-cm,a>s){if(t.match_start=e,s=a,a>=o)break;p=u[i+s-1],w=u[i+s]}}while((e=h[e&d])>c&&--n!==0);return s<=t.lookahead?s:t.lookahead},yw=t=>{const e=t.w_size;let n,i,r;do{if(i=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-wd)&&(t.window.set(t.window.subarray(e,e+e-i),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),mRe(t),i+=e),t.strm.avail_in===0)break;if(n=_O(t.strm,t.window,t.strstart+t.lookahead,i),t.lookahead+=n,t.lookahead+t.insert>=vn)for(r=t.strstart-t.insert,t.ins_h=t.window[r],t.ins_h=Cm(t,t.ins_h,t.window[r+1]);t.insert&&(t.ins_h=Cm(t,t.ins_h,t.window[r+vn-1]),t.prev[r&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=r,r++,t.insert--,!(t.lookahead+t.insert<vn)););}while(t.lookahead<wd&&t.strm.avail_in!==0)},Qae=(t,e)=>{let n=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,i,r,a,s=0,o=t.strm.avail_in;do{if(i=65535,a=t.bi_valid+42>>3,t.strm.avail_out<a||(a=t.strm.avail_out-a,r=t.strstart-t.block_start,i>r+t.strm.avail_in&&(i=r+t.strm.avail_in),i>a&&(i=a),i<n&&(i===0&&e!==ic||e===km||i!==r+t.strm.avail_in)))break;s=e===ic&&i===r+t.strm.avail_in?1:0,gO(t,0,0,s),t.pending_buf[t.pending-4]=i,t.pending_buf[t.pending-3]=i>>8,t.pending_buf[t.pending-2]=~i,t.pending_buf[t.pending-1]=~i>>8,Bo(t.strm),r&&(r>i&&(r=i),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+r),t.strm.next_out),t.strm.next_out+=r,t.strm.avail_out-=r,t.strm.total_out+=r,t.block_start+=r,i-=r),i&&(_O(t.strm,t.strm.output,t.strm.next_out,i),t.strm.next_out+=i,t.strm.avail_out-=i,t.strm.total_out+=i)}while(s===0);return o-=t.strm.avail_in,o&&(o>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=o&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-o,t.strm.next_in),t.strstart),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),s?Ww:e!==km&&e!==ic&&t.strm.avail_in===0&&t.strstart===t.block_start?$w:(a=t.window_size-t.strstart,t.strm.avail_in>a&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,a+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),a>t.strm.avail_in&&(a=t.strm.avail_in),a&&(_O(t.strm,t.window,t.strstart,a),t.strstart+=a,t.insert+=a>t.w_size-t.insert?t.w_size-t.insert:a),t.high_water<t.strstart&&(t.high_water=t.strstart),a=t.bi_valid+42>>3,a=t.pending_buf_size-a>65535?65535:t.pending_buf_size-a,n=a>t.w_size?t.w_size:a,r=t.strstart-t.block_start,(r>=n||(r||e===ic)&&e!==km&&t.strm.avail_in===0&&r<=a)&&(i=r>a?a:r,s=e===ic&&t.strm.avail_in===0&&i===r?1:0,gO(t,t.block_start,i,s),t.block_start+=i,Bo(t.strm)),s?Y0:Rs)},kR=(t,e)=>{let n,i;for(;;){if(t.lookahead<wd){if(yw(t),t.lookahead<wd&&e===km)return Rs;if(t.lookahead===0)break}if(n=0,t.lookahead>=vn&&(t.ins_h=Cm(t,t.ins_h,t.window[t.strstart+vn-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),n!==0&&t.strstart-n<=t.w_size-wd&&(t.match_length=Zae(t,n)),t.match_length>=vn)if(i=Nm(t,t.strstart-t.match_start,t.match_length-vn),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=vn){t.match_length--;do t.strstart++,t.ins_h=Cm(t,t.ins_h,t.window[t.strstart+vn-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=Cm(t,t.ins_h,t.window[t.strstart+1]);else i=Nm(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(hl(t,!1),t.strm.avail_out===0))return Rs}return t.insert=t.strstart<vn-1?t.strstart:vn-1,e===ic?(hl(t,!0),t.strm.avail_out===0?Y0:Ww):t.sym_next&&(hl(t,!1),t.strm.avail_out===0)?Rs:$w},jy=(t,e)=>{let n,i,r;for(;;){if(t.lookahead<wd){if(yw(t),t.lookahead<wd&&e===km)return Rs;if(t.lookahead===0)break}if(n=0,t.lookahead>=vn&&(t.ins_h=Cm(t,t.ins_h,t.window[t.strstart+vn-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=vn-1,n!==0&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-wd&&(t.match_length=Zae(t,n),t.match_length<=5&&(t.strategy===QIe||t.match_length===vn&&t.strstart-t.match_start>4096)&&(t.match_length=vn-1)),t.prev_length>=vn&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-vn,i=Nm(t,t.strstart-1-t.prev_match,t.prev_length-vn),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=r&&(t.ins_h=Cm(t,t.ins_h,t.window[t.strstart+vn-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=vn-1,t.strstart++,i&&(hl(t,!1),t.strm.avail_out===0))return Rs}else if(t.match_available){if(i=Nm(t,0,t.window[t.strstart-1]),i&&hl(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return Rs}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=Nm(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<vn-1?t.strstart:vn-1,e===ic?(hl(t,!0),t.strm.avail_out===0?Y0:Ww):t.sym_next&&(hl(t,!1),t.strm.avail_out===0)?Rs:$w},yRe=(t,e)=>{let n,i,r,a;const s=t.window;for(;;){if(t.lookahead<=cm){if(yw(t),t.lookahead<=cm&&e===km)return Rs;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=vn&&t.strstart>0&&(r=t.strstart-1,i=s[r],i===s[++r]&&i===s[++r]&&i===s[++r])){a=t.strstart+cm;do;while(i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&r<a);t.match_length=cm-(a-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=vn?(n=Nm(t,1,t.match_length-vn),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=Nm(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(hl(t,!1),t.strm.avail_out===0))return Rs}return t.insert=0,e===ic?(hl(t,!0),t.strm.avail_out===0?Y0:Ww):t.sym_next&&(hl(t,!1),t.strm.avail_out===0)?Rs:$w},vRe=(t,e)=>{let n;for(;;){if(t.lookahead===0&&(yw(t),t.lookahead===0)){if(e===km)return Rs;break}if(t.match_length=0,n=Nm(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(hl(t,!1),t.strm.avail_out===0))return Rs}return t.insert=0,e===ic?(hl(t,!0),t.strm.avail_out===0?Y0:Ww):t.sym_next&&(hl(t,!1),t.strm.avail_out===0)?Rs:$w};function Eu(t,e,n,i,r){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=r}const p5=[new Eu(0,0,0,0,Qae),new Eu(4,4,8,4,kR),new Eu(4,5,16,8,kR),new Eu(4,6,32,32,kR),new Eu(4,4,16,16,jy),new Eu(8,16,32,32,jy),new Eu(8,16,128,128,jy),new Eu(8,32,128,256,jy),new Eu(32,128,258,1024,jy),new Eu(32,258,258,4096,jy)],bRe=t=>{t.window_size=2*t.w_size,cp(t.head),t.max_lazy_match=p5[t.level].max_lazy,t.good_match=p5[t.level].good_length,t.nice_match=p5[t.level].nice_length,t.max_chain_length=p5[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=vn-1,t.match_available=0,t.ins_h=0};function wRe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=D8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(dRe*2),this.dyn_dtree=new Uint16Array((2*cRe+1)*2),this.bl_tree=new Uint16Array((2*uRe+1)*2),cp(this.dyn_ltree),cp(this.dyn_dtree),cp(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(hRe+1),this.heap=new Uint16Array(2*yO+1),cp(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*yO+1),cp(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const r3=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==gw&&e.status!==mB&&e.status!==vO&&e.status!==bO&&e.status!==wO&&e.status!==xO&&e.status!==Bg&&e.status!==f5?1:0},ese=t=>{if(r3(t))return zg(t,bd);t.total_in=t.total_out=0,t.data_type=iRe;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?mB:e.wrap?gw:Bg,t.adler=e.wrap===2?0:1,e.last_flush=-2,VIe(e),Ca},tse=t=>{const e=ese(t);return e===Ca&&bRe(t.state),e},xRe=(t,e)=>r3(t)||t.state.wrap!==2?bd:(t.state.gzhead=e,Ca),nse=(t,e,n,i,r,a)=>{if(!t)return bd;let s=1;if(e===ZIe&&(e=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),r<1||r>rRe||n!==D8||i<8||i>15||e<0||e>9||a<0||a>tRe||i===8&&s!==1)return zg(t,bd);i===8&&(i=9);const o=new wRe;return t.state=o,o.strm=t,o.status=gw,o.wrap=s,o.gzhead=null,o.w_bits=i,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=r+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+vn-1)/vn),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<r+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=e,o.strategy=a,o.method=n,tse(t)},_Re=(t,e)=>nse(t,e,D8,aRe,sRe,nRe),SRe=(t,e)=>{if(r3(t)||e>ZV||e<0)return t?zg(t,bd):bd;const n=t.state;if(!t.output||t.avail_in!==0&&!t.input||n.status===f5&&e!==ic)return zg(t,t.avail_out===0?NR:bd);const i=n.last_flush;if(n.last_flush=e,n.pending!==0){if(Bo(t),t.avail_out===0)return n.last_flush=-1,Ca}else if(t.avail_in===0&&eG(e)<=eG(i)&&e!==ic)return zg(t,NR);if(n.status===f5&&t.avail_in!==0)return zg(t,NR);if(n.status===gw&&n.wrap===0&&(n.status=Bg),n.status===gw){let r=D8+(n.w_bits-8<<4)<<8,a=-1;if(n.strategy>=bk||n.level<2?a=0:n.level<6?a=1:n.level===6?a=2:a=3,r|=a<<6,n.strstart!==0&&(r|=fRe),r+=31-r%31,Rx(n,r),n.strstart!==0&&(Rx(n,t.adler>>>16),Rx(n,t.adler&65535)),t.adler=1,n.status=Bg,Bo(t),n.pending!==0)return n.last_flush=-1,Ca}if(n.status===mB){if(t.adler=0,Pn(n,31),Pn(n,139),Pn(n,8),n.gzhead)Pn(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Pn(n,n.gzhead.time&255),Pn(n,n.gzhead.time>>8&255),Pn(n,n.gzhead.time>>16&255),Pn(n,n.gzhead.time>>24&255),Pn(n,n.level===9?2:n.strategy>=bk||n.level<2?4:0),Pn(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(Pn(n,n.gzhead.extra.length&255),Pn(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(t.adler=aa(t.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=vO;else if(Pn(n,0),Pn(n,0),Pn(n,0),Pn(n,0),Pn(n,0),Pn(n,n.level===9?2:n.strategy>=bk||n.level<2?4:0),Pn(n,pRe),n.status=Bg,Bo(t),n.pending!==0)return n.last_flush=-1,Ca}if(n.status===vO){if(n.gzhead.extra){let r=n.pending,a=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+a>n.pending_buf_size;){let o=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+o),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>r&&(t.adler=aa(t.adler,n.pending_buf,n.pending-r,r)),n.gzindex+=o,Bo(t),n.pending!==0)return n.last_flush=-1,Ca;r=0,a-=o}let s=new Uint8Array(n.gzhead.extra);n.pending_buf.set(s.subarray(n.gzindex,n.gzindex+a),n.pending),n.pending+=a,n.gzhead.hcrc&&n.pending>r&&(t.adler=aa(t.adler,n.pending_buf,n.pending-r,r)),n.gzindex=0}n.status=bO}if(n.status===bO){if(n.gzhead.name){let r=n.pending,a;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(t.adler=aa(t.adler,n.pending_buf,n.pending-r,r)),Bo(t),n.pending!==0)return n.last_flush=-1,Ca;r=0}n.gzindex<n.gzhead.name.length?a=n.gzhead.name.charCodeAt(n.gzindex++)&255:a=0,Pn(n,a)}while(a!==0);n.gzhead.hcrc&&n.pending>r&&(t.adler=aa(t.adler,n.pending_buf,n.pending-r,r)),n.gzindex=0}n.status=wO}if(n.status===wO){if(n.gzhead.comment){let r=n.pending,a;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(t.adler=aa(t.adler,n.pending_buf,n.pending-r,r)),Bo(t),n.pending!==0)return n.last_flush=-1,Ca;r=0}n.gzindex<n.gzhead.comment.length?a=n.gzhead.comment.charCodeAt(n.gzindex++)&255:a=0,Pn(n,a)}while(a!==0);n.gzhead.hcrc&&n.pending>r&&(t.adler=aa(t.adler,n.pending_buf,n.pending-r,r))}n.status=xO}if(n.status===xO){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(Bo(t),n.pending!==0))return n.last_flush=-1,Ca;Pn(n,t.adler&255),Pn(n,t.adler>>8&255),t.adler=0}if(n.status=Bg,Bo(t),n.pending!==0)return n.last_flush=-1,Ca}if(t.avail_in!==0||n.lookahead!==0||e!==km&&n.status!==f5){let r=n.level===0?Qae(n,e):n.strategy===bk?vRe(n,e):n.strategy===eRe?yRe(n,e):p5[n.level].func(n,e);if((r===Y0||r===Ww)&&(n.status=f5),r===Rs||r===Y0)return t.avail_out===0&&(n.last_flush=-1),Ca;if(r===$w&&(e===KIe?XIe(n):e!==ZV&&(gO(n,0,0,!1),e===YIe&&(cp(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),Bo(t),t.avail_out===0))return n.last_flush=-1,Ca}return e!==ic?Ca:n.wrap<=0?QV:(n.wrap===2?(Pn(n,t.adler&255),Pn(n,t.adler>>8&255),Pn(n,t.adler>>16&255),Pn(n,t.adler>>24&255),Pn(n,t.total_in&255),Pn(n,t.total_in>>8&255),Pn(n,t.total_in>>16&255),Pn(n,t.total_in>>24&255)):(Rx(n,t.adler>>>16),Rx(n,t.adler&65535)),Bo(t),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Ca:QV)},ARe=t=>{if(r3(t))return bd;const e=t.state.status;return t.state=null,e===Bg?zg(t,JIe):Ca},NRe=(t,e)=>{let n=e.length;if(r3(t))return bd;const i=t.state,r=i.wrap;if(r===2||r===1&&i.status!==gw||i.lookahead)return bd;if(r===1&&(t.adler=I_(t.adler,e,n,0)),i.wrap=0,n>=i.w_size){r===0&&(cp(i.head),i.strstart=0,i.block_start=0,i.insert=0);let c=new Uint8Array(i.w_size);c.set(e.subarray(n-i.w_size,n),0),e=c,n=i.w_size}const a=t.avail_in,s=t.next_in,o=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,yw(i);i.lookahead>=vn;){let c=i.strstart,u=i.lookahead-(vn-1);do i.ins_h=Cm(i,i.ins_h,i.window[c+vn-1]),i.prev[c&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=c,c++;while(--u);i.strstart=c,i.lookahead=vn-1,yw(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=vn-1,i.match_available=0,t.next_in=s,t.input=o,t.avail_in=a,i.wrap=r,Ca};var kRe=_Re,CRe=nse,ERe=tse,TRe=ese,DRe=xRe,PRe=SRe,IRe=ARe,RRe=NRe,LRe="pako deflate (from Nodeca project)",R5={deflateInit:kRe,deflateInit2:CRe,deflateReset:ERe,deflateResetKeep:TRe,deflateSetHeader:DRe,deflate:PRe,deflateEnd:IRe,deflateSetDictionary:RRe,deflateInfo:LRe};const FRe=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var ORe=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const n=e.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const i in n)FRe(n,i)&&(t[i]=n[i])}}return t},URe=t=>{let e=0;for(let i=0,r=t.length;i<r;i++)e+=t[i].length;const n=new Uint8Array(e);for(let i=0,r=0,a=t.length;i<a;i++){let s=t[i];n.set(s,r),r+=s.length}return n},P8={assign:ORe,flattenChunks:URe};let ise=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{ise=!1}const R_=new Uint8Array(256);for(let t=0;t<256;t++)R_[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;R_[254]=R_[254]=1;var MRe=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,n,i,r,a,s=t.length,o=0;for(r=0;r<s;r++)n=t.charCodeAt(r),(n&64512)===55296&&r+1<s&&(i=t.charCodeAt(r+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),r++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(o),a=0,r=0;a<o;r++)n=t.charCodeAt(r),(n&64512)===55296&&r+1<s&&(i=t.charCodeAt(r+1),(i&64512)===56320&&(n=65536+(n-55296<<10)+(i-56320),r++)),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|n&63):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|n&63):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|n&63);return e};const BRe=(t,e)=>{if(e<65534&&t.subarray&&ise)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let n="";for(let i=0;i<e;i++)n+=String.fromCharCode(t[i]);return n};var zRe=(t,e)=>{const n=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let i,r;const a=new Array(n*2);for(r=0,i=0;i<n;){let s=t[i++];if(s<128){a[r++]=s;continue}let o=R_[s];if(o>4){a[r++]=65533,i+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&i<n;)s=s<<6|t[i++]&63,o--;if(o>1){a[r++]=65533;continue}s<65536?a[r++]=s:(s-=65536,a[r++]=55296|s>>10&1023,a[r++]=56320|s&1023)}return BRe(a,r)},jRe=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let n=e-1;for(;n>=0&&(t[n]&192)===128;)n--;return n<0||n===0?e:n+R_[t[n]]>e?n:e},L_={string2buf:MRe,buf2string:zRe,utf8border:jRe};function $Re(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var rse=$Re;const ase=Object.prototype.toString,{Z_NO_FLUSH:WRe,Z_SYNC_FLUSH:qRe,Z_FULL_FLUSH:HRe,Z_FINISH:VRe,Z_OK:CE,Z_STREAM_END:GRe,Z_DEFAULT_COMPRESSION:XRe,Z_DEFAULT_STRATEGY:KRe,Z_DEFLATED:YRe}=i3;function gB(t){this.options=P8.assign({level:XRe,method:YRe,chunkSize:16384,windowBits:15,memLevel:8,strategy:KRe},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new rse,this.strm.avail_out=0;let n=R5.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==CE)throw new Error(mw[n]);if(e.header&&R5.deflateSetHeader(this.strm,e.header),e.dictionary){let i;if(typeof e.dictionary=="string"?i=L_.string2buf(e.dictionary):ase.call(e.dictionary)==="[object ArrayBuffer]"?i=new Uint8Array(e.dictionary):i=e.dictionary,n=R5.deflateSetDictionary(this.strm,i),n!==CE)throw new Error(mw[n]);this._dict_set=!0}}gB.prototype.push=function(t,e){const n=this.strm,i=this.options.chunkSize;let r,a;if(this.ended)return!1;for(e===~~e?a=e:a=e===!0?VRe:WRe,typeof t=="string"?n.input=L_.string2buf(t):ase.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),(a===qRe||a===HRe)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(r=R5.deflate(n,a),r===GRe)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),r=R5.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===CE;if(n.avail_out===0){this.onData(n.output);continue}if(a>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};gB.prototype.onData=function(t){this.chunks.push(t)};gB.prototype.onEnd=function(t){t===CE&&(this.result=P8.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};const wk=16209,JRe=16191;var ZRe=function(e,n){let i,r,a,s,o,c,u,d,h,f,p,w,v,b,g,y,_,S,N,R,D,E,C,P;const k=e.state;i=e.next_in,C=e.input,r=i+(e.avail_in-5),a=e.next_out,P=e.output,s=a-(n-e.avail_out),o=a+(e.avail_out-257),c=k.dmax,u=k.wsize,d=k.whave,h=k.wnext,f=k.window,p=k.hold,w=k.bits,v=k.lencode,b=k.distcode,g=(1<<k.lenbits)-1,y=(1<<k.distbits)-1;e:do{w<15&&(p+=C[i++]<<w,w+=8,p+=C[i++]<<w,w+=8),_=v[p&g];t:for(;;){if(S=_>>>24,p>>>=S,w-=S,S=_>>>16&255,S===0)P[a++]=_&65535;else if(S&16){N=_&65535,S&=15,S&&(w<S&&(p+=C[i++]<<w,w+=8),N+=p&(1<<S)-1,p>>>=S,w-=S),w<15&&(p+=C[i++]<<w,w+=8,p+=C[i++]<<w,w+=8),_=b[p&y];n:for(;;){if(S=_>>>24,p>>>=S,w-=S,S=_>>>16&255,S&16){if(R=_&65535,S&=15,w<S&&(p+=C[i++]<<w,w+=8,w<S&&(p+=C[i++]<<w,w+=8)),R+=p&(1<<S)-1,R>c){e.msg="invalid distance too far back",k.mode=wk;break e}if(p>>>=S,w-=S,S=a-s,R>S){if(S=R-S,S>d&&k.sane){e.msg="invalid distance too far back",k.mode=wk;break e}if(D=0,E=f,h===0){if(D+=u-S,S<N){N-=S;do P[a++]=f[D++];while(--S);D=a-R,E=P}}else if(h<S){if(D+=u+h-S,S-=h,S<N){N-=S;do P[a++]=f[D++];while(--S);if(D=0,h<N){S=h,N-=S;do P[a++]=f[D++];while(--S);D=a-R,E=P}}}else if(D+=h-S,S<N){N-=S;do P[a++]=f[D++];while(--S);D=a-R,E=P}for(;N>2;)P[a++]=E[D++],P[a++]=E[D++],P[a++]=E[D++],N-=3;N&&(P[a++]=E[D++],N>1&&(P[a++]=E[D++]))}else{D=a-R;do P[a++]=P[D++],P[a++]=P[D++],P[a++]=P[D++],N-=3;while(N>2);N&&(P[a++]=P[D++],N>1&&(P[a++]=P[D++]))}}else if(S&64){e.msg="invalid distance code",k.mode=wk;break e}else{_=b[(_&65535)+(p&(1<<S)-1)];continue n}break}}else if(S&64)if(S&32){k.mode=JRe;break e}else{e.msg="invalid literal/length code",k.mode=wk;break e}else{_=v[(_&65535)+(p&(1<<S)-1)];continue t}break}}while(i<r&&a<o);N=w>>3,i-=N,w-=N<<3,p&=(1<<w)-1,e.next_in=i,e.next_out=a,e.avail_in=i<r?5+(r-i):5-(i-r),e.avail_out=a<o?257+(o-a):257-(a-o),k.hold=p,k.bits=w};const $y=15,tG=852,nG=592,iG=0,CR=1,rG=2,QRe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),eLe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),tLe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),nLe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),iLe=(t,e,n,i,r,a,s,o)=>{const c=o.bits;let u=0,d=0,h=0,f=0,p=0,w=0,v=0,b=0,g=0,y=0,_,S,N,R,D,E=null,C;const P=new Uint16Array($y+1),k=new Uint16Array($y+1);let A=null,I,T,z;for(u=0;u<=$y;u++)P[u]=0;for(d=0;d<i;d++)P[e[n+d]]++;for(p=c,f=$y;f>=1&&P[f]===0;f--);if(p>f&&(p=f),f===0)return r[a++]=1<<24|64<<16|0,r[a++]=1<<24|64<<16|0,o.bits=1,0;for(h=1;h<f&&P[h]===0;h++);for(p<h&&(p=h),b=1,u=1;u<=$y;u++)if(b<<=1,b-=P[u],b<0)return-1;if(b>0&&(t===iG||f!==1))return-1;for(k[1]=0,u=1;u<$y;u++)k[u+1]=k[u]+P[u];for(d=0;d<i;d++)e[n+d]!==0&&(s[k[e[n+d]]++]=d);if(t===iG?(E=A=s,C=20):t===CR?(E=QRe,A=eLe,C=257):(E=tLe,A=nLe,C=0),y=0,d=0,u=h,D=a,w=p,v=0,N=-1,g=1<<p,R=g-1,t===CR&&g>tG||t===rG&&g>nG)return 1;for(;;){I=u-v,s[d]+1<C?(T=0,z=s[d]):s[d]>=C?(T=A[s[d]-C],z=E[s[d]-C]):(T=32+64,z=0),_=1<<u-v,S=1<<w,h=S;do S-=_,r[D+(y>>v)+S]=I<<24|T<<16|z|0;while(S!==0);for(_=1<<u-1;y&_;)_>>=1;if(_!==0?(y&=_-1,y+=_):y=0,d++,--P[u]===0){if(u===f)break;u=e[n+s[d]]}if(u>p&&(y&R)!==N){for(v===0&&(v=p),D+=h,w=u-v,b=1<<w;w+v<f&&(b-=P[w+v],!(b<=0));)w++,b<<=1;if(g+=1<<w,t===CR&&g>tG||t===rG&&g>nG)return 1;N=y&R,r[N]=p<<24|w<<16|D-a|0}}return y!==0&&(r[D+y]=u-v<<24|64<<16|0),o.bits=p,0};var L5=iLe;const rLe=0,sse=1,ose=2,{Z_FINISH:aG,Z_BLOCK:aLe,Z_TREES:xk,Z_OK:J0,Z_STREAM_END:sLe,Z_NEED_DICT:oLe,Z_STREAM_ERROR:pc,Z_DATA_ERROR:lse,Z_MEM_ERROR:cse,Z_BUF_ERROR:lLe,Z_DEFLATED:sG}=i3,I8=16180,oG=16181,lG=16182,cG=16183,uG=16184,dG=16185,hG=16186,fG=16187,pG=16188,mG=16189,EE=16190,Yd=16191,ER=16192,gG=16193,TR=16194,yG=16195,vG=16196,bG=16197,wG=16198,_k=16199,Sk=16200,xG=16201,_G=16202,SG=16203,AG=16204,NG=16205,DR=16206,kG=16207,CG=16208,Oi=16209,use=16210,dse=16211,cLe=852,uLe=592,dLe=15,hLe=dLe,EG=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function fLe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ly=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<I8||e.mode>dse?1:0},hse=t=>{if(ly(t))return pc;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=I8,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(cLe),e.distcode=e.distdyn=new Int32Array(uLe),e.sane=1,e.back=-1,J0},fse=t=>{if(ly(t))return pc;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,hse(t)},pse=(t,e)=>{let n;if(ly(t))return pc;const i=t.state;return e<0?(n=0,e=-e):(n=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?pc:(i.window!==null&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,fse(t))},mse=(t,e)=>{if(!t)return pc;const n=new fLe;t.state=n,n.strm=t,n.window=null,n.mode=I8;const i=pse(t,e);return i!==J0&&(t.state=null),i},pLe=t=>mse(t,hLe);let TG=!0,PR,IR;const mLe=t=>{if(TG){PR=new Int32Array(512),IR=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(L5(sse,t.lens,0,288,PR,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;L5(ose,t.lens,0,32,IR,0,t.work,{bits:5}),TG=!1}t.lencode=PR,t.lenbits=9,t.distcode=IR,t.distbits=5},gse=(t,e,n,i)=>{let r;const a=t.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),i>=a.wsize?(a.window.set(e.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):(r=a.wsize-a.wnext,r>i&&(r=i),a.window.set(e.subarray(n-i,n-i+r),a.wnext),i-=r,i?(a.window.set(e.subarray(n-i,n),0),a.wnext=i,a.whave=a.wsize):(a.wnext+=r,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=r))),0},gLe=(t,e)=>{let n,i,r,a,s,o,c,u,d,h,f,p,w,v,b=0,g,y,_,S,N,R,D,E;const C=new Uint8Array(4);let P,k;const A=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ly(t)||!t.output||!t.input&&t.avail_in!==0)return pc;n=t.state,n.mode===Yd&&(n.mode=ER),s=t.next_out,r=t.output,c=t.avail_out,a=t.next_in,i=t.input,o=t.avail_in,u=n.hold,d=n.bits,h=o,f=c,E=J0;e:for(;;)switch(n.mode){case I8:if(n.wrap===0){n.mode=ER;break}for(;d<16;){if(o===0)break e;o--,u+=i[a++]<<d,d+=8}if(n.wrap&2&&u===35615){n.wbits===0&&(n.wbits=15),n.check=0,C[0]=u&255,C[1]=u>>>8&255,n.check=aa(n.check,C,2,0),u=0,d=0,n.mode=oG;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=Oi;break}if((u&15)!==sG){t.msg="unknown compression method",n.mode=Oi;break}if(u>>>=4,d-=4,D=(u&15)+8,n.wbits===0&&(n.wbits=D),D>15||D>n.wbits){t.msg="invalid window size",n.mode=Oi;break}n.dmax=1<<n.wbits,n.flags=0,t.adler=n.check=1,n.mode=u&512?mG:Yd,u=0,d=0;break;case oG:for(;d<16;){if(o===0)break e;o--,u+=i[a++]<<d,d+=8}if(n.flags=u,(n.flags&255)!==sG){t.msg="unknown compression method",n.mode=Oi;break}if(n.flags&57344){t.msg="unknown header flags set",n.mode=Oi;break}n.head&&(n.head.text=u>>8&1),n.flags&512&&n.wrap&4&&(C[0]=u&255,C[1]=u>>>8&255,n.check=aa(n.check,C,2,0)),u=0,d=0,n.mode=lG;case lG:for(;d<32;){if(o===0)break e;o--,u+=i[a++]<<d,d+=8}n.head&&(n.head.time=u),n.flags&512&&n.wrap&4&&(C[0]=u&255,C[1]=u>>>8&255,C[2]=u>>>16&255,C[3]=u>>>24&255,n.check=aa(n.check,C,4,0)),u=0,d=0,n.mode=cG;case cG:for(;d<16;){if(o===0)break e;o--,u+=i[a++]<<d,d+=8}n.head&&(n.head.xflags=u&255,n.head.os=u>>8),n.flags&512&&n.wrap&4&&(C[0]=u&255,C[1]=u>>>8&255,n.check=aa(n.check,C,2,0)),u=0,d=0,n.mode=uG;case uG:if(n.flags&1024){for(;d<16;){if(o===0)break e;o--,u+=i[a++]<<d,d+=8}n.length=u,n.head&&(n.head.extra_len=u),n.flags&512&&n.wrap&4&&(C[0]=u&255,C[1]=u>>>8&255,n.check=aa(n.check,C,2,0)),u=0,d=0}else n.head&&(n.head.extra=null);n.mode=dG;case dG:if(n.flags&1024&&(p=n.length,p>o&&(p=o),p&&(n.head&&(D=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(a,a+p),D)),n.flags&512&&n.wrap&4&&(n.check=aa(n.check,i,p,a)),o-=p,a+=p,n.length-=p),n.length))break e;n.length=0,n.mode=hG;case hG:if(n.flags&2048){if(o===0)break e;p=0;do D=i[a+p++],n.head&&D&&n.length<65536&&(n.head.name+=String.fromCharCode(D));while(D&&p<o);if(n.flags&512&&n.wrap&4&&(n.check=aa(n.check,i,p,a)),o-=p,a+=p,D)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=fG;case fG:if(n.flags&4096){if(o===0)break e;p=0;do D=i[a+p++],n.head&&D&&n.length<65536&&(n.head.comment+=String.fromCharCode(D));while(D&&p<o);if(n.flags&512&&n.wrap&4&&(n.check=aa(n.check,i,p,a)),o-=p,a+=p,D)break e}else n.head&&(n.head.comment=null);n.mode=pG;case pG:if(n.flags&512){for(;d<16;){if(o===0)break e;o--,u+=i[a++]<<d,d+=8}if(n.wrap&4&&u!==(n.check&65535)){t.msg="header crc mismatch",n.mode=Oi;break}u=0,d=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Yd;break;case mG:for(;d<32;){if(o===0)break e;o--,u+=i[a++]<<d,d+=8}t.adler=n.check=EG(u),u=0,d=0,n.mode=EE;case EE:if(n.havedict===0)return t.next_out=s,t.avail_out=c,t.next_in=a,t.avail_in=o,n.hold=u,n.bits=d,oLe;t.adler=n.check=1,n.mode=Yd;case Yd:if(e===aLe||e===xk)break e;case ER:if(n.last){u>>>=d&7,d-=d&7,n.mode=DR;break}for(;d<3;){if(o===0)break e;o--,u+=i[a++]<<d,d+=8}switch(n.last=u&1,u>>>=1,d-=1,u&3){case 0:n.mode=gG;break;case 1:if(mLe(n),n.mode=_k,e===xk){u>>>=2,d-=2;break e}break;case 2:n.mode=vG;break;case 3:t.msg="invalid block type",n.mode=Oi}u>>>=2,d-=2;break;case gG:for(u>>>=d&7,d-=d&7;d<32;){if(o===0)break e;o--,u+=i[a++]<<d,d+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Oi;break}if(n.length=u&65535,u=0,d=0,n.mode=TR,e===xk)break e;case TR:n.mode=yG;case yG:if(p=n.length,p){if(p>o&&(p=o),p>c&&(p=c),p===0)break e;r.set(i.subarray(a,a+p),s),o-=p,a+=p,c-=p,s+=p,n.length-=p;break}n.mode=Yd;break;case vG:for(;d<14;){if(o===0)break e;o--,u+=i[a++]<<d,d+=8}if(n.nlen=(u&31)+257,u>>>=5,d-=5,n.ndist=(u&31)+1,u>>>=5,d-=5,n.ncode=(u&15)+4,u>>>=4,d-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Oi;break}n.have=0,n.mode=bG;case bG:for(;n.have<n.ncode;){for(;d<3;){if(o===0)break e;o--,u+=i[a++]<<d,d+=8}n.lens[A[n.have++]]=u&7,u>>>=3,d-=3}for(;n.have<19;)n.lens[A[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,P={bits:n.lenbits},E=L5(rLe,n.lens,0,19,n.lencode,0,n.work,P),n.lenbits=P.bits,E){t.msg="invalid code lengths set",n.mode=Oi;break}n.have=0,n.mode=wG;case wG:for(;n.have<n.nlen+n.ndist;){for(;b=n.lencode[u&(1<<n.lenbits)-1],g=b>>>24,y=b>>>16&255,_=b&65535,!(g<=d);){if(o===0)break e;o--,u+=i[a++]<<d,d+=8}if(_<16)u>>>=g,d-=g,n.lens[n.have++]=_;else{if(_===16){for(k=g+2;d<k;){if(o===0)break e;o--,u+=i[a++]<<d,d+=8}if(u>>>=g,d-=g,n.have===0){t.msg="invalid bit length repeat",n.mode=Oi;break}D=n.lens[n.have-1],p=3+(u&3),u>>>=2,d-=2}else if(_===17){for(k=g+3;d<k;){if(o===0)break e;o--,u+=i[a++]<<d,d+=8}u>>>=g,d-=g,D=0,p=3+(u&7),u>>>=3,d-=3}else{for(k=g+7;d<k;){if(o===0)break e;o--,u+=i[a++]<<d,d+=8}u>>>=g,d-=g,D=0,p=11+(u&127),u>>>=7,d-=7}if(n.have+p>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Oi;break}for(;p--;)n.lens[n.have++]=D}}if(n.mode===Oi)break;if(n.lens[256]===0){t.msg="invalid code -- missing end-of-block",n.mode=Oi;break}if(n.lenbits=9,P={bits:n.lenbits},E=L5(sse,n.lens,0,n.nlen,n.lencode,0,n.work,P),n.lenbits=P.bits,E){t.msg="invalid literal/lengths set",n.mode=Oi;break}if(n.distbits=6,n.distcode=n.distdyn,P={bits:n.distbits},E=L5(ose,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,P),n.distbits=P.bits,E){t.msg="invalid distances set",n.mode=Oi;break}if(n.mode=_k,e===xk)break e;case _k:n.mode=Sk;case Sk:if(o>=6&&c>=258){t.next_out=s,t.avail_out=c,t.next_in=a,t.avail_in=o,n.hold=u,n.bits=d,ZRe(t,f),s=t.next_out,r=t.output,c=t.avail_out,a=t.next_in,i=t.input,o=t.avail_in,u=n.hold,d=n.bits,n.mode===Yd&&(n.back=-1);break}for(n.back=0;b=n.lencode[u&(1<<n.lenbits)-1],g=b>>>24,y=b>>>16&255,_=b&65535,!(g<=d);){if(o===0)break e;o--,u+=i[a++]<<d,d+=8}if(y&&!(y&240)){for(S=g,N=y,R=_;b=n.lencode[R+((u&(1<<S+N)-1)>>S)],g=b>>>24,y=b>>>16&255,_=b&65535,!(S+g<=d);){if(o===0)break e;o--,u+=i[a++]<<d,d+=8}u>>>=S,d-=S,n.back+=S}if(u>>>=g,d-=g,n.back+=g,n.length=_,y===0){n.mode=NG;break}if(y&32){n.back=-1,n.mode=Yd;break}if(y&64){t.msg="invalid literal/length code",n.mode=Oi;break}n.extra=y&15,n.mode=xG;case xG:if(n.extra){for(k=n.extra;d<k;){if(o===0)break e;o--,u+=i[a++]<<d,d+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=_G;case _G:for(;b=n.distcode[u&(1<<n.distbits)-1],g=b>>>24,y=b>>>16&255,_=b&65535,!(g<=d);){if(o===0)break e;o--,u+=i[a++]<<d,d+=8}if(!(y&240)){for(S=g,N=y,R=_;b=n.distcode[R+((u&(1<<S+N)-1)>>S)],g=b>>>24,y=b>>>16&255,_=b&65535,!(S+g<=d);){if(o===0)break e;o--,u+=i[a++]<<d,d+=8}u>>>=S,d-=S,n.back+=S}if(u>>>=g,d-=g,n.back+=g,y&64){t.msg="invalid distance code",n.mode=Oi;break}n.offset=_,n.extra=y&15,n.mode=SG;case SG:if(n.extra){for(k=n.extra;d<k;){if(o===0)break e;o--,u+=i[a++]<<d,d+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,d-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Oi;break}n.mode=AG;case AG:if(c===0)break e;if(p=f-c,n.offset>p){if(p=n.offset-p,p>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Oi;break}p>n.wnext?(p-=n.wnext,w=n.wsize-p):w=n.wnext-p,p>n.length&&(p=n.length),v=n.window}else v=r,w=s-n.offset,p=n.length;p>c&&(p=c),c-=p,n.length-=p;do r[s++]=v[w++];while(--p);n.length===0&&(n.mode=Sk);break;case NG:if(c===0)break e;r[s++]=n.length,c--,n.mode=Sk;break;case DR:if(n.wrap){for(;d<32;){if(o===0)break e;o--,u|=i[a++]<<d,d+=8}if(f-=c,t.total_out+=f,n.total+=f,n.wrap&4&&f&&(t.adler=n.check=n.flags?aa(n.check,r,f,s-f):I_(n.check,r,f,s-f)),f=c,n.wrap&4&&(n.flags?u:EG(u))!==n.check){t.msg="incorrect data check",n.mode=Oi;break}u=0,d=0}n.mode=kG;case kG:if(n.wrap&&n.flags){for(;d<32;){if(o===0)break e;o--,u+=i[a++]<<d,d+=8}if(n.wrap&4&&u!==(n.total&4294967295)){t.msg="incorrect length check",n.mode=Oi;break}u=0,d=0}n.mode=CG;case CG:E=sLe;break e;case Oi:E=lse;break e;case use:return cse;case dse:default:return pc}return t.next_out=s,t.avail_out=c,t.next_in=a,t.avail_in=o,n.hold=u,n.bits=d,(n.wsize||f!==t.avail_out&&n.mode<Oi&&(n.mode<DR||e!==aG))&&gse(t,t.output,t.next_out,f-t.avail_out),h-=t.avail_in,f-=t.avail_out,t.total_in+=h,t.total_out+=f,n.total+=f,n.wrap&4&&f&&(t.adler=n.check=n.flags?aa(n.check,r,f,t.next_out-f):I_(n.check,r,f,t.next_out-f)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Yd?128:0)+(n.mode===_k||n.mode===TR?256:0),(h===0&&f===0||e===aG)&&E===J0&&(E=lLe),E},yLe=t=>{if(ly(t))return pc;let e=t.state;return e.window&&(e.window=null),t.state=null,J0},vLe=(t,e)=>{if(ly(t))return pc;const n=t.state;return n.wrap&2?(n.head=e,e.done=!1,J0):pc},bLe=(t,e)=>{const n=e.length;let i,r,a;return ly(t)||(i=t.state,i.wrap!==0&&i.mode!==EE)?pc:i.mode===EE&&(r=1,r=I_(r,e,n,0),r!==i.check)?lse:(a=gse(t,e,n,n),a?(i.mode=use,cse):(i.havedict=1,J0))};var wLe=fse,xLe=pse,_Le=hse,SLe=pLe,ALe=mse,NLe=gLe,kLe=yLe,CLe=vLe,ELe=bLe,TLe="pako inflate (from Nodeca project)",sh={inflateReset:wLe,inflateReset2:xLe,inflateResetKeep:_Le,inflateInit:SLe,inflateInit2:ALe,inflate:NLe,inflateEnd:kLe,inflateGetHeader:CLe,inflateSetDictionary:ELe,inflateInfo:TLe};function DLe(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var PLe=DLe;const yse=Object.prototype.toString,{Z_NO_FLUSH:ILe,Z_FINISH:RLe,Z_OK:F_,Z_STREAM_END:RR,Z_NEED_DICT:LR,Z_STREAM_ERROR:LLe,Z_DATA_ERROR:DG,Z_MEM_ERROR:FLe}=i3;function a3(t){this.options=P8.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new rse,this.strm.avail_out=0;let n=sh.inflateInit2(this.strm,e.windowBits);if(n!==F_)throw new Error(mw[n]);if(this.header=new PLe,sh.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=L_.string2buf(e.dictionary):yse.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=sh.inflateSetDictionary(this.strm,e.dictionary),n!==F_)))throw new Error(mw[n])}a3.prototype.push=function(t,e){const n=this.strm,i=this.options.chunkSize,r=this.options.dictionary;let a,s,o;if(this.ended)return!1;for(e===~~e?s=e:s=e===!0?RLe:ILe,yse.call(t)==="[object ArrayBuffer]"?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(i),n.next_out=0,n.avail_out=i),a=sh.inflate(n,s),a===LR&&r&&(a=sh.inflateSetDictionary(n,r),a===F_?a=sh.inflate(n,s):a===DG&&(a=LR));n.avail_in>0&&a===RR&&n.state.wrap>0&&t[n.next_in]!==0;)sh.inflateReset(n),a=sh.inflate(n,s);switch(a){case LLe:case DG:case LR:case FLe:return this.onEnd(a),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(n.avail_out===0||a===RR))if(this.options.to==="string"){let c=L_.utf8border(n.output,n.next_out),u=n.next_out-c,d=L_.buf2string(n.output,c);n.next_out=u,n.avail_out=i-u,u&&n.output.set(n.output.subarray(c,c+u),0),this.onData(d)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(a===F_&&o===0)){if(a===RR)return a=sh.inflateEnd(this.strm),this.onEnd(a),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};a3.prototype.onData=function(t){this.chunks.push(t)};a3.prototype.onEnd=function(t){t===F_&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=P8.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function yB(t,e){const n=new a3(e);if(n.push(t),n.err)throw n.msg||mw[n.err];return n.result}function OLe(t,e){return e=e||{},e.raw=!0,yB(t,e)}var ULe=a3,MLe=yB,BLe=OLe,zLe=yB,jLe=i3,$Le={Inflate:ULe,inflate:MLe,inflateRaw:BLe,ungzip:zLe,constants:jLe};const{Inflate:WLe,inflate:qLe,inflateRaw:POe,ungzip:IOe}=$Le;var PG=WLe,HLe=qLe;const vse=[];for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;vse[t]=e}const IG=4294967295;function VLe(t,e,n){let i=t;for(let r=0;r<n;r++)i=vse[(i^e[r])&255]^i>>>8;return i}function GLe(t,e){return(VLe(IG,t,e)^IG)>>>0}function RG(t,e,n){const i=t.readUint32(),r=GLe(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(r!==i)throw new Error(`CRC mismatch for chunk ${n}. Expected ${i}, found ${r}`)}function bse(t,e,n){for(let i=0;i<n;i++)e[i]=t[i]}function wse(t,e,n,i){let r=0;for(;r<i;r++)e[r]=t[r];for(;r<n;r++)e[r]=t[r]+e[r-i]&255}function xse(t,e,n,i){let r=0;if(n.length===0)for(;r<i;r++)e[r]=t[r];else for(;r<i;r++)e[r]=t[r]+n[r]&255}function _se(t,e,n,i,r){let a=0;if(n.length===0){for(;a<r;a++)e[a]=t[a];for(;a<i;a++)e[a]=t[a]+(e[a-r]>>1)&255}else{for(;a<r;a++)e[a]=t[a]+(n[a]>>1)&255;for(;a<i;a++)e[a]=t[a]+(e[a-r]+n[a]>>1)&255}}function Sse(t,e,n,i,r){let a=0;if(n.length===0){for(;a<r;a++)e[a]=t[a];for(;a<i;a++)e[a]=t[a]+e[a-r]&255}else{for(;a<r;a++)e[a]=t[a]+n[a]&255;for(;a<i;a++)e[a]=t[a]+XLe(e[a-r],n[a],n[a-r])&255}}function XLe(t,e,n){const i=t+e-n,r=Math.abs(i-t),a=Math.abs(i-e),s=Math.abs(i-n);return r<=a&&r<=s?t:a<=s?e:n}function KLe(t,e,n,i,r,a){switch(t){case 0:bse(e,n,r);break;case 1:wse(e,n,r,a);break;case 2:xse(e,n,i,r);break;case 3:_se(e,n,i,r,a);break;case 4:Sse(e,n,i,r,a);break;default:throw new Error(`Unsupported filter: ${t}`)}}const YLe=new Uint16Array([255]),JLe=new Uint8Array(YLe.buffer),ZLe=JLe[0]===255;function QLe(t){const{data:e,width:n,height:i,channels:r,depth:a}=t,s=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(a/8)*r,c=new Uint8Array(i*n*o);let u=0;for(let d=0;d<7;d++){const h=s[d],f=Math.ceil((n-h.x)/h.xStep),p=Math.ceil((i-h.y)/h.yStep);if(f<=0||p<=0)continue;const w=f*o,v=new Uint8Array(w);for(let b=0;b<p;b++){const g=e[u++],y=e.subarray(u,u+w);u+=w;const _=new Uint8Array(w);KLe(g,y,_,v,w,o),v.set(_);for(let S=0;S<f;S++){const N=h.x+S*h.xStep,R=h.y+b*h.yStep;if(!(N>=n||R>=i))for(let D=0;D<o;D++)c[(R*n+N)*o+D]=_[S*o+D]}}}if(a===16){const d=new Uint16Array(c.buffer);if(ZLe)for(let h=0;h<d.length;h++)d[h]=e7e(d[h]);return d}else return c}function e7e(t){return(t&255)<<8|t>>8&255}const t7e=new Uint16Array([255]),n7e=new Uint8Array(t7e.buffer),i7e=n7e[0]===255,r7e=new Uint8Array(0);function LG(t){const{data:e,width:n,height:i,channels:r,depth:a}=t,s=Math.ceil(a/8)*r,o=Math.ceil(a/8*r*n),c=new Uint8Array(i*o);let u=r7e,d=0,h,f;for(let p=0;p<i;p++){switch(h=e.subarray(d+1,d+1+o),f=c.subarray(p*o,(p+1)*o),e[d]){case 0:bse(h,f,o);break;case 1:wse(h,f,o,s);break;case 2:xse(h,f,u,o);break;case 3:_se(h,f,u,o,s);break;case 4:Sse(h,f,u,o,s);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}u=f,d+=o+1}if(a===16){const p=new Uint16Array(c.buffer);if(i7e)for(let w=0;w<p.length;w++)p[w]=a7e(p[w]);return p}else return c}function a7e(t){return(t&255)<<8|t>>8&255}const G4=Uint8Array.of(137,80,78,71,13,10,26,10);function FG(t){if(!s7e(t.readBytes(G4.length)))throw new Error("wrong PNG signature")}function s7e(t){if(t.length<G4.length)return!1;for(let e=0;e<G4.length;e++)if(t[e]!==G4[e])return!1;return!0}const o7e="tEXt",l7e=0,Ase=new TextDecoder("latin1");function c7e(t){if(d7e(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const u7e=/^[\u0000-\u00FF]*$/;function d7e(t){if(!u7e.test(t))throw new Error("invalid latin1 text")}function h7e(t,e,n){const i=Nse(e);t[i]=f7e(e,n-i.length-1)}function Nse(t){for(t.mark();t.readByte()!==l7e;);const e=t.offset;t.reset();const n=Ase.decode(t.readBytes(e-t.offset-1));return t.skip(1),c7e(n),n}function f7e(t,e){return Ase.decode(t.readBytes(e))}const Uo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},FR={UNKNOWN:-1,DEFLATE:0},OG={UNKNOWN:-1,ADAPTIVE:0},OR={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Ak={NONE:0,BACKGROUND:1,PREVIOUS:2},UR={SOURCE:0,OVER:1};class p7e extends uB{constructor(n,i={}){super(n);it(this,"_checkCrc");it(this,"_inflator");it(this,"_png");it(this,"_apng");it(this,"_end");it(this,"_hasPalette");it(this,"_palette");it(this,"_hasTransparency");it(this,"_transparency");it(this,"_compressionMethod");it(this,"_filterMethod");it(this,"_interlaceMethod");it(this,"_colorType");it(this,"_isAnimated");it(this,"_numberOfFrames");it(this,"_numberOfPlays");it(this,"_frames");it(this,"_writingDataChunks");const{checkCrc:r=!1}=i;this._checkCrc=r,this._inflator=new PG,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=FR.UNKNOWN,this._filterMethod=OG.UNKNOWN,this._interlaceMethod=OR.UNKNOWN,this._colorType=Uo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(FG(this);!this._end;){const n=this.readUint32(),i=this.readChars(4);this.decodeChunk(n,i)}return this.decodeImage(),this._png}decodeApng(){for(FG(this);!this._end;){const n=this.readUint32(),i=this.readChars(4);this.decodeApngChunk(n,i)}return this.decodeApngImage(),this._apng}decodeChunk(n,i){const r=this.offset;switch(i){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(n);break;case"IDAT":this.decodeIDAT(n);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(n);break;case"iCCP":this.decodeiCCP(n);break;case o7e:h7e(this._png.text,this,n);break;case"pHYs":this.decodepHYs();break;default:this.skip(n);break}if(this.offset-r!==n)throw new Error(`Length mismatch while decoding chunk ${i}`);this._checkCrc?RG(this,n+4,i):this.skip(4)}decodeApngChunk(n,i){const r=this.offset;switch(i!=="fdAT"&&i!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),i){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(n);break;default:this.decodeChunk(n,i),this.offset=r+n;break}if(this.offset-r!==n)throw new Error(`Length mismatch while decoding chunk ${i}`);this._checkCrc?RG(this,n+4,i):this.skip(4)}decodeIHDR(){const n=this._png;n.width=this.readUint32(),n.height=this.readUint32(),n.depth=m7e(this.readUint8());const i=this.readUint8();this._colorType=i;let r;switch(i){case Uo.GREYSCALE:r=1;break;case Uo.TRUECOLOUR:r=3;break;case Uo.INDEXED_COLOUR:r=1;break;case Uo.GREYSCALE_ALPHA:r=2;break;case Uo.TRUECOLOUR_ALPHA:r=4;break;case Uo.UNKNOWN:default:throw new Error(`Unknown color type: ${i}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==FR.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const n={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(n)}decodePLTE(n){if(n%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${n}`);const i=n/3;this._hasPalette=!0;const r=[];this._palette=r;for(let a=0;a<i;a++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(n){this._writingDataChunks=!0;const i=n,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,i)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodeFDAT(n){this._writingDataChunks=!0;let i=n,r=this.offset+this.byteOffset;if(r+=4,i-=4,this._inflator.push(new Uint8Array(this.buffer,r,i)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(n)}decodetRNS(n){switch(this._colorType){case Uo.GREYSCALE:case Uo.TRUECOLOUR:{if(n%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${n}`);if(n/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${n/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(n/2);for(let i=0;i<n/2;i++)this._transparency[i]=this.readUint16();break}case Uo.INDEXED_COLOUR:{if(n>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${n} vs ${this._palette.length})`);let i=0;for(;i<n;i++){const r=this.readByte();this._palette[i].push(r)}for(;i<this._palette.length;i++)this._palette[i].push(255);break}case Uo.UNKNOWN:case Uo.GREYSCALE_ALPHA:case Uo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(n){const i=Nse(this),r=this.readUint8();if(r!==FR.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const a=this.readBytes(n-i.length-2);this._png.iccEmbeddedProfile={name:i,profile:HLe(a)}}decodepHYs(){const n=this.readUint32(),i=this.readUint32(),r=this.readByte();this._png.resolution={x:n,y:i,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let n=0;n<this._numberOfFrames;n++){const i={sequenceNumber:this._frames[n].sequenceNumber,delayNumber:this._frames[n].delayNumber,delayDenominator:this._frames[n].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(n);if(r){if(r.data=LG({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),n===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)i.data=r.data;else{const a=this._apng.frames.at(n-1);this.disposeFrame(r,a,i),this.addFrameDataToCanvas(i,r)}this._apng.frames.push(i)}}return this._apng}disposeFrame(n,i,r){switch(n.disposeOp){case Ak.NONE:break;case Ak.BACKGROUND:for(let a=0;a<this._png.height;a++)for(let s=0;s<this._png.width;s++){const o=(a*n.width+s)*this._png.channels;for(let c=0;c<this._png.channels;c++)r.data[o+c]=0}break;case Ak.PREVIOUS:r.data.set(i.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(n,i){const r=1<<this._png.depth,a=(s,o)=>{const c=((s+i.yOffset)*this._png.width+i.xOffset+o)*this._png.channels,u=(s*i.width+o)*this._png.channels;return{index:c,frameIndex:u}};switch(i.blendOp){case UR.SOURCE:for(let s=0;s<i.height;s++)for(let o=0;o<i.width;o++){const{index:c,frameIndex:u}=a(s,o);for(let d=0;d<this._png.channels;d++)n.data[c+d]=i.data[u+d]}break;case UR.OVER:for(let s=0;s<i.height;s++)for(let o=0;o<i.width;o++){const{index:c,frameIndex:u}=a(s,o);for(let d=0;d<this._png.channels;d++){const h=i.data[u+this._png.channels-1]/r,f=d%(this._png.channels-1)===0?1:i.data[u+d],p=Math.floor(h*f+(1-h)*n.data[c+d]);n.data[c+d]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var i;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const n=this._isAnimated?((i=this._frames)==null?void 0:i.at(0)).data:this._inflator.result;if(this._filterMethod!==OG.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===OR.NO_INTERLACE)this._png.data=LG({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===OR.ADAM7)this._png.data=QLe({data:n,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const n=this._inflator.result,i=this._frames.at(-1);i?i.data=n:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Ak.NONE,blendOp:UR.SOURCE,data:n}),this._inflator=new PG,this._writingDataChunks=!1}}function m7e(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var UG;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(UG||(UG={}));function g7e(t,e){return new p7e(t,e).decode()}var qt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function MR(){qt.console&&typeof qt.console.log=="function"&&qt.console.log.apply(qt.console,arguments)}var di={log:MR,warn:function(t){qt.console&&(typeof qt.console.warn=="function"?qt.console.warn.apply(qt.console,arguments):MR.call(null,arguments))},error:function(t){qt.console&&(typeof qt.console.error=="function"?qt.console.error.apply(qt.console,arguments):MR(t))}};function BR(t,e,n){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){Ag(i.response,e,n)},i.onerror=function(){di.error("could not download file")},i.send()}function MG(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Nk(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Ag=qt.saveAs||((typeof window>"u"?"undefined":Vn(window))!=="object"||window!==qt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var i=qt.URL||qt.webkitURL,r=document.createElement("a");e=e||t.name||"download",r.download=e,r.rel="noopener",typeof t=="string"?(r.href=t,r.origin!==location.origin?MG(r.href)?BR(t,e,n):Nk(r,r.target="_blank"):Nk(r)):(r.href=i.createObjectURL(t),setTimeout(function(){i.revokeObjectURL(r.href)},4e4),setTimeout(function(){Nk(r)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(MG(t))BR(t,e,n);else{var i=document.createElement("a");i.href=t,i.target="_blank",setTimeout(function(){Nk(i)})}else navigator.msSaveOrOpenBlob(function(r,a){return a===void 0?a={autoBom:!1}:Vn(a)!=="object"&&(di.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(r.type)?new Blob([String.fromCharCode(65279),r],{type:r.type}):r}(t,n),e)}:function(t,e,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),typeof t=="string")return BR(t,e,n);var r=t.type==="application/octet-stream",a=/constructor/i.test(qt.HTMLElement)||qt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||r&&a)&&(typeof FileReader>"u"?"undefined":Vn(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=s?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=d:location=d,i=null},o.readAsDataURL(t)}else{var c=qt.URL||qt.webkitURL,u=c.createObjectURL(t);i?i.location=u:location.href=u,i=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function kse(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],i=0;i<n.length;i++){var r=n[i].re,a=n[i].process,s=r.exec(t);s&&(e=a(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+o+c+u}}var X4=qt.atob.bind(qt),BG=qt.btoa.bind(qt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function zR(t,e){var n=t[0],i=t[1],r=t[2],a=t[3];n=Va(n,i,r,a,e[0],7,-680876936),a=Va(a,n,i,r,e[1],12,-389564586),r=Va(r,a,n,i,e[2],17,606105819),i=Va(i,r,a,n,e[3],22,-1044525330),n=Va(n,i,r,a,e[4],7,-176418897),a=Va(a,n,i,r,e[5],12,1200080426),r=Va(r,a,n,i,e[6],17,-1473231341),i=Va(i,r,a,n,e[7],22,-45705983),n=Va(n,i,r,a,e[8],7,1770035416),a=Va(a,n,i,r,e[9],12,-1958414417),r=Va(r,a,n,i,e[10],17,-42063),i=Va(i,r,a,n,e[11],22,-1990404162),n=Va(n,i,r,a,e[12],7,1804603682),a=Va(a,n,i,r,e[13],12,-40341101),r=Va(r,a,n,i,e[14],17,-1502002290),n=Ga(n,i=Va(i,r,a,n,e[15],22,1236535329),r,a,e[1],5,-165796510),a=Ga(a,n,i,r,e[6],9,-1069501632),r=Ga(r,a,n,i,e[11],14,643717713),i=Ga(i,r,a,n,e[0],20,-373897302),n=Ga(n,i,r,a,e[5],5,-701558691),a=Ga(a,n,i,r,e[10],9,38016083),r=Ga(r,a,n,i,e[15],14,-660478335),i=Ga(i,r,a,n,e[4],20,-405537848),n=Ga(n,i,r,a,e[9],5,568446438),a=Ga(a,n,i,r,e[14],9,-1019803690),r=Ga(r,a,n,i,e[3],14,-187363961),i=Ga(i,r,a,n,e[8],20,1163531501),n=Ga(n,i,r,a,e[13],5,-1444681467),a=Ga(a,n,i,r,e[2],9,-51403784),r=Ga(r,a,n,i,e[7],14,1735328473),n=Xa(n,i=Ga(i,r,a,n,e[12],20,-1926607734),r,a,e[5],4,-378558),a=Xa(a,n,i,r,e[8],11,-2022574463),r=Xa(r,a,n,i,e[11],16,1839030562),i=Xa(i,r,a,n,e[14],23,-35309556),n=Xa(n,i,r,a,e[1],4,-1530992060),a=Xa(a,n,i,r,e[4],11,1272893353),r=Xa(r,a,n,i,e[7],16,-155497632),i=Xa(i,r,a,n,e[10],23,-1094730640),n=Xa(n,i,r,a,e[13],4,681279174),a=Xa(a,n,i,r,e[0],11,-358537222),r=Xa(r,a,n,i,e[3],16,-722521979),i=Xa(i,r,a,n,e[6],23,76029189),n=Xa(n,i,r,a,e[9],4,-640364487),a=Xa(a,n,i,r,e[12],11,-421815835),r=Xa(r,a,n,i,e[15],16,530742520),n=Ka(n,i=Xa(i,r,a,n,e[2],23,-995338651),r,a,e[0],6,-198630844),a=Ka(a,n,i,r,e[7],10,1126891415),r=Ka(r,a,n,i,e[14],15,-1416354905),i=Ka(i,r,a,n,e[5],21,-57434055),n=Ka(n,i,r,a,e[12],6,1700485571),a=Ka(a,n,i,r,e[3],10,-1894986606),r=Ka(r,a,n,i,e[10],15,-1051523),i=Ka(i,r,a,n,e[1],21,-2054922799),n=Ka(n,i,r,a,e[8],6,1873313359),a=Ka(a,n,i,r,e[15],10,-30611744),r=Ka(r,a,n,i,e[6],15,-1560198380),i=Ka(i,r,a,n,e[13],21,1309151649),n=Ka(n,i,r,a,e[4],6,-145523070),a=Ka(a,n,i,r,e[11],10,-1120210379),r=Ka(r,a,n,i,e[2],15,718787259),i=Ka(i,r,a,n,e[9],21,-343485551),t[0]=um(n,t[0]),t[1]=um(i,t[1]),t[2]=um(r,t[2]),t[3]=um(a,t[3])}function R8(t,e,n,i,r,a){return e=um(um(e,t),um(i,a)),um(e<<r|e>>>32-r,n)}function Va(t,e,n,i,r,a,s){return R8(e&n|~e&i,t,e,r,a,s)}function Ga(t,e,n,i,r,a,s){return R8(e&i|n&~i,t,e,r,a,s)}function Xa(t,e,n,i,r,a,s){return R8(e^n^i,t,e,r,a,s)}function Ka(t,e,n,i,r,a,s){return R8(n^(e|~i),t,e,r,a,s)}function Cse(t){var e,n=t.length,i=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)zR(i,y7e(t.substring(e-64,e)));t=t.substring(e-64);var r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)r[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(zR(i,r),e=0;e<16;e++)r[e]=0;return r[14]=8*n,zR(i,r),i}function y7e(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}var zG="0123456789abcdef".split("");function v7e(t){for(var e="",n=0;n<4;n++)e+=zG[t>>8*n+4&15]+zG[t>>8*n&15];return e}function b7e(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function SO(t){return Cse(t).map(b7e).join("")}var w7e=function(t){for(var e=0;e<t.length;e++)t[e]=v7e(t[e]);return t.join("")}(Cse("hello"))!="5d41402abc4b2a76b9719d911017c592";function um(t,e){if(w7e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function AO(t,e){var n,i,r,a;if(t!==n){for(var s=(r=t,a=1+(256/t.length|0),new Array(a+1).join(r)),o=[],c=0;c<256;c++)o[c]=c;var u=0;for(c=0;c<256;c++){var d=o[c];u=(u+d+s.charCodeAt(c))%256,o[c]=o[u],o[u]=d}n=t,i=o}else o=i;var h=e.length,f=0,p=0,w="";for(c=0;c<h;c++)p=(p+(d=o[f=(f+1)%256]))%256,o[f]=o[p],o[p]=d,s=o[(o[f]+o[p])%256],w+=String.fromCharCode(e.charCodeAt(c)^s);return w}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var jG={print:4,modify:8,copy:16,"annot-forms":32};function Qy(t,e,n,i){this.v=1,this.r=2;var r=192;t.forEach(function(o){if(jG.perm!==void 0)throw new Error("Invalid permission: "+o);r+=jG[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,s),this.P=-(1+(255^r)),this.encryptionKey=SO(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(i)).substr(0,5),this.U=AO(this.encryptionKey,this.padding)}function ev(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,i=0;i<n;i++){var r=t.charCodeAt(i);e+=r<33||r===35||r===37||r===40||r===41||r===47||r===60||r===62||r===91||r===93||r===123||r===125||r>126?"#"+("0"+r.toString(16)).slice(-2):t[i]}return e}function $G(t){if(Vn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,i,r){if(r=r||!1,typeof n!="string"||typeof i!="function"||typeof r!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var a=Math.random().toString(35);return e[n][a]=[i,!!r],a},this.unsubscribe=function(n){for(var i in e)if(e[i][n])return delete e[i][n],Object.keys(e[i]).length===0&&delete e[i],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var i=Array.prototype.slice.call(arguments,1),r=[];for(var a in e[n]){var s=e[n][a];try{s[0].apply(t,i)}catch(o){qt.console&&di.error("jsPDF PubSub Error",o.message,o)}s[1]&&r.push(a)}r.length&&r.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function TE(t){if(!(this instanceof TE))return new TE(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function Ese(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function kg(t,e,n,i,r){if(!(this instanceof kg))return new kg(t,e,n,i,r);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,Ese.call(this,i,r)}function yv(t,e,n,i,r){if(!(this instanceof yv))return new yv(t,e,n,i,r);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,Ese.call(this,i,r)}function Ot(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",i=arguments[1],r=arguments[2],a=arguments[3],s=[],o=1,c=16,u="S",d=null;Vn(t=t||{})==="object"&&(n=t.orientation,i=t.unit||i,r=t.format||r,a=t.compress||t.compressPdf||a,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),u=t.defaultPathOperation||"S"),s=t.filters||(a===!0?["FlateEncode"]:s),i=i||"mm",n=(""+(n||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,f={},p={internal:{},__private__:{}};p.__private__.PubSub=$G;var w="1.3",v=p.__private__.getPdfVersion=function(){return w};p.__private__.setPdfVersion=function(H){w=H};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return b};var g=p.__private__.getPageFormat=function(H){return b[H]};r=r||"a4";var y="compat",_="advanced",S=y;function N(){this.saveGraphicsState(),re(new Lt(Fe,0,0,-Fe,0,vu()*Fe).toString()+" cm"),this.setFontSize(this.getFontSize()/Fe),u="n",S=_}function R(){this.restoreGraphicsState(),u="S",S=y}var D=p.__private__.combineFontStyleAndFontWeight=function(H,fe){if(H=="bold"&&fe=="normal"||H=="bold"&&fe==400||H=="normal"&&fe=="italic"||H=="bold"&&fe=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return fe&&(H=fe==400||fe==="normal"?H==="italic"?"italic":"normal":fe!=700&&fe!=="bold"||H!=="normal"?(fe==700?"bold":fe)+""+H:"bold"),H};p.advancedAPI=function(H){var fe=S===y;return fe&&N.call(this),typeof H!="function"||(H(this),fe&&R.call(this)),this},p.compatAPI=function(H){var fe=S===_;return fe&&R.call(this),typeof H!="function"||(H(this),fe&&N.call(this)),this},p.isAdvancedAPI=function(){return S===_};var E,C=function(H){if(S!==_)throw new Error(H+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},P=p.roundToPrecision=p.__private__.roundToPrecision=function(H,fe){var Pe=e||fe;if(isNaN(H)||isNaN(Pe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return H.toFixed(Pe).replace(/0+$/,"")};E=p.hpf=p.__private__.hpf=typeof c=="number"?function(H){if(isNaN(H))throw new Error("Invalid argument passed to jsPDF.hpf");return P(H,c)}:c==="smart"?function(H){if(isNaN(H))throw new Error("Invalid argument passed to jsPDF.hpf");return P(H,H>-1&&H<1?16:5)}:function(H){if(isNaN(H))throw new Error("Invalid argument passed to jsPDF.hpf");return P(H,16)};var k=p.f2=p.__private__.f2=function(H){if(isNaN(H))throw new Error("Invalid argument passed to jsPDF.f2");return P(H,2)},A=p.__private__.f3=function(H){if(isNaN(H))throw new Error("Invalid argument passed to jsPDF.f3");return P(H,3)},I=p.scale=p.__private__.scale=function(H){if(isNaN(H))throw new Error("Invalid argument passed to jsPDF.scale");return S===y?H*Fe:S===_?H:void 0},T=function(H){return I(function(fe){return S===y?vu()-fe:S===_?fe:void 0}(H))};p.__private__.setPrecision=p.setPrecision=function(H){typeof parseInt(H,10)=="number"&&(e=parseInt(H,10))};var z,j="00000000000000000000000000000000",W=p.__private__.getFileId=function(){return j},$=p.__private__.setFileId=function(H){return j=H!==void 0&&/^[a-fA-F0-9]{32}$/.test(H)?H.toUpperCase():j.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Ei=new Qy(d.userPermissions,d.userPassword,d.ownerPassword,j)),j};p.setFileId=function(H){return $(H),this},p.getFileId=function(){return W()};var q=p.__private__.convertDateToPDFDate=function(H){var fe=H.getTimezoneOffset(),Pe=fe<0?"+":"-",Ue=Math.floor(Math.abs(fe/60)),$e=Math.abs(fe%60),Qe=[Pe,K(Ue),"'",K($e),"'"].join("");return["D:",H.getFullYear(),K(H.getMonth()+1),K(H.getDate()),K(H.getHours()),K(H.getMinutes()),K(H.getSeconds()),Qe].join("")},G=p.__private__.convertPDFDateToDate=function(H){var fe=parseInt(H.substr(2,4),10),Pe=parseInt(H.substr(6,2),10)-1,Ue=parseInt(H.substr(8,2),10),$e=parseInt(H.substr(10,2),10),Qe=parseInt(H.substr(12,2),10),lt=parseInt(H.substr(14,2),10);return new Date(fe,Pe,Ue,$e,Qe,lt,0)},B=p.__private__.setCreationDate=function(H){var fe;if(H===void 0&&(H=new Date),H instanceof Date)fe=q(H);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(H))throw new Error("Invalid argument passed to jsPDF.setCreationDate");fe=H}return z=fe},L=p.__private__.getCreationDate=function(H){var fe=z;return H==="jsDate"&&(fe=G(z)),fe};p.setCreationDate=function(H){return B(H),this},p.getCreationDate=function(H){return L(H)};var M,K=p.__private__.padd2=function(H){return("0"+parseInt(H)).slice(-2)},Q=p.__private__.padd2Hex=function(H){return("00"+(H=H.toString())).substr(H.length)},V=0,le=[],ge=[],ye=0,be=[],Le=[],ue=!1,ke=ge;p.__private__.setCustomOutputDestination=function(H){ue=!0,ke=H};var X=function(H){ue||(ke=H)};p.__private__.resetCustomOutputDestination=function(){ue=!1,ke=ge};var re=p.__private__.out=function(H){return H=H.toString(),ye+=H.length+1,ke.push(H),ke},Ee=p.__private__.write=function(H){return re(arguments.length===1?H.toString():Array.prototype.join.call(arguments," "))},ne=p.__private__.getArrayBuffer=function(H){for(var fe=H.length,Pe=new ArrayBuffer(fe),Ue=new Uint8Array(Pe);fe--;)Ue[fe]=H.charCodeAt(fe);return Pe},te=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return te};var ae=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(H){return ae=S===_?H/Fe:H,this};var xe,Ce=p.__private__.getFontSize=p.getFontSize=function(){return S===y?ae:ae*Fe},_e=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(H){return _e=H,this},p.__private__.getR2L=p.getR2L=function(){return _e};var oe,pe=p.__private__.setZoomMode=function(H){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(H))xe=H;else if(isNaN(H)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(H)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+H+'" is not recognized.');xe=H}else xe=parseInt(H,10)};p.__private__.getZoomMode=function(){return xe};var Se,De=p.__private__.setPageMode=function(H){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(H)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+H+'" is not recognized.');oe=H};p.__private__.getPageMode=function(){return oe};var Ve=p.__private__.setLayoutMode=function(H){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(H)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+H+'" is not recognized.');Se=H};p.__private__.getLayoutMode=function(){return Se},p.__private__.setDisplayMode=p.setDisplayMode=function(H,fe,Pe){return pe(H),Ve(fe),De(Pe),this};var de={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(H){if(Object.keys(de).indexOf(H)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return de[H]},p.__private__.getDocumentProperties=function(){return de},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(H){for(var fe in de)de.hasOwnProperty(fe)&&H[fe]&&(de[fe]=H[fe]);return this},p.__private__.setDocumentProperty=function(H,fe){if(Object.keys(de).indexOf(H)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return de[H]=fe};var Me,Fe,Ge,ut,nt,yt={},Be={},Ze=[],ot={},St={},bt={},At={},Qt=null,Mt=0,xt=[],ln=new $G(p),Dr=t.hotfixes||[],Yn={},Ao={},js=[],Lt=function H(fe,Pe,Ue,$e,Qe,lt){if(!(this instanceof H))return new H(fe,Pe,Ue,$e,Qe,lt);isNaN(fe)&&(fe=1),isNaN(Pe)&&(Pe=0),isNaN(Ue)&&(Ue=0),isNaN($e)&&($e=1),isNaN(Qe)&&(Qe=0),isNaN(lt)&&(lt=0),this._matrix=[fe,Pe,Ue,$e,Qe,lt]};Object.defineProperty(Lt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(H){this._matrix[0]=H}}),Object.defineProperty(Lt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(H){this._matrix[1]=H}}),Object.defineProperty(Lt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(H){this._matrix[2]=H}}),Object.defineProperty(Lt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(H){this._matrix[3]=H}}),Object.defineProperty(Lt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(H){this._matrix[4]=H}}),Object.defineProperty(Lt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(H){this._matrix[5]=H}}),Object.defineProperty(Lt.prototype,"a",{get:function(){return this._matrix[0]},set:function(H){this._matrix[0]=H}}),Object.defineProperty(Lt.prototype,"b",{get:function(){return this._matrix[1]},set:function(H){this._matrix[1]=H}}),Object.defineProperty(Lt.prototype,"c",{get:function(){return this._matrix[2]},set:function(H){this._matrix[2]=H}}),Object.defineProperty(Lt.prototype,"d",{get:function(){return this._matrix[3]},set:function(H){this._matrix[3]=H}}),Object.defineProperty(Lt.prototype,"e",{get:function(){return this._matrix[4]},set:function(H){this._matrix[4]=H}}),Object.defineProperty(Lt.prototype,"f",{get:function(){return this._matrix[5]},set:function(H){this._matrix[5]=H}}),Object.defineProperty(Lt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Lt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Lt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Lt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Lt.prototype.join=function(H){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(E).join(H)},Lt.prototype.multiply=function(H){var fe=H.sx*this.sx+H.shy*this.shx,Pe=H.sx*this.shy+H.shy*this.sy,Ue=H.shx*this.sx+H.sy*this.shx,$e=H.shx*this.shy+H.sy*this.sy,Qe=H.tx*this.sx+H.ty*this.shx+this.tx,lt=H.tx*this.shy+H.ty*this.sy+this.ty;return new Lt(fe,Pe,Ue,$e,Qe,lt)},Lt.prototype.decompose=function(){var H=this.sx,fe=this.shy,Pe=this.shx,Ue=this.sy,$e=this.tx,Qe=this.ty,lt=Math.sqrt(H*H+fe*fe),kt=(H/=lt)*Pe+(fe/=lt)*Ue;Pe-=H*kt,Ue-=fe*kt;var Dt=Math.sqrt(Pe*Pe+Ue*Ue);return kt/=Dt,H*(Ue/=Dt)<fe*(Pe/=Dt)&&(H=-H,fe=-fe,kt=-kt,lt=-lt),{scale:new Lt(lt,0,0,Dt,0,0),translate:new Lt(1,0,0,1,$e,Qe),rotate:new Lt(H,fe,-fe,H,0,0),skew:new Lt(1,0,kt,1,0,0)}},Lt.prototype.toString=function(H){return this.join(" ")},Lt.prototype.inversed=function(){var H=this.sx,fe=this.shy,Pe=this.shx,Ue=this.sy,$e=this.tx,Qe=this.ty,lt=1/(H*Ue-fe*Pe),kt=Ue*lt,Dt=-fe*lt,jt=-Pe*lt,Ut=H*lt;return new Lt(kt,Dt,jt,Ut,-kt*$e-jt*Qe,-Dt*$e-Ut*Qe)},Lt.prototype.applyToPoint=function(H){var fe=H.x*this.sx+H.y*this.shx+this.tx,Pe=H.x*this.shy+H.y*this.sy+this.ty;return new wc(fe,Pe)},Lt.prototype.applyToRectangle=function(H){var fe=this.applyToPoint(H),Pe=this.applyToPoint(new wc(H.x+H.w,H.y+H.h));return new xc(fe.x,fe.y,Pe.x-fe.x,Pe.y-fe.y)},Lt.prototype.clone=function(){var H=this.sx,fe=this.shy,Pe=this.shx,Ue=this.sy,$e=this.tx,Qe=this.ty;return new Lt(H,fe,Pe,Ue,$e,Qe)},p.Matrix=Lt;var $s=p.matrixMult=function(H,fe){return fe.multiply(H)},No=new Lt(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=No;var Vr=function(H,fe){if(!St[H]){var Pe=(fe instanceof kg?"Sh":"P")+(Object.keys(ot).length+1).toString(10);fe.id=Pe,St[H]=Pe,ot[Pe]=fe,ln.publish("addPattern",fe)}};p.ShadingPattern=kg,p.TilingPattern=yv,p.addShadingPattern=function(H,fe){return C("addShadingPattern()"),Vr(H,fe),this},p.beginTilingPattern=function(H){C("beginTilingPattern()"),Fd(H.boundingBox[0],H.boundingBox[1],H.boundingBox[2]-H.boundingBox[0],H.boundingBox[3]-H.boundingBox[1],H.matrix)},p.endTilingPattern=function(H,fe){C("endTilingPattern()"),fe.stream=Le[M].join(`
`),Vr(H,fe),ln.publish("endTilingPattern",fe),js.pop().restore()};var Ua,ri=p.__private__.newObject=function(){var H=Ci();return pi(H,!0),H},Ci=p.__private__.newObjectDeferred=function(){return V++,le[V]=function(){return ye},V},pi=function(H,fe){return fe=typeof fe=="boolean"&&fe,le[H]=ye,fe&&re(H+" 0 obj"),H},st=p.__private__.newAdditionalObject=function(){var H={objId:Ci(),content:""};return be.push(H),H},ft=Ci(),on=Ci(),Bt=p.__private__.decodeColorString=function(H){var fe=H.split(" ");if(fe.length!==2||fe[1]!=="g"&&fe[1]!=="G")fe.length!==5||fe[4]!=="k"&&fe[4]!=="K"||(fe=[(1-fe[0])*(1-fe[3]),(1-fe[1])*(1-fe[3]),(1-fe[2])*(1-fe[3]),"r"]);else{var Pe=parseFloat(fe[0]);fe=[Pe,Pe,Pe,"r"]}for(var Ue="#",$e=0;$e<3;$e++)Ue+=("0"+Math.floor(255*parseFloat(fe[$e])).toString(16)).slice(-2);return Ue},ai=p.__private__.encodeColorString=function(H){var fe;typeof H=="string"&&(H={ch1:H});var Pe=H.ch1,Ue=H.ch2,$e=H.ch3,Qe=H.ch4,lt=H.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Pe=="string"&&Pe.charAt(0)!=="#"){var kt=new kse(Pe);if(kt.ok)Pe=kt.toHex();else if(!/^\d*\.?\d*$/.test(Pe))throw new Error('Invalid color "'+Pe+'" passed to jsPDF.encodeColorString.')}if(typeof Pe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Pe)&&(Pe="#"+Pe[1]+Pe[1]+Pe[2]+Pe[2]+Pe[3]+Pe[3]),typeof Pe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Pe)){var Dt=parseInt(Pe.substr(1),16);Pe=Dt>>16&255,Ue=Dt>>8&255,$e=255&Dt}if(Ue===void 0||Qe===void 0&&Pe===Ue&&Ue===$e)fe=typeof Pe=="string"?Pe+" "+lt[0]:H.precision===2?k(Pe/255)+" "+lt[0]:A(Pe/255)+" "+lt[0];else if(Qe===void 0||Vn(Qe)==="object"){if(Qe&&!isNaN(Qe.a)&&Qe.a===0)return["1.","1.","1.",lt[1]].join(" ");fe=typeof Pe=="string"?[Pe,Ue,$e,lt[1]].join(" "):H.precision===2?[k(Pe/255),k(Ue/255),k($e/255),lt[1]].join(" "):[A(Pe/255),A(Ue/255),A($e/255),lt[1]].join(" ")}else fe=typeof Pe=="string"?[Pe,Ue,$e,Qe,lt[2]].join(" "):H.precision===2?[k(Pe),k(Ue),k($e),k(Qe),lt[2]].join(" "):[A(Pe),A(Ue),A($e),A(Qe),lt[2]].join(" ");return fe},Jn=p.__private__.getFilters=function(){return s},Gr=p.__private__.putStream=function(H){var fe=(H=H||{}).data||"",Pe=H.filters||Jn(),Ue=H.alreadyAppliedFilters||[],$e=H.addLength1||!1,Qe=fe.length,lt=H.objectId,kt=function(ee){return ee};if(d!==null&&lt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(kt=Ei.encryptor(lt,0));var Dt={};Pe===!0&&(Pe=["FlateEncode"]);var jt=H.additionalKeyValues||[],Ut=(Dt=Ot.API.processDataByFilters!==void 0?Ot.API.processDataByFilters(fe,Pe):{data:fe,reverseChain:[]}).reverseChain+(Array.isArray(Ue)?Ue.join(" "):Ue.toString());if(Dt.data.length!==0&&(jt.push({key:"Length",value:Dt.data.length}),$e===!0&&jt.push({key:"Length1",value:Qe})),Ut.length!=0)if(Ut.split("/").length-1==1)jt.push({key:"Filter",value:Ut});else{jt.push({key:"Filter",value:"["+Ut+"]"});for(var dn=0;dn<jt.length;dn+=1)if(jt[dn].key==="DecodeParms"){for(var mi=[],si=0;si<Dt.reverseChain.split("/").length-1;si+=1)mi.push("null");mi.push(jt[dn].value),jt[dn].value="["+mi.join(" ")+"]"}}re("<<");for(var O=0;O<jt.length;O++)re("/"+jt[O].key+" "+jt[O].value);re(">>"),Dt.data.length!==0&&(re("stream"),re(kt(Dt.data)),re("endstream"))},fu=p.__private__.putPage=function(H){var fe=H.number,Pe=H.data,Ue=H.objId,$e=H.contentsObjId;pi(Ue,!0),re("<</Type /Page"),re("/Parent "+H.rootDictionaryObjId+" 0 R"),re("/Resources "+H.resourceDictionaryObjId+" 0 R"),re("/MediaBox ["+parseFloat(E(H.mediaBox.bottomLeftX))+" "+parseFloat(E(H.mediaBox.bottomLeftY))+" "+E(H.mediaBox.topRightX)+" "+E(H.mediaBox.topRightY)+"]"),H.cropBox!==null&&re("/CropBox ["+E(H.cropBox.bottomLeftX)+" "+E(H.cropBox.bottomLeftY)+" "+E(H.cropBox.topRightX)+" "+E(H.cropBox.topRightY)+"]"),H.bleedBox!==null&&re("/BleedBox ["+E(H.bleedBox.bottomLeftX)+" "+E(H.bleedBox.bottomLeftY)+" "+E(H.bleedBox.topRightX)+" "+E(H.bleedBox.topRightY)+"]"),H.trimBox!==null&&re("/TrimBox ["+E(H.trimBox.bottomLeftX)+" "+E(H.trimBox.bottomLeftY)+" "+E(H.trimBox.topRightX)+" "+E(H.trimBox.topRightY)+"]"),H.artBox!==null&&re("/ArtBox ["+E(H.artBox.bottomLeftX)+" "+E(H.artBox.bottomLeftY)+" "+E(H.artBox.topRightX)+" "+E(H.artBox.topRightY)+"]"),typeof H.userUnit=="number"&&H.userUnit!==1&&re("/UserUnit "+H.userUnit),ln.publish("putPage",{objId:Ue,pageContext:xt[fe],pageNumber:fe,page:Pe}),re("/Contents "+$e+" 0 R"),re(">>"),re("endobj");var Qe=Pe.join(`
`);return S===_&&(Qe+=`
Q`),pi($e,!0),Gr({data:Qe,filters:Jn(),objectId:$e}),re("endobj"),Ue},Ma=p.__private__.putPages=function(){var H,fe,Pe=[];for(H=1;H<=Mt;H++)xt[H].objId=Ci(),xt[H].contentsObjId=Ci();for(H=1;H<=Mt;H++)Pe.push(fu({number:H,data:Le[H],objId:xt[H].objId,contentsObjId:xt[H].contentsObjId,mediaBox:xt[H].mediaBox,cropBox:xt[H].cropBox,bleedBox:xt[H].bleedBox,trimBox:xt[H].trimBox,artBox:xt[H].artBox,userUnit:xt[H].userUnit,rootDictionaryObjId:ft,resourceDictionaryObjId:on}));pi(ft,!0),re("<</Type /Pages");var Ue="/Kids [";for(fe=0;fe<Mt;fe++)Ue+=Pe[fe]+" 0 R ";re(Ue+"]"),re("/Count "+Mt),re(">>"),re("endobj"),ln.publish("postPutPages")},Ed=function(H){ln.publish("putFont",{font:H,out:re,newObject:ri,putStream:Gr}),H.isAlreadyPutted!==!0&&(H.objectNumber=ri(),re("<<"),re("/Type /Font"),re("/BaseFont /"+ev(H.postScriptName)),re("/Subtype /Type1"),typeof H.encoding=="string"&&re("/Encoding /"+H.encoding),re("/FirstChar 32"),re("/LastChar 255"),re(">>"),re("endobj"))},bc=function(H){H.objectNumber=ri();var fe=[];fe.push({key:"Type",value:"/XObject"}),fe.push({key:"Subtype",value:"/Form"}),fe.push({key:"BBox",value:"["+[E(H.x),E(H.y),E(H.x+H.width),E(H.y+H.height)].join(" ")+"]"}),fe.push({key:"Matrix",value:"["+H.matrix.toString()+"]"});var Pe=H.pages[1].join(`
`);Gr({data:Pe,additionalKeyValues:fe,objectId:H.objectNumber}),re("endobj")},Td=function(H,fe){fe||(fe=21);var Pe=ri(),Ue=function(lt,kt){var Dt,jt=[],Ut=1/(kt-1);for(Dt=0;Dt<1;Dt+=Ut)jt.push(Dt);if(jt.push(1),lt[0].offset!=0){var dn={offset:0,color:lt[0].color};lt.unshift(dn)}if(lt[lt.length-1].offset!=1){var mi={offset:1,color:lt[lt.length-1].color};lt.push(mi)}for(var si="",O=0,ee=0;ee<jt.length;ee++){for(Dt=jt[ee];Dt>lt[O+1].offset;)O++;var ce=lt[O].offset,Ae=(Dt-ce)/(lt[O+1].offset-ce),We=lt[O].color,Ke=lt[O+1].color;si+=Q(Math.round((1-Ae)*We[0]+Ae*Ke[0]).toString(16))+Q(Math.round((1-Ae)*We[1]+Ae*Ke[1]).toString(16))+Q(Math.round((1-Ae)*We[2]+Ae*Ke[2]).toString(16))}return si.trim()}(H.colors,fe),$e=[];$e.push({key:"FunctionType",value:"0"}),$e.push({key:"Domain",value:"[0.0 1.0]"}),$e.push({key:"Size",value:"["+fe+"]"}),$e.push({key:"BitsPerSample",value:"8"}),$e.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),$e.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Gr({data:Ue,additionalKeyValues:$e,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Pe}),re("endobj"),H.objectNumber=ri(),re("<< /ShadingType "+H.type),re("/ColorSpace /DeviceRGB");var Qe="/Coords ["+E(parseFloat(H.coords[0]))+" "+E(parseFloat(H.coords[1]))+" ";H.type===2?Qe+=E(parseFloat(H.coords[2]))+" "+E(parseFloat(H.coords[3])):Qe+=E(parseFloat(H.coords[2]))+" "+E(parseFloat(H.coords[3]))+" "+E(parseFloat(H.coords[4]))+" "+E(parseFloat(H.coords[5])),re(Qe+="]"),H.matrix&&re("/Matrix ["+H.matrix.toString()+"]"),re("/Function "+Pe+" 0 R"),re("/Extend [true true]"),re(">>"),re("endobj")},pu=function(H,fe){var Pe=Ci(),Ue=ri();fe.push({resourcesOid:Pe,objectOid:Ue}),H.objectNumber=Ue;var $e=[];$e.push({key:"Type",value:"/Pattern"}),$e.push({key:"PatternType",value:"1"}),$e.push({key:"PaintType",value:"1"}),$e.push({key:"TilingType",value:"1"}),$e.push({key:"BBox",value:"["+H.boundingBox.map(E).join(" ")+"]"}),$e.push({key:"XStep",value:E(H.xStep)}),$e.push({key:"YStep",value:E(H.yStep)}),$e.push({key:"Resources",value:Pe+" 0 R"}),H.matrix&&$e.push({key:"Matrix",value:"["+H.matrix.toString()+"]"}),Gr({data:H.stream,additionalKeyValues:$e,objectId:H.objectNumber}),re("endobj")},Dd=function(H){for(var fe in H.objectNumber=ri(),re("<<"),H)switch(fe){case"opacity":re("/ca "+k(H[fe]));break;case"stroke-opacity":re("/CA "+k(H[fe]))}re(">>"),re("endobj")},ko=function(H){pi(H.resourcesOid,!0),re("<<"),re("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var fe in re("/Font <<"),yt)yt.hasOwnProperty(fe)&&(h===!1||h===!0&&f.hasOwnProperty(fe))&&re("/"+fe+" "+yt[fe].objectNumber+" 0 R");re(">>")}(),function(){if(Object.keys(ot).length>0){for(var fe in re("/Shading <<"),ot)ot.hasOwnProperty(fe)&&ot[fe]instanceof kg&&ot[fe].objectNumber>=0&&re("/"+fe+" "+ot[fe].objectNumber+" 0 R");ln.publish("putShadingPatternDict"),re(">>")}}(),function(fe){if(Object.keys(ot).length>0){for(var Pe in re("/Pattern <<"),ot)ot.hasOwnProperty(Pe)&&ot[Pe]instanceof p.TilingPattern&&ot[Pe].objectNumber>=0&&ot[Pe].objectNumber<fe&&re("/"+Pe+" "+ot[Pe].objectNumber+" 0 R");ln.publish("putTilingPatternDict"),re(">>")}}(H.objectOid),function(){if(Object.keys(bt).length>0){var fe;for(fe in re("/ExtGState <<"),bt)bt.hasOwnProperty(fe)&&bt[fe].objectNumber>=0&&re("/"+fe+" "+bt[fe].objectNumber+" 0 R");ln.publish("putGStateDict"),re(">>")}}(),function(){for(var fe in re("/XObject <<"),Yn)Yn.hasOwnProperty(fe)&&Yn[fe].objectNumber>=0&&re("/"+fe+" "+Yn[fe].objectNumber+" 0 R");ln.publish("putXobjectDict"),re(">>")}(),re(">>"),re("endobj")},Af=function(H){Be[H.fontName]=Be[H.fontName]||{},Be[H.fontName][H.fontStyle]=H.id},uy=function(H,fe,Pe,Ue,$e){var Qe={id:"F"+(Object.keys(yt).length+1).toString(10),postScriptName:H,fontName:fe,fontStyle:Pe,encoding:Ue,isStandardFont:$e||!1,metadata:{}};return ln.publish("addFont",{font:Qe,instance:this}),yt[Qe.id]=Qe,Af(Qe),Qe.id},fs=p.__private__.pdfEscape=p.pdfEscape=function(H,fe){return function(Pe,Ue){var $e,Qe,lt,kt,Dt,jt,Ut,dn,mi;if(lt=(Ue=Ue||{}).sourceEncoding||"Unicode",Dt=Ue.outputEncoding,(Ue.autoencode||Dt)&&yt[Me].metadata&&yt[Me].metadata[lt]&&yt[Me].metadata[lt].encoding&&(kt=yt[Me].metadata[lt].encoding,!Dt&&yt[Me].encoding&&(Dt=yt[Me].encoding),!Dt&&kt.codePages&&(Dt=kt.codePages[0]),typeof Dt=="string"&&(Dt=kt[Dt]),Dt)){for(Ut=!1,jt=[],$e=0,Qe=Pe.length;$e<Qe;$e++)(dn=Dt[Pe.charCodeAt($e)])?jt.push(String.fromCharCode(dn)):jt.push(Pe[$e]),jt[$e].charCodeAt(0)>>8&&(Ut=!0);Pe=jt.join("")}for($e=Pe.length;Ut===void 0&&$e!==0;)Pe.charCodeAt($e-1)>>8&&(Ut=!0),$e--;if(!Ut)return Pe;for(jt=Ue.noBOM?[]:[254,255],$e=0,Qe=Pe.length;$e<Qe;$e++){if((mi=(dn=Pe.charCodeAt($e))>>8)>>8)throw new Error("Character at position "+$e+" of string '"+Pe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");jt.push(mi),jt.push(dn-(mi<<8))}return String.fromCharCode.apply(void 0,jt)}(H,fe).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Nf=p.__private__.beginPage=function(H){Le[++Mt]=[],xt[Mt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(H[0]),topRightY:Number(H[1])}},kf(Mt),X(Le[M])},Qm=function(H,fe){var Pe,Ue,$e;switch(n=fe||n,typeof H=="string"&&(Pe=g(H.toLowerCase()),Array.isArray(Pe)&&(Ue=Pe[0],$e=Pe[1])),Array.isArray(H)&&(Ue=H[0]*Fe,$e=H[1]*Fe),isNaN(Ue)&&(Ue=r[0],$e=r[1]),(Ue>14400||$e>14400)&&(di.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ue=Math.min(14400,Ue),$e=Math.min(14400,$e)),r=[Ue,$e],n.substr(0,1)){case"l":$e>Ue&&(r=[$e,Ue]);break;case"p":Ue>$e&&(r=[$e,Ue])}Nf(r),Wt(ig),re(Zn),yu!==0&&re(yu+" J"),Ws!==0&&re(Ws+" j"),ln.publish("addPage",{pageNumber:Mt})},Pd=function(H){H>0&&H<=Mt&&(Le.splice(H,1),xt.splice(H,1),Mt--,M>Mt&&(M=Mt),this.setPage(M))},kf=function(H){H>0&&H<=Mt&&(M=H)},eg=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Le.length-1},tg=function(H,fe,Pe){var Ue,$e=void 0;return Pe=Pe||{},H=H!==void 0?H:yt[Me].fontName,fe=fe!==void 0?fe:yt[Me].fontStyle,Ue=H.toLowerCase(),Be[Ue]!==void 0&&Be[Ue][fe]!==void 0?$e=Be[Ue][fe]:Be[H]!==void 0&&Be[H][fe]!==void 0?$e=Be[H][fe]:Pe.disableWarning===!1&&di.warn("Unable to look up font label for font '"+H+"', '"+fe+"'. Refer to getFontList() for available fonts."),$e||Pe.noFallback||($e=Be.times[fe])==null&&($e=Be.times.normal),$e},Co=p.__private__.putInfo=function(){var H=ri(),fe=function(Ue){return Ue};for(var Pe in d!==null&&(fe=Ei.encryptor(H,0)),re("<<"),re("/Producer ("+fs(fe("jsPDF "+Ot.version))+")"),de)de.hasOwnProperty(Pe)&&de[Pe]&&re("/"+Pe.substr(0,1).toUpperCase()+Pe.substr(1)+" ("+fs(fe(de[Pe]))+")");re("/CreationDate ("+fs(fe(z))+")"),re(">>"),re("endobj")},Cf=p.__private__.putCatalog=function(H){var fe=(H=H||{}).rootDictionaryObjId||ft;switch(ri(),re("<<"),re("/Type /Catalog"),re("/Pages "+fe+" 0 R"),xe||(xe="fullwidth"),xe){case"fullwidth":re("/OpenAction [3 0 R /FitH null]");break;case"fullheight":re("/OpenAction [3 0 R /FitV null]");break;case"fullpage":re("/OpenAction [3 0 R /Fit]");break;case"original":re("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Pe=""+xe;Pe.substr(Pe.length-1)==="%"&&(xe=parseInt(xe)/100),typeof xe=="number"&&re("/OpenAction [3 0 R /XYZ null null "+k(xe)+"]")}switch(Se||(Se="continuous"),Se){case"continuous":re("/PageLayout /OneColumn");break;case"single":re("/PageLayout /SinglePage");break;case"two":case"twoleft":re("/PageLayout /TwoColumnLeft");break;case"tworight":re("/PageLayout /TwoColumnRight")}oe&&re("/PageMode /"+oe),ln.publish("putCatalog"),re(">>"),re("endobj")},Sl=p.__private__.putTrailer=function(){re("trailer"),re("<<"),re("/Size "+(V+1)),re("/Root "+V+" 0 R"),re("/Info "+(V-1)+" 0 R"),d!==null&&re("/Encrypt "+Ei.oid+" 0 R"),re("/ID [ <"+j+"> <"+j+"> ]"),re(">>")},Dn=p.__private__.putHeader=function(){re("%PDF-"+w),re("%")},mu=p.__private__.putXRef=function(){var H="0000000000";re("xref"),re("0 "+(V+1)),re("0000000000 65535 f ");for(var fe=1;fe<=V;fe++)typeof le[fe]=="function"?re((H+le[fe]()).slice(-10)+" 00000 n "):le[fe]!==void 0?re((H+le[fe]).slice(-10)+" 00000 n "):re("0000000000 00000 n ")},Ba=p.__private__.buildDocument=function(){var H;V=0,ye=0,ge=[],le=[],be=[],ft=Ci(),on=Ci(),X(ge),ln.publish("buildDocument"),Dn(),Ma(),function(){ln.publish("putAdditionalObjects");for(var Pe=0;Pe<be.length;Pe++){var Ue=be[Pe];pi(Ue.objId,!0),re(Ue.content),re("endobj")}ln.publish("postPutAdditionalObjects")}(),H=[],function(){for(var Pe in yt)yt.hasOwnProperty(Pe)&&(h===!1||h===!0&&f.hasOwnProperty(Pe))&&Ed(yt[Pe])}(),function(){var Pe;for(Pe in bt)bt.hasOwnProperty(Pe)&&Dd(bt[Pe])}(),function(){for(var Pe in Yn)Yn.hasOwnProperty(Pe)&&bc(Yn[Pe])}(),function(Pe){var Ue;for(Ue in ot)ot.hasOwnProperty(Ue)&&(ot[Ue]instanceof kg?Td(ot[Ue]):ot[Ue]instanceof yv&&pu(ot[Ue],Pe))}(H),ln.publish("putResources"),H.forEach(ko),ko({resourcesOid:on,objectOid:Number.MAX_SAFE_INTEGER}),ln.publish("postPutResources"),d!==null&&(Ei.oid=ri(),re("<<"),re("/Filter /Standard"),re("/V "+Ei.v),re("/R "+Ei.r),re("/U <"+Ei.toHexString(Ei.U)+">"),re("/O <"+Ei.toHexString(Ei.O)+">"),re("/P "+Ei.P),re(">>"),re("endobj")),Co(),Cf();var fe=ye;return mu(),Sl(),re("startxref"),re(""+fe),re("%%EOF"),X(Le[M]),ge.join(`
`)},gu=p.__private__.getBlob=function(H){return new Blob([ne(H)],{type:"application/pdf"})},On=p.output=p.__private__.output=(Ua=function(H,fe){switch(typeof(fe=fe||{})=="string"?fe={filename:fe}:fe.filename=fe.filename||"generated.pdf",H){case void 0:return Ba();case"save":p.save(fe.filename);break;case"arraybuffer":return ne(Ba());case"blob":return gu(Ba());case"bloburi":case"bloburl":if(qt.URL!==void 0&&typeof qt.URL.createObjectURL=="function")return qt.URL&&qt.URL.createObjectURL(gu(Ba()))||void 0;di.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Pe="",Ue=Ba();try{Pe=BG(Ue)}catch{Pe=BG(unescape(encodeURIComponent(Ue)))}return"data:application/pdf;filename="+fe.filename+";base64,"+Pe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(qt)==="[object Window]"){var $e="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Qe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';fe.pdfObjectUrl&&($e=fe.pdfObjectUrl,Qe="");var lt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+$e+'"'+Qe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(fe)+");<\/script></body></html>",kt=qt.open();return kt!==null&&kt.document.write(lt),kt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(qt)==="[object Window]"){var Dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(fe.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+fe.filename+'" width="500px" height="400px" /></body></html>',jt=qt.open();if(jt!==null){jt.document.write(Dt);var Ut=this;jt.document.documentElement.querySelector("#pdfViewer").onload=function(){jt.document.title=fe.filename,jt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ut.output("bloburl"))}}return jt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(qt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var dn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",fe)+'"></iframe></body></html>',mi=qt.open();if(mi!==null&&(mi.document.write(dn),mi.document.title=fe.filename),mi||typeof safari>"u")return mi;break;case"datauri":case"dataurl":return qt.document.location.href=this.output("datauristring",fe);default:return null}},Ua.foo=function(){try{return Ua.apply(this,arguments)}catch(Pe){var H=Pe.stack||"";~H.indexOf(" at ")&&(H=H.split(" at ")[1]);var fe="Error in function "+H.split(`
`)[0].split("<")[0]+": "+Pe.message;if(!qt.console)throw new Error(fe);qt.console.error(fe,Pe),qt.alert&&alert(fe)}},Ua.foo.bar=Ua,Ua.foo),pa=function(H){return Array.isArray(Dr)===!0&&Dr.indexOf(H)>-1};switch(i){case"pt":Fe=1;break;case"mm":Fe=72/25.4;break;case"cm":Fe=72/2.54;break;case"in":Fe=72;break;case"px":Fe=pa("px_scaling")==1?.75:96/72;break;case"pc":case"em":Fe=12;break;case"ex":Fe=6;break;default:if(typeof i!="number")throw new Error("Invalid unit: "+i);Fe=i}var Ei=null;B(),$();var ps=p.__private__.getPageInfo=p.getPageInfo=function(H){if(isNaN(H)||H%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:xt[H].objId,pageNumber:H,pageContext:xt[H]}},dy=p.__private__.getPageInfoByObjId=function(H){if(isNaN(H)||H%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var fe in xt)if(xt[fe].objId===H)break;return ps(fe)},hy=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:xt[M].objId,pageNumber:M,pageContext:xt[M]}};p.addPage=function(){return Qm.apply(this,arguments),this},p.setPage=function(){return kf.apply(this,arguments),X.call(this,Le[M]),this},p.insertPage=function(H){return this.addPage(),this.movePage(M,H),this},p.movePage=function(H,fe){var Pe,Ue;if(H>fe){Pe=Le[H],Ue=xt[H];for(var $e=H;$e>fe;$e--)Le[$e]=Le[$e-1],xt[$e]=xt[$e-1];Le[fe]=Pe,xt[fe]=Ue,this.setPage(fe)}else if(H<fe){Pe=Le[H],Ue=xt[H];for(var Qe=H;Qe<fe;Qe++)Le[Qe]=Le[Qe+1],xt[Qe]=xt[Qe+1];Le[fe]=Pe,xt[fe]=Ue,this.setPage(fe)}return this},p.deletePage=function(){return Pd.apply(this,arguments),this},p.__private__.text=p.text=function(H,fe,Pe,Ue,$e){var Qe,lt,kt,Dt,jt,Ut,dn,mi,si,O=(Ue=Ue||{}).scope||this;if(typeof H=="number"&&typeof fe=="number"&&(typeof Pe=="string"||Array.isArray(Pe))){var ee=Pe;Pe=fe,fe=H,H=ee}if(arguments[3]instanceof Lt==0?(kt=arguments[4],Dt=arguments[5],Vn(dn=arguments[3])==="object"&&dn!==null||(typeof kt=="string"&&(Dt=kt,kt=null),typeof dn=="string"&&(Dt=dn,dn=null),typeof dn=="number"&&(kt=dn,dn=null),Ue={flags:dn,angle:kt,align:Dt})):(C("The transform parameter of text() with a Matrix value"),si=$e),isNaN(fe)||isNaN(Pe)||H==null)throw new Error("Invalid arguments passed to jsPDF.text");if(H.length===0)return O;var ce,Ae="",We=typeof Ue.lineHeightFactor=="number"?Ue.lineHeightFactor:Id,Ke=O.internal.scaleFactor;function gt(Un){return Un=Un.split("	").join(Array(Ue.TabLen||9).join(" ")),fs(Un,dn)}function Ht(Un){for(var oi,lr=Un.concat(),Pr=[],zd=lr.length;zd--;)typeof(oi=lr.shift())=="string"?Pr.push(oi):Array.isArray(Un)&&(oi.length===1||oi[1]===void 0&&oi[2]===void 0)?Pr.push(oi[0]):Pr.push([oi[0],oi[1],oi[2]]);return Pr}function gi(Un,oi){var lr;if(typeof Un=="string")lr=oi(Un)[0];else if(Array.isArray(Un)){for(var Pr,zd,ex=Un.concat(),Ny=[],l3=ex.length;l3--;)typeof(Pr=ex.shift())=="string"?Ny.push(oi(Pr)[0]):Array.isArray(Pr)&&typeof Pr[0]=="string"&&(zd=oi(Pr[0],Pr[1],Pr[2]),Ny.push([zd[0],zd[1],zd[2]]));lr=Ny}return lr}var hn=!1,yi=!0;if(typeof H=="string")hn=!0;else if(Array.isArray(H)){var Kr=H.concat();lt=[];for(var za,vi=Kr.length;vi--;)(typeof(za=Kr.shift())!="string"||Array.isArray(za)&&typeof za[0]!="string")&&(yi=!1);hn=yi}if(hn===!1)throw new Error('Type of text must be string or Array. "'+H+'" is not recognized.');typeof H=="string"&&(H=H.match(/[\r?\n]/)?H.split(/\r\n|\r|\n/g):[H]);var ja=ae/O.internal.scaleFactor,Dl=ja*(We-1);switch(Ue.baseline){case"bottom":Pe-=Dl;break;case"top":Pe+=ja-Dl;break;case"hanging":Pe+=ja-2*Dl;break;case"middle":Pe+=ja/2-Dl}if((Ut=Ue.maxWidth||0)>0&&(typeof H=="string"?H=O.splitTextToSize(H,Ut):Object.prototype.toString.call(H)==="[object Array]"&&(H=H.reduce(function(Un,oi){return Un.concat(O.splitTextToSize(oi,Ut))},[]))),Qe={text:H,x:fe,y:Pe,options:Ue,mutex:{pdfEscape:fs,activeFontKey:Me,fonts:yt,activeFontSize:ae}},ln.publish("preProcessText",Qe),H=Qe.text,kt=(Ue=Qe.options).angle,si instanceof Lt==0&&kt&&typeof kt=="number"){kt*=Math.PI/180,Ue.rotationDirection===0&&(kt=-kt),S===_&&(kt=-kt);var Ud=Math.cos(kt),Vw=Math.sin(kt);si=new Lt(Ud,Vw,-Vw,Ud,0,0)}else kt&&kt instanceof Lt&&(si=kt);S!==_||si||(si=No),(jt=Ue.charSpace||Cl)!==void 0&&(Ae+=E(I(jt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(mi=Ue.horizontalScale)!==void 0&&(Ae+=E(100*mi)+` Tz
`),Ue.lang;var bs=-1,Md=Ue.renderingMode!==void 0?Ue.renderingMode:Ue.stroke,Sy=O.internal.getCurrentPageInfo().pageContext;switch(Md){case 0:case!1:case"fill":bs=0;break;case 1:case!0:case"stroke":bs=1;break;case 2:case"fillThenStroke":bs=2;break;case 3:case"invisible":bs=3;break;case 4:case"fillAndAddForClipping":bs=4;break;case 5:case"strokeAndAddPathForClipping":bs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":bs=6;break;case 7:case"addToPathForClipping":bs=7}var s3=Sy.usedRenderingMode!==void 0?Sy.usedRenderingMode:-1;bs!==-1?Ae+=bs+` Tr
`:s3!==-1&&(Ae+=`0 Tr
`),bs!==-1&&(Sy.usedRenderingMode=bs),Dt=Ue.align||"left";var Pl,cg=ae*We,Gw=O.internal.pageSize.getWidth(),Xw=yt[Me];jt=Ue.charSpace||Cl,Ut=Ue.maxWidth||0,dn=Object.assign({autoencode:!0,noBOM:!0},Ue.flags);var If=[],ug=function(Un){return O.getStringUnitWidth(Un,{font:Xw,charSpace:jt,fontSize:ae,doKerning:!1})*ae/Ke};if(Object.prototype.toString.call(H)==="[object Array]"){var Eo;lt=Ht(H),Dt!=="left"&&(Pl=lt.map(ug));var To,Rf=0;if(Dt==="right"){fe-=Pl[0],H=[],vi=lt.length;for(var Bd=0;Bd<vi;Bd++)Bd===0?(To=gs(fe),Eo=ys(Pe)):(To=I(Rf-Pl[Bd]),Eo=-cg),H.push([lt[Bd],To,Eo]),Rf=Pl[Bd]}else if(Dt==="center"){fe-=Pl[0]/2,H=[],vi=lt.length;for(var Lf=0;Lf<vi;Lf++)Lf===0?(To=gs(fe),Eo=ys(Pe)):(To=I((Rf-Pl[Lf])/2),Eo=-cg),H.push([lt[Lf],To,Eo]),Rf=Pl[Lf]}else if(Dt==="left"){H=[],vi=lt.length;for(var Kw=0;Kw<vi;Kw++)H.push(lt[Kw])}else if(Dt==="justify"&&Xw.encoding==="Identity-H"){H=[],vi=lt.length,Ut=Ut!==0?Ut:Gw;for(var Ay=0,or=0;or<vi;or++)if(Eo=or===0?ys(Pe):-cg,To=or===0?gs(fe):Ay,or<vi-1){var o3=I((Ut-Pl[or])/(lt[or].split(" ").length-1)),bu=lt[or].split(" ");H.push([bu[0]+" ",To,Eo]),Ay=0;for(var wu=1;wu<bu.length;wu++){var Yw=(ug(bu[wu-1]+" "+bu[wu])-ug(bu[wu]))*Ke+o3;wu==bu.length-1?H.push([bu[wu],Yw,0]):H.push([bu[wu]+" ",Yw,0]),Ay-=Yw}}else H.push([lt[or],To,Eo]);H.push(["",Ay,0])}else{if(Dt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(H=[],vi=lt.length,Ut=Ut!==0?Ut:Gw,or=0;or<vi;or++){Eo=or===0?ys(Pe):-cg,To=or===0?gs(fe):0;var Jw=lt[or].split(" ").length-1,Zw=Jw>0?(Ut-Pl[or])/Jw:0;or<vi-1?If.push(E(I(Zw))):If.push(0),H.push([lt[or],To,Eo])}}}(typeof Ue.R2L=="boolean"?Ue.R2L:_e)===!0&&(H=gi(H,function(Un,oi,lr){return[Un.split("").reverse().join(""),oi,lr]})),Qe={text:H,x:fe,y:Pe,options:Ue,mutex:{pdfEscape:fs,activeFontKey:Me,fonts:yt,activeFontSize:ae}},ln.publish("postProcessText",Qe),H=Qe.text,ce=Qe.mutex.isHex||!1;var Qw=yt[Me].encoding;Qw!=="WinAnsiEncoding"&&Qw!=="StandardEncoding"||(H=gi(H,function(Un,oi,lr){return[gt(Un),oi,lr]})),lt=Ht(H),H=[];for(var Ff,Of,Uf,dg=Array.isArray(lt[0])?1:0,Mf="",hg=function(Un,oi,lr){var Pr="";return lr instanceof Lt?(lr=typeof Ue.angle=="number"?$s(lr,new Lt(1,0,0,1,Un,oi)):$s(new Lt(1,0,0,1,Un,oi),lr),S===_&&(lr=$s(new Lt(1,0,0,-1,0,0),lr)),Pr=lr.join(" ")+` Tm
`):Pr=E(Un)+" "+E(oi)+` Td
`,Pr},Il=0;Il<lt.length;Il++){switch(Mf="",dg){case 1:Uf=(ce?"<":"(")+lt[Il][0]+(ce?">":")"),Ff=parseFloat(lt[Il][1]),Of=parseFloat(lt[Il][2]);break;case 0:Uf=(ce?"<":"(")+lt[Il]+(ce?">":")"),Ff=gs(fe),Of=ys(Pe)}If!==void 0&&If[Il]!==void 0&&(Mf=If[Il]+` Tw
`),Il===0?H.push(Mf+hg(Ff,Of,si)+Uf):dg===0?H.push(Mf+Uf):dg===1&&H.push(Mf+hg(Ff,Of,si)+Uf)}H=dg===0?H.join(` Tj
T* `):H.join(` Tj
`),H+=` Tj
`;var xu=`BT
/`;return xu+=Me+" "+ae+` Tf
`,xu+=E(ae*We)+` TL
`,xu+=Rd+`
`,xu+=Ae,xu+=H,re(xu+="ET"),f[Me]=!0,O};var qw=p.__private__.clip=p.clip=function(H){return re(H==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return qw("evenodd")},p.__private__.discardPath=p.discardPath=function(){return re("n"),this};var Al=p.__private__.isValidStyle=function(H){var fe=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(H)!==-1&&(fe=!0),fe};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(H){return Al(H)&&(u=H),this};var fy=p.__private__.getStyle=p.getStyle=function(H){var fe=u;switch(H){case"D":case"S":fe="S";break;case"F":fe="f";break;case"FD":case"DF":fe="B";break;case"f":case"f*":case"B":case"B*":fe=H}return fe},py=p.close=function(){return re("h"),this};p.stroke=function(){return re("S"),this},p.fill=function(H){return Nl("f",H),this},p.fillEvenOdd=function(H){return Nl("f*",H),this},p.fillStroke=function(H){return Nl("B",H),this},p.fillStrokeEvenOdd=function(H){return Nl("B*",H),this};var Nl=function(H,fe){Vn(fe)==="object"?gy(fe,H):re(H)},ms=function(H){H===null||S===_&&H===void 0||(H=fy(H),re(H))};function my(H,fe,Pe,Ue,$e){var Qe=new yv(fe||this.boundingBox,Pe||this.xStep,Ue||this.yStep,this.gState,$e||this.matrix);Qe.stream=this.stream;var lt=H+"$$"+this.cloneIndex+++"$$";return Vr(lt,Qe),Qe}var gy=function(H,fe){var Pe=St[H.key],Ue=ot[Pe];if(Ue instanceof kg)re("q"),re(yy(fe)),Ue.gState&&p.setGState(Ue.gState),re(H.matrix.toString()+" cm"),re("/"+Pe+" sh"),re("Q");else if(Ue instanceof yv){var $e=new Lt(1,0,0,-1,0,vu());H.matrix&&($e=$e.multiply(H.matrix||No),Pe=my.call(Ue,H.key,H.boundingBox,H.xStep,H.yStep,$e).id),re("q"),re("/Pattern cs"),re("/"+Pe+" scn"),Ue.gState&&p.setGState(Ue.gState),re(fe),re("Q")}},yy=function(H){switch(H){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Ef=p.moveTo=function(H,fe){return re(E(I(H))+" "+E(T(fe))+" m"),this},ng=p.lineTo=function(H,fe){return re(E(I(H))+" "+E(T(fe))+" l"),this},Xr=p.curveTo=function(H,fe,Pe,Ue,$e,Qe){return re([E(I(H)),E(T(fe)),E(I(Pe)),E(T(Ue)),E(I($e)),E(T(Qe)),"c"].join(" ")),this};p.__private__.line=p.line=function(H,fe,Pe,Ue,$e){if(isNaN(H)||isNaN(fe)||isNaN(Pe)||isNaN(Ue)||!Al($e))throw new Error("Invalid arguments passed to jsPDF.line");return S===y?this.lines([[Pe-H,Ue-fe]],H,fe,[1,1],$e||"S"):this.lines([[Pe-H,Ue-fe]],H,fe,[1,1]).stroke()},p.__private__.lines=p.lines=function(H,fe,Pe,Ue,$e,Qe){var lt,kt,Dt,jt,Ut,dn,mi,si,O,ee,ce,Ae;if(typeof H=="number"&&(Ae=Pe,Pe=fe,fe=H,H=Ae),Ue=Ue||[1,1],Qe=Qe||!1,isNaN(fe)||isNaN(Pe)||!Array.isArray(H)||!Array.isArray(Ue)||!Al($e)||typeof Qe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ef(fe,Pe),lt=Ue[0],kt=Ue[1],jt=H.length,ee=fe,ce=Pe,Dt=0;Dt<jt;Dt++)(Ut=H[Dt]).length===2?(ee=Ut[0]*lt+ee,ce=Ut[1]*kt+ce,ng(ee,ce)):(dn=Ut[0]*lt+ee,mi=Ut[1]*kt+ce,si=Ut[2]*lt+ee,O=Ut[3]*kt+ce,ee=Ut[4]*lt+ee,ce=Ut[5]*kt+ce,Xr(dn,mi,si,O,ee,ce));return Qe&&py(),ms($e),this},p.path=function(H){for(var fe=0;fe<H.length;fe++){var Pe=H[fe],Ue=Pe.c;switch(Pe.op){case"m":Ef(Ue[0],Ue[1]);break;case"l":ng(Ue[0],Ue[1]);break;case"c":Xr.apply(this,Ue);break;case"h":py()}}return this},p.__private__.rect=p.rect=function(H,fe,Pe,Ue,$e){if(isNaN(H)||isNaN(fe)||isNaN(Pe)||isNaN(Ue)||!Al($e))throw new Error("Invalid arguments passed to jsPDF.rect");return S===y&&(Ue=-Ue),re([E(I(H)),E(T(fe)),E(I(Pe)),E(I(Ue)),"re"].join(" ")),ms($e),this},p.__private__.triangle=p.triangle=function(H,fe,Pe,Ue,$e,Qe,lt){if(isNaN(H)||isNaN(fe)||isNaN(Pe)||isNaN(Ue)||isNaN($e)||isNaN(Qe)||!Al(lt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Pe-H,Ue-fe],[$e-Pe,Qe-Ue],[H-$e,fe-Qe]],H,fe,[1,1],lt,!0),this},p.__private__.roundedRect=p.roundedRect=function(H,fe,Pe,Ue,$e,Qe,lt){if(isNaN(H)||isNaN(fe)||isNaN(Pe)||isNaN(Ue)||isNaN($e)||isNaN(Qe)||!Al(lt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var kt=4/3*(Math.SQRT2-1);return $e=Math.min($e,.5*Pe),Qe=Math.min(Qe,.5*Ue),this.lines([[Pe-2*$e,0],[$e*kt,0,$e,Qe-Qe*kt,$e,Qe],[0,Ue-2*Qe],[0,Qe*kt,-$e*kt,Qe,-$e,Qe],[2*$e-Pe,0],[-$e*kt,0,-$e,-Qe*kt,-$e,-Qe],[0,2*Qe-Ue],[0,-Qe*kt,$e*kt,-Qe,$e,-Qe]],H+$e,fe,[1,1],lt,!0),this},p.__private__.ellipse=p.ellipse=function(H,fe,Pe,Ue,$e){if(isNaN(H)||isNaN(fe)||isNaN(Pe)||isNaN(Ue)||!Al($e))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Qe=4/3*(Math.SQRT2-1)*Pe,lt=4/3*(Math.SQRT2-1)*Ue;return Ef(H+Pe,fe),Xr(H+Pe,fe-lt,H+Qe,fe-Ue,H,fe-Ue),Xr(H-Qe,fe-Ue,H-Pe,fe-lt,H-Pe,fe),Xr(H-Pe,fe+lt,H-Qe,fe+Ue,H,fe+Ue),Xr(H+Qe,fe+Ue,H+Pe,fe+lt,H+Pe,fe),ms($e),this},p.__private__.circle=p.circle=function(H,fe,Pe,Ue){if(isNaN(H)||isNaN(fe)||isNaN(Pe)||!Al(Ue))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(H,fe,Pe,Pe,Ue)},p.setFont=function(H,fe,Pe){return Pe&&(fe=D(fe,Pe)),Me=tg(H,fe,{disableWarning:!1}),this};var Hw=p.__private__.getFont=p.getFont=function(){return yt[tg.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var H,fe,Pe={};for(H in Be)if(Be.hasOwnProperty(H))for(fe in Pe[H]=[],Be[H])Be[H].hasOwnProperty(fe)&&Pe[H].push(fe);return Pe},p.addFont=function(H,fe,Pe,Ue,$e){var Qe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Qe.indexOf(arguments[3])!==-1?$e=arguments[3]:arguments[3]&&Qe.indexOf(arguments[3])==-1&&(Pe=D(Pe,Ue)),uy.call(this,H,fe,Pe,$e=$e||"Identity-H")};var Id,ig=t.lineWidth||.200025,kl=p.__private__.getLineWidth=p.getLineWidth=function(){return ig},Wt=p.__private__.setLineWidth=p.setLineWidth=function(H){return ig=H,re(E(I(H))+" w"),this};p.__private__.setLineDash=Ot.API.setLineDash=Ot.API.setLineDashPattern=function(H,fe){if(H=H||[],fe=fe||0,isNaN(fe)||!Array.isArray(H))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return H=H.map(function(Pe){return E(I(Pe))}).join(" "),fe=E(I(fe)),re("["+H+"] "+fe+" d"),this};var rg=p.__private__.getLineHeight=p.getLineHeight=function(){return ae*Id};p.__private__.getLineHeight=p.getLineHeight=function(){return ae*Id};var Tf=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(H){return typeof(H=H||1.15)=="number"&&(Id=H),this},vy=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Id};Tf(t.lineHeight);var gs=p.__private__.getHorizontalCoordinate=function(H){return I(H)},ys=p.__private__.getVerticalCoordinate=function(H){return S===_?H:xt[M].mediaBox.topRightY-xt[M].mediaBox.bottomLeftY-I(H)},by=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(H){return E(gs(H))},ag=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(H){return E(ys(H))},Zn=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Bt(Zn)},p.__private__.setStrokeColor=p.setDrawColor=function(H,fe,Pe,Ue){return Zn=ai({ch1:H,ch2:fe,ch3:Pe,ch4:Ue,pdfColorType:"draw",precision:2}),re(Zn),this};var sg=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Bt(sg)},p.__private__.setFillColor=p.setFillColor=function(H,fe,Pe,Ue){return sg=ai({ch1:H,ch2:fe,ch3:Pe,ch4:Ue,pdfColorType:"fill",precision:2}),re(sg),this};var Rd=t.textColor||"0 g",wy=p.__private__.getTextColor=p.getTextColor=function(){return Bt(Rd)};p.__private__.setTextColor=p.setTextColor=function(H,fe,Pe,Ue){return Rd=ai({ch1:H,ch2:fe,ch3:Pe,ch4:Ue,pdfColorType:"text",precision:3}),this};var Cl=t.charSpace,xy=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Cl||0)};p.__private__.setCharSpace=p.setCharSpace=function(H){if(isNaN(H))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Cl=H,this};var yu=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(H){var fe=p.CapJoinStyles[H];if(fe===void 0)throw new Error("Line cap style of '"+H+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return yu=fe,re(fe+" J"),this};var Ws=0;p.__private__.setLineJoin=p.setLineJoin=function(H){var fe=p.CapJoinStyles[H];if(fe===void 0)throw new Error("Line join style of '"+H+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ws=fe,re(fe+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(H){if(H=H||0,isNaN(H))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return re(E(I(H))+" M"),this},p.GState=TE,p.setGState=function(H){(H=typeof H=="string"?bt[At[H]]:og(null,H)).equals(Qt)||(re("/"+H.id+" gs"),Qt=H)};var og=function(H,fe){if(!H||!At[H]){var Pe=!1;for(var Ue in bt)if(bt.hasOwnProperty(Ue)&&bt[Ue].equals(fe)){Pe=!0;break}if(Pe)fe=bt[Ue];else{var $e="GS"+(Object.keys(bt).length+1).toString(10);bt[$e]=fe,fe.id=$e}return H&&(At[H]=fe.id),ln.publish("addGState",fe),fe}};p.addGState=function(H,fe){return og(H,fe),this},p.saveGraphicsState=function(){return re("q"),Ze.push({key:Me,size:ae,color:Rd}),this},p.restoreGraphicsState=function(){re("Q");var H=Ze.pop();return Me=H.key,ae=H.size,Rd=H.color,Qt=null,this},p.setCurrentTransformationMatrix=function(H){return re(H.toString()+" cm"),this},p.comment=function(H){return re("#"+H),this};var wc=function(H,fe){var Pe=H||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Pe},set:function(Qe){isNaN(Qe)||(Pe=parseFloat(Qe))}});var Ue=fe||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ue},set:function(Qe){isNaN(Qe)||(Ue=parseFloat(Qe))}});var $e="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return $e},set:function(Qe){$e=Qe.toString()}}),this},xc=function(H,fe,Pe,Ue){wc.call(this,H,fe),this.type="rect";var $e=Pe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return $e},set:function(lt){isNaN(lt)||($e=parseFloat(lt))}});var Qe=Ue||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Qe},set:function(lt){isNaN(lt)||(Qe=parseFloat(lt))}}),this},Ld=function(){this.page=Mt,this.currentPage=M,this.pages=Le.slice(0),this.pagesContext=xt.slice(0),this.x=Ge,this.y=ut,this.matrix=nt,this.width=Df(M),this.height=_y(M),this.outputDestination=ke,this.id="",this.objectNumber=-1};Ld.prototype.restore=function(){Mt=this.page,M=this.currentPage,xt=this.pagesContext,Le=this.pages,Ge=this.x,ut=this.y,nt=this.matrix,Od(M,this.width),Tl(M,this.height),ke=this.outputDestination};var Fd=function(H,fe,Pe,Ue,$e){js.push(new Ld),Mt=M=0,Le=[],Ge=H,ut=fe,nt=$e,Nf([Pe,Ue])};for(var El in p.beginFormObject=function(H,fe,Pe,Ue,$e){return Fd(H,fe,Pe,Ue,$e),this},p.endFormObject=function(H){return function(fe){if(Ao[fe])js.pop().restore();else{var Pe=new Ld,Ue="Xo"+(Object.keys(Yn).length+1).toString(10);Pe.id=Ue,Ao[fe]=Ue,Yn[Ue]=Pe,ln.publish("addFormObject",Pe),js.pop().restore()}}(H),this},p.doFormObject=function(H,fe){var Pe=Yn[Ao[H]];return re("q"),re(fe.toString()+" cm"),re("/"+Pe.id+" Do"),re("Q"),this},p.getFormObject=function(H){var fe=Yn[Ao[H]];return{x:fe.x,y:fe.y,width:fe.width,height:fe.height,matrix:fe.matrix}},p.save=function(H,fe){return H=H||"generated.pdf",(fe=fe||{}).returnPromise=fe.returnPromise||!1,fe.returnPromise===!1?(Ag(gu(Ba()),H),typeof Ag.unload=="function"&&qt.setTimeout&&setTimeout(Ag.unload,911),this):new Promise(function(Pe,Ue){try{var $e=Ag(gu(Ba()),H);typeof Ag.unload=="function"&&qt.setTimeout&&setTimeout(Ag.unload,911),Pe($e)}catch(Qe){Ue(Qe.message)}})},Ot.API)Ot.API.hasOwnProperty(El)&&(El==="events"&&Ot.API.events.length?function(H,fe){var Pe,Ue,$e;for($e=fe.length-1;$e!==-1;$e--)Pe=fe[$e][0],Ue=fe[$e][1],H.subscribe.apply(H,[Pe].concat(typeof Ue=="function"?[Ue]:Ue))}(ln,Ot.API.events):p[El]=Ot.API[El]);function Df(H){return xt[H].mediaBox.topRightX-xt[H].mediaBox.bottomLeftX}function Od(H,fe){xt[H].mediaBox.topRightX=fe+xt[H].mediaBox.bottomLeftX}function _y(H){return xt[H].mediaBox.topRightY-xt[H].mediaBox.bottomLeftY}function Tl(H,fe){xt[H].mediaBox.topRightY=fe+xt[H].mediaBox.bottomLeftY}var vs=p.getPageWidth=function(H){return Df(H=H||M)/Fe},lg=p.setPageWidth=function(H,fe){Od(H,fe*Fe)},vu=p.getPageHeight=function(H){return _y(H=H||M)/Fe},Pf=p.setPageHeight=function(H,fe){Tl(H,fe*Fe)};return p.internal={pdfEscape:fs,getStyle:fy,getFont:Hw,getFontSize:Ce,getCharSpace:xy,getTextColor:wy,getLineHeight:rg,getLineHeightFactor:vy,getLineWidth:kl,write:Ee,getHorizontalCoordinate:gs,getVerticalCoordinate:ys,getCoordinateString:by,getVerticalCoordinateString:ag,collections:{},newObject:ri,newAdditionalObject:st,newObjectDeferred:Ci,newObjectDeferredBegin:pi,getFilters:Jn,putStream:Gr,events:ln,scaleFactor:Fe,pageSize:{getWidth:function(){return vs(M)},setWidth:function(H){lg(M,H)},getHeight:function(){return vu(M)},setHeight:function(H){Pf(M,H)}},encryptionOptions:d,encryption:Ei,getEncryptor:function(H){return d!==null?Ei.encryptor(H,0):function(fe){return fe}},output:On,getNumberOfPages:eg,get pages(){return Le},out:re,f2:k,f3:A,getPageInfo:ps,getPageInfoByObjId:dy,getCurrentPageInfo:hy,getPDFVersion:v,Point:wc,Rectangle:xc,Matrix:Lt,hasHotfix:pa},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return vs(M)},set:function(H){lg(M,H)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return vu(M)},set:function(H){Pf(M,H)},enumerable:!0,configurable:!0}),(function(H){for(var fe=0,Pe=te.length;fe<Pe;fe++){var Ue=uy.call(this,H[fe][0],H[fe][1],H[fe][2],te[fe][3],!0);h===!1&&(f[Ue]=!0);var $e=H[fe][0].split("-");Af({id:Ue,fontName:$e[0],fontStyle:$e[1]||""})}ln.publish("addFonts",{fonts:yt,dictionary:Be})}).call(p,te),Me="F1",Qm(r,n),ln.publish("initialized"),p}Qy.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Qy.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Qy.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Qy.prototype.processOwnerPassword=function(t,e){return AO(SO(e).substr(0,5),t)},Qy.prototype.encryptor=function(t,e){var n=SO(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(i){return AO(n,i)}},TE.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Vn(t)!==Vn(this))return!1;var i=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;i++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&i--;return i===0},Ot.API={events:[]},Ot.version="4.0.0";var nr=Ot.API,vB=1,cy=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Wy=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Vt=function(t){return t.toFixed(2)},Yf=function(t){return t.toFixed(5)};nr.__acroform__={};var So=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},WG=function(t){return t*vB},Du=function(t){var e=new Dse,n=Tt.internal.getHeight(t)||0,i=Tt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Vt(i)),Number(Vt(n))],e},x7e=nr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},_7e=nr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},S7e=nr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},mr=nr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return S7e(t,e-1)},gr=nr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return x7e(t,e-1)},yr=nr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return _7e(t,e-1)},A7e=nr.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,i=e.internal.getVerticalCoordinate,r=t[0],a=t[1],s=t[2],o=t[3],c={};return c.lowerLeft_X=n(r)||0,c.lowerLeft_Y=i(a+o)||0,c.upperRight_X=n(r+s)||0,c.upperRight_Y=i(a)||0,[Number(Vt(c.lowerLeft_X)),Number(Vt(c.lowerLeft_Y)),Number(Vt(c.upperRight_X)),Number(Vt(c.upperRight_Y))]},N7e=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,i=NO(t,n),r=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+r+" "+Vt(i.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Du(t);return a.scope=t.scope,a.stream=e.join(`
`),a}},NO=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,i={text:"",fontSize:""},r=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");r=t.multiline?r.map(function(k){return k.split(`
`)}):r.map(function(k){return[k]});var a=n,s=Tt.internal.getHeight(t)||0;s=s<0?-s:s;var o=Tt.internal.getWidth(t)||0;o=o<0?-o:o;var c=function(k,A,I){if(k+1<r.length){var T=A+" "+r[k+1][0];return kk(T,t,I).width<=o-4}return!1};a++;e:for(;a>0;){e="",a--;var u,d,h=kk("3",t,a).height,f=t.multiline?s-a:(s-h)/2,p=f+=2,w=0,v=0,b=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+kk(e,t,a=12).width+", FieldWidth:"+o+`
`;break}for(var g="",y=0,_=0;_<r.length;_++)if(r.hasOwnProperty(_)){var S=!1;if(r[_].length!==1&&b!==r[_].length-1){if((h+2)*(y+2)+2>s)continue e;g+=r[_][b],S=!0,v=_,_--}else{g=(g+=r[_][b]+" ").substr(g.length-1)==" "?g.substr(0,g.length-1):g;var N=parseInt(_),R=c(N,g,a),D=_>=r.length-1;if(R&&!D){g+=" ",b=0;continue}if(R||D){if(D)v=N;else if(t.multiline&&(h+2)*(y+2)+2>s)continue e}else{if(!t.multiline||(h+2)*(y+2)+2>s)continue e;v=N}}for(var E="",C=w;C<=v;C++){var P=r[C];if(t.multiline){if(C===v){E+=P[b]+" ",b=(b+1)%P.length;continue}if(C===w){E+=P[P.length-1]+" ";continue}}E+=P[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,d=kk(E,t,a).width,t.textAlign){case"right":u=o-d-2;break;case"center":u=(o-d)/2;break;default:u=2}e+=Vt(u)+" "+Vt(p)+` Td
`,e+="("+cy(E)+`) Tj
`,e+=-Vt(u)+` 0 Td
`,p=-(a+2),d=0,w=S?v:v+1,y++,g=""}break}return i.text=e,i.fontSize=a,i},kk=function(t,e,n){var i=e.scope.internal.getFont(e.fontName,e.fontStyle),r=e.scope.getStringUnitWidth(t,{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:i,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:r}},k7e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},C7e=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(i){return i.type===n.type&&i.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},E7e=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(du.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(k7e)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");vB=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Pse,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var i=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var r in i)if(i.hasOwnProperty(r)){var a=i[r];a.objId=void 0,a.hasAnnotation&&C7e(a,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(i,r){var a=!i;for(var s in i||(r.internal.newObjectDeferredBegin(r.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),r.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),i=i||r.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(i.hasOwnProperty(s)){var o=i[s],c=[],u=o.Rect;if(o.Rect&&(o.Rect=A7e(o.Rect,r)),r.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Tt.createDefaultAppearanceStream(o),Vn(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=N7e(o);c.push({key:"AP",value:"<</N "+d+">>"}),r.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var h="";for(var f in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(f)){var p=o.appearanceStreamContent[f];if(h+="/"+f+" ",h+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var s in p)if(p.hasOwnProperty(s)){var w=p[s];typeof w=="function"&&(w=w.call(r,o)),h+="/"+s+" "+w+" ",r.internal.acroformPlugin.xForms.indexOf(w)>=0||r.internal.acroformPlugin.xForms.push(w)}}else typeof(w=p)=="function"&&(w=w.call(r,o)),h+="/"+s+" "+w,r.internal.acroformPlugin.xForms.indexOf(w)>=0||r.internal.acroformPlugin.xForms.push(w);h+=">>"}c.push({key:"AP",value:`<<
`+h+">>"})}r.internal.putStream({additionalKeyValues:c,objectId:o.objId}),r.internal.out("endobj")}a&&function(v,b){for(var g in v)if(v.hasOwnProperty(g)){var y=g,_=v[g];b.internal.newObjectDeferredBegin(_.objId,!0),Vn(_)==="object"&&typeof _.putStream=="function"&&_.putStream(),delete v[y]}}(r.internal.acroformPlugin.xForms,r)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},Tse=nr.__acroform__.arrayToPdfArray=function(t,e,n){var i=function(s){return s};if(Array.isArray(t)){for(var r="[",a=0;a<t.length;a++)switch(a!==0&&(r+=" "),Vn(t[a])){case"boolean":case"number":case"object":r+=t[a].toString();break;case"string":t[a].substr(0,1)!=="/"?(e!==void 0&&n&&(i=n.internal.getEncryptor(e)),r+="("+cy(i(t[a].toString()))+")"):r+=t[a].toString()}return r+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},jR=function(t,e,n){var i=function(r){return r};return e!==void 0&&n&&(i=n.internal.getEncryptor(e)),(t=t||"").toString(),"("+cy(i(t))+")"},hd=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};hd.prototype.toString=function(){return this.objId+" 0 R"},hd.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},hd.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var i=e[n],r=this[i];r&&(Array.isArray(r)?t.push({key:i,value:Tse(r,this.objId,this.scope)}):r instanceof hd?(r.scope=this.scope,t.push({key:i,value:r.objId+" 0 R"})):typeof r!="function"&&t.push({key:i,value:r}))}return t};var Dse=function(){hd.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};So(Dse,hd);var Pse=function(){hd.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(i){return i};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+cy(n(t))+")"}},set:function(n){t=n}})};So(Pse,hd);var du=function t(){hd.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');e=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!mr(e,3)},set:function(g){g?this.F=gr(e,3):this.F=yr(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');n=g}});var i=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(i.length!==0)return i},set:function(g){i=g!==void 0?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[0])?0:i[0]},set:function(g){i[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[1])?0:i[1]},set:function(g){i[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[2])?0:i[2]},set:function(g){i[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!i||isNaN(i[3])?0:i[3]},set:function(g){i[3]=g}});var r="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return r},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":r=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof DE)return;a="FieldObject"+t.FieldNum++}var g=function(y){return y};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+cy(g(a))+")"},set:function(g){a=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(g){a=g}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(g){s=g}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(g){o=g}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(g){c=g}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/vB:u},set:function(g){u=g}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(g){d=g}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof DE||this instanceof C0))return jR(h,this.objId,this.scope)},set:function(g){g=g.toString(),h=g}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof oa==0?jR(f,this.objId,this.scope):f},set:function(g){g=g.toString(),f=this instanceof oa==0?g.substr(0,1)==="("?Wy(g.substr(1,g.length-2)):Wy(g):g}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof oa==1?Wy(f.substr(1,f.length-1)):f},set:function(g){g=g.toString(),f=this instanceof oa==1?"/"+g:g}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof oa==0?jR(p,this.objId,this.scope):p},set:function(g){g=g.toString(),p=this instanceof oa==0?g.substr(0,1)==="("?Wy(g.substr(1,g.length-2)):Wy(g):g}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof oa==1?Wy(p.substr(1,p.length-1)):p},set:function(g){g=g.toString(),p=this instanceof oa==1?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(g){g=!!g,v=g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(g){w=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,1)},set:function(g){g?this.Ff=gr(this.Ff,1):this.Ff=yr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,2)},set:function(g){g?this.Ff=gr(this.Ff,2):this.Ff=yr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,3)},set:function(g){g?this.Ff=gr(this.Ff,3):this.Ff=yr(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(g){if([0,1,2].indexOf(g)===-1)throw new Error('Invalid value "'+g+'" for attribute Q supplied.');b=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(b){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:b=2;break;case"center":case 1:b=1;break;default:b=0}}})};So(du,hd);var jv=function(){du.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Tse(e,this.objId,this.scope)},set:function(n){var i,r;r=[],typeof(i=n)=="string"&&(r=function(a,s,o){o||(o=1);for(var c,u=[];c=s.exec(a);)u.push(c[o]);return u}(i,/\((.*?)\)/g)),e=r}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,i){for(i=i||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),i!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,18)},set:function(n){n?this.Ff=gr(this.Ff,18):this.Ff=yr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=gr(this.Ff,19):this.Ff=yr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,20)},set:function(n){n?(this.Ff=gr(this.Ff,20),e.sort()):this.Ff=yr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,22)},set:function(n){n?this.Ff=gr(this.Ff,22):this.Ff=yr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,23)},set:function(n){n?this.Ff=gr(this.Ff,23):this.Ff=yr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,27)},set:function(n){n?this.Ff=gr(this.Ff,27):this.Ff=yr(this.Ff,27)}}),this.hasAppearanceStream=!1};So(jv,du);var $v=function(){jv.call(this),this.fontName="helvetica",this.combo=!1};So($v,jv);var Wv=function(){$v.call(this),this.combo=!0};So(Wv,$v);var K4=function(){Wv.call(this),this.edit=!0};So(K4,Wv);var oa=function(){du.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,15)},set:function(n){n?this.Ff=gr(this.Ff,15):this.Ff=yr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,16)},set:function(n){n?this.Ff=gr(this.Ff,16):this.Ff=yr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,17)},set:function(n){n?this.Ff=gr(this.Ff,17):this.Ff=yr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,26)},set:function(n){n?this.Ff=gr(this.Ff,26):this.Ff=yr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(a){return a};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var i,r=[];for(i in r.push("<<"),e)r.push("/"+i+" ("+cy(n(e[i]))+")");return r.push(">>"),r.join(`
`)}},set:function(n){Vn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};So(oa,du);var Y4=function(){oa.call(this),this.pushButton=!0};So(Y4,oa);var qv=function(){oa.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};So(qv,oa);var DE=function(){var t,e;du.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(r){e=r}});var n,i={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(o){return o};this.scope&&(r=this.scope.internal.getEncryptor(this.objId));var a,s=[];for(a in s.push("<<"),i)s.push("/"+a+" ("+cy(r(i[a]))+")");return s.push(">>"),s.join(`
`)},set:function(r){Vn(r)==="object"&&(i=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return i.CA||""},set:function(r){typeof r=="string"&&(i.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(r){n=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(r){n="/"+r}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Tt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};So(DE,du),qv.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},qv.prototype.createOption=function(t){var e=new DE;return e.Parent=this,e.optionName=t,this.Kids.push(e),T7e.call(this.scope,e),e};var J4=function(){oa.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Tt.CheckBox.createAppearanceStream()};So(J4,oa);var C0=function(){du.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,13)},set:function(e){e?this.Ff=gr(this.Ff,13):this.Ff=yr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,21)},set:function(e){e?this.Ff=gr(this.Ff,21):this.Ff=yr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,23)},set:function(e){e?this.Ff=gr(this.Ff,23):this.Ff=yr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,24)},set:function(e){e?this.Ff=gr(this.Ff,24):this.Ff=yr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,25)},set:function(e){e?this.Ff=gr(this.Ff,25):this.Ff=yr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,26)},set:function(e){e?this.Ff=gr(this.Ff,26):this.Ff=yr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};So(C0,du);var Z4=function(){C0.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!mr(this.Ff,14)},set:function(t){t?this.Ff=gr(this.Ff,14):this.Ff=yr(this.Ff,14)}}),this.password=!0};So(Z4,C0);var Tt={CheckBox:{createAppearanceStream:function(){return{N:{On:Tt.CheckBox.YesNormal},D:{On:Tt.CheckBox.YesPushDown,Off:Tt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Du(t);e.scope=t.scope;var n=[],i=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),a=NO(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Vt(Tt.internal.getWidth(t))+" "+Vt(Tt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+i+" "+Vt(a.fontSize)+" Tf "+r),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Du(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),r=[],a=Tt.internal.getHeight(t),s=Tt.internal.getWidth(t),o=NO(t,t.caption);return r.push("1 g"),r.push("0 0 "+Vt(s)+" "+Vt(a)+" re"),r.push("f"),r.push("q"),r.push("0 0 1 rg"),r.push("0 0 "+Vt(s-1)+" "+Vt(a-1)+" re"),r.push("W"),r.push("n"),r.push("0 g"),r.push("BT"),r.push("/"+n+" "+Vt(o.fontSize)+" Tf "+i),r.push(o.text),r.push("ET"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Du(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Vt(Tt.internal.getWidth(t))+" "+Vt(Tt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Tt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Tt.RadioButton.Circle.YesNormal,e.D[t]=Tt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Du(t);e.scope=t.scope;var n=[],i=Tt.internal.getWidth(t)<=Tt.internal.getHeight(t)?Tt.internal.getWidth(t)/4:Tt.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var r=Tt.internal.Bezier_C,a=Number((i*r).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Yf(Tt.internal.getWidth(t)/2)+" "+Yf(Tt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),n.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),n.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),n.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Du(t);e.scope=t.scope;var n=[],i=Tt.internal.getWidth(t)<=Tt.internal.getHeight(t)?Tt.internal.getWidth(t)/4:Tt.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),a=Number((r*Tt.internal.Bezier_C).toFixed(5)),s=Number((i*Tt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Yf(Tt.internal.getWidth(t)/2)+" "+Yf(Tt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Yf(Tt.internal.getWidth(t)/2)+" "+Yf(Tt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Du(t);e.scope=t.scope;var n=[],i=Tt.internal.getWidth(t)<=Tt.internal.getHeight(t)?Tt.internal.getWidth(t)/4:Tt.internal.getHeight(t)/4;i=Number((.9*i).toFixed(5));var r=Number((2*i).toFixed(5)),a=Number((r*Tt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Yf(Tt.internal.getWidth(t)/2)+" "+Yf(Tt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Tt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Tt.RadioButton.Cross.YesNormal,e.D[t]=Tt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Du(t);e.scope=t.scope;var n=[],i=Tt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Vt(Tt.internal.getWidth(t)-2)+" "+Vt(Tt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Vt(i.x1.x)+" "+Vt(i.x1.y)+" m"),n.push(Vt(i.x2.x)+" "+Vt(i.x2.y)+" l"),n.push(Vt(i.x4.x)+" "+Vt(i.x4.y)+" m"),n.push(Vt(i.x3.x)+" "+Vt(i.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Du(t);e.scope=t.scope;var n=Tt.internal.calculateCross(t),i=[];return i.push("0.749023 g"),i.push("0 0 "+Vt(Tt.internal.getWidth(t))+" "+Vt(Tt.internal.getHeight(t))+" re"),i.push("f"),i.push("q"),i.push("1 1 "+Vt(Tt.internal.getWidth(t)-2)+" "+Vt(Tt.internal.getHeight(t)-2)+" re"),i.push("W"),i.push("n"),i.push(Vt(n.x1.x)+" "+Vt(n.x1.y)+" m"),i.push(Vt(n.x2.x)+" "+Vt(n.x2.y)+" l"),i.push(Vt(n.x4.x)+" "+Vt(n.x4.y)+" m"),i.push(Vt(n.x3.x)+" "+Vt(n.x3.y)+" l"),i.push("s"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Du(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Vt(Tt.internal.getWidth(t))+" "+Vt(Tt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Tt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Tt.internal.getWidth(t),n=Tt.internal.getHeight(t),i=Math.min(e,n);return{x1:{x:(e-i)/2,y:(n-i)/2+i},x2:{x:(e-i)/2+i,y:(n-i)/2},x3:{x:(e-i)/2,y:(n-i)/2},x4:{x:(e-i)/2+i,y:(n-i)/2+i}}}},Tt.internal.getWidth=function(t){var e=0;return Vn(t)==="object"&&(e=WG(t.Rect[2])),e},Tt.internal.getHeight=function(t){var e=0;return Vn(t)==="object"&&(e=WG(t.Rect[3])),e};var T7e=nr.addField=function(t){if(E7e(this,t),!(t instanceof du))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};nr.AcroFormChoiceField=jv,nr.AcroFormListBox=$v,nr.AcroFormComboBox=Wv,nr.AcroFormEditBox=K4,nr.AcroFormButton=oa,nr.AcroFormPushButton=Y4,nr.AcroFormRadioButton=qv,nr.AcroFormCheckBox=J4,nr.AcroFormTextField=C0,nr.AcroFormPasswordField=Z4,nr.AcroFormAppearance=Tt,nr.AcroForm={ChoiceField:jv,ListBox:$v,ComboBox:Wv,EditBox:K4,Button:oa,PushButton:Y4,RadioButton:qv,CheckBox:J4,TextField:C0,PasswordField:Z4,Appearance:Tt},Ot.AcroForm={ChoiceField:jv,ListBox:$v,ComboBox:Wv,EditBox:K4,Button:oa,PushButton:Y4,RadioButton:qv,CheckBox:J4,TextField:C0,PasswordField:Z4,Appearance:Tt};function Ise(t){return t.reduce(function(e,n,i){return e[n]=i,e},{})}(function(t){var e="addImage_";t.__addimage__={};var n="UNKNOWN",i={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(k,A){var I,T,z,j,W,$=n;if((A=A||n)==="RGBA"||k.data!==void 0&&k.data instanceof Uint8ClampedArray&&"height"in k&&"width"in k)return"RGBA";if(R(k))for(W in i)for(z=i[W],I=0;I<z.length;I+=1){for(j=!0,T=0;T<z[I].length;T+=1)if(z[I][T]!==void 0&&z[I][T]!==k[T]){j=!1;break}if(j===!0){$=W;break}}else for(W in i)for(z=i[W],I=0;I<z.length;I+=1){for(j=!0,T=0;T<z[I].length;T+=1)if(z[I][T]!==void 0&&z[I][T]!==k.charCodeAt(T)){j=!1;break}if(j===!0){$=W;break}}return $===n&&A!==n&&($=A),$},a=function k(A){for(var I=this.internal.write,T=this.internal.putStream,z=(0,this.internal.getFilters)();z.indexOf("FlateEncode")!==-1;)z.splice(z.indexOf("FlateEncode"),1);A.objectId=this.internal.newObject();var j=[];if(j.push({key:"Type",value:"/XObject"}),j.push({key:"Subtype",value:"/Image"}),j.push({key:"Width",value:A.width}),j.push({key:"Height",value:A.height}),A.colorSpace===g.INDEXED?j.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(A.palette.length/3-1)+" "+("sMask"in A&&A.sMask!==void 0?A.objectId+2:A.objectId+1)+" 0 R]"}):(j.push({key:"ColorSpace",value:"/"+A.colorSpace}),A.colorSpace===g.DEVICE_CMYK&&j.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),j.push({key:"BitsPerComponent",value:A.bitsPerComponent}),"decodeParameters"in A&&A.decodeParameters!==void 0&&j.push({key:"DecodeParms",value:"<<"+A.decodeParameters+">>"}),"transparency"in A&&Array.isArray(A.transparency)&&A.transparency.length>0){for(var W="",$=0,q=A.transparency.length;$<q;$++)W+=A.transparency[$]+" "+A.transparency[$]+" ";j.push({key:"Mask",value:"["+W+"]"})}A.sMask!==void 0&&j.push({key:"SMask",value:A.objectId+1+" 0 R"});var G=A.filter!==void 0?["/"+A.filter]:void 0;if(T({data:A.data,additionalKeyValues:j,alreadyAppliedFilters:G,objectId:A.objectId}),I("endobj"),"sMask"in A&&A.sMask!==void 0){var B,L=(B=A.sMaskBitsPerComponent)!==null&&B!==void 0?B:A.bitsPerComponent,M={width:A.width,height:A.height,colorSpace:"DeviceGray",bitsPerComponent:L,data:A.sMask};"filter"in A&&(M.decodeParameters="/Predictor ".concat(A.predictor," /Colors 1 /BitsPerComponent ").concat(L," /Columns ").concat(A.width),M.filter=A.filter),k.call(this,M)}if(A.colorSpace===g.INDEXED){var K=this.internal.newObject();T({data:E(new Uint8Array(A.palette)),objectId:K}),I("endobj")}},s=function(){var k=this.internal.collections[e+"images"];for(var A in k)a.call(this,k[A])},o=function(){var k,A=this.internal.collections[e+"images"],I=this.internal.write;for(var T in A)I("/I"+(k=A[T]).index,k.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},u=function(){var k=this.internal.collections[e+"images"];return c.call(this),k},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},h=function(k){return typeof t["process"+k.toUpperCase()]=="function"},f=function(k){return Vn(k)==="object"&&k.nodeType===1},p=function(k,A){if(k.nodeName==="IMG"&&k.hasAttribute("src")){var I=""+k.getAttribute("src");if(I.indexOf("data:image/")===0)return X4(unescape(I).split("base64,").pop());var T=t.loadFile(I,!0);if(T!==void 0)return T}if(k.nodeName==="CANVAS"){if(k.width===0||k.height===0)throw new Error("Given canvas must have data. Canvas width: "+k.width+", height: "+k.height);var z;switch(A){case"PNG":z="image/png";break;case"WEBP":z="image/webp";break;default:z="image/jpeg"}return X4(k.toDataURL(z,1).split("base64,").pop())}},w=function(k){var A=this.internal.collections[e+"images"];if(A){for(var I in A)if(k===A[I].alias)return A[I]}},v=function(k,A,I){return k||A||(k=-96,A=-96),k<0&&(k=-1*I.width*72/k/this.internal.scaleFactor),A<0&&(A=-1*I.height*72/A/this.internal.scaleFactor),k===0&&(k=A*I.width/I.height),A===0&&(A=k*I.height/I.width),[k,A]},b=function(k,A,I,T,z,j){var W=v.call(this,I,T,z),$=this.internal.getCoordinateString,q=this.internal.getVerticalCoordinateString,G=u.call(this);if(I=W[0],T=W[1],G[z.index]=z,j){j*=Math.PI/180;var B=Math.cos(j),L=Math.sin(j),M=function(Q){return Q.toFixed(4)},K=[M(B),M(L),M(-1*L),M(B),0,0,"cm"]}this.internal.write("q"),j?(this.internal.write([1,"0","0",1,$(k),q(A+T),"cm"].join(" ")),this.internal.write(K.join(" ")),this.internal.write([$(I),"0","0",$(T),"0","0","cm"].join(" "))):this.internal.write([$(I),"0","0",$(T),$(k),q(A+T),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+z.index+" Do"),this.internal.write("Q")},g=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=t.__addimage__.sHashCode=function(k){var A,I,T=0;if(typeof k=="string")for(I=k.length,A=0;A<I;A++)T=(T<<5)-T+k.charCodeAt(A),T|=0;else if(R(k))for(I=k.byteLength/2,A=0;A<I;A++)T=(T<<5)-T+k[A],T|=0;return T},S=t.__addimage__.validateStringAsBase64=function(k){(k=k||"").toString().trim();var A=!0;return k.length===0&&(A=!1),k.length%4!=0&&(A=!1),/^[A-Za-z0-9+/]+$/.test(k.substr(0,k.length-2))===!1&&(A=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(k.substr(-2))===!1&&(A=!1),A},N=t.__addimage__.extractImageFromDataUrl=function(k){if(k==null||!(k=k.trim()).startsWith("data:"))return null;var A=k.indexOf(",");return A<0?null:k.substring(0,A).trim().endsWith("base64")?k.substring(A+1):null};t.__addimage__.isArrayBuffer=function(k){return k instanceof ArrayBuffer};var R=t.__addimage__.isArrayBufferView=function(k){return k instanceof Int8Array||k instanceof Uint8Array||k instanceof Uint8ClampedArray||k instanceof Int16Array||k instanceof Uint16Array||k instanceof Int32Array||k instanceof Uint32Array||k instanceof Float32Array||k instanceof Float64Array},D=t.__addimage__.binaryStringToUint8Array=function(k){for(var A=k.length,I=new Uint8Array(A),T=0;T<A;T++)I[T]=k.charCodeAt(T);return I},E=t.__addimage__.arrayBufferToBinaryString=function(k){for(var A="",I=R(k)?k:new Uint8Array(k),T=0;T<I.length;T+=8192)A+=String.fromCharCode.apply(null,I.subarray(T,T+8192));return A};t.addImage=function(){var k,A,I,T,z,j,W,$,q;if(typeof arguments[1]=="number"?(A=n,I=arguments[1],T=arguments[2],z=arguments[3],j=arguments[4],W=arguments[5],$=arguments[6],q=arguments[7]):(A=arguments[1],I=arguments[2],T=arguments[3],z=arguments[4],j=arguments[5],W=arguments[6],$=arguments[7],q=arguments[8]),Vn(k=arguments[0])==="object"&&!f(k)&&"imageData"in k){var G=k;k=G.imageData,A=G.format||A||n,I=G.x||I||0,T=G.y||T||0,z=G.w||G.width||z,j=G.h||G.height||j,W=G.alias||W,$=G.compression||$,q=G.rotation||G.angle||q}var B=this.internal.getFilters();if($===void 0&&B.indexOf("FlateEncode")!==-1&&($="SLOW"),isNaN(I)||isNaN(T))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var L=C.call(this,k,A,W,$);return b.call(this,I,T,z,j,L,q),this};var C=function(k,A,I,T){var z,j,W;if(typeof k=="string"&&r(k)===n){k=unescape(k);var $=P(k,!1);($!==""||($=t.loadFile(k,!0))!==void 0)&&(k=$)}if(f(k)&&(k=p(k,A)),A=r(k,A),!h(A))throw new Error("addImage does not support files of type '"+A+"', please ensure that a plugin for '"+A+"' support is added.");if(((W=I)==null||W.length===0)&&(I=function(q){return typeof q=="string"||R(q)?_(q):R(q.data)?_(q.data):null}(k)),(z=w.call(this,I))||(k instanceof Uint8Array||A==="RGBA"||(j=k,k=D(k)),z=this["process"+A.toUpperCase()](k,d.call(this),I,function(q){return q&&typeof q=="string"&&(q=q.toUpperCase()),q in t.image_compression?q:y.NONE}(T),j)),!z)throw new Error("An unknown error occurred whilst processing the image.");return z},P=t.__addimage__.convertBase64ToBinaryString=function(k,A){A=typeof A!="boolean"||A;var I,T="";if(typeof k=="string"){var z;I=(z=N(k))!==null&&z!==void 0?z:k;try{T=X4(I)}catch(j){if(A)throw S(I)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+j.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return T};t.getImageProperties=function(k){var A,I,T="";if(f(k)&&(k=p(k)),typeof k=="string"&&r(k)===n&&((T=P(k,!1))===""&&(T=t.loadFile(k)||""),k=T),I=r(k),!h(I))throw new Error("addImage does not support files of type '"+I+"', please ensure that a plugin for '"+I+"' support is added.");if(k instanceof Uint8Array||(k=D(k)),!(A=this["process"+I.toUpperCase()](k)))throw new Error("An unknown error occurred whilst processing the image");return A.fileType=I,A}})(Ot.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};Ot.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var i,r,a,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,d=!1,h=0;h<u.length&&!d;h++)switch((i=u[h]).type){case"link":(e(i.options.url)||e(i.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var f=0;f<u.length;f++){i=u[f];var p=this.internal.pdfEscape,w=this.internal.getEncryptor(n.objId);switch(i.type){case"reference":this.internal.write(" "+i.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(v.objId),y=i.title||"Note";a="<</Type /Annot /Subtype /Text "+(r="/Rect ["+s(i.bounds.x)+" "+o(i.bounds.y+i.bounds.h)+" "+s(i.bounds.x+i.bounds.w)+" "+o(i.bounds.y)+"] ")+"/Contents ("+p(g(i.contents))+")",a+=" /Popup "+b.objId+" 0 R",a+=" /P "+c.objId+" 0 R",a+=" /T ("+p(g(y))+") >>",v.content=a;var _=v.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+s(i.bounds.x+30)+" "+o(i.bounds.y+i.bounds.h)+" "+s(i.bounds.x+i.bounds.w+30)+" "+o(i.bounds.y)+"] ")+" /Parent "+_,i.open&&(a+=" /Open true"),a+=" >>",b.content=a,this.internal.write(v.objId,"0 R",b.objId,"0 R");break;case"freetext":r="/Rect ["+s(i.bounds.x)+" "+o(i.bounds.y)+" "+s(i.bounds.x+i.bounds.w)+" "+o(i.bounds.y+i.bounds.h)+"] ";var S=i.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+p(w(i.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+S+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(i.options.name){var N=this.annotations._nameMap[i.options.name];i.options.pageNumber=N.page,i.options.top=N.y}else i.options.top||(i.options.top=0);if(r="/Rect ["+i.finalBounds.x+" "+i.finalBounds.y+" "+i.finalBounds.w+" "+i.finalBounds.h+"] ",a="",i.options.url)a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+p(w(i.options.url))+") >>";else if(i.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(i.options.pageNumber).objId+" 0 R",i.options.magFactor=i.options.magFactor||"XYZ",i.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+i.options.top+"]";break;case"FitV":i.options.left=i.options.left||0,a+=" /FitV "+i.options.left+"]";break;default:var R=o(i.options.top);i.options.left=i.options.left||0,i.options.zoom===void 0&&(i.options.zoom=0),a+=" /XYZ "+i.options.left+" "+R+" "+i.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var i=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":i.pageContext.annotations.push(n)}},t.link=function(n,i,r,a,s){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(n),y:u(i),w:c(n+r),h:u(i+a)},options:s,type:"link"})},t.textWithLink=function(n,i,r,a){var s,o,c=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){o=a.maxWidth;var d=this.splitTextToSize(n,o).length;s=Math.ceil(u*d)}else o=c,s=u;return this.text(n,i,r,a),r+=.2*u,a.align==="center"&&(i-=c/2),a.align==="right"&&(i-=c),this.link(i,r-u,o,s,a),c},t.getTextWidth=function(n){var i=this.internal.getFontSize();return this.getStringUnitWidth(n)*i/this.internal.scaleFactor}}(Ot.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},i={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},r=[1570,1571,1573,1575];t.__arabicParser__={};var a=t.__arabicParser__.isInArabicSubstitutionA=function(v){return e[v.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},o=t.__arabicParser__.isArabicEndLetter=function(v){return s(v)&&a(v)&&e[v.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(v){return s(v)&&r.indexOf(v.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return s(v)&&a(v)&&e[v.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(v){return s(v)&&a(v)&&e[v.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(v){return s(v)&&a(v)&&e[v.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(v){return s(v)&&a(v)&&e[v.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(v){var b=0,g=n,y="",_=0;for(b=0;b<v.length;b+=1)g[v.charCodeAt(b)]!==void 0?(_++,typeof(g=g[v.charCodeAt(b)])=="number"&&(y+=String.fromCharCode(g),g=n,_=0),b===v.length-1&&(g=n,y+=v.charAt(b-(_-1)),b-=_-1,_=0)):(g=n,y+=v.charAt(b-_),b-=_,_=0);return y};t.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&i[v.charCodeAt(0)]!==void 0};var f=t.__arabicParser__.getCorrectForm=function(v,b,g){return s(v)?a(v)===!1?-1:!u(v)||!s(b)&&!s(g)||!s(g)&&o(b)||o(v)&&!s(b)||o(v)&&c(b)||o(v)&&o(b)?0:d(v)&&s(b)&&!o(b)&&s(g)&&u(g)?3:o(v)||!s(g)?1:2:-1},p=function(v){var b=0,g=0,y=0,_="",S="",N="",R=(v=v||"").split("\\s+"),D=[];for(b=0;b<R.length;b+=1){for(D.push(""),g=0;g<R[b].length;g+=1)_=R[b][g],S=R[b][g-1],N=R[b][g+1],s(_)?(y=f(_,S,N),D[b]+=y!==-1?String.fromCharCode(e[_.charCodeAt(0)][y]):_):D[b]+=_;D[b]=h(D[b])}return D.join(" ")},w=t.__arabicParser__.processArabic=t.processArabic=function(){var v,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,g=[];if(Array.isArray(b)){var y=0;for(g=[],y=0;y<b.length;y+=1)Array.isArray(b[y])?g.push([p(b[y][0]),b[y][1],b[y][2]]):g.push([p(b[y])]);v=g}else v=p(b);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};t.events.push(["preProcessText",w])}(Ot.API),Ot.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var i=150;Object.defineProperty(this,"width",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=i+1)}});var r=300;Object.defineProperty(this,"height",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=r+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(o){a=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,i){var r;if((n=n||"2d")!=="2d")return null;for(r in i)this.pdf.context2d.hasOwnProperty(r)&&(this.pdf.context2d[r]=i[r]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Ot.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,i=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),r.call(this))},r=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(v){c=v}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(v){d=v}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(v){h=v}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(v){p=v}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(v){w=v}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return i.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,u){i.call(this);var d=(u=u||{}).fontSize||this.getFontSize(),h=u.font||this.getFont(),f=u.scaleFactor||this.internal.scaleFactor,p=0,w=0,v=0,b=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var g=u.maxWidth;g>0?typeof c=="string"?c=this.splitTextToSize(c,g):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(_,S){return _.concat(b.splitTextToSize(S,g))},[])):c=Array.isArray(c)?c:[c];for(var y=0;y<c.length;y++)p<(v=this.getStringUnitWidth(c[y],{font:h})*d)&&(p=v);return p!==0&&(w=c.length),{w:p/=f,h:Math.max((w*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/f,0)}},t.cellAddPage=function(){i.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var c;c=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),i.call(this);var u=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,f=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=h.top,p&&f&&(this.printHeaderRow(c.lineNumber,!0),c.y+=f[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};t.table=function(c,u,d,h,f){if(i.call(this),!d)throw new Error("No data for PDF table.");var p,w,v,b,g=[],y=[],_=[],S={},N={},R=[],D=[],E=(f=f||{}).autoSize||!1,C=f.printHeaders!==!1,P=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,k=f.margins||Object.assign({width:this.getPageWidth()},e),A=typeof f.padding=="number"?f.padding:3,I=f.headerBackgroundColor||"#c8c8c8",T=f.headerTextColor||"#000";if(r.call(this),this.internal.__cell__.printHeaders=C,this.internal.__cell__.margins=k,this.internal.__cell__.table_font_size=P,this.internal.__cell__.padding=A,this.internal.__cell__.headerBackgroundColor=I,this.internal.__cell__.headerTextColor=T,this.setFontSize(P),h==null)y=g=Object.keys(d[0]),_=g.map(function(){return"left"});else if(Array.isArray(h)&&Vn(h[0])==="object")for(g=h.map(function(G){return G.name}),y=h.map(function(G){return G.prompt||G.name||""}),_=h.map(function(G){return G.align||"left"}),p=0;p<h.length;p+=1)N[h[p].name]=.7499990551181103*h[p].width;else Array.isArray(h)&&typeof h[0]=="string"&&(y=g=h,_=g.map(function(){return"left"}));if(E||Array.isArray(h)&&typeof h[0]=="string")for(p=0;p<g.length;p+=1){for(S[b=g[p]]=d.map(function(G){return G[b]}),this.setFont(void 0,"bold"),R.push(this.getTextDimensions(y[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=S[b],this.setFont(void 0,"normal"),v=0;v<w.length;v+=1)R.push(this.getTextDimensions(w[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);N[b]=Math.max.apply(null,R)+A+A,R=[]}if(C){var z={};for(p=0;p<g.length;p+=1)z[g[p]]={},z[g[p]].text=y[p],z[g[p]].align=_[p];var j=o.call(this,z,N);D=g.map(function(G){return new a(c,u,N[G],j,z[G].text,void 0,z[G].align)}),this.setTableHeaderRow(D),this.printHeaderRow(1,!1)}var W=h.reduce(function(G,B){return G[B.name]=B.align,G},{});for(p=0;p<d.length;p+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:p,data:d[p]},this);var $=o.call(this,d[p],N);for(v=0;v<g.length;v+=1){var q=d[p][g[v]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:p,col:v,data:q},this),s.call(this,new a(c,u,N[g[v]],$,q,p+2,W[g[v]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var o=function(c,u){var d=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(c).map(function(p){var w=c[p];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,u[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*h/f+d+d},this).reduce(function(p,w){return Math.max(p,w)},0)};t.setTableHeaderRow=function(c){i.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,u){if(i.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(d.y=this.internal.__cell__.margins.top||0,f.push(d)),d.lineNumber=c;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,d),this.setTextColor(w)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),n=!1}}(Ot.API);var Rse={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Lse=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],kO=Ise(Lse),Fse=[100,200,300,400,500,600,700,800,900],D7e=Ise(Fse);function $R(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(a){return Rse[a=a||"normal"]?a:"normal"}(t.style),i=function(a){return a?typeof a=="number"?a>=100&&a<=900&&a%100==0?a:400:/^\d00$/.test(a)?parseInt(a):a==="bold"?700:400:400}(t.weight),r=function(a){return typeof kO[a=a||"normal"]=="number"?a:"normal"}(t.stretch);return{family:e,style:n,weight:i,stretch:r,src:t.src||[],ref:t.ref||{name:e,style:[r,n,i].join(" ")}}}function qG(t,e,n,i){var r;for(r=n;r>=0&&r<e.length;r+=i)if(t[e[r]])return t[e[r]];for(r=n;r>=0&&r<e.length;r-=i)if(t[e[r]])return t[e[r]]}var P7e={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},HG={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function VG(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function GG(t){return t.trimLeft()}function I7e(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function R7e(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Ck,XG,KG,qy,Ek,YG,JG,ZG,WR=["times"];function QG(t,e,n,i,r){var a=4,s=tX;switch(r){case Ot.API.image_compression.FAST:a=1,s=eX;break;case Ot.API.image_compression.MEDIUM:a=6,s=nX;break;case Ot.API.image_compression.SLOW:a=9,s=iX}t=function(c,u,d,h){for(var f,p=c.length/u,w=new Uint8Array(c.length+p),v=[L7e,eX,tX,nX,iX],b=0;b<p;b+=1){var g=b*u,y=c.subarray(g,g+u);if(h)w.set(h(y,d,f),g+b);else{for(var _=v.length,S=[],N=0;N<_;N+=1)S[N]=v[N](y,d,f);var R=O7e(S.concat());w.set(S[R],g+b)}f=y}return w}(t,e,Math.ceil(n*i/8),s);var o=fO(t,{level:a});return Ot.API.__addimage__.arrayBufferToBinaryString(o)}function L7e(t){var e=Array.apply([],t);return e.unshift(0),e}function eX(t,e){var n=t.length,i=[];i[0]=1;for(var r=0;r<n;r+=1){var a=t[r-e]||0;i[r+1]=t[r]-a+256&255}return i}function tX(t,e,n){var i=t.length,r=[];r[0]=2;for(var a=0;a<i;a+=1){var s=n&&n[a]||0;r[a+1]=t[a]-s+256&255}return r}function nX(t,e,n){var i=t.length,r=[];r[0]=3;for(var a=0;a<i;a+=1){var s=t[a-e]||0,o=n&&n[a]||0;r[a+1]=t[a]+256-(s+o>>>1)&255}return r}function iX(t,e,n){var i=t.length,r=[];r[0]=4;for(var a=0;a<i;a+=1){var s=F7e(t[a-e]||0,n&&n[a]||0,n&&n[a-e]||0);r[a+1]=t[a]-s+256&255}return r}function F7e(t,e,n){if(t===e&&e===n)return t;var i=Math.abs(e-n),r=Math.abs(t-n),a=Math.abs(t+e-n-n);return i<=r&&i<=a?t:r<=a?e:n}function O7e(t){var e=t.map(function(n){return n.reduce(function(i,r){return i+Math.abs(r)},0)});return e.indexOf(Math.min.apply(null,e))}function qR(t,e,n){var i=e*n,r=Math.floor(i/8),a=16-(i-8*r+n),s=(1<<n)-1;return Ose(t,r)>>a&s}function rX(t,e,n,i){var r=n*i,a=Math.floor(r/8),s=16-(r-8*a+i),o=(1<<i)-1,c=(e&o)<<s;(function(u,d,h){if(d+1<u.byteLength)u.setUint16(d,h,!1);else{var f=h>>8&255;u.setUint8(d,f)}})(t,a,Ose(t,a)&~(o<<s)&65535|c)}function Ose(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function U7e(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,i=t[e++]|t[e++]<<8,r=t[e++],a=r>>7,s=1<<1+(7&r);t[e++],t[e++];var o=null,c=null;a&&(o=e,c=s,e+=3*s);var u=!0,d=[],h=0,f=null,p=0,w=null;for(this.width=n,this.height=i;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,w=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var v=t[e++];h=t[e++]|t[e++]<<8,f=t[e++],1&v||(f=null),p=v>>2&7,e++;break;case 254:for(;;){if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var b=t[e++]|t[e++]<<8,g=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,S=t[e++],N=S>>6&1,R=1<<1+(7&S),D=o,E=c,C=!1;S>>7&&(C=!0,D=e,E=R,e+=3*R);var P=e;for(e++;;){var k;if(!((k=t[e++])>=0))throw Error("Invalid block size");if(k===0)break;e+=k}d.push({x:b,y:g,width:y,height:_,has_local_palette:C,palette_offset:D,palette_size:E,data_offset:P,data_length:e-P,transparent_index:f,interlaced:!!N,delay:h,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return w},this.frameInfo=function(A){if(A<0||A>=d.length)throw new Error("Frame index out of range.");return d[A]},this.decodeAndBlitFrameBGRA=function(A,I){var T=this.frameInfo(A),z=T.width*T.height,j=new Uint8Array(z);aX(t,T.data_offset,j,z);var W=T.palette_offset,$=T.transparent_index;$===null&&($=256);var q=T.width,G=n-q,B=q,L=4*(T.y*n+T.x),M=4*((T.y+T.height)*n+T.x),K=L,Q=4*G;T.interlaced===!0&&(Q+=4*n*7);for(var V=8,le=0,ge=j.length;le<ge;++le){var ye=j[le];if(B===0&&(B=q,(K+=Q)>=M&&(Q=4*G+4*n*(V-1),K=L+(q+G)*(V<<1),V>>=1)),ye===$)K+=4;else{var be=t[W+3*ye],Le=t[W+3*ye+1],ue=t[W+3*ye+2];I[K++]=ue,I[K++]=Le,I[K++]=be,I[K++]=255}--B}},this.decodeAndBlitFrameRGBA=function(A,I){var T=this.frameInfo(A),z=T.width*T.height,j=new Uint8Array(z);aX(t,T.data_offset,j,z);var W=T.palette_offset,$=T.transparent_index;$===null&&($=256);var q=T.width,G=n-q,B=q,L=4*(T.y*n+T.x),M=4*((T.y+T.height)*n+T.x),K=L,Q=4*G;T.interlaced===!0&&(Q+=4*n*7);for(var V=8,le=0,ge=j.length;le<ge;++le){var ye=j[le];if(B===0&&(B=q,(K+=Q)>=M&&(Q=4*G+4*n*(V-1),K=L+(q+G)*(V<<1),V>>=1)),ye===$)K+=4;else{var be=t[W+3*ye],Le=t[W+3*ye+1],ue=t[W+3*ye+2];I[K++]=be,I[K++]=Le,I[K++]=ue,I[K++]=255}--B}}}function aX(t,e,n,i){for(var r=t[e++],a=1<<r,s=a+1,o=s+1,c=r+1,u=(1<<c)-1,d=0,h=0,f=0,p=t[e++],w=new Int32Array(4096),v=null;;){for(;d<16&&p!==0;)h|=t[e++]<<d,d+=8,p===1?p=t[e++]:--p;if(d<c)break;var b=h&u;if(h>>=c,d-=c,b!==a){if(b===s)break;for(var g=b<o?b:v,y=0,_=g;_>a;)_=w[_]>>8,++y;var S=_;if(f+y+(g!==b?1:0)>i)return void di.log("Warning, gif stream longer than expected.");n[f++]=S;var N=f+=y;for(g!==b&&(n[f++]=S),_=g;y--;)_=w[_],n[--N]=255&_,_>>=8;v!==null&&o<4096&&(w[o++]=v<<8|S,o>=u+1&&c<12&&(++c,u=u<<1|1)),v=b}else o=s+1,u=(1<<(c=r+1))-1,v=null}return f!==i&&di.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function HR(t){var e,n,i,r,a,s=Math.floor,o=new Array(64),c=new Array(64),u=new Array(64),d=new Array(64),h=new Array(65535),f=new Array(65535),p=new Array(64),w=new Array(64),v=[],b=0,g=7,y=new Array(64),_=new Array(64),S=new Array(64),N=new Array(256),R=new Array(2048),D=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],k=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],A=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],T=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],z=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function j(L,M){for(var K=0,Q=0,V=new Array,le=1;le<=16;le++){for(var ge=1;ge<=L[le];ge++)V[M[Q]]=[],V[M[Q]][0]=K,V[M[Q]][1]=le,Q++,K++;K*=2}return V}function W(L){for(var M=L[0],K=L[1]-1;K>=0;)M&1<<K&&(b|=1<<g),K--,--g<0&&(b==255?($(255),$(0)):$(b),g=7,b=0)}function $(L){v.push(L)}function q(L){$(L>>8&255),$(255&L)}function G(L,M,K,Q,V){for(var le,ge=V[0],ye=V[240],be=function(ae,xe){var Ce,_e,oe,pe,Se,De,Ve,de,Me,Fe,Ge=0;for(Me=0;Me<8;++Me){Ce=ae[Ge],_e=ae[Ge+1],oe=ae[Ge+2],pe=ae[Ge+3],Se=ae[Ge+4],De=ae[Ge+5],Ve=ae[Ge+6];var ut=Ce+(de=ae[Ge+7]),nt=Ce-de,yt=_e+Ve,Be=_e-Ve,Ze=oe+De,ot=oe-De,St=pe+Se,bt=pe-Se,At=ut+St,Qt=ut-St,Mt=yt+Ze,xt=yt-Ze;ae[Ge]=At+Mt,ae[Ge+4]=At-Mt;var ln=.707106781*(xt+Qt);ae[Ge+2]=Qt+ln,ae[Ge+6]=Qt-ln;var Dr=.382683433*((At=bt+ot)-(xt=Be+nt)),Yn=.5411961*At+Dr,Ao=1.306562965*xt+Dr,js=.707106781*(Mt=ot+Be),Lt=nt+js,$s=nt-js;ae[Ge+5]=$s+Yn,ae[Ge+3]=$s-Yn,ae[Ge+1]=Lt+Ao,ae[Ge+7]=Lt-Ao,Ge+=8}for(Ge=0,Me=0;Me<8;++Me){Ce=ae[Ge],_e=ae[Ge+8],oe=ae[Ge+16],pe=ae[Ge+24],Se=ae[Ge+32],De=ae[Ge+40],Ve=ae[Ge+48];var No=Ce+(de=ae[Ge+56]),Vr=Ce-de,Ua=_e+Ve,ri=_e-Ve,Ci=oe+De,pi=oe-De,st=pe+Se,ft=pe-Se,on=No+st,Bt=No-st,ai=Ua+Ci,Jn=Ua-Ci;ae[Ge]=on+ai,ae[Ge+32]=on-ai;var Gr=.707106781*(Jn+Bt);ae[Ge+16]=Bt+Gr,ae[Ge+48]=Bt-Gr;var fu=.382683433*((on=ft+pi)-(Jn=ri+Vr)),Ma=.5411961*on+fu,Ed=1.306562965*Jn+fu,bc=.707106781*(ai=pi+ri),Td=Vr+bc,pu=Vr-bc;ae[Ge+40]=pu+Ma,ae[Ge+24]=pu-Ma,ae[Ge+8]=Td+Ed,ae[Ge+56]=Td-Ed,Ge++}for(Me=0;Me<64;++Me)Fe=ae[Me]*xe[Me],p[Me]=Fe>0?Fe+.5|0:Fe-.5|0;return p}(L,M),Le=0;Le<64;++Le)w[D[Le]]=be[Le];var ue=w[0]-K;K=w[0],ue==0?W(Q[0]):(W(Q[f[le=32767+ue]]),W(h[le]));for(var ke=63;ke>0&&w[ke]==0;)ke--;if(ke==0)return W(ge),K;for(var X,re=1;re<=ke;){for(var Ee=re;w[re]==0&&re<=ke;)++re;var ne=re-Ee;if(ne>=16){X=ne>>4;for(var te=1;te<=X;++te)W(ye);ne&=15}le=32767+w[re],W(V[(ne<<4)+f[le]]),W(h[le]),re++}return ke!=63&&W(ge),K}function B(L){L=Math.min(Math.max(L,1),100),a!=L&&(function(M){for(var K=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Q=0;Q<64;Q++){var V=s((K[Q]*M+50)/100);V=Math.min(Math.max(V,1),255),o[D[Q]]=V}for(var le=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ge=0;ge<64;ge++){var ye=s((le[ge]*M+50)/100);ye=Math.min(Math.max(ye,1),255),c[D[ge]]=ye}for(var be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Le=0,ue=0;ue<8;ue++)for(var ke=0;ke<8;ke++)u[Le]=1/(o[D[Le]]*be[ue]*be[ke]*8),d[Le]=1/(c[D[Le]]*be[ue]*be[ke]*8),Le++}(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),a=L)}this.encode=function(L,M){M&&B(M),v=new Array,b=0,g=7,q(65496),q(65504),q(16),$(74),$(70),$(73),$(70),$(0),$(1),$(1),$(0),q(1),q(1),$(0),$(0),function(){q(65499),q(132),$(0);for(var _e=0;_e<64;_e++)$(o[_e]);$(1);for(var oe=0;oe<64;oe++)$(c[oe])}(),function(_e,oe){q(65472),q(17),$(8),q(oe),q(_e),$(3),$(1),$(17),$(0),$(2),$(17),$(1),$(3),$(17),$(1)}(L.width,L.height),function(){q(65476),q(418),$(0);for(var _e=0;_e<16;_e++)$(E[_e+1]);for(var oe=0;oe<=11;oe++)$(C[oe]);$(16);for(var pe=0;pe<16;pe++)$(P[pe+1]);for(var Se=0;Se<=161;Se++)$(k[Se]);$(1);for(var De=0;De<16;De++)$(A[De+1]);for(var Ve=0;Ve<=11;Ve++)$(I[Ve]);$(17);for(var de=0;de<16;de++)$(T[de+1]);for(var Me=0;Me<=161;Me++)$(z[Me])}(),q(65498),q(12),$(3),$(1),$(0),$(2),$(17),$(3),$(17),$(0),$(63),$(0);var K=0,Q=0,V=0;b=0,g=7,this.encode.displayName="_encode_";for(var le,ge,ye,be,Le,ue,ke,X,re,Ee=L.data,ne=L.width,te=L.height,ae=4*ne,xe=0;xe<te;){for(le=0;le<ae;){for(Le=ae*xe+le,ke=-1,X=0,re=0;re<64;re++)ue=Le+(X=re>>3)*ae+(ke=4*(7&re)),xe+X>=te&&(ue-=ae*(xe+1+X-te)),le+ke>=ae&&(ue-=le+ke-ae+4),ge=Ee[ue++],ye=Ee[ue++],be=Ee[ue++],y[re]=(R[ge]+R[ye+256|0]+R[be+512|0]>>16)-128,_[re]=(R[ge+768|0]+R[ye+1024|0]+R[be+1280|0]>>16)-128,S[re]=(R[ge+1280|0]+R[ye+1536|0]+R[be+1792|0]>>16)-128;K=G(y,u,K,e,i),Q=G(_,d,Q,n,r),V=G(S,d,V,n,r),le+=32}xe+=8}if(g>=0){var Ce=[];Ce[1]=g+1,Ce[0]=(1<<g+1)-1,W(Ce)}return q(65497),new Uint8Array(v)},t=t||50,function(){for(var L=String.fromCharCode,M=0;M<256;M++)N[M]=L(M)}(),e=j(E,C),n=j(A,I),i=j(P,k),r=j(T,z),function(){for(var L=1,M=2,K=1;K<=15;K++){for(var Q=L;Q<M;Q++)f[32767+Q]=K,h[32767+Q]=[],h[32767+Q][1]=K,h[32767+Q][0]=Q;for(var V=-(M-1);V<=-L;V++)f[32767+V]=K,h[32767+V]=[],h[32767+V][1]=K,h[32767+V][0]=M-1+V;L<<=1,M<<=1}}(),function(){for(var L=0;L<256;L++)R[L]=19595*L,R[L+256|0]=38470*L,R[L+512|0]=7471*L+32768,R[L+768|0]=-11059*L,R[L+1024|0]=-21709*L,R[L+1280|0]=32768*L+8421375,R[L+1536|0]=-27439*L,R[L+1792|0]=-5329*L}(),B(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function kc(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function sX(t){function e(C){if(!C)throw Error("assert :P")}function n(C,P,k){for(var A=0;4>A;A++)if(C[P+A]!=k.charCodeAt(A))return!0;return!1}function i(C,P,k,A,I){for(var T=0;T<I;T++)C[P+T]=k[A+T]}function r(C,P,k,A){for(var I=0;I<A;I++)C[P+I]=k}function a(C){return new Int32Array(C)}function s(C,P){for(var k=[],A=0;A<C;A++)k.push(new P);return k}function o(C,P){var k=[];return function A(I,T,z){for(var j=z[T],W=0;W<j&&(I.push(z.length>T+1?[]:new P),!(z.length<T+1));W++)A(I[W],T+1,z)}(k,0,C),k}var c=function(){var C=this;function P(F,U){for(var Y=1<<U-1>>>0;F&Y;)Y>>>=1;return Y?(F&Y-1)+Y:F}function k(F,U,Y,se,me){e(!(se%Y));do F[U+(se-=Y)]=me;while(0<se)}function A(F,U,Y,se,me){if(e(2328>=me),512>=me)var ve=a(512);else if((ve=a(me))==null)return 0;return function(we,Ne,Te,Ie,ze,Ye){var Re,je,qe=Ne,et=1<<Te,Xe=a(16),rt=a(16);for(e(ze!=0),e(Ie!=null),e(we!=null),e(0<Te),je=0;je<ze;++je){if(15<Ie[je])return 0;++Xe[Ie[je]]}if(Xe[0]==ze)return 0;for(rt[1]=0,Re=1;15>Re;++Re){if(Xe[Re]>1<<Re)return 0;rt[Re+1]=rt[Re]+Xe[Re]}for(je=0;je<ze;++je)Re=Ie[je],0<Ie[je]&&(Ye[rt[Re]++]=je);if(rt[15]==1)return(Ie=new I).g=0,Ie.value=Ye[0],k(we,qe,1,et,Ie),et;var at,pt=-1,ct=et-1,Ft=0,Et=1,nn=1,Pt=1<<Te;for(je=0,Re=1,ze=2;Re<=Te;++Re,ze<<=1){if(Et+=nn<<=1,0>(nn-=Xe[Re]))return 0;for(;0<Xe[Re];--Xe[Re])(Ie=new I).g=Re,Ie.value=Ye[je++],k(we,qe+Ft,ze,Pt,Ie),Ft=P(Ft,Re)}for(Re=Te+1,ze=2;15>=Re;++Re,ze<<=1){if(Et+=nn<<=1,0>(nn-=Xe[Re]))return 0;for(;0<Xe[Re];--Xe[Re]){if(Ie=new I,(Ft&ct)!=pt){for(qe+=Pt,at=1<<(pt=Re)-Te;15>pt&&!(0>=(at-=Xe[pt]));)++pt,at<<=1;et+=Pt=1<<(at=pt-Te),we[Ne+(pt=Ft&ct)].g=at+Te,we[Ne+pt].value=qe-Ne-pt}Ie.g=Re-Te,Ie.value=Ye[je++],k(we,qe+(Ft>>Te),ze,Pt,Ie),Ft=P(Ft,Re)}}return Et!=2*rt[15]-1?0:et}(F,U,Y,se,me,ve)}function I(){this.value=this.g=0}function T(){this.value=this.g=0}function z(){this.G=s(5,I),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(ug,T)}function j(F,U,Y,se){e(F!=null),e(U!=null),e(2147483648>se),F.Ca=254,F.I=0,F.b=-8,F.Ka=0,F.oa=U,F.pa=Y,F.Jd=U,F.Yc=Y+se,F.Zc=4<=se?Y+se-4+1:Y,ge(F)}function W(F,U){for(var Y=0;0<U--;)Y|=be(F,128)<<U;return Y}function $(F,U){var Y=W(F,U);return ye(F)?-Y:Y}function q(F,U,Y,se){var me,ve=0;for(e(F!=null),e(U!=null),e(4294967288>se),F.Sb=se,F.Ra=0,F.u=0,F.h=0,4<se&&(se=4),me=0;me<se;++me)ve+=U[Y+me]<<8*me;F.Ra=ve,F.bb=se,F.oa=U,F.pa=Y}function G(F){for(;8<=F.u&&F.bb<F.Sb;)F.Ra>>>=8,F.Ra+=F.oa[F.pa+F.bb]<<Rf-8>>>0,++F.bb,F.u-=8;Q(F)&&(F.h=1,F.u=0)}function B(F,U){if(e(0<=U),!F.h&&U<=To){var Y=K(F)&Eo[U];return F.u+=U,G(F),Y}return F.h=1,F.u=0}function L(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function K(F){return F.Ra>>>(F.u&Rf-1)>>>0}function Q(F){return e(F.bb<=F.Sb),F.h||F.bb==F.Sb&&F.u>Rf}function V(F,U){F.u=U,F.h=Q(F)}function le(F){F.u>=Bd&&(e(F.u>=Bd),G(F))}function ge(F){e(F!=null&&F.oa!=null),F.pa<F.Zc?(F.I=(F.oa[F.pa++]|F.I<<8)>>>0,F.b+=8):(e(F!=null&&F.oa!=null),F.pa<F.Yc?(F.b+=8,F.I=F.oa[F.pa++]|F.I<<8):F.Ka?F.b=0:(F.I<<=8,F.b+=8,F.Ka=1))}function ye(F){return W(F,1)}function be(F,U){var Y=F.Ca;0>F.b&&ge(F);var se=F.b,me=Y*U>>>8,ve=(F.I>>>se>me)+0;for(ve?(Y-=me,F.I-=me+1<<se>>>0):Y=me+1,se=Y,me=0;256<=se;)me+=8,se>>=8;return se=7^me+Lf[se],F.b-=se,F.Ca=(Y<<se)-1,ve}function Le(F,U,Y){F[U+0]=Y>>24&255,F[U+1]=Y>>16&255,F[U+2]=Y>>8&255,F[U+3]=255&Y}function ue(F,U){return F[U+0]|F[U+1]<<8}function ke(F,U){return ue(F,U)|F[U+2]<<16}function X(F,U){return ue(F,U)|ue(F,U+2)<<16}function re(F,U){var Y=1<<U;return e(F!=null),e(0<U),F.X=a(Y),F.X==null?0:(F.Mb=32-U,F.Xa=U,1)}function Ee(F,U){e(F!=null),e(U!=null),e(F.Xa==U.Xa),i(U.X,0,F.X,0,1<<U.Xa)}function ne(){this.X=[],this.Xa=this.Mb=0}function te(F,U,Y,se){e(Y!=null),e(se!=null);var me=Y[0],ve=se[0];return me==0&&(me=(F*ve+U/2)/U),ve==0&&(ve=(U*me+F/2)/F),0>=me||0>=ve?0:(Y[0]=me,se[0]=ve,1)}function ae(F,U){return F+(1<<U)-1>>>U}function xe(F,U){return((4278255360&F)+(4278255360&U)>>>0&4278255360)+((16711935&F)+(16711935&U)>>>0&16711935)>>>0}function Ce(F,U){C[U]=function(Y,se,me,ve,we,Ne,Te){var Ie;for(Ie=0;Ie<we;++Ie){var ze=C[F](Ne[Te+Ie-1],me,ve+Ie);Ne[Te+Ie]=xe(Y[se+Ie],ze)}}}function _e(){this.ud=this.hd=this.jd=0}function oe(F,U){return((4278124286&(F^U))>>>1)+(F&U)>>>0}function pe(F){return 0<=F&&256>F?F:0>F?0:255<F?255:void 0}function Se(F,U){return pe(F+(F-U+.5>>1))}function De(F,U,Y){return Math.abs(U-Y)-Math.abs(F-Y)}function Ve(F,U,Y,se,me,ve,we){for(se=ve[we-1],Y=0;Y<me;++Y)ve[we+Y]=se=xe(F[U+Y],se)}function de(F,U,Y,se,me){var ve;for(ve=0;ve<Y;++ve){var we=F[U+ve],Ne=we>>8&255,Te=16711935&(Te=(Te=16711935&we)+((Ne<<16)+Ne));se[me+ve]=(4278255360&we)+Te>>>0}}function Me(F,U){U.jd=255&F,U.hd=F>>8&255,U.ud=F>>16&255}function Fe(F,U,Y,se,me,ve){var we;for(we=0;we<se;++we){var Ne=U[Y+we],Te=Ne>>>8,Ie=Ne,ze=255&(ze=(ze=Ne>>>16)+((F.jd<<24>>24)*(Te<<24>>24)>>>5));Ie=255&(Ie=(Ie+=(F.hd<<24>>24)*(Te<<24>>24)>>>5)+((F.ud<<24>>24)*(ze<<24>>24)>>>5)),me[ve+we]=(4278255360&Ne)+(ze<<16)+Ie}}function Ge(F,U,Y,se,me){C[U]=function(ve,we,Ne,Te,Ie,ze,Ye,Re,je){for(Te=Ye;Te<Re;++Te)for(Ye=0;Ye<je;++Ye)Ie[ze++]=me(Ne[se(ve[we++])])},C[F]=function(ve,we,Ne,Te,Ie,ze,Ye){var Re=8>>ve.b,je=ve.Ea,qe=ve.K[0],et=ve.w;if(8>Re)for(ve=(1<<ve.b)-1,et=(1<<Re)-1;we<Ne;++we){var Xe,rt=0;for(Xe=0;Xe<je;++Xe)Xe&ve||(rt=se(Te[Ie++])),ze[Ye++]=me(qe[rt&et]),rt>>=Re}else C["VP8LMapColor"+Y](Te,Ie,qe,et,ze,Ye,we,Ne,je)}}function ut(F,U,Y,se,me){for(Y=U+Y;U<Y;){var ve=F[U++];se[me++]=ve>>16&255,se[me++]=ve>>8&255,se[me++]=255&ve}}function nt(F,U,Y,se,me){for(Y=U+Y;U<Y;){var ve=F[U++];se[me++]=ve>>16&255,se[me++]=ve>>8&255,se[me++]=255&ve,se[me++]=ve>>24&255}}function yt(F,U,Y,se,me){for(Y=U+Y;U<Y;){var ve=(we=F[U++])>>16&240|we>>12&15,we=240&we|we>>28&15;se[me++]=ve,se[me++]=we}}function Be(F,U,Y,se,me){for(Y=U+Y;U<Y;){var ve=(we=F[U++])>>16&248|we>>13&7,we=we>>5&224|we>>3&31;se[me++]=ve,se[me++]=we}}function Ze(F,U,Y,se,me){for(Y=U+Y;U<Y;){var ve=F[U++];se[me++]=255&ve,se[me++]=ve>>8&255,se[me++]=ve>>16&255}}function ot(F,U,Y,se,me,ve){if(ve==0)for(Y=U+Y;U<Y;)Le(se,((ve=F[U++])[0]>>24|ve[1]>>8&65280|ve[2]<<8&16711680|ve[3]<<24)>>>0),me+=32;else i(se,me,F,U,Y)}function St(F,U){C[U][0]=C[F+"0"],C[U][1]=C[F+"1"],C[U][2]=C[F+"2"],C[U][3]=C[F+"3"],C[U][4]=C[F+"4"],C[U][5]=C[F+"5"],C[U][6]=C[F+"6"],C[U][7]=C[F+"7"],C[U][8]=C[F+"8"],C[U][9]=C[F+"9"],C[U][10]=C[F+"10"],C[U][11]=C[F+"11"],C[U][12]=C[F+"12"],C[U][13]=C[F+"13"],C[U][14]=C[F+"0"],C[U][15]=C[F+"0"]}function bt(F){return F==O8||F==U8||F==p3||F==M8}function At(){this.eb=[],this.size=this.A=this.fb=0}function Qt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Mt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new At,this.f.kb=new Qt,this.sd=null}function xt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function ln(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Dr(F){return alert("todo:WebPSamplerProcessPlane"),F.T}function Yn(F,U){var Y=F.T,se=U.ba.f.RGBA,me=se.eb,ve=se.fb+F.ka*se.A,we=Ll[U.ba.S],Ne=F.y,Te=F.O,Ie=F.f,ze=F.N,Ye=F.ea,Re=F.W,je=U.cc,qe=U.dc,et=U.Mc,Xe=U.Nc,rt=F.ka,at=F.ka+F.T,pt=F.U,ct=pt+1>>1;for(rt==0?we(Ne,Te,null,null,Ie,ze,Ye,Re,Ie,ze,Ye,Re,me,ve,null,null,pt):(we(U.ec,U.fc,Ne,Te,je,qe,et,Xe,Ie,ze,Ye,Re,me,ve-se.A,me,ve,pt),++Y);rt+2<at;rt+=2)je=Ie,qe=ze,et=Ye,Xe=Re,ze+=F.Rc,Re+=F.Rc,ve+=2*se.A,we(Ne,(Te+=2*F.fa)-F.fa,Ne,Te,je,qe,et,Xe,Ie,ze,Ye,Re,me,ve-se.A,me,ve,pt);return Te+=F.fa,F.j+at<F.o?(i(U.ec,U.fc,Ne,Te,pt),i(U.cc,U.dc,Ie,ze,ct),i(U.Mc,U.Nc,Ye,Re,ct),Y--):1&at||we(Ne,Te,null,null,Ie,ze,Ye,Re,Ie,ze,Ye,Re,me,ve+se.A,null,null,pt),Y}function Ao(F,U,Y){var se=F.F,me=[F.J];if(se!=null){var ve=F.U,we=U.ba.S,Ne=we==f3||we==p3;U=U.ba.f.RGBA;var Te=[0],Ie=F.ka;Te[0]=F.T,F.Kb&&(Ie==0?--Te[0]:(--Ie,me[0]-=F.width),F.j+F.ka+F.T==F.o&&(Te[0]=F.o-F.j-Ie));var ze=U.eb;Ie=U.fb+Ie*U.A,F=IB(se,me[0],F.width,ve,Te,ze,Ie+(Ne?0:3),U.A),e(Y==Te),F&&bt(we)&&tx(ze,Ie,Ne,ve,Te,U.A)}return 0}function js(F){var U=F.ma,Y=U.ba.S,se=11>Y,me=Y==d3||Y==h3||Y==f3||Y==F8||Y==12||bt(Y);if(U.memory=null,U.Ib=null,U.Jb=null,U.Nd=null,!Gw(U.Oa,F,me?11:12))return 0;if(me&&bt(Y)&&Ht(),F.da)alert("todo:use_scaling");else{if(se){if(U.Ib=Dr,F.Kb){if(Y=F.U+1>>1,U.memory=a(F.U+2*Y),U.memory==null)return 0;U.ec=U.memory,U.fc=0,U.cc=U.ec,U.dc=U.fc+F.U,U.Mc=U.cc,U.Nc=U.dc+Y,U.Ib=Yn,Ht()}}else alert("todo:EmitYUV");me&&(U.Jb=Ao,se&&Ke())}if(se&&!KB){for(F=0;256>F;++F)roe[F]=89858*(F-128)+g3>>m3,ooe[F]=-22014*(F-128)+g3,soe[F]=-45773*(F-128),aoe[F]=113618*(F-128)+g3>>m3;for(F=ix;F<j8;++F)U=76283*(F-16)+g3>>m3,loe[F-ix]=Co(U,255),coe[F-ix]=Co(U+8>>4,15);KB=1}return 1}function Lt(F){var U=F.ma,Y=F.U,se=F.T;return e(!(1&F.ka)),0>=Y||0>=se?0:(Y=U.Ib(F,U),U.Jb!=null&&U.Jb(F,U,Y),U.Dc+=Y,1)}function $s(F){F.ma.memory=null}function No(F,U,Y,se){return B(F,8)!=47?0:(U[0]=B(F,14)+1,Y[0]=B(F,14)+1,se[0]=B(F,1),B(F,3)!=0?0:!F.h)}function Vr(F,U){if(4>F)return F+1;var Y=F-2>>1;return(2+(1&F)<<Y)+B(U,Y)+1}function Ua(F,U){return 120<U?U-120:1<=(Y=((Y=qse[U-1])>>4)*F+(8-(15&Y)))?Y:1;var Y}function ri(F,U,Y){var se=K(Y),me=F[U+=255&se].g-8;return 0<me&&(V(Y,Y.u+8),se=K(Y),U+=F[U].value,U+=se&(1<<me)-1),V(Y,Y.u+F[U].g),F[U].value}function Ci(F,U,Y){return Y.g+=F.g,Y.value+=F.value<<U>>>0,e(8>=Y.g),F.g}function pi(F,U,Y){var se=F.xc;return e((U=se==0?0:F.vc[F.md*(Y>>se)+(U>>se)])<F.Wb),F.Ya[U]}function st(F,U,Y,se){var me=F.ab,ve=F.c*U,we=F.C;U=we+U;var Ne=Y,Te=se;for(se=F.Ta,Y=F.Ua;0<me--;){var Ie=F.gc[me],ze=we,Ye=U,Re=Ne,je=Te,qe=(Te=se,Ne=Y,Ie.Ea);switch(e(ze<Ye),e(Ye<=Ie.nc),Ie.hc){case 2:or(Re,je,(Ye-ze)*qe,Te,Ne);break;case 0:var et=ze,Xe=Ye,rt=Te,at=Ne,pt=(Pt=Ie).Ea;et==0&&(Kw(Re,je,null,null,1,rt,at),Ve(Re,je+1,0,0,pt-1,rt,at+1),je+=pt,at+=pt,++et);for(var ct=1<<Pt.b,Ft=ct-1,Et=ae(pt,Pt.b),nn=Pt.K,Pt=Pt.w+(et>>Pt.b)*Et;et<Xe;){var gn=nn,Ir=Pt,rn=1;for(Ay(Re,je,rt,at-pt,1,rt,at);rn<pt;){var It=(rn&~Ft)+ct;It>pt&&(It=pt),(0,Jw[gn[Ir++]>>8&15])(Re,je+ +rn,rt,at+rn-pt,It-rn,rt,at+rn),rn=It}je+=pt,at+=pt,++et&Ft||(Pt+=Et)}Ye!=Ie.nc&&i(Te,Ne-qe,Te,Ne+(Ye-ze-1)*qe,qe);break;case 1:for(qe=Re,Xe=je,pt=(Re=Ie.Ea)-(at=Re&~(rt=(je=1<<Ie.b)-1)),et=ae(Re,Ie.b),ct=Ie.K,Ie=Ie.w+(ze>>Ie.b)*et;ze<Ye;){for(Ft=ct,Et=Ie,nn=new _e,Pt=Xe+at,gn=Xe+Re;Xe<Pt;)Me(Ft[Et++],nn),Zw(nn,qe,Xe,je,Te,Ne),Xe+=je,Ne+=je;Xe<gn&&(Me(Ft[Et++],nn),Zw(nn,qe,Xe,pt,Te,Ne),Xe+=pt,Ne+=pt),++ze&rt||(Ie+=et)}break;case 3:if(Re==Te&&je==Ne&&0<Ie.b){for(Xe=Te,Re=qe=Ne+(Ye-ze)*qe-(at=(Ye-ze)*ae(Ie.Ea,Ie.b)),je=Te,rt=Ne,et=[],at=(pt=at)-1;0<=at;--at)et[at]=je[rt+at];for(at=pt-1;0<=at;--at)Xe[Re+at]=et[at];o3(Ie,ze,Ye,Te,qe,Te,Ne)}else o3(Ie,ze,Ye,Re,je,Te,Ne)}Ne=se,Te=Y}Te!=Y&&i(se,Y,Ne,Te,ve)}function ft(F,U){var Y=F.V,se=F.Ba+F.c*F.C,me=U-F.C;if(e(U<=F.l.o),e(16>=me),0<me){var ve=F.l,we=F.Ta,Ne=F.Ua,Te=ve.width;if(st(F,me,Y,se),me=Ne=[Ne],e((Y=F.C)<(se=U)),e(ve.v<ve.va),se>ve.o&&(se=ve.o),Y<ve.j){var Ie=ve.j-Y;Y=ve.j,me[0]+=Ie*Te}if(Y>=se?Y=0:(me[0]+=4*ve.v,ve.ka=Y-ve.j,ve.U=ve.va-ve.v,ve.T=se-Y,Y=1),Y){if(Ne=Ne[0],11>(Y=F.ca).S){var ze=Y.f.RGBA,Ye=(se=Y.S,me=ve.U,ve=ve.T,Ie=ze.eb,ze.A),Re=ve;for(ze=ze.fb+F.Ma*ze.A;0<Re--;){var je=we,qe=Ne,et=me,Xe=Ie,rt=ze;switch(se){case u3:Qw(je,qe,et,Xe,rt);break;case d3:Ff(je,qe,et,Xe,rt);break;case O8:Ff(je,qe,et,Xe,rt),tx(Xe,rt,0,et,1,0);break;case BB:dg(je,qe,et,Xe,rt);break;case h3:ot(je,qe,et,Xe,rt,1);break;case U8:ot(je,qe,et,Xe,rt,1),tx(Xe,rt,0,et,1,0);break;case f3:ot(je,qe,et,Xe,rt,0);break;case p3:ot(je,qe,et,Xe,rt,0),tx(Xe,rt,1,et,1,0);break;case F8:Of(je,qe,et,Xe,rt);break;case M8:Of(je,qe,et,Xe,rt),PB(Xe,rt,et,1,0);break;case zB:Uf(je,qe,et,Xe,rt);break;default:e(0)}Ne+=Te,ze+=Ye}F.Ma+=ve}else alert("todo:EmitRescaledRowsYUVA");e(F.Ma<=Y.height)}}F.C=U,e(F.C<=F.i)}function on(F){var U;if(0<F.ua)return 0;for(U=0;U<F.Wb;++U){var Y=F.Ya[U].G,se=F.Ya[U].H;if(0<Y[1][se[1]+0].g||0<Y[2][se[2]+0].g||0<Y[3][se[3]+0].g)return 0}return 1}function Bt(F,U,Y,se,me,ve){if(F.Z!=0){var we=F.qd,Ne=F.rd;for(e(zf[F.Z]!=null);U<Y;++U)zf[F.Z](we,Ne,se,me,se,me,ve),we=se,Ne=me,me+=ve;F.qd=we,F.rd=Ne}}function ai(F,U){var Y=F.l.ma,se=Y.Z==0||Y.Z==1?F.l.j:F.C;if(se=F.C<se?se:F.C,e(U<=F.l.o),U>se){var me=F.l.width,ve=Y.ca,we=Y.tb+me*se,Ne=F.V,Te=F.Ba+F.c*se,Ie=F.gc;e(F.ab==1),e(Ie[0].hc==3),wu(Ie[0],se,U,Ne,Te,ve,we),Bt(Y,se,U,ve,we,me)}F.C=F.Ma=U}function Jn(F,U,Y,se,me,ve,we){var Ne=F.$/se,Te=F.$%se,Ie=F.m,ze=F.s,Ye=Y+F.$,Re=Ye;me=Y+se*me;var je=Y+se*ve,qe=280+ze.ua,et=F.Pb?Ne:16777216,Xe=0<ze.ua?ze.Wa:null,rt=ze.wc,at=Ye<je?pi(ze,Te,Ne):null;e(F.C<ve),e(je<=me);var pt=!1;e:for(;;){for(;pt||Ye<je;){var ct=0;if(Ne>=et){var Ft=Ye-Y;e((et=F).Pb),et.wd=et.m,et.xd=Ft,0<et.s.ua&&Ee(et.s.Wa,et.s.vb),et=Ne+Vse}if(Te&rt||(at=pi(ze,Te,Ne)),e(at!=null),at.Qb&&(U[Ye]=at.qb,pt=!0),!pt)if(le(Ie),at.jc){ct=Ie,Ft=U;var Et=Ye,nn=at.pd[K(ct)&ug-1];e(at.jc),256>nn.g?(V(ct,ct.u+nn.g),Ft[Et]=nn.value,ct=0):(V(ct,ct.u+nn.g-256),e(256<=nn.value),ct=nn.value),ct==0&&(pt=!0)}else ct=ri(at.G[0],at.H[0],Ie);if(Ie.h)break;if(pt||256>ct){if(!pt)if(at.nd)U[Ye]=(at.qb|ct<<8)>>>0;else{if(le(Ie),pt=ri(at.G[1],at.H[1],Ie),le(Ie),Ft=ri(at.G[2],at.H[2],Ie),Et=ri(at.G[3],at.H[3],Ie),Ie.h)break;U[Ye]=(Et<<24|pt<<16|ct<<8|Ft)>>>0}if(pt=!1,++Ye,++Te>=se&&(Te=0,++Ne,we!=null&&Ne<=ve&&!(Ne%16)&&we(F,Ne),Xe!=null))for(;Re<Ye;)ct=U[Re++],Xe.X[(506832829*ct&4294967295)>>>Xe.Mb]=ct}else if(280>ct){if(ct=Vr(ct-256,Ie),Ft=ri(at.G[4],at.H[4],Ie),le(Ie),Ft=Ua(se,Ft=Vr(Ft,Ie)),Ie.h)break;if(Ye-Y<Ft||me-Ye<ct)break e;for(Et=0;Et<ct;++Et)U[Ye+Et]=U[Ye+Et-Ft];for(Ye+=ct,Te+=ct;Te>=se;)Te-=se,++Ne,we!=null&&Ne<=ve&&!(Ne%16)&&we(F,Ne);if(e(Ye<=me),Te&rt&&(at=pi(ze,Te,Ne)),Xe!=null)for(;Re<Ye;)ct=U[Re++],Xe.X[(506832829*ct&4294967295)>>>Xe.Mb]=ct}else{if(!(ct<qe))break e;for(pt=ct-280,e(Xe!=null);Re<Ye;)ct=U[Re++],Xe.X[(506832829*ct&4294967295)>>>Xe.Mb]=ct;ct=Ye,e(!(pt>>>(Ft=Xe).Xa)),U[ct]=Ft.X[pt],pt=!0}pt||e(Ie.h==Q(Ie))}if(F.Pb&&Ie.h&&Ye<me)e(F.m.h),F.a=5,F.m=F.wd,F.$=F.xd,0<F.s.ua&&Ee(F.s.vb,F.s.Wa);else{if(Ie.h)break e;we!=null&&we(F,Ne>ve?ve:Ne),F.a=0,F.$=Ye-Y}return 1}return F.a=3,0}function Gr(F){e(F!=null),F.vc=null,F.yc=null,F.Ya=null;var U=F.Wa;U!=null&&(U.X=null),F.vb=null,e(F!=null)}function fu(){var F=new jt;return F==null?null:(F.a=0,F.xb=WB,St("Predictor","VP8LPredictors"),St("Predictor","VP8LPredictors_C"),St("PredictorAdd","VP8LPredictorsAdd"),St("PredictorAdd","VP8LPredictorsAdd_C"),or=de,Zw=Fe,Qw=ut,Ff=nt,Of=yt,Uf=Be,dg=Ze,C.VP8LMapColor32b=bu,C.VP8LMapColor8b=Yw,F)}function Ma(F,U,Y,se,me){var ve=1,we=[F],Ne=[U],Te=se.m,Ie=se.s,ze=null,Ye=0;e:for(;;){if(Y)for(;ve&&B(Te,1);){var Re=we,je=Ne,qe=se,et=1,Xe=qe.m,rt=qe.gc[qe.ab],at=B(Xe,2);if(qe.Oc&1<<at)ve=0;else{switch(qe.Oc|=1<<at,rt.hc=at,rt.Ea=Re[0],rt.nc=je[0],rt.K=[null],++qe.ab,e(4>=qe.ab),at){case 0:case 1:rt.b=B(Xe,3)+2,et=Ma(ae(rt.Ea,rt.b),ae(rt.nc,rt.b),0,qe,rt.K),rt.K=rt.K[0];break;case 3:var pt,ct=B(Xe,8)+1,Ft=16<ct?0:4<ct?1:2<ct?2:3;if(Re[0]=ae(rt.Ea,Ft),rt.b=Ft,pt=et=Ma(ct,1,0,qe,rt.K)){var Et,nn=ct,Pt=rt,gn=1<<(8>>Pt.b),Ir=a(gn);if(Ir==null)pt=0;else{var rn=Pt.K[0],It=Pt.w;for(Ir[0]=Pt.K[0][0],Et=1;Et<1*nn;++Et)Ir[Et]=xe(rn[It+Et],Ir[Et-1]);for(;Et<4*gn;++Et)Ir[Et]=0;Pt.K[0]=null,Pt.K[0]=Ir,pt=1}}et=pt;break;case 2:break;default:e(0)}ve=et}}if(we=we[0],Ne=Ne[0],ve&&B(Te,1)&&!(ve=1<=(Ye=B(Te,4))&&11>=Ye)){se.a=3;break e}var wt;if(wt=ve)t:{var cr,Kt,_n,Ti=se,ma=we,ws=Ne,Xi=Ye,$a=Y,xs=Ti.m,Rr=Ti.s,kn=[null],zn=1,Ki=0,jn=Hse[Xi];n:for(;;){if($a&&B(xs,1)){var ga=B(xs,3)+2,Sc=ae(ma,ga),ur=ae(ws,ga),qs=Sc*ur;if(!Ma(Sc,ur,0,Ti,kn))break n;for(kn=kn[0],Rr.xc=ga,cr=0;cr<qs;++cr){var li=kn[cr]>>8&65535;kn[cr]=li,li>=zn&&(zn=li+1)}}if(xs.h)break n;for(Kt=0;5>Kt;++Kt){var Lr=jB[Kt];!Kt&&0<Xi&&(Lr+=1<<Xi),Ki<Lr&&(Ki=Lr)}var Po=s(zn*jn,I),_s=zn,Io=s(_s,z);if(Io==null)var Ro=null;else e(65536>=_s),Ro=Io;var Hs=a(Ki);if(Ro==null||Hs==null||Po==null){Ti.a=1;break n}var Lo=Po;for(cr=_n=0;cr<zn;++cr){var bi=Ro[cr],Fo=bi.G,Ac=bi.H,fg=0,$d=1,ya=0;for(Kt=0;5>Kt;++Kt){Lr=jB[Kt],Fo[Kt]=Lo,Ac[Kt]=_n,!Kt&&0<Xi&&(Lr+=1<<Xi);r:{var v3,$8=Lr,b3=Ti,rx=Hs,hoe=Lo,foe=_n,W8=0,jf=b3.m,poe=B(jf,1);if(r(rx,0,0,$8),poe){var moe=B(jf,1)+1,goe=B(jf,1),ZB=B(jf,goe==0?1:8);rx[ZB]=1,moe==2&&(rx[ZB=B(jf,8)]=1);var w3=1}else{var QB=a(19),ez=B(jf,4)+4;if(19<ez){b3.a=3;var x3=0;break r}for(v3=0;v3<ez;++v3)QB[Wse[v3]]=B(jf,3);var q8=void 0,ax=void 0,tz=b3,yoe=QB,_3=$8,nz=rx,H8=0,$f=tz.m,iz=8,rz=s(128,I);i:for(;A(rz,0,7,yoe,19);){if(B($f,1)){var voe=2+2*B($f,3);if((q8=2+B($f,voe))>_3)break i}else q8=_3;for(ax=0;ax<_3&&q8--;){le($f);var az=rz[0+(127&K($f))];V($f,$f.u+az.g);var ky=az.value;if(16>ky)nz[ax++]=ky,ky!=0&&(iz=ky);else{var boe=ky==16,sz=ky-16,woe=jse[sz],oz=B($f,zse[sz])+woe;if(ax+oz>_3)break i;for(var xoe=boe?iz:0;0<oz--;)nz[ax++]=xoe}}H8=1;break i}H8||(tz.a=3),w3=H8}(w3=w3&&!jf.h)&&(W8=A(hoe,foe,8,rx,$8)),w3&&W8!=0?x3=W8:(b3.a=3,x3=0)}if(x3==0)break n;if($d&&$se[Kt]==1&&($d=Lo[_n].g==0),fg+=Lo[_n].g,_n+=x3,3>=Kt){var sx,V8=Hs[0];for(sx=1;sx<Lr;++sx)Hs[sx]>V8&&(V8=Hs[sx]);ya+=V8}}if(bi.nd=$d,bi.Qb=0,$d&&(bi.qb=(Fo[3][Ac[3]+0].value<<24|Fo[1][Ac[1]+0].value<<16|Fo[2][Ac[2]+0].value)>>>0,fg==0&&256>Fo[0][Ac[0]+0].value&&(bi.Qb=1,bi.qb+=Fo[0][Ac[0]+0].value<<8)),bi.jc=!bi.Qb&&6>ya,bi.jc){var S3,Wd=bi;for(S3=0;S3<ug;++S3){var Wf=S3,qf=Wd.pd[Wf],A3=Wd.G[0][Wd.H[0]+Wf];256<=A3.value?(qf.g=A3.g+256,qf.value=A3.value):(qf.g=0,qf.value=0,Wf>>=Ci(A3,8,qf),Wf>>=Ci(Wd.G[1][Wd.H[1]+Wf],16,qf),Wf>>=Ci(Wd.G[2][Wd.H[2]+Wf],0,qf),Ci(Wd.G[3][Wd.H[3]+Wf],24,qf))}}}Rr.vc=kn,Rr.Wb=zn,Rr.Ya=Ro,Rr.yc=Po,wt=1;break t}wt=0}if(!(ve=wt)){se.a=3;break e}if(0<Ye){if(Ie.ua=1<<Ye,!re(Ie.Wa,Ye)){se.a=1,ve=0;break e}}else Ie.ua=0;var G8=se,lz=we,_oe=Ne,X8=G8.s,K8=X8.xc;if(G8.c=lz,G8.i=_oe,X8.md=ae(lz,K8),X8.wc=K8==0?-1:(1<<K8)-1,Y){se.xb=Qse;break e}if((ze=a(we*Ne))==null){se.a=1,ve=0;break e}ve=(ve=Jn(se,ze,0,we,Ne,Ne,null))&&!Te.h;break e}return ve?(me!=null?me[0]=ze:(e(ze==null),e(Y)),se.$=0,Y||Gr(Ie)):Gr(Ie),ve}function Ed(F,U){var Y=F.c*F.i,se=Y+U+16*U;return e(F.c<=U),F.V=a(se),F.V==null?(F.Ta=null,F.Ua=0,F.a=1,0):(F.Ta=F.V,F.Ua=F.Ba+Y+U,1)}function bc(F,U){var Y=F.C,se=U-Y,me=F.V,ve=F.Ba+F.c*Y;for(e(U<=F.l.o);0<se;){var we=16<se?16:se,Ne=F.l.ma,Te=F.l.width,Ie=Te*we,ze=Ne.ca,Ye=Ne.tb+Te*Y,Re=F.Ta,je=F.Ua;st(F,we,me,ve),RB(Re,je,ze,Ye,Ie),Bt(Ne,Y,Y+we,ze,Ye,Te),se-=we,me+=we*F.c,Y+=we}e(Y==U),F.C=F.Ma=U}function Td(){this.ub=this.yd=this.td=this.Rb=0}function pu(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Dd(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function ko(){this.Yb=function(){var F=[];return function U(Y,se,me){for(var ve=me[se],we=0;we<ve&&(Y.push(me.length>se+1?[]:0),!(me.length<se+1));we++)U(Y[we],se+1,me)}(F,0,[3,11]),F}()}function Af(){this.jb=a(3),this.Wc=o([4,8],ko),this.Xc=o([4,17],ko)}function uy(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function fs(){this.ld=this.La=this.dd=this.tc=0}function Nf(){this.Na=this.la=0}function Qm(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Pd(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function kf(){this.uc=this.M=this.Nb=0,this.wa=Array(new fs),this.Y=0,this.ya=Array(new Pd),this.aa=0,this.l=new Cf}function eg(){this.y=a(16),this.f=a(8),this.ea=a(8)}function tg(){this.cb=this.a=0,this.sc="",this.m=new L,this.Od=new Td,this.Kc=new pu,this.ed=new uy,this.Qa=new Dd,this.Ic=this.$c=this.Aa=0,this.D=new kf,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,L),this.ia=0,this.pb=s(4,Qm),this.Pa=new Af,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new eg),this.Hd=0,this.rb=Array(new Nf),this.sb=0,this.wa=Array(new fs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Pd),this.L=this.aa=0,this.gd=o([4,2],fs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Co(F,U){return 0>F?0:F>U?U:F}function Cf(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Sl(){var F=new tg;return F!=null&&(F.a=0,F.sc="OK",F.cb=0,F.Xb=0,nx||(nx=gu)),F}function Dn(F,U,Y){return F.a==0&&(F.a=U,F.sc=Y,F.cb=0),0}function mu(F,U,Y){return 3<=Y&&F[U+0]==157&&F[U+1]==1&&F[U+2]==42}function Ba(F,U){if(F==null)return 0;if(F.a=0,F.sc="OK",U==null)return Dn(F,2,"null VP8Io passed to VP8GetHeaders()");var Y=U.data,se=U.w,me=U.ha;if(4>me)return Dn(F,7,"Truncated header.");var ve=Y[se+0]|Y[se+1]<<8|Y[se+2]<<16,we=F.Od;if(we.Rb=!(1&ve),we.td=ve>>1&7,we.yd=ve>>4&1,we.ub=ve>>5,3<we.td)return Dn(F,3,"Incorrect keyframe parameters.");if(!we.yd)return Dn(F,4,"Frame not displayable.");se+=3,me-=3;var Ne=F.Kc;if(we.Rb){if(7>me)return Dn(F,7,"cannot parse picture header");if(!mu(Y,se,me))return Dn(F,3,"Bad code word");Ne.c=16383&(Y[se+4]<<8|Y[se+3]),Ne.Td=Y[se+4]>>6,Ne.i=16383&(Y[se+6]<<8|Y[se+5]),Ne.Ud=Y[se+6]>>6,se+=7,me-=7,F.za=Ne.c+15>>4,F.Ub=Ne.i+15>>4,U.width=Ne.c,U.height=Ne.i,U.Da=0,U.j=0,U.v=0,U.va=U.width,U.o=U.height,U.da=0,U.ib=U.width,U.hb=U.height,U.U=U.width,U.T=U.height,r((ve=F.Pa).jb,0,255,ve.jb.length),e((ve=F.Qa)!=null),ve.Cb=0,ve.Bb=0,ve.Fb=1,r(ve.Zb,0,0,ve.Zb.length),r(ve.Lb,0,0,ve.Lb)}if(we.ub>me)return Dn(F,7,"bad partition length");j(ve=F.m,Y,se,we.ub),se+=we.ub,me-=we.ub,we.Rb&&(Ne.Ld=ye(ve),Ne.Kd=ye(ve)),Ne=F.Qa;var Te,Ie=F.Pa;if(e(ve!=null),e(Ne!=null),Ne.Cb=ye(ve),Ne.Cb){if(Ne.Bb=ye(ve),ye(ve)){for(Ne.Fb=ye(ve),Te=0;4>Te;++Te)Ne.Zb[Te]=ye(ve)?$(ve,7):0;for(Te=0;4>Te;++Te)Ne.Lb[Te]=ye(ve)?$(ve,6):0}if(Ne.Bb)for(Te=0;3>Te;++Te)Ie.jb[Te]=ye(ve)?W(ve,8):255}else Ne.Bb=0;if(ve.Ka)return Dn(F,3,"cannot parse segment header");if((Ne=F.ed).zd=ye(ve),Ne.Tb=W(ve,6),Ne.wb=W(ve,3),Ne.Pc=ye(ve),Ne.Pc&&ye(ve)){for(Ie=0;4>Ie;++Ie)ye(ve)&&(Ne.vd[Ie]=$(ve,6));for(Ie=0;4>Ie;++Ie)ye(ve)&&(Ne.od[Ie]=$(ve,6))}if(F.L=Ne.Tb==0?0:Ne.zd?1:2,ve.Ka)return Dn(F,3,"cannot parse filter header");var ze=me;if(me=Te=se,se=Te+ze,Ne=ze,F.Xb=(1<<W(F.m,2))-1,ze<3*(Ie=F.Xb))Y=7;else{for(Te+=3*Ie,Ne-=3*Ie,ze=0;ze<Ie;++ze){var Ye=Y[me+0]|Y[me+1]<<8|Y[me+2]<<16;Ye>Ne&&(Ye=Ne),j(F.Jc[+ze],Y,Te,Ye),Te+=Ye,Ne-=Ye,me+=3}j(F.Jc[+Ie],Y,Te,Ne),Y=Te<se?0:5}if(Y!=0)return Dn(F,Y,"cannot parse partitions");for(Y=W(Te=F.m,7),me=ye(Te)?$(Te,4):0,se=ye(Te)?$(Te,4):0,Ne=ye(Te)?$(Te,4):0,Ie=ye(Te)?$(Te,4):0,Te=ye(Te)?$(Te,4):0,ze=F.Qa,Ye=0;4>Ye;++Ye){if(ze.Cb){var Re=ze.Zb[Ye];ze.Fb||(Re+=Y)}else{if(0<Ye){F.pb[Ye]=F.pb[0];continue}Re=Y}var je=F.pb[Ye];je.Sc[0]=B8[Co(Re+me,127)],je.Sc[1]=z8[Co(Re+0,127)],je.Eb[0]=2*B8[Co(Re+se,127)],je.Eb[1]=101581*z8[Co(Re+Ne,127)]>>16,8>je.Eb[1]&&(je.Eb[1]=8),je.Qc[0]=B8[Co(Re+Ie,117)],je.Qc[1]=z8[Co(Re+Te,127)],je.lc=Re+Te}if(!we.Rb)return Dn(F,4,"Not a key frame.");for(ye(ve),we=F.Pa,Y=0;4>Y;++Y){for(me=0;8>me;++me)for(se=0;3>se;++se)for(Ne=0;11>Ne;++Ne)Ie=be(ve,Jse[Y][me][se][Ne])?W(ve,8):Kse[Y][me][se][Ne],we.Wc[Y][me].Yb[se][Ne]=Ie;for(me=0;17>me;++me)we.Xc[Y][me]=we.Wc[Y][Zse[me]]}return F.kc=ye(ve),F.kc&&(F.Bd=W(ve,8)),F.cb=1}function gu(F,U,Y,se,me,ve,we){var Ne=U[me].Yb[Y];for(Y=0;16>me;++me){if(!be(F,Ne[Y+0]))return me;for(;!be(F,Ne[Y+1]);)if(Ne=U[++me].Yb[0],Y=0,me==16)return 16;var Te=U[me+1].Yb;if(be(F,Ne[Y+2])){var Ie=F,ze=0;if(be(Ie,(Re=Ne)[(Ye=Y)+3]))if(be(Ie,Re[Ye+6])){for(Ne=0,Ye=2*(ze=be(Ie,Re[Ye+8]))+(Re=be(Ie,Re[Ye+9+ze])),ze=0,Re=Gse[Ye];Re[Ne];++Ne)ze+=ze+be(Ie,Re[Ne]);ze+=3+(8<<Ye)}else be(Ie,Re[Ye+7])?(ze=7+2*be(Ie,165),ze+=be(Ie,145)):ze=5+be(Ie,159);else ze=be(Ie,Re[Ye+4])?3+be(Ie,Re[Ye+5]):2;Ne=Te[2]}else ze=1,Ne=Te[1];Te=we+Xse[me],0>(Ie=F).b&&ge(Ie);var Ye,Re=Ie.b,je=(Ye=Ie.Ca>>1)-(Ie.I>>Re)>>31;--Ie.b,Ie.Ca+=je,Ie.Ca|=1,Ie.I-=(Ye+1&je)<<Re,ve[Te]=((ze^je)-je)*se[(0<me)+0]}return 16}function On(F){var U=F.rb[F.sb-1];U.la=0,U.Na=0,r(F.zc,0,0,F.zc.length),F.ja=0}function pa(F,U,Y,se,me){me=F[U+Y+32*se]+(me>>3),F[U+Y+32*se]=-256&me?0>me?0:255:me}function Ei(F,U,Y,se,me,ve){pa(F,U,0,Y,se+me),pa(F,U,1,Y,se+ve),pa(F,U,2,Y,se-ve),pa(F,U,3,Y,se-me)}function ps(F){return(20091*F>>16)+F}function dy(F,U,Y,se){var me,ve=0,we=a(16);for(me=0;4>me;++me){var Ne=F[U+0]+F[U+8],Te=F[U+0]-F[U+8],Ie=(35468*F[U+4]>>16)-ps(F[U+12]),ze=ps(F[U+4])+(35468*F[U+12]>>16);we[ve+0]=Ne+ze,we[ve+1]=Te+Ie,we[ve+2]=Te-Ie,we[ve+3]=Ne-ze,ve+=4,U++}for(me=ve=0;4>me;++me)Ne=(F=we[ve+0]+4)+we[ve+8],Te=F-we[ve+8],Ie=(35468*we[ve+4]>>16)-ps(we[ve+12]),pa(Y,se,0,0,Ne+(ze=ps(we[ve+4])+(35468*we[ve+12]>>16))),pa(Y,se,1,0,Te+Ie),pa(Y,se,2,0,Te-Ie),pa(Y,se,3,0,Ne-ze),ve++,se+=32}function hy(F,U,Y,se){var me=F[U+0]+4,ve=35468*F[U+4]>>16,we=ps(F[U+4]),Ne=35468*F[U+1]>>16;Ei(Y,se,0,me+we,F=ps(F[U+1]),Ne),Ei(Y,se,1,me+ve,F,Ne),Ei(Y,se,2,me-ve,F,Ne),Ei(Y,se,3,me-we,F,Ne)}function qw(F,U,Y,se,me){dy(F,U,Y,se),me&&dy(F,U+16,Y,se+4)}function Al(F,U,Y,se){hg(F,U+0,Y,se,1),hg(F,U+32,Y,se+128,1)}function fy(F,U,Y,se){var me;for(F=F[U+0]+4,me=0;4>me;++me)for(U=0;4>U;++U)pa(Y,se,U,me,F)}function py(F,U,Y,se){F[U+0]&&Un(F,U+0,Y,se),F[U+16]&&Un(F,U+16,Y,se+4),F[U+32]&&Un(F,U+32,Y,se+128),F[U+48]&&Un(F,U+48,Y,se+128+4)}function Nl(F,U,Y,se){var me,ve=a(16);for(me=0;4>me;++me){var we=F[U+0+me]+F[U+12+me],Ne=F[U+4+me]+F[U+8+me],Te=F[U+4+me]-F[U+8+me],Ie=F[U+0+me]-F[U+12+me];ve[0+me]=we+Ne,ve[8+me]=we-Ne,ve[4+me]=Ie+Te,ve[12+me]=Ie-Te}for(me=0;4>me;++me)we=(F=ve[0+4*me]+3)+ve[3+4*me],Ne=ve[1+4*me]+ve[2+4*me],Te=ve[1+4*me]-ve[2+4*me],Ie=F-ve[3+4*me],Y[se+0]=we+Ne>>3,Y[se+16]=Ie+Te>>3,Y[se+32]=we-Ne>>3,Y[se+48]=Ie-Te>>3,se+=64}function ms(F,U,Y){var se,me=U-32,ve=Do,we=255-F[me-1];for(se=0;se<Y;++se){var Ne,Te=ve,Ie=we+F[U-1];for(Ne=0;Ne<Y;++Ne)F[U+Ne]=Te[Ie+F[me+Ne]];U+=32}}function my(F,U){ms(F,U,4)}function gy(F,U){ms(F,U,8)}function yy(F,U){ms(F,U,16)}function Ef(F,U){var Y;for(Y=0;16>Y;++Y)i(F,U+32*Y,F,U-32,16)}function ng(F,U){var Y;for(Y=16;0<Y;--Y)r(F,U,F[U-1],16),U+=32}function Xr(F,U,Y){var se;for(se=0;16>se;++se)r(U,Y+32*se,F,16)}function Hw(F,U){var Y,se=16;for(Y=0;16>Y;++Y)se+=F[U-1+32*Y]+F[U+Y-32];Xr(se>>5,F,U)}function Id(F,U){var Y,se=8;for(Y=0;16>Y;++Y)se+=F[U-1+32*Y];Xr(se>>4,F,U)}function ig(F,U){var Y,se=8;for(Y=0;16>Y;++Y)se+=F[U+Y-32];Xr(se>>4,F,U)}function kl(F,U){Xr(128,F,U)}function Wt(F,U,Y){return F+2*U+Y+2>>2}function rg(F,U){var Y,se=U-32;for(se=new Uint8Array([Wt(F[se-1],F[se+0],F[se+1]),Wt(F[se+0],F[se+1],F[se+2]),Wt(F[se+1],F[se+2],F[se+3]),Wt(F[se+2],F[se+3],F[se+4])]),Y=0;4>Y;++Y)i(F,U+32*Y,se,0,se.length)}function Tf(F,U){var Y=F[U-1],se=F[U-1+32],me=F[U-1+64],ve=F[U-1+96];Le(F,U+0,16843009*Wt(F[U-1-32],Y,se)),Le(F,U+32,16843009*Wt(Y,se,me)),Le(F,U+64,16843009*Wt(se,me,ve)),Le(F,U+96,16843009*Wt(me,ve,ve))}function vy(F,U){var Y,se=4;for(Y=0;4>Y;++Y)se+=F[U+Y-32]+F[U-1+32*Y];for(se>>=3,Y=0;4>Y;++Y)r(F,U+32*Y,se,4)}function gs(F,U){var Y=F[U-1+0],se=F[U-1+32],me=F[U-1+64],ve=F[U-1-32],we=F[U+0-32],Ne=F[U+1-32],Te=F[U+2-32],Ie=F[U+3-32];F[U+0+96]=Wt(se,me,F[U-1+96]),F[U+1+96]=F[U+0+64]=Wt(Y,se,me),F[U+2+96]=F[U+1+64]=F[U+0+32]=Wt(ve,Y,se),F[U+3+96]=F[U+2+64]=F[U+1+32]=F[U+0+0]=Wt(we,ve,Y),F[U+3+64]=F[U+2+32]=F[U+1+0]=Wt(Ne,we,ve),F[U+3+32]=F[U+2+0]=Wt(Te,Ne,we),F[U+3+0]=Wt(Ie,Te,Ne)}function ys(F,U){var Y=F[U+1-32],se=F[U+2-32],me=F[U+3-32],ve=F[U+4-32],we=F[U+5-32],Ne=F[U+6-32],Te=F[U+7-32];F[U+0+0]=Wt(F[U+0-32],Y,se),F[U+1+0]=F[U+0+32]=Wt(Y,se,me),F[U+2+0]=F[U+1+32]=F[U+0+64]=Wt(se,me,ve),F[U+3+0]=F[U+2+32]=F[U+1+64]=F[U+0+96]=Wt(me,ve,we),F[U+3+32]=F[U+2+64]=F[U+1+96]=Wt(ve,we,Ne),F[U+3+64]=F[U+2+96]=Wt(we,Ne,Te),F[U+3+96]=Wt(Ne,Te,Te)}function by(F,U){var Y=F[U-1+0],se=F[U-1+32],me=F[U-1+64],ve=F[U-1-32],we=F[U+0-32],Ne=F[U+1-32],Te=F[U+2-32],Ie=F[U+3-32];F[U+0+0]=F[U+1+64]=ve+we+1>>1,F[U+1+0]=F[U+2+64]=we+Ne+1>>1,F[U+2+0]=F[U+3+64]=Ne+Te+1>>1,F[U+3+0]=Te+Ie+1>>1,F[U+0+96]=Wt(me,se,Y),F[U+0+64]=Wt(se,Y,ve),F[U+0+32]=F[U+1+96]=Wt(Y,ve,we),F[U+1+32]=F[U+2+96]=Wt(ve,we,Ne),F[U+2+32]=F[U+3+96]=Wt(we,Ne,Te),F[U+3+32]=Wt(Ne,Te,Ie)}function ag(F,U){var Y=F[U+0-32],se=F[U+1-32],me=F[U+2-32],ve=F[U+3-32],we=F[U+4-32],Ne=F[U+5-32],Te=F[U+6-32],Ie=F[U+7-32];F[U+0+0]=Y+se+1>>1,F[U+1+0]=F[U+0+64]=se+me+1>>1,F[U+2+0]=F[U+1+64]=me+ve+1>>1,F[U+3+0]=F[U+2+64]=ve+we+1>>1,F[U+0+32]=Wt(Y,se,me),F[U+1+32]=F[U+0+96]=Wt(se,me,ve),F[U+2+32]=F[U+1+96]=Wt(me,ve,we),F[U+3+32]=F[U+2+96]=Wt(ve,we,Ne),F[U+3+64]=Wt(we,Ne,Te),F[U+3+96]=Wt(Ne,Te,Ie)}function Zn(F,U){var Y=F[U-1+0],se=F[U-1+32],me=F[U-1+64],ve=F[U-1+96];F[U+0+0]=Y+se+1>>1,F[U+2+0]=F[U+0+32]=se+me+1>>1,F[U+2+32]=F[U+0+64]=me+ve+1>>1,F[U+1+0]=Wt(Y,se,me),F[U+3+0]=F[U+1+32]=Wt(se,me,ve),F[U+3+32]=F[U+1+64]=Wt(me,ve,ve),F[U+3+64]=F[U+2+64]=F[U+0+96]=F[U+1+96]=F[U+2+96]=F[U+3+96]=ve}function sg(F,U){var Y=F[U-1+0],se=F[U-1+32],me=F[U-1+64],ve=F[U-1+96],we=F[U-1-32],Ne=F[U+0-32],Te=F[U+1-32],Ie=F[U+2-32];F[U+0+0]=F[U+2+32]=Y+we+1>>1,F[U+0+32]=F[U+2+64]=se+Y+1>>1,F[U+0+64]=F[U+2+96]=me+se+1>>1,F[U+0+96]=ve+me+1>>1,F[U+3+0]=Wt(Ne,Te,Ie),F[U+2+0]=Wt(we,Ne,Te),F[U+1+0]=F[U+3+32]=Wt(Y,we,Ne),F[U+1+32]=F[U+3+64]=Wt(se,Y,we),F[U+1+64]=F[U+3+96]=Wt(me,se,Y),F[U+1+96]=Wt(ve,me,se)}function Rd(F,U){var Y;for(Y=0;8>Y;++Y)i(F,U+32*Y,F,U-32,8)}function wy(F,U){var Y;for(Y=0;8>Y;++Y)r(F,U,F[U-1],8),U+=32}function Cl(F,U,Y){var se;for(se=0;8>se;++se)r(U,Y+32*se,F,8)}function xy(F,U){var Y,se=8;for(Y=0;8>Y;++Y)se+=F[U+Y-32]+F[U-1+32*Y];Cl(se>>4,F,U)}function yu(F,U){var Y,se=4;for(Y=0;8>Y;++Y)se+=F[U+Y-32];Cl(se>>3,F,U)}function Ws(F,U){var Y,se=4;for(Y=0;8>Y;++Y)se+=F[U-1+32*Y];Cl(se>>3,F,U)}function og(F,U){Cl(128,F,U)}function wc(F,U,Y){var se=F[U-Y],me=F[U+0],ve=3*(me-se)+L8[1020+F[U-2*Y]-F[U+Y]],we=c3[112+(ve+4>>3)];F[U-Y]=Do[255+se+c3[112+(ve+3>>3)]],F[U+0]=Do[255+me-we]}function xc(F,U,Y,se){var me=F[U+0],ve=F[U+Y];return Rl[255+F[U-2*Y]-F[U-Y]]>se||Rl[255+ve-me]>se}function Ld(F,U,Y,se){return 4*Rl[255+F[U-Y]-F[U+0]]+Rl[255+F[U-2*Y]-F[U+Y]]<=se}function Fd(F,U,Y,se,me){var ve=F[U-3*Y],we=F[U-2*Y],Ne=F[U-Y],Te=F[U+0],Ie=F[U+Y],ze=F[U+2*Y],Ye=F[U+3*Y];return 4*Rl[255+Ne-Te]+Rl[255+we-Ie]>se?0:Rl[255+F[U-4*Y]-ve]<=me&&Rl[255+ve-we]<=me&&Rl[255+we-Ne]<=me&&Rl[255+Ye-ze]<=me&&Rl[255+ze-Ie]<=me&&Rl[255+Ie-Te]<=me}function El(F,U,Y,se){var me=2*se+1;for(se=0;16>se;++se)Ld(F,U+se,Y,me)&&wc(F,U+se,Y)}function Df(F,U,Y,se){var me=2*se+1;for(se=0;16>se;++se)Ld(F,U+se*Y,1,me)&&wc(F,U+se*Y,1)}function Od(F,U,Y,se){var me;for(me=3;0<me;--me)El(F,U+=4*Y,Y,se)}function _y(F,U,Y,se){var me;for(me=3;0<me;--me)Df(F,U+=4,Y,se)}function Tl(F,U,Y,se,me,ve,we,Ne){for(ve=2*ve+1;0<me--;){if(Fd(F,U,Y,ve,we))if(xc(F,U,Y,Ne))wc(F,U,Y);else{var Te=F,Ie=U,ze=Y,Ye=Te[Ie-2*ze],Re=Te[Ie-ze],je=Te[Ie+0],qe=Te[Ie+ze],et=Te[Ie+2*ze],Xe=27*(at=L8[1020+3*(je-Re)+L8[1020+Ye-qe]])+63>>7,rt=18*at+63>>7,at=9*at+63>>7;Te[Ie-3*ze]=Do[255+Te[Ie-3*ze]+at],Te[Ie-2*ze]=Do[255+Ye+rt],Te[Ie-ze]=Do[255+Re+Xe],Te[Ie+0]=Do[255+je-Xe],Te[Ie+ze]=Do[255+qe-rt],Te[Ie+2*ze]=Do[255+et-at]}U+=se}}function vs(F,U,Y,se,me,ve,we,Ne){for(ve=2*ve+1;0<me--;){if(Fd(F,U,Y,ve,we))if(xc(F,U,Y,Ne))wc(F,U,Y);else{var Te=F,Ie=U,ze=Y,Ye=Te[Ie-ze],Re=Te[Ie+0],je=Te[Ie+ze],qe=c3[112+(4+(et=3*(Re-Ye))>>3)],et=c3[112+(et+3>>3)],Xe=qe+1>>1;Te[Ie-2*ze]=Do[255+Te[Ie-2*ze]+Xe],Te[Ie-ze]=Do[255+Ye+et],Te[Ie+0]=Do[255+Re-qe],Te[Ie+ze]=Do[255+je-Xe]}U+=se}}function lg(F,U,Y,se,me,ve){Tl(F,U,Y,1,16,se,me,ve)}function vu(F,U,Y,se,me,ve){Tl(F,U,1,Y,16,se,me,ve)}function Pf(F,U,Y,se,me,ve){var we;for(we=3;0<we;--we)vs(F,U+=4*Y,Y,1,16,se,me,ve)}function H(F,U,Y,se,me,ve){var we;for(we=3;0<we;--we)vs(F,U+=4,1,Y,16,se,me,ve)}function fe(F,U,Y,se,me,ve,we,Ne){Tl(F,U,me,1,8,ve,we,Ne),Tl(Y,se,me,1,8,ve,we,Ne)}function Pe(F,U,Y,se,me,ve,we,Ne){Tl(F,U,1,me,8,ve,we,Ne),Tl(Y,se,1,me,8,ve,we,Ne)}function Ue(F,U,Y,se,me,ve,we,Ne){vs(F,U+4*me,me,1,8,ve,we,Ne),vs(Y,se+4*me,me,1,8,ve,we,Ne)}function $e(F,U,Y,se,me,ve,we,Ne){vs(F,U+4,1,me,8,ve,we,Ne),vs(Y,se+4,1,me,8,ve,we,Ne)}function Qe(){this.ba=new Mt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new ln,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function lt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function kt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Dt(){this.ua=0,this.Wa=new ne,this.vb=new ne,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new z,this.yc=new I}function jt(){this.xb=this.a=0,this.l=new Cf,this.ca=new Mt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Dt,this.ab=0,this.gc=s(4,kt),this.Oc=0}function Ut(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Cf,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function dn(F,U,Y,se,me,ve,we){for(F=F==null?0:F[U+0],U=0;U<we;++U)me[ve+U]=F+Y[se+U]&255,F=me[ve+U]}function mi(F,U,Y,se,me,ve,we){var Ne;if(F==null)dn(null,null,Y,se,me,ve,we);else for(Ne=0;Ne<we;++Ne)me[ve+Ne]=F[U+Ne]+Y[se+Ne]&255}function si(F,U,Y,se,me,ve,we){if(F==null)dn(null,null,Y,se,me,ve,we);else{var Ne,Te=F[U+0],Ie=Te,ze=Te;for(Ne=0;Ne<we;++Ne)Ie=ze+(Te=F[U+Ne])-Ie,ze=Y[se+Ne]+(-256&Ie?0>Ie?0:255:Ie)&255,Ie=Te,me[ve+Ne]=ze}}function O(F,U,Y,se){var me=U.width,ve=U.o;if(e(F!=null&&U!=null),0>Y||0>=se||Y+se>ve)return null;if(!F.Cc){if(F.ga==null){var we;if(F.ga=new Ut,(we=F.ga==null)||(we=U.width*U.o,e(F.Gb.length==0),F.Gb=a(we),F.Uc=0,F.Gb==null?we=0:(F.mb=F.Gb,F.nb=F.Uc,F.rc=null,we=1),we=!we),!we){we=F.ga;var Ne=F.Fa,Te=F.P,Ie=F.qc,ze=F.mb,Ye=F.nb,Re=Te+1,je=Ie-1,qe=we.l;if(e(Ne!=null&&ze!=null&&U!=null),zf[0]=null,zf[1]=dn,zf[2]=mi,zf[3]=si,we.ca=ze,we.tb=Ye,we.c=U.width,we.i=U.height,e(0<we.c&&0<we.i),1>=Ie)U=0;else if(we.$a=3&Ne[Te+0],we.Z=Ne[Te+0]>>2&3,we.Lc=Ne[Te+0]>>4&3,Te=Ne[Te+0]>>6&3,0>we.$a||1<we.$a||4<=we.Z||1<we.Lc||Te)U=0;else if(qe.put=Lt,qe.ac=js,qe.bc=$s,qe.ma=we,qe.width=U.width,qe.height=U.height,qe.Da=U.Da,qe.v=U.v,qe.va=U.va,qe.j=U.j,qe.o=U.o,we.$a)e:{e(we.$a==1),U=fu();t:for(;;){if(U==null){U=0;break e}if(e(we!=null),we.mc=U,U.c=we.c,U.i=we.i,U.l=we.l,U.l.ma=we,U.l.width=we.c,U.l.height=we.i,U.a=0,q(U.m,Ne,Re,je),!Ma(we.c,we.i,1,U,null)||(U.ab==1&&U.gc[0].hc==3&&on(U.s)?(we.ic=1,Ne=U.c*U.i,U.Ta=null,U.Ua=0,U.V=a(Ne),U.Ba=0,U.V==null?(U.a=1,U=0):U=1):(we.ic=0,U=Ed(U,we.c)),!U))break t;U=1;break e}we.mc=null,U=0}else U=je>=we.c*we.i;we=!U}if(we)return null;F.ga.Lc!=1?F.Ga=0:se=ve-Y}e(F.ga!=null),e(Y+se<=ve);e:{if(U=(Ne=F.ga).c,ve=Ne.l.o,Ne.$a==0){if(Re=F.rc,je=F.Vc,qe=F.Fa,Te=F.P+1+Y*U,Ie=F.mb,ze=F.nb+Y*U,e(Te<=F.P+F.qc),Ne.Z!=0)for(e(zf[Ne.Z]!=null),we=0;we<se;++we)zf[Ne.Z](Re,je,qe,Te,Ie,ze,U),Re=Ie,je=ze,ze+=U,Te+=U;else for(we=0;we<se;++we)i(Ie,ze,qe,Te,U),Re=Ie,je=ze,ze+=U,Te+=U;F.rc=Re,F.Vc=je}else{if(e(Ne.mc!=null),U=Y+se,e((we=Ne.mc)!=null),e(U<=we.i),we.C>=U)U=1;else if(Ne.ic||Ke(),Ne.ic){Ne=we.V,Re=we.Ba,je=we.c;var et=we.i,Xe=(qe=1,Te=we.$/je,Ie=we.$%je,ze=we.m,Ye=we.s,we.$),rt=je*et,at=je*U,pt=Ye.wc,ct=Xe<at?pi(Ye,Ie,Te):null;e(Xe<=rt),e(U<=et),e(on(Ye));t:for(;;){for(;!ze.h&&Xe<at;){if(Ie&pt||(ct=pi(Ye,Ie,Te)),e(ct!=null),le(ze),256>(et=ri(ct.G[0],ct.H[0],ze)))Ne[Re+Xe]=et,++Xe,++Ie>=je&&(Ie=0,++Te<=U&&!(Te%16)&&ai(we,Te));else{if(!(280>et)){qe=0;break t}et=Vr(et-256,ze);var Ft,Et=ri(ct.G[4],ct.H[4],ze);if(le(ze),!(Xe>=(Et=Ua(je,Et=Vr(Et,ze)))&&rt-Xe>=et)){qe=0;break t}for(Ft=0;Ft<et;++Ft)Ne[Re+Xe+Ft]=Ne[Re+Xe+Ft-Et];for(Xe+=et,Ie+=et;Ie>=je;)Ie-=je,++Te<=U&&!(Te%16)&&ai(we,Te);Xe<at&&Ie&pt&&(ct=pi(Ye,Ie,Te))}e(ze.h==Q(ze))}ai(we,Te>U?U:Te);break t}!qe||ze.h&&Xe<rt?(qe=0,we.a=ze.h?5:3):we.$=Xe,U=qe}else U=Jn(we,we.V,we.Ba,we.c,we.i,U,bc);if(!U){se=0;break e}}Y+se>=ve&&(F.Cc=1),se=1}if(!se)return null;if(F.Cc&&((se=F.ga)!=null&&(se.mc=null),F.ga=null,0<F.Ga))return alert("todo:WebPDequantizeLevels"),null}return F.nb+Y*me}function ee(F,U,Y,se,me,ve){for(;0<me--;){var we,Ne=F,Te=U+(Y?1:0),Ie=F,ze=U+(Y?0:3);for(we=0;we<se;++we){var Ye=Ie[ze+4*we];Ye!=255&&(Ye*=32897,Ne[Te+4*we+0]=Ne[Te+4*we+0]*Ye>>23,Ne[Te+4*we+1]=Ne[Te+4*we+1]*Ye>>23,Ne[Te+4*we+2]=Ne[Te+4*we+2]*Ye>>23)}U+=ve}}function ce(F,U,Y,se,me){for(;0<se--;){var ve;for(ve=0;ve<Y;++ve){var we=F[U+2*ve+0],Ne=15&(Ie=F[U+2*ve+1]),Te=4369*Ne,Ie=(240&Ie|Ie>>4)*Te>>16;F[U+2*ve+0]=(240&we|we>>4)*Te>>16&240|(15&we|we<<4)*Te>>16>>4&15,F[U+2*ve+1]=240&Ie|Ne}U+=me}}function Ae(F,U,Y,se,me,ve,we,Ne){var Te,Ie,ze=255;for(Ie=0;Ie<me;++Ie){for(Te=0;Te<se;++Te){var Ye=F[U+Te];ve[we+4*Te]=Ye,ze&=Ye}U+=Y,we+=Ne}return ze!=255}function We(F,U,Y,se,me){var ve;for(ve=0;ve<me;++ve)Y[se+ve]=F[U+ve]>>8}function Ke(){tx=ee,PB=ce,IB=Ae,RB=We}function gt(F,U,Y){C[F]=function(se,me,ve,we,Ne,Te,Ie,ze,Ye,Re,je,qe,et,Xe,rt,at,pt){var ct,Ft=pt-1>>1,Et=Ne[Te+0]|Ie[ze+0]<<16,nn=Ye[Re+0]|je[qe+0]<<16;e(se!=null);var Pt=3*Et+nn+131074>>2;for(U(se[me+0],255&Pt,Pt>>16,et,Xe),ve!=null&&(Pt=3*nn+Et+131074>>2,U(ve[we+0],255&Pt,Pt>>16,rt,at)),ct=1;ct<=Ft;++ct){var gn=Ne[Te+ct]|Ie[ze+ct]<<16,Ir=Ye[Re+ct]|je[qe+ct]<<16,rn=Et+gn+nn+Ir+524296,It=rn+2*(gn+nn)>>3;Pt=It+Et>>1,Et=(rn=rn+2*(Et+Ir)>>3)+gn>>1,U(se[me+2*ct-1],255&Pt,Pt>>16,et,Xe+(2*ct-1)*Y),U(se[me+2*ct-0],255&Et,Et>>16,et,Xe+(2*ct-0)*Y),ve!=null&&(Pt=rn+nn>>1,Et=It+Ir>>1,U(ve[we+2*ct-1],255&Pt,Pt>>16,rt,at+(2*ct-1)*Y),U(ve[we+2*ct+0],255&Et,Et>>16,rt,at+(2*ct+0)*Y)),Et=gn,nn=Ir}1&pt||(Pt=3*Et+nn+131074>>2,U(se[me+pt-1],255&Pt,Pt>>16,et,Xe+(pt-1)*Y),ve!=null&&(Pt=3*nn+Et+131074>>2,U(ve[we+pt-1],255&Pt,Pt>>16,rt,at+(pt-1)*Y)))}}function Ht(){Ll[u3]=eoe,Ll[d3]=qB,Ll[BB]=toe,Ll[h3]=HB,Ll[f3]=VB,Ll[F8]=GB,Ll[zB]=noe,Ll[O8]=qB,Ll[U8]=HB,Ll[p3]=VB,Ll[M8]=GB}function gi(F){return F&~ioe?0>F?0:255:F>>XB}function hn(F,U){return gi((19077*F>>8)+(26149*U>>8)-14234)}function yi(F,U,Y){return gi((19077*F>>8)-(6419*U>>8)-(13320*Y>>8)+8708)}function Kr(F,U){return gi((19077*F>>8)+(33050*U>>8)-17685)}function za(F,U,Y,se,me){se[me+0]=hn(F,Y),se[me+1]=yi(F,U,Y),se[me+2]=Kr(F,U)}function vi(F,U,Y,se,me){se[me+0]=Kr(F,U),se[me+1]=yi(F,U,Y),se[me+2]=hn(F,Y)}function ja(F,U,Y,se,me){var ve=yi(F,U,Y);U=ve<<3&224|Kr(F,U)>>3,se[me+0]=248&hn(F,Y)|ve>>5,se[me+1]=U}function Dl(F,U,Y,se,me){var ve=240&Kr(F,U)|15;se[me+0]=240&hn(F,Y)|yi(F,U,Y)>>4,se[me+1]=ve}function Ud(F,U,Y,se,me){se[me+0]=255,za(F,U,Y,se,me+1)}function Vw(F,U,Y,se,me){vi(F,U,Y,se,me),se[me+3]=255}function bs(F,U,Y,se,me){za(F,U,Y,se,me),se[me+3]=255}function Md(F,U,Y){C[F]=function(se,me,ve,we,Ne,Te,Ie,ze,Ye){for(var Re=ze+(-2&Ye)*Y;ze!=Re;)U(se[me+0],ve[we+0],Ne[Te+0],Ie,ze),U(se[me+1],ve[we+0],Ne[Te+0],Ie,ze+Y),me+=2,++we,++Te,ze+=2*Y;1&Ye&&U(se[me+0],ve[we+0],Ne[Te+0],Ie,ze)}}function Sy(F,U,Y){return Y==0?F==0?U==0?6:5:U==0?4:0:Y}function s3(F,U,Y,se,me){switch(F>>>30){case 3:hg(U,Y,se,me,0);break;case 2:Il(U,Y,se,me);break;case 1:Un(U,Y,se,me)}}function Pl(F,U){var Y,se,me=U.M,ve=U.Nb,we=F.oc,Ne=F.pc+40,Te=F.oc,Ie=F.pc+584,ze=F.oc,Ye=F.pc+600;for(Y=0;16>Y;++Y)we[Ne+32*Y-1]=129;for(Y=0;8>Y;++Y)Te[Ie+32*Y-1]=129,ze[Ye+32*Y-1]=129;for(0<me?we[Ne-1-32]=Te[Ie-1-32]=ze[Ye-1-32]=129:(r(we,Ne-32-1,127,21),r(Te,Ie-32-1,127,9),r(ze,Ye-32-1,127,9)),se=0;se<F.za;++se){var Re=U.ya[U.aa+se];if(0<se){for(Y=-1;16>Y;++Y)i(we,Ne+32*Y-4,we,Ne+32*Y+12,4);for(Y=-1;8>Y;++Y)i(Te,Ie+32*Y-4,Te,Ie+32*Y+4,4),i(ze,Ye+32*Y-4,ze,Ye+32*Y+4,4)}var je=F.Gd,qe=F.Hd+se,et=Re.ad,Xe=Re.Hc;if(0<me&&(i(we,Ne-32,je[qe].y,0,16),i(Te,Ie-32,je[qe].f,0,8),i(ze,Ye-32,je[qe].ea,0,8)),Re.Za){var rt=we,at=Ne-32+16;for(0<me&&(se>=F.za-1?r(rt,at,je[qe].y[15],4):i(rt,at,je[qe+1].y,0,4)),Y=0;4>Y;Y++)rt[at+128+Y]=rt[at+256+Y]=rt[at+384+Y]=rt[at+0+Y];for(Y=0;16>Y;++Y,Xe<<=2)rt=we,at=Ne+YB[Y],_c[Re.Ob[Y]](rt,at),s3(Xe,et,16*+Y,rt,at)}else if(rt=Sy(se,me,Re.Ob[0]),Bf[rt](we,Ne),Xe!=0)for(Y=0;16>Y;++Y,Xe<<=2)s3(Xe,et,16*+Y,we,Ne+YB[Y]);for(Y=Re.Gc,rt=Sy(se,me,Re.Dd),jd[rt](Te,Ie),jd[rt](ze,Ye),Xe=et,rt=Te,at=Ie,255&(Re=0|Y)&&(170&Re?xu(Xe,256,rt,at):oi(Xe,256,rt,at)),Re=ze,Xe=Ye,255&(Y>>=8)&&(170&Y?xu(et,320,Re,Xe):oi(et,320,Re,Xe)),me<F.Ub-1&&(i(je[qe].y,0,we,Ne+480,16),i(je[qe].f,0,Te,Ie+224,8),i(je[qe].ea,0,ze,Ye+224,8)),Y=8*ve*F.B,je=F.sa,qe=F.ta+16*se+16*ve*F.R,et=F.qa,Re=F.ra+8*se+Y,Xe=F.Ha,rt=F.Ia+8*se+Y,Y=0;16>Y;++Y)i(je,qe+Y*F.R,we,Ne+32*Y,16);for(Y=0;8>Y;++Y)i(et,Re+Y*F.B,Te,Ie+32*Y,8),i(Xe,rt+Y*F.B,ze,Ye+32*Y,8)}}function cg(F,U,Y,se,me,ve,we,Ne,Te){var Ie=[0],ze=[0],Ye=0,Re=Te!=null?Te.kd:0,je=Te??new lt;if(F==null||12>Y)return 7;je.data=F,je.w=U,je.ha=Y,U=[U],Y=[Y],je.gb=[je.gb];e:{var qe=U,et=Y,Xe=je.gb;if(e(F!=null),e(et!=null),e(Xe!=null),Xe[0]=0,12<=et[0]&&!n(F,qe[0],"RIFF")){if(n(F,qe[0]+8,"WEBP")){Xe=3;break e}var rt=X(F,qe[0]+4);if(12>rt||4294967286<rt){Xe=3;break e}if(Re&&rt>et[0]-8){Xe=7;break e}Xe[0]=rt,qe[0]+=12,et[0]-=12}Xe=0}if(Xe!=0)return Xe;for(rt=0<je.gb[0],Y=Y[0];;){e:{var at=F;et=U,Xe=Y;var pt=Ie,ct=ze,Ft=qe=[0];if((Pt=Ye=[Ye])[0]=0,8>Xe[0])Xe=7;else{if(!n(at,et[0],"VP8X")){if(X(at,et[0]+4)!=10){Xe=3;break e}if(18>Xe[0]){Xe=7;break e}var Et=X(at,et[0]+8),nn=1+ke(at,et[0]+12);if(2147483648<=nn*(at=1+ke(at,et[0]+15))){Xe=3;break e}Ft!=null&&(Ft[0]=Et),pt!=null&&(pt[0]=nn),ct!=null&&(ct[0]=at),et[0]+=18,Xe[0]-=18,Pt[0]=1}Xe=0}}if(Ye=Ye[0],qe=qe[0],Xe!=0)return Xe;if(et=!!(2&qe),!rt&&Ye)return 3;if(ve!=null&&(ve[0]=!!(16&qe)),we!=null&&(we[0]=et),Ne!=null&&(Ne[0]=0),we=Ie[0],qe=ze[0],Ye&&et&&Te==null){Xe=0;break}if(4>Y){Xe=7;break}if(rt&&Ye||!rt&&!Ye&&!n(F,U[0],"ALPH")){Y=[Y],je.na=[je.na],je.P=[je.P],je.Sa=[je.Sa];e:{Et=F,Xe=U,rt=Y;var Pt=je.gb;pt=je.na,ct=je.P,Ft=je.Sa,nn=22,e(Et!=null),e(rt!=null),at=Xe[0];var gn=rt[0];for(e(pt!=null),e(Ft!=null),pt[0]=null,ct[0]=null,Ft[0]=0;;){if(Xe[0]=at,rt[0]=gn,8>gn){Xe=7;break e}var Ir=X(Et,at+4);if(4294967286<Ir){Xe=3;break e}var rn=8+Ir+1&-2;if(nn+=rn,0<Pt&&nn>Pt){Xe=3;break e}if(!n(Et,at,"VP8 ")||!n(Et,at,"VP8L")){Xe=0;break e}if(gn[0]<rn){Xe=7;break e}n(Et,at,"ALPH")||(pt[0]=Et,ct[0]=at+8,Ft[0]=Ir),at+=rn,gn-=rn}}if(Y=Y[0],je.na=je.na[0],je.P=je.P[0],je.Sa=je.Sa[0],Xe!=0)break}Y=[Y],je.Ja=[je.Ja],je.xa=[je.xa];e:if(Pt=F,Xe=U,rt=Y,pt=je.gb[0],ct=je.Ja,Ft=je.xa,Et=Xe[0],at=!n(Pt,Et,"VP8 "),nn=!n(Pt,Et,"VP8L"),e(Pt!=null),e(rt!=null),e(ct!=null),e(Ft!=null),8>rt[0])Xe=7;else{if(at||nn){if(Pt=X(Pt,Et+4),12<=pt&&Pt>pt-12){Xe=3;break e}if(Re&&Pt>rt[0]-8){Xe=7;break e}ct[0]=Pt,Xe[0]+=8,rt[0]-=8,Ft[0]=nn}else Ft[0]=5<=rt[0]&&Pt[Et+0]==47&&!(Pt[Et+4]>>5),ct[0]=rt[0];Xe=0}if(Y=Y[0],je.Ja=je.Ja[0],je.xa=je.xa[0],U=U[0],Xe!=0)break;if(4294967286<je.Ja)return 3;if(Ne==null||et||(Ne[0]=je.xa?2:1),we=[we],qe=[qe],je.xa){if(5>Y){Xe=7;break}Ne=we,Re=qe,et=ve,F==null||5>Y?F=0:5<=Y&&F[U+0]==47&&!(F[U+4]>>5)?(rt=[0],Pt=[0],pt=[0],q(ct=new M,F,U,Y),No(ct,rt,Pt,pt)?(Ne!=null&&(Ne[0]=rt[0]),Re!=null&&(Re[0]=Pt[0]),et!=null&&(et[0]=pt[0]),F=1):F=0):F=0}else{if(10>Y){Xe=7;break}Ne=qe,F==null||10>Y||!mu(F,U+3,Y-3)?F=0:(Re=F[U+0]|F[U+1]<<8|F[U+2]<<16,et=16383&(F[U+7]<<8|F[U+6]),F=16383&(F[U+9]<<8|F[U+8]),1&Re||3<(Re>>1&7)||!(Re>>4&1)||Re>>5>=je.Ja||!et||!F?F=0:(we&&(we[0]=et),Ne&&(Ne[0]=F),F=1))}if(!F||(we=we[0],qe=qe[0],Ye&&(Ie[0]!=we||ze[0]!=qe)))return 3;Te!=null&&(Te[0]=je,Te.offset=U-Te.w,e(4294967286>U-Te.w),e(Te.offset==Te.ha-Y));break}return Xe==0||Xe==7&&Ye&&Te==null?(ve!=null&&(ve[0]|=je.na!=null&&0<je.na.length),se!=null&&(se[0]=we),me!=null&&(me[0]=qe),0):Xe}function Gw(F,U,Y){var se=U.width,me=U.height,ve=0,we=0,Ne=se,Te=me;if(U.Da=F!=null&&0<F.Da,U.Da&&(Ne=F.cd,Te=F.bd,ve=F.v,we=F.j,11>Y||(ve&=-2,we&=-2),0>ve||0>we||0>=Ne||0>=Te||ve+Ne>se||we+Te>me))return 0;if(U.v=ve,U.j=we,U.va=ve+Ne,U.o=we+Te,U.U=Ne,U.T=Te,U.da=F!=null&&0<F.da,U.da){if(!te(Ne,Te,Y=[F.ib],ve=[F.hb]))return 0;U.ib=Y[0],U.hb=ve[0]}return U.ob=F!=null&&F.ob,U.Kb=F==null||!F.Sd,U.da&&(U.ob=U.ib<3*se/4&&U.hb<3*me/4,U.Kb=0),1}function Xw(F){if(F==null)return 2;if(11>F.S){var U=F.f.RGBA;U.fb+=(F.height-1)*U.A,U.A=-U.A}else U=F.f.kb,F=F.height,U.O+=(F-1)*U.fa,U.fa=-U.fa,U.N+=(F-1>>1)*U.Ab,U.Ab=-U.Ab,U.W+=(F-1>>1)*U.Db,U.Db=-U.Db,U.F!=null&&(U.J+=(F-1)*U.lb,U.lb=-U.lb);return 0}function If(F,U,Y,se){if(se==null||0>=F||0>=U)return 2;if(Y!=null){if(Y.Da){var me=Y.cd,ve=Y.bd,we=-2&Y.v,Ne=-2&Y.j;if(0>we||0>Ne||0>=me||0>=ve||we+me>F||Ne+ve>U)return 2;F=me,U=ve}if(Y.da){if(!te(F,U,me=[Y.ib],ve=[Y.hb]))return 2;F=me[0],U=ve[0]}}se.width=F,se.height=U;e:{var Te=se.width,Ie=se.height;if(F=se.S,0>=Te||0>=Ie||!(F>=u3&&13>F))F=2;else{if(0>=se.Rd&&se.sd==null){we=ve=me=U=0;var ze=(Ne=Te*JB[F])*Ie;if(11>F||(ve=(Ie+1)/2*(U=(Te+1)/2),F==12&&(we=(me=Te)*Ie)),(Ie=a(ze+2*ve+we))==null){F=1;break e}se.sd=Ie,11>F?((Te=se.f.RGBA).eb=Ie,Te.fb=0,Te.A=Ne,Te.size=ze):((Te=se.f.kb).y=Ie,Te.O=0,Te.fa=Ne,Te.Fd=ze,Te.f=Ie,Te.N=0+ze,Te.Ab=U,Te.Cd=ve,Te.ea=Ie,Te.W=0+ze+ve,Te.Db=U,Te.Ed=ve,F==12&&(Te.F=Ie,Te.J=0+ze+2*ve),Te.Tc=we,Te.lb=me)}if(U=1,me=se.S,ve=se.width,we=se.height,me>=u3&&13>me)if(11>me)F=se.f.RGBA,U&=(Ne=Math.abs(F.A))*(we-1)+ve<=F.size,U&=Ne>=ve*JB[me],U&=F.eb!=null;else{F=se.f.kb,Ne=(ve+1)/2,ze=(we+1)/2,Te=Math.abs(F.fa),Ie=Math.abs(F.Ab);var Ye=Math.abs(F.Db),Re=Math.abs(F.lb),je=Re*(we-1)+ve;U&=Te*(we-1)+ve<=F.Fd,U&=Ie*(ze-1)+Ne<=F.Cd,U=(U&=Ye*(ze-1)+Ne<=F.Ed)&Te>=ve&Ie>=Ne&Ye>=Ne,U&=F.y!=null,U&=F.f!=null,U&=F.ea!=null,me==12&&(U&=Re>=ve,U&=je<=F.Tc,U&=F.F!=null)}else U=0;F=U?0:2}}return F!=0||Y!=null&&Y.fd&&(F=Xw(se)),F}var ug=64,Eo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],To=24,Rf=32,Bd=8,Lf=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ce("Predictor0","PredictorAdd0"),C.Predictor0=function(){return 4278190080},C.Predictor1=function(F){return F},C.Predictor2=function(F,U,Y){return U[Y+0]},C.Predictor3=function(F,U,Y){return U[Y+1]},C.Predictor4=function(F,U,Y){return U[Y-1]},C.Predictor5=function(F,U,Y){return oe(oe(F,U[Y+1]),U[Y+0])},C.Predictor6=function(F,U,Y){return oe(F,U[Y-1])},C.Predictor7=function(F,U,Y){return oe(F,U[Y+0])},C.Predictor8=function(F,U,Y){return oe(U[Y-1],U[Y+0])},C.Predictor9=function(F,U,Y){return oe(U[Y+0],U[Y+1])},C.Predictor10=function(F,U,Y){return oe(oe(F,U[Y-1]),oe(U[Y+0],U[Y+1]))},C.Predictor11=function(F,U,Y){var se=U[Y+0];return 0>=De(se>>24&255,F>>24&255,(U=U[Y-1])>>24&255)+De(se>>16&255,F>>16&255,U>>16&255)+De(se>>8&255,F>>8&255,U>>8&255)+De(255&se,255&F,255&U)?se:F},C.Predictor12=function(F,U,Y){var se=U[Y+0];return(pe((F>>24&255)+(se>>24&255)-((U=U[Y-1])>>24&255))<<24|pe((F>>16&255)+(se>>16&255)-(U>>16&255))<<16|pe((F>>8&255)+(se>>8&255)-(U>>8&255))<<8|pe((255&F)+(255&se)-(255&U)))>>>0},C.Predictor13=function(F,U,Y){var se=U[Y-1];return(Se((F=oe(F,U[Y+0]))>>24&255,se>>24&255)<<24|Se(F>>16&255,se>>16&255)<<16|Se(F>>8&255,se>>8&255)<<8|Se(255&F,255&se))>>>0};var Kw=C.PredictorAdd0;C.PredictorAdd1=Ve,Ce("Predictor2","PredictorAdd2"),Ce("Predictor3","PredictorAdd3"),Ce("Predictor4","PredictorAdd4"),Ce("Predictor5","PredictorAdd5"),Ce("Predictor6","PredictorAdd6"),Ce("Predictor7","PredictorAdd7"),Ce("Predictor8","PredictorAdd8"),Ce("Predictor9","PredictorAdd9"),Ce("Predictor10","PredictorAdd10"),Ce("Predictor11","PredictorAdd11"),Ce("Predictor12","PredictorAdd12"),Ce("Predictor13","PredictorAdd13");var Ay=C.PredictorAdd2;Ge("ColorIndexInverseTransform","MapARGB","32b",function(F){return F>>8&255},function(F){return F}),Ge("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(F){return F},function(F){return F>>8&255});var or,o3=C.ColorIndexInverseTransform,bu=C.MapARGB,wu=C.VP8LColorIndexInverseTransformAlpha,Yw=C.MapAlpha,Jw=C.VP8LPredictorsAdd=[];Jw.length=16,(C.VP8LPredictors=[]).length=16,(C.VP8LPredictorsAdd_C=[]).length=16,(C.VP8LPredictors_C=[]).length=16;var Zw,Qw,Ff,Of,Uf,dg,Mf,hg,Il,xu,Un,oi,lr,Pr,zd,ex,Ny,l3,NB,kB,CB,EB,TB,DB,tx,PB,IB,RB,LB=a(511),FB=a(2041),OB=a(225),UB=a(767),MB=0,L8=FB,c3=OB,Do=UB,Rl=LB,u3=0,d3=1,BB=2,h3=3,f3=4,F8=5,zB=6,O8=7,U8=8,p3=9,M8=10,zse=[2,3,7],jse=[3,3,11],jB=[280,256,256,256,40],$se=[0,1,1,1,0],Wse=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],qse=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Hse=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Vse=8,B8=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],z8=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],nx=null,Gse=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Xse=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],$B=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Kse=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Yse=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Jse=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Zse=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Bf=[],_c=[],jd=[],Qse=1,WB=2,zf=[],Ll=[];gt("UpsampleRgbLinePair",za,3),gt("UpsampleBgrLinePair",vi,3),gt("UpsampleRgbaLinePair",bs,4),gt("UpsampleBgraLinePair",Vw,4),gt("UpsampleArgbLinePair",Ud,4),gt("UpsampleRgba4444LinePair",Dl,2),gt("UpsampleRgb565LinePair",ja,2);var eoe=C.UpsampleRgbLinePair,toe=C.UpsampleBgrLinePair,qB=C.UpsampleRgbaLinePair,HB=C.UpsampleBgraLinePair,VB=C.UpsampleArgbLinePair,GB=C.UpsampleRgba4444LinePair,noe=C.UpsampleRgb565LinePair,m3=16,g3=1<<m3-1,ix=-227,j8=482,XB=6,ioe=(256<<XB)-1,KB=0,roe=a(256),aoe=a(256),soe=a(256),ooe=a(256),loe=a(j8-ix),coe=a(j8-ix);Md("YuvToRgbRow",za,3),Md("YuvToBgrRow",vi,3),Md("YuvToRgbaRow",bs,4),Md("YuvToBgraRow",Vw,4),Md("YuvToArgbRow",Ud,4),Md("YuvToRgba4444Row",Dl,2),Md("YuvToRgb565Row",ja,2);var YB=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],y3=[0,2,8],uoe=[8,7,6,4,4,2,2,2,1,1,1,1],doe=1;this.WebPDecodeRGBA=function(F,U,Y,se,me){var ve=d3,we=new Qe,Ne=new Mt;we.ba=Ne,Ne.S=ve,Ne.width=[Ne.width],Ne.height=[Ne.height];var Te=Ne.width,Ie=Ne.height,ze=new xt;if(ze==null||F==null)var Ye=2;else e(ze!=null),Ye=cg(F,U,Y,ze.width,ze.height,ze.Pd,ze.Qd,ze.format,null);if(Ye!=0?Te=0:(Te!=null&&(Te[0]=ze.width[0]),Ie!=null&&(Ie[0]=ze.height[0]),Te=1),Te){Ne.width=Ne.width[0],Ne.height=Ne.height[0],se!=null&&(se[0]=Ne.width),me!=null&&(me[0]=Ne.height);e:{if(se=new Cf,(me=new lt).data=F,me.w=U,me.ha=Y,me.kd=1,U=[0],e(me!=null),((F=cg(me.data,me.w,me.ha,null,null,null,U,null,me))==0||F==7)&&U[0]&&(F=4),(U=F)==0){if(e(we!=null),se.data=me.data,se.w=me.w+me.offset,se.ha=me.ha-me.offset,se.put=Lt,se.ac=js,se.bc=$s,se.ma=we,me.xa){if((F=fu())==null){we=1;break e}if(function(Re,je){var qe=[0],et=[0],Xe=[0];t:for(;;){if(Re==null)return 0;if(je==null)return Re.a=2,0;if(Re.l=je,Re.a=0,q(Re.m,je.data,je.w,je.ha),!No(Re.m,qe,et,Xe)){Re.a=3;break t}if(Re.xb=WB,je.width=qe[0],je.height=et[0],!Ma(qe[0],et[0],1,Re,null))break t;return 1}return e(Re.a!=0),0}(F,se)){if(se=(U=If(se.width,se.height,we.Oa,we.ba))==0){t:{se=F;n:for(;;){if(se==null){se=0;break t}if(e(se.s.yc!=null),e(se.s.Ya!=null),e(0<se.s.Wb),e((Y=se.l)!=null),e((me=Y.ma)!=null),se.xb!=0){if(se.ca=me.ba,se.tb=me.tb,e(se.ca!=null),!Gw(me.Oa,Y,h3)){se.a=2;break n}if(!Ed(se,Y.width)||Y.da)break n;if((Y.da||bt(se.ca.S))&&Ke(),11>se.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),se.ca.f.kb.F!=null&&Ke()),se.Pb&&0<se.s.ua&&se.s.vb.X==null&&!re(se.s.vb,se.s.Wa.Xa)){se.a=1;break n}se.xb=0}if(!Jn(se,se.V,se.Ba,se.c,se.i,Y.o,ft))break n;me.Dc=se.Ma,se=1;break t}e(se.a!=0),se=0}se=!se}se&&(U=F.a)}else U=F.a}else{if((F=new Sl)==null){we=1;break e}if(F.Fa=me.na,F.P=me.P,F.qc=me.Sa,Ba(F,se)){if((U=If(se.width,se.height,we.Oa,we.ba))==0){if(F.Aa=0,Y=we.Oa,e((me=F)!=null),Y!=null){if(0<(Te=0>(Te=Y.Md)?0:100<Te?255:255*Te/100)){for(Ie=ze=0;4>Ie;++Ie)12>(Ye=me.pb[Ie]).lc&&(Ye.ia=Te*uoe[0>Ye.lc?0:Ye.lc]>>3),ze|=Ye.ia;ze&&(alert("todo:VP8InitRandom"),me.ia=1)}me.Ga=Y.Id,100<me.Ga?me.Ga=100:0>me.Ga&&(me.Ga=0)}(function(Re,je){if(Re==null)return 0;if(je==null)return Dn(Re,2,"NULL VP8Io parameter in VP8Decode().");if(!Re.cb&&!Ba(Re,je))return 0;if(e(Re.cb),je.ac==null||je.ac(je)){je.ob&&(Re.L=0);var qe=y3[Re.L];if(Re.L==2?(Re.yb=0,Re.zb=0):(Re.yb=je.v-qe>>4,Re.zb=je.j-qe>>4,0>Re.yb&&(Re.yb=0),0>Re.zb&&(Re.zb=0)),Re.Va=je.o+15+qe>>4,Re.Hb=je.va+15+qe>>4,Re.Hb>Re.za&&(Re.Hb=Re.za),Re.Va>Re.Ub&&(Re.Va=Re.Ub),0<Re.L){var et=Re.ed;for(qe=0;4>qe;++qe){var Xe;if(Re.Qa.Cb){var rt=Re.Qa.Lb[qe];Re.Qa.Fb||(rt+=et.Tb)}else rt=et.Tb;for(Xe=0;1>=Xe;++Xe){var at=Re.gd[qe][Xe],pt=rt;if(et.Pc&&(pt+=et.vd[0],Xe&&(pt+=et.od[0])),0<(pt=0>pt?0:63<pt?63:pt)){var ct=pt;0<et.wb&&(ct=4<et.wb?ct>>2:ct>>1)>9-et.wb&&(ct=9-et.wb),1>ct&&(ct=1),at.dd=ct,at.tc=2*pt+ct,at.ld=40<=pt?2:15<=pt?1:0}else at.tc=0;at.La=Xe}}}qe=0}else Dn(Re,6,"Frame setup failed"),qe=Re.a;if(qe=qe==0){if(qe){Re.$c=0,0<Re.Aa||(Re.Ic=doe);t:{qe=Re.Ic,et=4*(ct=Re.za);var Ft=32*ct,Et=ct+1,nn=0<Re.L?ct*(0<Re.Aa?2:1):0,Pt=(Re.Aa==2?2:1)*ct;if((at=et+832+(Xe=3*(16*qe+y3[Re.L])/2*Ft)+(rt=Re.Fa!=null&&0<Re.Fa.length?Re.Kc.c*Re.Kc.i:0))!=at)qe=0;else{if(at>Re.Vb){if(Re.Vb=0,Re.Ec=a(at),Re.Fc=0,Re.Ec==null){qe=Dn(Re,1,"no memory during frame initialization.");break t}Re.Vb=at}at=Re.Ec,pt=Re.Fc,Re.Ac=at,Re.Bc=pt,pt+=et,Re.Gd=s(Ft,eg),Re.Hd=0,Re.rb=s(Et+1,Nf),Re.sb=1,Re.wa=nn?s(nn,fs):null,Re.Y=0,Re.D.Nb=0,Re.D.wa=Re.wa,Re.D.Y=Re.Y,0<Re.Aa&&(Re.D.Y+=ct),e(!0),Re.oc=at,Re.pc=pt,pt+=832,Re.ya=s(Pt,Pd),Re.aa=0,Re.D.ya=Re.ya,Re.D.aa=Re.aa,Re.Aa==2&&(Re.D.aa+=ct),Re.R=16*ct,Re.B=8*ct,ct=(Ft=y3[Re.L])*Re.R,Ft=Ft/2*Re.B,Re.sa=at,Re.ta=pt+ct,Re.qa=Re.sa,Re.ra=Re.ta+16*qe*Re.R+Ft,Re.Ha=Re.qa,Re.Ia=Re.ra+8*qe*Re.B+Ft,Re.$c=0,pt+=Xe,Re.mb=rt?at:null,Re.nb=rt?pt:null,e(pt+rt<=Re.Fc+Re.Vb),On(Re),r(Re.Ac,Re.Bc,0,et),qe=1}}if(qe){if(je.ka=0,je.y=Re.sa,je.O=Re.ta,je.f=Re.qa,je.N=Re.ra,je.ea=Re.Ha,je.Vd=Re.Ia,je.fa=Re.R,je.Rc=Re.B,je.F=null,je.J=0,!MB){for(qe=-255;255>=qe;++qe)LB[255+qe]=0>qe?-qe:qe;for(qe=-1020;1020>=qe;++qe)FB[1020+qe]=-128>qe?-128:127<qe?127:qe;for(qe=-112;112>=qe;++qe)OB[112+qe]=-16>qe?-16:15<qe?15:qe;for(qe=-255;510>=qe;++qe)UB[255+qe]=0>qe?0:255<qe?255:qe;MB=1}Mf=Nl,hg=qw,xu=Al,Un=fy,oi=py,Il=hy,lr=lg,Pr=vu,zd=fe,ex=Pe,Ny=Pf,l3=H,NB=Ue,kB=$e,CB=El,EB=Df,TB=Od,DB=_y,_c[0]=vy,_c[1]=my,_c[2]=rg,_c[3]=Tf,_c[4]=gs,_c[5]=by,_c[6]=ys,_c[7]=ag,_c[8]=sg,_c[9]=Zn,Bf[0]=Hw,Bf[1]=yy,Bf[2]=Ef,Bf[3]=ng,Bf[4]=Id,Bf[5]=ig,Bf[6]=kl,jd[0]=xy,jd[1]=gy,jd[2]=Rd,jd[3]=wy,jd[4]=Ws,jd[5]=yu,jd[6]=og,qe=1}else qe=0}qe&&(qe=function(gn,Ir){for(gn.M=0;gn.M<gn.Va;++gn.M){var rn,It=gn.Jc[gn.M&gn.Xb],wt=gn.m,cr=gn;for(rn=0;rn<cr.za;++rn){var Kt=wt,_n=cr,Ti=_n.Ac,ma=_n.Bc+4*rn,ws=_n.zc,Xi=_n.ya[_n.aa+rn];if(_n.Qa.Bb?Xi.$b=be(Kt,_n.Pa.jb[0])?2+be(Kt,_n.Pa.jb[2]):be(Kt,_n.Pa.jb[1]):Xi.$b=0,_n.kc&&(Xi.Ad=be(Kt,_n.Bd)),Xi.Za=!be(Kt,145)+0,Xi.Za){var $a=Xi.Ob,xs=0;for(_n=0;4>_n;++_n){var Rr,kn=ws[0+_n];for(Rr=0;4>Rr;++Rr){kn=Yse[Ti[ma+Rr]][kn];for(var zn=$B[be(Kt,kn[0])];0<zn;)zn=$B[2*zn+be(Kt,kn[zn])];kn=-zn,Ti[ma+Rr]=kn}i($a,xs,Ti,ma,4),xs+=4,ws[0+_n]=kn}}else kn=be(Kt,156)?be(Kt,128)?1:3:be(Kt,163)?2:0,Xi.Ob[0]=kn,r(Ti,ma,kn,4),r(ws,0,kn,4);Xi.Dd=be(Kt,142)?be(Kt,114)?be(Kt,183)?1:3:2:0}if(cr.m.Ka)return Dn(gn,7,"Premature end-of-partition0 encountered.");for(;gn.ja<gn.za;++gn.ja){if(cr=It,Kt=(wt=gn).rb[wt.sb-1],Ti=wt.rb[wt.sb+wt.ja],rn=wt.ya[wt.aa+wt.ja],ma=wt.kc?rn.Ad:0)Kt.la=Ti.la=0,rn.Za||(Kt.Na=Ti.Na=0),rn.Hc=0,rn.Gc=0,rn.ia=0;else{var Ki,jn;if(Kt=Ti,Ti=cr,ma=wt.Pa.Xc,ws=wt.ya[wt.aa+wt.ja],Xi=wt.pb[ws.$b],_n=ws.ad,$a=0,xs=wt.rb[wt.sb-1],kn=Rr=0,r(_n,$a,0,384),ws.Za)var ga=0,Sc=ma[3];else{zn=a(16);var ur=Kt.Na+xs.Na;if(ur=nx(Ti,ma[1],ur,Xi.Eb,0,zn,0),Kt.Na=xs.Na=(0<ur)+0,1<ur)Mf(zn,0,_n,$a);else{var qs=zn[0]+3>>3;for(zn=0;256>zn;zn+=16)_n[$a+zn]=qs}ga=1,Sc=ma[0]}var li=15&Kt.la,Lr=15&xs.la;for(zn=0;4>zn;++zn){var Po=1&Lr;for(qs=jn=0;4>qs;++qs)li=li>>1|(Po=(ur=nx(Ti,Sc,ur=Po+(1&li),Xi.Sc,ga,_n,$a))>ga)<<7,jn=jn<<2|(3<ur?3:1<ur?2:_n[$a+0]!=0),$a+=16;li>>=4,Lr=Lr>>1|Po<<7,Rr=(Rr<<8|jn)>>>0}for(Sc=li,ga=Lr>>4,Ki=0;4>Ki;Ki+=2){for(jn=0,li=Kt.la>>4+Ki,Lr=xs.la>>4+Ki,zn=0;2>zn;++zn){for(Po=1&Lr,qs=0;2>qs;++qs)ur=Po+(1&li),li=li>>1|(Po=0<(ur=nx(Ti,ma[2],ur,Xi.Qc,0,_n,$a)))<<3,jn=jn<<2|(3<ur?3:1<ur?2:_n[$a+0]!=0),$a+=16;li>>=2,Lr=Lr>>1|Po<<5}kn|=jn<<4*Ki,Sc|=li<<4<<Ki,ga|=(240&Lr)<<Ki}Kt.la=Sc,xs.la=ga,ws.Hc=Rr,ws.Gc=kn,ws.ia=43690&kn?0:Xi.ia,ma=!(Rr|kn)}if(0<wt.L&&(wt.wa[wt.Y+wt.ja]=wt.gd[rn.$b][rn.Za],wt.wa[wt.Y+wt.ja].La|=!ma),cr.Ka)return Dn(gn,7,"Premature end-of-file encountered.")}if(On(gn),wt=Ir,cr=1,rn=(It=gn).D,Kt=0<It.L&&It.M>=It.zb&&It.M<=It.Va,It.Aa==0)t:{if(rn.M=It.M,rn.uc=Kt,Pl(It,rn),cr=1,rn=(jn=It.D).Nb,Kt=(kn=y3[It.L])*It.R,Ti=kn/2*It.B,zn=16*rn*It.R,qs=8*rn*It.B,ma=It.sa,ws=It.ta-Kt+zn,Xi=It.qa,_n=It.ra-Ti+qs,$a=It.Ha,xs=It.Ia-Ti+qs,Lr=(li=jn.M)==0,Rr=li>=It.Va-1,It.Aa==2&&Pl(It,jn),jn.uc)for(Po=(ur=It).D.M,e(ur.D.uc),jn=ur.yb;jn<ur.Hb;++jn){ga=jn,Sc=Po;var _s=(Io=(ya=ur).D).Nb;Ki=ya.R;var Io=Io.wa[Io.Y+ga],Ro=ya.sa,Hs=ya.ta+16*_s*Ki+16*ga,Lo=Io.dd,bi=Io.tc;if(bi!=0)if(e(3<=bi),ya.L==1)0<ga&&EB(Ro,Hs,Ki,bi+4),Io.La&&DB(Ro,Hs,Ki,bi),0<Sc&&CB(Ro,Hs,Ki,bi+4),Io.La&&TB(Ro,Hs,Ki,bi);else{var Fo=ya.B,Ac=ya.qa,fg=ya.ra+8*_s*Fo+8*ga,$d=ya.Ha,ya=ya.Ia+8*_s*Fo+8*ga;_s=Io.ld,0<ga&&(Pr(Ro,Hs,Ki,bi+4,Lo,_s),ex(Ac,fg,$d,ya,Fo,bi+4,Lo,_s)),Io.La&&(l3(Ro,Hs,Ki,bi,Lo,_s),kB(Ac,fg,$d,ya,Fo,bi,Lo,_s)),0<Sc&&(lr(Ro,Hs,Ki,bi+4,Lo,_s),zd(Ac,fg,$d,ya,Fo,bi+4,Lo,_s)),Io.La&&(Ny(Ro,Hs,Ki,bi,Lo,_s),NB(Ac,fg,$d,ya,Fo,bi,Lo,_s))}}if(It.ia&&alert("todo:DitherRow"),wt.put!=null){if(jn=16*li,li=16*(li+1),Lr?(wt.y=It.sa,wt.O=It.ta+zn,wt.f=It.qa,wt.N=It.ra+qs,wt.ea=It.Ha,wt.W=It.Ia+qs):(jn-=kn,wt.y=ma,wt.O=ws,wt.f=Xi,wt.N=_n,wt.ea=$a,wt.W=xs),Rr||(li-=kn),li>wt.o&&(li=wt.o),wt.F=null,wt.J=null,It.Fa!=null&&0<It.Fa.length&&jn<li&&(wt.J=O(It,wt,jn,li-jn),wt.F=It.mb,wt.F==null&&wt.F.length==0)){cr=Dn(It,3,"Could not decode alpha data.");break t}jn<wt.j&&(kn=wt.j-jn,jn=wt.j,e(!(1&kn)),wt.O+=It.R*kn,wt.N+=It.B*(kn>>1),wt.W+=It.B*(kn>>1),wt.F!=null&&(wt.J+=wt.width*kn)),jn<li&&(wt.O+=wt.v,wt.N+=wt.v>>1,wt.W+=wt.v>>1,wt.F!=null&&(wt.J+=wt.v),wt.ka=jn-wt.j,wt.U=wt.va-wt.v,wt.T=li-jn,cr=wt.put(wt))}rn+1!=It.Ic||Rr||(i(It.sa,It.ta-Kt,ma,ws+16*It.R,Kt),i(It.qa,It.ra-Ti,Xi,_n+8*It.B,Ti),i(It.Ha,It.Ia-Ti,$a,xs+8*It.B,Ti))}if(!cr)return Dn(gn,6,"Output aborted.")}return 1}(Re,je)),je.bc!=null&&je.bc(je),qe&=1}return qe?(Re.cb=0,qe):0})(F,se)||(U=F.a)}}else U=F.a}U==0&&we.Oa!=null&&we.Oa.fd&&(U=Xw(we.ba))}we=U}ve=we!=0?null:11>ve?Ne.f.RGBA.eb:Ne.f.kb.y}else ve=null;return ve};var JB=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(C,P){for(var k="",A=0;A<4;A++)k+=String.fromCharCode(C[P++]);return k}function d(C,P){return C[P+0]|C[P+1]<<8}function h(C,P){return(C[P+0]|C[P+1]<<8|C[P+2]<<16)>>>0}function f(C,P){return(C[P+0]|C[P+1]<<8|C[P+2]<<16|C[P+3]<<24)>>>0}new c;var p=[0],w=[0],v=[],b=new c,g=t,y=function(C,P){var k={},A=0,I=!1,T=0,z=0;if(k.frames=[],!function(L,M){for(var K=0;K<4;K++)if(L[M+K]!="RIFF".charCodeAt(K))return!0;return!1}(C,P)){for(f(C,P+=4),P+=8;P<C.length;){var j=u(C,P),W=f(C,P+=4);P+=4;var $=W+(1&W);switch(j){case"VP8 ":case"VP8L":k.frames[A]===void 0&&(k.frames[A]={}),(B=k.frames[A]).src_off=I?z:P-8,B.src_size=T+W+8,A++,I&&(I=!1,T=0,z=0);break;case"VP8X":(B=k.header={}).feature_flags=C[P];var q=P+4;B.canvas_width=1+h(C,q),q+=3,B.canvas_height=1+h(C,q),q+=3;break;case"ALPH":I=!0,T=$+8,z=P-8;break;case"ANIM":(B=k.header).bgcolor=f(C,P),q=P+4,B.loop_count=d(C,q),q+=2;break;case"ANMF":var G,B;(B=k.frames[A]={}).offset_x=2*h(C,P),P+=3,B.offset_y=2*h(C,P),P+=3,B.width=1+h(C,P),P+=3,B.height=1+h(C,P),P+=3,B.duration=h(C,P),P+=3,G=C[P++],B.dispose=1&G,B.blend=G>>1&1}j!="ANMF"&&(P+=$)}return k}}(g,0);y.response=g,y.rgbaoutput=!0,y.dataurl=!1;var _=y.header?y.header:null,S=y.frames?y.frames:null;if(_){_.loop_counter=_.loop_count,p=[_.canvas_height],w=[_.canvas_width];for(var N=0;N<S.length&&S[N].blend!=0;N++);}var R=S[0],D=b.WebPDecodeRGBA(g,R.src_off,R.src_size,w,p);R.rgba=D,R.imgwidth=w[0],R.imgheight=p[0];for(var E=0;E<w[0]*p[0]*4;E++)v[E]=D[E];return this.width=w,this.height=p,this.data=v,this}(function(t){var e,n,i,r,a,s,o,c,u,d=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new c,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new s,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new s,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,n=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,r=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,u=new d}]);var h=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var M=L;Object.defineProperty(this,"pdf",{get:function(){return M}});var K=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return K},set:function(re){K=!!re}});var Q=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Q},set:function(re){Q=!!re}});var V=0;Object.defineProperty(this,"posX",{get:function(){return V},set:function(re){isNaN(re)||(V=re)}});var le=0;Object.defineProperty(this,"posY",{get:function(){return le},set:function(re){isNaN(re)||(le=re)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(re){var Ee;typeof re=="number"?Ee=[re,re,re,re]:((Ee=new Array(4))[0]=re[0],Ee[1]=re.length>=2?re[1]:Ee[0],Ee[2]=re.length>=3?re[2]:Ee[0],Ee[3]=re.length>=4?re[3]:Ee[1]),u.margin=Ee}});var ge=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ge},set:function(re){ge=re}});var ye=0;Object.defineProperty(this,"lastBreak",{get:function(){return ye},set:function(re){ye=re}});var be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return be},set:function(re){be=re}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(re){re instanceof d&&(u=re)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(re){u.path=re}});var Le=[];Object.defineProperty(this,"ctxStack",{get:function(){return Le},set:function(re){Le=re}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(re){var Ee;Ee=f(re),this.ctx.fillStyle=Ee.style,this.ctx.isFillTransparent=Ee.a===0,this.ctx.fillOpacity=Ee.a,this.pdf.setFillColor(Ee.r,Ee.g,Ee.b,{a:Ee.a}),this.pdf.setTextColor(Ee.r,Ee.g,Ee.b,{a:Ee.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(re){var Ee=f(re);this.ctx.strokeStyle=Ee.style,this.ctx.isStrokeTransparent=Ee.a===0,this.ctx.strokeOpacity=Ee.a,Ee.a===0?this.pdf.setDrawColor(255,255,255):(Ee.a,this.pdf.setDrawColor(Ee.r,Ee.g,Ee.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(re){["butt","round","square"].indexOf(re)!==-1&&(this.ctx.lineCap=re,this.pdf.setLineCap(re))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(re){isNaN(re)||(this.ctx.lineWidth=re,this.pdf.setLineWidth(re))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(re){["bevel","round","miter"].indexOf(re)!==-1&&(this.ctx.lineJoin=re,this.pdf.setLineJoin(re))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(re){isNaN(re)||(this.ctx.miterLimit=re,this.pdf.setMiterLimit(re))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(re){this.ctx.textBaseline=re}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(re){["right","end","center","left","start"].indexOf(re)!==-1&&(this.ctx.textAlign=re)}});var ue=null,ke=null,X=null;Object.defineProperty(this,"fontFaces",{get:function(){return X},set:function(re){ue=null,ke=null,X=re}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(re){var Ee;if(this.ctx.font=re,(Ee=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(re))!==null){var ne=Ee[1];Ee[2];var te=Ee[3],ae=Ee[4];Ee[5];var xe=Ee[6],Ce=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ae)[2];ae=Math.floor(Ce==="px"?parseFloat(ae)*this.pdf.internal.scaleFactor:Ce==="em"?parseFloat(ae)*this.pdf.getFontSize():parseFloat(ae)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ae);var _e=function(Ge){var ut,nt,yt=[],Be=Ge.trim();if(Be==="")return WR;if(Be in HG)return[HG[Be]];for(;Be!=="";){switch(nt=null,ut=(Be=GG(Be)).charAt(0)){case'"':case"'":nt=I7e(Be.substring(1),ut);break;default:nt=R7e(Be)}if(nt===null||(yt.push(nt[0]),(Be=GG(nt[1]))!==""&&Be.charAt(0)!==","))return WR;Be=Be.replace(/^,/,"")}return yt}(xe);if(this.fontFaces){var oe=function(Ge,ut){var nt=Ge.getFontList(),yt=JSON.stringify(nt);if(ue===null||ke!==yt){var Be=function(Ze){var ot=[];return Object.keys(Ze).forEach(function(St){Ze[St].forEach(function(bt){var At=null;switch(bt){case"bold":At={family:St,weight:"bold"};break;case"italic":At={family:St,style:"italic"};break;case"bolditalic":At={family:St,weight:"bold",style:"italic"};break;case"":case"normal":At={family:St}}At!==null&&(At.ref={name:St,style:bt},ot.push(At))})}),ot}(nt);ue=function(Ze){for(var ot={},St=0;St<Ze.length;++St){var bt=$R(Ze[St]),At=bt.family,Qt=bt.stretch,Mt=bt.style,xt=bt.weight;ot[At]=ot[At]||{},ot[At][Qt]=ot[At][Qt]||{},ot[At][Qt][Mt]=ot[At][Qt][Mt]||{},ot[At][Qt][Mt][xt]=bt}return ot}(Be.concat(ut)),ke=yt}return ue}(this.pdf,this.fontFaces),pe=_e.map(function(Ge){return{family:Ge,stretch:"normal",weight:te,style:ne}}),Se=function(Ge,ut,nt){for(var yt=(nt=nt||{}).defaultFontFamily||"times",Be=Object.assign({},P7e,nt.genericFontFamilies||{}),Ze=null,ot=null,St=0;St<ut.length;++St)if(Be[(Ze=$R(ut[St])).family]&&(Ze.family=Be[Ze.family]),Ge.hasOwnProperty(Ze.family)){ot=Ge[Ze.family];break}if(!(ot=ot||Ge[yt]))throw new Error("Could not find a font-family for the rule '"+VG(Ze)+"' and default family '"+yt+"'.");if(ot=function(bt,At){if(At[bt])return At[bt];var Qt=kO[bt],Mt=Qt<=kO.normal?-1:1,xt=qG(At,Lse,Qt,Mt);if(!xt)throw new Error("Could not find a matching font-stretch value for "+bt);return xt}(Ze.stretch,ot),ot=function(bt,At){if(At[bt])return At[bt];for(var Qt=Rse[bt],Mt=0;Mt<Qt.length;++Mt)if(At[Qt[Mt]])return At[Qt[Mt]];throw new Error("Could not find a matching font-style for "+bt)}(Ze.style,ot),!(ot=function(bt,At){if(At[bt])return At[bt];if(bt===400&&At[500])return At[500];if(bt===500&&At[400])return At[400];var Qt=D7e[bt],Mt=qG(At,Fse,Qt,bt<400?-1:1);if(!Mt)throw new Error("Could not find a matching font-weight for value "+bt);return Mt}(Ze.weight,ot)))throw new Error("Failed to resolve a font for the rule '"+VG(Ze)+"'.");return ot}(oe,pe);this.pdf.setFont(Se.ref.name,Se.ref.style)}else{var De="";(te==="bold"||parseInt(te,10)>=700||ne==="bold")&&(De="bold"),ne==="italic"&&(De+="italic"),De.length===0&&(De="normal");for(var Ve="",de={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Me=0;Me<_e.length;Me++){if(this.pdf.internal.getFont(_e[Me],De,{noFallback:!0,disableWarning:!0})!==void 0){Ve=_e[Me];break}if(De==="bolditalic"&&this.pdf.internal.getFont(_e[Me],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ve=_e[Me],De="bold";else if(this.pdf.internal.getFont(_e[Me],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ve=_e[Me],De="normal";break}}if(Ve===""){for(var Fe=0;Fe<_e.length;Fe++)if(de[_e[Fe]]){Ve=de[_e[Fe]];break}}Ve=Ve===""?"Times":Ve,this.pdf.setFont(Ve,De)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(re){this.ctx.globalCompositeOperation=re}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(re){this.ctx.globalAlpha=re}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(re){this.ctx.lineDashOffset=re,B.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(re){this.ctx.lineDash=re,B.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(re){this.ctx.ignoreClearRect=!!re}})};h.prototype.setLineDash=function(L){this.lineDash=L},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){S.call(this,"fill",!1)},h.prototype.stroke=function(){S.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(L,M){if(isNaN(L)||isNaN(M))throw di.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var K=this.ctx.transform.applyToPoint(new s(L,M));this.path.push({type:"mt",x:K.x,y:K.y}),this.ctx.lastPoint=new s(L,M)},h.prototype.closePath=function(){var L=new s(0,0),M=0;for(M=this.path.length-1;M!==-1;M--)if(this.path[M].type==="begin"&&Vn(this.path[M+1])==="object"&&typeof this.path[M+1].x=="number"){L=new s(this.path[M+1].x,this.path[M+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(L.x,L.y)},h.prototype.lineTo=function(L,M){if(isNaN(L)||isNaN(M))throw di.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var K=this.ctx.transform.applyToPoint(new s(L,M));this.path.push({type:"lt",x:K.x,y:K.y}),this.ctx.lastPoint=new s(K.x,K.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),S.call(this,null,!0)},h.prototype.quadraticCurveTo=function(L,M,K,Q){if(isNaN(K)||isNaN(Q)||isNaN(L)||isNaN(M))throw di.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var V=this.ctx.transform.applyToPoint(new s(K,Q)),le=this.ctx.transform.applyToPoint(new s(L,M));this.path.push({type:"qct",x1:le.x,y1:le.y,x:V.x,y:V.y}),this.ctx.lastPoint=new s(V.x,V.y)},h.prototype.bezierCurveTo=function(L,M,K,Q,V,le){if(isNaN(V)||isNaN(le)||isNaN(L)||isNaN(M)||isNaN(K)||isNaN(Q))throw di.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ge=this.ctx.transform.applyToPoint(new s(V,le)),ye=this.ctx.transform.applyToPoint(new s(L,M)),be=this.ctx.transform.applyToPoint(new s(K,Q));this.path.push({type:"bct",x1:ye.x,y1:ye.y,x2:be.x,y2:be.y,x:ge.x,y:ge.y}),this.ctx.lastPoint=new s(ge.x,ge.y)},h.prototype.arc=function(L,M,K,Q,V,le){if(isNaN(L)||isNaN(M)||isNaN(K)||isNaN(Q)||isNaN(V))throw di.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(le=!!le,!this.ctx.transform.isIdentity){var ge=this.ctx.transform.applyToPoint(new s(L,M));L=ge.x,M=ge.y;var ye=this.ctx.transform.applyToPoint(new s(0,K)),be=this.ctx.transform.applyToPoint(new s(0,0));K=Math.sqrt(Math.pow(ye.x-be.x,2)+Math.pow(ye.y-be.y,2))}Math.abs(V-Q)>=2*Math.PI&&(Q=0,V=2*Math.PI),this.path.push({type:"arc",x:L,y:M,radius:K,startAngle:Q,endAngle:V,counterclockwise:le})},h.prototype.arcTo=function(L,M,K,Q,V){throw new Error("arcTo not implemented.")},h.prototype.rect=function(L,M,K,Q){if(isNaN(L)||isNaN(M)||isNaN(K)||isNaN(Q))throw di.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,M),this.lineTo(L+K,M),this.lineTo(L+K,M+Q),this.lineTo(L,M+Q),this.lineTo(L,M),this.lineTo(L+K,M),this.lineTo(L,M)},h.prototype.fillRect=function(L,M,K,Q){if(isNaN(L)||isNaN(M)||isNaN(K)||isNaN(Q))throw di.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var V={};this.lineCap!=="butt"&&(V.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(V.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,M,K,Q),this.fill(),V.hasOwnProperty("lineCap")&&(this.lineCap=V.lineCap),V.hasOwnProperty("lineJoin")&&(this.lineJoin=V.lineJoin)}},h.prototype.strokeRect=function(L,M,K,Q){if(isNaN(L)||isNaN(M)||isNaN(K)||isNaN(Q))throw di.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(L,M,K,Q),this.stroke())},h.prototype.clearRect=function(L,M,K,Q){if(isNaN(L)||isNaN(M)||isNaN(K)||isNaN(Q))throw di.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,M,K,Q))},h.prototype.save=function(L){L=typeof L!="boolean"||L;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("q");if(this.pdf.setPage(M),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var Q=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Q}},h.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var M=this.pdf.internal.getCurrentPageInfo().pageNumber,K=0;K<this.pdf.internal.getNumberOfPages();K++)this.pdf.setPage(K+1),this.pdf.internal.out("Q");this.pdf.setPage(M),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(L){var M,K,Q,V;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))M=0,K=0,Q=0,V=0;else{var le=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(le!==null)M=parseInt(le[1]),K=parseInt(le[2]),Q=parseInt(le[3]),V=1;else if((le=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)M=parseInt(le[1]),K=parseInt(le[2]),Q=parseInt(le[3]),V=parseFloat(le[4]);else{if(V=1,typeof L=="string"&&L.charAt(0)!=="#"){var ge=new kse(L);L=ge.ok?ge.toHex():"#000000"}L.length===4?(M=L.substring(1,2),M+=M,K=L.substring(2,3),K+=K,Q=L.substring(3,4),Q+=Q):(M=L.substring(1,3),K=L.substring(3,5),Q=L.substring(5,7)),M=parseInt(M,16),K=parseInt(K,16),Q=parseInt(Q,16)}}return{r:M,g:K,b:Q,a:V,style:L}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(L,M,K,Q){if(isNaN(M)||isNaN(K)||typeof L!="string")throw di.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Q=isNaN(Q)?void 0:Q,!p.call(this)){var V=$(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;A.call(this,{text:L,x:M,y:K,scale:le,angle:V,align:this.textAlign,maxWidth:Q})}},h.prototype.strokeText=function(L,M,K,Q){if(isNaN(M)||isNaN(K)||typeof L!="string")throw di.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){Q=isNaN(Q)?void 0:Q;var V=$(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;A.call(this,{text:L,x:M,y:K,scale:le,renderingMode:"stroke",angle:V,align:this.textAlign,maxWidth:Q})}},h.prototype.measureText=function(L){if(typeof L!="string")throw di.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var M=this.pdf,K=this.pdf.internal.scaleFactor,Q=M.internal.getFontSize(),V=M.getStringUnitWidth(L)*Q/M.internal.scaleFactor;return new function(le){var ge=(le=le||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ge}}),this}({width:V*=Math.round(96*K/72*1e4)/1e4})},h.prototype.scale=function(L,M){if(isNaN(L)||isNaN(M))throw di.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var K=new c(L,0,0,M,0,0);this.ctx.transform=this.ctx.transform.multiply(K)},h.prototype.rotate=function(L){if(isNaN(L))throw di.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var M=new c(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(M)},h.prototype.translate=function(L,M){if(isNaN(L)||isNaN(M))throw di.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var K=new c(1,0,0,1,L,M);this.ctx.transform=this.ctx.transform.multiply(K)},h.prototype.transform=function(L,M,K,Q,V,le){if(isNaN(L)||isNaN(M)||isNaN(K)||isNaN(Q)||isNaN(V)||isNaN(le))throw di.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ge=new c(L,M,K,Q,V,le);this.ctx.transform=this.ctx.transform.multiply(ge)},h.prototype.setTransform=function(L,M,K,Q,V,le){L=isNaN(L)?1:L,M=isNaN(M)?0:M,K=isNaN(K)?0:K,Q=isNaN(Q)?1:Q,V=isNaN(V)?0:V,le=isNaN(le)?0:le,this.ctx.transform=new c(L,M,K,Q,V,le)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(L,M,K,Q,V,le,ge,ye,be){var Le=this.pdf.getImageProperties(L),ue=1,ke=1,X=1,re=1;Q!==void 0&&ye!==void 0&&(X=ye/Q,re=be/V,ue=Le.width/Q*ye/Q,ke=Le.height/V*be/V),le===void 0&&(le=M,ge=K,M=0,K=0),Q!==void 0&&ye===void 0&&(ye=Q,be=V),Q===void 0&&ye===void 0&&(ye=Le.width,be=Le.height);var Ee=this.ctx.transform.decompose(),ne=$(Ee.rotate.shx),te=new c,ae=(te=(te=(te=te.multiply(Ee.translate)).multiply(Ee.skew)).multiply(Ee.scale)).applyToRectangle(new o(le-M*X,ge-K*re,Q*ue,V*ke));if(this.autoPaging){for(var xe,Ce=b.call(this,ae),_e=[],oe=0;oe<Ce.length;oe+=1)_e.indexOf(Ce[oe])===-1&&_e.push(Ce[oe]);_(_e);for(var pe=_e[0],Se=_e[_e.length-1],De=pe;De<Se+1;De++){this.pdf.setPage(De);var Ve=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],de=De===1?this.posY+this.margin[0]:this.margin[0],Me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Fe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ge=De===1?0:Me+(De-2)*Fe;if(this.ctx.clip_path.length!==0){var ut=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(xe,this.posX+this.margin[3],-Ge+de+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=ut}var nt=JSON.parse(JSON.stringify(ae));nt=y([nt],this.posX+this.margin[3],-Ge+de+this.ctx.prevPageLastElemOffset)[0];var yt=(De>pe||De<Se)&&v.call(this);yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ve,Fe,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",nt.x,nt.y,nt.w,nt.h,null,null,ne),yt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(L,"JPEG",ae.x,ae.y,ae.w,ae.h,null,null,ne)};var b=function(L,M,K){var Q=[];M=M||this.pdf.internal.pageSize.width,K=K||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var V=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":Q.push(Math.floor((L.y+V)/K)+1);break;case"arc":Q.push(Math.floor((L.y+V-L.radius)/K)+1),Q.push(Math.floor((L.y+V+L.radius)/K)+1);break;case"qct":var le=q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);Q.push(Math.floor((le.y+V)/K)+1),Q.push(Math.floor((le.y+le.h+V)/K)+1);break;case"bct":var ge=G(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);Q.push(Math.floor((ge.y+V)/K)+1),Q.push(Math.floor((ge.y+ge.h+V)/K)+1);break;case"rect":Q.push(Math.floor((L.y+V)/K)+1),Q.push(Math.floor((L.y+L.h+V)/K)+1)}for(var ye=0;ye<Q.length;ye+=1)for(;this.pdf.internal.getNumberOfPages()<Q[ye];)g.call(this);return Q},g=function(){var L=this.fillStyle,M=this.strokeStyle,K=this.font,Q=this.lineCap,V=this.lineWidth,le=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=M,this.font=K,this.lineCap=Q,this.lineWidth=V,this.lineJoin=le},y=function(L,M,K){for(var Q=0;Q<L.length;Q++)switch(L[Q].type){case"bct":L[Q].x2+=M,L[Q].y2+=K;case"qct":L[Q].x1+=M,L[Q].y1+=K;default:L[Q].x+=M,L[Q].y+=K}return L},_=function(L){return L.sort(function(M,K){return M-K})},S=function(L,M){var K=this.fillStyle,Q=this.strokeStyle,V=this.lineCap,le=this.lineWidth,ge=Math.abs(le*this.ctx.transform.scaleX),ye=this.lineJoin;if(this.autoPaging){for(var be,Le,ue=JSON.parse(JSON.stringify(this.path)),ke=JSON.parse(JSON.stringify(this.path)),X=[],re=0;re<ke.length;re++)if(ke[re].x!==void 0)for(var Ee=b.call(this,ke[re]),ne=0;ne<Ee.length;ne+=1)X.indexOf(Ee[ne])===-1&&X.push(Ee[ne]);for(var te=0;te<X.length;te++)for(;this.pdf.internal.getNumberOfPages()<X[te];)g.call(this);_(X);for(var ae=X[0],xe=X[X.length-1],Ce=ae;Ce<xe+1;Ce++){this.pdf.setPage(Ce),this.fillStyle=K,this.strokeStyle=Q,this.lineCap=V,this.lineWidth=ge,this.lineJoin=ye;var _e=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],oe=Ce===1?this.posY+this.margin[0]:this.margin[0],pe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Se=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],De=Ce===1?0:pe+(Ce-2)*Se;if(this.ctx.clip_path.length!==0){var Ve=this.path;be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(be,this.posX+this.margin[3],-De+oe+this.ctx.prevPageLastElemOffset),N.call(this,L,!0),this.path=Ve}if(Le=JSON.parse(JSON.stringify(ue)),this.path=y(Le,this.posX+this.margin[3],-De+oe+this.ctx.prevPageLastElemOffset),M===!1||Ce===0){var de=(Ce>ae||Ce<xe)&&v.call(this);de&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_e,Se,null).clip().discardPath()),N.call(this,L,M),de&&this.pdf.restoreGraphicsState()}this.lineWidth=le}this.path=ue}else this.lineWidth=ge,N.call(this,L,M),this.lineWidth=le},N=function(L,M){if((L!=="stroke"||M||!w.call(this))&&(L==="stroke"||M||!p.call(this))){for(var K,Q,V=[],le=this.path,ge=0;ge<le.length;ge++){var ye=le[ge];switch(ye.type){case"begin":V.push({begin:!0});break;case"close":V.push({close:!0});break;case"mt":V.push({start:ye,deltas:[],abs:[]});break;case"lt":var be=V.length;if(le[ge-1]&&!isNaN(le[ge-1].x)&&(K=[ye.x-le[ge-1].x,ye.y-le[ge-1].y],be>0)){for(;be>=0;be--)if(V[be-1].close!==!0&&V[be-1].begin!==!0){V[be-1].deltas.push(K),V[be-1].abs.push(ye);break}}break;case"bct":K=[ye.x1-le[ge-1].x,ye.y1-le[ge-1].y,ye.x2-le[ge-1].x,ye.y2-le[ge-1].y,ye.x-le[ge-1].x,ye.y-le[ge-1].y],V[V.length-1].deltas.push(K);break;case"qct":var Le=le[ge-1].x+2/3*(ye.x1-le[ge-1].x),ue=le[ge-1].y+2/3*(ye.y1-le[ge-1].y),ke=ye.x+2/3*(ye.x1-ye.x),X=ye.y+2/3*(ye.y1-ye.y),re=ye.x,Ee=ye.y;K=[Le-le[ge-1].x,ue-le[ge-1].y,ke-le[ge-1].x,X-le[ge-1].y,re-le[ge-1].x,Ee-le[ge-1].y],V[V.length-1].deltas.push(K);break;case"arc":V.push({deltas:[],abs:[],arc:!0}),Array.isArray(V[V.length-1].abs)&&V[V.length-1].abs.push(ye)}}Q=M?null:L==="stroke"?"stroke":"fill";for(var ne=!1,te=0;te<V.length;te++)if(V[te].arc)for(var ae=V[te].abs,xe=0;xe<ae.length;xe++){var Ce=ae[xe];Ce.type==="arc"?E.call(this,Ce.x,Ce.y,Ce.radius,Ce.startAngle,Ce.endAngle,Ce.counterclockwise,void 0,M,!ne):I.call(this,Ce.x,Ce.y),ne=!0}else if(V[te].close===!0)this.pdf.internal.out("h"),ne=!1;else if(V[te].begin!==!0){var _e=V[te].start.x,oe=V[te].start.y;T.call(this,V[te].deltas,_e,oe),ne=!0}Q&&C.call(this,Q),M&&P.call(this)}},R=function(L){var M=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,K=M*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-K;case"top":return L+M-K;case"hanging":return L+M-2*K;case"middle":return L+M/2-K;default:return L}},D=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(M,K){this.colorStops.push([M,K])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function(L,M,K,Q,V,le,ge,ye,be){for(var Le=j.call(this,K,Q,V,le),ue=0;ue<Le.length;ue++){var ke=Le[ue];ue===0&&(be?k.call(this,ke.x1+L,ke.y1+M):I.call(this,ke.x1+L,ke.y1+M)),z.call(this,L,M,ke.x2,ke.y2,ke.x3,ke.y3,ke.x4,ke.y4)}ye?P.call(this):C.call(this,ge)},C=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},P=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(L,M){this.pdf.internal.out(n(L)+" "+i(M)+" m")},A=function(L){var M;switch(L.align){case"right":case"end":M="right";break;case"center":M="center";break;default:M="left"}var K,Q,V,le=this.pdf.getTextDimensions(L.text),ge=R.call(this,L.y),ye=D.call(this,ge)-le.h,be=this.ctx.transform.applyToPoint(new s(L.x,ge));if(this.autoPaging){var Le=this.ctx.transform.decompose(),ue=new c;ue=(ue=(ue=ue.multiply(Le.translate)).multiply(Le.skew)).multiply(Le.scale);for(var ke=this.ctx.transform.applyToRectangle(new o(L.x,ge,le.w,le.h)),X=ue.applyToRectangle(new o(L.x,ye,le.w,le.h)),re=b.call(this,X),Ee=[],ne=0;ne<re.length;ne+=1)Ee.indexOf(re[ne])===-1&&Ee.push(re[ne]);_(Ee);for(var te=Ee[0],ae=Ee[Ee.length-1],xe=te;xe<ae+1;xe++){this.pdf.setPage(xe);var Ce=xe===1?this.posY+this.margin[0]:this.margin[0],_e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],oe=this.pdf.internal.pageSize.height-this.margin[2],pe=oe-this.margin[0],Se=this.pdf.internal.pageSize.width-this.margin[1],De=Se-this.margin[3],Ve=xe===1?0:_e+(xe-2)*pe;if(this.ctx.clip_path.length!==0){var de=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(K,this.posX+this.margin[3],-1*Ve+Ce),N.call(this,"fill",!0),this.path=de}var Me=y([JSON.parse(JSON.stringify(X))],this.posX+this.margin[3],-Ve+Ce+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(Q=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Q*L.scale),V=this.lineWidth,this.lineWidth=V*L.scale);var Fe=this.autoPaging!=="text";if(Fe||Me.y+Me.h<=oe){if(Fe||Me.y>=Ce&&Me.x<=Se){var Ge=Fe?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||Se-Me.x)[0],ut=y([JSON.parse(JSON.stringify(ke))],this.posX+this.margin[3],-Ve+Ce+this.ctx.prevPageLastElemOffset)[0],nt=Fe&&(xe>te||xe<ae)&&v.call(this);nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],De,pe,null).clip().discardPath()),this.pdf.text(Ge,ut.x,ut.y,{angle:L.angle,align:M,renderingMode:L.renderingMode}),nt&&this.pdf.restoreGraphicsState()}}else Me.y<oe&&(this.ctx.prevPageLastElemOffset+=oe-Me.y);L.scale>=.01&&(this.pdf.setFontSize(Q),this.lineWidth=V)}}else L.scale>=.01&&(Q=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Q*L.scale),V=this.lineWidth,this.lineWidth=V*L.scale),this.pdf.text(L.text,be.x+this.posX,be.y+this.posY,{angle:L.angle,align:M,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(Q),this.lineWidth=V)},I=function(L,M,K,Q){K=K||0,Q=Q||0,this.pdf.internal.out(n(L+K)+" "+i(M+Q)+" l")},T=function(L,M,K){return this.pdf.lines(L,M,K,null,null)},z=function(L,M,K,Q,V,le,ge,ye){this.pdf.internal.out([e(r(K+L)),e(a(Q+M)),e(r(V+L)),e(a(le+M)),e(r(ge+L)),e(a(ye+M)),"c"].join(" "))},j=function(L,M,K,Q){for(var V=2*Math.PI,le=Math.PI/2;M>K;)M-=V;var ge=Math.abs(K-M);ge<V&&Q&&(ge=V-ge);for(var ye=[],be=Q?-1:1,Le=M;ge>1e-5;){var ue=Le+be*Math.min(ge,le);ye.push(W.call(this,L,Le,ue)),ge-=Math.abs(ue-Le),Le=ue}return ye},W=function(L,M,K){var Q=(K-M)/2,V=L*Math.cos(Q),le=L*Math.sin(Q),ge=V,ye=-le,be=ge*ge+ye*ye,Le=be+ge*V+ye*le,ue=4/3*(Math.sqrt(2*be*Le)-Le)/(ge*le-ye*V),ke=ge-ue*ye,X=ye+ue*ge,re=ke,Ee=-X,ne=Q+M,te=Math.cos(ne),ae=Math.sin(ne);return{x1:L*Math.cos(M),y1:L*Math.sin(M),x2:ke*te-X*ae,y2:ke*ae+X*te,x3:re*te-Ee*ae,y3:re*ae+Ee*te,x4:L*Math.cos(K),y4:L*Math.sin(K)}},$=function(L){return 180*L/Math.PI},q=function(L,M,K,Q,V,le){var ge=L+.5*(K-L),ye=M+.5*(Q-M),be=V+.5*(K-V),Le=le+.5*(Q-le),ue=Math.min(L,V,ge,be),ke=Math.max(L,V,ge,be),X=Math.min(M,le,ye,Le),re=Math.max(M,le,ye,Le);return new o(ue,X,ke-ue,re-X)},G=function(L,M,K,Q,V,le,ge,ye){var be,Le,ue,ke,X,re,Ee,ne,te,ae,xe,Ce,_e,oe,pe=K-L,Se=Q-M,De=V-K,Ve=le-Q,de=ge-V,Me=ye-le;for(Le=0;Le<41;Le++)te=(Ee=(ue=L+(be=Le/40)*pe)+be*((X=K+be*De)-ue))+be*(X+be*(V+be*de-X)-Ee),ae=(ne=(ke=M+be*Se)+be*((re=Q+be*Ve)-ke))+be*(re+be*(le+be*Me-re)-ne),Le==0?(xe=te,Ce=ae,_e=te,oe=ae):(xe=Math.min(xe,te),Ce=Math.min(Ce,ae),_e=Math.max(_e,te),oe=Math.max(oe,ae));return new o(Math.round(xe),Math.round(Ce),Math.round(_e-xe),Math.round(oe-Ce))},B=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,M,K=(L=this.ctx.lineDash,M=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:M}));this.prevLineDash!==K&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=K)}}})(Ot.API),function(t){var e=function(s){var o,c,u,d,h,f,p,w,v,b;for(c=[],u=0,d=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;d>u;u+=4)(h=(s.charCodeAt(u)<<24)+(s.charCodeAt(u+1)<<16)+(s.charCodeAt(u+2)<<8)+s.charCodeAt(u+3))!==0?(f=(h=((h=((h=((h=(h-(b=h%85))/85)-(v=h%85))/85)-(w=h%85))/85)-(p=h%85))/85)%85,c.push(f+33,p+33,w+33,v+33,b+33)):c.push(122);return function(g,y){for(var _=y;_>0;_--)g.pop()}(c,o.length),String.fromCharCode.apply(String,c)+"~>"},n=function(s){var o,c,u,d,h,f=String,p="length",w=255,v="charCodeAt",b="slice",g="replace";for(s[b](-2),s=s[b](0,-2)[g](/\s/g,"")[g]("z","!!!!!"),u=[],d=0,h=(s+=o="uuuuu"[b](s[p]%5||5))[p];h>d;d+=5)c=52200625*(s[v](d)-33)+614125*(s[v](d+1)-33)+7225*(s[v](d+2)-33)+85*(s[v](d+3)-33)+(s[v](d+4)-33),u.push(w&c>>24,w&c>>16,w&c>>8,w&c);return function(y,_){for(var S=_;S>0;S--)y.pop()}(u,o[p]),f.fromCharCode.apply(f,u)},i=function(s){return s.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var c="",u=0;u<s.length;u+=2)c+=String.fromCharCode("0x"+(s[u]+s[u+1]));return c},a=function(s){for(var o=new Uint8Array(s.length),c=s.length;c--;)o[c]=s.charCodeAt(c);return(o=fO(o)).reduce(function(u,d){return u+String.fromCharCode(d)},"")};t.processDataByFilters=function(s,o){var c=0,u=s||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":u=n(u),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=r(u),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=i(u),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=a(u),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:u,reverseChain:d.reverse().join(" ")}}}(Ot.API),function(t){t.loadFile=function(e,n,i){return function(r,a,s){a=a!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(c,u,d){var h=new XMLHttpRequest,f=0,p=function(w){var v=w.length,b=[],g=String.fromCharCode;for(f=0;f<v;f+=1)b.push(g(255&w.charCodeAt(f)));return b.join("")};if(h.open("GET",c,!u),h.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(h.onload=function(){h.status===200?d(p(this.responseText)):d(void 0)}),h.send(null),u&&h.status===200)return p(h.responseText)}(r,a,s)}catch{}return o}(e,n,i)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile}(Ot.API),function(t){function e(){return(qt.html2canvas?Promise.resolve(qt.html2canvas):c4(()=>import("./html2canvas.esm-e0a7d97b.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(qt.DOMPurify?Promise.resolve(qt.DOMPurify):c4(()=>import("./purify.es-ce17b1ad.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var i=function(o){var c=Vn(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},r=function(o,c){var u=document.createElement(o);for(var d in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[d]=c.style[d];return u},a=function o(c,u){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||d.appendChild(o(h,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},s=function o(c){var u=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),u);return(d=d.setProgress(1,o,1,[o])).set(c)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,c){return o.__proto__=c||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,c){return this.then(function(){switch(c=c||function(u){switch(i(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),c){case"string":return this.then(n).then(function(u){return this.set({src:r("div",{innerHTML:o,dompurify:u})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=a(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=r("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=r("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(r("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(c){var u=this.opt.jsPDF,d=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=d,d)for(var p=0;p<d.length;++p){var w=d[p],v=w.src.find(function(b){return b.format==="truetype"});v&&u.addFont(v.url,w.ref.name,w.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,u.context2d.save(!0),c(this.prop.container,f)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},s.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(i(o)!=="object")return this;var c=Object.keys(o||{}).map(function(u){if(u in s.template.prop)return function(){this.prop[u]=o[u]};switch(u){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[u]=o[u]}}},this);return this.then(function(){return this.thenList(c)})},s.prototype.get=function(o,c){return this.then(function(){var u=o in s.template.prop?this.prop[o]:this.opt[o];return c?c(u):u})},s.prototype.setMargin=function(o){return this.then(function(){switch(i(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function c(u,d){return Math.floor(u*d/72*96)}return this.then(function(){(o=o||Ot.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,c,u,d){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,c,u,d){return this.setProgress(o?this.progress.val+o:null,c||null,u?this.progress.n+u:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(o,c){var u=this;return this.thenCore(o,c,function(d,h){return u.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(f){return u.updateProgress(null,d),f}).then(d,h).then(function(f){return u.updateProgress(1),f})})},s.prototype.thenCore=function(o,c,u){u=u||Promise.prototype.then;var d=this;o&&(o=o.bind(d)),c&&(c=c.bind(d));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:s.convert(Object.assign({},d),Promise.prototype),f=u.call(h,o,c);return s.convert(f,d.__proto__)},s.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},s.prototype.thenList=function(o){var c=this;return o.forEach(function(u){c=c.thenCore(u)}),c},s.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return s.convert(c,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Ot.getPageSize=function(o,c,u){if(Vn(o)==="object"){var d=o;o=d.orientation,c=d.unit||c,u=d.format||u}c=c||"mm",u=u||"a4",o=(""+(o||"P")).toLowerCase();var h,f=(""+u).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+c}var w,v=0,b=0;if(p.hasOwnProperty(f))v=p[f][1]/h,b=p[f][0]/h;else try{v=u[1],b=u[0]}catch{throw new Error("Invalid format: "+u)}if(o==="p"||o==="portrait")o="p",b>v&&(w=b,b=v,v=w);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>b&&(w=b,b=v,v=w)}return{width:b,height:v,unit:c,k:h,orientation:o}},t.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map($R):null;var u=new s(c);return c.worker?u:u.from(o).doCallback()}}(Ot.API),Ot.API.addJS=function(t){return KG=t,this.internal.events.subscribe("postPutResources",function(){Ck=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ck+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),XG=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+KG+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ck!==void 0&&XG!==void 0&&this.internal.out("/Names <</JavaScript "+Ck+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,i=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=n.outline.render().split(/\r\n/),a=0;a<r.length;a++){var s=r[a],o=i.exec(s);if(o!=null){var c=o[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,d=[];for(a=0;a<u;a++){var h=n.internal.newObject();d.push(h);var f=n.internal.getPageInfo(a+1);n.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),a=0;a<d.length;a++)n.internal.write("(page_"+(a+1)+")"+d[a]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(i,r,a){var s={title:r,options:a,children:[]};return i==null&&(i=this.root),i.children.push(s),s},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(i){i.id=n.internal.newObjectDeferred();for(var r=0;r<i.children.length;r++)this.genIds_r(i.children[r])},n.outline.renderRoot=function(i){this.objStart(i),this.line("/Type /Outlines"),i.children.length>0&&(this.line("/First "+this.makeRef(i.children[0])),this.line("/Last "+this.makeRef(i.children[i.children.length-1]))),this.line("/Count "+this.count_r({count:0},i)),this.objEnd()},n.outline.renderItems=function(i){for(var r=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<i.children.length;a++){var s=i.children[a];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(i)),a>0&&this.line("/Prev "+this.makeRef(i.children[a-1])),a<i.children.length-1&&this.line("/Next "+this.makeRef(i.children[a+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var c=n.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+r(0)+" 0]")}this.objEnd()}for(var u=0;u<i.children.length;u++)this.renderItems(i.children[u])},n.outline.line=function(i){this.ctx.val+=i+`\r
`},n.outline.makeRef=function(i){return i.id+" 0 R"},n.outline.makeString=function(i){return"("+n.internal.pdfEscape(i)+")"},n.outline.objStart=function(i){this.ctx.val+=`\r
`+i.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(i,r){for(var a=0;a<r.children.length;a++)i.count++,this.count_r(i,r.children[a]);return i.count}}])}(Ot.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,i,r,a,s,o){var c,u=this.decode.DCT_DECODE,d=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=s||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,c=function(h){for(var f,p=256*h.charCodeAt(4)+h.charCodeAt(5),w=h.length,v={width:0,height:0,numcomponents:1},b=4;b<w;b+=2){if(b+=p,e.indexOf(h.charCodeAt(b+1))!==-1){f=256*h.charCodeAt(b+5)+h.charCodeAt(b+6),v={width:256*h.charCodeAt(b+7)+h.charCodeAt(b+8),height:f,numcomponents:h.charCodeAt(b+9)};break}p=256*h.charCodeAt(b+2)+h.charCodeAt(b+3)}return v}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),c.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:n,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:u,index:i,alias:r}}return d}}(Ot.API),Ot.API.processPNG=function(t,e,n,i){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var r,a=g7e(t,{checkCrc:!0}),s=a.width,o=a.height,c=a.channels,u=a.palette,d=a.depth;r=u&&c===1?function(E){for(var C=E.width,P=E.height,k=E.data,A=E.palette,I=E.depth,T=!1,z=[],j=[],W=void 0,$=!1,q=0,G=0;G<A.length;G++){var B=WV(A[G],4),L=B[0],M=B[1],K=B[2],Q=B[3];z.push(L,M,K),Q!=null&&(Q===0?(q++,j.length<1&&j.push(G)):Q<255&&($=!0))}if($||q>1){T=!0,j=void 0;var V=C*P;W=new Uint8Array(V);for(var le=new DataView(k.buffer),ge=0;ge<V;ge++){var ye=qR(le,ge,I),be=WV(A[ye],4)[3];W[ge]=be}}else q===0&&(j=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:T?8:void 0,colorBytes:k,alphaBytes:W,needSMask:T,palette:z,mask:j}}(a):c===2||c===4?function(E){for(var C=E.data,P=E.width,k=E.height,A=E.channels,I=E.depth,T=A===2?"DeviceGray":"DeviceRGB",z=A-1,j=P*k,W=z,$=j*W,q=1*j,G=Math.ceil($*I/8),B=Math.ceil(q*I/8),L=new Uint8Array(G),M=new Uint8Array(B),K=new DataView(C.buffer),Q=new DataView(L.buffer),V=new DataView(M.buffer),le=!1,ge=0;ge<j;ge++){for(var ye=ge*A,be=0;be<W;be++)rX(Q,qR(K,ye+be,I),ge*W+be,I);var Le=qR(K,ye+W,I);Le<(1<<I)-1&&(le=!0),rX(V,Le,1*ge,I)}return{colorSpace:T,colorsPerPixel:z,sMaskBitsPerComponent:le?I:void 0,colorBytes:L,alphaBytes:M,needSMask:le}}(a):function(E){var C=E.data,P=E.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:P,colorsPerPixel:P==="DeviceGray"?1:3,colorBytes:C instanceof Uint16Array?function(k){for(var A=k.length,I=new Uint8Array(2*A),T=new DataView(I.buffer,I.byteOffset,I.byteLength),z=0;z<A;z++)T.setUint16(2*z,k[z],!1);return I}(C):C,needSMask:!1}}(a);var h,f,p,w=r,v=w.colorSpace,b=w.colorsPerPixel,g=w.sMaskBitsPerComponent,y=w.colorBytes,_=w.alphaBytes,S=w.needSMask,N=w.palette,R=w.mask,D=null;return i!==Ot.API.image_compression.NONE&&typeof fO=="function"?(D=function(E){var C;switch(E){case Ot.API.image_compression.FAST:C=11;break;case Ot.API.image_compression.MEDIUM:C=13;break;case Ot.API.image_compression.SLOW:C=14;break;default:C=12}return C}(i),h=this.decode.FLATE_DECODE,f="/Predictor ".concat(D," /Colors ").concat(b," /BitsPerComponent ").concat(d," /Columns ").concat(s),t=QG(y,Math.ceil(s*b*d/8),b,d,i),S&&(p=QG(_,Math.ceil(s*g/8),1,g,i))):(h=void 0,f=void 0,t=y,S&&(p=_)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:n,data:t,index:e,filter:h,decodeParameters:f,transparency:R,palette:N,sMask:p,predictor:D,width:s,height:o,bitsPerComponent:d,sMaskBitsPerComponent:g,colorSpace:v}}},function(t){t.processGIF89A=function(e,n,i,r){var a=new U7e(e),s=a.width,o=a.height,c=[];a.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:s,height:o},d=new HR(100).encode(u,100);return t.processJPEG.call(this,d,n,i,r)},t.processGIF87A=t.processGIF89A}(Ot.API),kc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:r,green:i,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},kc.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){di.log("bit decode error:"+n)}},kc.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var i=this.bottom_up?t:this.height-1-t,r=0;r<e;r++)for(var a=this.datav.getUint8(this.pos++,!0),s=i*this.width*4+8*r*4,o=0;o<8&&8*r+o<this.width;o++){var c=this.palette[a>>7-o&1];this.data[s+4*o]=c.blue,this.data[s+4*o+1]=c.green,this.data[s+4*o+2]=c.red,this.data[s+4*o+3]=255}n!==0&&(this.pos+=4-n)}},kc.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<t;r++){var a=this.datav.getUint8(this.pos++,!0),s=i*this.width*4+2*r*4,o=a>>4,c=15&a,u=this.palette[o];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*r+1>=this.width)break;u=this.palette[c],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},kc.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,i=0;i<this.width;i++){var r=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*i;if(r<this.palette.length){var s=this.palette[r];this.data[a]=s.red,this.data[a+1]=s.green,this.data[a+2]=s.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}t!==0&&(this.pos+=4-t)}},kc.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,r=0;r<this.width;r++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(a&e)/e*255|0,o=(a>>5&e)/e*255|0,c=(a>>10&e)/e*255|0,u=a>>15?255:0,d=i*this.width*4+4*r;this.data[d]=c,this.data[d+1]=o,this.data[d+2]=s,this.data[d+3]=u}this.pos+=t}},kc.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),i=this.height-1;i>=0;i--){for(var r=this.bottom_up?i:this.height-1-i,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,c=(s>>5&n)/n*255|0,u=(s>>11)/e*255|0,d=r*this.width*4+4*a;this.data[d]=u,this.data[d+1]=c,this.data[d+2]=o,this.data[d+3]=255}this.pos+=t}},kc.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=a,this.data[s+1]=r,this.data[s+2]=i,this.data[s+3]=255}this.pos+=this.width%4}},kc.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=a,this.data[o+1]=r,this.data[o+2]=i,this.data[o+3]=s}},kc.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,i,r){var a=new kc(e,!1),s=a.width,o=a.height,c={data:a.getData(),width:s,height:o},u=new HR(100).encode(c,100);return t.processJPEG.call(this,u,n,i,r)}}(Ot.API),sX.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,i,r){var a=new sX(e),s=a.width,o=a.height,c={data:a.getData(),width:s,height:o},u=new HR(100).encode(c,100);return t.processJPEG.call(this,u,n,i,r)}}(Ot.API),Ot.API.processRGBA=function(t,e,n){for(var i=t.data,r=i.length,a=new Uint8Array(r/4*3),s=new Uint8Array(r/4),o=0,c=0,u=0;u<r;u+=4){var d=i[u],h=i[u+1],f=i[u+2],p=i[u+3];a[o++]=d,a[o++]=h,a[o++]=f,s[c++]=p}var w=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:w,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Ot.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},qy=Ot.API,Ek=qy.getCharWidthsArray=function(t,e){var n,i,r=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:r.metadata.Unicode.widths,c=o.fof?o.fof:1,u=e.kerning?e.kerning:r.metadata.Unicode.kerning,d=u.fof?u.fof:1,h=e.doKerning!==!1,f=0,p=t.length,w=0,v=o[0]||c,b=[];for(n=0;n<p;n++)i=t.charCodeAt(n),typeof r.metadata.widthOfString=="function"?b.push((r.metadata.widthOfGlyph(r.metadata.characterToGlyph(i))+s*(1e3/a)||0)/1e3):(f=h&&Vn(u[i])==="object"&&!isNaN(parseInt(u[i][w],10))?u[i][w]/d:0,b.push((o[i]||v)/c+f)),w=i;return b},YG=qy.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),i=e.font||this.internal.getFont(),r=e.charSpace||this.internal.getCharSpace();return qy.processArabic&&(t=qy.processArabic(t)),typeof i.metadata.widthOfString=="function"?i.metadata.widthOfString(t,n,r)/n:Ek.apply(this,arguments).reduce(function(a,s){return a+s},0)},JG=function(t,e,n,i){for(var r=[],a=0,s=t.length,o=0;a!==s&&o+e[a]<n;)o+=e[a],a++;r.push(t.slice(0,a));var c=a;for(o=0;a!==s;)o+e[a]>i&&(r.push(t.slice(c,a)),o=0,c=a),o+=e[a],a++;return c!==a&&r.push(t.slice(c,a)),r},ZG=function(t,e,n){n||(n={});var i,r,a,s,o,c,u,d=[],h=[d],f=n.textIndent||0,p=0,w=0,v=t.split(" "),b=Ek.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?v[0].length+2:n.lineIndent||0){var g=Array(c).join(" "),y=[];v.map(function(S){(S=S.split(/\s*\n/)).length>1?y=y.concat(S.map(function(N,R){return(R&&N.length?`
`:"")+N})):y.push(S[0])}),v=y,c=YG.apply(this,[g,n])}for(a=0,s=v.length;a<s;a++){var _=0;if(i=v[a],c&&i[0]==`
`&&(i=i.substr(1),_=1),f+p+(w=(r=Ek.apply(this,[i,n])).reduce(function(S,N){return S+N},0))>e||_){if(w>e){for(o=JG.apply(this,[i,r,e-(f+p),e]),d.push(o.shift()),d=[o.pop()];o.length;)h.push([o.shift()]);w=r.slice(i.length-(d[0]?d[0].length:0)).reduce(function(S,N){return S+N},0)}else d=[i];h.push(d),f=w+c,p=b}else d.push(i),f+=p+w,p=b}return u=c?function(S,N){return(N?g:"")+S.join(" ")}:function(S){return S.join(" ")},h.map(u)},qy.splitTextToSize=function(t,e,n){var i,r=(n=n||{}).fontSize||this.internal.getFontSize(),a=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var h=this.internal.getFont(d.fontName,d.fontStyle),f="Unicode";return h.metadata[f]?{widths:h.metadata[f].widths||{0:1},kerning:h.metadata[f].kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);i=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/r;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/r:0,a.lineIndent=n.lineIndent;var o,c,u=[];for(o=0,c=i.length;o<c;o++)u=u.concat(ZG.apply(this,[i[o],s,a]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",i={},r={},a=0;a<16;a++)i[n[a]]=e[a],r[e[a]]=n[a];var s=function(f){return"0x"+parseInt(f,10).toString(16)},o=t.__fontmetrics__.compress=function(f){var p,w,v,b,g=["{"];for(var y in f){if(p=f[y],isNaN(parseInt(y,10))?w="'"+y+"'":(y=parseInt(y,10),w=(w=s(y).slice(2)).slice(0,-1)+r[w.slice(-1)]),typeof p=="number")p<0?(v=s(p).slice(3),b="-"):(v=s(p).slice(2),b=""),v=b+v.slice(0,-1)+r[v.slice(-1)];else{if(Vn(p)!=="object")throw new Error("Don't know what to do with value type "+Vn(p)+".");v=o(p)}g.push(w+v)}return g.push("}"),g.join("")},c=t.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,w,v,b,g={},y=1,_=g,S=[],N="",R="",D=f.length-1,E=1;E<D;E+=1)(b=f[E])=="'"?p?(v=p.join(""),p=void 0):p=[]:p?p.push(b):b=="{"?(S.push([_,v]),_={},v=void 0):b=="}"?((w=S.pop())[0][w[1]]=_,v=void 0,_=w[0]):b=="-"?y=-1:v===void 0?i.hasOwnProperty(b)?(N+=i[b],v=parseInt(N,16)*y,y=1,N=""):N+=b:i.hasOwnProperty(b)?(R+=i[b],_[v]=parseInt(R,16)*y,y=1,v=void 0,R=""):R+=b;return g},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},h={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(f){var p=f.font,w=h.Unicode[p.postScriptName];w&&(p.metadata.Unicode={},p.metadata.Unicode.widths=w.widths,p.metadata.Unicode.kerning=w.kerning);var v=d.Unicode[p.postScriptName];v&&(p.metadata.Unicode.encoding=v,p.encoding=v.codePages[0])}])}(Ot.API),function(t){var e=function(n){for(var i=n.length,r=new Uint8Array(i),a=0;a<i;a++)r[a]=n.charCodeAt(a);return r};t.API.events.push(["addFont",function(n){var i=void 0,r=n.font,a=n.instance;if(!r.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");if(typeof(i=a.existsFileInVFS(r.postScriptName)===!1?a.loadFile(r.postScriptName):a.getFileFromVFS(r.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+r.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(X4(o)),s.metadata=t.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(r,i)}}])}(Ot),Ot.API.addSvgAsImage=function(t,e,n,i,r,a,s,o){if(isNaN(e)||isNaN(n))throw di.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(r))throw di.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=i,c.height=r;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return(qt.canvg?Promise.resolve(qt.canvg):c4(()=>import("./index.es-17605cf2.js"),[])).catch(function(f){return Promise.reject(new Error("Could not load canvg: "+f))}).then(function(f){return f.default?f.default:f}).then(function(f){return f.fromString(u,t,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(f){return f.render(d)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),e,n,i,r,s,o)})},Ot.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var i=1;i<=this.internal.getNumberOfPages();i++)for(var r=0;r<this.internal.pages[i].length;r++)this.internal.pages[i][r]=this.internal.pages[i][r].replace(e,n);return this},Ot.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var i,r,a,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),c=[],u=0,d=0,h=0;function f(w,v){var b,g=!1;for(b=0;b<w.length;b+=1)w[b]===v&&(g=!0);return g}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=o.length;for(h=0;h<p;h+=1)n[o[h]].value=n[o[h]].defaultValue,n[o[h]].explicitSet=!1}if(Vn(t)==="object"){for(r in t)if(a=t[r],f(o,r)&&a!==void 0){if(n[r].type==="boolean"&&typeof a=="boolean")n[r].value=a;else if(n[r].type==="name"&&f(n[r].valueSet,a))n[r].value=a;else if(n[r].type==="integer"&&Number.isInteger(a))n[r].value=a;else if(n[r].type==="array"){for(u=0;u<a.length;u+=1)if(i=!0,a[u].length===1&&typeof a[u][0]=="number")c.push(String(a[u]-1));else if(a[u].length>1){for(d=0;d<a[u].length;d+=1)typeof a[u][d]!="number"&&(i=!1);i===!0&&c.push([a[u][0]-1,a[u][1]-1].join(" "))}n[r].value="["+c.join(" ")+"]"}else n[r].value=n[r].defaultValue;n[r].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var w,v=[];for(w in n)n[w].explicitSet===!0&&(n[w].type==="name"?v.push("/"+w+" /"+n[w].value):v.push("/"+w+" "+n[w].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var i='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',r=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(i)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=a.length+s.length+o.length+r.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(r+a+s+o+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(i,r){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:i,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(Ot.API),function(t){var e=t.API,n=e.pdfEscape16=function(a,s){for(var o,c=s.metadata.Unicode.widths,u=["","0","00","000","0000"],d=[""],h=0,f=a.length;h<f;++h){if(o=s.metadata.characterToGlyph(a.charCodeAt(h)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=a.charCodeAt(h),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(u[4-o.length],o)}return d.join("")},i=function(a){var s,o,c,u,d,h,f;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],h=0,f=(o=Object.keys(a).sort(function(p,w){return p-w})).length;h<f;h++)s=o[h],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),a[s]!==void 0&&a[s]!==null&&typeof a[s].toString=="function"&&(u=("0000"+a[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+u+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(s){var o=s.font,c=s.out,u=s.newObject,d=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var h=o.metadata.Unicode.widths,f=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",w=0;w<f.length;w++)p+=String.fromCharCode(f[w]);var v=u();d({data:p,addLength1:!0,objectId:v}),c("endobj");var b=u();d({data:i(o.metadata.toUnicode),addLength1:!0,objectId:b}),c("endobj");var g=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+ev(o.fontName)),c("/FontFile2 "+v+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var y=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+ev(o.fontName)),c("/FontDescriptor "+g+" 0 R"),c("/W "+t.API.PDFObject.convert(h)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+b+" 0 R"),c("/BaseFont /"+ev(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+y+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(s){var o=s.font,c=s.out,u=s.newObject,d=s.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var h=o.metadata.rawData,f="",p=0;p<h.length;p++)f+=String.fromCharCode(h[p]);var w=u();d({data:f,addLength1:!0,objectId:w}),c("endobj");var v=u();d({data:i(o.metadata.toUnicode),addLength1:!0,objectId:v}),c("endobj");var b=u();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+w+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+ev(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=u();for(var g=0;g<o.metadata.hmtx.widths.length;g++)o.metadata.hmtx.widths[g]=parseInt(o.metadata.hmtx.widths[g]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+ev(o.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(a)}]);var r=function(a){var s,o=a.text||"",c=a.x,u=a.y,d=a.options||{},h=a.mutex||{},f=h.pdfEscape,p=h.activeFontKey,w=h.fonts,v=p,b="",g=0,y="",_=w[v].encoding;if(w[v].encoding!=="Identity-H")return{text:o,x:c,y:u,options:d,mutex:h};for(y=o,v=p,Array.isArray(o)&&(y=o[0]),g=0;g<y.length;g+=1)w[v].metadata.hasOwnProperty("cmap")&&(s=w[v].metadata.cmap.unicode.codeMap[y[g].charCodeAt(0)]),s||y[g].charCodeAt(0)<256&&w[v].metadata.hasOwnProperty("Unicode")?b+=y[g]:b+="";var S="";return parseInt(v.slice(1))<14||_==="WinAnsiEncoding"?S=f(b,v).split("").map(function(N){return N.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(S=n(b,w[v])),h.isHex=!0,{text:S,x:c,y:u,options:d,mutex:h}};e.events.push(["postProcessText",function(a){var s=a.text||"",o=[],c={text:s,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&s[u].length===3?o.push([r(Object.assign({},c,{text:s[u][0]})).text,s[u][1],s[u][2]]):o.push(r(Object.assign({},c,{text:s[u]})).text);a.text=o}else a.text=r(Object.assign({},c,{text:s})).text}])}(Ot),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,i){return e.call(this),this.internal.vFS[n]=i,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Ot.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(i){var r,a,s,o,c,u,d,h=e,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,_=0;this.__bidiEngine__={};var S=function(k){var A=k.charCodeAt(),I=A>>8,T=v[I];return T!==void 0?h[256*T+(255&A)]:I===252||I===253?"AL":g.test(I)?"L":I===8?"R":"N"},N=function(k){for(var A,I=0;I<k.length;I++){if((A=S(k.charAt(I)))==="L")return!1;if(A==="R")return!0}return!1},R=function(k,A,I,T){var z,j,W,$,q=A[T];switch(q){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"N":case"AN":break;case"EN":y&&(q="AN");break;case"AL":y=!0,q="R";break;case"WS":case"BN":q="N";break;case"CS":T<1||T+1>=A.length||(z=I[T-1])!=="EN"&&z!=="AN"||(j=A[T+1])!=="EN"&&j!=="AN"?q="N":y&&(j="AN"),q=j===z?j:"N";break;case"ES":q=(z=T>0?I[T-1]:"B")==="EN"&&T+1<A.length&&A[T+1]==="EN"?"EN":"N";break;case"ET":if(T>0&&I[T-1]==="EN"){q="EN";break}if(y){q="N";break}for(W=T+1,$=A.length;W<$&&A[W]==="ET";)W++;q=W<$&&A[W]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for($=A.length,W=T+1;W<$&&A[W]==="NSM";)W++;if(W<$){var G=k[T],B=G>=1425&&G<=2303||G===64286;if(z=A[W],B&&(z==="R"||z==="AL")){q="R";break}}}q=T<1||(z=A[T-1])==="B"?"N":I[T-1];break;case"B":y=!1,r=!0,q=_;break;case"S":a=!0,q="N"}return q},D=function(k,A,I){var T=k.split("");return I&&E(T,I,{hiLevel:_}),T.reverse(),A&&A.reverse(),T.join("")},E=function(k,A,I){var T,z,j,W,$,q=-1,G=k.length,B=0,L=[],M=_?p:f,K=[];for(y=!1,r=!1,a=!1,z=0;z<G;z++)K[z]=S(k[z]);for(j=0;j<G;j++){if($=B,L[j]=R(k,K,L,j),T=240&(B=M[$][w[L[j]]]),B&=15,A[j]=W=M[B][5],T>0)if(T===16){for(z=q;z<j;z++)A[z]=1;q=-1}else q=-1;if(M[B][6])q===-1&&(q=j);else if(q>-1){for(z=q;z<j;z++)A[z]=W;q=-1}K[j]==="B"&&(A[j]=0),I.hiLevel|=W}a&&function(Q,V,le){for(var ge=0;ge<le;ge++)if(Q[ge]==="S"){V[ge]=_;for(var ye=ge-1;ye>=0&&Q[ye]==="WS";ye--)V[ye]=_}}(K,A,G)},C=function(k,A,I,T,z){if(!(z.hiLevel<k)){if(k===1&&_===1&&!r)return A.reverse(),void(I&&I.reverse());for(var j,W,$,q,G=A.length,B=0;B<G;){if(T[B]>=k){for($=B+1;$<G&&T[$]>=k;)$++;for(q=B,W=$-1;q<W;q++,W--)j=A[q],A[q]=A[W],A[W]=j,I&&(j=I[q],I[q]=I[W],I[W]=j);B=$}B++}}},P=function(k,A,I){var T=k.split(""),z={hiLevel:_};return I||(I=[]),E(T,I,z),function(j,W,$){if($.hiLevel!==0&&d)for(var q,G=0;G<j.length;G++)W[G]===1&&(q=b.indexOf(j[G]))>=0&&(j[G]=b[q+1])}(T,I,z),C(2,T,A,I,z),C(1,T,A,I,z),T.join("")};return this.__bidiEngine__.doBidiReorder=function(k,A,I){if(function(z,j){if(j)for(var W=0;W<z.length;W++)j[W]=W;o===void 0&&(o=N(z)),u===void 0&&(u=N(z))}(k,A),s||!c||u)if(s&&c&&o^u)_=o?1:0,k=D(k,A,I);else if(!s&&c&&u)_=o?1:0,k=P(k,A,I),k=D(k,A);else if(!s||o||c||u){if(s&&!c&&o^u)k=D(k,A),o?(_=0,k=P(k,A,I)):(_=1,k=P(k,A,I),k=D(k,A));else if(s&&o&&!c&&u)_=1,k=P(k,A,I),k=D(k,A);else if(!s&&!c&&o^u){var T=d;o?(_=1,k=P(k,A,I),_=0,d=!1,k=P(k,A,I),d=T):(_=0,k=P(k,A,I),k=D(k,A),_=1,d=!1,k=P(k,A,I),d=T,k=D(k,A))}}else _=0,k=P(k,A,I);else _=o?1:0,k=P(k,A,I);return k},this.__bidiEngine__.setOptions=function(k){k&&(s=k.isInputVisual,c=k.isOutputVisual,o=k.isInputRtl,u=k.isOutputRtl,d=k.isSymmetricSwapping)},this.__bidiEngine__.setOptions(i),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(i){var r=i.text;i.x,i.y;var a=i.options||{};i.mutex,a.lang;var s=[];if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,n.setOptions(a),Object.prototype.toString.call(r)==="[object Array]"){var o=0;for(s=[],o=0;o<r.length;o+=1)Object.prototype.toString.call(r[o])==="[object Array]"?s.push([n.doBidiReorder(r[o][0]),r[o][1],r[o][2]]):s.push([n.doBidiReorder(r[o])]);i.text=s}else i.text=n.doBidiReorder(r);n.setOptions({isInputVisual:!0})}])}(Ot),Ot.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Mm(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Z7e(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new M7e(this.contents),this.head=new z7e(this),this.name=new H7e(this),this.cmap=new Use(this),this.toUnicode={},this.hhea=new j7e(this),this.maxp=new V7e(this),this.hmtx=new G7e(this),this.post=new W7e(this),this.os2=new $7e(this),this.loca=new J7e(this),this.glyf=new X7e(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,i,r,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,c,u;for(u=[],s=0,o=(c=this.bbox).length;s<o;s++)e=c[s],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(i=255&(r=this.post.italic_angle),32768&(n=r>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+i)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,i){var r,a,s,o;for(s=0,a=0,o=(e=""+e).length;0<=o?a<o:a>o;a=0<=o?++a:--a)r=e.charCodeAt(a),s+=this.widthOfGlyph(this.characterToGlyph(r))+i*(1e3/n)||0;return s*(n/1e3)},t.prototype.lineHeight=function(e,n){var i;return n==null&&(n=!1),i=n?this.lineGap:0,(this.ascender+i-this.decender)/1e3*e},t}();var hu,Mm=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,i;for(i=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)i[n]=String.fromCharCode(this.readByte());return i.join("")},t.prototype.writeString=function(e){var n,i,r;for(r=[],n=0,i=e.length;0<=i?n<i:n>i;n=0<=i?++n:--n)r.push(this.writeByte(e.charCodeAt(n)));return r},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,i,r,a,s,o,c;return e=this.readByte(),n=this.readByte(),i=this.readByte(),r=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^i)+4294967296*(255^r)+16777216*(255^a)+65536*(255^s)+256*(255^o)+(255^c)+1):72057594037927940*e+281474976710656*n+1099511627776*i+4294967296*r+16777216*a+65536*s+256*o+c},t.prototype.writeLongLong=function(e){var n,i;return n=Math.floor(e/4294967296),i=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(i>>24&255),this.writeByte(i>>16&255),this.writeByte(i>>8&255),this.writeByte(255&i)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,i;for(n=[],i=0;0<=e?i<e:i>e;i=0<=e?++i:--i)n.push(this.readByte());return n},t.prototype.write=function(e){var n,i,r,a;for(a=[],i=0,r=e.length;i<r;i++)n=e[i],a.push(this.writeByte(n));return a},t}(),M7e=function(){var t;function e(n){var i,r,a;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},r=0,a=this.tableCount;0<=a?r<a:r>a;r=0<=a?++r:--r)i={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[i.tag]=i}return e.prototype.encode=function(n){var i,r,a,s,o,c,u,d,h,f,p,w,v;for(v in p=Object.keys(n).length,c=Math.log(2),h=16*Math.floor(Math.log(p)/c),s=Math.floor(h/c),d=16*p-h,(r=new Mm).writeInt(this.scalarType),r.writeShort(p),r.writeShort(h),r.writeShort(s),r.writeShort(d),a=16*p,u=r.pos+a,o=null,w=[],n)for(f=n[v],r.writeString(v),r.writeInt(t(f)),r.writeInt(u),r.writeInt(f.length),w=w.concat(f),v==="head"&&(o=u),u+=f.length;u%4;)w.push(0),u++;return r.write(w),i=2981146554-t(r.data),r.pos=o+8,r.writeUInt32(i),r.data},t=function(n){var i,r,a,s;for(n=Mse.call(n);n.length%4;)n.push(0);for(a=new Mm(n),r=0,i=0,s=n.length;i<s;i=i+=4)r+=a.readUInt32();return 4294967295&r},e}(),B7e={}.hasOwnProperty,Cd=function(t,e){for(var n in e)B7e.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};hu=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var z7e=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Cd(t,hu),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new Mm).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),oX=function(){function t(e,n){var i,r,a,s,o,c,u,d,h,f,p,w,v,b,g,y,_;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(p=e.readUInt16(),f=p/2,e.pos+=6,a=function(){var S,N;for(N=[],c=S=0;0<=f?S<f:S>f;c=0<=f?++S:--S)N.push(e.readUInt16());return N}(),e.pos+=2,v=function(){var S,N;for(N=[],c=S=0;0<=f?S<f:S>f;c=0<=f?++S:--S)N.push(e.readUInt16());return N}(),u=function(){var S,N;for(N=[],c=S=0;0<=f?S<f:S>f;c=0<=f?++S:--S)N.push(e.readUInt16());return N}(),d=function(){var S,N;for(N=[],c=S=0;0<=f?S<f:S>f;c=0<=f?++S:--S)N.push(e.readUInt16());return N}(),r=(this.length-e.pos+this.offset)/2,o=function(){var S,N;for(N=[],c=S=0;0<=r?S<r:S>r;c=0<=r?++S:--S)N.push(e.readUInt16());return N}(),c=g=0,_=a.length;g<_;c=++g)for(b=a[c],i=y=w=v[c];w<=b?y<=b:y>=b;i=w<=b?++y:--y)d[c]===0?s=i+u[c]:(s=o[d[c]/2+(i-w)-(f-c)]||0)!==0&&(s+=u[c]),this.codeMap[i]=65535&s}e.pos=h}return t.encode=function(e,n){var i,r,a,s,o,c,u,d,h,f,p,w,v,b,g,y,_,S,N,R,D,E,C,P,k,A,I,T,z,j,W,$,q,G,B,L,M,K,Q,V,le,ge,ye,be,Le,ue;switch(T=new Mm,s=Object.keys(e).sort(function(ke,X){return ke-X}),n){case"macroman":for(v=0,b=function(){var ke=[];for(w=0;w<256;++w)ke.push(0);return ke}(),y={0:0},a={},z=0,q=s.length;z<q;z++)y[ye=e[r=s[z]]]==null&&(y[ye]=++v),a[r]={old:e[r],new:y[e[r]]},b[r]=y[e[r]];return T.writeUInt16(1),T.writeUInt16(0),T.writeUInt32(12),T.writeUInt16(0),T.writeUInt16(262),T.writeUInt16(0),T.write(b),{charMap:a,subtable:T.data,maxGlyphID:v+1};case"unicode":for(A=[],h=[],_=0,y={},i={},g=u=null,j=0,G=s.length;j<G;j++)y[N=e[r=s[j]]]==null&&(y[N]=++_),i[r]={old:N,new:y[N]},o=y[N]-r,g!=null&&o===u||(g&&h.push(g),A.push(r),u=o),g=r;for(g&&h.push(g),h.push(65535),A.push(65535),P=2*(C=A.length),E=2*Math.pow(Math.log(C)/Math.LN2,2),f=Math.log(E/2)/Math.LN2,D=2*C-E,c=[],R=[],p=[],w=W=0,B=A.length;W<B;w=++W){if(k=A[w],d=h[w],k===65535){c.push(0),R.push(0);break}if(k-(I=i[k].new)>=32768)for(c.push(0),R.push(2*(p.length+C-w)),r=$=k;k<=d?$<=d:$>=d;r=k<=d?++$:--$)p.push(i[r].new);else c.push(I-k),R.push(0)}for(T.writeUInt16(3),T.writeUInt16(1),T.writeUInt32(12),T.writeUInt16(4),T.writeUInt16(16+8*C+2*p.length),T.writeUInt16(0),T.writeUInt16(P),T.writeUInt16(E),T.writeUInt16(f),T.writeUInt16(D),le=0,L=h.length;le<L;le++)r=h[le],T.writeUInt16(r);for(T.writeUInt16(0),ge=0,M=A.length;ge<M;ge++)r=A[ge],T.writeUInt16(r);for(be=0,K=c.length;be<K;be++)o=c[be],T.writeUInt16(o);for(Le=0,Q=R.length;Le<Q;Le++)S=R[Le],T.writeUInt16(S);for(ue=0,V=p.length;ue<V;ue++)v=p[ue],T.writeUInt16(v);return{charMap:i,subtable:T.data,maxGlyphID:_+1}}},t}(),Use=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Cd(t,hu),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,i,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n=new oX(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var i,r;return n==null&&(n="macroman"),i=oX.encode(e,n),(r=new Mm).writeUInt16(0),r.writeUInt16(1),i.table=r.data.concat(i.subtable),i},t}(),j7e=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Cd(t,hu),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),$7e=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Cd(t,hu),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(e.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(e.readInt());return i}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(e.readInt());return i}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),W7e=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Cd(t,hu),t.prototype.tag="post",t.prototype.parse=function(e){var n,i,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var a;for(i=e.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)n=e.readByte(),r.push(this.names.push(e.readString(n)));return r;case 151552:return i=e.readUInt16(),this.offsets=e.read(i);case 262144:return this.map=(function(){var s,o,c;for(c=[],a=s=0,o=this.file.maxp.numGlyphs;0<=o?s<o:s>o;a=0<=o?++s:--s)c.push(e.readUInt32());return c}).call(this)}},t}(),q7e=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},H7e=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Cd(t,hu),t.prototype.tag="name",t.prototype.parse=function(e){var n,i,r,a,s,o,c,u,d,h,f;for(e.pos=this.offset,e.readShort(),n=e.readShort(),o=e.readShort(),i=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)i.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(c={},a=d=0,h=i.length;d<h;a=++d)r=i[a],e.pos=r.offset,u=e.readString(r.length),s=new q7e(u,r),c[f=r.nameID]==null&&(c[f]=[]),c[r.nameID].push(s);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),V7e=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Cd(t,hu),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),G7e=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Cd(t,hu),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,i,r,a,s,o,c;for(e.pos=this.offset,this.metrics=[],n=0,o=this.file.hhea.numberOfMetrics;0<=o?n<o:n>o;n=0<=o?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],n=u=0;0<=r?u<r:u>r;n=0<=r?++u:--u)d.push(e.readInt16());return d}(),this.widths=(function(){var u,d,h,f;for(f=[],u=0,d=(h=this.metrics).length;u<d;u++)a=h[u],f.push(a.advance);return f}).call(this),i=this.widths[this.widths.length-1],c=[],n=s=0;0<=r?s<r:s>r;n=0<=r?++s:--s)c.push(this.widths.push(i));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),Mse=[].slice,X7e=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Cd(t,hu),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,i,r,a,s,o,c,u,d,h;return e in this.cache?this.cache[e]:(a=this.file.loca,n=this.file.contents,i=a.indexOf(e),(r=a.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+i,s=(o=new Mm(n.read(r))).readShort(),u=o.readShort(),h=o.readShort(),c=o.readShort(),d=o.readShort(),this.cache[e]=s===-1?new Y7e(o,u,h,c,d):new K7e(o,s,u,h,c,d),this.cache[e]))},t.prototype.encode=function(e,n,i){var r,a,s,o,c;for(s=[],a=[],o=0,c=n.length;o<c;o++)r=e[n[o]],a.push(s.length),r&&(s=s.concat(r.encode(i)));return a.push(s.length),{table:s,offsets:a}},t}(),K7e=function(){function t(e,n,i,r,a,s){this.raw=e,this.numberOfContours=n,this.xMin=i,this.yMin=r,this.xMax=a,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Y7e=function(){function t(e,n,i,r,a){var s,o;for(this.raw=e,this.xMin=n,this.yMin=i,this.xMax=r,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return t.prototype.encode=function(){var e,n,i;for(n=new Mm(Mse.call(this.raw.data)),e=0,i=this.glyphIDs.length;e<i;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),J7e=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Cd(t,hu),t.prototype.tag="loca",t.prototype.parse=function(e){var n,i;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var r,a;for(a=[],i=0,r=this.length;i<r;i+=2)a.push(2*e.readUInt16());return a}).call(this):(function(){var r,a;for(a=[],i=0,r=this.length;i<r;i+=4)a.push(e.readUInt32());return a}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var i=new Uint32Array(this.offsets.length),r=0,a=0,s=0;s<i.length;++s)if(i[s]=r,a<n.length&&n[a]==s){++a,i[s]=r;var o=this.offsets[s],c=this.offsets[s+1]-o;c>0&&(r+=c)}for(var u=new Array(4*i.length),d=0;d<i.length;++d)u[4*d+3]=255&i[d],u[4*d+2]=(65280&i[d])>>8,u[4*d+1]=(16711680&i[d])>>16,u[4*d]=(4278190080&i[d])>>24;return u},t}(),Z7e=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,i,r,a;for(n in r=this.font.cmap.tables[0].codeMap,e={},a=this.subset)i=a[n],e[n]=r[i];return e},t.prototype.glyphsFor=function(e){var n,i,r,a,s,o,c;for(r={},s=0,o=e.length;s<o;s++)r[a=e[s]]=this.font.glyf.glyphFor(a);for(a in n=[],r)(i=r[a])!=null&&i.compound&&n.push.apply(n,i.glyphIDs);if(n.length>0)for(a in c=this.glyphsFor(n))i=c[a],r[a]=i;return r},t.prototype.encode=function(e,n){var i,r,a,s,o,c,u,d,h,f,p,w,v,b,g;for(r in i=Use.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),p={0:0},g=i.charMap)p[(c=g[r]).old]=c.new;for(w in f=i.maxGlyphID,s)w in p||(p[w]=f++);return d=function(y){var _,S;for(_ in S={},y)S[y[_]]=_;return S}(p),h=Object.keys(d).sort(function(y,_){return y-_}),v=function(){var y,_,S;for(S=[],y=0,_=h.length;y<_;y++)o=h[y],S.push(d[o]);return S}(),a=this.font.glyf.encode(s,v,p),u=this.font.loca.encode(a.offsets,v),b={cmap:this.font.cmap.raw(),glyf:a.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},t}();Ot.API.PDFObject=function(){var t;function e(){}return t=function(n,i){return(Array(i+1).join("0")+n).slice(-i)},e.convert=function(n){var i,r,a,s;if(Array.isArray(n))return"["+function(){var o,c,u;for(u=[],o=0,c=n.length;o<c;o++)i=n[o],u.push(e.convert(i));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(r in a=["<<"],n)s=n[r],a.push("/"+r+" "+e.convert(s));return a.push(">>"),a.join(`
`)}return""+n},e}();const Jd=t=>{if(!t)return"";const e=document.createElement("DIV");e.innerHTML=t;let n=e.textContent||e.innerText||"";return n=n.replace(/\s+/g," ").trim(),n},Q7e=(t,e,n,i,r,a,s=1.15,o="left")=>{if(!e||e.trim()==="")return i;t.setFontSize(a);const c=t.splitTextToSize(e,r);return c.forEach((u,d)=>{const h=i+d*a*.3527777778*s;if(o==="center"){const f=t.getTextWidth(u);t.text(u,n-f/2,h)}else if(o==="justify"&&d<c.length-1&&u.trim().split(" ").length>1){const f=u.trim().split(/\s+/);if(f.length>1){const p=f.reduce((g,y)=>g+t.getTextWidth(y),0),v=(r-p)/(f.length-1);let b=n;f.forEach((g,y)=>{t.text(g,b,h),b+=t.getTextWidth(g)+v})}else t.text(u,n,h)}else t.text(u,n,h)}),i+c.length*a*.3527777778*s},Lx=async t=>{try{const e=new Ot({orientation:"portrait",unit:"mm",format:"a4",compress:!0}),n=e.internal.pageSize.getWidth(),i=e.internal.pageSize.getHeight(),r=25,a=n-2*r,s=n/2;let o=r+5;e.setFont("times","bold"),e.setFontSize(20);const c=(t.title||"UNTITLED RESEARCH PAPER").toUpperCase(),u=e.splitTextToSize(c,a-10);u.forEach((W,$)=>{const q=e.getTextWidth(W);e.text(W,s-q/2,o+$*7)}),o+=u.length*7+10,e.setFont("times","normal"),e.setFontSize(12);const d=t.authors||"Anonymous Author",h=e.getTextWidth(d);e.text(d,s-h/2,o),o+=5,e.setFont("times","italic"),e.setFontSize(11);const f=t.affiliation||"Department of Research, Institution Name",p=e.splitTextToSize(f,a-20);if(p.forEach((W,$)=>{const q=e.getTextWidth(W);e.text(W,s-q/2,o+$*5)}),o+=p.length*5+3,!f.match(/,\s*([^,]+)$/)){const W="Nijmegen, Netherlands",$=e.getTextWidth(W);e.text(W,s-$/2,o),o+=5}e.setFont("times","normal"),e.setFontSize(11);const v=t.email||"author@institution.edu",b=e.getTextWidth(v);e.text(v,s-b/2,o),o+=12,e.setLineWidth(.5),e.line(r,o,n-r,o),o+=8;const g=W=>o+W>i-r?(e.addPage(),o=r,!0):!1;g(25),e.setFont("times","bold"),e.setFontSize(10);const y="ABSTRACT";e.text(y,r,o),e.setFont("times","normal");const _=Jd(t.abstract)||"Research suggests that speech deterioration indicates an exacerbation in patients with chronic obstructive pulmonary disease (COPD).",S=e.getTextWidth(y),N=r+S,R=a-S,D=e.splitTextToSize(_,R);e.text(D[0],N,o),o+=5;for(let W=1;W<D.length;W++)g(6),e.text(D[W],r,o),o+=5;o+=5,g(12),e.setFont("times","italic"),e.setFontSize(10);const E="Keywords",C=e.getTextWidth(E);e.text(E,r,o);const P=t.keywords||"COPD, lung exacerbation, pulmonary disease";e.text(P,r+C,o),o+=10;const k=(W,$,q,G=!1)=>{if(!q||Jd(q).trim()==="")return;g(20),e.setFont("times","bold"),e.setFontSize(11);const B=`${W}. ${$.toUpperCase()}`;e.text(B,r,o),o+=7,e.setFont("times","normal"),e.setFontSize(10);const L=Jd(q);if(G&&L.length>0){const M=L.charAt(0).toUpperCase(),K=L.substring(1,12).toUpperCase(),Q=L.substring(12);e.setFont("times","bold"),e.setFontSize(28);const V=e.getTextWidth(M);e.text(M,r,o+6),e.setFont("times","bold"),e.setFontSize(10),e.text(K,r+V+1,o);const le=V+1+e.getTextWidth(K),ge=a-le;e.setFont("times","normal");const ye=e.splitTextToSize(Q,ge);e.text(ye[0],r+le,o),o+=5;for(let be=1;be<ye.length;be++){g(6);const Le=ye[be];if(be<ye.length-1&&Le.trim().split(" ").length>1){const ue=Le.trim().split(/\s+/),ke=ue.reduce((ne,te)=>ne+e.getTextWidth(te),0),re=(a-ke)/(ue.length-1);let Ee=r;ue.forEach((ne,te)=>{e.text(ne,Ee,o),Ee+=e.getTextWidth(ne)+re})}else e.text(Le,r,o);o+=5}}else{const M=e.splitTextToSize(L,a);M.forEach((K,Q)=>{if(g(6),Q<M.length-1&&K.trim().split(" ").length>1){const V=K.trim().split(/\s+/),le=V.reduce((Le,ue)=>Le+e.getTextWidth(ue),0),ye=(a-le)/(V.length-1);let be=r;V.forEach((Le,ue)=>{e.text(Le,be,o),be+=e.getTextWidth(Le)+ye})}else e.text(K,r,o);o+=5})}o+=6};t.introduction&&Jd(t.introduction).trim()&&k("I","INTRODUCTION",t.introduction,!0);let A=2;const I=["II","III","IV","V","VI","VII","VIII","IX","X"];if([{title:"RELATED WORK",content:t.relatedWork},{title:"METHODOLOGY",content:t.methodology},{title:"RESULTS / ANALYSIS",content:t.results},{title:"DISCUSSION",content:t.discussion},{title:"CONCLUSION",content:t.conclusion}].forEach((W,$)=>{W.content&&Jd(W.content).trim()&&k(I[$],W.title,W.content,!1)}),t.references&&Jd(t.references).trim()&&(g(20),e.setFont("times","bold"),e.setFontSize(11),e.text("REFERENCES",r,o),o+=7,e.setFont("times","normal"),e.setFontSize(9),Jd(t.references).split(/\[\d+\]|^\d+\./).filter(q=>q.trim()).forEach((q,G)=>{g(15),e.setFont("times","normal");const B=`[${G+1}]`,L=e.getTextWidth(B);e.text(B,r,o),e.splitTextToSize(q.trim(),a-L-2).forEach((K,Q)=>{Q===0||(g(5),o+=4),e.text(K,r+L+2,o)}),o+=6}),o+=4),t.acknowledgments&&Jd(t.acknowledgments).trim()){g(20),e.setFont("times","bold"),e.setFontSize(11),e.text("ACKNOWLEDGMENTS",r,o),o+=7,e.setFont("times","normal"),e.setFontSize(10);const W=Jd(t.acknowledgments);o=Q7e(e,W,r,o,a,10,1.4,"justify")}const z=`${(t.title||"research-paper").replace(/[^a-z0-9]/gi,"-").toLowerCase()}.pdf`,j=e.output("blob");return{success:!0,fileName:z,blob:j}}catch(e){return console.error("Error generating PDF:",e),{success:!1,error:e.message}}};od.workerSrc=`https://cdnjs.cloudflare.com/ajax/libs/pdf.js/${bte}/pdf.worker.min.js`;const va={toolbar:[[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],[{size:["small",!1,"large","huge"]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{align:[]}],["blockquote","code-block"],["link","image","video"],["clean"]]},ba=["header","font","size","bold","italic","underline","strike","color","background","script","list","bullet","indent","align","blockquote","code-block","link","image","video"],eFe=()=>{const{isAuthenticated:t,user:e}=Hr(),n=Gi(),[i,r]=Z.useState("requirements"),[a,s]=Z.useState([]),[o,c]=Z.useState([]),[u,d]=Z.useState(!1),[h,f]=Z.useState(!1),[p,w]=Z.useState(null),[v,b]=Z.useState(!1),[g,y]=Z.useState(null),[_,S]=Z.useState({title:"",authors:"",affiliation:"",email:"",abstract:"",keywords:"",introduction:"",relatedWork:"",methodology:"",results:"",discussion:"",conclusion:"",references:"",acknowledgments:""});Z.useState([]);const[N,R]=Z.useState(null),[D,E]=Z.useState(!1),[C,P]=Z.useState(null),[k,A]=Z.useState(null),[I,T]=Z.useState({field:"",search:""}),[z,j]=Z.useState({title:"",authors:"",affiliation:"",email:"",abstract:"",keywords:"",introduction:"",relatedWork:"",methodology:"",results:"",discussion:"",conclusion:"",references:"",acknowledgments:""}),[W,$]=Z.useState([]),[q,G]=Z.useState(null),[B,L]=Z.useState(!1),[M,K]=Z.useState({title:"",abstract:"",authorName:"",authorEmail:"",affiliation:"",phone:"",file:null});Z.useEffect(()=>{Q()},[I]),Z.useEffect(()=>{t&&(V(),re())},[t,i]);const Q=async()=>{try{d(!0),console.log(" Fetching requirements with filters:",I);const de=await GPe(I);console.log(" Requirements response:",de),s(de.data.requirements||[])}catch(de){console.error(" Error fetching requirements:",de),console.error(" Error response:",de.response),He.error("Failed to fetch requirements")}finally{d(!1)}},V=async()=>{var de,Me;try{console.log(" Fetching my manuscripts...");const Fe=await KPe();console.log(" Manuscripts response:",Fe),c(Fe.data.manuscripts||[]),console.log(" Total manuscripts:",((de=Fe.data.manuscripts)==null?void 0:de.length)||0)}catch(Fe){console.error(" Failed to fetch manuscripts:",Fe),console.error(" Error response:",Fe.response),((Me=Fe.response)==null?void 0:Me.status)!==401&&He.error("Failed to fetch your submissions")}},le=async(de,Me)=>{var Fe,Ge,ut,nt;if(window.confirm(`Are you sure you want to remove "${Me}"? This action cannot be undone.`))try{console.log(`
===  DELETING MANUSCRIPT ===`),console.log("Manuscript ID:",de),console.log("Auth Token:",localStorage.getItem("authToken")?"Present":"Missing"),console.log("Current User:",e);const yt=await YPe(de);console.log(" Delete response:",yt),He.success(" Manuscript removed successfully!"),c(Be=>Be.filter(Ze=>Ze._id!==de))}catch(yt){console.error(" Error deleting manuscript:",yt),console.error("Error response:",(Fe=yt.response)==null?void 0:Fe.data),console.error("Error status:",(Ge=yt.response)==null?void 0:Ge.status);const Be=((nt=(ut=yt.response)==null?void 0:ut.data)==null?void 0:nt.message)||yt.message||"Failed to remove manuscript";He.error(Be)}},ge=async de=>{var Me,Fe,Ge;if(de.preventDefault(),!t){He.error("Please login to submit manuscript"),n("/login");return}if(!M.file){He.error("Please upload a manuscript file");return}if(!p){He.error("No requirement selected. Please try again or contact support."),console.error(" No selected requirement!");return}try{b(!0),console.log(`
===  MANUSCRIPT SUBMISSION START ===`),console.log(" Auth Token:",localStorage.getItem("authToken")?"Present":"Missing"),console.log(" Current User:",e),console.log(" Selected Requirement:",{id:p._id,title:p.title,topic:p.topic}),console.log(" Form data:",{title:M.title,abstract:((Me=M.abstract)==null?void 0:Me.substring(0,50))+"...",authorName:M.authorName,authorEmail:M.authorEmail,fileSize:M.file.size,fileName:M.file.name});const ut=new FormData;ut.append("requirementId",p._id),ut.append("title",M.title),ut.append("abstract",M.abstract),ut.append("authorName",M.authorName),ut.append("authorEmail",M.authorEmail),ut.append("affiliation",M.affiliation||""),ut.append("phone",M.phone||""),ut.append("file",M.file);const nt=M.sourceType||g||"manuscript";ut.append("type",nt),console.log(" FormData created, sending to API..."),console.log(" CRITICAL: Submission Type =",nt,"(will appear in Admin",nt==="research-paper"?"Research Papers":"Manuscripts","section)"),console.log(" All FormData fields:");for(let[Ze,ot]of ut.entries())console.log(`   - ${Ze}:`,ot instanceof File?`File(${ot.name})`:ot);const yt=await XPe(ut);console.log(" API Response:",yt),console.log(`===  SUBMISSION SUCCESS ===
`);const Be=nt==="research-paper"?"Research Paper":"Manuscript";He.success(` ${Be} submitted successfully! Check Admin  Submission Review  ${nt==="research-paper"?"Research Papers":"Manuscripts"} tab.`),f(!1),ye(),w(null),await V(),r("my-submissions")}catch(ut){console.error(" Submission error:",ut),console.error("Error response:",ut.response),console.log(`===  MANUSCRIPT SUBMISSION FAILED ===
`);const nt=((Ge=(Fe=ut.response)==null?void 0:Fe.data)==null?void 0:Ge.message)||ut.message||"Failed to submit manuscript";He.error(nt)}finally{b(!1)}},ye=()=>{K({title:"",abstract:"",authorName:"",authorEmail:"",affiliation:"",phone:"",file:null})},be=de=>{const Me=(de||"").replace(/\r/g,""),Fe=Me.match(/[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}/i),Ge=Me.match(/Abstract[\s:]*\n([\s\S]{50,4000}?)(?:\n\n|Keywords?|Index\s+Terms|Introduction|1\.\s+Introduction|\n[A-Z\s]{10,50}\n)/i);let ut="";Ge?ut=Me.slice(0,Ge.index).trim().split(`
`).map(bt=>bt.trim()).filter(Boolean).filter(bt=>bt.length>=10&&bt.length<=200).sort((bt,At)=>At.length-bt.length)[0]||"":ut=Me.split(`
`).map(St=>St.trim()).filter(Boolean).find(St=>St.length>=10&&St.length<=200)||"",ut=ut.replace(/^Title[:\-\s]*/i,"").trim();let nt="";const yt=[/(?:Author[s]?|By)[:\s]+([^\n]{5,80})/i,/(?:^|\n)([A-Z][a-z]+\s+[A-Z][a-z]+(?:\s+[A-Z][a-z]+)?)\s*\n.*?(?:University|Institute|College|Department)/i];for(const ot of yt){const St=Me.match(ot);if(St&&St[1]){nt=St[1].trim().replace(/[,;]+$/,"");break}}if(!nt&&Fe){const ot=Me.indexOf(Fe[0]),At=Me.slice(Math.max(0,ot-300),ot).split(`
`).map(Qt=>Qt.trim()).filter(Boolean).reverse().find(Qt=>/^[A-Z][a-z]+(\s+[A-Z][a-z]+){1,2}$/.test(Qt));At&&(nt=At)}const Be=[/Affiliation[:\s]+([^\n]{5,150})/i,/((?:University|Institute|College|Department)[^\n]{5,120})/i];let Ze="";for(const ot of Be){const St=Me.match(ot);if(St&&St[1]){Ze=St[1].trim().replace(/^Affiliation[:\-\s]*/i,"");break}}return console.log(" Extracted fields:",{title:ut.substring(0,100),abstract:Ge?Ge[1].substring(0,100)+"...":"Not found",authorName:nt,email:Fe?Fe[0]:"Not found",affiliation:Ze.substring(0,100)}),{title:ut||"",abstract:Ge?Ge[1].trim():"",authorName:nt||"",email:Fe?Fe[0]:"",affiliation:Ze||""}},Le=async de=>{const Me=await mte({data:de}).promise;let Fe="";const Ge=Math.min(Me.numPages,5);for(let ut=1;ut<=Ge;ut++){const yt=await(await Me.getPage(ut)).getTextContent();Fe+=yt.items.map(Be=>Be.str).join(`
`)+`
`}return be(Fe)},ue=async de=>{const{value:Me}=await lu.extractRawText({arrayBuffer:de});return be(Me||"")},ke=async de=>{const Me=await de.arrayBuffer();if(de.name.toLowerCase().endsWith(".pdf"))return Le(Me);if(de.name.toLowerCase().endsWith(".docx"))return ue(Me);const Fe=new TextDecoder().decode(new Uint8Array(Me));return be(Fe)},X=async de=>{const Me=de.target.files[0];if(!Me)return;console.log(" File selected:",Me.name,Me.type,Me.size);const Fe=[".pdf",".doc",".docx"],Ge=Me.name.toLowerCase().substring(Me.name.lastIndexOf("."));if(!Fe.includes(Ge)){He.error("Please upload a PDF or DOCX file");return}if(Me.size>10*1024*1024){He.error("File size must be less than 10MB");return}K(nt=>({...nt,file:Me}));const ut=He.loading("Analyzing manuscript and extracting details...");try{console.log(" Starting manuscript parsing...");const nt=await ke(Me);if(console.log(" Extraction complete:",nt),!(nt.title||nt.abstract||nt.authorName||nt.email)){He.error("Could not extract information from the file. Please fill the form manually.",{id:ut});return}K(Ze=>({...Ze,file:Me,title:nt.title||Ze.title,abstract:nt.abstract||Ze.abstract,authorName:nt.authorName||Ze.authorName,authorEmail:nt.email||Ze.authorEmail,affiliation:nt.affiliation||Ze.affiliation}));const Be=[];nt.title&&Be.push("Title"),nt.abstract&&Be.push("Abstract"),nt.authorName&&Be.push("Author"),nt.email&&Be.push("Email"),nt.affiliation&&Be.push("Affiliation"),He.success(`Auto-filled: ${Be.join(", ")}. Please review and edit if needed.`,{id:ut,duration:5e3})}catch(nt){console.error(" Parse failed:",nt),He.error(`Failed to parse manuscript: ${nt.message}. Please fill manually.`,{id:ut})}},re=async()=>{var de,Me;try{console.log(" Fetching my research papers...");const Fe=await JPe();console.log(" Research papers response:",Fe),$(Fe.data.papers||[]),console.log(" Total research papers:",((de=Fe.data.papers)==null?void 0:de.length)||0)}catch(Fe){console.error(" Failed to fetch research papers:",Fe),console.error("Error response:",Fe.response),((Me=Fe.response)==null?void 0:Me.status)!==401&&He.error("Failed to fetch your research papers")}},Ee=async()=>{var de,Me;if(!z.title||!z.authors||!z.abstract){He.error("Please fill in required fields (Title, Authors, Abstract)");return}try{L(!0),console.log(" Saving research paper..."),console.log("Paper content:",z),console.log("Editing paper ID:",q),console.log("Document type:",g);const Fe={...z,type:g==="research-paper"?"research-paper":"manuscript"};if(q){const Ge=await OV(q,Fe);console.log(" Update response:",Ge),He.success(" Research paper updated successfully!"),G(null)}else{const Ge=await FV(Fe);console.log(" Create response:",Ge),He.success(" Research paper saved successfully!")}await re(),r("my-research")}catch(Fe){console.error(" Error saving research paper:",Fe),console.error("Error response:",Fe.response);const Ge=((Me=(de=Fe.response)==null?void 0:de.data)==null?void 0:Me.message)||Fe.message||"Failed to save research paper";He.error(Ge)}finally{L(!1)}},ne=de=>{j({title:de.title||"",authors:de.authors||"",affiliation:de.affiliation||"",email:de.email||"",abstract:de.abstract||"",keywords:de.keywords||"",introduction:de.introduction||"",relatedWork:de.relatedWork||"",methodology:de.methodology||"",results:de.results||"",discussion:de.discussion||"",conclusion:de.conclusion||"",references:de.references||"",acknowledgments:de.acknowledgments||""}),G(de._id),y("research-paper"),r("write-paper"),He.info(" Editing paper...")},te=async(de,Me)=>{var Fe,Ge;if(window.confirm(`Are you sure you want to delete "${Me}"? This action cannot be undone.`))try{await UV(de),He.success(" Research paper deleted successfully!"),$(ut=>ut.filter(nt=>nt._id!==de))}catch(ut){console.error("Error deleting research paper:",ut),He.error(((Ge=(Fe=ut.response)==null?void 0:Fe.data)==null?void 0:Ge.message)||"Failed to delete research paper")}},ae=()=>{j({title:"",authors:"",affiliation:"",email:"",abstract:"",keywords:"",introduction:"",relatedWork:"",methodology:"",results:"",discussion:"",conclusion:"",references:"",acknowledgments:""}),G(null)},xe=()=>{S({title:"",authors:"",affiliation:"",email:"",abstract:"",keywords:"",introduction:"",relatedWork:"",methodology:"",results:"",discussion:"",conclusion:"",references:"",acknowledgments:""}),R(null)},Ce=async()=>{var de,Me;if(!_.title.trim()){He.error("Please enter a title");return}if(!_.authors.trim()){He.error("Please enter author name(s)");return}try{E(!0);const Fe={..._,type:"manuscript"};N?(await OV(N,Fe),He.success(" Manuscript updated successfully!")):(await FV(Fe),He.success(" Manuscript saved successfully!")),await re(),R(null)}catch(Fe){console.error("Error saving manuscript:",Fe),He.error(((Me=(de=Fe.response)==null?void 0:de.data)==null?void 0:Me.message)||"Failed to save manuscript")}finally{E(!1)}},_e=de=>{S({title:de.title||"",authors:de.authors||"",affiliation:de.affiliation||"",email:de.email||"",abstract:de.abstract||"",keywords:de.keywords||"",introduction:de.introduction||"",relatedWork:de.relatedWork||"",methodology:de.methodology||"",results:de.results||"",discussion:de.discussion||"",conclusion:de.conclusion||"",references:de.references||"",acknowledgments:de.acknowledgments||""}),R(de._id),y("manuscript"),r("write-paper"),He.info(" Manuscript loaded for editing")},oe=async de=>{var Me,Fe;if(window.confirm("Are you sure you want to delete this manuscript? This action cannot be undone."))try{await UV(de),He.success(" Manuscript deleted successfully!"),await re(),N===de&&(R(null),xe())}catch(Ge){console.error("Error deleting manuscript:",Ge),He.error(((Fe=(Me=Ge.response)==null?void 0:Me.data)==null?void 0:Fe.message)||"Failed to delete manuscript")}},pe=async de=>{var ut,nt;if(!t){He.error("Please login to submit research paper"),n("/login");return}w(de);const Me=g==="manuscript",Fe=Me?_:z;let Ge=null;if(Fe.title.trim())try{const yt=Me?"Preparing manuscript...":"Preparing research paper...";He.loading(yt,{id:"prepare-paper"});const Be=await Lx(Fe);if(Be.success){const Ze=`${Fe.title.replace(/[^a-z0-9]/gi,"_")}_${Me?"manuscript":"research_paper"}.pdf`;Ge=new File([Be.blob],Ze,{type:"application/pdf"});const ot=Me?"Manuscript prepared successfully!":"Research paper prepared successfully!";He.success(ot,{id:"prepare-paper"})}else{const Ze=Me?"Failed to prepare manuscript PDF":"Failed to prepare research paper PDF";He.error(Ze,{id:"prepare-paper"})}}catch(yt){console.error("Error generating PDF:",yt);const Be=Me?"Error preparing manuscript":"Error preparing research paper";He.error(Be,{id:"prepare-paper"})}K({...M,title:Fe.title||"",abstract:Fe.abstract||"",authorName:Fe.authors||`${((ut=e==null?void 0:e.profile)==null?void 0:ut.firstName)||""} ${((nt=e==null?void 0:e.profile)==null?void 0:nt.lastName)||""}`.trim(),authorEmail:Fe.email||(e==null?void 0:e.email)||"",affiliation:Fe.affiliation||"",file:Ge,sourceType:g||"research-paper"}),f(!0)},Se=async de=>{var Me,Fe,Ge,ut;if(!t){He.error("Please login to submit manuscript"),n("/login");return}try{He.loading("Preparing manuscript for submission...",{id:"prepare-manuscript"});let nt=a;if((!nt||nt.length===0)&&(console.log("Fetching requirements..."),await Q(),await new Promise(St=>setTimeout(St,500)),nt=a),!nt||nt.length===0){He.error("No manuscript requirements available. Please contact admin.",{id:"prepare-manuscript"});return}const yt=nt[0];console.log("Selected requirement:",yt),w(yt);let Be=null;try{const St=await Lx(de);if(St.success){const bt=`${de.title.replace(/[^a-z0-9]/gi,"_")}_manuscript.pdf`;Be=new File([St.blob],bt,{type:"application/pdf"}),console.log("PDF generated successfully:",bt)}}catch(St){console.error("Error generating PDF:",St),He.error("Failed to generate PDF. Please upload manually.",{id:"prepare-manuscript"})}const Ze=de.type||"manuscript";console.log(" Document type from saved paper:",Ze);const ot={title:de.title||"",abstract:de.abstract||"",authorName:de.authors||`${((Me=e==null?void 0:e.profile)==null?void 0:Me.firstName)||""} ${((Fe=e==null?void 0:e.profile)==null?void 0:Fe.lastName)||""}`.trim()||(e==null?void 0:e.displayName)||"",authorEmail:(e==null?void 0:e.email)||"",affiliation:de.affiliation||"",phone:((Ge=e==null?void 0:e.profile)==null?void 0:Ge.phone)||((ut=e==null?void 0:e.profile)==null?void 0:ut.contactNo)||"",file:Be,sourceType:Ze};console.log("Form data prepared:",ot),K(ot),He.success("Manuscript loaded! Review and submit.",{id:"prepare-manuscript"}),f(!0)}catch(nt){console.error("Error preparing manuscript:",nt),He.error("Failed to prepare manuscript for submission",{id:"prepare-manuscript"})}},De=de=>de?new Date(de).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A",Ve=de=>({pending:{class:"badge-warning",text:"Pending Review"},"under-review":{class:"badge-info",text:"Under Review"},accepted:{class:"badge-success",text:"Accepted"},rejected:{class:"badge-danger",text:"Rejected"},"update-changes":{class:"badge-warning",text:"Update Changes"}})[de]||{class:"badge-secondary",text:de};return m("div",{className:"publishing-page",children:[m("div",{className:"publishing-hero",children:[m("div",{className:"hero-badge",children:[l("span",{children:""}),l("span",{children:"Publishing House"})]}),m("h1",{className:"hero-title",children:["Submit Your ",l("span",{className:"text-gradient",children:"Research"})]}),l("p",{className:"hero-description",children:"Share your research with a global audience of built environment professionals. Get published in peer-reviewed academic journals and contribute to the field."}),m("div",{className:"publishing-stats",children:[m("div",{className:"stat-card",children:[l("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),m("div",{children:[l("strong",{children:a.length}),l("span",{children:"Active Requirements"})]})]}),m("div",{className:"stat-card",children:[l("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),m("div",{children:[l("strong",{children:o.length}),l("span",{children:"My Submissions"})]})]}),m("div",{className:"stat-card",children:[l("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),m("div",{children:[l("strong",{children:W.length}),l("span",{children:"My Research Papers"})]})]})]})]}),l("div",{className:"submission-cta",children:m("div",{className:"cta-content",children:[l("div",{className:"cta-icon",children:l("svg",{width:"32",height:"32",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),m("div",{className:"cta-text",children:[l("h3",{children:"Ready to Submit Your Research?"}),l("p",{children:"Browse available requirements and submit your manuscript for peer review"})]}),m("button",{className:"btn-primary",onClick:()=>{var de;a.length>0?(de=document.getElementById("requirements-section"))==null||de.scrollIntoView({behavior:"smooth"}):He.info("No active requirements available")},children:[l("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13l-3 3m0 0l-3-3m3 3V8m0 13a9 9 0 110-18 9 9 0 010 18z"})}),"View Requirements"]})]})}),t&&m("div",{className:"publishing-tabs",children:[m("button",{className:`tab-btn ${i==="requirements"?"active":""}`,onClick:()=>r("requirements"),children:[l("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),"Available Requirements"]}),m("button",{className:`tab-btn ${i==="write-paper"?"active":""}`,onClick:()=>r("write-paper"),children:[l("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Write Research Paper and Manuscript"]}),m("button",{className:`tab-btn ${i==="my-research"?"active":""}`,onClick:()=>r("my-research"),children:[l("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),"My Research and Manuscripts",W.length>0&&l("span",{className:"tab-badge",children:W.length})]}),m("button",{className:`tab-btn ${i==="my-submissions"?"active":""}`,onClick:()=>r("my-submissions"),children:[l("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"My Submissions",o.length>0&&l("span",{className:"tab-badge",children:o.length})]})]}),l("div",{className:"search-filter-section",id:"requirements-section",children:m("div",{className:"search-row",children:[m("div",{className:"search-box",children:[l("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),l("input",{type:"text",placeholder:"Search publications, authors, keywords...",className:"search-input-modern",value:I.search,onChange:de=>T({...I,search:de.target.value})})]}),m("select",{className:"sort-select",value:I.field,onChange:de=>T({...I,field:de.target.value}),children:[l("option",{value:"",children:"All Fields"}),l("option",{value:"Urban Planning",children:"Urban Planning"}),l("option",{value:"Architecture",children:"Architecture"}),l("option",{value:"Environmental Planning",children:"Environmental Planning"}),l("option",{value:"Transportation Planning",children:"Transportation Planning"}),l("option",{value:"Regional Planning",children:"Regional Planning"}),l("option",{value:"Housing Policy",children:"Housing Policy"})]}),(I.field||I.search)&&m("button",{className:"filter-toggle",onClick:()=>T({field:"",search:""}),children:[l("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Clear Filters"]})]})}),u?m("div",{className:"loading-container",children:[l("div",{className:"loader"}),l("p",{children:"Loading..."})]}):l(vt,{children:i==="requirements"?m("div",{className:"requirements-section",children:[l("h2",{className:"section-title",children:"Available Requirements"}),m("p",{className:"section-count",children:[a.length," requirement",a.length!==1?"s":""]}),a.length===0?m("div",{className:"empty-state",children:[l("div",{className:"empty-icon",children:""}),l("h3",{children:"No Requirements Found"}),l("p",{children:"There are currently no publishing requirements available"})]}):l("div",{className:"requirements-grid",children:a.map(de=>m("div",{className:"requirement-card",children:[l("div",{className:"card-gradient-overlay"}),l("div",{className:"card-icon-container",children:l("div",{className:"card-icon-circle",children:l("svg",{width:"28",height:"28",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:"2",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})}),m("div",{className:"card-body",children:[l("h3",{className:"requirement-title",children:de.title}),m("div",{className:"requirement-badges",children:[m("span",{className:"badge badge-field",children:[" ",de.field]}),m("span",{className:"badge badge-deadline",children:[" ",De(de.submissionDeadline)]})]}),m("div",{className:"requirement-info",children:[l("p",{className:"info-label",children:"Topic:"}),l("p",{className:"info-value",children:de.topic})]}),de.description&&l("p",{className:"requirement-description",children:de.description}),de.guidelines&&m("div",{className:"requirement-guidelines",children:[l("h4",{className:"guidelines-title",children:"Guidelines:"}),m("div",{className:"guidelines-list",children:[de.guidelines.wordLimit&&m("div",{className:"guideline-row",children:[l("span",{className:"guideline-key",children:"Word Limit:"}),l("span",{className:"guideline-val",children:de.guidelines.wordLimit})]}),de.guidelines.format&&m("div",{className:"guideline-row",children:[l("span",{className:"guideline-key",children:"Format:"}),l("span",{className:"guideline-val",children:de.guidelines.format})]}),de.guidelines.citationStyle&&m("div",{className:"guideline-row",children:[l("span",{className:"guideline-key",children:"Citation:"}),l("span",{className:"guideline-val",children:de.guidelines.citationStyle})]})]})]})]}),m("div",{className:"card-actions",children:[m("div",{className:"action-info",children:[l("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:"2",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),m("span",{children:[de.manuscriptsCount||0," submissions"]})]}),l("button",{className:"btn-write-manuscript",onClick:()=>{y("manuscript"),r("write-paper"),w(de),He.info(" Start writing your manuscript")},children:"Write Manuscript"})]})]},de._id))})]}):i==="write-paper"?g?g==="research-paper"?m("div",{className:"write-paper-section",children:[m("div",{className:"paper-header-actions",children:[l("button",{className:"back-btn",onClick:()=>{y(null),G(null)},children:" Back to Selection"}),q&&m("div",{className:"editing-indicator",children:[l("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),l("span",{children:"Editing Research Paper"})]})]}),m("div",{className:"paper-editor-container",children:[m("div",{className:"paper-guidelines",children:[l("h2",{className:"section-title",children:" ICSET 2026 Conference Paper Format"}),l("p",{className:"guidelines-intro",children:"Follow these official ICSET 2026 guidelines for paper formatting. All submissions must adhere to these specifications."}),m("div",{className:"guideline-section",children:[l("h3",{children:" Document Setup"}),m("ul",{children:[m("li",{children:[l("strong",{children:"Paper Size:"})," A4 (210 mm  297 mm)"]}),m("li",{children:[l("strong",{children:"Layout:"})," Two-column format (mandatory for final paper)"]}),m("li",{children:[l("strong",{children:"Column Spacing:"})," ~0.5 cm"]}),m("li",{children:[l("strong",{children:"Margins:"}),m("ul",{children:[l("li",{children:"Top: 1.9 cm"}),l("li",{children:"Bottom: 4.3 cm"}),l("li",{children:"Left: 1.3 cm"}),l("li",{children:"Right: 1.3 cm"})]})]}),m("li",{children:[l("strong",{children:"Font (Body Text):"})," Times New Roman, 10-point, justified"]}),m("li",{children:[l("strong",{children:"Page Limit:"})," 6 pages maximum (including figures, tables, references). Up to 8 pages only if explicitly allowed"]})]})]}),m("div",{className:"guideline-section",children:[l("h3",{children:" Title & Author Formatting"}),m("div",{className:"structure-list",children:[m("div",{className:"structure-item",children:[l("strong",{children:"1. Title"}),m("ul",{children:[l("li",{children:"Font: Times New Roman, 14 pt, Bold"}),l("li",{children:"Alignment: Centered"}),l("li",{children:"Capitalization: Title Case (Not ALL CAPS)"})]})]}),m("div",{className:"structure-item",children:[l("strong",{children:"2. Author(s) & Affiliation(s)"}),m("ul",{children:[l("li",{children:"Author names: 11 pt, centered"}),l("li",{children:"Affiliations: 10 pt, italic"}),l("li",{children:"Include: Department, Institution/University, City, Country, Email address(es)"})]})]})]})]}),m("div",{className:"guideline-section",children:[l("h3",{children:" Paper Structure (ICSET 2026)"}),m("div",{className:"structure-list",children:[m("div",{className:"structure-item",children:[l("strong",{children:"3. Abstract (150250 words)"}),m("ul",{children:[l("li",{children:"Single paragraph"}),l("li",{children:"Font size: 9 pt, justified"}),l("li",{children:"No references, equations, or abbreviations"}),m("li",{children:["Heading format: ",l("strong",{children:"Abstract"})," This paper presents"]})]})]}),m("div",{className:"structure-item",children:[l("strong",{children:"4. Keywords / Index Terms"}),m("ul",{children:[l("li",{children:"35 keywords"}),l("li",{children:"Font size: 9 pt, italic"}),m("li",{children:["Format: ",l("em",{children:"Keywords"})," Sentiment Analysis, Deep Learning, CNN, LSTM"]})]})]}),m("div",{className:"structure-item",children:[l("strong",{children:"5. I. INTRODUCTION"}),m("ul",{children:[l("li",{children:"Background & motivation"}),l("li",{children:"Problem statement"}),l("li",{children:"Objectives and contributions"}),l("li",{children:"Organization of the paper"})]})]}),m("div",{className:"structure-item",children:[l("strong",{children:"6. II. RELATED WORK"}),m("ul",{children:[l("li",{children:"Review of existing literature"}),l("li",{children:"Comparison with previous approaches"}),l("li",{children:"Identification of research gaps"})]})]}),m("div",{className:"structure-item",children:[l("strong",{children:"7. III. METHODOLOGY"}),m("ul",{children:[l("li",{children:"Dataset description"}),l("li",{children:"Preprocessing techniques"}),l("li",{children:"System architecture / algorithm"}),l("li",{children:"Implementation details"})]})]}),m("div",{className:"structure-item",children:[l("strong",{children:"8. IV. RESULTS AND ANALYSIS"}),m("ul",{children:[l("li",{children:"Experimental setup"}),l("li",{children:"Evaluation metrics"}),l("li",{children:"Tables, graphs, and figures"}),l("li",{children:"Performance comparison"})]})]}),m("div",{className:"structure-item",children:[l("strong",{children:"9. V. DISCUSSION"}),m("ul",{children:[l("li",{children:"Interpretation of results"}),l("li",{children:"Strengths and limitations"}),l("li",{children:"Comparison with existing methods"})]})]}),m("div",{className:"structure-item",children:[l("strong",{children:"10. VI. CONCLUSION AND FUTURE WORK"}),m("ul",{children:[l("li",{children:"Summary of findings"}),l("li",{children:"Key contributions"}),l("li",{children:"Future research directions"})]})]}),m("div",{className:"structure-item",children:[l("strong",{children:"11. REFERENCES"}),m("ul",{children:[l("li",{children:"IEEE citation style (numeric)"}),l("li",{children:"Font size: 9 pt"}),l("li",{children:"Numbered in order of appearance"}),m("li",{children:['Example: [1] J. Smith, "Deep learning for text classification," ',l("em",{children:"IEEE Trans."}),", vol. 28, no. 3, pp. 456468, 2021."]})]})]}),m("div",{className:"structure-item",children:[l("strong",{children:"12. ACKNOWLEDGMENTS (Optional)"}),m("ul",{children:[l("li",{children:"Funding sources"}),l("li",{children:"Institutional or individual support"}),l("li",{children:"Not numbered as a section"})]})]})]})]}),m("div",{className:"guideline-section",children:[l("h3",{children:" Figures & Tables (ICSET Rules)"}),m("ul",{children:[m("li",{children:[l("strong",{children:"Alignment:"})," Center aligned"]}),m("li",{children:[l("strong",{children:"Quality:"})," High resolution & readable"]}),m("li",{children:[l("strong",{children:"Captions:"})," Figure captions ",l("strong",{children:"below"})," figures, table captions ",l("strong",{children:"above"})," tables"]}),m("li",{children:[l("strong",{children:"Numbering:"})," Fig. 1, Fig. 2 | Table I, Table II"]}),m("li",{children:[l("strong",{children:"References:"})," All figures/tables must be referenced in text"]}),m("li",{children:[l("strong",{children:"Font Size:"})," Minimum 8 pt inside figures"]})]})]}),m("div",{className:"guideline-section",children:[l("h3",{children:" References & Citations"}),m("ul",{children:[m("li",{children:[l("strong",{children:"Style:"})," IEEE (numeric)"]}),m("li",{children:[l("strong",{children:"In-text citation:"})," [1], [2], [3]"]}),m("li",{children:[l("strong",{children:"Order:"})," First appearance in text"]}),m("li",{children:[l("strong",{children:"Consistency:"})," Consistent formatting throughout"]}),m("li",{children:[l("strong",{children:"Completeness:"})," Every citation must appear in reference list"]})]})]}),m("div",{className:"guideline-section",children:[l("h3",{children:" Length & Submission (2026)"}),m("ul",{children:[m("li",{children:[l("strong",{children:"Page Limit:"})," 6 pages (strict) - includes title, abstract, figures, tables, references"]}),m("li",{children:[l("strong",{children:"File Format:"})," PDF (mandatory)"]}),m("li",{children:[l("strong",{children:"File Size:"})," Usually < 10 MB"]}),m("li",{children:[l("strong",{children:"Submission:"})," ICSET online portal or official email"]}),m("li",{children:[l("strong",{children:"Plagiarism Limit:"})," Typically < 15%"]})]})]})]}),m("div",{className:"paper-editor",children:[l("h2",{className:"section-title",children:"Write Your Research Paper"}),m("div",{className:"editor-form",children:[m("div",{className:"form-group",children:[l("label",{htmlFor:"paper-title",children:"Title *"}),l("input",{id:"paper-title",type:"text",className:"form-input",placeholder:"Enter your paper title (ALL CAPS)",value:z.title,onChange:de=>j({...z,title:de.target.value})})]}),m("div",{className:"form-row",children:[m("div",{className:"form-group",children:[l("label",{htmlFor:"paper-authors",children:"Author Name(s) *"}),l("input",{id:"paper-authors",type:"text",className:"form-input",placeholder:"e.g., John Doe, Jane Smith",value:z.authors,onChange:de=>j({...z,authors:de.target.value})})]}),m("div",{className:"form-group",children:[l("label",{htmlFor:"paper-affiliation",children:"Affiliation *"}),l("input",{id:"paper-affiliation",type:"text",className:"form-input",placeholder:"University/Organization, City, Country",value:z.affiliation,onChange:de=>j({...z,affiliation:de.target.value})})]})]}),m("div",{className:"form-group",children:[l("label",{htmlFor:"paper-email",children:"Email Address(es) *"}),l("input",{id:"paper-email",type:"email",className:"form-input",placeholder:"author@institution.edu",value:z.email,onChange:de=>j({...z,email:de.target.value})})]}),m("div",{className:"form-group",children:[l("label",{htmlFor:"paper-abstract",children:"Abstract (150-250 words) *"}),l(Yr,{theme:"snow",value:z.abstract,onChange:de=>j({...z,abstract:de}),modules:va,formats:ba,placeholder:"Abstract Begin your abstract here. Provide a self-contained summary of your work..."}),m("span",{className:"char-count",children:[z.abstract.replace(/<[^>]*>/g,"").split(" ").filter(de=>de).length," words"]})]}),m("div",{className:"form-group",children:[l("label",{htmlFor:"paper-keywords",children:"Index Terms/Keywords (3-4 key phrases) *"}),l("input",{id:"paper-keywords",type:"text",className:"form-input",placeholder:"Index Terms keyword1, keyword2, keyword3",value:z.keywords,onChange:de=>j({...z,keywords:de.target.value})})]}),m("div",{className:"form-group",children:[l("label",{htmlFor:"paper-introduction",children:"1. INTRODUCTION *"}),l(Yr,{theme:"snow",value:z.introduction,onChange:de=>j({...z,introduction:de}),modules:va,formats:ba,placeholder:"Introduce the problem, motivation, objectives, and paper organization..."})]}),m("div",{className:"form-group",children:[l("label",{htmlFor:"paper-related-work",children:"2. RELATED WORK *"}),l(Yr,{theme:"snow",value:z.relatedWork,onChange:de=>j({...z,relatedWork:de}),modules:va,formats:ba,placeholder:"Review existing literature, compare approaches, identify gaps..."})]}),m("div",{className:"form-group",children:[l("label",{htmlFor:"paper-methodology",children:"3. METHODOLOGY *"}),l(Yr,{theme:"snow",value:z.methodology,onChange:de=>j({...z,methodology:de}),modules:va,formats:ba,placeholder:"Describe your approach, system architecture, algorithms, implementation..."})]}),m("div",{className:"form-group",children:[l("label",{htmlFor:"paper-results",children:"4. RESULTS / ANALYSIS *"}),l(Yr,{theme:"snow",value:z.results,onChange:de=>j({...z,results:de}),modules:va,formats:ba,placeholder:"Present experimental setup, quantitative/qualitative results, tables, graphs..."})]}),m("div",{className:"form-group",children:[l("label",{htmlFor:"paper-discussion",children:"5. DISCUSSION *"}),l(Yr,{theme:"snow",value:z.discussion,onChange:de=>j({...z,discussion:de}),modules:va,formats:ba,placeholder:"Interpret results, compare with related work, discuss limitations..."})]}),m("div",{className:"form-group",children:[l("label",{htmlFor:"paper-conclusion",children:"6. CONCLUSION *"}),l(Yr,{theme:"snow",value:z.conclusion,onChange:de=>j({...z,conclusion:de}),modules:va,formats:ba,placeholder:"Summary of key findings, main contributions, future research directions..."})]}),m("div",{className:"form-group",children:[l("label",{htmlFor:"paper-references",children:"REFERENCES *"}),l(Yr,{theme:"snow",value:z.references,onChange:de=>j({...z,references:de}),modules:va,formats:ba,placeholder:'[1] Author, "Title," Journal, vol. X, no. Y, pp. Z-ZZ, Month Year.'})]}),m("div",{className:"form-group",children:[l("label",{htmlFor:"paper-acknowledgments",children:"ACKNOWLEDGMENTS (Optional)"}),l(Yr,{theme:"snow",value:z.acknowledgments,onChange:de=>j({...z,acknowledgments:de}),modules:va,formats:ba,placeholder:"Acknowledge funding sources, collaborators, etc..."})]}),m("div",{className:"paper-actions",children:[l("button",{type:"button",className:"btn-secondary",onClick:()=>{window.confirm("Are you sure you want to clear all content?")&&(ae(),He.success("Content cleared"))},children:"Clear All"}),l("button",{type:"button",className:"btn-primary",onClick:Ee,disabled:B,children:B?m(vt,{children:[m("svg",{className:"animate-spin",width:"20",height:"20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),q?"Updating...":"Saving..."]}):m(vt,{children:[l("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),q?"Update Paper":"Save Paper"]})}),m("button",{type:"button",className:"btn-secondary",onClick:()=>{const de=`
${z.title.toUpperCase()}

${z.authors}
${z.affiliation}
${z.email}

${"=".repeat(80)}

ABSTRACT

${z.abstract}

${"=".repeat(80)}

INDEX TERMS

${z.keywords}

${"=".repeat(80)}

I. INTRODUCTION

${z.introduction}

${"=".repeat(80)}

II. METHODOLOGY

${z.methodology}

${"=".repeat(80)}

III. RESULTS

${z.results}

${"=".repeat(80)}

IV. DISCUSSION

${z.discussion}

${"=".repeat(80)}

V. CONCLUSION

${z.conclusion}

${"=".repeat(80)}

REFERENCES

${z.references}

${"=".repeat(80)}

ACKNOWLEDGMENTS

${z.acknowledgments}
                          `.trim(),Me=new Blob([de],{type:"text/plain"}),Fe=window.URL.createObjectURL(Me),Ge=document.createElement("a");Ge.href=Fe,Ge.download=`research-paper-${Date.now()}.txt`,Ge.click(),window.URL.revokeObjectURL(Fe),He.success("Paper downloaded successfully!")},children:[l("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download Paper"]}),p&&z.title.trim()&&m("button",{className:"btn-submit-final",onClick:()=>pe(p),children:[l("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Submit Research Paper"]})]})]})]})]})]}):g==="manuscript"?m("div",{className:"write-manuscript-section",children:[m("div",{className:"paper-header-actions",children:[l("button",{className:"back-btn",onClick:()=>{y(null),R(null)},children:" Back to Selection"}),N&&m("div",{className:"editing-indicator",children:[l("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),l("span",{children:"Editing Manuscript"})]})]}),m("div",{className:"paper-editor-container",children:[m("div",{className:"paper-guidelines",children:[l("h2",{className:"section-title",children:" ICSET 2026 Manuscript Format"}),l("p",{className:"guidelines-intro",children:"Follow these official ICSET 2026 guidelines for manuscript formatting. All submissions must adhere to these specifications."}),m("div",{className:"guideline-section",children:[l("h3",{children:" Document Setup"}),m("ul",{children:[m("li",{children:[l("strong",{children:"Paper Size:"})," A4 (210 mm  297 mm)"]}),m("li",{children:[l("strong",{children:"Layout:"})," Two-column format (mandatory for final manuscript submission)"]}),m("li",{children:[l("strong",{children:"Column Spacing:"})," Approximately 0.5 cm"]}),m("li",{children:[l("strong",{children:"Margins:"}),m("ul",{children:[l("li",{children:"Top: 1.9 cm"}),l("li",{children:"Bottom: 4.3 cm"}),l("li",{children:"Left: 1.3 cm"}),l("li",{children:"Right: 1.3 cm"})]})]}),m("li",{children:[l("strong",{children:"Font (Body Text):"})," Times New Roman, 10-point, justified"]}),m("li",{children:[l("strong",{children:"Page Limit:"})," 6 pages maximum, including figures, tables, and references. Up to 8 pages only if explicitly permitted by ICSET"]})]})]}),m("div",{className:"guideline-section",children:[l("h3",{children:" Title & Author Formatting"}),m("div",{className:"structure-list",children:[m("div",{className:"structure-item",children:[l("strong",{children:"1. Title"}),m("ul",{children:[l("li",{children:"Font: Times New Roman"}),l("li",{children:"Size: 14 pt"}),l("li",{children:"Style: Bold"}),l("li",{children:"Alignment: Centered"}),l("li",{children:"Capitalization: Title Case (avoid ALL CAPS)"})]})]}),m("div",{className:"structure-item",children:[l("strong",{children:"2. Author(s) & Affiliation(s)"}),m("ul",{children:[l("li",{children:"Author names: 11 pt, centered"}),l("li",{children:"Affiliations: 10 pt, italic"}),l("li",{children:"Must include: Department, Institution/University, City, Country, Email address(es)"})]})]})]})]}),m("div",{className:"guideline-section",children:[l("h3",{children:" Manuscript Structure (ICSET 2026)"}),m("div",{className:"structure-list",children:[m("div",{className:"structure-item",children:[l("strong",{children:"3. Abstract (150250 words)"}),m("ul",{children:[l("li",{children:"Single paragraph"}),l("li",{children:"Font size: 9 pt, justified"}),l("li",{children:"Self-contained"}),l("li",{children:"No references, equations, or abbreviations"}),m("li",{children:["Heading format: ",l("strong",{children:"Abstract"})," This manuscript presents"]})]})]}),m("div",{className:"structure-item",children:[l("strong",{children:"4. Keywords / Index Terms"}),m("ul",{children:[l("li",{children:"35 relevant keywords"}),l("li",{children:"Font size: 9 pt, italic"}),m("li",{children:["Format: ",l("em",{children:"Keywords"})," Sentiment Analysis, Deep Learning, CNN, LSTM"]})]})]}),m("div",{className:"structure-item",children:[l("strong",{children:"5. I. INTRODUCTION"}),m("ul",{children:[l("li",{children:"Background and motivation"}),l("li",{children:"Problem definition"}),l("li",{children:"Objectives and main contributions"}),l("li",{children:"Organization of the manuscript"})]})]}),m("div",{className:"structure-item",children:[l("strong",{children:"6. II. RELATED WORK"}),m("ul",{children:[l("li",{children:"Review of existing literature"}),l("li",{children:"Comparative analysis of prior studies"}),l("li",{children:"Identification of research gaps"})]})]}),m("div",{className:"structure-item",children:[l("strong",{children:"7. III. METHODOLOGY"}),m("ul",{children:[l("li",{children:"Dataset description"}),l("li",{children:"Preprocessing methods"}),l("li",{children:"System architecture / algorithm design"}),l("li",{children:"Implementation details"})]})]}),m("div",{className:"structure-item",children:[l("strong",{children:"8. IV. RESULTS AND ANALYSIS"}),m("ul",{children:[l("li",{children:"Experimental setup"}),l("li",{children:"Evaluation metrics"}),l("li",{children:"Tables, graphs, and figures"}),l("li",{children:"Performance comparison and observations"})]})]}),m("div",{className:"structure-item",children:[l("strong",{children:"9. V. DISCUSSION"}),m("ul",{children:[l("li",{children:"Interpretation of results"}),l("li",{children:"Strengths and limitations of the approach"}),l("li",{children:"Comparison with existing methods"})]})]}),m("div",{className:"structure-item",children:[l("strong",{children:"10. VI. CONCLUSION AND FUTURE WORK"}),m("ul",{children:[l("li",{children:"Summary of key findings"}),l("li",{children:"Main contributions"}),l("li",{children:"Scope for future research"})]})]}),m("div",{className:"structure-item",children:[l("strong",{children:"11. REFERENCES"}),m("ul",{children:[l("li",{children:"IEEE citation style (numeric)"}),l("li",{children:"Font size: 9 pt"}),l("li",{children:"Numbered in order of appearance"}),m("li",{children:['Example: [1] J. Smith, "Deep learning for text classification," ',l("em",{children:"IEEE Transactions on Neural Networks"}),", vol. 28, no. 3, pp. 456468, 2021."]})]})]}),m("div",{className:"structure-item",children:[l("strong",{children:"12. ACKNOWLEDGMENTS (Optional)"}),m("ul",{children:[l("li",{children:"Funding sources"}),l("li",{children:"Institutional or individual support"}),l("li",{children:"Not a numbered section"})]})]})]})]}),m("div",{className:"guideline-section",children:[l("h3",{children:" Figures & Tables (ICSET Rules)"}),m("ul",{children:[m("li",{children:[l("strong",{children:"Alignment:"})," Centered within column or page"]}),m("li",{children:[l("strong",{children:"Quality:"})," High resolution and clearly readable"]}),m("li",{children:[l("strong",{children:"Captions:"})," Figure captions ",l("strong",{children:"below"})," figures, table captions ",l("strong",{children:"above"})," tables"]}),m("li",{children:[l("strong",{children:"Numbering:"})," Figures: Fig. 1, Fig. 2,  | Tables: Table I, Table II, "]}),m("li",{children:[l("strong",{children:"References:"})," All figures and tables must be cited in the text"]}),m("li",{children:[l("strong",{children:"Font size inside figures:"})," Minimum 8 pt"]})]})]}),m("div",{className:"guideline-section",children:[l("h3",{children:" References & Citations"}),m("ul",{children:[m("li",{children:[l("strong",{children:"Style:"})," IEEE (numeric)"]}),m("li",{children:[l("strong",{children:"In-text citation:"})," [1], [2], [3]"]}),m("li",{children:[l("strong",{children:"Order:"})," Based on first appearance in text"]}),m("li",{children:[l("strong",{children:"Consistency:"})," Same format throughout"]}),m("li",{children:[l("strong",{children:"Completeness:"})," Every cited work must appear in the reference list"]})]})]}),m("div",{className:"guideline-section",children:[l("h3",{children:" Length & Submission (ICSET 2026)"}),m("ul",{children:[m("li",{children:[l("strong",{children:"Page Limit:"})," 6 pages (strict) - includes title, abstract, figures, tables, references"]}),m("li",{children:[l("strong",{children:"File Format:"})," PDF only (mandatory)"]}),m("li",{children:[l("strong",{children:"File Size:"})," Typically less than 10 MB"]}),m("li",{children:[l("strong",{children:"Submission Method:"})," ICSET online submission portal or official conference email"]}),m("li",{children:[l("strong",{children:"Plagiarism Limit:"})," Usually below 15%"]})]})]})]}),m("div",{className:"paper-form",children:[l("h2",{className:"form-title",children:" Write Your Manuscript"}),m("div",{className:"form-section",children:[l("h3",{children:" Basic Information"}),m("div",{className:"form-group",children:[l("label",{htmlFor:"manuscript-title",children:"Title *"}),l("input",{id:"manuscript-title",type:"text",className:"form-input",placeholder:"Enter manuscript title (Title Case)",value:_.title,onChange:de=>S({..._,title:de.target.value})})]}),m("div",{className:"form-row",children:[m("div",{className:"form-group",children:[l("label",{htmlFor:"manuscript-authors",children:"Author Name(s) *"}),l("input",{id:"manuscript-authors",type:"text",className:"form-input",placeholder:"John Doe, Jane Smith",value:_.authors,onChange:de=>S({..._,authors:de.target.value})})]}),m("div",{className:"form-group",children:[l("label",{htmlFor:"manuscript-email",children:"Email Address(es) *"}),l("input",{id:"manuscript-email",type:"text",className:"form-input",placeholder:"author1@example.com, author2@example.com",value:_.email,onChange:de=>S({..._,email:de.target.value})})]})]}),m("div",{className:"form-group",children:[l("label",{htmlFor:"manuscript-affiliation",children:"Affiliation *"}),l("input",{id:"manuscript-affiliation",type:"text",className:"form-input",placeholder:"Department, Institution/University, City, Country",value:_.affiliation,onChange:de=>S({..._,affiliation:de.target.value})})]}),m("div",{className:"form-group",children:[l("label",{htmlFor:"manuscript-abstract",children:"Abstract * (150-250 words)"}),l("textarea",{id:"manuscript-abstract",className:"form-textarea",rows:"6",placeholder:"Write a concise abstract (150-250 words)...",value:_.abstract,onChange:de=>S({..._,abstract:de.target.value})})]}),m("div",{className:"form-group",children:[l("label",{htmlFor:"manuscript-keywords",children:"Keywords * (3-5 keywords)"}),l("input",{id:"manuscript-keywords",type:"text",className:"form-input",placeholder:"Keyword1, Keyword2, Keyword3",value:_.keywords,onChange:de=>S({..._,keywords:de.target.value})})]})]}),m("div",{className:"form-section",children:[l("h3",{children:" Manuscript Sections"}),m("div",{className:"form-group",children:[l("label",{children:"1. INTRODUCTION"}),l(Yr,{theme:"snow",value:_.introduction,onChange:de=>S({..._,introduction:de}),modules:va,formats:ba,placeholder:"Introduce the topic, background, problem statement, and objectives..."})]}),m("div",{className:"form-group",children:[l("label",{children:"2. RELATED WORK"}),l(Yr,{theme:"snow",value:_.relatedWork,onChange:de=>S({..._,relatedWork:de}),modules:va,formats:ba,placeholder:"Review existing literature, compare approaches, identify gaps..."})]}),m("div",{className:"form-group",children:[l("label",{children:"3. METHODOLOGY"}),l(Yr,{theme:"snow",value:_.methodology,onChange:de=>S({..._,methodology:de}),modules:va,formats:ba,placeholder:"Describe your research methodology, dataset, preprocessing, system architecture..."})]}),m("div",{className:"form-group",children:[l("label",{children:"4. RESULTS AND ANALYSIS"}),l(Yr,{theme:"snow",value:_.results,onChange:de=>S({..._,results:de}),modules:va,formats:ba,placeholder:"Present experimental setup, results, evaluation metrics, tables, and figures..."})]}),m("div",{className:"form-group",children:[l("label",{children:"5. DISCUSSION"}),l(Yr,{theme:"snow",value:_.discussion,onChange:de=>S({..._,discussion:de}),modules:va,formats:ba,placeholder:"Interpret results, discuss strengths, limitations, and comparisons..."})]}),m("div",{className:"form-group",children:[l("label",{children:"6. CONCLUSION AND FUTURE WORK"}),l(Yr,{theme:"snow",value:_.conclusion,onChange:de=>S({..._,conclusion:de}),modules:va,formats:ba,placeholder:"Summarize findings, key contributions, and future research directions..."})]})]}),m("div",{className:"form-section",children:[l("h3",{children:" References & Acknowledgments"}),m("div",{className:"form-group",children:[l("label",{children:"REFERENCES (IEEE Format)"}),l(Yr,{theme:"snow",value:_.references,onChange:de=>S({..._,references:de}),modules:va,formats:ba,placeholder:`[1] Author, 'Title,' Journal/Conference, vol., pp., Year.
[2] ...`})]}),m("div",{className:"form-group",children:[l("label",{children:"ACKNOWLEDGMENTS (Optional)"}),l(Yr,{theme:"snow",value:_.acknowledgments,onChange:de=>S({..._,acknowledgments:de}),modules:va,formats:ba,placeholder:"Acknowledge funding sources, collaborators, or institutional support..."})]})]}),m("div",{className:"form-actions",children:[m("div",{className:"action-group",children:[m("button",{className:"btn-save",onClick:Ce,disabled:D,children:[l("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),D?"Saving...":N?"Update Manuscript":"Save Manuscript"]}),m("button",{className:"btn-clear",onClick:xe,children:[l("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Clear All"]})]}),m("div",{className:"action-group",children:[m("button",{className:"btn-download",onClick:async()=>{if(!_.title.trim()){He.error("Please add a title before downloading");return}try{He.loading("Generating PDF...",{id:"pdf-gen"});const de=await Lx(_);if(de.success&&de.blob){const Me=window.URL.createObjectURL(de.blob),Fe=document.createElement("a");Fe.href=Me,Fe.download=de.fileName,Fe.click(),window.URL.revokeObjectURL(Me),He.success(` PDF downloaded: ${de.fileName}`,{id:"pdf-gen"})}else He.error(`Failed to generate PDF: ${de.error}`,{id:"pdf-gen"})}catch(de){console.error("Error generating PDF:",de),He.error("Failed to generate PDF. Please try again.",{id:"pdf-gen"})}},children:[l("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download Manuscript"]}),p&&_.title.trim()&&m("button",{className:"btn-submit-final",onClick:()=>pe(p),children:[l("svg",{width:"20",height:"20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Submit Manuscript"]})]})]})]})]})]}):null:m("div",{className:"document-type-selection",children:[l("h2",{className:"section-title",children:" Choose Document Type"}),l("p",{className:"selection-intro",children:"Select the type of document you want to create"}),m("div",{className:"document-type-grid",children:[m("div",{className:"document-type-card",onClick:()=>y("research-paper"),children:[l("div",{className:"card-icon",children:""}),l("h3",{children:"Research Paper"}),l("p",{children:"Write a complete research paper with full academic formatting for conferences and journals"}),m("ul",{className:"card-features",children:[l("li",{children:" ICSET 2026 Conference Format"}),l("li",{children:" Full section structure"}),l("li",{children:" PDF export with proper formatting"}),l("li",{children:" Save multiple drafts"})]}),l("button",{className:"select-btn",children:"Select Research Paper "})]}),m("div",{className:"document-type-card",onClick:()=>y("manuscript"),children:[l("div",{className:"card-icon",children:""}),l("h3",{children:"Manuscript"}),l("p",{children:"Write a manuscript for journal submission with academic formatting"}),m("ul",{className:"card-features",children:[l("li",{children:" Academic manuscript format"}),l("li",{children:" Full section structure"}),l("li",{children:" PDF export capability"}),l("li",{children:" Draft management"})]}),l("button",{className:"select-btn",children:"Select Manuscript "})]})]})]}):i==="my-research"?C?m("div",{className:"my-research-section",children:[m("div",{className:"research-tabs-header",children:[l("h2",{className:"section-title",children:C==="papers"?"My Research Papers":"My Manuscripts"}),l("button",{className:"back-btn",onClick:()=>P(null),children:" Back to My Research"})]}),C==="papers"?m(vt,{children:[m("p",{className:"section-count",children:[W.length," research paper",W.length!==1?"s":""]}),W.length===0?m("div",{className:"empty-state",children:[l("div",{className:"empty-icon",children:""}),l("h3",{children:"No Research Papers Yet"}),l("p",{children:"Start writing your first research paper"}),l("button",{className:"btn-primary",onClick:()=>{r("write-paper"),y("research-paper")},children:"Write Research Paper"})]}):l("div",{className:"research-papers-grid",children:W.map(de=>m("div",{className:"research-paper-card",children:[m("div",{className:"paper-card-header",children:[l("h3",{className:"paper-card-title",children:de.title}),l("span",{className:`status-badge ${de.status}`,children:de.status==="draft"?" Draft":" Completed"})]}),m("div",{className:"paper-card-meta",children:[m("div",{className:"meta-item",children:[l("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),l("span",{children:de.authors})]}),m("div",{className:"meta-item",children:[l("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),l("span",{children:de.affiliation})]})]}),m("div",{className:"paper-card-dates",children:[m("div",{className:"date-item",children:[l("strong",{children:"Created:"})," ",new Date(de.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]}),m("div",{className:"date-item",children:[l("strong",{children:"Last Edited:"})," ",new Date(de.lastEditedAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]}),m("div",{className:"paper-card-abstract",children:[l("strong",{children:"Abstract:"}),m("p",{children:[de.abstract.substring(0,150),de.abstract.length>150?"...":""]})]}),m("div",{className:"paper-card-keywords",children:[l("strong",{children:"Keywords:"})," ",de.keywords]}),m("div",{className:"paper-card-actions",children:[m("button",{className:"btn-edit",onClick:()=>ne(de),children:[l("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),m("button",{className:"btn-download",onClick:async()=>{try{He.loading("Generating PDF...",{id:"pdf-gen"});const Me=await Lx(de);Me.success?He.success(` PDF downloaded: ${Me.fileName}`,{id:"pdf-gen"}):He.error(`Failed to generate PDF: ${Me.error}`,{id:"pdf-gen"})}catch(Me){console.error("Error generating PDF:",Me),He.error("Failed to generate PDF. Please try again.",{id:"pdf-gen"})}},children:[l("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download PDF"]}),m("button",{className:"btn-submit",onClick:()=>Se(de),style:{background:"#10b981",color:"white"},children:[l("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Submit"]}),m("button",{className:"btn-delete",onClick:()=>te(de._id,de.title),children:[l("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})]},de._id))})]}):m(vt,{children:[m("p",{className:"section-count",children:[W.length," manuscript",W.length!==1?"s":""]}),W.length===0?m("div",{className:"empty-state",children:[l("div",{className:"empty-icon",children:""}),l("h3",{children:"No Manuscripts Yet"}),l("p",{children:"Start writing your first manuscript"}),l("button",{className:"btn-primary",onClick:()=>{r("write-paper"),y("manuscript")},children:"Write Manuscript"})]}):l("div",{className:"research-papers-grid",children:W.map(de=>m("div",{className:"research-paper-card manuscript-card",children:[m("div",{className:"paper-card-header",children:[l("h3",{className:"paper-card-title",children:de.title}),l("span",{className:`status-badge ${de.status}`,children:de.status==="draft"?" Draft":" Completed"})]}),m("div",{className:"paper-card-meta",children:[m("div",{className:"meta-item",children:[l("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),l("span",{children:de.authors})]}),m("div",{className:"meta-item",children:[l("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),l("span",{children:de.affiliation})]})]}),m("div",{className:"paper-card-dates",children:[m("div",{className:"date-item",children:[l("strong",{children:"Created:"})," ",new Date(de.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})]}),m("div",{className:"date-item",children:[l("strong",{children:"Last Edited:"})," ",new Date(de.lastEditedAt).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]}),m("div",{className:"paper-card-abstract",children:[l("strong",{children:"Abstract:"}),m("p",{children:[de.abstract.substring(0,150),de.abstract.length>150?"...":""]})]}),m("div",{className:"paper-card-keywords",children:[l("strong",{children:"Keywords:"})," ",de.keywords]}),m("div",{className:"paper-card-actions",children:[m("button",{className:"btn-edit",onClick:()=>_e(de),children:[l("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),m("button",{className:"btn-download",onClick:async()=>{try{He.loading("Generating PDF...",{id:"pdf-gen"});const Me=await Lx(de);Me.success?He.success(` PDF downloaded: ${Me.fileName}`,{id:"pdf-gen"}):He.error(`Failed to generate PDF: ${Me.error}`,{id:"pdf-gen"})}catch(Me){console.error("Error generating PDF:",Me),He.error("Failed to generate PDF. Please try again.",{id:"pdf-gen"})}},children:[l("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download PDF"]}),m("button",{className:"btn-submit",onClick:()=>Se(de),style:{background:"#10b981",color:"white"},children:[l("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Submit"]}),m("button",{className:"btn-delete",onClick:()=>oe(de._id),children:[l("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})]},de._id))})]})]}):m("div",{className:"document-type-selection",children:[l("h2",{className:"section-title",children:" My Research"}),l("p",{className:"selection-intro",children:"Choose what you want to view"}),m("div",{className:"document-type-grid",children:[m("div",{className:"document-type-card",onClick:()=>P("papers"),children:[l("div",{className:"card-icon",children:""}),l("h3",{children:"My Research Papers"}),l("p",{children:"View and manage your research papers with full academic formatting"}),m("ul",{className:"card-features",children:[m("li",{children:[" ",W.length," research paper",W.length!==1?"s":""]}),l("li",{children:" Edit and update papers"}),l("li",{children:" Download formatted PDFs"}),l("li",{children:" Manage drafts"})]}),l("button",{className:"select-btn",children:"View Research Papers "})]}),m("div",{className:"document-type-card",onClick:()=>P("manuscripts"),children:[l("div",{className:"card-icon",children:""}),l("h3",{children:"My Manuscripts"}),l("p",{children:"View and manage your manuscripts for journal submissions"}),m("ul",{className:"card-features",children:[m("li",{children:[" ",W.length," manuscript",W.length!==1?"s":""]}),l("li",{children:" Edit and update manuscripts"}),l("li",{children:" Download formatted PDFs"}),l("li",{children:" Draft management"})]}),l("button",{className:"select-btn",children:"View Manuscripts "})]})]})]}):i==="my-submissions"?k?m("div",{className:"my-submissions-section",children:[m("div",{className:"research-tabs-header",children:[l("h2",{className:"section-title",children:k==="manuscripts"?"My Manuscript Submissions":"My Research Paper Submissions"}),l("button",{className:"back-btn",onClick:()=>A(null),children:" Back to My Submissions"})]}),m("p",{className:"section-count",children:[o.filter(de=>k==="manuscripts"?!de.type||de.type==="manuscript":de.type==="research-paper").length," submission",o.filter(de=>k==="manuscripts"?!de.type||de.type==="manuscript":de.type==="research-paper").length!==1?"s":""]}),o.filter(de=>k==="manuscripts"?!de.type||de.type==="manuscript":de.type==="research-paper").length===0?m("div",{className:"empty-state",children:[l("div",{className:"empty-icon",children:""}),l("h3",{children:"No Submissions Yet"}),m("p",{children:["You haven't submitted any ",k==="manuscripts"?"manuscripts":"research papers"," yet"]}),l("button",{className:"btn-primary",onClick:()=>r("requirements"),children:"View Requirements"})]}):l("div",{className:"manuscripts-list",children:o.filter(de=>k==="manuscripts"?!de.type||de.type==="manuscript":de.type==="research-paper").map(de=>{var Me,Fe;return m("div",{className:"manuscript-card",children:[de.status==="accepted"&&m("div",{className:"notification-banner success",children:[l("span",{className:"notification-icon",children:""}),m("span",{className:"notification-text",children:[l("strong",{children:"Congratulations!"})," Your manuscript has been accepted for publication and will appear in the upcoming journal issue."]})]}),de.status==="accepted"&&(!de.type||de.type==="manuscript")&&m("div",{className:"research-paper-opportunity",children:[m("div",{className:"opportunity-header",children:[l("span",{className:"opportunity-icon",children:""}),l("h4",{children:"Eligible for Research Paper Submission"})]}),l("p",{className:"opportunity-text",children:"Your manuscript has been accepted! You can now write and submit a research paper based on this work for conference presentation."}),m("button",{className:"btn-write-research",onClick:()=>{j({title:de.title||"",authors:de.authorName||"",affiliation:de.affiliation||"",email:de.authorEmail||"",abstract:de.abstract||"",keywords:"",introduction:"",relatedWork:"",methodology:"",results:"",discussion:"",conclusion:"",references:"",acknowledgments:""}),y("research-paper"),r("write-paper"),w(de.requirementId),He.info(" Start writing your research paper based on accepted manuscript")},children:[l("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Write Research Paper"]})]}),de.status==="rejected"&&de.adminRemarks&&m("div",{className:"notification-banner danger",children:[l("span",{className:"notification-icon",children:""}),m("span",{className:"notification-text",children:[l("strong",{children:"Review Complete:"})," Please review the feedback below to improve your manuscript."]})]}),de.status==="under-review"&&m("div",{className:"notification-banner info",children:[l("span",{className:"notification-icon",children:""}),m("span",{className:"notification-text",children:[l("strong",{children:"Under Review:"})," Our editorial team is carefully reviewing your manuscript. You'll be notified once the review is complete."]})]}),de.status==="update-changes"&&m("div",{className:"notification-banner warning",children:[l("span",{className:"notification-icon",children:""}),m("span",{className:"notification-text",children:[l("strong",{children:"Update Changes Required:"})," Please review the admin feedback below and update your manuscript accordingly. You can resubmit after making the necessary changes."]})]}),de.status==="pending"&&m("div",{className:"notification-banner warning",children:[l("span",{className:"notification-icon",children:""}),m("span",{className:"notification-text",children:[l("strong",{children:"Submission Received:"})," Your manuscript has been successfully submitted and is in the queue for review."]})]}),m("div",{className:"manuscript-header",children:[l("h3",{children:de.title}),l("span",{className:`status-badge ${Ve(de.status).class}`,children:Ve(de.status).text})]}),m("div",{className:"manuscript-info",children:[m("p",{children:[l("strong",{children:" Requirement"}),l("span",{children:((Me=de.requirementId)==null?void 0:Me.title)||"N/A"})]}),m("p",{children:[l("strong",{children:" Topic"}),l("span",{children:((Fe=de.requirementId)==null?void 0:Fe.topic)||"N/A"})]}),m("p",{children:[l("strong",{children:" Submitted"}),l("span",{children:De(de.submittedAt)})]}),de.reviewedAt&&m("p",{children:[l("strong",{children:" Reviewed"}),l("span",{children:De(de.reviewedAt)})]})]}),de.adminRemarks&&m("div",{className:"manuscript-remarks",children:[l("strong",{children:" Admin Feedback"}),l("p",{children:de.adminRemarks})]}),l("div",{className:"manuscript-actions",children:m("button",{className:"btn-delete-manuscript",onClick:()=>le(de._id,de.title),title:"Remove this submission",children:[l("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Remove Submission"]})})]},de._id)})})]}):m("div",{className:"document-type-selection",children:[l("h2",{className:"section-title",children:" My Submissions"}),l("p",{className:"selection-intro",children:"Choose submission type to view"}),m("div",{className:"document-type-grid",children:[m("div",{className:"document-type-card",onClick:()=>A("manuscripts"),children:[l("div",{className:"card-icon",children:""}),l("h3",{children:"My Manuscript Submissions"}),l("p",{children:"View and track your journal manuscript submissions"}),m("ul",{className:"card-features",children:[m("li",{children:[" ",o.length," manuscript",o.length!==1?"s":""," submitted"]}),l("li",{children:" Track review status"}),l("li",{children:" View reviewer feedback"}),l("li",{children:" Manage revisions"})]}),l("button",{className:"select-btn",children:"View Manuscript Submissions "})]}),m("div",{className:"document-type-card",onClick:()=>A("papers"),children:[l("div",{className:"card-icon",children:""}),l("h3",{children:"My Research Paper Submissions"}),l("p",{children:"View and track your conference paper submissions"}),m("ul",{className:"card-features",children:[m("li",{children:[" ",o.filter(de=>de.type==="research-paper").length," paper",o.filter(de=>de.type==="research-paper").length!==1?"s":""," submitted"]}),l("li",{children:" Track review status"}),l("li",{children:" Conference acceptance status"}),l("li",{children:" Presentation details"})]}),l("button",{className:"select-btn",children:"View Paper Submissions "})]})]})]}):null}),h&&p&&l("div",{className:"modal-overlay",onClick:()=>f(!1),children:m("div",{className:"modal-content modal-submit",onClick:de=>de.stopPropagation(),children:[m("div",{className:"modal-header",children:[l("h2",{children:M.sourceType==="research-paper"?"Submit Research Paper":"Submit Manuscript"}),l("button",{className:"modal-close",onClick:()=>f(!1),children:""})]}),m("div",{className:"requirement-info",children:[l("h3",{children:p.title}),m("p",{children:[l("strong",{children:"Topic:"})," ",p.topic]}),m("p",{children:[l("strong",{children:"Field:"})," ",p.field]}),m("p",{children:[l("strong",{children:"Deadline:"})," ",De(p.submissionDeadline)]})]}),z.title&&m("div",{className:"auto-fill-notice",style:{background:"#e8f5e9",border:"1px solid #4caf50",borderRadius:"8px",padding:"12px 16px",margin:"16px 0",display:"flex",alignItems:"center",gap:"8px",color:"#2e7d32"},children:[l("svg",{width:"20",height:"20",fill:"currentColor",viewBox:"0 0 24 24",children:l("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),m("span",{children:[l("strong",{children:"Auto-filled:"})," Form fields have been automatically populated from your research paper."]})]}),m("form",{onSubmit:ge,className:"submit-form",children:[l("div",{className:"form-row",children:m("div",{className:"form-group full-width",children:[l("label",{children:"Research Paper Title *"}),l("input",{type:"text",className:"form-input",value:M.title,onChange:de=>K({...M,title:de.target.value}),required:!0})]})}),m("div",{className:"form-group",children:[l("label",{children:"Abstract *"}),l("textarea",{className:"form-textarea",rows:"5",value:M.abstract,onChange:de=>K({...M,abstract:de.target.value}),required:!0})]}),m("div",{className:"form-row",children:[m("div",{className:"form-group",children:[l("label",{children:"Author Name *"}),l("input",{type:"text",className:"form-input",value:M.authorName,onChange:de=>K({...M,authorName:de.target.value}),required:!0})]}),m("div",{className:"form-group",children:[l("label",{children:"Email *"}),l("input",{type:"email",className:"form-input",value:M.authorEmail,onChange:de=>K({...M,authorEmail:de.target.value}),required:!0})]})]}),m("div",{className:"form-row",children:[m("div",{className:"form-group",children:[l("label",{children:"Affiliation"}),l("input",{type:"text",className:"form-input",placeholder:"University/Organization",value:M.affiliation,onChange:de=>K({...M,affiliation:de.target.value})})]}),m("div",{className:"form-group",children:[l("label",{children:"Phone"}),l("input",{type:"tel",className:"form-input",value:M.phone,onChange:de=>K({...M,phone:de.target.value})})]})]}),m("div",{className:"form-group",children:[l("label",{children:"Upload Research Paper File *"}),M.file?m("div",{className:"file-selected",children:[m("div",{className:"file-info",children:[m("svg",{width:"20",height:"20",fill:"currentColor",viewBox:"0 0 24 24",children:[l("path",{d:"M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8l-6-6z"}),l("path",{d:"M14 2v6h6M16 13H8M16 17H8M10 9H8"})]}),l("span",{children:M.file.name}),m("span",{className:"file-size",children:["(",(M.file.size/1024/1024).toFixed(2)," MB)"]})]}),l("button",{type:"button",className:"btn-change-file",onClick:()=>K({...M,file:null}),children:"Change File"})]}):m(vt,{children:[l("input",{type:"file",className:"form-file-input",accept:".pdf,.doc,.docx",onChange:X,required:!0}),l("p",{className:"form-hint",children:"Accepted formats: PDF, DOC, DOCX (Max 10MB)"})]})]}),m("div",{className:"modal-actions",children:[l("button",{type:"button",className:"btn-secondary",onClick:()=>f(!1),disabled:v,children:"Cancel"}),l("button",{type:"submit",className:"btn-primary",disabled:v,children:v?m(vt,{children:[m("svg",{className:"animate-spin",width:"20",height:"20",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),l("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):M.sourceType==="research-paper"?"Submit Research Paper":"Submit Manuscript"})]})]})]})})]})};const tFe=()=>{const{journalId:t}=_N(),e=Gi(),{user:n,isAuthenticated:i}=Hr(),{showNotification:r}=vo(),[a,s]=Z.useState({title:"",abstract:"",abstractInputType:"text",abstractFile:null,keywords:"",authors:[{id:n==null?void 0:n.id,firstName:(n==null?void 0:n.firstName)||"",lastName:(n==null?void 0:n.lastName)||"",email:(n==null?void 0:n.email)||"",affiliation:"",isCorresponding:!0,order:1}],agreeToTerms:!1}),[o,c]=Z.useState({}),[u,d]=Z.useState(!1),[h,f]=Z.useState(0),p=Z.useRef(null),[w]=N0(t3.submitManuscript),v=(k,A)=>{s(I=>({...I,[k]:A})),o[k]&&c(I=>({...I,[k]:""}))},b=k=>{s(A=>({...A,abstractInputType:k,abstract:k==="file"?"":A.abstract,abstractFile:k==="text"?null:A.abstractFile})),o.abstract&&c(A=>({...A,abstract:""}))},g=k=>{const A=k.target.files[0];A&&y(A)},y=k=>{if(!["application/pdf","image/jpeg","image/jpg","image/png","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(k.type)){r("Please upload a PDF, JPG, PNG, or Word document","error");return}const I=5*1024*1024;if(k.size>I){r("File size must be less than 5MB","error");return}s(T=>({...T,abstractFile:k})),o.abstract&&c(T=>({...T,abstract:""})),r("Abstract file uploaded successfully","success")},_=()=>{s(k=>({...k,abstractFile:null})),p.current&&(p.current.value="")},S=(k,A,I)=>{const T=[...a.authors];T[k]={...T[k],[A]:I},s(z=>({...z,authors:T}))},N=()=>{const k={id:"",firstName:"",lastName:"",email:"",affiliation:"",isCorresponding:!1,order:a.authors.length+1};s(A=>({...A,authors:[...A.authors,k]})),f(a.authors.length)},R=k=>{if(a.authors.length<=1){r("At least one author is required","error");return}const A=a.authors.filter((I,T)=>T!==k).map((I,T)=>({...I,order:T+1}));s(I=>({...I,authors:A}))},D=k=>{const A=a.authors.map((I,T)=>({...I,isCorresponding:T===k}));s(I=>({...I,authors:A}))},E=()=>{const k={};return a.title.trim()||(k.title="Title is required"),a.abstractInputType==="text"?a.abstract.trim()?a.abstract.length<100&&(k.abstract="Abstract must be at least 100 characters"):k.abstract="Abstract is required":a.abstractFile||(k.abstract="Abstract file is required"),a.keywords.trim()||(k.keywords="Keywords are required"),a.authors.forEach((I,T)=>{I.firstName.trim()||(k[`author_${T}_firstName`]="First name is required"),I.lastName.trim()||(k[`author_${T}_lastName`]="Last name is required"),I.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(I.email)||(k[`author_${T}_email`]="Valid email is required"):k[`author_${T}_email`]="Email is required"}),a.authors.some(I=>I.isCorresponding)||(k.authors="Please designate a corresponding author"),a.agreeToTerms||(k.agreeToTerms="You must agree to the terms and conditions"),c(k),Object.keys(k).length===0},C=async k=>{if(k.preventDefault(),!E()){r("Please fix the errors before submitting","error");return}d(!0);try{const A=new FormData;A.append("journalId",t),A.append("title",a.title),a.abstractInputType==="text"?(A.append("abstract",a.abstract),A.append("abstractType","text")):(A.append("abstractFile",a.abstractFile),A.append("abstractType","file")),A.append("keywords",a.keywords),A.append("authors",JSON.stringify(a.authors));const I=await w(A,{successMessage:"Manuscript submitted successfully!"});I&&e("/publishing/submissions",{state:{submitted:!0,submissionId:I.submissionId}})}catch{}finally{d(!1)}},P=k=>{if(k===0)return"0 Bytes";const A=1024,I=["Bytes","KB","MB","GB"],T=Math.floor(Math.log(k)/Math.log(A));return parseFloat((k/Math.pow(A,T)).toFixed(2))+" "+I[T]};return i?l("div",{className:"manuscript-submission-page",children:m("div",{className:"container",children:[m("div",{className:"submission-header",children:[l("div",{className:"header-icon",children:l(xn,{size:32})}),l("h1",{children:"Submit Manuscript"}),l("p",{children:"Share your work with the academic community"})]}),l("div",{className:"submission-content",children:m("div",{className:"manuscript-card",children:[m("div",{className:"card-header",children:[l(xn,{size:24}),l("h2",{children:"Manuscript Information"})]}),m("form",{onSubmit:C,className:"submission-form",children:[m("div",{className:"form-group",children:[m("label",{htmlFor:"title",className:"form-label",children:["Manuscript Title ",l("span",{className:"required",children:"*"})]}),l("input",{type:"text",id:"title",className:`form-input ${o.title?"error":""}`,placeholder:"Enter your manuscript title",value:a.title,onChange:k=>v("title",k.target.value)}),o.title&&l("span",{className:"error-message",children:o.title})]}),m("div",{className:"form-group",children:[m("label",{className:"form-label",children:["Abstract ",l("span",{className:"required",children:"*"})]}),m("div",{className:"abstract-type-selector",children:[m("button",{type:"button",className:`type-option ${a.abstractInputType==="text"?"active":""}`,onClick:()=>b("text"),children:[l(xn,{size:18}),l("span",{children:"Write Abstract"})]}),m("button",{type:"button",className:`type-option ${a.abstractInputType==="file"?"active":""}`,onClick:()=>b("file"),children:[l(Xh,{size:18}),l("span",{children:"Upload File"})]})]}),a.abstractInputType==="text"&&m("div",{className:"abstract-text-input",children:[l("textarea",{id:"abstract",className:`form-textarea ${o.abstract?"error":""}`,placeholder:"Provide a concise summary of your research (minimum 100 characters)",rows:6,value:a.abstract,onChange:k=>v("abstract",k.target.value)}),m("div",{className:"char-count",children:[a.abstract.length," / 100 min"]})]}),a.abstractInputType==="file"&&l("div",{className:"abstract-file-upload",children:a.abstractFile?m("div",{className:"file-uploaded",children:[m("div",{className:"file-info",children:[l(xn,{size:24,className:"file-icon"}),m("div",{className:"file-details",children:[l("h5",{children:a.abstractFile.name}),l("p",{children:P(a.abstractFile.size)})]})]}),l("button",{type:"button",onClick:_,className:"btn-remove",children:l(Fn,{size:16})})]}):m("div",{className:"upload-area",children:[l("input",{type:"file",id:"abstractFile",ref:p,accept:".pdf,.jpg,.jpeg,.png,.doc,.docx",onChange:g,className:"file-input-hidden"}),m("label",{htmlFor:"abstractFile",className:"upload-label",children:[l(Xh,{size:32}),m("div",{className:"upload-text",children:[l("p",{className:"upload-title",children:"Upload Abstract File"}),l("p",{className:"upload-subtitle",children:"PDF, JPG, PNG, or Word document (max 5MB)"})]})]})]})}),o.abstract&&l("span",{className:"error-message",children:o.abstract})]}),m("div",{className:"form-group",children:[m("label",{htmlFor:"keywords",className:"form-label",children:["Keywords ",l("span",{className:"required",children:"*"})]}),l("input",{type:"text",id:"keywords",className:`form-input ${o.keywords?"error":""}`,placeholder:"Enter keywords separated by commas",value:a.keywords,onChange:k=>v("keywords",k.target.value)}),o.keywords&&l("span",{className:"error-message",children:o.keywords}),l("p",{className:"field-hint",children:"Add relevant keywords to help readers discover your work (separate with commas)"})]}),m("div",{className:"form-section",children:[m("div",{className:"section-header",children:[l(Zt,{size:20}),l("h3",{children:"Authors"})]}),a.authors.map((k,A)=>m("div",{className:"author-card",children:[m("div",{className:"author-card-header",children:[m("div",{className:"author-info",children:[l(Is,{size:16}),l("span",{children:k.firstName||k.lastName?`${k.firstName} ${k.lastName}`:`Author ${A+1}`}),k.isCorresponding&&l("span",{className:"badge badge-primary",children:"Corresponding"})]}),l("div",{className:"author-actions",children:a.authors.length>1&&l("button",{type:"button",onClick:()=>R(A),className:"btn-icon btn-danger",children:l(Fn,{size:16})})})]}),m("div",{className:"author-card-body",children:[m("div",{className:"form-grid",children:[m("div",{className:"form-group",children:[m("label",{className:"form-label",children:["First Name ",l("span",{className:"required",children:"*"})]}),l("input",{type:"text",className:`form-input ${o[`author_${A}_firstName`]?"error":""}`,placeholder:"First name",value:k.firstName,onChange:I=>S(A,"firstName",I.target.value),disabled:A===0&&(n==null?void 0:n.firstName)}),o[`author_${A}_firstName`]&&l("span",{className:"error-message",children:o[`author_${A}_firstName`]})]}),m("div",{className:"form-group",children:[m("label",{className:"form-label",children:["Last Name ",l("span",{className:"required",children:"*"})]}),l("input",{type:"text",className:`form-input ${o[`author_${A}_lastName`]?"error":""}`,placeholder:"Last name",value:k.lastName,onChange:I=>S(A,"lastName",I.target.value),disabled:A===0&&(n==null?void 0:n.lastName)}),o[`author_${A}_lastName`]&&l("span",{className:"error-message",children:o[`author_${A}_lastName`]})]}),m("div",{className:"form-group",children:[m("label",{className:"form-label",children:["Email ",l("span",{className:"required",children:"*"})]}),l("input",{type:"email",className:`form-input ${o[`author_${A}_email`]?"error":""}`,placeholder:"Email address",value:k.email,onChange:I=>S(A,"email",I.target.value),disabled:A===0&&(n==null?void 0:n.email)}),o[`author_${A}_email`]&&l("span",{className:"error-message",children:o[`author_${A}_email`]})]}),m("div",{className:"form-group",children:[l("label",{className:"form-label",children:"Affiliation"}),l("input",{type:"text",className:"form-input",placeholder:"Institution or organization",value:k.affiliation,onChange:I=>S(A,"affiliation",I.target.value)})]})]}),!k.isCorresponding&&l("button",{type:"button",className:"btn btn-outline btn-sm",onClick:()=>D(A),children:"Set as Corresponding Author"})]})]},A)),o.authors&&l("span",{className:"error-message",children:o.authors}),m("button",{type:"button",onClick:N,className:"btn btn-outline",children:[l(ru,{size:16}),"Add Co-Author"]})]}),l("div",{className:"form-section",children:m("div",{className:"checkbox-group",children:[m("label",{className:"checkbox-label",children:[l("input",{type:"checkbox",checked:a.agreeToTerms,onChange:k=>v("agreeToTerms",k.target.checked)}),m("span",{children:["I agree to the terms and conditions and confirm that this manuscript is original work ",l("span",{className:"required",children:"*"})]})]}),o.agreeToTerms&&l("span",{className:"error-message",children:o.agreeToTerms})]})}),m("div",{className:"form-actions",children:[l("button",{type:"button",className:"btn btn-outline",onClick:()=>e(-1),children:"Cancel"}),l("button",{type:"submit",className:"btn btn-primary btn-lg",disabled:u,children:u?m(vt,{children:[l(A0,{size:"sm"}),"Submitting..."]}):m(vt,{children:[l(Gn,{size:20}),"Submit Manuscript"]})})]})]})]})})]})}):l("div",{className:"manuscript-submission-page",children:l("div",{className:"container",children:m("div",{className:"auth-required",children:[l(xn,{size:48}),l("h2",{children:"Authentication Required"}),l("p",{children:"Please sign in to submit a manuscript."})]})})})};const Tk=[{id:"all",name:"All Categories",icon:null,color:null},{id:"urban-regional-planning",name:"Urban & Regional Planning",icon:sr,color:"#dc2626",description:"Strategic planning of cities, towns, and regions for land use, infrastructure, and sustainable development"},{id:"architecture-urban-design",name:"Architecture & Urban Design",icon:D5,color:"#e91e63",description:"Designing buildings, public spaces, and the urban form to enhance functionality, aesthetics, and livability"},{id:"civil-transportation-engineering",name:"Civil & Transportation Engineering",icon:Exe,color:"#f59e0b",description:"Designing and constructing infrastructure systems like roads, bridges, water supply, drainage, and transit networks"},{id:"environmental-planning-sustainability",name:"Environmental Planning & Sustainability",icon:vxe,color:"#10b981",description:"Integrating ecological principles into development, managing natural resources, and addressing climate resilience"},{id:"geoinformatics-remote-sensing",name:"Geoinformatics & Remote Sensing (GIS)",icon:m7,color:"#059669",description:"Using geospatial data and satellite imagery for spatial analysis, mapping, urban monitoring, and decision-making"},{id:"construction-project-management",name:"Construction & Project Management",icon:Ni,color:"#3b82f6",description:"Overseeing construction processes, procurement processes, project monitoring, cost control and site operations to deliver built infrastructure"},{id:"real-estate-housing",name:"Real Estate & Housing",icon:AU,color:"#1e40af",description:"Development, valuation, and management of residential, commercial, and industrial property markets"},{id:"landscape-architecture",name:"Landscape Architecture",icon:Cxe,color:"#7c3aed",description:"Designing open spaces, parks, waterfronts, and ecological zones to support biodiversity and community well-being"},{id:"heritage-conservation-cultural-planning",name:"Heritage Conservation & Cultural Planning",icon:gxe,color:"#ca8a04",description:"Preserving historic buildings, urban memory, and identity while integrating them into modern development"},{id:"public-policy-governance-urban-finance",name:"Public Policy, Governance & Urban Finance",icon:TQ,color:"#b91c1c",description:"Framing the institutional, regulatory, and financial frameworks that enable inclusive and efficient urban development"}],nFe=()=>{var ut,nt,yt;const{user:t,isAuthenticated:e}=Hr(),{showNotification:n}=vo(),i=Gi(),[r,a]=Z.useState([]),[s,o]=Z.useState(!0),[c,u]=Z.useState(""),[d,h]=Z.useState("all"),[f,p]=Z.useState("latest"),[w,v]=Z.useState("all"),[b,g]=Z.useState(!1),[y,_]=Z.useState(""),[S,N]=Z.useState(!1),[R,D]=Z.useState(new Set),[E,C]=Z.useState(new Set),[P,k]=Z.useState(!1),[A,I]=Z.useState(!1),[T,z]=Z.useState(!1),[j,W]=Z.useState([]),[$,q]=Z.useState([]),[G,B]=Z.useState({title:"",category:"",content:"",agreeTerms:!1}),[L,M]=Z.useState([]),[K,Q]=Z.useState(0),[V,le]=Z.useState(0),[ge,ye]=Z.useState("text"),be=Z.useRef(null);N0(la.getArticles),Z.useEffect(()=>{const Be=()=>{window.pageYOffset>400?k(!0):k(!1)};return window.addEventListener("scroll",Be),()=>window.removeEventListener("scroll",Be)},[]);const Le=()=>{window.scrollTo({top:0,behavior:"smooth"})};Z.useEffect(()=>{ke(),e&&ue()},[e]);const ue=async()=>{var Be;try{const Ze=await la.getUserArticles(),ot=((Be=Ze.data)==null?void 0:Be.articles)||Ze.articles||[];W(ot);const St=ot.filter(bt=>bt.approvalStatus==="needsModification");q(St)}catch(Ze){console.error("Error loading user articles:",Ze)}},ke=async()=>{try{console.log("=== LOADING PUBLISHED ARTICLES ===");const Be=await la.getPublishedArticles();console.log("Published articles response:",Be),Be&&Be.data&&Be.data.articles?(a(Be.data.articles),console.log(`Loaded ${Be.data.articles.length} published articles`)):Be&&Be.data&&Array.isArray(Be.data)?(a(Be.data),console.log(`Loaded ${Be.data.length} published articles`)):Array.isArray(Be)?(a(Be),console.log(`Loaded ${Be.length} published articles`)):(console.log("No articles found in response"),a([]))}catch(Be){console.error("Error loading articles:",Be),n("Failed to load articles","error"),a([])}finally{o(!1)}},X=Be=>Be?Be.trim().split(/\s+/).filter(ot=>ot.length>0).length:0,re=Be=>{const Ze=Be.target.value;B({...G,content:Ze}),Q(X(Ze)),le(Ze.length)},Ee=Be=>{ye(Be),Be==="text"?M([]):(B({...G,content:""}),Q(0),le(0))},ne=Be=>{const ot=Array.from(Be.target.files).filter(St=>["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/plain"].includes(St.type)?St.size>10485760?(n(`${St.name} is too large. Maximum size is 10MB.`,"error"),!1):!0:(n("Invalid file type. Please upload PDF, Word, Excel, or Text files.","error"),!1));M([...L,...ot]),ot.length>0&&n(`${ot.length} file(s) uploaded successfully`,"success")},te=Be=>{const Ze=L.filter((ot,St)=>St!==Be);M(Ze)},ae=Be=>{if(Be.preventDefault(),!G.title||!G.category){n("Please fill in all required fields","error");return}if(ge==="text"){if(!G.content){n("Please write article content","error");return}if(K<100){n("Article content must be at least 100 words","error");return}}else if(L.length===0){n("Please upload at least one file","error");return}if(!G.agreeTerms){n("Please agree to the content guidelines and terms","error");return}console.log("Article Data:",G),console.log("Content Type:",ge),console.log("Uploaded Files:",L),n("Article submitted successfully!","success"),g(!1),B({title:"",category:"",content:"",agreeTerms:!1}),M([]),Q(0),le(0),ye("text")},xe=()=>{if(!Array.isArray(r))return console.warn("Articles is not an array:",r),[];let Be=[...r];return c&&(Be=Be.filter(Ze=>{var ot,St,bt,At,Qt,Mt,xt,ln,Dr;return((ot=Ze==null?void 0:Ze.title)==null?void 0:ot.toLowerCase().includes(c.toLowerCase()))||((St=Ze==null?void 0:Ze.content)==null?void 0:St.toLowerCase().includes(c.toLowerCase()))||((bt=Ze==null?void 0:Ze.excerpt)==null?void 0:bt.toLowerCase().includes(c.toLowerCase()))||((Mt=(Qt=(At=Ze==null?void 0:Ze.author)==null?void 0:At.profile)==null?void 0:Qt.firstName)==null?void 0:Mt.toLowerCase().includes(c.toLowerCase()))||((ln=(xt=Ze==null?void 0:Ze.author)==null?void 0:xt.email)==null?void 0:ln.toLowerCase().includes(c.toLowerCase()))||((Dr=Ze==null?void 0:Ze.tags)==null?void 0:Dr.some(Yn=>Yn==null?void 0:Yn.toLowerCase().includes(c.toLowerCase())))})),w!=="all"&&(Be=Be.filter(Ze=>(Ze==null?void 0:Ze.category)===w)),d!=="all"&&(Be=Be.filter(Ze=>(Ze==null?void 0:Ze.type)===d)),Be.sort((Ze,ot)=>{switch(f){case"latest":return new Date((ot==null?void 0:ot.publishedAt)||(ot==null?void 0:ot.createdAt)||0)-new Date((Ze==null?void 0:Ze.publishedAt)||(Ze==null?void 0:Ze.createdAt)||0);case"popular":return((ot==null?void 0:ot.views)||0)-((Ze==null?void 0:Ze.views)||0);case"trending":return((ot==null?void 0:ot.engagementScore)||0)-((Ze==null?void 0:Ze.engagementScore)||0);case"comments":return((ot==null?void 0:ot.commentCount)||0)-((Ze==null?void 0:Ze.commentCount)||0);default:return 0}}),Be},Ce=Be=>Tk.find(Ze=>Ze.id===Be)||Tk[0],_e=Be=>new Date(Be).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),oe=Be=>{const Ze=new Date(Be),St=Math.abs(new Date-Ze),bt=Math.ceil(St/(1e3*60*60*24));return bt<=1?"Today":bt===2?"Yesterday":bt<=7?`${bt} days ago`:bt<=30?`${Math.ceil(bt/7)} weeks ago`:_e(Be)},pe=Be=>{const Ze=new Set(R);Ze.has(Be)?Ze.delete(Be):Ze.add(Be),D(Ze)},Se=Be=>{const Ze=new Set(E);Ze.has(Be)?(Ze.delete(Be),n("Removed from bookmarks","success")):(Ze.add(Be),n("Added to bookmarks","success")),C(Ze)},De=async Be=>{if(navigator.share)try{await navigator.share({title:Be.title,text:Be.excerpt,url:`/news/articles/${Be.id}`})}catch(Ze){console.log("Error sharing:",Ze)}else navigator.clipboard.writeText(`${window.location.origin}/news/articles/${Be.id}`).then(()=>n("Link copied to clipboard!","success"))},Ve=Be=>{Be.preventDefault(),y&&/\S+@\S+\.\S+/.test(y)?(N(!0),n("Successfully subscribed to newsletter!","success"),_("")):n("Please enter a valid email address","error")},de=()=>{u("")},Me=()=>{h("all"),p("latest"),u(""),v("all"),z(!1)},Fe=xe(),Ge=Fe[0];return console.log("=== RENDER STATE ==="),console.log("Articles state:",r),console.log("Filtered articles:",Fe),console.log("Featured article:",Ge),console.log("Loading:",s),s?l("div",{className:"loading-state",children:l(A0,{})}):m("div",{className:"news-page",children:[m("div",{className:"container",children:[e&&$.length>0&&m("div",{className:"modification-alert-banner",children:[m("div",{className:"alert-content",children:[l(n4,{size:24}),m("div",{className:"alert-text",children:[l("strong",{children:"Action Required"}),m("p",{children:["You have ",$.length," article",$.length>1?"s":""," that need",$.length===1?"s":""," modification."]})]})]}),m("button",{className:"alert-btn",onClick:()=>i("/my-articles"),children:["View & Edit Articles",l(uxe,{size:18})]})]}),l("section",{className:"news-hero",children:m("div",{className:"news-hero-content",children:[m("div",{className:"hero-badge",children:[l(PQ,{size:18}),l("span",{children:"Newsroom"})]}),m("h1",{className:"news-hero-title",children:["Discover ",l("span",{className:"text-gradient",children:"Built Environment"})," Insights"]}),l("p",{className:"news-hero-description",children:"Stay updated with cutting-edge insights, research, and discussions shaping the built environment sector"}),e&&m("div",{className:"hero-actions",children:[m("button",{className:"btn-primary btn-large pulse",onClick:()=>i("/news/submit"),children:[l(ru,{size:20}),"Write New Article"]}),m("button",{className:"btn-secondary btn-large",onClick:()=>i("/my-articles"),children:[l(xn,{size:20}),"My Articles",j.length>0&&l("span",{className:"article-count-badge",children:j.length})]})]})]})}),!e&&l("div",{className:"guest-banner",children:m("div",{className:"guest-banner-content",children:[l("div",{className:"guest-icon",children:l(sd,{size:36})}),m("div",{className:"guest-text",children:[l("h3",{children:"Join Our Community"}),l("p",{children:"Sign in to contribute articles, engage with content, and connect with professionals"})]}),l("button",{className:"btn-primary",onClick:()=>i("/login",{state:{from:{pathname:"/news"}}}),children:"Sign In"})]})}),b&&l("div",{className:"modal-overlay",onClick:()=>g(!1),children:m("div",{className:"modal-container",onClick:Be=>Be.stopPropagation(),children:[m("div",{className:"modal-header-modern",children:[l("h3",{children:"Write New Article"}),l("button",{className:"modal-close-btn",onClick:()=>g(!1),"aria-label":"Close modal",children:l(Fn,{size:24})})]}),m("form",{className:"modal-form-modern",onSubmit:ae,children:[m("div",{className:"form-group-modern",children:[l("label",{htmlFor:"article-title",children:"Article Title"}),l("input",{id:"article-title",type:"text",className:"form-input-modern",placeholder:"Enter article title",value:G.title,onChange:Be=>B({...G,title:Be.target.value}),required:!0})]}),m("div",{className:"form-group-modern",children:[l("label",{htmlFor:"article-category",children:"Category"}),m("select",{id:"article-category",className:"form-input-modern",value:G.category,onChange:Be=>B({...G,category:Be.target.value}),required:!0,children:[l("option",{value:"",children:"Select category"}),Tk.slice(1).map(Be=>l("option",{value:Be.id,children:Be.name},Be.id))]})]}),m("div",{className:"form-group-modern",children:[l("label",{children:"Content Type"}),m("div",{className:"content-type-selector",children:[m("button",{type:"button",className:`content-type-btn ${ge==="text"?"active":""}`,onClick:()=>Ee("text"),children:[l(sd,{size:18}),"Write Article Content"]}),m("button",{type:"button",className:`content-type-btn ${ge==="file"?"active":""}`,onClick:()=>Ee("file"),children:[l(Xh,{size:18}),"Upload Files"]})]})]}),ge==="text"?m("div",{className:"form-group-modern",children:[l("label",{htmlFor:"article-content",children:"Article Content"}),m("div",{className:"textarea-wrapper",children:[l("textarea",{id:"article-content",className:"form-input-modern",placeholder:"Write your article...",value:G.content,onChange:re,rows:"10",required:!0}),l("div",{className:"content-counter",children:m("span",{className:`counter-text ${K<100?"below-minimum":"minimum-reached"}`,children:[K," / 100 min"]})})]})]}):m("div",{className:"form-group-modern",children:[l("label",{children:"Upload Files"}),m("div",{className:"file-upload-area",children:[l("input",{type:"file",ref:be,onChange:ne,multiple:!0,accept:".pdf,.doc,.docx,.xls,.xlsx,.txt",style:{display:"none"}}),m("button",{type:"button",className:"file-upload-btn",onClick:()=>{var Be;return(Be=be.current)==null?void 0:Be.click()},children:[l(Xh,{size:20}),"Upload PDF, Word, Excel files"]}),l("p",{className:"file-upload-hint",children:"Maximum file size: 10MB. Supported formats: PDF, DOC, DOCX, XLS, XLSX, TXT"})]}),L.length>0&&l("div",{className:"uploaded-files-list",children:L.map((Be,Ze)=>m("div",{className:"uploaded-file-item",children:[m("div",{className:"file-info",children:[l(EQ,{size:16}),l("span",{className:"file-name",children:Be.name}),m("span",{className:"file-size",children:["(",(Be.size/1024).toFixed(2)," KB)"]})]}),l("button",{type:"button",className:"file-remove-btn",onClick:()=>te(Ze),"aria-label":"Remove file",children:l(Fn,{size:16})})]},Ze))})]}),m("div",{className:"checkbox-group-modern",children:[l("input",{type:"checkbox",id:"agree-terms",checked:G.agreeTerms,onChange:Be=>B({...G,agreeTerms:Be.target.checked}),required:!0}),l("label",{htmlFor:"agree-terms",children:"I agree to the content guidelines and terms"})]}),m("div",{className:"modal-footer-modern",children:[l("button",{type:"button",className:"btn-ghost",onClick:()=>g(!1),children:"Cancel"}),m("button",{type:"submit",className:"btn-primary",children:[l(xn,{size:18}),"Submit Article"]})]})]})]})}),Ge&&m("section",{className:"featured-section",children:[m("span",{className:"section-label",children:[l(ca,{size:16}),"Featured Article"]}),m(pn,{to:`/news/articles/${Ge._id||Ge.id}`,className:"featured-article-card",children:[m("div",{className:"featured-image-wrapper",children:[l("img",{src:Ge.featuredImage||Ge.image||"/api/placeholder/800/600",alt:Ge.title,className:"featured-image"}),l("div",{className:"featured-overlay",children:l("span",{className:"featured-badge",children:"Featured"})})]}),m("div",{className:"featured-content",children:[m("div",{className:"featured-meta",children:[l("span",{className:"category-badge",children:Ce(Ge.category).name}),m("span",{className:"read-time",children:[l(ar,{size:14}),Ge.readTime||"5"," min read"]})]}),l("h2",{children:Ge.title}),l("p",{children:Ge.excerpt}),m("div",{className:"featured-footer",children:[m("div",{className:"author-info-small",children:[l(Is,{size:16}),((nt=(ut=Ge.author)==null?void 0:ut.profile)==null?void 0:nt.firstName)||((yt=Ge.author)==null?void 0:yt.email)||"Anonymous"]}),m("div",{className:"featured-stats",children:[m("span",{children:[l(Pa,{size:14}),Ge.views||0]}),m("span",{children:[l(vl,{size:14}),Ge.commentCount||0]})]})]})]})]})]}),m("section",{className:"filters-section",children:[m("div",{className:"categories-wrapper",children:[l("h3",{className:"filter-label",children:"Browse by Category"}),l("div",{className:"categories-scroll",children:Tk.map(Be=>m("button",{className:`category-pill ${w===Be.id?"active":""}`,onClick:()=>v(Be.id),children:[Be.icon&&l(Be.icon,{size:16}),Be.name]},Be.id))})]}),m("div",{className:"search-sort-row",children:[l("div",{className:`search-box-enhanced ${A?"focused":""}`,children:m("div",{className:"search-input-wrapper",children:[l(Ia,{size:20,className:"search-icon-left"}),l("input",{type:"text",placeholder:"Search articles, authors, topics...",value:c,onChange:Be=>u(Be.target.value),onFocus:()=>I(!0),onBlur:()=>I(!1),className:"search-input-enhanced"}),c&&l("button",{type:"button",className:"search-clear-btn",onClick:de,"aria-label":"Clear search",children:l(Fn,{size:14})}),l("button",{type:"button",className:"search-submit-btn","aria-label":"Search",children:l(Ec,{size:18})})]})}),m("div",{className:"filter-controls",children:[m("div",{className:"filter-dropdown-wrapper",children:[l(vc,{size:18,className:"filter-icon"}),m("select",{value:d,onChange:Be=>h(Be.target.value),className:"filter-select-modern",children:[l("option",{value:"all",children:"All Types"}),l("option",{value:"article",children:"Articles"}),l("option",{value:"research",children:"Research"}),l("option",{value:"case-study",children:"Case Studies"}),l("option",{value:"opinion",children:"Opinion"})]})]}),m("div",{className:"filter-dropdown-wrapper",children:[l(cs,{size:18,className:"filter-icon"}),m("select",{value:f,onChange:Be=>p(Be.target.value),className:"filter-select-modern",children:[l("option",{value:"latest",children:"Latest"}),l("option",{value:"popular",children:"Most Popular"}),l("option",{value:"trending",children:"Trending"}),l("option",{value:"comments",children:"Most Discussed"})]})]}),m("button",{className:`advanced-filter-btn ${T?"active":""}`,onClick:()=>z(!T),children:[l(Axe,{size:18}),"Filters"]})]})]}),T&&l("div",{className:"advanced-filters-panel",children:m("div",{className:"advanced-filters-content",children:[m("div",{className:"filter-group",children:[l("label",{children:"Date Range"}),m("select",{className:"filter-select-modern",children:[l("option",{children:"All Time"}),l("option",{children:"Today"}),l("option",{children:"This Week"}),l("option",{children:"This Month"}),l("option",{children:"This Year"})]})]}),m("div",{className:"filter-group",children:[l("label",{children:"Reading Time"}),m("select",{className:"filter-select-modern",children:[l("option",{children:"Any Length"}),l("option",{children:"Quick Read (< 5 min)"}),l("option",{children:"Medium (5-10 min)"}),l("option",{children:"Long Read (> 10 min)"})]})]}),m("div",{className:"filter-group",children:[l("label",{children:"Author Type"}),m("select",{className:"filter-select-modern",children:[l("option",{children:"All Authors"}),l("option",{children:"Staff Writers"}),l("option",{children:"Guest Contributors"}),l("option",{children:"Verified Experts"})]})]}),m("div",{className:"filter-actions",children:[l("button",{className:"btn-ghost",onClick:Me,children:"Reset All"}),l("button",{className:"btn-primary",onClick:()=>z(!1),children:"Apply Filters"})]})]})})]}),m("section",{className:"articles-section",children:[m("div",{className:"section-header-inline",children:[l("h2",{children:"Latest Articles"}),m("span",{className:"article-count",children:[Fe.length," Articles"]})]}),Fe.length>0?l("div",{className:"articles-grid-modern",children:Fe.map(Be=>{var Ze,ot,St;return m("article",{className:"article-card-modern",children:[l(pn,{to:`/news/articles/${Be._id||Be.id}`,className:"article-image-link",children:m("div",{className:"article-image-modern",children:[l("img",{src:Be.featuredImage||Be.image||"/api/placeholder/400/300",alt:Be.title}),Be.type&&l("span",{className:"article-type-badge",children:Be.type})]})}),m("div",{className:"article-body",children:[m("div",{className:"article-header-modern",children:[l("span",{className:"category-tag",children:Ce(Be.category).name}),m("div",{className:"article-quick-actions",children:[l("button",{className:`action-icon ${E.has(Be._id||Be.id)?"active":""}`,onClick:()=>Se(Be._id||Be.id),"aria-label":"Bookmark",children:l(WC,{size:16})}),l("button",{className:"action-icon",onClick:()=>De(Be),"aria-label":"Share",children:l(Ew,{size:16})})]})]}),l(pn,{to:`/news/articles/${Be._id||Be.id}`,className:"article-title-modern",children:Be.title}),l("p",{className:"article-excerpt-modern",children:Be.excerpt}),m("div",{className:"article-footer-modern",children:[m("div",{className:"author-meta",children:[l("div",{className:"author-avatar-small",children:l(Is,{size:18})}),m("div",{className:"author-details-small",children:[l("span",{className:"author-name",children:((ot=(Ze=Be.author)==null?void 0:Ze.profile)==null?void 0:ot.firstName)||((St=Be.author)==null?void 0:St.email)||"Anonymous"}),l("span",{className:"publish-date-small",children:oe(Be.publishedAt||Be.createdAt)})]})]}),m("div",{className:"engagement-row",children:[m("button",{className:`like-btn ${R.has(Be._id||Be.id)?"liked":""}`,onClick:()=>pe(Be._id||Be.id),children:[l(kQ,{size:16}),Be.likes||0]}),m("span",{className:"engagement-item",children:[l(vl,{size:14}),Be.commentCount||0]})]})]})]})]},Be._id||Be.id)})}):m("div",{className:"empty-state-modern",children:[l(xn,{size:64}),l("h3",{children:"No Articles Found"}),l("p",{children:"Try adjusting your search or filter criteria"}),l("button",{className:"btn-primary",onClick:Me,children:"Reset Filters"})]})]}),l("section",{className:`newsletter-section ${S?"success":""}`,children:m("div",{className:"newsletter-content-modern",children:[l("div",{className:`newsletter-icon ${S?"success":""}`,children:S?l(MN,{size:40}):l(k6,{size:40})}),S?m(vt,{children:[l("h3",{children:"Thank You for Subscribing!"}),l("p",{children:"Thank you for subscribing. You'll receive our latest updates directly in your inbox."})]}):m(vt,{children:[l("h3",{children:"Stay in the Loop"}),l("p",{children:"Get the latest articles, research updates, and industry insights delivered to your inbox"}),m("form",{className:"newsletter-form-modern",onSubmit:Ve,children:[l("input",{type:"email",placeholder:"Enter your email",value:y,onChange:Be=>_(Be.target.value),className:"newsletter-input-modern",required:!0}),l("button",{type:"submit",className:"btn-primary",children:"Subscribe"})]}),l("p",{className:"newsletter-note",children:"We respect your privacy. Unsubscribe anytime."})]})]})})]}),l("button",{className:`scroll-to-top ${P?"visible":""}`,onClick:Le,"aria-label":"Scroll to top",children:l(_U,{size:24})})]})};const iFe=()=>{const t=Gi(),{showNotification:e}=vo(),[n]=N0(la.createEvent),[i,r]=Z.useState({title:"",theme:"",rules:"",tags:"",crossList:!1}),[a,s]=Z.useState({}),[o,c]=Z.useState(!1),u=()=>{const f={};return i.title.trim()||(f.title="Title is required"),i.theme.trim()||(f.theme="Short description is required"),f},d=(f,p)=>{r(w=>({...w,[f]:p})),s(w=>({...w,[f]:void 0}))};return l("div",{className:"collaborate-page",children:l("div",{className:"container",children:m("div",{className:"collab-panel",children:[m("header",{className:"collab-header",children:[l("h1",{children:"Create Sponsored Event / Collaboration"}),l("p",{className:"muted",children:"Fill out the details below to submit an event for review. Required fields are marked."})]}),m("form",{className:"collab-form",onSubmit:async f=>{f.preventDefault();const p=u();if(Object.keys(p).length){s(p);return}c(!0);try{const w={title:i.title,theme:i.theme,rules:i.rules,tags:i.tags.split(",").map(v=>v.trim()).filter(Boolean),crossList:i.crossList,createdAt:new Date().toISOString()};await n(w,{successMessage:"Event submitted for review"}),e("Event submitted successfully","success"),t("/news")}catch{e("Failed to submit event","error")}finally{c(!1)}},noValidate:!0,children:[m("div",{className:"form-row",children:[m("label",{className:"form-label",children:["Title ",l("span",{className:"required",children:"*"})]}),l("input",{type:"text",className:`form-input ${a.title?"has-error":""}`,value:i.title,onChange:f=>d("title",f.target.value),placeholder:"Event title"}),a.title&&l("div",{className:"field-error",children:a.title})]}),m("div",{className:"form-row",children:[m("label",{className:"form-label",children:["Theme / Short Description ",l("span",{className:"required",children:"*"})]}),l("textarea",{className:`form-textarea ${a.theme?"has-error":""}`,value:i.theme,onChange:f=>d("theme",f.target.value),placeholder:"Briefly describe the theme or goals of the collaboration"}),a.theme&&l("div",{className:"field-error",children:a.theme})]}),m("div",{className:"form-row",children:[l("label",{className:"form-label",children:"Rules / Word Limits"}),l("textarea",{className:"form-textarea",value:i.rules,onChange:f=>d("rules",f.target.value),placeholder:"Optional: submission rules, word limits or eligibility"})]}),m("div",{className:"form-row",children:[l("label",{className:"form-label",children:"Tags (comma separated)"}),l("input",{type:"text",className:"form-input",value:i.tags,onChange:f=>d("tags",f.target.value),placeholder:"e.g. sustainability, retrofit, policy"})]}),m("div",{className:"form-row small",children:[l("label",{className:"form-label",children:"Cross-list under Learning Centre"}),m("div",{className:"toggle-row",children:[m("label",{className:"toggle",children:[l("input",{type:"checkbox",checked:i.crossList,onChange:f=>d("crossList",f.target.checked)}),l("span",{className:"toggle-track"})]}),l("span",{className:"small-meta muted",children:"Cross-posting will list this event in the Learning Centre where applicable."})]})]}),m("div",{className:"form-actions",children:[l("button",{type:"button",className:"btn-news btn-secondary",onClick:()=>t("/news"),children:"Cancel"}),l("button",{type:"reset",className:"btn-news btn-ghost",onClick:()=>r({title:"",theme:"",rules:"",tags:"",crossList:!1}),children:"Reset"}),m("button",{type:"submit",className:"btn-news btn-primary",disabled:o,children:[l(qC,{size:16}),o?"Submitting...":"Submit Event"]})]})]})]})})})};const lX=()=>{const{user:t,isAuthenticated:e}=Hr(),{showNotification:n}=vo(),i=Gi(),{articleId:r}=_N(),a=!!r,[s,o]=Z.useState({title:"",excerpt:"",content:"",category:"",tags:[],featuredImage:null,isPublished:!1,allowComments:!0,coAuthors:[]}),[c,u]=Z.useState({}),[d,h]=Z.useState(!1);Z.useState(!1),Z.useState(!1);const[f,p]=Z.useState(""),[w,v]=Z.useState(null),[b,g]=Z.useState(0),[y,_]=Z.useState(""),[S,N]=Z.useState([]),[R,D]=Z.useState(!1),[E,C]=Z.useState({checking:!1,score:null,report:null,checked:!1}),[P,k]=Z.useState([]),A=Z.useRef(null),I=Z.useRef(null),T=Z.useRef(null);N0(la.createArticle),Z.useEffect(()=>{a&&r&&z()},[r,a]);const z=async()=>{var ue,ke;try{h(!0),console.log("=== LOADING ARTICLE FOR EDIT ==="),console.log("Article ID:",r);const X=await la.getArticle(r);console.log("Article loaded:",X);const re=((ue=X.data)==null?void 0:ue.article)||X.article;if(re){o({title:re.title||"",excerpt:re.excerpt||"",content:re.content||"",category:re.category||"",tags:re.tags||[],featuredImage:null,isPublished:!1,allowComments:re.allowComments!==!1,coAuthors:re.coAuthors||[]});const Ee=((ke=re.content)==null?void 0:ke.replace(/<[^>]*>/g,""))||"";g(q(Ee)),C({checking:!1,score:null,report:null,checked:!1}),n("Article loaded for editing","success")}}catch(X){console.error("Error loading article:",X),n("Failed to load article","error"),i("/my-articles")}finally{h(!1)}},j=Z.useMemo(()=>({toolbar:{container:[[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],[{size:["small",!1,"large","huge"]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{align:[]}],["blockquote","code-block"],["link","image","video"],["clean"]],handlers:{image:B}},clipboard:{matchVisual:!1}}),[]),W=["header","font","size","bold","italic","underline","strike","color","background","script","list","bullet","indent","direction","align","blockquote","code-block","link","image","video"],$=(ue,ke)=>{o(X=>({...X,[ue]:ke})),c[ue]&&u(X=>({...X,[ue]:""})),ue==="content"&&E.checked&&C(X=>({...X,checked:!1,score:null,report:null}))},q=ue=>ue?ue.trim().split(/\s+/).filter(ke=>ke.length>0).length:0,G=(ue,ke,X,re)=>{const Ee=re.getText(),ne=re.getHTML(),te=q(Ee);if(g(te),$("content",ne),!s.excerpt&&Ee.length>100){const ae=Ee.split(`
`).slice(0,3).join(" ").substring(0,200);o(xe=>({...xe,excerpt:ae.trim()+"..."}))}};function B(){const ue=document.createElement("input");ue.setAttribute("type","file"),ue.setAttribute("accept","image/*"),ue.click(),ue.onchange=async()=>{const ke=ue.files[0];if(ke){const X=new FileReader;X.onload=re=>{const Ee=T.current.getEditor(),ne=Ee.getSelection(!0);Ee.insertEmbed(ne.index,"image",re.target.result)},X.readAsDataURL(ke)}}}const L=ue=>{const ke=ue.target.files[0];if(!ke)return;if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(ke.type)){n("Please upload a valid image (JPEG, PNG, GIF, WebP)","error");return}if(ke.size>5*1024*1024){n("Image size should be less than 5MB","error");return}o(Ee=>({...Ee,featuredImage:ke}));const re=new FileReader;re.onloadend=()=>{v(re.result)},re.readAsDataURL(ke)},M=async ue=>{const ke=ue.target.files[0];if(!ke)return;if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain"].includes(ke.type)){n("Please upload a valid document (PDF, DOC, DOCX, TXT)","error");return}if(ke.size>10*1024*1024){n("Document size should be less than 10MB","error");return}try{if(h(!0),ke.type==="text/plain"){const re=await ke.text(),Ee=T.current.getEditor(),ne=Ee.getSelection(!0);Ee.insertText(ne?ne.index:0,re),n("Content inserted from text file","success")}else k(re=>[...re,{name:ke.name,type:ke.type,size:ke.size,file:ke}]),n("Document uploaded successfully","success")}catch{n("Failed to process document","error")}finally{h(!1)}},K=async ue=>{if(!ue||ue.length<2){N([]);return}try{D(!0);const X=(await la.searchUsers(ue)).data.users.filter(re=>re._id!==t._id&&!s.coAuthors.some(Ee=>Ee.userId===re._id));N(X)}catch(ke){console.error("Error searching users:",ke),N([])}finally{D(!1)}},Q=ue=>{var X,re;const ke={userId:ue._id,email:ue.email,name:`${((X=ue.profile)==null?void 0:X.firstName)||""} ${((re=ue.profile)==null?void 0:re.lastName)||""}`.trim()||ue.email,status:"pending"};o(Ee=>({...Ee,coAuthors:[...Ee.coAuthors,ke]})),_(""),N([])},V=ue=>{o(ke=>({...ke,coAuthors:ke.coAuthors.filter(X=>X.userId!==ue)}))},le=()=>{if(f.trim()){if(s.tags.includes(f.trim())){n("Tag already added","warning");return}if(s.tags.length>=10){n("Maximum 10 tags allowed","warning");return}o(ue=>({...ue,tags:[...ue.tags,f.trim()]})),p("")}},ge=ue=>{o(ke=>({...ke,tags:ke.tags.filter(X=>X!==ue)}))},ye=()=>{const ue={};return s.title.trim()?s.title.length<10&&(ue.title="Title must be at least 10 characters"):ue.title="Title is required",s.excerpt.trim()?s.excerpt.length<50&&(ue.excerpt="Excerpt must be at least 50 characters"):ue.excerpt="Excerpt is required",(!s.content||s.content.replace(/<[^>]*>/g,"").trim().length<200)&&(ue.content="Content must be at least 200 characters"),s.category||(ue.category="Category is required"),s.tags.length===0&&(ue.tags="Add at least one tag"),u(ue),Object.keys(ue).length===0},be=async(ue=!1)=>{var ke,X,re,Ee,ne,te;if(console.log("=== SUBMISSION STARTED ==="),console.log("isEditMode:",a),console.log("articleId:",r),console.log("isDraft:",ue),console.log("isAuthenticated:",e),console.log("user:",t),!ye()&&!ue){console.log("Form validation failed");return}try{h(!0),console.log(a?"=== UPDATING ARTICLE ===":"=== SUBMITTING ARTICLE ==="),console.log("isDraft:",ue),console.log("FormData:",{title:s.title,excerpt:s.excerpt,contentLength:(ke=s.content)==null?void 0:ke.length,category:s.category,tags:s.tags,hasImage:!!s.featuredImage,plagiarismChecked:E.checked,plagiarismScore:E.score});const ae={title:s.title,excerpt:s.excerpt,content:s.content,category:s.category,tags:s.tags,isPublished:!ue,allowComments:s.allowComments,featuredImage:s.featuredImage};s.coAuthors&&s.coAuthors.length>0&&(ae.coAuthors=s.coAuthors),console.log("About to call API with data:",ae),console.log("Calling API...");let xe;a?xe=await la.updateArticle(r,ae):xe=await la.createArticle(ae),console.log("API Response:",xe),n(xe.message||(a?"Article updated successfully! Awaiting admin review.":ue?"Article saved as draft":"Article submitted successfully! Awaiting admin approval."),"success"),i("/my-articles")}catch(ae){console.error("=== SUBMISSION ERROR ==="),console.error("Error:",ae),console.error("Error message:",ae.message),console.error("Response:",(X=ae.response)==null?void 0:X.data),console.error("Status:",(re=ae.response)==null?void 0:re.status),console.error("Headers:",(Ee=ae.response)==null?void 0:Ee.headers),n(((te=(ne=ae.response)==null?void 0:ne.data)==null?void 0:te.message)||ae.message||(a?"Failed to update article":"Failed to submit article"),"error")}finally{h(!1)}},Le=["Urban Planning","Architecture","Infrastructure","Sustainability","Transportation","Housing","Public Policy","Technology","Case Study","Research"];return e?m("div",{className:"article-submission-page",children:[m("div",{className:"container",children:[m("div",{className:"submission-header",children:[l("h1",{children:a?"Edit Article":"Submit Article to Newsroom"}),l("p",{children:a?"Update your article and resubmit for review":"Share your insights with the Planning Insights community"})]}),m("div",{className:"submission-layout",children:[l("div",{className:"editor-main",children:m("div",{className:"editor-card",children:[m("div",{className:"form-section",children:[l("h3",{children:"Article Title"}),m("div",{className:"form-group",children:[l("input",{type:"text",className:`form-input ${c.title?"error":""}`,placeholder:"Enter a compelling title...",value:s.title,onChange:ue=>$("title",ue.target.value),maxLength:150}),c.title&&l("span",{className:"error-text",children:c.title}),m("span",{className:"char-count",children:[s.title.length,"/150"]})]})]}),m("div",{className:"form-section",children:[l("h3",{children:"Excerpt / Synopsis"}),m("div",{className:"form-group",children:[l("textarea",{className:`form-input ${c.excerpt?"error":""}`,placeholder:"Write a brief summary (first 2-3 lines for social sharing)...",value:s.excerpt,onChange:ue=>$("excerpt",ue.target.value),rows:4,maxLength:300}),c.excerpt&&l("span",{className:"error-text",children:c.excerpt}),m("span",{className:"char-count",children:[s.excerpt.length,"/300"]})]})]}),m("div",{className:"form-section",children:[m("div",{className:"section-header",children:[l("h3",{children:"Co-Authors (Optional)"}),m("span",{className:"section-hint",children:[l(Zt,{size:16}),"Add collaborators to your article"]})]}),m("div",{className:"co-author-search",children:[l("input",{type:"text",className:"form-input",placeholder:"Search users by name or email...",value:y,onChange:ue=>{_(ue.target.value),K(ue.target.value)}}),S.length>0&&m("div",{className:"search-results-dropdown",children:[R&&m("div",{className:"searching",children:[l(S0,{size:16,className:"spinning"}),l("span",{children:"Searching..."})]}),!R&&S.map(ue=>{var ke,X,re;return m("div",{className:"result-item",onClick:()=>Q(ue),children:[l("div",{className:"result-avatar",children:(ke=ue.profile)!=null&&ke.profilePicture?l("img",{src:ue.profile.profilePicture,alt:""}):l(Is,{size:20})}),m("div",{className:"result-info",children:[m("div",{className:"result-name",children:[(X=ue.profile)==null?void 0:X.firstName," ",(re=ue.profile)==null?void 0:re.lastName]}),l("div",{className:"result-email",children:ue.email})]}),l(ru,{size:18})]},ue._id)})]})]}),s.coAuthors.length>0&&m("div",{className:"selected-coauthors",children:[m("h4",{children:["Added Co-Authors (",s.coAuthors.length,")"]}),l("div",{className:"coauthor-list",children:s.coAuthors.map(ue=>m("div",{className:"coauthor-item",children:[l(Is,{size:18}),m("div",{className:"coauthor-details",children:[l("span",{className:"coauthor-name",children:ue.name}),l("span",{className:"coauthor-email",children:ue.email})]}),m("span",{className:`status-badge ${ue.status}`,children:[ue.status==="pending"&&"Invitation Pending",ue.status==="accepted"&&"Accepted",ue.status==="declined"&&"Declined"]}),l("button",{type:"button",onClick:()=>V(ue.userId),className:"btn-icon",title:"Remove co-author",children:l(Fn,{size:16})})]},ue.userId))}),m("div",{className:"coauthor-note",children:[l(z0,{size:14}),l("span",{children:"Co-authors will receive an email invitation to review and approve their inclusion."})]})]})]}),m("div",{className:"form-section",children:[m("div",{className:"editor-header",children:[l("h3",{children:"Article Content"}),m("div",{className:"editor-actions",children:[m("button",{type:"button",onClick:()=>{var ue;return(ue=I.current)==null?void 0:ue.click()},className:"btn-secondary",title:"Upload Document",children:[l(xn,{size:18}),l("span",{children:"Upload Doc"})]}),l("input",{ref:I,type:"file",accept:".pdf,.doc,.docx,.txt",style:{display:"none"},onChange:M})]})]}),l("div",{className:"quill-wrapper",children:l(Yr,{ref:T,theme:"snow",value:s.content,onChange:G,modules:j,formats:W,placeholder:"Start writing your article... (Supports drag & drop for images)"})}),m("div",{className:"word-counter",children:[l("span",{className:"word-count-label",children:"Word Count:"}),l("span",{className:"word-count-value",children:b}),m("span",{className:"word-count-status",children:[b<200&&" (Minimum 200 words required)",b>=200&&b<500&&" (Short article)",b>=500&&b<1e3&&" (Medium article)",b>=1e3&&" (Long-form article)"]})]}),c.content&&l("span",{className:"error-text",children:c.content})]}),P.length>0&&m("div",{className:"form-section",children:[l("h3",{children:"Uploaded Documents"}),l("div",{className:"uploaded-files",children:P.map((ue,ke)=>m("div",{className:"file-item",children:[l(xn,{size:20}),l("span",{children:ue.name}),l("button",{onClick:()=>k(X=>X.filter((re,Ee)=>Ee!==ke)),className:"btn-icon",children:l(Fn,{size:16})})]},ke))})]})]})}),m("div",{className:"editor-sidebar",children:[m("div",{className:"sidebar-card",children:[l("h3",{children:"Featured Image"}),m("div",{className:"image-upload",children:[w?m("div",{className:"image-preview",children:[l("img",{src:w,alt:"Featured"}),l("button",{onClick:()=>{o(ue=>({...ue,featuredImage:null})),v(null)},className:"remove-image",children:l(Fn,{size:16})})]}):m("button",{onClick:()=>{var ue;return(ue=A.current)==null?void 0:ue.click()},className:"upload-button",children:[l(Qh,{size:32}),l("span",{children:"Upload Image"})]}),l("input",{ref:A,type:"file",accept:"image/*",style:{display:"none"},onChange:L})]})]}),m("div",{className:"sidebar-card",children:[l("h3",{children:"Category *"}),m("select",{className:`form-select ${c.category?"error":""}`,value:s.category,onChange:ue=>$("category",ue.target.value),children:[l("option",{value:"",children:"Select Category"}),Le.map(ue=>l("option",{value:ue,children:ue},ue))]}),c.category&&l("span",{className:"error-text",children:c.category})]}),m("div",{className:"sidebar-card",children:[l("h3",{children:"Tags *"}),m("div",{className:"tags-input",children:[m("div",{className:"tag-input-group",children:[l("input",{type:"text",placeholder:"Add a tag...",value:f,onChange:ue=>p(ue.target.value),onKeyPress:ue=>ue.key==="Enter"&&(ue.preventDefault(),le())}),l("button",{onClick:le,className:"btn-icon",children:l(ru,{size:18})})]}),l("div",{className:"tags-list",children:s.tags.map(ue=>m("span",{className:"tag",children:[ue,l("button",{onClick:()=>ge(ue),children:l(Fn,{size:14})})]},ue))})]}),c.tags&&l("span",{className:"error-text",children:c.tags})]}),m("div",{className:"sidebar-card",children:[l("h3",{children:"Settings"}),m("label",{className:"checkbox-label",children:[l("input",{type:"checkbox",checked:s.allowComments,onChange:ue=>$("allowComments",ue.target.checked)}),l("span",{children:"Allow Comments"})]})]}),m("div",{className:"sidebar-actions",children:[m("button",{onClick:()=>be(!0),disabled:d,className:"btn-secondary full-width",children:[l(y7,{size:18}),l("span",{children:"Save Draft"})]}),l("button",{onClick:()=>be(!1),disabled:d||!a&&!E.checked,className:"btn-primary full-width",children:d?m(vt,{children:[l(S0,{size:18,className:"spinning"}),l("span",{children:"Submitting..."})]}):m(vt,{children:[l(BN,{size:18}),l("span",{children:a?"Update Article":"Submit for Review"})]})})]})]})]})]}),d&&l(A0,{message:"Processing your article..."})]}):l("div",{className:"article-submission-page",children:l("div",{className:"container",children:m("div",{className:"auth-required",children:[l(z0,{size:48}),l("h2",{children:"Authentication Required"}),l("p",{children:"Please log in to submit articles"}),l("button",{onClick:()=>i("/login"),className:"btn-primary",children:"Go to Login"})]})})})};const cX=()=>{var q,G,B,L,M,K,Q,V,le,ge,ye;const{articleId:t}=_N(),{user:e,isAuthenticated:n}=Hr(),i=Gi(),[r,a]=Z.useState(null),[s,o]=Z.useState(null),[c,u]=Z.useState(!0),[d,h]=Z.useState({liked:!1,disliked:!1}),[f,p]=Z.useState(""),[w,v]=Z.useState(!0),[b,g]=Z.useState(!1),[y,_]=Z.useState(""),[S,N]=Z.useState(""),[R,D]=Z.useState(!1),[E,C]=Z.useState(0);Z.useEffect(()=>{P(),k()},[t]),Z.useEffect(()=>{const be=()=>{const Le=window.pageYOffset||document.documentElement.scrollTop,ue=document.documentElement.scrollHeight-document.documentElement.clientHeight,ke=Le/ue*100;C(ke),D(Le>300)};return window.addEventListener("scroll",be),()=>window.removeEventListener("scroll",be)},[]);const P=async()=>{try{const be=await la.getArticle(t);a(be.data.article)}catch(be){console.error("Failed to load article:",be),He.error("Failed to load article"),i("/news")}finally{u(!1)}},k=async()=>{try{const be=await la.getArticleStats(t);o(be.data)}catch(be){console.error("Failed to load stats:",be)}},A=async()=>{if(!n){He.error("Please login to like articles");return}try{const be=await la.likeArticle(t);h({liked:be.data.userLiked,disliked:be.data.userDisliked}),k()}catch{He.error("Failed to like article")}},I=async()=>{if(!n){He.error("Please login to dislike articles");return}try{const be=await la.dislikeArticle(t);h({liked:be.data.userLiked,disliked:be.data.userDisliked}),k()}catch{He.error("Failed to dislike article")}},T=async be=>{if(be.preventDefault(),!n){He.error("Please login to comment");return}if(!f.trim()){He.error("Comment cannot be empty");return}try{await la.addComment(t,f),p(""),P(),He.success("Comment added successfully")}catch{He.error("Failed to add comment")}},z=async()=>{var be,Le;if(!n){He.error("Please login to flag content");return}if(!y){He.error("Please select a reason");return}try{await la.flagArticle(t,y,S),g(!1),_(""),N(""),He.success("Article flagged for review")}catch(ue){He.error(((Le=(be=ue.response)==null?void 0:be.data)==null?void 0:Le.message)||"Failed to flag article")}},j=async be=>{var Le;try{await la.shareArticle(t);const ue=`${r.title} by ${((Le=r.author.profile)==null?void 0:Le.firstName)||r.author.email}`,ke=window.location.href;let X="";switch(be){case"twitter":X=`https://twitter.com/intent/tweet?text=${encodeURIComponent(ue)}&url=${encodeURIComponent(ke)}`;break;case"linkedin":X=`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(ke)}`;break;case"facebook":X=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(ke)}`;break;default:navigator.clipboard.writeText(ke),He.success("Link copied to clipboard");return}window.open(X,"_blank","width=600,height=400")}catch(ue){console.error("Failed to track share:",ue)}},W=()=>{window.scrollTo({top:0,behavior:"smooth"})},$=()=>{if(!r)return"";const be=r.content.split("</p>");if(be.length<=2)return r.content;const Le=be[0]+"</p>",ue=be[be.length-2]+"</p>",ke=be.length-2;return`
      ${Le}
      <div class="blur-overlay">
        ${Array(ke).fill("<p>Lorem ipsum dolor sit amet...</p>").join("")}
      </div>
      ${ue}
    `};return c?l("div",{className:"article-detail-container",children:m("div",{className:"loading-spinner",children:[l("div",{className:"spinner"}),l("p",{children:"Loading article..."})]})}):r?m("div",{className:"article-detail-page",children:[l("div",{className:"reading-progress-bar",style:{width:`${E}%`}}),m("div",{className:"article-detail-container fade-in",children:[m("header",{className:"article-header slide-up",children:[m("div",{className:"breadcrumb",children:[l(pn,{to:"/news",children:"Newsroom"}),l("span",{children:" / "}),l("span",{children:r.category})]}),l("h1",{className:"article-title",children:r.title}),m("div",{className:"article-meta",children:[m("div",{className:"meta-item",children:[l(Is,{size:18}),l(pn,{to:`/profile/${r.author._id}`,className:"author-link",children:((q=r.author.profile)==null?void 0:q.firstName)||r.author.email}),((G=r.coAuthors)==null?void 0:G.length)>0&&m("span",{className:"co-authors",children:["& ",r.coAuthors.map(be=>{var Le;return((Le=be.profile)==null?void 0:Le.firstName)||be.email}).join(", ")]})]}),m("div",{className:"meta-item",children:[l(ua,{size:18}),l("span",{children:new Date(r.publishedAt||r.createdAt).toLocaleDateString()})]}),s&&m("div",{className:"meta-item",children:[l(Pa,{size:18}),m("span",{children:[s.views," views"]})]}),l("div",{className:"meta-item reading-time",children:m("span",{children:[" ",r.readingTime||"5"," min read"]})})]}),((B=r.tags)==null?void 0:B.length)>0&&l("div",{className:"article-tags",children:r.tags.map((be,Le)=>l("span",{className:"tag",children:be},Le))})]}),r.featuredImage&&l("div",{className:"featured-image zoom-in",children:l("img",{src:r.featuredImage,alt:r.title})}),r.excerpt&&l("div",{className:"article-excerpt slide-up",children:l("p",{children:r.excerpt})}),l("div",{className:"article-content slide-up",children:n?l("div",{dangerouslySetInnerHTML:{__html:r.content}}):m("div",{className:"blurred-content",children:[l("div",{dangerouslySetInnerHTML:{__html:$()}}),m("div",{className:"login-prompt pulse",children:[l("h3",{children:" Premium Content"}),l("p",{children:"Login to read the full article"}),l("button",{onClick:()=>i("/login"),children:"Login / Sign Up"})]})]})}),m("div",{className:"interaction-bar slide-up",children:[m("button",{className:`interaction-btn ${d.liked?"active":""}`,onClick:A,children:[l(ow,{size:20}),l("span",{children:(s==null?void 0:s.likes)||0})]}),m("button",{className:`interaction-btn ${d.disliked?"active":""}`,onClick:I,children:[l(kxe,{size:20}),l("span",{children:(s==null?void 0:s.dislikes)||0})]}),m("button",{className:"interaction-btn",onClick:()=>v(!w),children:[l(sc,{size:20}),m("span",{children:[((L=r.comments)==null?void 0:L.length)||0," Comments"]})]}),m("div",{className:"share-dropdown",children:[m("button",{className:"interaction-btn",children:[l(Ew,{size:20}),l("span",{children:"Share"})]}),m("div",{className:"share-menu",children:[l("button",{onClick:()=>j("twitter"),children:"Twitter"}),l("button",{onClick:()=>j("linkedin"),children:"LinkedIn"}),l("button",{onClick:()=>j("facebook"),children:"Facebook"}),l("button",{onClick:()=>j("copy"),children:"Copy Link"})]})]}),m("button",{className:"interaction-btn",onClick:()=>g(!0),children:[l(NQ,{size:20}),l("span",{children:"Report"})]})]}),r.citationText&&m("div",{className:"citation-block slide-up",children:[l("h4",{children:" Cite This Article"}),l("p",{children:r.citationText})]}),m("section",{className:"author-section slide-up",children:[l("h3",{children:"About the Author"}),m("div",{className:"author-card",children:[l("div",{className:"author-avatar",children:(M=r.author.profile)!=null&&M.avatar?l("img",{src:r.author.profile.avatar,alt:r.author.profile.firstName}):l("span",{children:(((Q=(K=r.author.profile)==null?void 0:K.firstName)==null?void 0:Q[0])||"U").toUpperCase()})}),m("div",{className:"author-details",children:[l("h4",{children:((V=r.author.profile)==null?void 0:V.firstName)||r.author.email}),l("p",{className:"author-bio",children:((le=r.author.profile)==null?void 0:le.bio)||"No bio available"}),l(pn,{to:`/profile/${r.author._id}`,className:"view-profile",children:"View Profile "})]})]})]}),w&&m("section",{className:"comments-section slide-up",children:[m("h3",{children:[" Comments (",((ge=r.comments)==null?void 0:ge.length)||0,")"]}),n?m("form",{className:"comment-form",onSubmit:T,children:[l("textarea",{value:f,onChange:be=>p(be.target.value),placeholder:"Share your thoughts...",rows:"4"}),l("button",{type:"submit",children:"Post Comment"})]}):l("div",{className:"login-required",children:m("p",{children:[l(pn,{to:"/login",children:"Login"})," to join the conversation"]})}),l("div",{className:"comments-list",children:(ye=r.comments)==null?void 0:ye.map(be=>{var Le,ue,ke;return m("div",{className:"comment fade-in",children:[m("div",{className:"comment-header",children:[l("strong",{children:((ue=(Le=be.user)==null?void 0:Le.profile)==null?void 0:ue.firstName)||((ke=be.user)==null?void 0:ke.email)}),l("span",{className:"comment-date",children:new Date(be.createdAt).toLocaleDateString()})]}),l("p",{className:"comment-content",children:be.content})]},be._id)})})]})]}),b&&l("div",{className:"modal-overlay",onClick:()=>g(!1),children:m("div",{className:"modal-content scale-in",onClick:be=>be.stopPropagation(),children:[m("div",{className:"modal-header",children:[l("h3",{children:" Report Article"}),l("button",{onClick:()=>g(!1),children:l(Fn,{size:24})})]}),m("div",{className:"modal-body",children:[m("label",{children:["Reason for reporting:",m("select",{value:y,onChange:be=>_(be.target.value),children:[l("option",{value:"",children:"Select a reason"}),l("option",{value:"spam",children:"Spam"}),l("option",{value:"inappropriate",children:"Inappropriate Content"}),l("option",{value:"misinformation",children:"Misinformation"}),l("option",{value:"copyright",children:"Copyright Violation"}),l("option",{value:"other",children:"Other"})]})]}),m("label",{children:["Additional details (optional):",l("textarea",{value:S,onChange:be=>N(be.target.value),rows:"4",placeholder:"Provide more context..."})]})]}),m("div",{className:"modal-footer",children:[l("button",{onClick:()=>g(!1),children:"Cancel"}),l("button",{className:"btn-danger",onClick:z,children:"Submit Report"})]})]})}),R&&l("button",{className:"scroll-to-top bounce-in",onClick:W,children:l(_U,{size:24})})]}):l("div",{className:"article-detail-container",children:m("div",{className:"error-message",children:[l("h2",{children:"Article not found"}),l("button",{onClick:()=>i("/news"),children:"Back to Newsroom"})]})})};class rFe{constructor(){this.socket=null,this.listeners=new Map}connect(e){var i;if((i=this.socket)!=null&&i.connected){console.log("Socket already connected");return}const n={}.VITE_API_URL||"http://localhost:3000";this.socket=Ov(n,{auth:{token:e},transports:["websocket","polling"],reconnection:!0,reconnectionAttempts:5,reconnectionDelay:1e3}),this.socket.on("connect",()=>{console.log(" Socket connected:",this.socket.id)}),this.socket.on("disconnect",r=>{console.log(" Socket disconnected:",r)}),this.socket.on("connect_error",r=>{console.error("Socket connection error:",r.message)}),this.socket.on("error",r=>{console.error("Socket error:",r)})}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null,this.listeners.clear(),console.log("Socket disconnected"))}joinForum(e){this.socket&&this.socket.emit("forum:join",e)}leaveForum(e){this.socket&&this.socket.emit("forum:leave",e)}joinThread(e){this.socket&&this.socket.emit("thread:join",e)}leaveThread(e){this.socket&&this.socket.emit("thread:leave",e)}emitTyping(e,n){this.socket&&this.socket.emit("thread:typing",{threadId:e,isTyping:n})}on(e,n){this.socket&&(this.socket.on(e,n),this.listeners.has(e)||this.listeners.set(e,[]),this.listeners.get(e).push(n))}off(e,n){if(this.socket&&(this.socket.off(e,n),this.listeners.has(e))){const i=this.listeners.get(e),r=i.indexOf(n);r>-1&&i.splice(r,1)}}onNewThread(e){this.on("thread:new",e)}onNewAnswer(e){this.on("answer:new",e)}onNewComment(e){this.on("comment:new",e)}onReactionUpdated(e){this.on("reaction:updated",e)}onAnswerAccepted(e){this.on("answer:accepted",e)}onUserTyping(e){this.on("thread:user_typing",e)}onModerationAction(e){this.on("moderation:action",e)}onTrendingUpdated(e){this.on("trending:updated",e)}onForumStatusChanged(e){this.on("forum:status_changed",e)}onPollCreated(e){this.on("poll:created",e)}onPollVoted(e){this.on("poll:voted",e)}onNotification(e){this.on("notification:new",e)}removeAllListeners(e){this.socket&&e&&(this.socket.removeAllListeners(e),this.listeners.delete(e))}}const Jf=new rFe,aFe=({isOpen:t,onClose:e,onSuccess:n})=>{const[i,r]=Z.useState({title:"",description:"",category:"Urban Design",motivation:"",intent:""}),[a,s]=Z.useState(!1),[o,c]=Z.useState(""),u=["Urban Design","Mobility","Heritage","Sustainability","Infrastructure","Housing","Policy","Technology","Other"],d=f=>{r({...i,[f.target.name]:f.target.value}),c("")},h=async f=>{var p,w,v,b,g,y;if(f.preventDefault(),!i.title.trim()){c("Forum title is required");const _=document.querySelector('[data-modal="create-forum"]');_&&(_.scrollTop=0);return}if(!i.description.trim()){c("Description is required");return}if(i.motivation.trim()&&i.motivation.trim().length<10){c("Motivation must be at least 10 characters or leave it empty");return}if(i.intent.trim()&&i.intent.trim().length<10){c("Intent must be at least 10 characters or leave it empty");return}s(!0),c("");try{if(!localStorage.getItem("authToken")){c("Please login to create a forum"),s(!1);return}const S={title:i.title.trim(),description:i.description.trim(),category:i.category};i.motivation.trim()&&(S.motivation=i.motivation.trim()),i.intent.trim()&&(S.intent=i.intent.trim()),(await Oe.post("/forum/create",S)).data.success&&(alert("Forum submitted for approval! You will be notified once it is reviewed."),r({title:"",description:"",category:"Urban Design",motivation:"",intent:""}),n(),e())}catch(_){console.error("Error creating forum:",_),console.error("Error response:",(p=_.response)==null?void 0:p.data),((w=_.response)==null?void 0:w.status)===401?c("Authentication failed. Please login again."):(b=(v=_.response)==null?void 0:v.data)!=null&&b.message?c(_.response.data.message):(y=(g=_.response)==null?void 0:g.data)!=null&&y.error?c(_.response.data.error):c("Failed to create forum. Please try again.")}finally{s(!1)}};return t?l("div",{style:Tn.overlay,onClick:e,children:m("div",{style:Tn.modal,onClick:f=>f.stopPropagation(),"data-modal":"create-forum",children:[m("div",{style:Tn.header,children:[l("h2",{style:Tn.title,children:"Create New Forum"}),l("button",{style:Tn.closeButton,onClick:e,type:"button",children:""})]}),o&&m("div",{style:Tn.error,children:[" ",o]}),m("form",{onSubmit:h,style:Tn.form,children:[m("div",{style:Tn.formGroup,children:[m("label",{style:Tn.label,children:["Forum Title ",l("span",{style:Tn.required,children:"*"})]}),l("input",{type:"text",name:"title",value:i.title,onChange:d,placeholder:"e.g., Urban Planning Best Practices 2026",required:!0,style:Tn.input})]}),m("div",{style:Tn.formGroup,children:[m("label",{style:Tn.label,children:["Category ",l("span",{style:Tn.required,children:"*"})]}),l("select",{name:"category",value:i.category,onChange:d,required:!0,style:Tn.select,children:u.map(f=>l("option",{value:f,children:f},f))})]}),m("div",{style:Tn.formGroup,children:[m("label",{style:Tn.label,children:["Description ",l("span",{style:Tn.required,children:"*"})]}),l("textarea",{name:"description",value:i.description,onChange:d,placeholder:"Describe what this forum is about and what topics will be discussed...",required:!0,rows:"4",style:Tn.textarea})]}),m("div",{style:Tn.formGroup,children:[l("label",{style:Tn.label,children:"Motivation (Why create this forum?)"}),l("textarea",{name:"motivation",value:i.motivation,onChange:d,placeholder:"Explain why this forum is needed and what gap it fills...",rows:"3",style:Tn.textarea}),l("small",{style:Tn.hint,children:"Optional but recommended for faster approval (min 10 characters if provided)"})]}),m("div",{style:Tn.formGroup,children:[l("label",{style:Tn.label,children:"Intent (What discussions will this enable?)"}),l("textarea",{name:"intent",value:i.intent,onChange:d,placeholder:"What kind of discussions and collaborations do you envision...",rows:"3",style:Tn.textarea}),l("small",{style:Tn.hint,children:"Optional but recommended for faster approval (min 10 characters if provided)"})]}),m("div",{style:Tn.infoBox,children:[l("strong",{children:" Approval Process:"}),l("p",{style:Tn.infoText,children:"Your forum will be submitted for admin review. You'll be notified via email and real-time notification once it's approved or if any changes are needed."})]}),m("div",{style:Tn.actions,children:[l("button",{type:"button",onClick:e,style:Tn.cancelButton,disabled:a,children:"Cancel"}),l("button",{type:"submit",style:Tn.submitButton,disabled:a,children:a?"Submitting...":"Submit for Approval"})]})]})]})}):null},Tn={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:"20px"},modal:{backgroundColor:"white",borderRadius:"12px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)",display:"flex",flexDirection:"column"},header:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"24px",borderBottom:"1px solid #e0e0e0",position:"sticky",top:0,backgroundColor:"white",zIndex:1},title:{margin:0,fontSize:"24px",fontWeight:"bold",color:"#1a1a1a"},closeButton:{background:"none",border:"none",fontSize:"32px",cursor:"pointer",color:"#666",padding:"0",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",transition:"color 0.3s ease"},error:{margin:"0 24px",marginTop:"16px",padding:"12px",backgroundColor:"#ffebee",color:"#c62828",borderRadius:"6px",fontSize:"14px"},form:{padding:"24px",overflow:"auto",flex:1},formGroup:{marginBottom:"20px"},label:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:"#333"},required:{color:"#f44336"},input:{width:"100%",padding:"12px",border:"1px solid #ddd",borderRadius:"6px",fontSize:"14px",fontFamily:"inherit",transition:"border-color 0.3s ease",boxSizing:"border-box"},select:{width:"100%",padding:"12px",border:"1px solid #ddd",borderRadius:"6px",fontSize:"14px",fontFamily:"inherit",backgroundColor:"white",cursor:"pointer",boxSizing:"border-box"},textarea:{width:"100%",padding:"12px",border:"1px solid #ddd",borderRadius:"6px",fontSize:"14px",fontFamily:"inherit",resize:"vertical",transition:"border-color 0.3s ease",boxSizing:"border-box"},hint:{display:"block",marginTop:"4px",fontSize:"12px",color:"#666"},infoBox:{padding:"16px",backgroundColor:"#e3f2fd",borderRadius:"6px",marginBottom:"24px",fontSize:"14px",color:"#1976d2"},infoText:{margin:"8px 0 0 0",fontSize:"13px",color:"#555"},actions:{display:"flex",paddingTop:"16px",borderTop:"1px solid #e0e0e0",marginTop:"24px",gap:"12px",justifyContent:"flex-end"},cancelButton:{padding:"12px 24px",border:"1px solid #ddd",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:"pointer",backgroundColor:"white",color:"#666",transition:"all 0.3s ease"},submitButton:{padding:"12px 24px",border:"none",borderRadius:"6px",backgroundColor:"#8bc34a",color:"white",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.3s ease",":hover":{backgroundColor:"#7cb342"},":disabled":{backgroundColor:"#ccc",cursor:"not-allowed"}}},sFe=[{title:"Climate-Resilient Design",replies:45,trend:"+12%"},{title:"Zoning Law Updates",replies:32,trend:"+8%"},{title:"Public Transit Optimization",replies:28,trend:"+15%"},{title:"Heritage Conservation",replies:21,trend:"+5%"}],oFe=({onCreateClick:t})=>m(vt,{children:[l("div",{className:"forum-header",children:m("div",{className:"header-content-wrapper",children:[m("div",{className:"header-text-section",children:[m("div",{className:"header-badge",children:[l(vl,{size:18}),l("span",{children:"Discussion Forum"})]}),l("h1",{className:"forum-main-title",children:"Discussion Forum"}),l("p",{className:"forum-subtitle",children:"Ask questions, share insights, and learn from peers."})]}),m("button",{className:"create-forum-btn",onClick:t,children:[l(ru,{size:20}),l("span",{children:"Create Forum"})]})]})}),l("style",{children:`
        .forum-header {
          background: #524393;
          border-radius: 24px;
          padding: 40px 36px;
          margin-bottom: 32px;
          box-shadow: 0 18px 40px rgba(82, 67, 147, 0.35);
          position: relative;
          overflow: hidden;
          border: none;
        }

        .forum-header::before {
          content: none;
        }

        .header-content-wrapper {
          display: flex;
          justify-content: space-between;
          align-items: center;
          gap: 32px;
          position: relative;
          z-index: 2;
        }

        .header-text-section {
          flex: 1;
        }

        .header-badge {
          display: inline-flex;
          align-items: center;
          gap: 8px;
          background: rgba(255, 255, 255, 0.12);
          padding: 8px 16px;
          border-radius: 999px;
          color: #f9fafb;
          font-size: 13px;
          font-weight: 700;
          text-transform: uppercase;
          letter-spacing: 0.5px;
          margin-bottom: 16px;
          border: 1px solid rgba(255, 255, 255, 0.28);
        }

        .header-badge svg {
          color: #f9fafb;
        }

        .forum-main-title {
          font-size: 40px;
          font-weight: 800;
          color: #ffffff;
          margin: 0 0 12px 0;
          letter-spacing: -0.5px;
          line-height: 1.1;
        }

        .forum-subtitle {
          font-size: 16px;
          color: rgba(249, 250, 251, 0.88);
          margin: 0;
          font-weight: 400;
          line-height: 1.6;
        }

        .create-forum-btn {
          display: inline-flex;
          align-items: center;
          gap: 10px;
          padding: 16px 32px;
          background: linear-gradient(135deg, #BDD337 0%, #a8c91f 100%);
          color: #1B1528;
          border: none;
          border-radius: 12px;
          font-size: 16px;
          font-weight: 700;
          cursor: pointer;
          transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);
          box-shadow: 0 4px 15px rgba(189, 211, 55, 0.3);
          white-space: nowrap;
        }

        .create-forum-btn:hover {
          transform: translateY(-3px);
          box-shadow: 0 8px 25px rgba(189, 211, 55, 0.4);
        }

        .create-forum-btn:active {
          transform: translateY(-1px);
        }

        @media (max-width: 768px) {
          .forum-header {
            padding: 32px 24px;
            border-radius: 16px;
          }

          .header-content-wrapper {
            flex-direction: column;
            text-align: center;
            gap: 24px;
          }

          .forum-main-title {
            font-size: 32px;
          }

          .forum-subtitle {
            font-size: 16px;
          }

          .create-forum-btn {
            width: 100%;
            justify-content: center;
          }
        }

        @media (max-width: 480px) {
          .forum-header {
            padding: 24px 16px;
          }

          .forum-main-title {
            font-size: 28px;
          }

          .forum-subtitle {
            font-size: 14px;
          }
        }
      `})]}),lFe=({searchTerm:t,onSearchChange:e,sortBy:n,onSortChange:i,activeFilter:r,onFilterChange:a,statusCounts:s})=>{const o=["trending","newest","most-answered","most-followed"],c=["all","my-forums","followed","pending","approved"],u=d=>{if(!s)return 0;switch(d){case"all":return s.all;case"my-forums":return s.myForums;case"followed":return s.followed;case"pending":return s.pending;case"approved":return s.approved;default:return 0}};return m(vt,{children:[m("div",{className:"filter-bar",children:[l("div",{className:"search-section",children:m("div",{className:"search-input-wrapper",children:[l(Ia,{size:20,className:"search-icon"}),l("input",{type:"text",className:"search-input",placeholder:"Search topics, users, tags...",value:t,onChange:d=>e(d.target.value)})]})}),m("div",{className:"filter-controls",children:[l("div",{className:"sort-buttons",children:o.map(d=>m("button",{className:`sort-btn ${n===d?"active":""}`,onClick:()=>i(d),children:[d==="trending"&&l(cs,{size:16}),d==="newest"&&l(ar,{size:16}),d==="most-answered"&&l(vl,{size:16}),d==="most-followed"&&l(Zt,{size:16}),l("span",{children:d.split("-").map(h=>h.charAt(0).toUpperCase()+h.slice(1)).join(" ")})]},d))}),l("div",{className:"filter-chips",children:c.map(d=>m("button",{className:`filter-chip ${r===d?"active":""}`,onClick:()=>a(d),children:[d==="my-forums"&&l(ca,{size:14}),d==="followed"&&l(Zt,{size:14}),d==="pending"&&l(ar,{size:14}),d==="approved"&&l(Gn,{size:14}),l("span",{children:d.split("-").map(h=>h.charAt(0).toUpperCase()+h.slice(1)).join(" ")}),u(d)>0&&l("span",{className:"filter-chip-count",children:u(d)})]},d))})]})]}),l("style",{children:`
        .filter-bar {
          background: white;
          border-radius: 16px;
          padding: 24px;
          margin-bottom: 32px;
          box-shadow: 0 4px 12px rgba(82, 67, 147, 0.08);
          border: 1px solid #e9e0f0;
        }

        .search-section {
          margin-bottom: 20px;
        }

        .search-input-wrapper {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 14px 20px;
          background: #f8f7fc;
          border: 2px solid #ddd4e4;
          border-radius: 12px;
          transition: all 200ms;
        }

        .search-input-wrapper:focus-within {
          background: white;
          border-color: #524393;
          box-shadow: 0 0 0 4px rgba(82, 67, 147, 0.08);
        }

        .search-icon {
          color: #8b7c9e;
          flex-shrink: 0;
        }

        .search-input {
          flex: 1;
          border: none;
          outline: none;
          background: transparent;
          font-size: 15px;
          color: #1B1528;
          font-weight: 500;
        }

        .search-input::placeholder {
          color: #8b7c9e;
        }

        .filter-controls {
          display: flex;
          flex-direction: column;
          gap: 16px;
        }

        .sort-buttons {
          display: flex;
          gap: 12px;
          flex-wrap: wrap;
        }

        .sort-btn {
          display: inline-flex;
          align-items: center;
          gap: 8px;
          padding: 10px 18px;
          background: #f8f7fc;
          border: 2px solid #ddd4e4;
          border-radius: 10px;
          color: #4b5563;
          font-size: 14px;
          font-weight: 600;
          cursor: pointer;
          transition: all 200ms;
        }

        .sort-btn:hover {
          background: white;
          border-color: #524393;
          color: #524393;
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(82, 67, 147, 0.12);
        }

        .sort-btn.active {
          background: linear-gradient(135deg, #524393, #7c5ba8);
          border-color: #524393;
          color: white;
          box-shadow: 0 4px 12px rgba(82, 67, 147, 0.2);
        }

        .filter-chips {
          display: flex;
          gap: 10px;
          flex-wrap: wrap;
        }

        .filter-chip {
          display: inline-flex;
          align-items: center;
          gap: 6px;
          padding: 8px 16px;
          background: white;
          border: 2px solid #e9e0f0;
          border-radius: 50px;
          color: #4b5563;
          font-size: 13px;
          font-weight: 600;
          cursor: pointer;
          transition: all 200ms;
        }

        .filter-chip-count {
          min-width: 22px;
          height: 22px;
          border-radius: 999px;
          background: #f97316;
          color: #ffffff;
          font-size: 11px;
          font-weight: 700;
          display: inline-flex;
          align-items: center;
          justify-content: center;
          padding: 0 6px;
        }

        .filter-chip:hover {
          border-color: #BDD337;
          color: #1B1528;
          transform: scale(1.05);
        }

        .filter-chip.active {
          background: #BDD337;
          border-color: #BDD337;
          color: #1B1528;
          box-shadow: 0 2px 8px rgba(189, 211, 55, 0.3);
        }

        @media (max-width: 768px) {
          .filter-bar {
            padding: 20px;
          }

          .sort-buttons {
            overflow-x: auto;
            flex-wrap: nowrap;
            padding-bottom: 8px;
            -webkit-overflow-scrolling: touch;
          }

          .sort-btn {
            white-space: nowrap;
          }

          .filter-chips {
            overflow-x: auto;
            flex-wrap: nowrap;
            padding-bottom: 8px;
          }

          .filter-chip {
            white-space: nowrap;
          }
        }
      `})]})},cFe=({status:t})=>{const n=(()=>{switch(t){case"approved":return{color:"#10b981",bg:"rgba(16, 185, 129, 0.1)",label:"Approved",icon:Gn};case"pending":return{color:"#f59e0b",bg:"rgba(245, 158, 11, 0.1)",label:"Pending",icon:ar};case"closed":return{color:"#ef4444",bg:"rgba(239, 68, 68, 0.1)",label:"Closed",icon:ao};default:return{color:"#6b7280",bg:"rgba(107, 114, 128, 0.1)",label:"Unknown",icon:vl}}})(),i=n.icon;return m(vt,{children:[m("span",{className:`status-badge status-${t}`,children:[l(i,{size:14}),l("span",{children:n.label})]}),l("style",{children:`
        .status-badge {
          display: inline-flex;
          align-items: center;
          gap: 6px;
          padding: 6px 12px;
          border-radius: 50px;
          font-size: 12px;
          font-weight: 700;
          text-transform: uppercase;
          letter-spacing: 0.3px;
        }

        .status-approved {
          background: rgba(16, 185, 129, 0.1);
          color: #10b981;
        }

        .status-pending {
          background: rgba(245, 158, 11, 0.1);
          color: #f59e0b;
        }

        .status-closed {
          background: rgba(239, 68, 68, 0.1);
          color: #ef4444;
        }
      `})]})},uFe=({tag:t})=>m(vt,{children:[m("span",{className:"tag-badge",children:[l(Nxe,{size:12}),l("span",{children:t})]}),l("style",{children:`
        .tag-badge {
          display: inline-flex;
          align-items: center;
          gap: 4px;
          padding: 5px 12px;
          background: rgba(82, 67, 147, 0.08);
          border: 1px solid rgba(82, 67, 147, 0.15);
          border-radius: 6px;
          color: #524393;
          font-size: 12px;
          font-weight: 600;
          transition: all 200ms;
        }

        .tag-badge:hover {
          background: rgba(82, 67, 147, 0.15);
          border-color: #524393;
          transform: translateY(-1px);
        }
      `})]}),dFe=({forum:t,onFollow:e,onCardClick:n})=>{const[i,r]=Z.useState(!1),a=s=>{s.stopPropagation(),r(!i),e(t.id)};return m(vt,{children:[m("div",{className:"forum-card",onClick:()=>n(t.id),children:[m("div",{className:"card-header-section",children:[m("div",{className:"author-info",children:[l("div",{className:"author-avatar",children:t.author.avatar}),m("div",{className:"author-details",children:[l("div",{className:"author-name",children:t.author.name}),m("div",{className:"author-meta",children:[t.author.reputation>0&&m("span",{className:"reputation",children:[l(Rm,{size:12}),t.author.reputation," pts"]}),l("span",{className:"post-time",children:t.createdAt})]})]})]}),m("div",{className:"card-status-row",children:[l(cFe,{status:t.status}),t.isPinned&&m("span",{className:"pinned-badge",children:[l(ca,{size:12,fill:"currentColor"}),"Pinned"]})]})]}),m("div",{className:"card-content",children:[l("h3",{className:"forum-title",children:t.title}),l("p",{className:"forum-description",children:t.description}),l("div",{className:"tags-row",children:t.tags.map((s,o)=>l(uFe,{tag:s},o))})]}),m("div",{className:"card-footer",children:[m("div",{className:"stats-row",children:[m("div",{className:"stat-item",children:[l(vl,{size:16}),m("span",{children:[t.stats.questions," Questions"]})]}),m("div",{className:"stat-item",children:[l(ow,{size:16}),m("span",{children:[t.stats.replies," Replies"]})]}),m("div",{className:"stat-item",children:[l(Pa,{size:16}),m("span",{children:[t.stats.views.toLocaleString()," Views"]})]}),m("div",{className:"stat-item",children:[l(Zt,{size:16}),m("span",{children:[t.stats.followers," Followers"]})]})]}),m("button",{className:`follow-btn ${i?"following":""}`,onClick:a,children:[l(ca,{size:16,fill:i?"currentColor":"none"}),l("span",{children:i?"Following":"Follow"})]})]})]}),l("style",{children:`
        .forum-card {
          background: white;
          border: 1px solid #e9e0f0;
          border-radius: 16px;
          padding: 24px;
          transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);
          cursor: pointer;
          position: relative;
          overflow: hidden;
        }

        .forum-card::before {
          content: '';
          position: absolute;
          top: 0;
          left: 0;
          right: 0;
          height: 4px;
          background: linear-gradient(90deg, #524393, #A2A2D0);
          opacity: 0;
          transition: opacity 300ms;
        }

        .forum-card:hover {
          border-color: #524393;
          box-shadow: 0 12px 24px rgba(82, 67, 147, 0.15);
          transform: translateY(-4px);
        }

        .forum-card:hover::before {
          opacity: 1;
        }

        .card-header-section {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          margin-bottom: 20px;
        }

        .author-info {
          display: flex;
          align-items: center;
          gap: 12px;
        }

        .author-avatar {
          width: 44px;
          height: 44px;
          border-radius: 50%;
          background: linear-gradient(135deg, #524393, #A2A2D0);
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
          font-weight: 700;
          font-size: 14px;
          flex-shrink: 0;
        }

        .author-details {
          display: flex;
          flex-direction: column;
          gap: 4px;
        }

        .author-name {
          font-weight: 700;
          color: #1B1528;
          font-size: 14px;
        }

        .author-meta {
          display: flex;
          align-items: center;
          gap: 12px;
          font-size: 12px;
          color: #8b7c9e;
        }

        .reputation {
          display: inline-flex;
          align-items: center;
          gap: 4px;
          color: #f59e0b;
          font-weight: 600;
        }

        .post-time {
          color: #8b7c9e;
        }

        .card-status-row {
          display: flex;
          gap: 8px;
          align-items: center;
        }

        .pinned-badge {
          display: inline-flex;
          align-items: center;
          gap: 4px;
          padding: 6px 12px;
          background: rgba(244, 63, 94, 0.1);
          color: #be123c;
          border-radius: 50px;
          font-size: 12px;
          font-weight: 700;
          text-transform: uppercase;
          letter-spacing: 0.3px;
        }

        .card-content {
          margin-bottom: 20px;
        }

        .forum-title {
          font-size: 20px;
          font-weight: 700;
          color: #1B1528;
          margin: 0 0 12px 0;
          line-height: 1.4;
          transition: color 200ms;
        }

        .forum-card:hover .forum-title {
          color: #524393;
        }

        .forum-description {
          font-size: 15px;
          color: #4b5563;
          line-height: 1.6;
          margin: 0 0 16px 0;
        }

        .tags-row {
          display: flex;
          gap: 8px;
          flex-wrap: wrap;
        }

        .card-footer {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding-top: 20px;
          border-top: 1px solid #e9e0f0;
          gap: 16px;
        }

        .forum-card .stats-row {
          display: flex;
          gap: 16px;
          flex-wrap: wrap;
        }

        .forum-card .stats-row .stat-item {
          display: inline-flex;
          align-items: center;
          justify-content: flex-start;
          gap: 8px;
          padding: 10px 16px;
          background: #f9fbff;
          border-radius: 12px;
          border: 1px solid #e2e8f0;
          color: #4b5563;
          font-size: 13px;
          font-weight: 600;
          box-shadow: 0 6px 12px rgba(15, 23, 42, 0.04);
          transition: transform 150ms ease, box-shadow 150ms ease, border-color 150ms ease;
        }

        .forum-card .stats-row .stat-item:hover {
          transform: translateY(-1px);
          border-color: #cbd5f5;
          box-shadow: 0 10px 18px rgba(15, 23, 42, 0.06);
        }

        .forum-card .stats-row .stat-item svg {
          color: #524393;
          background: none;
          padding: 0;
          border-radius: 0;
          box-shadow: none;
          border: none;
          width: 16px;
          height: 16px;
          flex-shrink: 0;
        }

        .follow-btn {
          display: inline-flex;
          align-items: center;
          gap: 8px;
          padding: 10px 20px;
          background: white;
          border: 2px solid #ddd4e4;
          border-radius: 10px;
          color: #524393;
          font-size: 14px;
          font-weight: 700;
          cursor: pointer;
          transition: all 200ms;
          white-space: nowrap;
        }

        .follow-btn:hover {
          background: #f8f7fc;
          border-color: #524393;
          transform: scale(1.05);
        }

        .follow-btn.following {
          background: #BDD337;
          border-color: #BDD337;
          color: #1B1528;
        }

        @media (max-width: 768px) {
          .forum-card {
            padding: 20px;
          }

          .card-header-section {
            flex-direction: column;
            gap: 12px;
          }

          .card-status-row {
            align-self: flex-start;
          }

          .forum-title {
            font-size: 18px;
          }

          .card-footer {
            flex-direction: column;
            align-items: stretch;
          }

          .stats-row {
            flex-wrap: wrap;
            gap: 12px;
          }

          .follow-btn {
            width: 100%;
            justify-content: center;
          }
        }
      `})]})},hFe=({topics:t})=>m(vt,{children:[m("div",{className:"trending-widget",children:[m("div",{className:"widget-header",children:[l(cs,{size:20}),l("h3",{children:"Trending Topics"})]}),l("div",{className:"trending-list",children:t.map((e,n)=>m("div",{className:"trending-item",children:[m("div",{className:"trending-info",children:[l("div",{className:"trending-title",children:e.title}),m("div",{className:"trending-meta",children:[l(vl,{size:12}),m("span",{children:[e.replies," replies"]})]})]}),l("div",{className:"trending-badge",children:e.trend})]},n))})]}),l("style",{children:`
        .trending-widget {
          background: white;
          border: 1px solid #e9e0f0;
          border-radius: 16px;
          padding: 24px;
          box-shadow: 0 4px 12px rgba(82, 67, 147, 0.08);
        }

        .widget-header {
          display: flex;
          align-items: center;
          gap: 10px;
          margin-bottom: 20px;
          padding-bottom: 16px;
          border-bottom: 2px solid #e9e0f0;
        }

        .widget-header svg {
          color: #524393;
        }

        .widget-header h3 {
          margin: 0;
          font-size: 18px;
          font-weight: 700;
          color: #1B1528;
        }

        .trending-list {
          display: flex;
          flex-direction: column;
          gap: 16px;
        }

        .trending-item {
          display: flex;
          justify-content: space-between;
          align-items: flex-start;
          gap: 12px;
          padding: 12px;
          background: #f8f7fc;
          border-radius: 10px;
          transition: all 200ms;
          cursor: pointer;
        }

        .trending-item:hover {
          background: #ede8f5;
          transform: translateX(4px);
        }

        .trending-info {
          flex: 1;
        }

        .trending-title {
          font-size: 14px;
          font-weight: 600;
          color: #1B1528;
          margin-bottom: 6px;
          line-height: 1.4;
        }

        .trending-meta {
          display: flex;
          align-items: center;
          gap: 6px;
          font-size: 12px;
          color: #8b7c9e;
        }

        .trending-meta svg {
          color: #524393;
        }

        .trending-badge {
          padding: 4px 10px;
          background: rgba(16, 185, 129, 0.1);
          color: #10b981;
          border-radius: 6px;
          font-size: 12px;
          font-weight: 700;
          white-space: nowrap;
        }
      `})]}),fFe=({onActionClick:t})=>m(vt,{children:[m("div",{className:"quick-actions-widget",children:[m("div",{className:"widget-header",children:[l(vc,{size:20}),l("h3",{children:"Quick Actions"})]}),l("div",{className:"actions-list",children:[{id:"created",label:"My Created Forums",icon:ca,count:3},{id:"followed",label:"My Followed Forums",icon:Zt,count:12}].map(n=>{const i=n.icon;return m("button",{className:"action-item",onClick:()=>t(n.id),children:[m("div",{className:"action-info",children:[l(i,{size:18}),l("span",{className:"action-label",children:n.label})]}),l("div",{className:"action-count",children:n.count})]},n.id)})})]}),l("style",{children:`
        .quick-actions-widget {
          background: white;
          border: 1px solid #e9e0f0;
          border-radius: 16px;
          padding: 24px;
          box-shadow: 0 4px 12px rgba(82, 67, 147, 0.08);
        }

        .actions-list {
          display: flex;
          flex-direction: column;
          gap: 12px;
        }

        .action-item {
          display: flex;
          justify-content: space-between;
          align-items: center;
          gap: 12px;
          padding: 14px;
          background: #f8f7fc;
          border: 2px solid #e9e0f0;
          border-radius: 10px;
          cursor: pointer;
          transition: all 200ms;
          text-align: left;
          width: 100%;
        }

        .action-item:hover {
          background: white;
          border-color: #524393;
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(82, 67, 147, 0.12);
        }

        .action-info {
          display: flex;
          align-items: center;
          gap: 12px;
          color: #1B1528;
        }

        .action-info svg {
          color: #524393;
        }

        .action-label {
          font-size: 14px;
          font-weight: 600;
        }

        .action-count {
          padding: 4px 12px;
          background: #BDD337;
          color: #1B1528;
          border-radius: 50px;
          font-size: 13px;
          font-weight: 700;
        }
      `})]}),pFe=({trendingTopics:t,onActionClick:e})=>m(vt,{children:[m("div",{className:"sidebar-container",children:[l(hFe,{topics:t}),l(fFe,{onActionClick:e})]}),l("style",{children:`
        .sidebar-container {
          display: flex;
          flex-direction: column;
          gap: 24px;
        }

        @media (max-width: 1024px) {
          .sidebar-container {
            grid-column: 1 / -1;
          }
        }
      `})]}),mFe=()=>{const t=Gi(),{user:e,isAuthenticated:n}=Hr(),[i,r]=Z.useState(""),[a,s]=Z.useState("newest"),[o,c]=Z.useState("all"),[u,d]=Z.useState(!1),[h,f]=Z.useState([]),[p,w]=Z.useState(!0),[v,b]=Z.useState({all:0,myForums:0,followed:0,pending:0,approved:0}),g=async()=>{var E;try{w(!0);let C;if(o==="my-forums")C=await Oe.get("/forum/user/my-forums",{params:{sort:a,search:i}});else{const P={sort:a,search:i};o==="pending"?P.status="pending":(o==="approved"||o==="all")&&(P.status="approved"),C=await Oe.get("/forum",{params:P})}if(C.data.success){const P=C.data.data.forums.map(k=>{var A,I,T,z,j,W,$,q;return{id:k._id,title:k.title,description:k.description,author:{name:((A=k.creator)==null?void 0:A.name)||`${((I=k.creator)==null?void 0:I.firstName)||""} ${((T=k.creator)==null?void 0:T.lastName)||""}`.trim()||"Anonymous",avatar:(((j=(z=k.creator)==null?void 0:z.firstName)==null?void 0:j.substring(0,1))||"")+((($=(W=k.creator)==null?void 0:W.lastName)==null?void 0:$.substring(0,1))||"")||"A",reputation:((q=k.creator)==null?void 0:q.reputation)||0},tags:[k.category.toLowerCase().replace(" ","-")],stats:{questions:k.threadCount||0,replies:0,views:0,followers:k.followerCount||0},status:k.status,createdAt:_(k.createdAt),isPinned:k.isPinned||!1}});f(P),b(k=>{var A;return{...k,all:((A=C.data.data.pagination)==null?void 0:A.total)||P.length}})}}catch(C){console.error("Error fetching forums:",C),((E=C.response)==null?void 0:E.status)===401&&console.log("Please login to view forums"),f([])}finally{w(!1)}},y=async()=>{try{const E=await Oe.get("/forum/status/counts");if(E.data.success){const{overall:C,user:P}=E.data.data;b({all:C.approved+((P==null?void 0:P.pending)||0),myForums:((P==null?void 0:P.approved)||0)+((P==null?void 0:P.pending)||0),followed:(P==null?void 0:P.followed)||0,pending:(P==null?void 0:P.pending)||C.pending||0,approved:C.approved||0})}}catch(E){console.error("Error fetching forum status counts:",E)}},_=E=>{const C=new Date(E),k=new Date-C,A=Math.floor(k/6e4),I=Math.floor(k/36e5),T=Math.floor(k/864e5);return A<60?`${A} minutes ago`:I<24?`${I} hours ago`:T<7?`${T} days ago`:C.toLocaleDateString()};Z.useEffect(()=>{g()},[a,i,o]),Z.useEffect(()=>{y()},[n]),Z.useEffect(()=>{const E=localStorage.getItem("authToken");return E&&n&&(Jf.connect(E),Jf.on("forum:created",C=>{console.log("New forum created:",C),g(),y()}),Jf.on("forum:approved",C=>{console.log("Forum approved:",C),g(),y()}),Jf.on("forum:rejected",C=>{console.log("Forum rejected:",C),g(),y()})),()=>{n&&(Jf.off("forum:created"),Jf.off("forum:approved"),Jf.off("forum:rejected"),Jf.disconnect())}},[n]);const S=()=>{if(!n){alert("Please login to create a forum"),t("/login");return}d(!0)},N=E=>{t(`/forum/threads/${E}`)},R=E=>{console.log("Following forum:",E)},D=E=>{console.log("Quick action:",E),c(E==="created"?"my-forums":"followed")};return m(vt,{children:[l(aFe,{isOpen:u,onClose:()=>d(!1),onSuccess:()=>{console.log("Forum created successfully"),g(),y()}}),l("div",{className:"forum-page-wrapper",children:m("div",{className:"forum-container",children:[l(oFe,{onCreateClick:S}),l(lFe,{searchTerm:i,onSearchChange:r,sortBy:a,onSortChange:s,activeFilter:o,onFilterChange:c,statusCounts:v}),m("div",{className:"forum-layout",children:[l("div",{className:"forum-main-content",children:l("div",{className:"forums-grid",children:h.map(E=>l(dFe,{forum:E,onFollow:R,onCardClick:N},E.id))})}),l("div",{className:"forum-sidebar",children:l(pFe,{trendingTopics:sFe,onActionClick:D})})]})]})}),l("style",{children:`
        .forum-page-wrapper {
          min-height: 100vh;
          background: linear-gradient(180deg, #ffffff 0%, #f8f7fc 50%, #ede8f5 100%);
          padding: 40px 0 80px;
        }

        .forum-container {
          max-width: 1400px;
          margin: 0 auto;
          padding: 0 24px;
        }

        .forum-layout {
          display: grid;
          grid-template-columns: 1fr 380px;
          gap: 32px;
          align-items: start;
        }

        .forum-main-content {
          min-width: 0;
        }

        .forums-grid {
          display: flex;
          flex-direction: column;
          gap: 20px;
          animation: fadeInUp 600ms ease-out;
        }

        @keyframes fadeInUp {
          from {
            opacity: 0;
            transform: translateY(30px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .forum-sidebar {
          position: sticky;
          top: 24px;
        }

        /* Responsive Layouts */
        @media (max-width: 1200px) {
          .forum-layout {
            grid-template-columns: 1fr 320px;
            gap: 24px;
          }
        }

        @media (max-width: 1024px) {
          .forum-layout {
            grid-template-columns: 1fr;
            gap: 32px;
          }

          .forum-sidebar {
            position: static;
          }
        }

        @media (max-width: 768px) {
          .forum-page-wrapper {
            padding: 24px 0 60px;
          }

          .forum-container {
            padding: 0 16px;
          }

          .forum-layout {
            gap: 24px;
          }

          .forums-grid {
            gap: 16px;
          }
        }

        @media (max-width: 480px) {
          .forum-page-wrapper {
            padding: 16px 0 40px;
          }

          .forum-container {
            padding: 0 12px;
          }
        }
      `})]})},CO={createForum:async t=>(await Oe.post("/forum/create",t)).data,getForums:async(t={})=>(await Oe.get("/forum/list",{params:t})).data,getForum:async t=>(await Oe.get(`/forum/${t}`)).data,getTrendingForums:async(t=10)=>(await Oe.get("/forum/trending",{params:{limit:t}})).data,checkTitleUniqueness:async t=>(await Oe.get(`/forum/check-title/${encodeURIComponent(t)}`)).data,getForumSuggestions:async t=>(await Oe.get("/forum/suggestions",{params:{query:t}})).data,toggleFollow:async t=>(await Oe.post(`/forum/${t}/follow`)).data,getForumAnalytics:async t=>(await Oe.get(`/forum/${t}/analytics`)).data,createQuestion:async(t,e)=>(await Oe.post(`/forum/${t}/question`,e)).data,getQuestions:async(t,e={})=>(await Oe.get(`/forum/${t}/questions`,{params:e})).data,getQuestion:async t=>(await Oe.get(`/forum/question/${t}`)).data,getQuestionSuggestions:async(t,e=null)=>(await Oe.get("/forum/question/suggestions",{params:{query:t,forumId:e}})).data,reactToQuestion:async(t,e)=>(await Oe.post(`/forum/question/${t}/react`,{type:e})).data,toggleQuestionFollow:async t=>(await Oe.post(`/forum/question/${t}/follow`)).data,deleteQuestion:async t=>(await Oe.delete(`/forum/question/${t}`)).data,createAnswer:async(t,e)=>(await Oe.post(`/forum/question/${t}/answer`,e)).data,getAnswers:async(t,e={})=>(await Oe.get(`/forum/question/${t}/answers`,{params:e})).data,addComment:async(t,e)=>(await Oe.post(`/forum/answer/${t}/comment`,e)).data,reactToAnswer:async(t,e)=>(await Oe.post(`/forum/answer/${t}/react`,{type:e})).data,markBestAnswer:async t=>(await Oe.put(`/forum/answer/${t}/mark-best`)).data,deleteAnswer:async t=>(await Oe.delete(`/forum/answer/${t}`)).data,reactToComment:async(t,e)=>(await Oe.post(`/forum/answer/${t}/comment/${e}/react`)).data,flagContent:async t=>(await Oe.post("/forum/flag",t)).data,submitAppeal:async(t,e)=>(await Oe.post(`/forum/appeal/flag/${t}/appeal`,{content:e})).data,getPolls:async(t={})=>(await Oe.get("/forum/polls",{params:t})).data,getPoll:async t=>(await Oe.get(`/forum/poll/${t}`)).data,votePoll:async(t,e)=>(await Oe.post(`/forum/poll/${t}/vote`,{optionIndexes:e})).data},Fx={getPendingForums:async(t={})=>(await Oe.get("/admin/forum/forums/pending",{params:t})).data,getAllForums:async(t={})=>(await Oe.get("/admin/forum/forums",{params:t})).data,approveForum:async t=>(await Oe.put(`/admin/forum/forum/${t}/approve`)).data,rejectForum:async(t,e)=>(await Oe.put(`/admin/forum/forum/${t}/reject`,{reason:e})).data,deleteForum:async t=>(await Oe.delete(`/admin/forum/forum/${t}`)).data,getFlaggedContent:async(t={})=>(await Oe.get("/admin/forum/flags",{params:t})).data,getAnonymousIdentity:async(t,e)=>(await Oe.get(`/admin/forum/flag/${t}/${e}/identity`)).data,resolveFlag:async(t,e,n)=>(await Oe.post(`/admin/forum/flag/${t}/resolve`,{action:e,adminNotes:n})).data,reviewAppeal:async(t,e,n)=>(await Oe.post(`/admin/forum/flag/${t}/appeal/review`,{decision:e,adminNotes:n})).data,createPoll:async t=>(await Oe.post("/admin/forum/poll/create",t)).data,getPollAnalytics:async t=>(await Oe.get(`/admin/forum/poll/${t}/analytics`)).data,closePoll:async t=>(await Oe.put(`/admin/forum/poll/${t}/close`)).data},gFe=()=>{const[t,e]=Z.useState({title:"",description:"",category:"Urban Design",motivation:"",intent:""}),[n,i]=Z.useState(!1),[r,a]=Z.useState(""),s=Gi(),o=["Urban Design","Mobility","Heritage","Sustainability","Infrastructure","Housing","Policy","Technology","Other"],c=d=>{e({...t,[d.target.name]:d.target.value}),a("")};return m("div",{style:{maxWidth:"720px",margin:"0 auto",padding:"2rem 1rem"},children:[l("h1",{style:{fontSize:"1.75rem",fontWeight:"600",marginBottom:"1rem"},children:"Create Forum"}),r&&l("div",{style:{color:"red",marginBottom:"1rem"},children:r}),m("form",{onSubmit:async d=>{var h,f;if(d.preventDefault(),!t.title.trim()||!t.description.trim()){a("Title and description are required");return}try{i(!0);const p={title:t.title.trim(),description:t.description.trim(),category:t.category};t.motivation.trim()&&(p.motivation=t.motivation.trim()),t.intent.trim()&&(p.intent=t.intent.trim());const w=await CO.createForum(p);w!=null&&w.success?s("/forum"):a((w==null?void 0:w.message)||"Failed to create forum")}catch(p){console.error("Error creating forum:",p),a(((f=(h=p.response)==null?void 0:h.data)==null?void 0:f.message)||"Failed to create forum")}finally{i(!1)}},style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[m("div",{children:[l("label",{style:{display:"block",marginBottom:"0.25rem"},children:"Title"}),l("input",{type:"text",name:"title",value:t.title,onChange:c,style:{width:"100%",padding:"0.5rem",borderRadius:"4px",border:"1px solid #d1d5db"}})]}),m("div",{children:[l("label",{style:{display:"block",marginBottom:"0.25rem"},children:"Category"}),l("select",{name:"category",value:t.category,onChange:c,style:{width:"100%",padding:"0.5rem",borderRadius:"4px",border:"1px solid #d1d5db"},children:o.map(d=>l("option",{value:d,children:d},d))})]}),m("div",{children:[l("label",{style:{display:"block",marginBottom:"0.25rem"},children:"Description"}),l("textarea",{name:"description",value:t.description,onChange:c,rows:4,style:{width:"100%",padding:"0.5rem",borderRadius:"4px",border:"1px solid #d1d5db"}})]}),m("div",{children:[l("label",{style:{display:"block",marginBottom:"0.25rem"},children:"Motivation (optional)"}),l("textarea",{name:"motivation",value:t.motivation,onChange:c,rows:3,style:{width:"100%",padding:"0.5rem",borderRadius:"4px",border:"1px solid #d1d5db"}})]}),m("div",{children:[l("label",{style:{display:"block",marginBottom:"0.25rem"},children:"Intent (optional)"}),l("textarea",{name:"intent",value:t.intent,onChange:c,rows:3,style:{width:"100%",padding:"0.5rem",borderRadius:"4px",border:"1px solid #d1d5db"}})]}),m("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem"},children:[l("button",{type:"button",onClick:()=>s("/forum"),style:{padding:"0.5rem 1rem",borderRadius:"4px",border:"1px solid #d1d5db",background:"#fff",cursor:"pointer"},disabled:n,children:"Cancel"}),l("button",{type:"submit",style:{padding:"0.5rem 1rem",borderRadius:"4px",border:"none",background:"#524393",color:"#fff",cursor:"pointer"},disabled:n,children:n?"Submitting...":"Submit for Approval"})]})]})]})},yFe=()=>{const{forumId:t}=_N(),e=Gi(),[n,i]=Z.useState(null),[r,a]=Z.useState([]),[s,o]=Z.useState(!0),[c,u]=Z.useState("");Z.useEffect(()=>{t&&(async()=>{var f;try{o(!0);const[p,w]=await Promise.all([CO.getForum(t),CO.getQuestions(t)]);i((p==null?void 0:p.data)||(p==null?void 0:p.forum)||null),a(((f=w==null?void 0:w.data)==null?void 0:f.questions)||[])}catch(p){console.error("Error loading forum detail:",p),u("Failed to load forum.")}finally{o(!1)}})()},[t]);const d=()=>e("/forum");return s?l("div",{style:{padding:"2rem"},children:"Loading forum..."}):c?m("div",{style:{padding:"2rem"},children:[l("button",{onClick:d,style:{marginBottom:"1rem"},children:" Back"}),l("div",{style:{color:"red"},children:c})]}):n?m("div",{style:{maxWidth:"960px",margin:"0 auto",padding:"2rem 1rem"},children:[l("button",{onClick:d,style:{marginBottom:"1rem"},children:" Back to forums"}),l("h1",{style:{fontSize:"1.75rem",fontWeight:"600",marginBottom:"0.5rem"},children:n.title}),l("p",{style:{color:"#4b5563",marginBottom:"0.5rem"},children:n.description}),l("div",{style:{fontSize:"0.85rem",color:"#6b7280",marginBottom:"1.5rem"},children:n.category}),l("h2",{style:{fontSize:"1.25rem",fontWeight:"600",marginBottom:"0.75rem"},children:"Questions"}),r.length===0?l("p",{children:"No questions yet in this forum."}):l("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:r.map(h=>m("div",{style:{padding:"0.75rem 1rem",borderRadius:"6px",border:"1px solid #e5e7eb",background:"#fff"},children:[l("div",{style:{fontWeight:"600",marginBottom:"0.25rem"},children:h.title}),h.content&&l("p",{style:{fontSize:"0.9rem",color:"#4b5563",marginBottom:"0.25rem"},children:h.content.length>160?`${h.content.slice(0,160)}...`:h.content}),l("div",{style:{fontSize:"0.8rem",color:"#6b7280"},children:h.answerCount!=null&&m("span",{children:[h.answerCount," answers"]})})]},h._id||h.id))})]}):m("div",{style:{padding:"2rem"},children:[l("button",{onClick:d,style:{marginBottom:"1rem"},children:" Back"}),l("div",{children:"Forum not found."})]})};const vFe=async()=>{try{return(await Oe.get("/networking/connections/stats")).data}catch(t){return console.error("Error fetching connection stats:",t),{success:!0,stats:{connections:0,pendingRequests:0,sentRequests:0}}}},bFe=async()=>{try{return(await Oe.get("/networking/stats")).data}catch(t){return console.error("Error fetching networking stats:",t),{success:!0,stats:{groups:0,upcomingEvents:0,unreadMessages:0}}}},wFe=async()=>{try{return(await Oe.get("/networking/notifications/unread/count")).data}catch(t){return console.error("Error fetching unread notifications:",t),{success:!0,count:0}}},EO=async t=>{try{return(await Oe.post("/networking/connections/request",{userId:t})).data}catch(e){throw console.error("Error sending connection request:",e),e}},xFe=async t=>{try{return(await Oe.post(`/networking/connections/accept/${t}`)).data}catch(e){throw console.error("Error accepting connection request:",e),e}},_Fe=async t=>{try{return(await Oe.post(`/networking/connections/reject/${t}`)).data}catch(e){throw console.error("Error rejecting connection request:",e),e}},SFe=async t=>{try{return(await Oe.delete(`/networking/connections/${t}`)).data}catch(e){throw console.error("Error removing connection:",e),e}},AFe=async t=>{try{return(await Oe.post(`/networking/groups/${t}/join`)).data}catch(e){throw console.error("Error joining group:",e),e}},NFe=async(t="all",e=50,n=1)=>{try{return(await Oe.get("/networking/notifications",{params:{filter:t,limit:e,page:n}})).data}catch(i){throw console.error("Error fetching notifications:",i),i}},kFe=async()=>{try{return(await Oe.post("/networking/notifications/mark-all-read")).data}catch(t){throw console.error("Error marking all notifications as read:",t),t}},CFe=async t=>{try{return(await Oe.post(`/networking/notifications/${t}/read`)).data}catch(e){throw console.error("Error marking notification as read:",e),e}},EFe=async()=>{try{return(await Oe.get("/networking/messages/conversations")).data}catch(t){throw console.error("Error fetching conversations:",t),t}},TFe=async t=>{try{return(await Oe.get(`/networking/messages/${t}`)).data}catch(e){throw console.error("Error fetching messages:",e),e}},uX=async t=>{try{return(await Oe.post(`/networking/messages/${t}/read`)).data}catch(e){throw console.error("Error marking messages as read:",e),e}},DFe=async t=>{try{return(await Oe.post("/networking/messages",t)).data}catch(e){throw console.error("Error sending message:",e),e}},PFe=async(t={})=>{try{return(await Oe.get("/networking/jobs",{params:t})).data}catch(e){throw console.error("Error fetching jobs:",e),e}},IFe=async()=>{try{return(await Oe.get("/networking/jobs/applications")).data}catch(t){throw console.error("Error fetching applications:",t),t}},RFe=async()=>{try{return(await Oe.get("/networking/jobs/saved")).data}catch(t){throw console.error("Error fetching saved jobs:",t),t}},LFe=async(t,e)=>{try{return(await Oe.post(`/networking/jobs/${t}/apply`,e)).data}catch(n){throw console.error("Error applying to job:",n),n}},FFe=async t=>{try{return(await Oe.post(`/networking/jobs/${t}/toggle-save`)).data}catch(e){throw console.error("Error toggling save job:",e),e}},OFe=async()=>{try{return(await Oe.get("/networking/groups/my-groups")).data}catch(t){throw console.error("Error fetching my groups:",t),t}},UFe=async()=>{try{return(await Oe.get("/networking/groups/discover")).data}catch(t){throw console.error("Error fetching discover groups:",t),t}},MFe=async t=>{try{return(await Oe.post("/networking/groups",t)).data}catch(e){throw console.error("Error creating group:",e),e}},BFe=async()=>{try{return(await Oe.get("/networking/events/my-events")).data}catch(t){throw console.error("Error fetching my events:",t),t}},zFe=async()=>{try{return(await Oe.get("/networking/events/upcoming")).data}catch(t){throw console.error("Error fetching upcoming events:",t),t}},jFe=async t=>{try{return(await Oe.post("/networking/events",t)).data}catch(e){throw console.error("Error creating event:",e),e}};const $Fe=async t=>{try{return(await Oe.put("/profile",t)).data}catch(e){throw console.error("Error updating profile:",e),e}},WFe=async()=>{try{return(await Oe.get("/profile/stats")).data}catch(t){return console.error("Error fetching profile stats:",t),{success:!0,stats:{connections:0,posts:0,views:0}}}},qFe=({userRole:t,setUserRole:e})=>{const{user:n}=Hr();let i="User";n!=null&&n.displayName?i=n.displayName:n!=null&&n.firstName&&(i=n.firstName+(n.lastName?" "+n.lastName:""));const r=(n==null?void 0:n.photoURL)||"/api/placeholder/80/80",[a,s]=Z.useState(!1),[o,c]=Z.useState(!0),[u,d]=Z.useState({name:i,firstName:"",lastName:"",title:"",company:"",location:"",bio:"",profileViews:0,connections:0,postImpressions:0,profileStrength:0,linkedinUrl:"",verified:!1,skills:[],badges:[]}),[h,f]=Z.useState(!1);Z.useEffect(()=>{p()},[]);const p=async()=>{try{c(!0);const b=await WFe();b.success&&b.stats&&(d(g=>({...g,...b.stats,connections:b.stats.connections||0,postImpressions:b.stats.posts||0,profileViews:b.stats.views||0})),(b.stats.role==="premium"||b.stats.role==="admin")&&e(b.stats.role==="admin"?"premium":b.stats.role))}catch(b){console.error("Error fetching profile data:",b)}finally{c(!1)}},w=b=>b>=80?"#10b981":b>=60?"#3b82f6":b>=40?"#f59e0b":"#ef4444",v=async()=>{try{(await $Fe({firstName:u.firstName,lastName:u.lastName,position:u.title,organization:u.company,location:u.location,bio:u.bio,linkedinUrl:u.linkedinUrl,skills:u.skills})).success&&(s(!1),f(!0),sn.success("Profile updated successfully!"),await p(),setTimeout(()=>{f(!1)},3e3))}catch(b){console.error("Error updating profile:",b)}};return o?l("div",{className:"profile-section",children:l("div",{className:"profile-main-container",children:m("div",{className:"loading-container",children:[l("div",{className:"spinner"}),l("p",{children:"Loading profile..."})]})})}):m("div",{className:"profile-section",children:[h&&m("div",{className:"success-toast",children:[l(qC,{size:20}),l("span",{children:"Profile updated successfully!"})]}),m("div",{className:"profile-main-container",children:[m("div",{className:"profile-header",children:[m("div",{className:"profile-avatar",children:[l("img",{src:r,alt:u.name}),u.verified&&l("div",{className:"verified-badge",children:l(qC,{size:16})})]}),m("div",{className:"profile-info",children:[m("h2",{className:"profile-name",children:[u.name,u.verified&&l(c_,{size:18,className:"verify-icon"})]}),l("p",{className:"profile-title",children:u.title}),l("p",{className:"profile-company",children:u.company}),l("p",{className:"profile-location",children:u.location})]}),l("button",{className:"edit-profile-btn",onClick:()=>s(!0),children:l(l_,{size:16})})]}),l("div",{className:"profile-divider"}),m("div",{className:"profile-strength",children:[m("div",{className:"strength-header",children:[l("span",{className:"strength-label",children:"Profile Strength"}),m("span",{className:"strength-value",children:[u.profileStrength,"%"]})]}),l("div",{className:"strength-bar",children:l("div",{className:"strength-fill",style:{width:`${u.profileStrength}%`,backgroundColor:w(u.profileStrength)}})}),l("p",{className:"strength-tip",children:u.profileStrength>=80?" Your profile is looking great!":" Add more skills and endorsements to improve"})]}),l("div",{className:"profile-divider"}),m("div",{className:"custom-url",children:[l(CQ,{size:16}),l("span",{className:"url-text",children:u.linkedinUrl||"No LinkedIn profile added"})]}),l("div",{className:"profile-divider"}),u.badges.length>0&&m("div",{className:"profile-badges",children:[l("h4",{children:"Badges & Achievements"}),l("div",{className:"badges-list",children:u.badges.map((b,g)=>m("div",{className:"badge-item",children:[l(Rm,{size:16}),l("span",{children:b})]},g))})]}),u.badges.length>0&&l("div",{className:"profile-divider"}),m("div",{className:"profile-stats",children:[m("div",{className:"stat-item",children:[l(Pa,{size:18}),m("div",{className:"stat-info",children:[l("span",{className:"stat-value",children:u.profileViews}),l("span",{className:"stat-label",children:"Profile Views"})]})]}),m("div",{className:"stat-item",children:[l(Is,{size:18}),m("div",{className:"stat-info",children:[l("span",{className:"stat-value",children:u.connections}),l("span",{className:"stat-label",children:"Connections"})]})]}),m("div",{className:"stat-item",children:[l(cs,{size:18}),m("div",{className:"stat-info",children:[l("span",{className:"stat-value",children:u.postImpressions}),l("span",{className:"stat-label",children:"Post Impressions"})]})]})]}),l("div",{className:"profile-divider"}),m("div",{className:"profile-skills",children:[l("h4",{children:"Top Skills"}),u.skills&&u.skills.length>0?l("div",{className:"skills-list",children:u.skills.map((b,g)=>m("div",{className:"skill-item",children:[m("div",{className:"skill-header",children:[l("span",{className:"skill-name",children:b.name}),m("span",{className:"skill-endorsements",children:[l(ca,{size:14}),b.endorsements||0]})]}),l("div",{className:"skill-bar",children:l("div",{className:"skill-fill",style:{width:`${Math.min(b.endorsements/50*100,100)}%`}})})]},g))}):l("p",{className:"no-skills",children:"No skills added yet. Add skills to your profile!"})]}),l("div",{className:"profile-divider"}),m("div",{className:"role-switcher",children:[l("h4",{children:"View As:"}),m("div",{className:"role-buttons",children:[l("button",{className:`role-btn ${t==="professional"?"active":""}`,onClick:()=>e("professional"),children:"Professional"}),l("button",{className:`role-btn ${t==="recruiter"?"active":""}`,onClick:()=>e("recruiter"),children:"Recruiter"}),l("button",{className:`role-btn ${t==="premium"?"active":""}`,onClick:()=>e("premium"),children:"Premium"})]})]})]}),a&&Zce.createPortal(l("div",{className:"edit-modal-overlay",onClick:()=>s(!1),children:m("div",{className:"edit-modal",onClick:b=>b.stopPropagation(),children:[m("div",{className:"edit-modal-header",children:[l("h3",{children:"Edit Profile"}),l("button",{onClick:()=>s(!1),children:l(Fn,{size:24})})]}),m("div",{className:"edit-modal-body",children:[m("div",{className:"edit-field",children:[l("label",{children:"First Name"}),l("input",{type:"text",value:u.firstName,onChange:b=>d({...u,firstName:b.target.value}),placeholder:"Your first name"})]}),m("div",{className:"edit-field",children:[l("label",{children:"Last Name"}),l("input",{type:"text",value:u.lastName,onChange:b=>d({...u,lastName:b.target.value}),placeholder:"Your last name"})]}),m("div",{className:"edit-field",children:[l("label",{children:"Title"}),l("input",{type:"text",value:u.title,onChange:b=>d({...u,title:b.target.value}),placeholder:"Your professional title"})]}),m("div",{className:"edit-field",children:[l("label",{children:"Company"}),l("input",{type:"text",value:u.company,onChange:b=>d({...u,company:b.target.value}),placeholder:"Your company"})]}),m("div",{className:"edit-field",children:[l("label",{children:"Location"}),l("input",{type:"text",value:u.location,onChange:b=>d({...u,location:b.target.value}),placeholder:"Your location"})]}),m("div",{className:"edit-field",children:[l("label",{children:"LinkedIn URL"}),l("input",{type:"text",value:u.linkedinUrl,onChange:b=>d({...u,linkedinUrl:b.target.value}),placeholder:"https://linkedin.com/in/your-profile"})]}),m("div",{className:"edit-field",children:[l("label",{children:"Bio"}),l("textarea",{value:u.bio,onChange:b=>d({...u,bio:b.target.value}),placeholder:"Tell us about yourself...",rows:"4"})]})]}),m("div",{className:"edit-modal-footer",children:[l("button",{className:"cancel-btn",onClick:()=>s(!1),children:"Cancel"}),l("button",{className:"save-btn",onClick:v,children:"Save Changes"})]})]})}),document.body)]})};const Bse=({user:t,onClose:e,onFollow:n,onUnfollow:i,onConnect:r,onMessage:a})=>{const[s,o]=Z.useState(t.isFollowing||!1),[c,u]=Z.useState(t.connected||!1);if(!t)return null;const d=()=>{s?(i&&i(t.id),o(!1)):(n&&n(t.id),o(!0))},h=()=>{r&&r(t.id)},f=()=>{a&&a(t.id)},p=()=>{const w=t.email||`${t.name.toLowerCase().replace(/\s+/g,".")}@${t.company.toLowerCase().replace(/\s+/g,"")}.com`,v=encodeURIComponent("Connecting from Planning Insights"),b=encodeURIComponent(`Hi ${t.name.split(" ")[0]},

I'd like to connect with you on Planning Insights.

Best regards`);window.location.href=`mailto:${w}?subject=${v}&body=${b}`};return l("div",{className:"user-profile-modal-overlay",onClick:e,children:m("div",{className:"user-profile-modal",onClick:w=>w.stopPropagation(),children:[l("button",{className:"modal-close-btn",onClick:e,children:l(Fn,{size:24})}),m("div",{className:"profile-modal-header",children:[l("div",{className:"profile-banner"}),m("div",{className:"profile-header-content",children:[l("img",{src:t.avatar||"/api/placeholder/120/120",alt:t.name,className:"profile-large-avatar"}),m("div",{className:"profile-header-info",children:[l("h2",{children:t.name}),l("p",{className:"profile-modal-title",children:t.title}),m("p",{className:"profile-modal-company",children:[l(Ni,{size:16}),t.company]}),t.location&&m("p",{className:"profile-modal-location",children:[l(sr,{size:16}),t.location]}),l("div",{className:"profile-stats-mini",children:m("span",{children:[l(Zt,{size:14}),t.mutualConnections," mutual connections"]})})]})]})]}),m("div",{className:"profile-modal-actions",children:[c?m("button",{className:"btn-connected",disabled:!0,children:[l(XC,{size:18}),"Connected"]}):m("button",{className:"btn-primary",onClick:h,children:[l(_m,{size:18}),"Connect"]}),l("button",{className:`btn-follow ${s?"following":""}`,onClick:d,children:s?m(vt,{children:[l(XC,{size:18}),"Following"]}):m(vt,{children:[l(_m,{size:18}),"Follow"]})}),m("button",{className:"btn-message",onClick:f,children:[l(sc,{size:18}),"Message"]}),m("button",{className:"btn-more",onClick:p,children:[l(sw,{size:18}),"Email"]})]}),m("div",{className:"profile-modal-section",children:[l("h3",{children:"About"}),l("p",{className:"about-text",children:t.about||`${t.title} at ${t.company} with expertise in ${t.industry||"various areas"}. Passionate about innovation and growth.`})]}),t.experience&&m("div",{className:"profile-modal-section",children:[m("h3",{children:[l(Ni,{size:20}),"Experience"]}),l("div",{className:"experience-list",children:m("div",{className:"experience-item",children:[l("div",{className:"experience-icon",children:l(Ni,{size:24})}),m("div",{className:"experience-details",children:[l("h4",{children:t.title}),l("p",{className:"experience-company",children:t.company}),l("p",{className:"experience-duration",children:"2020 - Present  4 yrs"})]})]})})]}),t.skills&&t.skills.length>0&&m("div",{className:"profile-modal-section",children:[m("h3",{children:[l(Rm,{size:20}),"Skills"]}),l("div",{className:"skills-grid",children:t.skills.map((w,v)=>m("div",{className:"skill-item-modal",children:[l("span",{className:"skill-name",children:w}),t.endorsements&&m("span",{className:"skill-endorsements",children:[t.endorsements[v]||0," endorsements"]})]},v))})]}),m("div",{className:"profile-modal-section",children:[m("h3",{children:[l(cs,{size:20}),"Activity & Insights"]}),m("div",{className:"activity-stats",children:[m("div",{className:"activity-stat",children:[l("span",{className:"stat-label",children:"Profile Views"}),l("span",{className:"stat-value",children:Math.floor(Math.random()*500)+100})]}),m("div",{className:"activity-stat",children:[l("span",{className:"stat-label",children:"Post Impressions"}),l("span",{className:"stat-value",children:Math.floor(Math.random()*2e3)+500})]}),m("div",{className:"activity-stat",children:[l("span",{className:"stat-label",children:"Connections"}),l("span",{className:"stat-value",children:Math.floor(Math.random()*500)+100})]})]})]}),t.reason&&m("div",{className:"profile-modal-section",children:[m("h3",{children:["Why you might know ",t.name.split(" ")[0]]}),m("p",{className:"connection-reason",children:[l(cs,{size:16}),t.reason]})]})]})})},HFe=({onOpenMessaging:t})=>{const[e,n]=Z.useState("all"),[i,r]=Z.useState(""),[a,s]=Z.useState(null),[o,c]=Z.useState(!1),[u,d]=Z.useState(!0),[h,f]=Z.useState([]),[p,w]=Z.useState([]),[v,b]=Z.useState([]);Z.useEffect(()=>{g()},[]);const g=async()=>{d(!0);try{await Promise.all([y(),_(),S()])}catch(T){console.error("Error fetching networking data:",T),sn.error("Failed to load networking data")}finally{d(!1)}},y=async()=>{try{const T=await(void 0)();T.success&&f(T.connections||[])}catch(T){console.error("Error fetching connections:",T)}},_=async()=>{try{const T=await(void 0)();T.success&&w(T.requests||[])}catch(T){console.error("Error fetching pending requests:",T)}},S=async()=>{try{const T=await(void 0)(10);T.success&&b(T.suggestions||[])}catch(T){console.error("Error fetching suggestions:",T)}},N=async T=>{try{(await xFe(T)).success&&(sn.success("Connection request accepted!"),await y(),await _())}catch(z){console.error("Error accepting request:",z),sn.error("Failed to accept connection request")}},R=async T=>{try{(await _Fe(T)).success&&(sn.success("Connection request declined"),w(j=>j.filter(W=>W.id!==T)))}catch(z){console.error("Error rejecting request:",z),sn.error("Failed to decline connection request")}},D=async T=>{var z,j;try{(await EO(T,"connection")).success&&(sn.success("Connection request sent!"),b($=>$.filter(q=>q.userId!==T)))}catch(W){console.error("Error sending request:",W),sn.error(((j=(z=W.response)==null?void 0:z.data)==null?void 0:j.message)||"Failed to send connection request")}},E=T=>{s(T),c(!0)},C=async T=>{try{(await EO(T,"follow")).success&&(sn.success("Now following user"),await y(),b(j=>j.filter(W=>W.userId!==T)),a&&a.userId===T&&s({...a,isFollowing:!0,connected:!0}))}catch(z){console.error("Error following user:",z),sn.error("Failed to follow user")}},P=async T=>{try{(await SFe(T)).success&&(sn.success("Unfollowed user"),await y(),await S(),a&&s({...a,isFollowing:!1,connected:!1}))}catch(z){console.error("Error unfollowing user:",z),sn.error("Failed to unfollow user")}},k=async T=>{await D(T),c(!1)},A=T=>{console.log("Messaging user:",T),console.log("onOpenMessaging function exists:",!!t),c(!1),t?t(T):console.error("onOpenMessaging prop is not provided to ConnectionsPanel")},I=h.filter(T=>T.name.toLowerCase().includes(i.toLowerCase())||T.company.toLowerCase().includes(i.toLowerCase()));return u?l("div",{className:"connections-panel",children:m("div",{className:"loading-container",children:[l("div",{className:"spinner"}),l("p",{children:"Loading networking data..."})]})}):m("div",{className:"connections-panel",children:[m("div",{className:"connections-header",children:[m("h2",{children:[l(Zt,{size:24}),"My Network"]}),l("p",{className:"connections-subtitle",children:"Manage your professional connections and grow your network"})]}),m("div",{className:"connections-tabs",children:[m("button",{className:`tab-btn ${e==="all"?"active":""}`,onClick:()=>n("all"),children:["All Connections (",h.length,")"]}),m("button",{className:`tab-btn ${e==="requests"?"active":""}`,onClick:()=>n("requests"),children:["Requests (",p.length,")"]}),m("button",{className:`tab-btn ${e==="suggestions"?"active":""}`,onClick:()=>n("suggestions"),children:["People You May Know (",v.length,")"]})]}),e==="all"&&m("div",{className:"connections-controls",children:[m("div",{className:"search-box",children:[l(Ia,{size:18}),l("input",{type:"text",placeholder:"Search connections...",value:i,onChange:T=>r(T.target.value)})]}),m("button",{className:"filter-btn",children:[l(vc,{size:18}),"Filter"]})]}),m("div",{className:"connections-content",children:[e==="all"&&l("div",{className:"connections-grid",children:I.length===0?m("div",{className:"empty-state",children:[l(Zt,{size:48}),l("h3",{children:"No Connections Yet"}),l("p",{children:"Start building your network by connecting with professionals"}),l("button",{className:"btn-primary",onClick:()=>n("suggestions"),children:"Find People to Connect"})]}):I.map(T=>m("div",{className:"connection-card",children:[l("img",{src:T.avatar,alt:T.name,className:"connection-avatar"}),m("div",{className:"connection-info",children:[l("h3",{children:T.name}),l("p",{className:"connection-title",children:T.title}),m("p",{className:"connection-company",children:[l(Ni,{size:14}),T.company]}),T.mutualConnections>0&&m("p",{className:"mutual-connections",children:[T.mutualConnections," mutual connections"]})]}),m("div",{className:"connection-actions",children:[l("button",{className:`btn-follow ${T.isFollowing?"following":""}`,onClick:()=>T.isFollowing?P(T.id):C(T.userId),children:T.isFollowing?m(vt,{children:[l(XC,{size:14}),"Following"]}):m(vt,{children:[l(_m,{size:14}),"Follow"]})}),l("button",{className:"btn-message",onClick:()=>A(T.userId),children:"Message"}),l("button",{className:"btn-view-profile",onClick:()=>E(T),children:"View Profile"})]})]},T.id))}),e==="requests"&&l("div",{className:"requests-list",children:p.length===0?m("div",{className:"empty-state",children:[l(_m,{size:48}),l("h3",{children:"No Pending Requests"}),l("p",{children:"You don't have any connection requests at the moment"})]}):p.map(T=>m("div",{className:"request-card",children:[l("img",{src:T.avatar,alt:T.name,className:"request-avatar"}),m("div",{className:"request-info",children:[l("h3",{children:T.name}),l("p",{className:"request-title",children:T.title}),l("p",{className:"request-company",children:T.company}),T.mutualConnections>0&&m("p",{className:"mutual-connections",children:[T.mutualConnections," mutual connections"]}),l("p",{className:"request-date",children:new Date(T.requestDate).toLocaleDateString()})]}),m("div",{className:"request-actions",children:[m("button",{className:"btn-accept",onClick:()=>N(T.id),children:[l(XC,{size:16}),"Accept"]}),m("button",{className:"btn-reject",onClick:()=>R(T.id),children:[l(Txe,{size:16}),"Decline"]})]})]},T.id))}),e==="suggestions"&&l("div",{className:"suggestions-grid",children:v.length===0?m("div",{className:"empty-state",children:[l(cs,{size:48}),l("h3",{children:"No Suggestions Available"}),l("p",{children:"Check back later for new connection suggestions"})]}):v.map(T=>m("div",{className:"suggestion-card",children:[l("img",{src:T.avatar,alt:T.name,className:"suggestion-avatar"}),m("div",{className:"suggestion-info",children:[l("h3",{children:T.name}),l("p",{className:"suggestion-title",children:T.title}),l("p",{className:"suggestion-company",children:T.company}),m("p",{className:"suggestion-reason",children:[l(cs,{size:14}),T.reason]}),T.mutualConnections>0&&m("p",{className:"mutual-connections",children:[T.mutualConnections," mutual connections"]}),T.skills&&T.skills.length>0&&l("div",{className:"suggestion-skills",children:T.skills.map((z,j)=>l("span",{className:"skill-tag",children:z},j))})]}),m("div",{className:"suggestion-actions",children:[m("button",{className:"btn-connect",onClick:()=>D(T.userId),children:[l(_m,{size:16}),"Connect"]}),l("button",{className:"btn-view-profile-small",onClick:()=>E(T),children:"View Profile"})]})]},T.id))})]}),o&&a&&l(Bse,{user:a,onClose:()=>c(!1),onFollow:C,onUnfollow:P,onConnect:k,onMessage:A})]})};const VFe=({onClose:t,setUnreadCount:e,userId:n,currentUser:i={name:"You",avatar:"/api/placeholder/40/40"}})=>{const[r,a]=Z.useState(null),[s,o]=Z.useState(""),[c,u]=Z.useState(""),[d,h]=Z.useState(!1),[f,p]=Z.useState([]),[w,v]=Z.useState({}),[b,g]=Z.useState(!0),y=Z.useRef(null);Z.useEffect(()=>{_()},[]),Z.useEffect(()=>{N()},[r,w]),Z.useEffect(()=>{if(n&&f.length>0){const P=f.find(k=>k.id===n);P&&(a(P),S(P.id))}},[n,f]);const _=async()=>{try{g(!0);const P=await EFe();P.success&&p(P.conversations||[])}catch(P){console.error("Error fetching conversations:",P)}finally{g(!1)}},S=async P=>{try{const k=await TFe(P);k.success&&(v(A=>({...A,[P]:k.messages||[]})),await uX(P),p(A=>A.map(I=>I.id===P?{...I,unread:0}:I)))}catch(k){console.error("Error fetching messages:",k)}},N=()=>{var P;(P=y.current)==null||P.scrollIntoView({behavior:"smooth"})},R=async()=>{if(!s.trim()||!r)return;const P={id:`temp-${Date.now()}`,sender:"You",text:s,timestamp:new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),sent:!0,read:!1};v(A=>({...A,[r.id]:[...A[r.id]||[],P]}));const k=s;o("");try{const A=await DFe({recipientId:r.id,content:k,messageType:"text"});A.success&&(v(I=>({...I,[r.id]:[...(I[r.id]||[]).filter(T=>T.id!==P.id),A.message]})),await _())}catch(A){console.error("Error sending message:",A),v(I=>({...I,[r.id]:(I[r.id]||[]).filter(T=>T.id!==P.id)}))}},D=P=>{P.key==="Enter"&&!P.shiftKey&&(P.preventDefault(),R())},E=P=>{a(P),w[P.id]?(uX(P.id),p(k=>k.map(A=>A.id===P.id?{...A,unread:0}:A))):S(P.id)},C=f.filter(P=>P.name.toLowerCase().includes(c.toLowerCase()));return b?l("div",{className:"messaging-center-overlay",children:m("div",{className:"messaging-center",children:[m("div",{className:"messaging-header",children:[l("button",{className:"back-btn",onClick:t,children:l(hf,{size:20})}),l("h2",{children:"Messages"}),l("button",{className:"close-btn",onClick:t,children:l(Fn,{size:24})})]}),m("div",{className:"loading-container",children:[l("div",{className:"spinner"}),l("p",{children:"Loading messages..."})]})]})}):l("div",{className:"messaging-center-overlay",children:m("div",{className:"messaging-center",children:[m("div",{className:"messaging-header",children:[l("button",{className:"back-btn",onClick:t,title:"Back to Networking Arena",children:l(hf,{size:20})}),l("h2",{children:"Messages"}),l("button",{className:"close-btn",onClick:t,children:l(Fn,{size:24})})]}),m("div",{className:"messaging-body",children:[m("div",{className:"chats-list",children:[m("div",{className:"chats-search",children:[l(Ia,{size:18}),l("input",{type:"text",placeholder:"Search messages...",value:c,onChange:P=>u(P.target.value)})]}),l("div",{className:"chats-items",children:C.length>0?C.map(P=>m("div",{className:`chat-item ${(r==null?void 0:r.id)===P.id?"active":""}`,onClick:()=>E(P),children:[m("div",{className:"chat-avatar-wrapper",children:[l("img",{src:P.avatar,alt:P.name,className:"chat-avatar"}),P.online&&l("span",{className:"online-indicator"})]}),m("div",{className:"chat-info",children:[m("div",{className:"chat-header",children:[l("h4",{children:P.name}),l("span",{className:"chat-time",children:P.timestamp})]}),m("div",{className:"chat-preview",children:[l("p",{className:P.unread>0?"unread":"",children:P.lastMessage}),P.unread>0&&l("span",{className:"unread-badge",children:P.unread})]})]})]},P.id)):m("div",{className:"empty-chats",children:[l(sc,{size:48}),l("p",{children:"No conversations yet"}),l("span",{children:"Start connecting with people in your network"})]})})]}),l("div",{className:"chat-window",children:r?m(vt,{children:[m("div",{className:"chat-window-header",children:[m("div",{className:"chat-user-info",children:[l("img",{src:r.avatar,alt:r.name}),m("div",{children:[l("h3",{children:r.name}),l("span",{className:`status ${r.online?"online":"offline"}`,children:r.online?"Active now":"Offline"})]})]}),m("div",{className:"chat-actions",children:[l("button",{className:"chat-action-btn",children:l(HC,{size:20})}),l("button",{className:"chat-action-btn",children:l(oo,{size:20})}),l("button",{className:"chat-action-btn",children:l(Sxe,{size:20})})]})]}),m("div",{className:"messages-container",children:[w[r.id]&&w[r.id].length>0?w[r.id].map(P=>m("div",{className:`message ${P.sent?"sent":"received"}`,children:[!P.sent&&l("img",{src:r.avatar,alt:r.name,className:"message-avatar"}),m("div",{className:"message-bubble",children:[l("div",{className:"message-sender-name",children:P.sent?i.name:r.name}),m("div",{className:"message-content",children:[l("p",{children:P.text}),m("div",{className:"message-meta",children:[l("span",{className:"message-time",children:P.timestamp}),P.sent&&l("span",{className:"message-status",children:P.read?l(cxe,{size:14}):l(qC,{size:14})})]})]})]}),P.sent&&l("img",{src:i.avatar,alt:i.name,className:"message-avatar"})]},P.id)):m("div",{className:"empty-messages",children:[l(sc,{size:64}),l("p",{children:"No messages yet"}),l("span",{children:"Send a message to start the conversation"})]}),d&&m("div",{className:"typing-indicator",children:[l("img",{src:r.avatar,alt:"",className:"message-avatar"}),m("div",{className:"typing-dots",children:[l("span",{}),l("span",{}),l("span",{})]})]}),l("div",{ref:y})]}),m("div",{className:"message-input-container",children:[l("button",{className:"input-action-btn",children:l(EQ,{size:20})}),l("button",{className:"input-action-btn",children:l(Qh,{size:20})}),l("input",{type:"text",placeholder:"Type a message...",value:s,onChange:P=>o(P.target.value),onKeyPress:D}),l("button",{className:"input-action-btn",children:l(DQ,{size:20})}),l("button",{className:"send-btn",onClick:R,disabled:!s.trim(),children:l(BN,{size:20})})]})]}):l("div",{className:"no-chat-selected",children:l("p",{children:"Select a conversation to start messaging"})})})]})]})})},GFe=async(t={})=>{const{page:e=1,limit:n=10}=t;try{return(await Oe.get("/feed",{params:{page:e,limit:n}})).data}catch(i){return console.error("Error fetching feed posts:",i),{success:!0,posts:[],pagination:{page:e,pages:1,total:0}}}},XFe=GFe,KFe=async t=>{try{return(await Oe.post("/feed/posts",t)).data}catch(e){return console.error("Error creating post:",e),{success:!1,message:"Failed to create post"}}},YFe=async t=>{try{return(await Oe.delete(`/feed/posts/${t}`)).data}catch(e){return console.error("Error deleting post:",e),{success:!1,message:"Failed to delete post"}}},JFe=async t=>{try{return(await Oe.post(`/feed/posts/${t}/like`)).data}catch(e){return console.error("Error liking post:",e),{success:!1,message:"Failed to like post"}}},ZFe=async(t,e)=>{try{return(await Oe.post(`/feed/posts/${t}/comments`,{comment:e})).data}catch(n){throw console.error("Error commenting on post:",n),n}},QFe=async t=>{try{return(await Oe.get(`/feed/posts/${t}/comments`)).data}catch(e){return console.error("Error fetching post comments:",e),{success:!0,comments:[]}}},eOe=async(t,e)=>{try{return(await Oe.post(`/feed/posts/${t}/share`,e)).data}catch(n){throw console.error("Error sharing post:",n),n}},tOe=async t=>{try{return(await Oe.post(`/feed/posts/${t}/bookmark`)).data}catch(e){throw console.error("Error bookmarking post:",e),e}},nOe=QFe,iOe=ZFe,rOe=async(t,e)=>{try{return(await Oe.post(`/feed/posts/${t}/poll/vote`,{optionId:e})).data}catch(n){throw console.error("Error voting on poll:",n),n}};const dX=({userRole:t,currentUser:e})=>{const[n,i]=Z.useState(""),[r,a]=Z.useState("public"),[s,o]=Z.useState(!1),[c,u]=Z.useState({}),[d,h]=Z.useState({}),[f,p]=Z.useState({}),[w,v]=Z.useState("text"),[b,g]=Z.useState(null),[y,_]=Z.useState(["",""]),[S,N]=Z.useState(""),[R,D]=Z.useState(""),[E,C]=Z.useState({}),[P,k]=Z.useState([]),[A,I]=Z.useState(!0),[T,z]=Z.useState(1),[j,W]=Z.useState(!0);Z.useEffect(()=>{$()},[]);const $=async(ne=1)=>{try{I(!0);const te=await XFe({page:ne,limit:20});te.success&&(k(ne===1?te.posts:ae=>[...ae,...te.posts]),W(te.pagination.page<te.pagination.pages),z(ne))}catch(te){console.error("Error fetching feed:",te)}finally{I(!1)}};Z.useEffect(()=>{const ne=te=>{te.target.closest(".post-menu-wrapper")||C({})};return document.addEventListener("click",ne),()=>document.removeEventListener("click",ne)},[]);const q=async ne=>{try{k(P.map(ae=>ae.id===ne?{...ae,liked:!ae.liked,likes:ae.liked?ae.likes-1:ae.likes+1}:ae));const te=await JFe(ne);te.success&&k(P.map(ae=>ae.id===ne?{...ae,liked:te.liked,likes:te.likesCount}:ae))}catch(te){console.error("Error liking post:",te),k(P.map(ae=>ae.id===ne?{...ae,liked:!ae.liked,likes:ae.liked?ae.likes+1:ae.likes-1}:ae))}},G=async ne=>{try{k(P.map(ae=>ae.id===ne?{...ae,bookmarked:!ae.bookmarked}:ae));const te=await tOe(ne);te.success&&sn.success(te.bookmarked?"Post saved":"Post removed from saved")}catch(te){console.error("Error bookmarking post:",te),k(P.map(ae=>ae.id===ne?{...ae,bookmarked:!ae.bookmarked}:ae))}},B=async ne=>{const te=c[ne];if(u(ae=>({...ae,[ne]:!ae[ne]})),!te&&!f[ne])try{const ae=await nOe(ne);ae.success&&p(xe=>({...xe,[ne]:ae.comments}))}catch(ae){console.error("Error fetching comments:",ae)}},L=async ne=>{const te=d[ne];if(!(!te||!te.trim()))try{const ae=await iOe(ne,te);ae.success&&(p(xe=>({...xe,[ne]:[...xe[ne]||[],ae.comment]})),k(P.map(xe=>xe.id===ne?{...xe,comments:ae.commentsCount}:xe)),h(xe=>({...xe,[ne]:""})),sn.success("Comment added"))}catch(ae){console.error("Error adding comment:",ae)}},M=(ne,te)=>{p(ae=>{const xe=ae[ne]||[];return{...ae,[ne]:xe.map(Ce=>Ce.id===te?{...Ce,liked:!Ce.liked,likes:Ce.liked?Ce.likes-1:Ce.likes+1}:Ce)}})},K=async ne=>{try{const te=await eOe(ne);te.success&&(k(P.map(ae=>ae.id===ne?{...ae,shares:te.sharesCount}:ae)),sn.success("Post shared"))}catch(te){console.error("Error sharing post:",te)}},Q=async(ne,te)=>{var ae,xe;try{const Ce=await rOe(ne,te);Ce.success&&(k(P.map(_e=>_e.id===ne?{..._e,poll:Ce.poll}:_e)),sn.success("Vote recorded"))}catch(Ce){console.error("Error voting:",Ce),sn.error(((xe=(ae=Ce.response)==null?void 0:ae.data)==null?void 0:xe.message)||"Failed to vote")}},V=ne=>{C(te=>({...te,[ne]:!te[ne]}))},le=async ne=>{if(window.confirm("Are you sure you want to delete this post?"))try{(await YFe(ne)).success&&(k(P.filter(ae=>ae.id!==ne)),C({}),sn.success("Post deleted"))}catch(te){console.error("Error deleting post:",te)}},ge=ne=>{const te=P.find(ae=>ae.id===ne);te&&(i(te.content),o(!0),C({}))},ye=ne=>{sn.success("Post reported. Our team will review it shortly."),C({})},be=ne=>{const te=`${window.location.origin}/networking-arena/post/${ne}`;navigator.clipboard.writeText(te),sn.success("Link copied to clipboard"),C({})},Le=ne=>{v(ne),o(!0)},ue=async()=>{if(!(!n.trim()&&!b&&w!=="poll"))try{const ne={content:n,type:w,privacy:r};if(w==="poll"){const ae=y.filter(xe=>xe.trim());if(ae.length<2){sn.error("Poll must have at least 2 options");return}ne.poll={question:n,options:ae}}if(w==="article"){if(!S||!R){sn.error("Article title and link are required");return}ne.article={title:S,link:R}}const te=await KFe(ne);te.success&&(k([te.post,...P]),i(""),o(!1),v("text"),g(null),_(["",""]),N(""),D(""),sn.success("Post created successfully"))}catch(ne){console.error("Error creating post:",ne)}},ke=ne=>{const te=ne.target.files[0];te&&g(te)},X=()=>{y.length<6&&_([...y,""])},re=(ne,te)=>{const ae=[...y];ae[ne]=te,_(ae)},Ee=ne=>{y.length>2&&_(y.filter((te,ae)=>ae!==ne))};return m("div",{className:"feed-section",children:[m("div",{className:"create-post-card",children:[m("div",{className:"create-post-header",children:[l("img",{src:"/api/placeholder/50/50",alt:"You",className:"user-avatar"}),l("button",{className:"create-post-input",onClick:()=>o(!0),children:"Start a post..."})]}),m("div",{className:"create-post-actions",children:[m("button",{className:"post-action-btn",onClick:()=>Le("image"),children:[l(Qh,{size:20,className:"action-icon photo"}),"Photo"]}),m("button",{className:"post-action-btn",onClick:()=>Le("video"),children:[l(oo,{size:20,className:"action-icon video"}),"Video"]}),m("button",{className:"post-action-btn",onClick:()=>Le("article"),children:[l(xn,{size:20,className:"action-icon article"}),"Article"]}),m("button",{className:"post-action-btn",onClick:()=>Le("poll"),children:[l(axe,{size:20,className:"action-icon poll"}),"Poll"]})]})]}),s&&l("div",{className:"create-post-modal-overlay",children:m("div",{className:"create-post-modal",children:[m("div",{className:"modal-header",children:[l("h3",{children:"Create a post"}),l("button",{onClick:()=>o(!1),children:l(Fn,{size:24})})]}),m("div",{className:"modal-body",children:[m("div",{className:"post-author-info",children:[l("img",{src:"/api/placeholder/50/50",alt:"You"}),m("div",{children:[l("h4",{children:"Your Name"}),m("select",{value:r,onChange:ne=>a(ne.target.value),className:"privacy-select",children:[l("option",{value:"public",children:" Public"}),l("option",{value:"connections",children:" Connections only"}),l("option",{value:"private",children:" Only me"})]})]})]}),l("textarea",{placeholder:w==="poll"?"Ask a question...":"What do you want to talk about?",value:n,onChange:ne=>i(ne.target.value),autoFocus:!0}),w==="image"&&m("div",{className:"media-upload-section",children:[l("input",{type:"file",accept:"image/*",onChange:ke,id:"photo-upload",style:{display:"none"}}),m("label",{htmlFor:"photo-upload",className:"upload-label",children:[l(Qh,{size:48}),l("span",{children:"Click to upload a photo"})]}),b&&m("div",{className:"media-preview",children:[l("img",{src:URL.createObjectURL(b),alt:"Preview"}),l("button",{onClick:()=>g(null),className:"remove-media",children:l(Fn,{size:20})})]})]}),w==="video"&&m("div",{className:"media-upload-section",children:[l("input",{type:"file",accept:"video/*",onChange:ke,id:"video-upload",style:{display:"none"}}),m("label",{htmlFor:"video-upload",className:"upload-label",children:[l(oo,{size:48}),l("span",{children:"Click to upload a video"})]}),b&&m("div",{className:"media-preview",children:[l("video",{src:URL.createObjectURL(b),controls:!0}),l("button",{onClick:()=>g(null),className:"remove-media",children:l(Fn,{size:20})})]})]}),w==="article"&&m("div",{className:"article-input-section",children:[l("input",{type:"text",placeholder:"Article Title",value:S,onChange:ne=>N(ne.target.value),className:"article-title-input"}),l("input",{type:"url",placeholder:"Article Link (https://...)",value:R,onChange:ne=>D(ne.target.value),className:"article-link-input"})]}),w==="poll"&&m("div",{className:"poll-options-section",children:[l("h4",{children:"Poll Options"}),y.map((ne,te)=>m("div",{className:"poll-option-input",children:[l("input",{type:"text",placeholder:`Option ${te+1}`,value:ne,onChange:ae=>re(te,ae.target.value)}),y.length>2&&l("button",{onClick:()=>Ee(te),className:"remove-option",children:l(Fn,{size:18})})]},te)),y.length<6&&l("button",{onClick:X,className:"add-poll-option",children:"+ Add Option"})]}),m("div",{className:"post-options",children:[l("button",{className:"option-btn",children:l(DQ,{size:20})}),l("button",{className:"option-btn",children:l(Qh,{size:20})}),l("button",{className:"option-btn",children:l(oo,{size:20})}),l("button",{className:"option-btn",children:l(xn,{size:20})})]})]}),l("div",{className:"modal-footer",children:l("button",{className:"post-btn",onClick:ue,disabled:!n.trim(),children:"Post"})})]})}),m("div",{className:"feed-sort",children:[l("div",{className:"sort-divider"}),m("div",{className:"sort-options",children:[l("button",{className:"sort-btn active",children:"Recent"}),l("button",{className:"sort-btn",children:"Top"}),l("button",{className:"sort-btn",children:"Following"})]}),l("div",{className:"sort-divider"})]}),l("div",{className:"posts-feed",children:A&&P.length===0?l("div",{className:"loading-state",children:l("p",{children:"Loading feed..."})}):P.length===0?l("div",{className:"empty-state",children:l("p",{children:"No posts yet. Start by creating your first post!"})}):m(vt,{children:[P.map(ne=>m("div",{className:"post-card",children:[m("div",{className:"post-header",children:[l("img",{src:ne.avatar,alt:ne.author,className:"post-avatar"}),m("div",{className:"post-author-info",children:[l("h4",{children:ne.author}),l("p",{className:"author-title",children:ne.title}),l("p",{className:"post-timestamp",children:ne.timestamp})]}),m("div",{className:"post-menu-wrapper",children:[l("button",{className:"post-menu-btn",onClick:()=>V(ne.id),children:l(_xe,{size:20})}),E[ne.id]&&m("div",{className:"post-menu-dropdown",children:[ne.author===((e==null?void 0:e.name)||"Manish D Gavali")&&m(vt,{children:[m("button",{className:"menu-item",onClick:()=>ge(ne.id),children:[l(l_,{size:16}),l("span",{children:"Edit Post"})]}),m("button",{className:"menu-item delete",onClick:()=>le(ne.id),children:[l(ny,{size:16}),l("span",{children:"Delete Post"})]}),l("div",{className:"menu-divider"})]}),m("button",{className:"menu-item",onClick:()=>G(ne.id),children:[l(WC,{size:16}),l("span",{children:ne.bookmarked?"Remove Bookmark":"Save Post"})]}),m("button",{className:"menu-item",onClick:()=>be(ne.id),children:[l(fxe,{size:16}),l("span",{children:"Copy Link"})]}),l("div",{className:"menu-divider"}),m("button",{className:"menu-item report",onClick:()=>ye(ne.id),children:[l(NQ,{size:16}),l("span",{children:"Report Post"})]})]})]})]}),m("div",{className:"post-content",children:[l("p",{children:ne.content}),ne.type==="image"&&ne.image&&l("img",{src:ne.image,alt:"Post content",className:"post-image"}),ne.type==="video"&&ne.video&&l("video",{src:ne.video,controls:!0,className:"post-video"}),ne.type==="article"&&ne.article&&l("a",{href:ne.article.link,target:"_blank",rel:"noopener noreferrer",className:"post-article",children:m("div",{className:"article-preview",children:[l("div",{className:"article-icon",children:l(xn,{size:24})}),m("div",{className:"article-details",children:[l("h4",{children:ne.article.title}),l("p",{className:"article-link",children:new URL(ne.article.link).hostname})]})]})}),ne.type==="poll"&&ne.poll&&m("div",{className:"post-poll",children:[l("h4",{children:ne.poll.question}),l("div",{className:"poll-options",children:ne.poll.options.map(te=>m("div",{className:`poll-option ${ne.poll.userVoted===te.id?"voted":""} ${ne.poll.userVoted?"":"clickable"}`,onClick:()=>!ne.poll.userVoted&&Q(ne.id,te.id),children:[l("div",{className:"poll-option-bar",style:{width:`${te.percentage}%`}}),m("div",{className:"poll-option-content",children:[l("span",{className:"option-text",children:te.text}),m("span",{className:"option-percentage",children:[te.percentage,"%"]})]})]},te.id))}),m("p",{className:"poll-votes",children:[ne.poll.totalVotes," votes  ",ne.poll.userVoted?"You voted":"Click to vote"]})]})]}),m("div",{className:"post-stats",children:[m("div",{className:"reactions-summary",children:[m("div",{className:"reaction-icons",children:[l("span",{className:"reaction-emoji",children:""}),l("span",{className:"reaction-emoji",children:""}),l("span",{className:"reaction-emoji",children:""})]}),l("span",{className:"reactions-count",children:ne.likes})]}),m("div",{className:"post-stats-right",children:[m("span",{className:"clickable-stat",onClick:()=>B(ne.id),children:[ne.comments," comments"]}),l("span",{className:"stat-divider",children:""}),m("span",{className:"clickable-stat",onClick:()=>K(ne.id),children:[ne.shares," shares"]})]})]}),m("div",{className:"post-actions",children:[m("button",{className:`action-btn ${ne.liked?"liked":""}`,onClick:()=>q(ne.id),children:[l(ow,{size:20}),"Like"]}),m("button",{className:"action-btn",onClick:()=>B(ne.id),children:[l(sc,{size:20}),"Comment"]}),m("button",{className:"action-btn",onClick:()=>K(ne.id),children:[l(Ew,{size:20}),"Share"]}),m("button",{className:`action-btn ${ne.bookmarked?"bookmarked":""}`,onClick:()=>G(ne.id),children:[l(WC,{size:20}),"Save"]})]}),c[ne.id]&&m("div",{className:"comments-section",children:[f[ne.id]&&f[ne.id].length>0&&l("div",{className:"comments-list",children:f[ne.id].map(te=>m("div",{className:"comment-item",children:[l("img",{src:te.avatar,alt:te.author,className:"comment-avatar"}),m("div",{className:"comment-content",children:[m("div",{className:"comment-header",children:[l("span",{className:"comment-author",children:te.author}),l("span",{className:"comment-timestamp",children:te.timestamp})]}),l("p",{className:"comment-text",children:te.text}),m("div",{className:"comment-actions",children:[m("button",{className:`comment-like-btn ${te.liked?"liked":""}`,onClick:()=>M(ne.id,te.id),children:[l(ow,{size:14}),te.likes>0&&l("span",{children:te.likes})]}),l("button",{className:"comment-reply-btn",children:"Reply"})]})]})]},te.id))}),m("div",{className:"add-comment",children:[l("img",{src:"/api/placeholder/40/40",alt:"You",className:"comment-avatar"}),m("div",{className:"comment-input-wrapper",children:[l("input",{type:"text",placeholder:"Add a comment...",value:d[ne.id]||"",onChange:te=>h(ae=>({...ae,[ne.id]:te.target.value})),onKeyPress:te=>{te.key==="Enter"&&L(ne.id)}}),l("button",{className:"comment-send-btn",onClick:()=>L(ne.id),disabled:!d[ne.id]||!d[ne.id].trim(),children:l(BN,{size:18})})]})]})]})]},ne.id)),j&&l("div",{className:"load-more-container",children:l("button",{className:"load-more-btn",onClick:()=>$(T+1),disabled:A,children:A?"Loading...":"Load More"})})]})}),l("button",{className:"load-more-btn",children:"Load more posts"})]})};const aOe=({isOpen:t,onClose:e,onCreateGroup:n})=>{const[i,r]=Z.useState({name:"",description:"",privacy:"public",category:"technology",rules:""}),a=c=>{const{name:u,value:d}=c.target;r(h=>({...h,[u]:d}))},s=c=>{c.preventDefault();const u={id:Date.now(),name:i.name,description:i.description,privacy:i.privacy,category:i.category,members:1,image:"/api/placeholder/100/100",unreadPosts:0,role:"admin"};n(u),o()},o=()=>{r({name:"",description:"",privacy:"public",category:"technology",rules:""}),e()};return t?l("div",{className:"create-group-modal-overlay",onClick:o,children:m("div",{className:"create-group-modal",onClick:c=>c.stopPropagation(),children:[m("div",{className:"modal-header",children:[m("h2",{children:[l(Zt,{size:24}),"Create New Group"]}),l("button",{className:"close-btn",onClick:o,children:l(Fn,{size:24})})]}),m("form",{onSubmit:s,className:"group-form",children:[m("div",{className:"form-group",children:[m("label",{children:[l(xn,{size:18}),"Group Name *"]}),l("input",{type:"text",name:"name",value:i.name,onChange:a,placeholder:"Enter group name",required:!0})]}),m("div",{className:"form-group",children:[m("label",{children:[l(xn,{size:18}),"Description *"]}),l("textarea",{name:"description",value:i.description,onChange:a,placeholder:"Describe what your group is about...",rows:4,required:!0})]}),m("div",{className:"form-group",children:[l("label",{children:"Privacy Setting *"}),m("div",{className:"privacy-selector",children:[m("label",{className:`privacy-option ${i.privacy==="public"?"active":""}`,children:[l("input",{type:"radio",name:"privacy",value:"public",checked:i.privacy==="public",onChange:a}),l(j0,{size:18}),m("div",{className:"privacy-info",children:[l("span",{className:"privacy-title",children:"Public"}),l("span",{className:"privacy-desc",children:"Anyone can find and join"})]})]}),m("label",{className:`privacy-option ${i.privacy==="private"?"active":""}`,children:[l("input",{type:"radio",name:"privacy",value:"private",checked:i.privacy==="private",onChange:a}),l(aw,{size:18}),m("div",{className:"privacy-info",children:[l("span",{className:"privacy-title",children:"Private"}),l("span",{className:"privacy-desc",children:"Requires approval to join"})]})]})]})]}),m("div",{className:"form-group",children:[m("label",{children:[l(xn,{size:18}),"Category *"]}),m("select",{name:"category",value:i.category,onChange:a,required:!0,children:[l("option",{value:"technology",children:"Technology"}),l("option",{value:"business",children:"Business"}),l("option",{value:"design",children:"Design"}),l("option",{value:"marketing",children:"Marketing"}),l("option",{value:"education",children:"Education"}),l("option",{value:"healthcare",children:"Healthcare"}),l("option",{value:"finance",children:"Finance"}),l("option",{value:"other",children:"Other"})]})]}),m("div",{className:"form-group",children:[m("label",{children:[l(xn,{size:18}),"Group Rules (Optional)"]}),l("textarea",{name:"rules",value:i.rules,onChange:a,placeholder:"Set guidelines for your group members...",rows:3})]}),m("div",{className:"form-actions",children:[l("button",{type:"button",className:"btn-cancel",onClick:o,children:"Cancel"}),m("button",{type:"submit",className:"btn-create",children:[l(Zt,{size:18}),"Create Group"]})]})]})]})}):null};const sOe=({isOpen:t,onClose:e,group:n,isJoined:i})=>{const[r,a]=Z.useState("about");if(!t||!n)return null;const s=[{id:1,author:"John Doe",content:"Great discussion about the latest updates!",likes:24,comments:8,time:"2 hours ago"},{id:2,author:"Jane Smith",content:"Looking forward to the next meetup!",likes:15,comments:5,time:"5 hours ago"}],o=[{id:1,name:"John Doe",role:"Admin",avatar:"/api/placeholder/40/40"},{id:2,name:"Jane Smith",role:"Moderator",avatar:"/api/placeholder/40/40"},{id:3,name:"Mike Johnson",role:"Member",avatar:"/api/placeholder/40/40"},{id:4,name:"Sarah Williams",role:"Member",avatar:"/api/placeholder/40/40"}];return l("div",{className:"group-details-modal-overlay",onClick:e,children:m("div",{className:"group-details-modal",onClick:c=>c.stopPropagation(),children:[m("button",{className:"back-btn",onClick:e,children:[l(hf,{size:20}),"Back to Groups"]}),m("div",{className:"group-details-header",children:[l("img",{src:n.image,alt:n.name,className:"group-header-image"}),l("div",{className:"group-header-overlay",children:l("div",{className:"group-header-content",children:m("div",{className:"group-title-section",children:[l("h1",{children:n.name}),m("div",{className:"group-meta",children:[n.privacy==="private"?m("span",{className:"privacy-badge private",children:[l(aw,{size:16}),"Private Group"]}):m("span",{className:"privacy-badge public",children:[l(j0,{size:16}),"Public Group"]}),m("span",{className:"members-badge",children:[l(Zt,{size:16}),n.members.toLocaleString()," members"]}),n.role&&m("span",{className:"role-badge",children:[l(SU,{size:16}),n.role]})]})]})})})]}),m("div",{className:"group-actions-bar",children:[l("div",{className:"primary-actions",children:i?m(vt,{children:[m("button",{className:"btn-action primary",children:[l(sc,{size:18}),"Discuss"]}),m("button",{className:"btn-action secondary",children:[l(MN,{size:18}),"Notifications"]})]}):m("button",{className:"btn-action primary",children:[l(Zt,{size:18}),"Join Group"]})}),m("div",{className:"secondary-actions",children:[l("button",{className:"icon-btn",children:l(Ew,{size:18})}),n.role==="admin"&&l("button",{className:"icon-btn",children:l(VC,{size:18})})]})]}),m("div",{className:"group-tabs",children:[l("button",{className:`tab-btn ${r==="about"?"active":""}`,onClick:()=>a("about"),children:"About"}),m("button",{className:`tab-btn ${r==="posts"?"active":""}`,onClick:()=>a("posts"),children:["Posts",n.unreadPosts>0&&l("span",{className:"tab-badge",children:n.unreadPosts})]}),l("button",{className:`tab-btn ${r==="members"?"active":""}`,onClick:()=>a("members"),children:"Members"})]}),m("div",{className:"group-details-content",children:[r==="about"&&m("div",{className:"about-section",children:[m("div",{className:"info-card",children:[l("h3",{children:"About This Group"}),l("p",{children:n.description}),m("p",{children:["This group brings together professionals who are passionate about ",n.name.toLowerCase(),". Join us to share insights, ask questions, and connect with like-minded individuals from around the world."]})]}),m("div",{className:"info-card",children:[l("h3",{children:"Group Stats"}),m("div",{className:"stats-grid",children:[m("div",{className:"stat-item",children:[l(Zt,{size:24}),m("div",{className:"stat-info",children:[l("span",{className:"stat-value",children:n.members.toLocaleString()}),l("span",{className:"stat-label",children:"Members"})]})]}),m("div",{className:"stat-item",children:[l(sc,{size:24}),m("div",{className:"stat-info",children:[l("span",{className:"stat-value",children:"234"}),l("span",{className:"stat-label",children:"Posts"})]})]}),m("div",{className:"stat-item",children:[l(cs,{size:24}),m("div",{className:"stat-info",children:[m("span",{className:"stat-value",children:["+",Math.floor(n.members*.05)]}),l("span",{className:"stat-label",children:"This Week"})]})]})]})]}),m("div",{className:"info-card",children:[l("h3",{children:"Group Rules"}),m("ul",{className:"rules-list",children:[l("li",{children:"Be respectful and professional at all times"}),l("li",{children:"No spam or self-promotion without permission"}),l("li",{children:"Stay on topic and contribute meaningfully"}),l("li",{children:"Help others and share your knowledge"})]})]})]}),r==="posts"&&l("div",{className:"posts-section",children:s.map(c=>m("div",{className:"post-card",children:[m("div",{className:"post-author",children:[l("div",{className:"author-avatar"}),m("div",{className:"author-info",children:[l("span",{className:"author-name",children:c.author}),l("span",{className:"post-time",children:c.time})]})]}),l("p",{className:"post-content",children:c.content}),m("div",{className:"post-stats",children:[m("span",{children:[c.likes," likes"]}),m("span",{children:[c.comments," comments"]})]})]},c.id))}),r==="members"&&l("div",{className:"members-section",children:l("div",{className:"members-list",children:o.map(c=>m("div",{className:"member-card",children:[l("img",{src:c.avatar,alt:c.name,className:"member-avatar"}),m("div",{className:"member-info",children:[l("span",{className:"member-name",children:c.name}),l("span",{className:"member-role",children:c.role})]}),l("button",{className:"btn-message",children:"Message"})]},c.id))})})]})]})})},oOe=()=>{const[t,e]=Z.useState("myGroups"),[n,i]=Z.useState(""),[r,a]=Z.useState(!1),[s,o]=Z.useState(!1),[c,u]=Z.useState(null),[d,h]=Z.useState([]),[f,p]=Z.useState([]),[w,v]=Z.useState(!0);Z.useEffect(()=>{b()},[]);const b=async()=>{try{v(!0);const[S,N]=await Promise.all([OFe(),UFe()]);S.success&&h(S.groups),N.success&&p(N.groups)}catch(S){console.error("Error fetching groups:",S)}finally{v(!1)}},g=async S=>{try{const N=await MFe(S);N.success&&(h(R=>[N.group,...R]),sn.success("Group created successfully"))}catch(N){console.error("Error creating group:",N)}},y=S=>{u(S),o(!0)},_=async S=>{try{if((await AFe(S)).success){const R=f.find(D=>D.id===S);if(R){const D={...R,role:"member",unreadPosts:0};h(E=>[D,...E]),p(E=>E.filter(C=>C.id!==S))}sn.success("Joined group successfully")}}catch(N){console.error("Error joining group:",N)}};return m("div",{className:"groups-panel",children:[m("div",{className:"groups-header",children:[m("h2",{children:[l(Zt,{size:24}),"Groups"]}),m("button",{className:"create-group-btn",onClick:()=>a(!0),children:[l(ru,{size:20}),"Create Group"]})]}),m("div",{className:"groups-search",children:[l(Ia,{size:18}),l("input",{type:"text",placeholder:"Search groups...",value:n,onChange:S=>i(S.target.value)})]}),m("div",{className:"groups-tabs",children:[m("button",{className:`tab-btn ${t==="myGroups"?"active":""}`,onClick:()=>e("myGroups"),children:["My Groups (",d.length,")"]}),l("button",{className:`tab-btn ${t==="discover"?"active":""}`,onClick:()=>e("discover"),children:"Discover"})]}),l("div",{className:"groups-content",children:w?l("div",{className:"loading-state",children:l("p",{children:"Loading groups..."})}):t==="myGroups"?l("div",{className:"groups-list",children:d.length===0?m("div",{className:"empty-state",children:[l(Zt,{size:48}),l("p",{children:"You haven't joined any groups yet"}),l("button",{className:"create-group-btn",onClick:()=>a(!0),children:"Create Your First Group"})]}):d.map(S=>m("div",{className:"group-card",children:[l("img",{src:S.image,alt:S.name,className:"group-image"}),m("div",{className:"group-info",children:[m("div",{className:"group-header",children:[l("h3",{children:S.name}),m("div",{className:"group-badges",children:[S.privacy==="private"?l(aw,{size:16,className:"privacy-icon"}):l(j0,{size:16,className:"privacy-icon"}),S.role==="admin"&&l(SU,{size:16,className:"role-icon"})]})]}),l("p",{className:"group-description",children:S.description}),m("div",{className:"group-stats",children:[m("span",{className:"members-count",children:[l(Zt,{size:14}),S.members.toLocaleString()," members"]}),S.unreadPosts>0&&m("span",{className:"unread-badge",children:[S.unreadPosts," new posts"]})]})]}),m("div",{className:"group-actions",children:[l("button",{className:"btn-view-group",onClick:()=>y(S),children:"View Group"}),S.role==="admin"&&l("button",{className:"btn-icon",children:l(VC,{size:18})})]})]},S.id))}):m("div",{className:"discover-groups",children:[l("div",{className:"discover-header",children:m("h3",{children:[l(cs,{size:20}),"Trending Groups"]})}),f.length===0?l("div",{className:"empty-state",children:l("p",{children:"No new groups to discover"})}):l("div",{className:"groups-grid",children:f.map(S=>m("div",{className:"discover-group-card",children:[l("img",{src:S.image,alt:S.name,className:"group-image"}),S.trending&&m("div",{className:"trending-badge",children:[l(cs,{size:14}),"Trending"]}),m("div",{className:"group-info",children:[l("h3",{children:S.name}),l("p",{className:"group-description",children:S.description}),m("div",{className:"group-stats",children:[m("span",{className:"members-count",children:[l(Zt,{size:14}),S.members.toLocaleString()," members"]}),S.privacy==="private"?l(aw,{size:14,className:"privacy-icon"}):l(j0,{size:14,className:"privacy-icon"})]})]}),m("button",{className:"btn-join-group",onClick:()=>_(S.id),children:[l(ru,{size:16}),"Join Group"]})]},S.id))})]})}),l(aOe,{isOpen:r,onClose:()=>a(!1),onCreateGroup:g}),l(sOe,{isOpen:s,onClose:()=>o(!1),group:c,isJoined:c&&d.some(S=>S.id===c.id)})]})};const lOe=({isOpen:t,onClose:e,onCreateEvent:n})=>{const[i,r]=Z.useState({title:"",description:"",date:"",startTime:"",endTime:"",location:"",eventType:"in-person",maxAttendees:"",image:""}),a=c=>{const{name:u,value:d}=c.target;r(h=>({...h,[u]:d}))},s=c=>{c.preventDefault();const u={id:Date.now(),title:i.title,description:i.description,date:new Date(i.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),time:`${i.startTime} - ${i.endTime}`,location:i.location,type:i.eventType,attendees:0,image:"/api/placeholder/400/200",rsvp:null,organizer:"You",maxAttendees:parseInt(i.maxAttendees)||null};n(u),o()},o=()=>{r({title:"",description:"",date:"",startTime:"",endTime:"",location:"",eventType:"in-person",maxAttendees:"",image:""}),e()};return t?l("div",{className:"create-event-modal-overlay",onClick:o,children:m("div",{className:"create-event-modal",onClick:c=>c.stopPropagation(),children:[m("div",{className:"modal-header",children:[m("h2",{children:[l(ua,{size:24}),"Create New Event"]}),l("button",{className:"close-btn",onClick:o,children:l(Fn,{size:24})})]}),m("form",{onSubmit:s,className:"event-form",children:[m("div",{className:"form-group",children:[m("label",{children:[l(xn,{size:18}),"Event Title *"]}),l("input",{type:"text",name:"title",value:i.title,onChange:a,placeholder:"Enter event title",required:!0})]}),m("div",{className:"form-group",children:[m("label",{children:[l(xn,{size:18}),"Description *"]}),l("textarea",{name:"description",value:i.description,onChange:a,placeholder:"Describe your event...",rows:4,required:!0})]}),m("div",{className:"form-row",children:[m("div",{className:"form-group",children:[m("label",{children:[l(ua,{size:18}),"Date *"]}),l("input",{type:"date",name:"date",value:i.date,onChange:a,required:!0})]}),m("div",{className:"form-group",children:[m("label",{children:[l(ar,{size:18}),"Start Time *"]}),l("input",{type:"time",name:"startTime",value:i.startTime,onChange:a,required:!0})]}),m("div",{className:"form-group",children:[m("label",{children:[l(ar,{size:18}),"End Time *"]}),l("input",{type:"time",name:"endTime",value:i.endTime,onChange:a,required:!0})]})]}),m("div",{className:"form-group",children:[l("label",{children:"Event Type *"}),m("div",{className:"event-type-selector",children:[m("label",{className:`type-option ${i.eventType==="in-person"?"active":""}`,children:[l("input",{type:"radio",name:"eventType",value:"in-person",checked:i.eventType==="in-person",onChange:a}),l(sr,{size:18}),"In-Person"]}),m("label",{className:`type-option ${i.eventType==="virtual"?"active":""}`,children:[l("input",{type:"radio",name:"eventType",value:"virtual",checked:i.eventType==="virtual",onChange:a}),l(oo,{size:18}),"Virtual"]})]})]}),m("div",{className:"form-group",children:[m("label",{children:[i.eventType==="virtual"?l(oo,{size:18}):l(sr,{size:18}),i.eventType==="virtual"?"Meeting Link *":"Location *"]}),l("input",{type:"text",name:"location",value:i.location,onChange:a,placeholder:i.eventType==="virtual"?"https://meet.example.com/event":"Enter venue address",required:!0})]}),m("div",{className:"form-group",children:[m("label",{children:[l(Zt,{size:18}),"Max Attendees (Optional)"]}),l("input",{type:"number",name:"maxAttendees",value:i.maxAttendees,onChange:a,placeholder:"Leave empty for unlimited",min:"1"})]}),m("div",{className:"form-actions",children:[l("button",{type:"button",className:"btn-cancel",onClick:o,children:"Cancel"}),m("button",{type:"submit",className:"btn-create",children:[l(ua,{size:18}),"Create Event"]})]})]})]})}):null};const cOe=({isOpen:t,onClose:e,event:n,onRSVP:i})=>{if(!t||!n)return null;const r=a=>{i(n.id,a)};return l("div",{className:"event-details-modal-overlay",onClick:e,children:m("div",{className:"event-details-modal",onClick:a=>a.stopPropagation(),children:[m("button",{className:"back-btn",onClick:e,children:[l(hf,{size:20}),"Back to Events"]}),m("div",{className:"event-details-image-wrapper",children:[l("img",{src:n.image,alt:n.title,className:"event-details-image"}),l("div",{className:"event-type-badge-large",children:n.type==="virtual"?m(vt,{children:[l(oo,{size:18}),"Virtual Event"]}):m(vt,{children:[l(sr,{size:18}),"In-Person Event"]})})]}),m("div",{className:"event-details-content",children:[m("div",{className:"event-details-header",children:[l("h1",{children:n.title}),m("p",{className:"event-organizer-info",children:["Organized by ",l("strong",{children:n.organizer})]})]}),m("div",{className:"event-quick-info",children:[m("div",{className:"info-item",children:[l("div",{className:"info-icon",children:l(ua,{size:20})}),m("div",{className:"info-content",children:[l("span",{className:"info-label",children:"Date"}),l("span",{className:"info-value",children:n.date})]})]}),m("div",{className:"info-item",children:[l("div",{className:"info-icon",children:l(ar,{size:20})}),m("div",{className:"info-content",children:[l("span",{className:"info-label",children:"Time"}),l("span",{className:"info-value",children:n.time})]})]}),m("div",{className:"info-item",children:[l("div",{className:"info-icon",children:n.type==="virtual"?l(oo,{size:20}):l(sr,{size:20})}),m("div",{className:"info-content",children:[l("span",{className:"info-label",children:n.type==="virtual"?"Platform":"Location"}),l("span",{className:"info-value",children:n.location})]})]}),m("div",{className:"info-item",children:[l("div",{className:"info-icon",children:l(Zt,{size:20})}),m("div",{className:"info-content",children:[l("span",{className:"info-label",children:"Attendees"}),m("span",{className:"info-value",children:[n.attendees," going"]})]})]})]}),m("div",{className:"event-description-section",children:[l("h3",{children:"About This Event"}),l("p",{children:n.description}),l("p",{children:"Join us for an exciting event where professionals from various industries come together to learn, network, and share insights. This event promises to be engaging with expert speakers, interactive sessions, and plenty of networking opportunities."})]}),m("div",{className:"event-additional-info",children:[l("h3",{children:"Event Details"}),m("div",{className:"detail-list",children:[m("div",{className:"detail-row",children:[l("span",{className:"detail-label",children:"Category:"}),l("span",{className:"detail-value",children:"Technology & Innovation"})]}),m("div",{className:"detail-row",children:[l("span",{className:"detail-label",children:"Language:"}),l("span",{className:"detail-value",children:"English"})]}),m("div",{className:"detail-row",children:[l("span",{className:"detail-label",children:"Registration Deadline:"}),l("span",{className:"detail-value",children:n.date})]}),n.maxAttendees&&m("div",{className:"detail-row",children:[l("span",{className:"detail-label",children:"Max Capacity:"}),m("span",{className:"detail-value",children:[n.maxAttendees," people"]})]})]})]}),m("div",{className:"event-details-actions",children:[l("div",{className:"rsvp-actions",children:n.rsvp==="going"?l("button",{className:"btn-rsvp-large going",children:" You're Going"}):n.rsvp==="interested"?m(vt,{children:[l("button",{className:"btn-rsvp-large interested",children:" Interested"}),l("button",{className:"btn-rsvp-large secondary",onClick:()=>r("going"),children:"Confirm Going"})]}):m(vt,{children:[l("button",{className:"btn-rsvp-large primary",onClick:()=>r("going"),children:"RSVP - I'm Going"}),l("button",{className:"btn-rsvp-large secondary",onClick:()=>r("interested"),children:"Mark as Interested"})]})}),m("div",{className:"secondary-actions",children:[l("button",{className:"icon-btn",title:"Share Event",children:l(Ew,{size:20})}),l("button",{className:"icon-btn",title:"Save Event",children:l(WC,{size:20})}),n.type==="virtual"&&l("button",{className:"icon-btn",title:"Add to Calendar",children:l(ua,{size:20})})]})]})]})]})})},uOe=()=>{const[t,e]=Z.useState("upcoming"),[n,i]=Z.useState(""),[r,a]=Z.useState(!1),[s,o]=Z.useState(!1),[c,u]=Z.useState(null),[d,h]=Z.useState([]),[f,p]=Z.useState([]),[w,v]=Z.useState(!0);Z.useEffect(()=>{b()},[]);const b=async()=>{try{v(!0);const[E,C]=await Promise.all([BFe(),zFe()]);E.success&&h(E.events),C.success&&p(C.events)}catch(E){console.error("Error fetching events:",E)}finally{v(!1)}},g=E=>new Date(E).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),y=(E,C)=>{const P=new Date(E),k=new Date(C);return`${P.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})} - ${k.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}`},_=async E=>{try{const C=await jFe(E);C.success&&(h(P=>[C.event,...P]),sn.success("Event created successfully"))}catch(C){console.error("Error creating event:",C)}},S=E=>{u(E),o(!0)},N=async E=>{try{if((await(void 0)(E)).success){const P=f.find(k=>k.id===E);P&&(h(k=>[{...P,status:"registered"},...k]),p(k=>k.filter(A=>A.id!==E))),sn.success("Registered for event successfully")}}catch(C){console.error("Error registering for event:",C)}},R=async E=>{try{(await(void 0)(E)).success&&(h(P=>P.filter(k=>k.id!==E)),sn.success("Registration cancelled"))}catch(C){console.error("Error cancelling registration:",C)}},D=t==="upcoming"?[...d,...f]:d.filter(E=>new Date(E.endDate)<new Date);return m("div",{className:"events-section",children:[m("div",{className:"events-header",children:[m("h2",{children:[l(ua,{size:24}),"Events"]}),m("button",{className:"create-event-btn",onClick:()=>a(!0),children:[l(ru,{size:20}),"Create Event"]})]}),m("div",{className:"events-controls",children:[m("div",{className:"search-box",children:[l(Ia,{size:18}),l("input",{type:"text",placeholder:"Search events...",value:n,onChange:E=>i(E.target.value)})]}),m("button",{className:"filter-btn",children:[l(vc,{size:18}),"Filter"]})]}),m("div",{className:"events-tabs",children:[m("button",{className:`tab-btn ${t==="upcoming"?"active":""}`,onClick:()=>e("upcoming"),children:["Upcoming (",[...d,...f].length,")"]}),l("button",{className:`tab-btn ${t==="past"?"active":""}`,onClick:()=>e("past"),children:"Past Events"}),l("button",{className:`tab-btn ${t==="calendar"?"active":""}`,onClick:()=>e("calendar"),children:"Calendar View"})]}),l("div",{className:"events-content",children:w?l("div",{className:"loading-state",children:l("p",{children:"Loading events..."})}):t==="upcoming"?l("div",{className:"events-list",children:D.length===0?m("div",{className:"empty-state",children:[l(ua,{size:48}),l("p",{children:"No upcoming events"}),l("button",{className:"create-event-btn",onClick:()=>a(!0),children:"Create Your First Event"})]}):D.map(E=>{var P,k,A,I,T,z;const C=d.some(j=>j.id===E.id);return m("div",{className:"event-card",children:[m("div",{className:"event-info",children:[l("div",{className:"event-type-badge",children:E.mode==="online"?m(vt,{children:[l(oo,{size:14}),"Virtual"]}):E.mode==="offline"?m(vt,{children:[l(sr,{size:14}),"In-Person"]}):m(vt,{children:[l(sr,{size:14}),"Hybrid"]})}),l("h3",{children:E.title}),l("p",{className:"event-description",children:E.description}),m("div",{className:"event-details",children:[m("div",{className:"detail-item",children:[l(ua,{size:16}),l("span",{children:g(E.startDate)})]}),m("div",{className:"detail-item",children:[l(ar,{size:16}),l("span",{children:y(E.startDate,E.endDate)})]}),l("div",{className:"detail-item",children:E.mode==="online"?m(vt,{children:[l(oo,{size:16}),l("span",{children:"Virtual Event"})]}):m(vt,{children:[l(sr,{size:16}),l("span",{children:((P=E.location)==null?void 0:P.city)||((k=E.location)==null?void 0:k.venue)||"In-Person"})]})}),m("div",{className:"detail-item",children:[l(Zt,{size:16}),m("span",{children:[E.attendees," attendees"]})]})]}),l("div",{className:"event-organizer",children:m("span",{children:["Organized by ",(I=(A=E.organizer)==null?void 0:A.profile)==null?void 0:I.firstName," ",(z=(T=E.organizer)==null?void 0:T.profile)==null?void 0:z.lastName]})})]}),m("div",{className:"event-actions",children:[l("button",{className:"btn-view-details",onClick:()=>S(E),children:"View Details"}),C?l("button",{className:"btn-cancel-rsvp",onClick:()=>R(E.id),children:"Cancel"}):l("button",{className:"btn-rsvp-going",onClick:()=>N(E.id),children:"Register"})]})]},E.id)})}):t==="past"?l("div",{className:"events-list",children:D.length===0?l("div",{className:"empty-state",children:l("p",{children:"No past events"})}):D.map(E=>l("div",{className:"event-card",children:m("div",{className:"event-info",children:[l("h3",{children:E.title}),m("div",{className:"event-details",children:[m("div",{className:"detail-item",children:[l(ua,{size:16}),l("span",{children:g(E.startDate)})]}),m("div",{className:"detail-item",children:[l(Zt,{size:16}),m("span",{children:[E.attendees," attended"]})]})]})]})},E.id))}):l("div",{className:"calendar-view",children:l("p",{children:"Calendar view coming soon..."})})}),l(lOe,{isOpen:r,onClose:()=>a(!1),onCreateEvent:_}),l(cOe,{isOpen:s,onClose:()=>o(!1),event:c})]})};const dOe=({userRole:t})=>{const[e,n]=Z.useState("browse"),[i,r]=Z.useState(""),[a,s]=Z.useState(""),[o,c]=Z.useState([]),[u,d]=Z.useState([]),[h,f]=Z.useState([]),[p,w]=Z.useState(!1),[v,b]=Z.useState({type:[],remote:!1,minSalary:null,maxSalary:null});Z.useEffect(()=>{e==="browse"?g():e==="applications"?y():e==="saved"&&_()},[e]);const g=async()=>{try{w(!0);const C={search:i||void 0,location:a||void 0,type:v.type.length>0?v.type.join(","):void 0,remote:v.remote||void 0,minSalary:v.minSalary||void 0,maxSalary:v.maxSalary||void 0},P=await PFe(C);P.success&&c(P.jobs)}catch(C){console.error("Error fetching jobs:",C)}finally{w(!1)}},y=async()=>{try{w(!0);const C=await IFe();C.success&&d(C.applications)}catch(C){console.error("Error fetching applications:",C)}finally{w(!1)}},_=async()=>{try{w(!0);const C=await RFe();C.success&&f(C.jobs)}catch(C){console.error("Error fetching saved jobs:",C)}finally{w(!1)}},S=()=>{e==="browse"&&g()},N=async C=>{try{const P=await LFe(C,{resume:"",coverLetter:""});P.success&&(sn.success(P.message||"Application submitted successfully"),c(o.map(k=>k.id===C?{...k,hasApplied:!0}:k)))}catch(P){console.error("Error applying to job:",P)}},R=async C=>{try{const P=await FFe(C);P.success&&(sn.success(P.message),e==="browse"?g():e==="saved"&&_())}catch(P){console.error("Error saving job:",P),sn.error("Failed to save job")}},D=(C,P)=>{b(k=>{if(C==="type"){const A=k.type.includes(P)?k.type.filter(I=>I!==P):[...k.type,P];return{...k,type:A}}return{...k,[C]:P}})},E=()=>{g()};return m("div",{className:"job-postings",children:[m("div",{className:"jobs-header",children:[m("h2",{children:[l(Ni,{size:24}),"Job Opportunities"]}),t==="recruiter"&&m("button",{className:"post-job-btn",children:[l(ru,{size:20}),"Post a Job"]})]}),m("div",{className:"jobs-search-bar",children:[m("div",{className:"search-input-group",children:[l(Ia,{size:20}),l("input",{type:"text",placeholder:"Search jobs, companies, or keywords...",value:i,onChange:C=>r(C.target.value),onKeyPress:C=>C.key==="Enter"&&S()})]}),m("div",{className:"search-input-group",children:[l(sr,{size:20}),l("input",{type:"text",placeholder:"Location",value:a,onChange:C=>s(C.target.value),onKeyPress:C=>C.key==="Enter"&&S()})]}),l("button",{className:"search-btn",onClick:S,children:"Search"}),l("button",{className:"filter-btn",children:l(vc,{size:20})})]}),m("div",{className:"jobs-tabs",children:[l("button",{className:`tab-btn ${e==="browse"?"active":""}`,onClick:()=>n("browse"),children:"Browse Jobs"}),m("button",{className:`tab-btn ${e==="applications"?"active":""}`,onClick:()=>n("applications"),children:["My Applications (",u.length,")"]}),m("button",{className:`tab-btn ${e==="saved"?"active":""}`,onClick:()=>n("saved"),children:["Saved Jobs (",h.length,")"]})]}),l("div",{className:"jobs-content",children:p?m("div",{className:"loading-state",children:[l("div",{className:"spinner"}),l("p",{children:"Loading jobs..."})]}):m(vt,{children:[e==="browse"&&m("div",{className:"jobs-browse",children:[m("div",{className:"jobs-filters",children:[m("div",{className:"filter-section",children:[l("h4",{children:"Job Type"}),m("label",{className:"filter-checkbox",children:[l("input",{type:"checkbox",checked:v.type.includes("full-time"),onChange:()=>D("type","full-time")}),l("span",{children:"Full-time"})]}),m("label",{className:"filter-checkbox",children:[l("input",{type:"checkbox",checked:v.type.includes("part-time"),onChange:()=>D("type","part-time")}),l("span",{children:"Part-time"})]}),m("label",{className:"filter-checkbox",children:[l("input",{type:"checkbox",checked:v.type.includes("contract"),onChange:()=>D("type","contract")}),l("span",{children:"Contract"})]}),m("label",{className:"filter-checkbox",children:[l("input",{type:"checkbox",checked:v.remote,onChange:()=>D("remote",!v.remote)}),l("span",{children:"Remote"})]})]}),m("div",{className:"filter-section",children:[l("h4",{children:"Experience Level"}),m("label",{className:"filter-checkbox",children:[l("input",{type:"checkbox"}),l("span",{children:"Entry Level"})]}),m("label",{className:"filter-checkbox",children:[l("input",{type:"checkbox"}),l("span",{children:"Mid Level"})]}),m("label",{className:"filter-checkbox",children:[l("input",{type:"checkbox"}),l("span",{children:"Senior Level"})]})]}),m("div",{className:"filter-section",children:[l("h4",{children:"Salary Range"}),l("input",{type:"range",min:"0",max:"200",className:"salary-slider",onChange:C=>D("maxSalary",C.target.value*1e3)}),m("div",{className:"salary-range",children:[l("span",{children:"$0k"}),l("span",{children:"$200k+"})]})]}),l("button",{className:"apply-filters-btn",onClick:E,children:"Apply Filters"})]}),l("div",{className:"jobs-list",children:o.length===0?m("div",{className:"empty-state",children:[l(Ni,{size:48}),l("p",{children:"No jobs found"}),l("p",{className:"empty-subtitle",children:"Try adjusting your search or filters"})]}):o.map(C=>{var P,k;return m("div",{className:"job-card",children:[C.featured&&m("div",{className:"featured-badge",children:[l(cs,{size:14}),"Featured"]}),m("div",{className:"job-card-header",children:[l("img",{src:((k=(P=C.postedBy)==null?void 0:P.profile)==null?void 0:k.avatar)||"/api/placeholder/60/60",alt:C.company,className:"company-logo"}),m("div",{className:"job-info",children:[l("h3",{children:C.title}),l("p",{className:"company-name",children:C.company}),m("div",{className:"job-meta",children:[m("span",{children:[l(sr,{size:14}),C.location]}),m("span",{children:[l(ar,{size:14}),C.type]}),m("span",{children:[l(kW,{size:14}),C.salary]})]})]})]}),l("p",{className:"job-description",children:C.description}),C.skills&&C.skills.length>0&&l("div",{className:"job-skills",children:C.skills.map((A,I)=>l("span",{className:"skill-tag",children:A},I))}),m("div",{className:"job-footer",children:[m("div",{className:"job-stats",children:[m("span",{children:[l(Pa,{size:14}),C.views," views"]}),m("span",{children:[l(Zt,{size:14}),C.applicants," applicants"]}),l("span",{className:"posted-time",children:C.posted})]}),m("div",{className:"job-actions",children:[l("button",{className:"btn-save",onClick:()=>R(C.id),children:"Save"}),l("button",{className:"btn-apply",onClick:()=>N(C.id),disabled:C.hasApplied,children:C.hasApplied?"Applied":"Apply Now"})]})]})]},C.id)})})]}),e==="applications"&&m("div",{className:"applications-list",children:[m("div",{className:"applications-header",children:[l("h3",{children:"Your Applications"}),l("p",{children:"Track the status of your job applications"})]}),u.length===0?m("div",{className:"empty-state",children:[l(Ni,{size:48}),l("p",{children:"No applications yet"}),l("p",{className:"empty-subtitle",children:"Start applying to jobs to see them here"})]}):u.map(C=>m("div",{className:"application-card",children:[m("div",{className:"application-info",children:[l("h4",{children:C.jobTitle}),l("p",{className:"company-name",children:C.company}),m("p",{className:"applied-date",children:["Applied on ",new Date(C.appliedDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]})]}),l("div",{className:"application-status",children:l("span",{className:`status-badge ${C.statusColor}`,children:C.status})}),l("button",{className:"btn-view",children:"View Details"})]},C.id))]}),e==="saved"&&l("div",{className:"saved-jobs-list",children:h.length===0?m("div",{className:"saved-jobs-placeholder",children:[l(Ni,{size:48}),l("p",{children:"No saved jobs yet"}),l("p",{className:"placeholder-subtitle",children:"Save jobs you're interested in to view them later"})]}):l("div",{className:"jobs-list",children:h.map(C=>m("div",{className:"job-card",children:[m("div",{className:"job-card-header",children:[l("img",{src:C.logo||"/api/placeholder/60/60",alt:C.company,className:"company-logo"}),m("div",{className:"job-info",children:[l("h3",{children:C.title}),l("p",{className:"company-name",children:C.company}),m("div",{className:"job-meta",children:[m("span",{children:[l(sr,{size:14}),C.location]}),m("span",{children:[l(ar,{size:14}),C.type]}),m("span",{children:[l(kW,{size:14}),C.salary]})]})]})]}),m("div",{className:"job-footer",children:[m("div",{className:"job-stats",children:[m("span",{children:[l(Zt,{size:14}),C.applicants," applicants"]}),l("span",{className:"posted-time",children:C.posted})]}),m("div",{className:"job-actions",children:[l("button",{className:"btn-remove",onClick:()=>R(C.id),children:"Remove"}),l("button",{className:"btn-apply",onClick:()=>N(C.id),children:"Apply Now"})]})]})]},C.id))})})]})})]})};const hOe=({onClose:t,setUnreadCount:e})=>{console.log("NotificationCenter rendered!");const[n,i]=Z.useState("all"),[r,a]=Z.useState([]),[s,o]=Z.useState(!1),[c,u]=Z.useState(0);Z.useEffect(()=>{d()},[n]);const d=async()=>{try{o(!0);const g=await NFe(n,50,1);if(g&&g.success){a(g.notifications||[]);const y=(g.notifications||[]).filter(_=>!_.read).length;u(y)}else a([]),u(0)}catch(g){console.error("Error fetching notifications:",g),a([]),u(0)}finally{o(!1)}},h=g=>({connection:_m,message:sc,like:ow,comment:ow,view:Pa,job:Ni,group:Zt,event:ua,system:Pa})[g]||Pa,f=g=>{const y=new Date(g),S=new Date-y,N=Math.floor(S/6e4),R=Math.floor(S/36e5),D=Math.floor(S/864e5);return N<1?"Just now":N<60?`${N} minute${N>1?"s":""} ago`:R<24?`${R} hour${R>1?"s":""} ago`:D<7?`${D} day${D>1?"s":""} ago`:y.toLocaleDateString()},p=[{value:"all",label:"All Notifications"},{value:"connection",label:"Connections"},{value:"message",label:"Messages"},{value:"like",label:"Interactions"},{value:"job",label:"Jobs"},{value:"event",label:"Events"},{value:"group",label:"Groups"}],w=async()=>{try{(await kFe()).success&&(a(y=>y.map(_=>({..._,read:!0}))),u(0),e&&e(0),sn.success("All notifications marked as read"))}catch(g){console.error("Error marking all as read:",g),sn.error("Failed to mark notifications as read")}},v=async g=>{if(!g.read)try{await CFe(g.id),a(y=>y.map(_=>_.id===g.id?{..._,read:!0}:_)),u(y=>Math.max(0,y-1)),e&&e(y=>Math.max(0,y-1))}catch(y){console.error("Error marking notification as read:",y)}g.link&&(window.location.href=g.link)},b=g=>({connection:"#3b82f6",message:"#10b981",like:"#f59e0b",comment:"#f59e0b",view:"#8b5cf6",job:"#ef4444",group:"#06b6d4",event:"#ec4899",system:"#6b7280"})[g]||"#6b7280";return l("div",{className:"notification-center-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(66, 153, 225, 0.8)",display:"flex",alignItems:"flex-start",justifyContent:"flex-end",padding:"80px 20px 20px",zIndex:9999},children:m("div",{className:"notification-center",style:{width:"100%",maxWidth:"450px",background:"#FFFFFF",borderRadius:"24px",boxShadow:"0 20px 60px rgba(66, 153, 225, 0.4)",display:"flex",flexDirection:"column",border:"3px solid #4299e1",overflow:"hidden",maxHeight:"calc(100vh - 100px)"},children:[m("div",{className:"notification-header",style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1.5rem",borderBottom:"2px solid #4299e1",background:"linear-gradient(135deg, #4299e1, #3b82f6)",color:"#FFFFFF"},children:[m("div",{className:"header-left",style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[l("button",{className:"back-btn",onClick:t,title:"Back to Networking Arena",style:{padding:"0.5rem",background:"rgba(255, 255, 255, 0.2)",border:"none",borderRadius:"50%",color:"#FFFFFF",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:l(hf,{size:20})}),l("h2",{style:{fontSize:"1.25rem",fontWeight:"700",margin:0,color:"#FFFFFF"},children:"Notifications"}),!s&&c>0&&m("span",{className:"unread-count-badge",children:[c," new"]})]}),l("button",{className:"close-btn",onClick:t,style:{padding:"0.5rem",background:"rgba(255, 255, 255, 0.2)",border:"none",borderRadius:"50%",color:"#FFFFFF",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:l(Fn,{size:24})})]}),s?m("div",{className:"loading-container",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"4rem 2rem",minHeight:"400px"},children:[l("div",{className:"spinner",style:{width:"48px",height:"48px",border:"4px solid rgba(66, 153, 225, 0.2)",borderTopColor:"#4299e1",borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"1rem"}}),l("p",{style:{color:"#64748b",fontSize:"0.9375rem",margin:0},children:"Loading notifications..."})]}):m(vt,{children:[m("div",{className:"notification-actions",children:[m("div",{className:"filter-dropdown",children:[l(vc,{size:16}),l("select",{value:n,onChange:g=>i(g.target.value),children:p.map(g=>l("option",{value:g.value,children:g.label},g.value))})]}),c>0&&l("button",{className:"mark-read-btn",onClick:w,children:"Mark all as read"})]}),l("div",{className:"notifications-list",children:r.length>0?r.map(g=>{const y=h(g.type);return m("div",{className:`notification-item ${g.read?"":"unread"}`,onClick:()=>v(g),style:{cursor:g.link?"pointer":"default"},children:[l("div",{className:"notification-icon",style:{backgroundColor:b(g.type)},children:l(y,{size:20})}),g.avatar&&l("img",{src:g.avatar,alt:"",className:"notification-avatar"}),m("div",{className:"notification-content",children:[l("h4",{children:g.title}),l("p",{children:g.message}),l("span",{className:"notification-time",children:f(g.timestamp)})]}),!g.read&&l("div",{className:"notification-dot"})]},g.id)}):m("div",{className:"no-notifications",style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"4rem 2rem",textAlign:"center",minHeight:"400px"},children:[l("div",{className:"empty-notification-icon",style:{width:"96px",height:"96px",borderRadius:"50%",background:"linear-gradient(145deg, #f5f8fb, #e8ecf0)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1.5rem",boxShadow:"0 8px 16px rgba(66, 153, 225, 0.1), inset 0 -2px 8px rgba(0, 0, 0, 0.05)"},children:l(MN,{size:48,style:{color:"#4299e1",opacity:.4}})}),l("h3",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1e293b",margin:"0 0 0.5rem 0"},children:"No Notifications"}),l("p",{style:{fontSize:"0.9375rem",color:"#64748b",margin:0,maxWidth:"300px"},children:"You're all caught up! Check back later for new updates."})]})})]})]})})};const fOe=({onClose:t,userRole:e,onOpenMessaging:n})=>{const[i,r]=Z.useState("people"),[a,s]=Z.useState(""),[o,c]=Z.useState(null),[u,d]=Z.useState(!1),[h,f]=Z.useState(!1),[p,w]=Z.useState({location:"",industry:"",experience:"",skills:"",education:"",company:""}),[v,b]=Z.useState([]),g=["Technology","Finance","Healthcare","Education","Manufacturing","Retail","Consulting","Media"],y=["Entry Level (0-2 years)","Mid Level (3-5 years)","Senior (6-10 years)","Expert (10+ years)"];Z.useEffect(()=>{const P=setTimeout(()=>{a.trim()||Object.values(p).some(k=>k)?_():b([])},500);return()=>clearTimeout(P)},[a,p,i]);const _=async()=>{try{f(!0);let P;switch(i){case"people":P=await(void 0)(a,p);break;case"jobs":P=await(void 0)(a,{location:p.location,type:p.type,experience:p.experience});break;case"companies":P=await(void 0)(a,{industry:p.industry,location:p.location});break;default:P={success:!0,results:[]}}P.success&&b(P.results||[])}catch(P){console.error("Search error:",P),sn.error("Failed to perform search"),b([])}finally{f(!1)}},S=()=>{w({location:"",industry:"",experience:"",skills:"",education:"",company:""}),s(""),b([])},N=P=>{c(P),d(!0)},R=P=>{console.log("Following user:",P),b(k=>k.map(A=>A.id===P?{...A,isFollowing:!0}:A)),o&&o.id===P&&c({...o,isFollowing:!0})},D=P=>{console.log("Unfollowing user:",P),b(k=>k.map(A=>A.id===P?{...A,isFollowing:!1}:A)),o&&o.id===P&&c({...o,isFollowing:!1})},E=async P=>{try{(await EO(P)).success&&(b(A=>A.map(I=>I.id===P?{...I,connected:!0}:I)),sn.success("Connection request sent"),d(!1))}catch(k){console.error("Error sending connection request:",k),sn.error("Failed to send connection request")}},C=P=>{console.log("Messaging user:",P),d(!1),n&&n(P)};return m("div",{className:"advanced-search-overlay",children:[m("div",{className:"advanced-search-modal",children:[m("div",{className:"search-modal-header",children:[m("button",{className:"back-btn",onClick:t,title:"Back to Networking Arena",children:[l(hf,{size:20}),l("span",{children:"Back"})]}),m("h2",{children:[l(Ia,{size:24}),"Advanced Search"]})]}),m("div",{className:"search-type-tabs",children:[m("button",{className:`type-tab ${i==="people"?"active":""}`,onClick:()=>r("people"),children:[l(Zt,{size:18}),"People"]}),m("button",{className:`type-tab ${i==="jobs"?"active":""}`,onClick:()=>r("jobs"),children:[l(Ni,{size:18}),"Jobs"]}),m("button",{className:`type-tab ${i==="companies"?"active":""}`,onClick:()=>r("companies"),children:[l(D5,{size:18}),"Companies"]}),m("button",{className:`type-tab ${i==="content"?"active":""}`,onClick:()=>r("content"),children:[l(Rm,{size:18}),"Content"]})]}),m("div",{className:"main-search-input",children:[l(Ia,{size:20}),l("input",{type:"text",placeholder:`Search ${i}...`,value:a,onChange:P=>s(P.target.value),autoFocus:!0})]}),m("div",{className:"search-content",children:[m("div",{className:"search-filters",children:[m("h3",{children:[l(vc,{size:18}),"Filters"]}),i==="people"&&m(vt,{children:[m("div",{className:"filter-group",children:[l("label",{children:"Location"}),m("div",{className:"input-with-icon",children:[l(sr,{size:16}),l("input",{type:"text",placeholder:"City, State, or Country",value:p.location,onChange:P=>w({...p,location:P.target.value})})]})]}),m("div",{className:"filter-group",children:[l("label",{children:"Industry"}),m("select",{value:p.industry,onChange:P=>w({...p,industry:P.target.value}),children:[l("option",{value:"",children:"All Industries"}),g.map(P=>l("option",{value:P,children:P},P))]})]}),m("div",{className:"filter-group",children:[l("label",{children:"Experience Level"}),m("select",{value:p.experience,onChange:P=>w({...p,experience:P.target.value}),className:"modern-select",children:[l("option",{value:"",children:"Any Experience"}),y.map(P=>l("option",{value:P,children:P},P))]})]}),m("div",{className:"filter-group",children:[l("label",{children:"Skills"}),l("input",{type:"text",placeholder:"e.g. React, Python, AWS",value:p.skills,onChange:P=>w({...p,skills:P.target.value})})]}),m("div",{className:"filter-group",children:[l("label",{children:"Company"}),m("div",{className:"input-with-icon",children:[l(D5,{size:16}),l("input",{type:"text",placeholder:"Current or past company",value:p.company,onChange:P=>w({...p,company:P.target.value})})]})]}),m("div",{className:"filter-group",children:[l("label",{children:"Education"}),m("div",{className:"input-with-icon",children:[l(ff,{size:16}),l("input",{type:"text",placeholder:"School or degree",value:p.education,onChange:P=>w({...p,education:P.target.value})})]})]}),e==="premium"&&m("div",{className:"premium-filters",children:[m("div",{className:"premium-badge",children:[l(Rm,{size:14}),"Premium Filters"]}),m("div",{className:"filter-group",children:[m("label",{className:"filter-checkbox",children:[l("input",{type:"checkbox"}),l("span",{children:"Open to opportunities"})]}),m("label",{className:"filter-checkbox",children:[l("input",{type:"checkbox"}),l("span",{children:"Premium members only"})]})]})]})]}),l("button",{className:"clear-filters-btn",onClick:S,children:"Clear All Filters"})]}),m("div",{className:"search-results",children:[m("div",{className:"results-header",children:[m("h3",{children:[v.length," results found"]}),l("div",{className:"sort-dropdown",children:m("select",{className:"sort-select",children:[l("option",{value:"relevance",children:"Most Relevant"}),l("option",{value:"recent",children:"Most Recent"}),l("option",{value:"connections",children:"Most Connections"})]})})]}),l("div",{className:"results-list",children:h?m("div",{className:"loading-state",children:[l("div",{className:"spinner"}),l("p",{children:"Searching..."})]}):v.length===0?m("div",{className:"empty-state",children:[l(Ia,{size:48}),l("h3",{children:"No results found"}),l("p",{children:"Try adjusting your search query or filters"})]}):v.map(P=>m("div",{className:"result-card",children:[l("img",{src:P.avatar,alt:P.name,className:"result-avatar"}),m("div",{className:"result-info",children:[m("div",{className:"result-header",children:[l("h4",{children:P.name}),e==="premium"&&m("span",{className:"match-badge",children:[P.match,"% match"]})]}),l("p",{className:"result-title",children:P.title}),m("p",{className:"result-company",children:[l(D5,{size:14}),P.company]}),m("p",{className:"result-location",children:[l(sr,{size:14}),P.location]}),m("p",{className:"mutual-connections",children:[P.mutualConnections," mutual connections"]}),l("div",{className:"result-skills",children:P.skills.map((k,A)=>l("span",{className:"skill-tag",children:k},A))})]}),m("div",{className:"result-actions",children:[l("button",{className:"btn-connect",onClick:()=>E(P.id),children:"Connect"}),e==="premium"&&l("button",{className:"btn-inmail",children:"Send InMail"}),l("button",{className:"btn-view",onClick:()=>N(P),children:"View Profile"})]})]},P.id))})]})]})]}),u&&o&&l(Bse,{user:o,onClose:()=>d(!1),onFollow:R,onUnfollow:D,onConnect:E,onMessage:C})]})},pOe=()=>{const{user:t}=Hr(),[e,n]=Z.useState("feed"),[i,r]=Z.useState(!1),[a,s]=Z.useState(!1),[o,c]=Z.useState(!1),[u,d]=Z.useState("professional"),[h,f]=Z.useState(0),[p,w]=Z.useState(0),[v,b]=Z.useState(!1),[g,y]=Z.useState(null),[_,S]=Z.useState(!1),[N,R]=Z.useState(""),[D,E]=Z.useState({connections:0,pendingRequests:0,sentRequests:0}),[C,P]=Z.useState({groups:0,upcomingEvents:0,unreadMessages:0}),[k,A]=Z.useState(!0),I={name:(t==null?void 0:t.displayName)||(t==null?void 0:t.firstName)+" "+((t==null?void 0:t.lastName)||"")||"User",avatar:(t==null?void 0:t.photoURL)||"/api/placeholder/40/40"};Z.useEffect(()=>{console.log("NetworkingArena mounted"),console.log("User:",t),console.log("Current User:",I);try{document.title="Networking Arena - Planning Insights"}catch(B){console.error("Error in useEffect:",B),S(!0),R(B.message)}},[]),Z.useEffect(()=>{document.title="Networking Arena - Planning Insights",T(),z(),j()},[]);const T=async()=>{try{A(!0);const B=await vFe();B.success&&E(B.stats)}catch(B){console.error("Error fetching connection stats:",B)}finally{A(!1)}},z=async()=>{try{const B=await bFe();B.success&&(P(B.stats),f(B.stats.unreadMessages))}catch(B){console.error("Error fetching networking stats:",B)}},j=async()=>{try{const B=await wFe();B.success&&w(B.count)}catch(B){console.error("Error fetching unread notifications:",B)}};Z.useEffect(()=>{const B=()=>{b(window.scrollY>400)};return window.addEventListener("scroll",B),()=>window.removeEventListener("scroll",B)},[]);const W=()=>{window.scrollTo({top:0,behavior:"smooth"})},$=(B=null)=>{console.log("Opening messaging center for user:",B),y(B),r(!0),console.log("showMessaging state set to true")},q=[{id:"feed",label:"Feed",icon:cs},{id:"connections",label:"My Network",icon:Zt},{id:"groups",label:"Groups",icon:sc},{id:"events",label:"Events",icon:ua},{id:"jobs",label:"Jobs",icon:Ni}],G=()=>{try{switch(e){case"feed":return l(dX,{userRole:u,currentUser:I});case"connections":return l(HFe,{onOpenMessaging:$});case"groups":return l(oOe,{});case"events":return l(uOe,{});case"jobs":return l(dOe,{userRole:u});default:return l(dX,{userRole:u,currentUser:I})}}catch(B){return console.error("Error rendering content:",B),m("div",{style:{padding:"20px",textAlign:"center"},children:[l("h3",{children:"Something went wrong"}),l("p",{children:B.message})]})}};return _?m("div",{style:{padding:"100px 20px",textAlign:"center",background:"white",minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[l("h2",{style:{color:"#524393",marginBottom:"1rem"},children:"Networking Arena - Loading Error"}),l("p",{style:{color:"#666"},children:N||"Please refresh the page or try again later."}),l("button",{onClick:()=>window.location.reload(),style:{marginTop:"1rem",padding:"0.5rem 1rem",background:"#524393",color:"white",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Refresh Page"})]}):(console.log("Rendering NetworkingArena - activeTab:",e),m("div",{className:"networking-arena",children:[l("div",{className:"networking-navbar",children:m("div",{className:"navbar-container",children:[l("div",{className:"navbar-left",children:m("h1",{className:"arena-title",children:[l(Zt,{className:"title-icon"}),"Networking Arena"]})}),l("div",{className:"navbar-center",children:m("button",{className:"search-trigger",onClick:()=>c(!0),children:[l(Ia,{size:20}),l("span",{children:"Ask me anything..."})]})}),l("div",{className:"navbar-right",children:m("button",{className:"nav-icon-btn",onClick:()=>s(!0),children:[l(MN,{size:20}),p>0&&l("span",{className:"notification-badge",children:p})]})})]})}),l("div",{className:"navigation-tabs",children:l("div",{className:"tabs-container",ref:B=>{if(B&&(window.innerWidth<992&&(B.scrollLeft=0),e)){const L=B.querySelector(".nav-tab-pill.active");L&&window.innerWidth<992&&setTimeout(()=>{L.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},100)}},children:q.map(B=>{const L=B.icon;return m("button",{className:`nav-tab-pill ${e===B.id?"active":""}`,onClick:()=>n(B.id),children:[l(L,{size:18}),l("span",{children:B.label})]},B.id)})})}),m("div",{className:"arena-container",children:[l("aside",{className:"arena-sidebar left-sidebar",children:l(qFe,{userRole:u,setUserRole:d})}),l("main",{className:"arena-main-content",children:G()}),m("aside",{className:"arena-sidebar right-sidebar",children:[m("div",{className:"quick-access-panel",children:[l("h3",{children:"Quick Access"}),m("div",{className:"quick-links",children:[m("button",{onClick:()=>n("connections"),children:[l(Zt,{size:18}),m("span",{children:["My Connections (",k?"...":D.connections,")"]})]}),m("button",{onClick:()=>n("groups"),children:[l(sc,{size:18}),m("span",{children:["My Groups (",k?"...":C.groups,")"]})]}),m("button",{onClick:()=>n("events"),children:[l(ua,{size:18}),m("span",{children:["Upcoming Events (",k?"...":C.upcomingEvents,")"]})]}),m("button",{onClick:()=>r(!0),children:[l(sc,{size:18}),m("span",{children:["Messages (",C.unreadMessages,")"]})]})]})]}),m("div",{className:"trending-topics",children:[l("h3",{children:"Trending Topics"}),m("div",{className:"topic-tags",children:[l("span",{className:"topic-tag",children:"#AI"}),l("span",{className:"topic-tag",children:"#RemoteWork"}),l("span",{className:"topic-tag",children:"#Sustainability"}),l("span",{className:"topic-tag",children:"#Innovation"}),l("span",{className:"topic-tag",children:"#Leadership"})]})]})]})]}),i&&l(VFe,{onClose:()=>{r(!1),y(null)},setUnreadCount:f,userId:g,currentUser:I}),a&&l(hOe,{onClose:()=>s(!1),setUnreadCount:w}),o&&l(fOe,{onClose:()=>c(!1),userRole:u,onOpenMessaging:$}),v&&l("button",{className:"scroll-to-top-btn",onClick:W,title:"Scroll to top",children:l(_U,{size:24})})]}))},eo={getUsers:async(t={})=>(await Oe.get("/admin/users",{params:t})).data,getUser:async t=>(await Oe.get(`/admin/users/${t}`)).data,updateUser:async(t,e)=>(await Oe.put(`/admin/users/${t}`,e)).data,deleteUser:async t=>(await Oe.delete(`/admin/users/${t}`)).data,bulkUpdateUsers:async(t,e)=>(await Oe.post("/admin/users/bulk-update",{userIds:t,updates:e})).data,getPlatformStats:async()=>(await Oe.get("/admin/stats")).data,getModerationQueue:async(t={})=>(await Oe.get("/admin/moderation",{params:t})).data,moderateContent:async(t,e,n="")=>(await Oe.post(`/admin/moderation/${t}`,{action:e,reason:n})).data,bulkModerate:async(t,e,n="")=>(await Oe.post("/admin/moderation/bulk",{contentIds:t,action:e,reason:n})).data,getFlaggedContent:async(t={})=>(await Oe.get("/admin/flagged-content",{params:t})).data,resolveFlag:async(t,e)=>(await Oe.post(`/admin/flags/${t}/resolve`,e)).data,getAnalytics:async(t={})=>(await Oe.get("/admin/analytics",{params:t})).data,exportAnalytics:async(t="csv",e={})=>(await Oe.get("/admin/analytics/export",{params:{format:t,...e},responseType:"blob"})).data,getSystemHealth:async()=>(await Oe.get("/admin/system-health")).data,getRecentActivities:async(t={})=>(await Oe.get("/admin/activities",{params:t})).data,getUserSessions:async(t={})=>(await Oe.get("/admin/sessions",{params:t})).data,terminateSession:async t=>(await Oe.delete(`/admin/sessions/${t}`)).data,getEmailTemplates:async()=>(await Oe.get("/admin/email-templates")).data,updateEmailTemplate:async(t,e)=>(await Oe.put(`/admin/email-templates/${t}`,e)).data,sendBroadcastEmail:async t=>(await Oe.post("/admin/broadcast-email",t)).data,getNotificationSettings:async()=>(await Oe.get("/admin/notification-settings")).data,updateNotificationSettings:async t=>(await Oe.put("/admin/notification-settings",t)).data,getApiUsage:async(t={})=>(await Oe.get("/admin/api-usage",{params:t})).data,getErrorLogs:async(t={})=>(await Oe.get("/admin/error-logs",{params:t})).data,clearErrorLogs:async()=>(await Oe.delete("/admin/error-logs")).data,getBackupStatus:async()=>(await Oe.get("/admin/backups")).data,createBackup:async()=>(await Oe.post("/admin/backups")).data,restoreBackup:async t=>(await Oe.post(`/admin/backups/${t}/restore`)).data,getSystemConfig:async()=>(await Oe.get("/admin/system-config")).data,updateSystemConfig:async t=>(await Oe.put("/admin/system-config",t)).data,clearCache:async(t="all")=>(await Oe.post("/admin/clear-cache",{cacheType:t})).data,runMaintenance:async(t=[])=>(await Oe.post("/admin/maintenance",{tasks:t})).data,getAuditLogs:async(t={})=>(await Oe.get("/admin/audit-logs",{params:t})).data,exportAuditLogs:async(t="csv",e={})=>(await Oe.get("/admin/audit-logs/export",{params:{format:t,...e},responseType:"blob"})).data,getSubscriptionAnalytics:async(t={})=>(await Oe.get("/admin/analytics/subscriptions",{params:t})).data,getRevenueAnalytics:async(t={})=>(await Oe.get("/admin/analytics/revenue",{params:t})).data,getUserEngagement:async(t={})=>(await Oe.get("/admin/analytics/engagement",{params:t})).data,getContentPerformance:async(t={})=>(await Oe.get("/admin/analytics/content",{params:t})).data,generateReport:async(t,e={})=>(await Oe.post("/admin/reports/generate",{reportType:t,params:e})).data,downloadReport:async(t,e="pdf")=>(await Oe.get(`/admin/reports/${t}/download`,{params:{format:e},responseType:"blob"})).data,createPublishingRequirement:async t=>(await Oe.post("/admin/publishing-requirements",t)).data,getAllPublishingRequirements:async(t={})=>(await Oe.get("/admin/publishing-requirements",{params:t})).data,updatePublishingRequirement:async(t,e)=>(await Oe.patch(`/admin/publishing-requirements/${t}`,e)).data,deletePublishingRequirement:async t=>(await Oe.delete(`/admin/publishing-requirements/${t}`)).data,getAllManuscriptsOverview:async(t={})=>(await Oe.get("/admin/manuscripts",{params:t})).data,getManuscriptsByRequirement:async t=>(await Oe.get(`/admin/manuscripts/requirement/${t}`)).data,reviewManuscript:async(t,e)=>(await Oe.patch(`/admin/manuscripts/${t}/review`,e)).data,deleteManuscript:async t=>(await Oe.delete(`/admin/manuscripts/${t}`)).data,getAllResearchPapersOverview:async(t={})=>(await Oe.get("/admin/research-papers",{params:t})).data,getAllArticlesAdmin:async(t={})=>(await Oe.get("/admin/articles",{params:t})).data,updateArticleStatus:async(t,e)=>(await Oe.patch(`/admin/articles/${t}/status`,e)).data,deleteArticleAdmin:async t=>(await Oe.delete(`/admin/articles/${t}`)).data,getAllJobsAdmin:async(t={})=>(await Oe.get("/admin/jobs",{params:t})).data,updateJobStatus:async(t,e)=>(await Oe.patch(`/admin/jobs/${t}/status`,e)).data,deleteJobAdmin:async t=>(await Oe.delete(`/admin/jobs/${t}`)).data,getAllCoursesAdmin:async(t={})=>(await Oe.get("/admin/courses",{params:t})).data,updateCourseStatus:async(t,e)=>(await Oe.patch(`/admin/courses/${t}/status`,e)).data,deleteCourseAdmin:async t=>(await Oe.delete(`/admin/courses/${t}`)).data};const hX=({stats:t,onNavigate:e})=>{var h,f,p,w,v,b,g,y;if(!t)return l("div",{className:"neu-card",children:l("div",{className:"loading-spinner",children:l("div",{className:"spinner"})})});const{overview:n,jobs:i,learning:r,newsroom:a,forum:s,publishing:o,networking:c}=t,u=[{title:"Total Users",value:((h=n==null?void 0:n.totalUsers)==null?void 0:h.count)||0,growth:((f=n==null?void 0:n.totalUsers)==null?void 0:f.growth)||"0%",icon:"",color:"#524393"},{title:"Active Users",value:((p=n==null?void 0:n.activeUsers)==null?void 0:p.count)||0,growth:((w=n==null?void 0:n.activeUsers)==null?void 0:w.growth)||"0%",icon:"",color:"#4CAF50"},{title:"New Today",value:((v=n==null?void 0:n.newUsersToday)==null?void 0:v.count)||0,growth:((b=n==null?void 0:n.newUsersToday)==null?void 0:b.growth)||"0%",icon:"",color:"#2196F3"},{title:"Revenue",value:((g=n==null?void 0:n.revenue)==null?void 0:g.count)||"0",growth:((y=n==null?void 0:n.revenue)==null?void 0:y.growth)||"0%",icon:"",color:"#FF9800"}],d=[{id:"jobs",title:"Job Portal",icon:"",stats:[{label:"Total Jobs",value:(i==null?void 0:i.total)||0},{label:"Active",value:(i==null?void 0:i.active)||0},{label:"Pending",value:(i==null?void 0:i.pending)||0}]},{id:"learning",title:"Learning Center",icon:"",stats:[{label:"Total Courses",value:(r==null?void 0:r.totalCourses)||0},{label:"Active Courses",value:(r==null?void 0:r.activeCourses)||0},{label:"Enrollments",value:(r==null?void 0:r.totalEnrollments)||0}]},{id:"newsroom",title:"Newsroom",icon:"",stats:[{label:"Total Articles",value:(a==null?void 0:a.totalArticles)||0},{label:"Published",value:(a==null?void 0:a.published)||0},{label:"Drafts",value:(a==null?void 0:a.drafts)||0}]},{id:"forum",title:"Forum",icon:"",stats:[{label:"Total Threads",value:(s==null?void 0:s.totalThreads)||0},{label:"Active",value:(s==null?void 0:s.activeThreads)||0},{label:"Flagged",value:(s==null?void 0:s.flaggedContent)||0}]},{id:"publishing",title:"Publishing House",icon:"",stats:[{label:"Total Manuscripts",value:(o==null?void 0:o.totalManuscripts)||0},{label:"Under Review",value:(o==null?void 0:o.underReview)||0},{label:"Published",value:(o==null?void 0:o.published)||0}]},{id:"networking",title:"Networking Arena",icon:"",stats:[{label:"Connections",value:(c==null?void 0:c.totalConnections)||0},{label:"Pending",value:(c==null?void 0:c.pendingRequests)||0},{label:"Groups",value:(c==null?void 0:c.totalGroups)||0}]}];return m("div",{children:[l("div",{className:"stats-grid",children:u.map((_,S)=>m("div",{className:"neu-card stat-card",children:[m("div",{className:"stat-card-header",children:[l("div",{className:"stat-icon",style:{color:_.color},children:_.icon}),l("div",{className:`stat-growth ${_.growth.includes("+")?"positive":"negative"}`,children:_.growth})]}),l("h3",{className:"stat-title",children:_.title}),l("p",{className:"stat-value",children:_.value})]},S))}),m("div",{className:"neu-card",style:{marginTop:"30px"},children:[l("div",{className:"section-header",children:l("h2",{className:"section-title",children:" Modules Overview"})}),l("div",{className:"modules-grid",children:d.map(_=>m("div",{className:"neu-card module-card",onClick:()=>e(_.id),children:[l("div",{className:"module-icon",children:_.icon}),l("h3",{className:"module-title",children:_.title}),l("div",{style:{marginTop:"16px"},children:_.stats.map((S,N)=>m("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px 0",borderBottom:N<_.stats.length-1?"1px solid var(--neu-shadow-dark)":"none"},children:[l("span",{style:{fontSize:"13px",color:"var(--neu-text-muted)"},children:S.label}),l("span",{style:{fontSize:"14px",fontWeight:"600",color:"var(--neu-primary)"},children:S.value})]},N))})]},_.id))})]}),m("div",{className:"neu-card",style:{marginTop:"30px"},children:[l("div",{className:"section-header",children:l("h2",{className:"section-title",children:" Quick Actions"})}),m("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px",marginTop:"20px"},children:[l("button",{className:"neu-btn-primary neu-btn",onClick:()=>e("users"),children:" Manage Users"}),l("button",{className:"neu-btn-primary neu-btn",onClick:()=>e("jobs"),children:" Review Jobs"}),l("button",{className:"neu-btn-primary neu-btn",onClick:()=>e("forum"),children:" Check Flagged Content"}),l("button",{className:"neu-btn-primary neu-btn",onClick:()=>e("analytics"),children:" View Analytics"})]})]})]})},mOe=()=>{var P,k,A,I,T,z,j;const[t,e]=Z.useState([]),[n,i]=Z.useState(!0),[r,a]=Z.useState(""),[s,o]=Z.useState(""),[c,u]=Z.useState(""),[d,h]=Z.useState(1),[f,p]=Z.useState(1),[w,v]=Z.useState(null),[b,g]=Z.useState(!1);Z.useEffect(()=>{y()},[d,s,c,r]);const y=async()=>{i(!0);try{const W=await(void 0)({page:d,limit:20,search:r,role:s,status:c});e(W.data.users),p(W.data.pagination.pages)}catch(W){He.error("Failed to load users"),console.error(W)}finally{i(!1)}},_=async(W,$)=>{try{await(void 0)(W,$),He.success("User status updated successfully"),y()}catch(q){He.error("Failed to update user status"),console.error(q)}},S=async(W,$)=>{try{await(void 0)(W,$),He.success("User role updated successfully"),y()}catch(q){He.error("Failed to update user role"),console.error(q)}},N=async W=>{if(window.confirm("Are you sure you want to delete this user?"))try{await(void 0)(W),He.success("User deleted successfully"),y()}catch($){He.error("Failed to delete user"),console.error($)}},R=W=>{v(W),g(!0)},D=()=>{v(null),g(!1)},C=(()=>({total:t.length,active:t.filter(W=>W.status==="active").length,suspended:t.filter(W=>W.status==="suspended").length,pending:t.filter(W=>W.status==="pending").length}))();return m("div",{style:{padding:"24px"},children:[m("div",{style:{background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",borderRadius:"20px",padding:"32px",marginBottom:"24px",color:"white",boxShadow:"0 10px 40px rgba(245, 158, 11, 0.3)"},children:[m("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"16px"},children:[l("div",{style:{width:"56px",height:"56px",borderRadius:"16px",background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)",display:"flex",alignItems:"center",justifyContent:"center"},children:l(Zt,{size:28})}),m("div",{children:[l("h2",{style:{fontSize:"28px",fontWeight:"700",margin:"0 0 8px 0"},children:"User Management"}),l("p",{style:{margin:0,opacity:.9,fontSize:"15px"},children:"Manage user accounts, roles, and permissions"})]})]}),m("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(160px, 1fr))",gap:"16px",marginTop:"24px"},children:[m("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:"Total Users"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:C.total})]}),m("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:"Active Users"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:C.active})]}),m("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:"Suspended"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:C.suspended})]}),m("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:"Pending"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:C.pending})]})]})]}),m("div",{style:{background:"white",borderRadius:"16px",padding:"20px",marginBottom:"24px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",display:"flex",gap:"16px",alignItems:"center",flexWrap:"wrap"},children:[m("div",{style:{display:"flex",alignItems:"center",gap:"12px",flex:1,minWidth:"300px"},children:[l(Ia,{size:20,color:"#6b7280"}),l("input",{type:"text",placeholder:"Search by name or email...",value:r,onChange:W=>{a(W.target.value),h(1)},style:{flex:1,border:"none",outline:"none",fontSize:"15px",background:"transparent"}})]}),m("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[l(vc,{size:18,color:"#6b7280"}),m("select",{value:s,onChange:W=>{o(W.target.value),h(1)},style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #e5e7eb",fontSize:"14px",fontWeight:"500",cursor:"pointer",background:"white"},children:[l("option",{value:"",children:"All Roles"}),l("option",{value:"user",children:" User"}),l("option",{value:"admin",children:" Admin"}),l("option",{value:"moderator",children:" Moderator"}),l("option",{value:"premium",children:" Premium"})]}),m("select",{value:c,onChange:W=>{u(W.target.value),h(1)},style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #e5e7eb",fontSize:"14px",fontWeight:"500",cursor:"pointer",background:"white"},children:[l("option",{value:"",children:"All Status"}),l("option",{value:"active",children:" Active"}),l("option",{value:"inactive",children:" Inactive"}),l("option",{value:"suspended",children:" Suspended"}),l("option",{value:"pending",children:" Pending"})]})]}),m("div",{style:{fontSize:"14px",color:"#6b7280",padding:"8px 16px",background:"#f3f4f6",borderRadius:"8px",fontWeight:"500"},children:[t.length," user",t.length!==1?"s":""]})]}),n?l("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"80px",background:"white",borderRadius:"16px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},children:m("div",{style:{textAlign:"center"},children:[l("div",{style:{width:"48px",height:"48px",border:"4px solid #e5e7eb",borderTopColor:"#3b82f6",borderRadius:"50%",margin:"0 auto 16px",animation:"spin 1s linear infinite"}}),l("p",{style:{color:"#6b7280",fontSize:"15px"},children:"Loading users..."}),l("style",{children:`
              @keyframes spin {
                to { transform: rotate(360deg); }
              }
            `})]})}):t.length===0?m("div",{style:{background:"white",borderRadius:"16px",padding:"60px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},children:[l(Zt,{size:48,color:"#3b82f6"}),l("p",{style:{fontSize:"18px",fontWeight:"600",marginTop:"16px"},children:"No users found"})]}):l("div",{style:{background:"white",borderRadius:"16px",padding:"24px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",overflow:"auto"},children:m("table",{style:{width:"100%",borderCollapse:"separate",borderSpacing:"0 8px"},children:[l("thead",{children:m("tr",{style:{borderBottom:"2px solid #f3f4f6"},children:[l("th",{style:{padding:"12px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase"},children:"User"}),l("th",{style:{padding:"12px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase"},children:"Email"}),l("th",{style:{padding:"12px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase"},children:"Role"}),l("th",{style:{padding:"12px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase"},children:"Status"}),l("th",{style:{padding:"12px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase"},children:"Joined"}),l("th",{style:{padding:"12px",textAlign:"left",fontSize:"12px",fontWeight:"600",color:"#6b7280",textTransform:"uppercase"},children:"Actions"})]})}),l("tbody",{children:t.map(W=>{var $,q,G,B;return m("tr",{style:{background:"#f9fafb",transition:"all 0.2s"},onMouseEnter:L=>L.currentTarget.style.background="#f3f4f6",onMouseLeave:L=>L.currentTarget.style.background="#f9fafb",children:[l("td",{style:{padding:"16px",borderRadius:"8px 0 0 8px"},children:m("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[l("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:"linear-gradient(135deg, #3b82f6, #2563eb)",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"600",fontSize:"14px"},children:((q=($=W.profile)==null?void 0:$.firstName)==null?void 0:q.charAt(0))||W.email.charAt(0).toUpperCase()}),m("div",{children:[m("div",{style:{fontWeight:"600",fontSize:"14px"},children:[((G=W.profile)==null?void 0:G.firstName)||"User"," ",((B=W.profile)==null?void 0:B.lastName)||""]}),m("div",{style:{fontSize:"12px",color:"#6b7280"},children:["ID: ",W._id.slice(-8)]})]})]})}),l("td",{style:{padding:"16px",fontSize:"14px"},children:W.email}),l("td",{style:{padding:"16px"},children:m("select",{value:W.role,onChange:L=>S(W._id,L.target.value),style:{padding:"6px 12px",borderRadius:"8px",border:"1px solid #e5e7eb",fontSize:"13px",fontWeight:"500",cursor:"pointer",background:W.role==="admin"?"#fee2e2":W.role==="premium"?"#fef3c7":"#f3f4f6",color:W.role==="admin"?"#991b1b":W.role==="premium"?"#92400e":"#374151"},children:[l("option",{value:"user",children:"User"}),l("option",{value:"admin",children:"Admin"}),l("option",{value:"moderator",children:"Moderator"}),l("option",{value:"premium",children:"Premium"})]})}),l("td",{style:{padding:"16px"},children:m("select",{value:W.status,onChange:L=>_(W._id,L.target.value),style:{padding:"6px 12px",borderRadius:"8px",border:"1px solid #e5e7eb",fontSize:"13px",fontWeight:"500",cursor:"pointer",background:W.status==="active"?"#d1fae5":W.status==="suspended"?"#fee2e2":W.status==="pending"?"#fef3c7":"#f3f4f6",color:W.status==="active"?"#065f46":W.status==="suspended"?"#991b1b":W.status==="pending"?"#92400e":"#6b7280"},children:[l("option",{value:"active",children:"Active"}),l("option",{value:"inactive",children:"Inactive"}),l("option",{value:"suspended",children:"Suspended"}),l("option",{value:"pending",children:"Pending"})]})}),l("td",{style:{padding:"16px",fontSize:"14px",color:"#6b7280"},children:new Date(W.createdAt).toLocaleDateString()}),l("td",{style:{padding:"16px",borderRadius:"0 8px 8px 0"},children:m("div",{style:{display:"flex",gap:"8px"},children:[l("button",{onClick:()=>R(W),style:{padding:"8px",background:"#dbeafe",color:"#1e40af",border:"none",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:l(Pa,{size:16})}),l("button",{onClick:()=>N(W._id),style:{padding:"8px",background:"#fee2e2",color:"#dc2626",border:"none",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:l(ny,{size:16})})]})})]},W._id)})})]})}),f>1&&m("div",{style:{display:"flex",justifyContent:"center",gap:"8px",marginTop:"24px"},children:[l("button",{onClick:()=>h(W=>Math.max(1,W-1)),disabled:d===1,style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #e5e7eb",background:"white",cursor:d===1?"not-allowed":"pointer",opacity:d===1?.5:1,fontWeight:"600"},children:""}),[...Array(Math.min(5,f))].map((W,$)=>l("button",{onClick:()=>h($+1),style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #e5e7eb",background:d===$+1?"#3b82f6":"white",color:d===$+1?"white":"#1f2937",cursor:"pointer",fontWeight:d===$+1?"600":"400"},children:$+1},$)),l("button",{onClick:()=>h(W=>Math.min(f,W+1)),disabled:d===f,style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #e5e7eb",background:"white",cursor:d===f?"not-allowed":"pointer",opacity:d===f?.5:1,fontWeight:"600"},children:""})]}),b&&w&&l("div",{onClick:D,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:m("div",{onClick:W=>W.stopPropagation(),style:{background:"white",borderRadius:"20px",padding:"32px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)"},children:[m("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[m("h3",{style:{display:"flex",alignItems:"center",gap:"12px",margin:0,fontSize:"24px",fontWeight:"700"},children:[l(Is,{size:28,color:"#3b82f6"}),"User Details"]}),l("button",{onClick:D,style:{background:"#f3f4f6",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"24px",color:"#6b7280"},children:""})]}),m("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"20px",padding:"20px",background:"#f9fafb",borderRadius:"12px"},children:[m("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Name"}),m("div",{style:{fontSize:"14px",fontWeight:"600"},children:[((P=w.profile)==null?void 0:P.firstName)||"N/A"," ",((k=w.profile)==null?void 0:k.lastName)||""]})]}),m("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Email"}),l("div",{style:{fontSize:"14px",fontWeight:"600"},children:w.email})]}),m("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Phone"}),l("div",{style:{fontSize:"14px",fontWeight:"600"},children:((A=w.profile)==null?void 0:A.phone)||"N/A"})]}),m("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Location"}),l("div",{style:{fontSize:"14px",fontWeight:"600"},children:((I=w.profile)==null?void 0:I.location)||"N/A"})]}),m("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Organization"}),l("div",{style:{fontSize:"14px",fontWeight:"600"},children:((T=w.profile)==null?void 0:T.organization)||"N/A"})]}),m("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Position"}),l("div",{style:{fontSize:"14px",fontWeight:"600"},children:((z=w.profile)==null?void 0:z.position)||"N/A"})]}),m("div",{style:{gridColumn:"1 / -1"},children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Bio"}),l("div",{style:{fontSize:"14px",fontWeight:"600"},children:((j=w.profile)==null?void 0:j.bio)||"No bio provided"})]}),m("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Member Since"}),l("div",{style:{fontSize:"14px",fontWeight:"600"},children:new Date(w.createdAt).toLocaleDateString()})]}),m("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Last Login"}),l("div",{style:{fontSize:"14px",fontWeight:"600"},children:w.lastLogin?new Date(w.lastLogin).toLocaleString():"Never"})]})]}),l("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"24px"},children:l("button",{onClick:D,style:{padding:"12px 24px",background:"#3b82f6",color:"white",border:"none",borderRadius:"10px",fontSize:"14px",fontWeight:"600",cursor:"pointer"},children:"Close"})})]})})]})},gOe=()=>{const[t,e]=Z.useState([]),[n,i]=Z.useState(!0),[r,a]=Z.useState(""),[s,o]=Z.useState(""),[c,u]=Z.useState(1),[d,h]=Z.useState(1);Z.useEffect(()=>{f()},[c,s,r]);const f=async()=>{i(!0);try{const y=await(void 0)({page:c,limit:20,search:r,status:s});e(y.data.jobs),h(y.data.pagination.pages)}catch(y){He.error("Failed to load jobs"),console.error(y)}finally{i(!1)}},p=async(y,_)=>{try{await(void 0)(y,_),He.success("Job status updated"),f()}catch{He.error("Failed to update job status")}},w=async y=>{try{await(void 0)(y),He.success("Featured status toggled"),f()}catch{He.error("Failed to toggle featured status")}},v=async y=>{if(window.confirm("Are you sure you want to delete this job?"))try{await(void 0)(y),He.success("Job deleted successfully"),f()}catch{He.error("Failed to delete job")}},g=(()=>({total:t.length,active:t.filter(y=>y.status==="active").length,featured:t.filter(y=>y.isFeatured).length,applications:t.reduce((y,_)=>{var S;return y+(((S=_.applications)==null?void 0:S.length)||0)},0)}))();return m("div",{style:{padding:"24px"},children:[m("div",{style:{background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",borderRadius:"20px",padding:"32px",marginBottom:"24px",color:"white",boxShadow:"0 10px 40px rgba(245, 158, 11, 0.3)"},children:[m("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"16px"},children:[l("div",{style:{width:"56px",height:"56px",borderRadius:"16px",background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)",display:"flex",alignItems:"center",justifyContent:"center"},children:l(Ni,{size:28})}),m("div",{children:[l("h2",{style:{fontSize:"28px",fontWeight:"700",margin:"0 0 8px 0"},children:"Job Portal Management"}),l("p",{style:{margin:0,opacity:.9,fontSize:"15px"},children:"Manage job postings and applications"})]})]}),m("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(160px, 1fr))",gap:"16px",marginTop:"24px"},children:[m("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:"Total Jobs"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:g.total})]}),m("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:"Active"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:g.active})]}),m("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:"Featured"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:g.featured})]}),m("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:"Applications"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:g.applications})]})]})]}),m("div",{style:{background:"white",borderRadius:"16px",padding:"20px",marginBottom:"24px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",display:"flex",gap:"16px",alignItems:"center",flexWrap:"wrap"},children:[m("div",{style:{position:"relative",flex:"1",minWidth:"300px"},children:[l(Ia,{size:18,style:{position:"absolute",left:"14px",top:"50%",transform:"translateY(-50%)",color:"#94a3b8"}}),l("input",{type:"text",placeholder:"Search jobs...",value:r,onChange:y=>{a(y.target.value),u(1)},style:{width:"100%",padding:"12px 12px 12px 44px",border:"1px solid #e2e8f0",borderRadius:"12px",fontSize:"14px",transition:"all 0.2s",outline:"none"}})]}),m("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[l(vc,{size:18,style:{color:"#64748b"}}),m("select",{value:s,onChange:y=>{o(y.target.value),u(1)},style:{padding:"12px 16px",border:"1px solid #e2e8f0",borderRadius:"12px",fontSize:"14px",background:"white",cursor:"pointer",outline:"none",minWidth:"150px"},children:[l("option",{value:"",children:"All Status"}),l("option",{value:"open",children:"Open"}),l("option",{value:"closed",children:"Closed"}),l("option",{value:"on-hold",children:"On Hold"}),l("option",{value:"filled",children:"Filled"})]})]})]}),n?m("div",{style:{textAlign:"center",padding:"60px 20px"},children:[l("div",{style:{width:"48px",height:"48px",border:"4px solid #f3f4f6",borderTop:"4px solid #0ea5e9",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}}),l("p",{style:{marginTop:"16px",color:"#64748b"},children:"Loading jobs..."})]}):m(vt,{children:[l("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"20px",marginBottom:"24px"},children:t.map(y=>{var _;return m("div",{style:{background:"white",borderRadius:"16px",padding:"24px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",transition:"all 0.3s",border:"1px solid #e2e8f0",cursor:"pointer",position:"relative"},onMouseEnter:S=>{S.currentTarget.style.transform="translateY(-4px)",S.currentTarget.style.boxShadow="0 8px 24px rgba(0,0,0,0.12)"},onMouseLeave:S=>{S.currentTarget.style.transform="translateY(0)",S.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.08)"},children:[y.isFeatured&&m("div",{style:{position:"absolute",top:"16px",right:"16px",background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",color:"white",padding:"4px 12px",borderRadius:"8px",fontSize:"12px",fontWeight:"600",display:"flex",alignItems:"center",gap:"4px"},children:[l(ca,{size:14}),"Featured"]}),m("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px"},children:[l(oxe,{size:20,style:{color:"#64748b"}}),l("span",{style:{fontWeight:"600",fontSize:"15px",color:"#334155"},children:y.company})]}),l("h3",{style:{fontSize:"20px",fontWeight:"700",color:"#0f172a",margin:"0 0 12px 0",lineHeight:"1.4"},children:y.title}),m("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"16px"},children:[m("div",{style:{display:"flex",alignItems:"center",gap:"6px",color:"#64748b",fontSize:"14px"},children:[l(sr,{size:16}),((_=y.location)==null?void 0:_.city)||"Remote"]}),l("div",{style:{background:"#f1f5f9",padding:"4px 12px",borderRadius:"8px",fontSize:"13px",color:"#475569",fontWeight:"500"},children:y.type})]}),m("div",{style:{background:"#f0f9ff",padding:"12px",borderRadius:"12px",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[l(cs,{size:18,style:{color:"#0ea5e9"}}),m("span",{style:{fontSize:"14px",color:"#0369a1",fontWeight:"600"},children:[y.applicantsCount||0," Applications"]})]}),m("div",{style:{marginBottom:"16px"},children:[l("label",{style:{fontSize:"13px",color:"#64748b",display:"block",marginBottom:"8px"},children:"Status"}),m("select",{value:y.status,onChange:S=>p(y._id,S.target.value),style:{width:"100%",padding:"10px 14px",border:"1px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",background:"white",cursor:"pointer",outline:"none",fontWeight:"500",color:y.status==="open"?"#059669":y.status==="filled"?"#3b82f6":y.status==="closed"?"#ef4444":"#f59e0b"},children:[l("option",{value:"open",children:"Open"}),l("option",{value:"closed",children:"Closed"}),l("option",{value:"on-hold",children:"On Hold"}),l("option",{value:"filled",children:"Filled"})]})]}),m("div",{style:{display:"flex",gap:"8px"},children:[m("button",{onClick:()=>w(y._id),style:{flex:1,padding:"10px",borderRadius:"10px",border:y.isFeatured?"1px solid #fbbf24":"1px solid #e2e8f0",background:y.isFeatured?"#fffbeb":"white",color:y.isFeatured?"#f59e0b":"#64748b",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",transition:"all 0.2s"},onMouseEnter:S=>{S.currentTarget.style.background=y.isFeatured?"#fef3c7":"#f8fafc"},onMouseLeave:S=>{S.currentTarget.style.background=y.isFeatured?"#fffbeb":"white"},children:[l(ca,{size:16,fill:y.isFeatured?"#f59e0b":"none"}),y.isFeatured?"Featured":"Feature"]}),l("button",{onClick:()=>v(y._id),style:{padding:"10px 16px",borderRadius:"10px",border:"1px solid #fee2e2",background:"white",color:"#ef4444",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},onMouseEnter:S=>{S.currentTarget.style.background="#fef2f2"},onMouseLeave:S=>{S.currentTarget.style.background="white"},children:l(ny,{size:18})})]})]},y._id)})}),t.length===0&&m("div",{style:{textAlign:"center",padding:"60px 20px"},children:[l(Ni,{size:64,style:{color:"#cbd5e1",margin:"0 auto 16px"}}),l("p",{style:{fontSize:"18px",color:"#64748b",fontWeight:"600"},children:"No jobs found"}),l("p",{style:{color:"#94a3b8",fontSize:"14px"},children:"Try adjusting your search or filters"})]}),d>1&&m("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"8px",marginTop:"32px"},children:[l("button",{onClick:()=>u(y=>Math.max(1,y-1)),disabled:c===1,style:{padding:"10px 16px",borderRadius:"10px",border:"1px solid #e2e8f0",background:c===1?"#f8fafc":"white",color:c===1?"#cbd5e1":"#0f172a",cursor:c===1?"not-allowed":"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.2s"},children:"Previous"}),l("div",{style:{display:"flex",gap:"6px"},children:[...Array(Math.min(5,d))].map((y,_)=>{const S=_+1;return l("button",{onClick:()=>u(S),style:{width:"40px",height:"40px",borderRadius:"10px",border:c===S?"none":"1px solid #e2e8f0",background:c===S?"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)":"white",color:c===S?"white":"#0f172a",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.2s"},onMouseEnter:N=>{c!==S&&(N.currentTarget.style.background="#f8fafc")},onMouseLeave:N=>{c!==S&&(N.currentTarget.style.background="white")},children:S},_)})}),l("button",{onClick:()=>u(y=>Math.min(d,y+1)),disabled:c===d,style:{padding:"10px 16px",borderRadius:"10px",border:"1px solid #e2e8f0",background:c===d?"#f8fafc":"white",color:c===d?"#cbd5e1":"#0f172a",cursor:c===d?"not-allowed":"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.2s"},children:"Next"})]})]})]})},yOe=()=>{const[t,e]=Z.useState([]),[n,i]=Z.useState(!0),[r,a]=Z.useState(""),[s,o]=Z.useState(1),[c,u]=Z.useState(1);Z.useEffect(()=>{d()},[s,r]);const d=async()=>{i(!0);try{const v=await(void 0)({page:s,limit:20,status:r});e(v.data.courses),u(v.data.pagination.pages)}catch(v){He.error("Failed to load courses"),console.error(v)}finally{i(!1)}},h=async(v,b)=>{try{await(void 0)(v,b),He.success("Course status updated"),d()}catch{He.error("Failed to update course status")}},f=async v=>{if(window.confirm("Are you sure you want to delete this course?"))try{await(void 0)(v),He.success("Course deleted successfully"),d()}catch{He.error("Failed to delete course")}},w=(()=>({total:t.length,published:t.filter(v=>v.status==="published").length,draft:t.filter(v=>v.status==="draft").length,enrollments:t.reduce((v,b)=>v+(b.enrollmentsCount||0),0)}))();return m("div",{style:{padding:"24px"},children:[m("div",{style:{background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",borderRadius:"20px",padding:"32px",marginBottom:"24px",color:"white",boxShadow:"0 10px 40px rgba(245, 158, 11, 0.3)"},children:[m("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"16px"},children:[l("div",{style:{width:"56px",height:"56px",borderRadius:"16px",background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)",display:"flex",alignItems:"center",justifyContent:"center"},children:l(ff,{size:28})}),m("div",{children:[l("h2",{style:{fontSize:"28px",fontWeight:"700",margin:"0 0 8px 0"},children:"Learning Center Management"}),l("p",{style:{margin:0,opacity:.9,fontSize:"15px"},children:"Manage courses and learning content"})]})]}),m("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(160px, 1fr))",gap:"16px",marginTop:"24px"},children:[m("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:"Total Courses"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:w.total})]}),m("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:"Published"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:w.published})]}),m("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:"Drafts"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:w.draft})]}),m("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:"Total Enrollments"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:w.enrollments})]})]})]}),l("div",{style:{background:"white",borderRadius:"16px",padding:"20px",marginBottom:"24px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",display:"flex",gap:"16px",alignItems:"center",flexWrap:"wrap"},children:m("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[l(vc,{size:18,style:{color:"#64748b"}}),m("select",{value:r,onChange:v=>{a(v.target.value),o(1)},style:{padding:"12px 16px",border:"1px solid #e2e8f0",borderRadius:"12px",fontSize:"14px",background:"white",cursor:"pointer",outline:"none",minWidth:"180px"},children:[l("option",{value:"",children:"All Status"}),l("option",{value:"published",children:"Published"}),l("option",{value:"draft",children:"Draft"}),l("option",{value:"archived",children:"Archived"})]})]})}),n?m("div",{style:{textAlign:"center",padding:"60px 20px"},children:[l("div",{style:{width:"48px",height:"48px",border:"4px solid #f3f4f6",borderTop:"4px solid #10b981",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}}),l("p",{style:{marginTop:"16px",color:"#64748b"},children:"Loading courses..."})]}):m(vt,{children:[l("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:"20px",marginBottom:"24px"},children:t.map(v=>{var b,g,y,_;return m("div",{style:{background:"white",borderRadius:"16px",padding:"24px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",transition:"all 0.3s",border:"1px solid #e2e8f0",cursor:"pointer"},onMouseEnter:S=>{S.currentTarget.style.transform="translateY(-4px)",S.currentTarget.style.boxShadow="0 8px 24px rgba(0,0,0,0.12)"},onMouseLeave:S=>{S.currentTarget.style.transform="translateY(0)",S.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.08)"},children:[l("div",{style:{width:"56px",height:"56px",borderRadius:"14px",background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"16px"},children:l(rw,{size:28,style:{color:"white"}})}),l("h3",{style:{fontSize:"18px",fontWeight:"700",color:"#0f172a",margin:"0 0 8px 0",lineHeight:"1.4"},children:v.title||"Untitled Course"}),l("div",{style:{display:"inline-block",background:"#fff7ed",color:"#c2410c",padding:"4px 12px",borderRadius:"8px",fontSize:"13px",fontWeight:"500",marginBottom:"16px"},children:v.category||"General"}),m("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"16px"},children:[l(Rm,{size:18,style:{color:"#64748b"}}),m("span",{style:{fontSize:"14px",color:"#475569"},children:[((g=(b=v.instructor)==null?void 0:b.profile)==null?void 0:g.firstName)||"Unknown"," ",((_=(y=v.instructor)==null?void 0:y.profile)==null?void 0:_.lastName)||""]})]}),m("div",{style:{background:"#f0f9ff",padding:"12px",borderRadius:"12px",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[l(Zt,{size:18,style:{color:"#0ea5e9"}}),m("span",{style:{fontSize:"14px",color:"#0369a1",fontWeight:"600"},children:[v.enrollmentsCount||0," Students Enrolled"]})]}),m("div",{style:{marginBottom:"16px"},children:[l("label",{style:{fontSize:"13px",color:"#64748b",display:"block",marginBottom:"8px"},children:"Status"}),m("select",{value:v.status,onChange:S=>h(v._id,S.target.value),style:{width:"100%",padding:"10px 14px",border:"1px solid #e2e8f0",borderRadius:"10px",fontSize:"14px",background:"white",cursor:"pointer",outline:"none",fontWeight:"500",color:v.status==="published"?"#ea580c":v.status==="draft"?"#f59e0b":"#3b82f6"},children:[l("option",{value:"published",children:"Published"}),l("option",{value:"draft",children:"Draft"}),l("option",{value:"archived",children:"Archived"})]})]}),m("button",{onClick:()=>f(v._id),style:{width:"100%",padding:"12px",borderRadius:"10px",border:"1px solid #fee2e2",background:"white",color:"#ef4444",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"all 0.2s"},onMouseEnter:S=>{S.currentTarget.style.background="#fef2f2"},onMouseLeave:S=>{S.currentTarget.style.background="white"},children:[l(ny,{size:18}),"Delete Course"]})]},v._id)})}),t.length===0&&m("div",{style:{textAlign:"center",padding:"60px 20px"},children:[l(ff,{size:64,style:{color:"#cbd5e1",margin:"0 auto 16px"}}),l("p",{style:{fontSize:"18px",color:"#64748b",fontWeight:"600"},children:"No courses found"}),l("p",{style:{color:"#94a3b8",fontSize:"14px"},children:"Try adjusting your filters"})]}),c>1&&m("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"8px",marginTop:"32px"},children:[l("button",{onClick:()=>o(v=>Math.max(1,v-1)),disabled:s===1,style:{padding:"10px 16px",borderRadius:"10px",border:"1px solid #e2e8f0",background:s===1?"#f8fafc":"white",color:s===1?"#cbd5e1":"#0f172a",cursor:s===1?"not-allowed":"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.2s"},children:"Previous"}),l("div",{style:{display:"flex",gap:"6px"},children:[...Array(Math.min(5,c))].map((v,b)=>{const g=b+1;return l("button",{onClick:()=>o(g),style:{width:"40px",height:"40px",borderRadius:"10px",border:s===g?"none":"1px solid #e2e8f0",background:s===g?"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)":"white",color:s===g?"white":"#0f172a",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.2s"},children:g},b)})}),l("button",{onClick:()=>o(v=>Math.min(c,v+1)),disabled:s===c,style:{padding:"10px 16px",borderRadius:"10px",border:"1px solid #e2e8f0",background:s===c?"#f8fafc":"white",color:s===c?"#cbd5e1":"#0f172a",cursor:s===c?"not-allowed":"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.2s"},children:"Next"})]})]})]})},vOe=()=>{var j,W,$,q,G,B;const[t,e]=Z.useState([]),[n,i]=Z.useState(!0),[r,a]=Z.useState(""),[s,o]=Z.useState("pending"),[c,u]=Z.useState(1),[d,h]=Z.useState(1),[f,p]=Z.useState(null),[w,v]=Z.useState(""),[b,g]=Z.useState(""),[y,_]=Z.useState(""),[S,N]=Z.useState("");Z.useEffect(()=>{R()},[c,r,s]);const R=async()=>{var L,M,K,Q;i(!0);try{console.log("=== LOADING ARTICLES ==="),console.log("Params:",{page:c,limit:20,status:r,approvalStatus:s});const V=await eo.getAllArticlesAdmin({page:c,limit:20,status:r,approvalStatus:s});console.log("Response:",V),console.log("Articles received:",((L=V.articles)==null?void 0:L.length)||0),e(V.articles||[]),h(((M=V.pagination)==null?void 0:M.pages)||1)}catch(V){console.error("Failed to load articles:",V),He.error("Failed to load articles: "+(((Q=(K=V.response)==null?void 0:K.data)==null?void 0:Q.message)||V.message))}finally{i(!1)}},D=async L=>{try{await eo.updateArticleStatus(L,{approvalStatus:"approved"}),He.success("Article approved and published!"),R()}catch(M){He.error("Failed to approve article"),console.error(M)}},E=async(L,M)=>{try{await eo.updateArticleStatus(L,{approvalStatus:"rejected",reason:M||"Content did not meet publication standards"}),He.success("Article rejected"),p(null),v(""),_(""),R()}catch(K){He.error("Failed to reject article"),console.error(K)}},C=async(L,M)=>{try{await eo.updateArticleStatus(L,{approvalStatus:"needsModification",modificationNotes:M||"Please review and modify your article"}),He.success("Modification requested - author will be notified"),p(null),g(""),_(""),R()}catch(K){He.error("Failed to request modification"),console.error(K)}},P=async L=>{if(window.confirm("Are you sure you want to delete this article?"))try{await adminService.deleteArticle(L),He.success("Article deleted successfully"),R()}catch{He.error("Failed to delete article")}},k=L=>{p(L),v(""),_("reject")},A=L=>{p(L),g(""),_("modify")},T=(()=>({total:t.length,pending:t.filter(L=>L.approvalStatus==="pending").length,approved:t.filter(L=>L.approvalStatus==="approved").length,rejected:t.filter(L=>L.approvalStatus==="rejected").length,needsModification:t.filter(L=>L.approvalStatus==="needsModification").length}))(),z=t.filter(L=>{var M,K,Q,V,le,ge,ye;return((M=L.title)==null?void 0:M.toLowerCase().includes(S.toLowerCase()))||((V=(Q=(K=L.author)==null?void 0:K.profile)==null?void 0:Q.firstName)==null?void 0:V.toLowerCase().includes(S.toLowerCase()))||((ge=(le=L.author)==null?void 0:le.email)==null?void 0:ge.toLowerCase().includes(S.toLowerCase()))||((ye=L.category)==null?void 0:ye.toLowerCase().includes(S.toLowerCase()))});return m("div",{style:{padding:"24px"},children:[m("div",{style:{background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",borderRadius:"20px",padding:"32px",marginBottom:"24px",color:"white",boxShadow:"0 10px 40px rgba(245, 158, 11, 0.3)"},children:[m("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"16px"},children:[l("div",{style:{width:"56px",height:"56px",borderRadius:"16px",background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)",display:"flex",alignItems:"center",justifyContent:"center"},children:l(DW,{size:28})}),m("div",{children:[l("h2",{style:{fontSize:"28px",fontWeight:"700",margin:"0 0 8px 0"},children:"Newsroom Management"}),l("p",{style:{margin:0,opacity:.9,fontSize:"15px"},children:"Review, approve, and manage submitted articles"})]})]}),m("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(160px, 1fr))",gap:"16px",marginTop:"24px"},children:[m("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:"Total Articles"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:T.total})]}),m("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:"Pending Review"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:T.pending})]}),m("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:"Approved"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:T.approved})]}),m("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:"Needs Changes"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:T.needsModification})]}),m("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:"Rejected"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:T.rejected})]})]})]}),m("div",{style:{background:"white",borderRadius:"16px",padding:"20px",marginBottom:"24px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",display:"flex",gap:"16px",alignItems:"center",flexWrap:"wrap"},children:[m("div",{style:{display:"flex",alignItems:"center",gap:"12px",flex:1,minWidth:"300px"},children:[l(Ia,{size:20,color:"#6b7280"}),l("input",{type:"text",placeholder:"Search articles by title, author, or category...",value:S,onChange:L=>N(L.target.value),style:{flex:1,border:"none",outline:"none",fontSize:"15px",background:"transparent"}})]}),m("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[l(vc,{size:18,color:"#6b7280"}),m("select",{value:s,onChange:L=>{o(L.target.value),u(1)},style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #e5e7eb",fontSize:"14px",fontWeight:"500",cursor:"pointer",background:"white"},children:[l("option",{value:"",children:"All Approvals"}),l("option",{value:"pending",children:" Pending"}),l("option",{value:"approved",children:" Approved"}),l("option",{value:"rejected",children:" Rejected"}),l("option",{value:"needsModification",children:" Needs Changes"})]}),m("select",{value:r,onChange:L=>{a(L.target.value),u(1)},style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #e5e7eb",fontSize:"14px",fontWeight:"500",cursor:"pointer",background:"white"},children:[l("option",{value:"",children:"All Status"}),l("option",{value:"published",children:" Published"}),l("option",{value:"draft",children:" Draft"}),l("option",{value:"pending",children:" Pending"}),l("option",{value:"archived",children:" Archived"})]})]}),m("div",{style:{fontSize:"14px",color:"#6b7280",padding:"8px 16px",background:"#f3f4f6",borderRadius:"8px",fontWeight:"500"},children:[z.length," result",z.length!==1?"s":""]})]}),n?l("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"80px",background:"white",borderRadius:"16px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},children:m("div",{style:{textAlign:"center"},children:[l("div",{style:{width:"48px",height:"48px",border:"4px solid #e5e7eb",borderTopColor:"#f59e0b",borderRadius:"50%",margin:"0 auto 16px",animation:"spin 1s linear infinite"}}),l("p",{style:{color:"#6b7280",fontSize:"15px"},children:"Loading articles..."}),l("style",{children:`
              @keyframes spin {
                to { transform: rotate(360deg); }
              }
            `})]})}):t.length===0?m("div",{style:{background:"white",borderRadius:"16px",padding:"60px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},children:[l("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #f59e0b20 0%, #d9770620 100%)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px"},children:l(DW,{size:36,color:"#f59e0b"})}),l("p",{style:{fontSize:"20px",fontWeight:"600",color:"#1f2937",marginBottom:"8px"},children:"No articles found"}),l("p",{style:{fontSize:"14px",color:"#6b7280"},children:S?"Try adjusting your search query":"No articles have been submitted yet"})]}):l("div",{style:{display:"grid",gap:"16px",gridTemplateColumns:"repeat(auto-fill, minmax(450px, 1fr))"},children:z.map(L=>{var M,K,Q;return m("div",{style:{background:"white",borderRadius:"16px",padding:"24px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",border:"1px solid #e5e7eb",transition:"all 0.2s ease",position:"relative"},onMouseEnter:V=>{V.currentTarget.style.boxShadow="0 8px 24px rgba(245, 158, 11, 0.15)",V.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:V=>{V.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.08)",V.currentTarget.style.transform="translateY(0)"},children:[m("div",{style:{position:"absolute",top:"16px",right:"16px",display:"flex",gap:"6px",flexDirection:"column",alignItems:"flex-end"},children:[m("div",{style:{padding:"6px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"600",display:"flex",alignItems:"center",gap:"4px",...L.approvalStatus==="pending"&&{background:"#fef3c7",color:"#92400e"},...L.approvalStatus==="approved"&&{background:"#d1fae5",color:"#065f46"},...L.approvalStatus==="rejected"&&{background:"#fee2e2",color:"#991b1b"},...L.approvalStatus==="needsModification"&&{background:"#dbeafe",color:"#1e40af"}},children:[L.approvalStatus==="pending"&&l(ar,{size:14}),L.approvalStatus==="approved"&&l(Gn,{size:14}),L.approvalStatus==="rejected"&&l(ao,{size:14}),L.approvalStatus==="needsModification"&&l(sd,{size:14}),L.approvalStatus==="needsModification"?"NEEDS CHANGES":(L.approvalStatus||"pending").toUpperCase()]}),L.plagiarismScore!==void 0&&m("div",{style:{padding:"4px 10px",borderRadius:"16px",fontSize:"11px",fontWeight:"600",background:L.plagiarismScore<15?"#d1fae5":L.plagiarismScore<30?"#fef3c7":"#fee2e2",color:L.plagiarismScore<15?"#065f46":L.plagiarismScore<30?"#92400e":"#991b1b"},children:[L.plagiarismScore<15&&" ",L.plagiarismScore>=30&&" ","Plagiarism: ",L.plagiarismScore,"%"]})]}),l("h3",{style:{fontSize:"18px",fontWeight:"700",color:"#1f2937",marginBottom:"12px",marginRight:"140px",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",lineHeight:"1.4"},children:L.title||"Untitled Article"}),m("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"12px",marginBottom:"16px",paddingBottom:"16px",borderBottom:"1px solid #f3f4f6"},children:[m("div",{children:[l("div",{style:{fontSize:"11px",color:"#9ca3af",marginBottom:"4px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Author"}),l("div",{style:{fontSize:"13px",fontWeight:"600",color:"#1f2937"},children:((K=(M=L.author)==null?void 0:M.profile)==null?void 0:K.firstName)||((Q=L.author)==null?void 0:Q.email)||"Unknown"})]}),m("div",{children:[l("div",{style:{fontSize:"11px",color:"#9ca3af",marginBottom:"4px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Category"}),l("div",{style:{fontSize:"13px",fontWeight:"600",color:"#f59e0b",background:"#fef3c7",padding:"4px 10px",borderRadius:"6px",display:"inline-block"},children:L.category||"General"})]}),m("div",{children:[l("div",{style:{fontSize:"11px",color:"#9ca3af",marginBottom:"4px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Status"}),l("div",{style:{fontSize:"13px",fontWeight:"600",color:"#1f2937"},children:L.status||"Draft"})]}),m("div",{children:[l("div",{style:{fontSize:"11px",color:"#9ca3af",marginBottom:"4px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Submitted"}),l("div",{style:{fontSize:"13px",fontWeight:"600",color:"#1f2937"},children:new Date(L.createdAt).toLocaleDateString()})]})]}),m("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[L.approvalStatus==="pending"&&m(vt,{children:[m("button",{onClick:()=>D(L._id),style:{flex:1,minWidth:"100px",padding:"10px 16px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",border:"none",borderRadius:"10px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",transition:"transform 0.2s"},onMouseEnter:V=>V.currentTarget.style.transform="scale(1.02)",onMouseLeave:V=>V.currentTarget.style.transform="scale(1)",children:[l(Gn,{size:16}),"Approve"]}),m("button",{onClick:()=>A(L),style:{flex:1,minWidth:"100px",padding:"10px 16px",background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",color:"white",border:"none",borderRadius:"10px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",transition:"transform 0.2s"},onMouseEnter:V=>V.currentTarget.style.transform="scale(1.02)",onMouseLeave:V=>V.currentTarget.style.transform="scale(1)",children:[l(sd,{size:16}),"Request Changes"]}),m("button",{onClick:()=>k(L),style:{flex:1,minWidth:"100px",padding:"10px 16px",background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"white",border:"none",borderRadius:"10px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",transition:"transform 0.2s"},onMouseEnter:V=>V.currentTarget.style.transform="scale(1.02)",onMouseLeave:V=>V.currentTarget.style.transform="scale(1)",children:[l(ao,{size:16}),"Reject"]})]}),m("button",{onClick:()=>p(L),style:{padding:"10px 16px",background:"#f3f4f6",color:"#6b7280",border:"none",borderRadius:"10px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",transition:"all 0.2s",...L.approvalStatus!=="pending"&&{flex:1,minWidth:"120px"}},onMouseEnter:V=>{V.currentTarget.style.background="#e5e7eb",V.currentTarget.style.transform="scale(1.02)"},onMouseLeave:V=>{V.currentTarget.style.background="#f3f4f6",V.currentTarget.style.transform="scale(1)"},children:[l(Pa,{size:16}),"View Details"]}),l("button",{onClick:()=>P(L._id),style:{padding:"10px",background:"#fee2e2",color:"#dc2626",border:"none",borderRadius:"10px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},onMouseEnter:V=>{V.currentTarget.style.background="#fecaca",V.currentTarget.style.transform="scale(1.05)"},onMouseLeave:V=>{V.currentTarget.style.background="#fee2e2",V.currentTarget.style.transform="scale(1)"},children:l(ny,{size:16})})]})]},L._id)})}),d>1&&m("div",{style:{display:"flex",justifyContent:"center",gap:"8px",marginTop:"24px"},children:[l("button",{onClick:()=>u(L=>Math.max(1,L-1)),disabled:c===1,style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #e5e7eb",background:"white",cursor:c===1?"not-allowed":"pointer",opacity:c===1?.5:1,fontWeight:"600"},children:""}),[...Array(Math.min(5,d))].map((L,M)=>l("button",{onClick:()=>u(M+1),style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #e5e7eb",background:c===M+1?"#f59e0b":"white",color:c===M+1?"white":"#1f2937",cursor:"pointer",fontWeight:c===M+1?"600":"400"},children:M+1},M)),l("button",{onClick:()=>u(L=>Math.min(d,L+1)),disabled:c===d,style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #e5e7eb",background:"white",cursor:c===d?"not-allowed":"pointer",opacity:c===d?.5:1,fontWeight:"600"},children:""})]}),f&&y&&l("div",{onClick:()=>{p(null),_("")},style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:m("div",{onClick:L=>L.stopPropagation(),style:{background:"white",borderRadius:"20px",padding:"32px",maxWidth:"600px",width:"100%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)"},children:[m("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"24px"},children:[m("div",{style:{flex:1},children:[l("h2",{style:{fontSize:"24px",fontWeight:"700",color:"#1f2937",margin:"0 0 8px 0",display:"flex",alignItems:"center",gap:"12px"},children:y==="reject"?m(vt,{children:[l(ao,{size:28,color:"#dc2626"}),"Reject Article"]}):m(vt,{children:[l(sd,{size:28,color:"#3b82f6"}),"Request Modification"]})}),l("p",{style:{fontSize:"14px",color:"#6b7280",margin:0},children:f.title})]}),l("button",{onClick:()=>{p(null),_("")},style:{background:"#f3f4f6",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"24px",color:"#6b7280",transition:"all 0.2s"},onMouseEnter:L=>{L.currentTarget.style.background="#e5e7eb",L.currentTarget.style.transform="rotate(90deg)"},onMouseLeave:L=>{L.currentTarget.style.background="#f3f4f6",L.currentTarget.style.transform="rotate(0deg)"},children:""})]}),l("div",{style:{background:"#f9fafb",borderRadius:"12px",padding:"16px",marginBottom:"24px"},children:m("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px"},children:[m("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Author"}),l("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:((W=(j=f.author)==null?void 0:j.profile)==null?void 0:W.firstName)||(($=f.author)==null?void 0:$.email)||"Unknown"})]}),m("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Category"}),l("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:f.category||"N/A"})]}),f.plagiarismScore!==void 0&&m("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Plagiarism Score"}),m("div",{style:{fontSize:"14px",fontWeight:"700",color:f.plagiarismScore<15?"#059669":f.plagiarismScore<30?"#d97706":"#dc2626"},children:[f.plagiarismScore,"%"]})]}),m("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Submitted"}),l("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:new Date(f.createdAt).toLocaleDateString()})]})]})}),m("div",{style:{marginBottom:"24px"},children:[m("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"14px",color:"#374151"},children:[y==="reject"?"Rejection Reason":"Modification Notes",l("span",{style:{color:"#dc2626",marginLeft:"4px"},children:"*"})]}),l("textarea",{rows:"5",value:y==="reject"?w:b,onChange:L=>y==="reject"?v(L.target.value):g(L.target.value),placeholder:y==="reject"?"Explain why this article is being rejected...":"Explain what changes are needed...",style:{width:"100%",padding:"12px",borderRadius:"10px",border:"1px solid #e5e7eb",fontSize:"14px",fontFamily:"inherit",resize:"vertical",outline:"none",transition:"border-color 0.2s"},onFocus:L=>L.target.style.borderColor=y==="reject"?"#dc2626":"#3b82f6",onBlur:L=>L.target.style.borderColor="#e5e7eb"})]}),y==="modify"&&m("div",{style:{padding:"16px",background:"#dbeafe",borderRadius:"12px",border:"1px solid #3b82f6",marginBottom:"24px",display:"flex",gap:"12px"},children:[l(z0,{size:20,color:"#1e40af",style:{flexShrink:0,marginTop:"2px"}}),l("p",{style:{fontSize:"13px",color:"#1e40af",margin:0,lineHeight:"1.5"},children:"The author will receive an email notification with your modification notes and can resubmit after making changes."})]}),m("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[l("button",{onClick:()=>{p(null),_("")},style:{padding:"12px 24px",borderRadius:"10px",border:"1px solid #e5e7eb",background:"white",color:"#6b7280",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:L=>L.currentTarget.style.background="#f9fafb",onMouseLeave:L=>L.currentTarget.style.background="white",children:"Cancel"}),y==="reject"?m("button",{onClick:()=>E(f._id,w),style:{padding:"12px 24px",borderRadius:"10px",border:"none",background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"white",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",transition:"transform 0.2s",boxShadow:"0 4px 12px rgba(239, 68, 68, 0.3)"},onMouseEnter:L=>L.currentTarget.style.transform="scale(1.02)",onMouseLeave:L=>L.currentTarget.style.transform="scale(1)",children:[l(ao,{size:18}),"Reject Article"]}):m("button",{onClick:()=>C(f._id,b),style:{padding:"12px 24px",borderRadius:"10px",border:"none",background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",color:"white",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",transition:"transform 0.2s",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)"},onMouseEnter:L=>L.currentTarget.style.transform="scale(1.02)",onMouseLeave:L=>L.currentTarget.style.transform="scale(1)",children:[l(sd,{size:18}),"Request Modification"]})]})]})}),f&&!y&&l("div",{onClick:()=>p(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:m("div",{onClick:L=>L.stopPropagation(),style:{background:"white",borderRadius:"20px",padding:"32px",maxWidth:"700px",width:"100%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)"},children:[m("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"24px"},children:[m("div",{style:{flex:1},children:[m("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[l(xn,{size:28,color:"#f59e0b"}),l("h2",{style:{fontSize:"24px",fontWeight:"700",color:"#1f2937",margin:0},children:"Article Details"})]}),l("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#4b5563",margin:0},children:f.title})]}),l("button",{onClick:()=>p(null),style:{background:"#f3f4f6",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"24px",color:"#6b7280"},children:""})]}),m("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px",padding:"20px",background:"#f9fafb",borderRadius:"12px",marginBottom:"24px"},children:[m("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Author"}),l("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:((G=(q=f.author)==null?void 0:q.profile)==null?void 0:G.firstName)||((B=f.author)==null?void 0:B.email)||"Unknown"})]}),m("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Category"}),l("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:f.category||"N/A"})]}),m("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Status"}),l("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:f.status||"Draft"})]}),m("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Approval Status"}),l("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:f.approvalStatus==="needsModification"?"Needs Changes":f.approvalStatus})]}),f.plagiarismScore!==void 0&&m("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Plagiarism Score"}),m("div",{style:{fontSize:"14px",fontWeight:"700",color:f.plagiarismScore<15?"#059669":f.plagiarismScore<30?"#d97706":"#dc2626"},children:[f.plagiarismScore,"%"]})]}),m("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Submitted"}),l("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:new Date(f.createdAt).toLocaleDateString()})]})]}),f.approvalStatus==="pending"&&m("div",{style:{display:"flex",gap:"12px"},children:[m("button",{onClick:()=>{D(f._id),p(null)},style:{flex:1,padding:"14px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",border:"none",borderRadius:"12px",fontSize:"15px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[l(Gn,{size:18}),"Approve Article"]}),m("button",{onClick:()=>{_("modify")},style:{flex:1,padding:"14px",background:"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)",color:"white",border:"none",borderRadius:"12px",fontSize:"15px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[l(sd,{size:18}),"Request Changes"]}),m("button",{onClick:()=>{_("reject")},style:{flex:1,padding:"14px",background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"white",border:"none",borderRadius:"12px",fontSize:"15px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[l(ao,{size:18}),"Reject"]})]})]})})]})},bOe=()=>{var N,R,D,E;const[t,e]=Z.useState([]),[n,i]=Z.useState(!0),[r,a]=Z.useState("pending"),[s,o]=Z.useState(1),[c,u]=Z.useState(1),[d,h]=Z.useState(""),[f,p]=Z.useState(null);Z.useState(!1),Z.useEffect(()=>{w()},[s,r]);const w=async()=>{var C,P,k,A;i(!0);try{let I;if(r==="pending"){I=await Fx.getPendingForums(),console.log("Pending forums response:",I);const T=Array.isArray(I.data)?I.data:((C=I.data)==null?void 0:C.forums)||[];e(T),u(1)}else{I=await Fx.getAllForums({page:s,limit:20,status:r==="all"?void 0:r}),console.log("All forums response:",I);const T=Array.isArray(I.data)?I.data:((P=I.data)==null?void 0:P.forums)||[];e(T),u(((A=(k=I.data)==null?void 0:k.pagination)==null?void 0:A.pages)||1)}}catch(I){He.error("Failed to load forums"),console.error("Load forums error:",I),e([])}finally{i(!1)}},v=async C=>{try{await Fx.approveForum(C),He.success("Forum approved successfully"),w()}catch(P){He.error("Failed to approve forum"),console.error(P)}},b=async C=>{const P=window.prompt("Reason for rejection (optional):");try{await Fx.rejectForum(C,P),He.success("Forum rejected"),w()}catch(k){He.error("Failed to reject forum"),console.error(k)}},g=async C=>{if(window.confirm("Are you sure you want to delete this forum? This action cannot be undone."))try{await Fx.deleteForum(C),He.success("Forum deleted successfully"),w()}catch(P){He.error("Failed to delete forum"),console.error(P)}},_=(()=>({total:t.length,pending:t.filter(C=>C.status==="pending").length,approved:t.filter(C=>C.status==="approved").length,rejected:t.filter(C=>C.status==="rejected").length}))(),S=t.filter(C=>{var P,k,A;return((P=C.title)==null?void 0:P.toLowerCase().includes(d.toLowerCase()))||((k=C.description)==null?void 0:k.toLowerCase().includes(d.toLowerCase()))||((A=C.category)==null?void 0:A.toLowerCase().includes(d.toLowerCase()))});return m("div",{style:{padding:"24px"},children:[m("div",{style:{background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",borderRadius:"20px",padding:"32px",marginBottom:"24px",color:"white",boxShadow:"0 10px 40px rgba(245, 158, 11, 0.3)"},children:[m("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"16px"},children:[l("div",{style:{width:"56px",height:"56px",borderRadius:"16px",background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)",display:"flex",alignItems:"center",justifyContent:"center"},children:l(vl,{size:28})}),m("div",{children:[l("h2",{style:{fontSize:"28px",fontWeight:"700",margin:"0 0 8px 0"},children:"Forum Management"}),l("p",{style:{margin:0,opacity:.9,fontSize:"15px"},children:"Review, approve, and manage all discussion forums"})]})]}),m("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px",marginTop:"24px"},children:[m("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:"Total Forums"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:_.total})]}),m("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:"Pending Approval"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:_.pending})]}),m("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:"Approved"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:_.approved})]}),m("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:"Rejected"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:_.rejected})]})]})]}),m("div",{style:{background:"white",borderRadius:"16px",padding:"20px",marginBottom:"24px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",display:"flex",gap:"16px",alignItems:"center",flexWrap:"wrap"},children:[m("div",{style:{display:"flex",alignItems:"center",gap:"12px",flex:1,minWidth:"300px"},children:[l(Ia,{size:20,color:"#6b7280"}),l("input",{type:"text",placeholder:"Search forums by title, description, or category...",value:d,onChange:C=>h(C.target.value),style:{flex:1,border:"none",outline:"none",fontSize:"15px",background:"transparent"}})]}),m("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[l(vc,{size:18,color:"#6b7280"}),m("select",{value:r,onChange:C=>{a(C.target.value),o(1)},style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #e5e7eb",fontSize:"14px",fontWeight:"500",cursor:"pointer",background:"white"},children:[l("option",{value:"pending",children:" Pending"}),l("option",{value:"approved",children:" Approved"}),l("option",{value:"rejected",children:" Rejected"}),l("option",{value:"all",children:"All Status"})]})]}),m("div",{style:{fontSize:"14px",color:"#6b7280",padding:"8px 16px",background:"#f3f4f6",borderRadius:"8px",fontWeight:"500"},children:[S.length," result",S.length!==1?"s":""]})]}),n?l("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:"80px",background:"white",borderRadius:"16px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},children:m("div",{style:{textAlign:"center"},children:[l("div",{style:{width:"48px",height:"48px",border:"4px solid #e5e7eb",borderTopColor:"#667eea",borderRadius:"50%",margin:"0 auto 16px",animation:"spin 1s linear infinite"}}),l("p",{style:{color:"#6b7280",fontSize:"15px"},children:"Loading forums..."}),l("style",{children:`
                @keyframes spin {
                  to { transform: rotate(360deg); }
                }
              `})]})}):t.length===0?m("div",{style:{background:"white",borderRadius:"16px",padding:"60px",textAlign:"center",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"},children:[l("div",{style:{width:"80px",height:"80px",borderRadius:"50%",background:"linear-gradient(135deg, #667eea20 0%, #764ba220 100%)",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 20px"},children:l(vl,{size:36,color:"#667eea"})}),l("p",{style:{fontSize:"20px",fontWeight:"600",color:"#1f2937",marginBottom:"8px"},children:"No forums found"}),m("p",{style:{fontSize:"14px",color:"#6b7280"},children:[r==="pending"&&"There are no pending forums awaiting approval",r==="approved"&&"There are no approved forums",r==="rejected"&&"There are no rejected forums",r==="all"&&d&&"Try adjusting your search query",r==="all"&&!d&&"No forums have been created yet"]})]}):l("div",{style:{display:"grid",gap:"16px",gridTemplateColumns:"repeat(auto-fill, minmax(400px, 1fr))"},children:S.map(C=>{var P,k;return m("div",{style:{background:"white",borderRadius:"16px",padding:"24px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",border:"1px solid #e5e7eb",transition:"all 0.2s ease",position:"relative"},onMouseEnter:A=>{A.currentTarget.style.boxShadow="0 8px 24px rgba(102, 126, 234, 0.15)",A.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:A=>{A.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.08)",A.currentTarget.style.transform="translateY(0)"},children:[m("div",{style:{position:"absolute",top:"16px",right:"16px",padding:"6px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"600",display:"flex",alignItems:"center",gap:"4px",...C.status==="pending"&&{background:"#fef3c7",color:"#92400e"},...C.status==="approved"&&{background:"#d1fae5",color:"#065f46"},...C.status==="rejected"&&{background:"#fee2e2",color:"#991b1b"}},children:[C.status==="pending"&&l(ar,{size:14}),C.status==="approved"&&l(Gn,{size:14}),C.status==="rejected"&&l(ao,{size:14}),(C.status||"pending").toUpperCase()]}),l("h3",{style:{fontSize:"18px",fontWeight:"700",color:"#1f2937",marginBottom:"8px",marginRight:"100px",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:C.title}),C.description&&l("p",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"16px",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",lineHeight:"1.5"},children:C.description}),m("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"16px",paddingTop:"16px",borderTop:"1px solid #f3f4f6"},children:[l("div",{style:{padding:"6px 12px",background:"#f3f4f6",borderRadius:"8px",fontSize:"13px",fontWeight:"500",color:"#667eea"},children:C.category||"General"}),m("div",{style:{display:"flex",alignItems:"center",gap:"6px",fontSize:"13px",color:"#6b7280"},children:[l(Zt,{size:14}),((P=C.creator)==null?void 0:P.username)||((k=C.creator)==null?void 0:k.email)||"Unknown"]}),l("div",{style:{marginLeft:"auto",fontSize:"12px",color:"#9ca3af"},children:new Date(C.createdAt).toLocaleDateString()})]}),m("div",{style:{display:"flex",gap:"8px",marginTop:"16px"},children:[C.status==="pending"&&m(vt,{children:[m("button",{onClick:A=>{A.stopPropagation(),v(C._id)},style:{flex:1,padding:"10px 16px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",border:"none",borderRadius:"10px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",transition:"transform 0.2s"},onMouseEnter:A=>A.currentTarget.style.transform="scale(1.02)",onMouseLeave:A=>A.currentTarget.style.transform="scale(1)",children:[l(Gn,{size:16}),"Approve"]}),m("button",{onClick:A=>{A.stopPropagation(),b(C._id)},style:{flex:1,padding:"10px 16px",background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"white",border:"none",borderRadius:"10px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",transition:"transform 0.2s"},onMouseEnter:A=>A.currentTarget.style.transform="scale(1.02)",onMouseLeave:A=>A.currentTarget.style.transform="scale(1)",children:[l(ao,{size:16}),"Reject"]})]}),m("button",{onClick:A=>{A.stopPropagation(),p(C)},style:{padding:"10px 16px",background:"#f3f4f6",color:"#6b7280",border:"none",borderRadius:"10px",fontSize:"14px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",transition:"all 0.2s",...C.status!=="pending"&&{flex:1}},onMouseEnter:A=>{A.currentTarget.style.background="#e5e7eb",A.currentTarget.style.transform="scale(1.02)"},onMouseLeave:A=>{A.currentTarget.style.background="#f3f4f6",A.currentTarget.style.transform="scale(1)"},children:[l(Pa,{size:16}),"View"]}),l("button",{onClick:A=>{A.stopPropagation(),g(C._id)},style:{padding:"10px",background:"#fee2e2",color:"#dc2626",border:"none",borderRadius:"10px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},onMouseEnter:A=>{A.currentTarget.style.background="#fecaca",A.currentTarget.style.transform="scale(1.05)"},onMouseLeave:A=>{A.currentTarget.style.background="#fee2e2",A.currentTarget.style.transform="scale(1)"},children:l(ny,{size:16})})]})]},C._id)})}),f&&l("div",{onClick:()=>p(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:m("div",{onClick:C=>C.stopPropagation(),style:{background:"white",borderRadius:"20px",padding:"32px",maxWidth:"700px",width:"100%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)"},children:[m("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"24px"},children:[l("h2",{style:{fontSize:"24px",fontWeight:"700",color:"#1f2937",margin:0,flex:1},children:f.title}),l("button",{onClick:()=>p(null),style:{background:"#f3f4f6",border:"none",borderRadius:"50%",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"20px",color:"#6b7280"},children:""})]}),l("div",{style:{marginBottom:"24px"},children:l("div",{style:{fontSize:"14px",color:"#6b7280",lineHeight:"1.6"},children:f.description||"No description provided"})}),m("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px",padding:"20px",background:"#f9fafb",borderRadius:"12px",marginBottom:"24px"},children:[m("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Category"}),l("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:f.category||"General"})]}),m("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Status"}),l("div",{style:{fontSize:"14px",fontWeight:"600",color:f.status==="approved"?"#059669":f.status==="rejected"?"#dc2626":"#92400e"},children:f.status==="approved"?" Approved":f.status==="rejected"?" Rejected":" Pending"})]}),m("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Creator"}),l("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:((N=f.creator)==null?void 0:N.username)||((R=f.creator)==null?void 0:R.email)||"Unknown"})]}),m("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Created"}),l("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:new Date(f.createdAt).toLocaleDateString()})]})]}),f.status==="pending"&&m("div",{style:{display:"flex",gap:"12px"},children:[m("button",{onClick:()=>{v(f._id),p(null)},style:{flex:1,padding:"14px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",border:"none",borderRadius:"12px",fontSize:"15px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[l(Gn,{size:18}),"Approve Forum"]}),m("button",{onClick:()=>{b(f._id),p(null)},style:{flex:1,padding:"14px",background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"white",border:"none",borderRadius:"12px",fontSize:"15px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[l(ao,{size:18}),"Reject Forum"]})]})]})}),f&&l("div",{onClick:()=>p(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:m("div",{onClick:C=>C.stopPropagation(),style:{background:"white",borderRadius:"20px",padding:"32px",maxWidth:"700px",width:"100%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)"},children:[m("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"24px"},children:[l("h2",{style:{fontSize:"24px",fontWeight:"700",color:"#1f2937",margin:0,flex:1},children:f.title}),l("button",{onClick:()=>p(null),style:{background:"#f3f4f6",border:"none",borderRadius:"50%",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"20px",color:"#6b7280"},children:""})]}),l("div",{style:{marginBottom:"24px"},children:l("div",{style:{fontSize:"14px",color:"#6b7280",lineHeight:"1.6"},children:f.description||"No description provided"})}),m("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px",padding:"20px",background:"#f9fafb",borderRadius:"12px",marginBottom:"24px"},children:[m("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Category"}),l("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:f.category||"General"})]}),m("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Status"}),l("div",{style:{fontSize:"14px",fontWeight:"600",color:f.status==="approved"?"#059669":f.status==="rejected"?"#dc2626":"#92400e"},children:f.status==="approved"?" Approved":f.status==="rejected"?" Rejected":" Pending"})]}),m("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Creator"}),l("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:((D=f.creator)==null?void 0:D.username)||((E=f.creator)==null?void 0:E.email)||"Unknown"})]}),m("div",{children:[l("div",{style:{fontSize:"12px",color:"#6b7280",marginBottom:"4px"},children:"Created"}),l("div",{style:{fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:new Date(f.createdAt).toLocaleDateString()})]})]}),f.status==="pending"&&m("div",{style:{display:"flex",gap:"12px"},children:[m("button",{onClick:()=>{v(f._id),p(null)},style:{flex:1,padding:"14px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",border:"none",borderRadius:"12px",fontSize:"15px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[l(Gn,{size:18}),"Approve Forum"]}),m("button",{onClick:()=>{b(f._id),p(null)},style:{flex:1,padding:"14px",background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"white",border:"none",borderRadius:"12px",fontSize:"15px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[l(ao,{size:18}),"Reject Forum"]})]})]})}),c>1&&m("div",{className:"pagination",style:{display:"flex",justifyContent:"center",gap:"8px",marginTop:"24px"},children:[l("button",{className:"neu-btn pagination-btn",onClick:()=>o(C=>Math.max(1,C-1)),disabled:s===1,style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #e5e7eb",background:"white",cursor:s===1?"not-allowed":"pointer",opacity:s===1?.5:1},children:""}),[...Array(Math.min(5,c))].map((C,P)=>l("button",{className:`neu-btn pagination-btn ${s===P+1?"active":""}`,onClick:()=>o(P+1),style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #e5e7eb",background:s===P+1?"#667eea":"white",color:s===P+1?"white":"#1f2937",cursor:"pointer",fontWeight:s===P+1?"600":"400"},children:P+1},P)),l("button",{className:"neu-btn pagination-btn",onClick:()=>o(C=>Math.min(c,C+1)),disabled:s===c,style:{padding:"8px 16px",borderRadius:"8px",border:"1px solid #e5e7eb",background:"white",cursor:s===c?"not-allowed":"pointer",opacity:s===c?.5:1},children:""})]})]})},wOe=()=>{var X,re,Ee,ne,te,ae,xe,Ce,_e;const[t,e]=Z.useState("requirements"),[n,i]=Z.useState("manuscripts"),[r,a]=Z.useState([]),[s,o]=Z.useState([]),[c,u]=Z.useState([]),[d,h]=Z.useState(!1),[f,p]=Z.useState(!1),[w,v]=Z.useState(!1),[b,g]=Z.useState(!1),[y,_]=Z.useState(null),[S,N]=Z.useState(null),[R,D]=Z.useState(null),[E,C]=Z.useState({total:0,pending:0,accepted:0,rejected:0}),[P,k]=Z.useState({total:0,pending:0,accepted:0,rejected:0}),[A,I]=Z.useState({title:"",topic:"",field:"",description:"",guidelines:{format:"",wordLimit:"",citationStyle:"",other:""},submissionDeadline:"",status:"active"}),[T,z]=Z.useState({action:"accepted",remarks:""}),[j,W]=Z.useState({status:"",field:"",requirementId:""});Z.useEffect(()=>{t==="requirements"?$():t==="manuscripts"&&(n==="manuscripts"?q():G())},[t,n,j]);const $=async()=>{try{h(!0);const oe=await eo.getAllPublishingRequirements(j);a(oe.data.requirements||[])}catch(oe){He.error("Failed to fetch requirements"),console.error(oe)}finally{h(!1)}},q=async()=>{var oe,pe,Se;try{h(!0);const De=await eo.getAllManuscriptsOverview(j);console.log(" Manuscripts response:",De),o(De.data.manuscripts||[]),C(De.data.stats||E)}catch(De){console.error(" Failed to fetch manuscripts:",De),console.error(" Error details:",(oe=De.response)==null?void 0:oe.data),He.error(((Se=(pe=De.response)==null?void 0:pe.data)==null?void 0:Se.message)||"Failed to fetch manuscripts")}finally{h(!1)}},G=async()=>{var oe,pe;try{h(!0);const Se=await eo.getAllResearchPapersOverview(j);console.log(" Research Papers response:",Se),u(Se.data.papers||[]),k(Se.data.stats||P)}catch(Se){console.error(" Failed to fetch research papers:",Se),He.error(((pe=(oe=Se.response)==null?void 0:oe.data)==null?void 0:pe.message)||"Failed to fetch research papers")}finally{h(!1)}},B=async oe=>{var pe,Se,De,Ve;oe.preventDefault();try{console.log(" Creating requirement with data:",A);const de={...A,submissionDeadline:A.submissionDeadline?new Date(A.submissionDeadline).toISOString():null};console.log(" Formatted data:",de);const Me=await eo.createPublishingRequirement(de);console.log(" Create response:",Me),He.success("Publishing requirement created successfully"),p(!1),Le(),$()}catch(de){console.error(" Create error:",de),console.error(" Error response:",de.response),console.error(" Error message:",(Se=(pe=de.response)==null?void 0:pe.data)==null?void 0:Se.message),He.error(((Ve=(De=de.response)==null?void 0:De.data)==null?void 0:Ve.message)||de.message||"Failed to create requirement")}},L=async oe=>{var pe,Se;oe.preventDefault();try{await eo.updatePublishingRequirement(y._id,A),He.success("Publishing requirement updated successfully"),p(!1),_(null),Le(),$()}catch(De){He.error(((Se=(pe=De.response)==null?void 0:pe.data)==null?void 0:Se.message)||"Failed to update requirement")}},M=async oe=>{var pe,Se;if(window.confirm("Are you sure you want to delete this requirement?"))try{await eo.deletePublishingRequirement(oe),He.success("Publishing requirement deleted successfully"),$()}catch(De){He.error(((Se=(pe=De.response)==null?void 0:pe.data)==null?void 0:Se.message)||"Failed to delete requirement")}},K=async oe=>{var Ve,de;oe.preventDefault();const pe=S._id,Se=T.action,De=T.remarks;He.success(`Manuscript ${Se} successfully`),v(!1),N(null),z({action:"accepted",remarks:""}),o(Me=>Me.map(Fe=>Fe._id===pe?{...Fe,status:Se,adminRemarks:De}:Fe));try{await eo.reviewManuscript(pe,{status:Se,reviewComments:De}),q()}catch(Me){console.error("Review manuscript error:",Me),He.error(((de=(Ve=Me.response)==null?void 0:Ve.data)==null?void 0:de.message)||"Failed to review manuscript"),q()}},Q=oe=>{var pe;_(oe),I({title:oe.title,topic:oe.topic,field:oe.field,description:oe.description,guidelines:oe.guidelines||{format:"",wordLimit:"",citationStyle:"",other:""},submissionDeadline:((pe=oe.submissionDeadline)==null?void 0:pe.split("T")[0])||"",status:oe.status}),p(!0)},V=oe=>{N(oe),z({action:oe.status==="pending"?"accepted":oe.status,remarks:oe.adminRemarks||""}),v(!0)},le=async oe=>{var pe,Se,De;if(window.confirm("Are you sure you want to delete this manuscript? This action cannot be undone."))try{console.log(" Deleting manuscript:",oe);const Ve=await eo.deleteManuscript(oe);console.log(" Delete response:",Ve),He.success("Manuscript deleted successfully"),q()}catch(Ve){console.error(" Failed to delete manuscript:",Ve),console.error(" Error response:",Ve.response),console.error(" Error data:",(pe=Ve.response)==null?void 0:pe.data),He.error(((De=(Se=Ve.response)==null?void 0:Se.data)==null?void 0:De.message)||"Failed to delete manuscript")}},ge=oe=>{D(oe),z({action:oe.status||"pending",remarks:oe.adminRemarks||""}),g(!0)},ye=async oe=>{var pe,Se;if(window.confirm("Are you sure you want to delete this research paper? This action cannot be undone."))try{console.log(" Deleting research paper:",oe);const De=await eo.deleteManuscript(oe);console.log(" Delete response:",De),He.success("Research paper deleted successfully"),G()}catch(De){console.error(" Failed to delete research paper:",De),He.error(((Se=(pe=De.response)==null?void 0:pe.data)==null?void 0:Se.message)||"Failed to delete research paper")}},be=async oe=>{var pe,Se,De;oe.preventDefault();try{console.log(" Reviewing research paper:",R._id,T);const Ve=await eo.reviewManuscript(R._id,{status:T.action,reviewComments:T.remarks});console.log(" Review response:",Ve),He.success(`Research paper ${T.action} successfully`),g(!1),G()}catch(Ve){console.error(" Failed to review research paper:",Ve),console.error(" Error response:",(pe=Ve.response)==null?void 0:pe.data),He.error(((De=(Se=Ve.response)==null?void 0:Se.data)==null?void 0:De.message)||"Failed to review research paper")}},Le=()=>{I({title:"",topic:"",field:"",description:"",guidelines:{format:"",wordLimit:"",citationStyle:"",other:""},submissionDeadline:"",status:"active"})},ue=oe=>`status-badge ${{pending:"status-badge-warning",accepted:"status-badge-success",rejected:"status-badge-danger","under-review":"status-badge-info",active:"status-badge-success",closed:"status-badge-secondary",draft:"status-badge-secondary"}[oe]||"status-badge-secondary"}`,ke=oe=>oe?new Date(oe).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A";return m("div",{className:"publishing-management",children:[m("div",{className:"admin-section-header",children:[m("div",{children:[l("h2",{className:"section-title",children:"Publishing House Management"}),l("p",{className:"section-subtitle",children:"Manage research paper requirements and manuscript submissions"})]}),t==="requirements"&&m("button",{className:"neu-btn neu-btn-primary",onClick:()=>{_(null),Le(),p(!0)},children:[l("span",{className:"btn-icon",children:"+"}),"Post New Requirement"]})]}),l("div",{className:"neu-card tab-container",children:m("div",{className:"tabs",children:[m("button",{className:`tab-btn ${t==="requirements"?"active":""}`,onClick:()=>e("requirements"),children:[l("span",{className:"tab-icon",children:""}),"Publishing Requirements"]}),m("button",{className:`tab-btn ${t==="manuscripts"?"active":""}`,onClick:()=>e("manuscripts"),children:[l("span",{className:"tab-icon",children:""}),"Submission Review",E.pending>0&&l("span",{className:"badge-count",children:E.pending})]})]})}),t==="manuscripts"&&m(vt,{children:[l("div",{className:"neu-card tab-container",children:m("div",{className:"tabs",children:[m("button",{className:`tab-btn ${n==="manuscripts"?"active":""}`,onClick:()=>i("manuscripts"),children:[l("span",{className:"tab-icon",children:""}),"Manuscripts",E.pending>0&&l("span",{className:"badge-count",children:E.pending})]}),m("button",{className:`tab-btn ${n==="papers"?"active":""}`,onClick:()=>i("papers"),children:[l("span",{className:"tab-icon",children:""}),"Research Papers",P.pending>0&&l("span",{className:"badge-count",children:P.pending})]})]})}),m("div",{className:"stats-grid",children:[m("div",{className:"stat-card neu-card",children:[l("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:""}),m("div",{className:"stat-content",children:[l("div",{className:"stat-value",children:n==="manuscripts"?E.total||0:P.total||0}),m("div",{className:"stat-label",children:["Total ",n==="manuscripts"?"Manuscripts":"Research Papers"]})]})]}),m("div",{className:"stat-card neu-card",children:[l("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"},children:""}),m("div",{className:"stat-content",children:[l("div",{className:"stat-value",children:n==="manuscripts"?E.pending||0:P.pending||0}),l("div",{className:"stat-label",children:"Pending Review"})]})]}),m("div",{className:"stat-card neu-card",children:[l("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)"},children:""}),m("div",{className:"stat-content",children:[l("div",{className:"stat-value",children:n==="manuscripts"?E.accepted||0:P.accepted||0}),l("div",{className:"stat-label",children:"Accepted"})]})]}),m("div",{className:"stat-card neu-card",children:[l("div",{className:"stat-icon",style:{background:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)"},children:""}),m("div",{className:"stat-content",children:[l("div",{className:"stat-value",children:n==="manuscripts"?E.rejected||0:P.rejected||0}),l("div",{className:"stat-label",children:"Rejected"})]})]})]})]}),m("div",{className:"neu-card filters-section",children:[l("h3",{className:"filter-title",children:"Filters"}),m("div",{className:"filters-grid",children:[m("div",{className:"filter-group",children:[l("label",{children:"Status"}),m("select",{className:"neu-input",value:j.status,onChange:oe=>W({...j,status:oe.target.value}),children:[l("option",{value:"",children:"All Status"}),t==="requirements"?m(vt,{children:[l("option",{value:"active",children:"Active"}),l("option",{value:"closed",children:"Closed"}),l("option",{value:"draft",children:"Draft"})]}):m(vt,{children:[l("option",{value:"pending",children:"Pending"}),l("option",{value:"accepted",children:"Accepted"}),l("option",{value:"rejected",children:"Rejected"}),l("option",{value:"under-review",children:"Under Review"}),l("option",{value:"update-changes",children:"Update Changes"})]})]})]}),t==="requirements"&&m("div",{className:"filter-group",children:[l("label",{children:"Field"}),m("select",{className:"neu-input",value:j.field,onChange:oe=>W({...j,field:oe.target.value}),children:[l("option",{value:"",children:"All Fields"}),l("option",{value:"Urban Planning",children:"Urban Planning"}),l("option",{value:"Architecture",children:"Architecture"}),l("option",{value:"Environmental Planning",children:"Environmental Planning"}),l("option",{value:"Transportation Planning",children:"Transportation Planning"}),l("option",{value:"Regional Planning",children:"Regional Planning"}),l("option",{value:"Housing Policy",children:"Housing Policy"})]})]}),l("div",{className:"filter-actions",children:l("button",{className:"neu-btn neu-btn-secondary",onClick:()=>W({status:"",field:"",requirementId:""}),children:"Clear Filters"})})]})]}),d?m("div",{className:"loading-container",children:[l("div",{className:"neu-loader"}),l("p",{children:"Loading..."})]}):l(vt,{children:t==="requirements"?l("div",{className:"requirements-list",children:r.length===0?m("div",{className:"neu-card empty-state",children:[l("div",{className:"empty-icon",children:""}),l("h3",{children:"No Requirements Posted"}),l("p",{children:"Start by posting a new research paper requirement"}),l("button",{className:"neu-btn neu-btn-primary",onClick:()=>p(!0),children:"Post Requirement"})]}):l("div",{className:"requirements-grid",children:r.map(oe=>m("div",{className:"requirement-card neu-card",children:[m("div",{className:"card-header",children:[l("h3",{className:"card-title",children:oe.title}),l("span",{className:ue(oe.status),children:oe.status})]}),m("div",{className:"card-meta",children:[m("span",{className:"meta-item",children:[l("strong",{children:"Topic:"})," ",oe.topic]}),m("span",{className:"meta-item",children:[l("strong",{children:"Field:"})," ",oe.field]}),m("span",{className:"meta-item",children:[l("strong",{children:"Deadline:"})," ",ke(oe.submissionDeadline)]}),m("span",{className:"meta-item",children:[l("strong",{children:"Submissions:"})," ",oe.manuscriptsCount||0]})]}),l("div",{className:"card-description",children:m("p",{children:[oe.description.substring(0,150),"..."]})}),oe.guidelines&&m("div",{className:"card-guidelines",children:[oe.guidelines.format&&m("div",{className:"guideline-item",children:[l("strong",{children:"Format:"})," ",oe.guidelines.format]}),oe.guidelines.wordLimit&&m("div",{className:"guideline-item",children:[l("strong",{children:"Word Limit:"})," ",oe.guidelines.wordLimit]}),oe.guidelines.citationStyle&&m("div",{className:"guideline-item",children:[l("strong",{children:"Citation:"})," ",oe.guidelines.citationStyle]})]}),m("div",{className:"card-actions",children:[l("button",{className:"neu-btn neu-btn-primary",onClick:()=>Q(oe),children:"Edit"}),l("button",{className:"neu-btn neu-btn-danger",onClick:()=>M(oe._id),children:"Delete"})]})]},oe._id))})}):l("div",{className:"manuscripts-list",children:n==="manuscripts"?l(vt,{children:s.length===0?m("div",{className:"neu-card empty-state",children:[l("div",{className:"empty-icon",children:""}),l("h3",{children:"No Manuscripts Submitted"}),l("p",{children:"Waiting for authors to submit manuscripts"})]}):l("div",{className:"table-container",children:m("table",{className:"neu-table",children:[l("thead",{children:m("tr",{children:[l("th",{children:"Title"}),l("th",{children:"Author"}),l("th",{children:"Requirement"}),l("th",{children:"Submitted"}),l("th",{children:"Reviewed By"}),l("th",{children:"Status"}),l("th",{children:"Actions"})]})}),l("tbody",{children:s.map(oe=>{var pe,Se,De,Ve,de,Me,Fe;return m("tr",{children:[l("td",{children:l("div",{className:"manuscript-title",children:oe.title})}),l("td",{children:m("div",{className:"author-info",children:[l("div",{className:"author-name",children:oe.author.name}),l("div",{className:"author-email",children:oe.author.email})]})}),l("td",{children:m("div",{className:"requirement-info",children:[l("div",{children:(pe=oe.requirementId)==null?void 0:pe.title}),l("div",{className:"text-muted",children:(Se=oe.requirementId)==null?void 0:Se.topic})]})}),l("td",{children:ke(oe.submittedAt)}),l("td",{children:oe.reviewedBy||oe.assignedEditor?m("div",{className:"editor-info",children:[l("div",{className:"editor-name",children:oe.reviewedBy?`${((De=oe.reviewedBy.profile)==null?void 0:De.firstName)||""} ${((Ve=oe.reviewedBy.profile)==null?void 0:Ve.lastName)||oe.reviewedBy.email}`.trim():`${((de=oe.assignedEditor.profile)==null?void 0:de.firstName)||""} ${((Me=oe.assignedEditor.profile)==null?void 0:Me.lastName)||oe.assignedEditor.email}`.trim()}),oe.editorReviewedAt&&l("div",{className:"text-muted",style:{fontSize:"0.85em"},children:ke(oe.editorReviewedAt)})]}):l("span",{className:"text-muted",children:"Not assigned"})}),l("td",{children:l("span",{className:ue(oe.status),children:oe.status})}),l("td",{children:m("div",{className:"action-buttons",children:[l("button",{className:"neu-btn neu-btn-sm neu-btn-primary",onClick:()=>V(oe),title:"Review manuscript",children:" Review"}),(Fe=oe.file)!=null&&Fe.url?l("a",{href:oe.file.url,target:"_blank",rel:"noopener noreferrer",download:!0,className:"neu-btn neu-btn-sm neu-btn-secondary",title:"Download manuscript file",children:" Download"}):l("button",{className:"neu-btn neu-btn-sm neu-btn-disabled",disabled:!0,title:"No file uploaded",children:" No File"}),l("button",{className:"neu-btn neu-btn-sm neu-btn-danger",onClick:()=>le(oe._id),title:"Delete manuscript",children:" Remove"})]})})]},oe._id)})})]})})}):l(vt,{children:c.length===0?m("div",{className:"neu-card empty-state",children:[l("div",{className:"empty-icon",children:""}),l("h3",{children:"No Research Papers Submitted"}),l("p",{children:"Waiting for researchers to submit papers"})]}):l("div",{className:"table-container",children:m("table",{className:"neu-table",children:[l("thead",{children:m("tr",{children:[l("th",{children:"Title"}),l("th",{children:"Author"}),l("th",{children:"Requirement"}),l("th",{children:"Submitted"}),l("th",{children:"Reviewed By"}),l("th",{children:"Status"}),l("th",{children:"Actions"})]})}),l("tbody",{children:c.map(oe=>{var pe,Se,De,Ve,de,Me,Fe,Ge,ut;return m("tr",{children:[l("td",{children:l("div",{className:"manuscript-title",children:oe.title})}),l("td",{children:m("div",{className:"author-info",children:[l("div",{className:"author-name",children:((pe=oe.author)==null?void 0:pe.name)||"N/A"}),l("div",{className:"author-email",children:((Se=oe.author)==null?void 0:Se.email)||"N/A"})]})}),l("td",{children:m("div",{className:"requirement-info",children:[l("div",{children:((De=oe.requirementId)==null?void 0:De.title)||"N/A"}),l("div",{className:"text-muted",children:((Ve=oe.requirementId)==null?void 0:Ve.topic)||"N/A"})]})}),l("td",{children:ke(oe.submittedAt||oe.createdAt)}),l("td",{children:oe.reviewedBy||oe.assignedEditor?m("div",{className:"editor-info",children:[l("div",{className:"editor-name",children:oe.reviewedBy?`${((de=oe.reviewedBy.profile)==null?void 0:de.firstName)||""} ${((Me=oe.reviewedBy.profile)==null?void 0:Me.lastName)||oe.reviewedBy.email}`.trim():`${((Fe=oe.assignedEditor.profile)==null?void 0:Fe.firstName)||""} ${((Ge=oe.assignedEditor.profile)==null?void 0:Ge.lastName)||oe.assignedEditor.email}`.trim()}),oe.editorReviewedAt&&l("div",{className:"text-muted",style:{fontSize:"0.85em"},children:ke(oe.editorReviewedAt)})]}):l("span",{className:"text-muted",children:"Not assigned"})}),l("td",{children:l("span",{className:ue(oe.status||"pending"),children:oe.status||"pending"})}),l("td",{children:m("div",{className:"action-buttons",children:[l("button",{className:"neu-btn neu-btn-sm neu-btn-primary",onClick:()=>ge(oe),title:"Review research paper",children:" Review"}),(ut=oe.file)!=null&&ut.url?l("a",{href:oe.file.url,target:"_blank",rel:"noopener noreferrer",download:!0,className:"neu-btn neu-btn-sm neu-btn-secondary",title:"Download research paper file",children:" Download"}):l("button",{className:"neu-btn neu-btn-sm neu-btn-disabled",disabled:!0,title:"No file uploaded",children:" No File"}),l("button",{className:"neu-btn neu-btn-sm neu-btn-danger",onClick:()=>ye(oe._id),title:"Delete research paper",children:" Remove"})]})})]},oe._id)})})]})})})})}),f&&l("div",{className:"modal-overlay",onClick:()=>p(!1),children:m("div",{className:"modal-content neu-card",onClick:oe=>oe.stopPropagation(),children:[m("div",{className:"modal-header",children:[l("h2",{children:y?"Edit Requirement":"Post New Requirement"}),l("button",{className:"modal-close",onClick:()=>p(!1),children:""})]}),m("form",{onSubmit:y?L:B,children:[m("div",{className:"form-grid",children:[m("div",{className:"form-group",children:[l("label",{children:"Title *"}),l("input",{type:"text",className:"neu-input",value:A.title,onChange:oe=>I({...A,title:oe.target.value}),required:!0})]}),m("div",{className:"form-group",children:[l("label",{children:"Research Topic *"}),l("input",{type:"text",className:"neu-input",value:A.topic,onChange:oe=>I({...A,topic:oe.target.value}),required:!0})]}),m("div",{className:"form-group",children:[l("label",{children:"Field/Domain *"}),m("select",{className:"neu-input",value:A.field,onChange:oe=>I({...A,field:oe.target.value}),required:!0,children:[l("option",{value:"",children:"Select Field"}),l("option",{value:"Urban Planning",children:"Urban Planning"}),l("option",{value:"Architecture",children:"Architecture"}),l("option",{value:"Environmental Planning",children:"Environmental Planning"}),l("option",{value:"Transportation Planning",children:"Transportation Planning"}),l("option",{value:"Regional Planning",children:"Regional Planning"}),l("option",{value:"Housing Policy",children:"Housing Policy"})]})]}),m("div",{className:"form-group",children:[l("label",{children:"Submission Deadline *"}),l("input",{type:"date",className:"neu-input",value:A.submissionDeadline,onChange:oe=>I({...A,submissionDeadline:oe.target.value}),required:!0})]}),m("div",{className:"form-group full-width",children:[l("label",{children:"Description *"}),l("textarea",{className:"neu-input",rows:"4",value:A.description,onChange:oe=>I({...A,description:oe.target.value}),required:!0})]}),m("div",{className:"form-group",children:[l("label",{children:"Format Guidelines"}),l("input",{type:"text",className:"neu-input",placeholder:"e.g., PDF, DOCX",value:A.guidelines.format,onChange:oe=>I({...A,guidelines:{...A.guidelines,format:oe.target.value}})})]}),m("div",{className:"form-group",children:[l("label",{children:"Word Limit"}),l("input",{type:"text",className:"neu-input",placeholder:"e.g., 5000-8000 words",value:A.guidelines.wordLimit,onChange:oe=>I({...A,guidelines:{...A.guidelines,wordLimit:oe.target.value}})})]}),m("div",{className:"form-group",children:[l("label",{children:"Citation Style"}),l("input",{type:"text",className:"neu-input",placeholder:"e.g., APA, MLA, Chicago",value:A.guidelines.citationStyle,onChange:oe=>I({...A,guidelines:{...A.guidelines,citationStyle:oe.target.value}})})]}),m("div",{className:"form-group",children:[l("label",{children:"Status"}),m("select",{className:"neu-input",value:A.status,onChange:oe=>I({...A,status:oe.target.value}),children:[l("option",{value:"active",children:"Active"}),l("option",{value:"closed",children:"Closed"}),l("option",{value:"draft",children:"Draft"})]})]}),m("div",{className:"form-group full-width",children:[l("label",{children:"Other Guidelines"}),l("textarea",{className:"neu-input",rows:"3",placeholder:"Any additional guidelines...",value:A.guidelines.other,onChange:oe=>I({...A,guidelines:{...A.guidelines,other:oe.target.value}})})]})]}),m("div",{className:"modal-actions",children:[l("button",{type:"button",className:"neu-btn neu-btn-secondary",onClick:()=>p(!1),children:"Cancel"}),l("button",{type:"submit",className:"neu-btn neu-btn-primary",children:y?"Update Requirement":"Post Requirement"})]})]})]})}),w&&S&&l("div",{className:"modal-overlay",onClick:()=>v(!1),children:m("div",{className:"modal-content neu-card modal-large",onClick:oe=>oe.stopPropagation(),children:[m("div",{className:"modal-header",children:[l("h2",{children:"Review Manuscript"}),l("button",{className:"modal-close",onClick:()=>v(!1),children:""})]}),m("div",{className:"manuscript-details",children:[m("div",{className:"detail-row",children:[l("strong",{children:"Title:"})," ",S.title]}),m("div",{className:"detail-row",children:[l("strong",{children:"Author:"})," ",S.author.name," (",S.author.email,")"]}),m("div",{className:"detail-row",children:[l("strong",{children:"Requirement:"})," ",(X=S.requirementId)==null?void 0:X.title]}),m("div",{className:"detail-row",children:[l("strong",{children:"Topic:"})," ",(re=S.requirementId)==null?void 0:re.topic]}),m("div",{className:"detail-row",children:[l("strong",{children:"Submitted:"})," ",ke(S.submittedAt)]}),m("div",{className:"detail-row",children:[l("strong",{children:"Current Status:"}),l("span",{className:ue(S.status),children:S.status})]}),m("div",{className:"detail-row full-width",children:[l("strong",{children:"Abstract:"}),l("p",{className:"abstract-text",children:S.abstract})]})]}),m("form",{onSubmit:K,children:[m("div",{className:"form-group",children:[l("label",{children:"Decision *"}),m("select",{className:"neu-input",value:T.action,onChange:oe=>z({...T,action:oe.target.value}),required:!0,children:[l("option",{value:"accepted",children:"Accept"}),l("option",{value:"rejected",children:"Reject"}),l("option",{value:"under-review",children:"Under Review"}),l("option",{value:"update-changes",children:"Update Changes"})]})]}),m("div",{className:"form-group",children:[l("label",{children:"Admin Remarks / Feedback"}),l("textarea",{className:"neu-input",rows:"4",placeholder:"Provide feedback to the author...",value:T.remarks,onChange:oe=>z({...T,remarks:oe.target.value})})]}),m("div",{className:"modal-actions",children:[l("button",{type:"button",className:"neu-btn neu-btn-secondary",onClick:()=>v(!1),children:"Cancel"}),(Ee=S.file)!=null&&Ee.url?l("a",{href:S.file.url,target:"_blank",rel:"noopener noreferrer",download:!0,className:"neu-btn neu-btn-secondary",title:`Download ${S.file.filename||"manuscript"}`,children:" Download File"}):l("button",{type:"button",className:"neu-btn neu-btn-disabled",disabled:!0,title:"No file uploaded",children:" No File"}),l("button",{type:"submit",className:"neu-btn neu-btn-primary",children:"Submit Review"})]})]})]})}),b&&R&&l("div",{className:"modal-overlay",onClick:()=>g(!1),children:m("div",{className:"modal-content neu-card modal-large",onClick:oe=>oe.stopPropagation(),children:[m("div",{className:"modal-header",children:[l("h2",{children:"Review Research Paper"}),l("button",{className:"modal-close",onClick:()=>g(!1),children:""})]}),m("div",{className:"manuscript-details",children:[m("div",{className:"detail-row",children:[l("strong",{children:"Title:"})," ",R.title]}),m("div",{className:"detail-row",children:[l("strong",{children:"Author:"})," ",((ne=R.author)==null?void 0:ne.name)||"N/A"]}),m("div",{className:"detail-row",children:[l("strong",{children:"Email:"})," ",((te=R.author)==null?void 0:te.email)||"N/A"]}),m("div",{className:"detail-row",children:[l("strong",{children:"Affiliation:"})," ",((ae=R.author)==null?void 0:ae.affiliation)||"N/A"]}),m("div",{className:"detail-row",children:[l("strong",{children:"Requirement:"})," ",((xe=R.requirementId)==null?void 0:xe.title)||"N/A"]}),m("div",{className:"detail-row",children:[l("strong",{children:"Topic:"})," ",((Ce=R.requirementId)==null?void 0:Ce.topic)||"N/A"]}),m("div",{className:"detail-row",children:[l("strong",{children:"Submitted:"})," ",ke(R.submittedAt||R.createdAt)]}),m("div",{className:"detail-row",children:[l("strong",{children:"Current Status:"}),l("span",{className:ue(R.status||"pending"),children:R.status||"pending"})]}),m("div",{className:"detail-row full-width",children:[l("strong",{children:"Abstract:"}),l("p",{className:"abstract-text",children:R.abstract||"No abstract available"})]})]}),m("form",{onSubmit:be,children:[m("div",{className:"form-group",children:[l("label",{children:"Decision *"}),m("select",{className:"neu-input",value:T.action,onChange:oe=>z({...T,action:oe.target.value}),required:!0,children:[l("option",{value:"pending",children:"Pending"}),l("option",{value:"accepted",children:"Accept"}),l("option",{value:"rejected",children:"Reject"}),l("option",{value:"under-review",children:"Under Review"}),l("option",{value:"update-changes",children:"Update Changes"})]})]}),m("div",{className:"form-group",children:[l("label",{children:"Admin Remarks / Feedback"}),l("textarea",{className:"neu-input",rows:"4",placeholder:"Provide feedback to the author...",value:T.remarks,onChange:oe=>z({...T,remarks:oe.target.value})})]}),m("div",{className:"modal-actions",children:[l("button",{type:"button",className:"neu-btn neu-btn-secondary",onClick:()=>g(!1),children:"Cancel"}),(_e=R.file)!=null&&_e.url?l("a",{href:R.file.url,target:"_blank",rel:"noopener noreferrer",download:!0,className:"neu-btn neu-btn-secondary",title:`Download ${R.file.filename||"research paper"}`,children:" Download File"}):l("button",{type:"button",className:"neu-btn neu-btn-disabled",disabled:!0,title:"No file uploaded",children:" No File"}),l("button",{type:"submit",className:"neu-btn neu-btn-primary",children:"Submit Review"})]})]})]})})]})},xOe=()=>{const[t,e]=Z.useState("connections"),[n,i]=Z.useState([]),[r,a]=Z.useState([]),[s,o]=Z.useState(!0),[c,u]=Z.useState(1),[d,h]=Z.useState(1);Z.useEffect(()=>{t==="connections"?f():p()},[t,c]);const f=async()=>{o(!0);try{const g=await(void 0)({page:c,limit:20});i(g.data.connections),h(g.data.pagination.pages)}catch(g){He.error("Failed to load connections"),console.error(g)}finally{o(!1)}},p=async()=>{o(!0);try{const g=await(void 0)({page:c,limit:20});a(g.data.groups),h(g.data.pagination.pages)}catch(g){He.error("Failed to load groups"),console.error(g)}finally{o(!1)}},w=async g=>{if(window.confirm("Are you sure you want to delete this group?"))try{await(void 0)(g),He.success("Group deleted successfully"),p()}catch{He.error("Failed to delete group")}},b=(()=>t==="connections"?{total:n.length,active:n.filter(g=>g.status==="accepted").length,pending:n.filter(g=>g.status==="pending").length}:{total:r.length,active:r.filter(g=>g.isActive).length,members:r.reduce((g,y)=>g+(y.membersCount||0),0)})();return m("div",{style:{padding:"24px"},children:[m("div",{style:{background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",borderRadius:"20px",padding:"32px",marginBottom:"24px",color:"white",boxShadow:"0 10px 40px rgba(245, 158, 11, 0.3)"},children:[m("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"16px"},children:[l("div",{style:{width:"56px",height:"56px",borderRadius:"16px",background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)",display:"flex",alignItems:"center",justifyContent:"center"},children:l(g7,{size:28})}),m("div",{children:[l("h2",{style:{fontSize:"28px",fontWeight:"700",margin:"0 0 8px 0"},children:"Networking Arena Management"}),l("p",{style:{margin:0,opacity:.9,fontSize:"15px"},children:"Manage connections and professional groups"})]})]}),m("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(160px, 1fr))",gap:"16px",marginTop:"24px"},children:[m("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[m("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:["Total ",t==="connections"?"Connections":"Groups"]}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:b.total})]}),m("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:t==="connections"?"Active":"Active Groups"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:b.active})]}),m("div",{style:{background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(10px)",borderRadius:"12px",padding:"16px",border:"1px solid rgba(255, 255, 255, 0.2)"},children:[l("div",{style:{fontSize:"13px",opacity:.9,marginBottom:"4px"},children:t==="connections"?"Pending":"Total Members"}),l("div",{style:{fontSize:"32px",fontWeight:"700"},children:t==="connections"?b.pending:b.members})]})]})]}),m("div",{style:{background:"white",borderRadius:"16px",padding:"8px",marginBottom:"24px",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",display:"flex",gap:"8px"},children:[m("button",{onClick:()=>{e("connections"),u(1)},style:{flex:1,padding:"12px 20px",borderRadius:"12px",border:"none",background:t==="connections"?"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)":"transparent",color:t==="connections"?"white":"#64748b",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[l(CQ,{size:18}),"Connections"]}),m("button",{onClick:()=>{e("groups"),u(1)},style:{flex:1,padding:"12px 20px",borderRadius:"12px",border:"none",background:t==="groups"?"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)":"transparent",color:t==="groups"?"white":"#64748b",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[l(Zt,{size:18}),"Groups"]})]}),s?l("div",{className:"loading-spinner",children:l("div",{className:"spinner"})}):l(vt,{children:t==="connections"?n.length===0?l("div",{style:{textAlign:"center",padding:"40px",color:"var(--neu-text-muted)"},children:"No connections found"}):l("div",{className:"neu-table-wrapper",children:m("table",{className:"neu-table",children:[l("thead",{children:m("tr",{children:[l("th",{children:"Requester"}),l("th",{children:"Recipient"}),l("th",{children:"Type"}),l("th",{children:"Status"}),l("th",{children:"Date"})]})}),l("tbody",{children:n.map(g=>{var y,_,S,N,R,D,E,C;return m("tr",{children:[m("td",{children:[((_=(y=g.requester)==null?void 0:y.profile)==null?void 0:_.firstName)||"Unknown"," ",((N=(S=g.requester)==null?void 0:S.profile)==null?void 0:N.lastName)||""]}),m("td",{children:[((D=(R=g.recipient)==null?void 0:R.profile)==null?void 0:D.firstName)||"Unknown"," ",((C=(E=g.recipient)==null?void 0:E.profile)==null?void 0:C.lastName)||""]}),l("td",{children:l("span",{className:"neu-badge",children:g.type})}),l("td",{children:l("span",{className:`neu-badge ${g.status==="accepted"?"success":g.status==="pending"?"warning":g.status==="rejected"?"danger":"info"}`,children:g.status})}),l("td",{children:new Date(g.createdAt).toLocaleDateString()})]},g._id)})})]})}):r.length===0?l("div",{style:{textAlign:"center",padding:"40px",color:"var(--neu-text-muted)"},children:"No groups found"}):l("div",{className:"neu-table-wrapper",children:m("table",{className:"neu-table",children:[l("thead",{children:m("tr",{children:[l("th",{children:"Group Name"}),l("th",{children:"Creator"}),l("th",{children:"Members"}),l("th",{children:"Created"}),l("th",{children:"Actions"})]})}),l("tbody",{children:r.map(g=>{var y,_,S;return m("tr",{children:[m("td",{children:[l("div",{style:{fontWeight:"600"},children:g.name||"Untitled Group"}),m("div",{style:{fontSize:"12px",color:"var(--neu-text-muted)"},children:[(y=g.description)==null?void 0:y.slice(0,50),"..."]})]}),l("td",{children:((S=(_=g.creator)==null?void 0:_.profile)==null?void 0:S.firstName)||"Unknown"}),l("td",{children:g.membersCount||0}),l("td",{children:new Date(g.createdAt).toLocaleDateString()}),l("td",{children:l("div",{className:"action-buttons",children:l("button",{className:"neu-btn-danger action-btn",onClick:()=>w(g._id),title:"Delete",children:""})})})]},g._id)})})]})})}),d>1&&m("div",{className:"pagination",children:[l("button",{className:"neu-btn pagination-btn",onClick:()=>u(g=>Math.max(1,g-1)),disabled:c===1,children:""}),[...Array(Math.min(5,d))].map((g,y)=>l("button",{className:`neu-btn pagination-btn ${c===y+1?"active":""}`,onClick:()=>u(y+1),children:y+1},y)),l("button",{className:"neu-btn pagination-btn",onClick:()=>u(g=>Math.min(d,g+1)),disabled:c===d,children:""})]})]})},_Oe=()=>{const[t,e]=Z.useState(null),[n,i]=Z.useState("7d"),[r,a]=Z.useState(!0);Z.useEffect(()=>{s()},[n]);const s=async()=>{a(!0);try{const o=await(void 0)(n);e(o.data.analytics)}catch(o){He.error("Failed to load analytics"),console.error(o)}finally{a(!1)}};return m("div",{style:{padding:"24px"},children:[l("div",{style:{background:"linear-gradient(135deg, #f59e0b 0%, #d97706 100%)",borderRadius:"20px",padding:"32px",marginBottom:"24px",color:"white",boxShadow:"0 10px 40px rgba(245, 158, 11, 0.3)"},children:m("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:"16px"},children:[m("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[l("div",{style:{width:"56px",height:"56px",borderRadius:"16px",background:"rgba(255, 255, 255, 0.2)",backdropFilter:"blur(10px)",display:"flex",alignItems:"center",justifyContent:"center"},children:l(cs,{size:28})}),m("div",{children:[l("h2",{style:{fontSize:"28px",fontWeight:"700",margin:"0 0 8px 0"},children:"Analytics Dashboard"}),l("p",{style:{margin:0,opacity:.9,fontSize:"15px"},children:"Platform insights and statistics"})]})]}),m("div",{style:{display:"flex",gap:"8px",background:"rgba(255,255,255,0.2)",borderRadius:"12px",padding:"4px"},children:[l("button",{onClick:()=>i("24h"),style:{padding:"8px 16px",borderRadius:"8px",border:"none",background:n==="24h"?"white":"transparent",color:n==="24h"?"#f59e0b":"white",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},children:"24h"}),l("button",{onClick:()=>i("7d"),style:{padding:"8px 16px",borderRadius:"8px",border:"none",background:n==="7d"?"white":"transparent",color:n==="7d"?"#f59e0b":"white",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},children:"7d"}),l("button",{onClick:()=>i("30d"),style:{padding:"8px 16px",borderRadius:"8px",border:"none",background:n==="30d"?"white":"transparent",color:n==="30d"?"#f59e0b":"white",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},children:"30d"}),l("button",{onClick:()=>i("90d"),style:{padding:"8px 16px",borderRadius:"8px",border:"none",background:n==="90d"?"white":"transparent",color:n==="90d"?"#f59e0b":"white",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s"},children:"90d"})]})]})}),r?l("div",{className:"loading-spinner",children:l("div",{className:"spinner"})}):m(vt,{children:[(t==null?void 0:t.userGrowth)&&t.userGrowth.length>0&&m("div",{style:{marginTop:"30px"},children:[l("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px"},children:" User Growth"}),l("div",{className:"neu-card-pressed",style:{padding:"20px"},children:l("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:t.userGrowth.map((o,c)=>m("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[l("div",{style:{width:"100px",fontSize:"13px",color:"var(--neu-text-muted)"},children:o._id}),l("div",{style:{flex:1},children:l("div",{style:{height:"24px",background:"linear-gradient(90deg, var(--neu-primary), var(--neu-secondary))",borderRadius:"12px",width:`${o.count/Math.max(...t.userGrowth.map(u=>u.count))*100}%`,minWidth:"20px",display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px",color:"white",fontSize:"12px",fontWeight:"600"},children:o.count})})]},c))})})]}),(t==null?void 0:t.jobApplications)&&t.jobApplications.length>0&&m("div",{style:{marginTop:"30px"},children:[l("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px"},children:" Job Applications"}),l("div",{className:"neu-card-pressed",style:{padding:"20px"},children:l("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:t.jobApplications.map((o,c)=>m("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[l("div",{style:{width:"100px",fontSize:"13px",color:"var(--neu-text-muted)"},children:o._id}),l("div",{style:{flex:1},children:l("div",{style:{height:"24px",background:"linear-gradient(90deg, #4CAF50, #8BC34A)",borderRadius:"12px",width:`${o.count/Math.max(...t.jobApplications.map(u=>u.count))*100}%`,minWidth:"20px",display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px",color:"white",fontSize:"12px",fontWeight:"600"},children:o.count})})]},c))})})]}),(t==null?void 0:t.popularCategories)&&t.popularCategories.length>0&&m("div",{style:{marginTop:"30px"},children:[l("h3",{style:{fontSize:"18px",fontWeight:"600",marginBottom:"16px"},children:" Popular Job Categories"}),l("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},children:t.popularCategories.map((o,c)=>m("div",{className:"neu-card",style:{padding:"20px",textAlign:"center"},children:[l("div",{style:{fontSize:"28px",fontWeight:"700",color:"var(--neu-primary)"},children:o.count}),l("div",{style:{fontSize:"14px",color:"var(--neu-text-muted)",marginTop:"8px"},children:o._id})]},c))})]}),(!(t!=null&&t.userGrowth)||t.userGrowth.length===0)&&(!(t!=null&&t.jobApplications)||t.jobApplications.length===0)&&(!(t!=null&&t.popularCategories)||t.popularCategories.length===0)&&m("div",{style:{textAlign:"center",padding:"60px",color:"var(--neu-text-muted)"},children:[l("div",{style:{fontSize:"48px",marginBottom:"16px"},children:""}),l("div",{style:{fontSize:"18px",fontWeight:"600"},children:"No analytics data available"}),l("div",{style:{fontSize:"14px",marginTop:"8px"},children:"Data will appear once there's activity on the platform"})]})]})]})},SOe=()=>{var E,C,P,k,A,I,T,z,j,W;const[t,e]=Z.useState([]),[n,i]=Z.useState(!0),[r,a]=Z.useState("all"),[s,o]=Z.useState({pending:0,approved:0,rejected:0}),[c,u]=Z.useState(null),[d,h]=Z.useState(!1);Z.useEffect(()=>{f()},[]);const f=async()=>{var $,q,G,B,L,M,K,Q,V,le,ge,ye,be;try{i(!0);const Le=localStorage.getItem("adminToken")||localStorage.getItem("authToken"),ue={}.VITE_API_URL||"http://localhost:3000",X=await(await fetch(`${ue}/api/admin/role-requests`,{headers:{Authorization:`Bearer ${Le}`,"Content-Type":"application/json"}})).json();console.log(" Role requests fetched:",X),console.log(" First request full data:",(q=($=X.data)==null?void 0:$.requests)==null?void 0:q[0]),console.log(" First request userId:",(L=(B=(G=X.data)==null?void 0:G.requests)==null?void 0:B[0])==null?void 0:L.userId),console.log(" User email:",(V=(Q=(K=(M=X.data)==null?void 0:M.requests)==null?void 0:K[0])==null?void 0:Q.userId)==null?void 0:V.email),console.log(" User profile:",(be=(ye=(ge=(le=X.data)==null?void 0:le.requests)==null?void 0:ge[0])==null?void 0:ye.userId)==null?void 0:be.profile),X.success?(e(X.data.requests),o(X.data.stats)):He.error(X.message||"Failed to fetch role requests")}catch(Le){console.error("Error fetching role requests:",Le),He.error("Failed to load role requests")}finally{i(!1)}},p=async($,q,G="")=>{try{const B=localStorage.getItem("adminToken")||localStorage.getItem("authToken"),L={}.VITE_API_URL||"http://localhost:3000",K=await(await fetch(`${L}/api/admin/role-requests/${$}`,{method:"PATCH",headers:{Authorization:`Bearer ${B}`,"Content-Type":"application/json"},body:JSON.stringify({status:q,adminNotes:G})})).json();K.success?(He.success(`Request ${q} successfully!`),f()):He.error(K.message||`Failed to ${q} request`)}catch(B){console.error("Error reviewing request:",B),He.error("Failed to process request")}},w=async $=>{var G,B,L,M;if(console.log(" Delete button clicked for request:",{id:$._id,status:$.status,requestedRole:$.requestedRole,userEmail:(G=$.userId)==null?void 0:G.email,userCurrentRole:(B=$.userId)==null?void 0:B.role}),$.status==="approved"&&((L=$.userId)==null?void 0:L.role)===$.requestedRole){He.error(`Cannot delete this request. The user still has the ${$.requestedRole} role active. Please revoke the role first before deleting the request.`,{duration:6e3});return}if(!window.confirm(`Are you sure you want to delete this role request from ${((M=$.userId)==null?void 0:M.email)||"this user"}?

This action cannot be undone.`)){console.log(" Delete cancelled by user");return}try{console.log(" Proceeding with deletion for request:",$._id);const K=localStorage.getItem("adminToken")||localStorage.getItem("authToken"),V=`${{}.VITE_API_URL||"http://localhost:3000"}/api/admin/role-requests/${$._id}`;console.log("DELETE URL:",V),console.log("Auth token:",K?"Present":"Missing");const le=await fetch(V,{method:"DELETE",headers:{Authorization:`Bearer ${K}`,"Content-Type":"application/json"}});console.log("Response status:",le.status);const ge=await le.json();console.log("Response data:",ge),ge.success?(He.success("Role request deleted successfully!"),f()):(console.error("Delete failed:",ge),He.error(ge.message||"Failed to delete request"))}catch(K){console.error("Error deleting request:",K),He.error("Failed to delete request: "+K.message)}},v=$=>({editor:"bg-purple-500",instructor:"bg-teal-500",recruiter:"bg-blue-500"})[$]||"bg-gray-500",b=$=>({pending:"bg-yellow-500",approved:"bg-green-500",rejected:"bg-red-500"})[$]||"bg-gray-500",g=$=>({editor:"Editor",chiefeditor:"Chief Editor",instructor:"Instructor",recruiter:"Recruiter"})[$]||$,y=$=>{console.log(" Viewing request details:",$),console.log(" Reason field:",$.reason),u($),h(!0)},_=()=>{h(!1),u(null)},S=async()=>{c&&(await p(c._id,"approved"),_())},N=async()=>{c&&(await p(c._id,"rejected"),_())},R=async $=>{var q,G,B;if(console.log(" Attempting to revoke role for request:",$),console.log("User ID:",(q=$.userId)==null?void 0:q._id),console.log("Requested Role:",$.requestedRole),!((G=$.userId)!=null&&G._id)){He.error("User information is missing. Cannot revoke role.");return}if(window.confirm(`Are you sure you want to revoke ${g($.requestedRole)} role from ${((B=$.userId)==null?void 0:B.name)||"this user"}?`))try{const L=localStorage.getItem("adminToken");if(!L){He.error("Admin authentication required. Please login again.");return}const K=`${{}.VITE_API_URL||"http://localhost:3000"}/api/admin/users/${$.userId._id}/revoke-role`;console.log(" Request URL:",K),console.log(" Request body:",{roleToRevoke:$.requestedRole});const Q=await fetch(K,{method:"PATCH",headers:{Authorization:`Bearer ${L}`,"Content-Type":"application/json"},body:JSON.stringify({roleToRevoke:$.requestedRole})});console.log(" Response status:",Q.status);const V=await Q.json();console.log(" Response data:",V),V.success?(He.success(`${g($.requestedRole)} role revoked successfully!`),f()):He.error(V.message||"Failed to revoke role")}catch(L){console.error(" Error revoking role:",L),He.error("Failed to revoke role: "+L.message)}},D=t.filter($=>r==="all"?!0:$.status===r);return n?l("div",{className:"role-requests-container",children:m("div",{className:"loading-spinner",children:[l("div",{className:"spinner"}),l("p",{children:"Loading role requests..."})]})}):m("div",{className:"role-requests-container",children:[m("div",{className:"role-requests-header",children:[l("h2",{children:"Role Upgrade Requests"}),l("p",{children:"Review and manage user role upgrade requests"})]}),m("div",{className:"stats-grid",children:[m("div",{className:"stat-card neu-card",children:[l("div",{className:"stat-icon",style:{background:"#f59e0b"},children:""}),m("div",{className:"stat-details",children:[l("p",{className:"stat-label",children:"Pending"}),l("h3",{className:"stat-value",children:s.pending})]})]}),m("div",{className:"stat-card neu-card",children:[l("div",{className:"stat-icon",style:{background:"#10b981"},children:""}),m("div",{className:"stat-details",children:[l("p",{className:"stat-label",children:"Approved"}),l("h3",{className:"stat-value",children:s.approved})]})]}),m("div",{className:"stat-card neu-card",children:[l("div",{className:"stat-icon",style:{background:"#ef4444"},children:""}),m("div",{className:"stat-details",children:[l("p",{className:"stat-label",children:"Rejected"}),l("h3",{className:"stat-value",children:s.rejected})]})]})]}),m("div",{className:"filter-tabs neu-card",children:[m("button",{className:`filter-tab ${r==="all"?"active":""}`,onClick:()=>a("all"),children:["All (",t.length,")"]}),m("button",{className:`filter-tab ${r==="pending"?"active":""}`,onClick:()=>a("pending"),children:["Pending (",s.pending,")"]}),m("button",{className:`filter-tab ${r==="approved"?"active":""}`,onClick:()=>a("approved"),children:["Approved (",s.approved,")"]}),m("button",{className:`filter-tab ${r==="rejected"?"active":""}`,onClick:()=>a("rejected"),children:["Rejected (",s.rejected,")"]})]}),l("div",{className:"requests-table-container neu-card",children:D.length===0?l("div",{className:"empty-state",children:m("p",{children:["No ",r!=="all"?r:""," requests found"]})}):m("table",{className:"requests-table",children:[l("thead",{children:m("tr",{children:[l("th",{children:"User"}),l("th",{children:"Email"}),l("th",{children:"Requested Role"}),l("th",{children:"Reason"}),l("th",{children:"Status"}),l("th",{children:"Requested Date"}),l("th",{children:"Actions"})]})}),l("tbody",{children:D.map($=>{var q,G,B,L,M,K,Q,V,le,ge,ye,be,Le;return m("tr",{children:[l("td",{children:m("div",{className:"user-cell",children:[l("div",{className:"user-avatar",children:(G=(q=$.userId)==null?void 0:q.profile)!=null&&G.avatar?l("img",{src:$.userId.profile.avatar,alt:"User"}):((M=(L=(B=$.userId)==null?void 0:B.profile)==null?void 0:L.firstName)==null?void 0:M.charAt(0))||((Q=(K=$.userId)==null?void 0:K.email)==null?void 0:Q.charAt(0).toUpperCase())||"U"}),l("span",{children:(le=(V=$.userId)==null?void 0:V.profile)!=null&&le.firstName&&((ye=(ge=$.userId)==null?void 0:ge.profile)!=null&&ye.lastName)?`${$.userId.profile.firstName} ${$.userId.profile.lastName}`:((be=$.userId)==null?void 0:be.email)||"Unknown User"})]})}),l("td",{children:((Le=$.userId)==null?void 0:Le.email)||"N/A"}),l("td",{children:l("span",{className:`role-badge ${v($.requestedRole)}`,children:g($.requestedRole)})}),l("td",{children:l("div",{className:"reason-cell",title:$.reason||"No reason provided",children:$.reason?l("span",{className:"reason-text",children:$.reason.length>50?`${$.reason.substring(0,50)}...`:$.reason}):l("span",{className:"no-reason",children:"No reason provided"})})}),l("td",{children:l("span",{className:`status-badge ${b($.status)}`,children:$.status.toUpperCase()})}),l("td",{children:new Date($.createdAt).toLocaleDateString()}),m("td",{children:[m("div",{className:"action-buttons",children:[l("button",{className:"neu-btn-info",onClick:()=>y($),title:"View Full Details",children:" View Details"}),$.status==="pending"&&m(vt,{children:[l("button",{className:"neu-btn-success",onClick:()=>p($._id,"approved"),title:"Approve Request",children:" Approve"}),l("button",{className:"neu-btn-danger",onClick:()=>p($._id,"rejected"),title:"Reject Request",children:" Reject"})]}),$.status==="approved"&&l("button",{className:"neu-btn-warning",onClick:()=>R($),title:"Revoke Editor Role",children:" Revoke Role"}),l("button",{className:"neu-btn-danger",onClick:ue=>{ue.stopPropagation(),w($)},title:"Delete Request",children:" Delete"})]}),$.status!=="pending"&&m("span",{className:"reviewed-text",children:[$.status==="approved"?"Approved":"Rejected",$.reviewedAt&&` on ${new Date($.reviewedAt).toLocaleDateString()}`]})]})]},$._id)})})]})}),d&&c&&l("div",{className:"details-modal-overlay",onClick:_,children:m("div",{className:"details-modal-content",onClick:$=>$.stopPropagation(),children:[m("div",{className:"details-modal-header",children:[l("h2",{children:"Role Request Details"}),l("button",{className:"modal-close-btn",onClick:_,children:""})]}),m("div",{className:"details-modal-body",children:[m("div",{className:"detail-section",children:[l("h3",{children:"User Information"}),m("div",{className:"detail-row",children:[l("span",{className:"detail-label",children:"Name:"}),l("span",{className:"detail-value",children:(C=(E=c.userId)==null?void 0:E.profile)!=null&&C.firstName&&((k=(P=c.userId)==null?void 0:P.profile)!=null&&k.lastName)?`${c.userId.profile.firstName} ${c.userId.profile.lastName}`:((A=c.userId)==null?void 0:A.email)||"Unknown User"})]}),m("div",{className:"detail-row",children:[l("span",{className:"detail-label",children:"Email:"}),l("span",{className:"detail-value",children:((I=c.userId)==null?void 0:I.email)||"N/A"})]}),((z=(T=c.userId)==null?void 0:T.profile)==null?void 0:z.organization)&&m("div",{className:"detail-row",children:[l("span",{className:"detail-label",children:"Organization:"}),l("span",{className:"detail-value",children:c.userId.profile.organization})]}),((W=(j=c.userId)==null?void 0:j.profile)==null?void 0:W.position)&&m("div",{className:"detail-row",children:[l("span",{className:"detail-label",children:"Position:"}),l("span",{className:"detail-value",children:c.userId.profile.position})]})]}),m("div",{className:"detail-section",children:[l("h3",{children:"Request Information"}),m("div",{className:"detail-row",children:[l("span",{className:"detail-label",children:"Requested Role:"}),l("span",{className:`role-badge ${v(c.requestedRole)}`,children:g(c.requestedRole)})]}),m("div",{className:"detail-row",children:[l("span",{className:"detail-label",children:"Request Date:"}),l("span",{className:"detail-value",children:new Date(c.createdAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),m("div",{className:"detail-row",children:[l("span",{className:"detail-label",children:"Status:"}),l("span",{className:`status-badge ${b(c.status)}`,children:c.status.toUpperCase()})]})]}),m("div",{className:"detail-section",children:[l("h3",{children:"Why User Wants This Role"}),l("div",{className:"reason-box",children:c.reason&&c.reason.trim()?c.reason:l("div",{style:{color:"#9ca3af",fontStyle:"italic"},children:"No reason provided (This request was submitted before the reason field was required)"})})]}),c.status!=="pending"&&c.reviewedAt&&m("div",{className:"detail-section",children:[l("h3",{children:"Review Information"}),m("div",{className:"detail-row",children:[l("span",{className:"detail-label",children:"Reviewed On:"}),l("span",{className:"detail-value",children:new Date(c.reviewedAt).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),c.adminNotes&&m("div",{className:"detail-row",children:[l("span",{className:"detail-label",children:"Admin Notes:"}),l("span",{className:"detail-value",children:c.adminNotes})]})]})]}),l("div",{className:"details-modal-footer",children:c.status==="pending"?m(vt,{children:[l("button",{className:"modal-btn-reject",onClick:N,children:" Reject Request"}),l("button",{className:"modal-btn-approve",onClick:S,children:" Approve Request"})]}):c.status==="approved"?m(vt,{children:[l("button",{className:"modal-btn-close",onClick:_,children:"Close"}),l("button",{className:"modal-btn-revoke",onClick:()=>{R(c),_()},children:" Revoke Editor Role"})]}):l("button",{className:"modal-btn-close",onClick:_,children:"Close"})})]})}),l("style",{jsx:!0,children:`
        .role-requests-container {
          padding: 20px;
        }

        .role-requests-header {
          margin-bottom: 30px;
        }

        .role-requests-header h2 {
          font-size: 28px;
          font-weight: 700;
          color: #1e293b;
          margin-bottom: 8px;
        }

        .role-requests-header p {
          color: #64748b;
          font-size: 14px;
        }

        .stats-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
          gap: 20px;
          margin-bottom: 30px;
        }

        .stat-card {
          padding: 20px;
          display: flex;
          align-items: center;
          gap: 15px;
        }

        .stat-icon {
          width: 50px;
          height: 50px;
          border-radius: 12px;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 24px;
          color: white;
        }

        .stat-details {
          flex: 1;
        }

        .stat-label {
          font-size: 14px;
          color: #64748b;
          margin-bottom: 4px;
        }

        .stat-value {
          font-size: 28px;
          font-weight: 700;
          color: #1e293b;
        }

        .filter-tabs {
          display: flex;
          gap: 10px;
          padding: 15px;
          margin-bottom: 20px;
        }

        .filter-tab {
          padding: 10px 20px;
          border: none;
          background: transparent;
          border-radius: 8px;
          cursor: pointer;
          font-weight: 500;
          color: #64748b;
          transition: all 0.3s;
        }

        .filter-tab:hover {
          background: #f1f5f9;
          color: #1e293b;
        }

        .filter-tab.active {
          background: #8b5cf6;
          color: white;
        }

        .requests-table-container {
          padding: 0;
          overflow-x: auto;
        }

        .requests-table {
          width: 100%;
          border-collapse: collapse;
        }

        .requests-table th,
        .requests-table td {
          padding: 15px;
          text-align: left;
          border-bottom: 1px solid #e2e8f0;
        }

        .requests-table th {
          background: #f8fafc;
          font-weight: 600;
          color: #475569;
          font-size: 14px;
        }

        .user-cell {
          display: flex;
          align-items: center;
          gap: 10px;
        }

        .user-avatar {
          width: 40px;
          height: 40px;
          border-radius: 50%;
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          color: white;
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: 600;
          overflow: hidden;
        }

        .user-avatar img {
          width: 100%;
          height: 100%;
          object-fit: cover;
        }

        .role-badge,
        .status-badge {
          padding: 6px 12px;
          border-radius: 20px;
          font-size: 12px;
          font-weight: 600;
          color: white;
          display: inline-block;
        }

        .bg-purple-500 { background: #8b5cf6; }
        .bg-teal-500 { background: #14b8a6; }
        .bg-blue-500 { background: #3b82f6; }
        .bg-yellow-500 { background: #f59e0b; }
        .bg-green-500 { background: #10b981; }
        .bg-red-500 { background: #ef4444; }
        .bg-gray-500 { background: #6b7280; }

        .action-buttons {
          display: flex;
          gap: 10px;
          flex-wrap: wrap;
          align-items: center;
        }

        .neu-btn-success,
        .neu-btn-danger,
        .neu-btn-info,
        .neu-btn-warning {
          padding: 8px 16px;
          border: none;
          border-radius: 8px;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.3s;
          font-size: 13px;
          white-space: nowrap;
          position: relative;
          z-index: 1;
        }

        .neu-btn-success {
          background: #10b981;
          color: white;
        }

        .neu-btn-success:hover {
          background: #059669;
          transform: translateY(-2px);
        }

        .neu-btn-danger {
          background: #ef4444;
          color: white;
        }

        .neu-btn-danger:hover {
          background: #dc2626;
          transform: translateY(-2px);
        }

        .neu-btn-info {
          padding: 8px 16px;
          border: none;
          border-radius: 8px;
          cursor: pointer;
          font-size: 13px;
          font-weight: 600;
          transition: all 0.2s;
          background: #3b82f6;
          color: white;
        }

        .neu-btn-info:hover {
          background: #2563eb;
          transform: translateY(-2px);
        }

        .neu-btn-warning {
          padding: 8px 16px;
          border: none;
          border-radius: 8px;
          cursor: pointer;
          font-size: 13px;
          font-weight: 600;
          transition: all 0.2s;
          background: #f59e0b;
          color: white;
        }

        .neu-btn-warning:hover {
          background: #d97706;
          transform: translateY(-2px);
        }

        .reviewed-text {
          color: #64748b;
          font-size: 13px;
        }

        .empty-state {
          padding: 60px 20px;
          text-align: center;
          color: #94a3b8;
        }

        .loading-spinner {
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          padding: 60px;
          gap: 20px;
        }

        .spinner {
          width: 50px;
          height: 50px;
          border: 4px solid #e2e8f0;
          border-top-color: #8b5cf6;
          border-radius: 50%;
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          to { transform: rotate(360deg); }
        }

        .reason-cell {
          max-width: 250px;
        }

        .reason-text {
          display: block;
          color: #475569;
          font-size: 13px;
          line-height: 1.5;
          overflow: hidden;
          text-overflow: ellipsis;
          white-space: nowrap;
          cursor: help;
        }

        .no-reason {
          color: #94a3b8;
          font-style: italic;
          font-size: 13px;
        }

        /* Details Modal Styles */
        .details-modal-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.7);
          backdrop-filter: blur(8px);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 9999;
          padding: 20px;
          animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
          from {
            opacity: 0;
          }
          to {
            opacity: 1;
          }
        }

        .details-modal-content {
          background: white;
          border-radius: 16px;
          max-width: 700px;
          width: 100%;
          max-height: 90vh;
          overflow-y: auto;
          box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
          animation: slideUp 0.4s cubic-bezier(0.16, 1, 0.3, 1);
        }

        @keyframes slideUp {
          from {
            opacity: 0;
            transform: translateY(30px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        .details-modal-header {
          padding: 24px 30px;
          border-bottom: 1px solid #e5e7eb;
          display: flex;
          justify-content: space-between;
          align-items: center;
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          color: white;
          border-radius: 16px 16px 0 0;
        }

        .details-modal-header h2 {
          margin: 0;
          font-size: 22px;
          font-weight: 700;
        }

        .modal-close-btn {
          background: rgba(255, 255, 255, 0.2);
          border: none;
          color: white;
          font-size: 28px;
          width: 36px;
          height: 36px;
          border-radius: 8px;
          cursor: pointer;
          display: flex;
          align-items: center;
          justify-content: center;
          transition: all 0.2s;
        }

        .modal-close-btn:hover {
          background: rgba(255, 255, 255, 0.3);
          transform: rotate(90deg);
        }

        .details-modal-body {
          padding: 30px;
        }

        .detail-section {
          margin-bottom: 28px;
        }

        .detail-section:last-child {
          margin-bottom: 0;
        }

        .detail-section h3 {
          font-size: 16px;
          font-weight: 700;
          color: #1f2937;
          margin-bottom: 16px;
          padding-bottom: 8px;
          border-bottom: 2px solid #e5e7eb;
        }

        .detail-row {
          display: flex;
          align-items: center;
          padding: 12px 0;
          border-bottom: 1px solid #f3f4f6;
        }

        .detail-row:last-child {
          border-bottom: none;
        }

        .detail-label {
          font-weight: 600;
          color: #6b7280;
          min-width: 150px;
          font-size: 14px;
        }

        .detail-value {
          color: #1f2937;
          font-size: 14px;
          flex: 1;
        }

        .reason-box {
          background: #f9fafb;
          border: 1px solid #e5e7eb;
          border-radius: 12px;
          padding: 20px;
          color: #374151;
          font-size: 14px;
          line-height: 1.7;
          white-space: pre-wrap;
          word-wrap: break-word;
          min-height: 100px;
        }

        .details-modal-footer {
          padding: 20px 30px;
          border-top: 1px solid #e5e7eb;
          display: flex;
          gap: 12px;
          justify-content: flex-end;
          background: #f9fafb;
          border-radius: 0 0 16px 16px;
        }

        .modal-btn-approve,
        .modal-btn-reject,
        .modal-btn-close {
          padding: 12px 24px;
          border: none;
          border-radius: 8px;
          font-size: 14px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.2s;
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .modal-btn-approve {
          background: #10b981;
          color: white;
        }

        .modal-btn-approve:hover {
          background: #059669;
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
        }

        .modal-btn-reject {
          background: #ef4444;
          color: white;
        }

        .modal-btn-reject:hover {
          background: #dc2626;
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(239, 68, 68, 0.4);
        }

        .modal-btn-close {
          background: #6b7280;
          color: white;
        }

        .modal-btn-close:hover {
          background: #4b5563;
          transform: translateY(-2px);
        }

        .modal-btn-revoke {
          padding: 12px 24px;
          border: none;
          border-radius: 8px;
          font-size: 14px;
          font-weight: 600;
          cursor: pointer;
          transition: all 0.2s;
          display: flex;
          align-items: center;
          gap: 8px;
          background: #f59e0b;
          color: white;
        }

        .modal-btn-revoke:hover {
          background: #d97706;
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(245, 158, 11, 0.4);
        }

        @media (max-width: 768px) {
          .details-modal-content {
            max-width: 95%;
            margin: 10px;
          }

          .details-modal-header,
          .details-modal-body,
          .details-modal-footer {
            padding: 20px;
          }

          .detail-row {
            flex-direction: column;
            align-items: flex-start;
            gap: 8px;
          }

          .detail-label {
            min-width: auto;
          }

          .details-modal-footer {
            flex-direction: column;
          }

          .modal-btn-approve,
          .modal-btn-reject,
          .modal-btn-close {
            width: 100%;
            justify-content: center;
          }
        }
      `})]})},fX=()=>{var w;const t=Gi(),[e,n]=Z.useState("dashboard"),[i,r]=Z.useState(!0),[a,s]=Z.useState(null),[o,c]=Z.useState(null);Z.useEffect(()=>{u()},[]),Z.useEffect(()=>{a&&d()},[a]);const u=async()=>{const v=localStorage.getItem("adminToken"),b=localStorage.getItem("isAdminSession")==="true";if(!v){console.log("No token found, redirecting to admin login"),t("/admin/login");return}if(!b&&!localStorage.getItem("adminToken")){console.log("Not an admin session, redirecting to admin login"),t("/admin/login");return}try{const g=await fetch("https://planninginsight-backend.vercel.app/auth/me",{headers:{Authorization:`Bearer ${v}`}});if(!g.ok){console.log("Auth check failed, clearing tokens"),localStorage.removeItem("authToken"),localStorage.removeItem("adminToken"),localStorage.removeItem("isAdminSession"),t("/admin/login");return}const y=await g.json();console.log("User data:",y),y.role==="admin"?s(y):(He.error("Access denied: Admin privileges required"),localStorage.removeItem("authToken"),localStorage.removeItem("adminToken"),localStorage.removeItem("isAdminSession"),t("/admin/login"))}catch(g){console.error("Auth check failed:",g),He.error("Authentication failed"),localStorage.removeItem("authToken"),localStorage.removeItem("adminToken"),localStorage.removeItem("isAdminSession"),t("/admin/login")}finally{r(!1)}},d=async()=>{try{const v=await(void 0)();c(v.data.stats)}catch(v){console.error("Failed to load stats:",v),He.error("Failed to load dashboard statistics")}},h=()=>{localStorage.removeItem("authToken"),localStorage.removeItem("adminToken"),localStorage.removeItem("isAdminSession"),He.success("Logged out successfully"),t("/login")},f=[{id:"dashboard",label:"Dashboard",icon:""},{id:"users",label:"User Management",icon:""},{id:"role-requests",label:"Role Upgrade Requests",icon:""},{id:"jobs",label:"Job Portal",icon:""},{id:"learning",label:"Learning Center",icon:""},{id:"newsroom",label:"Newsroom",icon:""},{id:"forum",label:"Discussion Forum",icon:""},{id:"publishing",label:"Publishing House",icon:""},{id:"networking",label:"Networking Arena",icon:""},{id:"analytics",label:"Analytics",icon:""}],p=()=>{switch(e){case"dashboard":return l(hX,{stats:o,onNavigate:n});case"users":return l(mOe,{});case"role-requests":return l(SOe,{});case"jobs":return l(gOe,{});case"learning":return l(yOe,{});case"newsroom":return l(vOe,{});case"forum":return l(bOe,{});case"publishing":return l(wOe,{});case"networking":return l(xOe,{});case"analytics":return l(_Oe,{});default:return l(hX,{stats:o,onNavigate:n})}};return i?l("div",{className:"admin-dashboard",children:l("div",{className:"loading-spinner",children:l("div",{className:"spinner"})})}):l("div",{className:"admin-dashboard",children:m("div",{className:"admin-container",children:[m("div",{className:"neu-card admin-header",children:[m("div",{className:"admin-header-left",children:[l("h1",{children:" Admin Control Panel"}),m("p",{className:"admin-header-subtitle",children:["Welcome back, ",((w=a==null?void 0:a.profile)==null?void 0:w.firstName)||(a==null?void 0:a.email)]})]}),m("div",{className:"admin-header-actions",children:[l("button",{className:"neu-btn",onClick:()=>window.location.href="/",children:" Home"}),l("button",{className:"neu-btn-danger neu-btn",onClick:h,children:" Logout"})]})]}),m("div",{className:"admin-layout",children:[l("aside",{className:"admin-sidebar",children:l("nav",{className:"neu-card",children:l("ul",{className:"admin-nav",children:f.map(v=>l("li",{className:"admin-nav-item",children:m("a",{href:"#",className:`admin-nav-link ${e===v.id?"active":""}`,onClick:b=>{b.preventDefault(),n(v.id)},children:[l("span",{className:"admin-nav-icon",children:v.icon}),l("span",{children:v.label})]})},v.id))})})}),l("main",{className:"admin-main",children:p()})]})]})})};function AOe({children:t}){const n=Wm().pathname.startsWith("/admin");return m("div",{className:"app",children:[!n&&l(txe,{}),l("main",{className:"main-content",children:t}),!n&&l(Pxe,{})]})}function NOe(){return l(Yue,{children:l(ove,{children:l(ave,{children:l(rve,{children:m(cve,{children:[l(AOe,{children:m(Wue,{children:[l(In,{path:"/",element:l(Ixe,{})}),l(In,{path:"/about",element:l(Rxe,{})}),l(In,{path:"/login",element:l(Fxe,{})}),l(In,{path:"/signup",element:l(Bxe,{})}),l(In,{path:"/auth/forgot-password",element:l($xe,{})}),l(In,{path:"/admin/login",element:l(Oxe,{})}),l(In,{path:"/admin",element:l(IW,{children:l(fX,{})})}),l(In,{path:"/admin/dashboard",element:l(IW,{children:l(fX,{})})}),l(In,{path:"/dashboard",element:l($5e,{})}),l(In,{path:"/profile",element:l(W5e,{})}),l(In,{path:"/my-articles",element:l(qxe,{})}),l(In,{path:"/editor/dashboard",element:l(q5e,{})}),l(In,{path:"/jobs",element:l(H5e,{})}),l(In,{path:"/jobs/:id",element:l(J5e,{})}),l(In,{path:"/learning",element:l(l_e,{})}),l(In,{path:"/learning/enroll",element:l(d_e,{})}),l(In,{path:"/learning/courses/:id",element:l(c_e,{})}),l(In,{path:"/publishing",element:l(eFe,{})}),l(In,{path:"/publishing/submit",element:l(tFe,{})}),l(In,{path:"/news",element:l(nFe,{})}),l(In,{path:"/news/submit",element:l(lX,{})}),l(In,{path:"/news/edit/:articleId",element:l(lX,{})}),l(In,{path:"/news/articles/:articleId",element:l(cX,{})}),l(In,{path:"/news/:articleId",element:l(cX,{})}),l(In,{path:"/collaborate-event",element:l(iFe,{})}),l(In,{path:"/forum",element:l(mFe,{})}),l(In,{path:"/forum/create",element:l(gFe,{})}),l(In,{path:"/forum/:forumId",element:l(yFe,{})}),l(In,{path:"/networking-arena",element:l(pOe,{})}),l(In,{path:"*",element:l(OY,{to:"/",replace:!0})})]})}),l(jde,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#10b981",secondary:"#fff"}},error:{duration:4e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})})})})})}const kOe=GR.createRoot(document.getElementById("root"));kOe.render(l(LO.StrictMode,{children:l(NOe,{})}));export{Vn as _,zt as c,TO as g};
